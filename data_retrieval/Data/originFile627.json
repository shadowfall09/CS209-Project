{"items":[{"tags":["java","xml","plist"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1268696387,"post_id":2451170,"comment_id":2438859,"body_markdown":"The nodes should be parsed just fine, but you might get multiple events representing &quot;Boom &quot;, &quot;&amp;amp;&quot; and &quot; Shroom&quot;, depending on the implementation. You need to be able to handle that.","body":"The nodes should be parsed just fine, but you might get multiple events representing &quot;Boom &quot;, &quot;&amp;amp;&quot; and &quot; Shroom&quot;, depending on the implementation. You need to be able to handle that."},{"owner":{"account_id":596122,"reputation":2559,"user_id":294374,"accept_rate":80,"display_name":"Jay"},"score":0,"creation_date":1268697544,"post_id":2451170,"comment_id":2438949,"body_markdown":"Thanks for the comment. Indeed i get multiple events, but i just want to get one event representing the complete String.","body":"Thanks for the comment. Indeed i get multiple events, but i just want to get one event representing the complete String."}],"answers":[{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1270208459,"creation_date":1270208459,"answer_id":2566424,"question_id":2451170,"body_markdown":"There is a predefined method `getElementText()`, which is buggy in jdk1.6.0_15, but works ok with jdk1.6.0_19. A complete program to easily parse the plist file is this:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import javax.xml.stream.XMLEventReader;\r\n    import javax.xml.stream.XMLInputFactory;\r\n    import javax.xml.stream.XMLStreamException;\r\n    import javax.xml.stream.events.XMLEvent;\r\n    \r\n    public class Parser {\r\n    \r\n        public static void main(String[] args) throws XMLStreamException, IOException {\r\n            InputStream in = new FileInputStream(&quot;foo.xml&quot;);\r\n            XMLInputFactory factory = XMLInputFactory.newInstance();\r\n            XMLEventReader parser = factory.createXMLEventReader(in);\r\n    \r\n            assert parser.nextEvent().isStartDocument();\r\n    \r\n            XMLEvent event = parser.nextTag();\r\n            assert event.isStartElement();\r\n            final String name1 = event.asStartElement().getName().getLocalPart();\r\n    \r\n            if (name1.equals(&quot;dict&quot;)) {\r\n                while ((event = parser.nextTag()).isStartElement()) {\r\n                    final String name2 = event.asStartElement().getName().getLocalPart();\r\n    \r\n                    if (name2.equals(&quot;key&quot;)) {\r\n                        String key = parser.getElementText();\r\n                        System.out.println(&quot;key: &quot; + key);\r\n    \r\n                    } else if (name2.equals(&quot;integer&quot;)) {\r\n                        String number = parser.getElementText();\r\n                        System.out.println(&quot;integer: &quot; + number);\r\n    \r\n                    } else if (name2.equals(&quot;string&quot;)) {\r\n                        String str = parser.getElementText();\r\n                        System.out.println(&quot;string: &quot; + str);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            assert parser.nextEvent().isEndDocument();\r\n        }\r\n    }\r\n","title":"Java Plist XML Parsing","body":"<p>There is a predefined method <code>getElementText()</code>, which is buggy in jdk1.6.0_15, but works ok with jdk1.6.0_19. A complete program to easily parse the plist file is this:</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport javax.xml.stream.XMLEventReader;\nimport javax.xml.stream.XMLInputFactory;\nimport javax.xml.stream.XMLStreamException;\nimport javax.xml.stream.events.XMLEvent;\n\npublic class Parser {\n\n    public static void main(String[] args) throws XMLStreamException, IOException {\n        InputStream in = new FileInputStream(\"foo.xml\");\n        XMLInputFactory factory = XMLInputFactory.newInstance();\n        XMLEventReader parser = factory.createXMLEventReader(in);\n\n        assert parser.nextEvent().isStartDocument();\n\n        XMLEvent event = parser.nextTag();\n        assert event.isStartElement();\n        final String name1 = event.asStartElement().getName().getLocalPart();\n\n        if (name1.equals(\"dict\")) {\n            while ((event = parser.nextTag()).isStartElement()) {\n                final String name2 = event.asStartElement().getName().getLocalPart();\n\n                if (name2.equals(\"key\")) {\n                    String key = parser.getElementText();\n                    System.out.println(\"key: \" + key);\n\n                } else if (name2.equals(\"integer\")) {\n                    String number = parser.getElementText();\n                    System.out.println(\"integer: \" + number);\n\n                } else if (name2.equals(\"string\")) {\n                    String str = parser.getElementText();\n                    System.out.println(\"string: \" + str);\n                }\n            }\n        }\n\n        assert parser.nextEvent().isEndDocument();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":603399,"reputation":71,"user_id":312830,"display_name":"Anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1270829860,"creation_date":1270829860,"answer_id":2609059,"question_id":2451170,"body_markdown":"You should be able to solve your problem by setting the `IS_COALESCING` property on the `XMLInputFactory` (I also prefer `XMLStreamReader` over `XMLEventReader`, but ymmv):\r\n\r\n    XMLInputFactory factory = XMLInputFactory.newInstance();\r\n    factory.setProperty(XMLInputFactory.IS_COALESCING, Boolean.TRUE);\r\n\r\n    InputStream in = // ...\r\n    xmlReader = factory.createXMLStreamReader(in, &quot;UTF-8&quot;);\r\n\r\nIncidentally, to the best of my knowledge none of the JDK parsers will handle &quot;not well formed&quot; XML without choking. Your XML is, in fact, well-formed: it uses an entity rather than a raw ampersand.","title":"Java Plist XML Parsing","body":"<p>You should be able to solve your problem by setting the <code>IS_COALESCING</code> property on the <code>XMLInputFactory</code> (I also prefer <code>XMLStreamReader</code> over <code>XMLEventReader</code>, but ymmv):</p>\n\n<pre><code>XMLInputFactory factory = XMLInputFactory.newInstance();\nfactory.setProperty(XMLInputFactory.IS_COALESCING, Boolean.TRUE);\n\nInputStream in = // ...\nxmlReader = factory.createXMLStreamReader(in, \"UTF-8\");\n</code></pre>\n\n<p>Incidentally, to the best of my knowledge none of the JDK parsers will handle \"not well formed\" XML without choking. Your XML is, in fact, well-formed: it uses an entity rather than a raw ampersand.</p>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677118604,"creation_date":1677118604,"answer_id":75539990,"question_id":2451170,"body_markdown":"&gt;This library enables your Java application to handle property lists of various formats.\r\n\r\n&gt;Read / write property lists from / to files, streams or byte arrays\r\nConvert between property list formats\r\nProperty list contents are provided as objects from the NeXTSTEP environment (NSDictionary, NSArray, NSString, etc.)\r\nSerialize native java data structures to property list objects\r\nDeserialize from property list objects to native java data structures\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.googlecode.plist&lt;/groupId&gt;\r\n  &lt;artifactId&gt;dd-plist&lt;/artifactId&gt;\r\n  &lt;version&gt;1.26&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n[dd-plist](https://github.com/3breadt/dd-plist)","title":"Java Plist XML Parsing","body":"<blockquote>\n<p>This library enables your Java application to handle property lists of various formats.</p>\n</blockquote>\n<blockquote>\n<p>Read / write property lists from / to files, streams or byte arrays\nConvert between property list formats\nProperty list contents are provided as objects from the NeXTSTEP environment (NSDictionary, NSArray, NSString, etc.)\nSerialize native java data structures to property list objects\nDeserialize from property list objects to native java data structures</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.googlecode.plist&lt;/groupId&gt;\n  &lt;artifactId&gt;dd-plist&lt;/artifactId&gt;\n  &lt;version&gt;1.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://github.com/3breadt/dd-plist\" rel=\"nofollow noreferrer\">dd-plist</a></p>\n"}],"owner":{"account_id":596122,"reputation":2559,"user_id":294374,"accept_rate":80,"display_name":"Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6629,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2609059,"answer_count":3,"score":5,"last_activity_date":1677118604,"creation_date":1268695430,"question_id":2451170,"body_markdown":"I&#39;m parsing a (not well formed) Apple Plist File with java. \r\n\r\nMy Code looks like this:\r\n\r\n\r\n    InputStream in = new FileInputStream( &quot;foo&quot; ); \r\n    XMLInputFactory factory = XMLInputFactory.newInstance(); \r\n    XMLEventReader parser = factory.createXMLEventReader( in ); \r\n    while (parser.hasNext()){    \r\n    XMLEvent event = parser.nextEvent();    \r\n      //code to navigate the nodes \r\n    }\r\n\r\nThe parts I&quot;m parsing are looking like this:\r\n\r\n    &lt;dict&gt;    \r\n      &lt;key&gt;foo&lt;/key&gt;&lt;integer&gt;123&lt;/integer&gt;\r\n      &lt;key&gt;bar&lt;/key&gt;&lt;string&gt;Boom &amp;amp; Shroom&lt;/string&gt;\r\n    &lt;/dict&gt;\r\n\r\nMy problem is now, that &lt;string&gt; nodes containing a ampersand are not parsed like they should because the ampersand is representing a entity.\r\n\r\nWhat can i do to get the value of the &lt;string&gt; node as a complete String, instead of broken parts?\r\n\r\nThank you in advance.\r\n\r\n\r\n","title":"Java Plist XML Parsing","body":"<p>I'm parsing a (not well formed) Apple Plist File with java. </p>\n\n<p>My Code looks like this:</p>\n\n<pre><code>InputStream in = new FileInputStream( \"foo\" ); \nXMLInputFactory factory = XMLInputFactory.newInstance(); \nXMLEventReader parser = factory.createXMLEventReader( in ); \nwhile (parser.hasNext()){    \nXMLEvent event = parser.nextEvent();    \n  //code to navigate the nodes \n}\n</code></pre>\n\n<p>The parts I\"m parsing are looking like this:</p>\n\n<pre><code>&lt;dict&gt;    \n  &lt;key&gt;foo&lt;/key&gt;&lt;integer&gt;123&lt;/integer&gt;\n  &lt;key&gt;bar&lt;/key&gt;&lt;string&gt;Boom &amp;amp; Shroom&lt;/string&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>My problem is now, that  nodes containing a ampersand are not parsed like they should because the ampersand is representing a entity.</p>\n\n<p>What can i do to get the value of the  node as a complete String, instead of broken parts?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","objective-c","plist","xml-parsing"],"comments":[{"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"score":2,"creation_date":1305262445,"post_id":5987339,"comment_id":6912709,"body_markdown":"AFAIK .plist are regular XML files. At least that is what they claim: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;","body":"AFAIK .plist are regular XML files. At least that is what they claim: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;"},{"owner":{"account_id":256495,"reputation":6727,"user_id":537247,"accept_rate":85,"display_name":"Jumhyn"},"score":0,"creation_date":1305262916,"post_id":5987339,"comment_id":6912781,"body_markdown":"To an extent, yes. But whereas a normal XML file might look like: &quot;&lt;myPropertyName&gt;myValue&lt;/myPropertyName&gt;&quot;, plists look like &quot;&lt;key&gt;myPropertyName&lt;/key&gt;&lt;string&gt;myValue&lt;/string&gt;&quot; which makes it a bitch to use regular XML parsers.","body":"To an extent, yes. But whereas a normal XML file might look like: &quot;&lt;myPropertyName&gt;myValue&lt;/myPropertyName&gt;&quot;, plists look like &quot;&lt;key&gt;myPropertyName&lt;/key&gt;&lt;string&gt;myValue&lt;/string&gt;&quot; which makes it a bitch to use regular XML parsers."},{"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"score":0,"creation_date":1305263145,"post_id":5987339,"comment_id":6912822,"body_markdown":"that is perfectly valid XML and you should use an XML parser for that. I guess you would like to use a mapping tool to bind that to a java object, but not many XML binding tools support this. Still, valid, wellformed XML","body":"that is perfectly valid XML and you should use an XML parser for that. I guess you would like to use a mapping tool to bind that to a java object, but not many XML binding tools support this. Still, valid, wellformed XML"}],"answers":[{"comments":[{"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"score":2,"creation_date":1305263226,"post_id":5987452,"comment_id":6912836,"body_markdown":"and here is another question dealing with the same question: http://stackoverflow.com/questions/1749197/how-to-read-osx-plist-files-from-java","body":"and here is another question dealing with the same question: <a href=\"http://stackoverflow.com/questions/1749197/how-to-read-osx-plist-files-from-java\" title=\"how to read osx plist files from java\">stackoverflow.com/questions/1749197/&hellip;</a>"},{"owner":{"account_id":256495,"reputation":6727,"user_id":537247,"accept_rate":85,"display_name":"Jumhyn"},"score":0,"creation_date":1305263478,"post_id":5987452,"comment_id":6912867,"body_markdown":"I suppose I just dont understand XML all that well. Isn&#39;t it text form when I get it?","body":"I suppose I just dont understand XML all that well. Isn&#39;t it text form when I get it?"}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1305264137,"creation_date":1305263189,"answer_id":5987452,"question_id":5987339,"body_markdown":"As @Jochen Bedersdorfer notes, `.plist` files are XML with a well-formed [DTD][2]. Use [`plutil`][1] to convert them from binary to text form.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; \r\n        &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n\r\nAddendum: In a comment, you asked\r\n\r\n&gt;Isn&#39;t it text form when I get it?\r\n\r\nNot necessarily. Here&#39;s some [history][3] on the subject.\r\n\r\n[1]:http://www.unix.com/man-page/OSX/1/plutil/\r\n[2]:http://www.apple.com/DTDs/PropertyList-1.0.dtd\r\n[3]:http://en.wikipedia.org/wiki/Property_list\r\n","title":"Apple Plist Converted to Java Data Structures","body":"<p>As @Jochen Bedersdorfer notes, <code>.plist</code> files are XML with a well-formed <a href=\"http://www.apple.com/DTDs/PropertyList-1.0.dtd\" rel=\"nofollow\">DTD</a>. Use <a href=\"http://www.unix.com/man-page/OSX/1/plutil/\" rel=\"nofollow\"><code>plutil</code></a> to convert them from binary to text form.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \n    \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n</code></pre>\n\n<p>Addendum: In a comment, you asked</p>\n\n<blockquote>\n  <p>Isn't it text form when I get it?</p>\n</blockquote>\n\n<p>Not necessarily. Here's some <a href=\"http://en.wikipedia.org/wiki/Property_list\" rel=\"nofollow\">history</a> on the subject.</p>\n"},{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1305317037,"post_id":5988424,"comment_id":6926490,"body_markdown":"+1 good summary. One other handy tip: If you use `plutil -convert` in place, the `.plist` will be converted back to binary when next accessed.","body":"+1 good summary. One other handy tip: If you use <code>plutil -convert</code> in place, the <code>.plist</code> will be converted back to binary when next accessed."}],"tags":[],"owner":{"account_id":85916,"reputation":34143,"user_id":239243,"accept_rate":45,"display_name":"Yuji"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305270253,"creation_date":1305270253,"answer_id":5988424,"question_id":5987339,"body_markdown":"To remove any confusion:\r\n\r\n1. A `plist` file can be either in XML or in binary form. \r\n2. The binary plist is of course not XML. \r\n3. The XML plist is of course XML. In fact it&#39;s a valid XML... try `xmllint` against an XML plist. \r\n4. Yes it has slightly unconventional structure. As you say, it&#39;s like `&lt;dt&gt;title&lt;/dt&gt;&lt;dd&gt;description&lt;/dd&gt;`.\r\n5. You can convert a binary plist to an XML plist using `plutil` on OS X. Convert it to XML before sending it over the network.\r\n6. With a regular XML parser you can get `key` and `string`. Make a hash containing these pairs. Then you get the string based on the key.","title":"Apple Plist Converted to Java Data Structures","body":"<p>To remove any confusion:</p>\n\n<ol>\n<li>A <code>plist</code> file can be either in XML or in binary form. </li>\n<li>The binary plist is of course not XML. </li>\n<li>The XML plist is of course XML. In fact it's a valid XML... try <code>xmllint</code> against an XML plist. </li>\n<li>Yes it has slightly unconventional structure. As you say, it's like <code>&lt;dt&gt;title&lt;/dt&gt;&lt;dd&gt;description&lt;/dd&gt;</code>.</li>\n<li>You can convert a binary plist to an XML plist using <code>plutil</code> on OS X. Convert it to XML before sending it over the network.</li>\n<li>With a regular XML parser you can get <code>key</code> and <code>string</code>. Make a hash containing these pairs. Then you get the string based on the key.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677118410,"creation_date":1677118410,"answer_id":75539976,"question_id":5987339,"body_markdown":"[dd-plist](https://github.com/3breadt/dd-plist#features) might be helpful.\r\n\r\n&gt; Serialize native java data structures to property list objects\r\n&gt;\r\n&gt; Deserialize from property list objects to native java data structures\r\n\r\n\r\n&gt; You can also directly convert the contained NSObject objects into native Java objects with the NSObject.toJavaObject() method. Using this method you can avoid working with NSObject instances altogether.\r\n\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.googlecode.plist&lt;/groupId&gt;\r\n  &lt;artifactId&gt;dd-plist&lt;/artifactId&gt;\r\n  &lt;version&gt;1.26&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Apple Plist Converted to Java Data Structures","body":"<p><a href=\"https://github.com/3breadt/dd-plist#features\" rel=\"nofollow noreferrer\">dd-plist</a> might be helpful.</p>\n<blockquote>\n<p>Serialize native java data structures to property list objects</p>\n<p>Deserialize from property list objects to native java data structures</p>\n</blockquote>\n<blockquote>\n<p>You can also directly convert the contained NSObject objects into native Java objects with the NSObject.toJavaObject() method. Using this method you can avoid working with NSObject instances altogether.</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.googlecode.plist&lt;/groupId&gt;\n  &lt;artifactId&gt;dd-plist&lt;/artifactId&gt;\n  &lt;version&gt;1.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":256495,"reputation":6727,"user_id":537247,"accept_rate":85,"display_name":"Jumhyn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1288,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":5987452,"answer_count":3,"score":4,"last_activity_date":1677118410,"creation_date":1305262197,"question_id":5987339,"body_markdown":"I have a program that is going to be receiving info displayed in it from a .plist on my server. However, I am going to be making this for PC, and I&#39;m using Java to do so. Plist files aren&#39;t conventional XML, so common XML parsing libraries don&#39;t work. I can&#39;t locate any plist specific parsers, so I am lost on how to continue. The way I see it my options are:\r\n\r\na) Locate such a parser for the plist file\r\n\r\nb) Make a workaround using a regular XML parser\r\n\r\nc) Change the file the program gets its data from (undesirable)\r\n\r\nHas anyone else had any experience with plists in languages other than Objective-C?","title":"Apple Plist Converted to Java Data Structures","body":"<p>I have a program that is going to be receiving info displayed in it from a .plist on my server. However, I am going to be making this for PC, and I'm using Java to do so. Plist files aren't conventional XML, so common XML parsing libraries don't work. I can't locate any plist specific parsers, so I am lost on how to continue. The way I see it my options are:</p>\n\n<p>a) Locate such a parser for the plist file</p>\n\n<p>b) Make a workaround using a regular XML parser</p>\n\n<p>c) Change the file the program gets its data from (undesirable)</p>\n\n<p>Has anyone else had any experience with plists in languages other than Objective-C?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","testcontainers"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1677193575,"post_id":75539759,"comment_id":133295280,"body_markdown":"oops, there seems to be some confusion about terminology in your Q, actually &quot;commit immediately in each save/update&quot; is called &quot;flush&quot;, so, you need to call `repository.flush()`","body":"oops, there seems to be some confusion about terminology in your Q, actually &quot;commit immediately in each save/update&quot; is called &quot;flush&quot;, so, you need to call <code>repository.flush()</code>"}],"owner":{"account_id":7376057,"reputation":73,"user_id":5614625,"accept_rate":25,"display_name":"Barry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677118097,"creation_date":1677115603,"question_id":75539759,"body_markdown":"I&#39;m using testcontainers in spring boot for integration test and installed `datasource-proxy-spring-boot-starter` to enable sql logging.\r\n\r\nHere is the test class\r\n```java\r\n@SpringBootTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\npublic class EntityTest extends DbTest {\r\n    private EntityRepository repository;\r\n}\r\n```\r\nHowever the following test will not insert anything to the db\r\n```java\r\n    @Test\r\n    @Transactional\r\n    public void testInsert() {\r\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\r\n    }\r\n```\r\n```\r\n01:14:51.196 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Began transaction (1) for test context ....\r\n01:14:51.300 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:14:51.333 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:14:51.343 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Rolled back transaction for test ...\r\n```\r\nWeirdly enough, if I another a query under it, the data will be written to the db. And based on the log the insert only happened in the query part.\r\n```java\r\n    @Test\r\n    @Transactional\r\n    public void testInsert() {\r\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\r\n        repository.count()\r\n    }\r\n```\r\n```\r\n01:18:31.685 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Began transaction (1) for test context\r\n01:18:31.766 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:18:31.795 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:18:31.796 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\r\nName:dataSource, Connection:4, Time:5, Success:True\r\nType:Prepared, Batch:True, QuerySize:1, BatchSize:2\r\nQuery:[&quot;insert into entities (id, name) values (?, ?)&quot;]\r\nParams:[(1,a),(2,b)]\r\n\r\nName:dataSource, Connection:4, Time:2, Success:True\r\nType:Prepared, Batch:False, QuerySize:1, BatchSize:0\r\nQuery:[&quot;select count(*) as col_0_0_ from entities&quot;]\r\nParams:[()]\r\n01:18:31.921 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\r\n01:18:31.929 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Rolled back transaction for test\r\n```\r\nIf I remove the `@Transactional` the insertion happened in saveAll instead.\r\n```java\r\n    @Test\r\n    public void testInsert() {\r\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\r\n        repository.count();\r\n    }\r\n```\r\n```\r\n01:22:42.262 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n01:22:42.303 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\r\n\r\nName:dataSource, Connection:4, Time:7, Success:True\r\nType:Prepared, Batch:True, QuerySize:1, BatchSize:2\r\nQuery:[&quot;insert into entities (id, name) values (?, ?)&quot;]\r\nParams:[(1,a),(2,b)]\r\n01:22:42.350 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\r\n\r\nName:dataSource, Connection:5, Time:2, Success:True\r\nType:Prepared, Batch:False, QuerySize:1, BatchSize:0\r\nQuery:[&quot;select count(*) as col_0_0_ from entities&quot;]\r\nParams:[()]\r\n```\r\n\r\nCan someone help explain how to take benefit of rollback in each test and also commit immediately in each save/update?","title":"@Transactional on spring boot test causing data not committed to actual testcontainers database","body":"<p>I'm using testcontainers in spring boot for integration test and installed <code>datasource-proxy-spring-boot-starter</code> to enable sql logging.</p>\n<p>Here is the test class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class EntityTest extends DbTest {\n    private EntityRepository repository;\n}\n</code></pre>\n<p>However the following test will not insert anything to the db</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @Transactional\n    public void testInsert() {\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\n    }\n</code></pre>\n<pre><code>01:14:51.196 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Began transaction (1) for test context ....\n01:14:51.300 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:14:51.333 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:14:51.343 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Rolled back transaction for test ...\n</code></pre>\n<p>Weirdly enough, if I another a query under it, the data will be written to the db. And based on the log the insert only happened in the query part.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @Transactional\n    public void testInsert() {\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\n        repository.count()\n    }\n</code></pre>\n<pre><code>01:18:31.685 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Began transaction (1) for test context\n01:18:31.766 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:18:31.795 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:18:31.796 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\nName:dataSource, Connection:4, Time:5, Success:True\nType:Prepared, Batch:True, QuerySize:1, BatchSize:2\nQuery:[&quot;insert into entities (id, name) values (?, ?)&quot;]\nParams:[(1,a),(2,b)]\n\nName:dataSource, Connection:4, Time:2, Success:True\nType:Prepared, Batch:False, QuerySize:1, BatchSize:0\nQuery:[&quot;select count(*) as col_0_0_ from entities&quot;]\nParams:[()]\n01:18:31.921 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\n01:18:31.929 [main] INFO  org.springframework.test.context.transaction.TransactionContext - Rolled back transaction for test\n</code></pre>\n<p>If I remove the <code>@Transactional</code> the insertion happened in saveAll instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testInsert() {\n        repository.saveAll(List.of(ENTITY_1, ENTITY_2));\n        repository.count();\n    }\n</code></pre>\n<pre><code>01:22:42.262 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n01:22:42.303 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]\n\nName:dataSource, Connection:4, Time:7, Success:True\nType:Prepared, Batch:True, QuerySize:1, BatchSize:2\nQuery:[&quot;insert into entities (id, name) values (?, ?)&quot;]\nParams:[(1,a),(2,b)]\n01:22:42.350 [main] TRACE org.springframework.transaction.interceptor.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]\n\nName:dataSource, Connection:5, Time:2, Success:True\nType:Prepared, Batch:False, QuerySize:1, BatchSize:0\nQuery:[&quot;select count(*) as col_0_0_ from entities&quot;]\nParams:[()]\n</code></pre>\n<p>Can someone help explain how to take benefit of rollback in each test and also commit immediately in each save/update?</p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1663257732,"post_id":73734216,"comment_id":130202059,"body_markdown":"You forgot to include your attempt at solving this problem.","body":"You forgot to include your attempt at solving this problem."},{"owner":{"account_id":19251088,"reputation":83,"user_id":14069058,"display_name":"parmendrak74"},"score":0,"creation_date":1663258012,"post_id":73734216,"comment_id":130202168,"body_markdown":"Following this Code but not getting same format:\nhttps://stackoverflow.com/a/23254774","body":"Following this Code but not getting same format: <a href=\"https://stackoverflow.com/a/23254774\">stackoverflow.com/a/23254774</a>"}],"answers":[{"tags":[],"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663286933,"creation_date":1663285347,"answer_id":73738416,"question_id":73734216,"body_markdown":"Since you included the JSP tag, here is a JSP. It needs to be all on one line. I copied your file(I added missing closing tags) and pasted it into a file named &quot;My.xml&quot;. I placed that file into the root folder of my web app.\r\n\r\n    &lt;%@ page import=&quot;java.nio.file.Files,java.nio.file.Paths&quot;%&gt;&lt;%response.setContentType(&quot;text/xml&quot;);Files.copy(Paths.get(application.getRealPath(&quot;/My.xml&quot;)),response.getOutputStream());%&gt;\r\n\r\nAlternatively, you could use setContentType(&quot;application/x-plist) and name the file &quot;My.plist&quot; and use \r\n\r\n    &lt;%@ page import=&quot;java.nio.file.Files,java.nio.file.Paths&quot;%&gt;&lt;%response.setContentType(&quot;application/x-plist&quot;);Files.copy(Paths.get(application.getRealPath(&quot;/My.plist&quot;)),response.getOutputStream());%&gt;","title":"How to create .plist file by java","body":"<p>Since you included the JSP tag, here is a JSP. It needs to be all on one line. I copied your file(I added missing closing tags) and pasted it into a file named &quot;My.xml&quot;. I placed that file into the root folder of my web app.</p>\n<pre><code>&lt;%@ page import=&quot;java.nio.file.Files,java.nio.file.Paths&quot;%&gt;&lt;%response.setContentType(&quot;text/xml&quot;);Files.copy(Paths.get(application.getRealPath(&quot;/My.xml&quot;)),response.getOutputStream());%&gt;\n</code></pre>\n<p>Alternatively, you could use setContentType(&quot;application/x-plist) and name the file &quot;My.plist&quot; and use</p>\n<pre><code>&lt;%@ page import=&quot;java.nio.file.Files,java.nio.file.Paths&quot;%&gt;&lt;%response.setContentType(&quot;application/x-plist&quot;);Files.copy(Paths.get(application.getRealPath(&quot;/My.plist&quot;)),response.getOutputStream());%&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663752344,"post_id":73744186,"comment_id":130311266,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73744186/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19251088,"reputation":83,"user_id":14069058,"display_name":"parmendrak74"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663327928,"creation_date":1663327928,"answer_id":73744186,"question_id":73734216,"body_markdown":"I have resolved by myself, Hence close this issue","title":"How to create .plist file by java","body":"<p>I have resolved by myself, Hence close this issue</p>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677117501,"creation_date":1677117501,"answer_id":75539909,"question_id":73734216,"body_markdown":"Try the project [dd-plist](https://github.com/3breadt/dd-plist#features)\r\n\r\n&gt; Read / write property lists from / to files, streams or byte arrays","title":"How to create .plist file by java","body":"<p>Try the project <a href=\"https://github.com/3breadt/dd-plist#features\" rel=\"nofollow noreferrer\">dd-plist</a></p>\n<blockquote>\n<p>Read / write property lists from / to files, streams or byte arrays</p>\n</blockquote>\n"}],"owner":{"account_id":19251088,"reputation":83,"user_id":14069058,"display_name":"parmendrak74"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73744186,"answer_count":3,"score":2,"last_activity_date":1677117501,"creation_date":1663257559,"question_id":73734216,"body_markdown":"I want create .plist file at runtime. I dont want to use any third party library. just want to use java code.\r\n\r\nHere is the sample file:\r\n        \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n        &lt;plist version=&quot;1.0&quot;&gt;\r\n        &lt;dict&gt;\r\n        \t&lt;key&gt;items&lt;/key&gt;\r\n        \t&lt;array&gt;\r\n        \t\t&lt;dict&gt;\r\n        \t\t\t&lt;key&gt;assets&lt;/key&gt;\r\n        \t\t\t&lt;array&gt;\r\n        \t\t\t\t&lt;dict&gt;\r\n        \t\t\t\t\t&lt;key&gt;kind&lt;/key&gt;\r\n        \t\t\t\t\t&lt;string&gt;software-package&lt;/string&gt;\r\n        \t\t\t\t\t&lt;key&gt;url&lt;/key&gt;\r\n        \t\t\t\t\t&lt;string&gt;IPA PATH&lt;/string&gt;\r\n        \t\t\t\t&lt;/dict&gt;\r\n        \t\t\t&lt;/array&gt;\r\n        \t\t\t&lt;key&gt;metadata&lt;/key&gt;\r\n        \t\t\t&lt;dict&gt;\r\n        \t\t\t\t&lt;key&gt;bundle-identifier&lt;/key&gt;\r\n        \t\t\t\t&lt;string&gt;com.xx.xx&lt;/string&gt;\r\n        \t\t\t\t&lt;key&gt;kind&lt;/key&gt;\r\n        \t\t\t\t&lt;string&gt;software&lt;/string&gt;\r\n        \t\t\t\t&lt;key&gt;title&lt;/key&gt;\r\n        \t\t\t\t&lt;string&gt;V7&lt;/string&gt;\r\n        \t\t\t&lt;/dict&gt;\r\n        \t\t&lt;/dict&gt;\r\n        \t&lt;/array&gt;","title":"How to create .plist file by java","body":"<p>I want create .plist file at runtime. I dont want to use any third party library. just want to use java code.</p>\n<p>Here is the sample file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\n    &lt;plist version=&quot;1.0&quot;&gt;\n    &lt;dict&gt;\n        &lt;key&gt;items&lt;/key&gt;\n        &lt;array&gt;\n            &lt;dict&gt;\n                &lt;key&gt;assets&lt;/key&gt;\n                &lt;array&gt;\n                    &lt;dict&gt;\n                        &lt;key&gt;kind&lt;/key&gt;\n                        &lt;string&gt;software-package&lt;/string&gt;\n                        &lt;key&gt;url&lt;/key&gt;\n                        &lt;string&gt;IPA PATH&lt;/string&gt;\n                    &lt;/dict&gt;\n                &lt;/array&gt;\n                &lt;key&gt;metadata&lt;/key&gt;\n                &lt;dict&gt;\n                    &lt;key&gt;bundle-identifier&lt;/key&gt;\n                    &lt;string&gt;com.xx.xx&lt;/string&gt;\n                    &lt;key&gt;kind&lt;/key&gt;\n                    &lt;string&gt;software&lt;/string&gt;\n                    &lt;key&gt;title&lt;/key&gt;\n                    &lt;string&gt;V7&lt;/string&gt;\n                &lt;/dict&gt;\n            &lt;/dict&gt;\n        &lt;/array&gt;\n</code></pre>\n"},{"tags":["java","scala","akka","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1650911162,"post_id":72000728,"comment_id":127230814,"body_markdown":"Can you provide a minimum code? What is your question? (problem is not a question) What do you tried to do to solve a problem?","body":"Can you provide a minimum code? What is your question? (problem is not a question) What do you tried to do to solve a problem?"},{"owner":{"account_id":14402469,"reputation":21,"user_id":10403640,"display_name":"researcher"},"score":0,"creation_date":1650938630,"post_id":72000728,"comment_id":127236604,"body_markdown":"sorry I have updated the question, and any idea for the promble?","body":"sorry I have updated the question, and any idea for the promble?"},{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1651001695,"post_id":72000728,"comment_id":127256697,"body_markdown":"suggestion. Try to set a log level to DEBUG or event to TRACE. Theoreticly this also can help https://stackoverflow.com/questions/49130000/sigterm-on-starting-a-standby-hdfs-ha-namenode","body":"suggestion. Try to set a log level to DEBUG or event to TRACE. Theoreticly this also can help <a href=\"https://stackoverflow.com/questions/49130000/sigterm-on-starting-a-standby-hdfs-ha-namenode\" title=\"sigterm on starting a standby hdfs ha namenode\">stackoverflow.com/questions/49130000/&hellip;</a>"},{"owner":{"account_id":14402469,"reputation":21,"user_id":10403640,"display_name":"researcher"},"score":0,"creation_date":1651325777,"post_id":72000728,"comment_id":127340662,"body_markdown":"hello, still not sloved it, updated some debug logs in [link](https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file), if you can find some ideas there? thx","body":"hello, still not sloved it, updated some debug logs in <a href=\"https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file\" rel=\"nofollow noreferrer\">link</a>, if you can find some ideas there? thx"},{"owner":{"account_id":3165164,"reputation":183,"user_id":2675362,"display_name":"Ujjwal Gulecha"},"score":0,"creation_date":1655749904,"post_id":72000728,"comment_id":128400849,"body_markdown":"do you have metrics on the k8 metrics? does flink have enough memory/cpu?","body":"do you have metrics on the k8 metrics? does flink have enough memory/cpu?"},{"owner":{"account_id":14402469,"reputation":21,"user_id":10403640,"display_name":"researcher"},"score":0,"creation_date":1658217029,"post_id":72000728,"comment_id":128989997,"body_markdown":"more enough memory/cpu, when use kubernetes HA no this problem, just zk HA","body":"more enough memory/cpu, when use kubernetes HA no this problem, just zk HA"}],"answers":[{"tags":[],"owner":{"account_id":12808994,"reputation":3,"user_id":9267814,"display_name":"Pan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677117194,"creation_date":1677117194,"answer_id":75539886,"question_id":72000728,"body_markdown":"I had the same situation like you. I checked the k8s log and found that it was caused by the jobmanager setting the livenessProbe. Because the livenessProbe kept failing, k8s restarted the pod(check livenessProbe once a minute, and restart after three failures, so it restarts every three minutes). If you want to temporarily solve this problem, you can temporarily disable the liveness probe, but the liveness probe is very important for HA, a good solution has not been found\r\n\r\n[enter image description here][1]\r\n  [1]: https://i.stack.imgur.com/Xizk2.png","title":"flink cluster with zookeeper HA always shutdown: [RECEIVED SIGNAL 15: SIGTERM]","body":"<p>I had the same situation like you. I checked the k8s log and found that it was caused by the jobmanager setting the livenessProbe. Because the livenessProbe kept failing, k8s restarted the pod(check livenessProbe once a minute, and restart after three failures, so it restarts every three minutes). If you want to temporarily solve this problem, you can temporarily disable the liveness probe, but the liveness probe is very important for HA, a good solution has not been found</p>\n<p>[enter image description here][1]\n[1]: https://i.stack.imgur.com/Xizk2.png</p>\n"}],"owner":{"account_id":14402469,"reputation":21,"user_id":10403640,"display_name":"researcher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677117194,"creation_date":1650894921,"question_id":72000728,"body_markdown":"**Environment:**\r\n\r\nflink1.14.4\r\nstandalone application mode in kubernetes\r\n\r\naccording to official steps:\r\n\r\nflink cluster: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/standalone/kubernetes/#application-mode \r\n\r\nzookeeper HA: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/ha/zookeeper_ha/\r\n\r\n**The problem:**\r\n\r\nthe jobmanager always shutdown and restart every three minutes then quit\r\n\r\n-- no timer task and the program logic just a easy wordcount\r\n\r\n-- when the cluster running no any input or nothing to do also have this problem every three minutes\r\n\r\n-- if jobmanager non zookeeper HA don&#39;t have this problem\r\n\r\n**The question:**\r\n\r\nwhy the jobmanager always shutdown with the zookeeper HA and how to solve it\r\n\r\nused the same steps and yaml from official site, so no idea for this problem\r\n\r\n**The code:**\r\n\r\njust a wordcound and other program also the problem\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n\r\n\tStreamExecutionEnvironment executionEnvironment = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n\tDataStreamSource&lt;String&gt; dataStreamSource = executionEnvironment.socketTextStream(HOST, PORT);\r\n\r\n\tDataStream&lt;Tuple2&lt;String, Integer&gt;&gt; sum = dataStreamSource.flatMap(new WordCount.MyFlatMapper()).keyBy(0).sum(1);\r\n\r\n\tsum.print();\r\n\r\n\texecutionEnvironment.execute();\r\n}\r\n```\r\n\r\n**Jobmanager pod resatrt and quit:**\r\n```\r\n\r\nNAMESPACE     NAME                                      READY   STATUS    RESTARTS       AGE\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   1 (118s ago)   5m38s\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   2 (106s ago)   8m26s\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   3 (1s ago)     9m41s\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   4 (1s ago)     12m\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   5 (0s ago)     15m\r\ndefault        flink-jobmanager-8jn6x                    1/1     Running   6 (1s ago)     18m\r\ndefault        flink-jobmanager-8jn6x                    1/1     Terminating   6 (1s ago)     18m\r\ndefault        flink-jobmanager-8jn6x                    1/1     Terminating   6 (1s ago)     18m\r\n```\r\n\r\n**Jobmanager logs：**\r\n\r\n```\r\n\r\n-1--\r\n2022-04-23 09:48:21,970 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 33 (type=CHECKPOINT) @ 1650707301963 for job 00000000000000000000000000000000.\r\n2022-04-23 09:48:22,010 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Completed checkpoint 33 for job 00000000000000000000000000000000 (4917 bytes, checkpointDuration=23 ms, finalizationTime=24 ms).\r\n2022-04-23 09:48:26,627 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 09:48:26,795 WARN  akka.actor.CoordinatedShutdown                               [] - Could not addJvmShutdownHook, due to: Shutdown in progress\r\n2022-04-23 09:48:26,822 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:48:26,824 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:48:26,824 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 09:48:26,838 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 09:48:26,887 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\r\n2022-04-23 09:48:26,894 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\r\n---\r\n-2--\r\n2022-04-23 09:51:24,903 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 67 (type=CHECKPOINT) @ 1650707484897 for job 00000000000000000000000000000000.\r\n2022-04-23 09:51:24,943 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Completed checkpoint 67 for job 00000000000000000000000000000000 (4982 bytes, checkpointDuration=21 ms, finalizationTime=25 ms).\r\n2022-04-23 09:51:26,626 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 09:51:26,840 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:51:26,845 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:51:26,847 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 09:51:26,848 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 09:51:26,871 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\r\n---\r\n-3--\r\n2022-04-23 09:54:26,625 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 09:54:26,838 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:54:26,840 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n[root@master 02-logger--ckps-nfs-reactive-hpa-zk]#\r\n---\r\n-4--\r\n2022-04-23 09:57:26,627 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 09:57:26,632 INFO  org.apache.flink.runtime.blob.BlobServer                     [] - Stopped BLOB server at 0.0.0.0:6124\r\n2022-04-23 09:57:26,812 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 09:57:26,812 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n---\r\n-5--\r\n2022-04-23 10:00:26,625 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2022-04-23 10:00:26,859 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\r\n2022-04-23 10:00:26,859 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\r\n2022-04-23 10:00:26,884 WARN  akka.actor.CoordinatedShutdown                               [] - Could not addJvmShutdownHook, due to: Shutdown in progress\r\n---\r\n\r\n```\r\n\r\n-- updated 2022/04/30 --\r\n\r\n**Debug logs:**\r\n[https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file][1]\r\n\r\n\r\n  [1]: https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file\r\n\r\n\r\nthx all!","title":"flink cluster with zookeeper HA always shutdown: [RECEIVED SIGNAL 15: SIGTERM]","body":"<p><strong>Environment:</strong></p>\n<p>flink1.14.4\nstandalone application mode in kubernetes</p>\n<p>according to official steps:</p>\n<p>flink cluster: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/standalone/kubernetes/#application-mode\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/standalone/kubernetes/#application-mode</a></p>\n<p>zookeeper HA: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/ha/zookeeper_ha/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/ha/zookeeper_ha/</a></p>\n<p><strong>The problem:</strong></p>\n<p>the jobmanager always shutdown and restart every three minutes then quit</p>\n<p>-- no timer task and the program logic just a easy wordcount</p>\n<p>-- when the cluster running no any input or nothing to do also have this problem every three minutes</p>\n<p>-- if jobmanager non zookeeper HA don't have this problem</p>\n<p><strong>The question:</strong></p>\n<p>why the jobmanager always shutdown with the zookeeper HA and how to solve it</p>\n<p>used the same steps and yaml from official site, so no idea for this problem</p>\n<p><strong>The code:</strong></p>\n<p>just a wordcound and other program also the problem</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n    StreamExecutionEnvironment executionEnvironment = StreamExecutionEnvironment.getExecutionEnvironment();\n\n    DataStreamSource&lt;String&gt; dataStreamSource = executionEnvironment.socketTextStream(HOST, PORT);\n\n    DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; sum = dataStreamSource.flatMap(new WordCount.MyFlatMapper()).keyBy(0).sum(1);\n\n    sum.print();\n\n    executionEnvironment.execute();\n}\n</code></pre>\n<p><strong>Jobmanager pod resatrt and quit:</strong></p>\n<pre><code>\nNAMESPACE     NAME                                      READY   STATUS    RESTARTS       AGE\ndefault        flink-jobmanager-8jn6x                    1/1     Running   1 (118s ago)   5m38s\ndefault        flink-jobmanager-8jn6x                    1/1     Running   2 (106s ago)   8m26s\ndefault        flink-jobmanager-8jn6x                    1/1     Running   3 (1s ago)     9m41s\ndefault        flink-jobmanager-8jn6x                    1/1     Running   4 (1s ago)     12m\ndefault        flink-jobmanager-8jn6x                    1/1     Running   5 (0s ago)     15m\ndefault        flink-jobmanager-8jn6x                    1/1     Running   6 (1s ago)     18m\ndefault        flink-jobmanager-8jn6x                    1/1     Terminating   6 (1s ago)     18m\ndefault        flink-jobmanager-8jn6x                    1/1     Terminating   6 (1s ago)     18m\n</code></pre>\n<p><strong>Jobmanager logs：</strong></p>\n<pre><code>\n-1--\n2022-04-23 09:48:21,970 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 33 (type=CHECKPOINT) @ 1650707301963 for job 00000000000000000000000000000000.\n2022-04-23 09:48:22,010 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Completed checkpoint 33 for job 00000000000000000000000000000000 (4917 bytes, checkpointDuration=23 ms, finalizationTime=24 ms).\n2022-04-23 09:48:26,627 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 09:48:26,795 WARN  akka.actor.CoordinatedShutdown                               [] - Could not addJvmShutdownHook, due to: Shutdown in progress\n2022-04-23 09:48:26,822 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:48:26,824 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:48:26,824 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 09:48:26,838 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 09:48:26,887 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\n2022-04-23 09:48:26,894 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\n---\n-2--\n2022-04-23 09:51:24,903 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Triggering checkpoint 67 (type=CHECKPOINT) @ 1650707484897 for job 00000000000000000000000000000000.\n2022-04-23 09:51:24,943 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - Completed checkpoint 67 for job 00000000000000000000000000000000 (4982 bytes, checkpointDuration=21 ms, finalizationTime=25 ms).\n2022-04-23 09:51:26,626 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 09:51:26,840 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:51:26,845 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:51:26,847 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 09:51:26,848 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 09:51:26,871 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remoting shut down.\n---\n-3--\n2022-04-23 09:54:26,625 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 09:54:26,838 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:54:26,840 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n[root@master 02-logger--ckps-nfs-reactive-hpa-zk]#\n---\n-4--\n2022-04-23 09:57:26,627 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 09:57:26,632 INFO  org.apache.flink.runtime.blob.BlobServer                     [] - Stopped BLOB server at 0.0.0.0:6124\n2022-04-23 09:57:26,812 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 09:57:26,812 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n---\n-5--\n2022-04-23 10:00:26,625 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2022-04-23 10:00:26,859 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Shutting down remote daemon.\n2022-04-23 10:00:26,859 INFO  akka.remote.RemoteActorRefProvider$RemotingTerminator        [] - Remote daemon shut down; proceeding with flushing remote transports.\n2022-04-23 10:00:26,884 WARN  akka.actor.CoordinatedShutdown                               [] - Could not addJvmShutdownHook, due to: Shutdown in progress\n---\n\n</code></pre>\n<p>-- updated 2022/04/30 --</p>\n<p><strong>Debug logs:</strong>\n<a href=\"https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file\" rel=\"nofollow noreferrer\">https://www.mediafire.com/file/3q8vpzqfnmohgng/debug.log/file</a></p>\n<p>thx all!</p>\n"},{"tags":["java","android","encryption","aes"],"comments":[{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":0,"creation_date":1521370677,"post_id":49347029,"comment_id":85693802,"body_markdown":"How was it encrypted?","body":"How was it encrypted?"},{"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"score":0,"creation_date":1521371621,"post_id":49347029,"comment_id":85694082,"body_markdown":"Ive update my post","body":"Ive update my post"},{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":0,"creation_date":1521371861,"post_id":49347029,"comment_id":85694144,"body_markdown":"So you’re not using the IV in the decryption? That will cause problems","body":"So you’re not using the IV in the decryption? That will cause problems"},{"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"score":0,"creation_date":1521372706,"post_id":49347029,"comment_id":85694381,"body_markdown":"Because it seems on c# code uses the CIPHER MODE.EBC and on Java side i have on AES_MODE= &quot;AES/EBC/NoPadding&quot; and if put the iv on cipher.init() it throws me an exception wich says that EBC not allow ivs","body":"Because it seems on c# code uses the CIPHER MODE.EBC and on Java side i have on AES_MODE= &quot;AES/EBC/NoPadding&quot; and if put the iv on cipher.init() it throws me an exception wich says that EBC not allow ivs"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1521378690,"post_id":49347029,"comment_id":85696103,"body_markdown":"You just have to ignore the IV in the Java code, ECB in C# code does this as well. The way you&#39;re generating the key in Java and C# is completely different, I don&#39;t see how you can have generated that by porting the C# code to Java. If you try and decrypt by guessing you will have a *very* long way ahead of you. Key generation (from a random source) and key derivation are different things.","body":"You just have to ignore the IV in the Java code, ECB in C# code does this as well. The way you&#39;re generating the key in Java and C# is completely different, I don&#39;t see how you can have generated that by porting the C# code to Java. If you try and decrypt by guessing you will have a <i>very</i> long way ahead of you. Key generation (from a random source) and key derivation are different things."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1521378717,"post_id":49347029,"comment_id":85696111,"body_markdown":"Using AES (or any block cipher) in ECB mode is insecure.","body":"Using AES (or any block cipher) in ECB mode is insecure."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1521386750,"post_id":49347029,"comment_id":85698891,"body_markdown":"Your C# encryption code **is not using AES**. Rijndael with a block size of 256 is **not AES**.  Rijndael with a blocksize of 128 and a *key size* of 128, 192, or 256 is AES.","body":"Your C# encryption code <b>is not using AES</b>. Rijndael with a block size of 256 is <b>not AES</b>.  Rijndael with a blocksize of 128 and a <i>key size</i> of 128, 192, or 256 is AES."},{"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"score":0,"creation_date":1521392053,"post_id":49347029,"comment_id":85700658,"body_markdown":"Then should i change the blocksize to 128 on c# code and try to encrypt and decrypt? Do you thing that might be the prob?","body":"Then should i change the blocksize to 128 on c# code and try to encrypt and decrypt? Do you thing that might be the prob?"}],"answers":[{"tags":[],"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1521830045,"creation_date":1521830045,"answer_id":49456314,"question_id":49347029,"body_markdown":"Made it!\r\n\r\nAfter a long time of searching thanks to all you guys who answered this post i used the bouncy castle library and i&#39;ve decrypt the desired String by doing the following:\r\n\r\n    public static String decrypt(String valueToDecrypt) throws Exception {\r\n        AESCrypt enc = new AESCrypt();\r\n        return new String(enc.decryptInternal(valueToDecrypt)).trim();\r\n    }\r\n\r\n    private byte[] decryptInternal(String code) throws Exception {\r\n        if (code == null || code.length() == 0) {\r\n            throw new Exception(&quot;Empty string&quot;);\r\n        }\r\n\r\n        byte[] decrypted = null;\r\n        try {\r\n\r\n\r\n            byte[] key= SecretKey.getBytes(&quot;UTF-8&quot;);\r\n            PaddedBufferedBlockCipher c = new PaddedBufferedBlockCipher(new RijndaelEngine(256), new ZeroBytePadding());\r\n            CipherParameters params= new KeyParameter(key);`\r\n            // false because its going to decrypt\r\n            c.init(false,params);\r\n            decrypted= GetData(c,(Base64.decode(code,Base64.DEFAULT));\r\n\r\n        } catch (Exception e) {\r\n            throw new Exception(&quot;[decrypt] &quot; + e.getMessage());\r\n        }\r\n        return decrypted;\r\n    }\r\n\r\n\r\n    private static byte[] GetData(PaddedBufferedBlockCipher cipher, byte[] data) throws InvalidCipherTextException\r\n    {\r\n        int minSize = cipher.getOutputSize(data.length);\r\n        byte[] outBuf = new byte[minSize];\r\n        int length1 = cipher.processBytes(data, 0, data.length, outBuf, 0);\r\n        int length2 = cipher.doFinal(outBuf, length1);\r\n        int actualLength = length1 + length2;\r\n        byte[] cipherArray = new byte[actualLength];\r\n        for (int x = 0; x &lt; actualLength; x++) {\r\n            cipherArray[x] = outBuf[x];\r\n        }\r\n        return cipherArray;\r\n    }\r\n\r\n\r\n","title":"Android AES decryption returning rare characters V2.0","body":"<p>Made it!</p>\n\n<p>After a long time of searching thanks to all you guys who answered this post i used the bouncy castle library and i've decrypt the desired String by doing the following:</p>\n\n<pre><code>public static String decrypt(String valueToDecrypt) throws Exception {\n    AESCrypt enc = new AESCrypt();\n    return new String(enc.decryptInternal(valueToDecrypt)).trim();\n}\n\nprivate byte[] decryptInternal(String code) throws Exception {\n    if (code == null || code.length() == 0) {\n        throw new Exception(\"Empty string\");\n    }\n\n    byte[] decrypted = null;\n    try {\n\n\n        byte[] key= SecretKey.getBytes(\"UTF-8\");\n        PaddedBufferedBlockCipher c = new PaddedBufferedBlockCipher(new RijndaelEngine(256), new ZeroBytePadding());\n        CipherParameters params= new KeyParameter(key);`\n        // false because its going to decrypt\n        c.init(false,params);\n        decrypted= GetData(c,(Base64.decode(code,Base64.DEFAULT));\n\n    } catch (Exception e) {\n        throw new Exception(\"[decrypt] \" + e.getMessage());\n    }\n    return decrypted;\n}\n\n\nprivate static byte[] GetData(PaddedBufferedBlockCipher cipher, byte[] data) throws InvalidCipherTextException\n{\n    int minSize = cipher.getOutputSize(data.length);\n    byte[] outBuf = new byte[minSize];\n    int length1 = cipher.processBytes(data, 0, data.length, outBuf, 0);\n    int length2 = cipher.doFinal(outBuf, length1);\n    int actualLength = length1 + length2;\n    byte[] cipherArray = new byte[actualLength];\n    for (int x = 0; x &lt; actualLength; x++) {\n        cipherArray[x] = outBuf[x];\n    }\n    return cipherArray;\n}\n</code></pre>\n"}],"owner":{"account_id":8123298,"reputation":97,"user_id":6119194,"accept_rate":50,"display_name":"Emilio Calderon Vergara"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":49456314,"answer_count":1,"score":-4,"last_activity_date":1677116521,"creation_date":1521370392,"question_id":49347029,"body_markdown":"Recently I&#39;ve posted a question about this topic, but the thing turns a little weird when I tried to decrypt an AES String that was encoded on UTF8.\r\n\r\nIn the following lines I read the String AES encrypted which returns the following String: RnLObq9hdUDGp9S2pxC1qjQXekuf9g6i/5bQfKilYn4=\r\n\r\n\r\n    public static final String AesKey256 =&quot;ZzRtNDNuY3J5cHRrM3kuLi4=&quot;;\r\n    //This reads the String and stores on res.getContents()\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        IntentResult res= IntentIntegrator.parseActivityResult(requestCode, resultCode,data);\r\n        if(res!=null){\r\n            if (res.getContents() == null) {\r\n                Toast.makeText(this,&quot;Captura cancelada&quot;,Toast.LENGTH_SHORT).show();\r\n            }else{\r\n                try {\r\n                    String cadena= decrypt(res.getContents());\r\n                    out.setText(cadena);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    //provide the res.getContents() to decrypt method, which is the String I&#39;ve recently read\r\n     private String decrypt(String cadena)throws Exception{\r\n        SecretKeySpec keySpec= generateKey(AesKey256); //HERE\r\n        Cipher c= Cipher.getInstance(AES_MODE);\r\n        c.init(Cipher.DECRYPT_MODE,keySpec);\r\n        byte[] decodedValue= Base64.decode(cadena, Base64.DEFAULT);\r\n        byte[] decValue= c.doFinal(decodedValue);/* c.doFinal(decodedValue);*/\r\n        String decryptedValue= new String((decValue), &quot;UTF-8&quot;);\r\n        return decryptedValue;\r\n    }\r\n     private SecretKeySpec generateKey(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n        final MessageDigest digest= MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        byte[] bytes= password.getBytes(&quot;UTF-8&quot;);\r\n        digest.update(bytes,0,bytes.length);\r\n        byte[] key= digest.digest();\r\n        SecretKeySpec secretKeySpec= new SecretKeySpec(key, &quot;AES&quot;);\r\n        return secretKeySpec;\r\n    }\r\n\r\nI am only using the decryption method but it still returning this characters: \r\n[![this shows after read the string][1]][1]\r\n\r\nI&#39;ve spent hours looking for a solution, but nothing works for now... hope someone can give me a hand!\r\n\r\nBest Regards!\r\n\r\nEDIT  \r\nTHIS IS HOW IT WAS ENCRYPTED IN C#\r\n\r\n    private const string AesIV256 = &quot;IVFBWjJXU1gjRURDNFJGVg==&quot;;\r\n            private const string AesKey256 = &quot;ZzRtNDNuY3J5cHRrM3kuLi4=&quot;;\r\n\r\n            public static string Encrypt(string text)\r\n            {\r\n                var sToEncrypt = text;\r\n                var rj = new RijndaelManaged()\r\n                {\r\n                    Padding = PaddingMode.Zeros,\r\n                    Mode = CipherMode.ECB,\r\n                    KeySize = 256,\r\n                    BlockSize = 256,\r\n                };\r\n\r\n                var key = Convert.FromBase64String(AesKey256);\r\n                var IV = Convert.FromBase64String(AesIV256);\r\n\r\n                var encryptor = rj.CreateEncryptor(key, IV);\r\n\r\n                var msEncrypt = new MemoryStream();\r\n                var csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write);\r\n\r\n                var toEncrypt = Encoding.UTF8.GetBytes(sToEncrypt);\r\n\r\n                csEncrypt.Write(toEncrypt, 0, toEncrypt.Length);\r\n                csEncrypt.FlushFinalBlock();\r\n\r\n                var encrypted = msEncrypt.ToArray();\r\n\r\n                return (Convert.ToBase64String(encrypted));\r\n            }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eamx9.png","title":"Android AES decryption returning rare characters V2.0","body":"<p>Recently I've posted a question about this topic, but the thing turns a little weird when I tried to decrypt an AES String that was encoded on UTF8.</p>\n<p>In the following lines I read the String AES encrypted which returns the following String: RnLObq9hdUDGp9S2pxC1qjQXekuf9g6i/5bQfKilYn4=</p>\n<pre><code>public static final String AesKey256 =&quot;ZzRtNDNuY3J5cHRrM3kuLi4=&quot;;\n//This reads the String and stores on res.getContents()\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    IntentResult res= IntentIntegrator.parseActivityResult(requestCode, resultCode,data);\n    if(res!=null){\n        if (res.getContents() == null) {\n            Toast.makeText(this,&quot;Captura cancelada&quot;,Toast.LENGTH_SHORT).show();\n        }else{\n            try {\n                String cadena= decrypt(res.getContents());\n                out.setText(cadena);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n//provide the res.getContents() to decrypt method, which is the String I've recently read\n private String decrypt(String cadena)throws Exception{\n    SecretKeySpec keySpec= generateKey(AesKey256); //HERE\n    Cipher c= Cipher.getInstance(AES_MODE);\n    c.init(Cipher.DECRYPT_MODE,keySpec);\n    byte[] decodedValue= Base64.decode(cadena, Base64.DEFAULT);\n    byte[] decValue= c.doFinal(decodedValue);/* c.doFinal(decodedValue);*/\n    String decryptedValue= new String((decValue), &quot;UTF-8&quot;);\n    return decryptedValue;\n}\n private SecretKeySpec generateKey(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\n    final MessageDigest digest= MessageDigest.getInstance(&quot;SHA-256&quot;);\n    byte[] bytes= password.getBytes(&quot;UTF-8&quot;);\n    digest.update(bytes,0,bytes.length);\n    byte[] key= digest.digest();\n    SecretKeySpec secretKeySpec= new SecretKeySpec(key, &quot;AES&quot;);\n    return secretKeySpec;\n}\n</code></pre>\n<p>I am only using the decryption method but it still returning this characters:\n<a href=\"https://i.stack.imgur.com/eamx9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eamx9.png\" alt=\"this shows after read the string\" /></a></p>\n<p>I've spent hours looking for a solution, but nothing works for now... hope someone can give me a hand!</p>\n<p>Best Regards!</p>\n<p>EDIT<br />\nTHIS IS HOW IT WAS ENCRYPTED IN C#</p>\n<pre><code>private const string AesIV256 = &quot;IVFBWjJXU1gjRURDNFJGVg==&quot;;\n        private const string AesKey256 = &quot;ZzRtNDNuY3J5cHRrM3kuLi4=&quot;;\n\n        public static string Encrypt(string text)\n        {\n            var sToEncrypt = text;\n            var rj = new RijndaelManaged()\n            {\n                Padding = PaddingMode.Zeros,\n                Mode = CipherMode.ECB,\n                KeySize = 256,\n                BlockSize = 256,\n            };\n\n            var key = Convert.FromBase64String(AesKey256);\n            var IV = Convert.FromBase64String(AesIV256);\n\n            var encryptor = rj.CreateEncryptor(key, IV);\n\n            var msEncrypt = new MemoryStream();\n            var csEncrypt = new CryptoStream(msEncrypt, encryptor, CryptoStreamMode.Write);\n\n            var toEncrypt = Encoding.UTF8.GetBytes(sToEncrypt);\n\n            csEncrypt.Write(toEncrypt, 0, toEncrypt.Length);\n            csEncrypt.FlushFinalBlock();\n\n            var encrypted = msEncrypt.ToArray();\n\n            return (Convert.ToBase64String(encrypted));\n        }\n</code></pre>\n"},{"tags":["java","if-statement","design-patterns","rule-engine","business-rules"],"comments":[{"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"score":1,"creation_date":1369973887,"post_id":16849656,"comment_id":24299199,"body_markdown":"can you provide some sample of your if else statements? if there any similarities","body":"can you provide some sample of your if else statements? if there any similarities"},{"owner":{"account_id":2474454,"reputation":4585,"user_id":2155396,"accept_rate":62,"display_name":"Fendy"},"score":0,"creation_date":1369974622,"post_id":16849656,"comment_id":24299338,"body_markdown":"Use of state pattern?","body":"Use of state pattern?"},{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":3,"creation_date":1370002528,"post_id":16849656,"comment_id":24311519,"body_markdown":"I think the &quot;Chain of Responsibility&quot;-Pattern could be used here: http://www.oodesign.com/chain-of-responsibility-pattern.html","body":"I think the &quot;Chain of Responsibility&quot;-Pattern could be used here: <a href=\"http://www.oodesign.com/chain-of-responsibility-pattern.html\" rel=\"nofollow noreferrer\">oodesign.com/chain-of-responsibility-pattern.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":2741510,"reputation":949,"user_id":2362960,"accept_rate":12,"display_name":"SCoder"},"score":0,"creation_date":1369974805,"post_id":16849695,"comment_id":24299377,"body_markdown":"Thanks but my requirement is not to use any rule engine,project reasons :( , so I am looking for some design patterns","body":"Thanks but my requirement is not to use any rule engine,project reasons :( , so I am looking for some design patterns"},{"owner":{"account_id":1804933,"reputation":5136,"user_id":1642266,"display_name":"Kingz"},"score":0,"creation_date":1387477534,"post_id":16849695,"comment_id":30983684,"body_markdown":"Agreed with tieTYT. A rules engine is a perfect candidate for implementing BRs. In my personal experience, it produces code that are super clean and easy to maintain. And reduces the development time by orders of magnitude.","body":"Agreed with tieTYT. A rules engine is a perfect candidate for implementing BRs. In my personal experience, it produces code that are super clean and easy to maintain. And reduces the development time by orders of magnitude."}],"tags":[],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1369974015,"creation_date":1369974015,"answer_id":16849695,"question_id":16849656,"body_markdown":"Something that might help is a rules engine like [Drools][1].  It&#39;s not a design pattern though, so this may not be the answer you&#39;re looking for.  But IMO, you should consider it.  Here&#39;s a great article on [when you should use a rules engine][2].\r\n\r\n\r\n  [1]: http://www.jboss.org/drools/\r\n  [2]: http://www.infoq.com/articles/Rule-Engines","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>Something that might help is a rules engine like <a href=\"http://www.jboss.org/drools/\" rel=\"nofollow\">Drools</a>.  It's not a design pattern though, so this may not be the answer you're looking for.  But IMO, you should consider it.  Here's a great article on <a href=\"http://www.infoq.com/articles/Rule-Engines\" rel=\"nofollow\">when you should use a rules engine</a>.</p>\n"},{"comments":[{"owner":{"account_id":2741510,"reputation":949,"user_id":2362960,"accept_rate":12,"display_name":"SCoder"},"score":1,"creation_date":1369974707,"post_id":16849761,"comment_id":24299359,"body_markdown":"Thanks for the info.Can you provide some sample examples where these patterns can help in reducing if/else .","body":"Thanks for the info.Can you provide some sample examples where these patterns can help in reducing if/else ."},{"owner":{"account_id":2741510,"reputation":949,"user_id":2362960,"accept_rate":12,"display_name":"SCoder"},"score":0,"creation_date":1369978537,"post_id":16849761,"comment_id":24300316,"body_markdown":"Looks like a good example but may be not fit into my requirement.I have edited my question to include a sample of contional logic.I have conditional logic on some properties of a class for rule one and some other properties(may include some properties used in rule one) for rule two.","body":"Looks like a good example but may be not fit into my requirement.I have edited my question to include a sample of contional logic.I have conditional logic on some properties of a class for rule one and some other properties(may include some properties used in rule one) for rule two."},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":2,"creation_date":1498694692,"post_id":16849761,"comment_id":76609194,"body_markdown":"Give the credits for the original answer :): https://stackoverflow.com/questions/1199646/long-list-of-if-statements-in-java","body":"Give the credits for the original answer :): <a href=\"https://stackoverflow.com/questions/1199646/long-list-of-if-statements-in-java\" title=\"long list of if statements in java\">stackoverflow.com/questions/1199646/&hellip;</a>"}],"tags":[],"owner":{"account_id":2436031,"reputation":580,"user_id":2125917,"display_name":"fortytwo"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1369975513,"creation_date":1369974430,"answer_id":16849761,"question_id":16849656,"body_markdown":"You can use [**Command pattern**][1] or [**Factory pattern**][2].\r\n\r\n**Command pattern** can be used to replace cumbersome switch/if blocks which tend to grow indefinitely as you add new options.\r\n\r\n\r\n    public interface Command {\r\n         void exec();\r\n    }\r\n    \r\n    public class CommandA() implements Command {\r\n    \r\n         void exec() {\r\n              // ... \r\n         }\r\n    }\r\n    // etc etc\r\n\r\nthen build a `Map&lt;String,Command&gt;` object and populate it with Command instances:\r\n\r\n    commandMap.put(&quot;A&quot;, new CommandA());\r\n    commandMap.put(&quot;B&quot;, new CommandB());\r\n\r\nthen you can replace your if/else if chain with:\r\n\r\n    commandMap.get(value).exec();\r\n\r\nIn **Factory Pattern** you include your if/switch in a Factory which takes care of the ugliness and hides the abundance of ifs.  [**Example code for Factory Pattern**.][3]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Command_pattern\r\n  [2]: http://en.wikipedia.org/wiki/Factory_method_pattern\r\n  [3]: http://www.codeproject.com/Tips/469453/Illustrating-Factory-pattern-with-a-very-basic-exa\r\n","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>You can use <a href=\"http://en.wikipedia.org/wiki/Command_pattern\" rel=\"noreferrer\"><strong>Command pattern</strong></a> or <a href=\"http://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"noreferrer\"><strong>Factory pattern</strong></a>.</p>\n\n<p><strong>Command pattern</strong> can be used to replace cumbersome switch/if blocks which tend to grow indefinitely as you add new options.</p>\n\n<pre><code>public interface Command {\n     void exec();\n}\n\npublic class CommandA() implements Command {\n\n     void exec() {\n          // ... \n     }\n}\n// etc etc\n</code></pre>\n\n<p>then build a <code>Map&lt;String,Command&gt;</code> object and populate it with Command instances:</p>\n\n<pre><code>commandMap.put(\"A\", new CommandA());\ncommandMap.put(\"B\", new CommandB());\n</code></pre>\n\n<p>then you can replace your if/else if chain with:</p>\n\n<pre><code>commandMap.get(value).exec();\n</code></pre>\n\n<p>In <strong>Factory Pattern</strong> you include your if/switch in a Factory which takes care of the ugliness and hides the abundance of ifs.  <a href=\"http://www.codeproject.com/Tips/469453/Illustrating-Factory-pattern-with-a-very-basic-exa\" rel=\"noreferrer\"><strong>Example code for Factory Pattern</strong>.</a></p>\n"},{"comments":[{"owner":{"account_id":2741510,"reputation":949,"user_id":2362960,"accept_rate":12,"display_name":"SCoder"},"score":0,"creation_date":1369978624,"post_id":16849789,"comment_id":24300335,"body_markdown":"it may be not fit into my requirement.I have edited my question to include a sample of conditional logic.I have conditional logic on some properties of a class for rule one and some other properties(may include some properties used in rule one) for rule two","body":"it may be not fit into my requirement.I have edited my question to include a sample of conditional logic.I have conditional logic on some properties of a class for rule one and some other properties(may include some properties used in rule one) for rule two"}],"tags":[],"owner":{"account_id":1633017,"reputation":7674,"user_id":1667773,"display_name":"vishal_aim"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1369974611,"creation_date":1369974611,"answer_id":16849789,"question_id":16849656,"body_markdown":"Strategy pattern could be useful here. Please check [Replace Conditional Logic with Strategy][1]\r\n\r\n\r\n  [1]: http://www.informit.com/articles/article.aspx?p=1398607&amp;seqNum=2","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>Strategy pattern could be useful here. Please check <a href=\"http://www.informit.com/articles/article.aspx?p=1398607&amp;seqNum=2\">Replace Conditional Logic with Strategy</a></p>\n"},{"tags":[],"owner":{"account_id":2292131,"reputation":2951,"user_id":2014619,"display_name":"Gabriel Aramburu"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1370184130,"creation_date":1370110078,"answer_id":16875689,"question_id":16849656,"body_markdown":"A design pattern could help you to make the code more readable or improve its maintainability, but if you really need to evaluate such numbers of conditions, the IF  statements cannot be avoided. \r\n\r\nI would consider seeing the problem from other point of view  (e.g.: do I really need one hundred conditional statements to solve the problem?) and I would try to change or to improve the [algorithm.][1] \r\n\r\nAn [Expression Language][2] could provide some help because you could create programmatically a string that represents each IF statement and to evaluate the result using this tool, but you still have to solve the problem related to the execution of the particular logic associated with each condition.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/558657/whats-the-difference-between-an-algorithm-and-a-design-pattern\r\n  [2]: http://java-source.net/open-source/expression-languages","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>A design pattern could help you to make the code more readable or improve its maintainability, but if you really need to evaluate such numbers of conditions, the IF  statements cannot be avoided. </p>\n\n<p>I would consider seeing the problem from other point of view  (e.g.: do I really need one hundred conditional statements to solve the problem?) and I would try to change or to improve the <a href=\"https://stackoverflow.com/questions/558657/whats-the-difference-between-an-algorithm-and-a-design-pattern\">algorithm.</a> </p>\n\n<p>An <a href=\"http://java-source.net/open-source/expression-languages\" rel=\"nofollow noreferrer\">Expression Language</a> could provide some help because you could create programmatically a string that represents each IF statement and to evaluate the result using this tool, but you still have to solve the problem related to the execution of the particular logic associated with each condition.</p>\n"},{"tags":[],"owner":{"account_id":2764937,"reputation":1242,"user_id":2380901,"display_name":"lancerex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422867692,"creation_date":1422867692,"answer_id":28274095,"question_id":16849656,"body_markdown":"A simple strategy demo with python:\r\n\r\n    class Context(object):\r\n      def __init__(self, strategy):\r\n        self.strategy = strategy\r\n    \r\n      def execute(self, num1, num2):\r\n        return self.strategy(num1, num2)\r\n    \r\n    class OperationAdd(object):\r\n      def __call__(self, num1, num2):\r\n        return num1 + num2\r\n    \r\n    \r\n    class OperationSub(object):\r\n      def __call__(self, num1, num2):\r\n        return num1 - num2\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n      con = Context(OperationAdd())\r\n      print &quot;10 + 5 =&quot;, con.execute(10, 5)\r\n    \r\n      con = Context(OperationSub())\r\n      print &quot;10 - 5 =&quot;, con.execute(10, 5)\r\n","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>A simple strategy demo with python:</p>\n\n<pre><code>class Context(object):\n  def __init__(self, strategy):\n    self.strategy = strategy\n\n  def execute(self, num1, num2):\n    return self.strategy(num1, num2)\n\nclass OperationAdd(object):\n  def __call__(self, num1, num2):\n    return num1 + num2\n\n\nclass OperationSub(object):\n  def __call__(self, num1, num2):\n    return num1 - num2\n\n\nif __name__ == '__main__':\n  con = Context(OperationAdd())\n  print \"10 + 5 =\", con.execute(10, 5)\n\n  con = Context(OperationSub())\n  print \"10 - 5 =\", con.execute(10, 5)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8243104,"reputation":1096,"user_id":6200146,"accept_rate":65,"display_name":"mavi"},"score":0,"creation_date":1550017114,"post_id":47397705,"comment_id":96112580,"body_markdown":"You can also check a blog post where they explain how the rules design pattern works http://www.michael-whelan.net/rules-design-pattern/","body":"You can also check a blog post where they explain how the rules design pattern works <a href=\"http://www.michael-whelan.net/rules-design-pattern/\" rel=\"nofollow noreferrer\">michael-whelan.net/rules-design-pattern</a>"}],"tags":[],"owner":{"account_id":10772,"reputation":11732,"user_id":20489,"accept_rate":57,"display_name":"bingles"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1565711083,"creation_date":1511198665,"answer_id":47397705,"question_id":16849656,"body_markdown":"You should check out the Rules Design Pattern http://www.michael-whelan.net/rules-design-pattern/. It looks very similar to the example code you gave and consists of a base interface that defines a method for determining if a rule is satisfied and then various concrete implementations per different rules. As I understand it, your switch statement would turn into some sort of simple loop that just evaluates things until your composition of rules is either satisfied or fails.\r\n\r\n    interface IRule {\r\n        bool isSatisfied(SomeThing thing);\r\n    }\r\n\r\n    class RuleA: IRule {\r\n        public bool isSatisfied(SomeThing thing) {\r\n            ...\r\n        }\r\n    }\r\n\r\n    class RuleB: IRule {\r\n        ...\r\n    }\r\n    \r\n    class RuleC: IRule {\r\n        ...\r\n    }\r\n\r\nComposition Rules:\r\n\r\n    class OrRule: IRule {\r\n        private readonly IRule[] rules;\r\n\r\n        public OrRule(params IRule[] rules) {\r\n            this.rules = rules;\r\n        }\r\n\r\n        public isSatisfied(thing: Thing) {\r\n            return this.rules.Any(r =&gt; r.isSatisfied(thing));\r\n        }\r\n    }\r\n\r\n    class AndRule: IRule {\r\n        private readonly IRule[] rules;\r\n\r\n        public AndRule(params IRule[] rules) {\r\n            this.rules = rules;\r\n        }\r\n\r\n        public isSatisfied(thing: Thing) {\r\n            return this.rules.All(r =&gt; r.isSatisfied(thing));\r\n        }\r\n    }\r\n\r\n    // Helpers for AndRule / OrRule\r\n\r\n    static IRule and(params IRule[] rules) {\r\n        return new AndRule(rules);\r\n    }\r\n\r\n    static IRule or(params IRule[] rules) {\r\n        return new OrRule(rules);\r\n    }\r\n    \r\nSome service method that runs a rule on a thing:\r\n    \r\n    class SomeService {\r\n            public evaluate(IRule rule, Thing thing) {\r\n                return rule.isSatisfied(thing);\r\n            }\r\n        }\r\n    \r\nUsage:\r\n\r\n    // Compose a tree of rules\r\n    var rule = \r\n        and (\r\n            new Rule1(),\r\n            or (\r\n                new Rule2(),\r\n                new Rule3()\r\n            )\r\n        );\r\n    \r\n    var thing = new Thing();\r\n        \r\n    new SomeService().evaluate(rule, thing);\r\n\r\nThis was also answered here: https://softwareengineering.stackexchange.com/questions/323018/business-rules-design-pattern","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>You should check out the Rules Design Pattern <a href=\"http://www.michael-whelan.net/rules-design-pattern/\" rel=\"noreferrer\">http://www.michael-whelan.net/rules-design-pattern/</a>. It looks very similar to the example code you gave and consists of a base interface that defines a method for determining if a rule is satisfied and then various concrete implementations per different rules. As I understand it, your switch statement would turn into some sort of simple loop that just evaluates things until your composition of rules is either satisfied or fails.</p>\n\n<pre><code>interface IRule {\n    bool isSatisfied(SomeThing thing);\n}\n\nclass RuleA: IRule {\n    public bool isSatisfied(SomeThing thing) {\n        ...\n    }\n}\n\nclass RuleB: IRule {\n    ...\n}\n\nclass RuleC: IRule {\n    ...\n}\n</code></pre>\n\n<p>Composition Rules:</p>\n\n<pre><code>class OrRule: IRule {\n    private readonly IRule[] rules;\n\n    public OrRule(params IRule[] rules) {\n        this.rules = rules;\n    }\n\n    public isSatisfied(thing: Thing) {\n        return this.rules.Any(r =&gt; r.isSatisfied(thing));\n    }\n}\n\nclass AndRule: IRule {\n    private readonly IRule[] rules;\n\n    public AndRule(params IRule[] rules) {\n        this.rules = rules;\n    }\n\n    public isSatisfied(thing: Thing) {\n        return this.rules.All(r =&gt; r.isSatisfied(thing));\n    }\n}\n\n// Helpers for AndRule / OrRule\n\nstatic IRule and(params IRule[] rules) {\n    return new AndRule(rules);\n}\n\nstatic IRule or(params IRule[] rules) {\n    return new OrRule(rules);\n}\n</code></pre>\n\n<p>Some service method that runs a rule on a thing:</p>\n\n<pre><code>class SomeService {\n        public evaluate(IRule rule, Thing thing) {\n            return rule.isSatisfied(thing);\n        }\n    }\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>// Compose a tree of rules\nvar rule = \n    and (\n        new Rule1(),\n        or (\n            new Rule2(),\n            new Rule3()\n        )\n    );\n\nvar thing = new Thing();\n\nnew SomeService().evaluate(rule, thing);\n</code></pre>\n\n<p>This was also answered here: <a href=\"https://softwareengineering.stackexchange.com/questions/323018/business-rules-design-pattern\">https://softwareengineering.stackexchange.com/questions/323018/business-rules-design-pattern</a></p>\n"}],"owner":{"account_id":2741510,"reputation":949,"user_id":2362960,"accept_rate":12,"display_name":"SCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71738,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":6,"score":43,"last_activity_date":1677115545,"creation_date":1369973747,"question_id":16849656,"body_markdown":"I have to implement certain business rules with hundreds of lines of below code:\r\n\r\n    if this\r\n          then this\r\n    else if\r\n          then this\r\n    .\r\n    . // hundreds of lines of rules\r\n     else\r\n          that\r\n\r\nDo we have any design pattern which can effectively implement this or reuse the code so that it can be applied to all different rules?\r\nI heard of ***Specification Pattern*** which creates something like the below:\r\n\r\n    public interface Specification {\r\n\r\n    boolean isSatisfiedBy(Object o);\r\n\r\n    Specification and(Specification specification);\r\n\r\n    Specification or(Specification specification);\r\n\r\n    Specification not(Specification specification);\r\n    }\r\n\r\n\r\n    public abstract class AbstractSpecification implements Specification {\r\n\r\n    public abstract boolean isSatisfiedBy(Object o);\r\n\r\n    public Specification and(final Specification specification) {\r\n     return new AndSpecification(this, specification);\r\n    }\r\n\r\n    public Specification or(final Specification specification) {\r\n     return new OrSpecification(this, specification);\r\n    }\r\n\r\n     public Specification not(final Specification specification) {\r\n     return new NotSpecification(specification);\r\n    }\r\n    }\r\n\r\nAnd then the implementation of Is, And, Or methods but I think this cannot save me from writing the if-else (maybe my understanding is incorrect)...\r\n\r\nIs there any best approach to implement such business rules having so many if-else statements?\r\n\r\nEDIT: Just a sample example. A, B, C, etc are properties of a class. Apart from these, there are a similar lot of other rules. I want to make a generic code for this.\r\n\r\n    \tIf &lt;A&gt; = &#39;something&#39; and &lt;B&gt; = ‘something’ then\r\n\t\tIf &lt;C&gt; = ‘02’ and &lt;D&gt; &lt;&gt; ‘02’ and &lt; E&gt; &lt;&gt; ‘02’  then\r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; &lt;&gt; ‘02’  then\r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; &lt;&gt; ‘02’ and &lt;J&gt; = ‘02’  then\r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; = ‘02’  then \r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; = ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; &lt;&gt; ‘02’  then \r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; = ‘02’ and &lt;I&gt; &lt;&gt; ‘02’ and &lt;J&gt; = ‘02’  then \r\n\t\t\t&#39;something&#39;\r\n\t\tElse if &lt;H&gt; = ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; = ‘02’  then:\r\n\t\t\tIf &lt;Q&gt; = Y then\r\n\t\t\t\t&#39;something&#39;\r\n\t\t\tElse then \r\n\t\t\t\t&#39;something&#39;\r\n\tElse :\r\n\tValue of &lt;Z&gt;\r\n\r\n\r\n","title":"Design Pattern to implement Business Rules with hundreds of if else in java","body":"<p>I have to implement certain business rules with hundreds of lines of below code:</p>\n<pre><code>if this\n      then this\nelse if\n      then this\n.\n. // hundreds of lines of rules\n else\n      that\n</code></pre>\n<p>Do we have any design pattern which can effectively implement this or reuse the code so that it can be applied to all different rules?\nI heard of <em><strong>Specification Pattern</strong></em> which creates something like the below:</p>\n<pre><code>public interface Specification {\n\nboolean isSatisfiedBy(Object o);\n\nSpecification and(Specification specification);\n\nSpecification or(Specification specification);\n\nSpecification not(Specification specification);\n}\n\n\npublic abstract class AbstractSpecification implements Specification {\n\npublic abstract boolean isSatisfiedBy(Object o);\n\npublic Specification and(final Specification specification) {\n return new AndSpecification(this, specification);\n}\n\npublic Specification or(final Specification specification) {\n return new OrSpecification(this, specification);\n}\n\n public Specification not(final Specification specification) {\n return new NotSpecification(specification);\n}\n}\n</code></pre>\n<p>And then the implementation of Is, And, Or methods but I think this cannot save me from writing the if-else (maybe my understanding is incorrect)...</p>\n<p>Is there any best approach to implement such business rules having so many if-else statements?</p>\n<p>EDIT: Just a sample example. A, B, C, etc are properties of a class. Apart from these, there are a similar lot of other rules. I want to make a generic code for this.</p>\n<pre><code>    If &lt;A&gt; = 'something' and &lt;B&gt; = ‘something’ then\n    If &lt;C&gt; = ‘02’ and &lt;D&gt; &lt;&gt; ‘02’ and &lt; E&gt; &lt;&gt; ‘02’  then\n        'something'\n    Else if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; &lt;&gt; ‘02’  then\n        'something'\n    Else if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; &lt;&gt; ‘02’ and &lt;J&gt; = ‘02’  then\n        'something'\n    Else if &lt;H&gt; &lt;&gt; ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; = ‘02’  then \n        'something'\n    Else if &lt;H&gt; = ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; &lt;&gt; ‘02’  then \n        'something'\n    Else if &lt;H&gt; = ‘02’ and &lt;I&gt; &lt;&gt; ‘02’ and &lt;J&gt; = ‘02’  then \n        'something'\n    Else if &lt;H&gt; = ‘02’ and &lt;I&gt; = ‘02’ and &lt;J&gt; = ‘02’  then:\n        If &lt;Q&gt; = Y then\n            'something'\n        Else then \n            'something'\nElse :\nValue of &lt;Z&gt;\n</code></pre>\n"},{"tags":["java","spring","rest","validation","controller"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677202051,"post_id":75539747,"comment_id":133296359,"body_markdown":"I don&#39;t think RepositoryEventHandlers are the place to validate: validation is the topic before RepositoryEventHandlers in the Spring Data Rest manual; validation is not mentioned in [Spring Data REST Events with @RepositoryEventHandler](https://www.baeldung.com/spring-data-rest-events). I would suggest reviewing the following resources: 1) [Guide to Spring Data REST Validators](https://www.baeldung.com/spring-data-rest-validators), and 2) [Spring Data REST Reference Guide](https://docs.spring.io/spring-data/rest/docs/current/reference/html/#validation) to solve your problem.","body":"I don&#39;t think RepositoryEventHandlers are the place to validate: validation is the topic before RepositoryEventHandlers in the Spring Data Rest manual; validation is not mentioned in <a href=\"https://www.baeldung.com/spring-data-rest-events\" rel=\"nofollow noreferrer\">Spring Data REST Events with @RepositoryEventHandler</a>. I would suggest reviewing the following resources: 1) <a href=\"https://www.baeldung.com/spring-data-rest-validators\" rel=\"nofollow noreferrer\">Guide to Spring Data REST Validators</a>, and 2) <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#validation\" rel=\"nofollow noreferrer\">Spring Data REST Reference Guide</a> to solve your problem."}],"owner":{"account_id":25261654,"reputation":21,"user_id":19092469,"display_name":"R Am"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677115432,"creation_date":1677115432,"question_id":75539747,"body_markdown":"I&#39;m using Spring Data Rest and it doesn&#39;t use @Valid in controllers.\r\n\r\nTo do it by myself, i handled the event &quot;before create&quot; with the following code :\r\n\r\n```\r\n  @HandleBeforeCreate\r\n    public Programme handleProgrammeBeforeCreate(@Valid @RequestBody Programme programme) {\r\n        programmeRepository.save(programme);\r\n        return programme;\r\n```\r\n\r\nProblem is @Valid do nothing...\r\n\r\nHow can I do please?\r\n\r\n(It seems I cannot modifiy directly Controllers using Spring Data Rest, I already test a lot a things)","title":"@Valid annotation in Event Handler","body":"<p>I'm using Spring Data Rest and it doesn't use @Valid in controllers.</p>\n<p>To do it by myself, i handled the event &quot;before create&quot; with the following code :</p>\n<pre><code>  @HandleBeforeCreate\n    public Programme handleProgrammeBeforeCreate(@Valid @RequestBody Programme programme) {\n        programmeRepository.save(programme);\n        return programme;\n</code></pre>\n<p>Problem is @Valid do nothing...</p>\n<p>How can I do please?</p>\n<p>(It seems I cannot modifiy directly Controllers using Spring Data Rest, I already test a lot a things)</p>\n"},{"tags":["java","multithreading","jdbc","pgbouncer"],"answers":[{"comments":[{"owner":{"account_id":2032093,"reputation":1995,"user_id":1815486,"accept_rate":40,"display_name":"aiguofer"},"score":0,"creation_date":1677107801,"post_id":75528166,"comment_id":133275061,"body_markdown":"Thanks, this makes sense! I guess the code is ultimately similar to using a client side pool where one would use something like `pooledDataSource.getConnection()` in each request, but instead of getting the connection from the pool it establishes the connection with pgbouncer. I think the part I was missing was that I thought establishing a connection with pgbouncer was still expensive.","body":"Thanks, this makes sense! I guess the code is ultimately similar to using a client side pool where one would use something like <code>pooledDataSource.getConnection()</code> in each request, but instead of getting the connection from the pool it establishes the connection with pgbouncer. I think the part I was missing was that I thought establishing a connection with pgbouncer was still expensive."}],"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677115056,"creation_date":1677038609,"answer_id":75528166,"question_id":75527494,"body_markdown":"If you are using middleware connection pool it doesn’t makes sense to also have connection pools on the instances side or have one connection to pool per instance. For each request to DB instance should establish new connection to pgbouncer. As connection to pgbouncer is a regular TCP connection in opposite to connection to DB being CPU and memory expensive it should be cheap to establish them.Yes, it will add some latency, but if you are using pgbouncer in the same datacenter as instances it should be something around few ms for AWS. If you have multiple instances accessing DB using shared pool instead of instance local pool this latency overhead could be a lot smaller than gain you will get from managing connections more efficiently","title":"HikariCP (and other connection pools) on multi-threaded server and PgBouncer","body":"<p>If you are using middleware connection pool it doesn’t makes sense to also have connection pools on the instances side or have one connection to pool per instance. For each request to DB instance should establish new connection to pgbouncer. As connection to pgbouncer is a regular TCP connection in opposite to connection to DB being CPU and memory expensive it should be cheap to establish them.Yes, it will add some latency, but if you are using pgbouncer in the same datacenter as instances it should be something around few ms for AWS. If you have multiple instances accessing DB using shared pool instead of instance local pool this latency overhead could be a lot smaller than gain you will get from managing connections more efficiently</p>\n"}],"owner":{"account_id":2032093,"reputation":1995,"user_id":1815486,"accept_rate":40,"display_name":"aiguofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75528166,"answer_count":1,"score":1,"last_activity_date":1677115056,"creation_date":1677029575,"question_id":75527494,"body_markdown":"So I&#39;ve recently become aware of PgBouncer and I&#39;m struggling to understand how it replaces a connection pool on a multi-threaded server. I looked over https://stackoverflow.com/questions/56581582/hikaricp-apache-dbcp2-and-pgbouncer but it doesn&#39;t seem to address that.\r\n\r\nSuppose I have a Java server that handles a request per thread, and it connects to the db through JDBC. JDBC drivers are supposed to be thread-safe, but requests on the same connection can only be served one at a time. A pool like Hikari allows each thread to grab an existing connection (saving time by not having to establish a new connection per request), and then use it exclusively for db transactions within that thread (saving time when there&#39;s other simultaneous requests).\r\n\r\nHow exactly does pgbouncer solve both of those problems? If I use a single global connection to pgbouncer that is shared by all the threads, we still have the blocking problem. If I create a connection per request, we still have the overhead of establishing a connection with pgbouncer (which I understand is cheaper than connecting to the db, but this still seems odd).","title":"HikariCP (and other connection pools) on multi-threaded server and PgBouncer","body":"<p>So I've recently become aware of PgBouncer and I'm struggling to understand how it replaces a connection pool on a multi-threaded server. I looked over <a href=\"https://stackoverflow.com/questions/56581582/hikaricp-apache-dbcp2-and-pgbouncer\">HikariCP/Apache DBCP2 and PgBouncer</a> but it doesn't seem to address that.</p>\n<p>Suppose I have a Java server that handles a request per thread, and it connects to the db through JDBC. JDBC drivers are supposed to be thread-safe, but requests on the same connection can only be served one at a time. A pool like Hikari allows each thread to grab an existing connection (saving time by not having to establish a new connection per request), and then use it exclusively for db transactions within that thread (saving time when there's other simultaneous requests).</p>\n<p>How exactly does pgbouncer solve both of those problems? If I use a single global connection to pgbouncer that is shared by all the threads, we still have the blocking problem. If I create a connection per request, we still have the overhead of establishing a connection with pgbouncer (which I understand is cheaper than connecting to the db, but this still seems odd).</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677115042,"creation_date":1677114374,"answer_id":75539680,"question_id":75539492,"body_markdown":"Your code looks like a mix of Java and Kotlin. You can&#39;t write Java code in a Kotlin file.\r\n\r\nThere is no `getClass()` in Kotlin. Instead of `.getClass()`, use `::class.java`. Or in this specific case, you don&#39;t need `.java`, since a Kotlin KClass also has a `.simpleName` property (not getter function).\r\n\r\nTo import File, hover over the word File and the IDE will suggest auto-importing it for you. So for the most part, you don&#39;t need to memorize packages for imports.","title":"Android Studio Kotlin. Unresolved reference getClass()","body":"<p>Your code looks like a mix of Java and Kotlin. You can't write Java code in a Kotlin file.</p>\n<p>There is no <code>getClass()</code> in Kotlin. Instead of <code>.getClass()</code>, use <code>::class.java</code>. Or in this specific case, you don't need <code>.java</code>, since a Kotlin KClass also has a <code>.simpleName</code> property (not getter function).</p>\n<p>To import File, hover over the word File and the IDE will suggest auto-importing it for you. So for the most part, you don't need to memorize packages for imports.</p>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677115042,"creation_date":1677112004,"question_id":75539492,"body_markdown":"Trying to compile the following code, but I&#39;m getting unresolved reference errors\r\n\r\n    if (!OpenCVLoader.initDebug()) {\r\n        Log.e(this.getClass().getSimpleName(), &quot; OpenCVLoader.initDebug(), not working.&quot;);\r\n    } else {\r\n        Log.d(this.getClass().getSimpleName(), &quot; OpenCVLoader.initDebug(), working.&quot;);\r\n    }\r\n\r\n\r\nHow do I find what I need to import to get this getClass() function to work?\r\n\r\nI also have an error `Unresolved reference File` on this line\r\n`val inputFilePath = inputDir + File.separator + inputFileName + &quot;.&quot; + inputExtension`\r\n\r\nwhich improt is required to get this to work\r\n\r\nIs there a good way to search for what I need to import for future unresolved references?\r\n","title":"Android Studio Kotlin. Unresolved reference getClass()","body":"<p>Trying to compile the following code, but I'm getting unresolved reference errors</p>\n<pre><code>if (!OpenCVLoader.initDebug()) {\n    Log.e(this.getClass().getSimpleName(), &quot; OpenCVLoader.initDebug(), not working.&quot;);\n} else {\n    Log.d(this.getClass().getSimpleName(), &quot; OpenCVLoader.initDebug(), working.&quot;);\n}\n</code></pre>\n<p>How do I find what I need to import to get this getClass() function to work?</p>\n<p>I also have an error <code>Unresolved reference File</code> on this line\n<code>val inputFilePath = inputDir + File.separator + inputFileName + &quot;.&quot; + inputExtension</code></p>\n<p>which improt is required to get this to work</p>\n<p>Is there a good way to search for what I need to import for future unresolved references?</p>\n"},{"tags":["java","apache","csv","apache-camel","splitter"],"answers":[{"comments":[{"owner":{"account_id":1810430,"reputation":183,"user_id":1646626,"accept_rate":50,"display_name":"Kumar Ritesh"},"score":0,"creation_date":1378269823,"post_id":18595675,"comment_id":27384643,"body_markdown":"Thanks. I will consider doing it.","body":"Thanks. I will consider doing it."}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677114657,"creation_date":1378220875,"answer_id":18595675,"question_id":18590755,"body_markdown":"I suggest to spend some time to research the Apache Camel documentation. For example on the Splitter EIP page its all documented how you can do this.\r\n\r\nSee https://camel.apache.org/components/3.20.x/eips/split-eip.html#_splitting_files_by_grouping_n_lines_together at the section _Splitting files by grouping N lines together_","title":"How to split a csv file 20 lines at a time using Splitter EIP, in apache camel?","body":"<p>I suggest to spend some time to research the Apache Camel documentation. For example on the Splitter EIP page its all documented how you can do this.</p>\n<p>See <a href=\"https://camel.apache.org/components/3.20.x/eips/split-eip.html#_splitting_files_by_grouping_n_lines_together\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/eips/split-eip.html#_splitting_files_by_grouping_n_lines_together</a> at the section <em>Splitting files by grouping N lines together</em></p>\n"},{"tags":[],"owner":{"account_id":2149542,"reputation":767,"user_id":1906350,"display_name":"Amitabha Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522152783,"creation_date":1522152783,"answer_id":49512578,"question_id":18590755,"body_markdown":"    package com.camel;\r\n    \r\n    import org.apache.camel.CamelContext;\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.dataformat.csv.CsvDataFormat;\r\n    import org.apache.camel.impl.DefaultCamelContext;\r\n    import org.apache.commons.csv.CSVFormat;\r\n    import org.apache.commons.csv.QuoteMode;\r\n    \r\n    public class FileSplitter {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tCamelContext context = new DefaultCamelContext();\r\n    \t\tCsvDataFormat csvParser = new CsvDataFormat(CSVFormat.DEFAULT);\r\n    \t\tcsvParser.setSkipHeaderRecord(true);\r\n    \t\tcsvParser.setQuoteMode(QuoteMode.ALL);\r\n    \t\tcontext.addRoutes(new RouteBuilder() {\r\n    \t\t\tpublic void configure() {\r\n    \t\t\t\tString fileName = &quot;Hello.csv&quot;;\r\n    \t\t\t\tint lineCount = 20;\r\n    \t\t\t\tSystem.out.println(&quot;fileName = &quot; + fileName);\r\n    \t\t\t\tSystem.out.println(&quot;lineCount = &quot; + lineCount);\r\n    \t\t\t\tfrom(&quot;file:data/inbox?noop=true&amp;fileName=&quot; + fileName).unmarshal(csvParser).split(body()).streaming()\r\n    \t\t\t\t\t\t.aggregate(constant(true), new ArrayListAggregationStrategy()).completionSize(lineCount)\r\n    \t\t\t\t\t\t.completionTimeout(1500).marshal(csvParser)\r\n    \t\t\t\t\t\t.to(&quot;file:data/outbox?fileName=${file:name.noext}_${header.CamelSplitIndex}.csv&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tcontext.start();\r\n    \t\tThread.sleep(10000);\r\n    \t\tcontext.stop();\r\n    \t\tSystem.out.println(&quot;End&quot;);\r\n    \t}\r\n    }\r\n","title":"How to split a csv file 20 lines at a time using Splitter EIP, in apache camel?","body":"<pre><code>package com.camel;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.dataformat.csv.CsvDataFormat;\nimport org.apache.camel.impl.DefaultCamelContext;\nimport org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.QuoteMode;\n\npublic class FileSplitter {\n\n    public static void main(String args[]) throws Exception {\n        CamelContext context = new DefaultCamelContext();\n        CsvDataFormat csvParser = new CsvDataFormat(CSVFormat.DEFAULT);\n        csvParser.setSkipHeaderRecord(true);\n        csvParser.setQuoteMode(QuoteMode.ALL);\n        context.addRoutes(new RouteBuilder() {\n            public void configure() {\n                String fileName = \"Hello.csv\";\n                int lineCount = 20;\n                System.out.println(\"fileName = \" + fileName);\n                System.out.println(\"lineCount = \" + lineCount);\n                from(\"file:data/inbox?noop=true&amp;fileName=\" + fileName).unmarshal(csvParser).split(body()).streaming()\n                        .aggregate(constant(true), new ArrayListAggregationStrategy()).completionSize(lineCount)\n                        .completionTimeout(1500).marshal(csvParser)\n                        .to(\"file:data/outbox?fileName=${file:name.noext}_${header.CamelSplitIndex}.csv\");\n            }\n        });\n        context.start();\n        Thread.sleep(10000);\n        context.stop();\n        System.out.println(\"End\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1810430,"reputation":183,"user_id":1646626,"accept_rate":50,"display_name":"Kumar Ritesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3255,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":18595675,"answer_count":2,"score":2,"last_activity_date":1677114657,"creation_date":1378206554,"question_id":18590755,"body_markdown":"I have a **csv file** having 2000 lines. I wish to **split it 20 lines** at a time and send each to a processor in apache camel. How do I do it using **Splitter EIP** ? Please help ..","title":"How to split a csv file 20 lines at a time using Splitter EIP, in apache camel?","body":"<p>I have a <strong>csv file</strong> having 2000 lines. I wish to <strong>split it 20 lines</strong> at a time and send each to a processor in apache camel. How do I do it using <strong>Splitter EIP</strong> ? Please help ..</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1677016150,"post_id":75526161,"comment_id":133253437,"body_markdown":"Set the property value in `application–test.properties`.","body":"Set the property value in <code>application–test.properties</code>."},{"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"score":0,"creation_date":1677079009,"post_id":75526161,"comment_id":133267055,"body_markdown":"Thanks, @Unmitigated, that works! Surprisingly, Google does not find this  documented in the [Spring docs](https://docs.spring.io/).","body":"Thanks, @Unmitigated, that works! Surprisingly, Google does not find this  documented in the <a href=\"https://docs.spring.io/\" rel=\"nofollow noreferrer\">Spring docs</a>."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677114589,"creation_date":1677034040,"answer_id":75527797,"question_id":75526161,"body_markdown":"Environment variables will override any properties defined in your application*.[properties|yml].  You can read the property resolution order in [the *Externalized Configuration* section of the Core Features documentation of Spring Boot](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config).\r\n\r\nOverriding properties with environment variables is pretty straightforward; you just need to follow the convention.\r\n\r\n* Replace dots (.) with underscores (_).\r\n* Remove any dashes (-).\r\n* Convert to uppercase.\r\n\r\nTo override that particular environment variable on a mac/linux/unix, export it (following the above convention).\r\n\r\n    export TEST_PROPERTY=a_test_property\r\n\r\nWhen your tests run, this will be the property that the property resolver will expose.\r\n","title":"Conveniently and temporarily modify a Spring property in an application.properties file","body":"<p>Environment variables will override any properties defined in your application*.[properties|yml].  You can read the property resolution order in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">the <em>Externalized Configuration</em> section of the Core Features documentation of Spring Boot</a>.</p>\n<p>Overriding properties with environment variables is pretty straightforward; you just need to follow the convention.</p>\n<ul>\n<li>Replace dots (.) with underscores (_).</li>\n<li>Remove any dashes (-).</li>\n<li>Convert to uppercase.</li>\n</ul>\n<p>To override that particular environment variable on a mac/linux/unix, export it (following the above convention).</p>\n<pre><code>export TEST_PROPERTY=a_test_property\n</code></pre>\n<p>When your tests run, this will be the property that the property resolver will expose.</p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677092420,"creation_date":1677092420,"answer_id":75537083,"question_id":75526161,"body_markdown":"Use `@ActiveProfiles(&quot;test&quot;)` on the test to enable the &quot;test&quot; profile. Then, the property can be set in `application–test.properties`.","title":"Conveniently and temporarily modify a Spring property in an application.properties file","body":"<p>Use <code>@ActiveProfiles(&quot;test&quot;)</code> on the test to enable the &quot;test&quot; profile. Then, the property can be set in <code>application–test.properties</code>.</p>\n"}],"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75527797,"answer_count":2,"score":1,"last_activity_date":1677114589,"creation_date":1677015531,"question_id":75526161,"body_markdown":"At times, we want to override a property in a Spring `application.properties` file when we&#39;re running unit tests or an application.\r\n\r\nAssume `gradle` manages the builds, and consider this test module, in `MinimalValueTest.java`.\r\n```\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.test.context.ActiveProfiles;\r\n\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class MinimalValueTest {\r\n\r\n\t@Value(&quot;${test.property}&quot;)\r\n\tString testProperty;\r\n\r\n    @Test\r\n    public void test() {\r\n      Assertions.assertTrue(testProperty != null);\r\n      // Support a test that changes the value of test.property at the command line to &quot;property_set_by_override_at_the_command_line&quot;\r\n      // (Unfortunately, org.junit.jupiter version 5 doesn&#39;t support this directly.)\r\n      Boolean oneOfTheExpectedValues = (testProperty.equals(&quot;a_test_property&quot;) ||\r\n                                        testProperty.equals(&quot;property_set_by_override_at_the_command_line&quot;));\r\n      Assertions.assertTrue(oneOfTheExpectedValues);\r\n    }\r\n\r\n}\r\n```\r\nThis test references this property defined in the `src/test/resources/application.properties` file:\r\n```\r\ntest.property=a_test_property\r\n```\r\n\r\n**What `gradle` command can be used to override this value of `test.property`?**\r\n\r\nSeveral existing SO questions try, but fail, to solve this problem: https://stackoverflow.com/q/29669393, https://stackoverflow.com/q/23689054, and https://stackoverflow.com/q/39820528.","title":"Conveniently and temporarily modify a Spring property in an application.properties file","body":"<p>At times, we want to override a property in a Spring <code>application.properties</code> file when we're running unit tests or an application.</p>\n<p>Assume <code>gradle</code> manages the builds, and consider this test module, in <code>MinimalValueTest.java</code>.</p>\n<pre><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.stereotype.Component;\nimport org.springframework.test.context.ActiveProfiles;\n\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\npublic class MinimalValueTest {\n\n    @Value(&quot;${test.property}&quot;)\n    String testProperty;\n\n    @Test\n    public void test() {\n      Assertions.assertTrue(testProperty != null);\n      // Support a test that changes the value of test.property at the command line to &quot;property_set_by_override_at_the_command_line&quot;\n      // (Unfortunately, org.junit.jupiter version 5 doesn't support this directly.)\n      Boolean oneOfTheExpectedValues = (testProperty.equals(&quot;a_test_property&quot;) ||\n                                        testProperty.equals(&quot;property_set_by_override_at_the_command_line&quot;));\n      Assertions.assertTrue(oneOfTheExpectedValues);\n    }\n\n}\n</code></pre>\n<p>This test references this property defined in the <code>src/test/resources/application.properties</code> file:</p>\n<pre><code>test.property=a_test_property\n</code></pre>\n<p><strong>What <code>gradle</code> command can be used to override this value of <code>test.property</code>?</strong></p>\n<p>Several existing SO questions try, but fail, to solve this problem: <a href=\"https://stackoverflow.com/q/29669393\">Override default Spring-Boot application.properties settings in Junit Test</a>, <a href=\"https://stackoverflow.com/q/23689054\">Problems passing system properties and parameters when running Java class via Gradle</a>, and <a href=\"https://stackoverflow.com/q/39820528\">Passing system properties into Spring Boot from Gradle</a>.</p>\n"},{"tags":["java","maven","launch4j"],"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677113631,"creation_date":1677113631,"question_id":75539619,"body_markdown":"I&#39;m currently developing a small desktop application for some automation task. I created a Maven project with the launch4j plugin to create an exe file. It creates and launches it but at some point it throws the following error:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/itextpdf/text/DocumentException\r\n            at net.fake.frame.manualidmreport.ManualIDMReportResumeForm.openFolderChooser(ManualIDMReportResumeForm.java:140)\r\n            at net.fake.frame.manualidmreport.ManualIDMReportResumeForm$2.mouseClicked(ManualIDMReportResumeForm.java:123)\r\n            at java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\r\n            at java.desktop/java.awt.Component.processMouseEvent(Component.java:6619)\r\n            at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n            at java.desktop/java.awt.Component.processEvent(Component.java:6381)\r\n            at java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n    ...\r\n\r\nI believe it&#39;s because the class `com.itextpdf.text.DocumentException` (alongside others probably) are part of the external library `itextpdf` and are not being included in the JRE (awt libraries load and work properly). Said class in configured in the pom file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;net.fake&lt;/groupId&gt;\r\n      &lt;artifactId&gt;auto-task&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;name&gt;auto-task&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;18&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.jacob&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jacob&lt;/artifactId&gt;\r\n          &lt;version&gt;1.20&lt;/version&gt;\r\n          &lt;scope&gt;system&lt;/scope&gt;\r\n          &lt;systemPath&gt;${basedir}/src/main/resources/lib/jacob.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n          &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n          &lt;scope&gt;system&lt;/scope&gt;\r\n          &lt;systemPath&gt;${basedir}/src/main/resources/lib/itextpdf.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;l4j-clui&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;launch4j&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;headerType&gt;console&lt;/headerType&gt;\r\n                  &lt;jar&gt;target/auto-task-0.0-SNAPSHOT.jar&lt;/jar&gt;\r\n                  &lt;outfile&gt;target/autotask.exe&lt;/outfile&gt;\r\n                  &lt;errTitle&gt;encc&lt;/errTitle&gt;\r\n                  &lt;classPath&gt;\r\n                    &lt;mainClass&gt;net.fake.App&lt;/mainClass&gt;\r\n                    &lt;jarLocation&gt;target/auto-task-0.0-SNAPSHOT.jar&lt;/jarLocation&gt;\r\n                    &lt;addDependencies&gt;true&lt;/addDependencies&gt;\r\n                    &lt;preCp&gt;anything&lt;/preCp&gt;\r\n                    &lt;postCp&gt;anything&lt;/postCp&gt;\r\n                  &lt;/classPath&gt;\r\n                  &lt;icon&gt;fake.ico&lt;/icon&gt;\r\n                  &lt;jre&gt;\r\n                    &lt;path&gt;${JAVA_HOME}&lt;/path&gt;\r\n                    &lt;minVersion&gt;18&lt;/minVersion&gt;\r\n                    &lt;requiresJdk&gt;true&lt;/requiresJdk&gt;\r\n                  &lt;/jre&gt;\r\n                  &lt;versionInfo&gt;\r\n                    &lt;fileVersion&gt;1.2.3.4&lt;/fileVersion&gt;\r\n                    &lt;txtFileVersion&gt;txtfileversion&lt;/txtFileVersion&gt;\r\n                    &lt;fileDescription&gt;adescription&lt;/fileDescription&gt;\r\n                    &lt;copyright&gt;my copyright&lt;/copyright&gt;\r\n                    &lt;productVersion&gt;4.3.2.1&lt;/productVersion&gt;\r\n                    &lt;txtProductVersion&gt;txt product version&lt;/txtProductVersion&gt;\r\n                    &lt;productName&gt;E-N-C-C&lt;/productName&gt;\r\n                    &lt;companyName&gt;fake&lt;/companyName&gt;\r\n                    &lt;internalName&gt;ccne&lt;/internalName&gt;\r\n                    &lt;originalFilename&gt;original.exe&lt;/originalFilename&gt;\r\n                    &lt;trademarks&gt;trademark&lt;/trademarks&gt;\r\n                  &lt;/versionInfo&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI also tried getting the dependencies from maven central, but nothing changes at all.\r\n\r\nI tried changing different configurations in the plugins, and reading the documentation, but it seems my knowledge is limited, and I don&#39;t have much experience creating standalone applications. What should I change to include these classes and run my program without these errors?","title":"Include jar library in Java Executable with Launch4J maven Plugin","body":"<p>I'm currently developing a small desktop application for some automation task. I created a Maven project with the launch4j plugin to create an exe file. It creates and launches it but at some point it throws the following error:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/itextpdf/text/DocumentException\n        at net.fake.frame.manualidmreport.ManualIDMReportResumeForm.openFolderChooser(ManualIDMReportResumeForm.java:140)\n        at net.fake.frame.manualidmreport.ManualIDMReportResumeForm$2.mouseClicked(ManualIDMReportResumeForm.java:123)\n        at java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6619)\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\n        at java.desktop/java.awt.Component.processEvent(Component.java:6381)\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n...\n</code></pre>\n<p>I believe it's because the class <code>com.itextpdf.text.DocumentException</code> (alongside others probably) are part of the external library <code>itextpdf</code> and are not being included in the JRE (awt libraries load and work properly). Said class in configured in the pom file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;net.fake&lt;/groupId&gt;\n  &lt;artifactId&gt;auto-task&lt;/artifactId&gt;\n  &lt;version&gt;0.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;auto-task&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.jacob&lt;/groupId&gt;\n      &lt;artifactId&gt;jacob&lt;/artifactId&gt;\n      &lt;version&gt;1.20&lt;/version&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;${basedir}/src/main/resources/lib/jacob.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n      &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n      &lt;version&gt;5.5.13.3&lt;/version&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;${basedir}/src/main/resources/lib/itextpdf.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\n        &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;l4j-clui&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;launch4j&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;headerType&gt;console&lt;/headerType&gt;\n              &lt;jar&gt;target/auto-task-0.0-SNAPSHOT.jar&lt;/jar&gt;\n              &lt;outfile&gt;target/autotask.exe&lt;/outfile&gt;\n              &lt;errTitle&gt;encc&lt;/errTitle&gt;\n              &lt;classPath&gt;\n                &lt;mainClass&gt;net.fake.App&lt;/mainClass&gt;\n                &lt;jarLocation&gt;target/auto-task-0.0-SNAPSHOT.jar&lt;/jarLocation&gt;\n                &lt;addDependencies&gt;true&lt;/addDependencies&gt;\n                &lt;preCp&gt;anything&lt;/preCp&gt;\n                &lt;postCp&gt;anything&lt;/postCp&gt;\n              &lt;/classPath&gt;\n              &lt;icon&gt;fake.ico&lt;/icon&gt;\n              &lt;jre&gt;\n                &lt;path&gt;${JAVA_HOME}&lt;/path&gt;\n                &lt;minVersion&gt;18&lt;/minVersion&gt;\n                &lt;requiresJdk&gt;true&lt;/requiresJdk&gt;\n              &lt;/jre&gt;\n              &lt;versionInfo&gt;\n                &lt;fileVersion&gt;1.2.3.4&lt;/fileVersion&gt;\n                &lt;txtFileVersion&gt;txtfileversion&lt;/txtFileVersion&gt;\n                &lt;fileDescription&gt;adescription&lt;/fileDescription&gt;\n                &lt;copyright&gt;my copyright&lt;/copyright&gt;\n                &lt;productVersion&gt;4.3.2.1&lt;/productVersion&gt;\n                &lt;txtProductVersion&gt;txt product version&lt;/txtProductVersion&gt;\n                &lt;productName&gt;E-N-C-C&lt;/productName&gt;\n                &lt;companyName&gt;fake&lt;/companyName&gt;\n                &lt;internalName&gt;ccne&lt;/internalName&gt;\n                &lt;originalFilename&gt;original.exe&lt;/originalFilename&gt;\n                &lt;trademarks&gt;trademark&lt;/trademarks&gt;\n              &lt;/versionInfo&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I also tried getting the dependencies from maven central, but nothing changes at all.</p>\n<p>I tried changing different configurations in the plugins, and reading the documentation, but it seems my knowledge is limited, and I don't have much experience creating standalone applications. What should I change to include these classes and run my program without these errors?</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1677106271,"post_id":75538836,"comment_id":133274760,"body_markdown":"Your example XML is valid, what seems to be the problem?","body":"Your example XML is valid, what seems to be the problem?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":4,"creation_date":1677106389,"post_id":75538836,"comment_id":133274785,"body_markdown":"I think the `&gt;` is just recognized as a raw value of the `&lt;xml&gt;` tag and should be correct XML.","body":"I think the <code>&gt;</code> is just recognized as a raw value of the <code>&lt;xml&gt;</code> tag and should be correct XML."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1677116209,"post_id":75538836,"comment_id":133276339,"body_markdown":"Your XML is well-formed, and `&gt;` does not have to be escaped there.  See [Simplified XML Escaping](https://stackoverflow.com/a/46637835/290085) for a concise and fully cited explanation of XML character escaping requirements.","body":"Your XML is well-formed, and <code>&gt;</code> does not have to be escaped there.  See <a href=\"https://stackoverflow.com/a/46637835/290085\">Simplified XML Escaping</a> for a concise and fully cited explanation of XML character escaping requirements."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1677116470,"post_id":75538836,"comment_id":133276371,"body_markdown":"Aside:  Names (of elements, for example) that begin with `xml` are reserved  for standardization, but this is generally not considered a violation of XML rules of well-formedness.","body":"Aside:  Names (of elements, for example) that begin with <code>xml</code> are reserved  for standardization, but this is generally not considered a violation of XML rules of well-formedness."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1677141297,"post_id":75538836,"comment_id":133280105,"body_markdown":"Further aside: I find the question rather surprising. In particular, I find it surprising that anyone who is not intimately familiar with the fine detail of the XML spec should attempt this task, let alone imagine that they can do a better job of it than mature XML parsers like the one in the JDK. I also find it rather surprising that anyone would prefer to write code themselves rather than use a third party library because of &quot;runaway dependencies&quot;: these days, surely, we construct software from reusable components?","body":"Further aside: I find the question rather surprising. In particular, I find it surprising that anyone who is not intimately familiar with the fine detail of the XML spec should attempt this task, let alone imagine that they can do a better job of it than mature XML parsers like the one in the JDK. I also find it rather surprising that anyone would prefer to write code themselves rather than use a third party library because of &quot;runaway dependencies&quot;: these days, surely, we construct software from reusable components?"},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1677166149,"post_id":75538836,"comment_id":133287802,"body_markdown":"answering Michael Kay - I use automated tests to make sure my XHTML follows many more rules than a mere standard. For example, I don&#39;t permit &#39;&lt;output&gt;&lt;/output&gt;` because that means the entire field should either have `N/A` or should go away","body":"answering Michael Kay - I use automated tests to make sure my XHTML follows many more rules than a mere standard. For example, I don&#39;t permit &#39;&lt;output&gt;&lt;/output&gt;` because that means the entire field should either have <code>N&#47;A</code> or should go away"}],"answers":[{"tags":[],"owner":{"account_id":1020072,"reputation":233593,"user_id":1030675,"display_name":"choroba"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677107077,"creation_date":1677107077,"answer_id":75539025,"question_id":75538836,"body_markdown":"`&gt;` can appear as a text in XML elements, representing it as `&amp;gt;` is not mandatory.\r\n```bash\r\n$ echo &#39;&lt;xml&gt;&lt;oops&gt;&lt;/oops&gt;&gt;&lt;/xml&gt;&#39; | xmllint -\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;xml&gt;&lt;oops/&gt;&amp;gt;&lt;/xml&gt;\r\n```","title":"Java&#39;s XML parser is too forgiving","body":"<p><code>&gt;</code> can appear as a text in XML elements, representing it as <code>&amp;gt;</code> is not mandatory.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ echo '&lt;xml&gt;&lt;oops&gt;&lt;/oops&gt;&gt;&lt;/xml&gt;' | xmllint -\n&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;xml&gt;&lt;oops/&gt;&amp;gt;&lt;/xml&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1677163274,"post_id":75539037,"comment_id":133286729,"body_markdown":"Thanks all; I didn&#39;t know the language law. (And I treat HTML as XML, which generally has tighter standards so I thought it would flag this.) I went with `refuteSubstring(&quot;&gt;&gt;&quot;, xml)`","body":"Thanks all; I didn&#39;t know the language law. (And I treat HTML as XML, which generally has tighter standards so I thought it would flag this.) I went with <code>refuteSubstring(&quot;&gt;&gt;&quot;, xml)</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677164534,"post_id":75539037,"comment_id":133287218,"body_markdown":"I think `&gt;` is allowed in text in HTML as well.","body":"I think <code>&gt;</code> is allowed in text in HTML as well."},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1677166027,"post_id":75539037,"comment_id":133287763,"body_markdown":"HTML permits all kinds of atrocities because of website developers using Notepad.exe","body":"HTML permits all kinds of atrocities because of website developers using Notepad.exe"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1677113581,"creation_date":1677107145,"answer_id":75539037,"question_id":75538836,"body_markdown":"You won&#39;t be able to configure a (properly implemented) XML parser to reject the unwanted `&gt;` in your example.  A `&gt;` is allowed at that point according to the [XML specification](https://www.w3.org/TR/xml/#syntax):\r\n\r\n&gt; The right angle bracket (`&gt;`) **may** be represented using the string &quot;`&amp;gt;`&quot;, and MUST, for compatibility, be escaped using either &quot;`&amp;gt;`&quot; or a character reference when it appears in the string &quot;` ]]&gt; `&quot; in content, when that string is not marking the end of a `CDATA` section.\r\n\r\nSo if you wanted to detect the extraneous `&gt;` you would need to do some extra checking of element content.\r\n\r\n&lt;sup&gt;This would be difficult if you wanted / needed to distinguish between (accidental) `&gt;` characters and (intentional) `&amp;gt;` in the element content.  An XML parser will normalize them to `&gt;` during parsing, and I don&#39;t know if there is a way to stop it doing that.&lt;/sup&gt;\r\n\r\n ","title":"Java&#39;s XML parser is too forgiving","body":"<p>You won't be able to configure a (properly implemented) XML parser to reject the unwanted <code>&gt;</code> in your example.  A <code>&gt;</code> is allowed at that point according to the <a href=\"https://www.w3.org/TR/xml/#syntax\" rel=\"nofollow noreferrer\">XML specification</a>:</p>\n<blockquote>\n<p>The right angle bracket (<code>&gt;</code>) <strong>may</strong> be represented using the string &quot;<code>&amp;gt;</code>&quot;, and MUST, for compatibility, be escaped using either &quot;<code>&amp;gt;</code>&quot; or a character reference when it appears in the string &quot;<code>]]&gt;</code>&quot; in content, when that string is not marking the end of a <code>CDATA</code> section.</p>\n</blockquote>\n<p>So if you wanted to detect the extraneous <code>&gt;</code> you would need to do some extra checking of element content.</p>\n<p><sup>This would be difficult if you wanted / needed to distinguish between (accidental) <code>&gt;</code> characters and (intentional) <code>&amp;gt;</code> in the element content.  An XML parser will normalize them to <code>&gt;</code> during parsing, and I don't know if there is a way to stop it doing that.</sup></p>\n"}],"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75539037,"answer_count":2,"score":1,"last_activity_date":1677113581,"creation_date":1677105368,"question_id":75538836,"body_markdown":"I&#39;m writing tests, so I need an XML parser that detects any conceivable deviation from permitted syntax.\r\n\r\nThis code passes without a complaint despite it contains a `&gt;&gt;`:\r\n\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    factory.setNamespaceAware(false);\r\n    DocumentBuilder builder = factory.newDocumentBuilder();\r\n    String oops = &quot;&lt;xml&gt;&lt;oops&gt;&lt;/oops&gt;&gt;&lt;/xml&gt;&quot;;\r\n    ByteArrayInputStream stream = new ByteArrayInputStream(oops.getBytes());\r\n    builder.parse(stream);\r\n\r\nHow do I increase the level of syntax checking? To complain about anything, not just one little `&gt;&gt;` that I can grep for?\r\n\r\n(Note that while other readers of this post might be interested in third-party libraries that can do it, I can only use `javax` to prevent runaway dependencies in my project)","title":"Java&#39;s XML parser is too forgiving","body":"<p>I'm writing tests, so I need an XML parser that detects any conceivable deviation from permitted syntax.</p>\n<p>This code passes without a complaint despite it contains a <code>&gt;&gt;</code>:</p>\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nfactory.setNamespaceAware(false);\nDocumentBuilder builder = factory.newDocumentBuilder();\nString oops = &quot;&lt;xml&gt;&lt;oops&gt;&lt;/oops&gt;&gt;&lt;/xml&gt;&quot;;\nByteArrayInputStream stream = new ByteArrayInputStream(oops.getBytes());\nbuilder.parse(stream);\n</code></pre>\n<p>How do I increase the level of syntax checking? To complain about anything, not just one little <code>&gt;&gt;</code> that I can grep for?</p>\n<p>(Note that while other readers of this post might be interested in third-party libraries that can do it, I can only use <code>javax</code> to prevent runaway dependencies in my project)</p>\n"},{"tags":["java","dictionary","immutability"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":3,"creation_date":1677107863,"post_id":75539033,"comment_id":133275078,"body_markdown":"Create a normal mutable map, initialize it, then call `Collections.unmodifiableMap()` to make it immutable.","body":"Create a normal mutable map, initialize it, then call <code>Collections.unmodifiableMap()</code> to make it immutable."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1677112654,"post_id":75539033,"comment_id":133275851,"body_markdown":"I&#39;m assuming this is `com.google.common.collect.ImmutableMap`?","body":"I&#39;m assuming this is <code>com.google.common.collect.ImmutableMap</code>?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1677115657,"post_id":75539033,"comment_id":133276263,"body_markdown":"What error do you get?  This looks like you just need `ImmutableMap.of`, not `put`; you never call `put` on an `ImmutableMap`.","body":"What error do you get?  This looks like you just need <code>ImmutableMap.of</code>, not <code>put</code>; you never call <code>put</code> on an <code>ImmutableMap</code>."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677113368,"creation_date":1677113368,"answer_id":75539600,"question_id":75539033,"body_markdown":"Use [`Map.of()`][1], which\r\n\r\n&gt;Returns an unmodifiable map\r\n\r\nfor both the outer map and the map values.\r\n\r\nFor example:\r\n\r\n    private static Map&lt;String, ImmutableMap&lt;String, String[]&gt;&gt; Errors = Map.of(\r\n      PppoeAgentStatTypes.RECEIVED.getCounterType(), Map.of(PppoeAgentCounters.AC_SYSTEM_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()}),\r\n      // more keys and values\r\n    );\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)","title":"How to initialize and populate an immutable map that holds an immutable map as one of the values of a key in Java","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of()</code></a>, which</p>\n<blockquote>\n<p>Returns an unmodifiable map</p>\n</blockquote>\n<p>for both the outer map and the map values.</p>\n<p>For example:</p>\n<pre><code>private static Map&lt;String, ImmutableMap&lt;String, String[]&gt;&gt; Errors = Map.of(\n  PppoeAgentStatTypes.RECEIVED.getCounterType(), Map.of(PppoeAgentCounters.AC_SYSTEM_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()}),\n  // more keys and values\n);\n</code></pre>\n"}],"owner":{"account_id":20656191,"reputation":187,"user_id":17563251,"display_name":"baris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677113368,"creation_date":1677107107,"question_id":75539033,"body_markdown":"I&#39;ve been trying to solve this issue where I have to initialize and populate the structure at the same time as indicated below code segment.\r\n```\r\nprivate static Map&lt;String, Map&lt;String, String[]&gt;&gt; Errors = ImmutableMap.&lt;String, ImmutableMap&lt;String, String[]&gt;&gt;builder()\r\n```\r\nThis is what I tried, but it just does not work.\r\n\r\n```\r\nprivate static ImmutableMap&lt;String, ImmutableMap&lt;String, String[]&gt;&gt; Errors = ImmutableMap.&lt;String, ImmutableMap&lt;String, String[]&gt;&gt;builder()\r\n            .put(PppoeAgentStatTypes.RECEIVED.getCounterType(), ImmutableMap.put(PppoeAgentCounters.AC_SYSTEM_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()}),\r\n                    ImmutableMap.of(PppoeAgentCounters.SERVICE_NAME_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()})).build();\r\n```\r\nI have tried populated using `of` or just using `put` but couldn&#39;t get a successful result. I either got error saying ImmutableMap is abstract and can&#39;t be instantiated or different syntax errors. How can I initialize and populate the structure above? ","title":"How to initialize and populate an immutable map that holds an immutable map as one of the values of a key in Java","body":"<p>I've been trying to solve this issue where I have to initialize and populate the structure at the same time as indicated below code segment.</p>\n<pre><code>private static Map&lt;String, Map&lt;String, String[]&gt;&gt; Errors = ImmutableMap.&lt;String, ImmutableMap&lt;String, String[]&gt;&gt;builder()\n</code></pre>\n<p>This is what I tried, but it just does not work.</p>\n<pre><code>private static ImmutableMap&lt;String, ImmutableMap&lt;String, String[]&gt;&gt; Errors = ImmutableMap.&lt;String, ImmutableMap&lt;String, String[]&gt;&gt;builder()\n            .put(PppoeAgentStatTypes.RECEIVED.getCounterType(), ImmutableMap.put(PppoeAgentCounters.AC_SYSTEM_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()}),\n                    ImmutableMap.of(PppoeAgentCounters.SERVICE_NAME_ERROR.getCounterType(), new String[]{PppoeAgentCounters.PADS.getCounterType(), PppoeAgentCounters.PADO.getCounterType()})).build();\n</code></pre>\n<p>I have tried populated using <code>of</code> or just using <code>put</code> but couldn't get a successful result. I either got error saying ImmutableMap is abstract and can't be instantiated or different syntax errors. How can I initialize and populate the structure above?</p>\n"},{"tags":["java","android"],"owner":{"account_id":27855774,"reputation":11,"user_id":21269292,"display_name":"Jirka Martinec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677112764,"creation_date":1677112764,"question_id":75539552,"body_markdown":"I have code in method **openAccessiblitySettings()** where I **startActivity** and &quot;**redirect**&quot; user **to Accessibility Settings**.\r\n\r\n```java\r\npublic void openAccessiblitySettings()\r\n{\r\n\tfinal Intent intent = new Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);\r\n\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\r\n\r\n\tactivity.startActivity(intent);\r\n}\r\n```\r\n\r\n**Is there any option to redirect to a specific page in the settings of a specific application ?**\r\n\r\nUsing maybe something like:\r\n\r\n```java\r\nUri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID)\r\n```\r\n\r\nSimilar to this:\r\n\r\n```java\r\npublic void openApplicationDetailsSettings()\r\n{\r\n\tfinal Intent intent = new Intent(\r\n\t\tSettings.ACTION_APPLICATION_DETAILS_SETTINGS,\r\n\t\tUri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID)\r\n\t);\r\n\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n\tintent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\r\n\r\n\tactivity.startActivity(intent);\r\n}\r\n```","title":"Android - Open Accessibility Settings of specific Application","body":"<p>I have code in method <strong>openAccessiblitySettings()</strong> where I <strong>startActivity</strong> and &quot;<strong>redirect</strong>&quot; user <strong>to Accessibility Settings</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void openAccessiblitySettings()\n{\n    final Intent intent = new Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);\n\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\n\n    activity.startActivity(intent);\n}\n</code></pre>\n<p><strong>Is there any option to redirect to a specific page in the settings of a specific application ?</strong></p>\n<p>Using maybe something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID)\n</code></pre>\n<p>Similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void openApplicationDetailsSettings()\n{\n    final Intent intent = new Intent(\n        Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\n        Uri.parse(&quot;package:&quot; + BuildConfig.APPLICATION_ID)\n    );\n\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\n\n    activity.startActivity(intent);\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","kotlin-coroutines","kotlin-flow"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1661851500,"post_id":73539120,"comment_id":129864026,"body_markdown":"Kotlin make use of property access and java does not that&#39;s why . you need to use something like `getViewLifecycleOwner().getLifecycleScope()` .. not sure it it will work `launchWhenStarted` seems to be an extension function i guess and flow also u won&#39;t be able to use from Java code  .. better stick to kotlin .. u can convert the class to kotlin from code menu ..","body":"Kotlin make use of property access and java does not that&#39;s why . you need to use something like <code>getViewLifecycleOwner().getLifecycleScope()</code> .. not sure it it will work <code>launchWhenStarted</code> seems to be an extension function i guess and flow also u won&#39;t be able to use from Java code  .. better stick to kotlin .. u can convert the class to kotlin from code menu .."}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661860582,"creation_date":1661860582,"answer_id":73542081,"question_id":73539120,"body_markdown":"If I&#39;m not mistaken **Kotlin coroutines** are not interoperable with **Java**. To use **Kotlin coroutines** stick to the Kotlin code, don&#39;t try to use coroutines in **Java**. Try to convert **Java** file to **Kotlin** file using context menu item **Convert Java File to Kotlin File**. Or move coroutines code to a separate **Kotlin** File.","title":"Why does I&#39;m not getting lifecycleScope in Java Android?","body":"<p>If I'm not mistaken <strong>Kotlin coroutines</strong> are not interoperable with <strong>Java</strong>. To use <strong>Kotlin coroutines</strong> stick to the Kotlin code, don't try to use coroutines in <strong>Java</strong>. Try to convert <strong>Java</strong> file to <strong>Kotlin</strong> file using context menu item <strong>Convert Java File to Kotlin File</strong>. Or move coroutines code to a separate <strong>Kotlin</strong> File.</p>\n"},{"tags":[],"owner":{"account_id":10251635,"reputation":290,"user_id":7565690,"display_name":"Erick"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677112635,"creation_date":1677112002,"answer_id":75539491,"question_id":73539120,"body_markdown":"Since `lifecycleScope` it&#39;s an extension function you need to call it with a different syntax from java:\r\n\r\n    LifecycleOwnerKt.getLifecycleScope(this)\r\n\r\nWhere `this` is your activity, fragment, etc.\r\n\r\nAfter that you can pass that lifecycleScope to a new kotlin class and return the result with a callback, something like this:\r\n\r\n\r\nKotlinClass.kt\r\n\r\n    class KotlinClass {\r\n        fun useCoroutineScope(\r\n            scope: LifecycleCoroutineScope,\r\n            callback: (SomeType) -&gt; Unit\r\n        ) {\r\n            scope.launchWhenCreated {\r\n                // Computation code...\r\n                callback(someValue)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n","title":"Why does I&#39;m not getting lifecycleScope in Java Android?","body":"<p>Since <code>lifecycleScope</code> it's an extension function you need to call it with a different syntax from java:</p>\n<pre><code>LifecycleOwnerKt.getLifecycleScope(this)\n</code></pre>\n<p>Where <code>this</code> is your activity, fragment, etc.</p>\n<p>After that you can pass that lifecycleScope to a new kotlin class and return the result with a callback, something like this:</p>\n<p>KotlinClass.kt</p>\n<pre><code>class KotlinClass {\n    fun useCoroutineScope(\n        scope: LifecycleCoroutineScope,\n        callback: (SomeType) -&gt; Unit\n    ) {\n        scope.launchWhenCreated {\n            // Computation code...\n            callback(someValue)\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":25663182,"reputation":73,"user_id":19428652,"display_name":"Ishika Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1904,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1677112635,"creation_date":1661847098,"question_id":73539120,"body_markdown":"Exactly this below code I want to use in my existing Java class, because write now it is not possible to convert entire class in **Kotlin**:\r\n\r\n    viewLifecycleOwner.lifecycleScope.launchWhenStarted {\r\n        viewModel.tasksEvent.collect { event -&gt;\r\n                \r\n        }\r\n    }\r\n\r\nKindly suggest the best approach. I know `AsyncTask` is deprecated. ","title":"Why does I&#39;m not getting lifecycleScope in Java Android?","body":"<p>Exactly this below code I want to use in my existing Java class, because write now it is not possible to convert entire class in <strong>Kotlin</strong>:</p>\n<pre><code>viewLifecycleOwner.lifecycleScope.launchWhenStarted {\n    viewModel.tasksEvent.collect { event -&gt;\n            \n    }\n}\n</code></pre>\n<p>Kindly suggest the best approach. I know <code>AsyncTask</code> is deprecated.</p>\n"},{"tags":["java","docker","maven","dockerfile","javadoc"],"answers":[{"comments":[{"owner":{"display_name":"user21263059"},"score":0,"creation_date":1677097440,"post_id":75537531,"comment_id":133272586,"body_markdown":"Thanks a lot, sounds good idea. But how can I do this, could you add an example for the given Dockerfile?","body":"Thanks a lot, sounds good idea. But how can I do this, could you add an example for the given Dockerfile?"},{"owner":{"display_name":"user21263059"},"score":0,"creation_date":1677097465,"post_id":75537531,"comment_id":133272591,"body_markdown":"By the way, I cannot vote up as I have no reputation. Anny vote up pls?","body":"By the way, I cannot vote up as I have no reputation. Anny vote up pls?"},{"owner":{"account_id":3155089,"reputation":170,"user_id":2667662,"display_name":"Stijn Hooft"},"score":0,"creation_date":1677215609,"post_id":75537531,"comment_id":133297884,"body_markdown":"A guide for nginx: https://www.docker.com/blog/how-to-use-the-official-nginx-docker-image/","body":"A guide for nginx: <a href=\"https://www.docker.com/blog/how-to-use-the-official-nginx-docker-image/\" rel=\"nofollow noreferrer\">docker.com/blog/how-to-use-the-official-nginx-docker-image</a>"}],"tags":[],"owner":{"account_id":3155089,"reputation":170,"user_id":2667662,"display_name":"Stijn Hooft"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677095482,"creation_date":1677095482,"answer_id":75537531,"question_id":75537098,"body_markdown":"Javadoc is technical documentation, generated during the build phase of your project.\r\nBy default, you&#39;ll get html files generated in the target folder.\r\n\r\nYou say your customer wants &quot;access&quot;. Do they want to access these files via a web browser? In that case you&#39;ll need to make sure that a web server serves these files. I&#39;d suggest you create another Docker container containing a static web server (like nginx) and copy the javadoc files to the right location.","title":"Genarate and read Javadoc in a Docker container","body":"<p>Javadoc is technical documentation, generated during the build phase of your project.\nBy default, you'll get html files generated in the target folder.</p>\n<p>You say your customer wants &quot;access&quot;. Do they want to access these files via a web browser? In that case you'll need to make sure that a web server serves these files. I'd suggest you create another Docker container containing a static web server (like nginx) and copy the javadoc files to the right location.</p>\n"},{"comments":[{"owner":{"display_name":"user21263059"},"score":0,"creation_date":1677133680,"post_id":75539536,"comment_id":133278527,"body_markdown":"Thanks a lot for these useful information. But I do not understand what should I do based on these info. I add all the necessary description to my classes and methods to generate javadoc. Then I will publish my app to a Docker container. In this case, how these javadoc descriptions will be converted javadoc and benefit from the developers who maintain the app? I think end users would probably no relation with javadoc and only developers will need it. In this situation, what would you suggest?","body":"Thanks a lot for these useful information. But I do not understand what should I do based on these info. I add all the necessary description to my classes and methods to generate javadoc. Then I will publish my app to a Docker container. In this case, how these javadoc descriptions will be converted javadoc and benefit from the developers who maintain the app? I think end users would probably no relation with javadoc and only developers will need it. In this situation, what would you suggest?"},{"owner":{"display_name":"user21263059"},"score":0,"creation_date":1677133747,"post_id":75539536,"comment_id":133278534,"body_markdown":"As I will provide source code, then they can easily generate javadoc whenever they needed and is there no need to generate them or to make anything? I just want to follow the best practices and general convention for this issue. Thanks in advance.","body":"As I will provide source code, then they can easily generate javadoc whenever they needed and is there no need to generate them or to make anything? I just want to follow the best practices and general convention for this issue. Thanks in advance."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1677152388,"post_id":75539536,"comment_id":133283223,"body_markdown":"The only things that need to be in the Docker image are a JVM and the application jar file (and its dependencies, if it&#39;s not a &quot;fat&quot; jar).","body":"The only things that need to be in the Docker image are a JVM and the application jar file (and its dependencies, if it&#39;s not a &quot;fat&quot; jar)."},{"owner":{"display_name":"user21263059"},"score":0,"creation_date":1677182775,"post_id":75539536,"comment_id":133292872,"body_markdown":"Ok, in that case what should I do regarding to javadoc?","body":"Ok, in that case what should I do regarding to javadoc?"}],"tags":[],"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677112542,"creation_date":1677112542,"answer_id":75539536,"question_id":75537098,"body_markdown":"Your end users using this Docker setup and your downstream users that could use Javadoc are probably different users.  I would not try to generate Javadoc in a Dockerfile.\r\n\r\nApproximately the only thing you can do with a built Docker image is run it.  The Dockerfile can only generate content in that image; it can&#39;t generate files on the host system, and it&#39;s not really the right point to export data to another source.  If you had the image you could\r\n\r\n```sh\r\ndocker run -d -p 8000:8000 the-image\r\n```\r\n\r\nwithout knowing that it had Java inside it, but you&#39;d have to do extra Docker-specific things to extract a jar file or Javadocs.\r\n\r\nIf someone was going to use the Javadoc output, they&#39;d need a copy of the jar file on their classpath.  You _could_ in principle extract the jar file out of an image, but a more typical path would be to publish it to somewhere like Maven Central.  I&#39;d expect a consumer of this path to be a programmer who knows what a Java class is, and isn&#39;t just trying to run a prepackaged application.  You wouldn&#39;t want to package the HTML-format developer-oriented documentation inside the opaque end-user-runnable Docker artifact.\r\n\r\nMany Java Dockerfiles just `COPY` a jar file into the image; this works well for Java in particular since the jar and class file formats are designed to be portable.  I could imagine a CI system running steps like\r\n\r\n1. Build the application jar file, without Docker\r\n2. Run the application unit tests, without Docker\r\n3. Publish the jar file, without Docker\r\n4. Generate and publish the Javadocs, without Docker\r\n5. Build the Docker image containing the jar file and push it","title":"Genarate and read Javadoc in a Docker container","body":"<p>Your end users using this Docker setup and your downstream users that could use Javadoc are probably different users.  I would not try to generate Javadoc in a Dockerfile.</p>\n<p>Approximately the only thing you can do with a built Docker image is run it.  The Dockerfile can only generate content in that image; it can't generate files on the host system, and it's not really the right point to export data to another source.  If you had the image you could</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -d -p 8000:8000 the-image\n</code></pre>\n<p>without knowing that it had Java inside it, but you'd have to do extra Docker-specific things to extract a jar file or Javadocs.</p>\n<p>If someone was going to use the Javadoc output, they'd need a copy of the jar file on their classpath.  You <em>could</em> in principle extract the jar file out of an image, but a more typical path would be to publish it to somewhere like Maven Central.  I'd expect a consumer of this path to be a programmer who knows what a Java class is, and isn't just trying to run a prepackaged application.  You wouldn't want to package the HTML-format developer-oriented documentation inside the opaque end-user-runnable Docker artifact.</p>\n<p>Many Java Dockerfiles just <code>COPY</code> a jar file into the image; this works well for Java in particular since the jar and class file formats are designed to be portable.  I could imagine a CI system running steps like</p>\n<ol>\n<li>Build the application jar file, without Docker</li>\n<li>Run the application unit tests, without Docker</li>\n<li>Publish the jar file, without Docker</li>\n<li>Generate and publish the Javadocs, without Docker</li>\n<li>Build the Docker image containing the jar file and push it</li>\n</ol>\n"}],"owner":{"display_name":"user21263059"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677112542,"creation_date":1677092541,"question_id":75537098,"body_markdown":"I have just started to generate javadoc and ultimately learn that there is a proper directory for this in the target folder and these documents can be generated via maven command. \r\n\r\nThe question about this issue is that, I am using maven pluging to generate javadoc. In this case, I am not sure if I need to generate javadoc for the production environment. So;\r\n\r\n1- As I already annotate my methods, classes for javadoc generation, do I need to generate javadoc before I need to use or customer needs to use on production phase? \r\n\r\n2- If a customer wants to generate javadoc on production phase, how should I provide javadoc or javadoc generate feature in a Docker container? I thought to run the following command on my corresponding Dockerfile, but ı am not sure if I also need to copy this any folder during Docker build? \r\n\r\n***Dockerfile:***\r\n\r\n```\r\nFROM maven:3.8.1-openjdk-17-slim AS builder\r\nUSER demo\r\nWORKDIR /app\r\n\r\nCOPY pom.xml ./\r\nCOPY src ./src\r\n\r\nRUN mvn clean install -Dmaven.test.skip=true\r\n\r\n// ---&gt; should I add this line and then copy command? \r\nRUN mvn javadoc:javadoc \r\n\r\n...\r\n```","title":"Genarate and read Javadoc in a Docker container","body":"<p>I have just started to generate javadoc and ultimately learn that there is a proper directory for this in the target folder and these documents can be generated via maven command.</p>\n<p>The question about this issue is that, I am using maven pluging to generate javadoc. In this case, I am not sure if I need to generate javadoc for the production environment. So;</p>\n<p>1- As I already annotate my methods, classes for javadoc generation, do I need to generate javadoc before I need to use or customer needs to use on production phase?</p>\n<p>2- If a customer wants to generate javadoc on production phase, how should I provide javadoc or javadoc generate feature in a Docker container? I thought to run the following command on my corresponding Dockerfile, but ı am not sure if I also need to copy this any folder during Docker build?</p>\n<p><em><strong>Dockerfile:</strong></em></p>\n<pre><code>FROM maven:3.8.1-openjdk-17-slim AS builder\nUSER demo\nWORKDIR /app\n\nCOPY pom.xml ./\nCOPY src ./src\n\nRUN mvn clean install -Dmaven.test.skip=true\n\n// ---&gt; should I add this line and then copy command? \nRUN mvn javadoc:javadoc \n\n...\n</code></pre>\n"},{"tags":["java","jwt","fusionauth","jose4j","secp256k1"],"answers":[{"comments":[{"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"score":0,"creation_date":1677151666,"post_id":75539361,"comment_id":133283009,"body_markdown":"Thanks for the answer @Brian\n\nExactly this is the error we got. \n\nJWT processing failed. Additional details: [[17] Unable to process JOSE object (cause: org.jose4j.lang.InvalidKeyException: ES256/SHA256withECDSA expects a key using P-256 but was null):\n\nMay I know why it was null? because since the key is k1 it tries to get curve name which is not there in map?\n\nAnd yes I read rfc8518 about using es256k only for secp256k1, but in our case, the iot device we are using might send r1 or k1 keys with es256 header. so need that flexibility.","body":"Thanks for the answer @Brian  Exactly this is the error we got.   JWT processing failed. Additional details: [[17] Unable to process JOSE object (cause: org.jose4j.lang.InvalidKeyException: ES256/SHA256withECDSA expects a key using P-256 but was null):  May I know why it was null? because since the key is k1 it tries to get curve name which is not there in map?  And yes I read rfc8518 about using es256k only for secp256k1, but in our case, the iot device we are using might send r1 or k1 keys with es256 header. so need that flexibility."},{"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"score":1,"creation_date":1677164067,"post_id":75539361,"comment_id":133287009,"body_markdown":"Yes, it&#39;s null because the curveToName map in EllipticCurves doesn&#39;t have an entry for secp256k1 (prior to v 0.8.0).","body":"Yes, it&#39;s null because the curveToName map in EllipticCurves doesn&#39;t have an entry for secp256k1 (prior to v 0.8.0)."},{"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"score":0,"creation_date":1677164552,"post_id":75539361,"comment_id":133287226,"body_markdown":"ok, other than that, if we use this flag, secp256k1 key validation in this jwt is happening correctly right?","body":"ok, other than that, if we use this flag, secp256k1 key validation in this jwt is happening correctly right?"},{"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"score":1,"creation_date":1677199422,"post_id":75539361,"comment_id":133296050,"body_markdown":"Well, alg:ES256 with a secp256k1 key isn&#39;t valid. When using that flag, it basically just accidentally allows it to work by letting java validate the signature using &quot;SHA256withECDSA&quot; and the secp256k1 key.","body":"Well, alg:ES256 with a secp256k1 key isn&#39;t valid. When using that flag, it basically just accidentally allows it to work by letting java validate the signature using &quot;SHA256withECDSA&quot; and the secp256k1 key."},{"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"score":0,"creation_date":1677249335,"post_id":75539361,"comment_id":133306033,"body_markdown":"Thanks a lot, one last question,  does fusionAuth supports es256k with secp256k1 ?","body":"Thanks a lot, one last question,  does fusionAuth supports es256k with secp256k1 ?"},{"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"score":1,"creation_date":1677250609,"post_id":75539361,"comment_id":133306374,"body_markdown":"I don&#39;t know about fusionAuth.","body":"I don&#39;t know about fusionAuth."}],"tags":[],"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677110997,"creation_date":1677110513,"answer_id":75539361,"question_id":75521153,"body_markdown":"`JwtConsumerBuilder.setRelaxVerificationKeyValidation()` will set `setDoKeyValidation(false)` on the `JsonWebSignature` instance the `JwtConsumer` is using the process the JWS and verify its signature.  \r\n\r\nIn general setting `setDoKeyValidation(false)` will skip some extra type checks and minimum key length checks with RSA and HMAC. With ECDSA it&#39;s not doing a lot - just skipping this check https://bitbucket.org/b_c/jose4j/src/1ec20f8716436857a3929f60e644d4de1e40bfd9/src/main/java/org/jose4j/jws/EcdsaUsingShaAlgorithm.java#lines-243 \r\n\r\nI honestly don&#39;t know why that would cause issues with a key/token created with the fusionAuth library.\r\n\r\nBut wait, `secp256k1` is the JWS `ES256K` alg. Jose4j only really supports that as of https://bitbucket.org/b_c/jose4j/wiki/Release%20Notes 0.8.0. So something is off here... \r\n","title":"Significance of setRelaxVerificationKeyValidation() in JwtConsumerBuilder() while validating the JWT","body":"<p><code>JwtConsumerBuilder.setRelaxVerificationKeyValidation()</code> will set <code>setDoKeyValidation(false)</code> on the <code>JsonWebSignature</code> instance the <code>JwtConsumer</code> is using the process the JWS and verify its signature.</p>\n<p>In general setting <code>setDoKeyValidation(false)</code> will skip some extra type checks and minimum key length checks with RSA and HMAC. With ECDSA it's not doing a lot - just skipping this check <a href=\"https://bitbucket.org/b_c/jose4j/src/1ec20f8716436857a3929f60e644d4de1e40bfd9/src/main/java/org/jose4j/jws/EcdsaUsingShaAlgorithm.java#lines-243\" rel=\"nofollow noreferrer\">https://bitbucket.org/b_c/jose4j/src/1ec20f8716436857a3929f60e644d4de1e40bfd9/src/main/java/org/jose4j/jws/EcdsaUsingShaAlgorithm.java#lines-243</a></p>\n<p>I honestly don't know why that would cause issues with a key/token created with the fusionAuth library.</p>\n<p>But wait, <code>secp256k1</code> is the JWS <code>ES256K</code> alg. Jose4j only really supports that as of <a href=\"https://bitbucket.org/b_c/jose4j/wiki/Release%20Notes\" rel=\"nofollow noreferrer\">https://bitbucket.org/b_c/jose4j/wiki/Release%20Notes</a> 0.8.0. So something is off here...</p>\n"}],"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75539361,"answer_count":1,"score":0,"last_activity_date":1677110997,"creation_date":1676986001,"question_id":75521153,"body_markdown":"        val jwtConsumer = JwtConsumerBuilder()\r\n            .setVerificationKey(getPublicKeyFromPEMString(publicKeyAuth)) // verify the signature with the public key\r\n            .setRelaxVerificationKeyValidation() // needed if the key is smaller than 256 bits\r\n            .setJwsAlgorithmConstraints( // only allow the expected signature algorithm(s) in the given context\r\n                AlgorithmConstraints.ConstraintType.PERMIT,\r\n                AlgorithmIdentifiers.ECDSA_USING_P256_CURVE_AND_SHA256\r\n            )\r\n            .build()\r\n\r\nI am using **jose4j 0.7.9** for verification.  \r\n\r\nwhere, I created a JWT with **ES256** header and **secp256k1** curve key using fusionAuth library. So while validating the jwt with the public key in key pair. \r\n\r\nIt gets successful only when this flag (***setRelaxVerificationKeyValidation***) value is set to **false**. \r\n\r\nCan anyone please tell me, what relaxation it is doing? I tried with a wrong key to test, but it failed as expected. Please shed some light.\r\n","title":"Significance of setRelaxVerificationKeyValidation() in JwtConsumerBuilder() while validating the JWT","body":"<pre><code>    val jwtConsumer = JwtConsumerBuilder()\n        .setVerificationKey(getPublicKeyFromPEMString(publicKeyAuth)) // verify the signature with the public key\n        .setRelaxVerificationKeyValidation() // needed if the key is smaller than 256 bits\n        .setJwsAlgorithmConstraints( // only allow the expected signature algorithm(s) in the given context\n            AlgorithmConstraints.ConstraintType.PERMIT,\n            AlgorithmIdentifiers.ECDSA_USING_P256_CURVE_AND_SHA256\n        )\n        .build()\n</code></pre>\n<p>I am using <strong>jose4j 0.7.9</strong> for verification.</p>\n<p>where, I created a JWT with <strong>ES256</strong> header and <strong>secp256k1</strong> curve key using fusionAuth library. So while validating the jwt with the public key in key pair.</p>\n<p>It gets successful only when this flag (<em><strong>setRelaxVerificationKeyValidation</strong></em>) value is set to <strong>false</strong>.</p>\n<p>Can anyone please tell me, what relaxation it is doing? I tried with a wrong key to test, but it failed as expected. Please shed some light.</p>\n"},{"tags":["java","jackson","fasterxml"],"owner":{"account_id":17849708,"reputation":78,"user_id":12965702,"display_name":"Joo Hyuk Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677110804,"creation_date":1677110804,"question_id":75539381,"body_markdown":"I&#39;d like to keep implemenetations functionalities non-intrusive. Having said that, `getters` for private fields just to allow objectMapper to ser/deserialize objects bothered me quite a long time. So I started using `ObjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);`\r\n\r\n\r\n\r\nCan anyone with objectMapping experience give me warnings on configuring `ObjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);`?\r\n","title":"Jackson ObjectMapper setVisibility Warnings, Pros and Cons?","body":"<p>I'd like to keep implemenetations functionalities non-intrusive. Having said that, <code>getters</code> for private fields just to allow objectMapper to ser/deserialize objects bothered me quite a long time. So I started using <code>ObjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);</code></p>\n<p>Can anyone with objectMapping experience give me warnings on configuring <code>ObjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);</code>?</p>\n"},{"tags":["java","junit4"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1677110966,"post_id":75539315,"comment_id":133275572,"body_markdown":"What your unit test looks like?","body":"What your unit test looks like?"},{"owner":{"account_id":17688577,"reputation":1,"user_id":12840936,"display_name":"sbadl"},"score":0,"creation_date":1677114864,"post_id":75539315,"comment_id":133276170,"body_markdown":"@HarryCoder Test\n    public void testMinInt() {\n        ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\n        list.add(a);\n        list.add(b);\n        list.add(c);\n        assertEquals(expected, Min.min(list));\n    } //This test finds the min of each test set but will not take in list for Min.min","body":"@HarryCoder Test     public void testMinInt() {         ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();         list.add(a);         list.add(b);         list.add(c);         assertEquals(expected, Min.min(list));     } //This test finds the min of each test set but will not take in list for Min.min"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677115059,"post_id":75539315,"comment_id":133276192,"body_markdown":"Please put the test code into the question (formatted as a code block) rather than a comment, where it is difficult to read.","body":"Please put the test code into the question (formatted as a code block) rather than a comment, where it is difficult to read."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677115153,"post_id":75539315,"comment_id":133276202,"body_markdown":"And also please include the code being tested (the `Min.min` implementation).","body":"And also please include the code being tested (the <code>Min.min</code> implementation)."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1677118439,"post_id":75539315,"comment_id":133276600,"body_markdown":"@sbadl update your code.","body":"@sbadl update your code."}],"owner":{"account_id":17688577,"reputation":1,"user_id":12840936,"display_name":"sbadl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677110574,"creation_date":1677109984,"question_id":75539315,"body_markdown":"I am writing a test in junit 4 to test multiple data types. How would I get the data driven test to run as int, double, and String when testing the method when the method cannot take an Object type in. \r\n\r\n```\r\nObject[][] data = {\r\n            {1, 2, 3, 1},\r\n            {3, 1, 2, 1},\r\n            {0, 0, 0, 0},\r\n            {1.0, 2.0, 3.0, 1.0},\r\n            {-1.0, -2.0, -3.0, -3.0},\r\n            {0.0, 0.0, 0.0, 0.0},\r\n            {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;},\r\n            {&quot;hi&quot;, &quot;bye&quot;, &quot;hello&quot;},\r\n            {&quot;boy&quot;, &quot;girl&quot;, &quot;child&quot;}\r\n        };\r\n```\r\n\r\n\r\nI tried creating the data driven tests seperately, but that does not work as there is only one a, b, c variable. After this I tried creating serparate variables but that requires more than one constructor which is not possible. ","title":"In junit4 is there a way to create a data driven test with multiple types like int, double, and string?","body":"<p>I am writing a test in junit 4 to test multiple data types. How would I get the data driven test to run as int, double, and String when testing the method when the method cannot take an Object type in.</p>\n<pre><code>Object[][] data = {\n            {1, 2, 3, 1},\n            {3, 1, 2, 1},\n            {0, 0, 0, 0},\n            {1.0, 2.0, 3.0, 1.0},\n            {-1.0, -2.0, -3.0, -3.0},\n            {0.0, 0.0, 0.0, 0.0},\n            {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;},\n            {&quot;hi&quot;, &quot;bye&quot;, &quot;hello&quot;},\n            {&quot;boy&quot;, &quot;girl&quot;, &quot;child&quot;}\n        };\n</code></pre>\n<p>I tried creating the data driven tests seperately, but that does not work as there is only one a, b, c variable. After this I tried creating serparate variables but that requires more than one constructor which is not possible.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1677110176,"post_id":75539274,"comment_id":133275460,"body_markdown":"I would move the network code into another component and mock this in your test. I know you&#39;ve said that you aren&#39;t allowed to change the code, but refactoring for testability is a necessary part of writing unit tests. Whoever has asked you to write the tests needs to understand that.","body":"I would move the network code into another component and mock this in your test. I know you&#39;ve said that you aren&#39;t allowed to change the code, but refactoring for testability is a necessary part of writing unit tests. Whoever has asked you to write the tests needs to understand that."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1677144328,"post_id":75539274,"comment_id":133280930,"body_markdown":"As tgdavies suggested, extracting network communication is the preferred option. Subclassing and overriding `getDomainFromIp` is an option if you really cannot change the code under test - it is not elegant, but gets the job done.","body":"As tgdavies suggested, extracting network communication is the preferred option. Subclassing and overriding <code>getDomainFromIp</code> is an option if you really cannot change the code under test - it is not elegant, but gets the job done."}],"owner":{"account_id":27855461,"reputation":1,"user_id":21269052,"display_name":"candelphi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677109563,"creation_date":1677109563,"question_id":75539274,"body_markdown":"I have a class that takes some objects as parameters. I can create real dependency objects and create a real Object Under Test. I have one method that is package-protected that makes a network call. I want to stub only this one in Mockito. Caveat: The network-called method is called internally from another method, therefore a regular Mockito spy will not work.\r\nExample:\r\n\r\n\r\n```\r\npublic class AddressSearcher {\r\n    private final AddressSearcherSettings settings;\r\n    private final AddressList addressList;\r\n    private final OtherDependency otherDependency;\r\n\r\n    public AddressSearcher(\r\n        final AddressSearcherSettings settings,\r\n        final AddressList addressList,\r\n        final OtherDependency otherDependency\r\n    ) {\r\n        this.settings = settings;\r\n        this.addressList = addressList;\r\n        this.otherDependency = otherDependency;\r\n    }\r\n\r\n    public Domain checkAddress(String address) {\r\n        if (addressList.contains(address)) {\r\n            return addressList.get(address)\r\n        }\r\n\r\n        if (this.getDomainFromIp().isNotEmpty()) {\r\n            return this.getDomainFromIp();\r\n        }\r\n\r\n        return EmptyDomain();\r\n\r\n    }\r\n\r\n    Domain getDomainFromIp(String address) {\r\n        // do network call to search from domain from ip Address\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nAs mentioned in the intro, I&#39;ve tried mocks and spies. I wasted a lot of time with spies, because I did not know that when called internally, the spy calls the real method.\r\n\r\n```\r\n@Test\r\npublic void checkAddressTest() {\r\n    ...\r\n    AddressSearcher realAddressSearcher = new AddressSearcher(realSettings, realAddressList, realOtherDependency);\r\n    AddressSearcher spiedAddressSearcher = Mockito.spy(realAddressSearcher);\r\n\r\n// works as expected\r\n    Mockito.doReturn(new Domain(&quot;Google&quot;)).when(this.spiedAddressSearcher).getDomainFromIp(&quot;8.8.8.8&quot;);\r\n    assertEqual(new Domain(&quot;Google&quot;), this.spiedAddressSearcher.getDomainFromIp(&quot;8.8.8.8&quot;))\r\n\r\n// Using checkAddress, which internally calls getDomainFromIp\r\n    assertEqual(new Domain(&quot;Google&quot;), this.spiedAddressSearcher.checkAddress(&quot;8.8.8.8&quot;))\r\n// FALSE, expected GoogleDomain, got EmptyDomain\r\n}\r\n```\r\n\r\nI just want to stub this single network call with Mockito. \r\nI am able to in Jmockit very easily. \r\nI am not able to change the code and make the network call an injectable dependency (which could in turn be mocked more easily)","title":"Stub a single package-protected method for purposes of testing","body":"<p>I have a class that takes some objects as parameters. I can create real dependency objects and create a real Object Under Test. I have one method that is package-protected that makes a network call. I want to stub only this one in Mockito. Caveat: The network-called method is called internally from another method, therefore a regular Mockito spy will not work.\nExample:</p>\n<pre><code>public class AddressSearcher {\n    private final AddressSearcherSettings settings;\n    private final AddressList addressList;\n    private final OtherDependency otherDependency;\n\n    public AddressSearcher(\n        final AddressSearcherSettings settings,\n        final AddressList addressList,\n        final OtherDependency otherDependency\n    ) {\n        this.settings = settings;\n        this.addressList = addressList;\n        this.otherDependency = otherDependency;\n    }\n\n    public Domain checkAddress(String address) {\n        if (addressList.contains(address)) {\n            return addressList.get(address)\n        }\n\n        if (this.getDomainFromIp().isNotEmpty()) {\n            return this.getDomainFromIp();\n        }\n\n        return EmptyDomain();\n\n    }\n\n    Domain getDomainFromIp(String address) {\n        // do network call to search from domain from ip Address\n    }\n\n}\n</code></pre>\n<p>As mentioned in the intro, I've tried mocks and spies. I wasted a lot of time with spies, because I did not know that when called internally, the spy calls the real method.</p>\n<pre><code>@Test\npublic void checkAddressTest() {\n    ...\n    AddressSearcher realAddressSearcher = new AddressSearcher(realSettings, realAddressList, realOtherDependency);\n    AddressSearcher spiedAddressSearcher = Mockito.spy(realAddressSearcher);\n\n// works as expected\n    Mockito.doReturn(new Domain(&quot;Google&quot;)).when(this.spiedAddressSearcher).getDomainFromIp(&quot;8.8.8.8&quot;);\n    assertEqual(new Domain(&quot;Google&quot;), this.spiedAddressSearcher.getDomainFromIp(&quot;8.8.8.8&quot;))\n\n// Using checkAddress, which internally calls getDomainFromIp\n    assertEqual(new Domain(&quot;Google&quot;), this.spiedAddressSearcher.checkAddress(&quot;8.8.8.8&quot;))\n// FALSE, expected GoogleDomain, got EmptyDomain\n}\n</code></pre>\n<p>I just want to stub this single network call with Mockito.\nI am able to in Jmockit very easily.\nI am not able to change the code and make the network call an injectable dependency (which could in turn be mocked more easily)</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1677109553,"post_id":75539231,"comment_id":133275337,"body_markdown":"Most compiled languages will give you a compilation error if you write code that doesn&#39;t conform to the syntax rules of the language.  Java is no exception.","body":"Most compiled languages will give you a compilation error if you write code that doesn&#39;t conform to the syntax rules of the language.  Java is no exception."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1677109714,"post_id":75539231,"comment_id":133275361,"body_markdown":"It&#39;s worth noting that those brackets are superfluous noise, so even if this were allowed, I&#39;d consider it a fault of style anyway.","body":"It&#39;s worth noting that those brackets are superfluous noise, so even if this were allowed, I&#39;d consider it a fault of style anyway."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1677110003,"post_id":75539231,"comment_id":133275425,"body_markdown":"@DawoodibnKareem the question is why Java&#39;s syntax rules don&#39;t consider `(ZERO_Init)` to be a &quot;constant expression&quot;.","body":"@DawoodibnKareem the question is why Java&#39;s syntax rules don&#39;t consider <code>(ZERO_Init)</code> to be a &quot;constant expression&quot;."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677110902,"post_id":75539231,"comment_id":133275565,"body_markdown":"@KarlKnechtel I just learned that &quot;constant expression&quot; does not constitute the full set of things that are compile-time constant, which is perhaps unintuitive. `(ZERO_Init)` is compile-time constant, just like `ZERO_Init` is. Take for example [the spec for annotations](https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.7.1). Everything in an annotation must be compile-time constant by definition. There is no possibility for them to be computed at runtime. Still, the spec has 3 bullet points listing what&#39;s valid, and so-called &quot;constant expressions&quot; are only one of them.","body":"@KarlKnechtel I just learned that &quot;constant expression&quot; does not constitute the full set of things that are compile-time constant, which is perhaps unintuitive. <code>(ZERO_Init)</code> is compile-time constant, just like <code>ZERO_Init</code> is. Take for example <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.7.1\" rel=\"nofollow noreferrer\">the spec for annotations</a>. Everything in an annotation must be compile-time constant by definition. There is no possibility for them to be computed at runtime. Still, the spec has 3 bullet points listing what&#39;s valid, and so-called &quot;constant expressions&quot; are only one of them."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677113317,"post_id":75539231,"comment_id":133275945,"body_markdown":"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6356542","body":"<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6356542\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=6356542</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677115707,"post_id":75539231,"comment_id":133276270,"body_markdown":"I get that, @KarlKnechtel, but that&#39;s really a question for the designers of Java - those good people who formulated these rules.  I&#39;m not sure whether the Stack Overflow community as a whole is qualified to answer WHY the rules of Java syntax are what they are.","body":"I get that, @KarlKnechtel, but that&#39;s really a question for the designers of Java - those good people who formulated these rules.  I&#39;m not sure whether the Stack Overflow community as a whole is qualified to answer WHY the rules of Java syntax are what they are."},{"owner":{"account_id":27072074,"reputation":21,"user_id":20622587,"display_name":"asterishk"},"score":0,"creation_date":1677116185,"post_id":75539231,"comment_id":133276333,"body_markdown":"I now understand that I seem to have asked a question that questions Java&#39;s syntax rules&#39; design. Me in the past was confused of whether brackets meant something more when it comes to enum. I am more than happy to accept the answer that it is simply a design choice for the syntax, and it is how it is specified (rather than asking for further explanation why it is designed as it is).","body":"I now understand that I seem to have asked a question that questions Java&#39;s syntax rules&#39; design. Me in the past was confused of whether brackets meant something more when it comes to enum. I am more than happy to accept the answer that it is simply a design choice for the syntax, and it is how it is specified (rather than asking for further explanation why it is designed as it is)."}],"answers":[{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1677109640,"post_id":75539262,"comment_id":133275354,"body_markdown":"I think that error as stated is an IntelliJ error, and I agree it&#39;s bad. `javac` gives you &quot;an enum switch case label must be the unqualified name of an enumeration constant&quot;, which is pretty descriptive.","body":"I think that error as stated is an IntelliJ error, and I agree it&#39;s bad. <code>javac</code> gives you &quot;an enum switch case label must be the unqualified name of an enumeration constant&quot;, which is pretty descriptive."},{"owner":{"account_id":27072074,"reputation":21,"user_id":20622587,"display_name":"asterishk"},"score":0,"creation_date":1677115163,"post_id":75539262,"comment_id":133276204,"body_markdown":"@Michael I was using Android Studio, yes. Though it did give me a more descriptive error when I had `States.ZERO_Init` in.","body":"@Michael I was using Android Studio, yes. Though it did give me a more descriptive error when I had <code>States.ZERO_Init</code> in."},{"owner":{"account_id":27072074,"reputation":21,"user_id":20622587,"display_name":"asterishk"},"score":0,"creation_date":1677115494,"post_id":75539262,"comment_id":133276249,"body_markdown":"Thank you. Is there a rule of thumb when it comes to identifying when `()` brackets matter (more than just poor coding style)? For example, is there a way to tell that `if ((//condition))` is allowed whereas the mentioned case is not? Or is it entirely a matter of reading the specs and experience?","body":"Thank you. Is there a rule of thumb when it comes to identifying when <code>()</code> brackets matter (more than just poor coding style)? For example, is there a way to tell that <code>if ((&#47;&#47;condition))</code> is allowed whereas the mentioned case is not? Or is it entirely a matter of reading the specs and experience?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1677142285,"post_id":75539262,"comment_id":133280346,"body_markdown":"the rule of thumb is that &quot;unnecessary&quot; parenthesis are allowed almost everywhere where you want the value of an expression (i.e. the expression `(x)` is functionally identical to `x` in almost all contexts). Case labels for enums are only excluded because they are not &quot;expressions&quot;. A case label can be specifically a.) a constant expression or b.) an enum constant.","body":"the rule of thumb is that &quot;unnecessary&quot; parenthesis are allowed almost everywhere where you want the value of an expression (i.e. the expression <code>(x)</code> is functionally identical to <code>x</code> in almost all contexts). Case labels for enums are only excluded because they are not &quot;expressions&quot;. A case label can be specifically a.) a constant expression or b.) an enum constant."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1677109450,"creation_date":1677109450,"answer_id":75539262,"question_id":75539231,"body_markdown":"Simply because Java is specified this way. If you&#39;re switching on an `enum` then every case label must be exactly a enum constant (and not a parenthetical expression *containing* a case constant): [&#167; 14.11.1 Switch blocks of the JLS][1] states:\r\n\r\n&gt; If T is an enum type, then every case constant associated with the switch block is an enum constant of type T.\r\n\r\nNote that technically only expressions that denote a primitive or `String` value could be considered constant expressions. See [&#167; 15.29 Constant Expressions][2]:\r\n\r\n&gt; A constant expression is an expression denoting a value of primitive type or a `String` [..]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29","title":"When switching on enum, why does the code not work when I put round brackets () around the switch case but works otherwise?","body":"<p>Simply because Java is specified this way. If you're switching on an <code>enum</code> then every case label must be exactly a enum constant (and not a parenthetical expression <em>containing</em> a case constant): <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\" rel=\"noreferrer\">§ 14.11.1 Switch blocks of the JLS</a> states:</p>\n<blockquote>\n<p>If T is an enum type, then every case constant associated with the switch block is an enum constant of type T.</p>\n</blockquote>\n<p>Note that technically only expressions that denote a primitive or <code>String</code> value could be considered constant expressions. See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"noreferrer\">§ 15.29 Constant Expressions</a>:</p>\n<blockquote>\n<p>A constant expression is an expression denoting a value of primitive type or a <code>String</code> [..]</p>\n</blockquote>\n"}],"owner":{"account_id":27072074,"reputation":21,"user_id":20622587,"display_name":"asterishk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75539262,"answer_count":1,"score":1,"last_activity_date":1677109450,"creation_date":1677109107,"question_id":75539231,"body_markdown":"I have an enum, States, on which I am trying to do a switch statement on. I understand that it needs the unqualified name of enum constant, so I put `ZERO_Init` instead of `States.ZERO_Init` in the switch case. The code below works fine when ZERO_Init is not surrounded by () brackets, but complains about &quot;Constant expression needed&quot; if I put () around ZERO_Init. Why is this the case?\r\n\r\nBelow please find my code.\r\n\r\n```\r\nenum States{\r\n   ZERO_Init,\r\n   ...\r\n}\r\n\r\n//current_state of type States is defined elsewhere\r\n```\r\nThis version works,\r\n```\r\nswitch (current_state){\r\n   case ZERO_Init:{\r\n      //do something\r\n      break;\r\n   }\r\n   default:{\r\n      //do something else\r\n      break;\r\n   }\r\n}\r\n```\r\nWhereas this does not,\r\n```\r\nswitch (current_state){\r\n   case (ZERO_Init):{ //ERROR: CONSTANT EXPRESSION NEEDED\r\n      //do something\r\n      break;\r\n   }\r\n   default:{\r\n      //do something else\r\n      break;\r\n   }\r\n}\r\n\r\n```\r\n\r\nMany thanks.","title":"When switching on enum, why does the code not work when I put round brackets () around the switch case but works otherwise?","body":"<p>I have an enum, States, on which I am trying to do a switch statement on. I understand that it needs the unqualified name of enum constant, so I put <code>ZERO_Init</code> instead of <code>States.ZERO_Init</code> in the switch case. The code below works fine when ZERO_Init is not surrounded by () brackets, but complains about &quot;Constant expression needed&quot; if I put () around ZERO_Init. Why is this the case?</p>\n<p>Below please find my code.</p>\n<pre><code>enum States{\n   ZERO_Init,\n   ...\n}\n\n//current_state of type States is defined elsewhere\n</code></pre>\n<p>This version works,</p>\n<pre><code>switch (current_state){\n   case ZERO_Init:{\n      //do something\n      break;\n   }\n   default:{\n      //do something else\n      break;\n   }\n}\n</code></pre>\n<p>Whereas this does not,</p>\n<pre><code>switch (current_state){\n   case (ZERO_Init):{ //ERROR: CONSTANT EXPRESSION NEEDED\n      //do something\n      break;\n   }\n   default:{\n      //do something else\n      break;\n   }\n}\n\n</code></pre>\n<p>Many thanks.</p>\n"},{"tags":["java","mysql","excel","date"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1677103144,"post_id":75538527,"comment_id":133274130,"body_markdown":"The Excel format appears to be `dd-MMM-yyyy`, but you may have issues with the fact that the month is in lower case.  You should also be making use of `LocalDate` and the associated `java.time.*` APIs over the `java.util.*` based date/time APIs","body":"The Excel format appears to be <code>dd-MMM-yyyy</code>, but you may have issues with the fact that the month is in lower case.  You should also be making use of <code>LocalDate</code> and the associated <code>java.time.*</code> APIs over the <code>java.util.*</code> based date/time APIs"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677131582,"post_id":75538527,"comment_id":133278189,"body_markdown":"I strongly recommend that you don’t use `SimpleDateFormat` and `Date`. Those classes were troublesome and are fortunately long outdated. Can’t you simply use [`XSSFCell.getLocalDateTimeCellValue()`](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCell.html#getLocalDateTimeCellValue--)?","body":"I strongly recommend that you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes were troublesome and are fortunately long outdated. Can’t you simply use <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCell.html#getLocalDateTimeCellValue--\" rel=\"nofollow noreferrer\"><code>XSSFCell.getLocalDateTimeCellValue()</code></a>?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677162535,"post_id":75538527,"comment_id":133286441,"body_markdown":"I suggest that this is partially a duplicate of [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2). For converting the `LocalDateTime` from the cell to a `LocalDate` (without time of day), simply use `ecolumn.getLocalDateTime().toLocalDate()`.","body":"I suggest that this is partially a duplicate of <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>. For converting the <code>LocalDateTime</code> from the cell to a <code>LocalDate</code> (without time of day), simply use <code>ecolumn.getLocalDateTime().toLocalDate()</code>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677104874,"creation_date":1677104874,"answer_id":75538771,"question_id":75538527,"body_markdown":"Start by making use of the `java.time.*` APIs over the, out-of-date, effectively deprecated, `java.util.*` date/time APIs.\r\n\r\nNext, the Excel format seems to be in `dd-MMM-yyy` not, `MM/yyyy`.  You may also have issues because the month is in lower case, lucky, there&#39;s a relatively easy way to get around this...\r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .parseCaseInsensitive()\r\n            .appendPattern(&quot;dd-MMM-yyyy&quot;)\r\n            .toFormatter();\r\n    LocalDate ld = LocalDate.parse(&quot;12-dec-2020&quot;, formatter);\r\n\r\nInserting the value into MySQL shouldn&#39;t be complicated, but will depend on the column data type.  If you&#39;re using `Date` (as the column type - no I&#39;m not a MySQL expert), then you can use something like `java.sql.Date.valueOf(ld);` to get a SQL `Date` which you could use as part of a `PreparedStatement`.\r\n\r\nAs stated [here](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2), *&quot;JDBC 4.2 compliant drivers can deal directly with `java.time` objects&quot;*, so even better, just bind the `ld` object to the `PreparedStatement`!\r\n\r\nIf the column is `text`, then you&#39;re doing it wrong.","title":"How to insert a date (12-dec-2020) from excel to mysql","body":"<p>Start by making use of the <code>java.time.*</code> APIs over the, out-of-date, effectively deprecated, <code>java.util.*</code> date/time APIs.</p>\n<p>Next, the Excel format seems to be in <code>dd-MMM-yyy</code> not, <code>MM/yyyy</code>.  You may also have issues because the month is in lower case, lucky, there's a relatively easy way to get around this...</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .parseCaseInsensitive()\n        .appendPattern(&quot;dd-MMM-yyyy&quot;)\n        .toFormatter();\nLocalDate ld = LocalDate.parse(&quot;12-dec-2020&quot;, formatter);\n</code></pre>\n<p>Inserting the value into MySQL shouldn't be complicated, but will depend on the column data type.  If you're using <code>Date</code> (as the column type - no I'm not a MySQL expert), then you can use something like <code>java.sql.Date.valueOf(ld);</code> to get a SQL <code>Date</code> which you could use as part of a <code>PreparedStatement</code>.</p>\n<p>As stated <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">here</a>, <em>&quot;JDBC 4.2 compliant drivers can deal directly with <code>java.time</code> objects&quot;</em>, so even better, just bind the <code>ld</code> object to the <code>PreparedStatement</code>!</p>\n<p>If the column is <code>text</code>, then you're doing it wrong.</p>\n"}],"owner":{"account_id":24235045,"reputation":17,"user_id":18188300,"display_name":"Yasmine El"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75538771,"answer_count":1,"score":0,"last_activity_date":1677108517,"creation_date":1677102858,"question_id":75538527,"body_markdown":"i got the data from in excel file and pet it into an array string, the date is in the format (12/12/2020) whine i print it withe the method toString() i get (12-dec-2020), and when i tried simpledateformat codes that i found i get the errors &quot;unparseable date java&quot; or &quot;SimpleDateFormat Cannot format given Object as a Date&quot; or &quot;The import java.text.SimpleDateFormat cannot be resolved&quot;can anyone help me please?\r\nmy code:\r\n```\r\nfor (int row =0;row&lt;sheet.getLastRowNum()+1;row ++) {\r\nXSSFRow erow = sheet.getRow(row);\r\nfor(int column =0;column&lt;sheet.getRow(0).getLastCellNum();column++) {\r\nXSSFCell ecolumn = erow.getCell(column);\r\nexdata[row][column]= String.valueOf(ecolumn);\r\n    }\r\n} \r\nString stringDate = new SimpleDateFormat(&quot;MM/yyyy&quot;).format(exdata[1][5].toString());\r\nDate date = (Date) new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(stringDate);\r\nSystem.out.println(String.valueOf(date));\r\n```","title":"How to insert a date (12-dec-2020) from excel to mysql","body":"<p>i got the data from in excel file and pet it into an array string, the date is in the format (12/12/2020) whine i print it withe the method toString() i get (12-dec-2020), and when i tried simpledateformat codes that i found i get the errors &quot;unparseable date java&quot; or &quot;SimpleDateFormat Cannot format given Object as a Date&quot; or &quot;The import java.text.SimpleDateFormat cannot be resolved&quot;can anyone help me please?\nmy code:</p>\n<pre><code>for (int row =0;row&lt;sheet.getLastRowNum()+1;row ++) {\nXSSFRow erow = sheet.getRow(row);\nfor(int column =0;column&lt;sheet.getRow(0).getLastCellNum();column++) {\nXSSFCell ecolumn = erow.getCell(column);\nexdata[row][column]= String.valueOf(ecolumn);\n    }\n} \nString stringDate = new SimpleDateFormat(&quot;MM/yyyy&quot;).format(exdata[1][5].toString());\nDate date = (Date) new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(stringDate);\nSystem.out.println(String.valueOf(date));\n</code></pre>\n"},{"tags":["java","asynchronous","microservices","circuit-breaker"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1625770150,"post_id":68307199,"comment_id":120722921,"body_markdown":"how your solution will help with `We need to process events faster.`? maybe you need to look into service b performance/scaling?","body":"how your solution will help with <code>We need to process events faster.</code>? maybe you need to look into service b performance/scaling?"},{"owner":{"account_id":16671769,"reputation":439,"user_id":12048999,"display_name":"Julio"},"score":0,"creation_date":1625770370,"post_id":68307199,"comment_id":120722988,"body_markdown":"We have some monitors in the services and queue and we see messages spend most of the time in queue. When we increase instances in queue everything works better","body":"We have some monitors in the services and queue and we see messages spend most of the time in queue. When we increase instances in queue everything works better"},{"owner":{"account_id":16671769,"reputation":439,"user_id":12048999,"display_name":"Julio"},"score":0,"creation_date":1625770411,"post_id":68307199,"comment_id":120723000,"body_markdown":"So that means service B process everything fast as no need to add more instances in B once we increase instances in the queue","body":"So that means service B process everything fast as no need to add more instances in B once we increase instances in the queue"},{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1625808387,"post_id":68307199,"comment_id":120730929,"body_markdown":"you can use consumergroups for scaling and consuming messages.Link::https://activemq.apache.org/message-groups","body":"you can use consumergroups for scaling and consuming messages.Link::<a href=\"https://activemq.apache.org/message-groups\" rel=\"nofollow noreferrer\">activemq.apache.org/message-groups</a>"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1625849802,"post_id":68307199,"comment_id":120745820,"body_markdown":"Asking for &quot;some other approach which could be better&quot; is going to generate discussion and opinion-based answers rather than fact-based answers. This is off-topic here on Stack Overflow. Furthermore, you asking multiple questions here which is also off-topic.","body":"Asking for &quot;some other approach which could be better&quot; is going to generate discussion and opinion-based answers rather than fact-based answers. This is off-topic here on Stack Overflow. Furthermore, you asking multiple questions here which is also off-topic."}],"answers":[{"comments":[{"owner":{"account_id":16671769,"reputation":439,"user_id":12048999,"display_name":"Julio"},"score":0,"creation_date":1625770626,"post_id":68307290,"comment_id":120723075,"body_markdown":"We use active mq... then the quetion would be, do you think async calls would be faster than any other queue system or similar like sqs, kafka, etc","body":"We use active mq... then the quetion would be, do you think async calls would be faster than any other queue system or similar like sqs, kafka, etc"},{"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"score":0,"creation_date":1625770881,"post_id":68307290,"comment_id":120723188,"body_markdown":"so it would not be faster than queues for sure, but at the same time queues provide you confirmed delivery of every message you put in, you don&#39;t need to rely on circuit breakers. And you can always fine tune the queue parameters for better performance","body":"so it would not be faster than queues for sure, but at the same time queues provide you confirmed delivery of every message you put in, you don&#39;t need to rely on circuit breakers. And you can always fine tune the queue parameters for better performance"},{"owner":{"account_id":16671769,"reputation":439,"user_id":12048999,"display_name":"Julio"},"score":0,"creation_date":1625771490,"post_id":68307290,"comment_id":120723404,"body_markdown":"Sorry i didn&#39;t get it you are saying that queues are faster than call between services async?","body":"Sorry i didn&#39;t get it you are saying that queues are faster than call between services async?"},{"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"score":0,"creation_date":1625811881,"post_id":68307290,"comment_id":120731742,"body_markdown":"oh, I typed &quot;not&quot; by mistake, it would be faster than queues for sure, but queues are reliable in terms of confirmed message deliveries as I mentioned earlier","body":"oh, I typed &quot;not&quot; by mistake, it would be faster than queues for sure, but queues are reliable in terms of confirmed message deliveries as I mentioned earlier"}],"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625770445,"creation_date":1625770445,"answer_id":68307290,"question_id":68307199,"body_markdown":"for question\r\n1) yes, it is possible, I am assuming you are using spring boot as you have mentioned java in tags, so there is a mechanism called RetryTemplate that you can use for async calls as well, you can find more details here -&gt; https://www.openprogrammer.info/2019/09/03/using-spring-boot-async-with-retry/\r\n\r\n2) There are better approaches I would say, what did you implement when you say queue here? like is it a LIFO or something like AWS SQS? if that is the case then you can try and look for topic-based queue mechanisms like apache kafka","title":"Microservices async communication circuit breaker","body":"<p>for question</p>\n<ol>\n<li><p>yes, it is possible, I am assuming you are using spring boot as you have mentioned java in tags, so there is a mechanism called RetryTemplate that you can use for async calls as well, you can find more details here -&gt; <a href=\"https://www.openprogrammer.info/2019/09/03/using-spring-boot-async-with-retry/\" rel=\"nofollow noreferrer\">https://www.openprogrammer.info/2019/09/03/using-spring-boot-async-with-retry/</a></p>\n</li>\n<li><p>There are better approaches I would say, what did you implement when you say queue here? like is it a LIFO or something like AWS SQS? if that is the case then you can try and look for topic-based queue mechanisms like apache kafka</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":16671769,"reputation":439,"user_id":12048999,"display_name":"Julio"},"score":0,"creation_date":1625856354,"post_id":68319360,"comment_id":120747825,"body_markdown":"Actually we are hit the endpoint directly and implement circuit braker... if B goes down we&#39;ll enqueue events in the queue. Also we&#39;ll replace active mq by sqs","body":"Actually we are hit the endpoint directly and implement circuit braker... if B goes down we&#39;ll enqueue events in the queue. Also we&#39;ll replace active mq by sqs"}],"tags":[],"owner":{"account_id":3314736,"reputation":3800,"user_id":2787364,"accept_rate":75,"display_name":"Cosmin Ioniță"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625844919,"creation_date":1625844919,"answer_id":68319360,"question_id":68307199,"body_markdown":"If the bottleneck is in the queue, I don&#39;t think you should just remove it. You can just try to use a SQS or other cloud-based queue, which doesn&#39;t have that problem.\r\n\r\nWhat happens if service A calls service B directly, and service B is down? The request will be lost. With a queue, the message will remain there until service B recovers.\r\n\r\nCircuit breakers are used to avoid overwhelming a failed service with requests (in order to allow it to recover). So when it kicks in, there is a clear data loss there.","title":"Microservices async communication circuit breaker","body":"<p>If the bottleneck is in the queue, I don't think you should just remove it. You can just try to use a SQS or other cloud-based queue, which doesn't have that problem.</p>\n<p>What happens if service A calls service B directly, and service B is down? The request will be lost. With a queue, the message will remain there until service B recovers.</p>\n<p>Circuit breakers are used to avoid overwhelming a failed service with requests (in order to allow it to recover). So when it kicks in, there is a clear data loss there.</p>\n"},{"tags":[],"owner":{"account_id":4099639,"reputation":81,"user_id":3365520,"display_name":"RandomGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677107702,"creation_date":1677107702,"answer_id":75539103,"question_id":68307199,"body_markdown":"Late to the party . But in this case I am not sure what you are trying to solve .\r\n\r\n* Are these requests time sensitive ? \r\n* Do these queues have hard limits that you are reaching\r\n* Is the queue size growing for all the instances?\r\n* How is the Service B consuming from the queue are there dedicated instances per queue or they all poll at random ?\r\n\r\nBased on this \r\n* Scale up B\r\n* Shard queues to hosts to avoid noisy neighbor problem\r\n\r\nAnti patterns\r\n* Asking producer to slow down is just passing your problem to them, They need to figure out a solution now. :) \r\n* Since this is Async unless you really are reaching queue limits or have reliability with queue instances you should be okay. \r\n\r\n","title":"Microservices async communication circuit breaker","body":"<p>Late to the party . But in this case I am not sure what you are trying to solve .</p>\n<ul>\n<li>Are these requests time sensitive ?</li>\n<li>Do these queues have hard limits that you are reaching</li>\n<li>Is the queue size growing for all the instances?</li>\n<li>How is the Service B consuming from the queue are there dedicated instances per queue or they all poll at random ?</li>\n</ul>\n<p>Based on this</p>\n<ul>\n<li>Scale up B</li>\n<li>Shard queues to hosts to avoid noisy neighbor problem</li>\n</ul>\n<p>Anti patterns</p>\n<ul>\n<li>Asking producer to slow down is just passing your problem to them, They need to figure out a solution now. :)</li>\n<li>Since this is Async unless you really are reaching queue limits or have reliability with queue instances you should be okay.</li>\n</ul>\n"}],"owner":{"account_id":16671769,"reputation":439,"user_id":12048999,"display_name":"Julio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1677107702,"creation_date":1625770010,"question_id":68307199,"body_markdown":"I have 2 services running with spring boot and I have the following situation:\r\n\r\nService A (N instances) -&gt; Queue (multiple instances) -&gt; Service B (N instances)\r\n\r\n- Service A enqueue events async \r\n- Service B dequeue events\r\n\r\nTraffic is increasing and we&#39;ve noticed that events spend a lot of time in queue. We need to process events faster. Payload for each event is small and this solution has been working for some years now and a couple of years ago they thought that having a queue was a good idea but now I&#39;m having this performance issue. \r\n\r\n\r\n- I thinking about creating an endpoint in service B and hit this endpoint from service A.\r\n\r\nThis call should be async and also implement a circuit breaker to avoid lossing messages if B goes down. If B goes down I could use the queue to keep messages and once B is running and up again pull messages from queue.\r\n\r\nI have 2 questions:\r\n\r\n- Is it possible to implement circuit breaker or a failover mechanism for an async call?\r\n\r\n- do you think there is some other approach which could be better?\r\n\r\nThanks\r\n\r\n","title":"Microservices async communication circuit breaker","body":"<p>I have 2 services running with spring boot and I have the following situation:</p>\n<p>Service A (N instances) -&gt; Queue (multiple instances) -&gt; Service B (N instances)</p>\n<ul>\n<li>Service A enqueue events async</li>\n<li>Service B dequeue events</li>\n</ul>\n<p>Traffic is increasing and we've noticed that events spend a lot of time in queue. We need to process events faster. Payload for each event is small and this solution has been working for some years now and a couple of years ago they thought that having a queue was a good idea but now I'm having this performance issue.</p>\n<ul>\n<li>I thinking about creating an endpoint in service B and hit this endpoint from service A.</li>\n</ul>\n<p>This call should be async and also implement a circuit breaker to avoid lossing messages if B goes down. If B goes down I could use the queue to keep messages and once B is running and up again pull messages from queue.</p>\n<p>I have 2 questions:</p>\n<ul>\n<li><p>Is it possible to implement circuit breaker or a failover mechanism for an async call?</p>\n</li>\n<li><p>do you think there is some other approach which could be better?</p>\n</li>\n</ul>\n<p>Thanks</p>\n"},{"tags":["java","jar","gstreamer","rtp"],"comments":[{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":1,"creation_date":1677804804,"post_id":75533618,"comment_id":133414893,"body_markdown":"You could always write your own &quot;pipelines&quot; to do that, shouldnt take a lot of effort considering your current goal","body":"You could always write your own &quot;pipelines&quot; to do that, shouldnt take a lot of effort considering your current goal"}],"answers":[{"tags":[],"owner":{"account_id":27805965,"reputation":16,"user_id":21229367,"display_name":"Jafet Chaves"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677107083,"creation_date":1677106615,"answer_id":75538986,"question_id":75533618,"body_markdown":"There is a GStreamer elements that already handles that use case  easily by reading sequentially named files, you can try to use `multifilesrc`.","title":"Changing pipeline location file path","body":"<p>There is a GStreamer elements that already handles that use case  easily by reading sequentially named files, you can try to use <code>multifilesrc</code>.</p>\n"}],"owner":{"account_id":25839069,"reputation":21,"user_id":19574955,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677107083,"creation_date":1677073695,"question_id":75533618,"body_markdown":"Is it possible to change a pipeline location file path after it finished running first location .wav file?\r\nI&#39;ve tried the following but it didn&#39;t worked:\r\n\r\n        Element source = ElementFactory.make(&quot;filesrc&quot;,&quot;src&quot;);\r\n        pipeline.link(source);\r\n        source.set(&quot;location&quot;, newPath);\r\n\r\nThe main goal is to use the same pipeline during the code process - I&#39;ve seen some strange behavior of gstreamer when creating too many pipelines or buses... ","title":"Changing pipeline location file path","body":"<p>Is it possible to change a pipeline location file path after it finished running first location .wav file?\nI've tried the following but it didn't worked:</p>\n<pre><code>    Element source = ElementFactory.make(&quot;filesrc&quot;,&quot;src&quot;);\n    pipeline.link(source);\n    source.set(&quot;location&quot;, newPath);\n</code></pre>\n<p>The main goal is to use the same pipeline during the code process - I've seen some strange behavior of gstreamer when creating too many pipelines or buses...</p>\n"},{"tags":["java","android","directory"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677041505,"post_id":75527761,"comment_id":133257174,"body_markdown":"If it didn&#39;t work, there must be an error output dump, please show.","body":"If it didn&#39;t work, there must be an error output dump, please show."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677047993,"post_id":75527761,"comment_id":133258099,"body_markdown":"Add: `if(!new File(archivo).canRead()) return;` before you try to read.","body":"Add: <code>if(!new File(archivo).canRead()) return;</code> before you try to read."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677048141,"post_id":75527761,"comment_id":133258123,"body_markdown":"But you should check if the file exists and if you can read the file instead of the directory.","body":"But you should check if the file exists and if you can read the file instead of the directory."},{"owner":{"account_id":27846870,"reputation":1,"user_id":21262147,"display_name":"Vicio028"},"score":0,"creation_date":1677163296,"post_id":75527761,"comment_id":133286740,"body_markdown":"blackapps I already put what you told me and now I can&#39;t read the file. Any suggestions as to why this happens?","body":"blackapps I already put what you told me and now I can&#39;t read the file. Any suggestions as to why this happens?"}],"owner":{"account_id":27846870,"reputation":1,"user_id":21262147,"display_name":"Vicio028"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677106483,"creation_date":1677033525,"question_id":75527761,"body_markdown":"I have this error, what I am trying to do is read a .csv file so that I can retrieve its data and enter it into a local database.\r\n\r\nThis is my code:\r\n\r\nIn my android Manifest, I have these permissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nIn my class I have the following code:\r\n\r\n    public void importarCSV() {\r\n\r\n        File carpeta = new File(Environment.getExternalStorageDirectory() + &quot;/BaseDeDatosAlumnos&quot;);\r\n        String archivo = carpeta + &quot;/&quot; + &quot;prueba.csv&quot;;\r\n\r\n\r\n        if (!carpeta.exists()) {\r\n            Toast.makeText(ActividadPrincipalAdmin.this, &quot;NO EXISTE LA CARPETA&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            String cadena;\r\n            String[] arreglo;\r\n            try {\r\n                FileReader fileReader = new FileReader(archivo);\r\n                BufferedReader bufferedReader = new BufferedReader(fileReader);\r\n\r\n                while ((cadena = bufferedReader.readLine()) != null) {\r\n                    arreglo = cadena.split(&quot;,&quot;);\r\n\r\n                    //CARGA DE CLASES Y CREACION DE OBJETOS PARA FUNCIONAMIENTO DE LA DB\r\n                    DbHelper admin = new DbHelper(ActividadPrincipalAdmin.this);\r\n                    SQLiteDatabase db = admin.getWritableDatabase();\r\n\r\n                    ContentValues registro = new ContentValues();\r\n\r\n                    registro.put(&quot;nControl&quot;, arreglo[1]);\r\n                    registro.put(&quot;nombre&quot;, arreglo[2]);\r\n                    registro.put(&quot;carrera&quot;, arreglo[3]);\r\n                    registro.put(&quot;semestre&quot;, arreglo[4]);\r\n                    registro.put(&quot;genero&quot;, arreglo[5]);\r\n\r\n                    db.insert(&quot;t_alumnos&quot;, null, registro);\r\n\r\n                    Toast.makeText(ActividadPrincipalAdmin.this, &quot;SE IMPORTO CORRECTAMENTE&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } catch (Exception e) {\r\n                Toast.makeText(ActividadPrincipalAdmin.this, &quot;- &quot; + e, Toast.LENGTH_LONG).show();\r\n                Toast.makeText(ActividadPrincipalAdmin.this, &quot;LO LAMENTO TIENES UN ERROR&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd this is how I request the permissions:\r\n\r\n    public void pedirPermisos() {\r\n        int permisoEscritura = ContextCompat.checkSelfPermission(this,Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        int permisoLectura = ContextCompat.checkSelfPermission(this,Manifest.permission.READ_EXTERNAL_STORAGE);\r\n        if (permisoEscritura != PackageManager.PERMISSION_GRANTED &amp;&amp; permisoLectura != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE}, RecuestCode);\r\n        }\r\n    }\r\n\r\n\r\nI tried to change the folder and my file to other folders but it doesn&#39;t work, just like I tried to put direct paths of my folder but it didn&#39;t work either.","title":"Getting error: java.io.FileNotFoundException: Open failed: ENOENT (No such file or directory)","body":"<p>I have this error, what I am trying to do is read a .csv file so that I can retrieve its data and enter it into a local database.</p>\n<p>This is my code:</p>\n<p>In my android Manifest, I have these permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>In my class I have the following code:</p>\n<pre><code>public void importarCSV() {\n\n    File carpeta = new File(Environment.getExternalStorageDirectory() + &quot;/BaseDeDatosAlumnos&quot;);\n    String archivo = carpeta + &quot;/&quot; + &quot;prueba.csv&quot;;\n\n\n    if (!carpeta.exists()) {\n        Toast.makeText(ActividadPrincipalAdmin.this, &quot;NO EXISTE LA CARPETA&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        String cadena;\n        String[] arreglo;\n        try {\n            FileReader fileReader = new FileReader(archivo);\n            BufferedReader bufferedReader = new BufferedReader(fileReader);\n\n            while ((cadena = bufferedReader.readLine()) != null) {\n                arreglo = cadena.split(&quot;,&quot;);\n\n                //CARGA DE CLASES Y CREACION DE OBJETOS PARA FUNCIONAMIENTO DE LA DB\n                DbHelper admin = new DbHelper(ActividadPrincipalAdmin.this);\n                SQLiteDatabase db = admin.getWritableDatabase();\n\n                ContentValues registro = new ContentValues();\n\n                registro.put(&quot;nControl&quot;, arreglo[1]);\n                registro.put(&quot;nombre&quot;, arreglo[2]);\n                registro.put(&quot;carrera&quot;, arreglo[3]);\n                registro.put(&quot;semestre&quot;, arreglo[4]);\n                registro.put(&quot;genero&quot;, arreglo[5]);\n\n                db.insert(&quot;t_alumnos&quot;, null, registro);\n\n                Toast.makeText(ActividadPrincipalAdmin.this, &quot;SE IMPORTO CORRECTAMENTE&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } catch (Exception e) {\n            Toast.makeText(ActividadPrincipalAdmin.this, &quot;- &quot; + e, Toast.LENGTH_LONG).show();\n            Toast.makeText(ActividadPrincipalAdmin.this, &quot;LO LAMENTO TIENES UN ERROR&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>And this is how I request the permissions:</p>\n<pre><code>public void pedirPermisos() {\n    int permisoEscritura = ContextCompat.checkSelfPermission(this,Manifest.permission.WRITE_EXTERNAL_STORAGE);\n    int permisoLectura = ContextCompat.checkSelfPermission(this,Manifest.permission.READ_EXTERNAL_STORAGE);\n    if (permisoEscritura != PackageManager.PERMISSION_GRANTED &amp;&amp; permisoLectura != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                Manifest.permission.MANAGE_EXTERNAL_STORAGE}, RecuestCode);\n    }\n}\n</code></pre>\n<p>I tried to change the folder and my file to other folders but it doesn't work, just like I tried to put direct paths of my folder but it didn't work either.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1677013340,"post_id":75525359,"comment_id":133252721,"body_markdown":"First you can remove all the spring version numbers in your pom. You have defined the spring parent, so the parent will automatically select spring versions for you that are compatible with each other. Also you dont need jjwt, spring boot already comes included with Nimbus which is a jwt library. So you can remove that dependency also. Im guessing you have followed a bad blogpost, written by someone that doesnt understand spring","body":"First you can remove all the spring version numbers in your pom. You have defined the spring parent, so the parent will automatically select spring versions for you that are compatible with each other. Also you dont need jjwt, spring boot already comes included with Nimbus which is a jwt library. So you can remove that dependency also. Im guessing you have followed a bad blogpost, written by someone that doesnt understand spring"},{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":1,"creation_date":1677092097,"post_id":75525359,"comment_id":133271186,"body_markdown":"Yeah, removing the spring version numbers actually helped, thank you","body":"Yeah, removing the spring version numbers actually helped, thank you"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677106106,"creation_date":1677009722,"question_id":75525359,"body_markdown":"Here is code\r\n```java\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true\r\n)\r\npublic class WebSecurityConfig{\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nWhen i try to do this\r\n `http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);`\r\nI got this\r\n![enter image description here](https://i.stack.imgur.com/yj48h.png)\r\n\r\nHere is my AuthTokenFilter code\r\n\r\n```java\r\n@Slf4j\r\npublic class AuthTokenFilter extends OncePerRequestFilter {\r\n    @Autowired\r\n    private JwtUtils jwtUtils;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        try {\r\n            String jwt = parseJwt(request);\r\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n\r\n                String username = jwtUtils.getUserNameFormJwtToken(jwt);\r\n\r\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities()\r\n                );\r\n\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Cannot set user authentication: {}&quot;, e.getMessage());\r\n        }\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n\r\n    private String parseJwt(HttpServletRequest request) {\r\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\r\n            return headerAuth.substring(7, headerAuth.length());\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\nAlso, when i try to startup application, i got this error\r\n\r\njava: cannot access javax.servlet.Filter\r\n  class file for javax.servlet.Filter not found\r\n\r\nHere is my pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TaskManager&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;TaskManager&lt;/name&gt;\r\n    &lt;description&gt;TaskManager&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI saw somewhere here that this denendency migh help\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n  &lt;version&gt;4.0.1&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nBut this did not help me","title":"Can not pass arguments to http.addFilterBefore()","body":"<p>Here is code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true\n)\npublic class WebSecurityConfig{\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>When i try to do this\n<code>http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);</code>\nI got this\n<img src=\"https://i.stack.imgur.com/yj48h.png\" alt=\"enter image description here\" /></p>\n<p>Here is my AuthTokenFilter code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class AuthTokenFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtils jwtUtils;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        try {\n            String jwt = parseJwt(request);\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n\n                String username = jwtUtils.getUserNameFormJwtToken(jwt);\n\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities()\n                );\n\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n            log.error(&quot;Cannot set user authentication: {}&quot;, e.getMessage());\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n\n    private String parseJwt(HttpServletRequest request) {\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\n\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\n            return headerAuth.substring(7, headerAuth.length());\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>Also, when i try to startup application, i got this error</p>\n<p>java: cannot access javax.servlet.Filter\nclass file for javax.servlet.Filter not found</p>\n<p>Here is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TaskManager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;TaskManager&lt;/name&gt;\n    &lt;description&gt;TaskManager&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I saw somewhere here that this denendency migh help</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But this did not help me</p>\n"},{"tags":["java","spring-boot","vue.js","vuejs2"],"comments":[{"owner":{"account_id":3675707,"reputation":5532,"user_id":3061857,"accept_rate":65,"display_name":"nbokmans"},"score":1,"creation_date":1676996553,"post_id":75523133,"comment_id":133247765,"body_markdown":"The page on your frontend likely has the original dataset that came in through loading (e.g. API request). Can you use this and compare it to the form state when you press the submit button, and make an `object diff`, and send that to your backend instead?","body":"The page on your frontend likely has the original dataset that came in through loading (e.g. API request). Can you use this and compare it to the form state when you press the submit button, and make an <code>object diff</code>, and send that to your backend instead?"}],"answers":[{"tags":[],"owner":{"account_id":27777558,"reputation":171,"user_id":21206597,"display_name":"lars"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677001721,"creation_date":1677001578,"answer_id":75524101,"question_id":75523133,"body_markdown":"When you receive the tasks from the api, you could map the tasks to something like this.\r\n\r\n    const tasks = [{ title: &quot;some text here&quot;, completed: false }];\r\n    const internalTasks = tasks.map((task) =&gt; ({ ...task, touched: false }));\r\n\r\nAnd the touched attribute gets set to `true` on the change event of the checkbox.\r\n\r\n    &lt;li v-for=&quot;task in internalTasks&quot;&gt;\r\n      &lt;input\r\n        type=&quot;checkbox&quot;\r\n        v-model=&quot;task.completed&quot;\r\n        @change=&quot;task.touched = true&quot;\r\n      /&gt;\r\n      &lt;label :for=&quot;task.title&quot;&gt;{{ task.title }}&lt;/label&gt;\r\n    &lt;/li&gt;\r\n\r\nThen you can filter the `internalTasks` and only send the changed tasks to the api.\r\n\r\n    submit() {\r\n      return axiosComponent.updateTask(internalTasks.filter((task) =&gt; task.touched))\r\n    }\r\n    ","title":"How do you put changed data from frontend to backend without having to save unchanged values?","body":"<p>When you receive the tasks from the api, you could map the tasks to something like this.</p>\n<pre><code>const tasks = [{ title: &quot;some text here&quot;, completed: false }];\nconst internalTasks = tasks.map((task) =&gt; ({ ...task, touched: false }));\n</code></pre>\n<p>And the touched attribute gets set to <code>true</code> on the change event of the checkbox.</p>\n<pre><code>&lt;li v-for=&quot;task in internalTasks&quot;&gt;\n  &lt;input\n    type=&quot;checkbox&quot;\n    v-model=&quot;task.completed&quot;\n    @change=&quot;task.touched = true&quot;\n  /&gt;\n  &lt;label :for=&quot;task.title&quot;&gt;{{ task.title }}&lt;/label&gt;\n&lt;/li&gt;\n</code></pre>\n<p>Then you can filter the <code>internalTasks</code> and only send the changed tasks to the api.</p>\n<pre><code>submit() {\n  return axiosComponent.updateTask(internalTasks.filter((task) =&gt; task.touched))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4944718,"reputation":26372,"user_id":4116300,"accept_rate":82,"display_name":"Roh&#236;t J&#237;ndal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677058568,"creation_date":1677058568,"answer_id":75530722,"question_id":75523133,"body_markdown":"You can simply achieve this requirement by making a copy of the original array and then on submit, You can compare the stringified version of the changed object with the cloned one.\r\n\r\nLive Demo **:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    new Vue({\r\n      el: &#39;#app&#39;,\r\n      data: {\r\n        tasks: [\r\n          { title: &#39;Title 1&#39;, completed: false },\r\n          { title: &#39;Title 2&#39;, completed: false },\r\n          { title: &#39;Title 3&#39;, completed: true },\r\n          { title: &#39;Title 4&#39;, completed: false },\r\n          { title: &#39;Title 5&#39;, completed: true }\r\n        ],\r\n        clonedTasks: []\r\n      },\r\n      mounted() {\r\n        this.clonedTasks = structuredClone(this.tasks);\r\n      },\r\n      methods: {\r\n        submit() {\r\n          const updatedTasks = this.tasks.filter(obj =&gt; {\r\n            return !JSON.stringify(this.clonedTasks).includes(JSON.stringify(obj))\r\n          });\r\n          console.log(updatedTasks);\r\n        }\r\n      }\r\n    })\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js&quot;&gt;&lt;/script&gt;\r\n    &lt;div id=&quot;app&quot;&gt;\r\n      &lt;li v-for=&quot;task in tasks&quot;&gt;\r\n        &lt;input type=&quot;checkbox&quot; v-model=&quot;task.completed&quot;&gt;\r\n        &lt;label :for=&quot;task.title&quot;&gt;{{task.title}}&lt;/label&gt;\r\n      &lt;/li&gt;\r\n      &lt;button @click=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How do you put changed data from frontend to backend without having to save unchanged values?","body":"<p>You can simply achieve this requirement by making a copy of the original array and then on submit, You can compare the stringified version of the changed object with the cloned one.</p>\n<p>Live Demo <strong>:</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\n  el: '#app',\n  data: {\n    tasks: [\n      { title: 'Title 1', completed: false },\n      { title: 'Title 2', completed: false },\n      { title: 'Title 3', completed: true },\n      { title: 'Title 4', completed: false },\n      { title: 'Title 5', completed: true }\n    ],\n    clonedTasks: []\n  },\n  mounted() {\n    this.clonedTasks = structuredClone(this.tasks);\n  },\n  methods: {\n    submit() {\n      const updatedTasks = this.tasks.filter(obj =&gt; {\n        return !JSON.stringify(this.clonedTasks).includes(JSON.stringify(obj))\n      });\n      console.log(updatedTasks);\n    }\n  }\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\n&lt;div id=\"app\"&gt;\n  &lt;li v-for=\"task in tasks\"&gt;\n    &lt;input type=\"checkbox\" v-model=\"task.completed\"&gt;\n    &lt;label :for=\"task.title\"&gt;{{task.title}}&lt;/label&gt;\n  &lt;/li&gt;\n  &lt;button @click=\"submit\"&gt;Submit&lt;/button&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":27843146,"reputation":23,"user_id":21259233,"display_name":"Scandidi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677106006,"creation_date":1676996300,"question_id":75523133,"body_markdown":"So I importing a list from a database using axios and store it in a variable.\r\nLet&#39;s call it tasks.\r\nEach object could look something like this:\r\n\r\n    tasks: [\r\n        { title: &#39;some text here&#39; },\r\n        { completed: false },\r\n      ]\r\n\r\nImagine I have 2000 or 3000 of these.\r\nOn the frontend I make a checkbox for each task that sets the boolean value in completed to `true` or `false`\r\n\r\n\r\n    &lt;li v-for=&quot;task in tasks&quot;&gt;\r\n          &lt;input type=&quot;checkbox&quot; v-model=&quot;task.completed&quot;&gt;\r\n          &lt;label :for=&quot;task.title&quot;&gt;{{task.title}}&lt;/label&gt;\r\n    &lt;/li&gt;`\r\n\r\n\r\nGreat, now I need to save the changes so my database can be updated.\r\n\r\n\r\n    submit(){\r\n        return axiosComponent.updateTask(this.tasks)\r\n\r\n      }\r\n\r\nHere&#39;s where my problem is. Upon clicking on submit, I&#39;m going through the entire list of tasks and basically saving everything. This can lead to timeouts and other performance issues as it has to go through thousands and thousands of objects.\r\nSo what I would like to do is to somehow change the submit method so that it ONLY saves the data that has actually been changed.\r\nSo if two tasks have been set to false or true in &quot;completed&quot; then only save those two tasks to the database. Do not save the entire list.\r\n\r\nI don&#39;t know if it&#39;s something I can do purely on the frotend or if I need to do something on the backend. For those interested, here is my backend code for the process:\r\n\r\n**The axios component:**\r\n\r\n\r\n    updateTask(tasks){\r\n        return axios.put(&#39;task/updateStatus&#39;, tasks)\r\n      }\r\n\r\n\r\n**The controller getting the axios data:**\r\n\r\n\r\n    @PutMapping(&quot;/updateStatus&quot;)\r\n        public void updateStatusOnTask(@RequestBody List&lt;TaskEntity&gt; taskEntities){\r\n            taskManager.updateTaskStatus(taskEntities);\r\n        }\r\n\r\n\r\n**The manager**\r\n\r\n\r\n    public void updateTaskStatus(List&lt;TaskEntity&gt; taskEntities) {\r\n            taskRepository.saveAll(taskEntities);\r\n        }\r\n\r\n\r\nSo what did I try? Well, one idea was to create computed properties that saved the checked and unchecked tasks in their own objects and then put these in my submit method instead of &quot;tasks.\r\n\r\n\r\n    completedTasks(){\r\n        if(this.tasks){\r\n          return this.tasks.filter(task =&gt; task.completed)\r\n        }\r\n      },\r\n      unresolvedTasks(){\r\n        if(this.tasks){\r\n          return this.errors.filter(task =&gt; !task.completed)\r\n        }\r\n      },\r\n\r\n      submit(){\r\n        return axiosComponent.updateTask(this.completedTasks)\r\n\r\n      }\r\n\r\n\r\nThe problem of course is that I am not actually saving anything to the database when I save these. I do not change the values in the &quot;tasks&quot; object. I am just putting the changed values into a new one. So when I save and reload the page, they will get overwritten once the tasks object is loaded.\r\nAlso, if I have 1000 unresolved tasks, then we will have the same issue with timeouts if I need to save any changes to these.","title":"How do you put changed data from frontend to backend without having to save unchanged values?","body":"<p>So I importing a list from a database using axios and store it in a variable.\nLet's call it tasks.\nEach object could look something like this:</p>\n<pre><code>tasks: [\n    { title: 'some text here' },\n    { completed: false },\n  ]\n</code></pre>\n<p>Imagine I have 2000 or 3000 of these.\nOn the frontend I make a checkbox for each task that sets the boolean value in completed to <code>true</code> or <code>false</code></p>\n<pre><code>&lt;li v-for=&quot;task in tasks&quot;&gt;\n      &lt;input type=&quot;checkbox&quot; v-model=&quot;task.completed&quot;&gt;\n      &lt;label :for=&quot;task.title&quot;&gt;{{task.title}}&lt;/label&gt;\n&lt;/li&gt;`\n</code></pre>\n<p>Great, now I need to save the changes so my database can be updated.</p>\n<pre><code>submit(){\n    return axiosComponent.updateTask(this.tasks)\n\n  }\n</code></pre>\n<p>Here's where my problem is. Upon clicking on submit, I'm going through the entire list of tasks and basically saving everything. This can lead to timeouts and other performance issues as it has to go through thousands and thousands of objects.\nSo what I would like to do is to somehow change the submit method so that it ONLY saves the data that has actually been changed.\nSo if two tasks have been set to false or true in &quot;completed&quot; then only save those two tasks to the database. Do not save the entire list.</p>\n<p>I don't know if it's something I can do purely on the frotend or if I need to do something on the backend. For those interested, here is my backend code for the process:</p>\n<p><strong>The axios component:</strong></p>\n<pre><code>updateTask(tasks){\n    return axios.put('task/updateStatus', tasks)\n  }\n</code></pre>\n<p><strong>The controller getting the axios data:</strong></p>\n<pre><code>@PutMapping(&quot;/updateStatus&quot;)\n    public void updateStatusOnTask(@RequestBody List&lt;TaskEntity&gt; taskEntities){\n        taskManager.updateTaskStatus(taskEntities);\n    }\n</code></pre>\n<p><strong>The manager</strong></p>\n<pre><code>public void updateTaskStatus(List&lt;TaskEntity&gt; taskEntities) {\n        taskRepository.saveAll(taskEntities);\n    }\n</code></pre>\n<p>So what did I try? Well, one idea was to create computed properties that saved the checked and unchecked tasks in their own objects and then put these in my submit method instead of &quot;tasks.</p>\n<pre><code>completedTasks(){\n    if(this.tasks){\n      return this.tasks.filter(task =&gt; task.completed)\n    }\n  },\n  unresolvedTasks(){\n    if(this.tasks){\n      return this.errors.filter(task =&gt; !task.completed)\n    }\n  },\n\n  submit(){\n    return axiosComponent.updateTask(this.completedTasks)\n\n  }\n</code></pre>\n<p>The problem of course is that I am not actually saving anything to the database when I save these. I do not change the values in the &quot;tasks&quot; object. I am just putting the changed values into a new one. So when I save and reload the page, they will get overwritten once the tasks object is loaded.\nAlso, if I have 1000 unresolved tasks, then we will have the same issue with timeouts if I need to save any changes to these.</p>\n"},{"tags":["java","performance","certificate","weblogic","digital-signature"],"owner":{"account_id":5905050,"reputation":907,"user_id":4647157,"accept_rate":40,"display_name":"PaulEdison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677105816,"creation_date":1677105816,"question_id":75538892,"body_markdown":"I&#39;m interested in how to estimate the performance impact of increasing the RSA key size in the certificates that are used for signing the requests to the server. \r\n\r\nWe do have a an Oracle WebLogic Application server running an Java application that is processing SOAP requests.  \r\nWe use a self created root certificate to create client certificates.  \r\nThe clients use this client certificates to sign their request that are checked for a valid signature.\r\n\r\nHow could I reasonable estimate a performance impact when changing the size of the key in the client certificate? \r\n\r\nI consider that for this is needed to know:\r\n\r\n - size of the increase of key width (e.g.: from 1024bit to 3072bit)\r\n - current amount of requests per hour/minute\r\n - current size of signed requests on average (in kb/mb) \r\n\r\nIs there a way of estimating the impact?\r\n","title":"Estimate the performance impact of increasing certificate key size for requests signing","body":"<p>I'm interested in how to estimate the performance impact of increasing the RSA key size in the certificates that are used for signing the requests to the server.</p>\n<p>We do have a an Oracle WebLogic Application server running an Java application that is processing SOAP requests.<br />\nWe use a self created root certificate to create client certificates.<br />\nThe clients use this client certificates to sign their request that are checked for a valid signature.</p>\n<p>How could I reasonable estimate a performance impact when changing the size of the key in the client certificate?</p>\n<p>I consider that for this is needed to know:</p>\n<ul>\n<li>size of the increase of key width (e.g.: from 1024bit to 3072bit)</li>\n<li>current amount of requests per hour/minute</li>\n<li>current size of signed requests on average (in kb/mb)</li>\n</ul>\n<p>Is there a way of estimating the impact?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1659518105,"post_id":73219124,"comment_id":129311650,"body_markdown":"You just need to remove item from list which is passed in the recyclerview and then refresh the recyclerview with notify method.","body":"You just need to remove item from list which is passed in the recyclerview and then refresh the recyclerview with notify method."},{"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"score":0,"creation_date":1659519321,"post_id":73219124,"comment_id":129312089,"body_markdown":"use notifyItemRemoved instead of notifyDatasetChanged","body":"use notifyItemRemoved instead of notifyDatasetChanged"},{"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"score":0,"creation_date":1659547049,"post_id":73219124,"comment_id":129322080,"body_markdown":"@HaseebHassanAsif it shows the same problem","body":"@HaseebHassanAsif it shows the same problem"},{"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"score":0,"creation_date":1659598757,"post_id":73219124,"comment_id":129333760,"body_markdown":"@AishaKumari please share your adapter code so that we can further understand the problem.","body":"@AishaKumari please share your adapter code so that we can further understand the problem."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1677106044,"post_id":73219124,"comment_id":133274717,"body_markdown":"You don&#39;t show where ```position``` variable comes from, use ```getBindingAdapterPosition()```","body":"You don&#39;t show where <code>position</code> variable comes from, use <code>getBindingAdapterPosition()</code>"}],"answers":[{"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677105599,"creation_date":1677105599,"answer_id":75538869,"question_id":73219124,"body_markdown":"By putting the click listener in the RecyclerView.Adapter, you are referencing  and outdated position of the item.\r\n\r\nPut the click listener inside the ViewHolder instead. You, can use either layoutPosition or absoluteAdapterPosition\r\nAdapter\r\n```kotlin\r\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int) {\r\n        val item = items[position]\r\n        Log.d(tag, &quot;onBindViewHolder - item at $position is ${item.content}&quot;)\r\n\r\n        val listener = object : ItemDeleteListener {\r\n            override fun delete(position: Int) {\r\n                items.removeAt(position)\r\n                notifyItemRemoved(position)\r\n            }\r\n        }\r\n        \r\n        holder.bind(item, listener)\r\n    }\r\n```\r\n\r\nViewHolder\r\n```kotlin\r\nfun bind(item: DummyData, listener: ItemDeleteListener) {\r\n        binding.title.text = &quot;${item.content}&quot;\r\n\r\n        binding.cta.setOnClickListener {\r\n            listener.delete(layoutPosition)\r\n        }\r\n    }\r\n```\r\n\r\nProtip: try not to use `notifyDataSetChanged()` since it&#39;s expensive\r\n\r\nFor more details on how to handle deletion, you can check out this tutorial of mine\r\n(there&#39;s sample GitHub repository you can play with too)\r\nhttps://medium.com/@ericntd/recyclerview-how-to-handle-insertion-and-deletion-334a38104de8","title":"how to remove the exact item from recyclerview in android studio?","body":"<p>By putting the click listener in the RecyclerView.Adapter, you are referencing  and outdated position of the item.</p>\n<p>Put the click listener inside the ViewHolder instead. You, can use either layoutPosition or absoluteAdapterPosition\nAdapter</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n        val item = items[position]\n        Log.d(tag, &quot;onBindViewHolder - item at $position is ${item.content}&quot;)\n\n        val listener = object : ItemDeleteListener {\n            override fun delete(position: Int) {\n                items.removeAt(position)\n                notifyItemRemoved(position)\n            }\n        }\n        \n        holder.bind(item, listener)\n    }\n</code></pre>\n<p>ViewHolder</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun bind(item: DummyData, listener: ItemDeleteListener) {\n        binding.title.text = &quot;${item.content}&quot;\n\n        binding.cta.setOnClickListener {\n            listener.delete(layoutPosition)\n        }\n    }\n</code></pre>\n<p>Protip: try not to use <code>notifyDataSetChanged()</code> since it's expensive</p>\n<p>For more details on how to handle deletion, you can check out this tutorial of mine\n(there's sample GitHub repository you can play with too)\n<a href=\"https://medium.com/@ericntd/recyclerview-how-to-handle-insertion-and-deletion-334a38104de8\" rel=\"nofollow noreferrer\">https://medium.com/@ericntd/recyclerview-how-to-handle-insertion-and-deletion-334a38104de8</a></p>\n"}],"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677105599,"creation_date":1659517886,"question_id":73219124,"body_markdown":"I am trying to delete the item from the recyclerview, but after deleting it always removes the last position, I can&#39;t understand why it is not removing the exact position which I have deleted\r\n\r\nplease if anyone could help me out of this problem\r\n\r\nhere is my code\r\n\r\n      holder.items_image.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                item_card.setVisibility(View.VISIBLE);\r\n                item_delete_layer.setVisibility(View.VISIBLE);\r\n                final String path = imageList.get(position).getPath();\r\n                    SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;, Context.MODE_PRIVATE);\r\n                    SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                    editor.putString(&quot;filePath&quot;, path);\r\n                    editor.apply();\r\n            }\r\n        });\r\n\r\n\r\n    item_delete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                item_card.setVisibility(View.GONE);\r\n                item_delete_layer.setVisibility(View.GONE);\r\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;, Context.MODE_PRIVATE);\r\n                String path = sharedPreferences.getString(&quot;filePath&quot;,&quot;&quot;);\r\n                File fdelete = new File(path);\r\n                if (fdelete.delete()){\r\n                    imageList.remove(position);\r\n                    notifyDataSetChanged();\r\n                    Toast.makeText(context, &quot;File deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    Toast.makeText(context, &quot;Can&#39;t delete file&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n     item_cancel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                item_card.setVisibility(View.GONE);\r\n                item_delete_layer.setVisibility(View.GONE);\r\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;,Context.MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                editor.clear();\r\n                editor.apply();\r\n\r\n\r\n            }\r\n        });","title":"how to remove the exact item from recyclerview in android studio?","body":"<p>I am trying to delete the item from the recyclerview, but after deleting it always removes the last position, I can't understand why it is not removing the exact position which I have deleted</p>\n<p>please if anyone could help me out of this problem</p>\n<p>here is my code</p>\n<pre><code>  holder.items_image.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            item_card.setVisibility(View.VISIBLE);\n            item_delete_layer.setVisibility(View.VISIBLE);\n            final String path = imageList.get(position).getPath();\n                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;, Context.MODE_PRIVATE);\n                SharedPreferences.Editor editor = sharedPreferences.edit();\n                editor.putString(&quot;filePath&quot;, path);\n                editor.apply();\n        }\n    });\n\n\nitem_delete.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            item_card.setVisibility(View.GONE);\n            item_delete_layer.setVisibility(View.GONE);\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;, Context.MODE_PRIVATE);\n            String path = sharedPreferences.getString(&quot;filePath&quot;,&quot;&quot;);\n            File fdelete = new File(path);\n            if (fdelete.delete()){\n                imageList.remove(position);\n                notifyDataSetChanged();\n                Toast.makeText(context, &quot;File deleted&quot;, Toast.LENGTH_SHORT).show();\n            }else {\n                Toast.makeText(context, &quot;Can't delete file&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n\n\n item_cancel.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            item_card.setVisibility(View.GONE);\n            item_delete_layer.setVisibility(View.GONE);\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;path&quot;,Context.MODE_PRIVATE);\n            SharedPreferences.Editor editor = sharedPreferences.edit();\n            editor.clear();\n            editor.apply();\n\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","jsf","model-view-controller"],"comments":[{"owner":{"account_id":2038555,"reputation":11664,"user_id":1820286,"accept_rate":50,"display_name":"skuntsel"},"score":0,"creation_date":1380017028,"post_id":18978427,"comment_id":28032465,"body_markdown":"Will the effort be worth the cost?","body":"Will the effort be worth the cost?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1380017384,"post_id":18978427,"comment_id":28032719,"body_markdown":"This doesn&#39;t sound like a very robust approach. You can use technologies like Spring Roo to create a webapp based on database tables, but I wouldn&#39;t do this with JSF.","body":"This doesn&#39;t sound like a very robust approach. You can use technologies like Spring Roo to create a webapp based on database tables, but I wouldn&#39;t do this with JSF."},{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":0,"creation_date":1380898659,"post_id":18978427,"comment_id":28383732,"body_markdown":"If your goal is a configurable UI, you&#39;ll almost certainly be better off by having the database contain a description of the custom fields (field name, type, etc) you want and then have JSF dynamically render the data into components, rather than have the database contain page source.  This sort of thing can get very complicated very quickly, so I think this is honestly a little too broad for StackOverflow.","body":"If your goal is a configurable UI, you&#39;ll almost certainly be better off by having the database contain a description of the custom fields (field name, type, etc) you want and then have JSF dynamically render the data into components, rather than have the database contain page source.  This sort of thing can get very complicated very quickly, so I think this is honestly a little too broad for StackOverflow."}],"answers":[{"tags":[],"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380017559,"creation_date":1380017559,"answer_id":18978738,"question_id":18978427,"body_markdown":"To be honest, doing it in JSF or JSP is unlikely to be very easy/ or performant.\r\n\r\nYou may as well skip the hassle, and just write some simple Java classes to bind inputs &amp; render HTML output yourself.\r\n\r\nI&#39;ve done a lot of &#39;advanced UI&#39; work with big/ tree-structured/ configurable UI in different projects. Mostly with JSP, JSTL and Spring -- but the performance problems will be the same.\r\n\r\nAnother area you&#39;ll have to address, is loading all the components quickly. Typically we&#39;ve use &#39;bulk loading&#39; queries in Hibernate to load all children/ subtrees in a single query. This has been very effective.","title":"Can a JSF page be created dynamically?","body":"<p>To be honest, doing it in JSF or JSP is unlikely to be very easy/ or performant.</p>\n\n<p>You may as well skip the hassle, and just write some simple Java classes to bind inputs &amp; render HTML output yourself.</p>\n\n<p>I've done a lot of 'advanced UI' work with big/ tree-structured/ configurable UI in different projects. Mostly with JSP, JSTL and Spring -- but the performance problems will be the same.</p>\n\n<p>Another area you'll have to address, is loading all the components quickly. Typically we've use 'bulk loading' queries in Hibernate to load all children/ subtrees in a single query. This has been very effective.</p>\n"}],"owner":{"account_id":1557687,"reputation":1891,"user_id":1448282,"accept_rate":80,"display_name":"Nigel Thomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1663,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":18978738,"answer_count":1,"score":0,"last_activity_date":1677105115,"creation_date":1380016783,"question_id":18978427,"body_markdown":"I am trying to display the fields on a jsf page dynamically on load by taking the page source from the database.\r\n\r\nBased on some query the page source will be taken from the database and be put onto the screen and the components should be displayed on the screen dynamically.\r\n\r\nSo there will be a single screen but the screen source data will be coming from the database and the all the components on the screen will be displayed on the screen dynamically.\r\n\r\nHow can this be done?\r\n\r\n\r\n","title":"Can a JSF page be created dynamically?","body":"<p>I am trying to display the fields on a jsf page dynamically on load by taking the page source from the database.</p>\n\n<p>Based on some query the page source will be taken from the database and be put onto the screen and the components should be displayed on the screen dynamically.</p>\n\n<p>So there will be a single screen but the screen source data will be coming from the database and the all the components on the screen will be displayed on the screen dynamically.</p>\n\n<p>How can this be done?</p>\n"},{"tags":["java","android","fragment"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1677107662,"post_id":75538743,"comment_id":133275028,"body_markdown":"use the fragment tag instead of its id in the communication among them","body":"use the fragment tag instead of its id in the communication among them"}],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677104606,"creation_date":1677104606,"question_id":75538743,"body_markdown":"Trying to make communication between fragments.\r\nStuck on callback.\r\n\r\n```\r\npublic void StyleIsSelected(String data) {\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        MyDialogFragment2 fragment = (MyDialogFragment2) fm.findFragmentById(R.id.test_fragment);\r\n        if (fragment != null)\r\n            fragment.StyleIsSelected(data);\r\n\r\n    }\r\n```\r\n\r\nSupposed to pass data to fragment, but findFragmentById returns null.\r\nPossible is because i don&#39;t understand how `R.id.layout_name&#39; works.\r\n\r\nCurrent layout options:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/test_fragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n```\r\nSo, this ID supposed to link on my fragment.\r\n\r\nI&#39;ve also tried to give direct link to my fragment, but then callback function turns red. \r\n","title":"What is R.id.layout_name? Creating communication between fragments - findFragmentById returns null","body":"<p>Trying to make communication between fragments.\nStuck on callback.</p>\n<pre><code>public void StyleIsSelected(String data) {\n        FragmentManager fm = getSupportFragmentManager();\n        MyDialogFragment2 fragment = (MyDialogFragment2) fm.findFragmentById(R.id.test_fragment);\n        if (fragment != null)\n            fragment.StyleIsSelected(data);\n\n    }\n</code></pre>\n<p>Supposed to pass data to fragment, but findFragmentById returns null.\nPossible is because i don't understand how `R.id.layout_name' works.</p>\n<p>Current layout options:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/test_fragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n</code></pre>\n<p>So, this ID supposed to link on my fragment.</p>\n<p>I've also tried to give direct link to my fragment, but then callback function turns red.</p>\n"},{"tags":["java","ehcache","ehcache-3"],"answers":[{"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673445370,"creation_date":1666015596,"answer_id":74098583,"question_id":74098476,"body_markdown":"I don&#39;t think you can limit it by percentage. The only place I was able to find indicating that it was deprecated was [**this one**][1].\r\n\r\n**You can however**, do this by the number of entries or byte size:\r\n&gt; [![enter image description here][2]][2]\r\n\r\n### See also: \r\n - [Ehcache Tiering Options][3]\r\n\r\n\r\n  [1]: https://documentation.softwareag.com/terracotta/terracotta_4310/bigmemory-max/webhelp/index.html#page/bigmemory-max-webhelp/co-srch_making_cache_searchable.html\r\n  [2]: https://i.stack.imgur.com/gvZ3d.png\r\n  [3]: https://www.ehcache.org/documentation/3.3/tiering.html#heap-tier","title":"What is the equivalent configuration for setting size limit by heap percentage (maxBytesLocalHeap) in Ehcache 3.x?","body":"<p>I don't think you can limit it by percentage. The only place I was able to find indicating that it was deprecated was <a href=\"https://documentation.softwareag.com/terracotta/terracotta_4310/bigmemory-max/webhelp/index.html#page/bigmemory-max-webhelp/co-srch_making_cache_searchable.html\" rel=\"nofollow noreferrer\"><strong>this one</strong></a>.</p>\n<p><strong>You can however</strong>, do this by the number of entries or byte size:</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/gvZ3d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gvZ3d.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://www.ehcache.org/documentation/3.3/tiering.html#heap-tier\" rel=\"nofollow noreferrer\">Ehcache Tiering Options</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8861,"reputation":2179,"user_id":16138,"accept_rate":100,"display_name":"Mike Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677104266,"creation_date":1677104266,"answer_id":75538697,"question_id":74098476,"body_markdown":"I had the same confusion. The setting itself isn&#39;t deprecated, just the use of memory units in the value.\r\n\r\nThe ehcache xsd states:\r\n\r\n        &lt;xs:documentation&gt;\r\n          DEPRECATED: The use of memory units (such as &#39;B&#39;, &#39;kB&#39; or &#39;MB&#39;) for heap resources is deprecated and will be removed in a future version.\r\n        &lt;/xs:documentation&gt;\r\n\r\nThe `DEPRECATED` seems to confuse IntelliJ into thinking the entire element is deprecated.\r\n\r\nAs long as the value for heap has no units, it is treated as &quot;number of entries&quot;, which is not deprecated.","title":"What is the equivalent configuration for setting size limit by heap percentage (maxBytesLocalHeap) in Ehcache 3.x?","body":"<p>I had the same confusion. The setting itself isn't deprecated, just the use of memory units in the value.</p>\n<p>The ehcache xsd states:</p>\n<pre><code>    &lt;xs:documentation&gt;\n      DEPRECATED: The use of memory units (such as 'B', 'kB' or 'MB') for heap resources is deprecated and will be removed in a future version.\n    &lt;/xs:documentation&gt;\n</code></pre>\n<p>The <code>DEPRECATED</code> seems to confuse IntelliJ into thinking the entire element is deprecated.</p>\n<p>As long as the value for heap has no units, it is treated as &quot;number of entries&quot;, which is not deprecated.</p>\n"}],"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1667,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":74098583,"answer_count":2,"score":6,"last_activity_date":1677104266,"creation_date":1666015087,"question_id":74098476,"body_markdown":"There was a config called `maxBytesLocalHeap` in Ehcache `2.x` where we could enter a heap percentage value. I couldn&#39;t find an equivalent in `3.x`, but there&#39;s nothing about _deprecation_ in release notes or migration guides.\r\n\r\nIs there a way to specify Ehcache heap size by JVM heap percentage in versions `3.x`?","title":"What is the equivalent configuration for setting size limit by heap percentage (maxBytesLocalHeap) in Ehcache 3.x?","body":"<p>There was a config called <code>maxBytesLocalHeap</code> in Ehcache <code>2.x</code> where we could enter a heap percentage value. I couldn't find an equivalent in <code>3.x</code>, but there's nothing about <em>deprecation</em> in release notes or migration guides.</p>\n<p>Is there a way to specify Ehcache heap size by JVM heap percentage in versions <code>3.x</code>?</p>\n"},{"tags":["java","gradle","wsdl","wsdl2java"],"comments":[{"owner":{"account_id":5321728,"reputation":10701,"user_id":4244993,"accept_rate":71,"display_name":"jmattheis"},"score":1,"creation_date":1491497049,"post_id":43259927,"comment_id":73590923,"body_markdown":"Your code works fine, please provide some more information.","body":"Your code works fine, please provide some more information."},{"owner":{"account_id":6974663,"reputation":2075,"user_id":5349795,"accept_rate":93,"display_name":"LakiGeri"},"score":0,"creation_date":1491546927,"post_id":43259927,"comment_id":73610691,"body_markdown":"Hi! Thx for the response, I updated the description.","body":"Hi! Thx for the response, I updated the description."}],"answers":[{"tags":[],"owner":{"account_id":5321728,"reputation":10701,"user_id":4244993,"accept_rate":71,"display_name":"jmattheis"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1491573139,"creation_date":1491573139,"answer_id":43279910,"question_id":43259927,"body_markdown":"You add the `buildscript` inside the `subprojects`-closure, thats not supported, see [this Gradle discussion (Buildscript {} in subprojects {} ignored?)](https://discuss.gradle.org/t/buildscript-in-subprojects-ignored/2401/10).\r\n\r\nYou do not have to add the buildscript for every project, it is enough to just declare it on the root-build.gradle\r\n\r\n    buildscript{\r\n        repositories{\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\r\n        }\r\n    }\r\n\r\n    subprojects {\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;eclipse&#39;\r\n        apply plugin: &#39;maven-publish&#39;\r\n        apply plugin: &#39;application&#39;\r\n        apply plugin: &#39;no.nils.wsdl2java&#39;\r\n        ....\r\n    }","title":"Gradle wsdl generating","body":"<p>You add the <code>buildscript</code> inside the <code>subprojects</code>-closure, thats not supported, see <a href=\"https://discuss.gradle.org/t/buildscript-in-subprojects-ignored/2401/10\" rel=\"noreferrer\">this Gradle discussion (Buildscript {} in subprojects {} ignored?)</a>.</p>\n\n<p>You do not have to add the buildscript for every project, it is enough to just declare it on the root-build.gradle</p>\n\n<pre><code>buildscript{\n    repositories{\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\nsubprojects {\n    apply plugin: 'java'\n    apply plugin: 'eclipse'\n    apply plugin: 'maven-publish'\n    apply plugin: 'application'\n    apply plugin: 'no.nils.wsdl2java'\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10579737,"reputation":201,"user_id":7794033,"display_name":"myPavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507127813,"creation_date":1507125149,"answer_id":46566682,"question_id":43259927,"body_markdown":"I was able to get the **wsdl2** java working in my **gradle** build with **jaxws** and **ant** tasks. Here it is \r\n    \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    \tflatDir {\r\n           dirs &#39;lib&#39;\r\n       }\r\n    }\r\n    \r\n    configurations { jaxws }\r\n    dependencies { jaxws &#39;com.sun.xml.ws:jaxws-tools:2.2.6&#39; }\r\n    \t\r\n    dependencies {\r\n    \tcompile &#39;com.sun.xml.bind:jaxb-impl:2.2.6&#39;\r\n    }\r\n    \r\n    \r\n    task generateSCMOrderImportServiceClient{\r\n    \tif(!file(&quot;./lib/employee-services-client.jar&quot;).exists()) {\r\n    \t    \r\n    \t\tdef rootDir = file(&quot;build/wsdlToJava/employee-services-client&quot;);\r\n    \t\tdef javaDir = file(&quot;${rootDir}/java&quot;);\r\n    \t\tdef wsdlJarDir = file(&quot;${projectDir}/lib&quot;);\r\n    \t\tdef classesDir = file(&quot;${rootDir}/classes&quot;);\r\n    \t\tdef wsdlDir=file(&quot;${projectDir}/src/main/resources/wsdl&quot;);\r\n    \t\tdef wsdlFile = file(&quot;${wsdlDir}/employee-services.wsdl&quot;)\r\n    \t\t\r\n    \t\tdoLast{\r\n    \t\t\tclassesDir.mkdirs()\r\n    \t\t\tjavaDir.mkdirs()\r\n    \t\t\twsdlJarDir.mkdirs()\r\n    \t\t\tcopy {\r\n    \t\t\t\tfrom &quot;${wsdlFile}&quot;\r\n    \t\t\t\tinto &quot;${classesDir}&quot;\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\tant {\r\n    \t\t\t\t\ttaskdef(name: &#39;wsimport&#39;,\r\n    \t\t\t\t\t\t\tclassname: &#39;com.sun.tools.ws.ant.WsImport&#39;,\r\n    \t\t\t\t\t\t\tclasspath: configurations.jaxws.asPath)\r\n    \t\t\t\t\twsimport(keep: true,\r\n    \t\t\t\t\t\t\tdestdir: classesDir,\r\n    \t\t\t\t\t\t\tsourcedestdir: javaDir,\r\n    \t\t\t\t\t\t\textension: &quot;true&quot;,\r\n    \t\t\t\t\t\t\tverbose: &quot;true&quot;,\r\n    \t\t\t\t\t\t\tquiet: &quot;false&quot;,\r\n    \t\t\t\t\t\t\txnocompile: &quot;false&quot;,\r\n    \t\t\t\t\t\t\txendorsed: true,\r\n    \t\t\t\t\t\t\twsdlLocation: &quot;EmployeeServices.wsdl&quot;,\r\n    \t\t\t\t\t\t\twsdl: &quot;${wsdlFile}&quot;) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tbinding(dir:&quot;${wsdlDir}&quot;, includes:&quot;jaxb-bindings.xml,jaxws-bindings.xml&quot;)\r\n    \t\t\t\t\t\txjcarg(value: &quot;-XautoNameResolution&quot;)\r\n    \t\t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tant.jar(\r\n    \t\t\t\t\tdestfile: wsdlJarDir.path + &quot;/employee-services-client.jar&quot;,\r\n    \t\t\t\t\tbasedir: classesDir\r\n    \t\t\t)\r\n    \t\t}\r\n    \t }\r\n       \r\n    }\r\n    \r\n    \r\n    \r\n    compileJava.dependsOn generateSCMOrderImportServiceClient","title":"Gradle wsdl generating","body":"<p>I was able to get the <strong>wsdl2</strong> java working in my <strong>gradle</strong> build with <strong>jaxws</strong> and <strong>ant</strong> tasks. Here it is </p>\n\n<pre><code>apply plugin: 'java'\n\nrepositories {\n    mavenCentral()\n    flatDir {\n       dirs 'lib'\n   }\n}\n\nconfigurations { jaxws }\ndependencies { jaxws 'com.sun.xml.ws:jaxws-tools:2.2.6' }\n\ndependencies {\n    compile 'com.sun.xml.bind:jaxb-impl:2.2.6'\n}\n\n\ntask generateSCMOrderImportServiceClient{\n    if(!file(\"./lib/employee-services-client.jar\").exists()) {\n\n        def rootDir = file(\"build/wsdlToJava/employee-services-client\");\n        def javaDir = file(\"${rootDir}/java\");\n        def wsdlJarDir = file(\"${projectDir}/lib\");\n        def classesDir = file(\"${rootDir}/classes\");\n        def wsdlDir=file(\"${projectDir}/src/main/resources/wsdl\");\n        def wsdlFile = file(\"${wsdlDir}/employee-services.wsdl\")\n\n        doLast{\n            classesDir.mkdirs()\n            javaDir.mkdirs()\n            wsdlJarDir.mkdirs()\n            copy {\n                from \"${wsdlFile}\"\n                into \"${classesDir}\"\n            }\n\n            ant {\n                    taskdef(name: 'wsimport',\n                            classname: 'com.sun.tools.ws.ant.WsImport',\n                            classpath: configurations.jaxws.asPath)\n                    wsimport(keep: true,\n                            destdir: classesDir,\n                            sourcedestdir: javaDir,\n                            extension: \"true\",\n                            verbose: \"true\",\n                            quiet: \"false\",\n                            xnocompile: \"false\",\n                            xendorsed: true,\n                            wsdlLocation: \"EmployeeServices.wsdl\",\n                            wsdl: \"${wsdlFile}\") \n                    {\n                        binding(dir:\"${wsdlDir}\", includes:\"jaxb-bindings.xml,jaxws-bindings.xml\")\n                        xjcarg(value: \"-XautoNameResolution\")\n                    }\n            }\n\n            ant.jar(\n                    destfile: wsdlJarDir.path + \"/employee-services-client.jar\",\n                    basedir: classesDir\n            )\n        }\n     }\n\n}\n\n\n\ncompileJava.dependsOn generateSCMOrderImportServiceClient\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16496611,"reputation":455,"user_id":11919026,"display_name":"Divya J"},"score":0,"creation_date":1629810764,"post_id":58391132,"comment_id":121781291,"body_markdown":"thank you very much for helping me save my 20 days of upcoming effort !","body":"thank you very much for helping me save my 20 days of upcoming effort !"}],"tags":[],"owner":{"account_id":2411246,"reputation":4423,"user_id":2106260,"accept_rate":25,"display_name":"Rajesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571130695,"creation_date":1571130695,"answer_id":58391132,"question_id":43259927,"body_markdown":"I had achieved this task using [this][1] git repository. The build.gradle file looks something like this.\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.2.0.M6&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;no.nils.wsdl2java&#39; version &#39;0.10&#39;\r\n    }\r\n    \r\n    group = &#39;your.application.groupname&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    configurations {\r\n        developmentOnly\r\n        runtimeClasspath {\r\n            extendsFrom developmentOnly\r\n        }\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;https://repo.spring.io/milestone&#39; }\r\n    }\r\n    \r\n    dependencies {\r\n        wsdl2java(\r\n                &#39;com.sun.xml.bind:jaxb-xjc:2.3.0.1&#39;,\r\n                &#39;javax.xml.bind:jaxb-api:2.3.1&#39;,\r\n                &#39;javax.xml.ws:jaxws-api:2.3.1&#39;,\r\n                &#39;org.apache.cxf:cxf-rt-wsdl:3.2.7&#39;,\r\n                &#39;javax.jws:javax.jws-api:1.1&#39;,\r\n    \r\n                &#39;com.sun.xml.bind:jaxb-core:2.3.0.1&#39;,\r\n                &#39;com.sun.xml.bind:jaxb-xjc:2.3.2&#39;,\r\n                &#39;com.sun.xml.bind:jaxb-impl:2.3.2&#39;,\r\n                &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        )\r\n \r\n        implementation &#39;com.sun.xml.bind:jaxb-core:2.3.0.1&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-xjc:2.3.0.1&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-impl:2.3.2&#39;\r\n        implementation &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        implementation &#39;javax.xml.ws:jaxws-api:2.3.1&#39;\r\n        implementation &#39;org.apache.cxf:cxf-rt-wsdl:3.2.7&#39;\r\n        implementation &#39;javax.jws:javax.jws-api:1.1&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    wsdl2java {\r\n        wsdlsToGenerate = [\r\n                [&#39;-p&#39;, &#39;your.package.name&#39;,\r\n                 &#39;-autoNameResolution&#39;, &quot;$projectDir/src/main/resources/wsdl/some_wsdl_file.wsdl&quot;]\r\n        ]\r\n        generatedWsdlDir = file(&quot;$projectDir/src/main/java&quot;)\r\n        wsdlDir = file(&quot;$projectDir/src/main/resources/wsdl&quot;)\r\n        locale = Locale.ENGLISH\r\n    }\r\n    \r\n    wsdl2javaExt {\r\n        cxfVersion = &quot;2.5.1&quot;\r\n    }\r\n\r\n\r\nTo generate the java code we need to run the gradle task as shown below.\r\n\r\n    $ gradlew wsdl2java\r\n\r\n \r\n\r\n\r\n\r\n  [1]: https://github.com/nilsmagnus/wsdl2java","title":"Gradle wsdl generating","body":"<p>I had achieved this task using <a href=\"https://github.com/nilsmagnus/wsdl2java\" rel=\"nofollow noreferrer\">this</a> git repository. The build.gradle file looks something like this.</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\nplugins {\n    id 'org.springframework.boot' version '2.2.0.M6'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'java'\n    id 'no.nils.wsdl2java' version '0.10'\n}\n\ngroup = 'your.application.groupname'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    developmentOnly\n    runtimeClasspath {\n        extendsFrom developmentOnly\n    }\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://repo.spring.io/milestone' }\n}\n\ndependencies {\n    wsdl2java(\n            'com.sun.xml.bind:jaxb-xjc:2.3.0.1',\n            'javax.xml.bind:jaxb-api:2.3.1',\n            'javax.xml.ws:jaxws-api:2.3.1',\n            'org.apache.cxf:cxf-rt-wsdl:3.2.7',\n            'javax.jws:javax.jws-api:1.1',\n\n            'com.sun.xml.bind:jaxb-core:2.3.0.1',\n            'com.sun.xml.bind:jaxb-xjc:2.3.2',\n            'com.sun.xml.bind:jaxb-impl:2.3.2',\n            'javax.xml.bind:jaxb-api:2.3.1'\n    )\n\n    implementation 'com.sun.xml.bind:jaxb-core:2.3.0.1'\n    implementation 'com.sun.xml.bind:jaxb-xjc:2.3.0.1'\n    implementation 'com.sun.xml.bind:jaxb-impl:2.3.2'\n    implementation 'javax.xml.bind:jaxb-api:2.3.1'\n    implementation 'javax.xml.ws:jaxws-api:2.3.1'\n    implementation 'org.apache.cxf:cxf-rt-wsdl:3.2.7'\n    implementation 'javax.jws:javax.jws-api:1.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nwsdl2java {\n    wsdlsToGenerate = [\n            ['-p', 'your.package.name',\n             '-autoNameResolution', \"$projectDir/src/main/resources/wsdl/some_wsdl_file.wsdl\"]\n    ]\n    generatedWsdlDir = file(\"$projectDir/src/main/java\")\n    wsdlDir = file(\"$projectDir/src/main/resources/wsdl\")\n    locale = Locale.ENGLISH\n}\n\nwsdl2javaExt {\n    cxfVersion = \"2.5.1\"\n}\n</code></pre>\n\n<p>To generate the java code we need to run the gradle task as shown below.</p>\n\n<pre><code>$ gradlew wsdl2java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13861565,"reputation":65,"user_id":10007091,"display_name":"Kenyfrank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580242720,"creation_date":1580242720,"answer_id":59956391,"question_id":43259927,"body_markdown":"To solve this try adding the buildScript before the plugin declarations and apply the wsdl plugin after the *plugin block* for example:\r\n\r\n        buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.1.7.RELEASE&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;war&#39;\r\n        id &quot;org.sonarqube&quot; version &quot;2.7&quot;\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;no.nils.wsdl2java&#39;\r\n\r\n","title":"Gradle wsdl generating","body":"<p>To solve this try adding the buildScript before the plugin declarations and apply the wsdl plugin after the <em>plugin block</em> for example:</p>\n\n<pre><code>    buildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\nplugins {\n    id 'org.springframework.boot' version '2.1.7.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'java'\n    id 'war'\n    id \"org.sonarqube\" version \"2.7\"\n}\n\napply plugin: 'java'\napply plugin: 'no.nils.wsdl2java'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4232566,"reputation":1533,"user_id":3464596,"display_name":"Hrabosch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592425339,"creation_date":1592425339,"answer_id":62437732,"question_id":43259927,"body_markdown":"For anybody who is looking for generating with Apache CXF. I tried to avoid using any plugin. I did it by creating configuration with dependencies, externalized array of strings with wsdl file names and then just use it like this:\r\n\r\n    ext {\r\n        wsdlDir = file(&quot;${projectDir}/src/main/resources/wsdl&quot;)\r\n        outputDir = file(&quot;$buildDir/generated-sources&quot;)\r\n        sourceWsdls = [\r\n                &quot;$wsdlDir/MyWsdlFile1.wsdl&quot;,\r\n                &quot;$wsdlDir/MyWsdlFile2.wsdl&quot;,\r\n                &quot;$wsdlDir/MyWsdlFile3.wsdl&quot;,\r\n                &quot;$wsdlDir/MyWsdlFile4.wsdl&quot;\r\n        ]\r\n    }\r\n    \r\n    sourceSets.main.java.srcDirs += &quot;$outputDir&quot;\r\n    \r\n    dependencies {\r\n        cxf (\r\n                &#39;org.apache.cxf:cxf-tools-wsdlto-core:3.3.6&#39;,\r\n                &#39;org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:3.3.6&#39;,\r\n                &#39;org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:3.3.6&#39;\r\n        )\r\n    }\r\n    \r\n    task generateJavaClasses {\r\n        doLast{\r\n            sourceWsdls.each { wsdlFile -&gt;\r\n                javaexec {\r\n                    classpath configurations.cxf\r\n                    main = &#39;org.apache.cxf.tools.wsdlto.WSDLToJava&#39;\r\n                    args &#39;-d&#39;, outputDir\r\n                    args &#39;-b&#39;, &#39;PATH/TO/BINDING/FILE.xjb&#39;\r\n                    args wsdlFile\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis is just simple calling javaexec of Apache CXF class - see [docs][1] for all args and options.\r\n\r\nNote: If you have a folder with wsdl files and you want to generated classes from all wsdl files there, it is even easier and just use it like this:\r\n\r\n    task generateJavaClassesAllWsdlFiles {\r\n        doLast{\r\n            // Find all wsdl files in directory defined in ext\r\n            fileTree(wsdlDir).matching {\r\n                include &quot;*.wsdl&quot;\r\n            }.each {\r\n                wsdlFile -&gt;\r\n                    println &quot;Generating &quot; + wsdlFile\r\n                    javaexec {\r\n                        classpath configurations.cxf\r\n                        main = &#39;org.apache.cxf.tools.wsdlto.WSDLToJava&#39;\r\n                        args &#39;-d&#39;, outputDir\r\n                        args &#39;-b&#39;, &#39;PATH/TO/BINDING/FILE.xjb&#39;\r\n                        args wsdlFile\r\n                    }\r\n            }\r\n        }\r\n    }\r\n\r\nI put it all into gist, if you want to see it complete, gist is [here][2].\r\n\r\n\r\n  [1]: https://cxf.apache.org/docs/wsdl-to-java.html\r\n  [2]: https://gist.github.com/hrabosch/4bd1bd90256fa4bb4179d2088f2a1241","title":"Gradle wsdl generating","body":"<p>For anybody who is looking for generating with Apache CXF. I tried to avoid using any plugin. I did it by creating configuration with dependencies, externalized array of strings with wsdl file names and then just use it like this:</p>\n\n<pre><code>ext {\n    wsdlDir = file(\"${projectDir}/src/main/resources/wsdl\")\n    outputDir = file(\"$buildDir/generated-sources\")\n    sourceWsdls = [\n            \"$wsdlDir/MyWsdlFile1.wsdl\",\n            \"$wsdlDir/MyWsdlFile2.wsdl\",\n            \"$wsdlDir/MyWsdlFile3.wsdl\",\n            \"$wsdlDir/MyWsdlFile4.wsdl\"\n    ]\n}\n\nsourceSets.main.java.srcDirs += \"$outputDir\"\n\ndependencies {\n    cxf (\n            'org.apache.cxf:cxf-tools-wsdlto-core:3.3.6',\n            'org.apache.cxf:cxf-tools-wsdlto-frontend-jaxws:3.3.6',\n            'org.apache.cxf:cxf-tools-wsdlto-databinding-jaxb:3.3.6'\n    )\n}\n\ntask generateJavaClasses {\n    doLast{\n        sourceWsdls.each { wsdlFile -&gt;\n            javaexec {\n                classpath configurations.cxf\n                main = 'org.apache.cxf.tools.wsdlto.WSDLToJava'\n                args '-d', outputDir\n                args '-b', 'PATH/TO/BINDING/FILE.xjb'\n                args wsdlFile\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is just simple calling javaexec of Apache CXF class - see <a href=\"https://cxf.apache.org/docs/wsdl-to-java.html\" rel=\"nofollow noreferrer\">docs</a> for all args and options.</p>\n\n<p>Note: If you have a folder with wsdl files and you want to generated classes from all wsdl files there, it is even easier and just use it like this:</p>\n\n<pre><code>task generateJavaClassesAllWsdlFiles {\n    doLast{\n        // Find all wsdl files in directory defined in ext\n        fileTree(wsdlDir).matching {\n            include \"*.wsdl\"\n        }.each {\n            wsdlFile -&gt;\n                println \"Generating \" + wsdlFile\n                javaexec {\n                    classpath configurations.cxf\n                    main = 'org.apache.cxf.tools.wsdlto.WSDLToJava'\n                    args '-d', outputDir\n                    args '-b', 'PATH/TO/BINDING/FILE.xjb'\n                    args wsdlFile\n                }\n        }\n    }\n}\n</code></pre>\n\n<p>I put it all into gist, if you want to see it complete, gist is <a href=\"https://gist.github.com/hrabosch/4bd1bd90256fa4bb4179d2088f2a1241\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7598079,"reputation":121,"user_id":5763655,"display_name":"anayagam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677102964,"creation_date":1677102964,"answer_id":75538542,"question_id":43259927,"body_markdown":"for JDK8 you can update gradle with the following and specify cxfVersion under wsdl2java \r\n\r\n    apply plugin: &#39;no.nils.wsdl2java&#39;\r\n    \r\n    wsdl2java {\r\n        wsdlDir = file(&quot;$projectDir/src/main/resources/fooSchemas&quot;)\r\n        cxfVersion = &#39;3.3.2&#39;\r\n        wsdlsToGenerate = [\r\n                [&quot;$projectDir/src/main/resources/emailSchemas/FooService.wsdl&quot;]\r\n          ]\r\n    }\r\n\r\n","title":"Gradle wsdl generating","body":"<p>for JDK8 you can update gradle with the following and specify cxfVersion under wsdl2java</p>\n<pre><code>apply plugin: 'no.nils.wsdl2java'\n\nwsdl2java {\n    wsdlDir = file(&quot;$projectDir/src/main/resources/fooSchemas&quot;)\n    cxfVersion = '3.3.2'\n    wsdlsToGenerate = [\n            [&quot;$projectDir/src/main/resources/emailSchemas/FooService.wsdl&quot;]\n      ]\n}\n</code></pre>\n"}],"owner":{"account_id":6974663,"reputation":2075,"user_id":5349795,"accept_rate":93,"display_name":"LakiGeri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28264,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43279910,"answer_count":6,"score":4,"last_activity_date":1677102964,"creation_date":1491493609,"question_id":43259927,"body_markdown":"I want to generate java files from wsdl. I try to use [wsdl2java][1] gradle plugin. I define the plugin:\n\n    subprojects {\n    buildscript{\n        repositories{\n            jcenter()\n            mavenCentral()\n        }\n        dependencies {\n            classpath &#39;no.nils:wsdl2java:0.10&#39;\n        }\n    }\n\n    \n    apply plugin: &#39;java&#39;\n    apply plugin: &#39;eclipse&#39;\n    apply plugin: &#39;maven-publish&#39;\n    apply plugin: &#39;application&#39;\n    apply plugin: &#39;no.nils.wsdl2java&#39;\n    ....\n    }\nbut I got this error:\n\n    &gt; Plugin with id &#39;no.nils.wsdl2java:no.nils:wsdl2java&#39; not found.\n\nI checked the syntax (many times it is good). I googled for the plugin, it is used by many people.\n\nDoes anybody have an idea what is going wrong?\n\n**Upd:**\n\n  I have a main gradle where the plugins defined, and there are three sub project, where I want to use this plugin.\n\nI defined the sub projects in the `settings.gradle`:\n\n    include &#39;project1&#39;, &#39;project2&#39;, &#39;project3&#39;\n\nI made a folder and the `build.gradle` file for each project.\n\n\nIf I commented out the  `apply plugin: &#39;no.nils.wsdl2java&#39;` in the main `build.gradle` and the `wsdl2java` methods in the sub projects the gradle works fine.\n\n  [1]: https://github.com/nilsmagnus/wsdl2java","title":"Gradle wsdl generating","body":"<p>I want to generate java files from wsdl. I try to use <a href=\"https://github.com/nilsmagnus/wsdl2java\" rel=\"nofollow noreferrer\">wsdl2java</a> gradle plugin. I define the plugin:</p>\n<pre><code>subprojects {\nbuildscript{\n    repositories{\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'no.nils:wsdl2java:0.10'\n    }\n}\n\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'maven-publish'\napply plugin: 'application'\napply plugin: 'no.nils.wsdl2java'\n....\n}\n</code></pre>\n<p>but I got this error:</p>\n<pre><code>&gt; Plugin with id 'no.nils.wsdl2java:no.nils:wsdl2java' not found.\n</code></pre>\n<p>I checked the syntax (many times it is good). I googled for the plugin, it is used by many people.</p>\n<p>Does anybody have an idea what is going wrong?</p>\n<p><strong>Upd:</strong></p>\n<p>I have a main gradle where the plugins defined, and there are three sub project, where I want to use this plugin.</p>\n<p>I defined the sub projects in the <code>settings.gradle</code>:</p>\n<pre><code>include 'project1', 'project2', 'project3'\n</code></pre>\n<p>I made a folder and the <code>build.gradle</code> file for each project.</p>\n<p>If I commented out the  <code>apply plugin: 'no.nils.wsdl2java'</code> in the main <code>build.gradle</code> and the <code>wsdl2java</code> methods in the sub projects the gradle works fine.</p>\n"},{"tags":["java","spring","azure","java-19"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1677112534,"post_id":75493795,"comment_id":133275833,"body_markdown":"Is that the only line? You should not need to access that field and use `TreeMap.comparator()` instead.","body":"Is that the only line? You should not need to access that field and use <code>TreeMap.comparator()</code> instead."},{"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"score":0,"creation_date":1677161564,"post_id":75493795,"comment_id":133286076,"body_markdown":"This is an empty spring boot project.","body":"This is an empty spring boot project."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1677189995,"post_id":75493795,"comment_id":133294577,"body_markdown":"Any more lines, like a stack trace?","body":"Any more lines, like a stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677102890,"creation_date":1677102890,"answer_id":75538528,"question_id":75493795,"body_markdown":"Here is the workaround:\r\n\r\nexport MAVEN_OPTS=&quot;--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED&quot;\r\n\r\nIt is an issue in azure maven plugin: https://github.com/microsoft/azure-maven-plugins/issues/2222","title":"Spring boot azure project gives java.util.Comparator java.util.TreeMap.comparator accessible","body":"<p>Here is the workaround:</p>\n<p>export MAVEN_OPTS=&quot;--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED&quot;</p>\n<p>It is an issue in azure maven plugin: <a href=\"https://github.com/microsoft/azure-maven-plugins/issues/2222\" rel=\"nofollow noreferrer\">https://github.com/microsoft/azure-maven-plugins/issues/2222</a></p>\n"}],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75538528,"answer_count":1,"score":0,"last_activity_date":1677102890,"creation_date":1676728380,"question_id":75493795,"body_markdown":"I created a spring boot project with spring initializer and I&#39;m following this tutorial here to setup azure. It&#39;s an empty project. mvn clean install, mvn clean package runs fine. The spring boot app also starts properly. \r\nhttps://spring.io/guides/gs/spring-boot-for-azure/\r\n\r\nThe pom looks like this:\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.dasdsad&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;myProject&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nWhen I do `./mvnw com.microsoft.azure:azure-spring-cloud-maven-plugin:1.3.0:config`\r\n\r\nI get this error: \r\n\r\n    Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @67b61834\r\n\r\nDoes anyone have experience with this behavior?","title":"Spring boot azure project gives java.util.Comparator java.util.TreeMap.comparator accessible","body":"<p>I created a spring boot project with spring initializer and I'm following this tutorial here to setup azure. It's an empty project. mvn clean install, mvn clean package runs fine. The spring boot app also starts properly.\n<a href=\"https://spring.io/guides/gs/spring-boot-for-azure/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot-for-azure/</a></p>\n<p>The pom looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.dasdsad&lt;/groupId&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;myProject&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I do <code>./mvnw com.microsoft.azure:azure-spring-cloud-maven-plugin:1.3.0:config</code></p>\n<p>I get this error:</p>\n<pre><code>Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @67b61834\n</code></pre>\n<p>Does anyone have experience with this behavior?</p>\n"},{"tags":["java","nested","byte-buddy"],"owner":{"account_id":2135127,"reputation":1100,"user_id":1895111,"accept_rate":43,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677102406,"creation_date":1676403337,"question_id":75452531,"body_markdown":"I had a simple Java bean:\r\n\r\n    public class UserWithAdress {\r\n\t    private Integer id;\t\r\n\t    private String name;\t\r\n\t    private Address address;\r\n        ...\r\n    }\r\n\r\nAnd Adress is my another simple Java Bean:\r\n\r\n    public class Address {\r\n\t    private int id;\r\n\t    private String address;\r\n\t    private String country;\r\n        ....    \r\n    }\r\n\r\nNow I am doing a proxy on UserWithAdress :\r\n\r\n    \tClassLoader cl = Address.class.getClassLoader();\r\n\t\tSystem.out.println(cl);\r\n\t\t\r\n\t\tReceiverTypeDefinition&lt;Address&gt; r = new ByteBuddy().subclass(Address.class)\r\n\t\t.method(ElementMatchers.isGetter().and(returns(String.class)))\r\n\t\t.intercept(FixedValue.value(Default.ss));\r\n\t\t\r\n\t\tr=r.method(ElementMatchers.isGetter().and(returns(Integer.class)))\r\n\t\t.intercept(FixedValue.value(Default.i));\r\n\t\t\r\n\t\tr=r.method(ElementMatchers.isGetter().and(returns(int.class)))\r\n\t\t.intercept(FixedValue.value(Default.i));\r\n\t\t\r\n\t\tAddress address = createObjectFromProxy(r, cl);\r\n\r\n\t\tReceiverTypeDefinition&lt;UserWithAdress&gt; r2 = new ByteBuddy().subclass(UserWithAdress.class)\r\n\t\t\t\t.method(ElementMatchers.isGetter().and(returns(String.class)))\r\n\t\t\t\t.intercept(FixedValue.value(Default.ss));\r\n\t\t\t\t\r\n\t\t\t\tr2=r2.method(ElementMatchers.isGetter().and(returns(Integer.class)))\r\n\t\t\t\t.intercept(FixedValue.value(Default.i));\r\n\t\t\r\n\t\t\r\n\t\t\t\tr2=r2.method(ElementMatchers.isGetter().and(returns(int.class)))\r\n\t\t\t\t\t.intercept(FixedValue.value(Default.i));\r\n\r\n\t\t\t\t\r\n\t\t\t\t//r2=r2.method(ElementMatchers.isGetter().and(returns(Address.class)))\r\n\t\t\t\t//.intercept(FixedValue.value(address));\t\t\r\n\r\n\t\tClassLoader cl2 = UserWithAdress.class.getClassLoader();\r\n\t\tSystem.out.println(cl2);\r\n\t\tUserWithAdress bean = createObjectFromProxy(r2, cl2);\r\n\r\nIt works well.\r\n\r\n\r\nBut I got NoClassDefFoundError when I add back those commented lines:\r\n\r\n    java.lang.NoClassDefFoundError: wu/justa/utils/bean/Address$ByteBuddy$NPQSt32E\r\n\tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\r\n\tat java.base/java.lang.Class.getDeclaredField(Class.java:2608)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:163)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\r\n\tat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6186)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6174)\r\n\tat wu.justa.utils.GetterProxy.createObject(GetterProxy.java:198)\r\n\tat wu.justa.utils.GetterProxyTest.testUserWithAdress(GetterProxyTest.java:90)\r\n\r\nThe byte-buddy version is 1.12.13 and JDK version is 8","title":"bytebuddy throw NoClassDefFoundError when it handled a nested proxy object","body":"<p>I had a simple Java bean:</p>\n<pre><code>public class UserWithAdress {\n    private Integer id; \n    private String name;    \n    private Address address;\n    ...\n}\n</code></pre>\n<p>And Adress is my another simple Java Bean:</p>\n<pre><code>public class Address {\n    private int id;\n    private String address;\n    private String country;\n    ....    \n}\n</code></pre>\n<p>Now I am doing a proxy on UserWithAdress :</p>\n<pre><code>    ClassLoader cl = Address.class.getClassLoader();\n    System.out.println(cl);\n    \n    ReceiverTypeDefinition&lt;Address&gt; r = new ByteBuddy().subclass(Address.class)\n    .method(ElementMatchers.isGetter().and(returns(String.class)))\n    .intercept(FixedValue.value(Default.ss));\n    \n    r=r.method(ElementMatchers.isGetter().and(returns(Integer.class)))\n    .intercept(FixedValue.value(Default.i));\n    \n    r=r.method(ElementMatchers.isGetter().and(returns(int.class)))\n    .intercept(FixedValue.value(Default.i));\n    \n    Address address = createObjectFromProxy(r, cl);\n\n    ReceiverTypeDefinition&lt;UserWithAdress&gt; r2 = new ByteBuddy().subclass(UserWithAdress.class)\n            .method(ElementMatchers.isGetter().and(returns(String.class)))\n            .intercept(FixedValue.value(Default.ss));\n            \n            r2=r2.method(ElementMatchers.isGetter().and(returns(Integer.class)))\n            .intercept(FixedValue.value(Default.i));\n    \n    \n            r2=r2.method(ElementMatchers.isGetter().and(returns(int.class)))\n                .intercept(FixedValue.value(Default.i));\n\n            \n            //r2=r2.method(ElementMatchers.isGetter().and(returns(Address.class)))\n            //.intercept(FixedValue.value(address));        \n\n    ClassLoader cl2 = UserWithAdress.class.getClassLoader();\n    System.out.println(cl2);\n    UserWithAdress bean = createObjectFromProxy(r2, cl2);\n</code></pre>\n<p>It works well.</p>\n<p>But I got NoClassDefFoundError when I add back those commented lines:</p>\n<pre><code>java.lang.NoClassDefFoundError: wu/justa/utils/bean/Address$ByteBuddy$NPQSt32E\nat java.base/java.lang.Class.getDeclaredFields0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\nat java.base/java.lang.Class.getDeclaredField(Class.java:2608)\nat net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:163)\nat net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\nat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\nat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6186)\nat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6174)\nat wu.justa.utils.GetterProxy.createObject(GetterProxy.java:198)\nat wu.justa.utils.GetterProxyTest.testUserWithAdress(GetterProxyTest.java:90)\n</code></pre>\n<p>The byte-buddy version is 1.12.13 and JDK version is 8</p>\n"},{"tags":["java","ms-word","xml-parsing","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1677127679,"post_id":75538406,"comment_id":133277632,"body_markdown":"You need copying the numbering definitions too. See https://stackoverflow.com/questions/70648296/merge-documents-by-inserting-content-into-a-new-page-using-poi/70700519#70700519 for an example. It merges documents. But that also means copying elements.","body":"You need copying the numbering definitions too. See <a href=\"https://stackoverflow.com/questions/70648296/merge-documents-by-inserting-content-into-a-new-page-using-poi/70700519#70700519\" title=\"merge documents by inserting content into a new page using poi\">stackoverflow.com/questions/70648296/&hellip;</a> for an example. It merges documents. But that also means copying elements."}],"owner":{"account_id":16542292,"reputation":73,"user_id":11952765,"display_name":"Dhruvin Moradiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677101901,"creation_date":1677101901,"question_id":75538406,"body_markdown":"I am trying to extract entire word document in Java project, go paragraph by paragraph and print the XWPFParagraphs back to another word file.\r\nI am able to accomplish my task except the bulleted list from input document is being printed as numbered list in the output document.\r\n\r\n\r\n[![input list](https://i.stack.imgur.com/KIL99.png)](https://i.stack.imgur.com/KIL99.png)\r\n[![output list is being printed as numbered list; I want it as same as the input document ](https://i.stack.imgur.com/sNMuQ.png)](https://i.stack.imgur.com/sNMuQ.png)\r\n\r\n\r\n\r\nThis is the code where I am copying the paragraph:\r\n```\r\nstatic void copyParagraph(XWPFParagraph source, XWPFParagraph target, XWPFNumbering numbering)\r\n    {\r\n        target.getCTP().setPPr(source.getCTP().getPPr());\r\n\r\n        source.getRuns().forEach(run -&gt; {\r\n            XWPFRun newR = target.createRun();\r\n            newR.setText(run.getText(0));\r\n            newR.getCTR().setRPr(run.getCTR().getRPr());\r\n\r\n            if (!run.getEmbeddedPictures().isEmpty()) {\r\n                XWPFPicture picture = run.getEmbeddedPictures().get(0);\r\n                try {\r\n                    FileOutputStream out = new FileOutputStream(Constants.H1_SECTIONS_IMAGE_DIR + picture.getPictureData().getFileName());\r\n                    out.write(picture.getPictureData().getData());\r\n                    out.close();\r\n                    newR.addPicture(new FileInputStream(Constants.H1_SECTIONS_IMAGE_DIR + picture.getPictureData().getFileName()), picture.getPictureData().getPictureType(), picture.getPictureData().getFileName(), Units.toEMU((int) picture.getWidth()), Units.toEMU((int) picture.getDepth()));\r\n                } catch (IOException | InvalidFormatException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\nI am not able to find solution which can keep the same list-type (bullet, numbered, etc) in the output document","title":"How to parse and print bulleted list using Apache POI?","body":"<p>I am trying to extract entire word document in Java project, go paragraph by paragraph and print the XWPFParagraphs back to another word file.\nI am able to accomplish my task except the bulleted list from input document is being printed as numbered list in the output document.</p>\n<p><a href=\"https://i.stack.imgur.com/KIL99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KIL99.png\" alt=\"input list\" /></a>\n<a href=\"https://i.stack.imgur.com/sNMuQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sNMuQ.png\" alt=\"output list is being printed as numbered list; I want it as same as the input document \" /></a></p>\n<p>This is the code where I am copying the paragraph:</p>\n<pre><code>static void copyParagraph(XWPFParagraph source, XWPFParagraph target, XWPFNumbering numbering)\n    {\n        target.getCTP().setPPr(source.getCTP().getPPr());\n\n        source.getRuns().forEach(run -&gt; {\n            XWPFRun newR = target.createRun();\n            newR.setText(run.getText(0));\n            newR.getCTR().setRPr(run.getCTR().getRPr());\n\n            if (!run.getEmbeddedPictures().isEmpty()) {\n                XWPFPicture picture = run.getEmbeddedPictures().get(0);\n                try {\n                    FileOutputStream out = new FileOutputStream(Constants.H1_SECTIONS_IMAGE_DIR + picture.getPictureData().getFileName());\n                    out.write(picture.getPictureData().getData());\n                    out.close();\n                    newR.addPicture(new FileInputStream(Constants.H1_SECTIONS_IMAGE_DIR + picture.getPictureData().getFileName()), picture.getPictureData().getPictureType(), picture.getPictureData().getFileName(), Units.toEMU((int) picture.getWidth()), Units.toEMU((int) picture.getDepth()));\n                } catch (IOException | InvalidFormatException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n    }\n</code></pre>\n<p>I am not able to find solution which can keep the same list-type (bullet, numbered, etc) in the output document</p>\n"},{"tags":["java","spring","spring-boot","spring-security","integration-testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1677081113,"post_id":75534882,"comment_id":133267803,"body_markdown":"For starters your test is weird (and I would say wrong). Remove the `@WebAppConfiguration` and `@ContextConfiguration`. Remove the `WebApplicationContext` field and ditch the `setup` method. Add `@Autowired` on your `MockMvc` and then check what happens. You are working around Spring Boot here instead of working with it.","body":"For starters your test is weird (and I would say wrong). Remove the <code>@WebAppConfiguration</code> and <code>@ContextConfiguration</code>. Remove the <code>WebApplicationContext</code> field and ditch the <code>setup</code> method. Add <code>@Autowired</code> on your <code>MockMvc</code> and then check what happens. You are working around Spring Boot here instead of working with it."},{"owner":{"account_id":10002161,"reputation":2147,"user_id":7397730,"accept_rate":40,"display_name":"Sriram R"},"score":0,"creation_date":1677127413,"post_id":75534882,"comment_id":133277608,"body_markdown":"Thanks @M.Deinum . I added `@WebAppConfiguration` and `@ContextConfiguration` with setup because the documentation said so\nhttps://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html\n\nWeird that the documentation is wrong.","body":"Thanks @M.Deinum . I added <code>@WebAppConfiguration</code> and <code>@ContextConfiguration</code> with setup because the documentation said so <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/test/mockmv&zwnj;&#8203;c/&hellip;</a>  Weird that the documentation is wrong."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1677128564,"post_id":75534882,"comment_id":133277757,"body_markdown":"This page might not have been updated for a while. Have a look at `@WebMvcTest` javadoc: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html. Here you are mixing a sample without `@WebMvcTest` with `@WebMvcTest`, so no, this is not optimal...","body":"This page might not have been updated for a while. Have a look at <code>@WebMvcTest</code> javadoc: <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>. Here you are mixing a sample without <code>@WebMvcTest</code> with <code>@WebMvcTest</code>, so no, this is not optimal..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677136384,"post_id":75534882,"comment_id":133279025,"body_markdown":"The documentation isn&#39;t wrong, but tha tis the documentation for use **without Spring Boot testing**.","body":"The documentation isn&#39;t wrong, but tha tis the documentation for use <b>without Spring Boot testing</b>."}],"answers":[{"comments":[{"owner":{"account_id":10002161,"reputation":2147,"user_id":7397730,"accept_rate":40,"display_name":"Sriram R"},"score":0,"creation_date":1677127327,"post_id":75538046,"comment_id":133277604,"body_markdown":"Thanks @ch4mp. I added the setup and the annotations as described by the documentation\n\nhttps://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html\n\nI guess I&#39;ll have to learn oauth2 better to understand the difference betwee OAuth2Login and Resource Server.","body":"Thanks @ch4mp. I added the setup and the annotations as described by the documentation  <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/test/mockmv&zwnj;&#8203;c/&hellip;</a>  I guess I&#39;ll have to learn oauth2 better to understand the difference betwee OAuth2Login and Resource Server."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1677127840,"post_id":75538046,"comment_id":133277666,"body_markdown":"Regarding client VS resource-server, you could read this other answer I wrote: https://stackoverflow.com/a/75504568/619830. Even if the question is completely different from yours, I cover this subject. It is interesting to note it was down voted too :D (I can hardly believe those two answers are usless)","body":"Regarding client VS resource-server, you could read this other answer I wrote: <a href=\"https://stackoverflow.com/a/75504568/619830\">stackoverflow.com/a/75504568/619830</a>. Even if the question is completely different from yours, I cover this subject. It is interesting to note it was down voted too :D (I can hardly believe those two answers are usless)"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677101645,"creation_date":1677099205,"answer_id":75538046,"question_id":75534882,"body_markdown":"@m-denium is right in his comment, plus you are trying to build a **client** `Authentication` implementation (`oauth2Login()` instantiates an `OAuth2AuthenticationToken`) when testing a **resource-server** (with resource-server dependencies, reason for classes under `org/springframework/security/oauth2/client/` not being found).\r\n\r\nAs your conf is `.oauth2ResourceServer().jwt()`, populate your test security context with a `JwtAuthenticationToken` using `SecurityMockMvcRequestPostProcessors.jwt()`.\r\n\r\nYour test should be no more complicated than that:\r\n```java\r\n@WebMvcTest(CodeController.class)\r\n@Import({ SecurityConfig.class })\r\nclass CodeControllerTests {\r\n\r\n    @MockBean\r\n    private CodeExecutionService codeExecutionService;\r\n\r\n    @MockBean\r\n    private ProblemService problemService;\r\n\r\n    @MockBean\r\n    private TestCaseValidationService validationService;\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @Test\r\n    void runTestCode() throws Exception {\r\n        RunCodeDTO runCodeDTO = new RunCodeDTO(&quot;python&quot;, &quot;something&quot;, &quot;two-sum&quot;);\r\n        Problem problem = ProblemUtils.getTwoSum();\r\n        UserCode userCode = new UserCode(runCodeDTO.code(), runCodeDTO.language());\r\n        userCode.mergeWithStub(problem.getCodeRunStub());\r\n\r\n        List&lt;TestResult&gt; testResults = problem.getRunTestCases()\r\n                .stream()\r\n                .map(testCase -&gt; new TestResult(testCase, Status.SUCCESS, &quot;&quot;))\r\n                .toList();\r\n\r\n        List&lt;TestOutput&gt; testOutputs = testResults\r\n                .stream()\r\n                .map(result -&gt; new TestOutput(result.testCase(), new ValidationResult(Status.SUCCESS, &quot;Test Case Passed&quot;)))\r\n                .toList();\r\n        when(problemService.getProblem(runCodeDTO.problemId())).thenReturn(Optional.of(problem));\r\n        when(codeExecutionService.executeAllTestCases(problem.getRunTestCases(), userCode)).thenReturn(testResults);\r\n        when(validationService.validateAllTestResults(testResults, problem.getOutputType(), problem.getValidationType())).thenReturn(testOutputs);\r\n\r\n        mockMvc\r\n            .perform(MockMvcRequestBuilders.post(&quot;/code/test&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(&quot;&quot;)\r\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\r\n                    .jwt(jwt -&gt; jwt.claim(StandardClaimNames.SUB, &quot;Tonton Pirate&quot;))\r\n                    .authorities(List.of(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;)))))\r\n            .andExpect(status().isOk());\r\n    }\r\n}\r\n```\r\n\r\nInstead of `SecurityMockMvcRequestPostProcessors.jwt()`, you could also use `@WithMockJwtAuth` available from [spring-addons-oauth2-test][1] with sources available on [this repo of mine][2] (repo which also contains plenty of resource-server samples, each with access-control unit-tests)\r\n\r\n\r\n  [1]: https://central.sonatype.com/artifact/com.c4-soft.springaddons/spring-addons-oauth2-test/6.0.16\r\n  [2]: https://github.com/ch4mpy/spring-addons","title":"NoClassDefFoundError - org/springframework/security/oauth2/client/registration/ClientRegistration when testing","body":"<p>@m-denium is right in his comment, plus you are trying to build a <strong>client</strong> <code>Authentication</code> implementation (<code>oauth2Login()</code> instantiates an <code>OAuth2AuthenticationToken</code>) when testing a <strong>resource-server</strong> (with resource-server dependencies, reason for classes under <code>org/springframework/security/oauth2/client/</code> not being found).</p>\n<p>As your conf is <code>.oauth2ResourceServer().jwt()</code>, populate your test security context with a <code>JwtAuthenticationToken</code> using <code>SecurityMockMvcRequestPostProcessors.jwt()</code>.</p>\n<p>Your test should be no more complicated than that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(CodeController.class)\n@Import({ SecurityConfig.class })\nclass CodeControllerTests {\n\n    @MockBean\n    private CodeExecutionService codeExecutionService;\n\n    @MockBean\n    private ProblemService problemService;\n\n    @MockBean\n    private TestCaseValidationService validationService;\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    void runTestCode() throws Exception {\n        RunCodeDTO runCodeDTO = new RunCodeDTO(&quot;python&quot;, &quot;something&quot;, &quot;two-sum&quot;);\n        Problem problem = ProblemUtils.getTwoSum();\n        UserCode userCode = new UserCode(runCodeDTO.code(), runCodeDTO.language());\n        userCode.mergeWithStub(problem.getCodeRunStub());\n\n        List&lt;TestResult&gt; testResults = problem.getRunTestCases()\n                .stream()\n                .map(testCase -&gt; new TestResult(testCase, Status.SUCCESS, &quot;&quot;))\n                .toList();\n\n        List&lt;TestOutput&gt; testOutputs = testResults\n                .stream()\n                .map(result -&gt; new TestOutput(result.testCase(), new ValidationResult(Status.SUCCESS, &quot;Test Case Passed&quot;)))\n                .toList();\n        when(problemService.getProblem(runCodeDTO.problemId())).thenReturn(Optional.of(problem));\n        when(codeExecutionService.executeAllTestCases(problem.getRunTestCases(), userCode)).thenReturn(testResults);\n        when(validationService.validateAllTestResults(testResults, problem.getOutputType(), problem.getValidationType())).thenReturn(testOutputs);\n\n        mockMvc\n            .perform(MockMvcRequestBuilders.post(&quot;/code/test&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(&quot;&quot;)\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\n                    .jwt(jwt -&gt; jwt.claim(StandardClaimNames.SUB, &quot;Tonton Pirate&quot;))\n                    .authorities(List.of(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;)))))\n            .andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>Instead of <code>SecurityMockMvcRequestPostProcessors.jwt()</code>, you could also use <code>@WithMockJwtAuth</code> available from <a href=\"https://central.sonatype.com/artifact/com.c4-soft.springaddons/spring-addons-oauth2-test/6.0.16\" rel=\"nofollow noreferrer\">spring-addons-oauth2-test</a> with sources available on <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this repo of mine</a> (repo which also contains plenty of resource-server samples, each with access-control unit-tests)</p>\n"}],"owner":{"account_id":10002161,"reputation":2147,"user_id":7397730,"accept_rate":40,"display_name":"Sriram R"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75538046,"answer_count":1,"score":0,"last_activity_date":1677101645,"creation_date":1677079711,"question_id":75534882,"body_markdown":"I wrote a simple spring boot application which uses OAuth2 using Firebase.\r\n\r\nHere&#39;s the configuration\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@AllArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity security) throws Exception {\r\n        security\r\n                .cors()\r\n                .and()\r\n                .csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt();\r\n\r\n        return security.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have a controller which I want to test using MockMvc\r\n\r\nHere&#39;s the test file\r\n\r\n```\r\n@WebMvcTest(CodeController.class)\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = SecurityConfig.class)\r\npublic class CodeControllerTests {\r\n\r\n    @MockBean\r\n    private CodeExecutionService codeExecutionService;\r\n    @MockBean\r\n    private ProblemService problemService;\r\n\r\n//    @MockBean\r\n//    private ProblemRepo problemRepo;\r\n\r\n    @MockBean\r\n    private TestCaseValidationService validationService;\r\n//    @MockBean\r\n//    private ProblemRepo problemRepo;\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(context)\r\n                .apply(springSecurity())\r\n                .build();\r\n    }\r\n\r\n\r\n    @Test\r\n\r\n    void runTestCode() throws Exception {\r\n\r\n        RunCodeDTO runCodeDTO = new RunCodeDTO(&quot;python&quot;, &quot;something&quot;, &quot;two-sum&quot;);\r\n        Problem problem = ProblemUtils.getTwoSum();\r\n        UserCode userCode = new UserCode(runCodeDTO.code(), runCodeDTO.language());\r\n        userCode.mergeWithStub(problem.getCodeRunStub());\r\n\r\n        List&lt;TestResult&gt; testResults = problem.getRunTestCases()\r\n                .stream()\r\n                .map(testCase -&gt; new TestResult(testCase, Status.SUCCESS, &quot;&quot;))\r\n                .toList();\r\n\r\n        List&lt;TestOutput&gt; testOutputs = testResults\r\n                .stream()\r\n                .map(result -&gt; new TestOutput(result.testCase(), new ValidationResult(Status.SUCCESS, &quot;Test Case Passed&quot;)))\r\n                .toList();\r\n\r\n\r\n        when(problemService.getProblem(runCodeDTO.problemId())).thenReturn(Optional.of(problem));\r\n        when(codeExecutionService.executeAllTestCases(problem.getRunTestCases(), userCode)).thenReturn(testResults);\r\n        when(validationService.validateAllTestResults(testResults, problem.getOutputType(), problem.getValidationType())).thenReturn(testOutputs);\r\n\r\n        mockMvc\r\n                .perform(\r\n                    MockMvcRequestBuilders.post(&quot;/code/test&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(&quot;&quot;)\r\n                            .with(SecurityMockMvcRequestPostProcessors.oauth2Login())\r\n                )\r\n                .andExpect(status().isOk());\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;m trying to mock authorization using the `SecurityMockMvcRequestPostProcessors.oauth2Login()` but I get a `NoClassDefFoundError - org/springframework/security/oauth2/client/registration/ClientRegistration`.\r\n\r\nHowever, the actual application works without any issue. It&#39;s only the test where I get this error","title":"NoClassDefFoundError - org/springframework/security/oauth2/client/registration/ClientRegistration when testing","body":"<p>I wrote a simple spring boot application which uses OAuth2 using Firebase.</p>\n<p>Here's the configuration</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@AllArgsConstructor\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity security) throws Exception {\n        security\n                .cors()\n                .and()\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .oauth2ResourceServer()\n                .jwt();\n\n        return security.build();\n    }\n\n}\n</code></pre>\n<p>I have a controller which I want to test using MockMvc</p>\n<p>Here's the test file</p>\n<pre><code>@WebMvcTest(CodeController.class)\n@WebAppConfiguration\n@ContextConfiguration(classes = SecurityConfig.class)\npublic class CodeControllerTests {\n\n    @MockBean\n    private CodeExecutionService codeExecutionService;\n    @MockBean\n    private ProblemService problemService;\n\n//    @MockBean\n//    private ProblemRepo problemRepo;\n\n    @MockBean\n    private TestCaseValidationService validationService;\n//    @MockBean\n//    private ProblemRepo problemRepo;\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void setup() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity())\n                .build();\n    }\n\n\n    @Test\n\n    void runTestCode() throws Exception {\n\n        RunCodeDTO runCodeDTO = new RunCodeDTO(&quot;python&quot;, &quot;something&quot;, &quot;two-sum&quot;);\n        Problem problem = ProblemUtils.getTwoSum();\n        UserCode userCode = new UserCode(runCodeDTO.code(), runCodeDTO.language());\n        userCode.mergeWithStub(problem.getCodeRunStub());\n\n        List&lt;TestResult&gt; testResults = problem.getRunTestCases()\n                .stream()\n                .map(testCase -&gt; new TestResult(testCase, Status.SUCCESS, &quot;&quot;))\n                .toList();\n\n        List&lt;TestOutput&gt; testOutputs = testResults\n                .stream()\n                .map(result -&gt; new TestOutput(result.testCase(), new ValidationResult(Status.SUCCESS, &quot;Test Case Passed&quot;)))\n                .toList();\n\n\n        when(problemService.getProblem(runCodeDTO.problemId())).thenReturn(Optional.of(problem));\n        when(codeExecutionService.executeAllTestCases(problem.getRunTestCases(), userCode)).thenReturn(testResults);\n        when(validationService.validateAllTestResults(testResults, problem.getOutputType(), problem.getValidationType())).thenReturn(testOutputs);\n\n        mockMvc\n                .perform(\n                    MockMvcRequestBuilders.post(&quot;/code/test&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(&quot;&quot;)\n                            .with(SecurityMockMvcRequestPostProcessors.oauth2Login())\n                )\n                .andExpect(status().isOk());\n\n    }\n\n}\n\n</code></pre>\n<p>I'm trying to mock authorization using the <code>SecurityMockMvcRequestPostProcessors.oauth2Login()</code> but I get a <code>NoClassDefFoundError - org/springframework/security/oauth2/client/registration/ClientRegistration</code>.</p>\n<p>However, the actual application works without any issue. It's only the test where I get this error</p>\n"},{"tags":["java","regex","string","replace"],"comments":[{"owner":{"account_id":3350095,"reputation":1616,"user_id":2814308,"accept_rate":87,"display_name":"SantiBailors"},"score":0,"creation_date":1487777732,"post_id":42395706,"comment_id":71938779,"body_markdown":"Is your string something like `#user` or like `#user #word #anotherWord...` ?","body":"Is your string something like <code>#user</code> or like <code>#user #word #anotherWord...</code> ?"},{"owner":{"account_id":2805855,"reputation":3002,"user_id":2413114,"display_name":"sadlyblue"},"score":0,"creation_date":1487786529,"post_id":42395706,"comment_id":71945042,"body_markdown":"do you just want to remove the # attached to a string?","body":"do you just want to remove the # attached to a string?"}],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1487777508,"post_id":42395726,"comment_id":71938619,"body_markdown":"This will remove all `#` regardless where they are.","body":"This will remove all <code>#</code> regardless where they are."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1487777933,"post_id":42395726,"comment_id":71938917,"body_markdown":"@IsurangaPerera `replace` also replaces *all* occurrences of searched text. Only difference between `replace` and `replaceAll` is that `replaceAll` is using regex syntax, while `replace` uses literals.","body":"@IsurangaPerera <code>replace</code> also replaces <i>all</i> occurrences of searched text. Only difference between <code>replace</code> and <code>replaceAll</code> is that <code>replaceAll</code> is using regex syntax, while <code>replace</code> uses literals."}],"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1487777549,"creation_date":1487777416,"answer_id":42395726,"question_id":42395706,"body_markdown":"yes, [String.replaceAll()][1]\r\n\r\n    String foo = &quot;#user&quot;\r\n    foo = foo.replaceAll(&quot;#&quot;, &quot;&quot;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(char,%20char)","title":"Java Regex to remove hash from before words","body":"<p>yes, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(char,%20char)\" rel=\"nofollow noreferrer\">String.replaceAll()</a></p>\n\n<pre><code>String foo = \"#user\"\nfoo = foo.replaceAll(\"#\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1487778520,"creation_date":1487777465,"answer_id":42395747,"question_id":42395706,"body_markdown":"You can use regex. Lets start with\r\n\r\n    yourText = yourText.replaceAll(&quot;#(\\\\S+)&quot;, &quot;$1&quot;);\r\n\r\nin regex:\r\n\r\n- `\\S` represents any non-whitespace characters\r\n- `+` represents *one or more*\r\n- `\\S+` represents one or more non-whitespace characters\r\n- `(\\S+)` -parenthesis create group containing one or more non-whitespace characters, this group will be indexed as `1`\r\n\r\nin replacement\r\n \r\n- `$1` in replacement allows us to use content of group 1.\r\n\r\nIn other words it will try to find `#non-whitespaces` (which and replace it with `non-whitespaces` part.\r\n\r\nBut this solution doesn&#39;t require `#` to be start of word. To do this we could check if before `#` there is \r\n\r\n- whitespace space `\\s`, \r\n- or start of the string `^`. \r\n\r\nTo test if something is before our element without actually including it in our match we can use look-behind `(?&lt;=...)`.\r\n\r\nSo our final solution can look like\r\n\r\n    yourText = yourText.replaceAll(&quot;(?&lt;=^|\\\\s)#(\\\\S+)&quot;, &quot;$1&quot;);\r\n","title":"Java Regex to remove hash from before words","body":"<p>You can use regex. Lets start with</p>\n\n<pre><code>yourText = yourText.replaceAll(\"#(\\\\S+)\", \"$1\");\n</code></pre>\n\n<p>in regex:</p>\n\n<ul>\n<li><code>\\S</code> represents any non-whitespace characters</li>\n<li><code>+</code> represents <em>one or more</em></li>\n<li><code>\\S+</code> represents one or more non-whitespace characters</li>\n<li><code>(\\S+)</code> -parenthesis create group containing one or more non-whitespace characters, this group will be indexed as <code>1</code></li>\n</ul>\n\n<p>in replacement</p>\n\n<ul>\n<li><code>$1</code> in replacement allows us to use content of group 1.</li>\n</ul>\n\n<p>In other words it will try to find <code>#non-whitespaces</code> (which and replace it with <code>non-whitespaces</code> part.</p>\n\n<p>But this solution doesn't require <code>#</code> to be start of word. To do this we could check if before <code>#</code> there is </p>\n\n<ul>\n<li>whitespace space <code>\\s</code>, </li>\n<li>or start of the string <code>^</code>. </li>\n</ul>\n\n<p>To test if something is before our element without actually including it in our match we can use look-behind <code>(?&lt;=...)</code>.</p>\n\n<p>So our final solution can look like</p>\n\n<pre><code>yourText = yourText.replaceAll(\"(?&lt;=^|\\\\s)#(\\\\S+)\", \"$1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487778233,"creation_date":1487778233,"answer_id":42396044,"question_id":42395706,"body_markdown":"You have not very clear use case, but my assumptions with code example:\r\n\r\n 1. omit all symbols with *replaceAll* function\r\n 2. omit just first symbol  with *substring* function\r\n\r\n\r\n    public class TestRegex {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String omitInStart = &quot;#user&quot;;\r\n            String omitInMiddle = &quot;#user&quot;;\r\n            String omitInEnd = &quot;#user&quot;;\r\n            String omitFewSymbols = &quot;#us#er&quot;;\r\n    \r\n            List&lt;String&gt; listForOmit = Arrays.asList(omitInStart, omitInMiddle, omitInEnd, omitFewSymbols);\r\n            listForOmit.forEach(e -&gt; System.out.println(omitWithReplace(e)));\r\n    \r\n            listForOmit.forEach(e -&gt; System.out.println(omitFirstSymbol(e)));\r\n    \r\n        }\r\n    \r\n        private static String omitFirstSymbol(String stringForOmit) {\r\n            return stringForOmit.substring(1);\r\n        }\r\n    \r\n        private static String omitWithReplace(String stringForOmit) {\r\n            String symbolForOmit = &quot;#&quot;;\r\n            return stringForOmit.replaceAll(symbolForOmit, &quot;&quot;);\r\n        }\r\n    }","title":"Java Regex to remove hash from before words","body":"<p>You have not very clear use case, but my assumptions with code example:</p>\n\n<ol>\n<li>omit all symbols with <em>replaceAll</em> function</li>\n<li><p>omit just first symbol  with <em>substring</em> function</p>\n\n<p>public class TestRegex {</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String omitInStart = \"#user\";\n    String omitInMiddle = \"#user\";\n    String omitInEnd = \"#user\";\n    String omitFewSymbols = \"#us#er\";\n\n    List&lt;String&gt; listForOmit = Arrays.asList(omitInStart, omitInMiddle, omitInEnd, omitFewSymbols);\n    listForOmit.forEach(e -&gt; System.out.println(omitWithReplace(e)));\n\n    listForOmit.forEach(e -&gt; System.out.println(omitFirstSymbol(e)));\n\n}\n\nprivate static String omitFirstSymbol(String stringForOmit) {\n    return stringForOmit.substring(1);\n}\n\nprivate static String omitWithReplace(String stringForOmit) {\n    String symbolForOmit = \"#\";\n    return stringForOmit.replaceAll(symbolForOmit, \"\");\n}\n</code></pre>\n\n<p>}</p></li>\n</ol>\n"}],"owner":{"account_id":9305680,"reputation":512,"user_id":6909517,"display_name":"Isuranga Perera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7963,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":42395747,"answer_count":3,"score":-5,"last_activity_date":1677101348,"creation_date":1487777341,"question_id":42395706,"body_markdown":"I want to replace a word starting with # in a string which contains set of words with the same word (# omitted)\r\n\r\nexample\r\n\r\n&quot;word1 word2 **#user**&quot; should be replaced with &quot;word1 word2 **user**&quot;\r\n\r\nCan someone help me?","title":"Java Regex to remove hash from before words","body":"<p>I want to replace a word starting with # in a string which contains set of words with the same word (# omitted)</p>\n\n<p>example</p>\n\n<p>\"word1 word2 <strong>#user</strong>\" should be replaced with \"word1 word2 <strong>user</strong>\"</p>\n\n<p>Can someone help me?</p>\n"},{"tags":["java","spring","spring-boot","session","spring-session"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1663091986,"post_id":73707382,"comment_id":130156662,"body_markdown":"Perhaps try `server.servlet.session.tracking-modes=cookie`","body":"Perhaps try <code>server.servlet.session.tracking-modes=cookie</code>"},{"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"score":0,"creation_date":1663092413,"post_id":73707382,"comment_id":130156806,"body_markdown":"No change when adding this.","body":"No change when adding this."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1663092599,"post_id":73707382,"comment_id":130156858,"body_markdown":"I believe the JDBC session timeout is configured depending on the Connection Pool library. Settings `server.servlet.` are the configurations for the web server. If that&#39;s the case check this post out: https://stackoverflow.com/questions/55511297/how-to-configure-custom-database-connection-timeout-in-spring-boot-application","body":"I believe the JDBC session timeout is configured depending on the Connection Pool library. Settings <code>server.servlet.</code> are the configurations for the web server. If that&#39;s the case check this post out: <a href=\"https://stackoverflow.com/questions/55511297/how-to-configure-custom-database-connection-timeout-in-spring-boot-application\" title=\"how to configure custom database connection timeout in spring boot application\">stackoverflow.com/questions/55511297/&hellip;</a>"},{"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"score":0,"creation_date":1663093071,"post_id":73707382,"comment_id":130156978,"body_markdown":"Not having any issues with the JDBC connection. The issue is with the HTTP Session timeout and cookie settings.","body":"Not having any issues with the JDBC connection. The issue is with the HTTP Session timeout and cookie settings."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1663093103,"post_id":73707382,"comment_id":130156988,"body_markdown":"Your question states: &quot;Spring Session JDBC timeout changed&quot;","body":"Your question states: &quot;Spring Session JDBC timeout changed&quot;"},{"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"score":0,"creation_date":1663093203,"post_id":73707382,"comment_id":130157016,"body_markdown":"I&#39;ll edit the question to clarify that it is &#39;org.springframework.session:spring-session-jdbc&#39;. Sorry for the confusion.","body":"I&#39;ll edit the question to clarify that it is &#39;org.springframework.session:spring-session-jdbc&#39;. Sorry for the confusion."}],"answers":[{"tags":[],"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677101109,"creation_date":1677101109,"answer_id":75538307,"question_id":73707382,"body_markdown":"This was caused by Docker not picking up property file changes when rebuilding the container.","title":"Spring Boot is ignoring application.properties session timeout value","body":"<p>This was caused by Docker not picking up property file changes when rebuilding the container.</p>\n"}],"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677101109,"creation_date":1663091783,"question_id":73707382,"body_markdown":"I&#39;m trying to get Spring Session timeout changed to a longer default value and also to have the cookie be persistent instead of session only. I&#39;m using `spring-session-jdbc` for session storage.\r\n\r\nI&#39;ve put into the `application.properties` file the following:\r\n\r\n```\r\n#Distributed Session Storage for use by stateless apps\r\nspring.session.store-type=jdbc\r\nspring.session.jdbc.initialize-schema=always\r\n\r\nserver.servlet.session.timeout=1d\r\nserver.servlet.session.cookie.max-age=1d\r\nserver.servlet.session.cookie.same-site=strict\r\n```\r\n\r\nOther settings in the `application.properties` file are applied as expected.\r\n\r\nIt only seems to be the session and cookie settings that aren&#39;t being applied.\r\n\r\nThis is a Spring Boot Jar run via java -jar. The database is MariaDB and sessions are created and managed correctly, but I can&#39;t seem to change the cookie or timeout settings.\r\n\r\nHelp appreciated.\r\n-Michael/NewsRx\r\n","title":"Spring Boot is ignoring application.properties session timeout value","body":"<p>I'm trying to get Spring Session timeout changed to a longer default value and also to have the cookie be persistent instead of session only. I'm using <code>spring-session-jdbc</code> for session storage.</p>\n<p>I've put into the <code>application.properties</code> file the following:</p>\n<pre><code>#Distributed Session Storage for use by stateless apps\nspring.session.store-type=jdbc\nspring.session.jdbc.initialize-schema=always\n\nserver.servlet.session.timeout=1d\nserver.servlet.session.cookie.max-age=1d\nserver.servlet.session.cookie.same-site=strict\n</code></pre>\n<p>Other settings in the <code>application.properties</code> file are applied as expected.</p>\n<p>It only seems to be the session and cookie settings that aren't being applied.</p>\n<p>This is a Spring Boot Jar run via java -jar. The database is MariaDB and sessions are created and managed correctly, but I can't seem to change the cookie or timeout settings.</p>\n<p>Help appreciated.\n-Michael/NewsRx</p>\n"},{"tags":["java","wsdl"],"comments":[{"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"score":0,"creation_date":1635589505,"post_id":69778691,"comment_id":123342450,"body_markdown":"have a look at Apache CXF","body":"have a look at Apache CXF"},{"owner":{"account_id":10129017,"reputation":4246,"user_id":7483211,"display_name":"Cornelius Roemer"},"score":0,"creation_date":1635699935,"post_id":69778691,"comment_id":123359573,"body_markdown":"https://cxf.apache.org/docs/wsdl-to-java.html","body":"<a href=\"https://cxf.apache.org/docs/wsdl-to-java.html\" rel=\"nofollow noreferrer\">cxf.apache.org/docs/wsdl-to-java.html</a>"},{"owner":{"account_id":10129017,"reputation":4246,"user_id":7483211,"display_name":"Cornelius Roemer"},"score":0,"creation_date":1635700023,"post_id":69778691,"comment_id":123359595,"body_markdown":"Does this answer your question? [How do you convert WSDLs to Java classes using Eclipse?](https://stackoverflow.com/questions/22460571/how-do-you-convert-wsdls-to-java-classes-using-eclipse)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22460571/how-do-you-convert-wsdls-to-java-classes-using-eclipse\">How do you convert WSDLs to Java classes using Eclipse?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3704862,"reputation":91,"user_id":3083690,"display_name":"Chintan Adhia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635592707,"creation_date":1635592707,"answer_id":69779128,"question_id":69778691,"body_markdown":"JDK 8 had wsimport, which is removed in later versions. So if you are using Java 8, that is an option available. \r\n\r\nSome links:\r\nhttps://docs.oracle.com/javase/8/docs/technotes/tools/unix/wsimport.html\r\nhttps://mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/\r\n\r\n\r\nAnother option is to use Apache CXF:\r\nhttps://cxf.apache.org/docs/wsdl-to-java.html\r\n\r\nAnd you can use SoapUI to generate the the client, assuming the requirement is to generate java client. \r\n","title":"How to convert wsdl file to java file","body":"<p>JDK 8 had wsimport, which is removed in later versions. So if you are using Java 8, that is an option available.</p>\n<p>Some links:\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/wsimport.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/unix/wsimport.html</a>\n<a href=\"https://mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/</a></p>\n<p>Another option is to use Apache CXF:\n<a href=\"https://cxf.apache.org/docs/wsdl-to-java.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/wsdl-to-java.html</a></p>\n<p>And you can use SoapUI to generate the the client, assuming the requirement is to generate java client.</p>\n"}],"owner":{"account_id":23190276,"reputation":11,"user_id":17286744,"display_name":"Raghuraj singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1412,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677101009,"creation_date":1635589277,"question_id":69778691,"body_markdown":"I am trying to convert a WSDL file into a Java file. How can I do this? I have a WSDL file in a folder. I want to convert that WSDL file to a Java file.","title":"How to convert wsdl file to java file","body":"<p>I am trying to convert a WSDL file into a Java file. How can I do this? I have a WSDL file in a folder. I want to convert that WSDL file to a Java file.</p>\n"},{"tags":["java","spring","spring-boot","design-patterns","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1513506312,"post_id":47843039,"comment_id":82672375,"body_markdown":"Option 4 using something like [MapStruct](http://mapstruct.org) to generate the mapping code.","body":"Option 4 using something like <a href=\"http://mapstruct.org\" rel=\"nofollow noreferrer\">MapStruct</a> to generate the mapping code."},{"owner":{"account_id":7183967,"reputation":204,"user_id":8117681,"display_name":"hq-coder"},"score":0,"creation_date":1675361108,"post_id":47843039,"comment_id":132917752,"body_markdown":"Do you want to test your converters separately ?","body":"Do you want to test your converters separately ?"}],"answers":[{"tags":[],"owner":{"account_id":6921048,"reputation":586,"user_id":5313721,"accept_rate":87,"display_name":"Petar Petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1513436154,"creation_date":1513426826,"answer_id":47845613,"question_id":47843039,"body_markdown":"In my opinion the third solution is the best one. Yes for each entity you&#39;ll have to create a two new convert classes but when you come time for testing you won&#39;t have a lot of headaches. You should never chose the solution which will cause you to write less code at the begining and then write much more when it comes to testing and maintaining that code. ","title":"How to properly convert domain entities to DTOs while considering scalability &amp; testability","body":"<p>In my opinion the third solution is the best one. Yes for each entity you'll have to create a two new convert classes but when you come time for testing you won't have a lot of headaches. You should never chose the solution which will cause you to write less code at the begining and then write much more when it comes to testing and maintaining that code. </p>\n"},{"comments":[{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1587488755,"post_id":47853826,"comment_id":108529560,"body_markdown":"About the third solution: where do you prefer to put the call for the mapper?","body":"About the third solution: where do you prefer to put the call for the mapper?"},{"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":1,"creation_date":1587492703,"post_id":47853826,"comment_id":108531736,"body_markdown":"@Dherik I updated my answer and hope it answers your question.","body":"@Dherik I updated my answer and hope it answers your question."},{"owner":{"account_id":3904955,"reputation":8549,"user_id":3231884,"accept_rate":89,"display_name":"Luis Gouveia"},"score":0,"creation_date":1610132628,"post_id":47853826,"comment_id":116045439,"body_markdown":"I see you&#39;re ok with passing an entity as a DTO constructor parameter. Would you also be ok with the opposite? I mean, passing a DTO as an Entity constructor parameter?","body":"I see you&#39;re ok with passing an entity as a DTO constructor parameter. Would you also be ok with the opposite? I mean, passing a DTO as an Entity constructor parameter?"},{"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":1,"creation_date":1610159337,"post_id":47853826,"comment_id":116052230,"body_markdown":"@LuisGouveia To give you a more detailed answer I updated my one.","body":"@LuisGouveia To give you a more detailed answer I updated my one."},{"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"score":1,"creation_date":1676974295,"post_id":47853826,"comment_id":133240449,"body_markdown":"You Mapper interface will throw an error &quot;both methods have same erasure&quot;. `&lt;S extends XX, T extends YY&gt;` should fix it. Otherwise MapStruct and its @Mapping annotation should get rid of the boiler plate","body":"You Mapper interface will throw an error &quot;both methods have same erasure&quot;. <code>&lt;S extends XX, T extends YY&gt;</code> should fix it. Otherwise MapStruct and its @Mapping annotation should get rid of the boiler plate"}],"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1610159186,"creation_date":1513503254,"answer_id":47853826,"question_id":47843039,"body_markdown":"&gt; Solution 1: Private method in the service layer for converting\r\n\r\nI guess **Solution 1** will not not work well, because your DTOs are domain-oriented and not service oriented. Thus it will be likely that they are used in  different services. So a mapping method does not belong to one service and therefore should not be implemented in one service. How would you re-use the mapping method in another service?\r\n\r\nThe 1. solution would work well if you use dedicated DTOs per service method. But more about this at the end.\r\n\r\n&gt; Solution 2: Additional constructor in the DTO for converting domain entity to DTO\r\n\r\nIn general a good option, because you can see the DTO as an adapter to the entity. In other words: the DTO is another representation of an entity. Such designs often wrap the source object and provide methods that give you another view on the wrapped object.\r\n\r\nBut a DTO is a data **transfer** object so it might be serialized sooner or later and send over a network, e.g. using [spring&#39;s remoting capabilities][1]. In this case the client that receives this DTO must deserialize it and thus needs the entity classes in it&#39;s classpath, even if it only uses the DTO&#39;s interface.\r\n\r\n&gt; Solution 3: Using Spring&#39;s Converter or any other externalized Bean for this converting\r\n\r\nSolution 3 is the solution that I also would prefer. But I would create a `Mapper&lt;S,T&gt;` interface that is responsible for mapping from source to target and vice versa. E.g.\r\n\r\n    public interface Mapper&lt;S,T&gt; {\r\n         public T map(S source);\r\n         public S map(T target);\r\n    }\r\n\r\nThe implementation can be done using a mapping framework like [modelmapper][2].\r\n\r\n\r\n-----\r\nYou also said that a converter for each entity\r\n\r\n&gt; doesn&#39;t &quot;scale&quot; that much as my domain model grows. With a lot of entities I have to create two converters for every new entity (-&gt; converting DTO entitiy and entitiy to DTO)\r\n\r\nI doupt that you only have to create 2 converter or one mapper for one DTO, because your DTO is domain-oriented. \r\n\r\nAs soon as you start to use it in another service you will recognize that the other service usually should or can not return all values that the first service does.\r\nYou will start to implement another mapper or converter for each other service.\r\n\r\nThis answer would get to long if I start with pros and cons of dedicated or shared DTOs, so I can only ask you to read my blog [pros and cons of service layer designs][3].\r\n\r\n\r\n**EDIT**\r\n&gt; About the third solution: where do you prefer to put the call for the mapper?\r\n\r\nIn the layer above the use cases. DTOs are data transfer objects, because they pack data in data structures that are best for the transfer protocol. Thus I call that layer the transport layer. \r\nThis layer is responsible for mapping use case&#39;s request and result objects from and to the transport representation, e.g. json data structures.\r\n\r\n**EDIT**\r\n\r\n&gt; I see you&#39;re ok with passing an entity as a DTO constructor parameter. Would you also be ok with the opposite? I mean, passing a DTO as an Entity constructor parameter?\r\n\r\nA good question. The opposite would not be ok for me, because I would then introduce a dependency in the entity to the transport layer. This would mean that a change in the transport layer can impact the entities and I don&#39;t want changes in more detailed layers to impact more abstract layers.\r\n\r\nIf you need to pass data from the transport layer to the entity layer you should apply the dependency inversion principle.\r\n\r\nIntroduce an interface that will return the data through a set of getters, let the DTO implement it and use this interface in the entities constructor. Keep in mind that this interface belongs to the entity&#39;s layer and thus should not have any dependencies to the transport layer.\r\n\r\n                                    interface\r\n     +-----+  implements     ||   +------------+   uses  +--------+\r\n     | DTO |  ---------------||-&gt; | EntityData |  &lt;----  | Entity |\r\n     +-----+                 ||   +------------+         +--------+\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#remoting\r\n  [2]: http://modelmapper.org/getting-started/\r\n  [3]: https://www.link-intersystems.com/blog/2012/01/12/pros-and-cons-of-service-layer-designs/","title":"How to properly convert domain entities to DTOs while considering scalability &amp; testability","body":"<blockquote>\n<p>Solution 1: Private method in the service layer for converting</p>\n</blockquote>\n<p>I guess <strong>Solution 1</strong> will not not work well, because your DTOs are domain-oriented and not service oriented. Thus it will be likely that they are used in  different services. So a mapping method does not belong to one service and therefore should not be implemented in one service. How would you re-use the mapping method in another service?</p>\n<p>The 1. solution would work well if you use dedicated DTOs per service method. But more about this at the end.</p>\n<blockquote>\n<p>Solution 2: Additional constructor in the DTO for converting domain entity to DTO</p>\n</blockquote>\n<p>In general a good option, because you can see the DTO as an adapter to the entity. In other words: the DTO is another representation of an entity. Such designs often wrap the source object and provide methods that give you another view on the wrapped object.</p>\n<p>But a DTO is a data <strong>transfer</strong> object so it might be serialized sooner or later and send over a network, e.g. using <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#remoting\" rel=\"noreferrer\">spring's remoting capabilities</a>. In this case the client that receives this DTO must deserialize it and thus needs the entity classes in it's classpath, even if it only uses the DTO's interface.</p>\n<blockquote>\n<p>Solution 3: Using Spring's Converter or any other externalized Bean for this converting</p>\n</blockquote>\n<p>Solution 3 is the solution that I also would prefer. But I would create a <code>Mapper&lt;S,T&gt;</code> interface that is responsible for mapping from source to target and vice versa. E.g.</p>\n<pre><code>public interface Mapper&lt;S,T&gt; {\n     public T map(S source);\n     public S map(T target);\n}\n</code></pre>\n<p>The implementation can be done using a mapping framework like <a href=\"http://modelmapper.org/getting-started/\" rel=\"noreferrer\">modelmapper</a>.</p>\n<hr />\n<p>You also said that a converter for each entity</p>\n<blockquote>\n<p>doesn't &quot;scale&quot; that much as my domain model grows. With a lot of entities I have to create two converters for every new entity (-&gt; converting DTO entitiy and entitiy to DTO)</p>\n</blockquote>\n<p>I doupt that you only have to create 2 converter or one mapper for one DTO, because your DTO is domain-oriented.</p>\n<p>As soon as you start to use it in another service you will recognize that the other service usually should or can not return all values that the first service does.\nYou will start to implement another mapper or converter for each other service.</p>\n<p>This answer would get to long if I start with pros and cons of dedicated or shared DTOs, so I can only ask you to read my blog <a href=\"https://www.link-intersystems.com/blog/2012/01/12/pros-and-cons-of-service-layer-designs/\" rel=\"noreferrer\">pros and cons of service layer designs</a>.</p>\n<p><strong>EDIT</strong></p>\n<blockquote>\n<p>About the third solution: where do you prefer to put the call for the mapper?</p>\n</blockquote>\n<p>In the layer above the use cases. DTOs are data transfer objects, because they pack data in data structures that are best for the transfer protocol. Thus I call that layer the transport layer.\nThis layer is responsible for mapping use case's request and result objects from and to the transport representation, e.g. json data structures.</p>\n<p><strong>EDIT</strong></p>\n<blockquote>\n<p>I see you're ok with passing an entity as a DTO constructor parameter. Would you also be ok with the opposite? I mean, passing a DTO as an Entity constructor parameter?</p>\n</blockquote>\n<p>A good question. The opposite would not be ok for me, because I would then introduce a dependency in the entity to the transport layer. This would mean that a change in the transport layer can impact the entities and I don't want changes in more detailed layers to impact more abstract layers.</p>\n<p>If you need to pass data from the transport layer to the entity layer you should apply the dependency inversion principle.</p>\n<p>Introduce an interface that will return the data through a set of getters, let the DTO implement it and use this interface in the entities constructor. Keep in mind that this interface belongs to the entity's layer and thus should not have any dependencies to the transport layer.</p>\n<pre><code>                                interface\n +-----+  implements     ||   +------------+   uses  +--------+\n | DTO |  ---------------||-&gt; | EntityData |  &lt;----  | Entity |\n +-----+                 ||   +------------+         +--------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9330948,"reputation":2709,"user_id":7179509,"accept_rate":78,"display_name":"Maksym"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1513765621,"creation_date":1513765621,"answer_id":47903838,"question_id":47843039,"body_markdown":"I like the third solution from the accepted answer.\r\n&gt; Solution 3: Using Spring&#39;s Converter or any other externalized Bean for this converting\r\n \r\nAnd I create `DtoConverter` in this way:&lt;br&gt;&lt;br&gt;\r\n**BaseEntity class marker:**\r\n\r\n    public abstract class BaseEntity implements Serializable {\r\n    }\r\n\r\n**AbstractDto class marker:**\r\n\r\n    public class AbstractDto {\r\n    }\r\n\r\n**GenericConverter interface:**  \r\n\r\n    public interface GenericConverter&lt;D extends AbstractDto, E extends BaseEntity&gt; {\r\n    \r\n        E createFrom(D dto);\r\n    \r\n        D createFrom(E entity);\r\n    \r\n        E updateEntity(E entity, D dto);\r\n    \r\n        default List&lt;D&gt; createFromEntities(final Collection&lt;E&gt; entities) {\r\n            return entities.stream()\r\n                    .map(this::createFrom)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        default List&lt;E&gt; createFromDtos(final Collection&lt;D&gt; dtos) {\r\n            return dtos.stream()\r\n                    .map(this::createFrom)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n    }\r\n\r\n**CommentConverter interface:**\r\n\r\n    public interface CommentConverter extends GenericConverter&lt;CommentDto, CommentEntity&gt; {\r\n    }\r\n**CommentConveter class implementation:**\r\n\r\n    @Component\r\n    public class CommentConverterImpl implements CommentConverter {\r\n    \r\n        @Override\r\n        public CommentEntity createFrom(CommentDto dto) {\r\n            CommentEntity entity = new CommentEntity();\r\n            updateEntity(entity, dto);\r\n            return entity;\r\n        }\r\n    \r\n        @Override\r\n        public CommentDto createFrom(CommentEntity entity) {\r\n            CommentDto dto = new CommentDto();\r\n            if (entity != null) {\r\n                dto.setAuthor(entity.getAuthor());\r\n                dto.setCommentId(entity.getCommentId());\r\n                dto.setCommentData(entity.getCommentData());\r\n                dto.setCommentDate(entity.getCommentDate());\r\n                dto.setNew(entity.getNew());\r\n            }\r\n            return dto;\r\n        }\r\n    \r\n        @Override\r\n        public CommentEntity updateEntity(CommentEntity entity, CommentDto dto) {\r\n            if (entity != null &amp;&amp; dto != null) {\r\n                entity.setCommentData(dto.getCommentData());\r\n                entity.setAuthor(dto.getAuthor());\r\n            }\r\n            return entity;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to properly convert domain entities to DTOs while considering scalability &amp; testability","body":"<p>I like the third solution from the accepted answer.</p>\n\n<blockquote>\n  <p>Solution 3: Using Spring's Converter or any other externalized Bean for this converting</p>\n</blockquote>\n\n<p>And I create <code>DtoConverter</code> in this way:<br><br>\n<strong>BaseEntity class marker:</strong></p>\n\n<pre><code>public abstract class BaseEntity implements Serializable {\n}\n</code></pre>\n\n<p><strong>AbstractDto class marker:</strong></p>\n\n<pre><code>public class AbstractDto {\n}\n</code></pre>\n\n<p><strong>GenericConverter interface:</strong>  </p>\n\n<pre><code>public interface GenericConverter&lt;D extends AbstractDto, E extends BaseEntity&gt; {\n\n    E createFrom(D dto);\n\n    D createFrom(E entity);\n\n    E updateEntity(E entity, D dto);\n\n    default List&lt;D&gt; createFromEntities(final Collection&lt;E&gt; entities) {\n        return entities.stream()\n                .map(this::createFrom)\n                .collect(Collectors.toList());\n    }\n\n    default List&lt;E&gt; createFromDtos(final Collection&lt;D&gt; dtos) {\n        return dtos.stream()\n                .map(this::createFrom)\n                .collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n\n<p><strong>CommentConverter interface:</strong></p>\n\n<pre><code>public interface CommentConverter extends GenericConverter&lt;CommentDto, CommentEntity&gt; {\n}\n</code></pre>\n\n<p><strong>CommentConveter class implementation:</strong></p>\n\n<pre><code>@Component\npublic class CommentConverterImpl implements CommentConverter {\n\n    @Override\n    public CommentEntity createFrom(CommentDto dto) {\n        CommentEntity entity = new CommentEntity();\n        updateEntity(entity, dto);\n        return entity;\n    }\n\n    @Override\n    public CommentDto createFrom(CommentEntity entity) {\n        CommentDto dto = new CommentDto();\n        if (entity != null) {\n            dto.setAuthor(entity.getAuthor());\n            dto.setCommentId(entity.getCommentId());\n            dto.setCommentData(entity.getCommentData());\n            dto.setCommentDate(entity.getCommentDate());\n            dto.setNew(entity.getNew());\n        }\n        return dto;\n    }\n\n    @Override\n    public CommentEntity updateEntity(CommentEntity entity, CommentDto dto) {\n        if (entity != null &amp;&amp; dto != null) {\n            entity.setCommentData(dto.getCommentData());\n            entity.setAuthor(dto.getAuthor());\n        }\n        return entity;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1526267852,"creation_date":1526267852,"answer_id":50322681,"question_id":47843039,"body_markdown":"I ended up NOT using some magical mapping library or external converter class, but just adding a small bean of my own which has `convert` methods from each entity to each DTO I need. The reason is that the mapping was:\r\n\r\n**either** stupidly simple and I would just copy some values from one field to another, perhaps with a small utility method, \r\n\r\n**or** was quite complex and would be more complicated to write down in the custom parameters to some generic mapping library, compared to just writing out that code. This is for example in the case where the client can send JSON but under the hood this is transformed into entities, and when the client retrieves the parent object of these entities again, it&#39;s converted back into JSON.\r\n\r\nThis means I can just call `.map(converter::convert)` on any collection of entities to get back a stream of my DTO&#39;s.\r\n\r\nIs it scalable to have it all in one class? Well the custom configuration for this mapping would have to be stored somewhere even if using a generic mapper. The code is generally extremely simple, except for a handful of cases, so I&#39;m not too worried about this class exploding in complexity. I&#39;m also not expecting to have dozens more entities, but if I did I might group these converters in a class per subdomain.\r\n\r\nAdding a base class to my entities and DTO&#39;s so I can write a generic converter interface and implement it per class just isn&#39;t needed (yet?) either for me.","title":"How to properly convert domain entities to DTOs while considering scalability &amp; testability","body":"<p>I ended up NOT using some magical mapping library or external converter class, but just adding a small bean of my own which has <code>convert</code> methods from each entity to each DTO I need. The reason is that the mapping was:</p>\n\n<p><strong>either</strong> stupidly simple and I would just copy some values from one field to another, perhaps with a small utility method, </p>\n\n<p><strong>or</strong> was quite complex and would be more complicated to write down in the custom parameters to some generic mapping library, compared to just writing out that code. This is for example in the case where the client can send JSON but under the hood this is transformed into entities, and when the client retrieves the parent object of these entities again, it's converted back into JSON.</p>\n\n<p>This means I can just call <code>.map(converter::convert)</code> on any collection of entities to get back a stream of my DTO's.</p>\n\n<p>Is it scalable to have it all in one class? Well the custom configuration for this mapping would have to be stored somewhere even if using a generic mapper. The code is generally extremely simple, except for a handful of cases, so I'm not too worried about this class exploding in complexity. I'm also not expecting to have dozens more entities, but if I did I might group these converters in a class per subdomain.</p>\n\n<p>Adding a base class to my entities and DTO's so I can write a generic converter interface and implement it per class just isn't needed (yet?) either for me.</p>\n"},{"tags":[],"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621611717,"creation_date":1621533397,"answer_id":67625653,"question_id":47843039,"body_markdown":"Another point is , if you use the second approach and your entity has lazy dependencies, your Dto can&#39;t understand if dependency is loaded unless you inject `EntityManager` into the Dto and use it to check if dependency was loaded. I don&#39;t like this approach cause Dto shouldn&#39;t know anything about `EntityManager`. As a solution I personally prefer `Converters` but at the same time I prefer to have multiple Dto classes for the same entity . For example If I am 100 % sure that `User Entity` will be loaded without corresponding `Company` , then there has to be a `UserDto` that doesn&#39;t have `CompanyDto` as a field. At the same time If I know that `UserEntity` will be loaded with correlated `Company` , then I will use aggregate pattern , something like a `UserCompanyDto` class that contains `UserDto` and `CompanyDto` as parameters ","title":"How to properly convert domain entities to DTOs while considering scalability &amp; testability","body":"<p>Another point is , if you use the second approach and your entity has lazy dependencies, your Dto can't understand if dependency is loaded unless you inject <code>EntityManager</code> into the Dto and use it to check if dependency was loaded. I don't like this approach cause Dto shouldn't know anything about <code>EntityManager</code>. As a solution I personally prefer <code>Converters</code> but at the same time I prefer to have multiple Dto classes for the same entity . For example If I am 100 % sure that <code>User Entity</code> will be loaded without corresponding <code>Company</code> , then there has to be a <code>UserDto</code> that doesn't have <code>CompanyDto</code> as a field. At the same time If I know that <code>UserEntity</code> will be loaded with correlated <code>Company</code> , then I will use aggregate pattern , something like a <code>UserCompanyDto</code> class that contains <code>UserDto</code> and <code>CompanyDto</code> as parameters</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677100709,"creation_date":1677100162,"answer_id":75538188,"question_id":47843039,"body_markdown":"On my side I prefer using option 3 with a third party library such as `modelmapper` or `mapstruct`. Also I use it through interface in an `util` package, because I don&#39;t want any external tool or library to interact directly with my code.\r\n\r\n1. Definition:\r\n\r\n\r\n       public interface MapperWrapper {\r\n    \r\n        &lt;T&gt; T performMapping(Object source, Class&lt;T&gt; destination);\r\n       }\r\n    \r\n       @Component\r\n       public class ModelMapperWrapper implements MapperWrapper {\r\n    \r\n           private ModelMapper mapper;\r\n    \r\n           public ModelMapperWrapper() {\r\n               this.mapper = new ModelMapper();\r\n           }\r\n    \r\n           @Override\r\n           public &lt;T&gt; T performMapping(Object source, Class&lt;T&gt; \r\n              destination) {\r\n            mapper.getConfiguration()\r\n            .setMatchingStrategy(MatchingStrategies.STRICT);\r\n               return mapper.map(source, destination);\r\n           }\r\n       }\r\n\r\nThen after I can test it easily:\r\n\r\n2. Testing:\r\n\r\n       @SpringJUnitWebConfig(TestApplicationConfig.class)\r\n       class ModelMapperWrapperTest implements WithAssertions {\r\n    \r\n        private final MapperWrapper mapperWrapper;\r\n    \r\n        @Autowired\r\n        public ModelMapperWrapperTest(MapperWrapper mapperWrapper) {\r\n            this.mapperWrapper = mapperWrapper;\r\n        }\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n        }\r\n    \r\n        @Test\r\n        void givenModel_whenMapModelToDto_thenReturnsDto() {\r\n    \r\n            var model = new DummyModel();\r\n            model.setId(1);\r\n            model.setName(&quot;DUMMY_NAME&quot;);\r\n            model.setAge(25);\r\n    \r\n            var modelDto = mapperWrapper.performMapping(model, DummyModelDto.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertThat(modelDto.getId()).isEqualTo(String.valueOf(model.getId())),\r\n                    () -&gt; assertThat(modelDto.getName()).isEqualTo(model.getName()),\r\n                    () -&gt; assertThat(modelDto.getAge()).isEqualTo(String.valueOf(model.getAge()))\r\n            );\r\n    \r\n        }\r\n    \r\n        @Test\r\n        void givenDto_whenMapDtoToModel_thenReturnsModel() {\r\n    \r\n            var modelDto = new DummyModelDto();\r\n            modelDto.setId(&quot;1&quot;);\r\n            modelDto.setName(&quot;DUMMY_NAME&quot;);\r\n            modelDto.setAge(&quot;25&quot;);\r\n    \r\n            var model = mapperWrapper.performMapping(modelDto, DummyModel.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertThat(model.getId()).isEqualTo(Integer.valueOf(modelDto.getId())),\r\n                    () -&gt; assertThat(model.getName()).isEqualTo(modelDto.getName()),\r\n                    () -&gt; assertThat(model.getAge()).isEqualTo(Integer.valueOf(modelDto.getAge()))\r\n            );\r\n           }\r\n    \r\n       }\r\n\r\nAfter that it can be very easy to use another mapper library. I should have created an `abstract factory`, or `strategy pattern` also.\r\n\r\n\r\n\r\n ","title":"How to properly convert domain entities to DTOs while considering scalability &amp; testability","body":"<p>On my side I prefer using option 3 with a third party library such as <code>modelmapper</code> or <code>mapstruct</code>. Also I use it through interface in an <code>util</code> package, because I don't want any external tool or library to interact directly with my code.</p>\n<ol>\n<li><p>Definition:</p>\n<pre><code>public interface MapperWrapper {\n\n &lt;T&gt; T performMapping(Object source, Class&lt;T&gt; destination);\n}\n\n@Component\npublic class ModelMapperWrapper implements MapperWrapper {\n\n    private ModelMapper mapper;\n\n    public ModelMapperWrapper() {\n        this.mapper = new ModelMapper();\n    }\n\n    @Override\n    public &lt;T&gt; T performMapping(Object source, Class&lt;T&gt; \n       destination) {\n     mapper.getConfiguration()\n     .setMatchingStrategy(MatchingStrategies.STRICT);\n        return mapper.map(source, destination);\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>Then after I can test it easily:</p>\n<ol start=\"2\">\n<li><p>Testing:</p>\n<pre><code>@SpringJUnitWebConfig(TestApplicationConfig.class)\nclass ModelMapperWrapperTest implements WithAssertions {\n\n private final MapperWrapper mapperWrapper;\n\n @Autowired\n public ModelMapperWrapperTest(MapperWrapper mapperWrapper) {\n     this.mapperWrapper = mapperWrapper;\n }\n\n @BeforeEach\n void setUp() {\n }\n\n @Test\n void givenModel_whenMapModelToDto_thenReturnsDto() {\n\n     var model = new DummyModel();\n     model.setId(1);\n     model.setName(&quot;DUMMY_NAME&quot;);\n     model.setAge(25);\n\n     var modelDto = mapperWrapper.performMapping(model, DummyModelDto.class);\n\n     assertAll(\n             () -&gt; assertThat(modelDto.getId()).isEqualTo(String.valueOf(model.getId())),\n             () -&gt; assertThat(modelDto.getName()).isEqualTo(model.getName()),\n             () -&gt; assertThat(modelDto.getAge()).isEqualTo(String.valueOf(model.getAge()))\n     );\n\n }\n\n @Test\n void givenDto_whenMapDtoToModel_thenReturnsModel() {\n\n     var modelDto = new DummyModelDto();\n     modelDto.setId(&quot;1&quot;);\n     modelDto.setName(&quot;DUMMY_NAME&quot;);\n     modelDto.setAge(&quot;25&quot;);\n\n     var model = mapperWrapper.performMapping(modelDto, DummyModel.class);\n\n     assertAll(\n             () -&gt; assertThat(model.getId()).isEqualTo(Integer.valueOf(modelDto.getId())),\n             () -&gt; assertThat(model.getName()).isEqualTo(modelDto.getName()),\n             () -&gt; assertThat(model.getAge()).isEqualTo(Integer.valueOf(modelDto.getAge()))\n     );\n    }\n\n}\n</code></pre>\n</li>\n</ol>\n<p>After that it can be very easy to use another mapper library. I should have created an <code>abstract factory</code>, or <code>strategy pattern</code> also.</p>\n"}],"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37861,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":47853826,"answer_count":6,"score":45,"last_activity_date":1677100709,"creation_date":1513404314,"question_id":47843039,"body_markdown":"I have read several articles and Stackoverflow posts for converting domain objects to DTOs and tried them out in my code. When it comes to testing and scalability I am always facing some issues. I know the following three possible solutions for converting domain objects to DTOs. Most of the time I am using Spring.\r\n\r\n**Solution 1: Private method in the service layer for converting**\r\n\r\nThe first possible solution is to create a small &quot;helper&quot; method in the service layer code which is convertig the retrieved database object to my DTO object. \r\n\r\n    @Service\r\n    public MyEntityService {\r\n\r\n      public SomeDto getEntityById(Long id){\r\n        SomeEntity dbResult = someDao.findById(id);\r\n        SomeDto dtoResult = convert(dbResult);\r\n        // ... more logic happens\r\n        return dtoResult;\r\n      }\r\n\r\n      public SomeDto convert(SomeEntity entity){\r\n       //... Object creation and using getter/setter for converting\r\n      }\r\n    }\r\n\r\nPros:\r\n\r\n* easy to implement\r\n* no additional class for convertion needed -&gt; project doesn&#39;t blow up with entities\r\n\r\nCons: \r\n\r\n* problems when testing, as `new SomeEntity()` is used in the privated method and if the object is deeply nested I have to provide a adequate result of my `when(someDao.findById(id)).thenReturn(alsoDeeplyNestedObject)` to avoid NullPointers if convertion is also dissolving the nested structure\r\n\r\n**Solution 2: Additional constructor in the DTO for converting domain entity to DTO**\r\n\r\nMy second solution would be to add an additional constructor to my DTO entity to convert the object in the constructor.\r\n\r\n    public class SomeDto {\r\n   \r\n     // ... some attributes\r\n\r\n     public SomeDto(SomeEntity entity) {\r\n      this.attribute = entity.getAttribute();\r\n      // ... nesting convertion &amp; convertion of lists and arrays\r\n     }\r\n\r\n    }\r\n\r\nPros:\r\n\r\n* no additional class for converting needed\r\n* convertion hided in the DTO entity -&gt; service code is smaller\r\n\r\nCons:\r\n\r\n* usage of `new SomeDto()` in the service code and therefor I have to provide the correct nested object structure as a result of my `someDao` mocking. \r\n\r\n**Solution 3: Using Spring&#39;s Converter&lt;S, T&gt; or any other externalized Bean for this converting**\r\n\r\nIf recently saw that Spring is offering a class for converting reasons: `Converter&lt;S, T&gt;` but this solution stands for every externalized class which is doing the convertion. With this solution I am injecting the converter to my service code and I call it when i want to convert the domain entity to my DTO.\r\n\r\nPros:\r\n\r\n* easy to test as I can mock the result during my test case\r\n* separation of tasks -&gt; a dedicated class is doing the job\r\n\r\nCons:\r\n\r\n* doesn&#39;t &quot;scale&quot; that much as my domain model grows. With a lot of entities I have to create two converters for every new entity (-&gt; converting DTO entitiy and entitiy to DTO)\r\n\r\n\r\nDo you have more solutions for my problem and how do you handle it? Do you create a new Converter for every new domain object and can &quot;live&quot; with the amount of classes in the project?\r\n\r\nThanks in advance!","title":"How to properly convert domain entities to DTOs while considering scalability &amp; testability","body":"<p>I have read several articles and Stackoverflow posts for converting domain objects to DTOs and tried them out in my code. When it comes to testing and scalability I am always facing some issues. I know the following three possible solutions for converting domain objects to DTOs. Most of the time I am using Spring.</p>\n\n<p><strong>Solution 1: Private method in the service layer for converting</strong></p>\n\n<p>The first possible solution is to create a small \"helper\" method in the service layer code which is convertig the retrieved database object to my DTO object. </p>\n\n<pre><code>@Service\npublic MyEntityService {\n\n  public SomeDto getEntityById(Long id){\n    SomeEntity dbResult = someDao.findById(id);\n    SomeDto dtoResult = convert(dbResult);\n    // ... more logic happens\n    return dtoResult;\n  }\n\n  public SomeDto convert(SomeEntity entity){\n   //... Object creation and using getter/setter for converting\n  }\n}\n</code></pre>\n\n<p>Pros:</p>\n\n<ul>\n<li>easy to implement</li>\n<li>no additional class for convertion needed -> project doesn't blow up with entities</li>\n</ul>\n\n<p>Cons: </p>\n\n<ul>\n<li>problems when testing, as <code>new SomeEntity()</code> is used in the privated method and if the object is deeply nested I have to provide a adequate result of my <code>when(someDao.findById(id)).thenReturn(alsoDeeplyNestedObject)</code> to avoid NullPointers if convertion is also dissolving the nested structure</li>\n</ul>\n\n<p><strong>Solution 2: Additional constructor in the DTO for converting domain entity to DTO</strong></p>\n\n<p>My second solution would be to add an additional constructor to my DTO entity to convert the object in the constructor.</p>\n\n<pre><code>public class SomeDto {\n\n // ... some attributes\n\n public SomeDto(SomeEntity entity) {\n  this.attribute = entity.getAttribute();\n  // ... nesting convertion &amp; convertion of lists and arrays\n }\n\n}\n</code></pre>\n\n<p>Pros:</p>\n\n<ul>\n<li>no additional class for converting needed</li>\n<li>convertion hided in the DTO entity -> service code is smaller</li>\n</ul>\n\n<p>Cons:</p>\n\n<ul>\n<li>usage of <code>new SomeDto()</code> in the service code and therefor I have to provide the correct nested object structure as a result of my <code>someDao</code> mocking. </li>\n</ul>\n\n<p><strong>Solution 3: Using Spring's Converter or any other externalized Bean for this converting</strong></p>\n\n<p>If recently saw that Spring is offering a class for converting reasons: <code>Converter&lt;S, T&gt;</code> but this solution stands for every externalized class which is doing the convertion. With this solution I am injecting the converter to my service code and I call it when i want to convert the domain entity to my DTO.</p>\n\n<p>Pros:</p>\n\n<ul>\n<li>easy to test as I can mock the result during my test case</li>\n<li>separation of tasks -> a dedicated class is doing the job</li>\n</ul>\n\n<p>Cons:</p>\n\n<ul>\n<li>doesn't \"scale\" that much as my domain model grows. With a lot of entities I have to create two converters for every new entity (-> converting DTO entitiy and entitiy to DTO)</li>\n</ul>\n\n<p>Do you have more solutions for my problem and how do you handle it? Do you create a new Converter for every new domain object and can \"live\" with the amount of classes in the project?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1606759716,"post_id":65078455,"comment_id":115053151,"body_markdown":"Is the MySQL column defined as `BIGINT` or `BIGINT UNSIGNED`? According to table 6.2 on [this documentation page](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-type-conversions.html), that determines the Java type (it will be a `Long`, unless you are using `UNSIGNED` - in which case it will be a `BigInteger`).","body":"Is the MySQL column defined as <code>BIGINT</code> or <code>BIGINT UNSIGNED</code>? According to table 6.2 on <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-type-conversions.html\" rel=\"nofollow noreferrer\">this documentation page</a>, that determines the Java type (it will be a <code>Long</code>, unless you are using <code>UNSIGNED</code> - in which case it will be a <code>BigInteger</code>)."},{"owner":{"account_id":85255,"reputation":15349,"user_id":237815,"accept_rate":54,"display_name":"ccleve"},"score":0,"creation_date":1606760118,"post_id":65078455,"comment_id":115053312,"body_markdown":"@andrewjames It&#39;s a bug then. I&#39;m creating the column as &quot;bigint autoincrement&quot;. Perhaps the autoincrement is forcing it to be unsigned, which it should not.","body":"@andrewjames It&#39;s a bug then. I&#39;m creating the column as &quot;bigint autoincrement&quot;. Perhaps the autoincrement is forcing it to be unsigned, which it should not."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1606763085,"post_id":65078455,"comment_id":115054543,"body_markdown":"I am not able to reproduce your problem. With a `BIGINT(20)` with autoincrement, but not unsigned, I am getting a Java `Long` from `ResultSetMetaData.getColumnClassName()`. Can you show more context in your question - or maybe a [mre]?","body":"I am not able to reproduce your problem. With a <code>BIGINT(20)</code> with autoincrement, but not unsigned, I am getting a Java <code>Long</code> from <code>ResultSetMetaData.getColumnClassName()</code>. Can you show more context in your question - or maybe a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":85255,"reputation":15349,"user_id":237815,"accept_rate":54,"display_name":"ccleve"},"score":1,"creation_date":1606779781,"post_id":65078455,"comment_id":115060729,"body_markdown":"@andrewjames Example added. The problem appears to confined to returning a generated key. My error.","body":"@andrewjames Example added. The problem appears to confined to returning a generated key. My error."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1606781931,"post_id":65078455,"comment_id":115061213,"body_markdown":"Now I can recreate the behavior, thank you - but I cannot explain it, unfortunately.","body":"Now I can recreate the behavior, thank you - but I cannot explain it, unfortunately."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1606782429,"post_id":65078455,"comment_id":115061314,"body_markdown":"Can you simply use `Long autoValue = rs.getLong(1);` instead of `Object obj = rs.getObject(1);`, here? That returns the correct value and Java type. (Again, doesn&#39;t explain why you get `BigDecimal` from the object...)","body":"Can you simply use <code>Long autoValue = rs.getLong(1);</code> instead of <code>Object obj = rs.getObject(1);</code>, here? That returns the correct value and Java type. (Again, doesn&#39;t explain why you get <code>BigDecimal</code> from the object...)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1606843302,"post_id":65078455,"comment_id":115082619,"body_markdown":"This looks like a bug to me.","body":"This looks like a bug to me."},{"owner":{"account_id":85255,"reputation":15349,"user_id":237815,"accept_rate":54,"display_name":"ccleve"},"score":0,"creation_date":1606844901,"post_id":65078455,"comment_id":115083333,"body_markdown":"Reported here: https://bugs.mysql.com/bug.php?id=101823","body":"Reported here: <a href=\"https://bugs.mysql.com/bug.php?id=101823\" rel=\"nofollow noreferrer\">bugs.mysql.com/bug.php?id=101823</a>"},{"owner":{"account_id":1542889,"reputation":453,"user_id":1437100,"accept_rate":71,"display_name":"tjalling"},"score":0,"creation_date":1621429614,"post_id":65078455,"comment_id":119492686,"body_markdown":"Seems like this is not limited to `bigint` columns. I have a similar issue with an auto-generated key of type `int` resulting in JDBC returning an instance of a `BigInteger`. (There is no mapping of `int` to `BigInteger` listed in table 6.2. of the documentation linked to by @andrewjames)","body":"Seems like this is not limited to <code>bigint</code> columns. I have a similar issue with an auto-generated key of type <code>int</code> resulting in JDBC returning an instance of a <code>BigInteger</code>. (There is no mapping of <code>int</code> to <code>BigInteger</code> listed in table 6.2. of the documentation linked to by @andrewjames)"}],"answers":[{"tags":[],"owner":{"account_id":200728,"reputation":3833,"user_id":446738,"accept_rate":71,"display_name":"worpet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677100617,"creation_date":1677100617,"answer_id":75538245,"question_id":65078455,"body_markdown":"The underlying problem is, in the `getGeneratedKeys()` method, it makes no attempt to determine the column&#39;s type and instead hardcodes it as `MysqlType.BIGINT_UNSIGNED`, which equates to `BigInteger`.\r\n\r\nhttps://github.com/mysql/mysql-connector-j/blob/1de2fe873fe26189564c030a343885011412976a/src/main/user-impl/java/com/mysql/cj/jdbc/StatementImpl.java#L1389\r\n\r\n&gt; ```\r\n&gt; fields[0] = new Field(&quot;&quot;, &quot;GENERATED_KEY&quot;, collationIndex, encoding, MysqlType.BIGINT_UNSIGNED, 20);\r\n&gt; ```\r\n\r\nAccording to MySQL, they can&#39;t/won&#39;t fix this (https://bugs.mysql.com/bug.php?id=101823#c527721):\r\n\r\n&gt; The information regarding generated keys is not directly related to the table primary key in the sense that it does not share the same metadata rules. MySQL protocol indicates what has the last insert-id of the executed query independently of how many ids were actually generated and this information is not directly linked to any column in particular (https://dev.mysql.com/doc/dev/mysql-server/latest/page_protocol_basic_ok_packet.html), as such, Connector/J has no alternative other than using the most comprehensive data type in the generated keys result set. Also note that the spec does not make any assumptions regarding the columns or types to return in this result set (https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#getGeneratedKeys--) - for MySQL Connector/J it is BIGINT_UNSIGNED.\r\n\r\nIt seems like they could at least clarify the documentation on this method, since it&#39;s unintuitive and undiscoverable without digging through the source, but by their reasoning it&#39;s correct since, &quot;the spec does not make any assumptions regarding the columns or types&quot;.\r\n\r\nSo the short answer is, unfortunately: there isn&#39;t a way to automatically get the appropriate type for a generated key. A specific method, like `getLong(1)`, needs to be used instead.","title":"MySQL JDBC driver incorrectly reports bigint as BigInteger when returning generated keys","body":"<p>The underlying problem is, in the <code>getGeneratedKeys()</code> method, it makes no attempt to determine the column's type and instead hardcodes it as <code>MysqlType.BIGINT_UNSIGNED</code>, which equates to <code>BigInteger</code>.</p>\n<p><a href=\"https://github.com/mysql/mysql-connector-j/blob/1de2fe873fe26189564c030a343885011412976a/src/main/user-impl/java/com/mysql/cj/jdbc/StatementImpl.java#L1389\" rel=\"nofollow noreferrer\">https://github.com/mysql/mysql-connector-j/blob/1de2fe873fe26189564c030a343885011412976a/src/main/user-impl/java/com/mysql/cj/jdbc/StatementImpl.java#L1389</a></p>\n<blockquote>\n<pre><code>fields[0] = new Field(&quot;&quot;, &quot;GENERATED_KEY&quot;, collationIndex, encoding, MysqlType.BIGINT_UNSIGNED, 20);\n</code></pre>\n</blockquote>\n<p>According to MySQL, they can't/won't fix this (<a href=\"https://bugs.mysql.com/bug.php?id=101823#c527721\" rel=\"nofollow noreferrer\">https://bugs.mysql.com/bug.php?id=101823#c527721</a>):</p>\n<blockquote>\n<p>The information regarding generated keys is not directly related to the table primary key in the sense that it does not share the same metadata rules. MySQL protocol indicates what has the last insert-id of the executed query independently of how many ids were actually generated and this information is not directly linked to any column in particular (<a href=\"https://dev.mysql.com/doc/dev/mysql-server/latest/page_protocol_basic_ok_packet.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/dev/mysql-server/latest/page_protocol_basic_ok_packet.html</a>), as such, Connector/J has no alternative other than using the most comprehensive data type in the generated keys result set. Also note that the spec does not make any assumptions regarding the columns or types to return in this result set (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#getGeneratedKeys--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#getGeneratedKeys--</a>) - for MySQL Connector/J it is BIGINT_UNSIGNED.</p>\n</blockquote>\n<p>It seems like they could at least clarify the documentation on this method, since it's unintuitive and undiscoverable without digging through the source, but by their reasoning it's correct since, &quot;the spec does not make any assumptions regarding the columns or types&quot;.</p>\n<p>So the short answer is, unfortunately: there isn't a way to automatically get the appropriate type for a generated key. A specific method, like <code>getLong(1)</code>, needs to be used instead.</p>\n"}],"owner":{"account_id":85255,"reputation":15349,"user_id":237815,"accept_rate":54,"display_name":"ccleve"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":1,"score":7,"last_activity_date":1677100617,"creation_date":1606757904,"question_id":65078455,"body_markdown":"I&#39;m dealing with a frustrating problem. MySQL (like most SQL databases) does not call its 64-bit integer datatype a &quot;long&quot;. It&#39;s a &quot;bigint&quot;. Ok, fine.\r\n\r\nBut the MySQL JDBC driver (8.0.22) incorrectly returns this column as java.math.BigInteger, which it isn&#39;t. \r\n\r\nYes, I could convert the BigInteger into a long in my application code, but this turns out to be really inconvenient for some internal, application-specific reasons.\r\n\r\nIs there any way to force the driver to return the correct data type, which should be a java.lang.Long?\r\n\r\n**Update**\r\n\r\nPer the comment, yes, it appears that regular select statements do return the column as a java.lang.Long. My bad.\r\n\r\nWhere it is failing is when it returns generated keys after an insert. There, the column comes back as a BigInteger. Here&#39;s the code:\r\n\r\n\r\n    public static void main(String[] args) throws SQLException {\r\n    \r\n    \tConnection conn = DriverManager\r\n    \t\t\t.getConnection(&quot;jdbc:mysql://localhost:3306/mydb?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;user=root&quot;);\r\n    \r\n    \tStatement state = conn.createStatement();\r\n    \tstate.executeUpdate(&quot;drop table if exists foo&quot;);\r\n    \tstate.executeUpdate(&quot;create table foo (id bigint auto_increment, name varchar(255), primary key(id))&quot;);\r\n    \tstate.executeUpdate(&quot;insert into foo (name) values (&#39;bob&#39;)&quot;, Statement.RETURN_GENERATED_KEYS);\r\n    \r\n    \tResultSet rs = state.getGeneratedKeys();\r\n    \trs.next();\r\n    \r\n    \tObject obj = rs.getObject(1);\r\n    \r\n    \tSystem.out.println(obj);\r\n    \tSystem.out.println(obj.getClass());\r\n    \r\n    \tconn.close();\r\n    \r\n    }\r\n\r\nreturns:\r\n\r\n    1\r\n    class java.math.BigInteger\r\n\r\n\r\n\r\n\r\n","title":"MySQL JDBC driver incorrectly reports bigint as BigInteger when returning generated keys","body":"<p>I'm dealing with a frustrating problem. MySQL (like most SQL databases) does not call its 64-bit integer datatype a &quot;long&quot;. It's a &quot;bigint&quot;. Ok, fine.</p>\n<p>But the MySQL JDBC driver (8.0.22) incorrectly returns this column as java.math.BigInteger, which it isn't.</p>\n<p>Yes, I could convert the BigInteger into a long in my application code, but this turns out to be really inconvenient for some internal, application-specific reasons.</p>\n<p>Is there any way to force the driver to return the correct data type, which should be a java.lang.Long?</p>\n<p><strong>Update</strong></p>\n<p>Per the comment, yes, it appears that regular select statements do return the column as a java.lang.Long. My bad.</p>\n<p>Where it is failing is when it returns generated keys after an insert. There, the column comes back as a BigInteger. Here's the code:</p>\n<pre><code>public static void main(String[] args) throws SQLException {\n\n    Connection conn = DriverManager\n            .getConnection(&quot;jdbc:mysql://localhost:3306/mydb?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;user=root&quot;);\n\n    Statement state = conn.createStatement();\n    state.executeUpdate(&quot;drop table if exists foo&quot;);\n    state.executeUpdate(&quot;create table foo (id bigint auto_increment, name varchar(255), primary key(id))&quot;);\n    state.executeUpdate(&quot;insert into foo (name) values ('bob')&quot;, Statement.RETURN_GENERATED_KEYS);\n\n    ResultSet rs = state.getGeneratedKeys();\n    rs.next();\n\n    Object obj = rs.getObject(1);\n\n    System.out.println(obj);\n    System.out.println(obj.getClass());\n\n    conn.close();\n\n}\n</code></pre>\n<p>returns:</p>\n<pre><code>1\nclass java.math.BigInteger\n</code></pre>\n"},{"tags":["java","android","themes","android-appcompat"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677095739,"post_id":75537282,"comment_id":133272134,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":18138030,"reputation":1,"user_id":13192269,"display_name":"fekhreddine bouziane"},"score":0,"creation_date":1677102576,"post_id":75538160,"comment_id":133274002,"body_markdown":"i want to change the default dialog text color from style file no the code thanks","body":"i want to change the default dialog text color from style file no the code thanks"},{"owner":{"account_id":7457070,"reputation":182,"user_id":5669985,"display_name":"C&#233;sar Berm&#250;dez"},"score":0,"creation_date":1677169160,"post_id":75538160,"comment_id":133288865,"body_markdown":"I think you cant change the default, you have to create a new one and reference it like on the solution above","body":"I think you cant change the default, you have to create a new one and reference it like on the solution above"}],"tags":[],"owner":{"account_id":7457070,"reputation":182,"user_id":5669985,"display_name":"C&#233;sar Berm&#250;dez"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677099990,"creation_date":1677099990,"answer_id":75538160,"question_id":75537282,"body_markdown":"You need to use [DialogFragment][1] \r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/components/dialogs#DialogFragment\r\n\r\nInside the builder there is an option to set a custom style \r\n\r\n     val builder = AlertDialog.Builder(context, R.style.Theme_Material_Dialog)\r\n     builder.setTitle(R.string.str)\r\n            .setItems(R.array.colors_array,\r\n                      DialogInterface.OnClickListener { dialog, which -&gt;\r\n                                // The &#39;which&#39; argument contains the index position\r\n                                // of the selected item\r\n                      })\r\n     builder.create()","title":"How can I change default dialog text color in android bumblebee 2021","body":"<p>You need to use <a href=\"https://developer.android.com/develop/ui/views/components/dialogs#DialogFragment\" rel=\"nofollow noreferrer\">DialogFragment</a></p>\n<p>Inside the builder there is an option to set a custom style</p>\n<pre><code> val builder = AlertDialog.Builder(context, R.style.Theme_Material_Dialog)\n builder.setTitle(R.string.str)\n        .setItems(R.array.colors_array,\n                  DialogInterface.OnClickListener { dialog, which -&gt;\n                            // The 'which' argument contains the index position\n                            // of the selected item\n                  })\n builder.create()\n</code></pre>\n"}],"owner":{"account_id":18138030,"reputation":1,"user_id":13192269,"display_name":"fekhreddine bouziane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677100062,"creation_date":1677093711,"question_id":75537282,"body_markdown":"I have many alert dialogs in my app. It is a default layout but I am adding positive and negative buttons to the dialog. So the buttons get the default text color of Android  (green). I tried to changed it without success. Any idea how to change that text color?\r\n\r\n&lt;style name=&quot;Theme.stackoverflow&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n\r\ni want to change the default dialog  text color from style file no the code thanks","title":"How can I change default dialog text color in android bumblebee 2021","body":"<p>I have many alert dialogs in my app. It is a default layout but I am adding positive and negative buttons to the dialog. So the buttons get the default text color of Android  (green). I tried to changed it without success. Any idea how to change that text color?</p>\n\n\ni want to change the default dialog  text color from style file no the code thanks\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":2885864,"reputation":861,"user_id":2475798,"display_name":"Neenad"},"score":0,"creation_date":1677016845,"post_id":75523039,"comment_id":133253610,"body_markdown":"If you have already initialised the Kafka Producer in 1st image, why are you getting the instance from ConnectionManager? Also which documentation you followed to write this code? Adding more resources to the questions helps us to answer better","body":"If you have already initialised the Kafka Producer in 1st image, why are you getting the instance from ConnectionManager? Also which documentation you followed to write this code? Adding more resources to the questions helps us to answer better"},{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":1,"creation_date":1677024325,"post_id":75523039,"comment_id":133254984,"body_markdown":"Please share the KafkaConnectionManager.getConnection() code","body":"Please share the KafkaConnectionManager.getConnection() code"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677026644,"post_id":75523039,"comment_id":133255302,"body_markdown":"Please edit your code to include code as text, not images","body":"Please edit your code to include code as text, not images"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677026712,"post_id":75523039,"comment_id":133255315,"body_markdown":"`KafkaProducer` is thread-safe. You do not need a &quot;Connection Manager&quot;. I suspect this is where your error is...","body":"<code>KafkaProducer</code> is thread-safe. You do not need a &quot;Connection Manager&quot;. I suspect this is where your error is..."},{"owner":{"account_id":11017901,"reputation":21,"user_id":8093200,"display_name":"Palash Gupta"},"score":0,"creation_date":1677044571,"post_id":75523039,"comment_id":133257573,"body_markdown":"@Neenad This code was actually written by one of my colleague around 1 and half years ago. So, I don&#39;t know what document he followed. I am currently following kafka&#39;s official documentation.\nHere connection manager is a singleton class which has a getter for producer object. I&#39;ve added code snippet for connection manager also.","body":"@Neenad This code was actually written by one of my colleague around 1 and half years ago. So, I don&#39;t know what document he followed. I am currently following kafka&#39;s official documentation. Here connection manager is a singleton class which has a getter for producer object. I&#39;ve added code snippet for connection manager also."},{"owner":{"account_id":11017901,"reputation":21,"user_id":8093200,"display_name":"Palash Gupta"},"score":0,"creation_date":1677044658,"post_id":75523039,"comment_id":133257585,"body_markdown":"@ahmed.ettoumi I&#39;ve added code snippet for connection manager also.","body":"@ahmed.ettoumi I&#39;ve added code snippet for connection manager also."},{"owner":{"account_id":11017901,"reputation":21,"user_id":8093200,"display_name":"Palash Gupta"},"score":0,"creation_date":1677044894,"post_id":75523039,"comment_id":133257620,"body_markdown":"@OneCricketeer This code was actually written by one of my colleague around 1 and half years ago. I don&#39;t know why did he wrote a connection manager. I&#39;ve added code for connection manager also.","body":"@OneCricketeer This code was actually written by one of my colleague around 1 and half years ago. I don&#39;t know why did he wrote a connection manager. I&#39;ve added code for connection manager also."},{"owner":{"account_id":2885864,"reputation":861,"user_id":2475798,"display_name":"Neenad"},"score":0,"creation_date":1677051033,"post_id":75523039,"comment_id":133258739,"body_markdown":"Could you also post the complete code for timer task, I feel somwhere you are reinitialising the entire connection manager multiple times without closing the previous one","body":"Could you also post the complete code for timer task, I feel somwhere you are reinitialising the entire connection manager multiple times without closing the previous one"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677099200,"post_id":75523039,"comment_id":133273102,"body_markdown":"Unrelated, but have you never restarted Kafka in a whole year + half for any maintenance? You should not be storing Kafka data under /tmp","body":"Unrelated, but have you never restarted Kafka in a whole year + half for any maintenance? You should not be storing Kafka data under /tmp"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677099381,"creation_date":1677099381,"answer_id":75538077,"question_id":75523039,"body_markdown":"Singletons are an anti-pattern, and doesn&#39;t improve anything here. \r\n\r\nYou can construct one `KafkaProducer` in the lifecycle of your application, and then simply re-use that (assuming no configs of it need to change). \r\n\r\nSame applies for the `AdminClient`; create one, then pass it around as a parameter to methods / classes that need it, not construct a new one every method call. ","title":"Getting too much TCP-ESTABLISHED connection while using kafka producer in java application. why? Can anybody tell about this?","body":"<p>Singletons are an anti-pattern, and doesn't improve anything here.</p>\n<p>You can construct one <code>KafkaProducer</code> in the lifecycle of your application, and then simply re-use that (assuming no configs of it need to change).</p>\n<p>Same applies for the <code>AdminClient</code>; create one, then pass it around as a parameter to methods / classes that need it, not construct a new one every method call.</p>\n"}],"owner":{"account_id":11017901,"reputation":21,"user_id":8093200,"display_name":"Palash Gupta"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75538077,"answer_count":1,"score":0,"last_activity_date":1677099381,"creation_date":1676995777,"question_id":75523039,"body_markdown":"I am using apache kafka-client-3.2.0 (also used latest Apache kafka-client-3.4.0 jar) for creating producer in java. I have 5 topics with replication-factor=1 and partitions=1 for each topic as I have only 1 broker. Out of these 5 topics 1 is being used by KafkaAppender from log4j2 and 4 are being used by a timer task which periodically calls the producer to dump on these topics. When I starts the application the number of tcp connection starts increasing. It has been found that more than 300 connections are established and are also increasing.\r\n\r\nkafka-version kafka-2.13_2.8.0, kafka-2.13_3.3.1 and kafka-2.13_3.4.0\r\n\r\nBelow is the producer configuration I am using:\r\n\r\n```\r\n    private KafkaProducer&lt;String, String&gt; producer;\r\n        public KafkaProducer&lt;String, String&gt; getProducer() {\r\n    \t\t    return producer;\r\n    \t    }\r\n        private KafkaProducer&lt;String, String&gt; \r\n        createAndGetProducer(String acksConfig, int retryConfig){\r\n    \t\t    Properties props = new Properties();\r\n    \t\t \r\n       props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\r\n    \t\t    props.put(ProducerConfig.ACKS_CONFIG, acksConfig);\r\n    \t\t    props.put(ProducerConfig.RETRIES_CONFIG, retryConfig);\r\n    \t\t \r\n       props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, \r\n    &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \t\t \r\n       props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, \r\n    &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \t\t    KafkaProducer&lt;String, String&gt; producer = new \r\n        KafkaProducer&lt;&gt;(props);\r\n            \r\n    \t\treturn producer;\r\n    \t}\r\n ```\r\n\r\nBelow is the method which I am calling from timer task to produce data:\r\n```\r\n\r\n    public static void writeToTopic(String topicName, String value){\r\n    \t\tlogger.info(&quot;Writing into topic &quot; + topicName);\r\n    \t\t\r\n    \t\tProducerRecord &lt;String, String&gt; producerData = new ProducerRecord &lt;String, String&gt; (topicName, value);\r\n    \t\tKafkaProducer&lt;String, String&gt; producer = KafkaConnectionManager.getConnection().getProducer();\r\n    \t\t\r\n    \t\tlogger.info(producer.toString());\r\n    \t\tKafkaConnectionManager.getConnection().getProducer().send(producerData);\r\n    \t\tKafkaConnectionManager.getConnection().getProducer().flush();\r\n    \t}\r\n\r\n```\r\n\r\n\r\nBelow are the connections:\r\n```\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59604      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:48358      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50668      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59898      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50626      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59444      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:49716      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:61049      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:58516      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51514      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51892      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50802      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:47106      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:60084      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50588      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50682      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59814      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50788      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:48554      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51390      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:58576      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50974      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51504      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:47262      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:60022      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50558      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:56118      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51844      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59712      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51834      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50626      ESTABLISHED 4369/java\r\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59668      ESTABLISHED 4369/java\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nBelow is the Connection Manager Code\r\n```\r\n\r\n    private static KafkaConnectionManager kafkaConnectionManager = null;\r\n    \r\n    public synchronized static KafkaConnectionManager getConnection() {\t\t\r\n    \t\treturn kafkaConnectionManager;\r\n    \t}\r\n    \r\n    public synchronized static KafkaConnectionManager initialize(Properties kafkaProps, Logger logger, String hostIp) throws KafkaConnectionManagerException {\t\t\r\n    \t\tif (kafkaConnectionManager == null) {\r\n    \t\t\tsynchronized (KafkaConnectionManager.class) {\r\n    \t\t\t\tif (kafkaConnectionManager == null) {\r\n    \t\t\t\t\tkafkaConnectionManager = new KafkaConnectionManager(kafkaProps, logger, hostIp);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn kafkaConnectionManager;\r\n    \t}\r\n    \r\n    private KafkaConnectionManager(Properties kafkaProps, Logger logger, String hostIp) throws KafkaConnectionManagerException{\r\n    \t\tif(kafkaProps == null)\r\n    \t\t{\r\n    \t\t\tthrow new KafkaConnectionManagerException(&quot;kafkaProps property is null&quot;);\r\n    \t\t}\r\n    \t\telse if(logger == null)\r\n    \t\t{\r\n    \t\t\tthrow new KafkaConnectionManagerException(&quot;logger is null&quot;);\r\n    \t\t}\r\n    \t\telse if(hostIp == null)\r\n    \t\t{\r\n    \t\t\tthrow new KafkaConnectionManagerException(&quot;hostIp is null, set the hostIp&quot;);\r\n    \t\t}\r\n    \t\tKafkaConnectionManager.kafkaProps = kafkaProps;\r\n    \t\tthis.logger = logger;\r\n    \t\tthis.hostIp = hostIp;\r\n    \t\tbrokers = kafkaProps.getProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG).trim();\r\n    \t\tlogger.info(&quot;KAFKA brokers!!! = &quot;+brokers);\r\n    \t\tthis.acksConfig = kafkaProps.getProperty(ProducerConfig.ACKS_CONFIG).trim();\r\n    \t\tthis.retryConfig = Integer.parseInt(kafkaProps.getProperty(ProducerConfig.RETRIES_CONFIG).trim());\r\n    \t\t\r\n    \t\tthis.producer = createAndGetProducer(acksConfig, retryConfig);\r\n    logger.info(&quot;Kafka Producer has been Initialized successfully&quot;);\r\n    \t\t\r\n    \t}\r\n```\r\n\r\n----------\r\n\r\n\r\nIn the above code snippet method &quot;public synchronized static KafkaConnectionManager initialize&quot; is called from main method.\r\n\r\n\r\n----------\r\n\r\n\r\nBelow is the broker configuration I am using (same for all version mentioned above)\r\n```\r\nbroker.id=1\r\nlisteners=PLAINTEXT://:9092\r\nadvertised.listeners=PLAINTEXT://X.X.X.X:9092\r\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\r\nnum.network.threads=3 \r\nnum.io.threads=8 \r\nsocket.send.buffer.bytes=102400\r\nsocket.receive.buffer.bytes=102400 \r\nsocket.request.max.bytes=104857600\r\n\r\nlog.dirs=/tmp/kafka-logs\r\nnum.partitions=1\r\nnum.recovery.threads.per.data.dir=1\r\n\r\n\r\noffsets.topic.replication.factor=1 transaction.state.log.replication.factor=1\r\ntransaction.state.log.min.isr=1\r\n\r\nlog.flush.interval.messages=10000 \r\nlog.flush.interval.ms=1000\r\n\r\nlog.retention.hours=168 \r\nlog.retention.check.interval.ms=300000\r\n\r\nzookeeper.connect=10.64.223.70:2181\r\nzookeeper.connection.timeout.ms=18000\r\n\r\ngroup.initial.rebalance.delay.ms=0 \r\nmax.connection.per.ip=100 \r\nmax.connections=100\r\nlistener.name.internal.max.connections=100\r\nrequest.timeout.ms=180000\r\nconnections.max.idle.ms=300000\r\n```\r\n\r\n----------\r\n\r\n\r\nI am also using AdminAPI for creating topic. It is called also from main method. Below is the code for Topic Creation using Admin API\r\n\r\n     public void createTopics(Collection&lt;NewTopic&gt; newTopics, CreateTopicsOptions createTopicsOptions) {\r\n    \r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\r\n    \t\tAdminClient adminClient = KafkaAdminClient.create(props);\r\n    \r\n    \t\tadminClient.createTopics(newTopics, createTopicsOptions);\r\n    \t}\r\n\r\n\r\n----------\r\n\r\n\r\nI tried all the configuration mentioned in kafka&#39;s official website for broker config and producer config expect for authentication I am not using any authentication now.\r\n","title":"Getting too much TCP-ESTABLISHED connection while using kafka producer in java application. why? Can anybody tell about this?","body":"<p>I am using apache kafka-client-3.2.0 (also used latest Apache kafka-client-3.4.0 jar) for creating producer in java. I have 5 topics with replication-factor=1 and partitions=1 for each topic as I have only 1 broker. Out of these 5 topics 1 is being used by KafkaAppender from log4j2 and 4 are being used by a timer task which periodically calls the producer to dump on these topics. When I starts the application the number of tcp connection starts increasing. It has been found that more than 300 connections are established and are also increasing.</p>\n<p>kafka-version kafka-2.13_2.8.0, kafka-2.13_3.3.1 and kafka-2.13_3.4.0</p>\n<p>Below is the producer configuration I am using:</p>\n<pre><code>    private KafkaProducer&lt;String, String&gt; producer;\n        public KafkaProducer&lt;String, String&gt; getProducer() {\n                return producer;\n            }\n        private KafkaProducer&lt;String, String&gt; \n        createAndGetProducer(String acksConfig, int retryConfig){\n                Properties props = new Properties();\n             \n       props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\n                props.put(ProducerConfig.ACKS_CONFIG, acksConfig);\n                props.put(ProducerConfig.RETRIES_CONFIG, retryConfig);\n             \n       props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, \n    &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n             \n       props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, \n    &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n                KafkaProducer&lt;String, String&gt; producer = new \n        KafkaProducer&lt;&gt;(props);\n            \n            return producer;\n        }\n</code></pre>\n<p>Below is the method which I am calling from timer task to produce data:</p>\n<pre><code>\n    public static void writeToTopic(String topicName, String value){\n            logger.info(&quot;Writing into topic &quot; + topicName);\n            \n            ProducerRecord &lt;String, String&gt; producerData = new ProducerRecord &lt;String, String&gt; (topicName, value);\n            KafkaProducer&lt;String, String&gt; producer = KafkaConnectionManager.getConnection().getProducer();\n            \n            logger.info(producer.toString());\n            KafkaConnectionManager.getConnection().getProducer().send(producerData);\n            KafkaConnectionManager.getConnection().getProducer().flush();\n        }\n\n</code></pre>\n<p>Below are the connections:</p>\n<pre><code>tcp6       0      0  X.X.X.X:9092       X.X.X.X:59604      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:48358      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50668      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59898      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50626      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59444      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:49716      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:61049      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:58516      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51514      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51892      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50802      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:47106      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:60084      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50588      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50682      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59814      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50788      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:48554      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51390      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:58576      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50974      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51504      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:47262      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:60022      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50558      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:56118      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51844      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59712      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:51834      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:50626      ESTABLISHED 4369/java\ntcp6       0      0  X.X.X.X:9092       X.X.X.X:59668      ESTABLISHED 4369/java\n</code></pre>\n<hr />\n<p>Below is the Connection Manager Code</p>\n<pre><code>\n    private static KafkaConnectionManager kafkaConnectionManager = null;\n    \n    public synchronized static KafkaConnectionManager getConnection() {     \n            return kafkaConnectionManager;\n        }\n    \n    public synchronized static KafkaConnectionManager initialize(Properties kafkaProps, Logger logger, String hostIp) throws KafkaConnectionManagerException {      \n            if (kafkaConnectionManager == null) {\n                synchronized (KafkaConnectionManager.class) {\n                    if (kafkaConnectionManager == null) {\n                        kafkaConnectionManager = new KafkaConnectionManager(kafkaProps, logger, hostIp);\n                    }\n                }\n            }\n            return kafkaConnectionManager;\n        }\n    \n    private KafkaConnectionManager(Properties kafkaProps, Logger logger, String hostIp) throws KafkaConnectionManagerException{\n            if(kafkaProps == null)\n            {\n                throw new KafkaConnectionManagerException(&quot;kafkaProps property is null&quot;);\n            }\n            else if(logger == null)\n            {\n                throw new KafkaConnectionManagerException(&quot;logger is null&quot;);\n            }\n            else if(hostIp == null)\n            {\n                throw new KafkaConnectionManagerException(&quot;hostIp is null, set the hostIp&quot;);\n            }\n            KafkaConnectionManager.kafkaProps = kafkaProps;\n            this.logger = logger;\n            this.hostIp = hostIp;\n            brokers = kafkaProps.getProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG).trim();\n            logger.info(&quot;KAFKA brokers!!! = &quot;+brokers);\n            this.acksConfig = kafkaProps.getProperty(ProducerConfig.ACKS_CONFIG).trim();\n            this.retryConfig = Integer.parseInt(kafkaProps.getProperty(ProducerConfig.RETRIES_CONFIG).trim());\n            \n            this.producer = createAndGetProducer(acksConfig, retryConfig);\n    logger.info(&quot;Kafka Producer has been Initialized successfully&quot;);\n            \n        }\n</code></pre>\n<hr />\n<p>In the above code snippet method &quot;public synchronized static KafkaConnectionManager initialize&quot; is called from main method.</p>\n<hr />\n<p>Below is the broker configuration I am using (same for all version mentioned above)</p>\n<pre><code>broker.id=1\nlisteners=PLAINTEXT://:9092\nadvertised.listeners=PLAINTEXT://X.X.X.X:9092\nlistener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\nnum.network.threads=3 \nnum.io.threads=8 \nsocket.send.buffer.bytes=102400\nsocket.receive.buffer.bytes=102400 \nsocket.request.max.bytes=104857600\n\nlog.dirs=/tmp/kafka-logs\nnum.partitions=1\nnum.recovery.threads.per.data.dir=1\n\n\noffsets.topic.replication.factor=1 transaction.state.log.replication.factor=1\ntransaction.state.log.min.isr=1\n\nlog.flush.interval.messages=10000 \nlog.flush.interval.ms=1000\n\nlog.retention.hours=168 \nlog.retention.check.interval.ms=300000\n\nzookeeper.connect=10.64.223.70:2181\nzookeeper.connection.timeout.ms=18000\n\ngroup.initial.rebalance.delay.ms=0 \nmax.connection.per.ip=100 \nmax.connections=100\nlistener.name.internal.max.connections=100\nrequest.timeout.ms=180000\nconnections.max.idle.ms=300000\n</code></pre>\n<hr />\n<p>I am also using AdminAPI for creating topic. It is called also from main method. Below is the code for Topic Creation using Admin API</p>\n<pre><code> public void createTopics(Collection&lt;NewTopic&gt; newTopics, CreateTopicsOptions createTopicsOptions) {\n\n        Properties props = new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\n        AdminClient adminClient = KafkaAdminClient.create(props);\n\n        adminClient.createTopics(newTopics, createTopicsOptions);\n    }\n</code></pre>\n<hr />\n<p>I tried all the configuration mentioned in kafka's official website for broker config and producer config expect for authentication I am not using any authentication now.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":31322,"reputation":6580,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1509889023,"creation_date":1509889023,"answer_id":47122193,"question_id":47122155,"body_markdown":"Have you tried this plugin yet? \r\n\r\nhttps://github.com/FibreFoX/javafx-gradle-plugin","title":"Package java desktop app (gradle)","body":"<p>Have you tried this plugin yet? </p>\n\n<p><a href=\"https://github.com/FibreFoX/javafx-gradle-plugin\" rel=\"nofollow noreferrer\">https://github.com/FibreFoX/javafx-gradle-plugin</a></p>\n"}],"owner":{"account_id":360730,"reputation":1449,"user_id":702883,"accept_rate":44,"display_name":"Xeperis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47122193,"answer_count":1,"score":1,"last_activity_date":1677098563,"creation_date":1509888760,"question_id":47122155,"body_markdown":"According to this [oracle docs][1] there is a conventional java app packaging along with runtime JRE. (Self-Contained Application Packaging)\r\n\r\nI know that there is this [thing (Launch4j gradle plugin)][2] but I&#39;d prefer to have a bat/sh executables along in the package. \r\n\r\nGoing through gradle docs and googling I can not seem to find is there is a way to teach gradle to package desktop app with JRE. Is there?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html\r\n  [2]: https://github.com/TheBoegl/gradle-launch4j","title":"Package java desktop app (gradle)","body":"<p>According to this <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html\" rel=\"nofollow noreferrer\">oracle docs</a> there is a conventional java app packaging along with runtime JRE. (Self-Contained Application Packaging)</p>\n\n<p>I know that there is this <a href=\"https://github.com/TheBoegl/gradle-launch4j\" rel=\"nofollow noreferrer\">thing (Launch4j gradle plugin)</a> but I'd prefer to have a bat/sh executables along in the package. </p>\n\n<p>Going through gradle docs and googling I can not seem to find is there is a way to teach gradle to package desktop app with JRE. Is there?</p>\n"},{"tags":["java","spring","lombok","constructor-injection"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1536874438,"post_id":52321988,"comment_id":91591802,"body_markdown":"Constructor injection is preferred, but I don&#39;t believe it&#39;s compatible with `@ConfigurationProperties`, which is the *specific* best practice here.","body":"Constructor injection is preferred, but I don&#39;t believe it&#39;s compatible with <code>@ConfigurationProperties</code>, which is the <i>specific</i> best practice here."}],"answers":[{"comments":[{"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"score":0,"creation_date":1536878496,"post_id":52322554,"comment_id":91592870,"body_markdown":"How does Spring know which Bean to inject in the field `myComponent` ? Usually you would have an annotation like `@Autowired` for that, wouldn&#39;t you ?","body":"How does Spring know which Bean to inject in the field <code>myComponent</code> ? Usually you would have an annotation like <code>@Autowired</code> for that, wouldn&#39;t you ?"},{"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":4,"creation_date":1536910939,"post_id":52322554,"comment_id":91601229,"body_markdown":"@GustavoPassini [If a bean has one constructor, you can omit the @Autowired](https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-spring-beans-and-dependency-injection.html)","body":"@GustavoPassini <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-spring-beans-and-dependency-injection.html\" rel=\"nofollow noreferrer\">If a bean has one constructor, you can omit the @Autowired</a>"},{"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"score":5,"creation_date":1558160606,"post_id":52322554,"comment_id":99016763,"body_markdown":"for those who don&#39;t want to limit themselves with the final keyword, they can use @NonNull (lombok) annotation.","body":"for those who don&#39;t want to limit themselves with the final keyword, they can use @NonNull (lombok) annotation."},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1597747844,"post_id":52322554,"comment_id":112228835,"body_markdown":"Won&#39;t this approach take away readability in many cases where you have more than let&#39;s say 10 variables, out of which 1 or 2 are getting populated using some code. You would never know which are autowired and which are populated in code?","body":"Won&#39;t this approach take away readability in many cases where you have more than let&#39;s say 10 variables, out of which 1 or 2 are getting populated using some code. You would never know which are autowired and which are populated in code?"},{"owner":{"account_id":136651,"reputation":8180,"user_id":340290,"accept_rate":78,"display_name":"manikanta"},"score":3,"creation_date":1611737936,"post_id":52322554,"comment_id":116544074,"body_markdown":"What about the `myField` which has `@Value` annotation?","body":"What about the <code>myField</code> which has <code>@Value</code> annotation?"},{"owner":{"account_id":8087580,"reputation":79,"user_id":6094649,"display_name":"Andrii Bobrov"},"score":3,"creation_date":1612780016,"post_id":52322554,"comment_id":116863791,"body_markdown":"How you can test the class with that myField?","body":"How you can test the class with that myField?"},{"owner":{"account_id":5219040,"reputation":743,"user_id":4173048,"display_name":"withoutOne"},"score":0,"creation_date":1614177203,"post_id":52322554,"comment_id":117306169,"body_markdown":"How can I use with @Builder? REpository instance is null","body":"How can I use with @Builder? REpository instance is null"},{"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"score":0,"creation_date":1637656171,"post_id":52322554,"comment_id":123877957,"body_markdown":"I wonder, how we can make this work if we set myField as final ???","body":"I wonder, how we can make this work if we set myField as final ???"}],"tags":[],"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"comment_count":8,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1536911448,"creation_date":1536877644,"answer_id":52322554,"question_id":52321988,"body_markdown":"You need `@RequiredArgsConstructor` and mark `myDependency` as final. In this case, Lombok will generate a constructor based on &#39;required&#39; final filed as argument, for example:\r\n\r\n    @RequiredArgsConstructor\r\n    @Service\r\n    public class MyService {\r\n    \r\n        @Value(&quot;${my.config.value}&quot;)\r\n        private String myField;\r\n    \r\n        private final MyComponent myComponent;\r\n    \r\n        //...\r\n    }\r\n\r\nThat is equal the following:\r\n\r\n    @Service\r\n    public class MyService {\r\n    \r\n        @Value(&quot;${my.config.value}&quot;)\r\n        private String myField;\r\n    \r\n        private final MyComponent myComponent;\r\n    \r\n        public MyService(MyComponent myComponent) { // &lt;= implicit injection\r\n            this.myComponent = myComponent;\r\n        } \r\n\r\n        //...\r\n    }\r\n\r\nSince here is only one constructor, Spring inject `MyComponent` [without the explicit use of the `@Autowired` annotation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-spring-beans-and-dependency-injection.html","title":"Best practice for @Value fields, Lombok, and Constructor Injection?","body":"<p>You need <code>@RequiredArgsConstructor</code> and mark <code>myDependency</code> as final. In this case, Lombok will generate a constructor based on 'required' final filed as argument, for example:</p>\n\n<pre><code>@RequiredArgsConstructor\n@Service\npublic class MyService {\n\n    @Value(\"${my.config.value}\")\n    private String myField;\n\n    private final MyComponent myComponent;\n\n    //...\n}\n</code></pre>\n\n<p>That is equal the following:</p>\n\n<pre><code>@Service\npublic class MyService {\n\n    @Value(\"${my.config.value}\")\n    private String myField;\n\n    private final MyComponent myComponent;\n\n    public MyService(MyComponent myComponent) { // &lt;= implicit injection\n        this.myComponent = myComponent;\n    } \n\n    //...\n}\n</code></pre>\n\n<p>Since here is only one constructor, Spring inject <code>MyComponent</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-spring-beans-and-dependency-injection.html\" rel=\"noreferrer\">without the explicit use of the <code>@Autowired</code> annotation</a>.</p>\n"},{"comments":[{"owner":{"account_id":1904407,"reputation":2121,"user_id":1719569,"display_name":"Saljack"},"score":0,"creation_date":1643362382,"post_id":67042439,"comment_id":125324497,"body_markdown":"You do not need `@Autowired` on a constructor.","body":"You do not need <code>@Autowired</code> on a constructor."},{"owner":{"account_id":9496908,"reputation":746,"user_id":7059576,"display_name":"octavian"},"score":0,"creation_date":1646922804,"post_id":67042439,"comment_id":126247645,"body_markdown":"This is how Lombok generated the class. I have no control on the generated code.","body":"This is how Lombok generated the class. I have no control on the generated code."},{"owner":{"account_id":168481,"reputation":4079,"user_id":393965,"accept_rate":74,"display_name":"Kricket"},"score":7,"creation_date":1647417667,"post_id":67042439,"comment_id":126362801,"body_markdown":"@octavian I think what @Saljack is pointing out is that `@AllArgsConstructor(onConstructor = @__(@Autowired))` adds `@Autowired` to the constructor, which is unnecessary.","body":"@octavian I think what @Saljack is pointing out is that <code>@AllArgsConstructor(onConstructor = @__(@Autowired))</code> adds <code>@Autowired</code> to the constructor, which is unnecessary."},{"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"score":0,"creation_date":1693629748,"post_id":67042439,"comment_id":135789210,"body_markdown":"For me it works when putting `lombok.config` in the Gradle/Maven project root folder.","body":"For me it works when putting <code>lombok.config</code> in the Gradle/Maven project root folder."}],"tags":[],"owner":{"account_id":9496908,"reputation":746,"user_id":7059576,"display_name":"octavian"},"comment_count":4,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1677098508,"creation_date":1618126024,"answer_id":67042439,"question_id":52321988,"body_markdown":"Make sure you are using at least version [1.18.4][1] of Lombok. And that you have your desired annotation added to the **lombok.config** file.\r\n\r\n    lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\r\n\r\nHere is your class:\r\n\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class MyService{\r\n    \r\n        @Value(&quot;${my.config.value}&quot;)\r\n        private String myField;\r\n   \r\n        private Object myDependency;\r\n    }\r\n    \r\nAnd here is the Lombok generated class:\r\n\r\n    public class MyService {\r\n    \r\n    @Value(&quot;${my.config.value}&quot;)\r\n    private String myField;\r\n    \r\n    private Object myDependency;\r\n\r\n    @Autowired\r\n    @Generated\r\n    public MyService(@Value(&quot;${my.config.value}&quot;) final String myField, final Object myDependency) {\r\n        this.myField = myField;\r\n        this.myDependency = myDependency;\r\n    }\r\n\r\nPS: Make sure you have the **lombok.config** file under /src/main/java folder. I tried adding it to /src/main/resources and it did not work.\r\n\r\nResponse taken from [Lombok - retain field&#39;s annotation in constructor input params][2].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.projectlombok/lombok/1.18.4\r\n  [2]: https://stackoverflow.com/a/54596991/7059576","title":"Best practice for @Value fields, Lombok, and Constructor Injection?","body":"<p>Make sure you are using at least version <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok/1.18.4\" rel=\"noreferrer\">1.18.4</a> of Lombok. And that you have your desired annotation added to the <strong>lombok.config</strong> file.</p>\n<pre><code>lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\n</code></pre>\n<p>Here is your class:</p>\n<pre><code>@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class MyService{\n\n    @Value(&quot;${my.config.value}&quot;)\n    private String myField;\n\n    private Object myDependency;\n}\n</code></pre>\n<p>And here is the Lombok generated class:</p>\n<pre><code>public class MyService {\n\n@Value(&quot;${my.config.value}&quot;)\nprivate String myField;\n\nprivate Object myDependency;\n\n@Autowired\n@Generated\npublic MyService(@Value(&quot;${my.config.value}&quot;) final String myField, final Object myDependency) {\n    this.myField = myField;\n    this.myDependency = myDependency;\n}\n</code></pre>\n<p>PS: Make sure you have the <strong>lombok.config</strong> file under /src/main/java folder. I tried adding it to /src/main/resources and it did not work.</p>\n<p>Response taken from <a href=\"https://stackoverflow.com/a/54596991/7059576\">Lombok - retain field's annotation in constructor input params</a>.</p>\n"}],"owner":{"account_id":1779790,"reputation":1186,"user_id":1622825,"accept_rate":43,"display_name":"Ertai87"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37071,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"answer_count":2,"score":56,"last_activity_date":1677098508,"creation_date":1536873802,"question_id":52321988,"body_markdown":"I&#39;m developing a Java Spring application.  I have some fields in my application which are configured using a .yml config file.  I would like to import those values using an @Value annotation on the fields in question.  I would also like to use the best-practice of constructor injection rather than field injection, but I would like to write my constructor using Lombok rather than manually.  Is there any way to do all these things at once?  As an example, this doesn&#39;t work but is similar to what I want to do:\r\n\r\n    @AllArgsConstructor\r\n    public class my service {\r\n        @Value(&quot;${my.config.value}&quot;)\r\n        private String myField;\r\n\r\n        private Object myDependency;\r\n\r\n        ...\r\n    }\r\n\r\nIn this case, what I want is Lombok to generate a constructor which sets only myDependency, and for myField to be read from my config file.\r\n\r\nThanks!","title":"Best practice for @Value fields, Lombok, and Constructor Injection?","body":"<p>I'm developing a Java Spring application.  I have some fields in my application which are configured using a .yml config file.  I would like to import those values using an @Value annotation on the fields in question.  I would also like to use the best-practice of constructor injection rather than field injection, but I would like to write my constructor using Lombok rather than manually.  Is there any way to do all these things at once?  As an example, this doesn't work but is similar to what I want to do:</p>\n\n<pre><code>@AllArgsConstructor\npublic class my service {\n    @Value(\"${my.config.value}\")\n    private String myField;\n\n    private Object myDependency;\n\n    ...\n}\n</code></pre>\n\n<p>In this case, what I want is Lombok to generate a constructor which sets only myDependency, and for myField to be read from my config file.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","tomcat","jstl","apache-tomee"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1677097800,"post_id":75537770,"comment_id":133272683,"body_markdown":"JSTL is not required. See 1st duplicate how to solve it using plain EL. TomEE 9 is not a Jakarta EE 10 server but a Jakarta EE 9 server. Thus it doesn&#39;t ship with JSTL 3.0 but still with JSTL 2.0. In other words, you still need the old taglib URI associated with JSTL 2.0. See 2nd duplicate.","body":"JSTL is not required. See 1st duplicate how to solve it using plain EL. TomEE 9 is not a Jakarta EE 10 server but a Jakarta EE 9 server. Thus it doesn&#39;t ship with JSTL 3.0 but still with JSTL 2.0. In other words, you still need the old taglib URI associated with JSTL 2.0. See 2nd duplicate."}],"owner":{"account_id":18877963,"reputation":153,"user_id":17313607,"display_name":"Zephyrus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677097548,"answer_count":0,"score":0,"last_activity_date":1677097713,"creation_date":1677097217,"question_id":75537770,"body_markdown":"I have a website that I&#39;ve deployed to TomEE and it works if I deploy it as ROOT.war.\r\n\r\nHowever, I need to deploy it to its own directory. When I do that, it can&#39;t find any css, js or other files.\r\n\r\nThe following works when I deploy as ROOT.war:\r\n```\r\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/css/mystyles.css&quot; /&gt;\r\n\r\n```\r\n\r\nBut no css, js or other files can be accessed if I deploy to any other directory.\r\n\r\nThe server thinks that the css directory is always under the ROOT webapp and nothing I have tried will link the site to css, js or any other files.\r\n\r\n\r\nSome comments I found online indicated that I need to use JSTL.\r\n\r\nHere is what I have in my `web.xml` file:\r\n```\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee web-app_6_0.xsd&quot;\r\n\t\tversion=&quot;6.0&quot;&gt;\r\n\r\n```\r\n\r\nIn my `index.jsp` file I put:\r\n```\r\n&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;\r\n\r\n```\r\n\r\nBut when I try to bring up the site, I get:\r\n```\r\nUnable to find taglib [c] for URI: [jakarta.tags.core]\r\n\r\n```\r\n\r\nDo I really need JSTL just to link a css file for a site that was not deployed as ROOT.war? How do people link to css and js files in their Java webapps?\r\n\r\nI am using `TomEE 9.0.0`, `Java 17` and `Ant 1.10.12`.","title":"Can&#39;t link CSS file in TomEE","body":"<p>I have a website that I've deployed to TomEE and it works if I deploy it as ROOT.war.</p>\n<p>However, I need to deploy it to its own directory. When I do that, it can't find any css, js or other files.</p>\n<p>The following works when I deploy as ROOT.war:</p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/css/mystyles.css&quot; /&gt;\n\n</code></pre>\n<p>But no css, js or other files can be accessed if I deploy to any other directory.</p>\n<p>The server thinks that the css directory is always under the ROOT webapp and nothing I have tried will link the site to css, js or any other files.</p>\n<p>Some comments I found online indicated that I need to use JSTL.</p>\n<p>Here is what I have in my <code>web.xml</code> file:</p>\n<pre><code>&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee web-app_6_0.xsd&quot;\n        version=&quot;6.0&quot;&gt;\n\n</code></pre>\n<p>In my <code>index.jsp</code> file I put:</p>\n<pre><code>&lt;%@ taglib uri=&quot;jakarta.tags.core&quot; prefix=&quot;c&quot; %&gt;\n\n</code></pre>\n<p>But when I try to bring up the site, I get:</p>\n<pre><code>Unable to find taglib [c] for URI: [jakarta.tags.core]\n\n</code></pre>\n<p>Do I really need JSTL just to link a css file for a site that was not deployed as ROOT.war? How do people link to css and js files in their Java webapps?</p>\n<p>I am using <code>TomEE 9.0.0</code>, <code>Java 17</code> and <code>Ant 1.10.12</code>.</p>\n"},{"tags":["java","apache-nifi"],"comments":[{"owner":{"account_id":3953640,"reputation":1606,"user_id":3262990,"display_name":"Yevgen"},"score":0,"creation_date":1635902103,"post_id":69818430,"comment_id":123414745,"body_markdown":"The example provides a path to Java 11 while you said you had dowloaded Java 8. Try editing the path to JDK and see if it helps your problem.","body":"The example provides a path to Java 11 while you said you had dowloaded Java 8. Try editing the path to JDK and see if it helps your problem."},{"owner":{"account_id":19396957,"reputation":41,"user_id":14184427,"display_name":"woodardj0303"},"score":0,"creation_date":1635905390,"post_id":69818430,"comment_id":123415258,"body_markdown":"I am still trying to get a hang of understanding paths. what part of ```/usr/lib/jvm/java11-openjdk-amd64``` needs to be replaced with ```jdk```","body":"I am still trying to get a hang of understanding paths. what part of <code>&#47;usr&#47;lib&#47;jvm&#47;java11-openjdk-amd64</code> needs to be replaced with <code>jdk</code>"},{"owner":{"account_id":3953640,"reputation":1606,"user_id":3262990,"display_name":"Yevgen"},"score":0,"creation_date":1635906159,"post_id":69818430,"comment_id":123415401,"body_markdown":"JDK stands for Java Development Kit, it&#39;s basically what should have downloaded. Once you have installed it, provide a path to it under JAVA_HOME variable, so nifi could understand where to look for Java you have downloaded.","body":"JDK stands for Java Development Kit, it&#39;s basically what should have downloaded. Once you have installed it, provide a path to it under JAVA_HOME variable, so nifi could understand where to look for Java you have downloaded."},{"owner":{"account_id":4910556,"reputation":1932,"user_id":3955972,"display_name":"Sdairs"},"score":0,"creation_date":1635934552,"post_id":69818430,"comment_id":123422253,"body_markdown":"The absolute easiest way to do this is to use SDK MAN - https://sdkman.io/install - then `sdk install java 1.8.0-open` - then and select yes when it asks if you want to use it as the default. It will handle installing &amp; setting ENV VARS for you. https://sdkman.io/usage. I use this for running local NiFI instances when I&#39;m testing.","body":"The absolute easiest way to do this is to use SDK MAN - <a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">sdkman.io/install</a> - then <code>sdk install java 1.8.0-open</code> - then and select yes when it asks if you want to use it as the default. It will handle installing &amp; setting ENV VARS for you. <a href=\"https://sdkman.io/usage\" rel=\"nofollow noreferrer\">sdkman.io/usage</a>. I use this for running local NiFI instances when I&#39;m testing."}],"answers":[{"tags":[],"owner":{"account_id":19396957,"reputation":41,"user_id":14184427,"display_name":"woodardj0303"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635970323,"creation_date":1635967704,"answer_id":69830714,"question_id":69818430,"body_markdown":"From the comments I was able to piece together the following path and saved it in `/.bash_profile`:\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\r\n```","title":"JAVA_HOME is not valid when trying to start NIFI","body":"<p>From the comments I was able to piece together the following path and saved it in <code>/.bash_profile</code>:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16942180,"reputation":66,"user_id":12253787,"display_name":"Juan Paco Hernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651647701,"creation_date":1651172452,"answer_id":72048952,"question_id":69818430,"body_markdown":"Accordingly with &quot;Data Engineering with Python. Work with massive datasets to design data models and automate data pipelines using Python&quot; from Packt Publishing (2020):\r\n\r\nyou should edit .bash_profile to include the following line so that NiFi\r\ncan find the JAVA_HOME variable:\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java11-openjdk-amd64\r\n\r\n7. Lastly, reload .bash_profile:\r\n\r\nsource .bash_profile\r\n\r\nOpen a terminal, type:\r\n\r\n    dirname $(dirname $(readlink -f $(which javac)))\r\n\r\nCopy the path, then open another terminal and type (using nano editor): \r\n\r\n    nano ~/.bash_profile\r\n\r\nThen paste the path next to JAVA_HOME variable: \r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java11-openjdk-amd64\r\n\r\nCtrl-O, Enter, Ctrl-X, to exit nano editor.\r\n\r\nLast, type, in the last terminal:\r\n\r\n    source ~/.bash_profile\r\n\r\nReboot system","title":"JAVA_HOME is not valid when trying to start NIFI","body":"<p>Accordingly with &quot;Data Engineering with Python. Work with massive datasets to design data models and automate data pipelines using Python&quot; from Packt Publishing (2020):</p>\n<p>you should edit .bash_profile to include the following line so that NiFi\ncan find the JAVA_HOME variable:</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java11-openjdk-amd64\n</code></pre>\n<ol start=\"7\">\n<li>Lastly, reload .bash_profile:</li>\n</ol>\n<p>source .bash_profile</p>\n<p>Open a terminal, type:</p>\n<pre><code>dirname $(dirname $(readlink -f $(which javac)))\n</code></pre>\n<p>Copy the path, then open another terminal and type (using nano editor):</p>\n<pre><code>nano ~/.bash_profile\n</code></pre>\n<p>Then paste the path next to JAVA_HOME variable:</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java11-openjdk-amd64\n</code></pre>\n<p>Ctrl-O, Enter, Ctrl-X, to exit nano editor.</p>\n<p>Last, type, in the last terminal:</p>\n<pre><code>source ~/.bash_profile\n</code></pre>\n<p>Reboot system</p>\n"},{"tags":[],"owner":{"account_id":27854535,"reputation":1,"user_id":21268316,"display_name":"klaxonlet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677097230,"creation_date":1677097151,"answer_id":75537765,"question_id":69818430,"body_markdown":"You have probably solved this by now but if you are still having trouble that is because there&#39;s a typo in your Java path it should be \r\n\r\n/usr/lib/jvm/java-11-openjdk-amd64   NOT \r\n\r\n/usr/lib/jvm/java11-openjdk-amd64\r\n\r\nYou can also confirm this by first going to the path. You may also need to add &quot;export JAVA_HOME=/usr/lib/jvm/java11-openjdk-amd64&quot; to nifi-env.sh.","title":"JAVA_HOME is not valid when trying to start NIFI","body":"<p>You have probably solved this by now but if you are still having trouble that is because there's a typo in your Java path it should be</p>\n<p>/usr/lib/jvm/java-11-openjdk-amd64   NOT</p>\n<p>/usr/lib/jvm/java11-openjdk-amd64</p>\n<p>You can also confirm this by first going to the path. You may also need to add &quot;export JAVA_HOME=/usr/lib/jvm/java11-openjdk-amd64&quot; to nifi-env.sh.</p>\n"}],"owner":{"account_id":19396957,"reputation":41,"user_id":14184427,"display_name":"woodardj0303"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4657,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677097230,"creation_date":1635899915,"question_id":69818430,"body_markdown":"Running on a mac. Just downloaded JAVA 1.8.0_311 in order to run nifi 1.14.0.  I am following instructions from a book  that instructs me to set the environment variable like so. \r\n\r\n```export JAVA_HOME=/usr/lib/jvm/java11-openjdk-amd64``` when I do this I get a nifi message saying the path is invalid. The book is a year old so the examples may be a little outdated. I am trying to teach myself so I have some basic questions, and nifi documentation doesn&#39;t seem to have any input for JAVA_HOME.\r\n\r\nHow do I determine what the JAVA_HOME variable is supposed to be? I have seen others mention that the variable needs to point to ```bin``` or ```jdk``` but I&#39;m not grasping why or how. \r\n\r\nAny help would be appreciated\r\n\r\n","title":"JAVA_HOME is not valid when trying to start NIFI","body":"<p>Running on a mac. Just downloaded JAVA 1.8.0_311 in order to run nifi 1.14.0.  I am following instructions from a book  that instructs me to set the environment variable like so.</p>\n<p><code>export JAVA_HOME=/usr/lib/jvm/java11-openjdk-amd64</code> when I do this I get a nifi message saying the path is invalid. The book is a year old so the examples may be a little outdated. I am trying to teach myself so I have some basic questions, and nifi documentation doesn't seem to have any input for JAVA_HOME.</p>\n<p>How do I determine what the JAVA_HOME variable is supposed to be? I have seen others mention that the variable needs to point to <code>bin</code> or <code>jdk</code> but I'm not grasping why or how.</p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","multithreading","synchronization","jvm","java-17"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1676924633,"post_id":75513584,"comment_id":133231552,"body_markdown":"It&#39;s possible that the print statements are being executed out of order.  Those aren&#39;t synchronized.  But I&#39;m still looking to see if I see any other problem.","body":"It&#39;s possible that the print statements are being executed out of order.  Those aren&#39;t synchronized.  But I&#39;m still looking to see if I see any other problem."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1676925061,"post_id":75513584,"comment_id":133231640,"body_markdown":"Without running this to test it, that&#39;s all I can see.  Your code appears to be correct.  Do you think you could ascertain if an single object is actually handed out to more than one caller without being released yet?","body":"Without running this to test it, that&#39;s all I can see.  Your code appears to be correct.  Do you think you could ascertain if an single object is actually handed out to more than one caller without being released yet?"},{"owner":{"account_id":18023786,"reputation":73,"user_id":13100320,"display_name":"davidnatro"},"score":0,"creation_date":1676925555,"post_id":75513584,"comment_id":133231752,"body_markdown":"@markspace I didn&#39;t think that the problem could be in the print statement. I will also check the number of callers right now. Thank you very much!","body":"@markspace I didn&#39;t think that the problem could be in the print statement. I will also check the number of callers right now. Thank you very much!"},{"owner":{"account_id":18023786,"reputation":73,"user_id":13100320,"display_name":"davidnatro"},"score":1,"creation_date":1676925868,"post_id":75513584,"comment_id":133231828,"body_markdown":"@markspace You&#39;re right, the problem was in the print statement. Only one thread has access to an object from pool. Thank you!","body":"@markspace You&#39;re right, the problem was in the print statement. Only one thread has access to an object from pool. Thank you!"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1676934808,"post_id":75513584,"comment_id":133233661,"body_markdown":"Glad you got it sorted (and learned something about how printing works too)!","body":"Glad you got it sorted (and learned something about how printing works too)!"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677097103,"creation_date":1676935515,"answer_id":75515089,"question_id":75513584,"body_markdown":"&gt; ... when I run the program It can be clearly seen from the output that two threads gets same object from pool\r\n\r\nThis seems to me to be a classic race condition.  Your `Client` threads call `getObjectFromPool()`, `Thread.sleep(0)`, and `returnObjectToPool(...)`.  The `sleep(0)` is in effect a no-op so it is very possible for the first thread to get and return the object to the pool before another thread calls `getObjectFromPool()`.  Also, your `println(...)` method happen after the fact which confuses the exercise.  Both of these issues make it look like multiple threads are using the same object when this is not the case.  Also, it is important to realize that `System.out` is a `PrintStream` which is a synchronized class so using it in a threaded program can affect the thread interleaving and is not recommended.  \r\n\r\nIf you want to test to that your threads safely get, work on, and return the objects then you will need to increase the sleep time.  Also, although you would never do this in a production object pool, moving the `println(...)` debug statements inside of the `synchronized` pool methods will show you what is going on with your thread pool code.\r\n\r\nLastly, for others, there are a number of good open source object pools already written including [Apache Commons Pool][1].\r\n\r\n  [1]: https://commons.apache.org/proper/commons-pool/","title":"Java method synchronization is not working as expected","body":"<blockquote>\n<p>... when I run the program It can be clearly seen from the output that two threads gets same object from pool</p>\n</blockquote>\n<p>This seems to me to be a classic race condition.  Your <code>Client</code> threads call <code>getObjectFromPool()</code>, <code>Thread.sleep(0)</code>, and <code>returnObjectToPool(...)</code>.  The <code>sleep(0)</code> is in effect a no-op so it is very possible for the first thread to get and return the object to the pool before another thread calls <code>getObjectFromPool()</code>.  Also, your <code>println(...)</code> method happen after the fact which confuses the exercise.  Both of these issues make it look like multiple threads are using the same object when this is not the case.  Also, it is important to realize that <code>System.out</code> is a <code>PrintStream</code> which is a synchronized class so using it in a threaded program can affect the thread interleaving and is not recommended.</p>\n<p>If you want to test to that your threads safely get, work on, and return the objects then you will need to increase the sleep time.  Also, although you would never do this in a production object pool, moving the <code>println(...)</code> debug statements inside of the <code>synchronized</code> pool methods will show you what is going on with your thread pool code.</p>\n<p>Lastly, for others, there are a number of good open source object pools already written including <a href=\"https://commons.apache.org/proper/commons-pool/\" rel=\"nofollow noreferrer\">Apache Commons Pool</a>.</p>\n"}],"owner":{"account_id":18023786,"reputation":73,"user_id":13100320,"display_name":"davidnatro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75515089,"answer_count":1,"score":0,"last_activity_date":1677097103,"creation_date":1676922724,"question_id":75513584,"body_markdown":"I&#39;m trying to implement object pool design pattern. I&#39;ve created the data structure as below\r\n\r\n``` java\r\npublic class ObjectPool {\r\n    private final Queue&lt;PooledObject&gt; objects;\r\n    private final List&lt;PooledObject&gt; inUseObjects;\r\n\r\n    public ObjectPool(final int poolSize) throws IllegalArgumentException {\r\n        if (poolSize &lt;= 0) {\r\n            throw new IllegalArgumentException(&quot;Invalid pool size!&quot;);\r\n        }\r\n\r\n        objects = new ArrayDeque&lt;PooledObject&gt;(poolSize);\r\n        inUseObjects = new ArrayList&lt;PooledObject&gt;(poolSize);\r\n\r\n        for (int i = 0; i &lt; poolSize; i++) {\r\n            objects.add(new PooledObject());\r\n        }\r\n    }\r\n\r\n    public synchronized PooledObject getObject() {\r\n        PooledObject object;\r\n        while ((object = objects.poll()) == null) {\r\n            try {\r\n                wait();\r\n            } catch (final InterruptedException exception) {\r\n                System.out.println(exception.getMessage());\r\n            }\r\n        }\r\n\r\n        inUseObjects.add(object);\r\n\r\n        return object;\r\n    }\r\n\r\n    public synchronized void returnObject(final PooledObject object) {\r\n        if (object == null) {\r\n            return;\r\n        }\r\n\r\n        inUseObjects.remove(object);\r\n        objects.add(object);\r\n\r\n        notifyAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\nand also the runnable client\r\n\r\n``` java\r\npublic class Client implements Runnable {\r\n    private final ObjectPool pool;\r\n\r\n    private final int id;\r\n\r\n    private static int number = 0;\r\n\r\n    public Client(final ObjectPool pool) {\r\n        this.id = ++number;\r\n        this.pool = pool;\r\n    }\r\n\r\n    private PooledObject getObjectFromPool() {\r\n        PooledObject object = pool.getObject();\r\n        System.out.println(this + &quot; gets &quot; + object);\r\n\r\n        return object;\r\n\r\n    }\r\n\r\n    private void returnObjectToPool(final PooledObject object) {\r\n        pool.returnObject(object);\r\n        System.out.println(this + &quot; returns &quot; + object);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        PooledObject object = getObjectFromPool();\r\n\r\n        try {\r\n            Thread.sleep(0);\r\n        } catch (final InterruptedException exception) {\r\n            System.out.println(exception.getMessage());\r\n        }\r\n\r\n        returnObjectToPool(object);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User #&quot; + id;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to run this code like this:\r\n``` java\r\nObjectPool pool = new ObjectPool(2);\r\n\r\nExecutorService es = Executors.newCachedThreadPool();\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    es.execute(new Thread(new Client(pool)));\r\n}\r\nes.shutdown();\r\ntry {\r\n    if (es.awaitTermination(1, TimeUnit.MINUTES)) {\r\n        System.out.println(&quot;Object pool pattern implemented!&quot;);\r\n    }\r\n} catch (InterruptedException exception) {\r\n    System.out.println(exception.getMessage());\r\n}\r\n```\r\n\r\nThe problem is that the synchronization doesn&#39;t work as expected.\r\nAs I far as I understand ```synchronized``` keyword&#39;s purpose is:\r\n*It makes it possible to synchronize other blocks on the same object, so that if you have two blocks of code that may change the state of the same object, they don&#39;t interfere with each other.*\r\nBut when I run the program It can be clearly seen from the output that two threads gets same object from pool\r\n\r\noutput:\r\n```\r\nUser #1 gets Object #1\r\nUser #2 gets Object #2\r\nUser #3 gets Object #2\r\nUser #5 gets Object #2\r\nUser #4 gets Object #1\r\nUser #3 returns Object #2\r\nUser #4 returns Object #1\r\nUser #2 returns Object #2\r\nUser #5 returns Object #2\r\nUser #1 returns Object #1\r\n```","title":"Java method synchronization is not working as expected","body":"<p>I'm trying to implement object pool design pattern. I've created the data structure as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ObjectPool {\n    private final Queue&lt;PooledObject&gt; objects;\n    private final List&lt;PooledObject&gt; inUseObjects;\n\n    public ObjectPool(final int poolSize) throws IllegalArgumentException {\n        if (poolSize &lt;= 0) {\n            throw new IllegalArgumentException(&quot;Invalid pool size!&quot;);\n        }\n\n        objects = new ArrayDeque&lt;PooledObject&gt;(poolSize);\n        inUseObjects = new ArrayList&lt;PooledObject&gt;(poolSize);\n\n        for (int i = 0; i &lt; poolSize; i++) {\n            objects.add(new PooledObject());\n        }\n    }\n\n    public synchronized PooledObject getObject() {\n        PooledObject object;\n        while ((object = objects.poll()) == null) {\n            try {\n                wait();\n            } catch (final InterruptedException exception) {\n                System.out.println(exception.getMessage());\n            }\n        }\n\n        inUseObjects.add(object);\n\n        return object;\n    }\n\n    public synchronized void returnObject(final PooledObject object) {\n        if (object == null) {\n            return;\n        }\n\n        inUseObjects.remove(object);\n        objects.add(object);\n\n        notifyAll();\n    }\n}\n\n</code></pre>\n<p>and also the runnable client</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Client implements Runnable {\n    private final ObjectPool pool;\n\n    private final int id;\n\n    private static int number = 0;\n\n    public Client(final ObjectPool pool) {\n        this.id = ++number;\n        this.pool = pool;\n    }\n\n    private PooledObject getObjectFromPool() {\n        PooledObject object = pool.getObject();\n        System.out.println(this + &quot; gets &quot; + object);\n\n        return object;\n\n    }\n\n    private void returnObjectToPool(final PooledObject object) {\n        pool.returnObject(object);\n        System.out.println(this + &quot; returns &quot; + object);\n    }\n\n    @Override\n    public void run() {\n        PooledObject object = getObjectFromPool();\n\n        try {\n            Thread.sleep(0);\n        } catch (final InterruptedException exception) {\n            System.out.println(exception.getMessage());\n        }\n\n        returnObjectToPool(object);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User #&quot; + id;\n    }\n}\n</code></pre>\n<p>I'm trying to run this code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectPool pool = new ObjectPool(2);\n\nExecutorService es = Executors.newCachedThreadPool();\nfor (int i = 0; i &lt; 5; i++) {\n    es.execute(new Thread(new Client(pool)));\n}\nes.shutdown();\ntry {\n    if (es.awaitTermination(1, TimeUnit.MINUTES)) {\n        System.out.println(&quot;Object pool pattern implemented!&quot;);\n    }\n} catch (InterruptedException exception) {\n    System.out.println(exception.getMessage());\n}\n</code></pre>\n<p>The problem is that the synchronization doesn't work as expected.\nAs I far as I understand <code>synchronized</code> keyword's purpose is:\n<em>It makes it possible to synchronize other blocks on the same object, so that if you have two blocks of code that may change the state of the same object, they don't interfere with each other.</em>\nBut when I run the program It can be clearly seen from the output that two threads gets same object from pool</p>\n<p>output:</p>\n<pre><code>User #1 gets Object #1\nUser #2 gets Object #2\nUser #3 gets Object #2\nUser #5 gets Object #2\nUser #4 gets Object #1\nUser #3 returns Object #2\nUser #4 returns Object #1\nUser #2 returns Object #2\nUser #5 returns Object #2\nUser #1 returns Object #1\n</code></pre>\n"},{"tags":["java","docker","gradle","jar"],"comments":[{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1586373176,"post_id":61108021,"comment_id":108108084,"body_markdown":"`The issue is that currently I have to run gradle clean build on my host machine first to create the jar file on my local machine at path` - why is this an issue?","body":"<code>The issue is that currently I have to run gradle clean build on my host machine first to create the jar file on my local machine at path</code> - why is this an issue?"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1586373245,"post_id":61108021,"comment_id":108108113,"body_markdown":"Note that you can use a Gradle plugin to build docker images. There are a few out there, for example [com.liferay.app.docker](https://plugins.gradle.org/plugin/com.liferay.app.docker).","body":"Note that you can use a Gradle plugin to build docker images. There are a few out there, for example <a href=\"https://plugins.gradle.org/plugin/com.liferay.app.docker\" rel=\"nofollow noreferrer\">com.liferay.app.docker</a>."},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1586373289,"post_id":61108021,"comment_id":108108134,"body_markdown":"Because Ideally I would like this step in the docker container as it is one less command for a user to carry out before running my application. Is this possible?","body":"Because Ideally I would like this step in the docker container as it is one less command for a user to carry out before running my application. Is this possible?"},{"owner":{"account_id":3271217,"reputation":1033,"user_id":2754562,"accept_rate":43,"display_name":"aiqency"},"score":0,"creation_date":1586374324,"post_id":61108021,"comment_id":108108632,"body_markdown":"It&#39;s is not clear what you want to do. If the users will only have the docker image there is no point to have them build the project instead of running the jar file. If the users can change the project it mean they will have it installed in their machine.  In this case use  a ```docker volumes```","body":"It&#39;s is not clear what you want to do. If the users will only have the docker image there is no point to have them build the project instead of running the jar file. If the users can change the project it mean they will have it installed in their machine.  In this case use  a <code>docker volumes</code>"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1586374495,"post_id":61108021,"comment_id":108108706,"body_markdown":"`Is this possible?` - look above - there are plugins that will make this a one-step operation.","body":"<code>Is this possible?</code> - look above - there are plugins that will make this a one-step operation."},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1586374636,"post_id":61108021,"comment_id":108108772,"body_markdown":"@aiqency - The user will clone my project from github - I then want them to be able to run the docker container without having to build the project with gradle first - I.e. I want the docker file to do the build and copy the jar into the container. I have edited my question to highlight this.","body":"@aiqency - The user will clone my project from github - I then want them to be able to run the docker container without having to build the project with gradle first - I.e. I want the docker file to do the build and copy the jar into the container. I have edited my question to highlight this."},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1586374886,"post_id":61108021,"comment_id":108108895,"body_markdown":"But then they have to build the image first, don&#39;t they? So what&#39;s the difference - they&#39;ll have to do SOMETHING this way or another.","body":"But then they have to build the image first, don&#39;t they? So what&#39;s the difference - they&#39;ll have to do SOMETHING this way or another."},{"owner":{"account_id":12601401,"reputation":13828,"user_id":9164010,"display_name":"ErikMD"},"score":0,"creation_date":1586374900,"post_id":61108021,"comment_id":108108901,"body_markdown":"Indeed, building the project directly in the `docker build` step yields a bit more reproducibility (and does not require having a complete toolchain on the host). To implement this, you could try for instance to rely on a standard maven-based `Dockerfile` such as that of this answer [How to convert a Spring-Boot web service into a Docker image](https://stackoverflow.com/a/54299199), and replace `mvn` commands with gradle ones?","body":"Indeed, building the project directly in the <code>docker build</code> step yields a bit more reproducibility (and does not require having a complete toolchain on the host). To implement this, you could try for instance to rely on a standard maven-based <code>Dockerfile</code> such as that of this answer <a href=\"https://stackoverflow.com/a/54299199\">How to convert a Spring-Boot web service into a Docker image</a>, and replace <code>mvn</code> commands with gradle ones?"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1586375147,"post_id":61108021,"comment_id":108109006,"body_markdown":"Docker image is just another artifact produced by your project. Why build it differently than other artifacts (jar package for example)?","body":"Docker image is just another artifact produced by your project. Why build it differently than other artifacts (jar package for example)?"},{"owner":{"account_id":3271217,"reputation":1033,"user_id":2754562,"accept_rate":43,"display_name":"aiqency"},"score":0,"creation_date":1586375613,"post_id":61108021,"comment_id":108109232,"body_markdown":"I agree with jannis If the users are devs and you want them to run the project in a container just let them use volumes","body":"I agree with jannis If the users are devs and you want them to run the project in a container just let them use volumes"},{"owner":{"account_id":12601401,"reputation":13828,"user_id":9164010,"display_name":"ErikMD"},"score":0,"creation_date":1586375616,"post_id":61108021,"comment_id":108109233,"body_markdown":"@jannis two possible reasons: (1) to have a comprehensive build system within a container, e.g. for CI purposes ; (2) for reproducibility, see e.g. [this paragraph of a docker.com article](https://www.docker.com/blog/intro-guide-to-dockerfile-best-practices/#h.hsy4wrgavnlq)","body":"@jannis two possible reasons: (1) to have a comprehensive build system within a container, e.g. for CI purposes ; (2) for reproducibility, see e.g. <a href=\"https://www.docker.com/blog/intro-guide-to-dockerfile-best-practices/#h.hsy4wrgavnlq\" rel=\"nofollow noreferrer\">this paragraph of a docker.com article</a>"},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1586384418,"post_id":61108021,"comment_id":108112922,"body_markdown":"@ErikMD thanks,How can I reproduce your maven answer in gradle? this is what I am looking for I think","body":"@ErikMD thanks,How can I reproduce your maven answer in gradle? this is what I am looking for I think"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":1,"creation_date":1586468316,"post_id":61108021,"comment_id":108147239,"body_markdown":"https://codefresh.io/docs/docs/learn-by-example/java/gradle/","body":"<a href=\"https://codefresh.io/docs/docs/learn-by-example/java/gradle/\" rel=\"nofollow noreferrer\">codefresh.io/docs/docs/learn-by-example/java/gradle</a>"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":1,"creation_date":1586468495,"post_id":61108021,"comment_id":108147302,"body_markdown":"https://medium.com/@sairamkrish/docker-for-spring-boot-gradle-java-micro-service-done-the-right-way-2f46231dbc06","body":"<a href=\"https://medium.com/@sairamkrish/docker-for-spring-boot-gradle-java-micro-service-done-the-right-way-2f46231dbc06\" rel=\"nofollow noreferrer\">medium.com/@sairamkrish/&hellip;</a>"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1586468566,"post_id":61108021,"comment_id":108147334,"body_markdown":"&quot;build gradle within docker multistage spring-boot&quot; is the phrase I used to find these links","body":"&quot;build gradle within docker multistage spring-boot&quot; is the phrase I used to find these links"},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1586471547,"post_id":61108021,"comment_id":108148366,"body_markdown":"@jannis thanks - feel free to answer the question or else I can add my answer as I have found a solution using that medium article you linked","body":"@jannis thanks - feel free to answer the question or else I can add my answer as I have found a solution using that medium article you linked"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1586471616,"post_id":61108021,"comment_id":108148383,"body_markdown":"`or else I can add my answer` please do.","body":"<code>or else I can add my answer</code> please do."},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1586471794,"post_id":61108021,"comment_id":108148437,"body_markdown":"I have added my answer now - feel free to add any feedback on my docker file as I not sure it is 100% optimal.","body":"I have added my answer now - feel free to add any feedback on my docker file as I not sure it is 100% optimal."}],"answers":[{"comments":[{"owner":{"account_id":4719785,"reputation":316,"user_id":3819891,"display_name":"Nicolas"},"score":1,"creation_date":1613484944,"post_id":61131308,"comment_id":117084777,"body_markdown":"What&#39;s the use of running gradle build twice ?","body":"What&#39;s the use of running gradle build twice ?"},{"owner":{"account_id":57633,"reputation":543,"user_id":172666,"display_name":"ultrafez"},"score":6,"creation_date":1614937692,"post_id":61131308,"comment_id":117543449,"body_markdown":"I suspect there isn&#39;t one - there are some other lines in this Dockerfile that don&#39;t look quite right either: &quot;COPY . .&quot;, copying the project source with the chown option and then chowning it again, copying gradle from the original location in the image - these things make me suspect that running gradle twice is an oversight.","body":"I suspect there isn&#39;t one - there are some other lines in this Dockerfile that don&#39;t look quite right either: &quot;COPY . .&quot;, copying the project source with the chown option and then chowning it again, copying gradle from the original location in the image - these things make me suspect that running gradle twice is an oversight."},{"owner":{"account_id":7570352,"reputation":324,"user_id":5744481,"accept_rate":100,"display_name":"Ian Pringle"},"score":3,"creation_date":1638292904,"post_id":61131308,"comment_id":124047960,"body_markdown":"I agree some of this isn&#39;t needed, but I _think_ the `COPY . .` following the build is caching the dependencies. Copy the gradle files and build -- which will fail because the src is missing. Then copy over everything else and build again, but now the deps are in a previous step so changes to src won&#39;t mean redownloading/buidling dependencies.","body":"I agree some of this isn&#39;t needed, but I <i>think</i> the <code>COPY . .</code> following the build is caching the dependencies. Copy the gradle files and build -- which will fail because the src is missing. Then copy over everything else and build again, but now the deps are in a previous step so changes to src won&#39;t mean redownloading/buidling dependencies."},{"owner":{"account_id":1351591,"reputation":2037,"user_id":1291049,"accept_rate":76,"display_name":"mishka"},"score":0,"creation_date":1657204964,"post_id":61131308,"comment_id":128760135,"body_markdown":"you restart docker containers each time you do a build. do you lose gradle daemon optimisations compared to a gradle running on a host machine? do you care?","body":"you restart docker containers each time you do a build. do you lose gradle daemon optimisations compared to a gradle running on a host machine? do you care?"}],"tags":[],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":4,"down_vote_count":1,"up_vote_count":31,"is_accepted":true,"score":30,"last_activity_date":1607706902,"creation_date":1586471745,"answer_id":61131308,"question_id":61108021,"body_markdown":"After reading [this article](https://docs.docker.com/develop/develop-images/multistage-build/) I have been able to solve this using a Multi Stage Docker Build. Please see the Docker file below:\r\n```bash\r\n# using multistage docker build\r\n# ref: https://docs.docker.com/develop/develop-images/multistage-build/\r\n    \r\n# temp container to build using gradle\r\nFROM gradle:5.3.0-jdk-alpine AS TEMP_BUILD_IMAGE\r\nENV APP_HOME=/usr/app/\r\nWORKDIR $APP_HOME\r\nCOPY build.gradle settings.gradle $APP_HOME\r\n  \r\nCOPY gradle $APP_HOME/gradle\r\nCOPY --chown=gradle:gradle . /home/gradle/src\r\nUSER root\r\nRUN chown -R gradle /home/gradle/src\r\n    \r\nRUN gradle build || return 0\r\nCOPY . .\r\nRUN gradle clean build\r\n    \r\n# actual container\r\nFROM adoptopenjdk/openjdk11:alpine-jre\r\nENV ARTIFACT_NAME=pokerstats-0.0.1-SNAPSHOT.jar\r\nENV APP_HOME=/usr/app/\r\n    \r\nWORKDIR $APP_HOME\r\nCOPY --from=TEMP_BUILD_IMAGE $APP_HOME/build/libs/$ARTIFACT_NAME .\r\n    \r\nEXPOSE 8080\r\nENTRYPOINT exec java -jar ${ARTIFACT_NAME}\r\n```","title":"Gradle and Docker: How to run a Gradle build within Docker container?","body":"<p>After reading <a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"noreferrer\">this article</a> I have been able to solve this using a Multi Stage Docker Build. Please see the Docker file below:</p>\n<pre class=\"lang-sh prettyprint-override\"><code># using multistage docker build\n# ref: https://docs.docker.com/develop/develop-images/multistage-build/\n    \n# temp container to build using gradle\nFROM gradle:5.3.0-jdk-alpine AS TEMP_BUILD_IMAGE\nENV APP_HOME=/usr/app/\nWORKDIR $APP_HOME\nCOPY build.gradle settings.gradle $APP_HOME\n  \nCOPY gradle $APP_HOME/gradle\nCOPY --chown=gradle:gradle . /home/gradle/src\nUSER root\nRUN chown -R gradle /home/gradle/src\n    \nRUN gradle build || return 0\nCOPY . .\nRUN gradle clean build\n    \n# actual container\nFROM adoptopenjdk/openjdk11:alpine-jre\nENV ARTIFACT_NAME=pokerstats-0.0.1-SNAPSHOT.jar\nENV APP_HOME=/usr/app/\n    \nWORKDIR $APP_HOME\nCOPY --from=TEMP_BUILD_IMAGE $APP_HOME/build/libs/$ARTIFACT_NAME .\n    \nEXPOSE 8080\nENTRYPOINT exec java -jar ${ARTIFACT_NAME}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1669729857,"post_id":74582291,"comment_id":131705225,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74582291/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":458433,"reputation":11,"user_id":858318,"display_name":"Ariel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669759489,"creation_date":1669466901,"answer_id":74582291,"question_id":61108021,"body_markdown":"# Build stage\r\n```\r\nFROM gradle:jdk11-alpine AS BUILD_STAGE\r\nCOPY --chown=gradle:gradle . /home/gradle\r\nRUN gradle build || return 1\r\n```\r\n# Package stage\r\n```\r\nFROM openjdk:11.0.11-jre\r\nENV ARTIFACT_NAME=app.jar\r\nENV APP_HOME=/app\r\nCOPY --from=BUILD_STAGE /home/gradle/build/libs/$ARTIFACT_NAME $APP_HOME/\r\nWORKDIR $APP_HOME\r\nRUN groupadd -r -g 1000 user &amp;&amp; useradd -r -g user -u 1000 user\r\nRUN chown -R user:user /app\r\nUSER user\r\nENTRYPOINT exec java -jar ${ARTIFACT_NAME}\r\n```","title":"Gradle and Docker: How to run a Gradle build within Docker container?","body":"<h1>Build stage</h1>\n<pre><code>FROM gradle:jdk11-alpine AS BUILD_STAGE\nCOPY --chown=gradle:gradle . /home/gradle\nRUN gradle build || return 1\n</code></pre>\n<h1>Package stage</h1>\n<pre><code>FROM openjdk:11.0.11-jre\nENV ARTIFACT_NAME=app.jar\nENV APP_HOME=/app\nCOPY --from=BUILD_STAGE /home/gradle/build/libs/$ARTIFACT_NAME $APP_HOME/\nWORKDIR $APP_HOME\nRUN groupadd -r -g 1000 user &amp;&amp; useradd -r -g user -u 1000 user\nRUN chown -R user:user /app\nUSER user\nENTRYPOINT exec java -jar ${ARTIFACT_NAME}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15839828,"reputation":1341,"user_id":11428614,"display_name":"Abdelsalam Megahed"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677096914,"creation_date":1672318378,"answer_id":74951353,"question_id":61108021,"body_markdown":"Mutli stage build. Be sure to have `build.gradle` and `settings.gradle` files included in your project directory, I tried to make it as clean and concise as possible: \r\n\r\n&lt;!-- begin snippet --&gt;\r\n    #Build stage\r\n\r\n    FROM gradle:latest AS BUILD\r\n    WORKDIR /usr/app/\r\n    COPY . . \r\n    RUN gradle build\r\n\r\n    # Package stage\r\n\r\n    FROM openjdk:latest\r\n    ENV JAR_NAME=app.jar\r\n    ENV APP_HOME=/usr/app/\r\n    WORKDIR $APP_HOME\r\n    COPY --from=BUILD $APP_HOME .\r\n    EXPOSE 8080\r\n    ENTRYPOINT exec java -jar $APP_HOME/build/libs/$JAR_NAME  \r\n&lt;!-- end snippet --&gt;\r\n\r\nMake sure to change JAR_NAME variable to your generated jar file name.\r\n\r\n","title":"Gradle and Docker: How to run a Gradle build within Docker container?","body":"<p>Mutli stage build. Be sure to have <code>build.gradle</code> and <code>settings.gradle</code> files included in your project directory, I tried to make it as clean and concise as possible:</p>\n\n<pre><code>#Build stage\n\nFROM gradle:latest AS BUILD\nWORKDIR /usr/app/\nCOPY . . \nRUN gradle build\n\n# Package stage\n\nFROM openjdk:latest\nENV JAR_NAME=app.jar\nENV APP_HOME=/usr/app/\nWORKDIR $APP_HOME\nCOPY --from=BUILD $APP_HOME .\nEXPOSE 8080\nENTRYPOINT exec java -jar $APP_HOME/build/libs/$JAR_NAME  \n</code></pre>\n\n<p>Make sure to change JAR_NAME variable to your generated jar file name.</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56593,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":61131308,"answer_count":3,"score":18,"last_activity_date":1677096914,"creation_date":1586372166,"question_id":61108021,"body_markdown":"I have the following docker file that runs a `spring boot application`:    \r\n\r\n\r\n\r\n    # For Java 11, try this\r\n    FROM adoptopenjdk/openjdk11:alpine-jre\r\n    \r\n    #\r\n    ARG JAR_FILE=/build/libs/pokerstats-0.0.1-SNAPSHOT.jar\r\n    \r\n    #\r\n    WORKDIR /opt/app\r\n    \r\n    #\r\n    COPY ${JAR_FILE} app.jar\r\n    \r\n    #\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\nThe issue is that currently I have to run `gradle clean build` on my host machine first to create the jar file on my local machine at path: \r\n\r\n    /build/libs/pokerstats-0.0.1-SNAPSHOT.jar\r\n\r\nHow can I put this `gradle clean build` into my docker file so that the build step is done *inside* the container?\r\n\r\n**edit:**\r\n\r\nI want the steps for a user to be:\r\n\r\n1. Clone my project from `github`\r\n2. run `docker build -t pokerstats .` - which will do the gradle build\r\n3. run docker container run -d -p 8080:8080 pokerstats\r\n\r\nThe user will clone my project from github - I then want them to be able to run the docker container without having to build the project with gradle first - I.e. I want the docker file to do the build and copy the jar into the container.\r\n","title":"Gradle and Docker: How to run a Gradle build within Docker container?","body":"<p>I have the following docker file that runs a <code>spring boot application</code>:</p>\n<pre><code># For Java 11, try this\nFROM adoptopenjdk/openjdk11:alpine-jre\n\n#\nARG JAR_FILE=/build/libs/pokerstats-0.0.1-SNAPSHOT.jar\n\n#\nWORKDIR /opt/app\n\n#\nCOPY ${JAR_FILE} app.jar\n\n#\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>The issue is that currently I have to run <code>gradle clean build</code> on my host machine first to create the jar file on my local machine at path:</p>\n<pre><code>/build/libs/pokerstats-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>How can I put this <code>gradle clean build</code> into my docker file so that the build step is done <em>inside</em> the container?</p>\n<p><strong>edit:</strong></p>\n<p>I want the steps for a user to be:</p>\n<ol>\n<li>Clone my project from <code>github</code></li>\n<li>run <code>docker build -t pokerstats .</code> - which will do the gradle build</li>\n<li>run docker container run -d -p 8080:8080 pokerstats</li>\n</ol>\n<p>The user will clone my project from github - I then want them to be able to run the docker container without having to build the project with gradle first - I.e. I want the docker file to do the build and copy the jar into the container.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677096543,"creation_date":1677096543,"answer_id":75537683,"question_id":75537385,"body_markdown":"I had to re-write it as follows per this thread: https://stackoverflow.com/a/73791460/1005607\r\n\r\n - `spring.profiles` has to be replaced with\r\n   `spring.config.activate.on-profile` \r\n - if `spring.profiles.active`\r\n   exists (this is still allowed), it cannot coexist with any\r\n   `spring.config.activate.on-profile`\r\n\r\n\r\n \r\n\r\n       spring:\r\n          profiles.active: dev\r\n          rails:\r\n            url: ..\r\n            userIdentifier: ..\r\n            service: FILESERVICE\r\n            methodInBody: POST\r\n            uri: /api/external-interfaces/file-locations\r\n           \r\n        ---\r\n        spring:\r\n          config:\r\n             activate:\r\n                 on-profile: stage\r\n          rails:\r\n            url: ..\r\n            userIdentifier: ..\r\n            service: FILESERVICE\r\n            methodInBody: POST\r\n            uri: /api/external-interfaces/file-locations\r\n          jackson:\r\n            serialization:\r\n              indent-output: true\r\n        ---\r\n        spring:\r\n          config:\r\n             activate:\r\n                 on-profile: prod\r\n          rails:\r\n            url: ..\r\n            service: FILESERVICE\r\n            methodInBody: POST\r\n            uri: /api/external-interfaces/file-locations","title":"Spring Boot: Property &#39;spring.profiles&#39; imported from location ... is invalid and should be replaced with &#39;spring.config.activate.on-profile&#39;","body":"<p>I had to re-write it as follows per this thread: <a href=\"https://stackoverflow.com/a/73791460/1005607\">https://stackoverflow.com/a/73791460/1005607</a></p>\n<ul>\n<li><p><code>spring.profiles</code> has to be replaced with\n<code>spring.config.activate.on-profile</code></p>\n</li>\n<li><p>if <code>spring.profiles.active</code>\nexists (this is still allowed), it cannot coexist with any\n<code>spring.config.activate.on-profile</code></p>\n<pre><code>spring:\n   profiles.active: dev\n   rails:\n     url: ..\n     userIdentifier: ..\n     service: FILESERVICE\n     methodInBody: POST\n     uri: /api/external-interfaces/file-locations\n\n ---\n spring:\n   config:\n      activate:\n          on-profile: stage\n   rails:\n     url: ..\n     userIdentifier: ..\n     service: FILESERVICE\n     methodInBody: POST\n     uri: /api/external-interfaces/file-locations\n   jackson:\n     serialization:\n       indent-output: true\n ---\n spring:\n   config:\n      activate:\n          on-profile: prod\n   rails:\n     url: ..\n     service: FILESERVICE\n     methodInBody: POST\n     uri: /api/external-interfaces/file-locations\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75537683,"answer_count":1,"score":1,"last_activity_date":1677096543,"creation_date":1677094435,"question_id":75537385,"body_markdown":"I just upgraded the Spring Boot Starter Parent dependency **2.7.5 --&gt; 3.0.2**.\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\nNote that the application.yml already has the following **Legacy Processing** mode setting, which should prevent the error below:\r\n\r\n    spring.config.use-legacy-processing: true\r\n\r\nThere are different profiles defined in application.yml as follows:\r\n\r\n    spring:\r\n      profiles.active: dev\r\n      profiles: dev\r\n      rails:\r\n        url: ...\r\n        userIdentifier: ...\r\n        service: FILESERVICE\r\n        methodInBody: POST\r\n        uri: /api/external-interfaces/file-locations\r\n       \r\n    ---\r\n    spring:\r\n      profiles: stage\r\n      rails:\r\n        url: ...\r\n        userIdentifier: ...\r\n        service: FILESERVICE\r\n        methodInBody: POST\r\n        uri: /api/external-interfaces/file-locations\r\n      jackson:\r\n        serialization:\r\n          indent-output: true\r\n    ---\r\n    spring:\r\n      profiles: prod\r\n      rails:\r\n        url: ...\r\n        userIdentifier: ...\r\n        service: FILESERVICE\r\n        methodInBody: POST\r\n        uri: /api/external-interfaces/file-locations\r\n\r\nError on `mvn spring-boot:run`:\r\n\r\n&gt;**org.springframework.boot.context.config.InvalidConfigDataPropertyException: Property &#39;spring.profiles&#39; imported from location &#39;class path resource [application.yml]&#39; is invalid and should be replaced with &#39;spring.config.activate.on-profile&#39; [origin: class path resource [application.yml] - 41:13]**\r\n\r\nDo I just need to replace all 3 occurrences of `profiles:` with `spring.config.activate.on-profile:` ?","title":"Spring Boot: Property &#39;spring.profiles&#39; imported from location ... is invalid and should be replaced with &#39;spring.config.activate.on-profile&#39;","body":"<p>I just upgraded the Spring Boot Starter Parent dependency <strong>2.7.5 --&gt; 3.0.2</strong>.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Note that the application.yml already has the following <strong>Legacy Processing</strong> mode setting, which should prevent the error below:</p>\n<pre><code>spring.config.use-legacy-processing: true\n</code></pre>\n<p>There are different profiles defined in application.yml as follows:</p>\n<pre><code>spring:\n  profiles.active: dev\n  profiles: dev\n  rails:\n    url: ...\n    userIdentifier: ...\n    service: FILESERVICE\n    methodInBody: POST\n    uri: /api/external-interfaces/file-locations\n   \n---\nspring:\n  profiles: stage\n  rails:\n    url: ...\n    userIdentifier: ...\n    service: FILESERVICE\n    methodInBody: POST\n    uri: /api/external-interfaces/file-locations\n  jackson:\n    serialization:\n      indent-output: true\n---\nspring:\n  profiles: prod\n  rails:\n    url: ...\n    userIdentifier: ...\n    service: FILESERVICE\n    methodInBody: POST\n    uri: /api/external-interfaces/file-locations\n</code></pre>\n<p>Error on <code>mvn spring-boot:run</code>:</p>\n<blockquote>\n<p><strong>org.springframework.boot.context.config.InvalidConfigDataPropertyException: Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 41:13]</strong></p>\n</blockquote>\n<p>Do I just need to replace all 3 occurrences of <code>profiles:</code> with <code>spring.config.activate.on-profile:</code> ?</p>\n"},{"tags":["java","spring-boot","drools","kie"],"comments":[{"owner":{"account_id":168674,"reputation":307,"user_id":4563866,"display_name":"Tibor Zim&#225;nyi"},"score":0,"creation_date":1677138199,"post_id":75537658,"comment_id":133279402,"body_markdown":"It depends on multiple factors. E.g. if you use executable model (which would be good), it code generates classes based on your DRL files. If you take a look into your kjar (it is basically a zip file), you should be able to see what is inside.","body":"It depends on multiple factors. E.g. if you use executable model (which would be good), it code generates classes based on your DRL files. If you take a look into your kjar (it is basically a zip file), you should be able to see what is inside."},{"owner":{"account_id":27622416,"reputation":13,"user_id":21083142,"display_name":"davidoh9"},"score":0,"creation_date":1677140288,"post_id":75537658,"comment_id":133279852,"body_markdown":"Hey @TiborZim&#225;nyi, greatly appreciate the response! :) What do we mean by &quot;executable model&quot;?\n\nWhen I&#39;m checking what is the HashMap there is constructed of, it seems to be a lot of random modules and actual code pieces. The fact that the retained value remains always the same makes me think it&#39;s just the size of the packaged generated class - as you mentioned.","body":"Hey @TiborZim&#225;nyi, greatly appreciate the response! :) What do we mean by &quot;executable model&quot;?  When I&#39;m checking what is the HashMap there is constructed of, it seems to be a lot of random modules and actual code pieces. The fact that the retained value remains always the same makes me think it&#39;s just the size of the packaged generated class - as you mentioned."},{"owner":{"account_id":27622416,"reputation":13,"user_id":21083142,"display_name":"davidoh9"},"score":0,"creation_date":1677140712,"post_id":75537658,"comment_id":133279954,"body_markdown":"And another one, when building the project via Intellij (using Maven), would the KJAR be included in the target directory? cause I can&#39;t seem to find it","body":"And another one, when building the project via Intellij (using Maven), would the KJAR be included in the target directory? cause I can&#39;t seem to find it"},{"owner":{"account_id":168674,"reputation":307,"user_id":4563866,"display_name":"Tibor Zim&#225;nyi"},"score":1,"creation_date":1677164485,"post_id":75537658,"comment_id":133287198,"body_markdown":"To better understand what the executable model is, I recommend reading this blog. I know it is a bit older now, but the concepts are still relevant. https://blog.kie.org/2018/02/the-drools-executable-model-is-alive.html. For the KJar, yes I think it should be in the target directory. It is a normal Maven project, just with different packaging specified to Maven.","body":"To better understand what the executable model is, I recommend reading this blog. I know it is a bit older now, but the concepts are still relevant. <a href=\"https://blog.kie.org/2018/02/the-drools-executable-model-is-alive.html\" rel=\"nofollow noreferrer\">blog.kie.org/2018/02/the-drools-executable-model-is-alive.ht&zwnj;&#8203;ml</a>. For the KJar, yes I think it should be in the target directory. It is a normal Maven project, just with different packaging specified to Maven."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1677275751,"post_id":75537658,"comment_id":133312676,"body_markdown":"The rules are held in memory after being compiled and loaded, I&#39;m not sure why you&#39;re surprised to see that there&#39;s an increase in memory usage when you add data to memory.","body":"The rules are held in memory after being compiled and loaded, I&#39;m not sure why you&#39;re surprised to see that there&#39;s an increase in memory usage when you add data to memory."}],"owner":{"account_id":27622416,"reputation":13,"user_id":21083142,"display_name":"davidoh9"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677096383,"creation_date":1677096383,"question_id":75537658,"body_markdown":"We&#39;re trying to integrate Drools in my company, in a Kafkastreams Spring Boot based application. Drools are applied using a stateless session and are fired using the .execute() method. When profiling the application we noticed a high retained value in the ZipKieModule and more specifically in the zipEntries (some of them are modules like Guava, some of them are parts of the payload we pass). I&#39;m not quite sure whether the high value is normal, but it seems to be all in a similar range across our different deployments.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/3QiUd.png)](https://i.stack.imgur.com/3QiUd.png)\r\n\r\nKind of clueless in how to debug this further and would appreciate if anyone believes this is normal or what else can be done to investigate the issue further.\r\n\r\nThanks!\r\n\r\nTried to produce a heap dump, tried to investigate logs, tried to check code for any unclosed session, made sure only one session is being passed.","title":"Drools ZipKieModule Extremely High Retained Heap Value","body":"<p>We're trying to integrate Drools in my company, in a Kafkastreams Spring Boot based application. Drools are applied using a stateless session and are fired using the .execute() method. When profiling the application we noticed a high retained value in the ZipKieModule and more specifically in the zipEntries (some of them are modules like Guava, some of them are parts of the payload we pass). I'm not quite sure whether the high value is normal, but it seems to be all in a similar range across our different deployments.</p>\n<p><a href=\"https://i.stack.imgur.com/3QiUd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3QiUd.png\" alt=\"enter image description here\" /></a></p>\n<p>Kind of clueless in how to debug this further and would appreciate if anyone believes this is normal or what else can be done to investigate the issue further.</p>\n<p>Thanks!</p>\n<p>Tried to produce a heap dump, tried to investigate logs, tried to check code for any unclosed session, made sure only one session is being passed.</p>\n"},{"tags":["java","android"],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677095997,"creation_date":1677095577,"question_id":75537548,"body_markdown":"Im creating some file manager and within a fragment that shows image and description i call another fragment for choosing style (icon) of preview in the system.\r\n\r\nSo, from the main fragment i call the creation of second fragment where my previews are stored.\r\n\r\nNow i need to return from this fragment while the needed icon is clicked by user.\r\n\r\nI know that (code from main fragment)\r\n\r\n```\r\n        builder.setView(view);\r\n        builder.setPositiveButton(&quot;A1&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        ((MainActivity) getActivity()).okClicked2();\r\n                    }\r\n                })\r\n                .setNeutralButton(&quot;B1&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        ((MainActivity) getActivity()).okClicked();\r\n                    }\r\n                })\r\n                .setNegativeButton(&quot;C1&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                       \r\n                    }\r\n                });\r\n```\r\nThese 3 buttons are lead to `((MainActivity) getActivity()).my_func();`. They close the fragment and... calls the function from MainActivity, and not from the previous fragment. \r\n\r\nIn general i need to do the next:\r\nFrom fragment &quot;Styles&quot; catch onClick from Btn (which represents different styles and made programmatically), close the fragment and return information to fragment &quot;Edit item&quot;.  \r\n\r\n And in general, how to replace .setPositiveButton etc. with custom buttons that do the same?\r\n\r\nUPDATE:\r\n\r\nThe fragment creation code:\r\n\r\n```\r\nstyle.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                MyDialogFragment4 myDialogFragment = new MyDialogFragment4();\r\n                FragmentManager manager = getParentFragmentManager();\r\n\r\n                FragmentTransaction transaction = manager.beginTransaction();\r\n                myDialogFragment.show(transaction, &quot;dialog&quot;);}\r\n        });\r\n```\r\n\r\nI would love to show the code from styles fragment, but there is no one.. just empty onClick listener.\r\n","title":"Fragment to close onClick and return to previous fragment while custom button is clicked","body":"<p>Im creating some file manager and within a fragment that shows image and description i call another fragment for choosing style (icon) of preview in the system.</p>\n<p>So, from the main fragment i call the creation of second fragment where my previews are stored.</p>\n<p>Now i need to return from this fragment while the needed icon is clicked by user.</p>\n<p>I know that (code from main fragment)</p>\n<pre><code>        builder.setView(view);\n        builder.setPositiveButton(&quot;A1&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        ((MainActivity) getActivity()).okClicked2();\n                    }\n                })\n                .setNeutralButton(&quot;B1&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        ((MainActivity) getActivity()).okClicked();\n                    }\n                })\n                .setNegativeButton(&quot;C1&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                       \n                    }\n                });\n</code></pre>\n<p>These 3 buttons are lead to <code>((MainActivity) getActivity()).my_func();</code>. They close the fragment and... calls the function from MainActivity, and not from the previous fragment.</p>\n<p>In general i need to do the next:\nFrom fragment &quot;Styles&quot; catch onClick from Btn (which represents different styles and made programmatically), close the fragment and return information to fragment &quot;Edit item&quot;.</p>\n<p>And in general, how to replace .setPositiveButton etc. with custom buttons that do the same?</p>\n<p>UPDATE:</p>\n<p>The fragment creation code:</p>\n<pre><code>style.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n                MyDialogFragment4 myDialogFragment = new MyDialogFragment4();\n                FragmentManager manager = getParentFragmentManager();\n\n                FragmentTransaction transaction = manager.beginTransaction();\n                myDialogFragment.show(transaction, &quot;dialog&quot;);}\n        });\n</code></pre>\n<p>I would love to show the code from styles fragment, but there is no one.. just empty onClick listener.</p>\n"},{"tags":["java","datadog","micrometer","statsd"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677095794,"creation_date":1677095794,"answer_id":75537581,"question_id":73589046,"body_markdown":"&gt;I am using Micrometer 1.9.0 and Spring boot 4.2.16 \r\n\r\nI&#39;m pretty sure you don&#39;t, the highest version of Boot is 3.0.2 at this very moment and it was 2.7.x when you wrote this.\r\n\r\n&gt;What could be causing the sparse output of data?\r\n\r\nI guess sparse traffic. But please try two things:\r\n1. If you use a Java agent, please try to remove it and check again\r\n2. Check `/actuator/metrics` endpoint: if you see the data there, it might be something over the network that drops the data (e.g.: UDP is not very good for this)","title":"How to get Micrometer to output all custom metrics","body":"<blockquote>\n<p>I am using Micrometer 1.9.0 and Spring boot 4.2.16</p>\n</blockquote>\n<p>I'm pretty sure you don't, the highest version of Boot is 3.0.2 at this very moment and it was 2.7.x when you wrote this.</p>\n<blockquote>\n<p>What could be causing the sparse output of data?</p>\n</blockquote>\n<p>I guess sparse traffic. But please try two things:</p>\n<ol>\n<li>If you use a Java agent, please try to remove it and check again</li>\n<li>Check <code>/actuator/metrics</code> endpoint: if you see the data there, it might be something over the network that drops the data (e.g.: UDP is not very good for this)</li>\n</ol>\n"}],"owner":{"account_id":3387473,"reputation":2354,"user_id":2843151,"accept_rate":89,"display_name":"bikeman868"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677095794,"creation_date":1662167587,"question_id":73589046,"body_markdown":"I am using Micrometer 1.9.0 and Spring boot 4.2.16 to report metrics to DataDog over StatsD. Some metrics are showing up, but very few. Using the Metrics Explorer in DataDog, it&#39;s very hard to find any metrics at all because they are so scarce.\r\n\r\nTo test this locally, I started up https://hub.docker.com/r/jonmorehouse/dogstatsd-local/dockerfile/ and it does display all of the standard metrics provided by Micrometer, and very occasionally displays one of my custom metrics.\r\n\r\nI have set breakpoints and verified that my `Counter` instances are being incremented on every request to my application, but for some reason very few metrics are written to StatsD.\r\n\r\nAll of my metric reporting is encapsulated in a class called `Metrics` which is autowired into controllers etc. The `Metrics` class looks like this:\r\n\r\n```java\r\npackage com.****.metrics;\r\n\r\nimport com.****.commons.metrics.MetricId;\r\nimport com.****.commons.metrics.MetricTagName;\r\nimport com.****.commons.metrics.MetricTagValue;\r\nimport io.micrometer.core.instrument.Counter;\r\nimport io.micrometer.core.instrument.DistributionSummary;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport io.micrometer.core.instrument.Timer;\r\nimport java.util.concurrent.TimeUnit;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Metrics {\r\n\r\n  private final MeterRegistry meterRegistry;\r\n  private final DistributionSummary orderCountDistribution;\r\n\r\n  public Metrics(MeterRegistry meterRegistry) {\r\n    this.meterRegistry = meterRegistry;\r\n\r\n    DistributionSummary.Builder builder =\r\n        DistributionSummary.builder(MetricId.UPDATED_ORDERS_COUNT_DISTRIBUTION.getValue())\r\n            .description(&quot;Records the average number of modified orders returned&quot;)\r\n            .tags(MetricTagName.PURPOSE.getValue(), MetricTagValue.ANALYTICS.getValue())\r\n            .tags(MetricTagName.LAYER.getValue(), MetricTagValue.DATA.getValue())\r\n            .minimumExpectedValue(1d)\r\n            .maximumExpectedValue(100d)\r\n            .publishPercentileHistogram();\r\n    orderCountDistribution = builder.register(meterRegistry);\r\n  };\r\n\r\n  public void recordApiRequest(\r\n      String apiVersion,\r\n      String controller,\r\n      String endpoint,\r\n      String method,\r\n      long elapsed,\r\n      TimeUnit timeUnit) {\r\n    Counter.Builder counterBuilder =\r\n        Counter.builder(MetricId.API_REQUEST_COUNT.getValue())\r\n            .description(&quot;Counts the number of API requests&quot;)\r\n            .tags(MetricTagName.PURPOSE.getValue(), MetricTagValue.ANALYTICS.getValue())\r\n            .tags(MetricTagName.LAYER.getValue(), MetricTagValue.ENDPOINT.getValue())\r\n            .tags(MetricTagName.API_VERSION.getValue(), apiVersion)\r\n            .tags(MetricTagName.CONTROLLER.getValue(), controller)\r\n            .tags(MetricTagName.ENDPOINT.getValue(), endpoint)\r\n            .tags(MetricTagName.METHOD.getValue(), method);\r\n    Counter counter = counterBuilder.register(meterRegistry);\r\n    counter.increment();\r\n\r\n    Timer.Builder timerBuilder =\r\n        Timer.builder(MetricId.EXECUTION_TIME.getValue())\r\n            .description(&quot;Records the time taken to process an API request&quot;)\r\n            .tags(MetricTagName.PURPOSE.getValue(), MetricTagValue.PERFORMANCE.getValue())\r\n            .tags(MetricTagName.LAYER.getValue(), MetricTagValue.ENDPOINT.getValue())\r\n            .tags(MetricTagName.API_VERSION.getValue(), apiVersion)\r\n            .tags(MetricTagName.CONTROLLER.getValue(), controller)\r\n            .tags(MetricTagName.ENDPOINT.getValue(), endpoint)\r\n            .tags(MetricTagName.METHOD.getValue(), method);\r\n    Timer timer = timerBuilder.register(meterRegistry);\r\n    timer.record(elapsed, timeUnit);\r\n  }\r\n\r\n  public void recordExecutionTime(\r\n      String module, String operation, long elapsed, TimeUnit timeUnit) {\r\n    Timer.Builder builder =\r\n        Timer.builder(MetricId.EXECUTION_TIME.getValue())\r\n            .description(&quot;Records the time taken to complete an operation&quot;)\r\n            .tags(MetricTagName.PURPOSE.getValue(), MetricTagValue.PERFORMANCE.getValue())\r\n            .tags(MetricTagName.LAYER.getValue(), MetricTagValue.PROCESSING.getValue())\r\n            .tags(MetricTagName.MODULE.getValue(), module)\r\n            .tags(MetricTagName.OPERATION.getValue(), operation);\r\n    Timer timer = builder.register(meterRegistry);\r\n    timer.record(elapsed, timeUnit);\r\n  }\r\n\r\n  public void recordUpdatedOrderCount(int orderCount) {\r\n    orderCountDistribution.record(orderCount);\r\n  }\r\n}\r\n\r\n```\r\n\r\nWhat could be causing the sparse output of data?","title":"How to get Micrometer to output all custom metrics","body":"<p>I am using Micrometer 1.9.0 and Spring boot 4.2.16 to report metrics to DataDog over StatsD. Some metrics are showing up, but very few. Using the Metrics Explorer in DataDog, it's very hard to find any metrics at all because they are so scarce.</p>\n<p>To test this locally, I started up <a href=\"https://hub.docker.com/r/jonmorehouse/dogstatsd-local/dockerfile/\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/jonmorehouse/dogstatsd-local/dockerfile/</a> and it does display all of the standard metrics provided by Micrometer, and very occasionally displays one of my custom metrics.</p>\n<p>I have set breakpoints and verified that my <code>Counter</code> instances are being incremented on every request to my application, but for some reason very few metrics are written to StatsD.</p>\n<p>All of my metric reporting is encapsulated in a class called <code>Metrics</code> which is autowired into controllers etc. The <code>Metrics</code> class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.****.metrics;\n\nimport com.****.commons.metrics.MetricId;\nimport com.****.commons.metrics.MetricTagName;\nimport com.****.commons.metrics.MetricTagValue;\nimport io.micrometer.core.instrument.Counter;\nimport io.micrometer.core.instrument.DistributionSummary;\nimport io.micrometer.core.instrument.MeterRegistry;\nimport io.micrometer.core.instrument.Timer;\nimport java.util.concurrent.TimeUnit;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Metrics {\n\n  private final MeterRegistry meterRegistry;\n  private final DistributionSummary orderCountDistribution;\n\n  public Metrics(MeterRegistry meterRegistry) {\n    this.meterRegistry = meterRegistry;\n\n    DistributionSummary.Builder builder =\n        DistributionSummary.builder(MetricId.UPDATED_ORDERS_COUNT_DISTRIBUTION.getValue())\n            .description(&quot;Records the average number of modified orders returned&quot;)\n            .tags(MetricTagName.PURPOSE.getValue(), MetricTagValue.ANALYTICS.getValue())\n            .tags(MetricTagName.LAYER.getValue(), MetricTagValue.DATA.getValue())\n            .minimumExpectedValue(1d)\n            .maximumExpectedValue(100d)\n            .publishPercentileHistogram();\n    orderCountDistribution = builder.register(meterRegistry);\n  };\n\n  public void recordApiRequest(\n      String apiVersion,\n      String controller,\n      String endpoint,\n      String method,\n      long elapsed,\n      TimeUnit timeUnit) {\n    Counter.Builder counterBuilder =\n        Counter.builder(MetricId.API_REQUEST_COUNT.getValue())\n            .description(&quot;Counts the number of API requests&quot;)\n            .tags(MetricTagName.PURPOSE.getValue(), MetricTagValue.ANALYTICS.getValue())\n            .tags(MetricTagName.LAYER.getValue(), MetricTagValue.ENDPOINT.getValue())\n            .tags(MetricTagName.API_VERSION.getValue(), apiVersion)\n            .tags(MetricTagName.CONTROLLER.getValue(), controller)\n            .tags(MetricTagName.ENDPOINT.getValue(), endpoint)\n            .tags(MetricTagName.METHOD.getValue(), method);\n    Counter counter = counterBuilder.register(meterRegistry);\n    counter.increment();\n\n    Timer.Builder timerBuilder =\n        Timer.builder(MetricId.EXECUTION_TIME.getValue())\n            .description(&quot;Records the time taken to process an API request&quot;)\n            .tags(MetricTagName.PURPOSE.getValue(), MetricTagValue.PERFORMANCE.getValue())\n            .tags(MetricTagName.LAYER.getValue(), MetricTagValue.ENDPOINT.getValue())\n            .tags(MetricTagName.API_VERSION.getValue(), apiVersion)\n            .tags(MetricTagName.CONTROLLER.getValue(), controller)\n            .tags(MetricTagName.ENDPOINT.getValue(), endpoint)\n            .tags(MetricTagName.METHOD.getValue(), method);\n    Timer timer = timerBuilder.register(meterRegistry);\n    timer.record(elapsed, timeUnit);\n  }\n\n  public void recordExecutionTime(\n      String module, String operation, long elapsed, TimeUnit timeUnit) {\n    Timer.Builder builder =\n        Timer.builder(MetricId.EXECUTION_TIME.getValue())\n            .description(&quot;Records the time taken to complete an operation&quot;)\n            .tags(MetricTagName.PURPOSE.getValue(), MetricTagValue.PERFORMANCE.getValue())\n            .tags(MetricTagName.LAYER.getValue(), MetricTagValue.PROCESSING.getValue())\n            .tags(MetricTagName.MODULE.getValue(), module)\n            .tags(MetricTagName.OPERATION.getValue(), operation);\n    Timer timer = builder.register(meterRegistry);\n    timer.record(elapsed, timeUnit);\n  }\n\n  public void recordUpdatedOrderCount(int orderCount) {\n    orderCountDistribution.record(orderCount);\n  }\n}\n\n</code></pre>\n<p>What could be causing the sparse output of data?</p>\n"},{"tags":["java","spring","spring-boot","datadog","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677095125,"creation_date":1677095125,"answer_id":75537486,"question_id":75392613,"body_markdown":"You have two `DatadogMeterRegistry` instances. Spring Boot creates one for you  and you set its config values in your property file. You also create an instance manually (I have no idea why) that you only set the step (btw the two steps you set are different).\r\n\r\nSolution: delete the code you wrote and do not create the registry manually. If you must create a registry for some reason, you need to create it as a `@Bean`.","title":"io.micrometer.core.instrument.config.validate.ValidationException: datadog.apiKey was &#39;null&#39; but it is required","body":"<p>You have two <code>DatadogMeterRegistry</code> instances. Spring Boot creates one for you  and you set its config values in your property file. You also create an instance manually (I have no idea why) that you only set the step (btw the two steps you set are different).</p>\n<p>Solution: delete the code you wrote and do not create the registry manually. If you must create a registry for some reason, you need to create it as a <code>@Bean</code>.</p>\n"}],"owner":{"account_id":5555543,"reputation":79,"user_id":4407043,"accept_rate":33,"display_name":"Vaibhav Dhore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677095125,"creation_date":1675897800,"question_id":75392613,"body_markdown":"I am using spring boot 2.7.7 and below are my maven dependencies:\r\n[![Dependencies][1]][1]\r\n\r\n\r\nHere, is how I set the DatadogConfig in my controller:\r\n\r\n    DatadogConfig config = new DatadogConfig() {\r\n                @Override\r\n                public Duration step() {\r\n                    return Duration.ofSeconds(10);\r\n                }\r\n\r\n                @Override\r\n                public String get(String k) {\r\n                    return null; // accept the rest of the defaults\r\n                }\r\n            };\r\n            logger.info(appConfig.getApiKey());\r\n            MeterRegistry registry = new DatadogMeterRegistry(config, Clock.SYSTEM);\r\n\r\nMy application.yml is set as below:\r\n\r\n    management.metrics.export.datadog:\r\n      apiKey: &quot;******&quot;\r\n    \r\n      # You will probably want disable Datadog publishing in a local development profile.\r\n      enabled: true\r\n    \r\n      # The interval at which metrics are sent to Datadog. The default is 1 minute.\r\n      step: &quot;1m&quot;\r\n    server:\r\n      port: 8081\r\n\r\nAfter running the application, I do see that the Meter registry is trying to push metrics, however after sending a request to controller, I get the exception as shown below:\r\n\r\n\r\n    i.m.c.instrument.push.PushMeterRegistry  : publishing metrics for DatadogMeterRegistry every 1m\r\n    i.m.datadog.DatadogMeterRegistry         : An application key must be configured in order for unit information to be sent to Datadog.\r\n    ........\r\n    io.micrometer.core.instrument.config.validate.ValidationException: datadog.apiKey was &#39;null&#39; but it is required\r\n    \tat io.micrometer.core.instrument.config.validate.Validated$Either.orThrow(Validated.java:375) ~[micrometer-core-1.9.6.jar:1.9.6]\r\n\r\nI did follow these posts, but still getting the error\r\n[Micrometer][2]\r\n\r\n\r\n[SO][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6hhpt.png\r\n  [2]: https://micrometer.io/docs/registry/datadog\r\n  [3]: https://stackoverflow.com/questions/70997020/datadog-apikey-was-null-but-it-is-required\r\n\r\nWhat config am I missing or doing wrong?","title":"io.micrometer.core.instrument.config.validate.ValidationException: datadog.apiKey was &#39;null&#39; but it is required","body":"<p>I am using spring boot 2.7.7 and below are my maven dependencies:\n<a href=\"https://i.stack.imgur.com/6hhpt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6hhpt.png\" alt=\"Dependencies\" /></a></p>\n<p>Here, is how I set the DatadogConfig in my controller:</p>\n<pre><code>DatadogConfig config = new DatadogConfig() {\n            @Override\n            public Duration step() {\n                return Duration.ofSeconds(10);\n            }\n\n            @Override\n            public String get(String k) {\n                return null; // accept the rest of the defaults\n            }\n        };\n        logger.info(appConfig.getApiKey());\n        MeterRegistry registry = new DatadogMeterRegistry(config, Clock.SYSTEM);\n</code></pre>\n<p>My application.yml is set as below:</p>\n<pre><code>management.metrics.export.datadog:\n  apiKey: &quot;******&quot;\n\n  # You will probably want disable Datadog publishing in a local development profile.\n  enabled: true\n\n  # The interval at which metrics are sent to Datadog. The default is 1 minute.\n  step: &quot;1m&quot;\nserver:\n  port: 8081\n</code></pre>\n<p>After running the application, I do see that the Meter registry is trying to push metrics, however after sending a request to controller, I get the exception as shown below:</p>\n<pre><code>i.m.c.instrument.push.PushMeterRegistry  : publishing metrics for DatadogMeterRegistry every 1m\ni.m.datadog.DatadogMeterRegistry         : An application key must be configured in order for unit information to be sent to Datadog.\n........\nio.micrometer.core.instrument.config.validate.ValidationException: datadog.apiKey was 'null' but it is required\n    at io.micrometer.core.instrument.config.validate.Validated$Either.orThrow(Validated.java:375) ~[micrometer-core-1.9.6.jar:1.9.6]\n</code></pre>\n<p>I did follow these posts, but still getting the error\n<a href=\"https://micrometer.io/docs/registry/datadog\" rel=\"nofollow noreferrer\">Micrometer</a></p>\n<p><a href=\"https://stackoverflow.com/questions/70997020/datadog-apikey-was-null-but-it-is-required\">SO</a></p>\n<p>What config am I missing or doing wrong?</p>\n"},{"tags":["java","json","reactjs","xml","api"],"answers":[{"tags":[],"owner":{"account_id":16610898,"reputation":150,"user_id":12003949,"display_name":"Iorweth333"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623947331,"creation_date":1623947331,"answer_id":68023222,"question_id":65233096,"body_markdown":"That package you found is actually the solution to your problem (I actually used it myself and I can confirm it&#39;s nice).\r\nBasically, all you have to do is to call the `exportFromJSON` function with the right arguments and the download will start: \r\n\r\nSample data\r\n```\r\n  const dataForXml = [\r\n    {\r\n      &quot;Name&quot;: &quot;aaaaa&quot;,\r\n      &quot;Author&quot;: &quot;aaaaaaaa&quot;,\r\n      &quot;Subject&quot;: &quot;History&quot;,\r\n      &quot;Publication Date&quot;: 1981,\r\n      &quot;additional data&quot;: {\r\n        &quot;rating&quot;: 9.9,\r\n        &quot;opinion&quot;: &quot;Nice to have&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;Name&quot;: &quot;L&#39;Ancien R&#233;gime et la R&#233;volution&quot;,\r\n      &quot;Author&quot;: &quot;Alexis de Tocqueville&quot;,\r\n      &quot;Subject&quot;: &quot;History&quot;,\r\n      &quot;Publication Date&quot;: 1866\r\n    },\r\n    {\r\n      &quot;Name&quot;: &quot;A Brief History of Time&quot;,\r\n      &quot;Author&quot;: &quot;Stephen Hawking&quot;,\r\n      &quot;Subject&quot;: &quot;Cosmology&quot;,\r\n      &quot;Publication Date&quot;: 1988\r\n    },\r\n    {\r\n      &quot;Name&quot;: &quot;ooooo&quot;,\r\n      &quot;Author&quot;: &quot;ooooooooo&quot;,\r\n      &quot;Subject&quot;: &quot;Novel&quot;,\r\n      &quot;Publication Date&quot;: 1995\r\n    }\r\n  ];\r\n```\r\n\r\nAdjusting used fields and their tags in the file:\r\n```\r\n  const fieldsAsObjects = {\r\n    &quot;Name&quot;: &quot;Name column header&quot;,\r\n    &quot;Author&quot;: &quot;Author column header&quot;,\r\n    &quot;Subject&quot;: &quot;Subject column header&quot;,\r\n    &quot;Publication Date&quot;: &quot;Publication Date column header&quot;,\r\n    &quot;additional data&quot;: &quot;additional data column header&quot;\r\n  };\r\n```\r\nThis mapping allows you to change tags in the file. Field names are corresponding to the field names in the data, while values will be used as tags, hyphen-joined, eg `&lt;additional-data-column-header&gt;`.\r\n\r\nAlternatively this way you can just pick fields that are supposed to be included in the file:\r\n```\r\n  const fieldsAsStrings = [\r\n    &quot;Name&quot;,\r\n    &quot;Author&quot;,\r\n    &quot;Subject&quot;,\r\n    &quot;Publication Date&quot;,\r\n    &quot;additional data&quot;\r\n  ];\r\n```\r\n\r\nAnd here&#39;s the closure; how to use it: \r\n```\r\nimport React from &quot;react&quot;;\r\n\r\nimport Button         from &quot;@material-ui/core/Button&quot;;\r\nimport exportFromJSON from &quot;export-from-json&quot;;\r\n\r\nexport default function XMLExport(props) {\r\n\r\n  function onClick() {\r\n    const data = props.data;   //dataForXml\r\n    const fileName = props.fileName ? props.fileName : &quot;exported&quot;;\r\n    let fields = props.fields ? props.fields : [];  //fieldsAsObjects or fieldsAsStrings, empty list means &quot;use all&quot;\r\n    const exportType = &#39;xml&#39;;\r\n    exportFromJSON({data, fileName, fields, exportType})\r\n  }\r\n\r\n  return (\r\n    &lt;Button onClick={onClick}&gt;\r\n      download\r\n    &lt;/Button&gt;\r\n  )\r\n\r\n}\r\n```\r\n\r\nOutput for the sample data:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE base&gt;\r\n&lt;base&gt;\r\n  &lt;element&gt;\r\n    &lt;Name-column-header&gt;\r\n      aaaaa\r\n    &lt;/Name-column-header&gt;\r\n    &lt;Author-column-header&gt;\r\n      aaaaaaaa\r\n    &lt;/Author-column-header&gt;\r\n    &lt;Subject-column-header&gt;\r\n      History\r\n    &lt;/Subject-column-header&gt;\r\n    &lt;Publication-Date-column-header&gt;\r\n      1981\r\n    &lt;/Publication-Date-column-header&gt;\r\n    &lt;additional-data-column-header&gt;\r\n      &lt;rating&gt;\r\n        9.9\r\n      &lt;/rating&gt;\r\n      &lt;opinion&gt;\r\n        Nice to have\r\n      &lt;/opinion&gt;\r\n    &lt;/additional-data-column-header&gt;\r\n  &lt;/element&gt;\r\n  &lt;element&gt;\r\n    &lt;Name-column-header&gt;\r\n      L&#39;Ancien R&#233;gime et la R&#233;volution\r\n    &lt;/Name-column-header&gt;\r\n    &lt;Author-column-header&gt;\r\n      Alexis de Tocqueville\r\n    &lt;/Author-column-header&gt;\r\n    &lt;Subject-column-header&gt;\r\n      History\r\n    &lt;/Subject-column-header&gt;\r\n    &lt;Publication-Date-column-header&gt;\r\n      1866\r\n    &lt;/Publication-Date-column-header&gt;\r\n  &lt;/element&gt;\r\n  &lt;element&gt;\r\n    &lt;Name-column-header&gt;\r\n      A Brief History of Time\r\n    &lt;/Name-column-header&gt;\r\n    &lt;Author-column-header&gt;\r\n      Stephen Hawking\r\n    &lt;/Author-column-header&gt;\r\n    &lt;Subject-column-header&gt;\r\n      Cosmology\r\n    &lt;/Subject-column-header&gt;\r\n    &lt;Publication-Date-column-header&gt;\r\n      1988\r\n    &lt;/Publication-Date-column-header&gt;\r\n  &lt;/element&gt;\r\n  &lt;element&gt;\r\n    &lt;Name-column-header&gt;\r\n      ooooo\r\n    &lt;/Name-column-header&gt;\r\n    &lt;Author-column-header&gt;\r\n      ooooooooo\r\n    &lt;/Author-column-header&gt;\r\n    &lt;Subject-column-header&gt;\r\n      Novel\r\n    &lt;/Subject-column-header&gt;\r\n    &lt;Publication-Date-column-header&gt;\r\n      1995\r\n    &lt;/Publication-Date-column-header&gt;\r\n  &lt;/element&gt;\r\n&lt;/base&gt;\r\n\r\n```\r\n\r\n\r\nI&#39;ve created this sandbox [sandbox][1]  for you. Unfortunately the download itself doesn&#39;t work in the sandbox.\r\n\r\n\r\n  [1]: https://codesandbox.io/s/exciting-beaver-oddwi?file=/src/App.js:94-743","title":"How to convert JSON data to XML format data and download the file in React JS","body":"<p>That package you found is actually the solution to your problem (I actually used it myself and I can confirm it's nice).\nBasically, all you have to do is to call the <code>exportFromJSON</code> function with the right arguments and the download will start:</p>\n<p>Sample data</p>\n<pre><code>  const dataForXml = [\n    {\n      &quot;Name&quot;: &quot;aaaaa&quot;,\n      &quot;Author&quot;: &quot;aaaaaaaa&quot;,\n      &quot;Subject&quot;: &quot;History&quot;,\n      &quot;Publication Date&quot;: 1981,\n      &quot;additional data&quot;: {\n        &quot;rating&quot;: 9.9,\n        &quot;opinion&quot;: &quot;Nice to have&quot;\n      }\n    },\n    {\n      &quot;Name&quot;: &quot;L'Ancien Régime et la Révolution&quot;,\n      &quot;Author&quot;: &quot;Alexis de Tocqueville&quot;,\n      &quot;Subject&quot;: &quot;History&quot;,\n      &quot;Publication Date&quot;: 1866\n    },\n    {\n      &quot;Name&quot;: &quot;A Brief History of Time&quot;,\n      &quot;Author&quot;: &quot;Stephen Hawking&quot;,\n      &quot;Subject&quot;: &quot;Cosmology&quot;,\n      &quot;Publication Date&quot;: 1988\n    },\n    {\n      &quot;Name&quot;: &quot;ooooo&quot;,\n      &quot;Author&quot;: &quot;ooooooooo&quot;,\n      &quot;Subject&quot;: &quot;Novel&quot;,\n      &quot;Publication Date&quot;: 1995\n    }\n  ];\n</code></pre>\n<p>Adjusting used fields and their tags in the file:</p>\n<pre><code>  const fieldsAsObjects = {\n    &quot;Name&quot;: &quot;Name column header&quot;,\n    &quot;Author&quot;: &quot;Author column header&quot;,\n    &quot;Subject&quot;: &quot;Subject column header&quot;,\n    &quot;Publication Date&quot;: &quot;Publication Date column header&quot;,\n    &quot;additional data&quot;: &quot;additional data column header&quot;\n  };\n</code></pre>\n<p>This mapping allows you to change tags in the file. Field names are corresponding to the field names in the data, while values will be used as tags, hyphen-joined, eg <code>&lt;additional-data-column-header&gt;</code>.</p>\n<p>Alternatively this way you can just pick fields that are supposed to be included in the file:</p>\n<pre><code>  const fieldsAsStrings = [\n    &quot;Name&quot;,\n    &quot;Author&quot;,\n    &quot;Subject&quot;,\n    &quot;Publication Date&quot;,\n    &quot;additional data&quot;\n  ];\n</code></pre>\n<p>And here's the closure; how to use it:</p>\n<pre><code>import React from &quot;react&quot;;\n\nimport Button         from &quot;@material-ui/core/Button&quot;;\nimport exportFromJSON from &quot;export-from-json&quot;;\n\nexport default function XMLExport(props) {\n\n  function onClick() {\n    const data = props.data;   //dataForXml\n    const fileName = props.fileName ? props.fileName : &quot;exported&quot;;\n    let fields = props.fields ? props.fields : [];  //fieldsAsObjects or fieldsAsStrings, empty list means &quot;use all&quot;\n    const exportType = 'xml';\n    exportFromJSON({data, fileName, fields, exportType})\n  }\n\n  return (\n    &lt;Button onClick={onClick}&gt;\n      download\n    &lt;/Button&gt;\n  )\n\n}\n</code></pre>\n<p>Output for the sample data:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE base&gt;\n&lt;base&gt;\n  &lt;element&gt;\n    &lt;Name-column-header&gt;\n      aaaaa\n    &lt;/Name-column-header&gt;\n    &lt;Author-column-header&gt;\n      aaaaaaaa\n    &lt;/Author-column-header&gt;\n    &lt;Subject-column-header&gt;\n      History\n    &lt;/Subject-column-header&gt;\n    &lt;Publication-Date-column-header&gt;\n      1981\n    &lt;/Publication-Date-column-header&gt;\n    &lt;additional-data-column-header&gt;\n      &lt;rating&gt;\n        9.9\n      &lt;/rating&gt;\n      &lt;opinion&gt;\n        Nice to have\n      &lt;/opinion&gt;\n    &lt;/additional-data-column-header&gt;\n  &lt;/element&gt;\n  &lt;element&gt;\n    &lt;Name-column-header&gt;\n      L'Ancien Régime et la Révolution\n    &lt;/Name-column-header&gt;\n    &lt;Author-column-header&gt;\n      Alexis de Tocqueville\n    &lt;/Author-column-header&gt;\n    &lt;Subject-column-header&gt;\n      History\n    &lt;/Subject-column-header&gt;\n    &lt;Publication-Date-column-header&gt;\n      1866\n    &lt;/Publication-Date-column-header&gt;\n  &lt;/element&gt;\n  &lt;element&gt;\n    &lt;Name-column-header&gt;\n      A Brief History of Time\n    &lt;/Name-column-header&gt;\n    &lt;Author-column-header&gt;\n      Stephen Hawking\n    &lt;/Author-column-header&gt;\n    &lt;Subject-column-header&gt;\n      Cosmology\n    &lt;/Subject-column-header&gt;\n    &lt;Publication-Date-column-header&gt;\n      1988\n    &lt;/Publication-Date-column-header&gt;\n  &lt;/element&gt;\n  &lt;element&gt;\n    &lt;Name-column-header&gt;\n      ooooo\n    &lt;/Name-column-header&gt;\n    &lt;Author-column-header&gt;\n      ooooooooo\n    &lt;/Author-column-header&gt;\n    &lt;Subject-column-header&gt;\n      Novel\n    &lt;/Subject-column-header&gt;\n    &lt;Publication-Date-column-header&gt;\n      1995\n    &lt;/Publication-Date-column-header&gt;\n  &lt;/element&gt;\n&lt;/base&gt;\n\n</code></pre>\n<p>I've created this sandbox <a href=\"https://codesandbox.io/s/exciting-beaver-oddwi?file=/src/App.js:94-743\" rel=\"nofollow noreferrer\">sandbox</a>  for you. Unfortunately the download itself doesn't work in the sandbox.</p>\n"},{"tags":[],"owner":{"account_id":24181684,"reputation":11,"user_id":18142241,"display_name":"jay pagada"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677094854,"creation_date":1676737581,"answer_id":75494716,"question_id":65233096,"body_markdown":"I have found one solution without any npm package library:\r\n\r\n    const xmlData = [\r\n\t{\r\n\t\tcolor: &quot;red&quot;,\r\n\t\tvalue: &quot;#f00&quot;\r\n\t},\r\n\t{\r\n\t\tcolor: &quot;green&quot;,\r\n\t\tvalue: &quot;#0f0&quot;\r\n\t},\r\n\t{\r\n\t\tcolor: &quot;blue&quot;,\r\n\t\tvalue: &quot;#00f&quot;\r\n\t},\r\n\t{\r\n\t\tcolor: &quot;cyan&quot;,\r\n\t\tvalue: &quot;#0ff&quot;\r\n\t},\r\n\t{\r\n\t\tcolor: &quot;magenta&quot;,\r\n\t\tvalue: &quot;#f0f&quot;\r\n\t},\r\n\t{\r\n\t\tcolor: &quot;yellow&quot;,\r\n\t\tvalue: &quot;#ff0&quot;\r\n\t},\r\n\t{\r\n\t\tcolor: &quot;black&quot;,\r\n\t\tvalue: &quot;#000&quot;\r\n\t}];\r\n\r\n\r\nAnd this will be your component; how to use it:\r\n\r\n    import React from &quot;react&quot;;\r\n    \r\n    export default function XMLExport(props) {\r\n    \r\n      function convertXML(data, tagName, arrayElementTag = &quot;element&quot;, spaces = 0) {\r\n        const tag = tagName\r\n          .replace(/[^_a-zA-Z 0-9:\\-\\.]/g, &quot;&quot;)\r\n          .replace(/^([ 0-9-:\\-\\.]|(xml))+/i, &quot;&quot;)\r\n          .replace(/ +/g, &quot;-&quot;);\r\n    \r\n        const indentSpaces = Array(spaces + 1).join(&quot; &quot;);\r\n    \r\n        if (data === null || data === undefined) {\r\n          return `${indentSpaces}&lt;${tag} /&gt;`;\r\n        }\r\n    \r\n        const content =\r\n          Object.prototype.toString.call(data) === &quot;[object Array]&quot;\r\n            ? data\r\n                .map((item) =&gt;\r\n                  convertXML(item, arrayElementTag, arrayElementTag, spaces + 2)\r\n                )\r\n                .join(&quot;\\n&quot;)\r\n            : typeof data === &quot;object&quot;\r\n            ? Object.keys(data)\r\n                .map((key) =&gt; [key, data[key]])\r\n                .map(([key, value]) =&gt;\r\n                  convertXML(value, key, arrayElementTag, spaces + 2)\r\n                )\r\n                .join(&quot;\\n&quot;)\r\n            : indentSpaces +\r\n              &quot;  &quot; +\r\n              String(data).replace(/([&lt;&gt;&amp;])/g, (_, $1) =&gt; {\r\n                switch ($1) {\r\n                  case &quot;&lt;&quot;:\r\n                    return &quot;&amp;lt;&quot;;\r\n                  case &quot;&gt;&quot;:\r\n                    return &quot;&amp;gt;&quot;;\r\n                  case &quot;&amp;&quot;:\r\n                    return &quot;&amp;amp;&quot;;\r\n                  default:\r\n                    return &quot;&quot;;\r\n                }\r\n              });\r\n    \r\n        const contentWithWrapper = `${indentSpaces}&lt;${tag}&gt;\r\n                ${content}\r\n                ${indentSpaces}&lt;/${tag}&gt;`;\r\n    \r\n        return contentWithWrapper;\r\n      }\r\n    \r\n      function createXMLData(data) {\r\n        const content = `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE root&gt;\r\n        ${convertXML(data, &quot;root&quot;)}\r\n        `;\r\n    \r\n        const dataStr =\r\n          &quot;data:text/application/xml;charset=utf-8,&quot; + encodeURIComponent(content);\r\n        let downloadData = document.getElementById(&quot;downloadData&quot;);\r\n        downloadData.setAttribute(&quot;href&quot;, dataStr);\r\n        downloadData.setAttribute(&quot;download&quot;, &quot;xmlData.xml&quot;);\r\n        downloadData.click();\r\n      }\r\n    \r\n      return (\r\n        &lt;&gt;\r\n          &lt;a id=&quot;downloadData&quot; style={{ display: &quot;none&quot; }}&gt;&lt;/a&gt;\r\n          &lt;button\r\n            onClick={() =&gt; {\r\n              createXMLData(props.data);\r\n            }}\r\n          &gt;\r\n            download\r\n          &lt;/button&gt;\r\n        &lt;/&gt;\r\n      );\r\n    }\r\n\r\nOutput for the data:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE root&gt;\r\n     &lt;root&gt;\r\n      &lt;element&gt;\r\n        &lt;color&gt;red&lt;/color&gt;\r\n        &lt;value&gt;#f00&lt;/value&gt;\r\n      &lt;/element&gt;\r\n      &lt;element&gt;\r\n        &lt;color&gt;green&lt;/color&gt;\r\n        &lt;value&gt;#0f0&lt;/value&gt;\r\n      &lt;/element&gt;\r\n      &lt;element&gt;\r\n        &lt;color&gt;blue&lt;/color&gt;\r\n        &lt;value&gt;#00f&lt;/value&gt;\r\n      &lt;/element&gt;\r\n      &lt;element&gt;\r\n        &lt;color&gt;cyan&lt;/color&gt;\r\n        &lt;value&gt;#0ff&lt;/value&gt;\r\n      &lt;/element&gt;\r\n      &lt;element&gt;\r\n        &lt;color&gt;magenta&lt;/color&gt;\r\n        &lt;value&gt;#f0f&lt;/value&gt;\r\n      &lt;/element&gt;\r\n      &lt;element&gt;\r\n        &lt;color&gt;yellow&lt;/color&gt;\r\n        &lt;value&gt;#ff0&lt;/value&gt;\r\n      &lt;/element&gt;\r\n      &lt;element&gt;\r\n        &lt;color&gt;black&lt;/color&gt;\r\n        &lt;value&gt;#000&lt;/value&gt;\r\n      &lt;/element&gt;\r\n    &lt;/root&gt;\r\n\r\n","title":"How to convert JSON data to XML format data and download the file in React JS","body":"<p>I have found one solution without any npm package library:</p>\n<pre><code>const xmlData = [\n{\n    color: &quot;red&quot;,\n    value: &quot;#f00&quot;\n},\n{\n    color: &quot;green&quot;,\n    value: &quot;#0f0&quot;\n},\n{\n    color: &quot;blue&quot;,\n    value: &quot;#00f&quot;\n},\n{\n    color: &quot;cyan&quot;,\n    value: &quot;#0ff&quot;\n},\n{\n    color: &quot;magenta&quot;,\n    value: &quot;#f0f&quot;\n},\n{\n    color: &quot;yellow&quot;,\n    value: &quot;#ff0&quot;\n},\n{\n    color: &quot;black&quot;,\n    value: &quot;#000&quot;\n}];\n</code></pre>\n<p>And this will be your component; how to use it:</p>\n<pre><code>import React from &quot;react&quot;;\n\nexport default function XMLExport(props) {\n\n  function convertXML(data, tagName, arrayElementTag = &quot;element&quot;, spaces = 0) {\n    const tag = tagName\n      .replace(/[^_a-zA-Z 0-9:\\-\\.]/g, &quot;&quot;)\n      .replace(/^([ 0-9-:\\-\\.]|(xml))+/i, &quot;&quot;)\n      .replace(/ +/g, &quot;-&quot;);\n\n    const indentSpaces = Array(spaces + 1).join(&quot; &quot;);\n\n    if (data === null || data === undefined) {\n      return `${indentSpaces}&lt;${tag} /&gt;`;\n    }\n\n    const content =\n      Object.prototype.toString.call(data) === &quot;[object Array]&quot;\n        ? data\n            .map((item) =&gt;\n              convertXML(item, arrayElementTag, arrayElementTag, spaces + 2)\n            )\n            .join(&quot;\\n&quot;)\n        : typeof data === &quot;object&quot;\n        ? Object.keys(data)\n            .map((key) =&gt; [key, data[key]])\n            .map(([key, value]) =&gt;\n              convertXML(value, key, arrayElementTag, spaces + 2)\n            )\n            .join(&quot;\\n&quot;)\n        : indentSpaces +\n          &quot;  &quot; +\n          String(data).replace(/([&lt;&gt;&amp;])/g, (_, $1) =&gt; {\n            switch ($1) {\n              case &quot;&lt;&quot;:\n                return &quot;&amp;lt;&quot;;\n              case &quot;&gt;&quot;:\n                return &quot;&amp;gt;&quot;;\n              case &quot;&amp;&quot;:\n                return &quot;&amp;amp;&quot;;\n              default:\n                return &quot;&quot;;\n            }\n          });\n\n    const contentWithWrapper = `${indentSpaces}&lt;${tag}&gt;\n            ${content}\n            ${indentSpaces}&lt;/${tag}&gt;`;\n\n    return contentWithWrapper;\n  }\n\n  function createXMLData(data) {\n    const content = `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE root&gt;\n    ${convertXML(data, &quot;root&quot;)}\n    `;\n\n    const dataStr =\n      &quot;data:text/application/xml;charset=utf-8,&quot; + encodeURIComponent(content);\n    let downloadData = document.getElementById(&quot;downloadData&quot;);\n    downloadData.setAttribute(&quot;href&quot;, dataStr);\n    downloadData.setAttribute(&quot;download&quot;, &quot;xmlData.xml&quot;);\n    downloadData.click();\n  }\n\n  return (\n    &lt;&gt;\n      &lt;a id=&quot;downloadData&quot; style={{ display: &quot;none&quot; }}&gt;&lt;/a&gt;\n      &lt;button\n        onClick={() =&gt; {\n          createXMLData(props.data);\n        }}\n      &gt;\n        download\n      &lt;/button&gt;\n    &lt;/&gt;\n  );\n}\n</code></pre>\n<p>Output for the data:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE root&gt;\n &lt;root&gt;\n  &lt;element&gt;\n    &lt;color&gt;red&lt;/color&gt;\n    &lt;value&gt;#f00&lt;/value&gt;\n  &lt;/element&gt;\n  &lt;element&gt;\n    &lt;color&gt;green&lt;/color&gt;\n    &lt;value&gt;#0f0&lt;/value&gt;\n  &lt;/element&gt;\n  &lt;element&gt;\n    &lt;color&gt;blue&lt;/color&gt;\n    &lt;value&gt;#00f&lt;/value&gt;\n  &lt;/element&gt;\n  &lt;element&gt;\n    &lt;color&gt;cyan&lt;/color&gt;\n    &lt;value&gt;#0ff&lt;/value&gt;\n  &lt;/element&gt;\n  &lt;element&gt;\n    &lt;color&gt;magenta&lt;/color&gt;\n    &lt;value&gt;#f0f&lt;/value&gt;\n  &lt;/element&gt;\n  &lt;element&gt;\n    &lt;color&gt;yellow&lt;/color&gt;\n    &lt;value&gt;#ff0&lt;/value&gt;\n  &lt;/element&gt;\n  &lt;element&gt;\n    &lt;color&gt;black&lt;/color&gt;\n    &lt;value&gt;#000&lt;/value&gt;\n  &lt;/element&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":11380295,"reputation":389,"user_id":8343364,"accept_rate":20,"display_name":"UtkarshaG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4690,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":68023222,"answer_count":2,"score":3,"last_activity_date":1677094854,"creation_date":1607597307,"question_id":65233096,"body_markdown":"I am fetching the data from API which I am getting in JSON format, I want this data to download in XML format. This functionality will be like if anyone clicks on the button on UI the xml file will get downloaded with the data.\r\n\r\nI have searched for some resolution over that but not able to find something firm.\r\nThe following link could be useful but not know how to use that properly.\r\n\r\nhttps://www.npmjs.com/package/export-from-json\r\n\r\nInitiatives will be appreciated. Many Thanks.","title":"How to convert JSON data to XML format data and download the file in React JS","body":"<p>I am fetching the data from API which I am getting in JSON format, I want this data to download in XML format. This functionality will be like if anyone clicks on the button on UI the xml file will get downloaded with the data.</p>\n<p>I have searched for some resolution over that but not able to find something firm.\nThe following link could be useful but not know how to use that properly.</p>\n<p><a href=\"https://www.npmjs.com/package/export-from-json\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/export-from-json</a></p>\n<p>Initiatives will be appreciated. Many Thanks.</p>\n"},{"tags":["java","git","maven","githooks","checkstyle"],"comments":[{"owner":{"account_id":1734438,"reputation":36275,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"score":0,"creation_date":1649065287,"post_id":63417074,"comment_id":126773088,"body_markdown":"Have you found a solution to this ?","body":"Have you found a solution to this ?"},{"owner":{"account_id":5189674,"reputation":128,"user_id":4994684,"display_name":"nevermind"},"score":1,"creation_date":1649154876,"post_id":63417074,"comment_id":126798714,"body_markdown":"Unfortunately no.","body":"Unfortunately no."}],"answers":[{"comments":[{"owner":{"account_id":5189674,"reputation":128,"user_id":4994684,"display_name":"nevermind"},"score":0,"creation_date":1652019952,"post_id":72150295,"comment_id":127499543,"body_markdown":"Hi quan.s, thank you for your answer. I am not using Java and checkstyle right now so I cannot check if it works for me, but hopefully someone might find your answer useful.","body":"Hi quan.s, thank you for your answer. I am not using Java and checkstyle right now so I cannot check if it works for me, but hopefully someone might find your answer useful."},{"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"score":0,"creation_date":1683861304,"post_id":72150295,"comment_id":134434594,"body_markdown":"This would require invoking maven on every changed file?  Or is there a way to pass a list to checkstyle.includes ?  looks like an antpath matcher?","body":"This would require invoking maven on every changed file?  Or is there a way to pass a list to checkstyle.includes ?  looks like an antpath matcher?"},{"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"score":0,"creation_date":1697504545,"post_id":72150295,"comment_id":136285429,"body_markdown":"turns out it&#39;s takes a list of CSV values.  The values must be relative to the source path.\nie.. `com/foo/Bar.java` not `src/main/java/com/foo/Bar.java`","body":"turns out it&#39;s takes a list of CSV values.  The values must be relative to the source path. ie.. <code>com&#47;foo&#47;Bar.java</code> not <code>src&#47;main&#47;java&#47;com&#47;foo&#47;Bar.java</code>"}],"tags":[],"owner":{"account_id":16772796,"reputation":1,"user_id":12124869,"display_name":"quan.s"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651907583,"creation_date":1651907583,"answer_id":72150295,"question_id":63417074,"body_markdown":"There is an example here: [github project of maven-checkstyle-plugin][1]\r\n\r\nPut a placeholder in pom and pass the parameter by maven command line.\r\n\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;includes&gt;${checkstyle.includes}&lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n\r\nCommand line: mvn checkstyle:check &quot;-Dcheckstyle.includes=**/File.java&quot;\r\n\r\n  [1]: https://github.com/apache/maven-checkstyle-plugin/blob/27b9ef3efea7a1d168034a3c2e48c0a387e8b894/src/test/plugin-configs/multi-plugin-config.xml#L31","title":"How to run Maven Checkstyle plugin on modified files only","body":"<p>There is an example here: <a href=\"https://github.com/apache/maven-checkstyle-plugin/blob/27b9ef3efea7a1d168034a3c2e48c0a387e8b894/src/test/plugin-configs/multi-plugin-config.xml#L31\" rel=\"nofollow noreferrer\">github project of maven-checkstyle-plugin</a></p>\n<p>Put a placeholder in pom and pass the parameter by maven command line.</p>\n<pre><code>    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;includes&gt;${checkstyle.includes}&lt;/includes&gt;\n    &lt;/configuration&gt;\n</code></pre>\n<p>Command line: mvn checkstyle:check &quot;-Dcheckstyle.includes=**/File.java&quot;</p>\n"},{"tags":[],"owner":{"account_id":2597908,"reputation":4303,"user_id":2251135,"accept_rate":40,"display_name":"Daniel Teleginski Camargo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677094731,"creation_date":1677094731,"answer_id":75537431,"question_id":63417074,"body_markdown":"I got it working by using some Node JS tools. Here is what I have:\r\n\r\n\r\n## Node JS Packaged\r\n\r\n`package.json` file:\r\n\r\n```json\r\n{\r\n  &quot;version&quot;: &quot;1.0.0&quot;,\r\n  &quot;scripts&quot;: {\r\n    &quot;prepare&quot;: &quot;husky install&quot;,\r\n    &quot;pre-commit&quot;: &quot;./scripts/pre-commit-run&quot;\r\n  },\r\n  &quot;license&quot;: &quot;ISC&quot;,\r\n  &quot;devDependencies&quot;: {\r\n    &quot;husky&quot;: &quot;^8.0.1&quot;,\r\n    &quot;lint-staged&quot;: &quot;^13.0.3&quot;\r\n  }\r\n}\r\n```\r\n\r\n\r\n## Lint Staged Config\r\n\r\n`lint-staged.config.js` file:\r\n\r\n\r\n```JavaScript\r\nconst path = require(&#39;path&#39;);\r\n\r\nmodule.exports = {\r\n    &#39;**/*.java&#39;: (javaFiles) =&gt; {\r\n        const linters = [];\r\n        for (let i = 0; i &lt; javaFiles.length; i++) {\r\n            const filePath = javaFiles[i];\r\n            const fileName = path.parse(filePath).base;\r\n            linters.push(`npm run pre-commit -- ${fileName}`);\r\n        }\r\n        return linters;\r\n    }\r\n}\r\n\r\n```\r\n\r\n### Pre-Commit Script\r\n\r\n&gt; I couldn&#39;t make it work with lint-staged only. If you find a way, please share ;)\r\n\r\n\r\n`pre-commit-run` file:\r\n```shell\r\n#!/usr/bin/env sh\r\nmvn checkstyle:check -Dcheckstyle.includes=&quot;**\\\\/$1&quot;\r\n\r\n```\r\n\r\n### Pre-Commit Git Hook\r\n\r\n`.husky/pre-commit` file:\r\n\r\n```shell\r\n#!/usr/bin/env sh\r\n. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;\r\necho &quot;Running pre-commit hook&quot;\r\nnpx lint-staged\r\n```\r\n\r\n### Checkstyle Maven Plugin\r\n\r\n`pom.xml` file (the part that matters):\r\n\r\n\r\n```xml\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n                            &lt;version&gt;10.7.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${checkstyle-maven-plugin.version}&lt;/version&gt;\r\n                &lt;!-- Properties for &quot;mvn checkstyle:check&quot; to execute as part of maven build\r\n                     They are conflicting with properties of checkstyle:checkstyle\r\n                     so only one set should be used\r\n                --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n                    &lt;logViolationsToConsole&gt;true&lt;/logViolationsToConsole&gt;\r\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n                    &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\r\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- Specifying configuration here will take effect\r\n                 on the execution of &quot;mvn site&quot;,\r\n                 but will NOT take effect on the execution of &quot;mvn checkstyle:check&quot;\r\n                 or &quot;mvn checkstyle:checkstyle&quot;\r\n             --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${checkstyle-maven-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n                    &lt;failOnViolation&gt;false&lt;/failOnViolation&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to run Maven Checkstyle plugin on modified files only","body":"<p>I got it working by using some Node JS tools. Here is what I have:</p>\n<h2>Node JS Packaged</h2>\n<p><code>package.json</code> file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;scripts&quot;: {\n    &quot;prepare&quot;: &quot;husky install&quot;,\n    &quot;pre-commit&quot;: &quot;./scripts/pre-commit-run&quot;\n  },\n  &quot;license&quot;: &quot;ISC&quot;,\n  &quot;devDependencies&quot;: {\n    &quot;husky&quot;: &quot;^8.0.1&quot;,\n    &quot;lint-staged&quot;: &quot;^13.0.3&quot;\n  }\n}\n</code></pre>\n<h2>Lint Staged Config</h2>\n<p><code>lint-staged.config.js</code> file:</p>\n<pre><code>const path = require('path');\n\nmodule.exports = {\n    '**/*.java': (javaFiles) =&gt; {\n        const linters = [];\n        for (let i = 0; i &lt; javaFiles.length; i++) {\n            const filePath = javaFiles[i];\n            const fileName = path.parse(filePath).base;\n            linters.push(`npm run pre-commit -- ${fileName}`);\n        }\n        return linters;\n    }\n}\n\n</code></pre>\n<h3>Pre-Commit Script</h3>\n<blockquote>\n<p>I couldn't make it work with lint-staged only. If you find a way, please share ;)</p>\n</blockquote>\n<p><code>pre-commit-run</code> file:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env sh\nmvn checkstyle:check -Dcheckstyle.includes=&quot;**\\\\/$1&quot;\n\n</code></pre>\n<h3>Pre-Commit Git Hook</h3>\n<p><code>.husky/pre-commit</code> file:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env sh\n. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;\necho &quot;Running pre-commit hook&quot;\nnpx lint-staged\n</code></pre>\n<h3>Checkstyle Maven Plugin</h3>\n<p><code>pom.xml</code> file (the part that matters):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n                            &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n                            &lt;version&gt;10.7.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${checkstyle-maven-plugin.version}&lt;/version&gt;\n                &lt;!-- Properties for &quot;mvn checkstyle:check&quot; to execute as part of maven build\n                     They are conflicting with properties of checkstyle:checkstyle\n                     so only one set should be used\n                --&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n                    &lt;logViolationsToConsole&gt;true&lt;/logViolationsToConsole&gt;\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                    &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;!-- Specifying configuration here will take effect\n                 on the execution of &quot;mvn site&quot;,\n                 but will NOT take effect on the execution of &quot;mvn checkstyle:check&quot;\n                 or &quot;mvn checkstyle:checkstyle&quot;\n             --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${checkstyle-maven-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n                    &lt;failOnViolation&gt;false&lt;/failOnViolation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n&lt;/project&gt;\n\n\n</code></pre>\n"}],"owner":{"account_id":5189674,"reputation":128,"user_id":4994684,"display_name":"nevermind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2034,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1677094731,"creation_date":1597424455,"question_id":63417074,"body_markdown":"I am running Maven Checkstyle plugin through pre-commit githook written in python (I think that the same question applies to running it directly from terminal).\r\n\r\nThe command is:\r\n```\r\nmvn checkstyle:checkstyle\r\n```\r\nHowever, I would like to run Maven Checkstyle only on files modified by git. For instance, I could run it once for each file. If I want to run it on a specific file, I may define the following pattern (I am not sure why do I need the pattern of stars and dashes in front):\r\n```\r\nmvn checkstyle:checkstyle -Dcheckstyle.includes=**\\/*File.java\r\n```\r\nHowever, I am not able to pass **file path and file name**, for instance:\r\n```\r\nmvn checkstyle:checkstyle -Dcheckstyle.includes=src/main/java/File.java\r\n```\r\nOr, following the above mentioned pattern:\r\n```\r\nmvn checkstyle:checkstyle -Dcheckstyle.includes=**\\/*src/main/java/File.java\r\n```\r\n\r\nI have tried many other combinations as well, but nothing works. I found this [issue][1] which is about the same thing, so I am wondering if someone has found a solution to this.\r\n\r\nI have also read:\r\n\r\nhttps://stackoverflow.com/questions/34453774/how-to-run-maven-checkstyle-plugin-on-incremental-code-only\r\n\r\nhttps://stackoverflow.com/questions/50016710/is-there-a-maven-git-checkstyle-plugin-that-runs-checkstyle-goal-on-git-staged-f\r\n\r\nhttps://stackoverflow.com/questions/24208568/how-to-check-style-arbitrary-list-of-java-files-from-command-line\r\n\r\nbut they do not solve my problem.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/MCHECKSTYLE-394\r\n","title":"How to run Maven Checkstyle plugin on modified files only","body":"<p>I am running Maven Checkstyle plugin through pre-commit githook written in python (I think that the same question applies to running it directly from terminal).</p>\n<p>The command is:</p>\n<pre><code>mvn checkstyle:checkstyle\n</code></pre>\n<p>However, I would like to run Maven Checkstyle only on files modified by git. For instance, I could run it once for each file. If I want to run it on a specific file, I may define the following pattern (I am not sure why do I need the pattern of stars and dashes in front):</p>\n<pre><code>mvn checkstyle:checkstyle -Dcheckstyle.includes=**\\/*File.java\n</code></pre>\n<p>However, I am not able to pass <strong>file path and file name</strong>, for instance:</p>\n<pre><code>mvn checkstyle:checkstyle -Dcheckstyle.includes=src/main/java/File.java\n</code></pre>\n<p>Or, following the above mentioned pattern:</p>\n<pre><code>mvn checkstyle:checkstyle -Dcheckstyle.includes=**\\/*src/main/java/File.java\n</code></pre>\n<p>I have tried many other combinations as well, but nothing works. I found this <a href=\"https://issues.apache.org/jira/browse/MCHECKSTYLE-394\" rel=\"noreferrer\">issue</a> which is about the same thing, so I am wondering if someone has found a solution to this.</p>\n<p>I have also read:</p>\n<p><a href=\"https://stackoverflow.com/questions/34453774/how-to-run-maven-checkstyle-plugin-on-incremental-code-only\">How to run maven checkstyle plugin on incremental code only</a></p>\n<p><a href=\"https://stackoverflow.com/questions/50016710/is-there-a-maven-git-checkstyle-plugin-that-runs-checkstyle-goal-on-git-staged-f\">Is there a maven-git-checkstyle plugin that runs checkstyle goal on git staged files alone?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/24208568/how-to-check-style-arbitrary-list-of-java-files-from-command-line\">How to check style arbitrary list of java files from command line?</a></p>\n<p>but they do not solve my problem.</p>\n"},{"tags":["java","spring-boot","odata","olingo"],"comments":[{"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"score":0,"creation_date":1676302613,"post_id":75438014,"comment_id":133105107,"body_markdown":"This is probably not answerable without any code. Please post the code producing the response.","body":"This is probably not answerable without any code. Please post the code producing the response."},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":1,"creation_date":1676303644,"post_id":75438014,"comment_id":133105464,"body_markdown":"Did you try it with curl? It could be a problem with insomnia and not with your app.","body":"Did you try it with curl? It could be a problem with insomnia and not with your app."},{"owner":{"account_id":9573738,"reputation":11,"user_id":7110608,"display_name":"L.Bai"},"score":0,"creation_date":1676304138,"post_id":75438014,"comment_id":133105662,"body_markdown":"@dimnnv same error with curl","body":"@dimnnv same error with curl"},{"owner":{"account_id":9573738,"reputation":11,"user_id":7110608,"display_name":"L.Bai"},"score":0,"creation_date":1676304171,"post_id":75438014,"comment_id":133105670,"body_markdown":"@puelo it works perfectly fine when the response is smaller.","body":"@puelo it works perfectly fine when the response is smaller."},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1676304898,"post_id":75438014,"comment_id":133105929,"body_markdown":"@L.Bai does the response fit in JVM memory? It&#39;s worth checking Xmx JVM parameter as well as service exceptions.","body":"@L.Bai does the response fit in JVM memory? It&#39;s worth checking Xmx JVM parameter as well as service exceptions."},{"owner":{"account_id":9573738,"reputation":11,"user_id":7110608,"display_name":"L.Bai"},"score":0,"creation_date":1676305567,"post_id":75438014,"comment_id":133106156,"body_markdown":"@dimnnv the JVM mem consumption is as expected and the application works perfectly fine, we are only missing the response.","body":"@dimnnv the JVM mem consumption is as expected and the application works perfectly fine, we are only missing the response."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676344427,"post_id":75438014,"comment_id":133114075,"body_markdown":"@L.Bai, Try writing a small response directly to the response body to determine whether there is no body return response due to a large amount of data (&gt;1GB).","body":"@L.Bai, Try writing a small response directly to the response body to determine whether there is no body return response due to a large amount of data (&gt;1GB)."},{"owner":{"account_id":9573738,"reputation":11,"user_id":7110608,"display_name":"L.Bai"},"score":0,"creation_date":1676386322,"post_id":75438014,"comment_id":133123873,"body_markdown":"@life888888 thanks I can confirm less than 1gb data can be returned properly.","body":"@life888888 thanks I can confirm less than 1gb data can be returned properly."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676388573,"post_id":75438014,"comment_id":133124685,"body_markdown":"@L.Bai, If the data less than 1GB can be returned normally, but the data larger than 1GB cannot be returned normally, it can be guessed that (1) the server-side processing time is too long, resulting in (1a) server-side timeout or (1b) client-side timeout (2) because The amount of data is too large, causing related memory problems on the server side (3) The above should be able to execute the console output of the Spring Boot Application from the command line to see if there is an output-related error message.","body":"@L.Bai, If the data less than 1GB can be returned normally, but the data larger than 1GB cannot be returned normally, it can be guessed that (1) the server-side processing time is too long, resulting in (1a) server-side timeout or (1b) client-side timeout (2) because The amount of data is too large, causing related memory problems on the server side (3) The above should be able to execute the console output of the Spring Boot Application from the command line to see if there is an output-related error message."},{"owner":{"account_id":9573738,"reputation":11,"user_id":7110608,"display_name":"L.Bai"},"score":0,"creation_date":1676491323,"post_id":75438014,"comment_id":133149738,"body_markdown":"@life888888 Thanks for your reply:1.yes server side processing is long but we can not observe any error or timeout in application log(1a) and I have disabled client side timeout(1b) 2.We already assigned enough memory and no memory issue has been observed. 3.I can not find any error in application log.","body":"@life888888 Thanks for your reply:1.yes server side processing is long but we can not observe any error or timeout in application log(1a) and I have disabled client side timeout(1b) 2.We already assigned enough memory and no memory issue has been observed. 3.I can not find any error in application log."}],"owner":{"account_id":9573738,"reputation":11,"user_id":7110608,"display_name":"L.Bai"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677094376,"creation_date":1676302485,"question_id":75438014,"body_markdown":"we are building a web service with Java 11, Spring Boot 2.7.3 &amp; Apache Olingo 4.8.0 everything was working fine until we test a request and expecting a extremely huge response. The response should be over 1 GB. But the response is empty with insomnia:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UxYR4.png\r\n\r\nThen I write a piece of script with Python 3.8.10 and printed the response.content:\r\n```\r\nb&#39;&#39;\r\n```\r\nSame error with curl.\r\n\r\nAnyone could please advise? Thanks in advance!\r\n\r\n------\r\n\r\nUpdate:\r\n\r\nI can confirm the issue is associated with Apache Olingo OData 4.0 Java. Empty response is returned by ODataSerializer.entityCollection() when we passed 4024538 entities. I am wondering if anyone could advise?","title":"Spring Boot Application No Body Returned for Response","body":"<p>we are building a web service with Java 11, Spring Boot 2.7.3 &amp; Apache Olingo 4.8.0 everything was working fine until we test a request and expecting a extremely huge response. The response should be over 1 GB. But the response is empty with insomnia:</p>\n<p><a href=\"https://i.stack.imgur.com/UxYR4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UxYR4.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I write a piece of script with Python 3.8.10 and printed the response.content:</p>\n<pre><code>b''\n</code></pre>\n<p>Same error with curl.</p>\n<p>Anyone could please advise? Thanks in advance!</p>\n<hr />\n<p>Update:</p>\n<p>I can confirm the issue is associated with Apache Olingo OData 4.0 Java. Empty response is returned by ODataSerializer.entityCollection() when we passed 4024538 entities. I am wondering if anyone could advise?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1677091882,"post_id":75536947,"comment_id":133271104,"body_markdown":"What does &quot;socket&quot; have to do with your question?","body":"What does &quot;socket&quot; have to do with your question?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1677092569,"post_id":75536947,"comment_id":133271321,"body_markdown":"maybe you should print/log the data received by the server; and its result (and read the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/OutputStream.html#write(int)) of `write()`: &quot;*The byte to be written is the eight low-order bits of the argument b. The 24 high-order bits of b are ignored*&quot;)","body":"maybe you should print/log the data received by the server; and its result (and read the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/OutputStream.html#write(int)\" rel=\"nofollow noreferrer\">documentation</a> of <code>write()</code>: &quot;<i>The byte to be written is the eight low-order bits of the argument b. The 24 high-order bits of b are ignored</i>&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":9769004,"reputation":11,"user_id":7241551,"display_name":"Sv&#237;zel př&#237;tula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677092896,"creation_date":1677092896,"answer_id":75537154,"question_id":75536947,"body_markdown":"`OutputStream.write(int b)` and `InputStream.read()` send/receive a single byte. A byte can only hold values between 0 and 255, while 5 * 10 * 20 = 1000. You will have to send each value as several bytes.","title":"Java Socket Calculator Subtraction and Multiplication is not working but Addition is working","body":"<p><code>OutputStream.write(int b)</code> and <code>InputStream.read()</code> send/receive a single byte. A byte can only hold values between 0 and 255, while 5 * 10 * 20 = 1000. You will have to send each value as several bytes.</p>\n"},{"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677094023,"creation_date":1677093060,"answer_id":75537175,"question_id":75536947,"body_markdown":"I think it helps to use the DataInputStream and DataOutputStream classes for writing ints, chars, and Java primitive data types over a stream.\r\n\r\nHere is a code example for the server.\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class Server {\r\n    \r\n        ServerSocket server = new ServerSocket(8080);\r\n    \r\n        Server() throws IOException {\r\n            while (true) {\r\n                Socket client = server.accept();\r\n                DataInputStream input = new DataInputStream(new BufferedInputStream(client.getInputStream()));\r\n                DataOutputStream output = new DataOutputStream(new BufferedOutputStream(client.getOutputStream()));\r\n    \r\n                int op = input.readInt();\r\n                int num1 = input.readInt();\r\n                int num2 = input.readInt();\r\n                int num3 = input.readInt();\r\n    \r\n                switch (op) {\r\n                    case 0:\r\n                        output.writeInt(num1 + num2 + num3);\r\n                        output.flush();\r\n                        break;\r\n                    case 1:\r\n                        output.writeInt(num1 - num2 - num3);\r\n                        output.flush();\r\n                        break;\r\n                    case 2:\r\n                        output.writeInt(num1 * num2 * num3);\r\n                        output.flush();\r\n                        break;\r\n                }\r\n    \r\n                input.close();\r\n                output.close();\r\n                client.close();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                Server server = new Server();\r\n            } catch (IOException e) {\r\n                System.out.print(e);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is a code example for the client.\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class Client {\r\n    \r\n        Client() throws IOException {\r\n            Socket socket = new Socket(&quot;localhost&quot;, 8080);\r\n            DataInputStream input = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\r\n            DataOutputStream output = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));\r\n    \r\n            output.writeInt(1);\r\n            output.writeInt(5);\r\n            output.writeInt(10);\r\n            output.writeInt(20);\r\n            output.flush();\r\n    \r\n            int response = input.readInt();\r\n            System.out.println(response);\r\n    \r\n            input.close();\r\n            output.close();\r\n            socket.close();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                Client client = new Client();\r\n            } catch (IOException e) {\r\n                System.out.print(e);\r\n            }\r\n        }\r\n    }\r\n\r\nNow we can run the server as a background process, and then run the client.\r\n\r\n    % java Server.java &amp;\r\n    % java Client.java\r\n    -25\r\n\r\nYou can see that the subtraction routine is working fine. \r\n\r\nThe operation 5-10-20 returns -25.\r\n\r\nI think that the DataInputStream and DataOutputStream classes solve a lot of problems that might be happening that are hard to find.\r\n\r\nFor example, the InputStream.read() method is not able to read negative numbers, because it returns an int in the range 0 to 255. \r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read()\r\n\r\n&gt; Reads the next byte of data from the input stream. The value byte is\r\n&gt; returned as an int in the range 0 to 255. If no byte is available\r\n&gt; because the end of the stream has been reached, the value -1 is\r\n&gt; returned. This method blocks until input data is available, the end of\r\n&gt; the stream is detected, or an exception is thrown.\r\n\r\nThat&#39;s one reason DataInputStream and DataOutputStream make things easier when writing primitives across a stream.\r\n\r\nI tested the addition, subtraction, and multiplication routines using the code from the examples.\r\n\r\nThe code works fine for all three cases. Each routine gives the correct result.","title":"Java Socket Calculator Subtraction and Multiplication is not working but Addition is working","body":"<p>I think it helps to use the DataInputStream and DataOutputStream classes for writing ints, chars, and Java primitive data types over a stream.</p>\n<p>Here is a code example for the server.</p>\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class Server {\n\n    ServerSocket server = new ServerSocket(8080);\n\n    Server() throws IOException {\n        while (true) {\n            Socket client = server.accept();\n            DataInputStream input = new DataInputStream(new BufferedInputStream(client.getInputStream()));\n            DataOutputStream output = new DataOutputStream(new BufferedOutputStream(client.getOutputStream()));\n\n            int op = input.readInt();\n            int num1 = input.readInt();\n            int num2 = input.readInt();\n            int num3 = input.readInt();\n\n            switch (op) {\n                case 0:\n                    output.writeInt(num1 + num2 + num3);\n                    output.flush();\n                    break;\n                case 1:\n                    output.writeInt(num1 - num2 - num3);\n                    output.flush();\n                    break;\n                case 2:\n                    output.writeInt(num1 * num2 * num3);\n                    output.flush();\n                    break;\n            }\n\n            input.close();\n            output.close();\n            client.close();\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            Server server = new Server();\n        } catch (IOException e) {\n            System.out.print(e);\n        }\n    }\n}\n</code></pre>\n<p>Here is a code example for the client.</p>\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class Client {\n\n    Client() throws IOException {\n        Socket socket = new Socket(&quot;localhost&quot;, 8080);\n        DataInputStream input = new DataInputStream(new BufferedInputStream(socket.getInputStream()));\n        DataOutputStream output = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));\n\n        output.writeInt(1);\n        output.writeInt(5);\n        output.writeInt(10);\n        output.writeInt(20);\n        output.flush();\n\n        int response = input.readInt();\n        System.out.println(response);\n\n        input.close();\n        output.close();\n        socket.close();\n    }\n\n    public static void main(String[] args) {\n        try {\n            Client client = new Client();\n        } catch (IOException e) {\n            System.out.print(e);\n        }\n    }\n}\n</code></pre>\n<p>Now we can run the server as a background process, and then run the client.</p>\n<pre><code>% java Server.java &amp;\n% java Client.java\n-25\n</code></pre>\n<p>You can see that the subtraction routine is working fine.</p>\n<p>The operation 5-10-20 returns -25.</p>\n<p>I think that the DataInputStream and DataOutputStream classes solve a lot of problems that might be happening that are hard to find.</p>\n<p>For example, the InputStream.read() method is not able to read negative numbers, because it returns an int in the range 0 to 255.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read()</a></p>\n<blockquote>\n<p>Reads the next byte of data from the input stream. The value byte is\nreturned as an int in the range 0 to 255. If no byte is available\nbecause the end of the stream has been reached, the value -1 is\nreturned. This method blocks until input data is available, the end of\nthe stream is detected, or an exception is thrown.</p>\n</blockquote>\n<p>That's one reason DataInputStream and DataOutputStream make things easier when writing primitives across a stream.</p>\n<p>I tested the addition, subtraction, and multiplication routines using the code from the examples.</p>\n<p>The code works fine for all three cases. Each routine gives the correct result.</p>\n"}],"owner":{"account_id":23850105,"reputation":47,"user_id":17854156,"display_name":"codingkappa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75537175,"answer_count":2,"score":1,"last_activity_date":1677094023,"creation_date":1677091564,"question_id":75536947,"body_markdown":"my code is as the following:\r\nThe Problem is that, Subtraction and Multiplication is not working but the addition is working fine... I at least get a result but, the number is completly wrong, so multiplying the 3 numbers results in 232. If I change the operator to subtraction, the result is 231. So I guess it chooses the wrong number to calculate?\r\nWhat am I doing wrong? Or what is the problem why it is not working? I tried debugging but it did not work for me sadly.\r\n\r\nThank you in advance!\r\n\r\n  \r\n\r\n    Server :\r\n    package sample;\r\n    \r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class server {\r\n    \r\n    \r\n    ServerSocket server = new ServerSocket(10);\r\n    \r\n    server() throws IOException {\r\n    \twhile ( true ) {\r\n    \t\t\tSocket client = server.accept();\r\n    \t\t\tInputStream input = client.getInputStream () ;\r\n    \t\t\tOutputStream output = client.getOutputStream () ;\r\n    \r\n    \t\t\t\r\n    \t\t\tint op = input.read();\r\n    \t\t\t\r\n    \t\t\tint num1 = 0;\r\n    \t\t\tint num2 = 0;\r\n    \t\t\tint num3 = 0;\r\n    \t\t\t\r\n    \t\t\tnum1 = input.read();\r\n    \t\t\tnum2 = input.read();\r\n    \t\t\tnum3 = input.read();\r\n    \t\t\t\r\n    \t\t\tswitch(op) {\r\n    \t\t\tcase 0:\r\n    \t\t\t\toutput.write (num1 + num2 + num3);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 1:\r\n    \t\t\t\toutput.write (num1 - num2 - num3);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 2:\r\n    \t\t\t\toutput.write ((num1 * num2) * num3);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \r\n    \r\n    \t\t\toutput.flush();\r\n    \t\t\tinput.close();\r\n    \t\t\toutput.close();\r\n    \t}}\r\n    \r\n    public static void main (String[] args) {\r\n    \ttry {\r\n    \t\tserver server = new server() ;\r\n    \t} catch (IOException e) {\r\n    \t\tSystem.out.print(e);\r\n    \t}}}\r\n\r\n----\r\n\r\n    Client Code:\r\n    package sample;\r\n    \r\n    \r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class Client {\r\n    \r\n    \r\n    Client() throws IOException {\r\n    \tSocket server = new Socket (&quot;localhost&quot;, 10);\r\n    \t\tInputStream input = server.getInputStream();\r\n    \t\tOutputStream output = server.getOutputStream();\r\n    \t\t\r\n    \t\toutput.write(2);\r\n    \t\t\r\n    \t\toutput.write(5);\r\n    \t\toutput.write(10);\r\n    \t\toutput.write(20);\r\n    \t\t\r\n    \t\toutput.flush();\r\n    \t\tSystem.out.println(input.read());\r\n    \t\tserver.close();\r\n    \t\tinput.close();\r\n    \t\toutput.close();\r\n    \t\t}\r\n    \r\n    public static void main (String[] args) {\r\n    \ttry {\r\n    \t\tClient client = new Client();\r\n    \t} catch (IOException e) {\r\n    \t\tSystem.out.print(e);\r\n    \t}}}\r\n\r\n","title":"Java Socket Calculator Subtraction and Multiplication is not working but Addition is working","body":"<p>my code is as the following:\nThe Problem is that, Subtraction and Multiplication is not working but the addition is working fine... I at least get a result but, the number is completly wrong, so multiplying the 3 numbers results in 232. If I change the operator to subtraction, the result is 231. So I guess it chooses the wrong number to calculate?\nWhat am I doing wrong? Or what is the problem why it is not working? I tried debugging but it did not work for me sadly.</p>\n<p>Thank you in advance!</p>\n<pre><code>Server :\npackage sample;\n\nimport java.net.*;\nimport java.io.*;\n\npublic class server {\n\n\nServerSocket server = new ServerSocket(10);\n\nserver() throws IOException {\n    while ( true ) {\n            Socket client = server.accept();\n            InputStream input = client.getInputStream () ;\n            OutputStream output = client.getOutputStream () ;\n\n            \n            int op = input.read();\n            \n            int num1 = 0;\n            int num2 = 0;\n            int num3 = 0;\n            \n            num1 = input.read();\n            num2 = input.read();\n            num3 = input.read();\n            \n            switch(op) {\n            case 0:\n                output.write (num1 + num2 + num3);\n                break;\n            case 1:\n                output.write (num1 - num2 - num3);\n                break;\n            case 2:\n                output.write ((num1 * num2) * num3);\n                break;\n            }\n\n\n            output.flush();\n            input.close();\n            output.close();\n    }}\n\npublic static void main (String[] args) {\n    try {\n        server server = new server() ;\n    } catch (IOException e) {\n        System.out.print(e);\n    }}}\n</code></pre>\n<hr />\n<pre><code>Client Code:\npackage sample;\n\n\nimport java.net.*;\nimport java.io.*;\n\npublic class Client {\n\n\nClient() throws IOException {\n    Socket server = new Socket (&quot;localhost&quot;, 10);\n        InputStream input = server.getInputStream();\n        OutputStream output = server.getOutputStream();\n        \n        output.write(2);\n        \n        output.write(5);\n        output.write(10);\n        output.write(20);\n        \n        output.flush();\n        System.out.println(input.read());\n        server.close();\n        input.close();\n        output.close();\n        }\n\npublic static void main (String[] args) {\n    try {\n        Client client = new Client();\n    } catch (IOException e) {\n        System.out.print(e);\n    }}}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","google-cloud-platform"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1677142555,"post_id":75537233,"comment_id":133280423,"body_markdown":"Do you have a public IP on your database? What&#39;s your db engine version?","body":"Do you have a public IP on your database? What&#39;s your db engine version?"}],"owner":{"account_id":27854077,"reputation":13,"user_id":21267971,"display_name":"Peter Sabio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677093410,"creation_date":1677093410,"question_id":75537233,"body_markdown":"I am running springboot with hibernate and attempting to establish a connection with the database however I am getting a driver manager is not properly initialized error.\r\n\r\nHere is my pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.SeniorProject&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Advising&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Advising-BackEnd&lt;/name&gt;\r\n\t&lt;description&gt;Back End code for advising senior project &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-socket-factory-connector-j-8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nhere is my application.properties file\r\n\r\n```\r\n#datasource configurations\r\nspring.datasource.url=jdbc:mysql:///seniorproject-db?cloudSqlInstance=seniorproject-376014:us-central1:seniorproject-db&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nspring.profiles.active=mysql\r\n```\r\nhere is the hibernateUtil file\r\n\r\n```\r\npackage com.SeniorProject.Advising.config;\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.Metadata;\r\nimport org.hibernate.boot.MetadataSources;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class HibernateUtil {\r\n    private static StandardServiceRegistry registry;\r\n    private static SessionFactory sessionFactory;\r\n\r\n    @Bean(name= &quot;entityManagerFactory&quot;)\r\n    public static SessionFactory getSessionFactory(){\r\n        if(sessionFactory == null){\r\n            try{\r\n                //create registry\r\n                registry = new StandardServiceRegistryBuilder().configure().build();\r\n\r\n                //createMetadataSources\r\n                MetadataSources sources = new MetadataSources(registry);\r\n\r\n                //create Metadata\r\n                Metadata metadata = sources.getMetadataBuilder().build();\r\n\r\n                //create Session Factory\r\n                sessionFactory = metadata.getSessionFactoryBuilder().build();\r\n\r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n                if (registry != null){\r\n                    StandardServiceRegistryBuilder.destroy(registry);\r\n                }\r\n            }\r\n        }\r\n        return sessionFactory;\r\n    }\r\n\r\n    public static void shutDown(){\r\n        if (registry != null){\r\n            StandardServiceRegistryBuilder.destroy(registry);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nhere is the error I am getting\r\n\r\n\r\n```\r\njava.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:262) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:48) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:125) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:121) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:43) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:61) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:501) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:367) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:552) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:105) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:81) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:125) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:249) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:175) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:97) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:402) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:90) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat com.SeniorProject.Advising.config.HibernateUtil.getSessionFactory(HibernateUtil.java:27) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:515) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1663) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1412) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.SeniorProject.Advising.AdvisingBackEndApplication.main(AdvisingBackEndApplication.java:18) ~[classes/:na]\r\n```\r\n\r\n\r\n\r\n\r\nI think the problem is somthing to do with making the connection to the google cloud DB but I am pretty sure all the connection info in the properties file is correct. \r\nI am very new to both hibernate and spring boot so any help is greatl appreciated","title":"Error when attempting to connect a google cloud mysql database to my spring boot and hibernate backend","body":"<p>I am running springboot with hibernate and attempting to establish a connection with the database however I am getting a driver manager is not properly initialized error.</p>\n<p>Here is my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.SeniorProject&lt;/groupId&gt;\n    &lt;artifactId&gt;Advising&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Advising-BackEnd&lt;/name&gt;\n    &lt;description&gt;Back End code for advising senior project &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-socket-factory-connector-j-8&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>here is my application.properties file</p>\n<pre><code>#datasource configurations\nspring.datasource.url=jdbc:mysql:///seniorproject-db?cloudSqlInstance=seniorproject-376014:us-central1:seniorproject-db&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory\nspring.datasource.username=\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.profiles.active=mysql\n</code></pre>\n<p>here is the hibernateUtil file</p>\n<pre><code>package com.SeniorProject.Advising.config;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.Metadata;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class HibernateUtil {\n    private static StandardServiceRegistry registry;\n    private static SessionFactory sessionFactory;\n\n    @Bean(name= &quot;entityManagerFactory&quot;)\n    public static SessionFactory getSessionFactory(){\n        if(sessionFactory == null){\n            try{\n                //create registry\n                registry = new StandardServiceRegistryBuilder().configure().build();\n\n                //createMetadataSources\n                MetadataSources sources = new MetadataSources(registry);\n\n                //create Metadata\n                Metadata metadata = sources.getMetadataBuilder().build();\n\n                //create Session Factory\n                sessionFactory = metadata.getSessionFactoryBuilder().build();\n\n            } catch (Exception e){\n                e.printStackTrace();\n                if (registry != null){\n                    StandardServiceRegistryBuilder.destroy(registry);\n                }\n            }\n        }\n        return sessionFactory;\n    }\n\n    public static void shutDown(){\n        if (registry != null){\n            StandardServiceRegistryBuilder.destroy(registry);\n        }\n    }\n}\n\n</code></pre>\n<p>here is the error I am getting</p>\n<pre><code>java.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:262) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:48) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:125) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:121) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:43) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:61) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:501) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:367) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:552) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:105) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:81) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:125) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:249) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:175) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:97) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:402) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:90) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at com.SeniorProject.Advising.config.HibernateUtil.getSessionFactory(HibernateUtil.java:27) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:515) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1663) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1412) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.SeniorProject.Advising.AdvisingBackEndApplication.main(AdvisingBackEndApplication.java:18) ~[classes/:na]\n</code></pre>\n<p>I think the problem is somthing to do with making the connection to the google cloud DB but I am pretty sure all the connection info in the properties file is correct.\nI am very new to both hibernate and spring boot so any help is greatl appreciated</p>\n"},{"tags":["java","performance","for-loop"],"comments":[{"owner":{"account_id":2095810,"reputation":5066,"user_id":14853083,"display_name":"Tangentially Perpendicular"},"score":1,"creation_date":1676599795,"post_id":75479622,"comment_id":133174493,"body_markdown":"Are you sure your assumptions are correct? The execution time for a single iteration is likely to be disproprtionatley affected by other system activities (I/O, interrupt handling, task switching, etc.). These effects will be averaged out by the longer loops.","body":"Are you sure your assumptions are correct? The execution time for a single iteration is likely to be disproprtionatley affected by other system activities (I/O, interrupt handling, task switching, etc.). These effects will be averaged out by the longer loops."},{"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"score":0,"creation_date":1676600491,"post_id":75479622,"comment_id":133174595,"body_markdown":"When executed once, code 1 is almost 10 times faster than code 2. But in for loop, code 1 takes almost 2 times more time than code 2. I am trying to get better performance in for loop.","body":"When executed once, code 1 is almost 10 times faster than code 2. But in for loop, code 1 takes almost 2 times more time than code 2. I am trying to get better performance in for loop."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1676602893,"post_id":75479622,"comment_id":133174929,"body_markdown":"Try measuring &quot;code 1 just once&quot; and &quot;code 2 just once&quot; after you measure them in loops. I got different results that says code 1 is slower in both cases. This suggests that this is probably due to the VM not being warmed up at first. In any case, you should use [JMH](https://github.com/openjdk/jmh) for benchmarking. JMH&#39;s results also says that code 1 is slower in both cases, by the way.","body":"Try measuring &quot;code 1 just once&quot; and &quot;code 2 just once&quot; after you measure them in loops. I got different results that says code 1 is slower in both cases. This suggests that this is probably due to the VM not being warmed up at first. In any case, you should use <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a> for benchmarking. JMH&#39;s results also says that code 1 is slower in both cases, by the way."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676602918,"post_id":75479622,"comment_id":133174933,"body_markdown":"See also: https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"See also: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1676612448,"post_id":75479622,"comment_id":133176115,"body_markdown":"It&#39;s very likely that your measurements are just straight-up lying to you.","body":"It&#39;s very likely that your measurements are just straight-up lying to you."},{"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"score":0,"creation_date":1676640654,"post_id":75479622,"comment_id":133183234,"body_markdown":"@Sweeper, I followed your instructions and I got the same result: code 1 is slower in both cases. As I am trying to improve the performance of this code inside for loop, I would like to ask you if there is a way to make code 2 better inside for loop?","body":"@Sweeper, I followed your instructions and I got the same result: code 1 is slower in both cases. As I am trying to improve the performance of this code inside for loop, I would like to ask you if there is a way to make code 2 better inside for loop?"},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1676816667,"post_id":75479622,"comment_id":133209380,"body_markdown":"1. Always use JMH to compare precisely. 2. Math.pow and % are relatively expensive operations. I bet they are the cause. Another cause may be  the cache misses, but in both cases you have the same pattern of memory access. 3. To go deeply and to be sure you may review JMH with perfasm output (with enabled events-Djmh.perfasm.events=cycles,cache-misses)","body":"1. Always use JMH to compare precisely. 2. Math.pow and % are relatively expensive operations. I bet they are the cause. Another cause may be  the cache misses, but in both cases you have the same pattern of memory access. 3. To go deeply and to be sure you may review JMH with perfasm output (with enabled events-Djmh.perfasm.events=cycles,cache-misses)"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677092805,"creation_date":1677092805,"answer_id":75537142,"question_id":75479622,"body_markdown":"You assumption that code1 was faster than code2 is wrong, [as already explained].\r\n\r\nYou can read about common benchmark pitfalls in https://stackoverflow.com/q/504103/2711488\r\n\r\nFor example, don’t put the different variants into the same method, better, do not even run them within the same JVM. Further, take care to use the result value and run the methods multiple times, to see the impact of first time initialization overhead and the JIT compiler and optimizer.\r\n\r\nGenerally, `Math.pow(x, 2)` is expected to be more expensive than `x * x`, unless the optimizer recognizes that you are using a constant argument. In the best case, the optimizer replaces `Math.pow(x, 2)` by `x * x` but we won’t get better performance than `x * x`.\r\n\r\n---\r\n\r\nBut the two variants have another difference, *which even produces different results*.\r\n\r\n - The first variant uses `… / 50 % 1 * 50` which is the same as `… % 50`.\r\n\r\n - The second variant uses `(… / 50 - Math.floor(… / 50)) * 50`  \r\n   which is the same as `Math.floorMod(…, 50)`.\r\n\r\nBoth produce the same result for positive numbers but have an entirely different behavior for negative numbers.\r\n\r\n 1. `-60 % 50 == -10`\r\n\r\n 2. `Math.floorMod(-60, 50) == 40`\r\n\r\nYou should decide which behavior you want. Then, as shown above, there is a simpler alternative in either case.\r\n\r\n - For the first variant\r\n\r\n    ```java\r\n    double temp = array[index] / (double)parameter;\r\n    int result = (int)((Math.round(temp * temp) - 1) % 50) + 1;\r\n    ```\r\n\r\n - For the second variant\r\n\r\n    ```java\r\n    double temp = array[index] / (double) parameter;\r\n    int result = Math.floorMod(Math.round(temp * temp) - 1, 50) + 1;\r\n    ```\r\n\r\n&lt;sup&gt;`parameter` is the `int` variable you initialized with `426`&lt;/sup&gt;\r\n\r\nIn either case I expect the simpler variant to be faster than your original code.\r\n\r\n---\r\n\r\nNote that [`Math.floorMod(long, int)`] requires Java&#160;9. If you try to compile this code with Java&#160;8, it will use [`Math.floorMod(long, long)`] and require you to insert a type cast to `int` for the final result. The result value will still be the same.\r\n\r\n[as already explained]: https://stackoverflow.com/questions/75479622/#comment133174929_75479622\r\n\r\n[`Math.floorMod(long, int)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#floorMod(long,int)\r\n\r\n[`Math.floorMod(long, long)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#floorMod(long,long)","title":"How to make java code perform better in for loop?","body":"<p>You assumption that code1 was faster than code2 is wrong, <a href=\"https://stackoverflow.com/questions/75479622/#comment133174929_75479622\">as already explained</a>.</p>\n<p>You can read about common benchmark pitfalls in <a href=\"https://stackoverflow.com/q/504103/2711488\">How do I write a correct micro-benchmark in Java?</a></p>\n<p>For example, don’t put the different variants into the same method, better, do not even run them within the same JVM. Further, take care to use the result value and run the methods multiple times, to see the impact of first time initialization overhead and the JIT compiler and optimizer.</p>\n<p>Generally, <code>Math.pow(x, 2)</code> is expected to be more expensive than <code>x * x</code>, unless the optimizer recognizes that you are using a constant argument. In the best case, the optimizer replaces <code>Math.pow(x, 2)</code> by <code>x * x</code> but we won’t get better performance than <code>x * x</code>.</p>\n<hr />\n<p>But the two variants have another difference, <em>which even produces different results</em>.</p>\n<ul>\n<li><p>The first variant uses <code>… / 50 % 1 * 50</code> which is the same as <code>… % 50</code>.</p>\n</li>\n<li><p>The second variant uses <code>(… / 50 - Math.floor(… / 50)) * 50</code><br />\nwhich is the same as <code>Math.floorMod(…, 50)</code>.</p>\n</li>\n</ul>\n<p>Both produce the same result for positive numbers but have an entirely different behavior for negative numbers.</p>\n<ol>\n<li><p><code>-60 % 50 == -10</code></p>\n</li>\n<li><p><code>Math.floorMod(-60, 50) == 40</code></p>\n</li>\n</ol>\n<p>You should decide which behavior you want. Then, as shown above, there is a simpler alternative in either case.</p>\n<ul>\n<li><p>For the first variant</p>\n<pre class=\"lang-java prettyprint-override\"><code>double temp = array[index] / (double)parameter;\nint result = (int)((Math.round(temp * temp) - 1) % 50) + 1;\n</code></pre>\n</li>\n<li><p>For the second variant</p>\n<pre class=\"lang-java prettyprint-override\"><code>double temp = array[index] / (double) parameter;\nint result = Math.floorMod(Math.round(temp * temp) - 1, 50) + 1;\n</code></pre>\n</li>\n</ul>\n<p><sup><code>parameter</code> is the <code>int</code> variable you initialized with <code>426</code></sup></p>\n<p>In either case I expect the simpler variant to be faster than your original code.</p>\n<hr />\n<p>Note that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#floorMod(long,int)\" rel=\"nofollow noreferrer\"><code>Math.floorMod(long, int)</code></a> requires Java 9. If you try to compile this code with Java 8, it will use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#floorMod(long,long)\" rel=\"nofollow noreferrer\"><code>Math.floorMod(long, long)</code></a> and require you to insert a type cast to <code>int</code> for the final result. The result value will still be the same.</p>\n"}],"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75537142,"answer_count":1,"score":0,"last_activity_date":1677092805,"creation_date":1676599503,"question_id":75479622,"body_markdown":"When executed once, code 1 is faster than code 2. The difference is quite significant.\r\n\r\nBut, when these codes are executed inside for loop (50 million times, see code 1 inside for loop and code 2 inside for loop) code 1 has the worst performance.\r\n\r\nIs it possible to make code 1 perform better inside for loop?\r\n\r\nAnother question: is there another way to do these calculations **inside for loop** with a better performance?\r\n\r\n        int [] arr1 = new int[50000000];\r\n        for (int i = 0; i &lt; 50000000; i++) {\r\n            arr1[i] = i + 1000;\r\n        }\r\n        \r\n        //code 1:\r\n        long startTime1 = System.nanoTime();\r\n        int som1 = 426;\r\n        double a1 = (double) ((((double) Math.round((double) Math.pow((double) arr1[arr1.length - 1] / (double) som1, 2)) - 1) / 50 % 1) * 50) + 1;\r\n        int a2 = (int) Math.round(a1);\r\n        long estimatedTime1 = System.nanoTime() - startTime1;\r\n        System.out.println(&quot;Code 1: &quot; + estimatedTime1);\r\n        \r\n        //code 2:\r\n        long startTime2 = System.nanoTime();\r\n        int som2 = 426;\r\n        double a3 = (double) arr1[arr1.length - 1] / (double) som2;\r\n        double a4 = (double) (Math.round(a3 * a3) - 1);\r\n        double a5 = (double) a4 / 50;\r\n        double a6 = (double) Math.floor(a5);\r\n        double a7 = (double) ((a5 - a6) * 50) + 1;\r\n        int a8 = (int) Math.round(a7);\r\n        long estimatedTime2 = System.nanoTime() - startTime2;\r\n        System.out.println(&quot;Code 2: &quot; + estimatedTime2);\r\n        \r\n        //code 1 inside for loop:\r\n        long startTime3 = System.nanoTime();\r\n        int som3 = 426;\r\n        for (int j1 = 0; j1 &lt; arr1.length; j1++) {\r\n            double a9 = (double) ((((double) Math.round((double) Math.pow((double) arr1[j1] / (double) som1, 2)) - 1) / 50 % 1) * 50) + 1;\r\n            int a10 = (int) Math.round(a9);\r\n        }\r\n        long estimatedTime3 = System.nanoTime() - startTime3;\r\n        System.out.println(&quot;Code 1 inside for loop: &quot; + estimatedTime3);\r\n        \r\n        //code 2 inside for loop:\r\n        long startTime4 = System.nanoTime();\r\n        int som4 = 426;\r\n        for (int j2 = 0; j2 &lt; arr1.length; j2++) {\r\n            double a11 = (double) arr1[j2] / (double) som4;\r\n            double a12 = (double) (Math.round(a11 * a11) - 1);\r\n            double a13 = (double) a12 / 50;\r\n            double a14 = (double) Math.floor(a13);\r\n            double a15 = (double) ((a13 - a14) * 50) + 1;\r\n            int a16 = (int) Math.round(a15);\r\n        }\r\n        long estimatedTime4 = System.nanoTime() - startTime4;\r\n        System.out.println(&quot;Code 2 inside for loop: &quot; + estimatedTime4);\r\n\r\nEdit : As explained by @Sweeper, code 1 is slower in both cases. As I am trying to improve the performance of this code inside for loop, I would like to ask if there is a faster way to do these calculations **inside for loop**.","title":"How to make java code perform better in for loop?","body":"<p>When executed once, code 1 is faster than code 2. The difference is quite significant.</p>\n<p>But, when these codes are executed inside for loop (50 million times, see code 1 inside for loop and code 2 inside for loop) code 1 has the worst performance.</p>\n<p>Is it possible to make code 1 perform better inside for loop?</p>\n<p>Another question: is there another way to do these calculations <strong>inside for loop</strong> with a better performance?</p>\n<pre><code>    int [] arr1 = new int[50000000];\n    for (int i = 0; i &lt; 50000000; i++) {\n        arr1[i] = i + 1000;\n    }\n    \n    //code 1:\n    long startTime1 = System.nanoTime();\n    int som1 = 426;\n    double a1 = (double) ((((double) Math.round((double) Math.pow((double) arr1[arr1.length - 1] / (double) som1, 2)) - 1) / 50 % 1) * 50) + 1;\n    int a2 = (int) Math.round(a1);\n    long estimatedTime1 = System.nanoTime() - startTime1;\n    System.out.println(&quot;Code 1: &quot; + estimatedTime1);\n    \n    //code 2:\n    long startTime2 = System.nanoTime();\n    int som2 = 426;\n    double a3 = (double) arr1[arr1.length - 1] / (double) som2;\n    double a4 = (double) (Math.round(a3 * a3) - 1);\n    double a5 = (double) a4 / 50;\n    double a6 = (double) Math.floor(a5);\n    double a7 = (double) ((a5 - a6) * 50) + 1;\n    int a8 = (int) Math.round(a7);\n    long estimatedTime2 = System.nanoTime() - startTime2;\n    System.out.println(&quot;Code 2: &quot; + estimatedTime2);\n    \n    //code 1 inside for loop:\n    long startTime3 = System.nanoTime();\n    int som3 = 426;\n    for (int j1 = 0; j1 &lt; arr1.length; j1++) {\n        double a9 = (double) ((((double) Math.round((double) Math.pow((double) arr1[j1] / (double) som1, 2)) - 1) / 50 % 1) * 50) + 1;\n        int a10 = (int) Math.round(a9);\n    }\n    long estimatedTime3 = System.nanoTime() - startTime3;\n    System.out.println(&quot;Code 1 inside for loop: &quot; + estimatedTime3);\n    \n    //code 2 inside for loop:\n    long startTime4 = System.nanoTime();\n    int som4 = 426;\n    for (int j2 = 0; j2 &lt; arr1.length; j2++) {\n        double a11 = (double) arr1[j2] / (double) som4;\n        double a12 = (double) (Math.round(a11 * a11) - 1);\n        double a13 = (double) a12 / 50;\n        double a14 = (double) Math.floor(a13);\n        double a15 = (double) ((a13 - a14) * 50) + 1;\n        int a16 = (int) Math.round(a15);\n    }\n    long estimatedTime4 = System.nanoTime() - startTime4;\n    System.out.println(&quot;Code 2 inside for loop: &quot; + estimatedTime4);\n</code></pre>\n<p>Edit : As explained by @Sweeper, code 1 is slower in both cases. As I am trying to improve the performance of this code inside for loop, I would like to ask if there is a faster way to do these calculations <strong>inside for loop</strong>.</p>\n"},{"tags":["java","spring-boot","testing","model-view-controller","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685185761,"post_id":75535882,"comment_id":134628330,"body_markdown":"How are you configuring/initializing `MockMvc` in your test?","body":"How are you configuring/initializing <code>MockMvc</code> in your test?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685194261,"post_id":75535882,"comment_id":134629247,"body_markdown":"https://stackoverflow.com/questions/33616386/spring-security-authenticationprincipal – is your controller working outside of the test in the real application? Where is your authentication principal created? How is your authentication manager implemented?","body":"<a href=\"https://stackoverflow.com/questions/33616386/spring-security-authenticationprincipal\" title=\"spring security authenticationprincipal\">stackoverflow.com/questions/33616386/&hellip;</a> – is your controller working outside of the test in the real application? Where is your authentication principal created? How is your authentication manager implemented?"}],"owner":{"account_id":27018067,"reputation":1,"user_id":21267218,"display_name":"cumbainer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677092643,"creation_date":1677085129,"question_id":75535882,"body_markdown":"i am trying to write code to my @Controller secured endpoint, here is the most essential parts of that method:\r\n\r\n```\r\n@GetMapping(&quot;/{username}&quot;)\r\n    public String getUser(@PathVariable(&quot;username&quot;) String username, @AuthenticationPrincipal SecurityUser u, Model model){\r\n        User user = userService.readByUsername(username);\r\n        List&lt;Post&gt; posts = postService.getPostsByUser_Username(username);\r\n\r\n\r\n        boolean ifImageIsPresent = false;\r\n        boolean ifFriend = false;\r\n        boolean isAccount = false;\r\n\r\n        Friend f = friendService.getFriendByReceiverUsername(username, u.getUsername());\r\n\r\n        if(u.getImages().size() &gt; 0){\r\n            ifImageIsPresent = true;\r\n        }\r\n\r\n        if(f != null){\r\n            ifFriend = true;\r\n        }\r\n\r\n        if(u.getReceivedRequests().contains(f)){\r\n            ifFriend = true;\r\n        }\r\n        if(u.getUsername().equals(username)){\r\n            isAccount = true;\r\n        }\r\n\r\n        model.addAttribute(&quot;ifFriend&quot;, ifFriend);\r\n        model.addAttribute(&quot;isAccount&quot;, isAccount);\r\n        model.addAttribute(&quot;imageIsPresent&quot;, ifImageIsPresent);\r\n        model.addAttribute(&quot;posts&quot;, posts);\r\n\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        model.addAttribute(&quot;image&quot;, user.getImages());\r\n\r\n        model.addAttribute(&quot;size&quot;, user.getImages().size());\r\n        return &quot;profile-page&quot;;\r\n    }\r\n```\r\n\r\nAnd here is my test method:\r\n\r\n\r\n\r\n```\r\n@Test\r\n//    @DisplayName(&quot;Test requesting specific user information by user id in URL&quot;)\r\n    public void getUserByIdTest() throws Exception {\r\n        User user = new User();\r\n        //Fields by which I will check correctness\r\n        user.setFirstName(&quot;FirstTest&quot;);\r\n        user.setLastName(&quot;LastTest&quot;);\r\n        user.setPassword(&quot;q&quot;);\r\n        user.setEmail(&quot;email@ua.com&quot;);\r\n        user.setUsername(&quot;q&quot;);\r\n        user.setId(444);\r\n\r\n        given(userService.readByUsername(user.getUsername())).willReturn(user);\r\n\r\n        mockMvc.perform(MockMvcRequestBuilders.get(&quot;/users/q&quot;))\r\n                .andExpect(view().name(&quot;profile-page&quot;))\r\n                .andExpect(status().isUnauthorized())\r\n                .andExpect(model().attributeExists(&quot;user&quot;))\r\n                .andExpect(model().attribute(&quot;user&quot;, user));\r\n    }\r\n```\r\n\r\nAnd in respose i get that i`m not authorize, so 401 error. \r\n\r\n\r\n\r\nI tried adding annotation\r\n\r\n```\r\n@WithMockUser(username = &quot;q&quot;, password = &quot;q&quot;, roles = &quot;USER&quot;)\r\n```\r\nBut then in logs i get this error:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;ua.socialnetwork.security.SecurityUser.getUsername()&quot; because &quot;u&quot; is null\r\n\tat ua.socialnetwork.controller.UserController.getUser(UserController.java:136)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010)\r\n\t... 137 more\r\n```\r\n\r\nAlso, i have tried adding \r\n```\r\n@Import(SecurityConfig.class)\r\n```\r\nBut it did not help. \r\n\r\nI think the problem is in method, because i am using \r\n```\r\n@AuthenticationPrincipal annotation\r\n```\r\nBut i havent found any solutions how to fix it\r\n\r\n\r\n\r\n\r\nI need to somehow login in MockMVC, so i can test my code:D \r\nOr think of other methods, but i dont know which ones and actually how, because kind of new to tests\r\n\r\n","title":"How to authorize in MockMVC Unit Tests","body":"<p>i am trying to write code to my @Controller secured endpoint, here is the most essential parts of that method:</p>\n<pre><code>@GetMapping(&quot;/{username}&quot;)\n    public String getUser(@PathVariable(&quot;username&quot;) String username, @AuthenticationPrincipal SecurityUser u, Model model){\n        User user = userService.readByUsername(username);\n        List&lt;Post&gt; posts = postService.getPostsByUser_Username(username);\n\n\n        boolean ifImageIsPresent = false;\n        boolean ifFriend = false;\n        boolean isAccount = false;\n\n        Friend f = friendService.getFriendByReceiverUsername(username, u.getUsername());\n\n        if(u.getImages().size() &gt; 0){\n            ifImageIsPresent = true;\n        }\n\n        if(f != null){\n            ifFriend = true;\n        }\n\n        if(u.getReceivedRequests().contains(f)){\n            ifFriend = true;\n        }\n        if(u.getUsername().equals(username)){\n            isAccount = true;\n        }\n\n        model.addAttribute(&quot;ifFriend&quot;, ifFriend);\n        model.addAttribute(&quot;isAccount&quot;, isAccount);\n        model.addAttribute(&quot;imageIsPresent&quot;, ifImageIsPresent);\n        model.addAttribute(&quot;posts&quot;, posts);\n\n        model.addAttribute(&quot;user&quot;, user);\n        model.addAttribute(&quot;image&quot;, user.getImages());\n\n        model.addAttribute(&quot;size&quot;, user.getImages().size());\n        return &quot;profile-page&quot;;\n    }\n</code></pre>\n<p>And here is my test method:</p>\n<pre><code>@Test\n//    @DisplayName(&quot;Test requesting specific user information by user id in URL&quot;)\n    public void getUserByIdTest() throws Exception {\n        User user = new User();\n        //Fields by which I will check correctness\n        user.setFirstName(&quot;FirstTest&quot;);\n        user.setLastName(&quot;LastTest&quot;);\n        user.setPassword(&quot;q&quot;);\n        user.setEmail(&quot;email@ua.com&quot;);\n        user.setUsername(&quot;q&quot;);\n        user.setId(444);\n\n        given(userService.readByUsername(user.getUsername())).willReturn(user);\n\n        mockMvc.perform(MockMvcRequestBuilders.get(&quot;/users/q&quot;))\n                .andExpect(view().name(&quot;profile-page&quot;))\n                .andExpect(status().isUnauthorized())\n                .andExpect(model().attributeExists(&quot;user&quot;))\n                .andExpect(model().attribute(&quot;user&quot;, user));\n    }\n</code></pre>\n<p>And in respose i get that i`m not authorize, so 401 error.</p>\n<p>I tried adding annotation</p>\n<pre><code>@WithMockUser(username = &quot;q&quot;, password = &quot;q&quot;, roles = &quot;USER&quot;)\n</code></pre>\n<p>But then in logs i get this error:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;ua.socialnetwork.security.SecurityUser.getUsername()&quot; because &quot;u&quot; is null\n    at ua.socialnetwork.controller.UserController.getUser(UserController.java:136)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010)\n    ... 137 more\n</code></pre>\n<p>Also, i have tried adding</p>\n<pre><code>@Import(SecurityConfig.class)\n</code></pre>\n<p>But it did not help.</p>\n<p>I think the problem is in method, because i am using</p>\n<pre><code>@AuthenticationPrincipal annotation\n</code></pre>\n<p>But i havent found any solutions how to fix it</p>\n<p>I need to somehow login in MockMVC, so i can test my code:D\nOr think of other methods, but i dont know which ones and actually how, because kind of new to tests</p>\n"},{"tags":["java","google-maps","android-layout","searchview"],"comments":[{"owner":{"account_id":13762909,"reputation":1124,"user_id":9932194,"display_name":"K M Rejowan Ahmmed"},"score":0,"creation_date":1677031957,"post_id":75522588,"comment_id":133255970,"body_markdown":"Could you add the whole crash log? that would give us a clear idea.","body":"Could you add the whole crash log? that would give us a clear idea."},{"owner":{"account_id":27841709,"reputation":3,"user_id":21258064,"display_name":"Donny"},"score":0,"creation_date":1677067729,"post_id":75522588,"comment_id":133263271,"body_markdown":"Just added all the errors that come up for me","body":"Just added all the errors that come up for me"},{"owner":{"account_id":13762909,"reputation":1124,"user_id":9932194,"display_name":"K M Rejowan Ahmmed"},"score":0,"creation_date":1677069550,"post_id":75522588,"comment_id":133263829,"body_markdown":"It shows there is a null pointer exception while using getLatitude() method at your MainActivity code line 115. Could you check that line? Or add the whole MainActivity Code including the imports as well","body":"It shows there is a null pointer exception while using getLatitude() method at your MainActivity code line 115. Could you check that line? Or add the whole MainActivity Code including the imports as well"}],"owner":{"account_id":27841709,"reputation":3,"user_id":21258064,"display_name":"Donny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677092548,"creation_date":1676993437,"question_id":75522588,"body_markdown":"I am creating a searchview for my Google Maps in Android Studio using Java however when I type in a location the emulator crashes I used this [video](https://youtu.be/QnIWzKB4084) and followed it step by step however my app still crashes and gives me the error at com.example.routeplanner.MainActivity$1.onQueryTextSubmit(MainActivity.java:77)\r\n\r\nHere is my Java Code:\r\n\r\n```\r\nIMPORTS\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.os.Bundle;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.Toast;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.maps.CameraUpdate;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.Marker;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class MainActivity extends FragmentActivity implements OnMapReadyCallback\r\n{\r\n    GoogleMap googleMap;\r\n    SupportMapFragment mapFragment;\r\n    SearchView searchView;\r\n    Location currentLocation;\r\n    FusedLocationProviderClient fusedClient;\r\n    private static final int REQUEST_CODE = 101;\r\n    FrameLayout frameLayout;\r\n    Marker marker;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        searchView = findViewById(R.id.search);\r\n        mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.fragmentMap);\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                String location = searchView.getQuery().toString();\r\n                if (location == null)\r\n                {\r\n                    Toast.makeText(MainActivity.this, &quot;Location NOT FOUND&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }else\r\n                {\r\n                    Geocoder geocoder = new Geocoder(MainActivity.this, Locale.getDefault());\r\n                    try\r\n                    {\r\n                        List&lt;Address&gt; addressList = geocoder.getFromLocationName(location, 1);\r\n                        if (addressList.size() &gt; 0 )\r\n                        {\r\n                            LatLng latLng = new LatLng(addressList.get(0).getLatitude(),addressList.get(0).getLongitude());\r\n                            if (marker != null)\r\n                            {\r\n                                marker.remove();\r\n                            }\r\n                            MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(location);\r\n                            markerOptions.icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_AZURE));\r\n                            CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(latLng, 5);\r\n                            googleMap.animateCamera(cameraUpdate);\r\n                            marker = googleMap.addMarker(markerOptions);\r\n                        }\r\n                    }catch (IOException e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                    return false;\r\n            }\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                return false;\r\n            }\r\n        });\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap)\r\n    {\r\n        this.googleMap = googleMap;\r\n    }\r\n}\r\n```\r\n\r\nXML for the searchView is:\r\n```\r\n&lt;androidx.appcompat.widget.SearchView\r\n        android:id=&quot;@+id/search&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:background=&quot;#BFBFBF&quot;\r\n        android:elevation=&quot;5dp&quot;\r\n        app:iconifiedByDefault=&quot;false&quot;\r\n        app:queryHint=&quot;Search Location&quot; /&gt;\r\n\r\nI tired doing the searchview another way however this did not work for me either I was using this [video](https://youtu.be/68HWFGCSAj8) But I was getting the same error\r\n\r\nThese are the errors I am getting: \r\n&quot;E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.routeplanner, PID: 3893\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;double android.location.Location.getLatitude()&#39; on a null object reference\r\n        at com.example.routeplanner.MainActivity.onMapReady(MainActivity.java:115)\r\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.1.0:1)\r\n        at com.google.android.gms.maps.internal.zzar.zza(com.google.android.gms:play-services-maps@@18.1.0:6)\r\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.1.0:3)\r\n        at android.os.Binder.transact(Binder.java:499)\r\n        at fj.c(:com.google.android.gms.dynamite_mapsdynamite@230514022@23.05.14 (040700-0):2)\r\n        at com.google.maps.api.android.lib6.impl.bg.run(:com.google.android.gms.dynamite_mapsdynamite@230514022@23.05.14 (040700-0):1)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)&quot;","title":"SearchView crashes when I input a location into it","body":"<p>I am creating a searchview for my Google Maps in Android Studio using Java however when I type in a location the emulator crashes I used this <a href=\"https://youtu.be/QnIWzKB4084\" rel=\"nofollow noreferrer\">video</a> and followed it step by step however my app still crashes and gives me the error at com.example.routeplanner.MainActivity$1.onQueryTextSubmit(MainActivity.java:77)</p>\n<p>Here is my Java Code:</p>\n<pre><code>IMPORTS\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.location.Location;\nimport android.os.Bundle;\nimport android.widget.FrameLayout;\nimport android.widget.Toast;\nimport androidx.fragment.app.FragmentActivity;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.maps.CameraUpdate;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.Marker;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport androidx.appcompat.widget.SearchView;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class MainActivity extends FragmentActivity implements OnMapReadyCallback\n{\n    GoogleMap googleMap;\n    SupportMapFragment mapFragment;\n    SearchView searchView;\n    Location currentLocation;\n    FusedLocationProviderClient fusedClient;\n    private static final int REQUEST_CODE = 101;\n    FrameLayout frameLayout;\n    Marker marker;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        searchView = findViewById(R.id.search);\n        mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.fragmentMap);\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                String location = searchView.getQuery().toString();\n                if (location == null)\n                {\n                    Toast.makeText(MainActivity.this, &quot;Location NOT FOUND&quot;, Toast.LENGTH_SHORT).show();\n\n                    }else\n                {\n                    Geocoder geocoder = new Geocoder(MainActivity.this, Locale.getDefault());\n                    try\n                    {\n                        List&lt;Address&gt; addressList = geocoder.getFromLocationName(location, 1);\n                        if (addressList.size() &gt; 0 )\n                        {\n                            LatLng latLng = new LatLng(addressList.get(0).getLatitude(),addressList.get(0).getLongitude());\n                            if (marker != null)\n                            {\n                                marker.remove();\n                            }\n                            MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(location);\n                            markerOptions.icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_AZURE));\n                            CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(latLng, 5);\n                            googleMap.animateCamera(cameraUpdate);\n                            marker = googleMap.addMarker(markerOptions);\n                        }\n                    }catch (IOException e)\n                    {\n                        e.printStackTrace();\n                    }\n                }\n                    return false;\n            }\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                return false;\n            }\n        });\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap)\n    {\n        this.googleMap = googleMap;\n    }\n}\n</code></pre>\n<p>XML for the searchView is:</p>\n<pre><code>&lt;androidx.appcompat.widget.SearchView\n        android:id=&quot;@+id/search&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;#BFBFBF&quot;\n        android:elevation=&quot;5dp&quot;\n        app:iconifiedByDefault=&quot;false&quot;\n        app:queryHint=&quot;Search Location&quot; /&gt;\n\nI tired doing the searchview another way however this did not work for me either I was using this [video](https://youtu.be/68HWFGCSAj8) But I was getting the same error\n\nThese are the errors I am getting: \n&quot;E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.routeplanner, PID: 3893\n    java.lang.NullPointerException: Attempt to invoke virtual method 'double android.location.Location.getLatitude()' on a null object reference\n        at com.example.routeplanner.MainActivity.onMapReady(MainActivity.java:115)\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.1.0:1)\n        at com.google.android.gms.maps.internal.zzar.zza(com.google.android.gms:play-services-maps@@18.1.0:6)\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.1.0:3)\n        at android.os.Binder.transact(Binder.java:499)\n        at fj.c(:com.google.android.gms.dynamite_mapsdynamite@230514022@23.05.14 (040700-0):2)\n        at com.google.maps.api.android.lib6.impl.bg.run(:com.google.android.gms.dynamite_mapsdynamite@230514022@23.05.14 (040700-0):1)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)&quot;\n</code></pre>\n"},{"tags":["java","spring-boot","compiler-errors","dependencies"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677112831,"post_id":75537091,"comment_id":133275876,"body_markdown":"This is not due to DB connection. I think Record needs an ‘@Entity’ annotation. Check your package hierarchy, you may need a basePackages in your ‘@ ComponentScan’ annotation.","body":"This is not due to DB connection. I think Record needs an ‘@Entity’ annotation. Check your package hierarchy, you may need a basePackages in your ‘@ ComponentScan’ annotation."},{"owner":{"account_id":11336912,"reputation":1,"user_id":8312450,"display_name":"Shubham Saxena"},"score":0,"creation_date":1677129855,"post_id":75537091,"comment_id":133277928,"body_markdown":"I applied the @Entity notation to Record, the error and stack trace are still the same.\nCould you please elaborate what you meant by &quot;basePackages in @ComponentScan&quot;?","body":"I applied the @Entity notation to Record, the error and stack trace are still the same. Could you please elaborate what you meant by &quot;basePackages in @ComponentScan&quot;?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677135636,"post_id":75537091,"comment_id":133278857,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677144575,"post_id":75537091,"comment_id":133280999,"body_markdown":"By basePackages I mean this https://www.logicbig.com/tutorials/spring-framework/spring-core/component-scan-base-packages-attribute.html -  If you put the package line in each of your classes in your question and add the main class I can investigate further by simulating.","body":"By basePackages I mean this <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-core/component-scan-base-packages-attribute.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/spring-framework/spring-core/&hellip;</a> -  If you put the package line in each of your classes in your question and add the main class I can investigate further by simulating."}],"owner":{"account_id":11336912,"reputation":1,"user_id":8312450,"display_name":"Shubham Saxena"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677092491,"creation_date":1677092491,"question_id":75537091,"body_markdown":"I&#39;m extremely new to Java and Spring Boot. I followed along a couple of tutorials and copy pasted code from wherever I could to come up with what&#39;s mentioned below. I&#39;m getting a few of these Undefined dependency errors while compiling my code.\r\n\r\n**Putting the exact error message below. Code right after that.**\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;recordController&#39;: Unsatisfied dependency expressed through field &#39;recordService&#39;:\r\nError creating bean with name &#39;recordServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;recordRepository&#39;:\r\nError creating bean with name &#39;recordRepository&#39; defined in\r\norg.interaction.versioning.repository.RecordRepository defined in \r\n@EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration:\r\nNot a managed type: class org.interaction.versioning.model.Record\r\n```\r\n\r\n**RecordController**\r\n\r\n```\r\n@ComponentScan(&quot;com.interaction.versioning.model.Record&quot;)\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/records&quot;)\r\npublic class RecordController {\r\n    @Autowired\r\n    private RecordService recordService;\r\n\r\n    @GetMapping(&quot;/{id}&quot;\r\n\r\n    public ResponseEntity&lt;RecordDto&gt; getRecordById(@PathVariable Long id) {\r\n        Record record = recordService.getRecordById(id);\r\n        if (record == null) {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n        RecordDto recordDto = new RecordDto();\r\n        BeanUtils.copyProperties(record, recordDto);\r\n        return ResponseEntity.ok(recordDto);\r\n    }\r\n    @PostMapping\r\n\r\n    public ResponseEntity&lt;RecordDto&gt; createRecord(@RequestBody RecordDto recordDto) {\r\n        Record record = new Record();\r\n        BeanUtils.copyProperties(recordDto, record);\r\n        record = recordService.createRecord(record);\r\n        recordDto.setId(record.getId());\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(recordDto);\r\n    }\r\n}\r\n```\r\n\r\n**RecordService**\r\n\r\n```\r\npublic interface RecordService {\r\n    Record getRecordById(Long id);\r\n    Record createRecord(Record record);\r\n}\r\n```\r\n\r\n**RecordServiceImpl**\r\n\r\n```\r\n@Service\r\npublic class RecordServiceImpl implements RecordService {\r\n    @Autowired\r\n    private RecordRepository recordRepository;\r\n\r\n    @Override\r\n    public Record getRecordById(Long id) {\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public Record createRecord(Record record) {\r\n    }\r\n}\r\n```\r\n\r\n**RecordRepository**\r\n\r\n```\r\n@Repository\r\npublic interface RecordRepository extends JpaRepository&lt;Record, Long&gt; {\r\n}\r\n```\r\n\r\n**Record(Model)**\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;test&quot;)   //  maps to table name\r\npublic class Record {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;journey_name&quot;, nullable = false)\r\n    private String journeyName;\r\n\r\n    @Column(name = &quot;framework_name&quot;, nullable = false)\r\n    private String frameworkName;\r\n\r\n    @Column(name = &quot;created_by&quot;, nullable = false)\r\n    private String createdBy;\r\n\r\n    @Column(name = &quot;created_date&quot;, nullable = false)\r\n    private LocalDateTime createdDate;\r\n\r\n    public Record(String journeyName, String frameworkName, String createdBy) {\r\n        this.journeyName = journeyName;\r\n        this.frameworkName = frameworkName;\r\n        this.createdBy = createdBy;\r\n        this.createdDate = LocalDateTime.now();\r\n    }\r\n    \r\n    public Long getId() {\r\n        return id;\r\n    }\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n    public String getJourneyName() {\r\n        return journeyName;\r\n    }\r\n    public void setJourneyName(String journeyName) {\r\n        this.journeyName = journeyName;\r\n    }\r\n    public String getFrameworkName() {\r\n        return frameworkName;\r\n    }\r\n    public void setFrameworkName(String frameworkName) {\r\n        this.frameworkName = frameworkName;\r\n    }\r\n    public String getCreatedBy() {\r\n        return createdBy;\r\n    }\r\n    public void setCreatedBy(String createdBy) {\r\n        this.createdBy = createdBy;\r\n    }\r\n    public LocalDateTime getCreatedDate() {\r\n        return createdDate;\r\n    }\r\n    public void setCreatedDate(LocalDateTime createdDate) {\r\n        this.createdDate = createdDate;\r\n    }\r\n}\r\n```\r\n\r\n**Full Stack Trace**\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;recordController&#39;: Unsatisfied dependency expressed through field &#39;recordService&#39;: Error creating bean with name &#39;recordServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;recordRepository&#39;: Error creating bean with name &#39;recordRepository&#39; defined in org.interaction.versioning.repository.RecordRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class org.interaction.versioning.model.Record\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.interaction.versioning.VersioningApplication.main(VersioningApplication.java:9) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;recordServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;recordRepository&#39;: Error creating bean with name &#39;recordRepository&#39; defined in org.interaction.versioning.repository.RecordRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class org.interaction.versioning.model.Record\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 20 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;recordRepository&#39; defined in org.interaction.versioning.repository.RecordRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class org.interaction.versioning.model.Record\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 34 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class org.interaction.versioning.model.Record\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 44 common frames omitted\r\n```\r\n\r\nI checked whether my beans/dependencies/DI were executed properly since that came up on Google frequently but I&#39;m still not able to figure out what&#39;s causing the error. I have checked the annotations for Repository and ComponentScan and all of them seem to be fine. Even after fixing a couple of missing annotations, I&#39;m getting the same error.\r\n\r\nI&#39;m also not connected to the database while compiling my code. Can this be a reason for the errors?\r\nJust want to understand what&#39;s going wrong here.\r\n\r\nAny help/direction would be much appreciated.","title":"UnsatisfiedDependencyException: Error creating bean with name &#39;recordController&#39;: Unsatisfied dependency expressed through field &#39;recordService&#39;","body":"<p>I'm extremely new to Java and Spring Boot. I followed along a couple of tutorials and copy pasted code from wherever I could to come up with what's mentioned below. I'm getting a few of these Undefined dependency errors while compiling my code.</p>\n<p><strong>Putting the exact error message below. Code right after that.</strong></p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'recordController': Unsatisfied dependency expressed through field 'recordService':\nError creating bean with name 'recordServiceImpl': Unsatisfied dependency expressed through field 'recordRepository':\nError creating bean with name 'recordRepository' defined in\norg.interaction.versioning.repository.RecordRepository defined in \n@EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration:\nNot a managed type: class org.interaction.versioning.model.Record\n</code></pre>\n<p><strong>RecordController</strong></p>\n<pre><code>@ComponentScan(&quot;com.interaction.versioning.model.Record&quot;)\n\n@RestController\n@RequestMapping(&quot;/api/records&quot;)\npublic class RecordController {\n    @Autowired\n    private RecordService recordService;\n\n    @GetMapping(&quot;/{id}&quot;\n\n    public ResponseEntity&lt;RecordDto&gt; getRecordById(@PathVariable Long id) {\n        Record record = recordService.getRecordById(id);\n        if (record == null) {\n            return ResponseEntity.notFound().build();\n        }\n        RecordDto recordDto = new RecordDto();\n        BeanUtils.copyProperties(record, recordDto);\n        return ResponseEntity.ok(recordDto);\n    }\n    @PostMapping\n\n    public ResponseEntity&lt;RecordDto&gt; createRecord(@RequestBody RecordDto recordDto) {\n        Record record = new Record();\n        BeanUtils.copyProperties(recordDto, record);\n        record = recordService.createRecord(record);\n        recordDto.setId(record.getId());\n        return ResponseEntity.status(HttpStatus.CREATED).body(recordDto);\n    }\n}\n</code></pre>\n<p><strong>RecordService</strong></p>\n<pre><code>public interface RecordService {\n    Record getRecordById(Long id);\n    Record createRecord(Record record);\n}\n</code></pre>\n<p><strong>RecordServiceImpl</strong></p>\n<pre><code>@Service\npublic class RecordServiceImpl implements RecordService {\n    @Autowired\n    private RecordRepository recordRepository;\n\n    @Override\n    public Record getRecordById(Long id) {\n    }\n\n    @Override\n    @Transactional\n    public Record createRecord(Record record) {\n    }\n}\n</code></pre>\n<p><strong>RecordRepository</strong></p>\n<pre><code>@Repository\npublic interface RecordRepository extends JpaRepository&lt;Record, Long&gt; {\n}\n</code></pre>\n<p><strong>Record(Model)</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;test&quot;)   //  maps to table name\npublic class Record {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;journey_name&quot;, nullable = false)\n    private String journeyName;\n\n    @Column(name = &quot;framework_name&quot;, nullable = false)\n    private String frameworkName;\n\n    @Column(name = &quot;created_by&quot;, nullable = false)\n    private String createdBy;\n\n    @Column(name = &quot;created_date&quot;, nullable = false)\n    private LocalDateTime createdDate;\n\n    public Record(String journeyName, String frameworkName, String createdBy) {\n        this.journeyName = journeyName;\n        this.frameworkName = frameworkName;\n        this.createdBy = createdBy;\n        this.createdDate = LocalDateTime.now();\n    }\n    \n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getJourneyName() {\n        return journeyName;\n    }\n    public void setJourneyName(String journeyName) {\n        this.journeyName = journeyName;\n    }\n    public String getFrameworkName() {\n        return frameworkName;\n    }\n    public void setFrameworkName(String frameworkName) {\n        this.frameworkName = frameworkName;\n    }\n    public String getCreatedBy() {\n        return createdBy;\n    }\n    public void setCreatedBy(String createdBy) {\n        this.createdBy = createdBy;\n    }\n    public LocalDateTime getCreatedDate() {\n        return createdDate;\n    }\n    public void setCreatedDate(LocalDateTime createdDate) {\n        this.createdDate = createdDate;\n    }\n}\n</code></pre>\n<p><strong>Full Stack Trace</strong></p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'recordController': Unsatisfied dependency expressed through field 'recordService': Error creating bean with name 'recordServiceImpl': Unsatisfied dependency expressed through field 'recordRepository': Error creating bean with name 'recordRepository' defined in org.interaction.versioning.repository.RecordRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class org.interaction.versioning.model.Record\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.interaction.versioning.VersioningApplication.main(VersioningApplication.java:9) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'recordServiceImpl': Unsatisfied dependency expressed through field 'recordRepository': Error creating bean with name 'recordRepository' defined in org.interaction.versioning.repository.RecordRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class org.interaction.versioning.model.Record\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'recordRepository' defined in org.interaction.versioning.repository.RecordRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class org.interaction.versioning.model.Record\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 34 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class org.interaction.versioning.model.Record\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 44 common frames omitted\n</code></pre>\n<p>I checked whether my beans/dependencies/DI were executed properly since that came up on Google frequently but I'm still not able to figure out what's causing the error. I have checked the annotations for Repository and ComponentScan and all of them seem to be fine. Even after fixing a couple of missing annotations, I'm getting the same error.</p>\n<p>I'm also not connected to the database while compiling my code. Can this be a reason for the errors?\nJust want to understand what's going wrong here.</p>\n<p>Any help/direction would be much appreciated.</p>\n"},{"tags":["java","json","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677091717,"post_id":75536722,"comment_id":133271059,"body_markdown":"Please share your Servidor entity with us. You must change your query, it is not correct. You can inspire that query to fix it. **@Query(&quot;select c from Compras c INNER JOIN c.idservidor s where s.id= :idservidor&quot;)** . And you can check this [answer](https://stackoverflow.com/a/13155018/8909313)","body":"Please share your Servidor entity with us. You must change your query, it is not correct. You can inspire that query to fix it. <b>@Query(&quot;select c from Compras c INNER JOIN c.idservidor s where s.id= :idservidor&quot;)</b> . And you can check this <a href=\"https://stackoverflow.com/a/13155018/8909313\">answer</a>"},{"owner":{"account_id":6534739,"reputation":64,"user_id":5054737,"accept_rate":100,"display_name":"Kaustubh"},"score":0,"creation_date":1677092110,"post_id":75536722,"comment_id":133271190,"body_markdown":"Not sure on which line you are getting this error, please share details along with the stack trace.","body":"Not sure on which line you are getting this error, please share details along with the stack trace."},{"owner":{"account_id":1697447,"reputation":33,"user_id":1558523,"display_name":"Gustavo Rodrigues"},"score":0,"creation_date":1677092497,"post_id":75536722,"comment_id":133271299,"body_markdown":"Edited to add Servidor entity and error messages","body":"Edited to add Servidor entity and error messages"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677113240,"post_id":75536722,"comment_id":133275938,"body_markdown":"Try changing findByidcompras to findByIdcompras - JPA has rules.","body":"Try changing findByidcompras to findByIdcompras - JPA has rules."},{"owner":{"account_id":1697447,"reputation":33,"user_id":1558523,"display_name":"Gustavo Rodrigues"},"score":0,"creation_date":1678363653,"post_id":75536722,"comment_id":133519858,"body_markdown":"Solved it by creating a custom method on the repository class: List&lt;Compras&gt; findAllByIdservidor(final Servidor servidor);","body":"Solved it by creating a custom method on the repository class: List&lt;Compras&gt; findAllByIdservidor(final Servidor servidor);"}],"owner":{"account_id":1697447,"reputation":33,"user_id":1558523,"display_name":"Gustavo Rodrigues"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677092479,"creation_date":1677090118,"question_id":75536722,"body_markdown":"I&#39;m kinda new to Spring Boot and I&#39;m trying to run a custom query here. \r\nI have table Compras (sales) which basically stores the drugstore, the employee, value of the sale and timestamp of sale. \r\n\r\nI&#39;ve managed to list sales by the id of sales (idcompras) but that&#39;s not really what I want. I want to list what a specific employee bought and when, so the following query works just fine on SQL:\r\n\r\n```select idfarmacia, idservidor, valorcompra, datacompra from compras where idservidor = idservidor;```\r\n\r\nThe above is the query I want to translate to spring boot. I must be doing something wrong that isn&#39;t obvious to me, so if anyone would point me in the right direction, I&#39;m grateful. \r\n\r\nCompras entity:\r\n\r\n```package com.camaratapira.syspharma.entity;\r\n\r\nimport java.sql.Timestamp;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.NamedQuery;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;compras&quot;)\r\n@NamedQuery(name = &quot;Compras.findByIdServidor&quot;, query = &quot;select c from Compras c where c.idservidor = ?1&quot;)\r\npublic class Compras {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;idcompras&quot;)\r\n    private Integer idcompras;\r\n    \r\n    @Column(name = &quot;valorcompra&quot;)\r\n    private double valorcompra;\r\n    \r\n    @Column(name = &quot;datacompra&quot;)\r\n    private Timestamp datacompra;\r\n    \r\n    @Column(name = &quot;descricaoCompra&quot;)\r\n    private String descricaoCompra;\r\n   \r\n    public String getDescricaoCompra() {\r\n\t\treturn descricaoCompra;\r\n\t}\r\n\r\n\tpublic void setDescricaoCompra(String descricaoCompra) {\r\n\t\tthis.descricaoCompra = descricaoCompra;\r\n\t}\r\n\t\r\n\t@ManyToOne\r\n    @JoinColumn(name = &quot;idservidor&quot;)\r\n    private Servidor idservidor;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;iddependente&quot;)\r\n    private Dependentes dependentes;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;idfarmacia&quot;)\r\n    private Farmacia farmacia;\r\n    \r\n    public Compras(){}\r\n\r\n    public Servidor getServidor() {\r\n        return idservidor;\r\n    }\r\n\r\n    public void setServidor(Servidor idservidor) {\r\n        this.idservidor = idservidor;\r\n    }\r\n\r\n    public Dependentes getDependentes() {\r\n        return dependentes;\r\n    }\r\n\r\n    public void setDependentes(Dependentes dependentes) {\r\n        this.dependentes = dependentes;\r\n    }\r\n\r\n    public Farmacia getFarmacia() {\r\n        return farmacia;\r\n    }\r\n\r\n    public void setFarmacia(Farmacia farmacia) {\r\n        this.farmacia = farmacia;\r\n    }\r\n\r\n    public int getIdcompras() {\r\n        return idcompras;\r\n    }\r\n    public void setIdcompras(int idcompras) {\r\n        this.idcompras = idcompras;\r\n    }\r\n    public double getValorcompra() {\r\n        return valorcompra;\r\n    }\r\n    public void setValorcompra(double valorcompra) {\r\n        this.valorcompra = valorcompra;\r\n    }\r\n    public Timestamp getDatacompra() {\r\n        return datacompra;\r\n    }\r\n    public void setDatacompra(Timestamp datacompra) {\r\n        this.datacompra = datacompra;\r\n    }\r\n    public Compras(double valorcompra, Timestamp datacompra, String descricaoCompra) {\r\n        this.valorcompra = valorcompra;\r\n        this.datacompra = datacompra;\r\n        this.descricaoCompra = descricaoCompra;\r\n    }\r\n\r\n}\r\n```\r\nCompras repository\r\n\r\n```\r\npackage com.camaratapira.syspharma.repositories;\r\n\r\nimport java.util.List;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\n\r\nimport com.camaratapira.syspharma.entity.Compras;\r\n\r\npublic interface ComprasRepository extends JpaRepository&lt;Compras, Long&gt;{\r\n\r\n\tList&lt;Compras&gt; findByidcompras(Integer idcompras);\r\n\t\r\n\t@Query(&quot;select c from Compras c where idservidor = :idservidor&quot;)\r\n\tList&lt;Compras&gt; findByIdServidor(@Param(&quot;idservidor&quot;) Integer idservidor);\r\n}\r\n```\r\n\r\nCompras controller:\r\n\r\n```\r\npackage com.camaratapira.syspharma.controller;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.camaratapira.syspharma.entity.Compras;\r\n\r\nimport com.camaratapira.syspharma.repositories.ComprasRepository;\r\nimport com.camaratapira.syspharma.repositories.FarmaciaRepository;\r\nimport com.camaratapira.syspharma.repositories.ServidorRepository;\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class ComprasController {\r\n\r\n    @Autowired\r\n    ComprasRepository comprasRepository;\r\n    @Autowired\r\n    ServidorRepository servidorRepository;\r\n    @Autowired\r\n    FarmaciaRepository farmaciaRepository;\r\n\r\n    @GetMapping(&quot;/compras/listartodos&quot;)\r\n    public ResponseEntity&lt;List&lt;Compras&gt;&gt; getAllCompras(@RequestParam(required=false) Integer idcompras){\r\n\t\tList&lt;Compras&gt; compras = new ArrayList&lt;Compras&gt;();\t\t\r\n\t\ttry {\r\n\t\t\t\tcomprasRepository.findAll().forEach(compras::add);\r\n\t\t\t\treturn new ResponseEntity&lt;&gt;(compras, HttpStatus.OK);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(compras, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n    \r\n    // TODO the results are not being cast correctly. Put the results into some sort of list.\r\n    \r\n    @GetMapping(&quot;/compras/listarcompras/{idservidor}&quot;)\r\n\tpublic ResponseEntity&lt;Compras&gt; getcomprasById(@PathVariable Integer idservidor){\r\n\t\tList&lt;Compras&gt; comprasData = comprasRepository.findByidservidor(idservidor);\r\n\t\treturn new ResponseEntity&lt;Compras&gt;(comprasData.get(idservidor), HttpStatus.OK);\r\n\t}\r\n    // TODO listar compras por servidor\r\n    // TODO inserir compras e deletar compras\r\n    \r\n    @PostMapping(&quot;/compras/realizarcompra&quot;)\r\n\tpublic ResponseEntity&lt;Compras&gt; createCompras(@RequestBody Compras compras){\r\n\t\ttry {\r\n\t\t\tCompras _compras = comprasRepository.save(compras);\r\n\t\t\treturn new ResponseEntity&lt;&gt;(_compras, HttpStatus.CREATED);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn new ResponseEntity&lt;Compras&gt;(null, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\nWhen I try to pass a json request, spring complains that \r\n\r\njava.lang.IllegalArgumentException: Argument [320] of type [java.lang.Integer] did not match parameter type [com.camaratapira.syspharma.entity.Servidor (n/a)]\r\n\r\n**Edit: Servidor entity and stack trace:**\r\n\r\n```\r\npackage com.camaratapira.syspharma.entity;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;servidor&quot;)\r\npublic class Servidor {\r\n\t\r\n\tpublic Servidor(){}\r\n\t\r\n\tpublic Servidor(String nomeservidor, String cpf, String rg, double salario, boolean ativo) {\r\n\t\tsuper();\r\n\t\tthis.nomeservidor = nomeservidor;\r\n\t\tthis.cpf = cpf;\r\n\t\tthis.rg = rg;\r\n\t\tthis.salario = salario;\r\n\t\tthis.ativo = ativo;\r\n\t}\r\n\t\r\n\r\n\t\r\n\t@ManyToOne()\r\n\t@JoinColumn(name = &quot;idfuncao&quot;)\r\n\tprivate Funcao funcao; // necess&#225;rio fazer os m&#233;todos getters e setters dessas fun&#231;&#245;es para poderem retornar as \r\n\t// chaves estrangeiras quando voc&#234; fizer uma requisi&#231;&#227;o GET, caso contr&#225;rio, o sistema n&#227;o vai saber onde procurar.\r\n\t\t\r\n\tpublic Funcao getFuncao() {\r\n\t\treturn funcao;\r\n\t}\r\n\r\n\tpublic void setFuncao(Funcao funcao) {\r\n\t\tthis.funcao = funcao;\r\n\t}\r\n\r\n\tpublic int getIdservidor() {\r\n\t\treturn idservidor;\r\n\t}\r\n\tpublic void setIdservidor(Integer idservidor) {\r\n\t\tthis.idservidor = idservidor;\r\n\t}\r\n\tpublic String getNomeservidor() {\r\n\t\treturn nomeservidor;\r\n\t}\r\n\tpublic void setNomeservidor(String nomeservidor) {\r\n\t\tthis.nomeservidor = nomeservidor;\r\n\t}\r\n\tpublic String getCpf() {\r\n\t\treturn cpf;\r\n\t}\r\n\tpublic void setCpf(String cpf) {\r\n\t\tthis.cpf = cpf;\r\n\t}\r\n\tpublic String getRg() {\r\n\t\treturn rg;\r\n\t}\r\n\tpublic void setRg(String rg) {\r\n\t\tthis.rg = rg;\r\n\t}\r\n\tpublic double getSalario() {\r\n\t\treturn salario;\r\n\t}\r\n\tpublic void setSalario(double salario) {\r\n\t\tthis.salario = salario;\r\n\t}\r\n\tpublic boolean isAtivo() {\r\n\t\treturn ativo;\r\n\t}\r\n\tpublic void setAtivo(boolean ativo) {\r\n\t\tthis.ativo = ativo;\r\n\t}\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;idservidor&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY) // outras estrat&#233;gias precisam de tabelas espec&#237;ficas no Banco de dados\r\n\tprivate Integer idservidor;\r\n\t\r\n\t@Column(name = &quot;nomeservidor&quot;)\r\n\tprivate String nomeservidor;\r\n\t\r\n\t@Column(name = &quot;cpf&quot;)\r\n\tprivate String cpf;\r\n\t\r\n\t@Column(name = &quot;rg&quot;)\r\n\tprivate String rg;\r\n\t\r\n\t@Column(name = &quot;salario&quot;)\r\n\tprivate double salario;\r\n\t\r\n\t@Column(name = &quot;ativo&quot;)\r\n\tprivate boolean ativo;\r\n\t\r\n\r\n\t\r\n}\r\n```\r\n\r\nStack trace:\r\n\r\n```\r\n2023-02-22T15:57:25.381-03:00[0;39m [31mERROR[0;39m [35m216[0;39m [2m---[0;39m [2m[nio-8080-exec-2][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: Argument [320] of type [java.lang.Integer] did not match parameter type [com.camaratapira.syspharma.entity.Servidor (n/a)]] with root cause\r\n\r\njava.lang.IllegalArgumentException: Argument [320] of type [java.lang.Integer] did not match parameter type [com.camaratapira.syspharma.entity.Servidor (n/a)]\r\n\tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:84) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:31) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.validate(QueryParameterBindingImpl.java:339) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:129) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.spi.AbstractCommonQueryContract.setParameter(AbstractCommonQueryContract.java:860) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.setParameter(AbstractSelectionQuery.java:708) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:1263) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:131) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:329) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:120) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:143) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:120) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:83) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:75) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:97) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:107) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:234) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy115.findByIdServidor(Unknown Source) ~[na:na]\r\n\tat com.camaratapira.syspharma.controller.ComprasController.getcomprasById(ComprasController.java:54) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n```\r\n","title":"How to run custom queries spring boot jpa controller","body":"<p>I'm kinda new to Spring Boot and I'm trying to run a custom query here.\nI have table Compras (sales) which basically stores the drugstore, the employee, value of the sale and timestamp of sale.</p>\n<p>I've managed to list sales by the id of sales (idcompras) but that's not really what I want. I want to list what a specific employee bought and when, so the following query works just fine on SQL:</p>\n<p><code>select idfarmacia, idservidor, valorcompra, datacompra from compras where idservidor = idservidor;</code></p>\n<p>The above is the query I want to translate to spring boot. I must be doing something wrong that isn't obvious to me, so if anyone would point me in the right direction, I'm grateful.</p>\n<p>Compras entity:</p>\n<pre><code>\nimport java.sql.Timestamp;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.NamedQuery;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;compras&quot;)\n@NamedQuery(name = &quot;Compras.findByIdServidor&quot;, query = &quot;select c from Compras c where c.idservidor = ?1&quot;)\npublic class Compras {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;idcompras&quot;)\n    private Integer idcompras;\n    \n    @Column(name = &quot;valorcompra&quot;)\n    private double valorcompra;\n    \n    @Column(name = &quot;datacompra&quot;)\n    private Timestamp datacompra;\n    \n    @Column(name = &quot;descricaoCompra&quot;)\n    private String descricaoCompra;\n   \n    public String getDescricaoCompra() {\n        return descricaoCompra;\n    }\n\n    public void setDescricaoCompra(String descricaoCompra) {\n        this.descricaoCompra = descricaoCompra;\n    }\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;idservidor&quot;)\n    private Servidor idservidor;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;iddependente&quot;)\n    private Dependentes dependentes;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;idfarmacia&quot;)\n    private Farmacia farmacia;\n    \n    public Compras(){}\n\n    public Servidor getServidor() {\n        return idservidor;\n    }\n\n    public void setServidor(Servidor idservidor) {\n        this.idservidor = idservidor;\n    }\n\n    public Dependentes getDependentes() {\n        return dependentes;\n    }\n\n    public void setDependentes(Dependentes dependentes) {\n        this.dependentes = dependentes;\n    }\n\n    public Farmacia getFarmacia() {\n        return farmacia;\n    }\n\n    public void setFarmacia(Farmacia farmacia) {\n        this.farmacia = farmacia;\n    }\n\n    public int getIdcompras() {\n        return idcompras;\n    }\n    public void setIdcompras(int idcompras) {\n        this.idcompras = idcompras;\n    }\n    public double getValorcompra() {\n        return valorcompra;\n    }\n    public void setValorcompra(double valorcompra) {\n        this.valorcompra = valorcompra;\n    }\n    public Timestamp getDatacompra() {\n        return datacompra;\n    }\n    public void setDatacompra(Timestamp datacompra) {\n        this.datacompra = datacompra;\n    }\n    public Compras(double valorcompra, Timestamp datacompra, String descricaoCompra) {\n        this.valorcompra = valorcompra;\n        this.datacompra = datacompra;\n        this.descricaoCompra = descricaoCompra;\n    }\n\n}\n</code></pre>\n<p>Compras repository</p>\n<pre><code>package com.camaratapira.syspharma.repositories;\n\nimport java.util.List;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\nimport com.camaratapira.syspharma.entity.Compras;\n\npublic interface ComprasRepository extends JpaRepository&lt;Compras, Long&gt;{\n\n    List&lt;Compras&gt; findByidcompras(Integer idcompras);\n    \n    @Query(&quot;select c from Compras c where idservidor = :idservidor&quot;)\n    List&lt;Compras&gt; findByIdServidor(@Param(&quot;idservidor&quot;) Integer idservidor);\n}\n</code></pre>\n<p>Compras controller:</p>\n<pre><code>package com.camaratapira.syspharma.controller;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.camaratapira.syspharma.entity.Compras;\n\nimport com.camaratapira.syspharma.repositories.ComprasRepository;\nimport com.camaratapira.syspharma.repositories.FarmaciaRepository;\nimport com.camaratapira.syspharma.repositories.ServidorRepository;\n\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ComprasController {\n\n    @Autowired\n    ComprasRepository comprasRepository;\n    @Autowired\n    ServidorRepository servidorRepository;\n    @Autowired\n    FarmaciaRepository farmaciaRepository;\n\n    @GetMapping(&quot;/compras/listartodos&quot;)\n    public ResponseEntity&lt;List&lt;Compras&gt;&gt; getAllCompras(@RequestParam(required=false) Integer idcompras){\n        List&lt;Compras&gt; compras = new ArrayList&lt;Compras&gt;();       \n        try {\n                comprasRepository.findAll().forEach(compras::add);\n                return new ResponseEntity&lt;&gt;(compras, HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(compras, HttpStatus.INTERNAL_SERVER_ERROR);\n            \n        }\n    }\n    \n    // TODO the results are not being cast correctly. Put the results into some sort of list.\n    \n    @GetMapping(&quot;/compras/listarcompras/{idservidor}&quot;)\n    public ResponseEntity&lt;Compras&gt; getcomprasById(@PathVariable Integer idservidor){\n        List&lt;Compras&gt; comprasData = comprasRepository.findByidservidor(idservidor);\n        return new ResponseEntity&lt;Compras&gt;(comprasData.get(idservidor), HttpStatus.OK);\n    }\n    // TODO listar compras por servidor\n    // TODO inserir compras e deletar compras\n    \n    @PostMapping(&quot;/compras/realizarcompra&quot;)\n    public ResponseEntity&lt;Compras&gt; createCompras(@RequestBody Compras compras){\n        try {\n            Compras _compras = comprasRepository.save(compras);\n            return new ResponseEntity&lt;&gt;(_compras, HttpStatus.CREATED);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return new ResponseEntity&lt;Compras&gt;(null, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n        \n    }\n    \n\n}\n</code></pre>\n<p>When I try to pass a json request, spring complains that</p>\n<p>java.lang.IllegalArgumentException: Argument [320] of type [java.lang.Integer] did not match parameter type [com.camaratapira.syspharma.entity.Servidor (n/a)]</p>\n<p><strong>Edit: Servidor entity and stack trace:</strong></p>\n<pre><code>package com.camaratapira.syspharma.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;servidor&quot;)\npublic class Servidor {\n    \n    public Servidor(){}\n    \n    public Servidor(String nomeservidor, String cpf, String rg, double salario, boolean ativo) {\n        super();\n        this.nomeservidor = nomeservidor;\n        this.cpf = cpf;\n        this.rg = rg;\n        this.salario = salario;\n        this.ativo = ativo;\n    }\n    \n\n    \n    @ManyToOne()\n    @JoinColumn(name = &quot;idfuncao&quot;)\n    private Funcao funcao; // necessário fazer os métodos getters e setters dessas funções para poderem retornar as \n    // chaves estrangeiras quando você fizer uma requisição GET, caso contrário, o sistema não vai saber onde procurar.\n        \n    public Funcao getFuncao() {\n        return funcao;\n    }\n\n    public void setFuncao(Funcao funcao) {\n        this.funcao = funcao;\n    }\n\n    public int getIdservidor() {\n        return idservidor;\n    }\n    public void setIdservidor(Integer idservidor) {\n        this.idservidor = idservidor;\n    }\n    public String getNomeservidor() {\n        return nomeservidor;\n    }\n    public void setNomeservidor(String nomeservidor) {\n        this.nomeservidor = nomeservidor;\n    }\n    public String getCpf() {\n        return cpf;\n    }\n    public void setCpf(String cpf) {\n        this.cpf = cpf;\n    }\n    public String getRg() {\n        return rg;\n    }\n    public void setRg(String rg) {\n        this.rg = rg;\n    }\n    public double getSalario() {\n        return salario;\n    }\n    public void setSalario(double salario) {\n        this.salario = salario;\n    }\n    public boolean isAtivo() {\n        return ativo;\n    }\n    public void setAtivo(boolean ativo) {\n        this.ativo = ativo;\n    }\n    \n    @Id\n    @Column(name = &quot;idservidor&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY) // outras estratégias precisam de tabelas específicas no Banco de dados\n    private Integer idservidor;\n    \n    @Column(name = &quot;nomeservidor&quot;)\n    private String nomeservidor;\n    \n    @Column(name = &quot;cpf&quot;)\n    private String cpf;\n    \n    @Column(name = &quot;rg&quot;)\n    private String rg;\n    \n    @Column(name = &quot;salario&quot;)\n    private double salario;\n    \n    @Column(name = &quot;ativo&quot;)\n    private boolean ativo;\n    \n\n    \n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>2023-02-22T15:57:25.381-03:00[0;39m [31mERROR[0;39m [35m216[0;39m [2m---[0;39m [2m[nio-8080-exec-2][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: Argument [320] of type [java.lang.Integer] did not match parameter type [com.camaratapira.syspharma.entity.Servidor (n/a)]] with root cause\n\njava.lang.IllegalArgumentException: Argument [320] of type [java.lang.Integer] did not match parameter type [com.camaratapira.syspharma.entity.Servidor (n/a)]\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:84) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:31) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.internal.QueryParameterBindingImpl.validate(QueryParameterBindingImpl.java:339) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:129) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.spi.AbstractCommonQueryContract.setParameter(AbstractCommonQueryContract.java:860) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.setParameter(AbstractSelectionQuery.java:708) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:1263) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:131) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:329) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:120) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:143) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:120) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:83) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:75) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:97) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:107) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:234) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]\n    at jdk.proxy2/jdk.proxy2.$Proxy115.findByIdServidor(Unknown Source) ~[na:na]\n    at com.camaratapira.syspharma.controller.ComprasController.getcomprasById(ComprasController.java:54) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n"},{"tags":["java","c"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1677087538,"post_id":75536231,"comment_id":133269902,"body_markdown":"Java *does* know an unsigned, 16-bit numeric type.  Fortunately for you, it is `char`, which is the type you chose for the purpose.","body":"Java <i>does</i> know an unsigned, 16-bit numeric type.  Fortunately for you, it is <code>char</code>, which is the type you chose for the purpose."},{"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"score":2,"creation_date":1677087723,"post_id":75536231,"comment_id":133269967,"body_markdown":"_&quot;Sending the data to the MyLaps decoder I always get a CRC error&quot;_ - You could start smaller by comparing the CRC tables after initialization. Are they the same?","body":"<i>&quot;Sending the data to the MyLaps decoder I always get a CRC error&quot;</i> - You could start smaller by comparing the CRC tables after initialization. Are they the same?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1677088135,"post_id":75536231,"comment_id":133270100,"body_markdown":"Does [this](https://stackoverflow.com/a/12372331/2970947) answer your question?","body":"Does <a href=\"https://stackoverflow.com/a/12372331/2970947\">this</a> answer your question?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1677089232,"post_id":75536231,"comment_id":133270424,"body_markdown":"In general, for questions like this, it helps if the question includes examples (as text) of input, expected output, actual output (if any), and actual text of error messages (if any). You may edit the question.","body":"In general, for questions like this, it helps if the question includes examples (as text) of input, expected output, actual output (if any), and actual text of error messages (if any). You may edit the question."}],"answers":[{"comments":[{"owner":{"account_id":27853153,"reputation":3,"user_id":21267265,"display_name":"Oliver"},"score":0,"creation_date":1677090977,"post_id":75536598,"comment_id":133270855,"body_markdown":"Hi John, \n\nyou are my hero, that was the issue.\n\nThank you SO MUCH!\n\nI had to do one small adjustment, the CRC calculation brought a syntax error, I had to change it to\n\n    `CRC = (char) (CRC16Table[(CRC &gt;&gt; 8) &amp; 0xFF] ^ (CRC &lt;&lt; 8) ^ (p[ptr] &amp; 0xFF));`\n\nOliver","body":"Hi John,   you are my hero, that was the issue.  Thank you SO MUCH!  I had to do one small adjustment, the CRC calculation brought a syntax error, I had to change it to      <code>CRC = (char) (CRC16Table[(CRC &gt;&gt; 8) &amp; 0xFF] ^ (CRC &lt;&lt; 8) ^ (p[ptr] &amp; 0xFF));</code>  Oliver"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1677091176,"post_id":75536598,"comment_id":133270910,"body_markdown":"I&#39;m glad it helped, @Oliver, and I have edited this answer to resolve the error you describe.","body":"I&#39;m glad it helped, @Oliver, and I have edited this answer to resolve the error you describe."}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677092395,"creation_date":1677089437,"answer_id":75536598,"question_id":75536231,"body_markdown":"You have a lot of unneeded casting going on in the Java version, which is ironic because the issue appears to be at one of the places where you *don&#39;t* properly accommodate the type conversions involved.\r\n\r\nGiven the data types involved, this C code ...\r\n\r\n&gt;             crc = CRC16Table[ ( ( crc &gt;&gt; 8 ) &amp; 255 ) ] ^ ( crc &lt;&lt; 8 ) ^ *p ;\r\n\r\n... is not equivalent to this Java code ...\r\n\r\n&gt;             CRC = (char) (CRC16Table[(( (char) CRC &gt;&gt; 8) &amp; 0xFF)] ^ ((char) CRC &lt;&lt; 8) ^ p[ptr]);\r\n\r\n.  You don&#39;t need most of those `(char)` casts, but the `*p` in the C version, a C `unsigned char`, is not equivalent to the `p[ptr]` in the Java version, a Java `byte` (which is signed).  In both C and Java, there is an automatic promotion to `int` for arithmetic operands.  In C, that will always extend `*p` with leading zero bits, but in Java, that will extend `p[ptr]` with leading 1 bits when its value is negative.  Some of those bits are in the part of the number that will influence the result even with the logical `&amp;` operations (which moot the truncation of the result to fit in a `char`).\r\n\r\nYou appear to want this:\r\n\r\n            CRC = (char) (CRC16Table[(CRC &gt;&gt; 8) &amp; 0xFF] ^ (CRC &lt;&lt; 8) ^ (p[ptr] &amp; 0xFF));\r\n","title":"CRC16 calculation - translation from C to JAVA","body":"<p>You have a lot of unneeded casting going on in the Java version, which is ironic because the issue appears to be at one of the places where you <em>don't</em> properly accommodate the type conversions involved.</p>\n<p>Given the data types involved, this C code ...</p>\n<blockquote>\n<pre><code>        crc = CRC16Table[ ( ( crc &gt;&gt; 8 ) &amp; 255 ) ] ^ ( crc &lt;&lt; 8 ) ^ *p ;\n</code></pre>\n</blockquote>\n<p>... is not equivalent to this Java code ...</p>\n<blockquote>\n<pre><code>        CRC = (char) (CRC16Table[(( (char) CRC &gt;&gt; 8) &amp; 0xFF)] ^ ((char) CRC &lt;&lt; 8) ^ p[ptr]);\n</code></pre>\n</blockquote>\n<p>.  You don't need most of those <code>(char)</code> casts, but the <code>*p</code> in the C version, a C <code>unsigned char</code>, is not equivalent to the <code>p[ptr]</code> in the Java version, a Java <code>byte</code> (which is signed).  In both C and Java, there is an automatic promotion to <code>int</code> for arithmetic operands.  In C, that will always extend <code>*p</code> with leading zero bits, but in Java, that will extend <code>p[ptr]</code> with leading 1 bits when its value is negative.  Some of those bits are in the part of the number that will influence the result even with the logical <code>&amp;</code> operations (which moot the truncation of the result to fit in a <code>char</code>).</p>\n<p>You appear to want this:</p>\n<pre><code>        CRC = (char) (CRC16Table[(CRC &gt;&gt; 8) &amp; 0xFF] ^ (CRC &lt;&lt; 8) ^ (p[ptr] &amp; 0xFF));\n</code></pre>\n"}],"owner":{"account_id":27853153,"reputation":3,"user_id":21267265,"display_name":"Oliver"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75536598,"answer_count":1,"score":0,"last_activity_date":1677092395,"creation_date":1677087023,"question_id":75536231,"body_markdown":"I am currently writing a JAVA program which has to send data to a MyLaps decoder via socket (P3 protocol).\r\nThe binary data has to include a 2-byte CRC code.\r\nIn the MyLaps documentation there is the code in C to calculate the CRC. It also says that WORD is defined as an unsigned 16bits type.\r\n\r\nC-Code \r\n```\r\n    WORD CRC16Table[256] ;\r\n    \r\n    // initialize the CRC16 table\r\n    extern void InitCRC16( void ) {\r\n      WORD i, j ;\r\n      WORD crc ;\r\n      for ( i = 0 ; i &lt; 256 ; i += 1 ) {\r\n        for ( crc = i &lt;&lt; 8, j = 0 ; j &lt; 8 ; j += 1 )\r\n          crc = ( crc &lt;&lt; 1 ) ^ ( ( crc &amp; 0x8000 ) ? 0x1021 : 0 ) ;\r\n        CRC16Table[ i ] = crc ;\r\n      }\r\n    } \r\n\r\n    // calculate the crc of a char array pointed at by p\r\n    extern WORD CalcCRC16( unsigned char * p, WORD size ) {\r\n      WORD crc = 0xFFFF ;\r\n      WORD i ;\r\n      for ( i = 0 ; i &lt; size ; i++, p++ ) // for all chars\r\n        crc = CRC16Table[ ( ( crc &gt;&gt; 8 ) &amp; 255 ) ] ^ ( crc &lt;&lt; 8 ) ^ *p ;\r\n      return crc ;\r\n    }\r\n```\r\n\r\nI wanted to convert this C-Code to java code. As java does not know an unsigned 2-byte number I used data type char which is also a 2-byte \r\n\r\nJAVA Code\r\n```\r\n    // initialize the CRC16 table\r\n    public static char[] InitCRC16() {\r\n      char i, j;\r\n      char crc;\r\n      char[] CRC16Table = new char[256];\r\n    \r\n      for (i = 0; i &lt; 256; i++) {\r\n        crc = (char) (i &lt;&lt; 8);\r\n        for (j = 0; j &lt; 8; j++) {\r\n          crc = (char) ((crc &lt;&lt; 1) ^ (((crc &amp; 0x8000) != 0) ? 0x1021 : 0));\r\n        }\r\n        CRC16Table[i] = crc;\r\n      }\r\n      return CRC16Table;\r\n    }\r\n\t\r\n    // calculate the crc of a char array \t\t\r\n    public static char CalcCRC16(byte[] p, char[] CRC16Table) {\r\n      char CRC;\r\n      CRC = 0xFFFF;\r\n      for (int ptr = 0; ptr &lt; p.length; ptr++) {\r\n        CRC = (char) (CRC16Table[(( (char) CRC &gt;&gt; 8) &amp; 0xFF)] ^ ((char) CRC &lt;&lt; 8) ^ p[ptr]);\r\n      }\r\n      return (char) CRC;\r\n    }\r\n```\r\n\r\nSending the data to the MyLaps decoder I always get a CRC error, so there must be an error in my conversion of the code from C to JAVA.\r\n\r\nCan anyone help?","title":"CRC16 calculation - translation from C to JAVA","body":"<p>I am currently writing a JAVA program which has to send data to a MyLaps decoder via socket (P3 protocol).\nThe binary data has to include a 2-byte CRC code.\nIn the MyLaps documentation there is the code in C to calculate the CRC. It also says that WORD is defined as an unsigned 16bits type.</p>\n<p>C-Code</p>\n<pre><code>    WORD CRC16Table[256] ;\n    \n    // initialize the CRC16 table\n    extern void InitCRC16( void ) {\n      WORD i, j ;\n      WORD crc ;\n      for ( i = 0 ; i &lt; 256 ; i += 1 ) {\n        for ( crc = i &lt;&lt; 8, j = 0 ; j &lt; 8 ; j += 1 )\n          crc = ( crc &lt;&lt; 1 ) ^ ( ( crc &amp; 0x8000 ) ? 0x1021 : 0 ) ;\n        CRC16Table[ i ] = crc ;\n      }\n    } \n\n    // calculate the crc of a char array pointed at by p\n    extern WORD CalcCRC16( unsigned char * p, WORD size ) {\n      WORD crc = 0xFFFF ;\n      WORD i ;\n      for ( i = 0 ; i &lt; size ; i++, p++ ) // for all chars\n        crc = CRC16Table[ ( ( crc &gt;&gt; 8 ) &amp; 255 ) ] ^ ( crc &lt;&lt; 8 ) ^ *p ;\n      return crc ;\n    }\n</code></pre>\n<p>I wanted to convert this C-Code to java code. As java does not know an unsigned 2-byte number I used data type char which is also a 2-byte</p>\n<p>JAVA Code</p>\n<pre><code>    // initialize the CRC16 table\n    public static char[] InitCRC16() {\n      char i, j;\n      char crc;\n      char[] CRC16Table = new char[256];\n    \n      for (i = 0; i &lt; 256; i++) {\n        crc = (char) (i &lt;&lt; 8);\n        for (j = 0; j &lt; 8; j++) {\n          crc = (char) ((crc &lt;&lt; 1) ^ (((crc &amp; 0x8000) != 0) ? 0x1021 : 0));\n        }\n        CRC16Table[i] = crc;\n      }\n      return CRC16Table;\n    }\n    \n    // calculate the crc of a char array        \n    public static char CalcCRC16(byte[] p, char[] CRC16Table) {\n      char CRC;\n      CRC = 0xFFFF;\n      for (int ptr = 0; ptr &lt; p.length; ptr++) {\n        CRC = (char) (CRC16Table[(( (char) CRC &gt;&gt; 8) &amp; 0xFF)] ^ ((char) CRC &lt;&lt; 8) ^ p[ptr]);\n      }\n      return (char) CRC;\n    }\n</code></pre>\n<p>Sending the data to the MyLaps decoder I always get a CRC error, so there must be an error in my conversion of the code from C to JAVA.</p>\n<p>Can anyone help?</p>\n"},{"tags":["java","freemarker"],"answers":[{"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1413911939,"post_id":26479961,"comment_id":41618674,"body_markdown":"FreeMarker only deals with formatting aspects as far as possible. The usual expectation is that if date-time `${dt}` prints something like `2014-10-21 15:11:30`, then `${dt?time}` prints `15:11:30`. Yet, the Java value of the object shouldn&#39;t change, especially as Java doesn&#39;t define a time type (prior Java 8 at least).","body":"FreeMarker only deals with formatting aspects as far as possible. The usual expectation is that if date-time <code>${dt}</code> prints something like <code>2014-10-21 15:11:30</code>, then <code>${dt?time}</code> prints <code>15:11:30</code>. Yet, the Java value of the object shouldn&#39;t change, especially as Java doesn&#39;t define a time type (prior Java 8 at least)."}],"tags":[],"owner":{"account_id":2824276,"reputation":11860,"user_id":2427222,"display_name":"ymonad"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413871767,"creation_date":1413871767,"answer_id":26479961,"question_id":26478334,"body_markdown":"I read the source of freemarker 2.3.21 and found that  current freemarker does not support comparing `.now?time` and time object such as `&quot;8:00:00 AM&quot;?time`.\r\n\r\nThat is because`.now?time` is internally treated as current time such as `2014-10-21 15:11:30`,\r\nand `&quot;8:00:00 AM&quot;?time` is treated as `1970-01-01 08:00:00`.\r\n\r\nTherefore, `&lt;#if .now?time gte &quot;8:00:00 AM&quot;?time &gt;` is always true.\r\n\r\nIf you think it&#39;s a bug you may report to http://sourceforge.net/p/freemarker/bugs/ or send a question in freemarker&#39;s mailing list.\r\n\r\nSo the current workaround is to create the `Date` object and compare it in the java code.","title":"How to compare time in freemarker?","body":"<p>I read the source of freemarker 2.3.21 and found that  current freemarker does not support comparing <code>.now?time</code> and time object such as <code>\"8:00:00 AM\"?time</code>.</p>\n\n<p>That is because<code>.now?time</code> is internally treated as current time such as <code>2014-10-21 15:11:30</code>,\nand <code>\"8:00:00 AM\"?time</code> is treated as <code>1970-01-01 08:00:00</code>.</p>\n\n<p>Therefore, <code>&lt;#if .now?time gte \"8:00:00 AM\"?time &gt;</code> is always true.</p>\n\n<p>If you think it's a bug you may report to <a href=\"http://sourceforge.net/p/freemarker/bugs/\" rel=\"nofollow\">http://sourceforge.net/p/freemarker/bugs/</a> or send a question in freemarker's mailing list.</p>\n\n<p>So the current workaround is to create the <code>Date</code> object and compare it in the java code.</p>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1413966250,"creation_date":1413912921,"answer_id":26492807,"question_id":26478334,"body_markdown":"Although you can compare two `java.util.Date`-s as far as they are both of the same kind (like both are time-only values), then it&#39;s up to you to ensure that the internal representations are consistent (like a time-only value is in the epoch-day VS on some other day). Thus it&#39;s mostly meant to be used for comparing date-time values (timestamps) where no such issue exists. So, since you know that you want an epoch-based time, you could do the following hack:\r\n\r\n    &lt;#assign nowTime = .now?time?string.iso?time.iso&gt;\r\n\r\nNow it&#39;s correctly comparable with `&quot;8:00:00 AM&quot;?time`, however, I recommend using ISO format, because the locale-specific format is kind of fragile (like if you change locale, it won&#39;t work): `&#39;08:00:00&#39;?time.iso`. Note that for this you need at least FreeMarker 2.3.21.","title":"How to compare time in freemarker?","body":"<p>Although you can compare two <code>java.util.Date</code>-s as far as they are both of the same kind (like both are time-only values), then it's up to you to ensure that the internal representations are consistent (like a time-only value is in the epoch-day VS on some other day). Thus it's mostly meant to be used for comparing date-time values (timestamps) where no such issue exists. So, since you know that you want an epoch-based time, you could do the following hack:</p>\n\n<pre><code>&lt;#assign nowTime = .now?time?string.iso?time.iso&gt;\n</code></pre>\n\n<p>Now it's correctly comparable with <code>\"8:00:00 AM\"?time</code>, however, I recommend using ISO format, because the locale-specific format is kind of fragile (like if you change locale, it won't work): <code>'08:00:00'?time.iso</code>. Note that for this you need at least FreeMarker 2.3.21.</p>\n"},{"comments":[{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1676995961,"post_id":75520211,"comment_id":133247572,"body_markdown":"Do you have a reference to the documentation on `dateUtil`?","body":"Do you have a reference to the documentation on <code>dateUtil</code>?"},{"owner":{"account_id":18146944,"reputation":31,"user_id":20756172,"display_name":"varaskkar"},"score":0,"creation_date":1677086736,"post_id":75520211,"comment_id":133269692,"body_markdown":"@JasperdeVries Sure, I usually look at the [liferay api](https://docs.liferay.com/portal/7.2-latest/javadocs/portal-kernel/index.html?com/liferay/portal/kernel/util/DateUtil.html) or view the code directly through [github](https://github.com/liferay/liferay-portal/blob/master/portal-kernel/src/com/liferay/portal/kernel/util/DateUtil.java)","body":"@JasperdeVries Sure, I usually look at the <a href=\"https://docs.liferay.com/portal/7.2-latest/javadocs/portal-kernel/index.html?com/liferay/portal/kernel/util/DateUtil.html\" rel=\"nofollow noreferrer\">liferay api</a> or view the code directly through <a href=\"https://github.com/liferay/liferay-portal/blob/master/portal-kernel/src/com/liferay/portal/kernel/util/DateUtil.java\" rel=\"nofollow noreferrer\">github</a>"},{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1677087092,"post_id":75520211,"comment_id":133269785,"body_markdown":"You didn&#39;t mention Liferay in your answer nor was it mentioned by the OP. In plain FreeMarker `dateUtil` will not be available.","body":"You didn&#39;t mention Liferay in your answer nor was it mentioned by the OP. In plain FreeMarker <code>dateUtil</code> will not be available."},{"owner":{"account_id":18146944,"reputation":31,"user_id":20756172,"display_name":"varaskkar"},"score":0,"creation_date":1677092033,"post_id":75520211,"comment_id":133271163,"body_markdown":"Oh, you&#39;re right and I hadn&#39;t noticed before answering, my bad","body":"Oh, you&#39;re right and I hadn&#39;t noticed before answering, my bad"}],"tags":[],"owner":{"account_id":18146944,"reputation":31,"user_id":20756172,"display_name":"varaskkar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677092176,"creation_date":1676980698,"answer_id":75520211,"question_id":26478334,"body_markdown":"If you happen to use **Liferay** you can try the ***compareTo()*** function:\r\n\r\nIt returns negative if the date is earlier, positive if it is later and zero if they are equal.\r\n\r\n\r\n```\r\n&lt;#assign time1 = &quot;11:55:00&quot;?time&gt;\r\n&lt;#assign time2 = &quot;11:56:00&quot;?time&gt;\r\n\r\n${dateUtil.compareTo(time1, time2)} &lt;#-- Return -1 --&gt;\r\n${dateUtil.compareTo(time2, time1)} &lt;#-- Return  1 --&gt;\r\n${dateUtil.compareTo(time1, time1)} &lt;#-- Return  0 --&gt;\r\n```","title":"How to compare time in freemarker?","body":"<p>If you happen to use <strong>Liferay</strong> you can try the <em><strong>compareTo()</strong></em> function:</p>\n<p>It returns negative if the date is earlier, positive if it is later and zero if they are equal.</p>\n<pre><code>&lt;#assign time1 = &quot;11:55:00&quot;?time&gt;\n&lt;#assign time2 = &quot;11:56:00&quot;?time&gt;\n\n${dateUtil.compareTo(time1, time2)} &lt;#-- Return -1 --&gt;\n${dateUtil.compareTo(time2, time1)} &lt;#-- Return  1 --&gt;\n${dateUtil.compareTo(time1, time1)} &lt;#-- Return  0 --&gt;\n</code></pre>\n"}],"owner":{"account_id":303117,"reputation":2259,"user_id":611874,"accept_rate":57,"display_name":"J. Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1897,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26492807,"answer_count":3,"score":2,"last_activity_date":1677092176,"creation_date":1413861531,"question_id":26478334,"body_markdown":"In Freemarker, I can use `.now?time` to get the current time, but how do I compare that to another time?\r\n\r\nFor example, how would I properly test if the current time is between 8:00 AM and 5:00 PM?\r\n\r\n    &lt;#if .now?time gte (?) &amp;&amp; .now?time lte (?)&gt;\r\n      //do something\r\n    &lt;#/if&gt;\r\n\r\nI don&#39;t know what to put in the (?) because I&#39;m not sure how to create date scalars in Freemarker.","title":"How to compare time in freemarker?","body":"<p>In Freemarker, I can use <code>.now?time</code> to get the current time, but how do I compare that to another time?</p>\n\n<p>For example, how would I properly test if the current time is between 8:00 AM and 5:00 PM?</p>\n\n<pre><code>&lt;#if .now?time gte (?) &amp;&amp; .now?time lte (?)&gt;\n  //do something\n&lt;#/if&gt;\n</code></pre>\n\n<p>I don't know what to put in the (?) because I'm not sure how to create date scalars in Freemarker.</p>\n"},{"tags":["java","jackson-databind","openapi-generator-maven-plugin"],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677092165,"creation_date":1677092165,"question_id":75537043,"body_markdown":"I have an open api compliant yaml using which I generated the model files using `openapi-generator-maven-plugin`. But due to presence of some additional properties in response, I am getting error:\r\n\r\n    Caused by: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field .... not marked as ignorable\r\n\r\nHow to fix this? I don&#39;t want any failure in case of absent or unknown properties in server response. \r\n\r\nThanks","title":"openapi java codegen - unrecognizedpropertyexception","body":"<p>I have an open api compliant yaml using which I generated the model files using <code>openapi-generator-maven-plugin</code>. But due to presence of some additional properties in response, I am getting error:</p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field .... not marked as ignorable\n</code></pre>\n<p>How to fix this? I don't want any failure in case of absent or unknown properties in server response.</p>\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1672927195,"post_id":75019549,"comment_id":132386434,"body_markdown":"What is preventing you from doing so? What is the specific problem you’re having?","body":"What is preventing you from doing so? What is the specific problem you’re having?"},{"owner":{"account_id":27442384,"reputation":11,"user_id":20936939,"display_name":"Durynda"},"score":0,"creation_date":1672930503,"post_id":75019549,"comment_id":132387697,"body_markdown":"I just dont know how to use varible &quot;actionLimit&quot; to limit the number of actions.","body":"I just dont know how to use varible &quot;actionLimit&quot; to limit the number of actions."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1672930952,"post_id":75019549,"comment_id":132387900,"body_markdown":"Tbh I can&#39;t make heads or tails of these classes; there&#39;s no direct connection between `CarouselRun.next` and the `DecrementingCarousel` hierarchy other than setting `isRun`. If these are the classes you have to work with then `DecrementingCarousel.run` is the place where you&#39;d check `actionLimit` and determine whether or not to return a new `CarouselBase`.","body":"Tbh I can&#39;t make heads or tails of these classes; there&#39;s no direct connection between <code>CarouselRun.next</code> and the <code>DecrementingCarousel</code> hierarchy other than setting <code>isRun</code>. If these are the classes you have to work with then <code>DecrementingCarousel.run</code> is the place where you&#39;d check <code>actionLimit</code> and determine whether or not to return a new <code>CarouselBase</code>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1672930963,"post_id":75019549,"comment_id":132387908,"body_markdown":"That said I&#39;d probably toss all this and start over.","body":"That said I&#39;d probably toss all this and start over."},{"owner":{"account_id":27442384,"reputation":11,"user_id":20936939,"display_name":"Durynda"},"score":0,"creation_date":1672940765,"post_id":75019549,"comment_id":132391682,"body_markdown":"In this task i have complited `CorouselRun` and `DecrementingCarousel` and i need too implement `DecrementingCarouselWithLimitedRun`. This subclass must decrement elements as a usual `DecrementingCarousel`. The difference is that this implementation must produce a carousel run, which limits number of calls to the next method. So I thought that I should get value of the `actionLimit` and somehow use this value in `CarouselBase`. Thank you anyway.","body":"In this task i have complited <code>CorouselRun</code> and <code>DecrementingCarousel</code> and i need too implement <code>DecrementingCarouselWithLimitedRun</code>. This subclass must decrement elements as a usual <code>DecrementingCarousel</code>. The difference is that this implementation must produce a carousel run, which limits number of calls to the next method. So I thought that I should get value of the <code>actionLimit</code> and somehow use this value in <code>CarouselBase</code>. Thank you anyway."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1672947556,"post_id":75019549,"comment_id":132393746,"body_markdown":"`CarouselBase` has no notion of limiting runs. The `DecrementingCarousel` hierarchy appears to have an `isRun` property: the default impl returns a new `CarouselBase` if it&#39;s false; my first guess is you&#39;d want logic in `DecrementingCarouselWithLimitedRun.run` that checks if the `actionLimit` has been reached and **doesn&#39;t** return a new `CarouselBase` under that condition.","body":"<code>CarouselBase</code> has no notion of limiting runs. The <code>DecrementingCarousel</code> hierarchy appears to have an <code>isRun</code> property: the default impl returns a new <code>CarouselBase</code> if it&#39;s false; my first guess is you&#39;d want logic in <code>DecrementingCarouselWithLimitedRun.run</code> that checks if the <code>actionLimit</code> has been reached and <b>doesn&#39;t</b> return a new <code>CarouselBase</code> under that condition."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677569104,"post_id":75536989,"comment_id":133358684,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75536989/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26912154,"reputation":1,"user_id":21267840,"display_name":"Barbara Tanana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677091815,"creation_date":1677091815,"answer_id":75536989,"question_id":75019549,"body_markdown":"first you had to define a field in the constructor:\r\n\r\n      public class DecrementingCarouselWithLimitedRun extends DecrementingCarousel {\r\n    public final int actionLimit;\r\n    public DecrementingCarouselWithLimitedRun(final int capacity, final int actionLimit) {\r\n        super(capacity);\r\n        this.actionLimit=actionLimit;\r\n\r\n    }\r\n\r\n    public CarouselRun run() {\r\n        if (!call) {\r\n            array = Arrays.copyOf(array, i);\r\n            call = true;\r\n            return new CarouselBase(this.actionLimit);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n     class CarouselBase extends CarouselRun {\r\n    public int ss;\r\n    public  CarouselBase ( final int actionLimit) {\r\n        this.ss = actionLimit;\r\n    }\r\n    public int next() {\r\n        if (isFinished()) {\r\n            return -1;\r\n        } else while (ar[k = k % ar.length] &lt;= 0) {\r\n            ++k;\r\n        }\r\n        ss--;\r\n        return ar[k++]--;\r\n        //throw new UnsupportedOperationException();\r\n    }\r\n    public boolean isFinished() {\r\n        if (ss == 0) {\r\n            return true;\r\n        } else {\r\n            for (int value : ar)\r\n                if (value &gt; 0) {\r\n                    return false;\r\n                }\r\n\r\n            return true;\r\n        }\r\n    }\r\n}","title":"How should i use final variable to create limit in decrementing carousel?","body":"<p>first you had to define a field in the constructor:</p>\n<pre><code>  public class DecrementingCarouselWithLimitedRun extends DecrementingCarousel {\npublic final int actionLimit;\npublic DecrementingCarouselWithLimitedRun(final int capacity, final int actionLimit) {\n    super(capacity);\n    this.actionLimit=actionLimit;\n\n}\n\npublic CarouselRun run() {\n    if (!call) {\n        array = Arrays.copyOf(array, i);\n        call = true;\n        return new CarouselBase(this.actionLimit);\n    }\n    return null;\n}\n</code></pre>\n<p>}</p>\n<pre><code> class CarouselBase extends CarouselRun {\npublic int ss;\npublic  CarouselBase ( final int actionLimit) {\n    this.ss = actionLimit;\n}\npublic int next() {\n    if (isFinished()) {\n        return -1;\n    } else while (ar[k = k % ar.length] &lt;= 0) {\n        ++k;\n    }\n    ss--;\n    return ar[k++]--;\n    //throw new UnsupportedOperationException();\n}\npublic boolean isFinished() {\n    if (ss == 0) {\n        return true;\n    } else {\n        for (int value : ar)\n            if (value &gt; 0) {\n                return false;\n            }\n\n        return true;\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":27442384,"reputation":11,"user_id":20936939,"display_name":"Durynda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677091815,"creation_date":1672926982,"question_id":75019549,"body_markdown":"Decrementing Carousel is a container, accepting int elements. DecrementingCarousel has a maximum capacity, specified via the constructor. When created, DecrementingCarousel is in accumulating state: you may add elements via the addElement method and can produce a CarouselRun object via the run method. Once the run method is called, DecrementingCarousel is in running state: it refuses adding more elements.\r\n\r\nThe CarouselRun allows to iterate over elements of the carousel decrementing them one by one with the next method. The next returns the value of the current element.Then it decreases the current element by one and switches to the next element.\r\n \r\nThe CarouselRun iterates over elements in the order of their insertion.\r\nWhen an element is decreased to zero, the CarouselRun will skip it in further iterations. When there are no more elements available for decrementing, the CarouselRun returns -1.\r\n\r\nThe CarouselRun also has the isFinished method, which indicates, if the carousel has run out of the lements to decrement.\r\n\r\nDecrementingCarouselWithLimitedRun - Decrementing Carousel&#39;s subclass. DecrementingCarouselWithLimitedRun must decrement elements as a usual DecrementingCarousel. The difference is that this implementation must produce a carousel run, which limits number of calls to the next method. When the limit of calls reached carousel run must consider itself finished.\r\n\r\nCarouselRun:\r\n```\r\npublic class CarouselRun {\r\n    protected final int[] array = DecrementingCarousel.carousel.clone();\r\n    protected int position = 0;\r\n\r\n    public int next() {\r\n        if (isFinished())\r\n            return -1;\r\n        else {\r\n            while (array[position %= array.length] &lt;= 0) {\r\n                position++;\r\n            }\r\n        }\r\n        var returnValue = array[position];\r\n        array[position] = array[position] -1 ;\r\n        position = position + 1;\r\n        return returnValue;\r\n    }\r\n    public boolean isFinished() {\r\n        for (int el : array)\r\n            if (el &gt; 0)\r\n                return false;\r\n        return true;\r\n    }\r\n}\r\n```\r\nDecrementingCarousel:\r\n```\r\npublic class DecrementingCarousel {\r\n    private final int capacity;\r\n    static int[] carousel;\r\n    int index;\r\n    boolean isRun;\r\n\r\n    {\r\n        index = 0;\r\n        isRun = false;\r\n    }\r\n\r\n    public DecrementingCarousel(int capacity) {\r\n        this.capacity = capacity;\r\n        carousel = new int[capacity];\r\n    }\r\n\r\n    public boolean addElement(int element){\r\n        if (element &gt; 0 &amp;&amp; index &lt; capacity &amp;&amp; !isRun) {\r\n            carousel[index++] = element;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new CarouselRun();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\nDecrementingCarouselWithLimitedRun:\r\n```\r\npublic class DecrementingCarouselWithLimitedRun extends DecrementingCarousel {\r\n    public DecrementingCarouselWithLimitedRun(final int capacity, final int actionLimit) {\r\n        super(capacity);\r\n    }\r\n    @Override\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new CarouselBase();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\nCarouselBase:\r\n```\r\npublic class CarouselBase extends CarouselRun {\r\n    public int decrement = 1;\r\n    @Override\r\n    public int next() {\r\n        int beforeDecreasing;\r\n        if (isFinished())\r\n            return -1;\r\n        else {\r\n            beforeDecreasing = array[position];\r\n            array[position] -= decrement;\r\n            do {\r\n                position++;\r\n            }\r\n            while (array[position %= array.length] &lt;= 0 &amp;&amp; !isFinished());\r\n        }\r\n        return beforeDecreasing;\r\n    }\r\n}\r\n```\r\n\r\nI need to create cycle limit using &quot;actionLimit&quot; variable. \r\n\r\n","title":"How should i use final variable to create limit in decrementing carousel?","body":"<p>Decrementing Carousel is a container, accepting int elements. DecrementingCarousel has a maximum capacity, specified via the constructor. When created, DecrementingCarousel is in accumulating state: you may add elements via the addElement method and can produce a CarouselRun object via the run method. Once the run method is called, DecrementingCarousel is in running state: it refuses adding more elements.</p>\n<p>The CarouselRun allows to iterate over elements of the carousel decrementing them one by one with the next method. The next returns the value of the current element.Then it decreases the current element by one and switches to the next element.</p>\n<p>The CarouselRun iterates over elements in the order of their insertion.\nWhen an element is decreased to zero, the CarouselRun will skip it in further iterations. When there are no more elements available for decrementing, the CarouselRun returns -1.</p>\n<p>The CarouselRun also has the isFinished method, which indicates, if the carousel has run out of the lements to decrement.</p>\n<p>DecrementingCarouselWithLimitedRun - Decrementing Carousel's subclass. DecrementingCarouselWithLimitedRun must decrement elements as a usual DecrementingCarousel. The difference is that this implementation must produce a carousel run, which limits number of calls to the next method. When the limit of calls reached carousel run must consider itself finished.</p>\n<p>CarouselRun:</p>\n<pre><code>public class CarouselRun {\n    protected final int[] array = DecrementingCarousel.carousel.clone();\n    protected int position = 0;\n\n    public int next() {\n        if (isFinished())\n            return -1;\n        else {\n            while (array[position %= array.length] &lt;= 0) {\n                position++;\n            }\n        }\n        var returnValue = array[position];\n        array[position] = array[position] -1 ;\n        position = position + 1;\n        return returnValue;\n    }\n    public boolean isFinished() {\n        for (int el : array)\n            if (el &gt; 0)\n                return false;\n        return true;\n    }\n}\n</code></pre>\n<p>DecrementingCarousel:</p>\n<pre><code>public class DecrementingCarousel {\n    private final int capacity;\n    static int[] carousel;\n    int index;\n    boolean isRun;\n\n    {\n        index = 0;\n        isRun = false;\n    }\n\n    public DecrementingCarousel(int capacity) {\n        this.capacity = capacity;\n        carousel = new int[capacity];\n    }\n\n    public boolean addElement(int element){\n        if (element &gt; 0 &amp;&amp; index &lt; capacity &amp;&amp; !isRun) {\n            carousel[index++] = element;\n            return true;\n        }\n        return false;\n    }\n    public CarouselRun run() {\n        if (!isRun) {\n            isRun = true;\n            return new CarouselRun();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>DecrementingCarouselWithLimitedRun:</p>\n<pre><code>public class DecrementingCarouselWithLimitedRun extends DecrementingCarousel {\n    public DecrementingCarouselWithLimitedRun(final int capacity, final int actionLimit) {\n        super(capacity);\n    }\n    @Override\n    public CarouselRun run() {\n        if (!isRun) {\n            isRun = true;\n            return new CarouselBase();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>CarouselBase:</p>\n<pre><code>public class CarouselBase extends CarouselRun {\n    public int decrement = 1;\n    @Override\n    public int next() {\n        int beforeDecreasing;\n        if (isFinished())\n            return -1;\n        else {\n            beforeDecreasing = array[position];\n            array[position] -= decrement;\n            do {\n                position++;\n            }\n            while (array[position %= array.length] &lt;= 0 &amp;&amp; !isFinished());\n        }\n        return beforeDecreasing;\n    }\n}\n</code></pre>\n<p>I need to create cycle limit using &quot;actionLimit&quot; variable.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1677089588,"post_id":75536582,"comment_id":133270508,"body_markdown":"Try logging the url. If that goes nowhere, try logging the whole request (headers+payload) on the server and see what&#39;s going wrong. The server actively decided to return 404 based on some difference in the request.","body":"Try logging the url. If that goes nowhere, try logging the whole request (headers+payload) on the server and see what&#39;s going wrong. The server actively decided to return 404 based on some difference in the request."}],"owner":{"account_id":14840982,"reputation":19,"user_id":10717742,"display_name":"user10717742"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677091691,"creation_date":1677089316,"question_id":75536582,"body_markdown":"as you know corporations move slowly so java 11 is fairly new land here.\r\nWhile refactoring some code I tried to replace this peace of code (condensed for testing purpose):\r\n\r\n\r\n```\r\nHttpPost hp = new HttpPost(url);\r\nhp.addHeader(&quot;Content-Type&quot;, &quot;text/xml&quot;);\r\nhp.addHeader(&quot;charset&quot;, &quot;ISO-8859-1&quot;);\r\nhp.setEntity(new StringEntity(content));\r\n\r\ntry(ClosableHttpClient hc = HttpClients.custom().setSSLContext(SSL.getInstance().getContext()).build()) {\r\n    try(ClosableHttpResponse res = hc.execute(hp)) {\r\n        logger.info(&quot;{}: {}&quot;, res.getStatusLine(), EntityUtils.toString(res.getEntity()));\r\n    }\r\n}\r\n```\r\n\r\n\r\nwith \r\n\r\n\r\n```\r\nHttpRequest hr = HttpRequest\r\n    .newBuilder()\r\n    .header(&quot;Content-Type&quot;, &quot;text/xml&quot;)\r\n    .header(&quot;charset&quot;, &quot;ISO-8859-1&quot;)\r\n    .url(url)\r\n    .POST(HttpRequest.BodyPublishers.ofString(content))\r\n    .build();\r\n\r\nHttpClient hc = HttpClient\r\n    .newBuilder()\r\n    .connectTimeout(Duration.ofSeconds(70L))\r\n    .sslContext(SSL.getInstance().getContext())\r\n    .build();\r\n\r\nHttpResponse&lt;String&gt; res = hc.send(hr, HttpResponse.BodyHandlers.ofString());\r\n\r\nlogger.info(&quot;{}: {}&quot;, res.statuscode(), res.body());\r\n```\r\n\r\nUsing the same url and content the old code returns the status 200 and the expected response.\r\nThe new code return a 404 code and no response.\r\n\r\nThe strange part is, if I change the url to a different environment, changing nothing else, it both the new and old code return 200 and the expected response.\r\n\r\nHope I did not mistype any of the code, but I am on mobile right now.\r\n\r\nA few different url (environments, some worked out great, some not so) and contents. The content is not the issue here, just the environment, but I do not know why.\r\n\r\n\r\n**edit:** \r\nposting this some of the code got swallowed up, hope I corrected the parts\r\n\r\n**edit #2:**\r\nAdded hc.version(HttpClient.Version.HTTP_1_1) and it worked as expected.","title":"java11 - httpclient returns 404","body":"<p>as you know corporations move slowly so java 11 is fairly new land here.\nWhile refactoring some code I tried to replace this peace of code (condensed for testing purpose):</p>\n<pre><code>HttpPost hp = new HttpPost(url);\nhp.addHeader(&quot;Content-Type&quot;, &quot;text/xml&quot;);\nhp.addHeader(&quot;charset&quot;, &quot;ISO-8859-1&quot;);\nhp.setEntity(new StringEntity(content));\n\ntry(ClosableHttpClient hc = HttpClients.custom().setSSLContext(SSL.getInstance().getContext()).build()) {\n    try(ClosableHttpResponse res = hc.execute(hp)) {\n        logger.info(&quot;{}: {}&quot;, res.getStatusLine(), EntityUtils.toString(res.getEntity()));\n    }\n}\n</code></pre>\n<p>with</p>\n<pre><code>HttpRequest hr = HttpRequest\n    .newBuilder()\n    .header(&quot;Content-Type&quot;, &quot;text/xml&quot;)\n    .header(&quot;charset&quot;, &quot;ISO-8859-1&quot;)\n    .url(url)\n    .POST(HttpRequest.BodyPublishers.ofString(content))\n    .build();\n\nHttpClient hc = HttpClient\n    .newBuilder()\n    .connectTimeout(Duration.ofSeconds(70L))\n    .sslContext(SSL.getInstance().getContext())\n    .build();\n\nHttpResponse&lt;String&gt; res = hc.send(hr, HttpResponse.BodyHandlers.ofString());\n\nlogger.info(&quot;{}: {}&quot;, res.statuscode(), res.body());\n</code></pre>\n<p>Using the same url and content the old code returns the status 200 and the expected response.\nThe new code return a 404 code and no response.</p>\n<p>The strange part is, if I change the url to a different environment, changing nothing else, it both the new and old code return 200 and the expected response.</p>\n<p>Hope I did not mistype any of the code, but I am on mobile right now.</p>\n<p>A few different url (environments, some worked out great, some not so) and contents. The content is not the issue here, just the environment, but I do not know why.</p>\n<p><strong>edit:</strong>\nposting this some of the code got swallowed up, hope I corrected the parts</p>\n<p><strong>edit #2:</strong>\nAdded hc.version(HttpClient.Version.HTTP_1_1) and it worked as expected.</p>\n"},{"tags":["java","unity-game-engine","graphics","game-engine","game-development"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677091258,"post_id":75536825,"comment_id":133270921,"body_markdown":"You need different input modes. Your inputs have different effects in a different state of your application. In your example, when a menu is shown then WASD should not move some player but e.g. navigate through the menu&#39;s buttons. Let the InputHandler know which mode it is currently in, something like `theInputHandler.setCurrentState(State.MENU)` and let it return/execute different `Command`s based on the state.","body":"You need different input modes. Your inputs have different effects in a different state of your application. In your example, when a menu is shown then WASD should not move some player but e.g. navigate through the menu&#39;s buttons. Let the InputHandler know which mode it is currently in, something like <code>theInputHandler.setCurrentState(State.MENU)</code> and let it return/execute different <code>Command</code>s based on the state."},{"owner":{"account_id":27061958,"reputation":1,"user_id":20613864,"display_name":"Jens Meier"},"score":0,"creation_date":1677091750,"post_id":75536825,"comment_id":133271074,"body_markdown":"@f1sh Thank you for the quick respone! I already thought about your approach but wouldn&#39;t it &quot;destroy&quot; best practice since I would end up with many different if/else to check for different game states?!","body":"@f1sh Thank you for the quick respone! I already thought about your approach but wouldn&#39;t it &quot;destroy&quot; best practice since I would end up with many different if/else to check for different game states?!"},{"owner":{"account_id":27061958,"reputation":1,"user_id":20613864,"display_name":"Jens Meier"},"score":0,"creation_date":1677091850,"post_id":75536825,"comment_id":133271094,"body_markdown":"Because I believe that commands strength is to actually remove ugly code like: if(gamestate == menu)         if(gamestate == game) ...","body":"Because I believe that commands strength is to actually remove ugly code like: if(gamestate == menu)         if(gamestate == game) ..."},{"owner":{"account_id":6527925,"reputation":84957,"user_id":7111561,"accept_rate":54,"display_name":"derHugo"},"score":0,"creation_date":1677092117,"post_id":75536825,"comment_id":133271192,"body_markdown":"Use the new [InputSystem (InputActions)](https://docs.unity3d.com/Packages/com.unity.inputsystem@1.5/manual/index.html)! It allows you to define different sets  of actions (= Action Maps)  - they can overlap and listen to same inputs - you can enable and disable the individual groups of actions which totally already covers for those game state differentiation","body":"Use the new <a href=\"https://docs.unity3d.com/Packages/com.unity.inputsystem@1.5/manual/index.html\" rel=\"nofollow noreferrer\">InputSystem (InputActions)</a>! It allows you to define different sets  of actions (= Action Maps)  - they can overlap and listen to same inputs - you can enable and disable the individual groups of actions which totally already covers for those game state differentiation"},{"owner":{"account_id":27061958,"reputation":1,"user_id":20613864,"display_name":"Jens Meier"},"score":0,"creation_date":1677092340,"post_id":75536825,"comment_id":133271255,"body_markdown":"@derHugo I am implementing in Java and do not use Unity ;)...","body":"@derHugo I am implementing in Java and do not use Unity ;)..."},{"owner":{"account_id":6527925,"reputation":84957,"user_id":7111561,"accept_rate":54,"display_name":"derHugo"},"score":0,"creation_date":1677092635,"post_id":75536825,"comment_id":133271331,"body_markdown":"Then what the is the `unity3d` tag for on your question? o.O And `GameObject` and the rest pretty much looks like Unity API though ...","body":"Then what the is the <code>unity3d</code> tag for on your question? o.O And <code>GameObject</code> and the rest pretty much looks like Unity API though ..."},{"owner":{"account_id":27061958,"reputation":1,"user_id":20613864,"display_name":"Jens Meier"},"score":0,"creation_date":1677092782,"post_id":75536825,"comment_id":133271364,"body_markdown":"I think that Unity user would most likely understand my question.","body":"I think that Unity user would most likely understand my question."},{"owner":{"account_id":27061958,"reputation":1,"user_id":20613864,"display_name":"Jens Meier"},"score":0,"creation_date":1677092809,"post_id":75536825,"comment_id":133271371,"body_markdown":"And I copied some &quot;Unity-ideas&quot;","body":"And I copied some &quot;Unity-ideas&quot;"},{"owner":{"account_id":6527925,"reputation":84957,"user_id":7111561,"accept_rate":54,"display_name":"derHugo"},"score":0,"creation_date":1677146192,"post_id":75536825,"comment_id":133281470,"body_markdown":"Well Unity users would recommend you use the according Unity tools already doing exactly what your re asking for ;) If you don&#39;t have those (since you don&#39;t actually use Unity at all) you will have to implement that yourself which is basically what previous comments suggested .. have sets of InputActions (they are basically events triggered by a certain input) for the different app states and simply enable and disable those sets in the according states =&gt; you can simply attach listeners to the events without every time having to check for the app state in the listeners side","body":"Well Unity users would recommend you use the according Unity tools already doing exactly what your re asking for ;) If you don&#39;t have those (since you don&#39;t actually use Unity at all) you will have to implement that yourself which is basically what previous comments suggested .. have sets of InputActions (they are basically events triggered by a certain input) for the different app states and simply enable and disable those sets in the according states =&gt; you can simply attach listeners to the events without every time having to check for the app state in the listeners side"},{"owner":{"account_id":27061958,"reputation":1,"user_id":20613864,"display_name":"Jens Meier"},"score":0,"creation_date":1677147604,"post_id":75536825,"comment_id":133281892,"body_markdown":"@derHugo You mean something like storing keyEvents and their corresponding gameaction in some sort of datastructure(as pairs). By doing this for different game states it would be possible to switch between them?","body":"@derHugo You mean something like storing keyEvents and their corresponding gameaction in some sort of datastructure(as pairs). By doing this for different game states it would be possible to switch between them?"},{"owner":{"account_id":6527925,"reputation":84957,"user_id":7111561,"accept_rate":54,"display_name":"derHugo"},"score":0,"creation_date":1677148685,"post_id":75536825,"comment_id":133282199,"body_markdown":"Yeah Unity&#39;s input goes a bit beyond and you can multiple different inputs (keys, different devices etc) bound to an action. Then each action has events like `started`, `ended` etc. !they also have pre/postprocessing and filters etc but let&#39;s skip those for now ;) ). And then each action belongs to an action map. Here multiple actions are bundled and can be en/disabled individually or via the entire map. You can use those maps to control which actions should be triggered in which app state and thereby how inputs are processed differently depending on the app state and active action map(s)","body":"Yeah Unity&#39;s input goes a bit beyond and you can multiple different inputs (keys, different devices etc) bound to an action. Then each action has events like <code>started</code>, <code>ended</code> etc. !they also have pre/postprocessing and filters etc but let&#39;s skip those for now ;) ). And then each action belongs to an action map. Here multiple actions are bundled and can be en/disabled individually or via the entire map. You can use those maps to control which actions should be triggered in which app state and thereby how inputs are processed differently depending on the app state and active action map(s)"},{"owner":{"account_id":6527925,"reputation":84957,"user_id":7111561,"accept_rate":54,"display_name":"derHugo"},"score":0,"creation_date":1677148762,"post_id":75536825,"comment_id":133282228,"body_markdown":"I think you could still watch some Unity tutorials about the `New Input System` (you will find plenty searching for that) in order to get a better understanding of what I mean and how you could implement your own specced down version of it","body":"I think you could still watch some Unity tutorials about the <code>New Input System</code> (you will find plenty searching for that) in order to get a better understanding of what I mean and how you could implement your own specced down version of it"}],"owner":{"account_id":27061958,"reputation":1,"user_id":20613864,"display_name":"Jens Meier"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677090698,"creation_date":1677090698,"question_id":75536825,"body_markdown":"I am currently trying to improve in game architecture. After reading this article: [resource_command](https://gameprogrammingpatterns.com/command.html) I rewrote some of my old input handling code.\r\nMy new classes are:\r\n\r\n```\r\npublic abstract class Command{\r\npublic abstract void execute(GameObject g);\r\n}\r\n\r\npublic class MoveLeftCommand extends Command{\r\npublic void execute(GameObject g){\r\n   g.transform.position.x--;\r\n    }\r\n}\r\n```\r\nSo you get the idea...\r\n\r\nThe author of the linked article later lets the handleInput method in InputHandler class (I just copied it) return the created command. He misses out how to recieve it after that.\r\n\r\nIn my implementation I just ask the InputHandler to handleInput() and store the given command.(I expanded it by returning a list of commands so multiple keystrokes at one time would not disappear). \r\nI then loop through that list and call execute with the player&#39;s gameobject as parameter. \r\n\r\nAll that works fine if there is just &quot;the game itself&quot;.\r\nSuppose the keys &quot;wasd&quot; are represented with 4 classes extending &quot;command&quot; then every entity can be moved in all directions. But what if there is also a menu screen?\r\nThere &quot;wasd&quot; is used to move through gui elements like buttons. Unfortunatley pressing &quot;wasd&quot; would then just move the(not rendered) entity and the menu-panel couldn&#39;t be controlled...\r\n\r\nHopefully you could follow me up to this point and my question is how this pattern, as shown in the article, can be implemented when it has to switch between different &quot;game-views&quot; / panels?\r\n\r\nI already searched the whole internet but couldn&#39;t find any ideas on how to do this!","title":"Implementation of command pattern for a game","body":"<p>I am currently trying to improve in game architecture. After reading this article: <a href=\"https://gameprogrammingpatterns.com/command.html\" rel=\"nofollow noreferrer\">resource_command</a> I rewrote some of my old input handling code.\nMy new classes are:</p>\n<pre><code>public abstract class Command{\npublic abstract void execute(GameObject g);\n}\n\npublic class MoveLeftCommand extends Command{\npublic void execute(GameObject g){\n   g.transform.position.x--;\n    }\n}\n</code></pre>\n<p>So you get the idea...</p>\n<p>The author of the linked article later lets the handleInput method in InputHandler class (I just copied it) return the created command. He misses out how to recieve it after that.</p>\n<p>In my implementation I just ask the InputHandler to handleInput() and store the given command.(I expanded it by returning a list of commands so multiple keystrokes at one time would not disappear).\nI then loop through that list and call execute with the player's gameobject as parameter.</p>\n<p>All that works fine if there is just &quot;the game itself&quot;.\nSuppose the keys &quot;wasd&quot; are represented with 4 classes extending &quot;command&quot; then every entity can be moved in all directions. But what if there is also a menu screen?\nThere &quot;wasd&quot; is used to move through gui elements like buttons. Unfortunatley pressing &quot;wasd&quot; would then just move the(not rendered) entity and the menu-panel couldn't be controlled...</p>\n<p>Hopefully you could follow me up to this point and my question is how this pattern, as shown in the article, can be implemented when it has to switch between different &quot;game-views&quot; / panels?</p>\n<p>I already searched the whole internet but couldn't find any ideas on how to do this!</p>\n"},{"tags":["java","android","mongodb","kotlin","realm"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1657563586,"post_id":72928899,"comment_id":128835826,"body_markdown":"On what line does that error occur, and have you verified the vars are correctly populated and valid?","body":"On what line does that error occur, and have you verified the vars are correctly populated and valid?"},{"owner":{"account_id":8689838,"reputation":359,"user_id":6503037,"display_name":"Besart"},"score":0,"creation_date":1657569789,"post_id":72928899,"comment_id":128837646,"body_markdown":"The error is thrown when I try to `insertOne` in the `else` statement","body":"The error is thrown when I try to <code>insertOne</code> in the <code>else</code> statement"},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1657646166,"post_id":72928899,"comment_id":128858301,"body_markdown":"I would guess that one of the parameters is out of scope. Try changing the code around a bit and see if the vars resolve to valid data. I would also take a look at this [Example](https://www.mongodb.com/docs/drivers/java/sync/v4.3/usage-examples/insertOne/?_ga=2.35018785.1492361816.1657561059-586838695.1657561058#example) for insertOne to see a suggested design pattern.","body":"I would guess that one of the parameters is out of scope. Try changing the code around a bit and see if the vars resolve to valid data. I would also take a look at this <a href=\"https://www.mongodb.com/docs/drivers/java/sync/v4.3/usage-examples/insertOne/?_ga=2.35018785.1492361816.1657561059-586838695.1657561058#example\" rel=\"nofollow noreferrer\">Example</a> for insertOne to see a suggested design pattern."}],"answers":[{"tags":[],"owner":{"account_id":2663613,"reputation":1222,"user_id":2302700,"display_name":"Amerzilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677089901,"creation_date":1677089901,"answer_id":75536686,"question_id":72928899,"body_markdown":"Changing BSON type of the field in the collection scheme (to `object` type in my case) helped me to fix similar issue\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zRdjq.png","title":"How to fix &#39;ARGUMENTS_NOT_ALLOWED&#39; error Realm SDK for Kotlin?","body":"<p>Changing BSON type of the field in the collection scheme (to <code>object</code> type in my case) helped me to fix similar issue</p>\n<p><a href=\"https://i.stack.imgur.com/zRdjq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRdjq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8689838,"reputation":359,"user_id":6503037,"display_name":"Besart"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677089901,"creation_date":1657460251,"question_id":72928899,"body_markdown":"I am using MongoDB to save data from my Android app which I am developing with Kotlin Jetpack Compose. I am using MongoClient to access the database and save the data, but when I try to insert a Document I get this error:\r\n\r\n&gt; Error: ARGUMENTS_NOT_ALLOWED(realm::app::ServiceError:13) : insert not permitted\r\n\r\nThis is my code where I login and try to insert a Document into MongoDB Cluster:\r\n\r\n    Realm.init(this)\r\n\r\n        val appID : String = &quot;my-app-id&quot;;\r\n        app = App(\r\n            AppConfiguration.Builder(appID)\r\n            .build())\r\n\r\n        app?.loginAsync(Credentials.emailPassword(email, password)) {\r\n            if (it.isSuccess) {\r\n                val user: User? = app?.currentUser()\r\n\r\n\r\n                val client = user?.getMongoClient(&quot;mongodb-atlas&quot;)\r\n                val db = client?.getDatabase(&quot;tracker&quot;)\r\n                val coll = db?.getCollection(&quot;User&quot;)\r\n\r\n                val doc = Document(&quot;_id&quot;, UUID.randomUUID().toString()).append(&quot;name&quot;, &quot;Besart&quot;)\r\n                coll?.insertOne(doc)?.getAsync {\r\n                    if(it.isSuccess){\r\n                        ...\r\n                    }else{\r\n                        Log.e(&quot;ERROR&quot;, &quot;${it.error.errorCode}&quot;)\r\n                        it.error.printStackTrace()\r\n                    }\r\n                }\r\n            } else {\r\n                Log.e(&quot;ERROR&quot;, &quot;Failed to log in. Error: ${it.error}&quot;)\r\n            }\r\n        }\r\n\r\nThis is Users schema I created from MongoDB UI:\r\n\r\n    {\r\n \r\n     &quot;title&quot;: &quot;User&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;_id&quot;: {\r\n          &quot;bsonType&quot;: &quot;objectId&quot;\r\n        },\r\n        &quot;name&quot;: {\r\n          &quot;bsonType&quot;: &quot;string&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nThe user has full access to the database:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BXmBb.png","title":"How to fix &#39;ARGUMENTS_NOT_ALLOWED&#39; error Realm SDK for Kotlin?","body":"<p>I am using MongoDB to save data from my Android app which I am developing with Kotlin Jetpack Compose. I am using MongoClient to access the database and save the data, but when I try to insert a Document I get this error:</p>\n<blockquote>\n<p>Error: ARGUMENTS_NOT_ALLOWED(realm::app::ServiceError:13) : insert not permitted</p>\n</blockquote>\n<p>This is my code where I login and try to insert a Document into MongoDB Cluster:</p>\n<pre><code>Realm.init(this)\n\n    val appID : String = &quot;my-app-id&quot;;\n    app = App(\n        AppConfiguration.Builder(appID)\n        .build())\n\n    app?.loginAsync(Credentials.emailPassword(email, password)) {\n        if (it.isSuccess) {\n            val user: User? = app?.currentUser()\n\n\n            val client = user?.getMongoClient(&quot;mongodb-atlas&quot;)\n            val db = client?.getDatabase(&quot;tracker&quot;)\n            val coll = db?.getCollection(&quot;User&quot;)\n\n            val doc = Document(&quot;_id&quot;, UUID.randomUUID().toString()).append(&quot;name&quot;, &quot;Besart&quot;)\n            coll?.insertOne(doc)?.getAsync {\n                if(it.isSuccess){\n                    ...\n                }else{\n                    Log.e(&quot;ERROR&quot;, &quot;${it.error.errorCode}&quot;)\n                    it.error.printStackTrace()\n                }\n            }\n        } else {\n            Log.e(&quot;ERROR&quot;, &quot;Failed to log in. Error: ${it.error}&quot;)\n        }\n    }\n</code></pre>\n<p>This is Users schema I created from MongoDB UI:</p>\n<pre><code>{\n\n &quot;title&quot;: &quot;User&quot;,\n  &quot;properties&quot;: {\n    &quot;_id&quot;: {\n      &quot;bsonType&quot;: &quot;objectId&quot;\n    },\n    &quot;name&quot;: {\n      &quot;bsonType&quot;: &quot;string&quot;\n    }\n  }\n}\n</code></pre>\n<p>The user has full access to the database:\n<a href=\"https://i.stack.imgur.com/BXmBb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BXmBb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","postgresql","jpa"],"comments":[{"owner":{"account_id":3296047,"reputation":452,"user_id":2773289,"display_name":"user2773289"},"score":0,"creation_date":1677090111,"post_id":75536075,"comment_id":133270641,"body_markdown":"min function is on tableA.abcDate, but you are grouping by tableB.tableA.id","body":"min function is on tableA.abcDate, but you are grouping by tableB.tableA.id"}],"answers":[{"tags":[],"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677089857,"creation_date":1677089857,"answer_id":75536676,"question_id":75536075,"body_markdown":"I have simplify your need.\r\n\r\n    SELECT a, MIN(b.abcDate)\r\n    FROM TableA a JOIN a.tableBs b\r\n    GROUP BY a.id\r\n\r\nJoin table a and table b then group by table a id and use the MIN function to get the minimum abcDate. ","title":"Column &quot;xxx&quot; must appear in the GROUP BY clause or be used in an aggregate function","body":"<p>I have simplify your need.</p>\n<pre><code>SELECT a, MIN(b.abcDate)\nFROM TableA a JOIN a.tableBs b\nGROUP BY a.id\n</code></pre>\n<p>Join table a and table b then group by table a id and use the MIN function to get the minimum abcDate.</p>\n"}],"owner":{"account_id":7128666,"reputation":45,"user_id":5450747,"display_name":"SCM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677089857,"creation_date":1677086101,"question_id":75536075,"body_markdown":"I have the following two tables and entities:\r\n\r\n    Table A:\r\n    \r\n    id | content | tag\r\n\r\n    Table B:\r\n    id | table_a_id | abc_date\r\n\r\n\r\nI want for each distinct table A entity now what is the minimum abcDate in table B. For that, I wrote the following query:\r\n\r\n  \r\n\r\n     new JPAQuery&lt;Tuple&gt;(entityManager)\r\n          .select(tableB.tableA.id, tableA.abcDate.min())\r\n          .from(tableB)\r\n          .where(tableB.abcDate.between(start, end))\r\n          .groupBy(tableB.tableA.id)\r\n          .stream()\r\n          .collect(Collectors.toMap(\r\n            tuple -&gt; tuple.get(0, TablA.class),\r\n            tuple -&gt; tuple.get(1, LocalDate.class)\r\n          ));\r\n\r\nHowever, I get the error that tableA.id has to be part of the groupBy clause. Why is that? How can I fix it?\r\n","title":"Column &quot;xxx&quot; must appear in the GROUP BY clause or be used in an aggregate function","body":"<p>I have the following two tables and entities:</p>\n<pre><code>Table A:\n\nid | content | tag\n\nTable B:\nid | table_a_id | abc_date\n</code></pre>\n<p>I want for each distinct table A entity now what is the minimum abcDate in table B. For that, I wrote the following query:</p>\n<pre><code> new JPAQuery&lt;Tuple&gt;(entityManager)\n      .select(tableB.tableA.id, tableA.abcDate.min())\n      .from(tableB)\n      .where(tableB.abcDate.between(start, end))\n      .groupBy(tableB.tableA.id)\n      .stream()\n      .collect(Collectors.toMap(\n        tuple -&gt; tuple.get(0, TablA.class),\n        tuple -&gt; tuple.get(1, LocalDate.class)\n      ));\n</code></pre>\n<p>However, I get the error that tableA.id has to be part of the groupBy clause. Why is that? How can I fix it?</p>\n"},{"tags":["java","preferences"],"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677089616,"creation_date":1677089616,"question_id":75536626,"body_markdown":"I have following code where I created preference nodes and added node listener after some operations and remove remaining nodes but node listener not triggered. Node listener is triggering if I remove nodes in a particular order can some one explain this.\r\n\r\n    Preferences prefs =\r\n                Preferences.userRoot().node(&quot;/org/example&quot;);\r\n\r\n        Preferences node1 = prefs.node(&quot;n1&quot;);\r\n        Preferences node2 = prefs.node(&quot;n2&quot;);\r\n        Preferences node3 = node1.node(&quot;n3&quot;);\r\n\r\n\r\n        prefs.addNodeChangeListener(new NodeChangeListener() {\r\n            @Override\r\n            public void childAdded(NodeChangeEvent evt) {\r\n                System.out.println(&quot;Added&quot;+ evt.getChild());\r\n            }\r\n\r\n            @Override\r\n            public void childRemoved(NodeChangeEvent evt) {\r\n                System.out.println(&quot;removed &quot;+ evt.getChild());\r\n            }\r\n        });\r\n\r\n\r\n\r\n        node2.removeNode();\r\n        node3.removeNode();\r\n        node1.removeNode();\r\nThis gives result as\r\n\r\n    removed User Preference Node: /org/example/n2\r\n    removed User Preference Node: /org/example/n1\r\n\r\nIf I move the  node2.removeNode(); above the addNodeChangeListener or node3.removeNode();\r\n        node1.removeNode(); to above addNodeChangeListener  and node2.removeNode();as it is, Nothing printed on the console.\r\n\r\nIn the above code if the removal order changes(as below) then also nothing is printed on console.\r\n\r\n    node3.removeNode();\r\n    node2.removeNode();// this moved to middle\r\n    node1.removeNode();\r\n\r\nCan someone explain about the behavior. \r\nFYI: I am using JDK17 and this was the question(kind of) asked in interview.","title":"Java Preference API NodeChangeListener remove event not triggred","body":"<p>I have following code where I created preference nodes and added node listener after some operations and remove remaining nodes but node listener not triggered. Node listener is triggering if I remove nodes in a particular order can some one explain this.</p>\n<pre><code>Preferences prefs =\n            Preferences.userRoot().node(&quot;/org/example&quot;);\n\n    Preferences node1 = prefs.node(&quot;n1&quot;);\n    Preferences node2 = prefs.node(&quot;n2&quot;);\n    Preferences node3 = node1.node(&quot;n3&quot;);\n\n\n    prefs.addNodeChangeListener(new NodeChangeListener() {\n        @Override\n        public void childAdded(NodeChangeEvent evt) {\n            System.out.println(&quot;Added&quot;+ evt.getChild());\n        }\n\n        @Override\n        public void childRemoved(NodeChangeEvent evt) {\n            System.out.println(&quot;removed &quot;+ evt.getChild());\n        }\n    });\n\n\n\n    node2.removeNode();\n    node3.removeNode();\n    node1.removeNode();\n</code></pre>\n<p>This gives result as</p>\n<pre><code>removed User Preference Node: /org/example/n2\nremoved User Preference Node: /org/example/n1\n</code></pre>\n<p>If I move the  node2.removeNode(); above the addNodeChangeListener or node3.removeNode();\nnode1.removeNode(); to above addNodeChangeListener  and node2.removeNode();as it is, Nothing printed on the console.</p>\n<p>In the above code if the removal order changes(as below) then also nothing is printed on console.</p>\n<pre><code>node3.removeNode();\nnode2.removeNode();// this moved to middle\nnode1.removeNode();\n</code></pre>\n<p>Can someone explain about the behavior.\nFYI: I am using JDK17 and this was the question(kind of) asked in interview.</p>\n"},{"tags":["java","xml","xmlunit-2"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1677089885,"post_id":75536563,"comment_id":133270588,"body_markdown":"Be careful, XML is case sensitive: `byNameAndAttributes(&quot;Name&quot;)`. Element on XML is `name`","body":"Be careful, XML is case sensitive: <code>byNameAndAttributes(&quot;Name&quot;)</code>. Element on XML is <code>name</code>"}],"owner":{"account_id":13045795,"reputation":1,"user_id":9427692,"display_name":"Ankit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677089225,"creation_date":1677089225,"question_id":75536563,"body_markdown":"```\r\n&lt;listing&gt;\r\n  &lt;items&gt;\r\n  &lt;item dept=&quot;acct&quot; tag=&quot;12223&quot;&gt;\r\n    &lt;name&gt;laser printer&lt;/name&gt;\r\n    &lt;area&gt;common&lt;/area&gt;\r\n  &lt;/item&gt;\r\n  &lt;item dept=&quot;acct&quot; tag=&quot;65436&quot;&gt;\r\n    &lt;name&gt;table, round 1m&lt;/name&gt;\r\n    &lt;area&gt;storage&lt;/area&gt;\r\n  &lt;/item&gt;\r\n  &lt;/items&gt;\r\n\r\n  &lt;locations&gt;\r\n  &lt;building dept=&quot;recptn&quot; &gt;\r\n     &lt;wing&gt;main&lt;/wing&gt;\r\n     &lt;floor area=&quot;storage&quot;&gt;1&lt;/floor&gt;\r\n     &lt;floor area=&quot;common&quot;&gt;1&lt;/floor&gt;\r\n     &lt;floor area=&quot;office&quot;&gt;2&lt;/floor&gt;\r\n  &lt;/building&gt;\r\n  \r\n  &lt;/locations&gt;\r\n  \r\n&lt;/listing&gt;\r\n```\r\n\r\nI want to compare only part of the XML file for example i want to compare only the items of both xml files ignoring all other nodes.I believe i can achieve this using node-filter, but if there are a lot of nodes (as i was given a XML file which has 33K lines with lots of nodes),what will be the best way to compare those XML files (1) select a piece of xml and compare? (2) compare both files by ignoring nodes.\r\n\r\n```\r\n\t\tDiff diff = DiffBuilder.compare(expectedSource).withTest(actualSource).checkForSimilar()\r\n\t\t\t\t.withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byXPath(&quot;//listing/items&quot;,\r\n\t\t\t\t\t\tElementSelectors.byNameAndAttributes(&quot;Name&quot;))))\r\n\t\t\t\t.build();\r\n```","title":"Compare Part of XML using XMLUNIT ignoring nodes and attributes","body":"<pre><code>&lt;listing&gt;\n  &lt;items&gt;\n  &lt;item dept=&quot;acct&quot; tag=&quot;12223&quot;&gt;\n    &lt;name&gt;laser printer&lt;/name&gt;\n    &lt;area&gt;common&lt;/area&gt;\n  &lt;/item&gt;\n  &lt;item dept=&quot;acct&quot; tag=&quot;65436&quot;&gt;\n    &lt;name&gt;table, round 1m&lt;/name&gt;\n    &lt;area&gt;storage&lt;/area&gt;\n  &lt;/item&gt;\n  &lt;/items&gt;\n\n  &lt;locations&gt;\n  &lt;building dept=&quot;recptn&quot; &gt;\n     &lt;wing&gt;main&lt;/wing&gt;\n     &lt;floor area=&quot;storage&quot;&gt;1&lt;/floor&gt;\n     &lt;floor area=&quot;common&quot;&gt;1&lt;/floor&gt;\n     &lt;floor area=&quot;office&quot;&gt;2&lt;/floor&gt;\n  &lt;/building&gt;\n  \n  &lt;/locations&gt;\n  \n&lt;/listing&gt;\n</code></pre>\n<p>I want to compare only part of the XML file for example i want to compare only the items of both xml files ignoring all other nodes.I believe i can achieve this using node-filter, but if there are a lot of nodes (as i was given a XML file which has 33K lines with lots of nodes),what will be the best way to compare those XML files (1) select a piece of xml and compare? (2) compare both files by ignoring nodes.</p>\n<pre><code>        Diff diff = DiffBuilder.compare(expectedSource).withTest(actualSource).checkForSimilar()\n                .withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byXPath(&quot;//listing/items&quot;,\n                        ElementSelectors.byNameAndAttributes(&quot;Name&quot;))))\n                .build();\n</code></pre>\n"},{"tags":["java","oop","inheritance","oom"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677081026,"creation_date":1677081026,"answer_id":75535143,"question_id":75534703,"body_markdown":"Looks like you are looking for composition. [Difference between Inheritance and Composition][1] is good read.\r\n\r\nBasically `BikeAndCanoeStation` will depend on `BikeStation` and `CanoeStation` and delegate the specific operation to them.\r\n```\r\npublic class BikeAndCanoeStation extends Station {\r\n\r\n  private BikeStation bikeStation;\r\n  private CanoeStation canoeStation;\r\n\r\n  // more mixed station specific attributes\r\n\r\n  public void doSomethingBikeSpecific() {\r\n     this.bikeStation.doSomethingBikeSpecific();\r\n  }\r\n\r\n  public void doSomethingCanoeSpecific() {\r\n    this.canoeStation.doSomethingCanoeSpecific();\r\n  }\r\n\r\n  // more mixed station specific methods\r\n}\r\n```\r\nI would still extract the methods in interfaces to be more clear what each implementor is supposed to do.\r\n\r\n  [1]: https://stackoverflow.com/questions/2399544/difference-between-inheritance-and-composition","title":"How to model (sub)classes with identical attributes and methods?","body":"<p>Looks like you are looking for composition. <a href=\"https://stackoverflow.com/questions/2399544/difference-between-inheritance-and-composition\">Difference between Inheritance and Composition</a> is good read.</p>\n<p>Basically <code>BikeAndCanoeStation</code> will depend on <code>BikeStation</code> and <code>CanoeStation</code> and delegate the specific operation to them.</p>\n<pre><code>public class BikeAndCanoeStation extends Station {\n\n  private BikeStation bikeStation;\n  private CanoeStation canoeStation;\n\n  // more mixed station specific attributes\n\n  public void doSomethingBikeSpecific() {\n     this.bikeStation.doSomethingBikeSpecific();\n  }\n\n  public void doSomethingCanoeSpecific() {\n    this.canoeStation.doSomethingCanoeSpecific();\n  }\n\n  // more mixed station specific methods\n}\n</code></pre>\n<p>I would still extract the methods in interfaces to be more clear what each implementor is supposed to do.</p>\n"}],"owner":{"account_id":27851953,"reputation":11,"user_id":21266287,"display_name":"Flow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677088895,"creation_date":1677078852,"question_id":75534703,"body_markdown":"I am trying to model the following situation in Java, but I suppose it might be a general OOP problem:\r\nI have 3 (or maybe more) different classes, which have some attributes and methods in common, and some attributes and methods which are specific to each of the classes.\r\n\r\nSo far, this is a classical inheritance situation.\r\n\r\nThe problem: The third class contains some attributes/methods identical to (only) the first class and some identical to (only) the second class. Polymorphism should also be used.\r\n\r\nTo be more specific: I want to model stations where people can borrow things: There are `BikeStations`, `CanoeStations` and `BikeAndCanoeStations`, with one or more common behavior method(s) (for polymorphism).\r\n\r\nAs - at the first look - this seems to be a classical inheritance problem, one could model the classes as follows:\r\n\r\n\r\n```\r\n// Superclass (Station)\r\npublic abstract class Station {\r\n\r\n   // common attributes\r\n\r\n   // common methods\r\n\r\n   public abstract void doSomething();\r\n}\r\n```\r\n\r\n```\r\n// Subclass 1 (BikeStation)\r\npublic class BikeStation extends Station {\r\n\r\n   private int someBikeSpecificAttribute;\r\n\r\n   // more bike station specific attributes\r\n\r\n   public void doSomething() {\r\n      // bike station specific stuff\r\n   }\r\n\r\n   // more bike station specific methods\r\n}\r\n```\r\n\r\n```\r\n// Subclass 2 (CanoeStation)\r\npublic class CanoeStation extends Station {\r\n\r\n   private int someCanoeSpecificAttribute;\r\n\r\n   // more canoe station specific attributes\r\n\r\n   public void doSomething() {\r\n      // canoe station specific stuff\r\n   }\r\n\r\n   // more canoe station specific methods\r\n}\r\n```\r\n\r\n```\r\n// Subclass 3 (BikeAndCanoeStation)\r\npublic class BikeAndCanoeStation extends Station {\r\n\r\n   private int someBikeSpecificAttribute;   // same as in BikeStation\r\n   private int someCanoeSpecificAttribute;  // same as in CanoeStation\r\n\r\n   // more mixed station specific attributes\r\n\r\n   public void doSomething() { \r\n      // bike station specific stuff (same as in BikeStation)\r\n      // canoe station specific stuff (same as in CanoeStation)\r\n   }\r\n\r\n   // more mixed station specific methods\r\n}\r\n```\r\n\r\nHowever, it doesn&#39;t feel right to just copy the attributes and methods/statements from the first two classes to the third. This just does not feel like good OOP.\r\nIt produces redundant code and I cannot easily add other classes (stations) later.\r\n\r\nSo I thought about using Interfaces or even the [Strategy Pattern](https://en.wikipedia.org/wiki/Strategy_pattern), but this only solves the behavioral problem (i.e. the methods), if at all.\r\n\r\nHow would you model such a situation with good OOP (preferably in Java)?\r\n\r\n*(edited question to include/clarify the use of polymorphism.)*","title":"How to model (sub)classes with identical attributes and methods?","body":"<p>I am trying to model the following situation in Java, but I suppose it might be a general OOP problem:\nI have 3 (or maybe more) different classes, which have some attributes and methods in common, and some attributes and methods which are specific to each of the classes.</p>\n<p>So far, this is a classical inheritance situation.</p>\n<p>The problem: The third class contains some attributes/methods identical to (only) the first class and some identical to (only) the second class. Polymorphism should also be used.</p>\n<p>To be more specific: I want to model stations where people can borrow things: There are <code>BikeStations</code>, <code>CanoeStations</code> and <code>BikeAndCanoeStations</code>, with one or more common behavior method(s) (for polymorphism).</p>\n<p>As - at the first look - this seems to be a classical inheritance problem, one could model the classes as follows:</p>\n<pre><code>// Superclass (Station)\npublic abstract class Station {\n\n   // common attributes\n\n   // common methods\n\n   public abstract void doSomething();\n}\n</code></pre>\n<pre><code>// Subclass 1 (BikeStation)\npublic class BikeStation extends Station {\n\n   private int someBikeSpecificAttribute;\n\n   // more bike station specific attributes\n\n   public void doSomething() {\n      // bike station specific stuff\n   }\n\n   // more bike station specific methods\n}\n</code></pre>\n<pre><code>// Subclass 2 (CanoeStation)\npublic class CanoeStation extends Station {\n\n   private int someCanoeSpecificAttribute;\n\n   // more canoe station specific attributes\n\n   public void doSomething() {\n      // canoe station specific stuff\n   }\n\n   // more canoe station specific methods\n}\n</code></pre>\n<pre><code>// Subclass 3 (BikeAndCanoeStation)\npublic class BikeAndCanoeStation extends Station {\n\n   private int someBikeSpecificAttribute;   // same as in BikeStation\n   private int someCanoeSpecificAttribute;  // same as in CanoeStation\n\n   // more mixed station specific attributes\n\n   public void doSomething() { \n      // bike station specific stuff (same as in BikeStation)\n      // canoe station specific stuff (same as in CanoeStation)\n   }\n\n   // more mixed station specific methods\n}\n</code></pre>\n<p>However, it doesn't feel right to just copy the attributes and methods/statements from the first two classes to the third. This just does not feel like good OOP.\nIt produces redundant code and I cannot easily add other classes (stations) later.</p>\n<p>So I thought about using Interfaces or even the <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">Strategy Pattern</a>, but this only solves the behavioral problem (i.e. the methods), if at all.</p>\n<p>How would you model such a situation with good OOP (preferably in Java)?</p>\n<p><em>(edited question to include/clarify the use of polymorphism.)</em></p>\n"},{"tags":["java","azure-ad-msal","pkce","aad-b2c"],"owner":{"account_id":27853538,"reputation":1,"user_id":21267557,"display_name":"atrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677088796,"creation_date":1677088796,"question_id":75536510,"body_markdown":"I am new to PKCE and MSAL library. We are in trouble of generating token using authcode with PKCE grandtype in java. \r\n\r\nCouldn&#39;t find any documentation on it. Is it possible in java with MSAL library? It is a webapplication, hence Confidential Client Application.\r\n\r\nThanks","title":"How to generate token using PKCE grandtype with help of MSAL from AAD B2C","body":"<p>I am new to PKCE and MSAL library. We are in trouble of generating token using authcode with PKCE grandtype in java.</p>\n<p>Couldn't find any documentation on it. Is it possible in java with MSAL library? It is a webapplication, hence Confidential Client Application.</p>\n<p>Thanks</p>\n"},{"tags":["java","configuration","hazelcast"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677095744,"post_id":75536481,"comment_id":133272136,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":12184203,"reputation":1,"user_id":10996266,"display_name":"zum zet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677088668,"creation_date":1677088602,"question_id":75536481,"body_markdown":"i am trying to generate runtime Hazelcast queues of different names backed up by the same store implementation (a jpa repository)\r\nthe queues do have different names but when pooling from them, the data is actually taken from the repo (unique order)\r\n\r\n```\r\nContructor(autowired) {\r\n    this.baseQueueName = queueName;\r\n    this.hzInstance = hazelcastInstance;\r\n    this.iotQueueStoreConfig = new QueueStoreConfig().setStoreImplementation(storeImplementation);\r\n    iotQueueStoreConfig.setProperty(&quot;memory-limit&quot;, &quot;5000&quot;);\r\n    iotQueueStoreConfig.setProperty(&quot;bulk-load&quot;, &quot;1000&quot;);\r\n}\r\n\r\nIqueueue&lt;T&gt; newQueue(String runtimeName) {\r\n    var queueName = baseQueueName.concat(runtimeName);\r\n    var hzConfig = hzInstance.getConfig();\r\n    var iotQueueConfig = hzConfig.getQueueConfig(queueName);\r\n    iotQueueConfig.setMaxSize(0); // unbounded\r\n    iotQueueConfig.setQueueStoreConfig(iotQueueStoreConfig);\r\n    log.debug(&quot;hzConfig is: {}&quot;, hzConfig);\r\n    return hzInstance.getQueue(queueName);\r\n}\r\n```\r\n\r\ncreate queue A - and send 5 items - creates entities 1-5;\r\n\r\ncreate queue B - and send 5 items - creates entities 6-7;\r\n\r\npool from queue B -&gt; it will pool entity with ID 1;\r\n\r\nit does not seem right - i think i am missing something","title":"Hazelcast Queues with same store implementation (java)","body":"<p>i am trying to generate runtime Hazelcast queues of different names backed up by the same store implementation (a jpa repository)\nthe queues do have different names but when pooling from them, the data is actually taken from the repo (unique order)</p>\n<pre><code>Contructor(autowired) {\n    this.baseQueueName = queueName;\n    this.hzInstance = hazelcastInstance;\n    this.iotQueueStoreConfig = new QueueStoreConfig().setStoreImplementation(storeImplementation);\n    iotQueueStoreConfig.setProperty(&quot;memory-limit&quot;, &quot;5000&quot;);\n    iotQueueStoreConfig.setProperty(&quot;bulk-load&quot;, &quot;1000&quot;);\n}\n\nIqueueue&lt;T&gt; newQueue(String runtimeName) {\n    var queueName = baseQueueName.concat(runtimeName);\n    var hzConfig = hzInstance.getConfig();\n    var iotQueueConfig = hzConfig.getQueueConfig(queueName);\n    iotQueueConfig.setMaxSize(0); // unbounded\n    iotQueueConfig.setQueueStoreConfig(iotQueueStoreConfig);\n    log.debug(&quot;hzConfig is: {}&quot;, hzConfig);\n    return hzInstance.getQueue(queueName);\n}\n</code></pre>\n<p>create queue A - and send 5 items - creates entities 1-5;</p>\n<p>create queue B - and send 5 items - creates entities 6-7;</p>\n<p>pool from queue B -&gt; it will pool entity with ID 1;</p>\n<p>it does not seem right - i think i am missing something</p>\n"},{"tags":["java","appium","kobiton"],"answers":[{"tags":[],"owner":{"account_id":27198234,"reputation":1,"user_id":20730842,"display_name":"Robert Poręba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670568026,"creation_date":1670568026,"answer_id":74739679,"question_id":74687783,"body_markdown":"Try to use java-client latest version\r\nhttps://github.com/appium/java-client\r\n\r\n    &lt;dependency&gt;  \r\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;8.3.0&lt;/version&gt; //for today is 8.3.0\r\n    &lt;/dependency&gt;","title":"When I try to run automatic tests in Appium on the Kobiton device farm, I get an exception","body":"<p>Try to use java-client latest version\n<a href=\"https://github.com/appium/java-client\" rel=\"nofollow noreferrer\">https://github.com/appium/java-client</a></p>\n<pre><code>&lt;dependency&gt;  \n&lt;groupId&gt;io.appium&lt;/groupId&gt;\n&lt;artifactId&gt;java-client&lt;/artifactId&gt;\n&lt;version&gt;8.3.0&lt;/version&gt; //for today is 8.3.0\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27151177,"reputation":1,"user_id":20690656,"display_name":"Krzysztof Potoczek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677088627,"creation_date":1670241327,"question_id":74687783,"body_markdown":"When I try to run automatic tests in Appium on the Kobiton device farm, I get an exception: Could not start a new session. Only W3C sessions are supported. Please make sure your server is up to date.\r\n\r\nI have no idea what could be causing the problem. I can&#39;t find a thread anywhere. related to this, and a month ago I was able to run automatic tests on the farm without any problems.\r\n\r\nThe content of the RunApplication class was generated automatically by Kobiton.\r\n\r\nRegardless of the sent application or choosing a different device, there is always the same error.\r\n\r\nLogs:\r\n\r\n\r\n```\r\nFAILED CONFIGURATION: @BeforeClass *RunApplication\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Only W3C sessions are supported. Please make sure your server is up to date. \r\nHost info: host: &#39;&#39;, ip: &#39;127.0.0.1&#39;\r\nBuild info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;12.6&#39;, java.version: &#39;18.0.1.1&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, newSession {capabilities=[{appium:app=kobiton-store:v528820, appium:captureScreenshots=true, appium:deviceGroup=KOBITON, appium:deviceName=Galaxy*, appium:deviceOrientation=portrait, platformName=ANDROID, appium:platformVersion=1*, appium:sessionDescription=, appium:sessionName=Automation test session}], desiredCapabilities=Capabilities {app: kobiton-store:v528820, captureScreenshots: true, deviceGroup: KOBITON, deviceName: Galaxy*, deviceOrientation: portrait, platformName: ANDROID, platformVersion: 1*, sessionDescription: , sessionName: Automation test session}}]\r\nCapabilities {}\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:154)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:541)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\r\n\tat Testy.BaseConfiguration.AppiumAndroidDoctor.RunApplication(AppiumAndroidDoctor.java:42)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\r\n\tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:361)\r\n\tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:296)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:180)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:122)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n\tat org.testng.TestRunner.run(TestRunner.java:601)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n```\r\n\r\n\r\nand my Desired Capabilities\r\n\r\n\r\n```\r\npackage Testy.BaseConfiguration;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.time.Duration;\r\nimport java.util.Properties;\r\n\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.BeforeTest;\r\n\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.appium.java_client.android.options.UiAutomator2Options;\r\n\r\n\r\npublic class AppiumAndroidDoctor {\r\n\r\n\tpublic AndroidDriver driver;\r\n\t\r\n\t\r\n\t@BeforeClass\r\n\tpublic void RunApplication() throws IOException\r\n\t{\r\n\t    \r\n\t  String kobitonServerUrl = &quot;myKobitonServerUrl&quot;;\r\n\t    \r\n\t    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n\t    \r\n\t    capabilities.setCapability(&quot;sessionName&quot;, &quot;Automation test session&quot;);\r\n\t    capabilities.setCapability(&quot;sessionDescription&quot;, &quot;&quot;);\r\n\t    capabilities.setCapability(&quot;deviceOrientation&quot;, &quot;portrait&quot;);\r\n\t    capabilities.setCapability(&quot;captureScreenshots&quot;, true);\r\n\t    capabilities.setCapability(&quot;app&quot;, &quot;kobiton-store:v528820&quot;);        \r\n\t    capabilities.setCapability(&quot;deviceGroup&quot;, &quot;KOBITON&quot;);\r\n\t    capabilities.setCapability(&quot;deviceName&quot;, &quot;Galaxy*&quot;);\r\n\t    capabilities.setCapability(&quot;platformVersion&quot;, &quot;1*&quot;);\r\n\t    capabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;); \r\n\t    \r\n\t    driver = new AndroidDriver(new URL(kobitonServerUrl),capabilities); \r\n\t    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\n\t\t\r\n\t}\r\n\t\r\n\t@AfterClass\r\n\tpublic void tearDown()\r\n\t{\r\n\t\tdriver.quit();\r\n\t}\r\n}\r\n```\r\n","title":"When I try to run automatic tests in Appium on the Kobiton device farm, I get an exception","body":"<p>When I try to run automatic tests in Appium on the Kobiton device farm, I get an exception: Could not start a new session. Only W3C sessions are supported. Please make sure your server is up to date.</p>\n<p>I have no idea what could be causing the problem. I can't find a thread anywhere. related to this, and a month ago I was able to run automatic tests on the farm without any problems.</p>\n<p>The content of the RunApplication class was generated automatically by Kobiton.</p>\n<p>Regardless of the sent application or choosing a different device, there is always the same error.</p>\n<p>Logs:</p>\n<pre><code>FAILED CONFIGURATION: @BeforeClass *RunApplication\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Only W3C sessions are supported. Please make sure your server is up to date. \nHost info: host: '', ip: '127.0.0.1'\nBuild info: version: '4.6.0', revision: '79f1c02ae20'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '12.6', java.version: '18.0.1.1'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, newSession {capabilities=[{appium:app=kobiton-store:v528820, appium:captureScreenshots=true, appium:deviceGroup=KOBITON, appium:deviceName=Galaxy*, appium:deviceOrientation=portrait, platformName=ANDROID, appium:platformVersion=1*, appium:sessionDescription=, appium:sessionName=Automation test session}], desiredCapabilities=Capabilities {app: kobiton-store:v528820, captureScreenshots: true, deviceGroup: KOBITON, deviceName: Galaxy*, deviceOrientation: portrait, platformName: ANDROID, platformVersion: 1*, sessionDescription: , sessionName: Automation test session}}]\nCapabilities {}\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:154)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:541)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\n    at Testy.BaseConfiguration.AppiumAndroidDoctor.RunApplication(AppiumAndroidDoctor.java:42)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:361)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:296)\n    at org.testng.internal.invokers.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:180)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:122)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:806)\n    at org.testng.TestRunner.run(TestRunner.java:601)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\n</code></pre>\n<p>and my Desired Capabilities</p>\n<pre><code>package Testy.BaseConfiguration;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.time.Duration;\nimport java.util.Properties;\n\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeTest;\n\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.android.options.UiAutomator2Options;\n\n\npublic class AppiumAndroidDoctor {\n\n    public AndroidDriver driver;\n    \n    \n    @BeforeClass\n    public void RunApplication() throws IOException\n    {\n        \n      String kobitonServerUrl = &quot;myKobitonServerUrl&quot;;\n        \n        DesiredCapabilities capabilities = new DesiredCapabilities();\n        \n        capabilities.setCapability(&quot;sessionName&quot;, &quot;Automation test session&quot;);\n        capabilities.setCapability(&quot;sessionDescription&quot;, &quot;&quot;);\n        capabilities.setCapability(&quot;deviceOrientation&quot;, &quot;portrait&quot;);\n        capabilities.setCapability(&quot;captureScreenshots&quot;, true);\n        capabilities.setCapability(&quot;app&quot;, &quot;kobiton-store:v528820&quot;);        \n        capabilities.setCapability(&quot;deviceGroup&quot;, &quot;KOBITON&quot;);\n        capabilities.setCapability(&quot;deviceName&quot;, &quot;Galaxy*&quot;);\n        capabilities.setCapability(&quot;platformVersion&quot;, &quot;1*&quot;);\n        capabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;); \n        \n        driver = new AndroidDriver(new URL(kobitonServerUrl),capabilities); \n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\n        \n    }\n    \n    @AfterClass\n    public void tearDown()\n    {\n        driver.quit();\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable","jcombobox","defaulttablemodel"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1677072001,"post_id":75532872,"comment_id":133264661,"body_markdown":"[Avoid null layouts in Swing](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing)\nWe need to see more code. You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">Avoid null layouts in Swing</a> We need to see more code. You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":27849502,"reputation":1,"user_id":21264289,"display_name":"blink727_"},"score":0,"creation_date":1677072499,"post_id":75532872,"comment_id":133264805,"body_markdown":"This is part of the code, I already have a layout and everything works, the only thing that is giving me problem is this bug.\nI don&#39;t know how to clear the dtm before the reuse, can you help me? I tried with dtm.setRowCount(0), but didn&#39;t works.","body":"This is part of the code, I already have a layout and everything works, the only thing that is giving me problem is this bug. I don&#39;t know how to clear the dtm before the reuse, can you help me? I tried with dtm.setRowCount(0), but didn&#39;t works."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677073944,"post_id":75532872,"comment_id":133265253,"body_markdown":"I always remove each and every row from the `DefaultTableModel` when I want to clear the model.  I use a reverse `for` loop, deleting from the last row to the first row.","body":"I always remove each and every row from the <code>DefaultTableModel</code> when I want to clear the model.  I use a reverse <code>for</code> loop, deleting from the last row to the first row."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677074266,"post_id":75532872,"comment_id":133265370,"body_markdown":"most probably something wrong in the code you are not showing ;) As already suggested in the first comment by @g00se: please provide a [mcve] demonstrating your problem. And remove that abominable null layout .. it&#39;s plain __wrong__ and shouldn&#39;t be spread!","body":"most probably something wrong in the code you are not showing ;) As already suggested in the first comment by @g00se: please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating your problem. And remove that abominable null layout .. it&#39;s plain <b>wrong</b> and shouldn&#39;t be spread!"},{"owner":{"account_id":27849502,"reputation":1,"user_id":21264289,"display_name":"blink727_"},"score":0,"creation_date":1677074585,"post_id":75532872,"comment_id":133265467,"body_markdown":"@GilbertLeBlanc you did it like this?\n`for(int i=dtm.getRowCount(); i&gt;0;i--) {\n\t\t\t\tdtm.removeRow(i);\n\t\t\t}`\nI tried to put it before the while but it didn&#39;t work. \nAny suggest about where write it?","body":"@GilbertLeBlanc you did it like this? <code>for(int i=dtm.getRowCount(); i&gt;0;i--) { \t\t\t\tdtm.removeRow(i); \t\t\t}</code> I tried to put it before the while but it didn&#39;t work.  Any suggest about where write it?"},{"owner":{"account_id":27849502,"reputation":1,"user_id":21264289,"display_name":"blink727_"},"score":0,"creation_date":1677077158,"post_id":75532872,"comment_id":133266353,"body_markdown":"I post the entire code of the class\n@kleopatra \nHope it could help","body":"I post the entire code of the class @kleopatra  Hope it could help"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1677077406,"post_id":75532872,"comment_id":133266463,"body_markdown":"please read the referenced help page and act accordingly - an example has to be stand-alone (which obviously must not contain database access, f.i. ;), runnable as-is (no change/addition/edit needed by the potential helper), minimal (nothing unrelated) and demonstrating the problem you describe.","body":"please read the referenced help page and act accordingly - an example has to be stand-alone (which obviously must not contain database access, f.i. ;), runnable as-is (no change/addition/edit needed by the potential helper), minimal (nothing unrelated) and demonstrating the problem you describe."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1677078443,"post_id":75532872,"comment_id":133266838,"body_markdown":"@GilbertLeBlanc, why would you remove one row at a time when the goal is to clear the model? This will generated multiple &quot;tablerowsremoved&quot; events which in turn will generate multiple requests to repaint the table. Using `setRowCount(0)` is more efficient. Removing rows from the end is an approach used when you need to only remove &quot;highlighted&quot; rows from the model.","body":"@GilbertLeBlanc, why would you remove one row at a time when the goal is to clear the model? This will generated multiple &quot;tablerowsremoved&quot; events which in turn will generate multiple requests to repaint the table. Using <code>setRowCount(0)</code> is more efficient. Removing rows from the end is an approach used when you need to only remove &quot;highlighted&quot; rows from the model."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1677078603,"post_id":75532872,"comment_id":133266887,"body_markdown":"@blink727_ *I have only one JTable* - no you don&#39;t. Your &quot;search&quot; method continually creates a new instance of JTable. Instead the table should be created and added to the frame when you create all your other components. The &quot;search&quot; method should just reset the data in the model.","body":"@blink727_ <i>I have only one JTable</i> - no you don&#39;t. Your &quot;search&quot; method continually creates a new instance of JTable. Instead the table should be created and added to the frame when you create all your other components. The &quot;search&quot; method should just reset the data in the model."},{"owner":{"account_id":27849502,"reputation":1,"user_id":21264289,"display_name":"blink727_"},"score":0,"creation_date":1677078769,"post_id":75532872,"comment_id":133266957,"body_markdown":"@camickr Should I create the JTable outside the method and recall it?","body":"@camickr Should I create the JTable outside the method and recall it?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1677078852,"post_id":75532872,"comment_id":133266993,"body_markdown":"Yes, you define your button and combo box as instance variables of the class. The table should be defined the same way.","body":"Yes, you define your button and combo box as instance variables of the class. The table should be defined the same way."},{"owner":{"account_id":27849502,"reputation":1,"user_id":21264289,"display_name":"blink727_"},"score":0,"creation_date":1677079466,"post_id":75532872,"comment_id":133267242,"body_markdown":"@camickr it doesn&#39;t works :(\nIt shows me the first table but no the next one.\nDoing a test I notice that if I have the JFrame and the JPanel in the same class, it seems to be ok, no bug.\nI can post the code if you want.","body":"@camickr it doesn&#39;t works :( It shows me the first table but no the next one. Doing a test I notice that if I have the JFrame and the JPanel in the same class, it seems to be ok, no bug. I can post the code if you want."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677080052,"post_id":75532872,"comment_id":133267397,"body_markdown":"You should add the table right away and then change the model. Generally speaking, it&#39;s a bad idea to reconstruct your gui on the fly","body":"You should add the table right away and then change the model. Generally speaking, it&#39;s a bad idea to reconstruct your gui on the fly"},{"owner":{"account_id":27849502,"reputation":1,"user_id":21264289,"display_name":"blink727_"},"score":0,"creation_date":1677081270,"post_id":75532872,"comment_id":133267859,"body_markdown":"@g00se I tried, it only works when the jtable and the model are created inside the method and if I add the table at the start of the method it&#39;s the same. I&#39;m trying everything.","body":"@g00se I tried, it only works when the jtable and the model are created inside the method and if I add the table at the start of the method it&#39;s the same. I&#39;m trying everything."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677082680,"post_id":75532872,"comment_id":133268331,"body_markdown":"Strictly speaking, you shouldn&#39;t be doing this query in the EDT either. You should be doing it in a separate thread, maybe using `SwingWorker`","body":"Strictly speaking, you shouldn&#39;t be doing this query in the EDT either. You should be doing it in a separate thread, maybe using <code>SwingWorker</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1677082914,"post_id":75532872,"comment_id":133268400,"body_markdown":"Basic example: https://stackoverflow.com/a/31764599/131872","body":"Basic example: <a href=\"https://stackoverflow.com/a/31764599/131872\">stackoverflow.com/a/31764599/131872</a>"}],"answers":[{"comments":[{"owner":{"account_id":27849502,"reputation":1,"user_id":21264289,"display_name":"blink727_"},"score":0,"creation_date":1677139232,"post_id":75536457,"comment_id":133279621,"body_markdown":"if I am in a class that extends JPanel, that is in a general frame, used for every panel I have, how can I recall the frame to add the jscrollpane?\nI think this is the problem, I change my test with a class extends JFrame and it doesn&#39;t give me problem.","body":"if I am in a class that extends JPanel, that is in a general frame, used for every panel I have, how can I recall the frame to add the jscrollpane? I think this is the problem, I change my test with a class extends JFrame and it doesn&#39;t give me problem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677156308,"post_id":75536457,"comment_id":133284361,"body_markdown":"Your problem on that front is that you&#39;re mixing presentation up with application functionality. A panel is for presentation. You should separate the filling of its components out really. You can then use that filling functionality in other contexts","body":"Your problem on that front is that you&#39;re mixing presentation up with application functionality. A panel is for presentation. You should separate the filling of its components out really. You can then use that filling functionality in other contexts"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677088485,"creation_date":1677088485,"answer_id":75536457,"question_id":75532872,"body_markdown":"This is an example of how I treated an on-the-fly table model fill with lottery results some years ago. You can easily adapt the `TableFiller` class to get your results from the database:\r\n\r\n    import java.awt.EventQueue;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.IOException;\r\n    \r\n    import java.net.URL;\r\n    \r\n    import java.util.List;\r\n    import java.util.Vector;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableModel;\r\n    \r\n    public class LotteryResults extends JFrame {\r\n        private static final String RESULTS_FILE = &quot;https://www.national-lottery.co.uk/results/lotto/draw-history/csv&quot;;\r\n        private static int NUM_SIGNIFICANT_FIELDS = 10;\r\n        private JTable table;\r\n        private DefaultTableModel tableModel;\r\n    \r\n        public void setGui() {\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            tableModel = new DefaultTableModel(new Vector&lt;&gt;(), makeColumnHeaders());\r\n            table = new JTable(tableModel);\r\n    \r\n            JScrollPane sp = new JScrollPane(table);\r\n            getContentPane().add(sp);\r\n        }\r\n    \r\n        private Vector&lt;String&gt; makeColumnHeaders() {\r\n            String headers = &quot;Draw Date, Ball 1, Ball 2, Ball 3, Ball 4, Ball 5, Ball 6,  Bonus Ball, Ball Set, Machine&quot;;\r\n    \r\n            return new Vector&lt;&gt;(Arrays.asList(headers.split(&quot;\\\\s*,\\\\s*&quot;)));\r\n        }\r\n    \r\n        public void start() {\r\n            new TableFiller().execute();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                EventQueue.invokeAndWait(() -&gt; {\r\n    \r\n                    LotteryResults reader = new LotteryResults();\r\n                    reader.setGui();\r\n                    reader.setSize(600, 300);\r\n                    reader.setVisible(true);\r\n                    reader.start();\r\n                });\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n        private class TableFiller extends SwingWorker&lt;Vector&lt;Vector&lt;String&gt;&gt;, Vector&lt;String&gt;&gt; {\r\n            @Override\r\n            public Vector&lt;Vector&lt;String&gt;&gt; doInBackground() {\r\n                Vector&lt;Vector&lt;String&gt;&gt; allRows = new Vector&lt;&gt;();\r\n                String line = null;\r\n                int rowCount = 0;\r\n                try (BufferedReader in = new BufferedReader(new InputStreamReader(new URL(RESULTS_FILE).openStream()))) {\r\n    \r\n                    while ((line = in.readLine()) != null) {\r\n                        String[] tokens = line.split(&quot;\\\\s*,\\\\s*&quot;);\r\n                        rowCount++;\r\n    \r\n                        if (tokens.length &gt;= NUM_SIGNIFICANT_FIELDS) {\r\n                            Vector&lt;String&gt; row = new Vector&lt;&gt;();\r\n                            for (int i = 0; i &lt; NUM_SIGNIFICANT_FIELDS; i++) {\r\n                                row.add(tokens[i]);\r\n                            }\r\n                            // Ignore header\r\n                            if (rowCount &gt; 1) {\r\n                                publish(row);\r\n                            }\r\n                        }\r\n                    }\r\n                    System.out.printf(&quot;%d row(s) found%n&quot;, rowCount);\r\n    \r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                return allRows;\r\n            }\r\n    \r\n            @Override\r\n            protected void process(List&lt;Vector&lt;String&gt;&gt; x) {\r\n                for (int i = 0; i &lt; x.size(); i++) {\r\n                    tableModel.addRow(x.get(i));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"DefaultTableModel update BUG, How can I resolve it?","body":"<p>This is an example of how I treated an on-the-fly table model fill with lottery results some years ago. You can easily adapt the <code>TableFiller</code> class to get your results from the database:</p>\n<pre><code>import java.awt.EventQueue;\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\n\nimport java.net.URL;\n\nimport java.util.List;\nimport java.util.Vector;\nimport java.util.Arrays;\n\nimport javax.swing.SwingWorker;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableModel;\n\npublic class LotteryResults extends JFrame {\n    private static final String RESULTS_FILE = &quot;https://www.national-lottery.co.uk/results/lotto/draw-history/csv&quot;;\n    private static int NUM_SIGNIFICANT_FIELDS = 10;\n    private JTable table;\n    private DefaultTableModel tableModel;\n\n    public void setGui() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        tableModel = new DefaultTableModel(new Vector&lt;&gt;(), makeColumnHeaders());\n        table = new JTable(tableModel);\n\n        JScrollPane sp = new JScrollPane(table);\n        getContentPane().add(sp);\n    }\n\n    private Vector&lt;String&gt; makeColumnHeaders() {\n        String headers = &quot;Draw Date, Ball 1, Ball 2, Ball 3, Ball 4, Ball 5, Ball 6,  Bonus Ball, Ball Set, Machine&quot;;\n\n        return new Vector&lt;&gt;(Arrays.asList(headers.split(&quot;\\\\s*,\\\\s*&quot;)));\n    }\n\n    public void start() {\n        new TableFiller().execute();\n    }\n\n    public static void main(String[] args) {\n        try {\n            EventQueue.invokeAndWait(() -&gt; {\n\n                LotteryResults reader = new LotteryResults();\n                reader.setGui();\n                reader.setSize(600, 300);\n                reader.setVisible(true);\n                reader.start();\n            });\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    private class TableFiller extends SwingWorker&lt;Vector&lt;Vector&lt;String&gt;&gt;, Vector&lt;String&gt;&gt; {\n        @Override\n        public Vector&lt;Vector&lt;String&gt;&gt; doInBackground() {\n            Vector&lt;Vector&lt;String&gt;&gt; allRows = new Vector&lt;&gt;();\n            String line = null;\n            int rowCount = 0;\n            try (BufferedReader in = new BufferedReader(new InputStreamReader(new URL(RESULTS_FILE).openStream()))) {\n\n                while ((line = in.readLine()) != null) {\n                    String[] tokens = line.split(&quot;\\\\s*,\\\\s*&quot;);\n                    rowCount++;\n\n                    if (tokens.length &gt;= NUM_SIGNIFICANT_FIELDS) {\n                        Vector&lt;String&gt; row = new Vector&lt;&gt;();\n                        for (int i = 0; i &lt; NUM_SIGNIFICANT_FIELDS; i++) {\n                            row.add(tokens[i]);\n                        }\n                        // Ignore header\n                        if (rowCount &gt; 1) {\n                            publish(row);\n                        }\n                    }\n                }\n                System.out.printf(&quot;%d row(s) found%n&quot;, rowCount);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            return allRows;\n        }\n\n        @Override\n        protected void process(List&lt;Vector&lt;String&gt;&gt; x) {\n            for (int i = 0; i &lt; x.size(); i++) {\n                tableModel.addRow(x.get(i));\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27849502,"reputation":1,"user_id":21264289,"display_name":"blink727_"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677088485,"creation_date":1677069963,"question_id":75532872,"body_markdown":"I hope you can help me!!! I have a JComboBox, when I click the button &quot;search&quot; a JTable appears. When I change the selection of the JComboBox and click &quot;search&quot; again, the table changes its model and shows me the new datas, but if I click in there, the old model appears again. The data are from a database by a query.\r\n\r\nI try to use dtm.setRowCount(0) but didn&#39;t works. I have only one JTable and I use the same dtm (DefaultTableModel) for every query. \r\n\r\n\r\n```\r\n\r\npublic class store extends JPanel{\r\n\t\r\n\tint WIDTH = 1000;\r\n\tint HEIGHT = 600;\r\n\tString[] columnnames = new String[] {&quot;id&quot;, &quot;type&quot;, &quot;cost&quot;};\r\n\tJComboBox jcb;\r\n\tJButton button;\r\n\tDataBaseConnection dbc = new DataBaseConnection();\r\n\t\r\n\tpublic store() {\r\n\t\tsuper();\r\n\t\tthis.setVisible(true);\r\n\t\tthis.setPreferredSize(new Dimension(WIDTH, HEIGHT));\r\n\t\tthis.setBackground(new Color(224, 224, 224));\r\n\t\t\r\n\t\t\r\n\t\tGroupLayout gLayout = new GroupLayout(this);\r\n\t\tgLayout.setAutoCreateGaps(true);\r\n\t\tgLayout.setAutoCreateContainerGaps(true);\r\n\t\tthis.setLayout(gLayout);\r\n\t\t\r\n\t\t this.jcb = new JComboBox();\r\n\t\t \r\n\t\t \r\n\t\t this.button=new JButton(&quot;Search&quot;);\r\n\t\t button.addActionListener(new ActionListener() {\r\n\t\t\t public void actionPerformed(ActionEvent evt) {\r\n\t\t\t\t showTable();\r\n\t\t\t }\r\n\t\t });\r\n\t\t \r\n\t\t try { \r\n\t\t\t\tConnection conn;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n\t\t\t\t\r\n\t\t\t\tconn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/Try&quot;, &quot;postgres&quot;,\r\n\t\t\t\t\t\t&quot;******&quot;);\r\n\t\t\t\tString sql = &quot;select distinct type from try&quot;;\r\n\t\t\t\tPreparedStatement ps = conn.prepareStatement(sql);\r\n\t\t\t\tResultSet rs2 = ps.executeQuery();\r\n\t\t\t\twhile (rs2.next()) {\r\n\r\n\t\t\t\t\tString aS = rs2.getString(1);\r\n\t\t\t\t\tjcb.addItem(aS);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconn.close();\r\n\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t } catch (ClassNotFoundException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t \r\n\t\t \r\n\t\t gLayout.setHorizontalGroup(gLayout.createSequentialGroup()\r\n\t\t\t\t .addGap(400)\r\n\t\t\t\t .addComponent(jcb).addGroup(\r\n\t\t\t\t\tgLayout.createParallelGroup(GroupLayout.Alignment.CENTER).addComponent(button)\r\n\r\n\t\t\t)\r\n\r\n\r\n\t\t\t);\r\n\t\t\tgLayout.setVerticalGroup(gLayout.createSequentialGroup()\r\n\t\t\t\t\t.addGap(250)\r\n\t\t\t\t\t.addGroup(gLayout.createParallelGroup(GroupLayout.Alignment.CENTER).addComponent(jcb)\r\n\t\t\t\t\t\t\t.addComponent(button)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t.addGap(250)\r\n\t\t\t\t\t\r\n\r\n\t\t\t);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void showTable() {\r\n\r\n\t\tDefaultTableModel dtm = new DefaultTableModel();\r\n\t\t\r\n\t\tJTable t = new JTable();\r\n\t\t\r\n\t\t\r\n\t\tdtm.setColumnIdentifiers(columnnames);\r\n\t\t\r\n\t\tJScrollPane pane = new JScrollPane(t);\r\n\t\tpane.setBounds(25, 120, 850, 150);\r\n\t\t\r\n\t\tString ta = jcb.getSelectedItem().toString();\r\n\r\n\t\ttry { \r\n\t\t\t\r\n\t\t\tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n\t\t\tConnection conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/Try&quot;,\r\n\t\t\t\t\t&quot;postgres&quot;, &quot;*****&quot;);\r\n\t\t\tPreparedStatement pstm = conn.prepareStatement(\r\n\t\t\t\t\t&quot;SELECT try.* FROM try WHERE type=?&quot;);\r\n\t\t\tpstm.setString(1, ta);\r\n\t\t\tResultSet Rs = pstm.executeQuery();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\twhile (Rs.next()) {\r\n\t\t\t\tdtm.addRow(new Object[] { Rs.getString(1), Rs.getString(2), Rs.getString(3) });\r\n\t\t\t}\r\n\r\n\t\t\tconn.close();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tt.setModel(dtm);\r\n\t\t\tadd(pane);   \t\r\n\t\t\t        \r\n\t\t\t   \r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"DefaultTableModel update BUG, How can I resolve it?","body":"<p>I hope you can help me!!! I have a JComboBox, when I click the button &quot;search&quot; a JTable appears. When I change the selection of the JComboBox and click &quot;search&quot; again, the table changes its model and shows me the new datas, but if I click in there, the old model appears again. The data are from a database by a query.</p>\n<p>I try to use dtm.setRowCount(0) but didn't works. I have only one JTable and I use the same dtm (DefaultTableModel) for every query.</p>\n<pre><code>\npublic class store extends JPanel{\n    \n    int WIDTH = 1000;\n    int HEIGHT = 600;\n    String[] columnnames = new String[] {&quot;id&quot;, &quot;type&quot;, &quot;cost&quot;};\n    JComboBox jcb;\n    JButton button;\n    DataBaseConnection dbc = new DataBaseConnection();\n    \n    public store() {\n        super();\n        this.setVisible(true);\n        this.setPreferredSize(new Dimension(WIDTH, HEIGHT));\n        this.setBackground(new Color(224, 224, 224));\n        \n        \n        GroupLayout gLayout = new GroupLayout(this);\n        gLayout.setAutoCreateGaps(true);\n        gLayout.setAutoCreateContainerGaps(true);\n        this.setLayout(gLayout);\n        \n         this.jcb = new JComboBox();\n         \n         \n         this.button=new JButton(&quot;Search&quot;);\n         button.addActionListener(new ActionListener() {\n             public void actionPerformed(ActionEvent evt) {\n                 showTable();\n             }\n         });\n         \n         try { \n                Connection conn;\n                try {\n                    Class.forName(&quot;org.postgresql.Driver&quot;);\n                \n                conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/Try&quot;, &quot;postgres&quot;,\n                        &quot;******&quot;);\n                String sql = &quot;select distinct type from try&quot;;\n                PreparedStatement ps = conn.prepareStatement(sql);\n                ResultSet rs2 = ps.executeQuery();\n                while (rs2.next()) {\n\n                    String aS = rs2.getString(1);\n                    jcb.addItem(aS);\n                }\n\n                conn.close();\n\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n\n                e.printStackTrace();\n            }\n         } catch (ClassNotFoundException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n         \n         \n         gLayout.setHorizontalGroup(gLayout.createSequentialGroup()\n                 .addGap(400)\n                 .addComponent(jcb).addGroup(\n                    gLayout.createParallelGroup(GroupLayout.Alignment.CENTER).addComponent(button)\n\n            )\n\n\n            );\n            gLayout.setVerticalGroup(gLayout.createSequentialGroup()\n                    .addGap(250)\n                    .addGroup(gLayout.createParallelGroup(GroupLayout.Alignment.CENTER).addComponent(jcb)\n                            .addComponent(button)\n                            )\n                    .addGap(250)\n                    \n\n            );\n        \n        \n    }\n    \n    public void showTable() {\n\n        DefaultTableModel dtm = new DefaultTableModel();\n        \n        JTable t = new JTable();\n        \n        \n        dtm.setColumnIdentifiers(columnnames);\n        \n        JScrollPane pane = new JScrollPane(t);\n        pane.setBounds(25, 120, 850, 150);\n        \n        String ta = jcb.getSelectedItem().toString();\n\n        try { \n            \n            Class.forName(&quot;org.postgresql.Driver&quot;);\n            Connection conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/Try&quot;,\n                    &quot;postgres&quot;, &quot;*****&quot;);\n            PreparedStatement pstm = conn.prepareStatement(\n                    &quot;SELECT try.* FROM try WHERE type=?&quot;);\n            pstm.setString(1, ta);\n            ResultSet Rs = pstm.executeQuery();\n            \n            \n            \n            while (Rs.next()) {\n                dtm.addRow(new Object[] { Rs.getString(1), Rs.getString(2), Rs.getString(3) });\n            }\n\n            conn.close();\n            \n            \n            t.setModel(dtm);\n            add(pane);      \n                    \n               \n            \n            \n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n        \n        \n        \n        \n    }\n}\n</code></pre>\n"},{"tags":["java","android-recyclerview","crash","oncreate"],"comments":[{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":0,"creation_date":1678622711,"post_id":75514153,"comment_id":133565748,"body_markdown":"Can you append the stacktrace of your error so it is easier to understand the problem","body":"Can you append the stacktrace of your error so it is easier to understand the problem"}],"owner":{"account_id":27835924,"reputation":1,"user_id":21253375,"display_name":"Andrew Perry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677088454,"creation_date":1676927317,"question_id":75514153,"body_markdown":"Everything is functioning properly until I run recyclerViewMeals.setLayoutManager(layoutManager). In Debug mode, the method does not cause the crash, but once I step over onCreate()&#39;s closing bracket &#39;}&#39; the program crashes. Commenting out the recyclerViewMeals.setLayoutManager(layoutManager) line prevents the program from crashing, but recyclerViewMeals does not display anything.\r\n\r\n```java\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.example.myapplication.Adapter.MealsAdapter;\r\nimport com.example.myapplication.Model.Meal;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private RecyclerView recyclerViewMeals;\r\n    private MealsAdapter mealsAdapter;\r\n    private LinearLayoutManager layoutManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        List&lt;Meal&gt; mealList = new ArrayList&lt;&gt;();\r\n        mealList.add(new Meal(1, 1, &quot;Chicken Breast&quot;, 340, 34, Calendar.getInstance()));\r\n        mealList.add(new Meal(2, 1, &quot;Rice&quot;, 230, 4, Calendar.getInstance()));\r\n        recyclerViewMeals = (RecyclerView) findViewById(R.id.recyclerViewMeals);\r\n        recyclerViewMeals.setHasFixedSize(true);\r\n        layoutManager = new LinearLayoutManager(this);\r\n        recyclerViewMeals.setLayoutManager(layoutManager);\r\n        mealsAdapter = new MealsAdapter(this, mealList);\r\n        recyclerViewMeals.setAdapter(mealsAdapter);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\npackage com.example.myapplication.Model;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class Meal {\r\n    private int id;\r\n    private int userId;\r\n    private String name;\r\n    private int calories;\r\n    private int protein;\r\n    private Calendar date;\r\n\r\n    public Meal() {}\r\n\r\n    public Meal(int id, int userId, String name, int calories, int protein, Calendar date) {\r\n        this.id = id;\r\n        this.userId = userId;\r\n        this.name = name;\r\n        this.calories = calories;\r\n        this.protein = protein;\r\n        this.date = date;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(int userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getCalories() {\r\n        return calories;\r\n    }\r\n\r\n    public void setCalories(int calories) {\r\n        this.calories = calories;\r\n    }\r\n\r\n    public int getProtein() {\r\n        return protein;\r\n    }\r\n\r\n    public void setProtein(int protein) {\r\n        this.protein = protein;\r\n    }\r\n\r\n    public Calendar getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(Calendar date) {\r\n        this.date = date;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\npackage com.example.myapplication.Adapter;\r\n\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.myapplication.R;\r\n\r\npublic class MealsViewHolder extends RecyclerView.ViewHolder{\r\n    TextView textViewMealName, textViewMealCalories, textViewMealProtein;\r\n\r\n    public MealsViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n        textViewMealName = (TextView) itemView.findViewById(R.id.textViewMealName);\r\n        textViewMealCalories = (TextView) itemView.findViewById(R.id.textViewMealCalories);\r\n        textViewMealProtein = (TextView) itemView.findViewById(R.id.textViewMealProtein);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.example.myapplication.Adapter;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.myapplication.Model.Meal;\r\nimport com.example.myapplication.R;\r\n\r\nimport java.util.List;\r\n\r\n\r\npublic class MealsAdapter extends RecyclerView.Adapter&lt;MealsViewHolder&gt; {\r\n    Context context;\r\n    List&lt;Meal&gt; mealList;\r\n\r\n    public MealsAdapter(Context context, List&lt;Meal&gt; mealList) {\r\n        this.context = context;\r\n        this.mealList = mealList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MealsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View mealView = LayoutInflater.from(context)\r\n                .inflate(R.layout.layout_meal, parent, false);\r\n        return new MealsViewHolder(mealView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MealsViewHolder holder, int position) {\r\n        holder.textViewMealName.setText(mealList.get(position).getName());\r\n        holder.textViewMealCalories.setText(mealList.get(position).getCalories());\r\n        holder.textViewMealProtein.setText(mealList.get(position).getProtein());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mealList.size();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerViewMeals&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.cardview.widget.CardView\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;100dp&quot;\r\n    app:cardElevation=&quot;4dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textViewMealName&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginRight=&quot;8dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:autoSizeMaxTextSize=&quot;25sp&quot;\r\n            android:autoSizeMinTextSize=&quot;15sp&quot;\r\n            android:autoSizeStepGranularity=&quot;2sp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:text=&quot;Meal Name&quot;\r\n            app:autoSizeTextType=&quot;uniform&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textViewMealCalories&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;000&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginRight=&quot;8dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;kc&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textViewMealProtein&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;00&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;g&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.myapplication&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.myapplication&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n}\r\n```\r\n![Errors in Android Studio][1]\r\n\r\nI isolated the issue to a new android project so only relevant information is present. Issue is still occurring. Thought LinearLayoutManager meant something so I changed the xml to hold the TextViews in a linear layout, still crashes.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2FmbL.png","title":"setLayoutManager() on RecyclerView object causes onCreate() to crash","body":"<p>Everything is functioning properly until I run recyclerViewMeals.setLayoutManager(layoutManager). In Debug mode, the method does not cause the crash, but once I step over onCreate()'s closing bracket '}' the program crashes. Commenting out the recyclerViewMeals.setLayoutManager(layoutManager) line prevents the program from crashing, but recyclerViewMeals does not display anything.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport com.example.myapplication.Adapter.MealsAdapter;\nimport com.example.myapplication.Model.Meal;\n\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n    private RecyclerView recyclerViewMeals;\n    private MealsAdapter mealsAdapter;\n    private LinearLayoutManager layoutManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        List&lt;Meal&gt; mealList = new ArrayList&lt;&gt;();\n        mealList.add(new Meal(1, 1, &quot;Chicken Breast&quot;, 340, 34, Calendar.getInstance()));\n        mealList.add(new Meal(2, 1, &quot;Rice&quot;, 230, 4, Calendar.getInstance()));\n        recyclerViewMeals = (RecyclerView) findViewById(R.id.recyclerViewMeals);\n        recyclerViewMeals.setHasFixedSize(true);\n        layoutManager = new LinearLayoutManager(this);\n        recyclerViewMeals.setLayoutManager(layoutManager);\n        mealsAdapter = new MealsAdapter(this, mealList);\n        recyclerViewMeals.setAdapter(mealsAdapter);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication.Model;\n\nimport java.util.Calendar;\n\npublic class Meal {\n    private int id;\n    private int userId;\n    private String name;\n    private int calories;\n    private int protein;\n    private Calendar date;\n\n    public Meal() {}\n\n    public Meal(int id, int userId, String name, int calories, int protein, Calendar date) {\n        this.id = id;\n        this.userId = userId;\n        this.name = name;\n        this.calories = calories;\n        this.protein = protein;\n        this.date = date;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getUserId() {\n        return userId;\n    }\n\n    public void setUserId(int userId) {\n        this.userId = userId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getCalories() {\n        return calories;\n    }\n\n    public void setCalories(int calories) {\n        this.calories = calories;\n    }\n\n    public int getProtein() {\n        return protein;\n    }\n\n    public void setProtein(int protein) {\n        this.protein = protein;\n    }\n\n    public Calendar getDate() {\n        return date;\n    }\n\n    public void setDate(Calendar date) {\n        this.date = date;\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication.Adapter;\n\nimport android.view.View;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.myapplication.R;\n\npublic class MealsViewHolder extends RecyclerView.ViewHolder{\n    TextView textViewMealName, textViewMealCalories, textViewMealProtein;\n\n    public MealsViewHolder(@NonNull View itemView) {\n        super(itemView);\n        textViewMealName = (TextView) itemView.findViewById(R.id.textViewMealName);\n        textViewMealCalories = (TextView) itemView.findViewById(R.id.textViewMealCalories);\n        textViewMealProtein = (TextView) itemView.findViewById(R.id.textViewMealProtein);\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.myapplication.Adapter;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.myapplication.Model.Meal;\nimport com.example.myapplication.R;\n\nimport java.util.List;\n\n\npublic class MealsAdapter extends RecyclerView.Adapter&lt;MealsViewHolder&gt; {\n    Context context;\n    List&lt;Meal&gt; mealList;\n\n    public MealsAdapter(Context context, List&lt;Meal&gt; mealList) {\n        this.context = context;\n        this.mealList = mealList;\n    }\n\n    @NonNull\n    @Override\n    public MealsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View mealView = LayoutInflater.from(context)\n                .inflate(R.layout.layout_meal, parent, false);\n        return new MealsViewHolder(mealView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MealsViewHolder holder, int position) {\n        holder.textViewMealName.setText(mealList.get(position).getName());\n        holder.textViewMealCalories.setText(mealList.get(position).getCalories());\n        holder.textViewMealProtein.setText(mealList.get(position).getProtein());\n    }\n\n    @Override\n    public int getItemCount() {\n        return mealList.size();\n    }\n}\n\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerViewMeals&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;100dp&quot;\n    app:cardElevation=&quot;4dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textViewMealName&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:autoSizeMaxTextSize=&quot;25sp&quot;\n            android:autoSizeMinTextSize=&quot;15sp&quot;\n            android:autoSizeStepGranularity=&quot;2sp&quot;\n            android:gravity=&quot;center&quot;\n            android:maxLines=&quot;1&quot;\n            android:text=&quot;Meal Name&quot;\n            app:autoSizeTextType=&quot;uniform&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textViewMealCalories&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;000&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginRight=&quot;8dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;kc&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textViewMealProtein&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;00&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;g&quot;\n            android:textSize=&quot;30sp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.myapplication'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdk 26\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/2FmbL.png\" alt=\"Errors in Android Studio\" /></p>\n<p>I isolated the issue to a new android project so only relevant information is present. Issue is still occurring. Thought LinearLayoutManager meant something so I changed the xml to hold the TextViews in a linear layout, still crashes.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677052279,"post_id":75526182,"comment_id":133259037,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":20600038,"reputation":9,"user_id":15121497,"display_name":"Taha Younis"},"score":0,"creation_date":1677058484,"post_id":75526182,"comment_id":133260688,"body_markdown":"Problem is when I use SearchView and two items appear if I select first it sends me to next activity with data but if I choose second items it sends me to next activity without data","body":"Problem is when I use SearchView and two items appear if I select first it sends me to next activity with data but if I choose second items it sends me to next activity without data"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677131984,"post_id":75526182,"comment_id":133278261,"body_markdown":"Are you sure that when you click the second item, contains data in the first place?","body":"Are you sure that when you click the second item, contains data in the first place?"}],"owner":{"account_id":20600038,"reputation":9,"user_id":15121497,"display_name":"Taha Younis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677088278,"creation_date":1677015681,"question_id":75526182,"body_markdown":"I have a problem that I can&#39;t solve\r\n\r\nI have a viewpager, taplayout, and 3 fragment and there is RecyclerView in every fragment, I want to search in all fragments using SearchView not only the fragment which I exist in it\r\n\r\nThe problem appears when I use SearchView and two items appear if I select first it sends me to next activity with data but if I choose second items it sends me to next activity without data\r\n\r\n**Note:** all fragments have same code and same adapter just different in the firebase database path\r\n\r\n**ViewpagerActivity**\r\n\r\n    public class Accessories_viewpager extends AppCompatActivity {\r\n\r\n    ViewpagerMainBinding binding;\r\n    ViewPagerAdapter viewPagerAdapter;\r\n    ArrayList &lt;Product_Model&gt; allItems = new ArrayList &lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.viewpager_main);\r\n\r\n        binding.tvTitle.setText(&quot;اكسسوارات&quot;);\r\n        getTab();\r\n        binding.btnArrowBack.setOnClickListener(v -&gt; {\r\n            startActivity(new Intent(Accessories_viewpager.this, Nav_Home.class));\r\n            finish();\r\n        });\r\n        binding.btnCart.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(Accessories_viewpager.this, Nav_Home.class);\r\n            intent.putExtra(&quot;cartId&quot;, 2);\r\n            startActivity(intent);\r\n            finish();\r\n        });\r\n\r\n        binding.btnSearch.setOnClickListener(v -&gt; {\r\n        });\r\n    }\r\n\r\n    private void getTab() {\r\n        new Handler().post(() -&gt; {\r\n            viewPagerAdapter = new ViewPagerAdapter(this);\r\n            viewPagerAdapter.addFragment(BodyAcc_Fragment.getInstance(),&quot;اكسسوارات جسم&quot;);\r\n            viewPagerAdapter.addFragment(HairAcce_Fragment.getInstance(),&quot;اكسسوارات شعر&quot;);\r\n            viewPagerAdapter.addFragment(OtherAcce_Fragment.getInstance(),&quot;اكسسوارات اخري&quot;);\r\n            binding.viewPagerId.setAdapter(viewPagerAdapter);\r\n            String [] title = new String[]{&quot;اكسسوارات جسم&quot;,&quot;اكسسوارات شعر&quot;,&quot;اكسسوارات اخري&quot;};\r\n            new TabLayoutMediator(binding.tabLayoutId,binding.viewPagerId,(((tab, position) -&gt; tab.setText(title[position])))).attach();\r\n            binding.viewPagerId.setOffscreenPageLimit(3);\r\n        });\r\n    }\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        startActivity(new Intent(Accessories_viewpager.this, Nav_Home.class));\r\n        finish();\r\n    }\r\n\r\n**Fragment**\r\n\r\n    public class BodyAcc_Fragment extends Fragment implements RecyclerView_InterFace {\r\n    ProductList2Binding binding;\r\n    private DatabaseReference db;\r\n    FirebaseAuth mAuth;\r\n    private ArrayList &lt;Product_Model&gt; list;\r\n    private Products2_Adapter adapter;\r\n\r\n    public static BodyAcc_Fragment getInstance() {\r\n        BodyAcc_Fragment mix_fragment = new BodyAcc_Fragment();\r\n        return mix_fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.product_list2, container, false);\r\n        View view = binding.getRoot();\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        db = FirebaseDatabase.getInstance().getReference();\r\n\r\n        binding.rvHFSD.setHasFixedSize(true);\r\n        binding.rvHFSD.setLayoutManager(new GridLayoutManager(getActivity(),2));\r\n\r\n        binding.searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                adapter.getAllItems(((Accessories_viewpager) getActivity()).allItems);\r\n                adapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n        });\r\n        binding.nameOfCategoryTv.setText(&quot;اكسسوارات الجسم&quot;);\r\n        binding.categoryImage.setImageResource(R.drawable.img_accessories1);\r\n        getList();\r\n\r\n        return view;\r\n    }\r\n    private void getList() {\r\n        binding.progressBar.setVisibility(View.VISIBLE);\r\n        db.child(&quot;اكسسوارات&quot;).child(&quot;جسم&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                binding.progressBar.setVisibility(View.GONE);\r\n                list = new ArrayList &lt;&gt;();\r\n                adapter = new Products2_Adapter(getActivity(), list, BodyAcc_Fragment.this);\r\n                binding.rvHFSD.setAdapter(adapter);\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                    Product_Model menuModel = dataSnapshot.getValue(Product_Model.class);\r\n                    list.add(menuModel);\r\n                    adapter.notifyItemInserted(list.size() - 1);\r\n                    adapter.getItemCount();\r\n                }\r\n                ((Accessories_viewpager) getActivity()).allItems.addAll(list);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(getActivity(), error.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onItemClick(int position) {\r\n        Product_Model product_model = list.get(position);\r\n        Intent intent = new Intent(getActivity(), Buy_Accessories.class);\r\n        intent.putExtra(&quot;name&quot;, product_model.getOilName());\r\n        intent.putExtra(&quot;productId&quot;, product_model.getProductId());\r\n        intent.putExtra(&quot;image&quot;, product_model.getImageResource());\r\n        intent.putExtra(&quot;category&quot;, &quot;جسم&quot;);\r\n        startActivity(intent);\r\n        getActivity().finish();\r\n    }\r\n    }\r\n\r\n**Adapter**\r\n\r\n    public class Products2_Adapter extends RecyclerView.Adapter &lt;Products2_Adapter.ViewHolder&gt; implements Filterable {\r\n\r\n    private Context context;\r\n    public List &lt;Product_Model&gt; list;\r\n    List&lt;Product_Model&gt; allItems;\r\n    private List&lt;Product_Model&gt; menuModelListFilter;\r\n    private RecyclerView_InterFace recyclerView_interFace;\r\n\r\n    public Products2_Adapter(Context context, List &lt;Product_Model&gt; list, RecyclerView_InterFace recyclerView_interFace) {\r\n        this.context = context;\r\n        this.list = list;\r\n        this.recyclerView_interFace = recyclerView_interFace;\r\n        menuModelListFilter = new ArrayList &lt;&gt;(list);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Products2_Adapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new Products2_Adapter.ViewHolder(LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.card_menu, parent, false));\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull Products2_Adapter.ViewHolder holder, int position) {\r\n\r\n        Product_Model menuModel = list.get(position);\r\n\r\n        holder.imageName.setText(menuModel.getOilName());\r\n        Picasso.get().load(menuModel.getImageResource()).into(holder.image);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView image;\r\n        TextView imageName;\r\n        CardView parentLayout;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            image = itemView.findViewById(R.id.image);\r\n            imageName = itemView.findViewById(R.id.image_name);\r\n            parentLayout = itemView.findViewById(R.id.RelativeLayout);\r\n\r\n            itemView.setOnClickListener(view -&gt; recyclerView_interFace.onItemClick(getBindingAdapterPosition()));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n        return filter;\r\n    }\r\n    private Filter filter = new Filter() {\r\n\r\n        //run on background thread\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence charSequence) {\r\n\r\n            if (menuModelListFilter.size() == 0) menuModelListFilter = new ArrayList&lt;&gt;(list);\r\n\r\n            List&lt;Product_Model&gt; filterList = new ArrayList &lt;&gt;();\r\n            if (charSequence ==null || charSequence.length()==0){\r\n                // if search text is empty add all original list values to filter list\r\n                filterList.addAll(menuModelListFilter);\r\n            }else {\r\n                String filterPattern = charSequence.toString().toLowerCase().trim();\r\n                // Perform search on whole original list\r\n                for (Product_Model menu : allItems){\r\n                    if (menu.getOilName().toLowerCase().contains(filterPattern)){\r\n                        filterList.add(menu);\r\n                    }\r\n                }\r\n            }\r\n            FilterResults results = new FilterResults();\r\n            results.values = filterList;\r\n            return results;\r\n        }\r\n\r\n\r\n        //run on UI thread\r\n        @Override\r\n        protected void publishResults(CharSequence charSequence, FilterResults filterResults) {\r\n            list.clear();\r\n            list.addAll((List) filterResults.values);\r\n            notifyDataSetChanged();\r\n        }\r\n    };\r\n\r\n    public void getAllItems(List&lt;Product_Model&gt; allData){\r\n        allItems = allData;\r\n    }\r\n    }","title":"Problem in data when using SearchView and RecyclerView","body":"<p>I have a problem that I can't solve</p>\n<p>I have a viewpager, taplayout, and 3 fragment and there is RecyclerView in every fragment, I want to search in all fragments using SearchView not only the fragment which I exist in it</p>\n<p>The problem appears when I use SearchView and two items appear if I select first it sends me to next activity with data but if I choose second items it sends me to next activity without data</p>\n<p><strong>Note:</strong> all fragments have same code and same adapter just different in the firebase database path</p>\n<p><strong>ViewpagerActivity</strong></p>\n<pre><code>public class Accessories_viewpager extends AppCompatActivity {\n\nViewpagerMainBinding binding;\nViewPagerAdapter viewPagerAdapter;\nArrayList &lt;Product_Model&gt; allItems = new ArrayList &lt;&gt;();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding = DataBindingUtil.setContentView(this, R.layout.viewpager_main);\n\n    binding.tvTitle.setText(&quot;اكسسوارات&quot;);\n    getTab();\n    binding.btnArrowBack.setOnClickListener(v -&gt; {\n        startActivity(new Intent(Accessories_viewpager.this, Nav_Home.class));\n        finish();\n    });\n    binding.btnCart.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(Accessories_viewpager.this, Nav_Home.class);\n        intent.putExtra(&quot;cartId&quot;, 2);\n        startActivity(intent);\n        finish();\n    });\n\n    binding.btnSearch.setOnClickListener(v -&gt; {\n    });\n}\n\nprivate void getTab() {\n    new Handler().post(() -&gt; {\n        viewPagerAdapter = new ViewPagerAdapter(this);\n        viewPagerAdapter.addFragment(BodyAcc_Fragment.getInstance(),&quot;اكسسوارات جسم&quot;);\n        viewPagerAdapter.addFragment(HairAcce_Fragment.getInstance(),&quot;اكسسوارات شعر&quot;);\n        viewPagerAdapter.addFragment(OtherAcce_Fragment.getInstance(),&quot;اكسسوارات اخري&quot;);\n        binding.viewPagerId.setAdapter(viewPagerAdapter);\n        String [] title = new String[]{&quot;اكسسوارات جسم&quot;,&quot;اكسسوارات شعر&quot;,&quot;اكسسوارات اخري&quot;};\n        new TabLayoutMediator(binding.tabLayoutId,binding.viewPagerId,(((tab, position) -&gt; tab.setText(title[position])))).attach();\n        binding.viewPagerId.setOffscreenPageLimit(3);\n    });\n}\n@Override\npublic void onBackPressed() {\n    super.onBackPressed();\n    startActivity(new Intent(Accessories_viewpager.this, Nav_Home.class));\n    finish();\n}\n</code></pre>\n<p><strong>Fragment</strong></p>\n<pre><code>public class BodyAcc_Fragment extends Fragment implements RecyclerView_InterFace {\nProductList2Binding binding;\nprivate DatabaseReference db;\nFirebaseAuth mAuth;\nprivate ArrayList &lt;Product_Model&gt; list;\nprivate Products2_Adapter adapter;\n\npublic static BodyAcc_Fragment getInstance() {\n    BodyAcc_Fragment mix_fragment = new BodyAcc_Fragment();\n    return mix_fragment;\n}\n\n@Override\npublic void onAttach(@NonNull Context context) {\n    super.onAttach(context);\n}\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    binding = DataBindingUtil.inflate(inflater, R.layout.product_list2, container, false);\n    View view = binding.getRoot();\n\n    mAuth = FirebaseAuth.getInstance();\n    db = FirebaseDatabase.getInstance().getReference();\n\n    binding.rvHFSD.setHasFixedSize(true);\n    binding.rvHFSD.setLayoutManager(new GridLayoutManager(getActivity(),2));\n\n    binding.searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            adapter.getAllItems(((Accessories_viewpager) getActivity()).allItems);\n            adapter.getFilter().filter(newText);\n            return false;\n        }\n    });\n    binding.nameOfCategoryTv.setText(&quot;اكسسوارات الجسم&quot;);\n    binding.categoryImage.setImageResource(R.drawable.img_accessories1);\n    getList();\n\n    return view;\n}\nprivate void getList() {\n    binding.progressBar.setVisibility(View.VISIBLE);\n    db.child(&quot;اكسسوارات&quot;).child(&quot;جسم&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            binding.progressBar.setVisibility(View.GONE);\n            list = new ArrayList &lt;&gt;();\n            adapter = new Products2_Adapter(getActivity(), list, BodyAcc_Fragment.this);\n            binding.rvHFSD.setAdapter(adapter);\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                Product_Model menuModel = dataSnapshot.getValue(Product_Model.class);\n                list.add(menuModel);\n                adapter.notifyItemInserted(list.size() - 1);\n                adapter.getItemCount();\n            }\n            ((Accessories_viewpager) getActivity()).allItems.addAll(list);\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(getActivity(), error.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n\n@Override\npublic void onItemClick(int position) {\n    Product_Model product_model = list.get(position);\n    Intent intent = new Intent(getActivity(), Buy_Accessories.class);\n    intent.putExtra(&quot;name&quot;, product_model.getOilName());\n    intent.putExtra(&quot;productId&quot;, product_model.getProductId());\n    intent.putExtra(&quot;image&quot;, product_model.getImageResource());\n    intent.putExtra(&quot;category&quot;, &quot;جسم&quot;);\n    startActivity(intent);\n    getActivity().finish();\n}\n}\n</code></pre>\n<p><strong>Adapter</strong></p>\n<pre><code>public class Products2_Adapter extends RecyclerView.Adapter &lt;Products2_Adapter.ViewHolder&gt; implements Filterable {\n\nprivate Context context;\npublic List &lt;Product_Model&gt; list;\nList&lt;Product_Model&gt; allItems;\nprivate List&lt;Product_Model&gt; menuModelListFilter;\nprivate RecyclerView_InterFace recyclerView_interFace;\n\npublic Products2_Adapter(Context context, List &lt;Product_Model&gt; list, RecyclerView_InterFace recyclerView_interFace) {\n    this.context = context;\n    this.list = list;\n    this.recyclerView_interFace = recyclerView_interFace;\n    menuModelListFilter = new ArrayList &lt;&gt;(list);\n}\n\n@NonNull\n@Override\npublic Products2_Adapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    return new Products2_Adapter.ViewHolder(LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.card_menu, parent, false));\n}\n\n\n@Override\npublic void onBindViewHolder(@NonNull Products2_Adapter.ViewHolder holder, int position) {\n\n    Product_Model menuModel = list.get(position);\n\n    holder.imageName.setText(menuModel.getOilName());\n    Picasso.get().load(menuModel.getImageResource()).into(holder.image);\n}\n\n@Override\npublic int getItemCount() {\n    return list.size();\n}\n\n\npublic class ViewHolder extends RecyclerView.ViewHolder {\n    ImageView image;\n    TextView imageName;\n    CardView parentLayout;\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        image = itemView.findViewById(R.id.image);\n        imageName = itemView.findViewById(R.id.image_name);\n        parentLayout = itemView.findViewById(R.id.RelativeLayout);\n\n        itemView.setOnClickListener(view -&gt; recyclerView_interFace.onItemClick(getBindingAdapterPosition()));\n    }\n}\n\n@Override\npublic Filter getFilter() {\n    return filter;\n}\nprivate Filter filter = new Filter() {\n\n    //run on background thread\n    @Override\n    protected FilterResults performFiltering(CharSequence charSequence) {\n\n        if (menuModelListFilter.size() == 0) menuModelListFilter = new ArrayList&lt;&gt;(list);\n\n        List&lt;Product_Model&gt; filterList = new ArrayList &lt;&gt;();\n        if (charSequence ==null || charSequence.length()==0){\n            // if search text is empty add all original list values to filter list\n            filterList.addAll(menuModelListFilter);\n        }else {\n            String filterPattern = charSequence.toString().toLowerCase().trim();\n            // Perform search on whole original list\n            for (Product_Model menu : allItems){\n                if (menu.getOilName().toLowerCase().contains(filterPattern)){\n                    filterList.add(menu);\n                }\n            }\n        }\n        FilterResults results = new FilterResults();\n        results.values = filterList;\n        return results;\n    }\n\n\n    //run on UI thread\n    @Override\n    protected void publishResults(CharSequence charSequence, FilterResults filterResults) {\n        list.clear();\n        list.addAll((List) filterResults.values);\n        notifyDataSetChanged();\n    }\n};\n\npublic void getAllItems(List&lt;Product_Model&gt; allData){\n    allItems = allData;\n}\n}\n</code></pre>\n"},{"tags":["java","gherkin","serenity-bdd","cucumber-serenity"],"answers":[{"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1676997934,"post_id":75474478,"comment_id":133248251,"body_markdown":"This was published as an answer, but does not attempt to answer the question. Possibly it should be a comment, otherwise please edit your answer and add an explanation that may be useful.","body":"This was published as an answer, but does not attempt to answer the question. Possibly it should be a comment, otherwise please edit your answer and add an explanation that may be useful."}],"tags":[],"owner":{"account_id":18751432,"reputation":1,"user_id":13672441,"display_name":"Tomaso G"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677088074,"creation_date":1676561445,"answer_id":75474478,"question_id":75471620,"body_markdown":"it seems that we have now way around this as per comments from John Ferguson Smart:\r\n\r\n&quot;However, Cucumber does not allow steps to not have a step definition (they will result in a build failure). There isn&#39;t an easy work-around to this: &quot;\r\n\r\nSo im afraid you will have to do \r\n\r\nGIVEN\r\nWHEN\r\nTHEN\r\n\r\nor\r\n\r\n1. Given\r\n2. When\r\n3. Then","title":"How to stop runner trying to find step definitions for scenarios marked as @Manual","body":"<p>it seems that we have now way around this as per comments from John Ferguson Smart:</p>\n<p>&quot;However, Cucumber does not allow steps to not have a step definition (they will result in a build failure). There isn't an easy work-around to this: &quot;</p>\n<p>So im afraid you will have to do</p>\n<p>GIVEN\nWHEN\nTHEN</p>\n<p>or</p>\n<ol>\n<li>Given</li>\n<li>When</li>\n<li>Then</li>\n</ol>\n"}],"owner":{"account_id":18751432,"reputation":1,"user_id":13672441,"display_name":"Tomaso G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677088074,"creation_date":1676546974,"question_id":75471620,"body_markdown":"Example feature scenario is \r\n\r\n```\r\n  @JIRA_BOND_007\r\n  @manual\r\n  @manual-result:passed\r\n  @manual-last-tested:sprint-1\r\n  @manual-test-evidence:https://some.external/link.png\r\n  Scenario: Dont want Manual steps to cause step definition failure\r\n    Given John Ferguson Smart releases a new version of serenity bdd\r\n    When tester marks a test as manual\r\n    Then runner should not fail because of error &quot;io.cucumber.junit.UndefinedStepException:&quot;\r\n```\r\n\r\nerror example:\r\n```\r\n@When(&quot;tester marks a test as manual&quot;)\r\npublic tester_marks_a_test_as_manual(){\r\n    // Write code here that turns the phrase above into concrete actions\r\n    throw new io.cucumber.java.PendingException();\r\n**io.cucumber.junit.UndefinedStepException:** \r\n```\r\n\r\nI want these scenarios tagged @manual to show in serenity report but not cause the runner to throw error because its looking for step definitions that dont exist.","title":"How to stop runner trying to find step definitions for scenarios marked as @Manual","body":"<p>Example feature scenario is</p>\n<pre><code>  @JIRA_BOND_007\n  @manual\n  @manual-result:passed\n  @manual-last-tested:sprint-1\n  @manual-test-evidence:https://some.external/link.png\n  Scenario: Dont want Manual steps to cause step definition failure\n    Given John Ferguson Smart releases a new version of serenity bdd\n    When tester marks a test as manual\n    Then runner should not fail because of error &quot;io.cucumber.junit.UndefinedStepException:&quot;\n</code></pre>\n<p>error example:</p>\n<pre><code>@When(&quot;tester marks a test as manual&quot;)\npublic tester_marks_a_test_as_manual(){\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n**io.cucumber.junit.UndefinedStepException:** \n</code></pre>\n<p>I want these scenarios tagged @manual to show in serenity report but not cause the runner to throw error because its looking for step definitions that dont exist.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":3,"creation_date":1488978258,"post_id":42672121,"comment_id":72468898,"body_markdown":"`for (int index=0 ;  index &lt;4 ; index++);` - remove the last `;`","body":"<code>for (int index=0 ;  index &lt;4 ; index++);</code> - remove the last <code>;</code>"}],"answers":[{"comments":[{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1488978418,"post_id":42672173,"comment_id":72469019,"body_markdown":"There are no benefits of these answer, as this is not going to help anyone.","body":"There are no benefits of these answer, as this is not going to help anyone."}],"tags":[],"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488978319,"creation_date":1488978319,"answer_id":42672173,"question_id":42672121,"body_markdown":"this way:\r\n\r\n    for (int index=0 ;  index &lt;myarray.length ; index++) \r\n     {\r\n         System.out.println(myarray [index]); \r\n     }","title":"How to remove the error message with array index","body":"<p>this way:</p>\n\n<pre><code>for (int index=0 ;  index &lt;myarray.length ; index++) \n {\n     System.out.println(myarray [index]); \n }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7605325"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488978346,"creation_date":1488978346,"answer_id":42672184,"question_id":42672121,"body_markdown":"Because you have a `;` after the `for` loop, just remove it.\r\nInstead of:\r\n\r\n    for (int index=0 ;  index &lt;4 ; index++);\r\n\r\nDo:\r\n\r\n    for (int index=0 ;  index &lt;4 ; index++)\r\n\r\nThe `;` means &quot;the for loop ends here&quot;. As `index` was declared inside the `for`, it&#39;s not visible in the next block.","title":"How to remove the error message with array index","body":"<p>Because you have a <code>;</code> after the <code>for</code> loop, just remove it.\nInstead of:</p>\n\n<pre><code>for (int index=0 ;  index &lt;4 ; index++);\n</code></pre>\n\n<p>Do:</p>\n\n<pre><code>for (int index=0 ;  index &lt;4 ; index++)\n</code></pre>\n\n<p>The <code>;</code> means \"the for loop ends here\". As <code>index</code> was declared inside the <code>for</code>, it's not visible in the next block.</p>\n"},{"tags":[],"owner":{"account_id":9072587,"reputation":870,"user_id":6755206,"accept_rate":100,"display_name":"hwding"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488978393,"creation_date":1488978393,"answer_id":42672197,"question_id":42672121,"body_markdown":"Your `;` is closing the for-loop.  \r\nShould be:  \r\n\r\n    public static void main(String[] args) {\r\n        int[] myarray = {1, 2, 3, 4};\r\n        for (int index = 0; index &lt; 4; index++) {\r\n            System.out.println(myarray[index]);\r\n        }\r\n    }","title":"How to remove the error message with array index","body":"<p>Your <code>;</code> is closing the for-loop.<br>\nShould be:  </p>\n\n<pre><code>public static void main(String[] args) {\n    int[] myarray = {1, 2, 3, 4};\n    for (int index = 0; index &lt; 4; index++) {\n        System.out.println(myarray[index]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10094142,"reputation":1,"user_id":7460144,"display_name":"Max39"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1677088026,"creation_date":1488978176,"question_id":42672121,"body_markdown":"Why am I getting an error for the last index?\r\n\r\n    public class Myclass {\r\n    \tpublic static void main(String[] args) {\r\n    \tint[] myarray =  {1,2,3,4} ; \r\n    \r\n    \t for (int index=0 ;  index &lt;4 ; index++);  \t \r\n    \t {\t\t \r\n    \t\t System.out.println(myarray [index]); \r\n    \t }\r\n    \t   \r\n    \t}\r\n      }\r\n\r\nThe &quot;index&quot; after println is highlighted in Eclipse and a message says: &quot;index cannot be resolved to a variable&quot;.\r\n\r\nHow is it possible to remove the error message with this array index?\r\n\r\n\r\n","title":"How to remove the error message with array index","body":"<p>Why am I getting an error for the last index?</p>\n<pre><code>public class Myclass {\n    public static void main(String[] args) {\n    int[] myarray =  {1,2,3,4} ; \n\n     for (int index=0 ;  index &lt;4 ; index++);    \n     {       \n         System.out.println(myarray [index]); \n     }\n       \n    }\n  }\n</code></pre>\n<p>The &quot;index&quot; after println is highlighted in Eclipse and a message says: &quot;index cannot be resolved to a variable&quot;.</p>\n<p>How is it possible to remove the error message with this array index?</p>\n"},{"tags":["java","azure","csv","gmail"],"comments":[{"owner":{"account_id":24393915,"reputation":1,"user_id":18323494,"display_name":"Prashanth Bafna"},"score":0,"creation_date":1677067482,"post_id":75532364,"comment_id":133263194,"body_markdown":"Update : This issue is only caused in chrome , when the same thing is done in Firefox it&#39;s behaving as expected","body":"Update : This issue is only caused in chrome , when the same thing is done in Firefox it&#39;s behaving as expected"}],"answers":[{"tags":[],"owner":{"account_id":26735208,"reputation":1635,"user_id":20336887,"display_name":"vijaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677087871,"creation_date":1677087871,"answer_id":75536361,"question_id":75532364,"body_markdown":"After reproducing issue from my side your getting error because of pop up enable/disable setting in your chrome.\r\nBased on your requirement sample csv file is uploaded in azure blob storage and added the attachment in send email action  as shown in below images.\r\n![enter image description here](https://i.stack.imgur.com/1sGwg.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/OHf02.png)\r\n![enter image description here](https://i.stack.imgur.com/XNU2D.png)\r\nBy following this document, you can enable or disable [pop up](https://www.whatismybrowser.com/guides/popups/chrome#:~:text=If%20you%20select%20Sites%20can%20send%20pop-ups%20and,option%20of%20allowing%20them%20on%20a%20case-by-case%20basis.) setting.\r\n\r\nGo to settings&gt;&gt;privacy and security&gt;&gt;site settings&gt;&gt;Pop-ups and redirects&gt;&gt;Sites can send pop-ups and use redirects/Don&#39;t allow sites to send pop-ups or use redirects.\r\n\r\nBy checking your browser settings, you may be able to resolve the issue. If the issue persists, then contacting Azure support may be necessary.","title":"A CSV file uploaded in a blob when sent the link of the file in Mail , is it downloadable on click?","body":"<p>After reproducing issue from my side your getting error because of pop up enable/disable setting in your chrome.\nBased on your requirement sample csv file is uploaded in azure blob storage and added the attachment in send email action  as shown in below images.\n<img src=\"https://i.stack.imgur.com/1sGwg.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/OHf02.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/XNU2D.png\" alt=\"enter image description here\" />\nBy following this document, you can enable or disable <a href=\"https://www.whatismybrowser.com/guides/popups/chrome#:%7E:text=If%20you%20select%20Sites%20can%20send%20pop-ups%20and,option%20of%20allowing%20them%20on%20a%20case-by-case%20basis.\" rel=\"nofollow noreferrer\">pop up</a> setting.</p>\n<p>Go to settings&gt;&gt;privacy and security&gt;&gt;site settings&gt;&gt;Pop-ups and redirects&gt;&gt;Sites can send pop-ups and use redirects/Don't allow sites to send pop-ups or use redirects.</p>\n<p>By checking your browser settings, you may be able to resolve the issue. If the issue persists, then contacting Azure support may be necessary.</p>\n"}],"owner":{"account_id":24393915,"reputation":1,"user_id":18323494,"display_name":"Prashanth Bafna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677087871,"creation_date":1677066929,"question_id":75532364,"body_markdown":"My company sends a csv file to the users by uploading it to a storage service (azure) and the link of the file is shared in email , when the link is clicked a new tab opens and closes instantly , the file doesn&#39;t get downloaded . When the the link is copied and pasted in a new tab the file gets downloaded , what might be causing this issue . Thanks in Advance\r\n\r\nthe link is copied and pasted in a new tab the file gets downloaded but not when its clicked directly","title":"A CSV file uploaded in a blob when sent the link of the file in Mail , is it downloadable on click?","body":"<p>My company sends a csv file to the users by uploading it to a storage service (azure) and the link of the file is shared in email , when the link is clicked a new tab opens and closes instantly , the file doesn't get downloaded . When the the link is copied and pasted in a new tab the file gets downloaded , what might be causing this issue . Thanks in Advance</p>\n<p>the link is copied and pasted in a new tab the file gets downloaded but not when its clicked directly</p>\n"},{"tags":["java","json","spring","api","http"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1677087767,"post_id":75536301,"comment_id":133269980,"body_markdown":"I think your question is unclear, what exactly are you having an issue with? Are you getting a specific error?","body":"I think your question is unclear, what exactly are you having an issue with? Are you getting a specific error?"},{"owner":{"account_id":27853413,"reputation":1,"user_id":21267463,"display_name":"bhargava sista"},"score":0,"creation_date":1677088878,"post_id":75536301,"comment_id":133270313,"body_markdown":"Hi @blacktide, I am not getting any error. If you see the code above I have hard coded the &quot; map.put(&quot;data&quot;, jsonNode);&quot; . I am trying to insert values into ZOHO and its working because the key in JSON is &quot;data&quot; which I have hard coded. Now I want to insert some values into other api lets say github. The key may be not &quot;data&quot; it can be some &quot;xyz&quot;. How to achieve that? My expectation is that I should be able to insert data with hardcoding. Please let me know if I am still not clear. Thanks for helping me","body":"Hi @blacktide, I am not getting any error. If you see the code above I have hard coded the &quot; map.put(&quot;data&quot;, jsonNode);&quot; . I am trying to insert values into ZOHO and its working because the key in JSON is &quot;data&quot; which I have hard coded. Now I want to insert some values into other api lets say github. The key may be not &quot;data&quot; it can be some &quot;xyz&quot;. How to achieve that? My expectation is that I should be able to insert data with hardcoding. Please let me know if I am still not clear. Thanks for helping me"},{"owner":{"account_id":6534739,"reputation":64,"user_id":5054737,"accept_rate":100,"display_name":"Kaustubh"},"score":0,"creation_date":1677093806,"post_id":75536301,"comment_id":133271648,"body_markdown":"why not receive your key in request as well or configure it in some Database or external configuration file and get the key as per your requirement?","body":"why not receive your key in request as well or configure it in some Database or external configuration file and get the key as per your requirement?"}],"owner":{"account_id":27853413,"reputation":1,"user_id":21267463,"display_name":"bhargava sista"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677087450,"creation_date":1677087450,"question_id":75536301,"body_markdown":"I am creating a service where I get the access token and I want to perform some API action using that access token. I want the API action to be generic? Like I don&#39;t want to hard code any action in the code. I want to pass the JSON in the postman and sent the request. \r\n\r\nRestTemplate restTemplate = new RestTemplate();\r\n\r\n\t/**\r\n\t * Method that returns a connector response value from a REST API Call.\r\n\t * \r\n\t * @throws JsonProcessingException\r\n\t * @throws JsonMappingException\r\n\t *\r\n\t */\r\n\r\n\t@Override\r\n\tpublic String getConnectorResponse(ConnectionManager connectionManager)\r\n\t\t\tthrows JsonMappingException, JsonProcessingException {\r\n\t\tLOGGER.debug(&quot;getConnectorResponse method called&quot;);\r\n\t\tString url = connectionManager.getURL();\r\n\t\tString httpMethodType = connectionManager.getHttpMethodType();\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\r\n\t\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\t\tString bodyType = connectionManager.getBodyType();\r\n\r\n\t\tLOGGER.info(&quot;Making REST call to URL: {}&quot;, url);\r\n\t\tLOGGER.info(&quot;HTTP Method Type: {}&quot;, httpMethodType);\r\n\r\n\t\tif (bodyType == &quot;ROW&quot;) {\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\tLOGGER.info(&quot;Headers: {}&quot;, headers);\r\n\t\t\tLOGGER.info(&quot;Body Type: {}&quot;, bodyType);\r\n\r\n\t\t}\r\n\t\tHttpEntity&lt;?&gt; entity1;\r\n\r\n\t\tswitch (bodyType) {\r\n\t\tcase &quot;URLENCODED&quot;:\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\t\t\tMultiValueMap&lt;String, Object&gt; map1 = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n\t\t\tMap&lt;String, String&gt; m = connectionManager.getMap().get(0);\r\n\t\t\tfor (Entry&lt;String, String&gt; entry : m.entrySet()) {\r\n\t\t\t\tmap1.add(entry.getKey(), entry.getValue());\r\n\t\t\t}\r\n\t\t\tentity1 = new HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;(map1, headers);\r\n\r\n\t\t\tLOGGER.info(&quot;Headers: {}&quot;, headers);\r\n\t\t\tLOGGER.info(&quot;Body Type: {}&quot;, bodyType);\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tJsonNode jsonNode = mapper.readTree(mapper.writeValueAsString(connectionManager.getMap()));\r\n\t\t\tmap.put(&quot;data&quot;, jsonNode);\r\n\t\t\tString authorization = connectionManager.getAuthorization();\r\n\t\t\tString scope = connectionManager.getScope();\r\n\t\t\theaders.set(&quot;Authorization&quot;, authorization);\r\n\t\t\theaders.set(&quot;scope&quot;, scope);\r\n\t\t\tLOGGER.info(&quot;Headers: {}&quot;, headers);\r\n\t\t\tLOGGER.info(&quot;Body Type: {}&quot;, bodyType);\r\n\t\t\tentity1 = new HttpEntity&lt;Map&lt;String, Object&gt;&gt;(map, headers);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tString response = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(url, HttpMethod.POST, entity1, String.class);\r\n\t\t\tif (responseEntity.getStatusCode().is2xxSuccessful()) {\r\n\t\t\t\tresponse = responseEntity.getBody();\r\n\t\t\t\tLOGGER.debug(&quot;response from REST call: &quot; + response);\r\n\t\t\t} else {\r\n\t\t\t\tLOGGER.debug(&quot;Error in REST call, status code: &quot; + responseEntity.getStatusCode().value());\r\n\t\t\t\tthrow new RuntimeException(\r\n\t\t\t\t\t\t&quot;Error in REST call, status code: &quot; + responseEntity.getStatusCode().value());\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.debug(&quot;Error in getConnectorResponse method: &quot; + e.getMessage());\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\r\n\t\treturn response;\r\n\r\n\t}","title":"Access token and API action","body":"<p>I am creating a service where I get the access token and I want to perform some API action using that access token. I want the API action to be generic? Like I don't want to hard code any action in the code. I want to pass the JSON in the postman and sent the request.</p>\n<p>RestTemplate restTemplate = new RestTemplate();</p>\n<pre><code>/**\n * Method that returns a connector response value from a REST API Call.\n * \n * @throws JsonProcessingException\n * @throws JsonMappingException\n *\n */\n\n@Override\npublic String getConnectorResponse(ConnectionManager connectionManager)\n        throws JsonMappingException, JsonProcessingException {\n    LOGGER.debug(&quot;getConnectorResponse method called&quot;);\n    String url = connectionManager.getURL();\n    String httpMethodType = connectionManager.getHttpMethodType();\n    HttpHeaders headers = new HttpHeaders();\n\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    String bodyType = connectionManager.getBodyType();\n\n    LOGGER.info(&quot;Making REST call to URL: {}&quot;, url);\n    LOGGER.info(&quot;HTTP Method Type: {}&quot;, httpMethodType);\n\n    if (bodyType == &quot;ROW&quot;) {\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        LOGGER.info(&quot;Headers: {}&quot;, headers);\n        LOGGER.info(&quot;Body Type: {}&quot;, bodyType);\n\n    }\n    HttpEntity&lt;?&gt; entity1;\n\n    switch (bodyType) {\n    case &quot;URLENCODED&quot;:\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n        MultiValueMap&lt;String, Object&gt; map1 = new LinkedMultiValueMap&lt;String, Object&gt;();\n        Map&lt;String, String&gt; m = connectionManager.getMap().get(0);\n        for (Entry&lt;String, String&gt; entry : m.entrySet()) {\n            map1.add(entry.getKey(), entry.getValue());\n        }\n        entity1 = new HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;(map1, headers);\n\n        LOGGER.info(&quot;Headers: {}&quot;, headers);\n        LOGGER.info(&quot;Body Type: {}&quot;, bodyType);\n        break;\n\n    default:\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode jsonNode = mapper.readTree(mapper.writeValueAsString(connectionManager.getMap()));\n        map.put(&quot;data&quot;, jsonNode);\n        String authorization = connectionManager.getAuthorization();\n        String scope = connectionManager.getScope();\n        headers.set(&quot;Authorization&quot;, authorization);\n        headers.set(&quot;scope&quot;, scope);\n        LOGGER.info(&quot;Headers: {}&quot;, headers);\n        LOGGER.info(&quot;Body Type: {}&quot;, bodyType);\n        entity1 = new HttpEntity&lt;Map&lt;String, Object&gt;&gt;(map, headers);\n        break;\n    }\n    String response = &quot;&quot;;\n    try {\n        ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(url, HttpMethod.POST, entity1, String.class);\n        if (responseEntity.getStatusCode().is2xxSuccessful()) {\n            response = responseEntity.getBody();\n            LOGGER.debug(&quot;response from REST call: &quot; + response);\n        } else {\n            LOGGER.debug(&quot;Error in REST call, status code: &quot; + responseEntity.getStatusCode().value());\n            throw new RuntimeException(\n                    &quot;Error in REST call, status code: &quot; + responseEntity.getStatusCode().value());\n        }\n    } catch (Exception e) {\n        LOGGER.debug(&quot;Error in getConnectorResponse method: &quot; + e.getMessage());\n        throw new RuntimeException(e);\n    }\n\n    return response;\n\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485440982,"post_id":41874743,"comment_id":70933115,"body_markdown":"Maybe query error.","body":"Maybe query error."}],"answers":[{"comments":[{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485440902,"post_id":41875021,"comment_id":70933061,"body_markdown":"but Click also Red color underline","body":"but Click also Red color underline"},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485515419,"post_id":41875021,"comment_id":70967078,"body_markdown":"Change file in question. Add repository, controller, entity","body":"Change file in question. Add repository, controller, entity"},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485515572,"post_id":41875021,"comment_id":70967156,"body_markdown":"Maybe error in @Query due to the fact that my entity have reltion ?","body":"Maybe error in @Query due to the fact that my entity have reltion ?"},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485516127,"post_id":41875021,"comment_id":70967498,"body_markdown":"&quot; i have updatd thee post &quot;  ok . i try it.","body":"&quot; i have updatd thee post &quot;  ok . i try it."},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485516267,"post_id":41875021,"comment_id":70967590,"body_markdown":"The source can not be found, which describes in detail how to do complex queries. Tell me if there is something material. I have four tables are linked, obtained from two input data table Click, it is necessary to get a fourth column of the table, and the whole process of finding the column passes through the four tables","body":"The source can not be found, which describes in detail how to do complex queries. Tell me if there is something material. I have four tables are linked, obtained from two input data table Click, it is necessary to get a fourth column of the table, and the whole process of finding the column passes through the four tables"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1485516446,"post_id":41875021,"comment_id":70967702,"body_markdown":"You should create a new post for that mate. This one was about wrong @Param configuration and wrong joining syntax. Do you still have problem regarding that original query? Lets not mix too many things in one thread, i wont be useful for other users of the forum","body":"You should create a new post for that mate. This one was about wrong @Param configuration and wrong joining syntax. Do you still have problem regarding that original query? Lets not mix too many things in one thread, i wont be useful for other users of the forum"},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485516719,"post_id":41875021,"comment_id":70967850,"body_markdown":"in my  @Query SELECT c.fullnameClient, column are taken from Entity or my DB ?","body":"in my  @Query SELECT c.fullnameClient, column are taken from Entity or my DB ?"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1485516810,"post_id":41875021,"comment_id":70967915,"body_markdown":"the hql query relates to entity fields.. eventually it is translated to your db&#39;s native sql by hibernate.. that is done under the hood.","body":"the hql query relates to entity fields.. eventually it is translated to your db&#39;s native sql by hibernate.. that is done under the hood."},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1485517329,"post_id":41875021,"comment_id":70968218,"body_markdown":"Does it clear your concerns? And is the query working?","body":"Does it clear your concerns? And is the query working?"},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485517459,"post_id":41875021,"comment_id":70968274,"body_markdown":"My concerns not made.","body":"My concerns not made."},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485517506,"post_id":41875021,"comment_id":70968294,"body_markdown":"&quot;the hql query relates to entity fields.. eventually it is translated to your db&#39;s native sql by hibernate.. that is done under the hood. &quot;  thanks","body":"&quot;the hql query relates to entity fields.. eventually it is translated to your db&#39;s native sql by hibernate.. that is done under the hood. &quot;  thanks"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1485517746,"post_id":41875021,"comment_id":70968429,"body_markdown":"ok i missed one detail in the query. Try now the update in the post","body":"ok i missed one detail in the query. Try now the update in the post"},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485517907,"post_id":41875021,"comment_id":70968506,"body_markdown":"&quot;FROM Click AS c join c.idbanners b &quot;  or  &quot;FROM Click AS c join c.idbanners Banners b&quot;","body":"&quot;FROM Click AS c join c.idbanners b &quot;  or  &quot;FROM Click AS c join c.idbanners Banners b&quot;"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1485518035,"post_id":41875021,"comment_id":70968590,"body_markdown":"FROM Click AS c join c.idbanners b","body":"FROM Click AS c join c.idbanners b"},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485519631,"post_id":41875021,"comment_id":70969462,"body_markdown":"Thank, now open Chrome. Next, i will improve @Query","body":"Thank, now open Chrome. Next, i will improve @Query"},{"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"score":0,"creation_date":1485533098,"post_id":41875021,"comment_id":70978661,"body_markdown":"new question http://stackoverflow.com/questions/41897719/how-to-create-a-request-for-a-complex-query-spring-query","body":"new question <a href=\"http://stackoverflow.com/questions/41897719/how-to-create-a-request-for-a-complex-query-spring-query\" title=\"how to create a request for a complex query spring query\">stackoverflow.com/questions/41897719/&hellip;</a>"}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":16,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485517719,"creation_date":1485438810,"answer_id":41875021,"question_id":41874743,"body_markdown":"Your param names differ. Try this:\r\n\r\n     @Query(&quot;SELECT c.fullnameClient FROM Click AS c join c.idbanners b WHERE b.idBanner = :idbanners AND c.fullnameClient = :fullnameClient&quot;)\r\n    \r\n        String sent(@Param(&quot;fullnameClient&quot;) String fullnameClient, @Param(&quot;idbanners &quot;) long idbanners);\r\n\r\n**Update**\r\n\r\nOk your join was wrong.. instead of c join c.IdBanner.. it should be c.idbanners.\r\n","title":"Error in @Query , Repository","body":"<p>Your param names differ. Try this:</p>\n\n<pre><code> @Query(\"SELECT c.fullnameClient FROM Click AS c join c.idbanners b WHERE b.idBanner = :idbanners AND c.fullnameClient = :fullnameClient\")\n\n    String sent(@Param(\"fullnameClient\") String fullnameClient, @Param(\"idbanners \") long idbanners);\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Ok your join was wrong.. instead of c join c.IdBanner.. it should be c.idbanners.</p>\n"}],"owner":{"account_id":10078887,"reputation":113,"user_id":7449980,"accept_rate":100,"display_name":"New Wave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41875021,"answer_count":1,"score":1,"last_activity_date":1677087359,"creation_date":1485437860,"question_id":41874743,"body_markdown":"Maybe error in `@Query` due to the fact that my entity have relation ?\r\nWhich the Repository contain error. \r\n\r\n&gt; Error creating bean with name &#39;clickRepository&#39;: Invocation of init\r\n&gt; method failed; nested exception is java.lang.IllegalArgumentException:\r\n&gt; Validation failed for query for method public abstract\r\n&gt; java.lang.String\r\n&gt; com.qoobico.remindme.server.repository.ClickRepository.sent(java.lang.String,long)!\r\n\r\nController\r\n\r\n     @Autowired\r\n    private ClickService service;\r\n\r\n    /*\r\n        i.e. information about fullname_client, id_banner sent to server from client\r\n    */\r\n    @RequestMapping(value = &quot;/sentemail&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public String sentClick(@RequestParam (&quot;fullnameClient&quot;) String fullnameClient,@RequestParam (&quot;idbanners&quot;) long idbanners) {\r\n\r\n        return service.sent(fullnameClient, idbanners);\r\n    }\r\n\r\nRepository\r\n\r\n    @Query(&quot;SELECT c.fullnameClient FROM Click AS c join c.idBanner Banners b WHERE b.idBanner = :idbanners AND c.fullnameClient = :fullnameClient&quot;)\r\n    String sent(@Param(&quot;fullnameClient&quot;) String fullnameClient, @Param(&quot;idbanners&quot;) long idbanners);\r\n\r\n\r\n\r\nEntity Click\r\n   \r\n\r\n    @Id\r\n    @Column(name = &quot;id_click&quot;, unique = true, nullable = false)\r\n    @GeneratedValue(generator = &quot;increment&quot;)\r\n    @GenericGenerator(name = &quot;increment&quot;, strategy = &quot;increment&quot;)\r\n    private long idClick;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    @JoinColumn(name = &quot;id_banners&quot;, nullable = false)\r\n    private Banners idbanners;\r\n\r\n    @Column(name = &quot;fullname_client&quot;, nullable = false, length = 50)\r\n    private String fullnameClient;\r\n\r\n\r\n\r\nEntity Banners\r\n\r\n    @Id\r\n    @Column(name = &quot;id_banner&quot;, unique = true, nullable = false)\r\n    @GeneratedValue(generator = &quot;increment&quot;)\r\n    @GenericGenerator(name = &quot;increment&quot;, strategy = &quot;increment&quot;)\r\n    private long idBanner;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;banners&quot;)\r\n    private Set&lt;Businessbanner&gt; businessbanners;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;idbanners&quot;)\r\n    private Set&lt;Click&gt; clicks;\r\n\r\nError\r\n\r\n &gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;clickController&#39;: Injection of autowired\r\n&gt; dependencies failed; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Could not\r\n&gt; autowire field: private\r\n&gt; com.qoobico.remindme.server.service.ClickService\r\n&gt; com.qoobico.remindme.server.controller.ClickController.service; nested\r\n&gt; exception is org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;clickServiceImpl&#39;: Injection of\r\n&gt; autowired dependencies failed; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Could not\r\n&gt; autowire field: private\r\n&gt; com.qoobico.remindme.server.repository.ClickRepository\r\n&gt; com.qoobico.remindme.server.service.ClickServiceImpl.clickRepository;\r\n&gt; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;clickRepository&#39;: Invocation of init method\r\n&gt; failed; nested exception is java.lang.IllegalArgumentException:\r\n&gt; Validation failed for query for method public abstract\r\n&gt; java.lang.String\r\n&gt; com.qoobico.remindme.server.repository.ClickRepository.sent(java.lang.String,long)!\r\n\r\n","title":"Error in @Query , Repository","body":"<p>Maybe error in <code>@Query</code> due to the fact that my entity have relation ?\nWhich the Repository contain error. </p>\n\n<blockquote>\n  <p>Error creating bean with name 'clickRepository': Invocation of init\n  method failed; nested exception is java.lang.IllegalArgumentException:\n  Validation failed for query for method public abstract\n  java.lang.String\n  com.qoobico.remindme.server.repository.ClickRepository.sent(java.lang.String,long)!</p>\n</blockquote>\n\n<p>Controller</p>\n\n<pre><code> @Autowired\nprivate ClickService service;\n\n/*\n    i.e. information about fullname_client, id_banner sent to server from client\n*/\n@RequestMapping(value = \"/sentemail\", method = RequestMethod.POST)\n@ResponseBody\npublic String sentClick(@RequestParam (\"fullnameClient\") String fullnameClient,@RequestParam (\"idbanners\") long idbanners) {\n\n    return service.sent(fullnameClient, idbanners);\n}\n</code></pre>\n\n<p>Repository</p>\n\n<pre><code>@Query(\"SELECT c.fullnameClient FROM Click AS c join c.idBanner Banners b WHERE b.idBanner = :idbanners AND c.fullnameClient = :fullnameClient\")\nString sent(@Param(\"fullnameClient\") String fullnameClient, @Param(\"idbanners\") long idbanners);\n</code></pre>\n\n<p>Entity Click</p>\n\n<pre><code>@Id\n@Column(name = \"id_click\", unique = true, nullable = false)\n@GeneratedValue(generator = \"increment\")\n@GenericGenerator(name = \"increment\", strategy = \"increment\")\nprivate long idClick;\n\n@ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n@JoinColumn(name = \"id_banners\", nullable = false)\nprivate Banners idbanners;\n\n@Column(name = \"fullname_client\", nullable = false, length = 50)\nprivate String fullnameClient;\n</code></pre>\n\n<p>Entity Banners</p>\n\n<pre><code>@Id\n@Column(name = \"id_banner\", unique = true, nullable = false)\n@GeneratedValue(generator = \"increment\")\n@GenericGenerator(name = \"increment\", strategy = \"increment\")\nprivate long idBanner;\n\n@OneToMany(fetch = FetchType.EAGER, mappedBy = \"banners\")\nprivate Set&lt;Businessbanner&gt; businessbanners;\n\n@OneToMany(fetch = FetchType.EAGER, mappedBy = \"idbanners\")\nprivate Set&lt;Click&gt; clicks;\n</code></pre>\n\n<p>Error</p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error\n  creating bean with name 'clickController': Injection of autowired\n  dependencies failed; nested exception is\n  org.springframework.beans.factory.BeanCreationException: Could not\n  autowire field: private\n  com.qoobico.remindme.server.service.ClickService\n  com.qoobico.remindme.server.controller.ClickController.service; nested\n  exception is org.springframework.beans.factory.BeanCreationException:\n  Error creating bean with name 'clickServiceImpl': Injection of\n  autowired dependencies failed; nested exception is\n  org.springframework.beans.factory.BeanCreationException: Could not\n  autowire field: private\n  com.qoobico.remindme.server.repository.ClickRepository\n  com.qoobico.remindme.server.service.ClickServiceImpl.clickRepository;\n  nested exception is\n  org.springframework.beans.factory.BeanCreationException: Error\n  creating bean with name 'clickRepository': Invocation of init method\n  failed; nested exception is java.lang.IllegalArgumentException:\n  Validation failed for query for method public abstract\n  java.lang.String\n  com.qoobico.remindme.server.repository.ClickRepository.sent(java.lang.String,long)!</p>\n</blockquote>\n"},{"tags":["java","soap","soapui","ws-security","wss4j"],"comments":[{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1598993436,"post_id":63593636,"comment_id":112634449,"body_markdown":"Any server logs?","body":"Any server logs?"},{"owner":{"account_id":12050629,"reputation":79,"user_id":8813753,"display_name":"vsam490"},"score":0,"creation_date":1599067592,"post_id":63593636,"comment_id":112661564,"body_markdown":"If you could specify the error you have could be easier to detect where the problem is. Anyway i suspect that the problem is related to the keystore.","body":"If you could specify the error you have could be easier to detect where the problem is. Anyway i suspect that the problem is related to the keystore."},{"owner":{"account_id":17221316,"reputation":91,"user_id":12468021,"display_name":"Rabinson"},"score":0,"creation_date":1599198552,"post_id":63593636,"comment_id":112705052,"body_markdown":"I believe that on the server-side, it has the validation on the request signature and timestamp so it is throwing an exception with the message as &quot;Policy Rejected&quot;. There&#39;s not much information on which part the validation failed. The keystore is the same that I used for calling via SOAPUI. It&#39;s working there but in code, there might be some missing configuration.","body":"I believe that on the server-side, it has the validation on the request signature and timestamp so it is throwing an exception with the message as &quot;Policy Rejected&quot;. There&#39;s not much information on which part the validation failed. The keystore is the same that I used for calling via SOAPUI. It&#39;s working there but in code, there might be some missing configuration."},{"owner":{"account_id":19366548,"reputation":279,"user_id":14160700,"display_name":"munzld"},"score":0,"creation_date":1599308463,"post_id":63593636,"comment_id":112738318,"body_markdown":"@Rabinson does the securityInterceptor need to call setSecurementEncryptionCrypto() if &quot;Encrypt&quot; isn&#39;t one of the securement actions? [Reference](https://docs.spring.io/spring-ws/docs/current/reference/#_encryption_2)","body":"@Rabinson does the securityInterceptor need to call setSecurementEncryptionCrypto() if &quot;Encrypt&quot; isn&#39;t one of the securement actions? <a href=\"https://docs.spring.io/spring-ws/docs/current/reference/#_encryption_2\" rel=\"nofollow noreferrer\">Reference</a>"},{"owner":{"account_id":17221316,"reputation":91,"user_id":12468021,"display_name":"Rabinson"},"score":0,"creation_date":1599308774,"post_id":63593636,"comment_id":112738387,"body_markdown":"@munzld No, actually not, we just have the two action timestamp and signature so encrypting is not needed. I have already tried by removing it. The &#39;xml-exc-c14#&#39; algorithm appears to get added automatically on the request signature.","body":"@munzld No, actually not, we just have the two action timestamp and signature so encrypting is not needed. I have already tried by removing it. The &#39;xml-exc-c14#&#39; algorithm appears to get added automatically on the request signature."}],"answers":[{"tags":[],"owner":{"account_id":1361730,"reputation":33,"user_id":3561520,"display_name":"alvarovallve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677087301,"creation_date":1677087301,"answer_id":75536280,"question_id":63593636,"body_markdown":"Does the wsdl have a Policy section? if it has, you can&#39;t use interceptors. In my experience &quot;Policy Rejected&quot; is not always a validation from the server, it can be from the client. \r\n\r\nIt may be that the interceptor includes security after policy checks (client side).","title":"WS-Security configuration for SOAP API requests","body":"<p>Does the wsdl have a Policy section? if it has, you can't use interceptors. In my experience &quot;Policy Rejected&quot; is not always a validation from the server, it can be from the client.</p>\n<p>It may be that the interceptor includes security after policy checks (client side).</p>\n"}],"owner":{"account_id":17221316,"reputation":91,"user_id":12468021,"display_name":"Rabinson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2142,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677087301,"creation_date":1598430643,"question_id":63593636,"body_markdown":"I am trying to fetch data from a server that needs a digital certificate (JKS) in Keystore to authorize the soap request and in addition to this, it requires basic authorization with the WSS outgoing configuration. The images show the steps that I followed on SoapUI to test the web service successfully. \r\n\r\nImage 1 and Image 2 below shows the WS-Security Configurations (an outgoing WS-Security Configuration). Image 1 adds Timestamp entry and Image 2 Signature configuration adding Keystore (keystore.jks), password, and few other configuration along with extra parts for Body and timestamp. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nImage 3 integrates the WS-Security configuration from earlier steps for outgoing requests.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nSoap UI requests suceeded following above steps. Now the requirement is to implement this programmatically. Unfortunately my attempts hasn&#39;t succeeded. \r\n\r\nCould anybody guide me through these steps in spring web services or recommend me any other library(in java or php or any other language) to connect to a SOAP server with similar security.\r\n\r\nFollowing is my code snippet that I tried using Spring WS with Wss4j.\r\n\r\n    @Configuration\r\n    public class SoapClientConfig extends WsConfigurerAdapter {\r\n\r\n    @Bean\r\n    public Wss4jSecurityInterceptor securityInterceptor() throws Exception {\r\n        Wss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\r\n\r\n        securityInterceptor.setSecurementActions(&quot;Signature Timestamp&quot;);\r\n\r\n\r\n        securityInterceptor.setSecurementTimeToLive(300000);\r\n        securityInterceptor.setTimestampPrecisionInMilliseconds(true);\r\n\r\n        securityInterceptor.setSecurementUsername(&quot;key-alias&quot;);\r\n        securityInterceptor.setSecurementPassword(&quot;password&quot;);\r\n        securityInterceptor.setSecurementSignatureCrypto(getCryptoFactoryBean().getObject());\r\n\r\n       \r\n        securityInterceptor.setSecurementSignatureKeyIdentifier(&quot;DirectReference&quot;);\r\n        securityInterceptor.setSecurementSignatureAlgorithm(&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;);\r\n        securityInterceptor.setSecurementSignatureDigestAlgorithm(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;);\r\n        \r\n        securityInterceptor.setSecurementMustUnderstand(true);\r\n        securityInterceptor.setSecurementSignatureParts(&quot;{Content}{http://schemas.xmlsoap.org/soap/envelope/}Body;{Content}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp&quot;);\r\n\r\n\r\n        return securityInterceptor;\r\n    }\r\n\r\n    @Bean\r\n    public CryptoFactoryBean getCryptoFactoryBean() throws IOException {\r\n\r\n        CryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\r\n        cryptoFactoryBean.setKeyStorePassword(&quot;password&quot;);\r\n        cryptoFactoryBean.setKeyStoreLocation(new ClassPathResource(&quot;keystore.jks&quot;));\r\n\r\n        return cryptoFactoryBean;\r\n\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/jTvfV.png\r\n  [2]: https://i.stack.imgur.com/tGGL0.png\r\n  [3]: https://i.stack.imgur.com/Kh12m.png","title":"WS-Security configuration for SOAP API requests","body":"<p>I am trying to fetch data from a server that needs a digital certificate (JKS) in Keystore to authorize the soap request and in addition to this, it requires basic authorization with the WSS outgoing configuration. The images show the steps that I followed on SoapUI to test the web service successfully.</p>\n<p>Image 1 and Image 2 below shows the WS-Security Configurations (an outgoing WS-Security Configuration). Image 1 adds Timestamp entry and Image 2 Signature configuration adding Keystore (keystore.jks), password, and few other configuration along with extra parts for Body and timestamp.</p>\n<p><a href=\"https://i.stack.imgur.com/jTvfV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jTvfV.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tGGL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tGGL0.png\" alt=\"enter image description here\" /></a></p>\n<p>Image 3 integrates the WS-Security configuration from earlier steps for outgoing requests.</p>\n<p><a href=\"https://i.stack.imgur.com/Kh12m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kh12m.png\" alt=\"enter image description here\" /></a></p>\n<p>Soap UI requests suceeded following above steps. Now the requirement is to implement this programmatically. Unfortunately my attempts hasn't succeeded.</p>\n<p>Could anybody guide me through these steps in spring web services or recommend me any other library(in java or php or any other language) to connect to a SOAP server with similar security.</p>\n<p>Following is my code snippet that I tried using Spring WS with Wss4j.</p>\n<pre><code>@Configuration\npublic class SoapClientConfig extends WsConfigurerAdapter {\n\n@Bean\npublic Wss4jSecurityInterceptor securityInterceptor() throws Exception {\n    Wss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\n\n    securityInterceptor.setSecurementActions(&quot;Signature Timestamp&quot;);\n\n\n    securityInterceptor.setSecurementTimeToLive(300000);\n    securityInterceptor.setTimestampPrecisionInMilliseconds(true);\n\n    securityInterceptor.setSecurementUsername(&quot;key-alias&quot;);\n    securityInterceptor.setSecurementPassword(&quot;password&quot;);\n    securityInterceptor.setSecurementSignatureCrypto(getCryptoFactoryBean().getObject());\n\n   \n    securityInterceptor.setSecurementSignatureKeyIdentifier(&quot;DirectReference&quot;);\n    securityInterceptor.setSecurementSignatureAlgorithm(&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;);\n    securityInterceptor.setSecurementSignatureDigestAlgorithm(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;);\n    \n    securityInterceptor.setSecurementMustUnderstand(true);\n    securityInterceptor.setSecurementSignatureParts(&quot;{Content}{http://schemas.xmlsoap.org/soap/envelope/}Body;{Content}{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd}Timestamp&quot;);\n\n\n    return securityInterceptor;\n}\n\n@Bean\npublic CryptoFactoryBean getCryptoFactoryBean() throws IOException {\n\n    CryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\n    cryptoFactoryBean.setKeyStorePassword(&quot;password&quot;);\n    cryptoFactoryBean.setKeyStoreLocation(new ClassPathResource(&quot;keystore.jks&quot;));\n\n    return cryptoFactoryBean;\n\n}\n</code></pre>\n"},{"tags":["java","sql","hibernate","orm"],"comments":[{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":0,"creation_date":1528191433,"post_id":50696640,"comment_id":88402782,"body_markdown":"Just leaving this link here\nhttps://www.objectdb.com/java/jpa/query/jpql/group#GROUP_BY_with_HAVING_","body":"Just leaving this link here <a href=\"https://www.objectdb.com/java/jpa/query/jpql/group#GROUP_BY_with_HAVING_\" rel=\"nofollow noreferrer\">objectdb.com/java/jpa/query/jpql/group#GROUP_BY_with_HAVING_</a>"}],"answers":[{"comments":[{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":0,"creation_date":1528191343,"post_id":50696813,"comment_id":88402720,"body_markdown":"Since he&#39;s expecting the count to be one i suppose it is superfluous, thus he could get the whole entity or just the id to avoid the List&lt;Object&gt;","body":"Since he&#39;s expecting the count to be one i suppose it is superfluous, thus he could get the whole entity or just the id to avoid the List&lt;Object&gt;"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1528191794,"post_id":50696813,"comment_id":88403020,"body_markdown":"Some databases, like oracle as i remember, expect to have the column, aggregate to be part of the select in order for it to be used in the group by / having statements.","body":"Some databases, like oracle as i remember, expect to have the column, aggregate to be part of the select in order for it to be used in the group by / having statements."},{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":0,"creation_date":1528193017,"post_id":50696813,"comment_id":88403792,"body_markdown":"i seem to recall something of the sort now that you mention it, but i just tried with mysql oracle and sqlServer and all seems to be fine without the count in select... maybe its from some version... oh well better be safe","body":"i seem to recall something of the sort now that you mention it, but i just tried with mysql oracle and sqlServer and all seems to be fine without the count in select... maybe its from some version... oh well better be safe"}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528191234,"creation_date":1528191234,"answer_id":50696813,"question_id":50696640,"body_markdown":"Very similar in HQL, just change the joins a bit:\r\n\r\n    select ticket.id, count(entry.id) \r\n    from\r\n    tickets ticket\r\n     join ticket.ticket_entries entry\r\n    group by ticket.id\r\n    having count(entry.id) = 1\r\n\r\nJust remember that you will get a `List&lt;Object[]&gt;` from that query and you need to extract the data apropriately in your logic.","title":"Hibernate: group by in join","body":"<p>Very similar in HQL, just change the joins a bit:</p>\n\n<pre><code>select ticket.id, count(entry.id) \nfrom\ntickets ticket\n join ticket.ticket_entries entry\ngroup by ticket.id\nhaving count(entry.id) = 1\n</code></pre>\n\n<p>Just remember that you will get a <code>List&lt;Object[]&gt;</code> from that query and you need to extract the data apropriately in your logic.</p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1528191298,"creation_date":1528191298,"answer_id":50696826,"question_id":50696640,"body_markdown":"You may try the following HQL:\r\n\r\n    select t.id\r\n    from tickets t join t.ticket_entries entry\r\n    group by t.id\r\n    having count(*) = 1\r\n\r\nThe major difference from your raw SQL query is that in HQL the join does not require an `ON` clause.  Rather, the definitions of the entities define what the join relation is.\r\n\r\nNote that `select *` in combination with `group by` is generally not allowed or at the very least not advisable.  Instead, you should only be selecting the ticket `id` here or maybe some other aggregate.","title":"Hibernate: group by in join","body":"<p>You may try the following HQL:</p>\n\n<pre><code>select t.id\nfrom tickets t join t.ticket_entries entry\ngroup by t.id\nhaving count(*) = 1\n</code></pre>\n\n<p>The major difference from your raw SQL query is that in HQL the join does not require an <code>ON</code> clause.  Rather, the definitions of the entities define what the join relation is.</p>\n\n<p>Note that <code>select *</code> in combination with <code>group by</code> is generally not allowed or at the very least not advisable.  Instead, you should only be selecting the ticket <code>id</code> here or maybe some other aggregate.</p>\n"}],"owner":{"account_id":8048500,"reputation":1223,"user_id":6067935,"accept_rate":75,"display_name":"Ferre12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1419,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50696826,"answer_count":2,"score":3,"last_activity_date":1677087273,"creation_date":1528190715,"question_id":50696640,"body_markdown":"I have the following entities in my database:\r\n\r\n - Ticket\r\n - Ticket Entry\r\n\r\nA Ticket Entry is linked to a Ticket and has a column that references the Ticket ID. I want to retrieve tickets that are linked to only 1 Ticket Entry. I figured out what the SQL script should look like but I don&#39;t know how I should convert it to Hibernate code.\r\n\r\n    select * from\r\n    tickets ticket\r\n     join\r\n    ticket_entries entry on ticket.id=entry.ticket_id\r\n    group by ticket.id\r\n    having count(*) = 1\r\n\r\nThanks in advance","title":"Hibernate: group by in join","body":"<p>I have the following entities in my database:</p>\n\n<ul>\n<li>Ticket</li>\n<li>Ticket Entry</li>\n</ul>\n\n<p>A Ticket Entry is linked to a Ticket and has a column that references the Ticket ID. I want to retrieve tickets that are linked to only 1 Ticket Entry. I figured out what the SQL script should look like but I don't know how I should convert it to Hibernate code.</p>\n\n<pre><code>select * from\ntickets ticket\n join\nticket_entries entry on ticket.id=entry.ticket_id\ngroup by ticket.id\nhaving count(*) = 1\n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","algorithm","search","data-structures","computer-science"],"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1677087343,"post_id":75536109,"comment_id":133269850,"body_markdown":"https://stackoverflow.com/questions/39221303/binary-search-algorithm-implementations/39227182#39227182","body":"<a href=\"https://stackoverflow.com/questions/39221303/binary-search-algorithm-implementations/39227182#39227182\" title=\"binary search algorithm implementations\">stackoverflow.com/questions/39221303/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677087246,"creation_date":1677087246,"answer_id":75536266,"question_id":75536109,"body_markdown":"Using `numbers.length` happened to work for your test case on your code only because you found a value in the array without attempting to search beyond the end of your array.  If you search for e.g. `24` (an value greater than any that exist in the array) while initializing `end` to `numbers.length`, then you&#39;ll get an `ArrayIndexOutOfBoundsException` when the code eventually assigns the value of `numbers.length` to `mid` and you access the array.\r\n\r\nYou should always initialize `end` to the length of your array minus one, as you have it in your code here, because that is the index of the last element in the array.  This will prevent your code&#39;s implementation of the binary search algorithm from attempting to access elements of the array that don&#39;t exist.","title":"binary search length issue: confused if end length should be is total length of array or length of array-1","body":"<p>Using <code>numbers.length</code> happened to work for your test case on your code only because you found a value in the array without attempting to search beyond the end of your array.  If you search for e.g. <code>24</code> (an value greater than any that exist in the array) while initializing <code>end</code> to <code>numbers.length</code>, then you'll get an <code>ArrayIndexOutOfBoundsException</code> when the code eventually assigns the value of <code>numbers.length</code> to <code>mid</code> and you access the array.</p>\n<p>You should always initialize <code>end</code> to the length of your array minus one, as you have it in your code here, because that is the index of the last element in the array.  This will prevent your code's implementation of the binary search algorithm from attempting to access elements of the array that don't exist.</p>\n"}],"owner":{"account_id":24790916,"reputation":11,"user_id":18673918,"display_name":"10. Siddharth Joshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677087246,"creation_date":1677086309,"question_id":75536109,"body_markdown":"```\r\nimport java.util.*;\r\npublic class BinarySearc {\r\n\r\n    public static int bsearch(int numbers[], int key) {\r\n        int start = 0, end = numbers.length-1;\r\n\r\n        while(start&lt;=end) {\r\n            int mid = (start + end)/2;\r\n\r\n            // comparisions\r\n            if(numbers[mid]==key) {\r\n                return mid;\r\n            }\r\n            else if(numbers[mid]&lt;key) {   \r\n                start=mid+1;\r\n            }\r\n            else {\r\n                end=mid-1;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    public static void main(String args[]) {\r\n        int numbers[] = {1, 2, 4, 6, 8, 10, 12, 14, 18, 20};\r\n        Scanner sc = new Scanner(System.in) ;\r\n        System.out.print(&quot;Enter value: &quot;);\r\n        int value = sc.nextInt();\r\n        System.out.println(&quot;index for the value is: &quot;+bsearch(numbers, value));\r\n        sc.close();\r\n    }\r\n}\r\n```\r\n\r\nI was writing code for binary search, and this is the code I wrote but initially to find the mid of the array I used start = 0 and end = length of array i.e numbers.length which seems to work fine for this array, yet I saw many online code examples that used the value of end as (total array length - 1) i.e here numbers.length - 1.\r\nCan someone explain why? ","title":"binary search length issue: confused if end length should be is total length of array or length of array-1","body":"<pre><code>import java.util.*;\npublic class BinarySearc {\n\n    public static int bsearch(int numbers[], int key) {\n        int start = 0, end = numbers.length-1;\n\n        while(start&lt;=end) {\n            int mid = (start + end)/2;\n\n            // comparisions\n            if(numbers[mid]==key) {\n                return mid;\n            }\n            else if(numbers[mid]&lt;key) {   \n                start=mid+1;\n            }\n            else {\n                end=mid-1;\n            }\n        }\n        return -1;\n    }\n    public static void main(String args[]) {\n        int numbers[] = {1, 2, 4, 6, 8, 10, 12, 14, 18, 20};\n        Scanner sc = new Scanner(System.in) ;\n        System.out.print(&quot;Enter value: &quot;);\n        int value = sc.nextInt();\n        System.out.println(&quot;index for the value is: &quot;+bsearch(numbers, value));\n        sc.close();\n    }\n}\n</code></pre>\n<p>I was writing code for binary search, and this is the code I wrote but initially to find the mid of the array I used start = 0 and end = length of array i.e numbers.length which seems to work fine for this array, yet I saw many online code examples that used the value of end as (total array length - 1) i.e here numbers.length - 1.\nCan someone explain why?</p>\n"},{"tags":["java","unicode","identifier"],"comments":[{"owner":{"account_id":18360674,"reputation":89,"user_id":13372842,"display_name":"locobe"},"score":0,"creation_date":1675520996,"post_id":75345684,"comment_id":132948813,"body_markdown":"hi @Sweeper, of course, I read it. But, I don&#39;t understand the differences between them; and I need an example to clearly understand.","body":"hi @Sweeper, of course, I read it. But, I don&#39;t understand the differences between them; and I need an example to clearly understand."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1675521369,"post_id":75345684,"comment_id":132948857,"body_markdown":"What example do you want? Like how `$` is not the start of a Unicode identifier but is the start of a Java identifier?","body":"What example do you want? Like how <code>$</code> is not the start of a Unicode identifier but is the start of a Java identifier?"},{"owner":{"account_id":18360674,"reputation":89,"user_id":13372842,"display_name":"locobe"},"score":0,"creation_date":1675521472,"post_id":75345684,"comment_id":132948876,"body_markdown":"I just want to know in what case (context) we use Java identifier ? Unicode identifier ?","body":"I just want to know in what case (context) we use Java identifier ? Unicode identifier ?"},{"owner":{"account_id":18360674,"reputation":89,"user_id":13372842,"display_name":"locobe"},"score":0,"creation_date":1675521523,"post_id":75345684,"comment_id":132948887,"body_markdown":"For example, the variable is a case of Java identifier. And when and where we use Unicode identifier ?","body":"For example, the variable is a case of Java identifier. And when and where we use Unicode identifier ?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1675522132,"post_id":75345684,"comment_id":132948990,"body_markdown":"Did you read the [document](https://unicode.org/reports/tr31/) that the JavaDoc links to? Read the summary section - a &quot;Unicode Identifier&quot; is just the &quot;recommended default&quot; for a &quot;general-purpose identifier&quot;.","body":"Did you read the <a href=\"https://unicode.org/reports/tr31/\" rel=\"nofollow noreferrer\">document</a> that the JavaDoc links to? Read the summary section - a &quot;Unicode Identifier&quot; is just the &quot;recommended default&quot; for a &quot;general-purpose identifier&quot;."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1675562686,"creation_date":1675523869,"answer_id":75346078,"question_id":75345684,"body_markdown":"A Java identifier is a sequence of characters that will be recognized as an *Identifier* symbol by a Java compiler.  This is specified in the Java Language Specification; see [JLS 3.8](https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.8)\r\n\r\nA Unicode identifier is something else entirely.  Unicode identifiers are specified by Unicode document [UAX #31 - Unicode Identifier and Pattern Syntax](https://unicode.org/reports/tr31).  It states:\r\n\r\n&gt;  A common task facing an implementer of the Unicode Standard is the provision of a parsing and/or lexing engine for identifiers, such as programming language variables or domain names. There are also realms where identifiers need to be defined with an extended set of characters to align better with what end users expect, such as in hashtags.\r\n&gt; \r\n&gt; To assist in the standard treatment of identifiers in Unicode character-based parsers and lexical analyzers, a set of specifications is provided here as a basis for parsing identifiers that contain Unicode characters. These specifications include:\r\n&gt; \r\n&gt; - Default Identifiers: a recommended default for the definition of identifiers.\r\n&gt; - Immutable Identifiers: for environments that need a definition of identifiers that does not change across versions of Unicode.\r\n&gt; - Hashtag Identifiers: for identifiers that need a broader set of characters, principally for hashtags.\r\n\r\nIn other words, these are a common syntax for identifiers defined by Unicode for use in various Unicode standards and data products, and software that &quot;consumes&quot; those products ... in some sense.  They *may* also be adopted by other programming languages. \r\n\r\nJava has NOT adopted Unicode identifiers.  However, Unicode identifiers are used in some Java SE libraries; e.g. in Java regexes defined by the `Pattern` class.  (See the &quot;Unicode Support&quot; section of the [javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html) for examples.)\r\n\r\n----------------\r\n\r\n&gt;  I just want to know in what case (context) we use Java identifier ? Unicode identifier ? \r\n\r\nObviously you use a Java identifier in Java source code, and you use Unicode identifier when you need to refer to a Unicode script, block, category ... or similar.  \r\n\r\nLikewise, you use these methods when writing code to *parse* or *check* (respectively) Java or Unicode identifiers ... for some purpose.  I will leave it to you to think of practical use-cases&lt;sup&gt;1&lt;/sup&gt;.  \r\n\r\n------------------------\r\n\r\n&lt;sup&gt;1 - If you can&#39;t think of any, it doesn&#39;t matter.  I can&#39;t think of practical use-cases for unicycles&lt;sup&gt;2&lt;/sup&gt; ... that&#39;s no reason for them to not exist either as a concept or in reality.&lt;br&gt;\r\n2 - I don&#39;t count [pizza delivery by unicycle](https://www.youtube.com/watch?v=YIfu-RV9TPg) as practical.&lt;/sup&gt;","title":"Differences between Java identifiers and Unicode identifiers?","body":"<p>A Java identifier is a sequence of characters that will be recognized as an <em>Identifier</em> symbol by a Java compiler.  This is specified in the Java Language Specification; see <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.8\" rel=\"nofollow noreferrer\">JLS 3.8</a></p>\n<p>A Unicode identifier is something else entirely.  Unicode identifiers are specified by Unicode document <a href=\"https://unicode.org/reports/tr31\" rel=\"nofollow noreferrer\">UAX #31 - Unicode Identifier and Pattern Syntax</a>.  It states:</p>\n<blockquote>\n<p>A common task facing an implementer of the Unicode Standard is the provision of a parsing and/or lexing engine for identifiers, such as programming language variables or domain names. There are also realms where identifiers need to be defined with an extended set of characters to align better with what end users expect, such as in hashtags.</p>\n<p>To assist in the standard treatment of identifiers in Unicode character-based parsers and lexical analyzers, a set of specifications is provided here as a basis for parsing identifiers that contain Unicode characters. These specifications include:</p>\n<ul>\n<li>Default Identifiers: a recommended default for the definition of identifiers.</li>\n<li>Immutable Identifiers: for environments that need a definition of identifiers that does not change across versions of Unicode.</li>\n<li>Hashtag Identifiers: for identifiers that need a broader set of characters, principally for hashtags.</li>\n</ul>\n</blockquote>\n<p>In other words, these are a common syntax for identifiers defined by Unicode for use in various Unicode standards and data products, and software that &quot;consumes&quot; those products ... in some sense.  They <em>may</em> also be adopted by other programming languages.</p>\n<p>Java has NOT adopted Unicode identifiers.  However, Unicode identifiers are used in some Java SE libraries; e.g. in Java regexes defined by the <code>Pattern</code> class.  (See the &quot;Unicode Support&quot; section of the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">javadoc</a> for examples.)</p>\n<hr />\n<blockquote>\n<p>I just want to know in what case (context) we use Java identifier ? Unicode identifier ?</p>\n</blockquote>\n<p>Obviously you use a Java identifier in Java source code, and you use Unicode identifier when you need to refer to a Unicode script, block, category ... or similar.</p>\n<p>Likewise, you use these methods when writing code to <em>parse</em> or <em>check</em> (respectively) Java or Unicode identifiers ... for some purpose.  I will leave it to you to think of practical use-cases<sup>1</sup>.</p>\n<hr />\n<p><sup>1 - If you can't think of any, it doesn't matter.  I can't think of practical use-cases for unicycles<sup>2</sup> ... that's no reason for them to not exist either as a concept or in reality.<br>\n2 - I don't count <a href=\"https://www.youtube.com/watch?v=YIfu-RV9TPg\" rel=\"nofollow noreferrer\">pizza delivery by unicycle</a> as practical.</sup></p>\n"}],"owner":{"account_id":18360674,"reputation":89,"user_id":13372842,"display_name":"locobe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1675531122,"accepted_answer_id":75346078,"answer_count":1,"score":-6,"last_activity_date":1677087144,"creation_date":1675520297,"question_id":75345684,"body_markdown":"In the Characters API of Java 19, I saw 2 methods:\r\n- **isJavaIdentifierStart**\r\n- **isUnicodeIdentifierStart**\r\n\r\nThe first one is applied to Java identifiers and the second one for Unicode identifiers.\r\n\r\nHowever, I don&#39;t understand the differences between two types of identifiers.\r\n\r\nAnyone can explain? And some example please.\r\n","title":"Differences between Java identifiers and Unicode identifiers?","body":"<p>In the Characters API of Java 19, I saw 2 methods:</p>\n<ul>\n<li><strong>isJavaIdentifierStart</strong></li>\n<li><strong>isUnicodeIdentifierStart</strong></li>\n</ul>\n<p>The first one is applied to Java identifiers and the second one for Unicode identifiers.</p>\n<p>However, I don't understand the differences between two types of identifiers.</p>\n<p>Anyone can explain? And some example please.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1560241935,"creation_date":1560241935,"answer_id":56539569,"question_id":56539409,"body_markdown":"You need to suffix your column you search by `IN`:\r\n\r\n     List&lt;MyEntity&gt; findByKeyIn(List&lt;String&gt; myList);","title":"How to select using List&lt;String&gt; as input at Repository?","body":"<p>You need to suffix your column you search by <code>IN</code>:</p>\n\n<pre><code> List&lt;MyEntity&gt; findByKeyIn(List&lt;String&gt; myList);\n</code></pre>\n"}],"owner":{"account_id":14322281,"reputation":467,"user_id":10345277,"display_name":"윤현구"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56539569,"answer_count":1,"score":1,"last_activity_date":1677087096,"creation_date":1560241430,"question_id":56539409,"body_markdown":"My input List : ```[&quot;keyA&quot;, &quot;keyB&quot;, &quot;keyC&quot;]```\r\n\r\nI hope to query work like this :  \r\n```WHERE key = keyA OR key = keyB OR key = keyC```\r\n\r\nAnd I tried to generate method at my repository like this.\r\n\r\n\r\n```java\r\n@Repository\r\npublic interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n\r\n     // here... like this:\r\n     // List&lt;MyEntity&gt; findByKey(List&lt;String&gt; myList);\r\n}\r\n```\r\n\r\nSo, I know the above method is wrong. \r\nHow do I make it possible?","title":"How to select using List&lt;String&gt; as input at Repository?","body":"<p>My input List : <code>[\"keyA\", \"keyB\", \"keyC\"]</code></p>\n\n<p>I hope to query work like this :<br>\n<code>WHERE key = keyA OR key = keyB OR key = keyC</code></p>\n\n<p>And I tried to generate method at my repository like this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n\n     // here... like this:\n     // List&lt;MyEntity&gt; findByKey(List&lt;String&gt; myList);\n}\n</code></pre>\n\n<p>So, I know the above method is wrong. \nHow do I make it possible?</p>\n"},{"tags":["java","overriding"],"comments":[{"owner":{"account_id":28897,"reputation":378139,"user_id":77567,"display_name":"rob mayoff"},"score":0,"creation_date":1370458943,"post_id":10722110,"comment_id":24471754,"body_markdown":"possible duplicate of [Slight confusion regarding overriding where variables are concerned](http://stackoverflow.com/questions/12589274/slight-confusion-regarding-overriding-where-variables-are-concerned)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/12589274/slight-confusion-regarding-overriding-where-variables-are-concerned\">Slight confusion regarding overriding where variables are concerned</a>"},{"owner":{"account_id":2316085,"reputation":9998,"user_id":2873507,"accept_rate":70,"display_name":"Vic Seedoubleyew"},"score":0,"creation_date":1470739365,"post_id":10722110,"comment_id":65061466,"body_markdown":"I think this is not the same question, since the other one mixes several features of the language, while this one is purely about variables not being polymorphic","body":"I think this is not the same question, since the other one mixes several features of the language, while this one is purely about variables not being polymorphic"},{"owner":{"account_id":1367112,"reputation":1876,"user_id":1303323,"accept_rate":56,"display_name":"Stelios Adamantidis"},"score":0,"creation_date":1479852231,"post_id":10722110,"comment_id":68731060,"body_markdown":"@Vic Seedoubleyew But it seems to me like a duplicate to [this question](http://stackoverflow.com/q/7794621/1303323)","body":"@Vic Seedoubleyew But it seems to me like a duplicate to <a href=\"http://stackoverflow.com/q/7794621/1303323\">this question</a>"},{"owner":{"account_id":4910770,"reputation":906,"user_id":3988992,"accept_rate":65,"display_name":"RBz"},"score":1,"creation_date":1540304012,"post_id":10722110,"comment_id":92810347,"body_markdown":"Possible duplicate of [Hiding instance variables of a class](https://stackoverflow.com/questions/7794621/hiding-instance-variables-of-a-class)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/7794621/hiding-instance-variables-of-a-class\">Hiding instance variables of a class</a>"}],"answers":[{"comments":[{"owner":{"account_id":1510623,"reputation":1025,"user_id":1412858,"display_name":"Kalyan Raghu"},"score":1,"creation_date":1337788715,"post_id":10722122,"comment_id":13928239,"body_markdown":"So, as a variable is not overridden, no run time resolution is done for them, hence in the inheritance chain the variable value of the reference class is used when accessed instead of the object type. I verified it with extending the classes further and using an intermediate reference type. Thanks for the reply.","body":"So, as a variable is not overridden, no run time resolution is done for them, hence in the inheritance chain the variable value of the reference class is used when accessed instead of the object type. I verified it with extending the classes further and using an intermediate reference type. Thanks for the reply."}],"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":1,"down_vote_count":1,"up_vote_count":73,"is_accepted":false,"score":72,"last_activity_date":1337783458,"creation_date":1337783458,"answer_id":10722122,"question_id":10722110,"body_markdown":"Variables are not polymorphic in Java; they do not override one another.","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>Variables are not polymorphic in Java; they do not override one another.</p>\n"},{"comments":[{"owner":{"account_id":2475134,"reputation":4546,"user_id":2155922,"accept_rate":35,"display_name":"Rahul Rastogi"},"score":0,"creation_date":1509953665,"post_id":10722142,"comment_id":81213152,"body_markdown":"So, Doing such thing is not polymorphism anyways. Does it illustrates that &quot;data-hiding&quot; concept of OOPs?","body":"So, Doing such thing is not polymorphism anyways. Does it illustrates that &quot;data-hiding&quot; concept of OOPs?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1509975495,"post_id":10722142,"comment_id":81225697,"body_markdown":"@RahulRastogi No, it has nothing to do with that concept. &quot;Data hiding&quot; is encapsulation.","body":"@RahulRastogi No, it has nothing to do with that concept. &quot;Data hiding&quot; is encapsulation."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1670060503,"creation_date":1337783540,"answer_id":10722142,"question_id":10722110,"body_markdown":"When you make a variable of the same name in a subclass, that&#39;s called _hiding_. The resulting subclass will now have both properties. You can access the one from the superclass with `super.var` or `((SuperClass)this).var`. The variables don&#39;t even have to be of the same type; they are just two variables sharing a name, much like two overloaded methods.","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>When you make a variable of the same name in a subclass, that's called <em>hiding</em>. The resulting subclass will now have both properties. You can access the one from the superclass with <code>super.var</code> or <code>((SuperClass)this).var</code>. The variables don't even have to be of the same type; they are just two variables sharing a name, much like two overloaded methods.</p>\n"},{"tags":[],"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1337784105,"creation_date":1337784105,"answer_id":10722297,"question_id":10722110,"body_markdown":"Variables are resolved compile-time, methods run-time. The aRef is of type A, therefore aRef.Intvalue is compile-time resolved to 1.","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>Variables are resolved compile-time, methods run-time. The aRef is of type A, therefore aRef.Intvalue is compile-time resolved to 1.</p>\n"},{"comments":[{"owner":{"account_id":1510623,"reputation":1025,"user_id":1412858,"display_name":"Kalyan Raghu"},"score":0,"creation_date":1337790886,"post_id":10722414,"comment_id":13929057,"body_markdown":"I didn&#39;t get the first point. We can always access any non private member variables of a super class in a subclass.","body":"I didn&#39;t get the first point. We can always access any non private member variables of a super class in a subclass."}],"tags":[],"owner":{"account_id":1432013,"reputation":21,"user_id":1354233,"display_name":"Siddharth Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448564534,"creation_date":1337784493,"answer_id":10722414,"question_id":10722110,"body_markdown":"As per the Java specifications, the instance variables are not overridden from a super class by a sub class when it is extended.\r\n\r\nHence the variable in the sub class only can be seen as one sharing the same name.\r\n\r\nAlso when the constructor of A is called during the instance creation of B the variable (intVal) is initialized and hence the output.\r\n\r\n\r\n\r\n","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>As per the Java specifications, the instance variables are not overridden from a super class by a sub class when it is extended.</p>\n\n<p>Hence the variable in the sub class only can be seen as one sharing the same name.</p>\n\n<p>Also when the constructor of A is called during the instance creation of B the variable (intVal) is initialized and hence the output.</p>\n"},{"comments":[{"owner":{"account_id":1510623,"reputation":1025,"user_id":1412858,"display_name":"Kalyan Raghu"},"score":0,"creation_date":1337789123,"post_id":10723051,"comment_id":13928418,"body_markdown":"In the debug mode I see that both b and aRef have both the intVal s whereas as per your comment I expected that only object b will have both the values. Is it because the debugger behaves in a different way than the JVM?","body":"In the debug mode I see that both b and aRef have both the intVal s whereas as per your comment I expected that only object b will have both the values. Is it because the debugger behaves in a different way than the JVM?"},{"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"score":0,"creation_date":1337789380,"post_id":10723051,"comment_id":13928515,"body_markdown":"I guess there was a misunderstanding. Till the time u didn&#39;t assign b to aRef, it had only one intVal. When you assigned b to aRef, now it is pointing to an object of type B hence two intVals.","body":"I guess there was a misunderstanding. Till the time u didn&#39;t assign b to aRef, it had only one intVal. When you assigned b to aRef, now it is pointing to an object of type B hence two intVals."}],"tags":[],"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337786560,"creation_date":1337786560,"answer_id":10723051,"question_id":10722110,"body_markdown":"Well, I hope u got the answer. If not, you can try seeing in the debug mode. the subclass B has access to both the intVal. They are not polymorphic hence they are not overriden.\r\n\r\nIf you use B&#39;s reference you will get B&#39;s intVal. If you use A&#39;s reference , you will get A&#39;s intVal. It&#39;s that simple.","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>Well, I hope u got the answer. If not, you can try seeing in the debug mode. the subclass B has access to both the intVal. They are not polymorphic hence they are not overriden.</p>\n\n<p>If you use B's reference you will get B's intVal. If you use A's reference , you will get A's intVal. It's that simple.</p>\n"},{"tags":[],"owner":{"account_id":5875243,"reputation":1857,"user_id":4626262,"accept_rate":95,"display_name":"Greesh Kumar"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1452173246,"creation_date":1452173246,"answer_id":34656336,"question_id":10722110,"body_markdown":"Java has a feather of encapsulation means it tightly binds the property and the behavior of an object. so only via a class reference we can call it&#39;s behavior to change it&#39;s property.\r\n\r\nand in inheritance only method overrides  so that it can affects only it&#39;s property.   ","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>Java has a feather of encapsulation means it tightly binds the property and the behavior of an object. so only via a class reference we can call it's behavior to change it's property.</p>\n\n<p>and in inheritance only method overrides  so that it can affects only it's property.   </p>\n"},{"tags":[],"owner":{"account_id":1367112,"reputation":1876,"user_id":1303323,"accept_rate":56,"display_name":"Stelios Adamantidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1479852180,"creation_date":1479852180,"answer_id":40752461,"question_id":10722110,"body_markdown":"&gt; From JLS Java SE 7 Edition &#167;15.11.1:\n&gt;\n&gt; This lack of dynamic lookup for field accesses allows programs to be run efficiently with straightforward implementations. The power of late binding and overriding is available, but only when instance methods are used.\n\nAnswers from Oliver Charlesworth and Marko Topolnik are correct, I would like to elaborate a little bit more on the *why* part of the question:\n\nIn Java [class members][1] are *accessed* according the type of the reference and not the type of the actual object. For the same reason, if you had a `someOtherMethodInB()` in class `B`, you wouldn&#39;t be able to access it from `aRef` after `aRef = b` is run. Identifiers (ie class, variable, etc names) are resolved at compile time and thus the compiler relies on the reference type to do this.\n\nNow in your example, when running `System.out.println(aRef.intVal);` it prints the value of `intVal` defined in `A` because this is the type of the reference you use to access it. The compiler sees that `aRef` is of type `A` and that&#39;s the `intVal` it will access. Don&#39;t forget that you have *both* fields in the instances of `B`. JLS also has an example similar to yours, &quot;15.11.1-1. Static Binding for Field Access&quot; if you want to take a look.\n\nBut why do methods behave differently? The answer is that for methods, Java uses **late binding**. That means that at compile time, it finds the most suitable method to *search* for during the runtime. The search involves the case of the method being overridden in some class.\n\n\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html","title":"Overriding member variables in Java ( Variable Hiding)","body":"<blockquote>\n<p>From JLS Java SE 7 Edition §15.11.1:</p>\n<p>This lack of dynamic lookup for field accesses allows programs to be run efficiently with straightforward implementations. The power of late binding and overriding is available, but only when instance methods are used.</p>\n</blockquote>\n<p>Answers from Oliver Charlesworth and Marko Topolnik are correct, I would like to elaborate a little bit more on the <em>why</em> part of the question:</p>\n<p>In Java <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">class members</a> are <em>accessed</em> according the type of the reference and not the type of the actual object. For the same reason, if you had a <code>someOtherMethodInB()</code> in class <code>B</code>, you wouldn't be able to access it from <code>aRef</code> after <code>aRef = b</code> is run. Identifiers (ie class, variable, etc names) are resolved at compile time and thus the compiler relies on the reference type to do this.</p>\n<p>Now in your example, when running <code>System.out.println(aRef.intVal);</code> it prints the value of <code>intVal</code> defined in <code>A</code> because this is the type of the reference you use to access it. The compiler sees that <code>aRef</code> is of type <code>A</code> and that's the <code>intVal</code> it will access. Don't forget that you have <em>both</em> fields in the instances of <code>B</code>. JLS also has an example similar to yours, &quot;15.11.1-1. Static Binding for Field Access&quot; if you want to take a look.</p>\n<p>But why do methods behave differently? The answer is that for methods, Java uses <strong>late binding</strong>. That means that at compile time, it finds the most suitable method to <em>search</em> for during the runtime. The search involves the case of the method being overridden in some class.</p>\n"},{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1483013743,"creation_date":1483013743,"answer_id":41379556,"question_id":10722110,"body_markdown":"**There is no polymorphism for fields in Java.** \r\n\r\n`Variables` decision happens at a compile time so always **Base Class variables** (not child’s inherited variables) will be accessed.\r\n\r\nSo whenever upcasting happens always remember\r\n\r\n1) Base Class variables will be accessed.\r\n\r\n2) Sub Class methods(overridden methods if overriding happened else inherited methods as it is from parent) will be called.","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p><strong>There is no polymorphism for fields in Java.</strong> </p>\n\n<p><code>Variables</code> decision happens at a compile time so always <strong>Base Class variables</strong> (not child’s inherited variables) will be accessed.</p>\n\n<p>So whenever upcasting happens always remember</p>\n\n<p>1) Base Class variables will be accessed.</p>\n\n<p>2) Sub Class methods(overridden methods if overriding happened else inherited methods as it is from parent) will be called.</p>\n"},{"comments":[{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":1,"creation_date":1522593491,"post_id":48377059,"comment_id":86205422,"body_markdown":"Welcome to SO. Please do not format your whole answer as code. Highlight the code as code and the text as text. Thanks","body":"Welcome to SO. Please do not format your whole answer as code. Highlight the code as code and the text as text. Thanks"}],"tags":[],"owner":{"account_id":7192840,"reputation":419,"user_id":5492541,"display_name":"Aman Goyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522596438,"creation_date":1516608354,"answer_id":48377059,"question_id":10722110,"body_markdown":"OverRiding Concept in Java\r\nFunctions will override depends on object type and variables will accessed on reference type. \r\n\r\n1. Override Function: In this case suppose a parent and child class both have same name of function with own definition. But which function will execute it depends on object type not on reference type on run time.\r\n\r\nFor e.g.:\r\n\r\n    Parent parent=new Child();\r\n    parent.behaviour();\r\n\r\nHere `parent` is a reference of Parent class but holds an object of Child Class so that&#39;s why Child class function will be called in that case.\r\n\r\n    Child child=new Child();\r\n    child.behaviour();\r\n\r\nHere `child` holds an object of Child Class, so the Child class function will be called.\r\n\r\n    Parent parent=new Parent();\r\n    parent.behaviour();\r\n\r\nHere `parent` holds the object of Parent Class, so the Parent class function will be called.\r\n\r\n2. Override Variable: Java supports overloaded variables. But actually these are two different variables with same name, one in the parent class and one in the child class. And both variables can be either of the same datatype or different.\r\n\r\nWhen you trying to access the variable, it depends on the reference type object, not the object type.\r\n\r\nFor e.g.:\r\n\r\n    Parent parent=new Child();\r\n    System.out.println(parent.state);\r\n\r\nThe reference type is Parent so the Parent class variable is accessed, not the Child class variable.\r\n\r\n    Child child=new Child();\r\n    System.out.println(child.state);\r\n\r\nHere the reference type is Child, so the Child class variable is accessed not the Parent class variable.\r\n\r\n    Parent parent=new Parent();\r\n    System.out.println(parent.state);\r\n\r\nHere the reference type is Parent, so Parent class variable is accessed.\r\n \r\n","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>OverRiding Concept in Java\nFunctions will override depends on object type and variables will accessed on reference type. </p>\n\n<ol>\n<li>Override Function: In this case suppose a parent and child class both have same name of function with own definition. But which function will execute it depends on object type not on reference type on run time.</li>\n</ol>\n\n<p>For e.g.:</p>\n\n<pre><code>Parent parent=new Child();\nparent.behaviour();\n</code></pre>\n\n<p>Here <code>parent</code> is a reference of Parent class but holds an object of Child Class so that's why Child class function will be called in that case.</p>\n\n<pre><code>Child child=new Child();\nchild.behaviour();\n</code></pre>\n\n<p>Here <code>child</code> holds an object of Child Class, so the Child class function will be called.</p>\n\n<pre><code>Parent parent=new Parent();\nparent.behaviour();\n</code></pre>\n\n<p>Here <code>parent</code> holds the object of Parent Class, so the Parent class function will be called.</p>\n\n<ol start=\"2\">\n<li>Override Variable: Java supports overloaded variables. But actually these are two different variables with same name, one in the parent class and one in the child class. And both variables can be either of the same datatype or different.</li>\n</ol>\n\n<p>When you trying to access the variable, it depends on the reference type object, not the object type.</p>\n\n<p>For e.g.:</p>\n\n<pre><code>Parent parent=new Child();\nSystem.out.println(parent.state);\n</code></pre>\n\n<p>The reference type is Parent so the Parent class variable is accessed, not the Child class variable.</p>\n\n<pre><code>Child child=new Child();\nSystem.out.println(child.state);\n</code></pre>\n\n<p>Here the reference type is Child, so the Child class variable is accessed not the Parent class variable.</p>\n\n<pre><code>Parent parent=new Parent();\nSystem.out.println(parent.state);\n</code></pre>\n\n<p>Here the reference type is Parent, so Parent class variable is accessed.</p>\n"},{"comments":[{"owner":{"account_id":3769196,"reputation":7953,"user_id":3131852,"accept_rate":100,"display_name":"Tim Diekmann"},"score":1,"creation_date":1527217330,"post_id":50520862,"comment_id":88054016,"body_markdown":"Welcome to Stack Overflow! Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others.","body":"Welcome to Stack Overflow! Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others."}],"tags":[],"owner":{"account_id":13645225,"reputation":21,"user_id":9844383,"display_name":"Đức Trần Minh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551633007,"creation_date":1527217026,"answer_id":50520862,"question_id":10722110,"body_markdown":"I hope this can help:\r\n\r\n    public class B extends A {\r\n    //\tpublic int intVal = 2;\r\n    \r\n    \tpublic B() {\r\n    \t\tsuper();\r\n    \t\tsuper.intVal = 2;\r\n    \t}\r\n    \r\n    \tpublic void identifyClass() {\r\n    \t\tSystem.out.println(&quot;I am class B&quot;);\r\n    \t}\r\n    }\r\n\r\nSo overriding variable of base class is not possible, but base class variable value can be set (changed) from constructor of inherited class.","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>I hope this can help:</p>\n\n<pre><code>public class B extends A {\n//  public int intVal = 2;\n\n    public B() {\n        super();\n        super.intVal = 2;\n    }\n\n    public void identifyClass() {\n        System.out.println(\"I am class B\");\n    }\n}\n</code></pre>\n\n<p>So overriding variable of base class is not possible, but base class variable value can be set (changed) from constructor of inherited class.</p>\n"},{"tags":[],"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563234607,"creation_date":1554374275,"answer_id":55513826,"question_id":10722110,"body_markdown":"**This is called variable hiding**. When you assign `aRef = b;` , `aRef` has two intVal, 1 is named just `intVal` another is hidden under `A.intVal` (see debugger screenshot), Because your variable is of type `class A` , even when you print just `intVal` java intelligently picks up `A.intVal`. \r\n\r\n**Answer 1**: One way of accessing child class&#39;s `intVal`  is `System.out.println((B)aRef.intVal);`\r\n\r\n**Answer 2**: Another way of doing it is Java Reflection because when you use reflection java cant intelligently pickup hidden `A.intVal` based on Class type, it has to pick up the variable name given as string  -\r\n\r\n    import java.lang.reflect.Field;\r\n    \r\n    class A{\r\n        public int intVal = 1;\r\n        public void identifyClass()\r\n        {\r\n            System.out.println(&quot;I am class A&quot;);\r\n        }\r\n    }\r\n    \r\n    class B extends A\r\n    {\r\n        public int intVal = 2;\r\n        public void identifyClass()\r\n        {\r\n            System.out.println(&quot;I am class B&quot;);\r\n        }\r\n    }\r\n    \r\n    public class Main\r\n    {\r\n        public static void main(String [] args) throws Exception\r\n        {\r\n            A a = new A();\r\n            B b = new B();\r\n            A aRef;\r\n            aRef = a;\r\n            System.out.println(aRef.intVal);\r\n            aRef.identifyClass();\r\n            aRef = b;\r\n            Field xField = aRef.getClass().getField(&quot;intVal&quot;);\r\n            System.out.println(xField.get(aRef));\r\n            aRef.identifyClass();\r\n        }\r\n    }\r\n\r\n\r\nOutput -\r\n\r\n```\r\n1\r\nI am class A\r\n2\r\nI am class B\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mR94A.png","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p><strong>This is called variable hiding</strong>. When you assign <code>aRef = b;</code> , <code>aRef</code> has two intVal, 1 is named just <code>intVal</code> another is hidden under <code>A.intVal</code> (see debugger screenshot), Because your variable is of type <code>class A</code> , even when you print just <code>intVal</code> java intelligently picks up <code>A.intVal</code>. </p>\n\n<p><strong>Answer 1</strong>: One way of accessing child class's <code>intVal</code>  is <code>System.out.println((B)aRef.intVal);</code></p>\n\n<p><strong>Answer 2</strong>: Another way of doing it is Java Reflection because when you use reflection java cant intelligently pickup hidden <code>A.intVal</code> based on Class type, it has to pick up the variable name given as string  -</p>\n\n<pre><code>import java.lang.reflect.Field;\n\nclass A{\n    public int intVal = 1;\n    public void identifyClass()\n    {\n        System.out.println(\"I am class A\");\n    }\n}\n\nclass B extends A\n{\n    public int intVal = 2;\n    public void identifyClass()\n    {\n        System.out.println(\"I am class B\");\n    }\n}\n\npublic class Main\n{\n    public static void main(String [] args) throws Exception\n    {\n        A a = new A();\n        B b = new B();\n        A aRef;\n        aRef = a;\n        System.out.println(aRef.intVal);\n        aRef.identifyClass();\n        aRef = b;\n        Field xField = aRef.getClass().getField(\"intVal\");\n        System.out.println(xField.get(aRef));\n        aRef.identifyClass();\n    }\n}\n</code></pre>\n\n<p>Output -</p>\n\n<pre><code>1\nI am class A\n2\nI am class B\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mR94A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mR94A.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":2567397,"reputation":2254,"user_id":2227070,"display_name":"Shamshirsaz.Navid"},"score":0,"creation_date":1603702134,"post_id":64531151,"comment_id":114108960,"body_markdown":"polymorphism does not apply to class methods","body":"polymorphism does not apply to class methods"},{"owner":{"account_id":10336778,"reputation":1,"user_id":12533210,"display_name":"Achal_Jain"},"score":0,"creation_date":1603805437,"post_id":64531151,"comment_id":114148221,"body_markdown":"First I have edited my response   thanks for pointing it out.\n      \nSecond   class methods are better called static methods. \n\nAnd finally, next time when you think of just plain downvoting please let the user first know what mistake he/she has made and downvote if not corrected. This is my first answer and now I can imagine why many people refrain from answering . Thanks a lot for the encouragement.","body":"First I have edited my response   thanks for pointing it out.        Second   class methods are better called static methods.   And finally, next time when you think of just plain downvoting please let the user first know what mistake he/she has made and downvote if not corrected. This is my first answer and now I can imagine why many people refrain from answering . Thanks a lot for the encouragement."}],"tags":[],"owner":{"account_id":10336778,"reputation":1,"user_id":12533210,"display_name":"Achal_Jain"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1603805084,"creation_date":1603682792,"answer_id":64531151,"question_id":10722110,"body_markdown":"As Many users have already pointed out, this is not polymorphism. Polymorphism only applies to methods(functions). \r\n\r\nNow as to why the value of the intVal of class A is printed, this happens because as you can see the reference aRef is of type A.\r\n\r\nI can see why you are confused by it. By the same procedure you  have accessed the overridden methods for ex. the method identifyClass() but the not the variables which directly proves the first line that I have written .\r\n\r\nNow in order to access the variable you can  do ((Superclass)c).var\r\n\r\nNote here that the Superclass can be many levels up for example \r\nA&lt;-B&lt;-C. That is C extends B and B extends A. If you wanted the value of var of A then you could have done ((A)c).var .\r\n\r\nEDIT: as one of the users have pointed out this &#39;trick&#39; does not apply to static methods, because they are static.\r\n","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>As Many users have already pointed out, this is not polymorphism. Polymorphism only applies to methods(functions).</p>\n<p>Now as to why the value of the intVal of class A is printed, this happens because as you can see the reference aRef is of type A.</p>\n<p>I can see why you are confused by it. By the same procedure you  have accessed the overridden methods for ex. the method identifyClass() but the not the variables which directly proves the first line that I have written .</p>\n<p>Now in order to access the variable you can  do ((Superclass)c).var</p>\n<p>Note here that the Superclass can be many levels up for example\nA&lt;-B&lt;-C. That is C extends B and B extends A. If you wanted the value of var of A then you could have done ((A)c).var .</p>\n<p>EDIT: as one of the users have pointed out this 'trick' does not apply to static methods, because they are static.</p>\n"},{"tags":[],"owner":{"account_id":20585873,"reputation":1,"user_id":15110760,"display_name":"Anthony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611993880,"creation_date":1611993880,"answer_id":65965880,"question_id":10722110,"body_markdown":"It is because when you assign b to aRef, it is resolved, leading aRef to just be of class A. This means that aRef does not have access to any of class B&#39;s fields or methods. If you call for intVal instead by using b.intVal, you will get 2. ","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>It is because when you assign b to aRef, it is resolved, leading aRef to just be of class A. This means that aRef does not have access to any of class B's fields or methods. If you call for intVal instead by using b.intVal, you will get 2.</p>\n"}],"owner":{"account_id":1510623,"reputation":1025,"user_id":1412858,"display_name":"Kalyan Raghu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104508,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":10722142,"answer_count":13,"score":79,"last_activity_date":1677087030,"creation_date":1337783410,"question_id":10722110,"body_markdown":"I am studying overriding member functions in Java and thought about experimenting with overriding member variables.\r\n\r\nSo, I defined classes\r\n\r\n    public class A{\r\n        public int intVal = 1;\r\n        public void identifyClass()\r\n        {\r\n            System.out.println(&quot;I am class A&quot;);\r\n        }\r\n    }\r\n\r\n    public class B extends A\r\n    {\r\n        public int intVal = 2;\r\n        public void identifyClass()\r\n        {\r\n            System.out.println(&quot;I am class B&quot;);\r\n        }\r\n    }\r\n\r\n    public class mainClass\r\n    {\r\n        public static void main(String [] args)\r\n        {\r\n            A a = new A();\r\n            B b = new B();\r\n            A aRef;\r\n            aRef = a;\r\n            System.out.println(aRef.intVal);\r\n            aRef.identifyClass();\r\n            aRef = b;\r\n            System.out.println(aRef.intVal);\r\n            aRef.identifyClass();\r\n        }\r\n    }\r\n\r\nThe output is:\r\n\r\n    1\r\n    I am class A\r\n    1\r\n    I am class B\r\n\r\n\r\n\r\nI am not able to understand why when aRef is set to b intVal is still of class A?\r\n","title":"Overriding member variables in Java ( Variable Hiding)","body":"<p>I am studying overriding member functions in Java and thought about experimenting with overriding member variables.</p>\n<p>So, I defined classes</p>\n<pre><code>public class A{\n    public int intVal = 1;\n    public void identifyClass()\n    {\n        System.out.println(&quot;I am class A&quot;);\n    }\n}\n\npublic class B extends A\n{\n    public int intVal = 2;\n    public void identifyClass()\n    {\n        System.out.println(&quot;I am class B&quot;);\n    }\n}\n\npublic class mainClass\n{\n    public static void main(String [] args)\n    {\n        A a = new A();\n        B b = new B();\n        A aRef;\n        aRef = a;\n        System.out.println(aRef.intVal);\n        aRef.identifyClass();\n        aRef = b;\n        System.out.println(aRef.intVal);\n        aRef.identifyClass();\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>1\nI am class A\n1\nI am class B\n</code></pre>\n<p>I am not able to understand why when aRef is set to b intVal is still of class A?</p>\n"},{"tags":["java","matrix","user-input"],"comments":[{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1677081676,"post_id":75534349,"comment_id":133267991,"body_markdown":"Side note: You&#39;re not calling `sortMatRowAndColWise()` at all in the posted code.","body":"Side note: You&#39;re not calling <code>sortMatRowAndColWise()</code> at all in the posted code."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677081551,"creation_date":1677081551,"answer_id":75535229,"question_id":75534349,"body_markdown":"You&#39;ve used inconsistent naming conventions.\r\n\r\nIn some methods `m` as a parameter refers to a 2D array.\r\n\r\nIn your `main()`, though, you&#39;ve declared `m` as an `int`!\r\n\r\nChange:\r\n\r\n    printMat(m, n);\r\n\r\nTo:\r\n\r\n    printMat(array, n);","title":"How to sort a matrix in a row-wise manner in java","body":"<p>You've used inconsistent naming conventions.</p>\n<p>In some methods <code>m</code> as a parameter refers to a 2D array.</p>\n<p>In your <code>main()</code>, though, you've declared <code>m</code> as an <code>int</code>!</p>\n<p>Change:</p>\n<pre><code>printMat(m, n);\n</code></pre>\n<p>To:</p>\n<pre><code>printMat(array, n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24257326,"reputation":9,"user_id":18207483,"display_name":"X O"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677086547,"creation_date":1677086547,"answer_id":75536148,"question_id":75534349,"body_markdown":"WHY DOES THIS HAPPENED\r\n\r\n1- m is an integer type in your main method and keeps the number of rows.\r\n\r\n2- The method printMat(int m[][],int n) takes a 2D array and an integer.\r\n\r\n3- When you run printMat(m,n) you try to put an integer to a 2D array.(Consider that &#39;m&#39; in printMat(int m[][],int n) and &#39;m&#39; in int m; are not the same.)\r\n\r\nWHAT SHOULD YOU DO\r\n\r\nYou should write printMat(array,n) instead print(m,n).","title":"How to sort a matrix in a row-wise manner in java","body":"<p>WHY DOES THIS HAPPENED</p>\n<p>1- m is an integer type in your main method and keeps the number of rows.</p>\n<p>2- The method printMat(int m[][],int n) takes a 2D array and an integer.</p>\n<p>3- When you run printMat(m,n) you try to put an integer to a 2D array.(Consider that 'm' in printMat(int m[][],int n) and 'm' in int m; are not the same.)</p>\n<p>WHAT SHOULD YOU DO</p>\n<p>You should write printMat(array,n) instead print(m,n).</p>\n"}],"owner":{"account_id":27068130,"reputation":1,"user_id":20619168,"display_name":"Kaiki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677086547,"creation_date":1677077144,"question_id":75534349,"body_markdown":"I&#39;ve been trying to sort the elements of my matrix in a row-wise manner. But when I try to sort them out I end up with the error `error: incompatible types: int cannot be converted to int[][]`. And for some reason I can&#39;t find a way to get rid of the error.\r\n\r\nBelow is the code that I made.\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n    public class arrayinput2{\r\n    \t\r\n    \tstatic void sortByRow(int m[][], int n){\r\n            for (int i = 0; i &lt; n; i++)\r\n    \t\t\tArrays.sort(m[i]);\r\n    \t}\r\n    \t\r\n    \tstatic void transpose(int m[][], int n){\r\n            for (int i = 0; i &lt; n; i++)\r\n                for (int j = i + 1; j &lt; n; j++)\r\n                    {\r\n                    int temp=m[i][j];\r\n                    m[i][j]=m[j][i];\r\n                    m[j][i]=temp;\r\n                    }\r\n        }\r\n    \t\r\n    \tstatic void sortMatRowAndColWise(int m[][],int n)\r\n        {\r\n            sortByRow(m, n);\r\n            transpose(m, n);\r\n            sortByRow(m, n);\r\n            transpose(m, n);\r\n        }\r\n    \t\r\n    \tstatic void printMat(int m[][], int n)\r\n        {\r\n            for (int i = 0; i &lt; n; i++) {\r\n                for (int j = 0; j &lt; n; j++)\r\n                    System.out.print(m[i][j] + &quot; &quot;);\r\n                System.out.println();\r\n            }\r\n        }\r\n    \t\r\n    \tpublic  static void main(String args[]){\r\n    \t\tint m,n,i,j;\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.print(&quot;Enter the number of rows: &quot;);\r\n    \t\tm = sc.nextInt();\r\n    \t\tn = m;\r\n    \t\t\r\n    \t\tint array[][] = new int[m][n];\r\n    \t\tSystem.out.println(&quot;Enter the elements of the array: &quot;);\r\n    \t\tfor(i=0;i&lt;m;i++)\r\n    \t\t\tfor(j=0;j&lt;n;j++)\r\n    \t\tarray[i][j] = sc.nextInt();\r\n    \t\t\r\n    \r\n    \t\tSystem.out.println(&quot;Elements of the array are: &quot;);\r\n            printMat(m, n);\r\n    \t}\r\n    }","title":"How to sort a matrix in a row-wise manner in java","body":"<p>I've been trying to sort the elements of my matrix in a row-wise manner. But when I try to sort them out I end up with the error <code>error: incompatible types: int cannot be converted to int[][]</code>. And for some reason I can't find a way to get rid of the error.</p>\n<p>Below is the code that I made.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\npublic class arrayinput2{\n    \n    static void sortByRow(int m[][], int n){\n        for (int i = 0; i &lt; n; i++)\n            Arrays.sort(m[i]);\n    }\n    \n    static void transpose(int m[][], int n){\n        for (int i = 0; i &lt; n; i++)\n            for (int j = i + 1; j &lt; n; j++)\n                {\n                int temp=m[i][j];\n                m[i][j]=m[j][i];\n                m[j][i]=temp;\n                }\n    }\n    \n    static void sortMatRowAndColWise(int m[][],int n)\n    {\n        sortByRow(m, n);\n        transpose(m, n);\n        sortByRow(m, n);\n        transpose(m, n);\n    }\n    \n    static void printMat(int m[][], int n)\n    {\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++)\n                System.out.print(m[i][j] + &quot; &quot;);\n            System.out.println();\n        }\n    }\n    \n    public  static void main(String args[]){\n        int m,n,i,j;\n        Scanner sc=new Scanner(System.in);\n        System.out.print(&quot;Enter the number of rows: &quot;);\n        m = sc.nextInt();\n        n = m;\n        \n        int array[][] = new int[m][n];\n        System.out.println(&quot;Enter the elements of the array: &quot;);\n        for(i=0;i&lt;m;i++)\n            for(j=0;j&lt;n;j++)\n        array[i][j] = sc.nextInt();\n        \n\n        System.out.println(&quot;Elements of the array are: &quot;);\n        printMat(m, n);\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbc","amazon-redshift","hikaricp"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1677086008,"post_id":75531687,"comment_id":133269459,"body_markdown":"_&quot;Is the premise of HikariCP for popular databases is unverified and pgjdbc does not support connection pooling?&quot;_ No, HikariCP provides the connection pooling, that has nothing to do with with the underlying driver used. But is not clear to me what that `RedShiftDataSource` is you&#39;re using. You say it is &quot;just a wrapper around HikaricpDataSource&quot;, but that is insufficient information. Also, it is not HikariCP that calls `DriverManager`, it is `com.amazon.redshift.ds.common.BaseDataSource` which is a superclass of `com.amazon.redshift.ds.RedshiftSimpleDataSource`.","body":"<i>&quot;Is the premise of HikariCP for popular databases is unverified and pgjdbc does not support connection pooling?&quot;</i> No, HikariCP provides the connection pooling, that has nothing to do with with the underlying driver used. But is not clear to me what that <code>RedShiftDataSource</code> is you&#39;re using. You say it is &quot;just a wrapper around HikaricpDataSource&quot;, but that is insufficient information. Also, it is not HikariCP that calls <code>DriverManager</code>, it is <code>com.amazon.redshift.ds.common.BaseDataSource</code> which is a superclass of <code>com.amazon.redshift.ds.RedshiftSimpleDataSource</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677086062,"post_id":75531687,"comment_id":133269480,"body_markdown":"In other words, HikariCP tries to use `RedshiftSimpleDataSource` as you configured, and that then fails to create a connection for unclear reasons (or you left that out of your stacktrace).","body":"In other words, HikariCP tries to use <code>RedshiftSimpleDataSource</code> as you configured, and that then fails to create a connection for unclear reasons (or you left that out of your stacktrace)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677086202,"post_id":75531687,"comment_id":133269542,"body_markdown":"As an aside, referring to the Redshift driver as &quot;pgjdbc&quot; in your question is slightly confusing, although the Redshift driver is - I guess - a fork of pgjdbc, it is **not** pgjdbc.","body":"As an aside, referring to the Redshift driver as &quot;pgjdbc&quot; in your question is slightly confusing, although the Redshift driver is - I guess - a fork of pgjdbc, it is <b>not</b> pgjdbc."},{"owner":{"account_id":425342,"reputation":4878,"user_id":805896,"accept_rate":76,"display_name":"rahman"},"score":0,"creation_date":1677098914,"post_id":75531687,"comment_id":133273018,"body_markdown":"@MarkRotteveel HikariCP says we should use `PGSimpleDataSource` which is derived from `BaseDataSource`. So, I meant to say HikarCP.getConnection will &#39;subsequently&#39; result in invoking `DriverManager.getConnection`, clearly due to our DataSourceClassName setting instructed by HikariCP. That&#39;s my confusion. I know HikariCP is not responsible for pgjdbc internals but there must have been a reason it instructed what to put in DataSourceClassName. Had they tested this? How did they warn about mysql&#39;s settings being broken but didn&#39;t warn on pgjdbc which is widely used? I can&#39;t find answer to this.","body":"@MarkRotteveel HikariCP says we should use <code>PGSimpleDataSource</code> which is derived from <code>BaseDataSource</code>. So, I meant to say HikarCP.getConnection will &#39;subsequently&#39; result in invoking <code>DriverManager.getConnection</code>, clearly due to our DataSourceClassName setting instructed by HikariCP. That&#39;s my confusion. I know HikariCP is not responsible for pgjdbc internals but there must have been a reason it instructed what to put in DataSourceClassName. Had they tested this? How did they warn about mysql&#39;s settings being broken but didn&#39;t warn on pgjdbc which is widely used? I can&#39;t find answer to this."},{"owner":{"account_id":425342,"reputation":4878,"user_id":805896,"accept_rate":76,"display_name":"rahman"},"score":0,"creation_date":1677099031,"post_id":75531687,"comment_id":133273041,"body_markdown":"About wrapper. Let&#39;s say it is as simple as :\nclass  RedShiftDataSource extends HikaricpDataSource {}\n(and the constructors ofcourse)","body":"About wrapper. Let&#39;s say it is as simple as : class  RedShiftDataSource extends HikaricpDataSource {} (and the constructors ofcourse)"},{"owner":{"account_id":425342,"reputation":4878,"user_id":805896,"accept_rate":76,"display_name":"rahman"},"score":0,"creation_date":1677099113,"post_id":75531687,"comment_id":133273069,"body_markdown":"Maybe I have to install&amp;test pgresql and pgjdbc to remove the redshift/pg confusion. Although I have very strong opinion that they are same in that part.","body":"Maybe I have to install&amp;test pgresql and pgjdbc to remove the redshift/pg confusion. Although I have very strong opinion that they are same in that part."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1677136989,"post_id":75531687,"comment_id":133279143,"body_markdown":"You need to set the `dataSourceClassName` so HikariCP know which data source to use to create connections. HikariCP then puts those connections in the connection pool it manages. The fact PostgreSQL and subsequently Redshift decided to implement those data sources by calling `DriverManager.getConnection` is not a concern for HikariCP, and it is not even related to the problem you&#39;re having. You&#39;re focusing on the wrong thing here. The problem is that `com.amazon.redshift.Driver#connect` throws an exception, you need to fix that (likely the cause is further down the exception stacktrace).","body":"You need to set the <code>dataSourceClassName</code> so HikariCP know which data source to use to create connections. HikariCP then puts those connections in the connection pool it manages. The fact PostgreSQL and subsequently Redshift decided to implement those data sources by calling <code>DriverManager.getConnection</code> is not a concern for HikariCP, and it is not even related to the problem you&#39;re having. You&#39;re focusing on the wrong thing here. The problem is that <code>com.amazon.redshift.Driver#connect</code> throws an exception, you need to fix that (likely the cause is further down the exception stacktrace)."},{"owner":{"account_id":425342,"reputation":4878,"user_id":805896,"accept_rate":76,"display_name":"rahman"},"score":0,"creation_date":1677255658,"post_id":75531687,"comment_id":133307945,"body_markdown":"Yes @MarkRotteveel. In the `DataSourceClassName` case I really put server name to begin with `xxx` :|. So that is fixed, thanks to your hint to divert my focus. I can see it goes through Driver manager, and attempting to create 3 creations, results in 10 connection which is Hikari&#39;s fixed pool size.\nNow I will go see what I can do with extra parameters which are unknown to `BaseDataSource`.\nThanks","body":"Yes @MarkRotteveel. In the <code>DataSourceClassName</code> case I really put server name to begin with <code>xxx</code> :|. So that is fixed, thanks to your hint to divert my focus. I can see it goes through Driver manager, and attempting to create 3 creations, results in 10 connection which is Hikari&#39;s fixed pool size. Now I will go see what I can do with extra parameters which are unknown to <code>BaseDataSource</code>. Thanks"}],"owner":{"account_id":425342,"reputation":4878,"user_id":805896,"accept_rate":76,"display_name":"rahman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677086106,"creation_date":1677063101,"question_id":75531687,"body_markdown":"I am trying to write an application that uses HikariCP for its pooling. \r\n(BTW, I am using Redshift and its [JDBC driver][1] which AFAI checked is almost a copy-paste of [pgjdbc][2]).\r\n\r\nI can use `jdbcUrl` and get some results:\r\n\r\n    private static void initRedshiftDataSource()\r\n    {\r\n        ds = new RedshiftDataSource(); // this is just a wrapper around HikaricpDataSource\r\n        ds.setMaximumPoolSize(10);\r\n        ds.setMinimumIdle(2);\r\n        ds.setIdleTimeout(45);\r\n        ds.setJdbcUrl(Jdbc_URL);\r\n        ds.setUsername(Username);\r\n        ds.setPassword(Password);\r\n        ds.addDataSourceProperty(&quot;LogPath&quot;, LogPath);\r\n        ds.addDataSourceProperty(&quot;DSILogLevel&quot;, DSILogLevel);\r\n        ds.addDataSourceProperty(&quot;IDP_TENANT&quot;, &quot;idp_tenant&quot;);\r\n        ds.addDataSourceProperty(&quot;ssl&quot;, &quot;false&quot;);\r\n    }\r\n\r\nBut if I try to set PostgreSQL `dataSourceClassName` from [popular-datasource-class-names table][3]:\r\n\r\n    private static void initRedshiftDataSource()\r\n    {\r\n    \tds = new RedshiftDataSource();  // this is just a wrapper around HikaricpDataSource\r\n    \tds.setDataSourceClassName(&quot;com.amazon.redshift.ds.RedshiftSimpleDataSource&quot;);\r\n    \tds.setAutoCommit(true);\r\n    \tds.setUsername(Username);\r\n    \tds.setPassword(Password);\r\n    \tds.addDataSourceProperty(&quot;databaseName&quot;, &quot;dev&quot;);\r\n    \tds.addDataSourceProperty(&quot;portNumber&quot;, &quot;5432&quot;);\r\n    \tds.addDataSourceProperty(&quot;serverName&quot;, &quot;xxx.redshift.amazonaws.com&quot;);\r\n    \tds.addDataSourceProperty(&quot;DSILogLevel&quot;, DSILogLevel);\r\n    \tds.addDataSourceProperty(&quot;LogPath&quot;, LogPath);\r\n    \tds.addDataSourceProperty(&quot;IDP_TENANT&quot;, &quot;idp_tenant&quot;);\r\n    \tds.addDataSourceProperty(&quot;ssl&quot;, &quot;false&quot;);\r\n    }\r\n\r\nI get the following exception:\r\n\r\n    java.lang.RuntimeException: Property DSILogLevel does not exist on target class com.amazon.redshift.ds.RedshiftSimpleDataSource\r\n            at com.zaxxer.hikari.util.PropertyElf.setProperty(PropertyElf.java:135)\r\n            at com.zaxxer.hikari.util.PropertyElf.lambda$setTargetFromProperties$0(PropertyElf.java:59)\r\n            at java.util.Hashtable.forEach(Hashtable.java:879)\r\n            at com.zaxxer.hikari.util.PropertyElf.setTargetFromProperties(PropertyElf.java:54)\r\n            at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:328)\r\n            at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114)\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108)\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n            at com.amazon.redshift.ds.RedshiftDataSource2.getConnection(RedshiftDataSource2.java:1695)\r\n\r\nWhich is kinda obvious as pgjdbc&#39;s `BaseDataSource` doesn&#39;t have my custom properties.\r\n\r\n**Also:**\r\n\r\nEven if I comment out my custom properties to see what happens, I get:\r\n \r\n    java.sql.SQLException: Something unusual has occurred to cause the driver to fail. Please report this exception.\r\n            at com.amazon.redshift.util.RedshiftException.getSQLException(RedshiftException.java:56)\r\n            at com.amazon.redshift.Driver.connect(Driver.java:339)\r\n            at java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n            at java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n            at com.amazon.redshift.ds.common.BaseDataSource.getConnection(BaseDataSource.java:100)\r\n            at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n            at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n            at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n            at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n            at com.amazon.redshift.ds.RedshiftDataSource2.getConnection(RedshiftDataSource2.java:1695)\r\n\r\nIt contacts `DriverManager.getConnection` which I don&#39;t think is what HikariCP wants.\r\n\r\nSo, I am confused.\r\n\r\nIs the premise of HikariCP for popular databases is unverified and pgjdbc does not support connection pooling? Has anybody tried pgjdbc and HikariCP this way?\r\n\r\nOr its the Redshift JDBC driver which might have trouble somewhere?\r\n\r\n\r\n\r\n  [1]: https://github.com/aws/amazon-redshift-jdbc-driver\r\n  [2]: https://github.com/pgjdbc/pgjdbc\r\n  [3]: https://github.com/brettwooldridge/HikariCP#popular-datasource-class-names\r\n","title":"How to use HikariCP dataSourceClassName with PostgreSQL","body":"<p>I am trying to write an application that uses HikariCP for its pooling.\n(BTW, I am using Redshift and its <a href=\"https://github.com/aws/amazon-redshift-jdbc-driver\" rel=\"nofollow noreferrer\">JDBC driver</a> which AFAI checked is almost a copy-paste of <a href=\"https://github.com/pgjdbc/pgjdbc\" rel=\"nofollow noreferrer\">pgjdbc</a>).</p>\n<p>I can use <code>jdbcUrl</code> and get some results:</p>\n<pre><code>private static void initRedshiftDataSource()\n{\n    ds = new RedshiftDataSource(); // this is just a wrapper around HikaricpDataSource\n    ds.setMaximumPoolSize(10);\n    ds.setMinimumIdle(2);\n    ds.setIdleTimeout(45);\n    ds.setJdbcUrl(Jdbc_URL);\n    ds.setUsername(Username);\n    ds.setPassword(Password);\n    ds.addDataSourceProperty(&quot;LogPath&quot;, LogPath);\n    ds.addDataSourceProperty(&quot;DSILogLevel&quot;, DSILogLevel);\n    ds.addDataSourceProperty(&quot;IDP_TENANT&quot;, &quot;idp_tenant&quot;);\n    ds.addDataSourceProperty(&quot;ssl&quot;, &quot;false&quot;);\n}\n</code></pre>\n<p>But if I try to set PostgreSQL <code>dataSourceClassName</code> from <a href=\"https://github.com/brettwooldridge/HikariCP#popular-datasource-class-names\" rel=\"nofollow noreferrer\">popular-datasource-class-names table</a>:</p>\n<pre><code>private static void initRedshiftDataSource()\n{\n    ds = new RedshiftDataSource();  // this is just a wrapper around HikaricpDataSource\n    ds.setDataSourceClassName(&quot;com.amazon.redshift.ds.RedshiftSimpleDataSource&quot;);\n    ds.setAutoCommit(true);\n    ds.setUsername(Username);\n    ds.setPassword(Password);\n    ds.addDataSourceProperty(&quot;databaseName&quot;, &quot;dev&quot;);\n    ds.addDataSourceProperty(&quot;portNumber&quot;, &quot;5432&quot;);\n    ds.addDataSourceProperty(&quot;serverName&quot;, &quot;xxx.redshift.amazonaws.com&quot;);\n    ds.addDataSourceProperty(&quot;DSILogLevel&quot;, DSILogLevel);\n    ds.addDataSourceProperty(&quot;LogPath&quot;, LogPath);\n    ds.addDataSourceProperty(&quot;IDP_TENANT&quot;, &quot;idp_tenant&quot;);\n    ds.addDataSourceProperty(&quot;ssl&quot;, &quot;false&quot;);\n}\n</code></pre>\n<p>I get the following exception:</p>\n<pre><code>java.lang.RuntimeException: Property DSILogLevel does not exist on target class com.amazon.redshift.ds.RedshiftSimpleDataSource\n        at com.zaxxer.hikari.util.PropertyElf.setProperty(PropertyElf.java:135)\n        at com.zaxxer.hikari.util.PropertyElf.lambda$setTargetFromProperties$0(PropertyElf.java:59)\n        at java.util.Hashtable.forEach(Hashtable.java:879)\n        at com.zaxxer.hikari.util.PropertyElf.setTargetFromProperties(PropertyElf.java:54)\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:328)\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108)\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n        at com.amazon.redshift.ds.RedshiftDataSource2.getConnection(RedshiftDataSource2.java:1695)\n</code></pre>\n<p>Which is kinda obvious as pgjdbc's <code>BaseDataSource</code> doesn't have my custom properties.</p>\n<p><strong>Also:</strong></p>\n<p>Even if I comment out my custom properties to see what happens, I get:</p>\n<pre><code>java.sql.SQLException: Something unusual has occurred to cause the driver to fail. Please report this exception.\n        at com.amazon.redshift.util.RedshiftException.getSQLException(RedshiftException.java:56)\n        at com.amazon.redshift.Driver.connect(Driver.java:339)\n        at java.sql.DriverManager.getConnection(DriverManager.java:664)\n        at java.sql.DriverManager.getConnection(DriverManager.java:247)\n        at com.amazon.redshift.ds.common.BaseDataSource.getConnection(BaseDataSource.java:100)\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n        at com.amazon.redshift.ds.RedshiftDataSource2.getConnection(RedshiftDataSource2.java:1695)\n</code></pre>\n<p>It contacts <code>DriverManager.getConnection</code> which I don't think is what HikariCP wants.</p>\n<p>So, I am confused.</p>\n<p>Is the premise of HikariCP for popular databases is unverified and pgjdbc does not support connection pooling? Has anybody tried pgjdbc and HikariCP this way?</p>\n<p>Or its the Redshift JDBC driver which might have trouble somewhere?</p>\n"},{"tags":["java","eclipse","maven","jar","package"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676566376,"post_id":75475379,"comment_id":133167117,"body_markdown":"Did you try &quot;F5&quot; refresh?","body":"Did you try &quot;F5&quot; refresh?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676981351,"post_id":75475590,"comment_id":133242567,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75475590/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":27676535,"reputation":11,"user_id":21126238,"display_name":"caledonian26"},"score":0,"creation_date":1677085990,"post_id":75475590,"comment_id":133269454,"body_markdown":"@Community is that ok now? :)","body":"@Community is that ok now? :)"}],"tags":[],"owner":{"account_id":27676535,"reputation":11,"user_id":21126238,"display_name":"caledonian26"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677085975,"creation_date":1676566970,"answer_id":75475590,"question_id":75475379,"body_markdown":"To solve this, I went through the following steps:\r\n\r\n1. I first closed **the eclipse app** on my macbook which I used to create the source code\r\n2. I then **opened the app again** \r\n3. I then clicked on the **&#39;.java&#39; file** and went to the tab **&#39;file&#39;**, and then pressed **&#39;refresh&#39;** to refresh the file\r\n4. The &#39;.jar&#39; file then appeared in **the &#39;target&#39;** folder, which was located **within the main project folder** on eclipse. ","title":"Running &#39;mvn clean package&#39; in the command line - I cannot see jar file in the eclipse repository","body":"<p>To solve this, I went through the following steps:</p>\n<ol>\n<li>I first closed <strong>the eclipse app</strong> on my macbook which I used to create the source code</li>\n<li>I then <strong>opened the app again</strong></li>\n<li>I then clicked on the <strong>'.java' file</strong> and went to the tab <strong>'file'</strong>, and then pressed <strong>'refresh'</strong> to refresh the file</li>\n<li>The '.jar' file then appeared in <strong>the 'target'</strong> folder, which was located <strong>within the main project folder</strong> on eclipse.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676567729,"creation_date":1676567729,"answer_id":75475759,"question_id":75475379,"body_markdown":"Eclipse assumes it is managing the folders.\r\n\r\nIf you change it outside of eclipse, you have to refresh the view.","title":"Running &#39;mvn clean package&#39; in the command line - I cannot see jar file in the eclipse repository","body":"<p>Eclipse assumes it is managing the folders.</p>\n<p>If you change it outside of eclipse, you have to refresh the view.</p>\n"}],"owner":{"account_id":27676535,"reputation":11,"user_id":21126238,"display_name":"caledonian26"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75475590,"answer_count":2,"score":1,"last_activity_date":1677085975,"creation_date":1676565734,"question_id":75475379,"body_markdown":"I have a **&#39;Main.java&#39;** file.\r\n\r\nWhen I run **&#39;mvn clean package&#39; in the terminal**, it packages the jar file.\r\n\r\nHowever, I cannot see where the .jar file is stored. I believe it should be in the **&#39;target&#39;** folder on my eclipse repository, but it is not there! (see screenshot below) \r\n\r\nIn the terminal, I **changed the current directory** to: **&#39;/Users/macbook/eclipse-workspace/newestplugin&#39;** before running &#39;mvn clean package&#39;. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/oJoxW.png)](https://i.stack.imgur.com/oJoxW.png)\r\n\r\nI would be so grateful for a helping hand as to whether there is a way round this so I can actually find the .jar file? \r\n","title":"Running &#39;mvn clean package&#39; in the command line - I cannot see jar file in the eclipse repository","body":"<p>I have a <strong>'Main.java'</strong> file.</p>\n<p>When I run <strong>'mvn clean package' in the terminal</strong>, it packages the jar file.</p>\n<p>However, I cannot see where the .jar file is stored. I believe it should be in the <strong>'target'</strong> folder on my eclipse repository, but it is not there! (see screenshot below)</p>\n<p>In the terminal, I <strong>changed the current directory</strong> to: <strong>'/Users/macbook/eclipse-workspace/newestplugin'</strong> before running 'mvn clean package'.</p>\n<p><a href=\"https://i.stack.imgur.com/oJoxW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oJoxW.png\" alt=\"enter image description here\" /></a></p>\n<p>I would be so grateful for a helping hand as to whether there is a way round this so I can actually find the .jar file?</p>\n"},{"tags":["java","asynchronous","jdbc"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677148260,"post_id":75535996,"comment_id":133282096,"body_markdown":"Sure, the general approach is to create a [`CompletableFuture`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html) that is completed in the event callback. Then, the calling code can call [`get`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#get--) on it to block until it is completed. A proper answer should contain a code example. Can you update the question to show how you register to receive the event?","body":"Sure, the general approach is to create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\"><code>CompletableFuture</code></a> that is completed in the event callback. Then, the calling code can call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#get--\" rel=\"nofollow noreferrer\"><code>get</code></a> on it to block until it is completed. A proper answer should contain a code example. Can you update the question to show how you register to receive the event?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1678223743,"post_id":75535996,"comment_id":133491110,"body_markdown":"What if ManagedThing is already created before you have time to register a PropertyChangeEvent?","body":"What if ManagedThing is already created before you have time to register a PropertyChangeEvent?"}],"owner":{"account_id":8110857,"reputation":444,"user_id":6111007,"display_name":"Kevin Patrick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677085639,"creation_date":1677085639,"question_id":75535996,"body_markdown":"Let&#39;s say I have some object that I store in a back end database (let&#39;s call it Thing).\r\n\r\n```java\r\nclass Thing {\r\n\r\n  private String id;\r\n  private String name;\r\n\r\n  public Thing(String id, String name) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n\r\n  /* getters/setters/etc */\r\n}\r\n```\r\n\r\nI also have a class which handles create, read, update, and delete operations for the `Thing` class; let&#39;s call it DatabaseManager. This class interacts asynchronously with an underlying postgresql database and I cannot modify it.\r\n\r\n```java\r\nclass DatabaseManager {\r\n\r\n  public void add(Thing t) {\r\n    // ...\r\n  }\r\n\r\n  public ManagedThing get(String id) {\r\n    // ...\r\n  }\r\n\r\n  public void update(String id, String name) {\r\n    // ...\r\n  }\r\n\r\n  public void delete(String id) {\r\n    // ...\r\n  }\r\n}\r\n```\r\nWhen things are added to this database, some asynchronous processes happen and a new object is created and registered called `ManagedThing`.\r\n\r\nIf I have a method called in my APIs that adds one of these Thing objects like so:\r\n\r\n```java\r\n@POST\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic Response createThing(Bean bean) {\r\n  var thing = new Thing(bean.getId(), bean.getName());\r\n  /* validation */\r\n  databaseManager.add(thing);\r\n  /* async stuff triggered */\r\n  ManagedThing mt = databaseManager.getThing(bean.getId());\r\n  return new CreatedResponse(mt.toJson());\r\n}\r\n```\r\n\r\nIn this code above that I own and can modify; the only way I could possibly know when the new `ManagedThing` is finally created asynchronously is via a `PropertyChangeEvent` I have to register for. My question is; is there a way I could possibly block until the ManagedThing becomes available?","title":"How to implement future-like operation in this scenario?","body":"<p>Let's say I have some object that I store in a back end database (let's call it Thing).</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Thing {\n\n  private String id;\n  private String name;\n\n  public Thing(String id, String name) {\n    this.id = id;\n    this.name = name;\n  }\n\n  /* getters/setters/etc */\n}\n</code></pre>\n<p>I also have a class which handles create, read, update, and delete operations for the <code>Thing</code> class; let's call it DatabaseManager. This class interacts asynchronously with an underlying postgresql database and I cannot modify it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DatabaseManager {\n\n  public void add(Thing t) {\n    // ...\n  }\n\n  public ManagedThing get(String id) {\n    // ...\n  }\n\n  public void update(String id, String name) {\n    // ...\n  }\n\n  public void delete(String id) {\n    // ...\n  }\n}\n</code></pre>\n<p>When things are added to this database, some asynchronous processes happen and a new object is created and registered called <code>ManagedThing</code>.</p>\n<p>If I have a method called in my APIs that adds one of these Thing objects like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@POST\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response createThing(Bean bean) {\n  var thing = new Thing(bean.getId(), bean.getName());\n  /* validation */\n  databaseManager.add(thing);\n  /* async stuff triggered */\n  ManagedThing mt = databaseManager.getThing(bean.getId());\n  return new CreatedResponse(mt.toJson());\n}\n</code></pre>\n<p>In this code above that I own and can modify; the only way I could possibly know when the new <code>ManagedThing</code> is finally created asynchronously is via a <code>PropertyChangeEvent</code> I have to register for. My question is; is there a way I could possibly block until the ManagedThing becomes available?</p>\n"},{"tags":["java","angularjs","spring","spring-boot","spring-security-oauth2"],"comments":[{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":0,"creation_date":1514893350,"post_id":48059870,"comment_id":83093035,"body_markdown":"How do you create the tokens and how do you store them on the server ?","body":"How do you create the tokens and how do you store them on the server ?"},{"owner":{"account_id":3928930,"reputation":963,"user_id":3248312,"display_name":"iamrajshah"},"score":1,"creation_date":1514893732,"post_id":48059870,"comment_id":83093233,"body_markdown":"I have created token using CsrfToken.class.getName() by extending OncePerRequestFilter class of org.springframework.web.filter. Please note that I have not stored on server instead I am attaching that token with every request in header. Please tell me the best possible way to store token on server side. Thanks in advance","body":"I have created token using CsrfToken.class.getName() by extending OncePerRequestFilter class of org.springframework.web.filter. Please note that I have not stored on server instead I am attaching that token with every request in header. Please tell me the best possible way to store token on server side. Thanks in advance"},{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":0,"creation_date":1514894202,"post_id":48059870,"comment_id":83093472,"body_markdown":"So in that case your token will be stored on the server in a session; Mahesh&#39;s answer explains how you can deal with this by either having sticky sessions or replicating sessions across your cluster.","body":"So in that case your token will be stored on the server in a session; Mahesh&#39;s answer explains how you can deal with this by either having sticky sessions or replicating sessions across your cluster."},{"owner":{"account_id":3928930,"reputation":963,"user_id":3248312,"display_name":"iamrajshah"},"score":0,"creation_date":1514953196,"post_id":48059870,"comment_id":83115840,"body_markdown":"PaulNUK as I have mention in below comment that I don&#39;t want to use any other server. From purely java or spring boot concept can I achieve what I want? Or any other solution for this so neither port or server will used? Thanks in advance","body":"PaulNUK as I have mention in below comment that I don&#39;t want to use any other server. From purely java or spring boot concept can I achieve what I want? Or any other solution for this so neither port or server will used? Thanks in advance"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1514971958,"post_id":48059870,"comment_id":83122762,"body_markdown":"A third way is to write your own `CsrfTokenRepository` and save the token in a database, where it can be loaded from all servers.","body":"A third way is to write your own <code>CsrfTokenRepository</code> and save the token in a database, where it can be loaded from all servers."},{"owner":{"account_id":1683624,"reputation":505,"user_id":1547327,"accept_rate":33,"display_name":"Sml004"},"score":0,"creation_date":1540420566,"post_id":48059870,"comment_id":92864065,"body_markdown":"store in database, it could impact to database performance? as you can see, it will insert to database every request. so, good idea to store in database?","body":"store in database, it could impact to database performance? as you can see, it will insert to database every request. so, good idea to store in database?"}],"answers":[{"comments":[{"owner":{"account_id":3928930,"reputation":963,"user_id":3248312,"display_name":"iamrajshah"},"score":1,"creation_date":1514953089,"post_id":48060439,"comment_id":83115810,"body_markdown":"Thanks mahesh for answer, but my requirement is something like I don&#39;t want to install or engage any port of operating system. Can I do this type of session handling or say mechanism which you mention by using purely java concept?  If it is possible please let me know. Thanks in advance.","body":"Thanks mahesh for answer, but my requirement is something like I don&#39;t want to install or engage any port of operating system. Can I do this type of session handling or say mechanism which you mention by using purely java concept?  If it is possible please let me know. Thanks in advance."}],"tags":[],"owner":{"account_id":9636750,"reputation":2702,"user_id":7152558,"display_name":"Mahesh_Loya"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677085455,"creation_date":1514893769,"answer_id":48060439,"question_id":48059870,"body_markdown":"There are two ways you can workaround this issue:\r\n\r\n\r\n1. Configure your load balancer to use/work with sticky sessions. \r\nFor example if you are using Nginx as a load balancer you can explore below links:\r\n\r\n    - [http://nginx.org/en/docs/http/load_balancing.html][1]\r\n    - [https://aggarwalarpit.wordpress.com/2015/11/12/sticky-session-load-balancer-with-nginx/][2]\r\n\r\n2. If you do not want to use sticky sessions, then you can use Spring Session, as by default the CSRF token is stored inside the HTTP session.\r\n\r\n    Hence you need to have the HTTP session replicated over. You can do this using Spring Session.\r\n\r\n    Refer below links:\r\n\r\n    - [https://docs.spring.io/spring-session/reference/][3]\r\n    - [https://blog.jayway.com/2015/05/31/scaling-out-with-sprin\r\ng-session/][4]   \r\n\r\n    &lt;br&gt;\r\n    You will need to have a Redis server installed.If not already installed you can follow below steps:\r\n\r\n    **Redis**\r\n\r\n    [Download][5] and install Redis. For example if you are using OS X you can use Brew, e.g.\r\n\r\n        $ brew install redis  \r\n(If you use Linux, you can use `yum` or `apt-get`. Alternatively, read the Quick Start Guide.)\r\n\r\n     Start Redis by calling the redis-server command, e.g. if you use Brew on OS X:\r\n\r\n        $ redis-server /usr/local/etc/redis.conf\r\n\r\n     [...]\r\n\r\n     Port: 6379\r\n\r\n     [...]\r\n\r\n     Server started, Redis version 3.0.1\r\n\r\n     [...]\r\n\r\n\r\n\r\n\r\n  [1]: http://nginx.org/en/docs/http/load_balancing.html\r\n  [2]: https://aggarwalarpit.wordpress.com/2015/11/12/sticky-session-load-balancer-with-nginx/\r\n  [3]: https://docs.spring.io/spring-session/reference/\r\n  [4]: https://blog.jayway.com/2015/05/31/scaling-out-with-spring-session/\r\n  [5]: https://redis.io/","title":"Spring Boot CSRF fails when handled by Load balancer","body":"<p>There are two ways you can workaround this issue:</p>\n<ol>\n<li><p>Configure your load balancer to use/work with sticky sessions.\nFor example if you are using Nginx as a load balancer you can explore below links:</p>\n<ul>\n<li><a href=\"http://nginx.org/en/docs/http/load_balancing.html\" rel=\"nofollow noreferrer\">http://nginx.org/en/docs/http/load_balancing.html</a></li>\n<li><a href=\"https://aggarwalarpit.wordpress.com/2015/11/12/sticky-session-load-balancer-with-nginx/\" rel=\"nofollow noreferrer\">https://aggarwalarpit.wordpress.com/2015/11/12/sticky-session-load-balancer-with-nginx/</a></li>\n</ul>\n</li>\n<li><p>If you do not want to use sticky sessions, then you can use Spring Session, as by default the CSRF token is stored inside the HTTP session.</p>\n<p>Hence you need to have the HTTP session replicated over. You can do this using Spring Session.</p>\n<p>Refer below links:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-session/reference/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-session/reference/</a></li>\n<li><a href=\"https://blog.jayway.com/2015/05/31/scaling-out-with-spring-session/\" rel=\"nofollow noreferrer\">https://blog.jayway.com/2015/05/31/scaling-out-with-sprin\ng-session/</a></li>\n</ul>\n <br>\n You will need to have a Redis server installed.If not already installed you can follow below steps:\n<p><strong>Redis</strong></p>\n<p><a href=\"https://redis.io/\" rel=\"nofollow noreferrer\">Download</a> and install Redis. For example if you are using OS X you can use Brew, e.g.</p>\n<pre><code> $ brew install redis  \n</code></pre>\n</li>\n</ol>\n<p>(If you use Linux, you can use <code>yum</code> or <code>apt-get</code>. Alternatively, read the Quick Start Guide.)</p>\n<pre><code> Start Redis by calling the redis-server command, e.g. if you use Brew on OS X:\n\n    $ redis-server /usr/local/etc/redis.conf\n\n [...]\n\n Port: 6379\n\n [...]\n\n Server started, Redis version 3.0.1\n\n [...]\n</code></pre>\n"}],"owner":{"account_id":3928930,"reputation":963,"user_id":3248312,"display_name":"iamrajshah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4073,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48060439,"answer_count":1,"score":2,"last_activity_date":1677085455,"creation_date":1514891336,"question_id":48059870,"body_markdown":"I have implemented CSRF filter in spring boot by using header based token method. When I run on single server my applications works well, when I introduce another server or request that serverd by load balancer (depends on how load balancer serves request) it fails to validate the token given by the other server.\r\n\r\nCan anyone here tell me that how can we create token for CSRF based on particular key which will be same for all server and every server will access that same key to identify the user, or some other way to share CSRF token within different server.\r\n","title":"Spring Boot CSRF fails when handled by Load balancer","body":"<p>I have implemented CSRF filter in spring boot by using header based token method. When I run on single server my applications works well, when I introduce another server or request that serverd by load balancer (depends on how load balancer serves request) it fails to validate the token given by the other server.</p>\n\n<p>Can anyone here tell me that how can we create token for CSRF based on particular key which will be same for all server and every server will access that same key to identify the user, or some other way to share CSRF token within different server.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9596,"page":627,"page_size":100}
