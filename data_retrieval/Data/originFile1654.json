{"items":[{"tags":["java","maven","integration-testing","junit5","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643019114,"creation_date":1643019114,"answer_id":70832126,"question_id":70830973,"body_markdown":"That won&#39;t work with `@QuarkusIntegrationTest`, because this test actually executes the produced JAR and therefore the resources are loaded from inside the JAR itself and not the filesystem.","title":"How do I force Quarkus to use test/resources/ for a QuarkusIntegrationTest?","body":"<p>That won't work with <code>@QuarkusIntegrationTest</code>, because this test actually executes the produced JAR and therefore the resources are loaded from inside the JAR itself and not the filesystem.</p>\n"}],"owner":{"account_id":13066731,"reputation":35,"user_id":9441811,"display_name":"kraeftbraeu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70832126,"answer_count":1,"score":0,"last_activity_date":1643019790,"creation_date":1643013194,"question_id":70830973,"body_markdown":"I&#39;m using quarkus with jdbc + flyway and a frontend. Now I want to build an integration test with a dev services db and a selenium frontend test.\r\n\r\nIn tests annotated with ```@QuarkusTest``` I can see that the flyway scripts from ```src/main/resources/db/migration/``` and ```src/test/resources/db/migration/``` are executed.\r\n\r\nBut for the selenium frontend tests I need to annotate the tests with ```@QuarkusIntegrationTest``` and here only the flyway scripts from ```src/test/resources/db/migration/``` are executed. How can I add ```src/main/resources/db/migration/``` as well?\r\n\r\nMy setup: \r\n```\r\nApache Maven 3.8.4\r\nJava version: 11.0.13, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: de_DE, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.13.0-27-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\nMy pom:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.acme&lt;/groupId&gt;\r\n    &lt;artifactId&gt;getting-started&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n        &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\r\n        &lt;quarkus.platform.version&gt;2.6.3.Final&lt;/quarkus.platform.version&gt;\r\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n        &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.parameters&gt;true&lt;/maven.compiler.parameters&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- rest --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- db --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-agroal&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- enable integration-tests --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nMy application.properties:\r\n```\r\nquarkus.datasource.db-kind=h2\r\nquarkus.flyway.migrate-at-start=true\r\n```\r\n\r\nMy (simplified) project structure:\r\n```\r\nsrc/\r\n  main/\r\n    java/\r\n      [...]\r\n    resources/\r\n      db/\r\n        migration/\r\n          V1.0.0__init_db.sql // runs fine in @QuarkusIntegrationTests\r\n    META-INF/\r\n      [...]\r\n    application.properties\r\n  test/\r\n    java/\r\n      [...]\r\n    resources/\r\n      db/\r\n        migration/\r\n          V1.0.1__additional_DMLs.sql // is not executed in @QuarkusIntegrationTests\r\n  pom.xml\r\n```","title":"How do I force Quarkus to use test/resources/ for a QuarkusIntegrationTest?","body":"<p>I'm using quarkus with jdbc + flyway and a frontend. Now I want to build an integration test with a dev services db and a selenium frontend test.</p>\n<p>In tests annotated with <code>@QuarkusTest</code> I can see that the flyway scripts from <code>src/main/resources/db/migration/</code> and <code>src/test/resources/db/migration/</code> are executed.</p>\n<p>But for the selenium frontend tests I need to annotate the tests with <code>@QuarkusIntegrationTest</code> and here only the flyway scripts from <code>src/test/resources/db/migration/</code> are executed. How can I add <code>src/main/resources/db/migration/</code> as well?</p>\n<p>My setup:</p>\n<pre><code>Apache Maven 3.8.4\nJava version: 11.0.13, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: de_DE, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.13.0-27-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>My pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.acme&lt;/groupId&gt;\n    &lt;artifactId&gt;getting-started&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n        &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\n        &lt;quarkus.platform.version&gt;2.6.3.Final&lt;/quarkus.platform.version&gt;\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n        &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.parameters&gt;true&lt;/maven.compiler.parameters&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- rest --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- db --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-agroal&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jdbc-h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- enable integration-tests --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My application.properties:</p>\n<pre><code>quarkus.datasource.db-kind=h2\nquarkus.flyway.migrate-at-start=true\n</code></pre>\n<p>My (simplified) project structure:</p>\n<pre><code>src/\n  main/\n    java/\n      [...]\n    resources/\n      db/\n        migration/\n          V1.0.0__init_db.sql // runs fine in @QuarkusIntegrationTests\n    META-INF/\n      [...]\n    application.properties\n  test/\n    java/\n      [...]\n    resources/\n      db/\n        migration/\n          V1.0.1__additional_DMLs.sql // is not executed in @QuarkusIntegrationTests\n  pom.xml\n</code></pre>\n"},{"tags":["java","java-ee-6","rule-engine"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1307224832,"post_id":6239618,"comment_id":7273019,"body_markdown":"It really &quot;depends&quot;, Have a look at Drools: http://www.jboss.org/drools","body":"It really &quot;depends&quot;, Have a look at Drools: <a href=\"http://www.jboss.org/drools\" rel=\"nofollow noreferrer\">jboss.org/drools</a>"}],"answers":[{"tags":[],"owner":{"account_id":44829,"reputation":1032,"user_id":131794,"display_name":"Thomas Beck"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643019739,"creation_date":1307225339,"answer_id":6239699,"question_id":6239618,"body_markdown":"An enterprise business rules engine (BRE) would be the appropriate place to capture and evaluate fraud rules. If you&#39;re going use open-source Java EE, I&#39;ve seen [JBoss Drools][1] work well for several clients. In addition, based upon your requirements, you might also want to consider some type of event stream processing to allow real-time fraud flagging. The only open-source product I&#39;ve seen in this space is [Esper][2], although a bunch of other COTS (Commercial-Off-the-Shelf,) tools you may already have in place are being re-calibrated to address this need as well.\r\n\r\n\r\n  [1]: http://www.jboss.org/drools/\r\n  [2]: http://esper.codehaus.org/","title":"Is Rules Engine a right choice for implementing fraud rules?","body":"<p>An enterprise business rules engine (BRE) would be the appropriate place to capture and evaluate fraud rules. If you're going use open-source Java EE, I've seen <a href=\"http://www.jboss.org/drools/\" rel=\"nofollow noreferrer\">JBoss Drools</a> work well for several clients. In addition, based upon your requirements, you might also want to consider some type of event stream processing to allow real-time fraud flagging. The only open-source product I've seen in this space is <a href=\"http://esper.codehaus.org/\" rel=\"nofollow noreferrer\">Esper</a>, although a bunch of other COTS (Commercial-Off-the-Shelf,) tools you may already have in place are being re-calibrated to address this need as well.</p>\n"}],"owner":{"account_id":113431,"reputation":1914,"user_id":298727,"accept_rate":95,"display_name":"sarahTheButterFly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6239699,"answer_count":1,"score":2,"last_activity_date":1643019739,"creation_date":1307224226,"question_id":6239618,"body_markdown":"I&#39;m building an enterprise application which has fraud rules. The rules will be based on a matrix, for example, how many times a user used this service in a month, is the total transaction amount exceeds a certain amount, what funding source does he use, etc? \r\n\r\nIs rules engine the right choice for implementing fraud rules? What is the right choice for a Java EE6 application running in glassfishV3? And my boss doesn&#39;t want to spend money on it unfortunately, so has to be open source. \r\n\r\nThanks in advance. ","title":"Is Rules Engine a right choice for implementing fraud rules?","body":"<p>I'm building an enterprise application which has fraud rules. The rules will be based on a matrix, for example, how many times a user used this service in a month, is the total transaction amount exceeds a certain amount, what funding source does he use, etc? </p>\n\n<p>Is rules engine the right choice for implementing fraud rules? What is the right choice for a Java EE6 application running in glassfishV3? And my boss doesn't want to spend money on it unfortunately, so has to be open source. </p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["java","proguard","maven-shade-plugin","uberjar"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1565820186,"post_id":57502298,"comment_id":101474170,"body_markdown":"It feels to me like ProGuard is looking for the package `javax.mail` but can&#39;t find it.  Either put `javax.mail` on your class path or configure ProGuard to ignore that particular package.  I&#39;m guessing though, caveat emptor.","body":"It feels to me like ProGuard is looking for the package <code>javax.mail</code> but can&#39;t find it.  Either put <code>javax.mail</code> on your class path or configure ProGuard to ignore that particular package.  I&#39;m guessing though, caveat emptor."},{"owner":{"account_id":16510336,"reputation":11,"user_id":11929294,"display_name":"Rub&#233;n Barbosa Toro"},"score":0,"creation_date":1565891094,"post_id":57502298,"comment_id":101495863,"body_markdown":"It seems that the problem was in the shade stage. I specified org.freemarker when the correct one was freemarker. The build now complete correctly but the question is still there &#191;Why is looking for library classes when the uberjar is supossed to have all of them? Another mistery to research for.","body":"It seems that the problem was in the shade stage. I specified org.freemarker when the correct one was freemarker. The build now complete correctly but the question is still there &#191;Why is looking for library classes when the uberjar is supossed to have all of them? Another mistery to research for."},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1566447018,"post_id":57502298,"comment_id":101660497,"body_markdown":"how about  obfuscate your code first then create uber jar, you gain nothing in obfuscating library jars","body":"how about  obfuscate your code first then create uber jar, you gain nothing in obfuscating library jars"},{"owner":{"account_id":16510336,"reputation":11,"user_id":11929294,"display_name":"Rub&#233;n Barbosa Toro"},"score":0,"creation_date":1566455809,"post_id":57502298,"comment_id":101662961,"body_markdown":"Yes, that was my first idea. But for I couldn&#39;t get that to work, it package everything like no ofuscation ever happened.\nFor the moment I&#39;m ignoring the library jars using `-keep class !com.mycompany.**,!com.mycompany.** { *; }`. The stage duration is about 4 minutes and the result is a .jar of 30mb. I&#39;m pretty sure that it can be optimized, probably like you suggest. I&#39;ll try to make time, try that again and coming back with the results. Thank you.","body":"Yes, that was my first idea. But for I couldn&#39;t get that to work, it package everything like no ofuscation ever happened. For the moment I&#39;m ignoring the library jars using <code>-keep class !com.mycompany.**,!com.mycompany.** { *; }</code>. The stage duration is about 4 minutes and the result is a .jar of 30mb. I&#39;m pretty sure that it can be optimized, probably like you suggest. I&#39;ll try to make time, try that again and coming back with the results. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":24035935,"reputation":1,"user_id":18016227,"display_name":"01x4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643019447,"creation_date":1643019447,"answer_id":70832204,"question_id":57502298,"body_markdown":"I had the same issue within a larger Maven project.  \r\nI fixed it by adding `javax.servlet.jsp` so that Proguard could then find the missing superclass(es).  \r\nDue to my project nature, I added that as Maven dependency in `pom.xml`:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n  &lt;version&gt;2.3.3&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n---\r\n#### TL;DR (how I got there)\r\n- Download the latest (at time of writing) `freemarker-2.3.31-sources.jar` from its [mvn repo](https://repo1.maven.org/maven2/org/freemarker/freemarker/2.3.31/)\r\n- explode its contents by `jar xf freemarker-2.3.31-sources.jar` console command\r\n- explore resulted tree to `freemarker\\ext\\jsp\\TagTransformModel.java`\r\n- `getWriter(Writer out, Map args)` method uses `JspWriter`, coming from `import javax.servlet.jsp` at L31\r\n- It is available from its [mvn repo](https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api/2.3.3), hence the newly included dependency in the solution above.\r\n","title":"Problems obfuscating with ProGuard an uberjar","body":"<p>I had the same issue within a larger Maven project.<br />\nI fixed it by adding <code>javax.servlet.jsp</code> so that Proguard could then find the missing superclass(es).<br />\nDue to my project nature, I added that as Maven dependency in <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.3&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<h4>TL;DR (how I got there)</h4>\n<ul>\n<li>Download the latest (at time of writing) <code>freemarker-2.3.31-sources.jar</code> from its <a href=\"https://repo1.maven.org/maven2/org/freemarker/freemarker/2.3.31/\" rel=\"nofollow noreferrer\">mvn repo</a></li>\n<li>explode its contents by <code>jar xf freemarker-2.3.31-sources.jar</code> console command</li>\n<li>explore resulted tree to <code>freemarker\\ext\\jsp\\TagTransformModel.java</code></li>\n<li><code>getWriter(Writer out, Map args)</code> method uses <code>JspWriter</code>, coming from <code>import javax.servlet.jsp</code> at L31</li>\n<li>It is available from its <a href=\"https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api/2.3.3\" rel=\"nofollow noreferrer\">mvn repo</a>, hence the newly included dependency in the solution above.</li>\n</ul>\n"}],"owner":{"account_id":16510336,"reputation":11,"user_id":11929294,"display_name":"Rub&#233;n Barbosa Toro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643019447,"creation_date":1565818054,"question_id":57502298,"body_markdown":"I have built a fairly big framework around third party libraries like TestNG, Selenium and so on.  \r\nAs a requirement I&#39;m required to obfuscate the code before distributing it.  \r\nTo distribute the code, I have to create a single jar with all it&#39;s dependencies, which I did without problems with maven-shade.  \r\nThe problem begins when trying to do some light obfuscation, using ProGuard, on it which I have not obfuscating the jar without the dependencies (omiting the shade stage).\r\n\r\nI&#39;m using the following settings in the POM. \r\n \r\n**Shade stage**\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.2.1&lt;/version&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;phase&gt;package&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;shade&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n      &lt;configuration&gt;\r\n        &lt;transformers&gt;\r\n            &lt;transformerimplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n            &lt;mainClass&gt;com.mycompany.main.Init&lt;/mainClass&gt;\r\n          &lt;/transformer&gt;\r\n        &lt;/transformers&gt;\r\n        &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n        &lt;filters&gt;\r\n          &lt;filter&gt;\r\n            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n            &lt;excludes&gt;\r\n              &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n              &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n              &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n          &lt;/filter&gt;\r\n          &lt;filter&gt;\r\n            &lt;artifact&gt;com.google.inject:guice&lt;/artifact&gt;\r\n            &lt;includes&gt;\r\n              &lt;include&gt;**&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n          &lt;/filter&gt;\r\n          &lt;filter&gt;\r\n            &lt;artifact&gt;org.apache.xmlbeans:xmlbeans&lt;/artifact&gt;\r\n            &lt;includes&gt;\r\n              &lt;include&gt;**&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n          &lt;/filter&gt;\r\n          &lt;filter&gt;\r\n            &lt;artifact&gt;org.freemarker:freemarker&lt;/artifact&gt;\r\n            &lt;includes&gt;\r\n              &lt;include&gt;**&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n          &lt;/filter&gt;\r\n          &lt;filter&gt;\r\n            &lt;artifact&gt;org.apache.poi:poi-ooxml-schemas&lt;/artifact&gt;\r\n            &lt;includes&gt;\r\n              &lt;include&gt;**&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n          &lt;/filter&gt;\r\n        &lt;/filters&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n**ProGuard stage**\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\r\n  &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.1&lt;/version&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;phase&gt;package&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;proguard&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n  &lt;configuration&gt;\r\n    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\r\n    &lt;outjar&gt;${project.build.finalName}-uber.jar&lt;/outjar&gt;\r\n    &lt;inFilter&gt;!META-INF/versions/9/**.class&lt;/inFilter&gt;\r\n    &lt;options&gt;\r\n      &lt;option&gt;-dontshrink&lt;/option&gt;\r\n      &lt;option&gt;-keep class !com.mycompany.**,!com.mycompany.** { *; }&lt;/option&gt;\r\n      &lt;option&gt;-keep class io.**&lt;/option&gt;\r\n      &lt;option&gt;-keep class org.**&lt;/option&gt;\r\n      &lt;option&gt;-keep class com.google.**&lt;/option&gt;\r\n      &lt;option&gt;-keep class freemarker.**&lt;/option&gt;\r\n      &lt;option&gt;-keep class javax.**&lt;/option&gt;\r\n      &lt;option&gt;-keep class com.sun.**&lt;/option&gt;\r\n      &lt;option&gt;-keep class com.jacob.**&lt;/option&gt;\r\n      &lt;option&gt;-keep class net.**&lt;/option&gt;\r\n      &lt;option&gt;-keep class com.google.**&lt;/option&gt;\r\n      &lt;option&gt;-ignorewarnings&lt;/option&gt;\r\n      &lt;option&gt;-keepdirectories&lt;/option&gt;\r\n      &lt;option&gt;-dontnote&lt;/option&gt;\r\n      &lt;option&gt;-dontwarn org.**&lt;/option&gt;\r\n      &lt;option&gt;-dontwarn io.**&lt;/option&gt;\r\n      &lt;option&gt;-dontwarn com.fasterxml.**&lt;/option&gt;\r\n      &lt;option&gt;-dontwarn okio.**&lt;/option&gt;\r\n      &lt;option&gt;-dontwarn okhttp3.**&lt;/option&gt;\r\n      &lt;option&gt;-dontwarn freemarker.**&lt;/option&gt;\r\n      &lt;option&gt;-dontwarn com.microsoft.**&lt;/option&gt;\r\n      &lt;option&gt;-libraryjars ${java.home}/lib/rt.jar&lt;/option&gt;\r\n      &lt;option&gt;-libraryjars ${java.home}/lib/jce.jar&lt;/option&gt;\r\n      &lt;option&gt;-allowaccessmodification&lt;/option&gt;\r\n    &lt;/options&gt;\r\n    &lt;obfuscate&gt;true&lt;/obfuscate&gt;\r\n  &lt;/configuration&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;\r\n      &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\r\n      &lt;version&gt;6.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n**The returned Stacktrace (Partial)**\r\n\r\n    [proguard] Warning: library class javax.mail.search.SearchException extends or implements program class javax.mail.MessagingException\r\n    [proguard] Warning: library class javax.mail.search.StringTerm extends or implements program class javax.mail.search.SearchTerm\r\n    [proguard] Warning: library class javax.mail.util.ByteArrayDataSource extends or implements program class javax.activation.DataSource\r\n    [proguard] Warning: library class javax.mail.util.SharedFileInputStream extends or implements program class javax.mail.internet.SharedInputStream\r\n    [proguard] Warning: there were 369 instances of library classes depending on program classes.\r\n    [proguard]          You must avoid such dependencies, since the program classes will\r\n    [proguard]          be processed, while the library classes will remain unchanged.\r\n    [proguard]          (http://proguard.sourceforge.net/manual/troubleshooting.html#dependency)\r\n    [proguard] Unexpected error while performing partial evaluation:\r\n    [proguard]   Class       = [freemarker/ext/jsp/TagTransformModel]\r\n    [proguard]   Method      = [getWriter(Ljava/io/Writer;Ljava/util/Map;)Ljava/io/Writer;]\r\n    [proguard]   Exception   = [java.lang.IllegalArgumentException] (Can&#39;t find common super class of [freemarker/ext/jsp/JspWriterAdapter] (with 1 known super classes) and [java/io/Writer] (with 2 known super classes))\r\n    [proguard] Error: java.lang.IllegalArgumentException: Can&#39;t find common super class of [freemarker/ext/jsp/JspWriterAdapter] (with 1 known super classes) and [java/io/Writer] (with 2 known super classes)\r\n\r\n\r\nI&#39;m guessing that the problem resides in ProGuard trying to get the dependencies from outside of the .jar instead of using only the ones inside but I have no clue, and coulnd&#39;t found one, if there is a way of making ProGuard use the libraries inside on the uberjar or, maybe, I&#39;m wrong with the way I&#39;m trying to obfuscate the jar","title":"Problems obfuscating with ProGuard an uberjar","body":"<p>I have built a fairly big framework around third party libraries like TestNG, Selenium and so on.<br>\nAs a requirement I'm required to obfuscate the code before distributing it.<br>\nTo distribute the code, I have to create a single jar with all it's dependencies, which I did without problems with maven-shade.<br>\nThe problem begins when trying to do some light obfuscation, using ProGuard, on it which I have not obfuscating the jar without the dependencies (omiting the shade stage).</p>\n\n<p>I'm using the following settings in the POM. </p>\n\n<p><strong>Shade stage</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.2.1&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;shade&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;transformers&gt;\n            &lt;transformerimplementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n            &lt;mainClass&gt;com.mycompany.main.Init&lt;/mainClass&gt;\n          &lt;/transformer&gt;\n        &lt;/transformers&gt;\n        &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n        &lt;filters&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;*:*&lt;/artifact&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n              &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n              &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n            &lt;/excludes&gt;\n          &lt;/filter&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;com.google.inject:guice&lt;/artifact&gt;\n            &lt;includes&gt;\n              &lt;include&gt;**&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/filter&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;org.apache.xmlbeans:xmlbeans&lt;/artifact&gt;\n            &lt;includes&gt;\n              &lt;include&gt;**&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/filter&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;org.freemarker:freemarker&lt;/artifact&gt;\n            &lt;includes&gt;\n              &lt;include&gt;**&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/filter&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;org.apache.poi:poi-ooxml-schemas&lt;/artifact&gt;\n            &lt;includes&gt;\n              &lt;include&gt;**&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/filter&gt;\n        &lt;/filters&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><strong>ProGuard stage</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\n  &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.1.1&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;proguard&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n  &lt;configuration&gt;\n    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\n    &lt;outjar&gt;${project.build.finalName}-uber.jar&lt;/outjar&gt;\n    &lt;inFilter&gt;!META-INF/versions/9/**.class&lt;/inFilter&gt;\n    &lt;options&gt;\n      &lt;option&gt;-dontshrink&lt;/option&gt;\n      &lt;option&gt;-keep class !com.mycompany.**,!com.mycompany.** { *; }&lt;/option&gt;\n      &lt;option&gt;-keep class io.**&lt;/option&gt;\n      &lt;option&gt;-keep class org.**&lt;/option&gt;\n      &lt;option&gt;-keep class com.google.**&lt;/option&gt;\n      &lt;option&gt;-keep class freemarker.**&lt;/option&gt;\n      &lt;option&gt;-keep class javax.**&lt;/option&gt;\n      &lt;option&gt;-keep class com.sun.**&lt;/option&gt;\n      &lt;option&gt;-keep class com.jacob.**&lt;/option&gt;\n      &lt;option&gt;-keep class net.**&lt;/option&gt;\n      &lt;option&gt;-keep class com.google.**&lt;/option&gt;\n      &lt;option&gt;-ignorewarnings&lt;/option&gt;\n      &lt;option&gt;-keepdirectories&lt;/option&gt;\n      &lt;option&gt;-dontnote&lt;/option&gt;\n      &lt;option&gt;-dontwarn org.**&lt;/option&gt;\n      &lt;option&gt;-dontwarn io.**&lt;/option&gt;\n      &lt;option&gt;-dontwarn com.fasterxml.**&lt;/option&gt;\n      &lt;option&gt;-dontwarn okio.**&lt;/option&gt;\n      &lt;option&gt;-dontwarn okhttp3.**&lt;/option&gt;\n      &lt;option&gt;-dontwarn freemarker.**&lt;/option&gt;\n      &lt;option&gt;-dontwarn com.microsoft.**&lt;/option&gt;\n      &lt;option&gt;-libraryjars ${java.home}/lib/rt.jar&lt;/option&gt;\n      &lt;option&gt;-libraryjars ${java.home}/lib/jce.jar&lt;/option&gt;\n      &lt;option&gt;-allowaccessmodification&lt;/option&gt;\n    &lt;/options&gt;\n    &lt;obfuscate&gt;true&lt;/obfuscate&gt;\n  &lt;/configuration&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;\n      &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\n      &lt;version&gt;6.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><strong>The returned Stacktrace (Partial)</strong></p>\n\n<pre><code>[proguard] Warning: library class javax.mail.search.SearchException extends or implements program class javax.mail.MessagingException\n[proguard] Warning: library class javax.mail.search.StringTerm extends or implements program class javax.mail.search.SearchTerm\n[proguard] Warning: library class javax.mail.util.ByteArrayDataSource extends or implements program class javax.activation.DataSource\n[proguard] Warning: library class javax.mail.util.SharedFileInputStream extends or implements program class javax.mail.internet.SharedInputStream\n[proguard] Warning: there were 369 instances of library classes depending on program classes.\n[proguard]          You must avoid such dependencies, since the program classes will\n[proguard]          be processed, while the library classes will remain unchanged.\n[proguard]          (http://proguard.sourceforge.net/manual/troubleshooting.html#dependency)\n[proguard] Unexpected error while performing partial evaluation:\n[proguard]   Class       = [freemarker/ext/jsp/TagTransformModel]\n[proguard]   Method      = [getWriter(Ljava/io/Writer;Ljava/util/Map;)Ljava/io/Writer;]\n[proguard]   Exception   = [java.lang.IllegalArgumentException] (Can't find common super class of [freemarker/ext/jsp/JspWriterAdapter] (with 1 known super classes) and [java/io/Writer] (with 2 known super classes))\n[proguard] Error: java.lang.IllegalArgumentException: Can't find common super class of [freemarker/ext/jsp/JspWriterAdapter] (with 1 known super classes) and [java/io/Writer] (with 2 known super classes)\n</code></pre>\n\n<p>I'm guessing that the problem resides in ProGuard trying to get the dependencies from outside of the .jar instead of using only the ones inside but I have no clue, and coulnd't found one, if there is a way of making ProGuard use the libraries inside on the uberjar or, maybe, I'm wrong with the way I'm trying to obfuscate the jar</p>\n"},{"tags":["java","elasticsearch","elasticsearch-high-level-restclient"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1643018911,"post_id":70831724,"comment_id":125219697,"body_markdown":"which version of ES ?","body":"which version of ES ?"},{"owner":{"account_id":1456613,"reputation":375,"user_id":1372030,"accept_rate":91,"display_name":"Eric"},"score":0,"creation_date":1643019067,"post_id":70831724,"comment_id":125219754,"body_markdown":"Server is 7.13.2, client is 7.12.1. I also tried with client 7.15.0 with the same result","body":"Server is 7.13.2, client is 7.12.1. I also tried with client 7.15.0 with the same result"},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1643019491,"post_id":70831724,"comment_id":125219909,"body_markdown":"I have post code below which deprecated for 7.15 version.","body":"I have post code below which deprecated for 7.15 version."}],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643019399,"creation_date":1643019399,"answer_id":70832198,"question_id":70831724,"body_markdown":"Please check [List Task API][1].\r\n\r\nYou can use below Java code for geeting task Failure information:\r\n\r\n    ListTasksRequest request = new ListTasksRequest();\r\n    request.setActions(&quot;cluster:*&quot;); \r\n    request.setNodes(&quot;nodeId1&quot;, &quot;nodeId2&quot;); \r\n    request.setParentTaskId(new TaskId(&quot;parentTaskId&quot;, 42)); \r\n    ListTasksResponse responseTask = client.tasks().list(request,RequestOptions.DEFAULT);\r\n    List&lt;TaskOperationFailure&gt; taskFailures = response.getTaskFailures();\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-tasks-list.html\r\n","title":"How to know if a reindex from remote task is sucessful or failed in elasticsearch using the java high level rest API","body":"<p>Please check <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-tasks-list.html\" rel=\"nofollow noreferrer\">List Task API</a>.</p>\n<p>You can use below Java code for geeting task Failure information:</p>\n<pre><code>ListTasksRequest request = new ListTasksRequest();\nrequest.setActions(&quot;cluster:*&quot;); \nrequest.setNodes(&quot;nodeId1&quot;, &quot;nodeId2&quot;); \nrequest.setParentTaskId(new TaskId(&quot;parentTaskId&quot;, 42)); \nListTasksResponse responseTask = client.tasks().list(request,RequestOptions.DEFAULT);\nList&lt;TaskOperationFailure&gt; taskFailures = response.getTaskFailures();\n</code></pre>\n"}],"owner":{"account_id":1456613,"reputation":375,"user_id":1372030,"accept_rate":91,"display_name":"Eric"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643019399,"creation_date":1643017132,"question_id":70831724,"body_markdown":"I&#39;m using the ElasticSeach highlevel rest api client to do some custom reindexing from another cluster. \r\n\r\n```java\r\n    ReindexRequest reindexRequest = new ReindexRequest()\r\n        .setMaxDocs(3000)\r\n        .setDestIndex(&quot;my-new-index&quot;)\r\n        .setTimeout(TimeValue.timeValueHours(1))\r\n        .setRemoteInfo(\r\n            new RemoteInfo(&quot;http&quot;, &quot;otherhost&quot;, 9200, &quot;/&quot;,\r\n                new BytesArray(selectQuery.toString()), &quot;user&quot;,\r\n                &quot;password&quot;,\r\n                Map.of()), TimeValue.timeValueSeconds(30),\r\n                TimeValue.timeValueSeconds(30)))\r\n        .setSourceIndices(&quot;old-index&quot;)\r\n        .setScript(new Script(ScriptType.STORED, null, &quot;add_sc_id&quot;, Map.of(&quot;sc_id&quot;, some-id)));\r\n\r\n      TaskSubmissionResponse task = esClient.submitReindexTask(reindexRequest, RequestOptions.DEFAULT);\r\n```\r\n\r\nI periodically check the task to see if it&#39;s done or not using the task API\r\n\r\n```java\r\nOptional&lt;GetTaskResponse&gt; getTaskResponse =\r\n            esClient.tasks().get(new GetTaskRequest(nodeId, taskId), RequestOptions.DEFAULT);\r\n```\r\n\r\nUsing this, I can see if the task is completed with `getTaskResponse.get().isCompleted()` but I don&#39;t see anyway to check if it&#39;s successful or not.\r\n\r\nBy doing the `GET _taks/nodeId:taskId` with curl, I see there is a `response.failures` field. \r\n\r\nIs there a way to retrieve this field with the Java High level rest api client? Or is there another way to achieve this?\r\n","title":"How to know if a reindex from remote task is sucessful or failed in elasticsearch using the java high level rest API","body":"<p>I'm using the ElasticSeach highlevel rest api client to do some custom reindexing from another cluster.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ReindexRequest reindexRequest = new ReindexRequest()\n        .setMaxDocs(3000)\n        .setDestIndex(&quot;my-new-index&quot;)\n        .setTimeout(TimeValue.timeValueHours(1))\n        .setRemoteInfo(\n            new RemoteInfo(&quot;http&quot;, &quot;otherhost&quot;, 9200, &quot;/&quot;,\n                new BytesArray(selectQuery.toString()), &quot;user&quot;,\n                &quot;password&quot;,\n                Map.of()), TimeValue.timeValueSeconds(30),\n                TimeValue.timeValueSeconds(30)))\n        .setSourceIndices(&quot;old-index&quot;)\n        .setScript(new Script(ScriptType.STORED, null, &quot;add_sc_id&quot;, Map.of(&quot;sc_id&quot;, some-id)));\n\n      TaskSubmissionResponse task = esClient.submitReindexTask(reindexRequest, RequestOptions.DEFAULT);\n</code></pre>\n<p>I periodically check the task to see if it's done or not using the task API</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;GetTaskResponse&gt; getTaskResponse =\n            esClient.tasks().get(new GetTaskRequest(nodeId, taskId), RequestOptions.DEFAULT);\n</code></pre>\n<p>Using this, I can see if the task is completed with <code>getTaskResponse.get().isCompleted()</code> but I don't see anyway to check if it's successful or not.</p>\n<p>By doing the <code>GET _taks/nodeId:taskId</code> with curl, I see there is a <code>response.failures</code> field.</p>\n<p>Is there a way to retrieve this field with the Java High level rest api client? Or is there another way to achieve this?</p>\n"},{"tags":["java","rest","android-studio","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1643027861,"post_id":70831853,"comment_id":125222950,"body_markdown":"If you understand Kotlin, I think this [repo](https://github.com/alexmamo/FireApp/tree/master/app/src/main/java/ro/alexmamo/firebase/main/profile/movies) will help.","body":"If you understand Kotlin, I think this <a href=\"https://github.com/alexmamo/FireApp/tree/master/app/src/main/java/ro/alexmamo/firebase/main/profile/movies\" rel=\"nofollow noreferrer\">repo</a> will help."}],"answers":[{"tags":[],"owner":{"account_id":14285405,"reputation":140,"user_id":10318865,"display_name":"Muhammad Haseeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643018472,"creation_date":1643018472,"answer_id":70832015,"question_id":70831853,"body_markdown":"You need to [check this tutorial][1] here for better understanding on how you can achieve the behavior that you want.\r\n\r\nIn case of handling the `onClickListener` from your activity you need to work based on a callback implementation with an interface. Pass the interface from the activity to your adapter and then call the callback function from your adapter when some items are clicked.\r\n\r\nHere&#39;s a sample implementation from the tutorial.\r\n\r\nLet us first have the interface.\r\n\r\n\r\n      public interface OnItemClickListener {\r\n        void onItemClick(ContentItem item);\r\n    }\r\n\r\nYou need to modify your adapter to take the listener as the parameter like the one stated below.\r\n\r\n    private final List&lt;ContentItem&gt; items;\r\n    private final OnItemClickListener listener;\r\n    \r\n    public ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\r\n        this.items = items;\r\n        this.listener = listener;\r\n    }\r\n\r\nNow in your `onBindViewHolder` method, set the click listener.\r\n\r\n    @Override public void onBindViewHolder(ViewHolder holder, int position) {\r\n        holder.bind(items.get(position), listener);\r\n    }\r\n    \r\n    public void bind(final ContentItem item, final OnItemClickListener listener) {\r\n        ...\r\n        itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override public void onClick(View v) {\r\n                listener.onItemClick(item);\r\n            }\r\n        });\r\n    }\r\n\r\nNow Setting the Adapter in Your `RecylerView`\r\n\r\n    recycler.setAdapter(new ContentAdapter(items, new ContentAdapter.OnItemClickListener() {\r\n        @Override public void onItemClick(ContentItem item) {\r\n            Toast.makeText(getContext(), &quot;Item Clicked&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }));\r\n\r\nHere you get the Adapater Code like this:\r\n\r\n    public class ContentAdapter extends RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt; {\r\n    \r\n        public interface OnItemClickListener {\r\n            void onItemClick(ContentItem item);\r\n        }\r\n    \r\n        private final List&lt;ContentItem&gt; items;\r\n        private final OnItemClickListener listener;\r\n    \r\n        public ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\r\n            this.items = items;\r\n            this.listener = listener;\r\n        }\r\n    \r\n        @Override public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.view_item, parent, false);\r\n            return new ViewHolder(v);\r\n        }\r\n    \r\n        @Override public void onBindViewHolder(ViewHolder holder, int position) {\r\n            holder.bind(items.get(position), listener);\r\n        }\r\n    \r\n        @Override public int getItemCount() {\r\n            return items.size();\r\n        }\r\n    \r\n        static class ViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            private TextView name;\r\n            private ImageView image;\r\n    \r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n                name = (TextView) itemView.findViewById(R.id.name);\r\n                image = (ImageView) itemView.findViewById(R.id.image);\r\n            }\r\n    \r\n            public void bind(final ContentItem item, final OnItemClickListener listener) {\r\n                name.setText(item.name);\r\n                Picasso.with(itemView.getContext()).load(item.imageUrl).into(image);\r\n                itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override public void onClick(View v) {\r\n                        listener.onItemClick(item);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://antonioleiva.com/recyclerview-listener/","title":"Getting specific user info on button click","body":"<p>You need to <a href=\"https://antonioleiva.com/recyclerview-listener/\" rel=\"nofollow noreferrer\">check this tutorial</a> here for better understanding on how you can achieve the behavior that you want.</p>\n<p>In case of handling the <code>onClickListener</code> from your activity you need to work based on a callback implementation with an interface. Pass the interface from the activity to your adapter and then call the callback function from your adapter when some items are clicked.</p>\n<p>Here's a sample implementation from the tutorial.</p>\n<p>Let us first have the interface.</p>\n<pre><code>  public interface OnItemClickListener {\n    void onItemClick(ContentItem item);\n}\n</code></pre>\n<p>You need to modify your adapter to take the listener as the parameter like the one stated below.</p>\n<pre><code>private final List&lt;ContentItem&gt; items;\nprivate final OnItemClickListener listener;\n\npublic ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\n    this.items = items;\n    this.listener = listener;\n}\n</code></pre>\n<p>Now in your <code>onBindViewHolder</code> method, set the click listener.</p>\n<pre><code>@Override public void onBindViewHolder(ViewHolder holder, int position) {\n    holder.bind(items.get(position), listener);\n}\n\npublic void bind(final ContentItem item, final OnItemClickListener listener) {\n    ...\n    itemView.setOnClickListener(new View.OnClickListener() {\n        @Override public void onClick(View v) {\n            listener.onItemClick(item);\n        }\n    });\n}\n</code></pre>\n<p>Now Setting the Adapter in Your <code>RecylerView</code></p>\n<pre><code>recycler.setAdapter(new ContentAdapter(items, new ContentAdapter.OnItemClickListener() {\n    @Override public void onItemClick(ContentItem item) {\n        Toast.makeText(getContext(), &quot;Item Clicked&quot;, Toast.LENGTH_LONG).show();\n    }\n}));\n</code></pre>\n<p>Here you get the Adapater Code like this:</p>\n<pre><code>public class ContentAdapter extends RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt; {\n\n    public interface OnItemClickListener {\n        void onItemClick(ContentItem item);\n    }\n\n    private final List&lt;ContentItem&gt; items;\n    private final OnItemClickListener listener;\n\n    public ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\n        this.items = items;\n        this.listener = listener;\n    }\n\n    @Override public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.view_item, parent, false);\n        return new ViewHolder(v);\n    }\n\n    @Override public void onBindViewHolder(ViewHolder holder, int position) {\n        holder.bind(items.get(position), listener);\n    }\n\n    @Override public int getItemCount() {\n        return items.size();\n    }\n\n    static class ViewHolder extends RecyclerView.ViewHolder {\n\n        private TextView name;\n        private ImageView image;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            name = (TextView) itemView.findViewById(R.id.name);\n            image = (ImageView) itemView.findViewById(R.id.image);\n        }\n\n        public void bind(final ContentItem item, final OnItemClickListener listener) {\n            name.setText(item.name);\n            Picasso.with(itemView.getContext()).load(item.imageUrl).into(image);\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override public void onClick(View v) {\n                    listener.onItemClick(item);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643018472,"creation_date":1643017760,"question_id":70831853,"body_markdown":"I have this dummy app where i&#39;ve got a Recycler view which I populated with Data from my server. Every user has an Id, Picture and Name. \r\n\r\nThe profile pictures you see here are image buttons, When clicked I want to display a profile page with the specific data of the clicked user. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow do i tell the app that it should display the profile of the specific User that has been clicked? I just need the idea in words if possible you can use a dummy code example.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t1F21.png","title":"Getting specific user info on button click","body":"<p>I have this dummy app where i've got a Recycler view which I populated with Data from my server. Every user has an Id, Picture and Name.</p>\n<p>The profile pictures you see here are image buttons, When clicked I want to display a profile page with the specific data of the clicked user.</p>\n<p><a href=\"https://i.stack.imgur.com/t1F21.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t1F21.png\" alt=\"enter image description here\" /></a></p>\n<p>How do i tell the app that it should display the profile of the specific User that has been clicked? I just need the idea in words if possible you can use a dummy code example.</p>\n"},{"tags":["java","jwt","jose4j"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1639673337,"post_id":70380691,"comment_id":124414777,"body_markdown":"*for some reason verification still returns false* - you should at least log the exception and tell us the result. And can you please add a link to the example to which you refer? That would be helpful as well.","body":"<i>for some reason verification still returns false</i> - you should at least log the exception and tell us the result. And can you please add a link to the example to which you refer? That would be helpful as well."},{"owner":{"account_id":20726710,"reputation":63,"user_id":15219846,"display_name":"KoMaBeLu"},"score":0,"creation_date":1640081379,"post_id":70380691,"comment_id":124505127,"body_markdown":"@jps there is no exception, the `jws.verifySignature();` is returning the boolean value false, while it should be true. I&#39;ve added the link to the example in question","body":"@jps there is no exception, the <code>jws.verifySignature();</code> is returning the boolean value false, while it should be true. I&#39;ve added the link to the example in question"}],"answers":[{"tags":[],"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639677699,"creation_date":1639677699,"answer_id":70383663,"question_id":70380691,"body_markdown":"Try moving `jws.setPayload(payload);` down to after the `jws.setCompactSerialization(...);` line.  \r\nI *think* that `jws.setCompactSerialization(...);` is overwriting the payload to be the empty string, which would break the signature verification.   ","title":"Verifying JWS with detached payload using jose4j fails","body":"<p>Try moving <code>jws.setPayload(payload);</code> down to after the <code>jws.setCompactSerialization(...);</code> line.<br />\nI <em>think</em> that <code>jws.setCompactSerialization(...);</code> is overwriting the payload to be the empty string, which would break the signature verification.</p>\n"},{"tags":[],"owner":{"account_id":20726710,"reputation":63,"user_id":15219846,"display_name":"KoMaBeLu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643018377,"creation_date":1643018377,"answer_id":70831994,"question_id":70380691,"body_markdown":"Brian Campbell looked into this over on the jose4j Bitbucket, and this is his solution \r\n\r\n&gt; adding a jws.setEncodedPayload(null); right after jws.setCompactSerialization(signature); will make it work.\r\n\r\nApparently there is some inconsistency in my use case between the encoded/unencoded payload","title":"Verifying JWS with detached payload using jose4j fails","body":"<p>Brian Campbell looked into this over on the jose4j Bitbucket, and this is his solution</p>\n<blockquote>\n<p>adding a jws.setEncodedPayload(null); right after jws.setCompactSerialization(signature); will make it work.</p>\n</blockquote>\n<p>Apparently there is some inconsistency in my use case between the encoded/unencoded payload</p>\n"}],"owner":{"account_id":20726710,"reputation":63,"user_id":15219846,"display_name":"KoMaBeLu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70831994,"answer_count":2,"score":2,"last_activity_date":1643018377,"creation_date":1639664840,"question_id":70380691,"body_markdown":"I&#39;m having issues verifying a JWS with detached payload. I&#39;ve basically copied all steps in the [example provided][1] on the jose4j documentation but for some reason verification still returns false while it should succeed.\r\n\r\nHere&#39;s the code I&#39;m using, using latest version of jose4j. \r\n\r\n```\r\n// signature is the complete JWS in the form: &quot;JOSE Header&quot;..&quot;JWS Signature&quot;\r\n// payload is the unencoded JSON string that makes up the request body\r\npublic boolean verifySignature(String signature, String payload) {\r\n\r\n        JsonWebSignature jws = new JsonWebSignature();\r\n        jws.setKnownCriticalHeaders(critHeaders); //critical headers from documentation\r\n        //Algorithm as provided in documentation\r\n        jws.setAlgorithmConstraints(new AlgorithmConstraints(AlgorithmConstraints.ConstraintType.PERMIT, \r\n                                                            AlgorithmIdentifiers.ECDSA_USING_P256_CURVE_AND_SHA256));\r\n        jws.setPayload(payload);\r\n        try {\r\n            jws.setCompactSerialization(signature);\r\n            String keyId = jws.getKeyIdHeaderValue();\r\n            String keyType = jws.getKeyType();\r\n            String keyAlg = jws.getAlgorithmHeaderValue();\r\n            //Retrieve key from cached jwks\r\n            JsonWebKey usedKey = jwks.findJsonWebKey(keyId, keyType, &quot;sig&quot;, keyAlg);\r\n            jws.setKey(usedKey.getKey());\r\n            return jws.verifySignature();\r\n        } catch  (JoseException e) {\r\n            //log\r\n            return false;\r\n        }       \r\n    }\r\n```\r\n\r\n\r\n  [1]: https://bitbucket.org/b_c/jose4j/wiki/JWS%20Examples","title":"Verifying JWS with detached payload using jose4j fails","body":"<p>I'm having issues verifying a JWS with detached payload. I've basically copied all steps in the <a href=\"https://bitbucket.org/b_c/jose4j/wiki/JWS%20Examples\" rel=\"nofollow noreferrer\">example provided</a> on the jose4j documentation but for some reason verification still returns false while it should succeed.</p>\n<p>Here's the code I'm using, using latest version of jose4j.</p>\n<pre><code>// signature is the complete JWS in the form: &quot;JOSE Header&quot;..&quot;JWS Signature&quot;\n// payload is the unencoded JSON string that makes up the request body\npublic boolean verifySignature(String signature, String payload) {\n\n        JsonWebSignature jws = new JsonWebSignature();\n        jws.setKnownCriticalHeaders(critHeaders); //critical headers from documentation\n        //Algorithm as provided in documentation\n        jws.setAlgorithmConstraints(new AlgorithmConstraints(AlgorithmConstraints.ConstraintType.PERMIT, \n                                                            AlgorithmIdentifiers.ECDSA_USING_P256_CURVE_AND_SHA256));\n        jws.setPayload(payload);\n        try {\n            jws.setCompactSerialization(signature);\n            String keyId = jws.getKeyIdHeaderValue();\n            String keyType = jws.getKeyType();\n            String keyAlg = jws.getAlgorithmHeaderValue();\n            //Retrieve key from cached jwks\n            JsonWebKey usedKey = jwks.findJsonWebKey(keyId, keyType, &quot;sig&quot;, keyAlg);\n            jws.setKey(usedKey.getKey());\n            return jws.verifySignature();\n        } catch  (JoseException e) {\n            //log\n            return false;\n        }       \n    }\n</code></pre>\n"},{"tags":["java","eclipse-rcp","nattable"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643018342,"creation_date":1643018342,"answer_id":70831980,"question_id":70830536,"body_markdown":"The freeze state is based on positions. If you hide a row on the freeze border it is not possible to identify if the row that gets visible again was part of the frozen area or the non-frozen area. Currently the implementation interpretes that case as the new visible column belongs to the non-frozen area. This decision was made IIRC because typically the frozen area is non modifiable, means a user should not hide rows or columns interactively in a frozen area. At least for projects I worked in. That is of course discussable, but that is how it is right now. So if you need to support a fixed freeze border and allow hiding in the frozen area, you probably need to ensure via an event listener that on structural changes the freeze border stays at its fixed position.","title":"Freeze position is changing after hiding the freeze row - NatTable","body":"<p>The freeze state is based on positions. If you hide a row on the freeze border it is not possible to identify if the row that gets visible again was part of the frozen area or the non-frozen area. Currently the implementation interpretes that case as the new visible column belongs to the non-frozen area. This decision was made IIRC because typically the frozen area is non modifiable, means a user should not hide rows or columns interactively in a frozen area. At least for projects I worked in. That is of course discussable, but that is how it is right now. So if you need to support a fixed freeze border and allow hiding in the frozen area, you probably need to ensure via an event listener that on structural changes the freeze border stays at its fixed position.</p>\n"}],"owner":{"account_id":22581587,"reputation":7,"user_id":16766157,"display_name":"Ashray M V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70831980,"answer_count":1,"score":0,"last_activity_date":1643018342,"creation_date":1643010603,"question_id":70830536,"body_markdown":"I am using freeze, hide and showall on NatTable. When I perform freeze on any row, lets suppose 3rd row and hide that row, then the freeze indicator gets shifted to the previous row i.e 2nd row. And when I do showAll rows then the freeze indicator remains below the 2nd row. If I repeat the hiding of the freezed row and perform show all, at a point the freeze indicator will be above 1st row and then it disappears after repeating it once more.\r\n\r\n[Freeze performed on 3rd row][1] \r\n\r\n[Hiding the 3rd row][2]\r\n\r\n[Performing show all rows][3]\r\n\r\n  [1]: https://i.stack.imgur.com/luITj.png\r\n  [2]: https://i.stack.imgur.com/4XMWT.png\r\n  [3]: https://i.stack.imgur.com/l9ZWG.png\r\n\r\nIs it expected behaviour or an issue?\r\nIf it is an issue, how to resolve it?","title":"Freeze position is changing after hiding the freeze row - NatTable","body":"<p>I am using freeze, hide and showall on NatTable. When I perform freeze on any row, lets suppose 3rd row and hide that row, then the freeze indicator gets shifted to the previous row i.e 2nd row. And when I do showAll rows then the freeze indicator remains below the 2nd row. If I repeat the hiding of the freezed row and perform show all, at a point the freeze indicator will be above 1st row and then it disappears after repeating it once more.</p>\n<p><a href=\"https://i.stack.imgur.com/luITj.png\" rel=\"nofollow noreferrer\">Freeze performed on 3rd row</a></p>\n<p><a href=\"https://i.stack.imgur.com/4XMWT.png\" rel=\"nofollow noreferrer\">Hiding the 3rd row</a></p>\n<p><a href=\"https://i.stack.imgur.com/l9ZWG.png\" rel=\"nofollow noreferrer\">Performing show all rows</a></p>\n<p>Is it expected behaviour or an issue?\nIf it is an issue, how to resolve it?</p>\n"},{"tags":["java","jpackage","appimage"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1588680980,"post_id":61612710,"comment_id":108985908,"body_markdown":"were you looking for a `.dmg`?","body":"were you looking for a <code>.dmg</code>?"},{"owner":{"account_id":9445881,"reputation":148,"user_id":7024671,"display_name":"kxygk"},"score":1,"creation_date":1588681415,"post_id":61612710,"comment_id":108986180,"body_markdown":"No.. I didn&#39;t mention MacOS anywhere. This is AppImage","body":"No.. I didn&#39;t mention MacOS anywhere. This is AppImage"},{"owner":{"account_id":9445881,"reputation":148,"user_id":7024671,"display_name":"kxygk"},"score":0,"creation_date":1588681419,"post_id":61612710,"comment_id":108986183,"body_markdown":"https://en.wikipedia.org/wiki/AppImage","body":"<a href=\"https://en.wikipedia.org/wiki/AppImage\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/AppImage</a>"},{"owner":{"account_id":9445881,"reputation":148,"user_id":7024671,"display_name":"kxygk"},"score":0,"creation_date":1588681448,"post_id":61612710,"comment_id":108986202,"body_markdown":"Linux executable format.. That JPackage seems to be able to emit","body":"Linux executable format.. That JPackage seems to be able to emit"},{"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"score":5,"creation_date":1589034399,"post_id":61612710,"comment_id":109134020,"body_markdown":"I may be wrong but jpackage&#39;s concept of &#39;app-image&#39; isn&#39;t what you are looking for, ie it isn&#39;t an installable AppImage package. I think jpackage produces an app-image (a set of directories) that contains everything that can be packaged into an exe, deb, rpm etc. When you specify &#39;--type app-image&#39; I think you are asking for jpackage just to create an app-image set of directories and not create an installable package. See this for a discussion on making this clearer in jpackage in future: https://bugs.openjdk.java.net/browse/JDK-8225428 Or maybe I have got hold on the wrong end of the stick?","body":"I may be wrong but jpackage&#39;s concept of &#39;app-image&#39; isn&#39;t what you are looking for, ie it isn&#39;t an installable AppImage package. I think jpackage produces an app-image (a set of directories) that contains everything that can be packaged into an exe, deb, rpm etc. When you specify &#39;--type app-image&#39; I think you are asking for jpackage just to create an app-image set of directories and not create an installable package. See this for a discussion on making this clearer in jpackage in future: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8225428\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8225428</a> Or maybe I have got hold on the wrong end of the stick?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642766166,"creation_date":1642488061,"answer_id":70751271,"question_id":61612710,"body_markdown":"While [AppImage][1] is a desireable format it is not (yet) supported by JPackage. While the [JPackage Documentation][2] mentions a command line option app-image, it&#39;s meaning is different:\r\n\r\n*--app-image file path\r\n    Location of the predefined application image that is used to build an installable package (absolute path or relative to the current directory).\r\n    See create-app-image mode options to create the application image.*\r\n\r\nSo the app-image folder is just the folder where JPackage collects all the bits and pieces for an application before converting that into a native package like deb/msi/dmg. As a result, just do not get confused by the two different yet similarly named concepts.\r\n\r\nYour best approach is to use JPackage to assemble everything required (as it is the case for app-image), then take it from there with the tools provided by AppImage.org. Getting more concise:\r\n\r\nTell JPackage to exit after having created the app-image like so:\r\n\r\n    jpackage --type app-image --dest app-image ...\r\n\r\nThis will leave you will all files you need collected in the app-image directory. No, not all of them. For my OpenJDK (build 16.0.1+9-Ubuntu-120.04) the JPackage command forgets to create the launcher (*.desktop file), and when finishing the build to a debian package it forgets to install that file. See how [I got around that][3].\r\n\r\nFrom here you need to follow the [AppImage packaging guide][4] to create an AppDir directory structure before ultimately calling the packager. I copied the app-image directory into AppDir/usr and created a few symlinks in AppDir. Also needed to create the .desktop file. Most important is a symlink `AppDir/AppRun` pointing to the executable in AppDir/usr/bin/... The name of the symlink has to be AppRun.\r\n\r\nFinally follow [Manual packaging][5] and run the appimagetool. Information how to run it seems only on the [README.md][6]. I ended up with an executable with file extension .appimage.\r\n\r\nSet executable permissions on that file and run it.\r\n\r\n\r\n  [1]: https://appimage.org/\r\n  [2]: https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\r\n  [3]: https://stackoverflow.com/questions/70420618/jpackage-linux-creates-insufficient-desktop-file\r\n  [4]: https://docs.appimage.org/packaging-guide/index.html\r\n  [5]: https://docs.appimage.org/packaging-guide/manual.html\r\n  [6]: https://github.com/AppImage/AppImageKit/blob/master/README.md","title":"Using JPackage to make an AppImage","body":"<p>While <a href=\"https://appimage.org/\" rel=\"nofollow noreferrer\">AppImage</a> is a desireable format it is not (yet) supported by JPackage. While the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">JPackage Documentation</a> mentions a command line option app-image, it's meaning is different:</p>\n<p><em>--app-image file path\nLocation of the predefined application image that is used to build an installable package (absolute path or relative to the current directory).\nSee create-app-image mode options to create the application image.</em></p>\n<p>So the app-image folder is just the folder where JPackage collects all the bits and pieces for an application before converting that into a native package like deb/msi/dmg. As a result, just do not get confused by the two different yet similarly named concepts.</p>\n<p>Your best approach is to use JPackage to assemble everything required (as it is the case for app-image), then take it from there with the tools provided by AppImage.org. Getting more concise:</p>\n<p>Tell JPackage to exit after having created the app-image like so:</p>\n<pre><code>jpackage --type app-image --dest app-image ...\n</code></pre>\n<p>This will leave you will all files you need collected in the app-image directory. No, not all of them. For my OpenJDK (build 16.0.1+9-Ubuntu-120.04) the JPackage command forgets to create the launcher (*.desktop file), and when finishing the build to a debian package it forgets to install that file. See how <a href=\"https://stackoverflow.com/questions/70420618/jpackage-linux-creates-insufficient-desktop-file\">I got around that</a>.</p>\n<p>From here you need to follow the <a href=\"https://docs.appimage.org/packaging-guide/index.html\" rel=\"nofollow noreferrer\">AppImage packaging guide</a> to create an AppDir directory structure before ultimately calling the packager. I copied the app-image directory into AppDir/usr and created a few symlinks in AppDir. Also needed to create the .desktop file. Most important is a symlink <code>AppDir/AppRun</code> pointing to the executable in AppDir/usr/bin/... The name of the symlink has to be AppRun.</p>\n<p>Finally follow <a href=\"https://docs.appimage.org/packaging-guide/manual.html\" rel=\"nofollow noreferrer\">Manual packaging</a> and run the appimagetool. Information how to run it seems only on the <a href=\"https://github.com/AppImage/AppImageKit/blob/master/README.md\" rel=\"nofollow noreferrer\">README.md</a>. I ended up with an executable with file extension .appimage.</p>\n<p>Set executable permissions on that file and run it.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643018276,"creation_date":1642610694,"answer_id":70774514,"question_id":61612710,"body_markdown":"You only really need to use `jpackage --type app-image` if you wish to modify the contents of the installation directory contents before jpackage builds the installer as second step, or if you wish to run or test the release structure without making installation image.\r\n\r\nFor example on Windows I use `app-image` to local build directories as:\r\n\r\n    jpackage --type app-image --dest jpackage.dir ...\r\n\r\nThen I rename the generated EXE as SCR files so that I can use the executables as Windows Screensavers. You may have other changes to make here. You may save time later if you also test the applications in the app-image directories by launching as `jpackage.dir\\AppName\\xyz[.exe]` or `jpackage.dir/AppName/xyz`\r\n\r\nFinally apply the final jpackage stage to generate an installer from the modified app-image structure:\r\n\r\n    jpackage --app-image jpackage.dir/yourappname --type exe\r\n\r\nIn your case use pkg|dmg or other suitable value for `--type`. If you don&#39;t need to make modifications skip the `--type app-image` step and package directly to the archive format for your target environment.","title":"Using JPackage to make an AppImage","body":"<p>You only really need to use <code>jpackage --type app-image</code> if you wish to modify the contents of the installation directory contents before jpackage builds the installer as second step, or if you wish to run or test the release structure without making installation image.</p>\n<p>For example on Windows I use <code>app-image</code> to local build directories as:</p>\n<pre><code>jpackage --type app-image --dest jpackage.dir ...\n</code></pre>\n<p>Then I rename the generated EXE as SCR files so that I can use the executables as Windows Screensavers. You may have other changes to make here. You may save time later if you also test the applications in the app-image directories by launching as <code>jpackage.dir\\AppName\\xyz[.exe]</code> or <code>jpackage.dir/AppName/xyz</code></p>\n<p>Finally apply the final jpackage stage to generate an installer from the modified app-image structure:</p>\n<pre><code>jpackage --app-image jpackage.dir/yourappname --type exe\n</code></pre>\n<p>In your case use pkg|dmg or other suitable value for <code>--type</code>. If you don't need to make modifications skip the <code>--type app-image</code> step and package directly to the archive format for your target environment.</p>\n"}],"owner":{"account_id":9445881,"reputation":148,"user_id":7024671,"display_name":"kxygk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3174,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":70751271,"answer_count":2,"score":6,"last_activity_date":1643018276,"creation_date":1588680267,"question_id":61612710,"body_markdown":"I&#39;m trying to create an AppImage using JPackage (On a Ubuntu 18.04 System using OpenJDK 14)\r\n\r\nAll the examples I find are of the form\r\n\r\n```\r\njpackage --type app-image --name myappimage --input target  --main-jar myuberjar.jar  --main-class myapplication.core  --verbose\r\n```\r\nWhen I run this I get a directory `./myappimage/` and in `./myappimage/bin/` there is an executable that I can launch to run the application. But the whole thing isn&#39;t bundled into one AppImage file as I&#39;d like.\r\n\r\nWhat am I missing here?","title":"Using JPackage to make an AppImage","body":"<p>I'm trying to create an AppImage using JPackage (On a Ubuntu 18.04 System using OpenJDK 14)</p>\n\n<p>All the examples I find are of the form</p>\n\n<pre><code>jpackage --type app-image --name myappimage --input target  --main-jar myuberjar.jar  --main-class myapplication.core  --verbose\n</code></pre>\n\n<p>When I run this I get a directory <code>./myappimage/</code> and in <code>./myappimage/bin/</code> there is an executable that I can launch to run the application. But the whole thing isn't bundled into one AppImage file as I'd like.</p>\n\n<p>What am I missing here?</p>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1643016095,"post_id":70830779,"comment_id":125218661,"body_markdown":"Does `%02i` work as you expect it to?","body":"Does <code>%02i</code> work as you expect it to?"},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1643018197,"post_id":70830779,"comment_id":125219408,"body_markdown":"Great that it worked. I have created an answer based on that solution.","body":"Great that it worked. I have created an answer based on that solution."}],"answers":[{"tags":[],"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643018149,"creation_date":1643018149,"answer_id":70831939,"question_id":70830779,"body_markdown":"As described in the Log4J documentation for example here: https://logging.apache.org/log4j/2.x/manual/appenders.html for the `filePattern` field.\r\n\r\nThe `DefaultRolloverStrategy` will accept both a date/time pattern compatible with `SimpleDateFormat` and/or a `%i` which represents an integer counter. The integer counter allows specifying a padding, like `%3i` for space-padding the counter to 3 digits or (usually more useful) `%03i` for zero-padding the counter to 3 digits.\r\n\r\nSo in order for you to zero-pad your file counter with two digits you would use `%02i`.","title":"Adding trailing 0 in log4j (zip) file name","body":"<p>As described in the Log4J documentation for example here: <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/appenders.html</a> for the <code>filePattern</code> field.</p>\n<p>The <code>DefaultRolloverStrategy</code> will accept both a date/time pattern compatible with <code>SimpleDateFormat</code> and/or a <code>%i</code> which represents an integer counter. The integer counter allows specifying a padding, like <code>%3i</code> for space-padding the counter to 3 digits or (usually more useful) <code>%03i</code> for zero-padding the counter to 3 digits.</p>\n<p>So in order for you to zero-pad your file counter with two digits you would use <code>%02i</code>.</p>\n"}],"owner":{"account_id":1635471,"reputation":166,"user_id":1509097,"display_name":"ranban282"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70831939,"answer_count":1,"score":1,"last_activity_date":1643018149,"creation_date":1643012098,"question_id":70830779,"body_markdown":"I am using log4j to log data. I specify the zip file using an expression like \r\n```&lt;dir_name&gt;/$${date:yyyy-MM}/&lt;app_name&gt;-%d{yyyy-MM-dd}-%i.log.gz```\r\nThis works mostly as desired, except that I get a file name like\r\n```&lt;app_name&gt;-2022-01-20-1.log.gz```, \r\nwhile I want a leading zero before the 1. I am fairly certain that the number of log files will be in 2 digits, and having a leading zero helps in getting things in order while grepping across multiple files, and improves other sysadmin/debugging for the same reason.\r\n\r\nI tried using \r\n```&lt;dir_name&gt;/$${date:yyyy-MM}/&lt;app_name&gt;-%d{yyyy-MM-dd}-%ii.log.gz```, but it didn&#39;t work, not that I really expected it to. \r\n\r\nI couldn&#39;t find any documentation on what variant of %i (if any) results in a leading 0 in file name.\r\n\r\nAny help or hints, or links to log4j documentation which covers this would be appreciated.\r\n\r\n\r\n","title":"Adding trailing 0 in log4j (zip) file name","body":"<p>I am using log4j to log data. I specify the zip file using an expression like\n<code>&lt;dir_name&gt;/$${date:yyyy-MM}/&lt;app_name&gt;-%d{yyyy-MM-dd}-%i.log.gz</code>\nThis works mostly as desired, except that I get a file name like\n<code>&lt;app_name&gt;-2022-01-20-1.log.gz</code>,\nwhile I want a leading zero before the 1. I am fairly certain that the number of log files will be in 2 digits, and having a leading zero helps in getting things in order while grepping across multiple files, and improves other sysadmin/debugging for the same reason.</p>\n<p>I tried using\n<code>&lt;dir_name&gt;/$${date:yyyy-MM}/&lt;app_name&gt;-%d{yyyy-MM-dd}-%ii.log.gz</code>, but it didn't work, not that I really expected it to.</p>\n<p>I couldn't find any documentation on what variant of %i (if any) results in a leading 0 in file name.</p>\n<p>Any help or hints, or links to log4j documentation which covers this would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"answers":[{"tags":[],"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426252823,"creation_date":1426252823,"answer_id":29033295,"question_id":29032589,"body_markdown":"If you are using maven, you can pass test JVM args inside the failsafe plugin:\r\n\r\n` &lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          ...\r\n\t\t  &lt;configuration&gt;\t\t\t\t\t\t\t    \r\n            &lt;argLine&gt; whatever you want: -DhelloWorld=Test &lt;/argLine&gt;\r\n          &lt;/configuration&gt;\r\n          ...\r\n`\r\n\r\nYou can also set this JVM arguments based on the maven profile that your are executing:\r\n\r\n` &lt;profile&gt;\r\n        &lt;id&gt;dev&lt;/id&gt;\r\n        &lt;activation&gt;\r\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n        &lt;/activation&gt;\r\n        &lt;properties&gt;\r\n            &lt;!-- Development JVM arguments --&gt;\r\n            &lt;test-arguments&gt;-Dhello=true&lt;/test-arguments&gt;\r\n            &lt;!-- Default environment --&gt;\r\n            &lt;environment&gt;develop&lt;/environment&gt;\r\n        &lt;/properties&gt;\r\n  &lt;/profile&gt;\r\n    ...\r\n    &lt;plugin&gt;\r\n     &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          ...\r\n\t\t  &lt;configuration&gt;\t\t\t\t\t\t\t    \r\n            &lt;argLine&gt;${test-arguments}&lt;/argLine&gt;\r\n          &lt;/configuration&gt;\r\n          ...\r\n`","title":"spring boot testing - passing commandline arguments","body":"<p>If you are using maven, you can pass test JVM args inside the failsafe plugin:</p>\n\n<p><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          ...\n          &lt;configuration&gt;<br>\n            &lt;argLine&gt; whatever you want: -DhelloWorld=Test &lt;/argLine&gt;\n          &lt;/configuration&gt;\n          ...\n</code></p>\n\n<p>You can also set this JVM arguments based on the maven profile that your are executing:</p>\n\n<p><code>&lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;!-- Development JVM arguments --&gt;\n            &lt;test-arguments&gt;-Dhello=true&lt;/test-arguments&gt;\n            &lt;!-- Default environment --&gt;\n            &lt;environment&gt;develop&lt;/environment&gt;\n        &lt;/properties&gt;\n  &lt;/profile&gt;\n    ...\n    &lt;plugin&gt;\n     &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          ...\n          &lt;configuration&gt;<br>\n            &lt;argLine&gt;${test-arguments}&lt;/argLine&gt;\n          &lt;/configuration&gt;\n          ...\n</code></p>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599824054,"creation_date":1599824054,"answer_id":63846274,"question_id":29032589,"body_markdown":"Try setting inside the test class:\r\n\r\n    static {\r\n        System.setProperty(&quot;key&quot;, &quot;value&quot;);\r\n    }","title":"spring boot testing - passing commandline arguments","body":"<p>Try setting inside the test class:</p>\n<pre><code>static {\n    System.setProperty(&quot;key&quot;, &quot;value&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3618229,"reputation":21,"user_id":3017620,"display_name":"Yury Demidenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643018066,"creation_date":1643018066,"answer_id":70831919,"question_id":29032589,"body_markdown":"In spring 2X use:\r\n```\r\nmvn clean install -Darg1=val1 -Darg2=val2\r\n```\r\nand you will never get &quot;Could not resolve placeholder&quot; while using @Value property injection","title":"spring boot testing - passing commandline arguments","body":"<p>In spring 2X use:</p>\n<pre><code>mvn clean install -Darg1=val1 -Darg2=val2\n</code></pre>\n<p>and you will never get &quot;Could not resolve placeholder&quot; while using @Value property injection</p>\n"}],"owner":{"account_id":1549645,"reputation":1127,"user_id":1442357,"accept_rate":33,"display_name":"wjtk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4781,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1643018066,"creation_date":1426250711,"question_id":29032589,"body_markdown":"I have integration test with annotations on it:\r\n\r\n    @WebAppConfiguration\r\n    @ActiveProfiles(&quot;integration&quot;)\r\n    @ContextConfiguration(loader = SpringApplicationContextLoader, classes = [MyApplication])\r\n    @IntegrationTest([&quot;server.port=0&quot;])\r\n\r\nI can pass for example server.port property to test context, but is there any way to pass commandline arguments? My application is started like this normally:\r\n \r\n    public static final void main(String[] args) {\r\n        SpringApplication.run(AnkaraCollectorApplication.class, args);\r\n    }\r\n\r\nand I want to pass some args to test context. Is there any property for this?\r\n\r\n","title":"spring boot testing - passing commandline arguments","body":"<p>I have integration test with annotations on it:</p>\n\n<pre><code>@WebAppConfiguration\n@ActiveProfiles(\"integration\")\n@ContextConfiguration(loader = SpringApplicationContextLoader, classes = [MyApplication])\n@IntegrationTest([\"server.port=0\"])\n</code></pre>\n\n<p>I can pass for example server.port property to test context, but is there any way to pass commandline arguments? My application is started like this normally:</p>\n\n<pre><code>public static final void main(String[] args) {\n    SpringApplication.run(AnkaraCollectorApplication.class, args);\n}\n</code></pre>\n\n<p>and I want to pass some args to test context. Is there any property for this?</p>\n"},{"tags":["java","object","arraylist"],"comments":[{"owner":{"account_id":13773487,"reputation":608,"user_id":10707187,"display_name":"midugh"},"score":0,"creation_date":1565047647,"post_id":57367095,"comment_id":101220284,"body_markdown":"Unless you want your data value to be ArrayList object instance, the 2D array of lists is in fact a 3D array that you want to convert into an Object 2D array. By the way, using raw types is not a good java practice and it would maybe be better to declare it as so : List&lt;YourObject&gt;[][] = new ArrayList&lt;(note that since java 1.7 the type is auto added by the jvm so you don’t need to precise it)&gt; [10][10]","body":"Unless you want your data value to be ArrayList object instance, the 2D array of lists is in fact a 3D array that you want to convert into an Object 2D array. By the way, using raw types is not a good java practice and it would maybe be better to declare it as so : List&lt;YourObject&gt;[][] = new ArrayList&lt;(note that since java 1.7 the type is auto added by the jvm so you don’t need to precise it)&gt; [10][10]"},{"owner":{"account_id":16454003,"reputation":1,"user_id":11886698,"display_name":"mohmedXM"},"score":0,"creation_date":1565166181,"post_id":57367095,"comment_id":101262358,"body_markdown":"Thanks i will do that","body":"Thanks i will do that"}],"owner":{"account_id":16454003,"reputation":1,"user_id":11886698,"display_name":"mohmedXM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643017989,"creation_date":1565047096,"question_id":57367095,"body_markdown":"When I was coding I found some problem with `arrayList[][]` and `object[][]`\r\n\r\nSteps: \r\n\r\n1. connect and get all data from a MySQL database (no problem with this step)\r\n\r\n2. add all data in `arraylist[][]` 2D\r\n\r\n3. add last array list 2D to `object[][]`\r\n\r\nBut I tried too many codes that do not work.\r\n\r\n```\r\npublic static Connection conn;\r\n\tprivate JFrame frame;\r\n\tprivate JTable table;\r\n\tpublic static String arr2[][];\r\n\tpublic static Object[][] arr;\r\n\tpublic static Object[][] arr1;\r\n\tpublic static ArrayList[][] table1 = new ArrayList[10][10];\r\n```\r\n```\r\npublic static void main(String[] args) {\r\n\r\n\tEventQueue.invokeLater(new Runnable() {\r\n\t\tpublic void run() {\r\n\t\t\ttry {\r\n\t\t\t\tmessager window = new messager();\r\n\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n```\r\nprivate void initialize() {    \r\n\tframe = new JFrame(); \r\n\tframe.setBounds(100, 100, 450, 300);\r\n\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\tframe.getContentPane().setLayout(null);\r\n\t\r\n\ttable = new JTable(); //this table to show data from mysql\r\n\ttable.setBorder(new EtchedBorder(EtchedBorder.RAISED, null, null));\r\n\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\r\n\t\t\t\r\n\t      conn =\r\n\t    \t\t  DriverManager.getConnection(&quot;jdbc:mysql://==/test?useUnicode=true&amp;characterEncoding=utf-8&quot;, &quot;root&quot;, &quot;root&quot;); //connect to mysql\r\n\r\n\t\t Statement m_Statement = conn.createStatement();\r\n\t\t    String query = &quot;SELECT * FROM users&quot;; //select all data from mysql\r\n\r\n\t\t    ResultSet m_ResultSet = m_Statement.executeQuery(query); //resultset\r\n\r\n\t\t    while (m_ResultSet.next()) { //while to show all data from mysql\r\n\t\t    //step 1 finished\r\n                //step 2 started\r\n\t\t    \tfor (int i=0;i&lt;3;i++) { \r\n\t\t        \t  for (int j=0;j&lt;3;j++) {\r\n                      //here the problem how to convert all data to arraylist to add it on Object[][] (in step 3)\r\n\t\t        \tarr[i][j] = new String[][] {{m_ResultSet.getString(2),m_ResultSet.getString(3),m_ResultSet.getString(2)}};\r\n\t\t          \t\ttable1[i][j].add(arr[i][j]);\r\n\t\t    \t\t}\r\n\t\t        \t  }\r\n\t\t    }\r\n\r\n\ttable.setModel(new DefaultTableModel(\r\n\t\tnew Object[][] {\r\n\t\t\ttable1 //here add last array list to this Object[][] but not work\t\t},\r\n\t\tnew String[] {\r\n\t\t\t&quot;name&quot;, &quot;message&quot;, &quot;time&quot;\r\n\t\t}\r\n\t) {\r\n\t\tClass[] columnTypes = new Class[] {\r\n\t\t\tString.class, String.class, String.class\r\n\t\t};\r\n\t\tpublic Class getColumnClass(int columnIndex) {\r\n\t\t\treturn columnTypes[columnIndex];\r\n\t\t}\r\n\t\tboolean[] columnEditables = new boolean[] {\r\n\t\t\tfalse, false, false\r\n\t\t};\r\n\t\tpublic boolean isCellEditable(int row, int column) {\r\n\t\t\treturn columnEditables[column];\r\n\t\t}\r\n\t});\r\n\ttable.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 14));\r\n\ttable.setBounds(10, 38, 414, 212);\r\n\tframe.getContentPane().add(table);\r\n\t}catch (Exception e1) {\r\n\t\t e1.printStackTrace();\r\n\t }\r\n}\r\n```\r\n\r\nSometimes I got this in `JTable` `[Ljava.util.ArrayList;@6e93060b`\r\nand sometimes I got this error message:\r\n```\r\n at java.awt.event.InvocationEvent.dispatch(Unknown Source) at\r\njava.awt.EventQueue.dispatchEventImpl(Unknown Source) at\r\njava.awt.EventQueue.access$500(Unknown Source) at\r\njava.awt.EventQueue$3.run(Unknown Source) at java.awt.EventQueue$3.run(Unknown \r\nSource) at java.security.AccessController.doPrivileged(Native Method) at \r\njava.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(\r\nUnknown Source) at java.awt.EventQueue.dispatchEvent(Unknown Source) at \r\njava.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) at \r\njava.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) at \r\njava.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) at \r\njava.awt.EventDispatchThread.pumpEvents(Unknown Source) at \r\njava.awt.EventDispatchThread.pumpEvents(Unknown Source) at \r\njava.awt.EventDispatchThread.run(Unknown Source)\r\n```\r\n\r\n","title":"How I can add arrayList 2D to Object[][] already exits?","body":"<p>When I was coding I found some problem with <code>arrayList[][]</code> and <code>object[][]</code></p>\n<p>Steps:</p>\n<ol>\n<li><p>connect and get all data from a MySQL database (no problem with this step)</p>\n</li>\n<li><p>add all data in <code>arraylist[][]</code> 2D</p>\n</li>\n<li><p>add last array list 2D to <code>object[][]</code></p>\n</li>\n</ol>\n<p>But I tried too many codes that do not work.</p>\n<pre><code>public static Connection conn;\n    private JFrame frame;\n    private JTable table;\n    public static String arr2[][];\n    public static Object[][] arr;\n    public static Object[][] arr1;\n    public static ArrayList[][] table1 = new ArrayList[10][10];\n</code></pre>\n<pre><code>public static void main(String[] args) {\n\n    EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            try {\n                messager window = new messager();\n                window.frame.setVisible(true);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n</code></pre>\n<pre><code>private void initialize() {    \n    frame = new JFrame(); \n    frame.setBounds(100, 100, 450, 300);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.getContentPane().setLayout(null);\n    \n    table = new JTable(); //this table to show data from mysql\n    table.setBorder(new EtchedBorder(EtchedBorder.RAISED, null, null));\n    try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\n            \n          conn =\n                  DriverManager.getConnection(&quot;jdbc:mysql://==/test?useUnicode=true&amp;characterEncoding=utf-8&quot;, &quot;root&quot;, &quot;root&quot;); //connect to mysql\n\n         Statement m_Statement = conn.createStatement();\n            String query = &quot;SELECT * FROM users&quot;; //select all data from mysql\n\n            ResultSet m_ResultSet = m_Statement.executeQuery(query); //resultset\n\n            while (m_ResultSet.next()) { //while to show all data from mysql\n            //step 1 finished\n                //step 2 started\n                for (int i=0;i&lt;3;i++) { \n                      for (int j=0;j&lt;3;j++) {\n                      //here the problem how to convert all data to arraylist to add it on Object[][] (in step 3)\n                    arr[i][j] = new String[][] {{m_ResultSet.getString(2),m_ResultSet.getString(3),m_ResultSet.getString(2)}};\n                        table1[i][j].add(arr[i][j]);\n                    }\n                      }\n            }\n\n    table.setModel(new DefaultTableModel(\n        new Object[][] {\n            table1 //here add last array list to this Object[][] but not work       },\n        new String[] {\n            &quot;name&quot;, &quot;message&quot;, &quot;time&quot;\n        }\n    ) {\n        Class[] columnTypes = new Class[] {\n            String.class, String.class, String.class\n        };\n        public Class getColumnClass(int columnIndex) {\n            return columnTypes[columnIndex];\n        }\n        boolean[] columnEditables = new boolean[] {\n            false, false, false\n        };\n        public boolean isCellEditable(int row, int column) {\n            return columnEditables[column];\n        }\n    });\n    table.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 14));\n    table.setBounds(10, 38, 414, 212);\n    frame.getContentPane().add(table);\n    }catch (Exception e1) {\n         e1.printStackTrace();\n     }\n}\n</code></pre>\n<p>Sometimes I got this in <code>JTable</code> <code>[Ljava.util.ArrayList;@6e93060b</code>\nand sometimes I got this error message:</p>\n<pre><code> at java.awt.event.InvocationEvent.dispatch(Unknown Source) at\njava.awt.EventQueue.dispatchEventImpl(Unknown Source) at\njava.awt.EventQueue.access$500(Unknown Source) at\njava.awt.EventQueue$3.run(Unknown Source) at java.awt.EventQueue$3.run(Unknown \nSource) at java.security.AccessController.doPrivileged(Native Method) at \njava.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(\nUnknown Source) at java.awt.EventQueue.dispatchEvent(Unknown Source) at \njava.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) at \njava.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) at \njava.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) at \njava.awt.EventDispatchThread.pumpEvents(Unknown Source) at \njava.awt.EventDispatchThread.pumpEvents(Unknown Source) at \njava.awt.EventDispatchThread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","html","spring","forms","spring-mvc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1642987160,"post_id":70827893,"comment_id":125212847,"body_markdown":"For a start you need to POST data from your HTML form.","body":"For a start you need to POST data from your HTML form."},{"owner":{"account_id":17000088,"reputation":33,"user_id":12297690,"display_name":"critter333"},"score":0,"creation_date":1642988868,"post_id":70827893,"comment_id":125213098,"body_markdown":"@ScaryWombat im not using a web server, just local host","body":"@ScaryWombat im not using a web server, just local host"}],"answers":[{"tags":[],"owner":{"account_id":23560615,"reputation":21,"user_id":17602031,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643017630,"creation_date":1643016947,"answer_id":70831691,"question_id":70827893,"body_markdown":" 1. The normal form submission method is POST.\r\n\r\n 2. This case logic is View-&gt;Controller-&gt;View. I guess this example from [https://spring.io/][1]. So this contact path is &quot;/&quot;. You can change index.html and BudgetingController.java as below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://spring.io/\r\n  [2]: https://i.stack.imgur.com/NBFBT.png\r\n  [3]: https://i.stack.imgur.com/G6jlO.png","title":"How would i use Spring MVC to retrieve a number value from a html form?","body":"<ol>\n<li><p>The normal form submission method is POST.</p>\n</li>\n<li><p>This case logic is View-&gt;Controller-&gt;View. I guess this example from <a href=\"https://spring.io/\" rel=\"nofollow noreferrer\">https://spring.io/</a>. So this contact path is &quot;/&quot;. You can change index.html and BudgetingController.java as below.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/NBFBT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBFBT.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/G6jlO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G6jlO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17000088,"reputation":33,"user_id":12297690,"display_name":"critter333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643017630,"creation_date":1642985299,"question_id":70827893,"body_markdown":"I understand how to return a string from my controller as demonstrated [here][1]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/serving-web-content/#initial\r\n\r\nI could modify this to take a text value from a html form. \r\n\r\nHowever, when i try to retrieve number &#39;salary&#39; from my form, it gives me an error of &quot;There was an unexpected error (type=Not Found, status=404).&quot; What needs to be fixed?\r\n\r\nhere is my ServingWebContent.java\r\n\r\n    package com.example.servingwebcontent;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class ServingWebContentApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ServingWebContentApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nhere is BudgetingController.java\r\n\r\n    package com.example.servingwebcontent;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    @Controller\r\n    public class BudgetingController {\r\n    \r\n    \t@GetMapping(&quot;/greeting&quot;)\r\n    \tpublic String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\r\n    \t\tmodel.addAttribute(&quot;name&quot;, name);\r\n    \t\treturn &quot;greeting&quot;;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/results&quot;)\r\n    \tpublic int results(@RequestParam(name=&quot;salary&quot;, required=true) int salary, Model model) {\r\n    \t\tmodel.addAttribute(&quot;salary&quot;, salary);\r\n    \t\treturn salary;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nhere is index.html\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;/html&gt;\r\n    \r\n    &lt;head&gt; \r\n        &lt;title&gt;Budgeting Tool&lt;/title&gt; \r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n        &lt;form action=&quot;/results.html&quot; method=&quot;GET&quot;&gt;\r\n            &lt;div&gt;\r\n            &lt;header&gt;\r\n            &lt;h3&gt;&lt;strong&gt;Monthly Income&lt;/strong&gt;&lt;/h3&gt;\r\n            &lt;/header&gt;&lt;/div&gt; \r\n        \r\n              &lt;div&gt;\r\n              &lt;label&gt;Monthly Salary:&lt;/label&gt;\r\n              &lt;input type=&quot;number&quot; name=&quot;salary&quot; min=&quot;0&quot; required&gt;\r\n              &lt;/div&gt;\r\n        \r\n            &lt;!--- Submits to results.html ---&gt;  \r\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n        \r\n          &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\nAnd finally, here is results.html\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt; \r\n        &lt;title&gt;Results&lt;/title&gt; \r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;p th:text=&quot; ${salary} &quot; /&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"How would i use Spring MVC to retrieve a number value from a html form?","body":"<p>I understand how to return a string from my controller as demonstrated <a href=\"https://spring.io/guides/gs/serving-web-content/#initial\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I could modify this to take a text value from a html form.</p>\n<p>However, when i try to retrieve number 'salary' from my form, it gives me an error of &quot;There was an unexpected error (type=Not Found, status=404).&quot; What needs to be fixed?</p>\n<p>here is my ServingWebContent.java</p>\n<pre><code>package com.example.servingwebcontent;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ServingWebContentApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ServingWebContentApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>here is BudgetingController.java</p>\n<pre><code>package com.example.servingwebcontent;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class BudgetingController {\n\n    @GetMapping(&quot;/greeting&quot;)\n    public String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\n        model.addAttribute(&quot;name&quot;, name);\n        return &quot;greeting&quot;;\n    }\n\n    @GetMapping(&quot;/results&quot;)\n    public int results(@RequestParam(name=&quot;salary&quot;, required=true) int salary, Model model) {\n        model.addAttribute(&quot;salary&quot;, salary);\n        return salary;\n    }\n\n\n}\n</code></pre>\n<p>here is index.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;/html&gt;\n\n&lt;head&gt; \n    &lt;title&gt;Budgeting Tool&lt;/title&gt; \n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;form action=&quot;/results.html&quot; method=&quot;GET&quot;&gt;\n        &lt;div&gt;\n        &lt;header&gt;\n        &lt;h3&gt;&lt;strong&gt;Monthly Income&lt;/strong&gt;&lt;/h3&gt;\n        &lt;/header&gt;&lt;/div&gt; \n    \n          &lt;div&gt;\n          &lt;label&gt;Monthly Salary:&lt;/label&gt;\n          &lt;input type=&quot;number&quot; name=&quot;salary&quot; min=&quot;0&quot; required&gt;\n          &lt;/div&gt;\n    \n        &lt;!--- Submits to results.html ---&gt;  \n        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n    \n      &lt;/form&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>And finally, here is results.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt; \n    &lt;title&gt;Results&lt;/title&gt; \n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p th:text=&quot; ${salary} &quot; /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","multithreading","java-8","completable-future"],"comments":[{"owner":{"account_id":934735,"reputation":23556,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"score":0,"creation_date":1540208506,"post_id":52927260,"comment_id":92766164,"body_markdown":"How are you using `callableFuture` in your code?","body":"How are you using <code>callableFuture</code> in your code?"},{"owner":{"account_id":3751745,"reputation":278,"user_id":3119112,"accept_rate":56,"display_name":"sf9251"},"score":0,"creation_date":1540210588,"post_id":52927260,"comment_id":92767386,"body_markdown":"using executor service -  executor.submit(callableFuture);","body":"using executor service -  executor.submit(callableFuture);"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1540212938,"post_id":52927260,"comment_id":92768860,"body_markdown":"And what, if you use the same executor service for your `CompletableFuture`, i.e. `CompletableFuture.supplyAsync(() -&gt; {  printResult();  return &quot;complete future!&quot;;  }, executor)`?","body":"And what, if you use the same executor service for your <code>CompletableFuture</code>, i.e. <code>CompletableFuture.supplyAsync(() -&gt; {  printResult();  return &quot;complete future!&quot;;  }, executor)</code>?"},{"owner":{"account_id":3751745,"reputation":278,"user_id":3119112,"accept_rate":56,"display_name":"sf9251"},"score":0,"creation_date":1540213489,"post_id":52927260,"comment_id":92769238,"body_markdown":"@Holger - I just implemented your question/solution and it worked! Many thanks. Previously I was running the CompletableFuture directly without using executor- completableFuture.get(). It worked after passing the executor to CompletableFuture. Still confused why?","body":"@Holger - I just implemented your question/solution and it worked! Many thanks. Previously I was running the CompletableFuture directly without using executor- completableFuture.get(). It worked after passing the executor to CompletableFuture. Still confused why?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1540214363,"post_id":52927260,"comment_id":92769859,"body_markdown":"Apparently, that xerces related class you’re using within `printResult()` depends on the calling thread. The `…Async…` methods of `CompletableFuture` use `ForkJoinPool.commonPool()` by default, which uses other threads than your `executor` and those differences seem to be relevant here. In my opinion, code should not have such dependencies on the actual thread, however, such dependencies, like using `Thread.getContextClassLoader()`, are in fact very widespread…","body":"Apparently, that xerces related class you’re using within <code>printResult()</code> depends on the calling thread. The <code>…Async…</code> methods of <code>CompletableFuture</code> use <code>ForkJoinPool.commonPool()</code> by default, which uses other threads than your <code>executor</code> and those differences seem to be relevant here. In my opinion, code should not have such dependencies on the actual thread, however, such dependencies, like using <code>Thread.getContextClassLoader()</code>, are in fact very widespread…"},{"owner":{"account_id":3751745,"reputation":278,"user_id":3119112,"accept_rate":56,"display_name":"sf9251"},"score":0,"creation_date":1540214914,"post_id":52927260,"comment_id":92770235,"body_markdown":"It makes sense. I have updated my code and it is working fine. Thanks Holger!","body":"It makes sense. I have updated my code and it is working fine. Thanks Holger!"}],"answers":[{"tags":[],"owner":{"account_id":934735,"reputation":23556,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540275147,"creation_date":1540208793,"answer_id":52928597,"question_id":52927260,"body_markdown":"`Callable` is just an interface (and `@FunctionalInterface` as well) and it does not assume anything about context in which it will be called.\r\n\r\n`CompletableFuture::supplyAsync(Supplier&lt;U&gt; supplier)` is different, from its docs:\r\n\r\n&gt; Returns a new CompletableFuture that is asynchronously completed by a task running in the `ForkJoinPool.commonPool()` with the value obtained by calling the given Supplier.\r\n\r\nSo it is possible that in your case, the error you get (&quot;SAX2 driver not found error!&quot;) is caused by the fact that when `printResult()` is being executed from the `CompletableFuture`, SAX2 driver has not been loaded yet.","title":"Classes not loading properly within CompletableFuture","body":"<p><code>Callable</code> is just an interface (and <code>@FunctionalInterface</code> as well) and it does not assume anything about context in which it will be called.</p>\n\n<p><code>CompletableFuture::supplyAsync(Supplier&lt;U&gt; supplier)</code> is different, from its docs:</p>\n\n<blockquote>\n  <p>Returns a new CompletableFuture that is asynchronously completed by a task running in the <code>ForkJoinPool.commonPool()</code> with the value obtained by calling the given Supplier.</p>\n</blockquote>\n\n<p>So it is possible that in your case, the error you get (\"SAX2 driver not found error!\") is caused by the fact that when <code>printResult()</code> is being executed from the <code>CompletableFuture</code>, SAX2 driver has not been loaded yet.</p>\n"},{"tags":[],"owner":{"account_id":17795,"reputation":24571,"user_id":40214,"accept_rate":79,"display_name":"Dennis C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643017456,"creation_date":1643017456,"answer_id":70831788,"question_id":52927260,"body_markdown":"I guess you may having issue in a JEE/tomcat/spring-boot application.\r\n\r\nIn such an app, there is multiple ClassLoader and Threads running for booting and load JAR for the framework and other sub-systems.\r\n\r\n[CompletableFuture.supplyAsync][1]\r\n\r\n```javadoc\r\nReturns a new CompletableFuture that is asynchronously completed by a task running in the ForkJoinPool.commonPool() with the value obtained by calling the given Supplier.\r\n```\r\n\r\nBecause the supplier is running in a JVM managed thread-pool, the `ClassLoader` of the thread unlikely managed by the framework.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"Classes not loading properly within CompletableFuture","body":"<p>I guess you may having issue in a JEE/tomcat/spring-boot application.</p>\n<p>In such an app, there is multiple ClassLoader and Threads running for booting and load JAR for the framework and other sub-systems.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture.supplyAsync</a></p>\n<pre><code>Returns a new CompletableFuture that is asynchronously completed by a task running in the ForkJoinPool.commonPool() with the value obtained by calling the given Supplier.\n</code></pre>\n<p>Because the supplier is running in a JVM managed thread-pool, the <code>ClassLoader</code> of the thread unlikely managed by the framework.</p>\n"}],"owner":{"account_id":3751745,"reputation":278,"user_id":3119112,"accept_rate":56,"display_name":"sf9251"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643017585,"creation_date":1540204409,"question_id":52927260,"body_markdown":"Below is the code which I wrote using CompletableFuture - \r\n\r\n    CompletableFuture&lt;String&gt; completableFuture = CompletableFuture.supplyAsync(() -&gt; {\r\n    \tprintResult();\r\n    \treturn &quot;complete future!&quot;;\r\n    });\r\n\r\nIn the above code, within printResult function I am using some xerces related classes to do some authentication and that is giving me **SAX2 driver class not found error!**\r\n\r\nHowever, when I wrote the same code using Callable, it&#39;s working fine - \r\n\r\n    Callable&lt;String&gt; callableFuture = () -&gt; { \r\n    \tprintResult(); \r\n    \treturn &quot;callable!&quot;;  \r\n    };\r\n\r\nAlso, printResult() is working absolutely fine outside CompletableFuture as well.  Just wanted to know if any one here has any idea what&#39;s going wrong here. Appreciate your help!\r\n\r\n**Edit:** I digged a bit in the logs and this is the actual error message - \r\n {ForkJoinPool.commonPool-worker-2} | [---] | Error:SAX2 driver class org.apache.xerces.parsers.SAXParser not found","title":"Classes not loading properly within CompletableFuture","body":"<p>Below is the code which I wrote using CompletableFuture - </p>\n\n<pre><code>CompletableFuture&lt;String&gt; completableFuture = CompletableFuture.supplyAsync(() -&gt; {\n    printResult();\n    return \"complete future!\";\n});\n</code></pre>\n\n<p>In the above code, within printResult function I am using some xerces related classes to do some authentication and that is giving me <strong>SAX2 driver class not found error!</strong></p>\n\n<p>However, when I wrote the same code using Callable, it's working fine - </p>\n\n<pre><code>Callable&lt;String&gt; callableFuture = () -&gt; { \n    printResult(); \n    return \"callable!\";  \n};\n</code></pre>\n\n<p>Also, printResult() is working absolutely fine outside CompletableFuture as well.  Just wanted to know if any one here has any idea what's going wrong here. Appreciate your help!</p>\n\n<p><strong>Edit:</strong> I digged a bit in the logs and this is the actual error message - \n {ForkJoinPool.commonPool-worker-2} | [---] | Error:SAX2 driver class org.apache.xerces.parsers.SAXParser not found</p>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1643017351,"post_id":70831734,"comment_id":125219089,"body_markdown":"You need to fix the compilation errors *before* you try to run your code.","body":"You need to fix the compilation errors <i>before</i> you try to run your code."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1643017604,"post_id":70831734,"comment_id":125219198,"body_markdown":"`t1, t2, t3, b1, b2` are local variables in your constructor. They are not available to other methods. Perhaps you intended them to be instance variables.","body":"<code>t1, t2, t3, b1, b2</code> are local variables in your constructor. They are not available to other methods. Perhaps you intended them to be instance variables."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1643017733,"post_id":70831734,"comment_id":125219238,"body_markdown":"Your code is full of typos. eG `t2=new TextField(),` &lt;- you use `,` instead of `;` and in `setVisible(True);` you misspelled `true` with a capital T (Java is case sensitive). On top of that you don&#39;t seem to to know what scope is in java because you try to reference local variables from your constructor in other methods. With that many error I would recommend reading [What is &#39;scope&#39; in Java?](https://stackoverflow.com/questions/38177140/what-is-scope-in-java) and then starting over and starting small instead of typing down lots of code without ever testing it inbetween.","body":"Your code is full of typos. eG <code>t2=new TextField(),</code> &lt;- you use <code>,</code> instead of <code>;</code> and in <code>setVisible(True);</code> you misspelled <code>true</code> with a capital T (Java is case sensitive). On top of that you don&#39;t seem to to know what scope is in java because you try to reference local variables from your constructor in other methods. With that many error I would recommend reading <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\">What is &#39;scope&#39; in Java?</a> and then starting over and starting small instead of typing down lots of code without ever testing it inbetween."}],"owner":{"account_id":24035641,"reputation":11,"user_id":18015957,"display_name":"Sadhe sahith Helen"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643017693,"answer_count":0,"score":0,"last_activity_date":1643017535,"creation_date":1643017184,"question_id":70831734,"body_markdown":"    import java.awt.*;\r\n    import java.awt.event.*;\r\n    class Calc extends Frame implements ActionListener\r\n    {\r\n        Calc()\r\n     {\r\n        TextField t1,t2,t3;\r\n        t1=new TextField();\r\n        t2=new TextField(),\r\n        t3=new TextField();\r\n        Label l1=new Label(&quot;Number one&quot;),l2=new Label(&quot;Number two&quot;),l3=new Label(&quot;Answer :&quot;);\r\n        Button b1=new Button(&quot;Add&quot;),b2=new Button(&quot;Subtract&quot;),b3=new Button(&quot;Exit&quot;);\r\n        add(l1);\r\n        add(l2);\r\n        add(l3);\r\n        add(t1);\r\n        add(t2);\r\n        add(t3);\r\n        add(b1);\r\n        add(b2);\r\n        add(b3);\r\n        setLayout(&quot;500&quot;);\r\n        setVisible(True);\r\n        setSize(400,350);\r\n        setBackground(Color.GREEN);\r\n        b1.addActionListener(this);\r\n        b2.addActionListener(this);\r\n        b3.addActionListener(this);\r\n     }  \r\n        public void actionPerfomed(ActionEvent e)\r\n        {\r\n            int n1=Integer.parseInt(t1.getText());\r\n            int n2=Integer.parseInt(t2.getText());\r\n            if(e.getSource==b1)\r\n            {\r\n                t3.setText(String.valueOf(n1+n2));\r\n            }\r\n            else if(e.getSource==b2)\r\n            {\r\n                t3.setText(String.valueOf(n1-n2));\r\n            }\r\n            else if(e.getSource==b3)\r\n            System.exit(0);\r\n        }\r\n    }\r\n    class GUIAmain\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            new Calc();\r\n        }\r\n    }\r\n\r\nThis is the error I&#39;m getting:\r\n```none\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n        Syntax error on tokens, delete these tokens\r\n        The type Calc must implement the inherited abstract method ActionListener.actionPerformed(ActionEvent)\r\n        The method setLayout(LayoutManager) in the type Container is not applicable for the arguments (int)   \r\n        True cannot be resolved to a variable\r\n        t1 cannot be resolved\r\n        t2 cannot be resolved\r\n        getSource cannot be resolved or is not a field\r\n        b1 cannot be resolved to a variable\r\n        t3 cannot be resolved\r\n        getSource cannot be resolved or is not a field\r\n        b2 cannot be resolved to a variable\r\n        t3 cannot be resolved\r\n        getSource cannot be resolved or is not a field\r\n        b3 cannot be resolved to a variable\r\n        The method Exit(int) is undefined for the type System\r\n\r\n        at Calc.&lt;init&gt;(Calc.java:1)\r\n        at GUIAmain.main(GuiAmain.java:50)\r\n```","title":"i&#39;m getting an error while executing this java awt code...can anyone help me with those errors","body":"<pre><code>import java.awt.*;\nimport java.awt.event.*;\nclass Calc extends Frame implements ActionListener\n{\n    Calc()\n {\n    TextField t1,t2,t3;\n    t1=new TextField();\n    t2=new TextField(),\n    t3=new TextField();\n    Label l1=new Label(&quot;Number one&quot;),l2=new Label(&quot;Number two&quot;),l3=new Label(&quot;Answer :&quot;);\n    Button b1=new Button(&quot;Add&quot;),b2=new Button(&quot;Subtract&quot;),b3=new Button(&quot;Exit&quot;);\n    add(l1);\n    add(l2);\n    add(l3);\n    add(t1);\n    add(t2);\n    add(t3);\n    add(b1);\n    add(b2);\n    add(b3);\n    setLayout(&quot;500&quot;);\n    setVisible(True);\n    setSize(400,350);\n    setBackground(Color.GREEN);\n    b1.addActionListener(this);\n    b2.addActionListener(this);\n    b3.addActionListener(this);\n }  \n    public void actionPerfomed(ActionEvent e)\n    {\n        int n1=Integer.parseInt(t1.getText());\n        int n2=Integer.parseInt(t2.getText());\n        if(e.getSource==b1)\n        {\n            t3.setText(String.valueOf(n1+n2));\n        }\n        else if(e.getSource==b2)\n        {\n            t3.setText(String.valueOf(n1-n2));\n        }\n        else if(e.getSource==b3)\n        System.exit(0);\n    }\n}\nclass GUIAmain\n{\n    public static void main(String args[])\n    {\n        new Calc();\n    }\n}\n</code></pre>\n<p>This is the error I'm getting:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n        Syntax error on tokens, delete these tokens\n        The type Calc must implement the inherited abstract method ActionListener.actionPerformed(ActionEvent)\n        The method setLayout(LayoutManager) in the type Container is not applicable for the arguments (int)   \n        True cannot be resolved to a variable\n        t1 cannot be resolved\n        t2 cannot be resolved\n        getSource cannot be resolved or is not a field\n        b1 cannot be resolved to a variable\n        t3 cannot be resolved\n        getSource cannot be resolved or is not a field\n        b2 cannot be resolved to a variable\n        t3 cannot be resolved\n        getSource cannot be resolved or is not a field\n        b3 cannot be resolved to a variable\n        The method Exit(int) is undefined for the type System\n\n        at Calc.&lt;init&gt;(Calc.java:1)\n        at GUIAmain.main(GuiAmain.java:50)\n</code></pre>\n"},{"tags":["java","macos","selenium","appium"],"comments":[{"owner":{"account_id":4115965,"reputation":81,"user_id":3377505,"display_name":"MinneapolisCoder9"},"score":0,"creation_date":1577810150,"post_id":57794799,"comment_id":105261933,"body_markdown":"I am experiencing similar behavior where when I try to send the ENTER key I&#39;m getting:\n\n`Could not find selector (post_actions:data:) for path &#39;/session/dpQ4H8XA/actions&#39;.`","body":"I am experiencing similar behavior where when I try to send the ENTER key I&#39;m getting:  <code>Could not find selector (post_actions:data:) for path &#39;&#47;session&#47;dpQ4H8XA&#47;actions&#39;.</code>"}],"answers":[{"tags":[],"owner":{"account_id":14779354,"reputation":31,"user_id":10673224,"display_name":"parvez basha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643017453,"creation_date":1642598709,"answer_id":70771398,"question_id":57794799,"body_markdown":"Import `actionchains` and try something like below:\r\n\r\n```java\r\nWebElement webElement = appiumForMacDriver.findElement(ELEMENT_LOCATOR);\r\nActionChains(appiumForMacDriver).move_to_element(webElement).click().perform()\r\nActionchains(appiumForMacDriver).sendKeys(message).perform();\r\n```","title":"Appium for Mac OS: Is there a way to send the Enter key properly in the Messages app?","body":"<p>Import <code>actionchains</code> and try something like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement webElement = appiumForMacDriver.findElement(ELEMENT_LOCATOR);\nActionChains(appiumForMacDriver).move_to_element(webElement).click().perform()\nActionchains(appiumForMacDriver).sendKeys(message).perform();\n</code></pre>\n"}],"owner":{"account_id":3146562,"reputation":51,"user_id":2660940,"display_name":"user2660940"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643017453,"creation_date":1567625620,"question_id":57794799,"body_markdown":"I&#39;m implementing a framework that makes use of Appium for Mac, to test native MacOS apps. I&#39;m having difficulty performing a simple command of sending the Enter key in the Messages app, which is needed to be able to send a message. To simulate this, I&#39;m using the Selenium method call sendKeys(Keys.ENTER). \r\n\r\nHere&#39;s what I&#39;ve tried.\r\n\r\n- sendKeys(Keys.RETURN) does the same thing.\r\n- Actions(driver).sendKeys(Keys.ENTER).build().perform() \r\n- I tried creating the WebDriver as an IOSDriver to see if it was maybe a casting issue, also to no avail.\r\n- Using the Robot class is not what we need because our code needs to be able to run even when the workstation is locked.\r\n- I tried concatenating the ENTER key to the message I&#39;m trying to send, also to no avail.\r\n- When trying to press the ENTER key in the Activity Monitor, the same symbol does NOT show up; it only does so in Messages. I suspect it may have something to do with the encoding?\r\n\r\n```\r\n        WebElement webElement = appiumForMacDriver.findElement(ELEMENT_LOCATOR);\r\n\r\n        appiumForMacDriver.sendKeys(webElement, message);\r\n        appiumForMacDriver.sendKeys(webElement, Keys.ENTER);\r\n\r\n\r\n\r\n```\r\n\r\nInstead of actually sending the message, however, it simply enters this symbol: \r\n\r\nIt looks like Appium for Mac is very preliminary and doesn&#39;t support a lot of basic features. Is there a step or workaround I could take to be actually able to submit the Enter key?","title":"Appium for Mac OS: Is there a way to send the Enter key properly in the Messages app?","body":"<p>I'm implementing a framework that makes use of Appium for Mac, to test native MacOS apps. I'm having difficulty performing a simple command of sending the Enter key in the Messages app, which is needed to be able to send a message. To simulate this, I'm using the Selenium method call sendKeys(Keys.ENTER). </p>\n\n<p>Here's what I've tried.</p>\n\n<ul>\n<li>sendKeys(Keys.RETURN) does the same thing.</li>\n<li>Actions(driver).sendKeys(Keys.ENTER).build().perform() </li>\n<li>I tried creating the WebDriver as an IOSDriver to see if it was maybe a casting issue, also to no avail.</li>\n<li>Using the Robot class is not what we need because our code needs to be able to run even when the workstation is locked.</li>\n<li>I tried concatenating the ENTER key to the message I'm trying to send, also to no avail.</li>\n<li>When trying to press the ENTER key in the Activity Monitor, the same symbol does NOT show up; it only does so in Messages. I suspect it may have something to do with the encoding?</li>\n</ul>\n\n<pre><code>        WebElement webElement = appiumForMacDriver.findElement(ELEMENT_LOCATOR);\n\n        appiumForMacDriver.sendKeys(webElement, message);\n        appiumForMacDriver.sendKeys(webElement, Keys.ENTER);\n\n\n\n</code></pre>\n\n<p>Instead of actually sending the message, however, it simply enters this symbol: </p>\n\n<p>It looks like Appium for Mac is very preliminary and doesn't support a lot of basic features. Is there a step or workaround I could take to be actually able to submit the Enter key?</p>\n"},{"tags":["java","swing","newline","stringbuilder","jtextarea"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1642994537,"post_id":70828649,"comment_id":125213913,"body_markdown":"I&#39;d recommend using a `StringJoiner` instead of a `StringBuilder`, otherwise you&#39;ll need to inject a `\\n` (newline) character where ever you need it.  Alternatively, you could return a &quot;model&quot; object and then the formatting because divorced from your generator","body":"I&#39;d recommend using a <code>StringJoiner</code> instead of a <code>StringBuilder</code>, otherwise you&#39;ll need to inject a <code>\\n</code> (newline) character where ever you need it.  Alternatively, you could return a &quot;model&quot; object and then the formatting because divorced from your generator"}],"answers":[{"tags":[],"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642994626,"creation_date":1642994626,"answer_id":70828691,"question_id":70828649,"body_markdown":"Put a newline character `\\n` at the end of every string for your `append()`  calls, Without adding these the string is one continuous line.","title":"Print a StringBuilder on a TextArea with line break","body":"<p>Put a newline character <code>\\n</code> at the end of every string for your <code>append()</code>  calls, Without adding these the string is one continuous line.</p>\n"},{"tags":[],"owner":{"account_id":10617434,"reputation":51,"user_id":7819448,"display_name":"Pratyush Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642994711,"creation_date":1642994711,"answer_id":70828701,"question_id":70828649,"body_markdown":"You&#39;ll need to append a line break at end of each line. Something like this\r\n\r\n    sb.append(&quot;Name: &quot; + name + &quot;\\n&quot;);\r\n","title":"Print a StringBuilder on a TextArea with line break","body":"<p>You'll need to append a line break at end of each line. Something like this</p>\n<pre><code>sb.append(&quot;Name: &quot; + name + &quot;\\n&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642997912,"creation_date":1642994909,"answer_id":70828719,"question_id":70828649,"body_markdown":"# You could...\r\n\r\nMake use of `StringJoiner`\r\n\r\n        StringJoiner joiner = new StringJoiner(&quot;\\n&quot;);\r\n\r\n        // Underweight\r\n        if (BMI &lt; 20.70) {\r\n\r\n            result = &quot;UnderWeight&quot;;\r\n            weightDifference = (Math.pow(height, 2) * 18.50) - weight;\r\n\r\n            joiner.add(&quot;BMI Calculator&quot;);\r\n            joiner.add(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n            joiner.add(&quot;Name: &quot; + name);\r\n            joiner.add(&quot;Weight: &quot; + weight);\r\n            joiner.add(&quot;Height: &quot; + height);\r\n            joiner.add(&quot;BMI: &quot; + BMI);\r\n            joiner.add(&quot;You need to fatten &quot; + weightDifference + &quot; to have a weight appropriate to your height&quot;);\r\n            joiner.add(&quot;&quot;);\r\n            joiner.add(&quot;RESULT: &quot; + this.result + &quot;.&quot;);\r\n\r\n        }\r\n\r\n# You could...\r\n\r\nSeperate your concerns and decouple the `Person` from the `BMI` and the formatting, this makes the over solution MUCH more flexible, for example, you could have a long format, which includes all the line breaks and what not, a tabular format or a short &quot;You&#39;re to fat&quot; format &#128521;\r\n\r\nLet&#39;s start by reducing the overlap of responsibilities \r\n\r\n## Person\r\n\r\nA person object deals with just the details relating to, well, the person &#129335;‍♂️\r\n\r\n    public class Person {\r\n\r\n        enum Gender {\r\n            MALE, FEMALE\r\n        }\r\n\r\n        private String name;\r\n        private Double weight;\r\n        private Double height;\r\n        private Gender gender;\r\n\r\n        public Person() {\r\n\r\n        }\r\n\r\n        public Person(Gender gender) {\r\n            this.gender = gender;\r\n        }\r\n\r\n        public Person(String name, Double weight, Double height, Gender gender) {\r\n            this.name = name;\r\n            this.weight = weight;\r\n            this.height = height;\r\n            this.gender = gender;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public Double getWeight() {\r\n            return weight;\r\n        }\r\n\r\n        public void setWeight(Double weight) {\r\n            this.weight = weight;\r\n        }\r\n\r\n        public Double getHeight() {\r\n            return height;\r\n        }\r\n\r\n        public void setHeight(Double height) {\r\n            this.height = height;\r\n        }\r\n\r\n        public Gender getGender() {\r\n            return gender;\r\n        }\r\n\r\n        public void setGender(Gender gender) {\r\n            this.gender = gender;\r\n        }\r\n    }\r\n\r\n## BMI calculations...\r\n\r\nThen you can isolate (and simplify) the calculations...\r\n\r\n\r\n    public class BMI {\r\n\r\n        enum Result {\r\n            UNDER_WEIGHT, IDEAL_WEIGHT, LITTLE_OVER_WEIGHT, OVER_WEIGHT, OBESE;\r\n\r\n            public String toString() {\r\n                switch (this) {\r\n                    case UNDER_WEIGHT:\r\n                        return &quot;Under weight&quot;;\r\n                    case IDEAL_WEIGHT:\r\n                        return &quot;Ideal&quot;;\r\n                    case LITTLE_OVER_WEIGHT:\r\n                        return &quot;Little over weight&quot;;\r\n                    case OVER_WEIGHT:\r\n                        return &quot;Over weight&quot;;\r\n                    case OBESE:\r\n                        return &quot;Obese&quot;;\r\n                }\r\n                return &quot;unknown&quot;;\r\n            }\r\n        }\r\n\r\n        private Person person;\r\n        private double value;\r\n        private Result result;\r\n        private LocalDateTime diagnosisDate;\r\n\r\n        double weightDifference;\r\n        Double fatWeightQuantity = null;\r\n        Double loseWeightQuantity = null;\r\n\r\n        public BMI(Person person) {\r\n            this.person = person;\r\n            diagnosisDate = LocalDateTime.now();\r\n            value = (person.getWeight() / (Math.pow(person.getHeight(), 2)));\r\n            switch (person.getGender()) {\r\n                case MALE:\r\n                    if (value &lt; 20.70) {\r\n                        result = Result.UNDER_WEIGHT;\r\n                        weightDifference = weightDifference(18.5);\r\n                    } else if (value &lt;= 26.40) {\r\n                        result = Result.IDEAL_WEIGHT;\r\n                        weightDifference = weightDifference(18.5);\r\n                        fatWeightQuantity = fatWeightQuantity(24.9);\r\n                        loseWeightQuantity = loseWeightQuantity(18.5);\r\n                    } else if (value &lt;= 27.80) {\r\n                        result = Result.LITTLE_OVER_WEIGHT;\r\n                        weightDifference = weightDifference(24.99);\r\n                    } else if (value &lt;= 31.10) {\r\n                        weightDifference = weightDifference(24.99);\r\n                        result = Result.OVER_WEIGHT;\r\n                    } else {\r\n                        result = Result.OBESE;\r\n                        weightDifference = weightDifference(24.99);\r\n                    }\r\n                case FEMALE:\r\n                    if (value &lt; 19.10) {\r\n                        result = Result.UNDER_WEIGHT;\r\n                        weightDifference = (Math.pow(person.getHeight(), 2) * 18.50) - person.getWeight();\r\n                    } else if (value &lt;= 25.80) {\r\n                        result = Result.IDEAL_WEIGHT;\r\n                        weightDifference = (Math.pow(person.getHeight(), 2) * 18.50) - person.getWeight();\r\n                        fatWeightQuantity = fatWeightQuantity(24.9);\r\n                        loseWeightQuantity = loseWeightQuantity(18.5);\r\n                    } else if (value &lt;= 27.30) {\r\n                        result = Result.LITTLE_OVER_WEIGHT;\r\n                        weightDifference = weightDifference(24.99);\r\n                    } else if (value &lt;= 32.30) {\r\n                        weightDifference = weightDifference(24.99);\r\n                        result = Result.OVER_WEIGHT;\r\n                    } else {\r\n                        result = Result.OBESE;\r\n                        weightDifference = weightDifference(24.99);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n        public double getValue() {\r\n            return value;\r\n        }\r\n\r\n        public Person getPerson() {\r\n            return person;\r\n        }\r\n\r\n        public Result getResult() {\r\n            return result;\r\n        }\r\n\r\n        public double getWeightDifference() {\r\n            return weightDifference;\r\n        }\r\n\r\n        public Double getFatWeightQuantity() {\r\n            return fatWeightQuantity;\r\n        }\r\n\r\n        public Double getLoseWeightQuantity() {\r\n            return loseWeightQuantity;\r\n        }\r\n        \r\n        protected double heightByFactor(double factor) {\r\n            return Math.pow(getPerson().getHeight(), 2) * factor;\r\n        }\r\n\r\n        protected double weightDifference(double factor) {\r\n            return heightByFactor(factor) - getPerson().getWeight();\r\n        }\r\n\r\n        protected double fatWeightQuantity(double factor) {\r\n            return heightByFactor(factor) - getPerson().getWeight();\r\n        }\r\n\r\n        protected double loseWeightQuantity(double factor) {\r\n            return getPerson().getWeight() - heightByFactor(factor);\r\n        }\r\n\r\n        public LocalDateTime getDiagnosisDate() {\r\n            return diagnosisDate;\r\n        }\r\n\r\n    }\r\n\r\n## Formatting\r\n\r\nNow, I&#39;ve only done long format here, but you can see where this can go and the flexibility it can provide.\r\n\r\n    public class BMIFormatter {\r\n        public static String longFormat(BMI bmi) {\r\n            StringJoiner joiner = new StringJoiner(&quot;\\n&quot;);\r\n            joiner.add(&quot;BMI Calculator&quot;);\r\n            joiner.add(&quot;Date of diagnosis &quot; + DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(bmi.getDiagnosisDate()));\r\n            joiner.add(&quot;Name: &quot; + bmi.getPerson().getName());\r\n            joiner.add(&quot;Weight: &quot; + bmi.getPerson().getWeight());\r\n            joiner.add(&quot;Height: &quot; + bmi.getPerson().getHeight());\r\n            joiner.add(&quot;BMI: &quot; + NumberFormat.getNumberInstance().format(bmi.getValue()));\r\n\r\n            switch (bmi.getResult()) {\r\n                case UNDER_WEIGHT:\r\n                    joiner.add(&quot;You need to fatten &quot; + NumberFormat.getNumberInstance().format(bmi.getWeightDifference()) + &quot; kgs to stay within normal range!&quot;);\r\n                    break;\r\n                case IDEAL_WEIGHT:\r\n                    joiner.add(&quot;Your weight is ideal for your height!&quot;);\r\n                    joiner.add(&quot;You can still gain &quot; + NumberFormat.getNumberInstance().format(bmi.getFatWeightQuantity()) + &quot; or lose &quot; + NumberFormat.getNumberInstance().format(bmi.getLoseWeightQuantity()) + &quot;kgs without leaving normality.&quot;);\r\n                    break;\r\n                case LITTLE_OVER_WEIGHT:\r\n                    joiner.add(&quot;You need to lose&quot; + NumberFormat.getNumberInstance().format(bmi.getWeightDifference()) + &quot; kgs to stay within normal range!&quot;);\r\n                    break;\r\n                case OVER_WEIGHT:\r\n                    joiner.add(&quot;You need to lose&quot; + NumberFormat.getNumberInstance().format(bmi.getWeightDifference()) + &quot; kgs to stay within normal range!&quot;);\r\n                    break;\r\n                case OBESE:\r\n                    joiner.add(&quot;You need to lose&quot; + NumberFormat.getNumberInstance().format(bmi.getWeightDifference()) + &quot; kgs to stay within normal range!&quot;);\r\n                    break;\r\n            }\r\n\r\n            joiner.add(&quot;&quot;);\r\n            joiner.add(&quot;RESULT: &quot; + bmi.result.toString() + &quot;.&quot;);\r\n\r\n            return joiner.toString();\r\n        }\r\n    }\r\n\r\nAnd then you could pull it all together using something like...\r\n\r\n    Person person = new Person(&quot;Bob&quot;, 65.5, 1.8, Person.Gender.MALE);\r\n    BMI bmi = new BMI(person);\r\n\r\n    System.out.println(BMIFormatter.longFormat(bmi));\r\n\r\nWhich prints\r\n\r\n    BMI Calculator\r\n    Date of diagnosis 2022-01-24T15:15:40.685079\r\n    Name: Bob\r\n    Weight: 65.5\r\n    Height: 1.8\r\n    BMI: 20.216\r\n    Your weight is ideal for your height!\r\n    You can still gain 15.176 or lose 5.56kgs without leaving normality.\r\n    \r\n*nb: Check the calculations, I&#39;ve tried hard to make sure they are correct, but I don&#39;t have the algorithm your using*\r\n    RESULT: Ideal.\r\n\r\n","title":"Print a StringBuilder on a TextArea with line break","body":"<h1>You could...</h1>\n<p>Make use of <code>StringJoiner</code></p>\n<pre><code>    StringJoiner joiner = new StringJoiner(&quot;\\n&quot;);\n\n    // Underweight\n    if (BMI &lt; 20.70) {\n\n        result = &quot;UnderWeight&quot;;\n        weightDifference = (Math.pow(height, 2) * 18.50) - weight;\n\n        joiner.add(&quot;BMI Calculator&quot;);\n        joiner.add(&quot;Date of diagnosis: &quot; + diagnosisDate());\n        joiner.add(&quot;Name: &quot; + name);\n        joiner.add(&quot;Weight: &quot; + weight);\n        joiner.add(&quot;Height: &quot; + height);\n        joiner.add(&quot;BMI: &quot; + BMI);\n        joiner.add(&quot;You need to fatten &quot; + weightDifference + &quot; to have a weight appropriate to your height&quot;);\n        joiner.add(&quot;&quot;);\n        joiner.add(&quot;RESULT: &quot; + this.result + &quot;.&quot;);\n\n    }\n</code></pre>\n<h1>You could...</h1>\n<p>Seperate your concerns and decouple the <code>Person</code> from the <code>BMI</code> and the formatting, this makes the over solution MUCH more flexible, for example, you could have a long format, which includes all the line breaks and what not, a tabular format or a short &quot;You're to fat&quot; format 😉</p>\n<p>Let's start by reducing the overlap of responsibilities</p>\n<h2>Person</h2>\n<p>A person object deals with just the details relating to, well, the person 🤷‍♂️</p>\n<pre><code>public class Person {\n\n    enum Gender {\n        MALE, FEMALE\n    }\n\n    private String name;\n    private Double weight;\n    private Double height;\n    private Gender gender;\n\n    public Person() {\n\n    }\n\n    public Person(Gender gender) {\n        this.gender = gender;\n    }\n\n    public Person(String name, Double weight, Double height, Gender gender) {\n        this.name = name;\n        this.weight = weight;\n        this.height = height;\n        this.gender = gender;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(Double weight) {\n        this.weight = weight;\n    }\n\n    public Double getHeight() {\n        return height;\n    }\n\n    public void setHeight(Double height) {\n        this.height = height;\n    }\n\n    public Gender getGender() {\n        return gender;\n    }\n\n    public void setGender(Gender gender) {\n        this.gender = gender;\n    }\n}\n</code></pre>\n<h2>BMI calculations...</h2>\n<p>Then you can isolate (and simplify) the calculations...</p>\n<pre><code>public class BMI {\n\n    enum Result {\n        UNDER_WEIGHT, IDEAL_WEIGHT, LITTLE_OVER_WEIGHT, OVER_WEIGHT, OBESE;\n\n        public String toString() {\n            switch (this) {\n                case UNDER_WEIGHT:\n                    return &quot;Under weight&quot;;\n                case IDEAL_WEIGHT:\n                    return &quot;Ideal&quot;;\n                case LITTLE_OVER_WEIGHT:\n                    return &quot;Little over weight&quot;;\n                case OVER_WEIGHT:\n                    return &quot;Over weight&quot;;\n                case OBESE:\n                    return &quot;Obese&quot;;\n            }\n            return &quot;unknown&quot;;\n        }\n    }\n\n    private Person person;\n    private double value;\n    private Result result;\n    private LocalDateTime diagnosisDate;\n\n    double weightDifference;\n    Double fatWeightQuantity = null;\n    Double loseWeightQuantity = null;\n\n    public BMI(Person person) {\n        this.person = person;\n        diagnosisDate = LocalDateTime.now();\n        value = (person.getWeight() / (Math.pow(person.getHeight(), 2)));\n        switch (person.getGender()) {\n            case MALE:\n                if (value &lt; 20.70) {\n                    result = Result.UNDER_WEIGHT;\n                    weightDifference = weightDifference(18.5);\n                } else if (value &lt;= 26.40) {\n                    result = Result.IDEAL_WEIGHT;\n                    weightDifference = weightDifference(18.5);\n                    fatWeightQuantity = fatWeightQuantity(24.9);\n                    loseWeightQuantity = loseWeightQuantity(18.5);\n                } else if (value &lt;= 27.80) {\n                    result = Result.LITTLE_OVER_WEIGHT;\n                    weightDifference = weightDifference(24.99);\n                } else if (value &lt;= 31.10) {\n                    weightDifference = weightDifference(24.99);\n                    result = Result.OVER_WEIGHT;\n                } else {\n                    result = Result.OBESE;\n                    weightDifference = weightDifference(24.99);\n                }\n            case FEMALE:\n                if (value &lt; 19.10) {\n                    result = Result.UNDER_WEIGHT;\n                    weightDifference = (Math.pow(person.getHeight(), 2) * 18.50) - person.getWeight();\n                } else if (value &lt;= 25.80) {\n                    result = Result.IDEAL_WEIGHT;\n                    weightDifference = (Math.pow(person.getHeight(), 2) * 18.50) - person.getWeight();\n                    fatWeightQuantity = fatWeightQuantity(24.9);\n                    loseWeightQuantity = loseWeightQuantity(18.5);\n                } else if (value &lt;= 27.30) {\n                    result = Result.LITTLE_OVER_WEIGHT;\n                    weightDifference = weightDifference(24.99);\n                } else if (value &lt;= 32.30) {\n                    weightDifference = weightDifference(24.99);\n                    result = Result.OVER_WEIGHT;\n                } else {\n                    result = Result.OBESE;\n                    weightDifference = weightDifference(24.99);\n                }\n                break;\n        }\n    }\n\n    public double getValue() {\n        return value;\n    }\n\n    public Person getPerson() {\n        return person;\n    }\n\n    public Result getResult() {\n        return result;\n    }\n\n    public double getWeightDifference() {\n        return weightDifference;\n    }\n\n    public Double getFatWeightQuantity() {\n        return fatWeightQuantity;\n    }\n\n    public Double getLoseWeightQuantity() {\n        return loseWeightQuantity;\n    }\n    \n    protected double heightByFactor(double factor) {\n        return Math.pow(getPerson().getHeight(), 2) * factor;\n    }\n\n    protected double weightDifference(double factor) {\n        return heightByFactor(factor) - getPerson().getWeight();\n    }\n\n    protected double fatWeightQuantity(double factor) {\n        return heightByFactor(factor) - getPerson().getWeight();\n    }\n\n    protected double loseWeightQuantity(double factor) {\n        return getPerson().getWeight() - heightByFactor(factor);\n    }\n\n    public LocalDateTime getDiagnosisDate() {\n        return diagnosisDate;\n    }\n\n}\n</code></pre>\n<h2>Formatting</h2>\n<p>Now, I've only done long format here, but you can see where this can go and the flexibility it can provide.</p>\n<pre><code>public class BMIFormatter {\n    public static String longFormat(BMI bmi) {\n        StringJoiner joiner = new StringJoiner(&quot;\\n&quot;);\n        joiner.add(&quot;BMI Calculator&quot;);\n        joiner.add(&quot;Date of diagnosis &quot; + DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(bmi.getDiagnosisDate()));\n        joiner.add(&quot;Name: &quot; + bmi.getPerson().getName());\n        joiner.add(&quot;Weight: &quot; + bmi.getPerson().getWeight());\n        joiner.add(&quot;Height: &quot; + bmi.getPerson().getHeight());\n        joiner.add(&quot;BMI: &quot; + NumberFormat.getNumberInstance().format(bmi.getValue()));\n\n        switch (bmi.getResult()) {\n            case UNDER_WEIGHT:\n                joiner.add(&quot;You need to fatten &quot; + NumberFormat.getNumberInstance().format(bmi.getWeightDifference()) + &quot; kgs to stay within normal range!&quot;);\n                break;\n            case IDEAL_WEIGHT:\n                joiner.add(&quot;Your weight is ideal for your height!&quot;);\n                joiner.add(&quot;You can still gain &quot; + NumberFormat.getNumberInstance().format(bmi.getFatWeightQuantity()) + &quot; or lose &quot; + NumberFormat.getNumberInstance().format(bmi.getLoseWeightQuantity()) + &quot;kgs without leaving normality.&quot;);\n                break;\n            case LITTLE_OVER_WEIGHT:\n                joiner.add(&quot;You need to lose&quot; + NumberFormat.getNumberInstance().format(bmi.getWeightDifference()) + &quot; kgs to stay within normal range!&quot;);\n                break;\n            case OVER_WEIGHT:\n                joiner.add(&quot;You need to lose&quot; + NumberFormat.getNumberInstance().format(bmi.getWeightDifference()) + &quot; kgs to stay within normal range!&quot;);\n                break;\n            case OBESE:\n                joiner.add(&quot;You need to lose&quot; + NumberFormat.getNumberInstance().format(bmi.getWeightDifference()) + &quot; kgs to stay within normal range!&quot;);\n                break;\n        }\n\n        joiner.add(&quot;&quot;);\n        joiner.add(&quot;RESULT: &quot; + bmi.result.toString() + &quot;.&quot;);\n\n        return joiner.toString();\n    }\n}\n</code></pre>\n<p>And then you could pull it all together using something like...</p>\n<pre><code>Person person = new Person(&quot;Bob&quot;, 65.5, 1.8, Person.Gender.MALE);\nBMI bmi = new BMI(person);\n\nSystem.out.println(BMIFormatter.longFormat(bmi));\n</code></pre>\n<p>Which prints</p>\n<pre><code>BMI Calculator\nDate of diagnosis 2022-01-24T15:15:40.685079\nName: Bob\nWeight: 65.5\nHeight: 1.8\nBMI: 20.216\nYour weight is ideal for your height!\nYou can still gain 15.176 or lose 5.56kgs without leaving normality.\n</code></pre>\n<p><em>nb: Check the calculations, I've tried hard to make sure they are correct, but I don't have the algorithm your using</em>\nRESULT: Ideal.</p>\n"}],"owner":{"account_id":20741255,"reputation":57,"user_id":15230857,"display_name":"Victor Hugo Santos de Moraes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70828719,"answer_count":3,"score":-1,"last_activity_date":1643017057,"creation_date":1642994270,"question_id":70828649,"body_markdown":"I&#39;m developing a system that calculates BMI. I&#39;m making on NetBeans (I&#39;m newbie in this IDE)\r\n\r\nHowever i&#39;m caught in a point...\r\nI&#39;d like to print the values of a StringBuilder on a textArea with line break, but I can&#39;t do it.\r\n\r\nThe code (person class):\r\n\r\n    package Entities;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class person {\r\n    \r\n        private String name;\r\n        private Double weight;\r\n        private Double height;\r\n        private Double BMI;\r\n        private String diagnosisDate;\r\n        private String result;\r\n        private Integer gender;\r\n    \r\n        public person() {\r\n    \r\n        }\r\n    \r\n        public person(Integer gender) {\r\n            this.gender = gender;\r\n        }\r\n    \r\n        public person(String name, Double weight, Double height, String diagnosisDate, Integer gender) {\r\n            this.name = name;\r\n            this.weight = weight;\r\n            this.height = height;\r\n            this.diagnosisDate = diagnosisDate;\r\n            this.gender = gender;\r\n        }\r\n    \r\n        public person(String name, Double weight, Double height, String diagnosisDate) {\r\n            this.name = name;\r\n            this.weight = weight;\r\n            this.height = height;\r\n            this.diagnosisDate = diagnosisDate;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public Double getWeight() {\r\n            return weight;\r\n        }\r\n    \r\n        public void setWeight(Double weight) {\r\n            this.weight = weight;\r\n        }\r\n    \r\n        public Double getHeight() {\r\n            return height;\r\n        }\r\n    \r\n        public void setHeight(Double height) {\r\n            this.height = height;\r\n        }\r\n    \r\n        public Double getBMI() {\r\n            return BMI;\r\n        }\r\n    \r\n        public void setBMI(Double BMI) {\r\n            this.BMI = BMI;\r\n        }\r\n    \r\n        public String getDiagnosisDate() {\r\n            return diagnosisDate;\r\n        }\r\n    \r\n        public void setDiagnosisDate(String diagnosisDate) {\r\n            this.diagnosisDate = diagnosisDate;\r\n        }\r\n    \r\n        public String getResult() {\r\n            return result;\r\n        }\r\n    \r\n        public void setResult(String result) {\r\n            this.result = result;\r\n        }\r\n    \r\n        public Integer getGender() {\r\n            return gender;\r\n        }\r\n    \r\n        public void setGender(Integer gender) {\r\n            this.gender = gender;\r\n        }\r\n    \r\n        public void calculateBMI() {\r\n            this.BMI = (this.weight / (Math.pow(this.height, 2)));\r\n        }\r\n    \r\n        public String diagnosisDate() {\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n            return dtf.format(LocalDateTime.now());\r\n        }\r\n    \r\n\r\n        // BMI calculation - MALE\r\n        public String BMIMale() {\r\n    \r\n            BMI = (weight / (Math.pow(height, 2)));\r\n    \r\n            double weightDifference;\r\n            double getFatWeightQuantity;\r\n            double loseWeightQuantity;\r\n    \r\n            StringBuilder sb = new StringBuilder();\r\n    \r\n            // Underweight\r\n            if (BMI &lt; 20.70) {\r\n    \r\n                result = &quot;UnderWeight&quot;;\r\n                weightDifference = (Math.pow(height, 2) * 18.50) - weight;\r\n    \r\n                sb.append(&quot;BMI Calculator&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;You need to fatten &quot; + weightDifference + &quot; to have a weight appropriate to your height&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + this.result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            // Ideal Weight\r\n            if (BMI &gt;= 20.70 &amp;&amp; BMI &lt;= 26.40) {\r\n    \r\n                result = &quot;Ideal Weight&quot;;\r\n                weightDifference = (Math.pow(height, 2) * 18.50) - weight;\r\n    \r\n                getFatWeightQuantity = (Math.pow(height, 2) * 24.99) - weight;\r\n                loseWeightQuantity = weight - (Math.pow(height, 2) * 18.50);\r\n    \r\n                sb.append(&quot;BMI Calculator&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;Your weight is ideal for your height!&quot;);\r\n                sb.append(&quot;You can still gain &quot; + getFatWeightQuantity + &quot; or lose &quot; + loseWeightQuantity\r\n                        + &quot;kgs without leaving normality.&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            // Little Overweight\r\n            if (BMI &gt;= 26.50 &amp;&amp; BMI &lt;= 27.80) {\r\n    \r\n                result = &quot; Little Overweight&quot;;\r\n                weightDifference = weight - (Math.pow(height, 2) * 24.99);\r\n    \r\n                sb.append(&quot;BMI Calculator&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            // Overweight\r\n            if (BMI &gt;= 27.90 &amp;&amp; BMI &lt;= 31.10) {\r\n    \r\n                result = &quot;Overweight&quot;;\r\n                weightDifference = weight - (Math.pow(height, 2) * 24.99);\r\n    \r\n                sb.append(&quot;BMI Calculator&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            // Obesity\r\n            if (BMI &gt;= 31.20) {\r\n    \r\n                result = &quot;Obesity&quot;;\r\n                weightDifference = weight - (Math.pow(height, 2) * 24.99);\r\n    \r\n                sb.append(&quot;BMI Calculator&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            return sb.toString();\r\n    \r\n        }\r\n    \r\n        // BMI calculation - FEMALE\r\n        public String BMIFemale() {\r\n    \r\n            BMI = (weight / (Math.pow(height, 2)));\r\n    \r\n            double weightDifference;\r\n            double getFatWeightQuantity;\r\n            double loseWeightQuantity;\r\n    \r\n            StringBuilder sb = new StringBuilder();\r\n    \r\n            // Underweight\r\n            if (BMI &lt; 19.10) {\r\n    \r\n                result = &quot;Underweight&quot;;\r\n                weightDifference = (Math.pow(height, 2) * 18.50) - weight;\r\n    \r\n                sb.append(&quot;BMI Calculator&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;You need to fatten &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            // Ideal Weight\r\n            if (BMI &gt;= 19.10 &amp;&amp; BMI &lt;= 25.80) {\r\n    \r\n                result = &quot;Ideal Weight&quot;;\r\n                weightDifference = (Math.pow(height, 2) * 18.50) - weight;\r\n    \r\n                getFatWeightQuantity = (Math.pow(height, 2) * 24.99) - weight;\r\n                loseWeightQuantity = weight - (Math.pow(height, 2) * 18.50);\r\n    \r\n                sb.append(&quot;BMI Calculator&quot; + &quot;\\n&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;Your weight is ideal for your height!&quot;);\r\n                sb.append(&quot;You can still gain &quot; + getFatWeightQuantity + &quot; or lose &quot; + loseWeightQuantity\r\n                        + &quot;kgs without leaving normality.&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            // Little Overweight\r\n            if (BMI &gt;= 25.90 &amp;&amp; BMI &lt;= 27.30) {\r\n    \r\n                result = &quot;Overweight&quot;;\r\n                weightDifference = weight - (Math.pow(height, 2) * 24.99);\r\n    \r\n                sb.append(&quot;BMI Calculator&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            // Overweight\r\n            if (BMI &gt;= 27.40 &amp;&amp; BMI &lt;= 32.30) {\r\n    \r\n                result = &quot;Overweight&quot;;\r\n                weightDifference = weight - (Math.pow(height, 2) * 24.99);\r\n    \r\n                sb.append(&quot;BMI Calculator&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            // Obesity\r\n            if (BMI &gt;= 32.40) {\r\n    \r\n                result = &quot;Obesity&quot;;\r\n                weightDifference = weight - (Math.pow(height, 2) * 24.99);\r\n    \r\n                sb.append(&quot;BMI Calculator&quot;);\r\n                sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\r\n                sb.append(&quot;Name: &quot; + name);\r\n                sb.append(&quot;Weight: &quot; + weight);\r\n                sb.append(&quot;Height: &quot; + height);\r\n                sb.append(&quot;BMI: &quot; + BMI);\r\n                sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\r\n                sb.append(&quot;&quot;);\r\n                sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\r\n    \r\n            }\r\n    \r\n            return sb.toString();\r\n        }\r\n    \r\n    }\r\n\r\nAnd the main class (ui):\r\n\r\n   \r\n        private void buttonCalculateActionPerformed(java.awt.event.ActionEvent evt) {                                                \r\n            \r\n\r\n            if (gender == 0) {\r\n                \r\n                JOptionPane.showMessageDialog(null, &quot;Choose an option (Male or Female)!&quot;);\r\n                \r\n            } else {\r\n                \r\n                String name = textFieldName.getText();\r\n                double weight = Double.parseDouble(textFieldWeight.getText());\r\n                double height = Double.parseDouble(textFieldHeight.getText());\r\n                \r\n                String diagnosisDate = p.diagnosisDate();\r\n                \r\n                person p = new person(name, weight, height, diagnosisDate, gender);\r\n                \r\n                if (p.getGender() == -1) {\r\n                    \r\n                    textAreaResult.append(p.BMIMale());\r\n                    \r\n                    \r\n                } else if (p.getGender() == 1) {\r\n                    \r\n                    textAreaResult.append(p.BMIFemale());\r\n                    \r\n                }\r\n              \r\n            }\r\n            \r\n        }                                               \r\n    \r\n\r\n(I&#39;m showing only the part where I do the printing).\r\n\r\nI can&#39;t do the code print each line of my StringBuilder, one under the other.\r\n\r\nThe result is this:\r\n[Result][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zcJuD.png\r\n\r\n\r\nDo you see that the lines are printed glued to each other?\r\nHow can I solve it? Print each line separately, one under the other?\r\n\r\nPs.: If it&#39;s missing info, you may ask to me more (i&#39;m relatively new here...)","title":"Print a StringBuilder on a TextArea with line break","body":"<p>I'm developing a system that calculates BMI. I'm making on NetBeans (I'm newbie in this IDE)</p>\n<p>However i'm caught in a point...\nI'd like to print the values of a StringBuilder on a textArea with line break, but I can't do it.</p>\n<p>The code (person class):</p>\n<pre><code>package Entities;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class person {\n\n    private String name;\n    private Double weight;\n    private Double height;\n    private Double BMI;\n    private String diagnosisDate;\n    private String result;\n    private Integer gender;\n\n    public person() {\n\n    }\n\n    public person(Integer gender) {\n        this.gender = gender;\n    }\n\n    public person(String name, Double weight, Double height, String diagnosisDate, Integer gender) {\n        this.name = name;\n        this.weight = weight;\n        this.height = height;\n        this.diagnosisDate = diagnosisDate;\n        this.gender = gender;\n    }\n\n    public person(String name, Double weight, Double height, String diagnosisDate) {\n        this.name = name;\n        this.weight = weight;\n        this.height = height;\n        this.diagnosisDate = diagnosisDate;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(Double weight) {\n        this.weight = weight;\n    }\n\n    public Double getHeight() {\n        return height;\n    }\n\n    public void setHeight(Double height) {\n        this.height = height;\n    }\n\n    public Double getBMI() {\n        return BMI;\n    }\n\n    public void setBMI(Double BMI) {\n        this.BMI = BMI;\n    }\n\n    public String getDiagnosisDate() {\n        return diagnosisDate;\n    }\n\n    public void setDiagnosisDate(String diagnosisDate) {\n        this.diagnosisDate = diagnosisDate;\n    }\n\n    public String getResult() {\n        return result;\n    }\n\n    public void setResult(String result) {\n        this.result = result;\n    }\n\n    public Integer getGender() {\n        return gender;\n    }\n\n    public void setGender(Integer gender) {\n        this.gender = gender;\n    }\n\n    public void calculateBMI() {\n        this.BMI = (this.weight / (Math.pow(this.height, 2)));\n    }\n\n    public String diagnosisDate() {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;);\n        return dtf.format(LocalDateTime.now());\n    }\n\n\n    // BMI calculation - MALE\n    public String BMIMale() {\n\n        BMI = (weight / (Math.pow(height, 2)));\n\n        double weightDifference;\n        double getFatWeightQuantity;\n        double loseWeightQuantity;\n\n        StringBuilder sb = new StringBuilder();\n\n        // Underweight\n        if (BMI &lt; 20.70) {\n\n            result = &quot;UnderWeight&quot;;\n            weightDifference = (Math.pow(height, 2) * 18.50) - weight;\n\n            sb.append(&quot;BMI Calculator&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;You need to fatten &quot; + weightDifference + &quot; to have a weight appropriate to your height&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + this.result + &quot;.&quot;);\n\n        }\n\n        // Ideal Weight\n        if (BMI &gt;= 20.70 &amp;&amp; BMI &lt;= 26.40) {\n\n            result = &quot;Ideal Weight&quot;;\n            weightDifference = (Math.pow(height, 2) * 18.50) - weight;\n\n            getFatWeightQuantity = (Math.pow(height, 2) * 24.99) - weight;\n            loseWeightQuantity = weight - (Math.pow(height, 2) * 18.50);\n\n            sb.append(&quot;BMI Calculator&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;Your weight is ideal for your height!&quot;);\n            sb.append(&quot;You can still gain &quot; + getFatWeightQuantity + &quot; or lose &quot; + loseWeightQuantity\n                    + &quot;kgs without leaving normality.&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\n\n        }\n\n        // Little Overweight\n        if (BMI &gt;= 26.50 &amp;&amp; BMI &lt;= 27.80) {\n\n            result = &quot; Little Overweight&quot;;\n            weightDifference = weight - (Math.pow(height, 2) * 24.99);\n\n            sb.append(&quot;BMI Calculator&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\n\n        }\n\n        // Overweight\n        if (BMI &gt;= 27.90 &amp;&amp; BMI &lt;= 31.10) {\n\n            result = &quot;Overweight&quot;;\n            weightDifference = weight - (Math.pow(height, 2) * 24.99);\n\n            sb.append(&quot;BMI Calculator&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\n\n        }\n\n        // Obesity\n        if (BMI &gt;= 31.20) {\n\n            result = &quot;Obesity&quot;;\n            weightDifference = weight - (Math.pow(height, 2) * 24.99);\n\n            sb.append(&quot;BMI Calculator&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\n\n        }\n\n        return sb.toString();\n\n    }\n\n    // BMI calculation - FEMALE\n    public String BMIFemale() {\n\n        BMI = (weight / (Math.pow(height, 2)));\n\n        double weightDifference;\n        double getFatWeightQuantity;\n        double loseWeightQuantity;\n\n        StringBuilder sb = new StringBuilder();\n\n        // Underweight\n        if (BMI &lt; 19.10) {\n\n            result = &quot;Underweight&quot;;\n            weightDifference = (Math.pow(height, 2) * 18.50) - weight;\n\n            sb.append(&quot;BMI Calculator&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;You need to fatten &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\n\n        }\n\n        // Ideal Weight\n        if (BMI &gt;= 19.10 &amp;&amp; BMI &lt;= 25.80) {\n\n            result = &quot;Ideal Weight&quot;;\n            weightDifference = (Math.pow(height, 2) * 18.50) - weight;\n\n            getFatWeightQuantity = (Math.pow(height, 2) * 24.99) - weight;\n            loseWeightQuantity = weight - (Math.pow(height, 2) * 18.50);\n\n            sb.append(&quot;BMI Calculator&quot; + &quot;\\n&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;Your weight is ideal for your height!&quot;);\n            sb.append(&quot;You can still gain &quot; + getFatWeightQuantity + &quot; or lose &quot; + loseWeightQuantity\n                    + &quot;kgs without leaving normality.&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\n\n        }\n\n        // Little Overweight\n        if (BMI &gt;= 25.90 &amp;&amp; BMI &lt;= 27.30) {\n\n            result = &quot;Overweight&quot;;\n            weightDifference = weight - (Math.pow(height, 2) * 24.99);\n\n            sb.append(&quot;BMI Calculator&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\n\n        }\n\n        // Overweight\n        if (BMI &gt;= 27.40 &amp;&amp; BMI &lt;= 32.30) {\n\n            result = &quot;Overweight&quot;;\n            weightDifference = weight - (Math.pow(height, 2) * 24.99);\n\n            sb.append(&quot;BMI Calculator&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\n\n        }\n\n        // Obesity\n        if (BMI &gt;= 32.40) {\n\n            result = &quot;Obesity&quot;;\n            weightDifference = weight - (Math.pow(height, 2) * 24.99);\n\n            sb.append(&quot;BMI Calculator&quot;);\n            sb.append(&quot;Date of diagnosis: &quot; + diagnosisDate());\n            sb.append(&quot;Name: &quot; + name);\n            sb.append(&quot;Weight: &quot; + weight);\n            sb.append(&quot;Height: &quot; + height);\n            sb.append(&quot;BMI: &quot; + BMI);\n            sb.append(&quot;You need to lose &quot; + weightDifference + &quot; kgs to stay within normal range!&quot;);\n            sb.append(&quot;&quot;);\n            sb.append(&quot;RESULT: &quot; + result + &quot;.&quot;);\n\n        }\n\n        return sb.toString();\n    }\n\n}\n</code></pre>\n<p>And the main class (ui):</p>\n<pre><code>    private void buttonCalculateActionPerformed(java.awt.event.ActionEvent evt) {                                                \n        \n\n        if (gender == 0) {\n            \n            JOptionPane.showMessageDialog(null, &quot;Choose an option (Male or Female)!&quot;);\n            \n        } else {\n            \n            String name = textFieldName.getText();\n            double weight = Double.parseDouble(textFieldWeight.getText());\n            double height = Double.parseDouble(textFieldHeight.getText());\n            \n            String diagnosisDate = p.diagnosisDate();\n            \n            person p = new person(name, weight, height, diagnosisDate, gender);\n            \n            if (p.getGender() == -1) {\n                \n                textAreaResult.append(p.BMIMale());\n                \n                \n            } else if (p.getGender() == 1) {\n                \n                textAreaResult.append(p.BMIFemale());\n                \n            }\n          \n        }\n        \n    }                                               \n</code></pre>\n<p>(I'm showing only the part where I do the printing).</p>\n<p>I can't do the code print each line of my StringBuilder, one under the other.</p>\n<p>The result is this:\n<a href=\"https://i.stack.imgur.com/zcJuD.png\" rel=\"nofollow noreferrer\">Result</a></p>\n<p>Do you see that the lines are printed glued to each other?\nHow can I solve it? Print each line separately, one under the other?</p>\n<p>Ps.: If it's missing info, you may ask to me more (i'm relatively new here...)</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1643018737,"post_id":70831625,"comment_id":125219628,"body_markdown":"Does this answer your question? [Mockito - mocking legacy class constructor](https://stackoverflow.com/questions/6288575/mockito-mocking-legacy-class-constructor)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6288575/mockito-mocking-legacy-class-constructor\">Mockito - mocking legacy class constructor</a>"},{"owner":{"account_id":1899646,"reputation":1,"user_id":1715772,"display_name":"user1715772"},"score":0,"creation_date":1643025124,"post_id":70831625,"comment_id":125221929,"body_markdown":"@maloomeister i can&#39;t modify the code or  use the PowerMock，so the answer is invalid","body":"@maloomeister i can&#39;t modify the code or  use the PowerMock，so the answer is invalid"}],"owner":{"account_id":1899646,"reputation":1,"user_id":1715772,"display_name":"user1715772"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643056240,"answer_count":0,"score":0,"last_activity_date":1643016663,"creation_date":1643016663,"question_id":70831625,"body_markdown":"I have a class that contains a new() call like this:\r\n```\r\npublic class TestService {\r\n    public String test(String test) {\r\n        String data = new Engine().getData();\r\n        return test + data;\r\n    }\r\n}\r\n```\r\nI can&#39;t modify the code, is it possible using Mockito to mock new Engine().getData()?\r\n\r\n\r\n","title":"How to use Mockito to mock new Object?","body":"<p>I have a class that contains a new() call like this:</p>\n<pre><code>public class TestService {\n    public String test(String test) {\n        String data = new Engine().getData();\n        return test + data;\n    }\n}\n</code></pre>\n<p>I can't modify the code, is it possible using Mockito to mock new Engine().getData()?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1170837,"reputation":5416,"user_id":1148071,"display_name":"cello"},"score":3,"creation_date":1643016055,"post_id":70831456,"comment_id":125218649,"body_markdown":"Try `jpackage` which comes with newer java versions. A tutorial on how to use it: https://www.baeldung.com/java14-jpackage","body":"Try <code>jpackage</code> which comes with newer java versions. A tutorial on how to use it: <a href=\"https://www.baeldung.com/java14-jpackage\" rel=\"nofollow noreferrer\">baeldung.com/java14-jpackage</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643016552,"post_id":70831456,"comment_id":125218805,"body_markdown":"Literally no ... since you need a JDK (actually a JRE, but we are splitting hairs) to load and run a JAR.  But you can create (platform specific) binary. See the first answer.","body":"Literally no ... since you need a JDK (actually a JRE, but we are splitting hairs) to load and run a JAR.  But you can create (platform specific) binary. See the first answer."},{"owner":{"account_id":23109816,"reputation":39,"user_id":17217904,"display_name":"Mr.NeedHelpAlot"},"score":0,"creation_date":1643017048,"post_id":70831456,"comment_id":125218985,"body_markdown":"@StephenC so installing the latest JRE should be enough to cover it all or do I misunderstand?","body":"@StephenC so installing the latest JRE should be enough to cover it all or do I misunderstand?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643017208,"post_id":70831456,"comment_id":125219045,"body_markdown":"Yes.  Assuming that you have *tested* your application with the *latest* JRE or JDK.  But be aware that Oracle and many other Java vendors stopped distributing JREs after Java 8.  So if you are providing installation instructions to users, they need to be nuanced.","body":"Yes.  Assuming that you have <i>tested</i> your application with the <i>latest</i> JRE or JDK.  But be aware that Oracle and many other Java vendors stopped distributing JREs after Java 8.  So if you are providing installation instructions to users, they need to be nuanced."}],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643016270,"creation_date":1643016270,"answer_id":70831541,"question_id":70831456,"body_markdown":"There is a new tool called [jpackage][1], which should do what you want.\r\n\r\nAlso see the [User&#39;s Guide][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/jpackage/packaging-overview.html","title":"Is it possible to embed JDK and other requirements into runnable jar?","body":"<p>There is a new tool called <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">jpackage</a>, which should do what you want.</p>\n<p>Also see the <a href=\"https://docs.oracle.com/en/java/javase/17/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">User's Guide</a>.</p>\n"}],"owner":{"account_id":23109816,"reputation":39,"user_id":17217904,"display_name":"Mr.NeedHelpAlot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70831541,"answer_count":1,"score":1,"last_activity_date":1643016270,"creation_date":1643015807,"question_id":70831456,"body_markdown":"Two days ago I got close to finishing a java program that wrote, I wanted to let some friends play with it for a bit to find flaws etc. I created a runnable jar trough Eclipse and then I used Launch4j to transform the runnable jar into a .exe\r\nIt worked perfectly fine on my pc, but any other user couldn&#39;t open it. After a while I discovered that when people would install java JDK, it worked for about 40%, but this atleast pushed me in the direction of what the flaw is. Is there a way to (automaticly?) embed everything in the jar that my program is in need of? Or is there a way to determine what exactly it all is that people need for the .exe to run and what they are missing by running some pre-checks that can re-direct them to links where they can download this? I can&#39;t seem to find much on this subject, so I probably made a mis assumption somewhere, any help/clearance is appreciated!","title":"Is it possible to embed JDK and other requirements into runnable jar?","body":"<p>Two days ago I got close to finishing a java program that wrote, I wanted to let some friends play with it for a bit to find flaws etc. I created a runnable jar trough Eclipse and then I used Launch4j to transform the runnable jar into a .exe\nIt worked perfectly fine on my pc, but any other user couldn't open it. After a while I discovered that when people would install java JDK, it worked for about 40%, but this atleast pushed me in the direction of what the flaw is. Is there a way to (automaticly?) embed everything in the jar that my program is in need of? Or is there a way to determine what exactly it all is that people need for the .exe to run and what they are missing by running some pre-checks that can re-direct them to links where they can download this? I can't seem to find much on this subject, so I probably made a mis assumption somewhere, any help/clearance is appreciated!</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643019315,"post_id":70831484,"comment_id":125219851,"body_markdown":"Your dependencies are a incompatible and dangerous mess. 1 remove jackson dependencies, 2 remove the `org.springframework` dependencies, 3. remove the `org.springframework.security` dependency, 4. replace elasticsearch with `spring-boot-starter-data-elasticsearch`","body":"Your dependencies are a incompatible and dangerous mess. 1 remove jackson dependencies, 2 remove the <code>org.springframework</code> dependencies, 3. remove the <code>org.springframework.security</code> dependency, 4. replace elasticsearch with <code>spring-boot-starter-data-elasticsearch</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643020192,"post_id":70831484,"comment_id":125220157,"body_markdown":"and forgot, add `spring-boot-starter-websocket` as a dependency to use websockets.","body":"and forgot, add <code>spring-boot-starter-websocket</code> as a dependency to use websockets."}],"owner":{"account_id":23977983,"reputation":37,"user_id":17965833,"display_name":"ani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643015933,"creation_date":1643015933,"question_id":70831484,"body_markdown":"**Correct the classpath of your application so that it contains a single, compatible version of org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport**\r\n\r\nthose are my dependencies\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.2&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;healthcare&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;healthcare&lt;/name&gt;\r\n        &lt;description&gt;healthcare&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.caucho&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hessian&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.38&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk-ses&lt;/artifactId&gt;\r\n                &lt;version&gt;1.12.106&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n                &lt;version&gt;5.5.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.7.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.6.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mongodb-springdata-v3-driver&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mongock-spring-v5&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/io.projectreactor/reactor-net --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-net&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/io.netty/netty-all --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.33.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mongock-bom&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.3.8&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n            &lt;/dependencies&gt;\r\n    \r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nand this is desc\r\n\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\norg.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport.stompWebSocketHandlerMapping(WebSocketMessageBrokerConfigurationSupport.java:76)\r\n\r\nThe following method did not exist:\r\n\r\norg.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport.messageBrokerTaskScheduler()Lorg/springframework/scheduling/TaskScheduler;\r\n\r\nThe calling method&#39;s class, org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport, was loaded from the following location:\r\n\r\njar:file:/Users/grigormartirosyan/.m2/repository/org/springframework/spring-websocket/5.2.2.RELEASE/spring-websocket-5.2.2.RELEASE.jar!/org/springframework/web/socket/config/annotation/WebSocketMessageBrokerConfigurationSupport.class\r\n\r\nThe called method&#39;s class, org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport, is available from the following locations:\r\n\r\njar:file:/Users/grigormartirosyan/.m2/repository/org/springframework/spring-websocket/5.2.2.RELEASE/spring-websocket-5.2.2.RELEASE.jar!/org/springframework/web/socket/config/annotation/WebSocketMessageBrokerConfigurationSupport.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\norg.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport: file:/Users/grigormartirosyan/.m2/repository/org/springframework/spring-websocket/5.2.2.RELEASE/spring-websocket-5.2.2.RELEASE.jar\r\norg.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration: file:/Users/grigormartirosyan/.m2/repository/org/springframework/spring-messaging/5.0.7.RELEASE/spring-messaging-5.0.7.RELEASE.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains a single, compatible version of org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n    \r\n\r\n\r\n\r\n\r\n","title":"Correct the classpath of your application so that it contains a single, compatible version of","body":"<p><strong>Correct the classpath of your application so that it contains a single, compatible version of org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport</strong></p>\n<p>those are my dependencies</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;healthcare&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;healthcare&lt;/name&gt;\n    &lt;description&gt;healthcare&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.caucho&lt;/groupId&gt;\n            &lt;artifactId&gt;hessian&lt;/artifactId&gt;\n            &lt;version&gt;4.0.38&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-ses&lt;/artifactId&gt;\n            &lt;version&gt;1.12.106&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;5.0.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-springdata-v3-driver&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\n            &lt;artifactId&gt;mongock-spring-v5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.projectreactor/reactor-net --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-net&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.netty/netty-all --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n            &lt;version&gt;4.0.33.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.github.cloudyrock.mongock&lt;/groupId&gt;\n                &lt;artifactId&gt;mongock-bom&lt;/artifactId&gt;\n                &lt;version&gt;4.3.8&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>and this is desc</p>\n<p>Description:</p>\n<p>An attempt was made to call a method that does not exist. The attempt was made from the following location:</p>\n<p>org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport.stompWebSocketHandlerMapping(WebSocketMessageBrokerConfigurationSupport.java:76)</p>\n<p>The following method did not exist:</p>\n<p>org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport.messageBrokerTaskScheduler()Lorg/springframework/scheduling/TaskScheduler;</p>\n<p>The calling method's class, org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport, was loaded from the following location:</p>\n<p>jar:file:/Users/grigormartirosyan/.m2/repository/org/springframework/spring-websocket/5.2.2.RELEASE/spring-websocket-5.2.2.RELEASE.jar!/org/springframework/web/socket/config/annotation/WebSocketMessageBrokerConfigurationSupport.class</p>\n<p>The called method's class, org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport, is available from the following locations:</p>\n<p>jar:file:/Users/grigormartirosyan/.m2/repository/org/springframework/spring-websocket/5.2.2.RELEASE/spring-websocket-5.2.2.RELEASE.jar!/org/springframework/web/socket/config/annotation/WebSocketMessageBrokerConfigurationSupport.class</p>\n<p>The called method's class hierarchy was loaded from the following locations:</p>\n<p>org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport: file:/Users/grigormartirosyan/.m2/repository/org/springframework/spring-websocket/5.2.2.RELEASE/spring-websocket-5.2.2.RELEASE.jar\norg.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration: file:/Users/grigormartirosyan/.m2/repository/org/springframework/spring-messaging/5.0.7.RELEASE/spring-messaging-5.0.7.RELEASE.jar</p>\n<p>Action:</p>\n<p>Correct the classpath of your application so that it contains a single, compatible version of org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport</p>\n<p>Process finished with exit code 1</p>\n"},{"tags":["java","spring-boot","jpa","mybatis"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643015845,"creation_date":1643015845,"answer_id":70831463,"question_id":70718634,"body_markdown":"I think you don&#39;t need native query here, because the costs of querying data from the database and transfering it over network are higher than any related Java operations.\r\n\r\nInstead of native query you can use JPQL query, e.g.\r\n```java\r\n@Query(&quot;select new com.tsypanov.domain.HasIdAndNameDto(e.id, e.name)&quot; +\r\n    &quot; from ManyFieldsEntity e &quot; +\r\n    &quot;where e.name = :name&quot;)\r\nList&lt;HasIdAndName&gt; findAllByNameUsingDto(@Param(&quot;name&quot;) String name);\r\n```\r\nHere we call constructor of DTO from JPQL query passing the fields from our entity. The DTO class must have the specified constructor:\r\n```java\r\n@RequiredArgsConstructor\r\npublic class HasIdAndNameDto {\r\n\r\n  private final Long id;\r\n  private final String name;\r\n\r\n}\r\n```","title":"Is it possible to query with list of objects using JPA like foreach tag?","body":"<p>I think you don't need native query here, because the costs of querying data from the database and transfering it over network are higher than any related Java operations.</p>\n<p>Instead of native query you can use JPQL query, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select new com.tsypanov.domain.HasIdAndNameDto(e.id, e.name)&quot; +\n    &quot; from ManyFieldsEntity e &quot; +\n    &quot;where e.name = :name&quot;)\nList&lt;HasIdAndName&gt; findAllByNameUsingDto(@Param(&quot;name&quot;) String name);\n</code></pre>\n<p>Here we call constructor of DTO from JPQL query passing the fields from our entity. The DTO class must have the specified constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class HasIdAndNameDto {\n\n  private final Long id;\n  private final String name;\n\n}\n</code></pre>\n"}],"owner":{"account_id":16985857,"reputation":21,"user_id":12286653,"display_name":"wong isa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643015845,"creation_date":1642216697,"question_id":70718634,"body_markdown":"Let&#39;s say I have a query like this:\r\n\r\nQuery object\r\n```\r\npublic class myObject {\r\n    private String code;\r\n    private String name;\r\n}\r\n```\r\nquery method\r\n\r\n```\r\n@Query(nativeQuery = true,value = &quot;...&quot;)\r\nfindByAcodeAndBname(List&lt;MyObject&gt; queryObject);\r\n```\r\n\r\nPseudocode of the query\r\n```\r\n select a.code, b.name from tableA a \r\n  left join table b on a.column = b.column \r\n where a.code = ${} b.name = ${}\r\n```\r\n\r\nSince it could cause performance issues just simply using foreach code in Java to do the query, how do I map every pair of a.code and b.name using native JPA query like mybatis foreach tag? Or is it posssible?\r\n\r\n","title":"Is it possible to query with list of objects using JPA like foreach tag?","body":"<p>Let's say I have a query like this:</p>\n<p>Query object</p>\n<pre><code>public class myObject {\n    private String code;\n    private String name;\n}\n</code></pre>\n<p>query method</p>\n<pre><code>@Query(nativeQuery = true,value = &quot;...&quot;)\nfindByAcodeAndBname(List&lt;MyObject&gt; queryObject);\n</code></pre>\n<p>Pseudocode of the query</p>\n<pre><code> select a.code, b.name from tableA a \n  left join table b on a.column = b.column \n where a.code = ${} b.name = ${}\n</code></pre>\n<p>Since it could cause performance issues just simply using foreach code in Java to do the query, how do I map every pair of a.code and b.name using native JPA query like mybatis foreach tag? Or is it posssible?</p>\n"},{"tags":["java","memory","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643015552,"creation_date":1642885576,"answer_id":70817148,"question_id":70817004,"body_markdown":"JVM does not allow you to run garbage collection on demand. You can try calling `System.gc()` but it will only *suggest* (as stated in the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#gc())) the JVM to run a FullGC.\r\n\r\nThe JVM offers a variety of collectors\r\n\r\n[`Serial`](https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html#GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498) and [`parallel`](https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html#GUID-13943556-F521-4287-AAAA-AE5DE68777CD) collectors use a Stop The World approach so they will freeze your game when running.\r\n\r\n[`G1`](https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html#GUID-C7B19628-27BA-4945-9004-EC0F08C76003) collector tries to balance between latency and throughput.\r\n\r\nI understand from your question you are looking for a low-latency garbage collection, so the user will not notices the pauses. I would suggest one of these collectors\r\n* [Shenandoah](https://wiki.openjdk.java.net/display/shenandoah/Main)\r\n* [ZGC](https://wiki.openjdk.java.net/display/zgc/Main)\r\n\r\nAs they claim to be low-latency with sub-millisecond pauses.\r\n\r\nUsing the JVM you will not be able to avoid gc pauses. They will eventually happen, but choosing the right GC can reduce their duration and occurrences. So maybe Java is not suitable for this use case.\r\n\r\nAbout keeping your memory usage low, that is up to you. Garbage collection can not help you with that. Just be really careful when allocating objects.","title":"Garbage collection for a simulation that creates a lot of instances","body":"<p>JVM does not allow you to run garbage collection on demand. You can try calling <code>System.gc()</code> but it will only <em>suggest</em> (as stated in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#gc()\" rel=\"nofollow noreferrer\">documentation</a>) the JVM to run a FullGC.</p>\n<p>The JVM offers a variety of collectors</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html#GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498\" rel=\"nofollow noreferrer\"><code>Serial</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html#GUID-13943556-F521-4287-AAAA-AE5DE68777CD\" rel=\"nofollow noreferrer\"><code>parallel</code></a> collectors use a Stop The World approach so they will freeze your game when running.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html#GUID-C7B19628-27BA-4945-9004-EC0F08C76003\" rel=\"nofollow noreferrer\"><code>G1</code></a> collector tries to balance between latency and throughput.</p>\n<p>I understand from your question you are looking for a low-latency garbage collection, so the user will not notices the pauses. I would suggest one of these collectors</p>\n<ul>\n<li><a href=\"https://wiki.openjdk.java.net/display/shenandoah/Main\" rel=\"nofollow noreferrer\">Shenandoah</a></li>\n<li><a href=\"https://wiki.openjdk.java.net/display/zgc/Main\" rel=\"nofollow noreferrer\">ZGC</a></li>\n</ul>\n<p>As they claim to be low-latency with sub-millisecond pauses.</p>\n<p>Using the JVM you will not be able to avoid gc pauses. They will eventually happen, but choosing the right GC can reduce their duration and occurrences. So maybe Java is not suitable for this use case.</p>\n<p>About keeping your memory usage low, that is up to you. Garbage collection can not help you with that. Just be really careful when allocating objects.</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70817148,"answer_count":1,"score":0,"last_activity_date":1643015552,"creation_date":1642884337,"question_id":70817004,"body_markdown":"I&#39;m creating a falling sand game. This means there will be a lot of instances representing each individual element and lots of elements will be destroyed. \r\n\r\nIt would be a 2d array such as `Element[][]`. \r\n\r\nI&#39;m writing this in Java so when I delete an element (Unassign it from the 2d array) it will still remain in memory until garbage collected. Eventually the memory would creep up until garbage collection kicks in which would freeze up the game. \r\n\r\nI would like to avoid any freezing up and prefer if the memory usage could remain lower. Something that could work is if the garbage collector could run periodically or similar. \r\n\r\nOverall I&#39;m not sure if my app is going to be possible in Java if I can&#39;t get around this.\r\n\r\nIs there a preferred garbage collector for this scenario or any other method I could use for handling this? ","title":"Garbage collection for a simulation that creates a lot of instances","body":"<p>I'm creating a falling sand game. This means there will be a lot of instances representing each individual element and lots of elements will be destroyed.</p>\n<p>It would be a 2d array such as <code>Element[][]</code>.</p>\n<p>I'm writing this in Java so when I delete an element (Unassign it from the 2d array) it will still remain in memory until garbage collected. Eventually the memory would creep up until garbage collection kicks in which would freeze up the game.</p>\n<p>I would like to avoid any freezing up and prefer if the memory usage could remain lower. Something that could work is if the garbage collector could run periodically or similar.</p>\n<p>Overall I'm not sure if my app is going to be possible in Java if I can't get around this.</p>\n<p>Is there a preferred garbage collector for this scenario or any other method I could use for handling this?</p>\n"},{"tags":["java","android-studio","intellij-idea"],"comments":[{"owner":{"account_id":9845781,"reputation":374,"user_id":7293353,"display_name":"Jose Lopez"},"score":0,"creation_date":1643013780,"post_id":70830737,"comment_id":125217894,"body_markdown":"AS does gray out unused methods too. But what im looking for is a custom warning that warns you outside of the class, for each object created using that class. I want the warning to be displayed on the object, not inside the class. I thought maybe with Annotations, idk much about that though.","body":"AS does gray out unused methods too. But what im looking for is a custom warning that warns you outside of the class, for each object created using that class. I want the warning to be displayed on the object, not inside the class. I thought maybe with Annotations, idk much about that though."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1643014406,"post_id":70830737,"comment_id":125218089,"body_markdown":"In general, no. You may find some standardized tooling support around the (Auto/)Closeable interface. Google&#39;s Error Prone has the concept of things that [must be closed](http://errorprone.info/bugpattern/MustBeClosedChecker), I don&#39;t know if that helps.","body":"In general, no. You may find some standardized tooling support around the (Auto/)Closeable interface. Google&#39;s Error Prone has the concept of things that <a href=\"http://errorprone.info/bugpattern/MustBeClosedChecker\" rel=\"nofollow noreferrer\">must be closed</a>, I don&#39;t know if that helps."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1643014421,"post_id":70830737,"comment_id":125218094,"body_markdown":"A bit like `finalize` or `AutoCloseable` with `try (Car car = new Car()) { ... }`. Both not working. Maybe something with a `WeakReference&lt;Car&gt;` if it is just dispose.","body":"A bit like <code>finalize</code> or <code>AutoCloseable</code> with <code>try (Car car = new Car()) { ... }</code>. Both not working. Maybe something with a <code>WeakReference&lt;Car&gt;</code> if it is just dispose."},{"owner":{"account_id":9845781,"reputation":374,"user_id":7293353,"display_name":"Jose Lopez"},"score":0,"creation_date":1643015183,"post_id":70830737,"comment_id":125218333,"body_markdown":"Ouch, that&#39;s a shame. I have a lib which I wrote years ago and sometimes I just don&#39;t remember that some classes require the object to be dispose manually.  Oh well... thanks guys.","body":"Ouch, that&#39;s a shame. I have a lib which I wrote years ago and sometimes I just don&#39;t remember that some classes require the object to be dispose manually.  Oh well... thanks guys."},{"owner":{"account_id":9845781,"reputation":374,"user_id":7293353,"display_name":"Jose Lopez"},"score":0,"creation_date":1643017187,"post_id":70830737,"comment_id":125219038,"body_markdown":"@AndyTurner That sounds exactly what I&#39;m looking for except for the try-with-resources part. My app uses a game-loop, where you create and dispose objects in seperate methods. My objects can and have to live a bit longer than a few lines of code. Usually, I dispose them once the user changes the screen.","body":"@AndyTurner That sounds exactly what I&#39;m looking for except for the try-with-resources part. My app uses a game-loop, where you create and dispose objects in seperate methods. My objects can and have to live a bit longer than a few lines of code. Usually, I dispose them once the user changes the screen."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1643037971,"post_id":70830737,"comment_id":125227216,"body_markdown":"You create a custom [Structural Search rule](https://www.jetbrains.com/help/idea/structural-search-and-replace.html) to find such constructs and apply this [rule as the inspection](https://www.jetbrains.com/help/idea/tutorial-work-with-structural-search-and-replace.html#custom_inspection).","body":"You create a custom <a href=\"https://www.jetbrains.com/help/idea/structural-search-and-replace.html\" rel=\"nofollow noreferrer\">Structural Search rule</a> to find such constructs and apply this <a href=\"https://www.jetbrains.com/help/idea/tutorial-work-with-structural-search-and-replace.html#custom_inspection\" rel=\"nofollow noreferrer\">rule as the inspection</a>."}],"owner":{"account_id":9845781,"reputation":374,"user_id":7293353,"display_name":"Jose Lopez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643015533,"creation_date":1643011838,"question_id":70830737,"body_markdown":"As the title says I want Android Studio to make a compile error or warning, whenever I implement an interface and the object that uses this interface isn&#39;t calling the interface methods.\r\n\r\nFor example: \r\n\r\nResources that can&#39;t be automatically released by the garbage collector needs to be `disposed()`. To avoid memory leak I want the IDEA to make an error or a warning when an object implements `Disposable`, and that object isn&#39;t calling `dispose()` method anywhere. \r\n\r\n\r\n\r\n```\r\nclass Car implements Disposable{\r\n\r\n    @MustBeCalled \r\n    void dispose(){\r\n        ....\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass Main{\r\n  \r\n    public static void main(String[] args){\r\n        //No warning, since bmw.dispose() is called\r\n        bmw = new Car(); \r\n    \r\n        //a warning is displayed since camry.dispose() isn&#39;t called nowhere in the project\r\n        camry = new Car(); \r\n    }\r\n\r\n    public static void anotherMethod(){\r\n        bmw.dispose();\r\n    }\r\n}\r\n```","title":"Is there&#39;s a way to make android studio to compile error when a certain method isn&#39;t called no where in code?","body":"<p>As the title says I want Android Studio to make a compile error or warning, whenever I implement an interface and the object that uses this interface isn't calling the interface methods.</p>\n<p>For example:</p>\n<p>Resources that can't be automatically released by the garbage collector needs to be <code>disposed()</code>. To avoid memory leak I want the IDEA to make an error or a warning when an object implements <code>Disposable</code>, and that object isn't calling <code>dispose()</code> method anywhere.</p>\n<pre><code>class Car implements Disposable{\n\n    @MustBeCalled \n    void dispose(){\n        ....\n    }\n}\n</code></pre>\n<pre><code>class Main{\n  \n    public static void main(String[] args){\n        //No warning, since bmw.dispose() is called\n        bmw = new Car(); \n    \n        //a warning is displayed since camry.dispose() isn't called nowhere in the project\n        camry = new Car(); \n    }\n\n    public static void anotherMethod(){\n        bmw.dispose();\n    }\n}\n</code></pre>\n"},{"tags":["java","annotations","testng"],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643015337,"creation_date":1643015337,"answer_id":70831366,"question_id":70830540,"body_markdown":"Since the annotation transformer caters to multiple conditions you would need to first check for null values before you start interacting with the parameters.\r\n\r\n* `Class testClass` - This is NON Null only if the `@Test` annotation was found on top of a class (Class level annotations) \r\n* `Constructor testConstructor` - This is NON Null only if the `@Test` annotation was found on top a class&#39;s constructor\r\n* `Method testMethod` - This is NON Null only if the `@Test` annotation was found on top of a method.\r\n\r\nSo if all your methods have `@Test` annotation then you would need to use perhaps reflection to figure out the class to which a method belongs to and then add your logic of inclusion/exclusion accordingly.\r\n\r\n        ","title":"Disable test class using annotation transformer","body":"<p>Since the annotation transformer caters to multiple conditions you would need to first check for null values before you start interacting with the parameters.</p>\n<ul>\n<li><code>Class testClass</code> - This is NON Null only if the <code>@Test</code> annotation was found on top of a class (Class level annotations)</li>\n<li><code>Constructor testConstructor</code> - This is NON Null only if the <code>@Test</code> annotation was found on top a class's constructor</li>\n<li><code>Method testMethod</code> - This is NON Null only if the <code>@Test</code> annotation was found on top of a method.</li>\n</ul>\n<p>So if all your methods have <code>@Test</code> annotation then you would need to use perhaps reflection to figure out the class to which a method belongs to and then add your logic of inclusion/exclusion accordingly.</p>\n"}],"owner":{"account_id":11794077,"reputation":3,"user_id":8629209,"display_name":"Terence Mathebula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70831366,"answer_count":1,"score":0,"last_activity_date":1643015337,"creation_date":1643010646,"question_id":70830540,"body_markdown":"I am trying to disable a Test Class that contains test methods, based on a condition set in an excel spreadsheet. I have implemented an Annotation Transformer that disables the test class based on the condition, however it does not seem to be able to disable the desired test class, instead it is failing to execute. I have tested the Annotation Transformer using a test method, and it worked in disabling it. Below is my Annotation Transformer.  \r\n\r\n``` public class AnnotationTransformer implements IAnnotationTransformer {\r\n\tint count=0;\r\n\t\r\n    @Override\r\n    public void transform(ITestAnnotation annotation, Class testClass, Constructor testConstructor, Method testMethod) {\r\n    \t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tif(count==0) {\r\n\t\t\t\tTestUtilities.getRunStatus();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\n\t\tfor(int i=0; i&lt;TestUtilities.testCases.size(); i++) {\r\n\t\t\tif(testClass.getName().equalsIgnoreCase(TestUtilities.testCases.get(i)))\r\n\t\t\t\t{\t\r\n\t\t\t\tif(TestUtilities.runStatus.get(i).equalsIgnoreCase(&quot;no&quot;)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tannotation.setEnabled(false);\t\t\t\t\t\t\t//sets the enabled parameter for all the test cases based on the excel sheet input\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\tcount++;\r\n\t\t\r\n        \r\n    }\r\n}\r\n","title":"Disable test class using annotation transformer","body":"<p>I am trying to disable a Test Class that contains test methods, based on a condition set in an excel spreadsheet. I have implemented an Annotation Transformer that disables the test class based on the condition, however it does not seem to be able to disable the desired test class, instead it is failing to execute. I have tested the Annotation Transformer using a test method, and it worked in disabling it. Below is my Annotation Transformer.</p>\n<pre><code>    int count=0;\n    \n    @Override\n    public void transform(ITestAnnotation annotation, Class testClass, Constructor testConstructor, Method testMethod) {\n        \n        \n        try {\n            if(count==0) {\n                TestUtilities.getRunStatus();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    \n        for(int i=0; i&lt;TestUtilities.testCases.size(); i++) {\n            if(testClass.getName().equalsIgnoreCase(TestUtilities.testCases.get(i)))\n                {   \n                if(TestUtilities.runStatus.get(i).equalsIgnoreCase(&quot;no&quot;)) {\n                    \n                    annotation.setEnabled(false);                           //sets the enabled parameter for all the test cases based on the excel sheet input\n                    break;\n                }\n            } \n        }\n\n        count++;\n        \n        \n    }\n}\n</code></pre>\n"},{"tags":["java","oop","matrix","rotation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638476273,"post_id":70140734,"comment_id":124105504,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":23954463,"reputation":1,"user_id":17945545,"display_name":"PRESHAK KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642319098,"creation_date":1642319098,"answer_id":70728203,"question_id":70140734,"body_markdown":"according to me i guess when you are copying the matrix so both the matrix are pointing to same memory location that is why when you are computing clockwise the matrix2 also change with matrix1 and anticlockwise is computing on the final value after clockwise\r\nso you can use basic for loop instead of System.copy() method. ","title":"Clock wise and anti clock wise rotation of matrix in java","body":"<p>according to me i guess when you are copying the matrix so both the matrix are pointing to same memory location that is why when you are computing clockwise the matrix2 also change with matrix1 and anticlockwise is computing on the final value after clockwise\nso you can use basic for loop instead of System.copy() method.</p>\n"},{"tags":[],"owner":{"account_id":24035498,"reputation":1,"user_id":18015830,"display_name":"188WIAI219 IT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643015277,"creation_date":1643015277,"answer_id":70831358,"question_id":70140734,"body_markdown":"**Anticlockwise anticlockwise = new Anticlockwise(matrix2, r+r);**\r\nUse the above statement to get your required output","title":"Clock wise and anti clock wise rotation of matrix in java","body":"<p><strong>Anticlockwise anticlockwise = new Anticlockwise(matrix2, r+r);</strong>\nUse the above statement to get your required output</p>\n"}],"owner":{"account_id":22049265,"reputation":21,"user_id":16313787,"display_name":"vennelaganti venkata lakshmi S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3830,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643015277,"creation_date":1638074928,"question_id":70140734,"body_markdown":"Question\r\nWrite a java program to rotate a matrix n times in clockwise and anti clockwise direction using inheritance\r\n1.Create a base class clock\r\n2.From this extends a child class clockwise and anticlockwise\r\n3.Both of these child classes should contain the method rotate().\r\n \r\nThis is the code I wrote for clockwise and anti clock wise rotation of matrix in java, I am confident that logic for the code is correct but anticlock wise rotation is not working properly can someone help me with this\r\n```\r\nimport java.util.*;\r\n\r\nclass Clock {\r\n}\r\n\r\nclass Clockwise extends Clock {\r\n    int[][] mat1;\r\n    int m, n, r;\r\n\r\n    Clockwise(int m, int n, int r, int[][] mat1input) {\r\n        this.m = m;\r\n        this.n = n;\r\n        this.r = r;\r\n        this.mat1 = mat1input;\r\n    }\r\n\r\n    void rotation() {\r\n        while (r &gt; 0) {\r\n            mat1 = rotate(m, n, mat1);\r\n            r -= 1;\r\n        }\r\n        System.out.println(&quot;Clockwise&quot;);\r\n        for (int i = 0; i &lt; m; i++) {\r\n            for (int j = 0; j &lt; n; j++)\r\n                System.out.print(mat1[i][j] + &quot; &quot;);\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n    int[][] rotate(int m, int n, int mat[][]) {\r\n        int row = 0, col = 0;\r\n        int prev, curr;\r\n        while (row &lt; m &amp;&amp; col &lt; n) {\r\n\r\n            if (row + 1 == m || col + 1 == n)\r\n                break;\r\n            prev = mat[row + 1][col];\r\n            for (int i = col; i &lt; n; i++) {\r\n                curr = mat[row][i];\r\n                mat[row][i] = prev;\r\n                prev = curr;\r\n            }\r\n            row++;\r\n            for (int i = row; i &lt; m; i++) {\r\n                curr = mat[i][n - 1];\r\n                mat[i][n - 1] = prev;\r\n                prev = curr;\r\n            }\r\n            n--;\r\n            if (row &lt; m) {\r\n                for (int i = n - 1; i &gt;= col; i--) {\r\n                    curr = mat[m - 1][i];\r\n                    mat[m - 1][i] = prev;\r\n                    prev = curr;\r\n                }\r\n            }\r\n            m--;\r\n            if (col &lt; n) {\r\n                for (int i = m - 1; i &gt;= row; i--) {\r\n                    curr = mat[i][col];\r\n                    mat[i][col] = prev;\r\n                    prev = curr;\r\n                }\r\n            }\r\n            col++;\r\n        }\r\n        return mat;\r\n    }\r\n}\r\n\r\nclass Anticlockwise extends Clock {\r\n    int[][] mat2;\r\n    int r;\r\n    int top, left;\r\n    int bottom, right;\r\n    int prev, curr;\r\n\r\n    Anticlockwise(int[][] mat2input, int r) {\r\n        mat2 = mat2input;\r\n        this.r = r;\r\n    }\r\n\r\n    void rotation() {\r\n        mat2 = rotate();\r\n        System.out.println(&quot;Anti clockwise&quot;);\r\n        for (int i = 0; i &lt; mat2.length; i++) {\r\n            for (int j = 0; j &lt; mat2.length; j++)\r\n                System.out.print(mat2[i][j] + &quot; &quot;);\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n    int[][] rotate() {\r\n        for (int z = 0; z &lt; r; z++) {\r\n            top = 0;\r\n            left = 0;\r\n            this.bottom = mat2.length - 1;\r\n            this.right = mat2[0].length - 1;\r\n            while (left &lt; right &amp;&amp; top &lt; bottom) {\r\n                prev = mat2[top + 1][right];\r\n                for (int i = right; i &gt; left - 1; i--) {\r\n                    curr = mat2[top][i];\r\n                    mat2[top][i] = prev;\r\n                    prev = curr;\r\n                }\r\n                top += 1;\r\n                for (int i = top; i &lt; bottom + 1; i++) {\r\n                    curr = mat2[i][left];\r\n                    mat2[i][left] = prev;\r\n                    prev = curr;\r\n                }\r\n                left += 1;\r\n                for (int i = left; i &lt; right + 1; i++) {\r\n                    curr = mat2[bottom][i];\r\n                    mat2[bottom][i] = prev;\r\n                    prev = curr;\r\n                }\r\n                bottom -= 1;\r\n                for (int i = bottom; i &gt; top - 1; i--) {\r\n                    curr = mat2[i][right];\r\n                    mat2[i][right] = prev;\r\n                    prev = curr;\r\n                }\r\n                right -= 1;\r\n            }\r\n        }\r\n        return mat2;\r\n    }\r\n}\r\n\r\npublic class MatrixRotation {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int m = sc.nextInt();\r\n        int n = sc.nextInt();\r\n        int[][] matrix1 = new int[m][n];\r\n        int[][] matrix2 = new int[m][n];\r\n        sc.nextLine();\r\n        while (sc.hasNextLine()) {\r\n            for (int i = 0; i &lt; m; i++) {\r\n                String[] line = sc.nextLine().trim().split(&quot; &quot;);\r\n                for (int j = 0; j &lt; line.length; j++) {\r\n                    matrix1[i][j] = Integer.parseInt(line[j]);\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        int r = sc.nextInt();\r\n        sc.close();\r\n        System.arraycopy(matrix1, 0, matrix2, 0, matrix1.length);\r\n        Clockwise clockwise = new Clockwise(m, n, r, matrix1);\r\n        Anticlockwise anticlockwise = new Anticlockwise(matrix2, r);\r\n        clockwise.rotation();\r\n        anticlockwise.rotation();\r\n        // System.out.println(&quot;Anti clockwise&quot;);\r\n        // for (int i = 0; i &lt; m; i++) {\r\n        // for (int j = 0; j &lt; n; j++)\r\n        // System.out.print(res2[i][j] + &quot; &quot;);\r\n        // System.out.print(&quot;\\n&quot;);\r\n        // }\r\n    }\r\n}\r\n```","title":"Clock wise and anti clock wise rotation of matrix in java","body":"<p>Question\nWrite a java program to rotate a matrix n times in clockwise and anti clockwise direction using inheritance\n1.Create a base class clock\n2.From this extends a child class clockwise and anticlockwise\n3.Both of these child classes should contain the method rotate().</p>\n<p>This is the code I wrote for clockwise and anti clock wise rotation of matrix in java, I am confident that logic for the code is correct but anticlock wise rotation is not working properly can someone help me with this</p>\n<pre><code>import java.util.*;\n\nclass Clock {\n}\n\nclass Clockwise extends Clock {\n    int[][] mat1;\n    int m, n, r;\n\n    Clockwise(int m, int n, int r, int[][] mat1input) {\n        this.m = m;\n        this.n = n;\n        this.r = r;\n        this.mat1 = mat1input;\n    }\n\n    void rotation() {\n        while (r &gt; 0) {\n            mat1 = rotate(m, n, mat1);\n            r -= 1;\n        }\n        System.out.println(&quot;Clockwise&quot;);\n        for (int i = 0; i &lt; m; i++) {\n            for (int j = 0; j &lt; n; j++)\n                System.out.print(mat1[i][j] + &quot; &quot;);\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n\n    int[][] rotate(int m, int n, int mat[][]) {\n        int row = 0, col = 0;\n        int prev, curr;\n        while (row &lt; m &amp;&amp; col &lt; n) {\n\n            if (row + 1 == m || col + 1 == n)\n                break;\n            prev = mat[row + 1][col];\n            for (int i = col; i &lt; n; i++) {\n                curr = mat[row][i];\n                mat[row][i] = prev;\n                prev = curr;\n            }\n            row++;\n            for (int i = row; i &lt; m; i++) {\n                curr = mat[i][n - 1];\n                mat[i][n - 1] = prev;\n                prev = curr;\n            }\n            n--;\n            if (row &lt; m) {\n                for (int i = n - 1; i &gt;= col; i--) {\n                    curr = mat[m - 1][i];\n                    mat[m - 1][i] = prev;\n                    prev = curr;\n                }\n            }\n            m--;\n            if (col &lt; n) {\n                for (int i = m - 1; i &gt;= row; i--) {\n                    curr = mat[i][col];\n                    mat[i][col] = prev;\n                    prev = curr;\n                }\n            }\n            col++;\n        }\n        return mat;\n    }\n}\n\nclass Anticlockwise extends Clock {\n    int[][] mat2;\n    int r;\n    int top, left;\n    int bottom, right;\n    int prev, curr;\n\n    Anticlockwise(int[][] mat2input, int r) {\n        mat2 = mat2input;\n        this.r = r;\n    }\n\n    void rotation() {\n        mat2 = rotate();\n        System.out.println(&quot;Anti clockwise&quot;);\n        for (int i = 0; i &lt; mat2.length; i++) {\n            for (int j = 0; j &lt; mat2.length; j++)\n                System.out.print(mat2[i][j] + &quot; &quot;);\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n\n    int[][] rotate() {\n        for (int z = 0; z &lt; r; z++) {\n            top = 0;\n            left = 0;\n            this.bottom = mat2.length - 1;\n            this.right = mat2[0].length - 1;\n            while (left &lt; right &amp;&amp; top &lt; bottom) {\n                prev = mat2[top + 1][right];\n                for (int i = right; i &gt; left - 1; i--) {\n                    curr = mat2[top][i];\n                    mat2[top][i] = prev;\n                    prev = curr;\n                }\n                top += 1;\n                for (int i = top; i &lt; bottom + 1; i++) {\n                    curr = mat2[i][left];\n                    mat2[i][left] = prev;\n                    prev = curr;\n                }\n                left += 1;\n                for (int i = left; i &lt; right + 1; i++) {\n                    curr = mat2[bottom][i];\n                    mat2[bottom][i] = prev;\n                    prev = curr;\n                }\n                bottom -= 1;\n                for (int i = bottom; i &gt; top - 1; i--) {\n                    curr = mat2[i][right];\n                    mat2[i][right] = prev;\n                    prev = curr;\n                }\n                right -= 1;\n            }\n        }\n        return mat2;\n    }\n}\n\npublic class MatrixRotation {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int m = sc.nextInt();\n        int n = sc.nextInt();\n        int[][] matrix1 = new int[m][n];\n        int[][] matrix2 = new int[m][n];\n        sc.nextLine();\n        while (sc.hasNextLine()) {\n            for (int i = 0; i &lt; m; i++) {\n                String[] line = sc.nextLine().trim().split(&quot; &quot;);\n                for (int j = 0; j &lt; line.length; j++) {\n                    matrix1[i][j] = Integer.parseInt(line[j]);\n                }\n            }\n            break;\n        }\n        int r = sc.nextInt();\n        sc.close();\n        System.arraycopy(matrix1, 0, matrix2, 0, matrix1.length);\n        Clockwise clockwise = new Clockwise(m, n, r, matrix1);\n        Anticlockwise anticlockwise = new Anticlockwise(matrix2, r);\n        clockwise.rotation();\n        anticlockwise.rotation();\n        // System.out.println(&quot;Anti clockwise&quot;);\n        // for (int i = 0; i &lt; m; i++) {\n        // for (int j = 0; j &lt; n; j++)\n        // System.out.print(res2[i][j] + &quot; &quot;);\n        // System.out.print(&quot;\\n&quot;);\n        // }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","escpos"],"comments":[{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1547315020,"post_id":54162246,"comment_id":95154268,"body_markdown":"Please give a [mcve] **in the question**.","body":"Please give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> <b>in the question</b>."},{"owner":{"account_id":1741559,"reputation":1608,"user_id":1808534,"display_name":"mike42"},"score":0,"creation_date":1547329461,"post_id":54162246,"comment_id":95158070,"body_markdown":"I would suggest including the model of printer in your question, since you can side-step this issue completely on printers which support ESC/POS QR code commands.","body":"I would suggest including the model of printer in your question, since you can side-step this issue completely on printers which support ESC/POS QR code commands."},{"owner":{"account_id":4301579,"reputation":431,"user_id":3515184,"display_name":"wavrik"},"score":0,"creation_date":1547387770,"post_id":54162246,"comment_id":95167877,"body_markdown":"I will edit now my question, plz some help","body":"I will edit now my question, plz some help"}],"answers":[{"tags":[],"owner":{"account_id":14285405,"reputation":140,"user_id":10318865,"display_name":"Muhammad Haseeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643015121,"creation_date":1643015121,"answer_id":70831334,"question_id":54162246,"body_markdown":"----------\r\n\r\n\r\n&gt; In Following Fucntion :\r\n&gt; 1. data : can be link or anything you want to put in QR-Code \r\n&gt;  2. size : howbig you want QR-Code to be\r\n----------\r\n\r\n    public static byte[] QRCodeDataToBytes(String data, int size) throws EscPosBarcodeException {\r\n\r\n        ByteMatrix byteMatrix = null;\r\n\r\n        try {\r\n            EnumMap&lt;EncodeHintType, Object&gt; hints = new EnumMap&lt;EncodeHintType, Object&gt;(EncodeHintType.class);\r\n            hints.put(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;);\r\n\r\n            QRCode code = Encoder.encode(data, ErrorCorrectionLevel.L, hints);\r\n            byteMatrix = code.getMatrix();\r\n\r\n        } catch (WriterException e) {\r\n            e.printStackTrace();\r\n            throw new EscPosBarcodeException(&quot;Unable to encode QR code&quot;);\r\n        }\r\n\r\n        if (byteMatrix == null) {\r\n            return EscPosPrinterCommands.initImageCommand(0, 0);\r\n        }\r\n\r\n        int\r\n                width = byteMatrix.getWidth(),\r\n                height = byteMatrix.getHeight(),\r\n                coefficient = Math.round((float) size / (float) width),\r\n                imageWidth = width * coefficient,\r\n                imageHeight = height * coefficient,\r\n                bytesByLine = (int) Math.ceil(((float) imageWidth) / 8f),\r\n                i = 8;\r\n\r\n        if (coefficient &lt; 1) {\r\n            return EscPosPrinterCommands.initImageCommand(0, 0);\r\n        }\r\n\r\n        byte[] imageBytes = EscPosPrinterCommands.initImageCommand(bytesByLine, imageHeight);\r\n\r\n        for (int y = 0; y &lt; height; y++) {\r\n            byte[] lineBytes = new byte[bytesByLine];\r\n            int x = -1, multipleX = coefficient;\r\n            boolean isBlack = false;\r\n            for (int j = 0; j &lt; bytesByLine; j++) {\r\n                StringBuilder stringBinary = new StringBuilder();\r\n                for (int k = 0; k &lt; 8; k++) {\r\n                    if (multipleX == coefficient) {\r\n                        isBlack = ++x &lt; width &amp;&amp; byteMatrix.get(x, y) == 1;\r\n                        multipleX = 0;\r\n                    }\r\n                    stringBinary.append(isBlack ? &quot;1&quot; : &quot;0&quot;);\r\n                    ++multipleX;\r\n                }\r\n                lineBytes[j] = (byte) Integer.parseInt(stringBinary.toString(), 2);\r\n            }\r\n\r\n            for (int multipleY = 0; multipleY &lt; coefficient; ++multipleY) {\r\n                System.arraycopy(lineBytes, 0, imageBytes, i, lineBytes.length);\r\n                i += lineBytes.length;\r\n            }\r\n        }\r\n\r\n        return imageBytes;\r\n    }\r\n----------\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n&gt; **I Prefer this [library][2] for printing over thermal printer**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T8fys.jpg\r\n  [2]: https://github.com/EmHaseeb/ThermalPrinterESCPOS","title":"What is wrong with my code? I can&#39;t print a Barcode or a Qrcode","body":"<hr />\n<blockquote>\n<p>In Following Fucntion :</p>\n<ol>\n<li>data : can be link or anything you want to put in QR-Code</li>\n<li>size : howbig you want QR-Code to be</li>\n</ol>\n</blockquote>\n<hr />\n<pre><code>public static byte[] QRCodeDataToBytes(String data, int size) throws EscPosBarcodeException {\n\n    ByteMatrix byteMatrix = null;\n\n    try {\n        EnumMap&lt;EncodeHintType, Object&gt; hints = new EnumMap&lt;EncodeHintType, Object&gt;(EncodeHintType.class);\n        hints.put(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;);\n\n        QRCode code = Encoder.encode(data, ErrorCorrectionLevel.L, hints);\n        byteMatrix = code.getMatrix();\n\n    } catch (WriterException e) {\n        e.printStackTrace();\n        throw new EscPosBarcodeException(&quot;Unable to encode QR code&quot;);\n    }\n\n    if (byteMatrix == null) {\n        return EscPosPrinterCommands.initImageCommand(0, 0);\n    }\n\n    int\n            width = byteMatrix.getWidth(),\n            height = byteMatrix.getHeight(),\n            coefficient = Math.round((float) size / (float) width),\n            imageWidth = width * coefficient,\n            imageHeight = height * coefficient,\n            bytesByLine = (int) Math.ceil(((float) imageWidth) / 8f),\n            i = 8;\n\n    if (coefficient &lt; 1) {\n        return EscPosPrinterCommands.initImageCommand(0, 0);\n    }\n\n    byte[] imageBytes = EscPosPrinterCommands.initImageCommand(bytesByLine, imageHeight);\n\n    for (int y = 0; y &lt; height; y++) {\n        byte[] lineBytes = new byte[bytesByLine];\n        int x = -1, multipleX = coefficient;\n        boolean isBlack = false;\n        for (int j = 0; j &lt; bytesByLine; j++) {\n            StringBuilder stringBinary = new StringBuilder();\n            for (int k = 0; k &lt; 8; k++) {\n                if (multipleX == coefficient) {\n                    isBlack = ++x &lt; width &amp;&amp; byteMatrix.get(x, y) == 1;\n                    multipleX = 0;\n                }\n                stringBinary.append(isBlack ? &quot;1&quot; : &quot;0&quot;);\n                ++multipleX;\n            }\n            lineBytes[j] = (byte) Integer.parseInt(stringBinary.toString(), 2);\n        }\n\n        for (int multipleY = 0; multipleY &lt; coefficient; ++multipleY) {\n            System.arraycopy(lineBytes, 0, imageBytes, i, lineBytes.length);\n            i += lineBytes.length;\n        }\n    }\n\n    return imageBytes;\n}\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/T8fys.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T8fys.jpg\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p><strong>I Prefer this <a href=\"https://github.com/EmHaseeb/ThermalPrinterESCPOS\" rel=\"nofollow noreferrer\">library</a> for printing over thermal printer</strong></p>\n</blockquote>\n"}],"owner":{"account_id":4301579,"reputation":431,"user_id":3515184,"display_name":"wavrik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2037,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643015121,"creation_date":1547314959,"question_id":54162246,"body_markdown":"I have a problem with a print that is compatible with ESC/POS commands, I print successfully texts and lines.\r\n\r\nthis is my model from :\r\nhttps://www.inputservice.com.br/leopardo-a8\r\n\r\nand in the documentation, the print support:\r\n\r\n**C&#243;digos de Barras (Barcode translating): EAN8, EAN13, CODE39, ITF, CODEBAR, CODE128, CODE93, UPC-A, UPC-E, PDF417* e QR CODE.\r\nEmula&#231;&#227;o (EMULATION): ESC/POS**\r\n\r\nI don&#39;t understand that if I want to print a barcode I need to transform the bar in an image? or not?\r\n\r\nI found a tutorial to print large images, this is the link :\r\nhttp://new-grumpy-mentat.blogspot.com/2014/06/java-escpos-image-printing.html\r\n\r\nI follow the tutorial but the image from my Qrcode or Barcode is not always good, see the picture :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow see my code : \r\n\r\n**PrintCommands.java**\r\n\r\n\r\npackage com.bravos.automap.Util.Print;\r\n\r\n    public class PrinterCommands {\r\n    \r\n        public static final byte HT = 0x9;\r\n        public static final byte LF = 0x0A;\r\n        public static final byte CR = 0x0D;\r\n        public static final byte ESC = 0x1B;\r\n        public static final byte DLE = 0x10;\r\n        public static final byte GS = 0x1D;\r\n        public static final byte FS = 0x1C;\r\n        public static final byte STX = 0x02;\r\n        public static final byte US = 0x1F;\r\n        public static final byte CAN = 0x18;\r\n        public static final byte CLR = 0x0C;\r\n        public static final byte EOT = 0x04;\r\n    \r\n        public final static char ESC_CHAR = 0x1B;\r\n        public final static byte[] LINE_FEED = new byte[]{0x0A};\r\n        public final static byte[] CUT_PAPER = new byte[]{GS, 0x56, 0x00};\r\n        public final static byte[] INIT_PRINTER = new byte[]{ESC_CHAR, 0x40};\r\n        public final static byte[] SET_LINE_SPACE_24 = new byte[]{ESC_CHAR, 0x33, 24};\r\n        public final static byte[] SET_LINE_SPACE_30 = new byte[]{ESC_CHAR, 0x33, 30};\r\n    \r\n        public static final byte[] INIT = {27, 64};\r\n    \r\n        public static byte[] FEED_LINE = {10};\r\n    \r\n        public static byte[] SELECT_FONT_A = {27, 33, 0};\r\n    \r\n        public static byte[] HEADER_FONT = {27, 33, 32};\r\n    \r\n    \r\n        public static byte[] FONT_3X = {0x1D, 0x21, 0x21};\r\n        public static byte[] FONT_2X = {0x1D, 0x21, 0x11};\r\n        public static byte[] FONT_1X = {0x1D, 0x21, 0x00};\r\n    \r\n        // Bold\r\n        public static byte FONT_BOLD = ((byte)(0x8 | SELECT_FONT_A[2]));\r\n    \r\n        // Height\r\n        public static byte FONT_HEIGHT = ((byte)(0x10 | SELECT_FONT_A[2]));\r\n    \r\n        // Width\r\n        public static byte FONT_WIDTH = ((byte) (0x20 | SELECT_FONT_A[2]));\r\n    \r\n        // Underline\r\n        public static byte FONT_UNDER = ((byte)(0x80 | SELECT_FONT_A[2]));\r\n    \r\n        // Small\r\n        public static byte FONT_SMALL = ((byte)(0x1 | SELECT_FONT_A[2]));\r\n    \r\n    \r\n        public static byte[] SET_BAR_CODE_HEIGHT = {29, 104, 100};\r\n        public static byte[] PRINT_BAR_CODE_1 = {29, 107, 2};\r\n        public static byte[] SEND_NULL_BYTE = {0x00};\r\n    \r\n        public static byte[] SELECT_PRINT_SHEET = {0x1B, 0x63, 0x30, 0x02};\r\n        public static byte[] FEED_PAPER_AND_CUT = {0x1D, 0x56, 66, 0x00};\r\n    \r\n        public static byte[] SELECT_CYRILLIC_CHARACTER_CODE_TABLE = {0x1B, 0x74, 0x11};\r\n    \r\n        public static byte[] SELECT_BIT_IMAGE_MODE = {0x1B, 0x2A, 33, (byte) 255, 3};\r\n    \r\n        public static byte[] SELECT_BIT_IMAGE_MODE_OFI = {ESC_CHAR, 0x2A, 33};;\r\n    \r\n        public static byte[] SELECT_BIT_IMAGE_MODE_V3 = {0x1B, 0x2A, 33, -128, 0};\r\n    \r\n        public static byte[] SELECT_BIT_IMAGE_MODE_V4 = {0x1B, 0x2A, 33, 127, 0};\r\n    \r\n        public static byte[] SELECT_BIT_IMAGE_MODE_V2 = {0x1B, 0x2A, 33};\r\n    \r\n        public static byte[] SELECT_BIT_IMAGE_MODE_V5 = {0x1B, 0x2A, 33, 124, 1};\r\n    \r\n        public static byte[] SET_LINE_SPACING_24 = {0x1B, 0x33, 24};\r\n        public static byte[] SET_LINE_SPACING_30 = {0x1B, 0x33, 30};\r\n    \r\n        public static byte[] TRANSMIT_DLE_PRINTER_STATUS = {0x10, 0x04, 0x01};\r\n        public static byte[] TRANSMIT_DLE_OFFLINE_PRINTER_STATUS = {0x10, 0x04, 0x02};\r\n        public static byte[] TRANSMIT_DLE_ERROR_STATUS = {0x10, 0x04, 0x03};\r\n        public static byte[] TRANSMIT_DLE_ROLL_PAPER_SENSOR_STATUS = {0x10, 0x04, 0x04};\r\n    \r\n        public static final byte[] ESC_FONT_COLOR_DEFAULT = new byte[] { 0x1B, &#39;r&#39;,0x00 };\r\n        public static final byte[] FS_FONT_ALIGN = new byte[] { 0x1C, 0x21, 1, 0x1B,\r\n                0x21, 1 };\r\n        public static final byte[] ESC_ALIGN_LEFT = new byte[] { 0x1b, &#39;a&#39;, 0x00 };\r\n        public static final byte[] ESC_ALIGN_RIGHT = new byte[] { 0x1b, &#39;a&#39;, 0x02 };\r\n        public static final byte[] ESC_ALIGN_CENTER = new byte[] { 0x1b, &#39;a&#39;, 0x01 };\r\n        public static final byte[] ESC_CANCEL_BOLD = new byte[] { 0x1B, 0x45, 0 };\r\n    \r\n    \r\n        /*********************************************/\r\n        public static final byte[] ESC_HORIZONTAL_CENTERS = new byte[] { 0x1B, 0x44, 20, 28, 00};\r\n        public static final byte[] ESC_CANCLE_HORIZONTAL_CENTERS = new byte[] { 0x1B, 0x44, 00 };\r\n        /*********************************************/\r\n    \r\n        public static final byte[] ESC_ENTER = new byte[] { 0x1B, 0x4A, 0x40 };\r\n        public static final byte[] PRINTE_TEST = new byte[] { 0x1D, 0x28, 0x41 };\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n**SendPrint.java ( this example is from my EAN_13 code, but is the same thing, just change to QRCODE**\r\n\r\n\r\n\r\n  \r\n\r\n    printerConstants = new PrinterConstants(mmOutputStream);\r\n    \r\n    \r\n                    mmOutputStream.write(PrinterCommands.INIT);\r\n                    mmOutputStream.write(PrinterCommands.ESC_ALIGN_CENTER);\r\n    \r\n                    printerConstants.printString(&quot;TESTANDO A FUN&#199;&#195;O&quot;);\r\n    \r\n                    mmOutputStream.write(PrinterCommands.FEED_LINE);\r\n                    mmOutputStream.write(PrinterCommands.FEED_LINE);\r\n    \r\n                    printerConstants.setBold(true);\r\n                    printerConstants.printString(&quot;TESTANDO A FUN&#199;&#195;O&quot;);\r\n    \r\n                    mmOutputStream.write(PrinterCommands.FEED_LINE);\r\n                    printerConstants.resetToDefault();\r\n    \r\n                    String code = &quot;7800000017106&quot;;\r\n                    MultiFormatWriter multiFormatWriter = new MultiFormatWriter();\r\n                    try {\r\n    \r\n                        BitMatrix bitMatrix = multiFormatWriter.encode(code, BarcodeFormat.EAN_13,200,80);\r\n                        BarcodeEncoder barcodeEncoder = new BarcodeEncoder();\r\n                        Bitmap bitmap = barcodeEncoder.createBitmap(bitMatrix);\r\n                        int[][] pixels = getPixelsSlow(bitmap);\r\n                        printImage(pixels);\r\n                       // printPhoto(bitmap);\r\n    \r\n                    } catch (WriterException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d199z.jpg","title":"What is wrong with my code? I can&#39;t print a Barcode or a Qrcode","body":"<p>I have a problem with a print that is compatible with ESC/POS commands, I print successfully texts and lines.</p>\n\n<p>this is my model from :\n<a href=\"https://www.inputservice.com.br/leopardo-a8\" rel=\"nofollow noreferrer\">https://www.inputservice.com.br/leopardo-a8</a></p>\n\n<p>and in the documentation, the print support:</p>\n\n<p><strong>Códigos de Barras (Barcode translating): EAN8, EAN13, CODE39, ITF, CODEBAR, CODE128, CODE93, UPC-A, UPC-E, PDF417* e QR CODE.\nEmulação (EMULATION): ESC/POS</strong></p>\n\n<p>I don't understand that if I want to print a barcode I need to transform the bar in an image? or not?</p>\n\n<p>I found a tutorial to print large images, this is the link :\n<a href=\"http://new-grumpy-mentat.blogspot.com/2014/06/java-escpos-image-printing.html\" rel=\"nofollow noreferrer\">http://new-grumpy-mentat.blogspot.com/2014/06/java-escpos-image-printing.html</a></p>\n\n<p>I follow the tutorial but the image from my Qrcode or Barcode is not always good, see the picture :</p>\n\n<p><a href=\"https://i.stack.imgur.com/d199z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d199z.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Now see my code : </p>\n\n<p><strong>PrintCommands.java</strong></p>\n\n<p>package com.bravos.automap.Util.Print;</p>\n\n<pre><code>public class PrinterCommands {\n\n    public static final byte HT = 0x9;\n    public static final byte LF = 0x0A;\n    public static final byte CR = 0x0D;\n    public static final byte ESC = 0x1B;\n    public static final byte DLE = 0x10;\n    public static final byte GS = 0x1D;\n    public static final byte FS = 0x1C;\n    public static final byte STX = 0x02;\n    public static final byte US = 0x1F;\n    public static final byte CAN = 0x18;\n    public static final byte CLR = 0x0C;\n    public static final byte EOT = 0x04;\n\n    public final static char ESC_CHAR = 0x1B;\n    public final static byte[] LINE_FEED = new byte[]{0x0A};\n    public final static byte[] CUT_PAPER = new byte[]{GS, 0x56, 0x00};\n    public final static byte[] INIT_PRINTER = new byte[]{ESC_CHAR, 0x40};\n    public final static byte[] SET_LINE_SPACE_24 = new byte[]{ESC_CHAR, 0x33, 24};\n    public final static byte[] SET_LINE_SPACE_30 = new byte[]{ESC_CHAR, 0x33, 30};\n\n    public static final byte[] INIT = {27, 64};\n\n    public static byte[] FEED_LINE = {10};\n\n    public static byte[] SELECT_FONT_A = {27, 33, 0};\n\n    public static byte[] HEADER_FONT = {27, 33, 32};\n\n\n    public static byte[] FONT_3X = {0x1D, 0x21, 0x21};\n    public static byte[] FONT_2X = {0x1D, 0x21, 0x11};\n    public static byte[] FONT_1X = {0x1D, 0x21, 0x00};\n\n    // Bold\n    public static byte FONT_BOLD = ((byte)(0x8 | SELECT_FONT_A[2]));\n\n    // Height\n    public static byte FONT_HEIGHT = ((byte)(0x10 | SELECT_FONT_A[2]));\n\n    // Width\n    public static byte FONT_WIDTH = ((byte) (0x20 | SELECT_FONT_A[2]));\n\n    // Underline\n    public static byte FONT_UNDER = ((byte)(0x80 | SELECT_FONT_A[2]));\n\n    // Small\n    public static byte FONT_SMALL = ((byte)(0x1 | SELECT_FONT_A[2]));\n\n\n    public static byte[] SET_BAR_CODE_HEIGHT = {29, 104, 100};\n    public static byte[] PRINT_BAR_CODE_1 = {29, 107, 2};\n    public static byte[] SEND_NULL_BYTE = {0x00};\n\n    public static byte[] SELECT_PRINT_SHEET = {0x1B, 0x63, 0x30, 0x02};\n    public static byte[] FEED_PAPER_AND_CUT = {0x1D, 0x56, 66, 0x00};\n\n    public static byte[] SELECT_CYRILLIC_CHARACTER_CODE_TABLE = {0x1B, 0x74, 0x11};\n\n    public static byte[] SELECT_BIT_IMAGE_MODE = {0x1B, 0x2A, 33, (byte) 255, 3};\n\n    public static byte[] SELECT_BIT_IMAGE_MODE_OFI = {ESC_CHAR, 0x2A, 33};;\n\n    public static byte[] SELECT_BIT_IMAGE_MODE_V3 = {0x1B, 0x2A, 33, -128, 0};\n\n    public static byte[] SELECT_BIT_IMAGE_MODE_V4 = {0x1B, 0x2A, 33, 127, 0};\n\n    public static byte[] SELECT_BIT_IMAGE_MODE_V2 = {0x1B, 0x2A, 33};\n\n    public static byte[] SELECT_BIT_IMAGE_MODE_V5 = {0x1B, 0x2A, 33, 124, 1};\n\n    public static byte[] SET_LINE_SPACING_24 = {0x1B, 0x33, 24};\n    public static byte[] SET_LINE_SPACING_30 = {0x1B, 0x33, 30};\n\n    public static byte[] TRANSMIT_DLE_PRINTER_STATUS = {0x10, 0x04, 0x01};\n    public static byte[] TRANSMIT_DLE_OFFLINE_PRINTER_STATUS = {0x10, 0x04, 0x02};\n    public static byte[] TRANSMIT_DLE_ERROR_STATUS = {0x10, 0x04, 0x03};\n    public static byte[] TRANSMIT_DLE_ROLL_PAPER_SENSOR_STATUS = {0x10, 0x04, 0x04};\n\n    public static final byte[] ESC_FONT_COLOR_DEFAULT = new byte[] { 0x1B, 'r',0x00 };\n    public static final byte[] FS_FONT_ALIGN = new byte[] { 0x1C, 0x21, 1, 0x1B,\n            0x21, 1 };\n    public static final byte[] ESC_ALIGN_LEFT = new byte[] { 0x1b, 'a', 0x00 };\n    public static final byte[] ESC_ALIGN_RIGHT = new byte[] { 0x1b, 'a', 0x02 };\n    public static final byte[] ESC_ALIGN_CENTER = new byte[] { 0x1b, 'a', 0x01 };\n    public static final byte[] ESC_CANCEL_BOLD = new byte[] { 0x1B, 0x45, 0 };\n\n\n    /*********************************************/\n    public static final byte[] ESC_HORIZONTAL_CENTERS = new byte[] { 0x1B, 0x44, 20, 28, 00};\n    public static final byte[] ESC_CANCLE_HORIZONTAL_CENTERS = new byte[] { 0x1B, 0x44, 00 };\n    /*********************************************/\n\n    public static final byte[] ESC_ENTER = new byte[] { 0x1B, 0x4A, 0x40 };\n    public static final byte[] PRINTE_TEST = new byte[] { 0x1D, 0x28, 0x41 };\n\n\n\n}\n</code></pre>\n\n<p><strong>SendPrint.java ( this example is from my EAN_13 code, but is the same thing, just change to QRCODE</strong></p>\n\n<pre><code>printerConstants = new PrinterConstants(mmOutputStream);\n\n\n                mmOutputStream.write(PrinterCommands.INIT);\n                mmOutputStream.write(PrinterCommands.ESC_ALIGN_CENTER);\n\n                printerConstants.printString(\"TESTANDO A FUNÇÃO\");\n\n                mmOutputStream.write(PrinterCommands.FEED_LINE);\n                mmOutputStream.write(PrinterCommands.FEED_LINE);\n\n                printerConstants.setBold(true);\n                printerConstants.printString(\"TESTANDO A FUNÇÃO\");\n\n                mmOutputStream.write(PrinterCommands.FEED_LINE);\n                printerConstants.resetToDefault();\n\n                String code = \"7800000017106\";\n                MultiFormatWriter multiFormatWriter = new MultiFormatWriter();\n                try {\n\n                    BitMatrix bitMatrix = multiFormatWriter.encode(code, BarcodeFormat.EAN_13,200,80);\n                    BarcodeEncoder barcodeEncoder = new BarcodeEncoder();\n                    Bitmap bitmap = barcodeEncoder.createBitmap(bitMatrix);\n                    int[][] pixels = getPixelsSlow(bitmap);\n                    printImage(pixels);\n                   // printPhoto(bitmap);\n\n                } catch (WriterException e) {\n                    e.printStackTrace();\n                }\n</code></pre>\n"},{"tags":["java","maven","gradle","nexus"],"owner":{"account_id":13977441,"reputation":73,"user_id":10094502,"display_name":"XleKle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1643014952,"creation_date":1643014952,"question_id":70831301,"body_markdown":"I am currently trying to migrate an Project to Java 17\r\n\r\nFor this I upgraded the Gradle version to 7.3.3. Since this I get the following error when trying to build:\r\n\r\n```\r\nPlugin [id: &#39;com.gradle.enterprise&#39;, version: &#39;3.7&#39;, artifact: &#39;com.gradle:gradle-enterprise-gradle-plugin:3.7&#39;] was not found in any of the following sources:\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;com.gradle:gradle-enterprise-gradle-plugin:3.7&#39;)\r\n```\r\n\r\ngradle-enterprise-gradle-plugin doesn’t seem to be referenced anywhere in the Gradle file.\r\n\r\nWhere does this come from? Why do Gradle needs this now?\r\n\r\nDue to cooperate reasons I am currently not able to retrieve new libraries through Nexus (or Maven Central). How can I bypass this requirement or load the jar locally without the need to retrieve it via an online repository?\r\n\r\nI tried Gradle 7.2, it seems to throw the same error.","title":"com.gradle.enterprise requirement when compiling Java 17 with Gradle 7.3.3","body":"<p>I am currently trying to migrate an Project to Java 17</p>\n<p>For this I upgraded the Gradle version to 7.3.3. Since this I get the following error when trying to build:</p>\n<pre><code>Plugin [id: 'com.gradle.enterprise', version: '3.7', artifact: 'com.gradle:gradle-enterprise-gradle-plugin:3.7'] was not found in any of the following sources:\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'com.gradle:gradle-enterprise-gradle-plugin:3.7')\n</code></pre>\n<p>gradle-enterprise-gradle-plugin doesn’t seem to be referenced anywhere in the Gradle file.</p>\n<p>Where does this come from? Why do Gradle needs this now?</p>\n<p>Due to cooperate reasons I am currently not able to retrieve new libraries through Nexus (or Maven Central). How can I bypass this requirement or load the jar locally without the need to retrieve it via an online repository?</p>\n<p>I tried Gradle 7.2, it seems to throw the same error.</p>\n"},{"tags":["java","google-api","google-sheets-api","google-api-java-client"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1643012629,"post_id":70830800,"comment_id":125217520,"body_markdown":"Please provide a stack trace - at the moment we have no idea where the exception is being thrown.","body":"Please provide a stack trace - at the moment we have no idea where the exception is being thrown."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1643013132,"post_id":70830800,"comment_id":125217676,"body_markdown":"Can you check that the refresh token wasnt revoked.  Just change &quot;user&quot; to something else as a test or delete the file in new java.io.File(&quot;tokens&quot;).    My guess is your getting an invalid_token error.","body":"Can you check that the refresh token wasnt revoked.  Just change &quot;user&quot; to something else as a test or delete the file in new java.io.File(&quot;tokens&quot;).    My guess is your getting an invalid_token error."}],"owner":{"account_id":20233495,"reputation":11,"user_id":14839382,"display_name":"mr x"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643014860,"creation_date":1643012271,"question_id":70830800,"body_markdown":"My integration with Google tables worked successfully for half a year, but today it stopped because of an error\r\njava.io.StreamCorruptedException: invalid stream header: EFBFBDEF\r\n\r\nhas anyone encountered such an error?\r\n\r\n     private static Credential authorize() throws IOException, GeneralSecurityException {\r\n        InputStream in = SheetsHelper.class.getResourceAsStream(&quot;/credentials.json&quot;);\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JacksonFactory.getDefaultInstance(), new InputStreamReader(in));\r\n\r\n        List&lt;String&gt; scopes = Arrays.asList(SheetsScopes.SPREADSHEETS);\r\n\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                GoogleNetHttpTransport.newTrustedTransport(), JacksonFactory.getDefaultInstance(),\r\n                clientSecrets, scopes\r\n        ).setDataStoreFactory(new FileDataStoreFactory(new java.io.File(&quot;tokens&quot;))).setAccessType(&quot;offline&quot;)//&lt;--the error is here\r\n                .build();\r\n\r\n        Credential credential = new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\r\n        return credential;\r\n    }","title":"Stopped reading google tables (invalid stream header: EFBFBDEF)","body":"<p>My integration with Google tables worked successfully for half a year, but today it stopped because of an error\njava.io.StreamCorruptedException: invalid stream header: EFBFBDEF</p>\n<p>has anyone encountered such an error?</p>\n<pre><code> private static Credential authorize() throws IOException, GeneralSecurityException {\n    InputStream in = SheetsHelper.class.getResourceAsStream(&quot;/credentials.json&quot;);\n    GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JacksonFactory.getDefaultInstance(), new InputStreamReader(in));\n\n    List&lt;String&gt; scopes = Arrays.asList(SheetsScopes.SPREADSHEETS);\n\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            GoogleNetHttpTransport.newTrustedTransport(), JacksonFactory.getDefaultInstance(),\n            clientSecrets, scopes\n    ).setDataStoreFactory(new FileDataStoreFactory(new java.io.File(&quot;tokens&quot;))).setAccessType(&quot;offline&quot;)//&lt;--the error is here\n            .build();\n\n    Credential credential = new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\n    return credential;\n}\n</code></pre>\n"},{"tags":["java","spring","pdfbox","bytestream","pdfmerger"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1643014699,"post_id":70831171,"comment_id":125218188,"body_markdown":"Use setPage(PDPage), not setPageNumber, see https://stackoverflow.com/questions/35619737/create-pdf-file-with-default-zoom-to-page-level-pdfbox","body":"Use setPage(PDPage), not setPageNumber, see <a href=\"https://stackoverflow.com/questions/35619737/create-pdf-file-with-default-zoom-to-page-level-pdfbox\" title=\"create pdf file with default zoom to page level pdfbox\">stackoverflow.com/questions/35619737/&hellip;</a>"},{"owner":{"account_id":14295798,"reputation":1,"user_id":10326522,"display_name":"Sarthak Garg"},"score":0,"creation_date":1643018871,"post_id":70831171,"comment_id":125219675,"body_markdown":"@TilmanHausherr I am using pdfMergeUtility.addSource(inputStreamSource); So not able to use PDocument to setPage method. I am using addSource with imputstream. Can you please suggest in this case.","body":"@TilmanHausherr I am using pdfMergeUtility.addSource(inputStreamSource); So not able to use PDocument to setPage method. I am using addSource with imputstream. Can you please suggest in this case."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1643019536,"post_id":70831171,"comment_id":125219924,"body_markdown":"You will have to use PDDocument. You&#39;d have to save and reopen the PDF, modify then resave.","body":"You will have to use PDDocument. You&#39;d have to save and reopen the PDF, modify then resave."}],"owner":{"account_id":14295798,"reputation":1,"user_id":10326522,"display_name":"Sarthak Garg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643014706,"creation_date":1643014317,"question_id":70831171,"body_markdown":"I am merging PDF content using `PDFMergerUtility` in Java. \r\n\r\n```java           \r\nPDFMergerUtility bundle= new PDFMergerUtility();\r\nbundle.addSource(new ByteArrayInputStream(contentService.retrieveData(transaction1);\r\nbundle.addSource(new ByteArrayInputStream(contentService.retrieveData(transaction2);\r\n   \r\nByteArrayOutputStream outputStream = new ByteArrayOutputStream() \r\nbundle.setDestinationStream(outputStream);  // setting outputstream\r\nbundle.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\r\nreturn outputStream.toByteArray();  // returning result\r\n```\r\n           \r\nBut by default it is opening on the last page of PDF when I try to open the resultant PDF. I am not using PDocument for these as\r\nthese are entity based documents. Due to this unable to use this below method. Can you please suggest any approach to directly set the    opened page number in `PDFMergerUtility`.\r\n           \r\n```java       \r\nPDPageXYZDestination destination = new PDPageXYZDestination();\r\ndestination .setPageNumber(num);\r\nPDActionGoTo action = new PDActionGoTo();\r\naction.setDestination(destination );\r\npdf.getDocumentCatalog().setOpenAction(action);\r\n```\r\n","title":"How to set PDF open page number from PDFMergerUtility","body":"<p>I am merging PDF content using <code>PDFMergerUtility</code> in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PDFMergerUtility bundle= new PDFMergerUtility();\nbundle.addSource(new ByteArrayInputStream(contentService.retrieveData(transaction1);\nbundle.addSource(new ByteArrayInputStream(contentService.retrieveData(transaction2);\n   \nByteArrayOutputStream outputStream = new ByteArrayOutputStream() \nbundle.setDestinationStream(outputStream);  // setting outputstream\nbundle.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\nreturn outputStream.toByteArray();  // returning result\n</code></pre>\n<p>But by default it is opening on the last page of PDF when I try to open the resultant PDF. I am not using PDocument for these as\nthese are entity based documents. Due to this unable to use this below method. Can you please suggest any approach to directly set the    opened page number in <code>PDFMergerUtility</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PDPageXYZDestination destination = new PDPageXYZDestination();\ndestination .setPageNumber(num);\nPDActionGoTo action = new PDActionGoTo();\naction.setDestination(destination );\npdf.getDocumentCatalog().setOpenAction(action);\n</code></pre>\n"},{"tags":["java","spring","postgresql","testcontainers"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1642954314,"post_id":70823333,"comment_id":125205624,"body_markdown":"You can configure the database name with [`withDatabaseName`](https://github.com/testcontainers/testcontainers-java/blob/master/modules/postgresql/src/main/java/org/testcontainers/containers/PostgreSQLContainer.java#L111). Schemas are a PostgreSQL concern, not a testcontainers concern, so you need to solve that just like you would with a &quot;normal&quot; db.","body":"You can configure the database name with <a href=\"https://github.com/testcontainers/testcontainers-java/blob/master/modules/postgresql/src/main/java/org/testcontainers/containers/PostgreSQLContainer.java#L111\" rel=\"nofollow noreferrer\"><code>withDatabaseName</code></a>. Schemas are a PostgreSQL concern, not a testcontainers concern, so you need to solve that just like you would with a &quot;normal&quot; db."}],"answers":[{"tags":[],"owner":{"account_id":348861,"reputation":3039,"user_id":683810,"accept_rate":40,"display_name":"Alex Stockinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643014392,"creation_date":1643014392,"answer_id":70831192,"question_id":70823333,"body_markdown":"As was mentioned in the comments, the `withDatabaseName()` method will provide you with a way so set a name different from the default value. So in your case you could simple do the following:\r\n\r\n``` lang-java\r\npublic static DefaultPostgresContainer getInstance() {\r\n    if (container == null) {\r\n        container = new DefaultPostgresContainer()\r\n                             .withInitScript(&quot;init_postgresql.sql&quot;)\r\n                             .withDatabaseName(&quot;mydatabase&quot;);\r\n    }\r\n    return container;\r\n}\r\n```\r\n\r\nThe hint on working with schemas was also already given in the comments: custom schemas can easily be managed via JDBC (you&#39;d have to create it before using it).\r\n\r\nTo select a custom schema as &quot;default&quot; in a JDBC connection to a `PostgreSQLContainer` you can do the following:\r\n\r\n``` lang-java\r\nProperties properties = new Properties();\r\nproperties.setProperty(&quot;user&quot;, psqlContainer.getUsername());\r\nproperties.setProperty(&quot;password&quot;, psqlContainer.getPassword());\r\nproperties.setProperty(&quot;currentSchema&quot;, SCHEMA_NAME);    // this sets the &quot;default&quot; schema for queries\r\nfinal Connection connection = DriverManager.getConnection(psqlContainer.getJdbcUrl(), properties);\r\n```\r\n\r\nIf you want to see it in action I&#39;ve put together [some simple test cases][1] demonstrating the mechanisms explained here.\r\n\r\n\r\n  [1]: https://github.com/dajudge/testcontainers-examples/blob/master/src/test/java/com/dajudge/testcontainers/examples/PostgreSQLTests.java","title":"Is it possible to edit schema and db name of org.testcontainers.containers.PostgreSQLContainer?","body":"<p>As was mentioned in the comments, the <code>withDatabaseName()</code> method will provide you with a way so set a name different from the default value. So in your case you could simple do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static DefaultPostgresContainer getInstance() {\n    if (container == null) {\n        container = new DefaultPostgresContainer()\n                             .withInitScript(&quot;init_postgresql.sql&quot;)\n                             .withDatabaseName(&quot;mydatabase&quot;);\n    }\n    return container;\n}\n</code></pre>\n<p>The hint on working with schemas was also already given in the comments: custom schemas can easily be managed via JDBC (you'd have to create it before using it).</p>\n<p>To select a custom schema as &quot;default&quot; in a JDBC connection to a <code>PostgreSQLContainer</code> you can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties properties = new Properties();\nproperties.setProperty(&quot;user&quot;, psqlContainer.getUsername());\nproperties.setProperty(&quot;password&quot;, psqlContainer.getPassword());\nproperties.setProperty(&quot;currentSchema&quot;, SCHEMA_NAME);    // this sets the &quot;default&quot; schema for queries\nfinal Connection connection = DriverManager.getConnection(psqlContainer.getJdbcUrl(), properties);\n</code></pre>\n<p>If you want to see it in action I've put together <a href=\"https://github.com/dajudge/testcontainers-examples/blob/master/src/test/java/com/dajudge/testcontainers/examples/PostgreSQLTests.java\" rel=\"nofollow noreferrer\">some simple test cases</a> demonstrating the mechanisms explained here.</p>\n"}],"owner":{"account_id":9876276,"reputation":587,"user_id":7313912,"display_name":"KaliTheGreat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1970,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643014392,"creation_date":1642949858,"question_id":70823333,"body_markdown":"I&#39;m using TestContainers&#39; `PostgreSQLContainer` to test a Spring application, and I want to configure the DB to have a specific schema and DB name. The defaults are db_name=`test` and schema=`public`.\r\n\r\nIs it possible to edit those? Of so, where and how?\r\n\r\nI&#39;ve an `application.properties` file:\r\n\r\n    spring.datasource.url=${DB_URL}\r\n    spring.datasource.username=${DB_USERNAME}\r\n    spring.datasource.password=${DB_PASSWORD}\r\n\r\nMy PostgreSQLContainer implementation of the `start()` method:\r\n\r\n    import org.testcontainers.containers.PostgreSQLContainer;\r\n    public class DefaultPostgresContainer extends PostgreSQLContainer&lt;DefaultPostgresContainer&gt; {\r\n\r\n\r\n\r\n    private static final String IMAGE_VERSION = &quot;postgres:13&quot;;\r\n    private static DefaultPostgresContainer container;\r\n\r\n    private DefaultPostgresContainer() {\r\n            super(IMAGE_VERSION);\r\n    }\r\n\r\n    public static DefaultPostgresContainer getInstance() {\r\n        if (container == null) {\r\n            container = new DefaultPostgresContainer().withInitScript(&quot;init_postgresql.sql&quot;);\r\n        }\r\n        return container;\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n        super.start();\r\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\r\n        System.setProperty(&quot;DB_USERNAME&quot;, &quot;my_test&quot;);\r\n        System.setProperty(&quot;DB_PASSWORD&quot;, &quot;my_test&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        //do nothing, JVM handles shutdown\r\n    }\r\n    }\r\n\r\n\r\n","title":"Is it possible to edit schema and db name of org.testcontainers.containers.PostgreSQLContainer?","body":"<p>I'm using TestContainers' <code>PostgreSQLContainer</code> to test a Spring application, and I want to configure the DB to have a specific schema and DB name. The defaults are db_name=<code>test</code> and schema=<code>public</code>.</p>\n<p>Is it possible to edit those? Of so, where and how?</p>\n<p>I've an <code>application.properties</code> file:</p>\n<pre><code>spring.datasource.url=${DB_URL}\nspring.datasource.username=${DB_USERNAME}\nspring.datasource.password=${DB_PASSWORD}\n</code></pre>\n<p>My PostgreSQLContainer implementation of the <code>start()</code> method:</p>\n<pre><code>import org.testcontainers.containers.PostgreSQLContainer;\npublic class DefaultPostgresContainer extends PostgreSQLContainer&lt;DefaultPostgresContainer&gt; {\n\n\n\nprivate static final String IMAGE_VERSION = &quot;postgres:13&quot;;\nprivate static DefaultPostgresContainer container;\n\nprivate DefaultPostgresContainer() {\n        super(IMAGE_VERSION);\n}\n\npublic static DefaultPostgresContainer getInstance() {\n    if (container == null) {\n        container = new DefaultPostgresContainer().withInitScript(&quot;init_postgresql.sql&quot;);\n    }\n    return container;\n}\n\n@Override\npublic void start() {\n    super.start();\n    System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\n    System.setProperty(&quot;DB_USERNAME&quot;, &quot;my_test&quot;);\n    System.setProperty(&quot;DB_PASSWORD&quot;, &quot;my_test&quot;);\n}\n\n@Override\npublic void stop() {\n    //do nothing, JVM handles shutdown\n}\n}\n</code></pre>\n"},{"tags":["java","javafx","charts","legend"],"comments":[{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":0,"creation_date":1499368506,"post_id":44956955,"comment_id":76889783,"body_markdown":"There isn&#39;t a built-in way as far as I know, but I had a working roundabout solution, I&#39;ll see if I can dig it up and post it.","body":"There isn&#39;t a built-in way as far as I know, but I had a working roundabout solution, I&#39;ll see if I can dig it up and post it."},{"owner":{"display_name":"user7851291"},"score":0,"creation_date":1499368951,"post_id":44956955,"comment_id":76890006,"body_markdown":"@sillyfly that would be awesome","body":"@sillyfly that would be awesome"}],"answers":[{"tags":[],"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1499369328,"creation_date":1499369328,"answer_id":44957354,"question_id":44956955,"body_markdown":"Here is how I solved this - I am not aware of any simpler built-in solution\r\n\r\n    LineChart&lt;Number, Number&gt; chart;\r\n    \r\n    for (Node n : chart.getChildrenUnmodifiable()) {\r\n        if (n instanceof Legend) {\r\n            Legend l = (Legend) n;\r\n            for (Legend.LegendItem li : l.getItems()) {\r\n                for (XYChart.Series&lt;Number, Number&gt; s : chart.getData()) {\r\n                    if (s.getName().equals(li.getText())) {\r\n                        li.getSymbol().setCursor(Cursor.HAND); // Hint user that legend symbol is clickable\r\n                        li.getSymbol().setOnMouseClicked(me -&gt; {\r\n                            if (me.getButton() == MouseButton.PRIMARY) {\r\n                                s.getNode().setVisible(!s.getNode().isVisible()); // Toggle visibility of line\r\n                                for (XYChart.Data&lt;Number, Number&gt; d : s.getData()) {\r\n                                    if (d.getNode() != null) {\r\n                                        d.getNode().setVisible(s.getNode().isVisible()); // Toggle visibility of every node in the series\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nYou need to run this code once on your chart (`LineChart` in this example, but you can probably adapt it to any other chart). I find the `Legend` child, and then iterate over all of its&#39; items. I match the legend item to the correct series based on the name - from my experience they always match, and I couldn&#39;t find a better way to match them. Then it&#39;s just a matter of adding the correct event handler to that specific legend item. ","title":"JavaFX Use Chart Legend to toggle show/hide Series possible?","body":"<p>Here is how I solved this - I am not aware of any simpler built-in solution</p>\n\n<pre><code>LineChart&lt;Number, Number&gt; chart;\n\nfor (Node n : chart.getChildrenUnmodifiable()) {\n    if (n instanceof Legend) {\n        Legend l = (Legend) n;\n        for (Legend.LegendItem li : l.getItems()) {\n            for (XYChart.Series&lt;Number, Number&gt; s : chart.getData()) {\n                if (s.getName().equals(li.getText())) {\n                    li.getSymbol().setCursor(Cursor.HAND); // Hint user that legend symbol is clickable\n                    li.getSymbol().setOnMouseClicked(me -&gt; {\n                        if (me.getButton() == MouseButton.PRIMARY) {\n                            s.getNode().setVisible(!s.getNode().isVisible()); // Toggle visibility of line\n                            for (XYChart.Data&lt;Number, Number&gt; d : s.getData()) {\n                                if (d.getNode() != null) {\n                                    d.getNode().setVisible(s.getNode().isVisible()); // Toggle visibility of every node in the series\n                                }\n                            }\n                        }\n                    });\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>You need to run this code once on your chart (<code>LineChart</code> in this example, but you can probably adapt it to any other chart). I find the <code>Legend</code> child, and then iterate over all of its' items. I match the legend item to the correct series based on the name - from my experience they always match, and I couldn't find a better way to match them. Then it's just a matter of adding the correct event handler to that specific legend item. </p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499421139,"creation_date":1499421139,"answer_id":44967809,"question_id":44956955,"body_markdown":"For reference, a similar approach works with [`JFreeChart`][1] in JavaFX as shown [here][2]. Adapted from this [example][3], the variation below adds a `ChartMouseListenerFX` to the `ChartViewer`. Click on a series or its legend item to make a series invisible; click anywhere else to restore it. \r\n\r\n[![image][4]][4]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.axis.NumberAxis;\r\n    import org.jfree.chart.entity.ChartEntity;\r\n    import org.jfree.chart.entity.LegendItemEntity;\r\n    import org.jfree.chart.entity.XYItemEntity;\r\n    import org.jfree.chart.fx.ChartViewer;\r\n    import org.jfree.chart.fx.interaction.ChartMouseEventFX;\r\n    import org.jfree.chart.fx.interaction.ChartMouseListenerFX;\r\n    import org.jfree.chart.labels.StandardXYToolTipGenerator;\r\n    import org.jfree.chart.plot.XYPlot;\r\n    import org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\r\n    import org.jfree.data.xy.XYSeries;\r\n    import org.jfree.data.xy.XYSeriesCollection;\r\n\r\n    /**\r\n     * @see https://stackoverflow.com/a/44967809/230513\r\n     * @see https://stackoverflow.com/a/43286042/230513\r\n     */\r\n    public class VisibleTest extends Application {\r\n\r\n        @Override\r\n        public void start(Stage stage) {\r\n            XYSeriesCollection dataset = new XYSeriesCollection();\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                XYSeries series = new XYSeries(&quot;value&quot; + i);\r\n                for (double t = 0; t &lt; 2 * Math.PI; t += 0.5) {\r\n                    series.add(t, Math.sin(t) + i);\r\n                }\r\n                dataset.addSeries(series);\r\n            }\r\n            NumberAxis xAxis = new NumberAxis(&quot;domain&quot;);\r\n            NumberAxis yAxis = new NumberAxis(&quot;range&quot;);\r\n            XYLineAndShapeRenderer renderer = new XYLineAndShapeRenderer(true, true);\r\n            renderer.setBaseToolTipGenerator(new StandardXYToolTipGenerator());\r\n            XYPlot plot = new XYPlot(dataset, xAxis, yAxis, renderer);\r\n            JFreeChart chart = new JFreeChart(&quot;Test&quot;, plot);\r\n            ChartViewer viewer = new ChartViewer(chart);\r\n            viewer.addChartMouseListener(new ChartMouseListenerFX() {\r\n                @Override\r\n                public void chartMouseClicked(ChartMouseEventFX e) {\r\n                    ChartEntity ce = e.getEntity();\r\n                    if (ce instanceof XYItemEntity) {\r\n                        XYItemEntity item = (XYItemEntity) ce;\r\n                        renderer.setSeriesVisible(item.getSeriesIndex(), false);\r\n                    } else if (ce instanceof LegendItemEntity) {\r\n                        LegendItemEntity item = (LegendItemEntity) ce;\r\n                        Comparable key = item.getSeriesKey();\r\n                        renderer.setSeriesVisible(dataset.getSeriesIndex(key), false);\r\n                    } else {\r\n                        for (int i = 0; i &lt; dataset.getSeriesCount(); i++) {\r\n                            renderer.setSeriesVisible(i, true);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void chartMouseMoved(ChartMouseEventFX e) {}\r\n            });\r\n            stage.setScene(new Scene(viewer));\r\n            stage.setTitle(&quot;JFreeChartFX&quot;);\r\n            stage.setWidth(640);\r\n            stage.setHeight(480);\r\n            stage.show();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/jfreechart/info\r\n  [2]: http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=117471\r\n  [3]: https://stackoverflow.com/a/43286042/230513\r\n  [4]: https://i.stack.imgur.com/9WimW.png","title":"JavaFX Use Chart Legend to toggle show/hide Series possible?","body":"<p>For reference, a similar approach works with <a href=\"https://stackoverflow.com/tags/jfreechart/info\"><code>JFreeChart</code></a> in JavaFX as shown <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=117471\" rel=\"nofollow noreferrer\">here</a>. Adapted from this <a href=\"https://stackoverflow.com/a/43286042/230513\">example</a>, the variation below adds a <code>ChartMouseListenerFX</code> to the <code>ChartViewer</code>. Click on a series or its legend item to make a series invisible; click anywhere else to restore it. </p>\n\n<p><a href=\"https://i.stack.imgur.com/9WimW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9WimW.png\" alt=\"image\"></a></p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.entity.ChartEntity;\nimport org.jfree.chart.entity.LegendItemEntity;\nimport org.jfree.chart.entity.XYItemEntity;\nimport org.jfree.chart.fx.ChartViewer;\nimport org.jfree.chart.fx.interaction.ChartMouseEventFX;\nimport org.jfree.chart.fx.interaction.ChartMouseListenerFX;\nimport org.jfree.chart.labels.StandardXYToolTipGenerator;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\n\n/**\n * @see https://stackoverflow.com/a/44967809/230513\n * @see https://stackoverflow.com/a/43286042/230513\n */\npublic class VisibleTest extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        XYSeriesCollection dataset = new XYSeriesCollection();\n        for (int i = 0; i &lt; 3; i++) {\n            XYSeries series = new XYSeries(\"value\" + i);\n            for (double t = 0; t &lt; 2 * Math.PI; t += 0.5) {\n                series.add(t, Math.sin(t) + i);\n            }\n            dataset.addSeries(series);\n        }\n        NumberAxis xAxis = new NumberAxis(\"domain\");\n        NumberAxis yAxis = new NumberAxis(\"range\");\n        XYLineAndShapeRenderer renderer = new XYLineAndShapeRenderer(true, true);\n        renderer.setBaseToolTipGenerator(new StandardXYToolTipGenerator());\n        XYPlot plot = new XYPlot(dataset, xAxis, yAxis, renderer);\n        JFreeChart chart = new JFreeChart(\"Test\", plot);\n        ChartViewer viewer = new ChartViewer(chart);\n        viewer.addChartMouseListener(new ChartMouseListenerFX() {\n            @Override\n            public void chartMouseClicked(ChartMouseEventFX e) {\n                ChartEntity ce = e.getEntity();\n                if (ce instanceof XYItemEntity) {\n                    XYItemEntity item = (XYItemEntity) ce;\n                    renderer.setSeriesVisible(item.getSeriesIndex(), false);\n                } else if (ce instanceof LegendItemEntity) {\n                    LegendItemEntity item = (LegendItemEntity) ce;\n                    Comparable key = item.getSeriesKey();\n                    renderer.setSeriesVisible(dataset.getSeriesIndex(key), false);\n                } else {\n                    for (int i = 0; i &lt; dataset.getSeriesCount(); i++) {\n                        renderer.setSeriesVisible(i, true);\n                    }\n                }\n            }\n\n            @Override\n            public void chartMouseMoved(ChartMouseEventFX e) {}\n        });\n        stage.setScene(new Scene(viewer));\n        stage.setTitle(\"JFreeChartFX\");\n        stage.setWidth(640);\n        stage.setHeight(480);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518495415,"creation_date":1518495415,"answer_id":48759351,"question_id":44956955,"body_markdown":"Thanks for the answer @sillyfly. I was able to port this to Kotlin. It comes out cleanly and succinctly with the `forEach` and `filter` notation.\r\n\r\n(Kotlin-folk, please let me know any improvements, thanks).\r\n\r\n            lineChart.childrenUnmodifiable.forEach { if (it is Legend) {\r\n                it.items.forEach {\r\n                    val li = it\r\n                    lineChart.data.filter { it.name == li.text }.forEach {\r\n                        li.symbol.cursor = Cursor.HAND\r\n                        val s = it\r\n                        li.symbol.setOnMouseClicked { if (it.button == MouseButton.PRIMARY) {\r\n                            s.node.isVisible = !s.node.isVisible\r\n                            s.data.forEach { it.node.isVisible = !it.node.isVisible }\r\n                        }}\r\n                    }\r\n                }\r\n            }\r\n        }","title":"JavaFX Use Chart Legend to toggle show/hide Series possible?","body":"<p>Thanks for the answer @sillyfly. I was able to port this to Kotlin. It comes out cleanly and succinctly with the <code>forEach</code> and <code>filter</code> notation.</p>\n\n<p>(Kotlin-folk, please let me know any improvements, thanks).</p>\n\n<pre><code>        lineChart.childrenUnmodifiable.forEach { if (it is Legend) {\n            it.items.forEach {\n                val li = it\n                lineChart.data.filter { it.name == li.text }.forEach {\n                    li.symbol.cursor = Cursor.HAND\n                    val s = it\n                    li.symbol.setOnMouseClicked { if (it.button == MouseButton.PRIMARY) {\n                        s.node.isVisible = !s.node.isVisible\n                        s.data.forEach { it.node.isVisible = !it.node.isVisible }\n                    }}\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1300214"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574022683,"creation_date":1574021629,"answer_id":58904770,"question_id":44956955,"body_markdown":"A bit off-topic, but too long for a comment and useful if you&#39;ve made the switch to TornadoFX (which is based on JavaFX). Hiding the series can be achieved behind the scenes by adding the extension\r\n\r\n    fun XYChart&lt;Number, Number&gt;.showExtra(on: Boolean) {\r\n\r\n        for (s in getData()) {\r\n\r\n            s.getNode().setVisible(on)\r\n\r\n            for (d in s.getData()) {\r\n\r\n                if (d.getNode() != null) {\r\n\r\n                    d.getNode().setVisible(on)\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"JavaFX Use Chart Legend to toggle show/hide Series possible?","body":"<p>A bit off-topic, but too long for a comment and useful if you've made the switch to TornadoFX (which is based on JavaFX). Hiding the series can be achieved behind the scenes by adding the extension</p>\n\n<pre><code>fun XYChart&lt;Number, Number&gt;.showExtra(on: Boolean) {\n\n    for (s in getData()) {\n\n        s.getNode().setVisible(on)\n\n        for (d in s.getData()) {\n\n            if (d.getNode() != null) {\n\n                d.getNode().setVisible(on)\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24035331,"reputation":29,"user_id":18015674,"display_name":"savio99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643014289,"creation_date":1643014289,"answer_id":70831157,"question_id":44956955,"body_markdown":"This code works with new versions of JavaFX and with Kotlin. It also solves the problem of import com.sun.javafx.charts package:\r\n\r\n    val items: Set&lt;Node&gt; = lineChart.lookupAll(&quot;Label.chart-legend-item&quot;)\r\n        items.forEach { label -&gt;\r\n            if(label is Label)\r\n                label.setOnMouseClicked {\r\n                    lineChart.data.forEach {\r\n                        if(it.name == label.text) {\r\n                            it.node.isVisible = !it.node.isVisible\r\n                        }\r\n                    }\r\n                }\r\n        }","title":"JavaFX Use Chart Legend to toggle show/hide Series possible?","body":"<p>This code works with new versions of JavaFX and with Kotlin. It also solves the problem of import com.sun.javafx.charts package:</p>\n<pre><code>val items: Set&lt;Node&gt; = lineChart.lookupAll(&quot;Label.chart-legend-item&quot;)\n    items.forEach { label -&gt;\n        if(label is Label)\n            label.setOnMouseClicked {\n                lineChart.data.forEach {\n                    if(it.name == label.text) {\n                        it.node.isVisible = !it.node.isVisible\n                    }\n                }\n            }\n    }\n</code></pre>\n"}],"owner":{"display_name":"user7851291"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6749,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44957354,"answer_count":5,"score":6,"last_activity_date":1643014289,"creation_date":1499367707,"question_id":44956955,"body_markdown":"Is it possible to use a chart&#39;s legend to toggle show/hide a series?\r\n\r\nI got a `LineChart` with a legend and there are too many `Series` so you can&#39;t read out the information well. I was wondering if there is a possibility to use the legend to toggle the series to show/hide?\r\n\r\nMost of the names of my `Series` are pretty long and it looks very weird if they are written twice once in the legend so you know which color belongs to which `Series` and a second time besides a `CheckBox` to toggle them.\r\n\r\nEdit1: Maybe I was unclear, even if there is no built in function for this, I could use some input for how a workaround could look like, because I can&#39;t come up with anything.","title":"JavaFX Use Chart Legend to toggle show/hide Series possible?","body":"<p>Is it possible to use a chart's legend to toggle show/hide a series?</p>\n<p>I got a <code>LineChart</code> with a legend and there are too many <code>Series</code> so you can't read out the information well. I was wondering if there is a possibility to use the legend to toggle the series to show/hide?</p>\n<p>Most of the names of my <code>Series</code> are pretty long and it looks very weird if they are written twice once in the legend so you know which color belongs to which <code>Series</code> and a second time besides a <code>CheckBox</code> to toggle them.</p>\n<p>Edit1: Maybe I was unclear, even if there is no built in function for this, I could use some input for how a workaround could look like, because I can't come up with anything.</p>\n"},{"tags":["java","string","java-8"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642772991,"post_id":70798535,"comment_id":125167735,"body_markdown":"Of course, `group(1)` doesn’t work when your pattern has no groups at all. You can use `Matcher matcher = Pattern.compile(&quot;(\\\\s*+\\\\S){5}&quot;).matcher(a); if(matcher.find()) System.out.println(matcher.group());` or in one simple expression, `a.replaceFirst(&quot;((\\\\s*+\\\\S){5}).*&quot;, &quot;$1&quot;)`.","body":"Of course, <code>group(1)</code> doesn’t work when your pattern has no groups at all. You can use <code>Matcher matcher = Pattern.compile(&quot;(\\\\s*+\\\\S){5}&quot;).matcher(a); if(matcher.find()) System.out.println(matcher.group());</code> or in one simple expression, <code>a.replaceFirst(&quot;((\\\\s*+\\\\S){5}).*&quot;, &quot;$1&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":19833403,"reputation":571,"user_id":14527497,"display_name":"dangerousmanleesanghyeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642755094,"creation_date":1642755094,"answer_id":70798627,"question_id":70798535,"body_markdown":"```java\r\n        String a = &quot;Hello World!&quot;;\r\n        int n = 7;\r\n        n = n + a.substring(0, n).split(&quot; &quot;).length - 1;\r\n        a = a.substring(0, n);\r\n        System.out.println(a);\r\n```        \r\n","title":"Truncate a String upto n characters ignoring whiteSpace","body":"<pre class=\"lang-java prettyprint-override\"><code>        String a = &quot;Hello World!&quot;;\n        int n = 7;\n        n = n + a.substring(0, n).split(&quot; &quot;).length - 1;\n        a = a.substring(0, n);\n        System.out.println(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12858649,"reputation":112,"user_id":9301149,"display_name":"Tung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642755173,"creation_date":1642755173,"answer_id":70798643,"question_id":70798535,"body_markdown":"One solution I can think of:\r\n\r\n```\r\n// Pseudo-code\r\nstring // i.e: &quot;Hello World&quot;\r\nn // i.e = 7\r\ncounter1, counter2\r\nfor character in string {\r\n    if counter1 == n {\r\n        break;\r\n    }\r\n    if character is not `space` {\r\n        ++counter1;\r\n    } else {\r\n        ++counter2;\r\n    }\r\n}\r\nreturn string.subString(0, counter1+counter2);\r\n```","title":"Truncate a String upto n characters ignoring whiteSpace","body":"<p>One solution I can think of:</p>\n<pre><code>// Pseudo-code\nstring // i.e: &quot;Hello World&quot;\nn // i.e = 7\ncounter1, counter2\nfor character in string {\n    if counter1 == n {\n        break;\n    }\n    if character is not `space` {\n        ++counter1;\n    } else {\n        ++counter2;\n    }\n}\nreturn string.subString(0, counter1+counter2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299676,"reputation":581,"user_id":1249865,"accept_rate":46,"display_name":"Matthias Reisner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642756614,"creation_date":1642756614,"answer_id":70798899,"question_id":70798535,"body_markdown":"One other pragmatic solution which is more flexible for edge cases\r\n-&gt; what if the last index is also a whitespace e.g.\r\n\r\n    String ori = &quot;Hello   World&quot;;\r\n\t\tint cCount = 6;\r\n\t\t\r\n\t\tString endSub = ori.substring(cCount);\r\n\t\tStream&lt;Character&gt; endSubStream = endSub.chars().mapToObj(c -&gt; (char) c);\r\n\t\tint whitespacesEnd = (int)endSubStream.filter(p -&gt; Character.isWhitespace(p.charValue())).count();\r\n\t\t\r\n\t\tString beginSub = ori.substring(0, cCount);\r\n\t\tStream&lt;Character&gt; beginSubStream = beginSub.chars().mapToObj(c -&gt; (char) c);\r\n\t\tint whitespaces = (int)beginSubStream.filter(p -&gt; Character.isWhitespace(p.charValue())).count();\r\n\t\t\r\n\t\tString text = ori.substring(0, cCount + whitespaces + whitespacesEnd);\r\n      System.out.println(text);\r\n\r\nhttps://www.online-java.com/D4qarKf5Cl","title":"Truncate a String upto n characters ignoring whiteSpace","body":"<p>One other pragmatic solution which is more flexible for edge cases\n-&gt; what if the last index is also a whitespace e.g.</p>\n<pre><code>String ori = &quot;Hello   World&quot;;\n    int cCount = 6;\n    \n    String endSub = ori.substring(cCount);\n    Stream&lt;Character&gt; endSubStream = endSub.chars().mapToObj(c -&gt; (char) c);\n    int whitespacesEnd = (int)endSubStream.filter(p -&gt; Character.isWhitespace(p.charValue())).count();\n    \n    String beginSub = ori.substring(0, cCount);\n    Stream&lt;Character&gt; beginSubStream = beginSub.chars().mapToObj(c -&gt; (char) c);\n    int whitespaces = (int)beginSubStream.filter(p -&gt; Character.isWhitespace(p.charValue())).count();\n    \n    String text = ori.substring(0, cCount + whitespaces + whitespacesEnd);\n  System.out.println(text);\n</code></pre>\n<p><a href=\"https://www.online-java.com/D4qarKf5Cl\" rel=\"nofollow noreferrer\">https://www.online-java.com/D4qarKf5Cl</a></p>\n"},{"tags":[],"owner":{"account_id":23803283,"reputation":126,"user_id":17813175,"display_name":"Mohaideen Samsudeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642855429,"creation_date":1642855429,"answer_id":70812932,"question_id":70798535,"body_markdown":"This should solve your requirement.\r\n\r\n```\r\nString stringToBeProcessed = &quot;Hello World! to you&quot;;\r\nint count = 0;\r\nint limit = 7;\r\nStringBuilder sb = new StringBuilder();\r\nfor(Character c : stringToBeProcessed.toCharArray()){\r\n   if(!Character.isSpaceChar(c)){\r\n       count = count + 1;\r\n   }\r\n   if(count &gt; limit){\r\n       break;\r\n   } else {\r\n       sb.append(c);\r\n   }\r\n}\r\nSystem.out.println(sb);\r\n```","title":"Truncate a String upto n characters ignoring whiteSpace","body":"<p>This should solve your requirement.</p>\n<pre><code>String stringToBeProcessed = &quot;Hello World! to you&quot;;\nint count = 0;\nint limit = 7;\nStringBuilder sb = new StringBuilder();\nfor(Character c : stringToBeProcessed.toCharArray()){\n   if(!Character.isSpaceChar(c)){\n       count = count + 1;\n   }\n   if(count &gt; limit){\n       break;\n   } else {\n       sb.append(c);\n   }\n}\nSystem.out.println(sb);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1288668,"reputation":2490,"user_id":1241218,"display_name":"Nonika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643013405,"creation_date":1642857174,"answer_id":70813161,"question_id":70798535,"body_markdown":"**For java 9+:**\r\n    \r\n    String test(int cnt, String string) {\r\n                AtomicInteger n = new AtomicInteger(cnt);\r\n                return string\r\n                        .chars()\r\n                        .boxed()\r\n                        .peek(value -&gt; {\r\n                            if (!Character.isWhitespace(value)) {\r\n                                n.decrementAndGet();\r\n                            }\r\n                        })\r\n                        .takeWhile(value -&gt; n.get() &gt;= 0)\r\n                        .map(Character::toString)\r\n                        .collect(Collectors.joining());\r\n        \r\n            }\r\n\r\n**EDIT: **For java 8:****\r\n\r\n     String test(int cnt, String string) {\r\n        AtomicInteger n = new AtomicInteger(cnt);\r\n        return string\r\n                .chars()\r\n                .boxed()\r\n                .peek(value -&gt; {\r\n                    if (!Character.isWhitespace(value)) {\r\n                        n.decrementAndGet();\r\n                    }\r\n                })\r\n                .filter(value -&gt; n.get() &gt;= 0)\r\n                .map(ch-&gt;String.valueOf((char) ch.intValue()))\r\n                .collect(Collectors.joining());\r\n    \r\n    }\r\n\r\nbut this will go through every character of the string regardless of the provided index. It seems there is no effective way to dynamically limit the output of the stream in java 8.","title":"Truncate a String upto n characters ignoring whiteSpace","body":"<p><strong>For java 9+:</strong></p>\n<pre><code>String test(int cnt, String string) {\n            AtomicInteger n = new AtomicInteger(cnt);\n            return string\n                    .chars()\n                    .boxed()\n                    .peek(value -&gt; {\n                        if (!Character.isWhitespace(value)) {\n                            n.decrementAndGet();\n                        }\n                    })\n                    .takeWhile(value -&gt; n.get() &gt;= 0)\n                    .map(Character::toString)\n                    .collect(Collectors.joining());\n    \n        }\n</code></pre>\n<p><strong>EDIT: <strong>For java 8:</strong></strong></p>\n<pre><code> String test(int cnt, String string) {\n    AtomicInteger n = new AtomicInteger(cnt);\n    return string\n            .chars()\n            .boxed()\n            .peek(value -&gt; {\n                if (!Character.isWhitespace(value)) {\n                    n.decrementAndGet();\n                }\n            })\n            .filter(value -&gt; n.get() &gt;= 0)\n            .map(ch-&gt;String.valueOf((char) ch.intValue()))\n            .collect(Collectors.joining());\n\n}\n</code></pre>\n<p>but this will go through every character of the string regardless of the provided index. It seems there is no effective way to dynamically limit the output of the stream in java 8.</p>\n"}],"owner":{"account_id":2983085,"reputation":688,"user_id":2532633,"accept_rate":67,"display_name":"Abhishek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1643013405,"creation_date":1642754642,"question_id":70798535,"body_markdown":"I need to truncate a String upto n characters ignoring whiteSpace.\r\n\r\nSuppose My String is:\r\n\r\n    String a = &quot;Hello World!&quot;\r\n\r\nAnd if n=7, then the output should be:\r\n\r\n    Hello Wo\r\n\r\nI can do that by splitting on whitespace and then combining it back. but any better solution using Java 8?\r\n\r\nother Solution I tried:\r\n\r\n    String a = &quot;Hello World!!&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;[^\\\\s]{5}&quot;);\r\n    Matcher matcher = pattern.matcher(a);\r\n    if (matcher.find())\r\n    {\r\n        System.out.println(matcher.group(1));\r\n    }\r\n\r\nBut it didn&#39;t work. Thanks!!","title":"Truncate a String upto n characters ignoring whiteSpace","body":"<p>I need to truncate a String upto n characters ignoring whiteSpace.</p>\n<p>Suppose My String is:</p>\n<pre><code>String a = &quot;Hello World!&quot;\n</code></pre>\n<p>And if n=7, then the output should be:</p>\n<pre><code>Hello Wo\n</code></pre>\n<p>I can do that by splitting on whitespace and then combining it back. but any better solution using Java 8?</p>\n<p>other Solution I tried:</p>\n<pre><code>String a = &quot;Hello World!!&quot;;\nPattern pattern = Pattern.compile(&quot;[^\\\\s]{5}&quot;);\nMatcher matcher = pattern.matcher(a);\nif (matcher.find())\n{\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n<p>But it didn't work. Thanks!!</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1641899590,"post_id":70665778,"comment_id":124922672,"body_markdown":"Can you share some class definition to help ? like `MobileSubtype` ? to really understand the type of the lists, because if you map to some list, then you&#39;ll have list of list","body":"Can you share some class definition to help ? like <code>MobileSubtype</code> ? to really understand the type of the lists, because if you map to some list, then you&#39;ll have list of list"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1641900146,"post_id":70665778,"comment_id":124922866,"body_markdown":"See my note about class naming at singular","body":"See my note about class naming at singular"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641900134,"creation_date":1641899692,"answer_id":70665841,"question_id":70665778,"body_markdown":"Regarding your actual code, I&#39;d suggest one `forEach` before mapping to a specific category, then add in each list\r\n\r\n    storesList.stream()\r\n            .map(Devices::getDevicesSubtype)\r\n            .filter(Objects::nonNull)\r\n            .map(subtype -&gt; (MobileSubtype) subtype)\r\n            .forEachOrdered(subtype -&gt; {\r\n                pricesList.add(subtype.getPrices());\r\n                instructionsList.add(subtype.getInstructions());\r\n                sizesList.add(subtype.getSizes());\r\n            });\r\n\r\n\r\n---\r\n\r\nNote : classes should be name at singular if there represent only one element, is `Prices` is one price, it should be name `Price` to avoid confusion, same for `Instructions` and `Sizes`","title":"How to do multiple map operations with the same value using Java stream?","body":"<p>Regarding your actual code, I'd suggest one <code>forEach</code> before mapping to a specific category, then add in each list</p>\n<pre><code>storesList.stream()\n        .map(Devices::getDevicesSubtype)\n        .filter(Objects::nonNull)\n        .map(subtype -&gt; (MobileSubtype) subtype)\n        .forEachOrdered(subtype -&gt; {\n            pricesList.add(subtype.getPrices());\n            instructionsList.add(subtype.getInstructions());\n            sizesList.add(subtype.getSizes());\n        });\n</code></pre>\n<hr />\n<p>Note : classes should be name at singular if there represent only one element, is <code>Prices</code> is one price, it should be name <code>Price</code> to avoid confusion, same for <code>Instructions</code> and <code>Sizes</code></p>\n"}],"owner":{"account_id":18361596,"reputation":91,"user_id":13373575,"display_name":"MadMax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70665841,"answer_count":1,"score":0,"last_activity_date":1643013262,"creation_date":1641899381,"question_id":70665778,"body_markdown":"I have a &quot;root&quot; list which contains objects with different lists inside. I have it now divided in 3 operations but i think it could be done using only one so i wouldn&#39;t repeat code. Is it possible?\r\n```\r\nList&lt;Prices[]&gt; pricesList = new ArrayList&lt;Prices&gt;();\r\nList&lt;Instructions[]&gt; instructionsList = new ArrayList&lt;Instructions&gt;();\r\nList&lt;Sizes[]&gt; sizesList = new ArrayList&lt;Sizes&gt;();\r\n\r\n/* storesList contains a list of Stores which each of them has \r\n   inside a list of prices, instructions and sizes. \r\n   I want join all of that individual lists into a single one.*/\r\n storesList.stream()\r\n                .map(Devices::getDevicesSubtype)\r\n                .filter(Objects::nonNull)\r\n                .map(subtype -&gt; (MobileSubtype) subtype)\r\n                .map(MobileSubtype::getPrices)\r\n                .forEachOrdered(list -&gt; pricesList.add(list));\r\n\r\nstoresList.stream()\r\n                .map(Devices::getDevicesSubtype)\r\n                .filter(Objects::nonNull)\r\n                .map(subtype -&gt; (MobileSubtype) subtype)\r\n                .map(MobileSubtype::getInstructions)\r\n                .forEachOrdered(list -&gt; instructionsList.add(list));\r\n\r\nstoresList.stream()\r\n                .map(Devices::getDevicesSubtype)\r\n                .filter(Objects::nonNull)\r\n                .map(subtype -&gt; (MobileSubtype) subtype)\r\n                .map(MobileSubtype::getSizes)\r\n                .forEachOrdered(list -&gt; sizesList.add(list));\r\n\r\n/*How could i not repeat this part of the code and do the 3 for each ordered?*/\r\nstoresList.stream()\r\n                .map(Devices::getDevicesSubtype)\r\n                .filter(Objects::nonNull)\r\n                .map(subtype -&gt; (MobileSubtype) subtype)\r\n\r\n```","title":"How to do multiple map operations with the same value using Java stream?","body":"<p>I have a &quot;root&quot; list which contains objects with different lists inside. I have it now divided in 3 operations but i think it could be done using only one so i wouldn't repeat code. Is it possible?</p>\n<pre><code>List&lt;Prices[]&gt; pricesList = new ArrayList&lt;Prices&gt;();\nList&lt;Instructions[]&gt; instructionsList = new ArrayList&lt;Instructions&gt;();\nList&lt;Sizes[]&gt; sizesList = new ArrayList&lt;Sizes&gt;();\n\n/* storesList contains a list of Stores which each of them has \n   inside a list of prices, instructions and sizes. \n   I want join all of that individual lists into a single one.*/\n storesList.stream()\n                .map(Devices::getDevicesSubtype)\n                .filter(Objects::nonNull)\n                .map(subtype -&gt; (MobileSubtype) subtype)\n                .map(MobileSubtype::getPrices)\n                .forEachOrdered(list -&gt; pricesList.add(list));\n\nstoresList.stream()\n                .map(Devices::getDevicesSubtype)\n                .filter(Objects::nonNull)\n                .map(subtype -&gt; (MobileSubtype) subtype)\n                .map(MobileSubtype::getInstructions)\n                .forEachOrdered(list -&gt; instructionsList.add(list));\n\nstoresList.stream()\n                .map(Devices::getDevicesSubtype)\n                .filter(Objects::nonNull)\n                .map(subtype -&gt; (MobileSubtype) subtype)\n                .map(MobileSubtype::getSizes)\n                .forEachOrdered(list -&gt; sizesList.add(list));\n\n/*How could i not repeat this part of the code and do the 3 for each ordered?*/\nstoresList.stream()\n                .map(Devices::getDevicesSubtype)\n                .filter(Objects::nonNull)\n                .map(subtype -&gt; (MobileSubtype) subtype)\n\n</code></pre>\n"},{"tags":["java","collections","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641991512,"creation_date":1641991110,"answer_id":70681695,"question_id":70681591,"body_markdown":"Yes, it is possible to add a `filter()` call to a `Stream` of `list1`&#39;s question IDs, where the predicate would check the elements of `list2`, and return `true` if none of them has the current ID. \r\n\r\n\r\n\r\n\r\n    List&lt;Long&gt; diff = list1.stream()\r\n                           .flatMap(mc-&gt;mc.getQuestions().stream()\r\n                                                         .map(Question::getQuestionId))\r\n                           .filter(id1 -&gt; list2.stream()\r\n                                               .flatMap(mc-&gt;mc.getQuestions().stream()\r\n                                                                             .map(Question::getQuestionId))\r\n                                               .noneMatch(id2 -&gt; id2.equals(id1)))\r\n                                  .collect(Collectors.toList());\r\n\r\nHowever, this would take quadratic time to run.\r\n\r\nYou&#39;d be better off if you produce two `Set`s of the question IDs and find the difference:\r\n\r\n    Set&lt;Long&gt; idsFromList1 = list1.stream()\r\n                                  .flatMap(mc-&gt;mc.getQuestions().stream().map(Question::getQuestionId))\r\n                                  .collect(Collectors.toSet());\r\n    Set&lt;Long&gt; idsFromList2= list2.stream() .flatMap(mc-&gt;mc.getQuestions().stream().map(Question::getQuestionId))\r\n                                  .collect(Collectors.toSet());\r\n    Set&lt;Long&gt; diff = idsFromList1.removeAll(idsFromList2);","title":"How do compare an internal field between two lists in Java?","body":"<p>Yes, it is possible to add a <code>filter()</code> call to a <code>Stream</code> of <code>list1</code>'s question IDs, where the predicate would check the elements of <code>list2</code>, and return <code>true</code> if none of them has the current ID.</p>\n<pre><code>List&lt;Long&gt; diff = list1.stream()\n                       .flatMap(mc-&gt;mc.getQuestions().stream()\n                                                     .map(Question::getQuestionId))\n                       .filter(id1 -&gt; list2.stream()\n                                           .flatMap(mc-&gt;mc.getQuestions().stream()\n                                                                         .map(Question::getQuestionId))\n                                           .noneMatch(id2 -&gt; id2.equals(id1)))\n                              .collect(Collectors.toList());\n</code></pre>\n<p>However, this would take quadratic time to run.</p>\n<p>You'd be better off if you produce two <code>Set</code>s of the question IDs and find the difference:</p>\n<pre><code>Set&lt;Long&gt; idsFromList1 = list1.stream()\n                              .flatMap(mc-&gt;mc.getQuestions().stream().map(Question::getQuestionId))\n                              .collect(Collectors.toSet());\nSet&lt;Long&gt; idsFromList2= list2.stream() .flatMap(mc-&gt;mc.getQuestions().stream().map(Question::getQuestionId))\n                              .collect(Collectors.toSet());\nSet&lt;Long&gt; diff = idsFromList1.removeAll(idsFromList2);\n</code></pre>\n"}],"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70681695,"answer_count":1,"score":1,"last_activity_date":1643013241,"creation_date":1641990632,"question_id":70681591,"body_markdown":"I have `List&lt;MainClass&gt; list1` and `List&lt;MainClass&gt; list2`.\r\n\r\n    public class MainClass {\r\n        private List&lt;Question&gt; questions;\r\n    }\r\n    \r\n    public class Question {\r\n        private Long questionId;\r\n    }\r\n\r\n\r\nI need to compare the questionId from the list1 with the questionId from the list2. I should get those questionId (as `List&lt;Long&gt; ids`) from the List1 which are absent in the List2.\r\n\r\nI have written next code where I seperatly where I separately get ids from the list1 and list2. Then I have to compare the idsFromList1 and the idsFromList1 to find out a absent Ids. My question: Is the way to get those questionId (as List&lt;Long&gt; ids) from the List1 which are absent in the List2 using stream or in some a short, elegant way? \r\n\r\n    List&lt;Long&gt; idsFromList1= list1.stream().map(mc-&gt;mc.getQuestion)).flatMap(List::stream).map(q-&gt;q.getQuestionId()).collect(Collectors.toList());\r\n    List&lt;Long&gt; idsFromList2= list2.stream().map(mc-&gt;mc.getQuestion)).flatMap(List::stream).map(q-&gt;q.getQuestionId()).collect(Collectors.toList());","title":"How do compare an internal field between two lists in Java?","body":"<p>I have <code>List&lt;MainClass&gt; list1</code> and <code>List&lt;MainClass&gt; list2</code>.</p>\n<pre><code>public class MainClass {\n    private List&lt;Question&gt; questions;\n}\n\npublic class Question {\n    private Long questionId;\n}\n</code></pre>\n<p>I need to compare the questionId from the list1 with the questionId from the list2. I should get those questionId (as <code>List&lt;Long&gt; ids</code>) from the List1 which are absent in the List2.</p>\n<p>I have written next code where I seperatly where I separately get ids from the list1 and list2. Then I have to compare the idsFromList1 and the idsFromList1 to find out a absent Ids. My question: Is the way to get those questionId (as List ids) from the List1 which are absent in the List2 using stream or in some a short, elegant way?</p>\n<pre><code>List&lt;Long&gt; idsFromList1= list1.stream().map(mc-&gt;mc.getQuestion)).flatMap(List::stream).map(q-&gt;q.getQuestionId()).collect(Collectors.toList());\nList&lt;Long&gt; idsFromList2= list2.stream().map(mc-&gt;mc.getQuestion)).flatMap(List::stream).map(q-&gt;q.getQuestionId()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642368258,"creation_date":1642367878,"answer_id":70734270,"question_id":70734197,"body_markdown":"Stream over the list (`second`), rather than the map. Map each element of the list by querying the map. If an element is not in the map, the result will be null, so we remove those elements with a `filter`. Finally, we can do a `sum`:\r\n\r\n    long third = second.stream()\r\n            .map(first::get)\r\n            .filter(Objects::nonNull)\r\n            .mapToLong(x -&gt; x)\r\n            .sum();\r\n\r\n","title":"Get the sum of values from a HashMap where the keys have matches in a List of Strings with streams","body":"<p>Stream over the list (<code>second</code>), rather than the map. Map each element of the list by querying the map. If an element is not in the map, the result will be null, so we remove those elements with a <code>filter</code>. Finally, we can do a <code>sum</code>:</p>\n<pre><code>long third = second.stream()\n        .map(first::get)\n        .filter(Objects::nonNull)\n        .mapToLong(x -&gt; x)\n        .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4765676,"reputation":370,"user_id":3851831,"accept_rate":58,"display_name":"CalibeR.50"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642367878,"creation_date":1642367878,"answer_id":70734271,"question_id":70734197,"body_markdown":"You could solve it like this:\r\n\r\n```java\r\nMap&lt;String, Long&gt; first = Map.of(&quot;A&quot;, 20L, &quot;B&quot;, 50L, &quot;C&quot;, 100L);\r\nList&lt;String&gt; second = List.of(&quot;A&quot;, &quot;M&quot;, &quot;B&quot;);\r\n\r\nlong sum = second.stream() //stream tokens you search\r\n        .mapToLong(key -&gt; first.getOrDefault(key, 0L)) //get the corresponding value from the map, use 0 as default\r\n        .sum(); //get the sum\r\n\r\nSystem.out.println(sum);\r\n```\r\n\r\nInstead of iterating over the Map `first` and checking if they exist in the map, you can more easily iterate over the token list `second`, get the corresponding value from the map and sum them up.\r\n\r\n","title":"Get the sum of values from a HashMap where the keys have matches in a List of Strings with streams","body":"<p>You could solve it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Long&gt; first = Map.of(&quot;A&quot;, 20L, &quot;B&quot;, 50L, &quot;C&quot;, 100L);\nList&lt;String&gt; second = List.of(&quot;A&quot;, &quot;M&quot;, &quot;B&quot;);\n\nlong sum = second.stream() //stream tokens you search\n        .mapToLong(key -&gt; first.getOrDefault(key, 0L)) //get the corresponding value from the map, use 0 as default\n        .sum(); //get the sum\n\nSystem.out.println(sum);\n</code></pre>\n<p>Instead of iterating over the Map <code>first</code> and checking if they exist in the map, you can more easily iterate over the token list <code>second</code>, get the corresponding value from the map and sum them up.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642368251,"creation_date":1642367896,"answer_id":70734273,"question_id":70734197,"body_markdown":"Here is one way to do it.\r\n```\r\nMap&lt;String, Long&gt; m = Map.of(&quot;A&quot;, 20L, &quot;B&quot;, 50L, &quot;C&quot;, 100L);\r\nList&lt;String&gt; list = List.of(&quot;A&quot;, &quot;M&quot;, &quot;B&quot;);\r\n```\r\n- ensure a value for the key exists\r\n- get the values\r\n- sum them\r\n```\r\nlong sum = list.stream().filter(m::containsKey).mapToLong(m::get)\r\n\t\t.sum();\r\n\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n70\r\n","title":"Get the sum of values from a HashMap where the keys have matches in a List of Strings with streams","body":"<p>Here is one way to do it.</p>\n<pre><code>Map&lt;String, Long&gt; m = Map.of(&quot;A&quot;, 20L, &quot;B&quot;, 50L, &quot;C&quot;, 100L);\nList&lt;String&gt; list = List.of(&quot;A&quot;, &quot;M&quot;, &quot;B&quot;);\n</code></pre>\n<ul>\n<li>ensure a value for the key exists</li>\n<li>get the values</li>\n<li>sum them</li>\n</ul>\n<pre><code>long sum = list.stream().filter(m::containsKey).mapToLong(m::get)\n        .sum();\n\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>70\n</code></pre>\n"}],"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2032,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70734270,"answer_count":3,"score":-1,"last_activity_date":1643013168,"creation_date":1642367211,"question_id":70734197,"body_markdown":"I have a `Map&lt;String, Long&gt;` which looks like this:\r\n\r\n    first = {&quot;A&quot;: 20,\r\n             &quot;B&quot;: 50,\r\n             &quot;C&quot;: 100}\r\n\r\nand a `List&lt;String&gt;`\r\n\r\n    second = {&quot;A&quot;,&quot;M&quot;,&quot;B&quot;}. \r\n\r\nWhat I need to do is find the keys which have matching String values in the second List, and form a List with the corresponding values from the Map. So, I need to get: \r\n\r\n    third = 70 \r\n\r\nbecause the keys &quot;A&quot; and &quot;B&quot; are also in the list and their values are 20 and 50. I want to achieve this with Streams and so far, I have this, where I find the list of String of matchingSymbols, but I need to get the sum of values:\r\n\r\n``` \r\nList&lt;String&gt; matchingSymbols = first.entrySet()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.flatMap(incrementProgression -&gt; second.stream().filter(incrementProgression.getKey()::equals))\r\n\t\t\t\t.collect(Collectors.toList());\r\n```\r\n\r\nCan anyone help me?","title":"Get the sum of values from a HashMap where the keys have matches in a List of Strings with streams","body":"<p>I have a <code>Map&lt;String, Long&gt;</code> which looks like this:</p>\n<pre><code>first = {&quot;A&quot;: 20,\n         &quot;B&quot;: 50,\n         &quot;C&quot;: 100}\n</code></pre>\n<p>and a <code>List&lt;String&gt;</code></p>\n<pre><code>second = {&quot;A&quot;,&quot;M&quot;,&quot;B&quot;}. \n</code></pre>\n<p>What I need to do is find the keys which have matching String values in the second List, and form a List with the corresponding values from the Map. So, I need to get:</p>\n<pre><code>third = 70 \n</code></pre>\n<p>because the keys &quot;A&quot; and &quot;B&quot; are also in the list and their values are 20 and 50. I want to achieve this with Streams and so far, I have this, where I find the list of String of matchingSymbols, but I need to get the sum of values:</p>\n<pre><code>List&lt;String&gt; matchingSymbols = first.entrySet()\n                .stream()\n                .flatMap(incrementProgression -&gt; second.stream().filter(incrementProgression.getKey()::equals))\n                .collect(Collectors.toList());\n</code></pre>\n<p>Can anyone help me?</p>\n"},{"tags":["java","collections","java-stream","java-11"],"comments":[{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":0,"creation_date":1642398784,"post_id":70737022,"comment_id":125051147,"body_markdown":"What compilation error you are getting?","body":"What compilation error you are getting?"},{"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"score":0,"creation_date":1642398925,"post_id":70737022,"comment_id":125051173,"body_markdown":"`no instance(s) of type variable(s) K, T exist so that UUID conforms to Function&lt;? super T, ? extends K&gt;`","body":"<code>no instance(s) of type variable(s) K, T exist so that UUID conforms to Function&lt;? super T, ? extends K&gt;</code>"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":4,"creation_date":1642399241,"post_id":70737022,"comment_id":125051222,"body_markdown":"`k -&gt; UUID.randomUUID()`, not `UUID.randomUUID()`. You need a function, not a uuid, for the key generator argument.","body":"<code>k -&gt; UUID.randomUUID()</code>, not <code>UUID.randomUUID()</code>. You need a function, not a uuid, for the key generator argument."}],"answers":[{"tags":[],"owner":{"account_id":18095672,"reputation":56,"user_id":13154004,"display_name":"Qmilogd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642401408,"creation_date":1642400014,"answer_id":70737190,"question_id":70737022,"body_markdown":"    Map&lt;UUID, String&gt; collect = \r\n            List.of(&quot;john&quot;, &quot;jack&quot;, &quot;jill&quot;)\r\n                .stream()\r\n                .collect(Collectors.toMap(k -&gt; UUID.randomUUID(), name -&gt; name));","title":"Java 11 Convert List of Strings to Map&lt;UUID,String&gt;","body":"<pre><code>Map&lt;UUID, String&gt; collect = \n        List.of(&quot;john&quot;, &quot;jack&quot;, &quot;jill&quot;)\n            .stream()\n            .collect(Collectors.toMap(k -&gt; UUID.randomUUID(), name -&gt; name));\n</code></pre>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643013153,"accepted_answer_id":70737190,"answer_count":1,"score":0,"last_activity_date":1643013120,"creation_date":1642398598,"question_id":70737022,"body_markdown":"I am trying to convert the list of strings to Map as below but am getting a compilation error `no instance(s) of type variable(s) K, T exist so that UUID conforms to Function&lt;? super T, ? extends K&gt;`, can someone please help me with it?\r\n\r\n\r\n    List.of(&quot;john&quot;,&quot;jack&quot;, &quot;jill&quot;)\r\n                .stream()\r\n                .collect(Collectors.toMap(UUID.randomUUID(), name -&gt;name));","title":"Java 11 Convert List of Strings to Map&lt;UUID,String&gt;","body":"<p>I am trying to convert the list of strings to Map as below but am getting a compilation error <code>no instance(s) of type variable(s) K, T exist so that UUID conforms to Function&lt;? super T, ? extends K&gt;</code>, can someone please help me with it?</p>\n<pre><code>List.of(&quot;john&quot;,&quot;jack&quot;, &quot;jill&quot;)\n            .stream()\n            .collect(Collectors.toMap(UUID.randomUUID(), name -&gt;name));\n</code></pre>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1642583209,"post_id":70767826,"comment_id":125106349,"body_markdown":"What exactly are you trying to achieve? Can you share a sample file and the result you&#39;d like to get for it?","body":"What exactly are you trying to achieve? Can you share a sample file and the result you&#39;d like to get for it?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1642583235,"post_id":70767826,"comment_id":125106356,"body_markdown":"What do you want to achieve here? Besides the log messages, nothing comes out of your stream processing?","body":"What do you want to achieve here? Besides the log messages, nothing comes out of your stream processing?"},{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1642583404,"post_id":70767826,"comment_id":125106411,"body_markdown":"@CedrixCedrix even with the edit I&#39;m not sure I understand. Do you mean you want to read the file and omit lines longer than 12 characters?","body":"@CedrixCedrix even with the edit I&#39;m not sure I understand. Do you mean you want to read the file and omit lines longer than 12 characters?"},{"owner":{"account_id":2881635,"reputation":2419,"user_id":2472398,"display_name":"gru"},"score":1,"creation_date":1642583480,"post_id":70767826,"comment_id":125106442,"body_markdown":"You&#39;re immediately closing the stream in the first iteration: `stream.close()`. On the next iteration, the stream access will throw the exception.","body":"You&#39;re immediately closing the stream in the first iteration: <code>stream.close()</code>. On the next iteration, the stream access will throw the exception."},{"owner":{"account_id":12845808,"reputation":83,"user_id":9292242,"accept_rate":40,"display_name":"Cedrix Cedrix"},"score":0,"creation_date":1642583661,"post_id":70767826,"comment_id":125106519,"body_markdown":"@Mureinik yes return the line/s that have more than 12 characters","body":"@Mureinik yes return the line/s that have more than 12 characters"},{"owner":{"account_id":12845808,"reputation":83,"user_id":9292242,"accept_rate":40,"display_name":"Cedrix Cedrix"},"score":0,"creation_date":1642583699,"post_id":70767826,"comment_id":125106535,"body_markdown":"@AlexGru would removing the stream.close() solve the error because I have tried this already but the error still persist","body":"@AlexGru would removing the stream.close() solve the error because I have tried this already but the error still persist"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1642583766,"post_id":70767826,"comment_id":125106554,"body_markdown":"@CedrixCedrix `stream.close()` is unnecessary, but it&#39;s not the cause of the error.","body":"@CedrixCedrix <code>stream.close()</code> is unnecessary, but it&#39;s not the cause of the error."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642586696,"creation_date":1642583626,"answer_id":70767937,"question_id":70767826,"body_markdown":"You cannot reuse the `Stream`. You can create two `Stream`s using `Files.lines(path)`, but given your code, I don&#39;t think it&#39;s necessary.\r\n\r\nYou can find all the elements that are too long using a single `Stream`:\r\n\r\n    List&lt;String&gt; tooLong = \r\n        stream.filter(item -&gt; !item.contains(&quot;String&quot;))\r\n              .filter(items -&gt; items.length() &gt; 12)\r\n              .collect(Collectors.toList());\r\n\r\n    if (tooLong.size () &gt; 0) {\r\n        log.error(&quot;Items must not exceed 12 numbers {}&quot;, tooLong.toString ());\r\n        streamMessage.set(&quot;Items must not exceed 12 numbers&quot;);\r\n    }\r\n         \r\n\r\nEDIT:\r\n\r\nAfter your question edit, it appears you want to do two checks for each element of the `Stream`. You can still do it with a single `Stream`:\r\n\r\n    stream.filter(item -&gt; !item.contains(&quot;String&quot;))\r\n          .forEach(item -&gt; {\r\n            Pattern pattern = Pattern.compile(REGEX);\r\n            Matcher matcher = pattern.matcher(item);\r\n            if (item.length() &gt; 12) {\r\n                log.error(&quot;Item must not exceed 12 numbers {}&quot;, item);\r\n                streamMessage.set(&quot;Items must not exceed 12 numbers&quot;);\r\n            } else if(matcher.matches()) {\r\n                log.error(&quot;Invalid String format {}&quot;, item);\r\n                streamMessage.set(&quot;Invalid String format&quot;);\r\n            }\r\n        });\r\n","title":"reusing stream inside a stream java","body":"<p>You cannot reuse the <code>Stream</code>. You can create two <code>Stream</code>s using <code>Files.lines(path)</code>, but given your code, I don't think it's necessary.</p>\n<p>You can find all the elements that are too long using a single <code>Stream</code>:</p>\n<pre><code>List&lt;String&gt; tooLong = \n    stream.filter(item -&gt; !item.contains(&quot;String&quot;))\n          .filter(items -&gt; items.length() &gt; 12)\n          .collect(Collectors.toList());\n\nif (tooLong.size () &gt; 0) {\n    log.error(&quot;Items must not exceed 12 numbers {}&quot;, tooLong.toString ());\n    streamMessage.set(&quot;Items must not exceed 12 numbers&quot;);\n}\n     \n</code></pre>\n<p>EDIT:</p>\n<p>After your question edit, it appears you want to do two checks for each element of the <code>Stream</code>. You can still do it with a single <code>Stream</code>:</p>\n<pre><code>stream.filter(item -&gt; !item.contains(&quot;String&quot;))\n      .forEach(item -&gt; {\n        Pattern pattern = Pattern.compile(REGEX);\n        Matcher matcher = pattern.matcher(item);\n        if (item.length() &gt; 12) {\n            log.error(&quot;Item must not exceed 12 numbers {}&quot;, item);\n            streamMessage.set(&quot;Items must not exceed 12 numbers&quot;);\n        } else if(matcher.matches()) {\n            log.error(&quot;Invalid String format {}&quot;, item);\n            streamMessage.set(&quot;Invalid String format&quot;);\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":12845808,"reputation":83,"user_id":9292242,"accept_rate":40,"display_name":"Cedrix Cedrix"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70767937,"answer_count":1,"score":0,"last_activity_date":1643013067,"creation_date":1642582973,"question_id":70767826,"body_markdown":"Hi I just wanted to know what is wrong with my code and how can I improve it as it throws an error &quot;stream has already been operated upon or closed&quot; thank you here is my code:\r\n\r\n    Stream&lt;String&gt; stream = Files.lines(path)\r\n\r\n    stream.filter(item -&gt; !item.contains(&quot;String&quot;)).forEach(item -&gt; {\r\n                Pattern pattern = Pattern.compile(REGEX);\r\n                Matcher matcher = pattern.matcher(item);\r\n                if (!stream.filter(items -&gt; items.length() &gt; 12).collect(Collectors.toList()).isEmpty() == true) {\r\n                    log.error(&quot;Item must not exceed 12 numbers {}&quot;, item);\r\n                    streamMessage.set(&quot;Items must not exceed 12 numbers&quot;);\r\n                }\r\n                else if(matcher.matches() == true){\r\n                    log.error(&quot;Invalid String format {}&quot;, item);\r\n                    streamMessage.set(&quot;Invalid String format&quot;);\r\n                }\r\n            });\r\n\r\nI wanted to loop inside the file and check per line if the characters there exceeded 12 characters or not","title":"reusing stream inside a stream java","body":"<p>Hi I just wanted to know what is wrong with my code and how can I improve it as it throws an error &quot;stream has already been operated upon or closed&quot; thank you here is my code:</p>\n<pre><code>Stream&lt;String&gt; stream = Files.lines(path)\n\nstream.filter(item -&gt; !item.contains(&quot;String&quot;)).forEach(item -&gt; {\n            Pattern pattern = Pattern.compile(REGEX);\n            Matcher matcher = pattern.matcher(item);\n            if (!stream.filter(items -&gt; items.length() &gt; 12).collect(Collectors.toList()).isEmpty() == true) {\n                log.error(&quot;Item must not exceed 12 numbers {}&quot;, item);\n                streamMessage.set(&quot;Items must not exceed 12 numbers&quot;);\n            }\n            else if(matcher.matches() == true){\n                log.error(&quot;Invalid String format {}&quot;, item);\n                streamMessage.set(&quot;Invalid String format&quot;);\n            }\n        });\n</code></pre>\n<p>I wanted to loop inside the file and check per line if the characters there exceeded 12 characters or not</p>\n"},{"tags":["java","selenium","selenium-webdriver","button","xpath"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1640871400,"post_id":70529699,"comment_id":124679669,"body_markdown":"last line you are missing `driver`","body":"last line you are missing <code>driver</code>"},{"owner":{"account_id":11979939,"reputation":19,"user_id":8766073,"display_name":"buraz"},"score":0,"creation_date":1640871522,"post_id":70529699,"comment_id":124679707,"body_markdown":"@cruisepandey noted","body":"@cruisepandey noted"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1640871560,"post_id":70529699,"comment_id":124679717,"body_markdown":"What exactly you want to do once you are at https://www.spribe.co/games/aviator","body":"What exactly you want to do once you are at <a href=\"https://www.spribe.co/games/aviator\" rel=\"nofollow noreferrer\">spribe.co/games/aviator</a>"},{"owner":{"account_id":11979939,"reputation":19,"user_id":8766073,"display_name":"buraz"},"score":0,"creation_date":1640873273,"post_id":70529699,"comment_id":124680270,"body_markdown":"Click the &#39;DEMO&#39; button (which I&#39;m able to do) and go to the aviator game website, then remove the default &#39;1.00&#39; input text values and input my values and then click the bet button. If you copy and paste my code to your IDE it will do just that that. Only the last two part I&#39;m having problems with.","body":"Click the &#39;DEMO&#39; button (which I&#39;m able to do) and go to the aviator game website, then remove the default &#39;1.00&#39; input text values and input my values and then click the bet button. If you copy and paste my code to your IDE it will do just that that. Only the last two part I&#39;m having problems with."},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1640875311,"post_id":70529699,"comment_id":124680953,"body_markdown":"See below and let me know if it works for you as well or not.","body":"See below and let me know if it works for you as well or not."}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640875203,"creation_date":1640875203,"answer_id":70533099,"question_id":70529699,"body_markdown":"The below two lines:\r\n\r\n\t\tfirstInput.sendKeys(Keys.CONTROL + &quot;a&quot;);\r\n\t\tfirstInput.sendKeys(Keys.DELETE);\r\n\r\nis basically to clear the input field, since `.clear()` is not working as expected in this case, we&#39;d have to do `CTRL+a and then delete` \r\n\r\nA full code will look like this:\r\n\r\n\tdriver.manage().window().maximize();\r\n\t\t\r\n\tdriver.get(&quot;https://www.spribe.co/games/aviator&quot;);\r\n\t\t\r\n\tWebDriverWait wait = new WebDriverWait(driver, 30);\r\n\t\t\r\n\ttry {\r\n\t\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),&#39; Got it&#39;)]&quot;))).click();\r\n\t\t}\r\n\tcatch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),&#39;Play Demo &#39;)]&quot;))).click();\r\n    String originalWinHandle = driver.getWindowHandle();\r\n\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[contains(text(),&#39;Yes&#39;)]&quot;))).click();\r\n\tList&lt;String&gt; allHandles = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\tdriver.switchTo().window(allHandles.get(1));\r\n\t\t\r\n\tWebElement firstInput = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//label[text()=&#39;BET&#39;]/ancestor::div[contains(@class,&#39;feature&#39;)]/descendant::input&quot;)));\r\n\tfirstInput.sendKeys(Keys.CONTROL + &quot;a&quot;);\r\n\tfirstInput.sendKeys(Keys.DELETE);\r\n\tfirstInput.sendKeys(&quot;20&quot;);\r\n\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[text()=&#39;BET&#39;]/..&quot;))).click();","title":"How to click button and delete input text with Selenium WebDriver","body":"<p>The below two lines:</p>\n<pre><code>    firstInput.sendKeys(Keys.CONTROL + &quot;a&quot;);\n    firstInput.sendKeys(Keys.DELETE);\n</code></pre>\n<p>is basically to clear the input field, since <code>.clear()</code> is not working as expected in this case, we'd have to do <code>CTRL+a and then delete</code></p>\n<p>A full code will look like this:</p>\n<pre><code>driver.manage().window().maximize();\n    \ndriver.get(&quot;https://www.spribe.co/games/aviator&quot;);\n    \nWebDriverWait wait = new WebDriverWait(driver, 30);\n    \ntry {\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),' Got it')]&quot;))).click();\n    }\ncatch(Exception e){\n        e.printStackTrace();\n    }\n    \nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),'Play Demo ')]&quot;))).click();\nString originalWinHandle = driver.getWindowHandle();\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[contains(text(),'Yes')]&quot;))).click();\nList&lt;String&gt; allHandles = new ArrayList&lt;String&gt;(driver.getWindowHandles());\ndriver.switchTo().window(allHandles.get(1));\n    \nWebElement firstInput = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//label[text()='BET']/ancestor::div[contains(@class,'feature')]/descendant::input&quot;)));\nfirstInput.sendKeys(Keys.CONTROL + &quot;a&quot;);\nfirstInput.sendKeys(Keys.DELETE);\nfirstInput.sendKeys(&quot;20&quot;);\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[text()='BET']/..&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":11979939,"reputation":19,"user_id":8766073,"display_name":"buraz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":977,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643013053,"creation_date":1640856444,"question_id":70529699,"body_markdown":"I&#39;m able to navigate this page&#160;[here][1]&#160;and enter this website&#160;[here][2](TOKEN CREATED FOR EACH DEMO FOR THIS LINK)\r\n\r\nI&#39;m also able to extract the value from the round count using this **xpath** here `@class,&#39;coefficient&#39;`\r\n\r\nI can locate the input element on the left hand side but only one text value is deleted. I want to delete all values and enter 50.\r\n\r\nIt also seems like I can locate the left hand side button because I&#39;m not getting any exceptions or errors but the button is not clickable.","title":"How to click button and delete input text with Selenium WebDriver","body":"<p>I'm able to navigate this page [here][1] and enter this website [here][2](TOKEN CREATED FOR EACH DEMO FOR THIS LINK)</p>\n<p>I'm also able to extract the value from the round count using this <strong>xpath</strong> here <code>@class,'coefficient'</code></p>\n<p>I can locate the input element on the left hand side but only one text value is deleted. I want to delete all values and enter 50.</p>\n<p>It also seems like I can locate the left hand side button because I'm not getting any exceptions or errors but the button is not clickable.</p>\n"},{"tags":["java","parallel-processing","java-stream","reduction"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1643012063,"post_id":70830657,"comment_id":125217340,"body_markdown":"4 cores might mean 8 hw threads so I&#39;d consider this a valid result. In any case, your accumulator function doesn&#39;t match the requirements of `reduce()`. The JavaDoc states: &quot;The accumulator function must be an associative function.&quot; and yours clearly isn&#39;t, i.e. there&#39;s no guarantee on how stream values will be grouped.","body":"4 cores might mean 8 hw threads so I&#39;d consider this a valid result. In any case, your accumulator function doesn&#39;t match the requirements of <code>reduce()</code>. The JavaDoc states: &quot;The accumulator function must be an associative function.&quot; and yours clearly isn&#39;t, i.e. there&#39;s no guarantee on how stream values will be grouped."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643016829,"post_id":70830657,"comment_id":125218917,"body_markdown":"“normally, this list should be divided into 4 parts”—where in the specification did you find that statement?","body":"“normally, this list should be divided into 4 parts”—where in the specification did you find that statement?"},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1643020153,"post_id":70830657,"comment_id":125220146,"body_markdown":"@Holger I thought because my computer has 4 cores, then it should be divided into 4 sections, but now I realized that each section also contains a series of threads that the list is divided between them.","body":"@Holger I thought because my computer has 4 cores, then it should be divided into 4 sections, but now I realized that each section also contains a series of threads that the list is divided between them."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1643020594,"post_id":70830657,"comment_id":125220299,"body_markdown":"Since the implementation can’t know in advance whether the workload will be balanced, it will always split into more parts than threads, to allow faster threads to steal work from slower threads. Work-stealing may happen even if the task looks perfectly balanced, e.g. because on the first use, some of the worker threads must be started, which takes significant time, giving the already existing threads a head-start. Or some of your cores are occupied with other work for some time Generally, you can’t predict everything. Further, nothing specifies that the identity is used once per worker thread","body":"Since the implementation can’t know in advance whether the workload will be balanced, it will always split into more parts than threads, to allow faster threads to steal work from slower threads. Work-stealing may happen even if the task looks perfectly balanced, e.g. because on the first use, some of the worker threads must be started, which takes significant time, giving the already existing threads a head-start. Or some of your cores are occupied with other work for some time Generally, you can’t predict everything. Further, nothing specifies that the identity is used once per worker thread"},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1643021091,"post_id":70830657,"comment_id":125220474,"body_markdown":"@Holger thanks, Can you introduce me to a source so that I can get more information in this regard?","body":"@Holger thanks, Can you introduce me to a source so that I can get more information in this regard?"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643021182,"post_id":70830657,"comment_id":125220506,"body_markdown":"@Thomas actually their accumulator function _is_ associative, but the “_identity_” is not actually one.","body":"@Thomas actually their accumulator function <i>is</i> associative, but the “<i>identity</i>” is not actually one."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643021883,"post_id":70830657,"comment_id":125220742,"body_markdown":"@DidierL yes, you&#39;re right. I should rephrase to something like &quot;the expectations are not associative&quot; since the OP seems to assume that `A + B + C + D` are grouped as `(A + B) + (C + D)` with 2 threads (and then uses the &quot;identity&quot; as a group prefix) which may not be the case.","body":"@DidierL yes, you&#39;re right. I should rephrase to something like &quot;the expectations are not associative&quot; since the OP seems to assume that <code>A + B + C + D</code> are grouped as <code>(A + B) + (C + D)</code> with 2 threads (and then uses the &quot;identity&quot; as a group prefix) which may not be the case."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1643023101,"post_id":70830657,"comment_id":125221132,"body_markdown":"You may read [this question](https://stackoverflow.com/q/34381805/2711488) and both answers regarding the processing. But keep in mind that this is just one side of the unspecified behavior. In principle, the implementation could replace `.reduce(&quot; A&quot;, (s1, s2) -&gt; s1 + s2)` with `.reduce((s1, s2) -&gt; s1 + s2).orElse(&quot; A&quot;)` without violating the contract. Or with `.map(s -&gt; &quot; A&quot; + s).reduce((s1, s2) -&gt; s1 + s2).orElse(&quot; A&quot;)`, as all of those are producing an equivalent result when the reduction function and identity value fulfill their contract. Which they don’t do in this case.","body":"You may read <a href=\"https://stackoverflow.com/q/34381805/2711488\">this question</a> and both answers regarding the processing. But keep in mind that this is just one side of the unspecified behavior. In principle, the implementation could replace <code>.reduce(&quot; A&quot;, (s1, s2) -&gt; s1 + s2)</code> with <code>.reduce((s1, s2) -&gt; s1 + s2).orElse(&quot; A&quot;)</code> without violating the contract. Or with <code>.map(s -&gt; &quot; A&quot; + s).reduce((s1, s2) -&gt; s1 + s2).orElse(&quot; A&quot;)</code>, as all of those are producing an equivalent result when the reduction function and identity value fulfill their contract. Which they don’t do in this case."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643012031,"creation_date":1643012031,"answer_id":70830772,"question_id":70830657,"body_markdown":"This is how the parallel reducing works. The `identity` is not guaranteed to be used exactly once like in the sequential processing as long as multiple threads are involved. There is not even guaranteed it would be used exactly `n` times (size of the list). The output can be even the following which would manifest with a larger list.\r\n\r\n&gt; `A0 A12 A3 A45 A6 A78 A9 A1011 ....`","title":"The result of stream().parallel().reduce() is strange","body":"<p>This is how the parallel reducing works. The <code>identity</code> is not guaranteed to be used exactly once like in the sequential processing as long as multiple threads are involved. There is not even guaranteed it would be used exactly <code>n</code> times (size of the list). The output can be even the following which would manifest with a larger list.</p>\n<blockquote>\n<p><code>A0 A12 A3 A45 A6 A78 A9 A1011 ....</code></p>\n</blockquote>\n"}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1643012698,"answer_count":1,"score":1,"last_activity_date":1643012995,"creation_date":1643011378,"question_id":70830657,"body_markdown":"My computer has 4 cores and now I ran the stringList list on the 4 cores using the parallel method and called the reduce method with the value identity = &quot;A&quot;. Normally, this list should be divided into 4 parts, and in each processor, the identity should be added to each part (reduced) and the result should be A12 A34, A56 A78, but the result was something else that is mentioned in the following code. Why did this happen?  \r\n\r\n\r\n     List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        stringList.add(&quot;1&quot;);\r\n        stringList.add(&quot;2&quot;);\r\n        stringList.add(&quot;3&quot;);\r\n        stringList.add(&quot;4&quot;);\r\n        stringList.add(&quot;5&quot;);\r\n        stringList.add(&quot;6&quot;);\r\n        stringList.add(&quot;7&quot;);\r\n        stringList.add(&quot;8&quot;);\r\n\r\n        String result = stringList.stream()\r\n                .parallel()\r\n                .reduce(&quot; A&quot;, (s1, s2) -&gt; s1 + s2);\r\n        System.out.println(&quot;result:&quot; + result); //result: A1 A2 A3 A4 A5 A6 A7 A8","title":"The result of stream().parallel().reduce() is strange","body":"<p>My computer has 4 cores and now I ran the stringList list on the 4 cores using the parallel method and called the reduce method with the value identity = &quot;A&quot;. Normally, this list should be divided into 4 parts, and in each processor, the identity should be added to each part (reduced) and the result should be A12 A34, A56 A78, but the result was something else that is mentioned in the following code. Why did this happen?</p>\n<pre><code> List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n    stringList.add(&quot;1&quot;);\n    stringList.add(&quot;2&quot;);\n    stringList.add(&quot;3&quot;);\n    stringList.add(&quot;4&quot;);\n    stringList.add(&quot;5&quot;);\n    stringList.add(&quot;6&quot;);\n    stringList.add(&quot;7&quot;);\n    stringList.add(&quot;8&quot;);\n\n    String result = stringList.stream()\n            .parallel()\n            .reduce(&quot; A&quot;, (s1, s2) -&gt; s1 + s2);\n    System.out.println(&quot;result:&quot; + result); //result: A1 A2 A3 A4 A5 A6 A7 A8\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","prometheus","metrics"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1615913579,"post_id":66659203,"comment_id":117837363,"body_markdown":"But if it&#39;s a batch it will only be availalbe for a short time. Checkout https://github.com/spring-projects/spring-batch/blob/master/spring-batch-samples/src/main/java/org/springframework/batch/sample/metrics/PrometheusConfiguration.java","body":"But if it&#39;s a batch it will only be availalbe for a short time. Checkout <a href=\"https://github.com/spring-projects/spring-batch/blob/master/spring-batch-samples/src/main/java/org/springframework/batch/sample/metrics/PrometheusConfiguration.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/blob/master/&hellip;</a>"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1615918980,"post_id":66659203,"comment_id":117839749,"body_markdown":"What do you mean by short time?Also, as i refer online,some source said,i just need to add dependency on artifacts.\nmicrometer-core and micrometer-registry-prometheus and nothing else,i assume it will automatically push to /actuator/promethous and then i can scraping can be done from there.Why do we need  PrometheusConfiguration  class?","body":"What do you mean by short time?Also, as i refer online,some source said,i just need to add dependency on artifacts. micrometer-core and micrometer-registry-prometheus and nothing else,i assume it will automatically push to /actuator/promethous and then i can scraping can be done from there.Why do we need  PrometheusConfiguration  class?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1615921089,"post_id":66659203,"comment_id":117840616,"body_markdown":"It&#39;s a batch application, isn&#39;t it? How do you start it?","body":"It&#39;s a batch application, isn&#39;t it? How do you start it?"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1615924276,"post_id":66659203,"comment_id":117841850,"body_markdown":"yes its a spring batch application.When i run main class, then all the jobs will be loaded and since all jobs are scheduled daily based on cron expression, so the main will be running forever continuous as there are always jobs to execute in future?Did i miss anything?","body":"yes its a spring batch application.When i run main class, then all the jobs will be loaded and since all jobs are scheduled daily based on cron expression, so the main will be running forever continuous as there are always jobs to execute in future?Did i miss anything?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1615924635,"post_id":66659203,"comment_id":117841991,"body_markdown":"Now I understand. If you only add Actuator there will be no Webserver. You have to add the web starter too","body":"Now I understand. If you only add Actuator there will be no Webserver. You have to add the web starter too"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1615924859,"post_id":66659203,"comment_id":117842079,"body_markdown":"okay.so that web starter will start server for actuator to run, and then that end point can be scraped by Prometheus, correct?","body":"okay.so that web starter will start server for actuator to run, and then that end point can be scraped by Prometheus, correct?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1615926026,"post_id":66659203,"comment_id":117842525,"body_markdown":"Exactly. That&#39;s how it works","body":"Exactly. That&#39;s how it works"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1616006495,"post_id":66659203,"comment_id":117871208,"body_markdown":"@SimonMartinelli, as I mentioned below in comment, that there are 1-2 rest api also that are exposed. So can see my last comment and see if you answer it?Shall I use actuator if there are 2 rest endpoints exposed, that are just for health check of app,and rest all are batch jobs or shall i use pushgateway?","body":"@SimonMartinelli, as I mentioned below in comment, that there are 1-2 rest api also that are exposed. So can see my last comment and see if you answer it?Shall I use actuator if there are 2 rest endpoints exposed, that are just for health check of app,and rest all are batch jobs or shall i use pushgateway?"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1615977593,"creation_date":1615977593,"answer_id":66671397,"question_id":66659203,"body_markdown":"Prometheus is a pull-based system, meaning you give it a URL from your running application and it will go pull metrics from it. If your application is an ephemeral batch application, it does not make sense to make it a webapp for the only sake of exposing a URL for a short period of time. That&#39;s exactly why Prometheus folks created the Push gateway, see [When to use the Push Gateway](https://prometheus.io/docs/practices/pushing/).\r\n\r\nNow with is in mind, in order for your batch applications to send metrics to Prometheus, you need:\r\n\r\n* A Prometheus server\r\n* A Pushgateway server\r\n* An optional metrics dashbaord (Grafana or similar, Prometheus also provides a built-in UI)\r\n* Make your batch applications push metrics to the gateway\r\n\r\nA complete example with this setup can be found in the [Batch metrics with Micrometer](https://github.com/spring-projects/spring-batch/tree/master/spring-batch-samples#batch-metrics-with-micrometer). This example is actually similar to your use case. It shows two jobs [scheduled](https://github.com/spring-projects/spring-batch/blob/master/spring-batch-samples/src/main/java/org/springframework/batch/sample/metrics/JobScheduler.java) to run every few seconds which store metrics in Micrometer&#39;s main registry and a background task that [pushes metrics](https://github.com/spring-projects/spring-batch/blob/master/spring-batch-samples/src/main/java/org/springframework/batch/sample/metrics/PrometheusConfiguration.java#L46) regularly from Micrometer&#39;s registry to Prometheus&#39;s gateway.\r\n\r\nAnother option is to use the RSocket protocol, which is provided for free if you use [Spring Cloud Dataflow](https://dataflow.spring.io/docs/feature-guides/batch/monitoring/).\r\n\r\nFor Spring Boot, there are no actuator endpoints for Spring Batch, please refer to [Actuator endpoint for Spring Batch](https://github.com/spring-projects/spring-boot/issues/21024) for more details about the reasons about this decision.\r\n\r\n","title":"Publishing Spring Batch metrics using Micrometer","body":"<p>Prometheus is a pull-based system, meaning you give it a URL from your running application and it will go pull metrics from it. If your application is an ephemeral batch application, it does not make sense to make it a webapp for the only sake of exposing a URL for a short period of time. That's exactly why Prometheus folks created the Push gateway, see <a href=\"https://prometheus.io/docs/practices/pushing/\" rel=\"nofollow noreferrer\">When to use the Push Gateway</a>.</p>\n<p>Now with is in mind, in order for your batch applications to send metrics to Prometheus, you need:</p>\n<ul>\n<li>A Prometheus server</li>\n<li>A Pushgateway server</li>\n<li>An optional metrics dashbaord (Grafana or similar, Prometheus also provides a built-in UI)</li>\n<li>Make your batch applications push metrics to the gateway</li>\n</ul>\n<p>A complete example with this setup can be found in the <a href=\"https://github.com/spring-projects/spring-batch/tree/master/spring-batch-samples#batch-metrics-with-micrometer\" rel=\"nofollow noreferrer\">Batch metrics with Micrometer</a>. This example is actually similar to your use case. It shows two jobs <a href=\"https://github.com/spring-projects/spring-batch/blob/master/spring-batch-samples/src/main/java/org/springframework/batch/sample/metrics/JobScheduler.java\" rel=\"nofollow noreferrer\">scheduled</a> to run every few seconds which store metrics in Micrometer's main registry and a background task that <a href=\"https://github.com/spring-projects/spring-batch/blob/master/spring-batch-samples/src/main/java/org/springframework/batch/sample/metrics/PrometheusConfiguration.java#L46\" rel=\"nofollow noreferrer\">pushes metrics</a> regularly from Micrometer's registry to Prometheus's gateway.</p>\n<p>Another option is to use the RSocket protocol, which is provided for free if you use <a href=\"https://dataflow.spring.io/docs/feature-guides/batch/monitoring/\" rel=\"nofollow noreferrer\">Spring Cloud Dataflow</a>.</p>\n<p>For Spring Boot, there are no actuator endpoints for Spring Batch, please refer to <a href=\"https://github.com/spring-projects/spring-boot/issues/21024\" rel=\"nofollow noreferrer\">Actuator endpoint for Spring Batch</a> for more details about the reasons about this decision.</p>\n"},{"tags":[],"owner":{"account_id":5041842,"reputation":300,"user_id":4048960,"display_name":"Zubin Kavarana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643012932,"creation_date":1643003287,"answer_id":70829504,"question_id":66659203,"body_markdown":"@Mahmoud I think there are valid use cases for exposing the health endpoints optionally. The first question to consider is when we say a batch operation runs for a short time, how short is that time - a few minutes? I agree there&#39;s no need; but how about jobs that run for a few hours? it&#39;s important for some jobs that we get metrics especially when such jobs are bound by a business SLA and the operator needs to know if the job is processing at the required operations per second, has the right connection pool size etc. \r\n\r\nThere are also a variety of implementation details of the running platform - we can use Spring Batch without SCDF, not be in control of the Prometheus gateway to be able to use push, run in a cloud where Istio will pull the metrics automatically etc.\r\n\r\nFor the OPs question, in general one *can* run a spring batch job in web instance, as far as I have used Spring Batch with a web instance, the application does shut down after job completion.","title":"Publishing Spring Batch metrics using Micrometer","body":"<p>@Mahmoud I think there are valid use cases for exposing the health endpoints optionally. The first question to consider is when we say a batch operation runs for a short time, how short is that time - a few minutes? I agree there's no need; but how about jobs that run for a few hours? it's important for some jobs that we get metrics especially when such jobs are bound by a business SLA and the operator needs to know if the job is processing at the required operations per second, has the right connection pool size etc.</p>\n<p>There are also a variety of implementation details of the running platform - we can use Spring Batch without SCDF, not be in control of the Prometheus gateway to be able to use push, run in a cloud where Istio will pull the metrics automatically etc.</p>\n<p>For the OPs question, in general one <em>can</em> run a spring batch job in web instance, as far as I have used Spring Batch with a web instance, the application does shut down after job completion.</p>\n"}],"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5016,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66671397,"answer_count":2,"score":2,"last_activity_date":1643012932,"creation_date":1615911562,"question_id":66659203,"body_markdown":"I have an app that contains 2 dozen of spring batch cron jobs.There is no rest controller as it is an analytics app and it runs daily and read data from db, process it, and then store aggregated data in another db.I want to have spring inbuilt metrics on the jobs using micrometer and push them to Prometheus .As my app is not a webserver app, so still micrometer will be publishing results on HOST:8080? Will actuator automatically start a new server on HOST:8080?or do we need to have application server running on 8080?\r\n\r\nMy understanding is that actuator and application server can run of different ports as these are different processes ?Even if application server is there  or not, actuator should be able to either use same port as application server port, or it can use different port?\r\n\r\nSo if my application is not a webserver based app, still I can access metrics at localhost:8080/actuator/ and publish to Prometheus?","title":"Publishing Spring Batch metrics using Micrometer","body":"<p>I have an app that contains 2 dozen of spring batch cron jobs.There is no rest controller as it is an analytics app and it runs daily and read data from db, process it, and then store aggregated data in another db.I want to have spring inbuilt metrics on the jobs using micrometer and push them to Prometheus .As my app is not a webserver app, so still micrometer will be publishing results on HOST:8080? Will actuator automatically start a new server on HOST:8080?or do we need to have application server running on 8080?</p>\n<p>My understanding is that actuator and application server can run of different ports as these are different processes ?Even if application server is there  or not, actuator should be able to either use same port as application server port, or it can use different port?</p>\n<p>So if my application is not a webserver based app, still I can access metrics at localhost:8080/actuator/ and publish to Prometheus?</p>\n"},{"tags":["java","android","email-attachments"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643020645,"post_id":70830914,"comment_id":125220323,"body_markdown":"The user does not attach anything. But you can let the user select two files before you would send an email with those two files attached. What exactly is the problem? There is no onActivityResult code so we have no idea what you do with the two obtained file uries.","body":"The user does not attach anything. But you can let the user select two files before you would send an email with those two files attached. What exactly is the problem? There is no onActivityResult code so we have no idea what you do with the two obtained file uries."},{"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"score":0,"creation_date":1643021513,"post_id":70830914,"comment_id":125220626,"body_markdown":"I will update my post then you should see onActivityResult","body":"I will update my post then you should see onActivityResult"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643022173,"post_id":70830914,"comment_id":125220842,"body_markdown":"`Attachment.setText(URI.getLastPathSegment());` That makes no sense as you should save/remember the whole choosen urie and only saving that part of it brings you nowhere. Better: `Attachment.setText(URI.toString());`","body":"<code>Attachment.setText(URI.getLastPathSegment());</code> That makes no sense as you should save/remember the whole choosen urie and only saving that part of it brings you nowhere. Better: <code>Attachment.setText(URI.toString());</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643022337,"post_id":70830914,"comment_id":125220895,"body_markdown":"But you did not further tell your problem(although i asked for it) and you are already checking with  if (tvAttachment.isEmpty()) if the user has choosen a file. So now again: what exactly is your problem?","body":"But you did not further tell your problem(although i asked for it) and you are already checking with  if (tvAttachment.isEmpty()) if the user has choosen a file. So now again: what exactly is your problem?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643022442,"post_id":70830914,"comment_id":125220940,"body_markdown":"You will have two triggers of onActivityResult but i dont see you hanle two different occasions/files.","body":"You will have two triggers of onActivityResult but i dont see you hanle two different occasions/files."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643022583,"post_id":70830914,"comment_id":125220974,"body_markdown":"`PICK_FROM_GALLERY` If the user has to pick two files and if you wanna thread those files differently then you need two request codes like `PICK_FILE1_FROM_GALLERY` and `PICK_FILE2_FROM_GALLERY`.","body":"<code>PICK_FROM_GALLERY</code> If the user has to pick two files and if you wanna thread those files differently then you need two request codes like <code>PICK_FILE1_FROM_GALLERY</code> and <code>PICK_FILE2_FROM_GALLERY</code>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643022689,"post_id":70830914,"comment_id":125221010,"body_markdown":"`private void openFolder()` ??? You mean: `private void pickFile()` ? Please make your code readable.","body":"<code>private void openFolder()</code> ??? You mean: <code>private void pickFile()</code> ? Please make your code readable."},{"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"score":0,"creation_date":1643036717,"post_id":70830914,"comment_id":125226618,"body_markdown":"Thanks , I will quickly try this method of yours!","body":"Thanks , I will quickly try this method of yours!"},{"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"score":0,"creation_date":1643036894,"post_id":70830914,"comment_id":125226700,"body_markdown":"I am still a bit new to coding in java, I learned through a couple of courses. My apology.","body":"I am still a bit new to coding in java, I learned through a couple of courses. My apology."},{"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"score":0,"creation_date":1643037308,"post_id":70830914,"comment_id":125226897,"body_markdown":"My problem is , I want to attach 1 file for each button, the buttons are 2 then only I can send the email. If I don&#39;t complete these requests, the app alerts me that I have not attached the files for each button.","body":"My problem is , I want to attach 1 file for each button, the buttons are 2 then only I can send the email. If I don&#39;t complete these requests, the app alerts me that I have not attached the files for each button."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643038634,"post_id":70830914,"comment_id":125227516,"body_markdown":"Yes we know. I gave you hints. I dont understand what you miss","body":"Yes we know. I gave you hints. I dont understand what you miss"},{"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"score":0,"creation_date":1643039060,"post_id":70830914,"comment_id":125227713,"body_markdown":"I think the problem I created was add a text view under each button to alert user, how does one alert user with button. Can I only give a toast that user did not attach file?","body":"I think the problem I created was add a text view under each button to alert user, how does one alert user with button. Can I only give a toast that user did not attach file?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643040100,"post_id":70830914,"comment_id":125228112,"body_markdown":"Yes. And you disable the button to send a mail until all is filled in as it should.","body":"Yes. And you disable the button to send a mail until all is filled in as it should."}],"owner":{"account_id":21281043,"reputation":11,"user_id":15659470,"display_name":"Sindano"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643012894,"creation_date":1643012894,"question_id":70830914,"body_markdown":"I have an activity where I would like the user to attach 2 files before he/she sends the email. If they don&#39;t attach I would like the app to alert user that the first attachment is not uploaded and the same for the 2nd attachment.\r\n\r\nMy Java code is as follows:\r\n\r\n    etEmail = findViewById(R.id.etTo);\r\n        etSubject = findViewById(R.id.etSubject);\r\n        attachment = findViewById(R.id.btAttachment);\r\n        Attachment = findViewById(R.id.tvAttachment);\r\n        IDAttachment = findViewById(R.id.idAttachment);\r\n        idattachment = findViewById(R.id.id2Attachment);\r\n        Name = findViewById(R.id.yourName);\r\n        Number = findViewById(R.id.cellNumber);\r\n        Send = findViewById(R.id.btSend);\r\n\r\n        Send.setOnClickListener(this);\r\n     attachment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openFolder();\r\n            }\r\n        });\r\n        idattachment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openFolder2();\r\n            }\r\n        });\r\n  \r\n\r\n    }\r\n\r\n     private void openFolder2() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        intent.putExtra(&quot;return-data&quot;, true);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), PICK_FROM_GALLERY);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.btSend:\r\n                userLogin();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void userLogin() {\r\n        String yourName = Name.getText().toString().trim();\r\n        String cellNumber = Number.getText().toString().trim();\r\n        String tvAttachment = Attachment.getText().toString().trim();\r\n        String idattachment1 = IDAttachment.getText().toString().trim();\r\n\r\n        if (yourName.isEmpty()) {\r\n            Name.setError(&quot;Full name is required!&quot;);\r\n            Name.requestFocus();\r\n            return;\r\n        }\r\n        if (cellNumber.isEmpty()) {\r\n            Number.setError(&quot;Cell number is required!&quot;);\r\n            Number.requestFocus();\r\n            return;\r\n        }\r\n        if (cellNumber.length() &lt; 10) {\r\n            Number.setError(&quot;Cell number is too short&quot;);\r\n            Number.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if (idattachment1.isEmpty()) {\r\n            IDAttachment.setError(&quot;ID copy not uploaded&quot;);\r\n            IDAttachment.requestFocus();\r\n            return;\r\n\r\n        }\r\n        if (tvAttachment.isEmpty()) {\r\n            Attachment.setError(&quot;Payslip not uploaded!&quot;);\r\n            Attachment.requestFocus();\r\n            return;\r\n        }\r\n\r\n        else  Send.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                sendEmail();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void closeFab() {\r\n        fab.startAnimation(rotateBackwards);\r\n        imageMenu.startAnimation(fabClose);\r\n        imageMenu.setClickable(false);\r\n        gridView.startAnimation(fabClose);\r\n        gridView.setClickable(false);\r\n        ShadowView.setVisibility(View.GONE);\r\n        isOpen = false;\r\n    }\r\n\r\n    private void openFolder() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        intent.putExtra(&quot;return-data&quot;, true);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), PICK_FROM_GALLERY);\r\n    }\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_FROM_GALLERY &amp;&amp; resultCode == RESULT_OK) {\r\n            URI = data.getData();\r\n            Attachment.setText(URI.getLastPathSegment());\r\n            IDAttachment.setText(URI.getLastPathSegment());\r\n            Attachment.setVisibility(View.INVISIBLE);\r\n            IDAttachment.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n\r\n    private void sendEmail() {\r\n        try {\r\n            email = &quot;kondja99@gmail.com&quot;;\r\n            subject = etSubject.getText().toString();\r\n            message = &quot;Full Name: &quot; + Name.getText().toString() + &quot;\\n&quot; + &quot;Cellphone No: &quot; + Number.getText().toString();\r\n            final Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);\r\n            emailIntent.setType(&quot;plain/text&quot;);\r\n            emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, &quot;kondja99@gmail.com&quot;);\r\n            emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);\r\n            if (URI != null) {\r\n                emailIntent.putExtra(Intent.EXTRA_STREAM, URI);\r\n            }\r\n            emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, message);\r\n            this.startActivity(Intent.createChooser(emailIntent, &quot;Sending email...&quot;));\r\n        } catch (Throwable t) {\r\n            Toast.makeText(this, &quot;Request failed, retry! &quot; + t.toString(), Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\nMy XML code:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/gradient_drawable&quot;\r\n    tools:context=&quot;.Activity7&quot;&gt;\r\n\r\n\r\n    &lt;!-- Application Page --&gt;\r\n\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;140dp&quot;\r\n                android:layout_marginTop=&quot;100dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView15&quot;\r\n                    android:layout_width=&quot;72dp&quot;\r\n                    android:layout_height=&quot;103dp&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:srcCompat=&quot;@drawable/key_icon&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout8&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;45dp&quot;\r\n                android:layout_marginTop=&quot;100dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/etSubject&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;20dp&quot;\r\n                    android:singleLine=&quot;true&quot;\r\n                    android:text=&quot;Application&quot;\r\n                    android:textSize=&quot;1dp&quot;\r\n                    android:textColor=&quot;@color/blue&quot;\r\n                    android:textCursorDrawable=&quot;@color/blue&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/etTo&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;20dp&quot;\r\n                    android:background=&quot;@drawable/background_transparent&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:inputType=&quot;textEmailAddress&quot;\r\n                    android:singleLine=&quot;true&quot;\r\n                    android:textSize=&quot;1dp&quot;\r\n                    android:text=&quot;kondja99@gmail.com&quot;\r\n                    android:textColor=&quot;@color/blue&quot;\r\n                    android:visibility=&quot;invisible&quot;\r\n                    android:textCursorDrawable=&quot;@color/blue&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/etSubject&quot;\r\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n\r\n\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout5&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;70dp&quot;\r\n                android:layout_marginTop=&quot;2dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout2&quot;&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/yourName&quot;\r\n                    android:layout_width=&quot;235dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:background=&quot;@drawable/background_transparent&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:textCursorDrawable=&quot;@drawable/color_cursor&quot;\r\n                    android:backgroundTint=&quot;@color/orange&quot;\r\n                    android:focusableInTouchMode=&quot;true&quot;\r\n                    android:inputType=&quot;text&quot;\r\n                    android:text=&quot;&quot;\r\n                    android:textSize=&quot;15dp&quot;\r\n                    android:textColor=&quot;#fff&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;@+id/imageView17&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;@+id/imageView17&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView17&quot;\r\n                    android:layout_width=&quot;250dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:srcCompat=&quot;@drawable/full_name_button&quot; /&gt;\r\n\r\n\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout3&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;1dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout5&quot;&gt;\r\n\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout7&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;70dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout3&quot;&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/cellNumber&quot;\r\n                    android:layout_width=&quot;235dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:background=&quot;@drawable/background_transparent&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:focusableInTouchMode=&quot;true&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:text=&quot;&quot;\r\n                    android:textCursorDrawable=&quot;@drawable/color_cursor&quot;\r\n                    android:backgroundTint=&quot;@color/orange&quot;\r\n                    android:textSize=&quot;15dp&quot;\r\n                    android:textColor=&quot;#fff&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;@+id/imageView18&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;@+id/imageView18&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView18&quot;\r\n                    android:layout_width=&quot;250dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:srcCompat=&quot;@drawable/cell_number_button&quot; /&gt;\r\n\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout13&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:layout_marginTop=&quot;0dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout7&quot;&gt;\r\n            &lt;EditText\r\n                android:id=&quot;@+id/idAttachment&quot;\r\n                android:layout_width=&quot;215dp&quot;\r\n                android:layout_height=&quot;20dp&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:visibility=&quot;visible&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout14&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:layout_marginTop=&quot;-50dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout12&quot;&gt;\r\n\r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/id2Attachment&quot;\r\n                android:layout_width=&quot;250dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:textSize=&quot;12dp&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                android:background=&quot;@null&quot;\r\n                android:src=&quot;@drawable/idatachment_selector&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout12&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;70dp&quot;\r\n                android:layout_marginTop=&quot;0dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout7&quot;&gt;\r\n\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/tvAttachment&quot;\r\n                    android:layout_width=&quot;215dp&quot;\r\n                    android:layout_height=&quot;20dp&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_alignParentEnd=&quot;true&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:visibility=&quot;visible&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout6&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;210dp&quot;\r\n                android:layout_marginTop=&quot;-50dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout12&quot;&gt;\r\n\r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/btAttachment&quot;\r\n                    android:layout_width=&quot;250dp&quot;\r\n                    android:layout_height=&quot;48dp&quot;\r\n                    android:textSize=&quot;12dp&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:background=&quot;@null&quot;\r\n                    android:src=&quot;@drawable/upload_selector&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/btSend&quot;\r\n                    android:layout_width=&quot;250dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:background=&quot;@null&quot;\r\n                    android:scaleType=&quot;fitXY&quot;\r\n                    android:src=&quot;@drawable/submit_selector&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.496&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/btAttachment&quot;\r\n                    app:layout_constraintVertical_bias=&quot;0.200&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nWhat I want is when I press submit the app should set an error stating that I have not attached the required documents, I&#39;ve done this for the text views for &quot;Name: and Cell No.&quot;. I&#39;ve put a text view underneath each attachment button to enable the &quot;Set Alert&quot; if user has not attached any file.","title":"How to send multiple attachments via email and user must attach file for button to work","body":"<p>I have an activity where I would like the user to attach 2 files before he/she sends the email. If they don't attach I would like the app to alert user that the first attachment is not uploaded and the same for the 2nd attachment.</p>\n<p>My Java code is as follows:</p>\n<pre><code>etEmail = findViewById(R.id.etTo);\n    etSubject = findViewById(R.id.etSubject);\n    attachment = findViewById(R.id.btAttachment);\n    Attachment = findViewById(R.id.tvAttachment);\n    IDAttachment = findViewById(R.id.idAttachment);\n    idattachment = findViewById(R.id.id2Attachment);\n    Name = findViewById(R.id.yourName);\n    Number = findViewById(R.id.cellNumber);\n    Send = findViewById(R.id.btSend);\n\n    Send.setOnClickListener(this);\n attachment.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            openFolder();\n        }\n    });\n    idattachment.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            openFolder2();\n        }\n    });\n\n\n}\n\n private void openFolder2() {\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    intent.putExtra(&quot;return-data&quot;, true);\n    startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), PICK_FROM_GALLERY);\n}\n\n\n@Override\npublic void onClick(View v) {\n    switch (v.getId()) {\n        case R.id.btSend:\n            userLogin();\n            break;\n    }\n}\n\nprivate void userLogin() {\n    String yourName = Name.getText().toString().trim();\n    String cellNumber = Number.getText().toString().trim();\n    String tvAttachment = Attachment.getText().toString().trim();\n    String idattachment1 = IDAttachment.getText().toString().trim();\n\n    if (yourName.isEmpty()) {\n        Name.setError(&quot;Full name is required!&quot;);\n        Name.requestFocus();\n        return;\n    }\n    if (cellNumber.isEmpty()) {\n        Number.setError(&quot;Cell number is required!&quot;);\n        Number.requestFocus();\n        return;\n    }\n    if (cellNumber.length() &lt; 10) {\n        Number.setError(&quot;Cell number is too short&quot;);\n        Number.requestFocus();\n        return;\n    }\n\n    if (idattachment1.isEmpty()) {\n        IDAttachment.setError(&quot;ID copy not uploaded&quot;);\n        IDAttachment.requestFocus();\n        return;\n\n    }\n    if (tvAttachment.isEmpty()) {\n        Attachment.setError(&quot;Payslip not uploaded!&quot;);\n        Attachment.requestFocus();\n        return;\n    }\n\n    else  Send.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            sendEmail();\n        }\n    });\n}\n\nprivate void closeFab() {\n    fab.startAnimation(rotateBackwards);\n    imageMenu.startAnimation(fabClose);\n    imageMenu.setClickable(false);\n    gridView.startAnimation(fabClose);\n    gridView.setClickable(false);\n    ShadowView.setVisibility(View.GONE);\n    isOpen = false;\n}\n\nprivate void openFolder() {\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    intent.putExtra(&quot;return-data&quot;, true);\n    startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), PICK_FROM_GALLERY);\n}\n\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == PICK_FROM_GALLERY &amp;&amp; resultCode == RESULT_OK) {\n        URI = data.getData();\n        Attachment.setText(URI.getLastPathSegment());\n        IDAttachment.setText(URI.getLastPathSegment());\n        Attachment.setVisibility(View.INVISIBLE);\n        IDAttachment.setVisibility(View.INVISIBLE);\n    }\n}\n\nprivate void sendEmail() {\n    try {\n        email = &quot;kondja99@gmail.com&quot;;\n        subject = etSubject.getText().toString();\n        message = &quot;Full Name: &quot; + Name.getText().toString() + &quot;\\n&quot; + &quot;Cellphone No: &quot; + Number.getText().toString();\n        final Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);\n        emailIntent.setType(&quot;plain/text&quot;);\n        emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, &quot;kondja99@gmail.com&quot;);\n        emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);\n        if (URI != null) {\n            emailIntent.putExtra(Intent.EXTRA_STREAM, URI);\n        }\n        emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, message);\n        this.startActivity(Intent.createChooser(emailIntent, &quot;Sending email...&quot;));\n    } catch (Throwable t) {\n        Toast.makeText(this, &quot;Request failed, retry! &quot; + t.toString(), Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n<p>My XML code:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@drawable/gradient_drawable&quot;\ntools:context=&quot;.Activity7&quot;&gt;\n\n\n&lt;!-- Application Page --&gt;\n\n\n&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/constraintLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;140dp&quot;\n            android:layout_marginTop=&quot;100dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView15&quot;\n                android:layout_width=&quot;72dp&quot;\n                android:layout_height=&quot;103dp&quot;\n                android:scaleType=&quot;fitXY&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:srcCompat=&quot;@drawable/key_icon&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/constraintLayout8&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;45dp&quot;\n            android:layout_marginTop=&quot;100dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/etSubject&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;20dp&quot;\n                android:singleLine=&quot;true&quot;\n                android:text=&quot;Application&quot;\n                android:textSize=&quot;1dp&quot;\n                android:textColor=&quot;@color/blue&quot;\n                android:textCursorDrawable=&quot;@color/blue&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/etTo&quot;\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;20dp&quot;\n                android:background=&quot;@drawable/background_transparent&quot;\n                android:ems=&quot;10&quot;\n                android:inputType=&quot;textEmailAddress&quot;\n                android:singleLine=&quot;true&quot;\n                android:textSize=&quot;1dp&quot;\n                android:text=&quot;kondja99@gmail.com&quot;\n                android:textColor=&quot;@color/blue&quot;\n                android:visibility=&quot;invisible&quot;\n                android:textCursorDrawable=&quot;@color/blue&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/etSubject&quot;\n                tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/constraintLayout5&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;70dp&quot;\n            android:layout_marginTop=&quot;2dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout2&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/yourName&quot;\n                android:layout_width=&quot;235dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:background=&quot;@drawable/background_transparent&quot;\n                android:ems=&quot;10&quot;\n                android:focusable=&quot;true&quot;\n                android:textCursorDrawable=&quot;@drawable/color_cursor&quot;\n                android:backgroundTint=&quot;@color/orange&quot;\n                android:focusableInTouchMode=&quot;true&quot;\n                android:inputType=&quot;text&quot;\n                android:text=&quot;&quot;\n                android:textSize=&quot;15dp&quot;\n                android:textColor=&quot;#fff&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/imageView17&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;@+id/imageView17&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView17&quot;\n                android:layout_width=&quot;250dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:scaleType=&quot;fitXY&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:srcCompat=&quot;@drawable/full_name_button&quot; /&gt;\n\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/constraintLayout3&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;1dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout5&quot;&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/constraintLayout7&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;70dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout3&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/cellNumber&quot;\n                android:layout_width=&quot;235dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:background=&quot;@drawable/background_transparent&quot;\n                android:ems=&quot;10&quot;\n                android:focusable=&quot;true&quot;\n                android:focusableInTouchMode=&quot;true&quot;\n                android:inputType=&quot;number&quot;\n                android:text=&quot;&quot;\n                android:textCursorDrawable=&quot;@drawable/color_cursor&quot;\n                android:backgroundTint=&quot;@color/orange&quot;\n                android:textSize=&quot;15dp&quot;\n                android:textColor=&quot;#fff&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/imageView18&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;@+id/imageView18&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView18&quot;\n                android:layout_width=&quot;250dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:scaleType=&quot;fitXY&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:srcCompat=&quot;@drawable/cell_number_button&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/constraintLayout13&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:layout_marginTop=&quot;0dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout7&quot;&gt;\n        &lt;EditText\n            android:id=&quot;@+id/idAttachment&quot;\n            android:layout_width=&quot;215dp&quot;\n            android:layout_height=&quot;20dp&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:visibility=&quot;visible&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/constraintLayout14&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_marginTop=&quot;-50dp&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout12&quot;&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/id2Attachment&quot;\n            android:layout_width=&quot;250dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:textSize=&quot;12dp&quot;\n            android:scaleType=&quot;fitXY&quot;\n            android:background=&quot;@null&quot;\n            android:src=&quot;@drawable/idatachment_selector&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/constraintLayout12&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;70dp&quot;\n            android:layout_marginTop=&quot;0dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout7&quot;&gt;\n\n\n            &lt;EditText\n                android:id=&quot;@+id/tvAttachment&quot;\n                android:layout_width=&quot;215dp&quot;\n                android:layout_height=&quot;20dp&quot;\n                android:layout_alignParentStart=&quot;true&quot;\n                android:layout_alignParentEnd=&quot;true&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:visibility=&quot;visible&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/constraintLayout6&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;210dp&quot;\n            android:layout_marginTop=&quot;-50dp&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout12&quot;&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/btAttachment&quot;\n                android:layout_width=&quot;250dp&quot;\n                android:layout_height=&quot;48dp&quot;\n                android:textSize=&quot;12dp&quot;\n                android:scaleType=&quot;fitXY&quot;\n                android:background=&quot;@null&quot;\n                android:src=&quot;@drawable/upload_selector&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/btSend&quot;\n                android:layout_width=&quot;250dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:background=&quot;@null&quot;\n                android:scaleType=&quot;fitXY&quot;\n                android:src=&quot;@drawable/submit_selector&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.496&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/btAttachment&quot;\n                app:layout_constraintVertical_bias=&quot;0.200&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>What I want is when I press submit the app should set an error stating that I have not attached the required documents, I've done this for the text views for &quot;Name: and Cell No.&quot;. I've put a text view underneath each attachment button to enable the &quot;Set Alert&quot; if user has not attached any file.</p>\n"},{"tags":["javascript","java","html","selenium","htmlunit"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1641570778,"post_id":70617970,"comment_id":124846058,"body_markdown":"What error do you see?","body":"What error do you see?"}],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641648880,"creation_date":1641648880,"answer_id":70632816,"question_id":70617970,"body_markdown":"You can ask the WebClient for the List of current windows\r\n\r\n    webClient.getWebWindows()\r\n\r\nand then you can ask one of the Windows to get the containing page.\r\n\r\n    getEnclosedPage()\r\n\r\nUsually you have to cast the page to HtmlPage and then you can proceed with the page.\r\n\r\n\r\nAnd BTW - there is a major error in your code\r\n\r\n    webClient.waitForBackgroundJavaScript(30);\r\n\r\nis not an option; this call waits for the scripts to finish at the moment you call this. Or in other words, you have to place this call after some action (e.g. click()) to wait for the js if there was some async js triggered.\r\n","title":"How to change my Selenium code to HtmlUnit","body":"<p>You can ask the WebClient for the List of current windows</p>\n<pre><code>webClient.getWebWindows()\n</code></pre>\n<p>and then you can ask one of the Windows to get the containing page.</p>\n<pre><code>getEnclosedPage()\n</code></pre>\n<p>Usually you have to cast the page to HtmlPage and then you can proceed with the page.</p>\n<p>And BTW - there is a major error in your code</p>\n<pre><code>webClient.waitForBackgroundJavaScript(30);\n</code></pre>\n<p>is not an option; this call waits for the scripts to finish at the moment you call this. Or in other words, you have to place this call after some action (e.g. click()) to wait for the js if there was some async js triggered.</p>\n"}],"owner":{"account_id":11979939,"reputation":19,"user_id":8766073,"display_name":"buraz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1641681225,"accepted_answer_id":70632816,"answer_count":1,"score":-2,"last_activity_date":1643012759,"creation_date":1641540979,"question_id":70617970,"body_markdown":"I have the sellinium code below and it working fine. What I want is to convert this code to be in HtmlUnit. I can use the HtmlUnitDriver like **WebDriver driver = new HtmlUnitDriver();**\r\n\r\nI want to use a pure HtmlUnit. Below my sellinium code is a tried and failed HtmlUnit code.\r\n\r\n```\r\nimport java.util.logging.Logger; \r\nimport org.eclipse.jetty.util.log.Log; \r\nimport org.eclipse.jetty.util.log.StdErrLog; import org.openqa.selenium.By; \r\nimport org.openqa.selenium.WebDriver; \r\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver; import com.gargoylesoftware.htmlunit.BrowserVersion; \r\n\r\npublic class SpribeDemoTesting { \r\n\r\npublic static void main(String[] args) { \r\n\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;path to chromedriver.exe&quot;);&#160; \r\n\r\ndriver = new ChromeDriver();\r\n\r\ndriver.manage().window().maximize();\r\n\r\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); \r\n\r\nWebDriverWait wait = new WebDriverWait(driver,30); \r\n\r\ndriver.get(&quot;https://www.spribe.co/games/aviator&quot;); \r\n\r\nhtmlButton3 = (HtmlButton) htmlPage.getByXPath(&quot;//div[@class=&#39;modal-content&#39;]//button[1]&quot;);\r\n\r\n```\r\n\r\nCan someone give me an example. //HERE, HOW DO I PASS THE NEWLY OPENED WINDOWS LIKE I WOULD DO THIS IN SELENIUM **Set&lt;String&gt; windows = driver.getWindowHandles();&#160; List&lt;String&gt; windowsH = new ArrayList&lt;&gt;(windows);\r\ndriver.switchTo().window(windowsH.get(1)); **","title":"How to change my Selenium code to HtmlUnit","body":"<p>I have the sellinium code below and it working fine. What I want is to convert this code to be in HtmlUnit. I can use the HtmlUnitDriver like <strong>WebDriver driver = new HtmlUnitDriver();</strong></p>\n<p>I want to use a pure HtmlUnit. Below my sellinium code is a tried and failed HtmlUnit code.</p>\n<pre><code>import java.util.logging.Logger; \nimport org.eclipse.jetty.util.log.Log; \nimport org.eclipse.jetty.util.log.StdErrLog; import org.openqa.selenium.By; \nimport org.openqa.selenium.WebDriver; \nimport org.openqa.selenium.htmlunit.HtmlUnitDriver; import com.gargoylesoftware.htmlunit.BrowserVersion; \n\npublic class SpribeDemoTesting { \n\npublic static void main(String[] args) { \n\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;path to chromedriver.exe&quot;);  \n\ndriver = new ChromeDriver();\n\ndriver.manage().window().maximize();\n\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); \n\nWebDriverWait wait = new WebDriverWait(driver,30); \n\ndriver.get(&quot;https://www.spribe.co/games/aviator&quot;); \n\nhtmlButton3 = (HtmlButton) htmlPage.getByXPath(&quot;//div[@class='modal-content']//button[1]&quot;);\n\n</code></pre>\n<p>Can someone give me an example. //HERE, HOW DO I PASS THE NEWLY OPENED WINDOWS LIKE I WOULD DO THIS IN SELENIUM **Set windows = driver.getWindowHandles();  List windowsH = new ArrayList&lt;&gt;(windows);\ndriver.switchTo().window(windowsH.get(1)); **</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","jackson"],"comments":[{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1643012393,"post_id":70830500,"comment_id":125217448,"body_markdown":"why you want to get d.department_name seperatly in your query?try to get e.* just and set your return type to Employee instead of Object.you can access to Employee.getDepartment and then get the name and rest of the fields from Department field","body":"why you want to get d.department_name seperatly in your query?try to get e.* just and set your return type to Employee instead of Object.you can access to Employee.getDepartment and then get the name and rest of the fields from Department field"}],"answers":[{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643012229,"creation_date":1643011379,"answer_id":70830658,"question_id":70830500,"body_markdown":"You can write getters for the Depertment-properties in Employee, something like\r\n\r\n    @Entity\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        private String firstName;\r\n        private String middleName;\r\n        private String lastName;\r\n\r\n        @ManyToOne\r\n        @JsonIgnore\r\n        private Department department;\r\n\r\n        @JsonProperty(&quot;departmentId&quot;)\r\n        public Long getDepartmentId()\r\n        {\r\n            return department.getId;\r\n        }\r\n\r\n        @JsonProperty(&quot;departmentName&quot;)\r\n        public String getDepartmentName()\r\n        {\r\n            return department.getName();\r\n        }\r\n\r\n        ...\r\n\r\n    }","title":"Spring JPA Exposing/Mapping @JsonIgnore fields from an associated Entity using custom query @Query","body":"<p>You can write getters for the Depertment-properties in Employee, something like</p>\n<pre><code>@Entity\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String firstName;\n    private String middleName;\n    private String lastName;\n\n    @ManyToOne\n    @JsonIgnore\n    private Department department;\n\n    @JsonProperty(&quot;departmentId&quot;)\n    public Long getDepartmentId()\n    {\n        return department.getId;\n    }\n\n    @JsonProperty(&quot;departmentName&quot;)\n    public String getDepartmentName()\n    {\n        return department.getName();\n    }\n\n    ...\n\n}\n</code></pre>\n"}],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643012229,"creation_date":1643010383,"question_id":70830500,"body_markdown":"I have 2 entities (Department, Employee) with a Bi-Directional One-To-Many relationship.\r\n1 Department has MANY Employee. \r\n`Department` owns the `Employee`\r\n\r\nI annotated `department` field with `@JsonIgnore` so that `Department` information is not serialized when I `GET localhost:8080/employee`\r\n\r\nI created a custom query to expose all information of `Employee` including which `Department` the employee belongs.\r\n\r\n**Department** Model\r\n\r\n    @Entity\r\n    public class Department {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String departmentName;\r\n    \r\n        @OneToMany(mappedBy = &quot;department&quot;)\r\n        private Set&lt;Employee&gt; employees;\r\n       ...\r\n    }\r\n\r\n**Employee** Model\r\n\r\n    @Entity\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String firstName;\r\n        private String middleName;\r\n        private String lastName;\r\n    \r\n        @ManyToOne\r\n        @JsonIgnore\r\n        private Department department;\r\n        ...\r\n    }\r\n\r\n**Repository**\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n    \r\n        @Query(value = &quot;SELECT e.*, d.department_name FROM Employee e INNER JOIN Department d ON e.department_id = d.id WHERE e.id = ?1&quot;, nativeQuery = true)\r\n        Employee findEmployeeByIdWithDepartment(Long employeeId);\r\n    }\r\n\r\nThe query works fine in H2-Console SQL Editor. `DEPARTMENT_ID`, `DEPARTMENT_NAME` information is being included if I do a `GET localhost:8080/employee/1`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kHSeW.png\r\n\r\nHowever, in Postman, I only get `Employee` information (id,firstname,lastname,middlename) only. The `Department` where the `Employee` belongs is **NOT being mapped/serialized** (because I used `@JsonIgnored` in `Employee` class).\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;firstName&quot;: &quot;John&quot;,\r\n        &quot;middleName&quot;: &quot;Doe&quot;,\r\n        &quot;lastName&quot;: &quot;Johnny&quot;\r\n    }\r\n\r\nIf I change the return type of `findEmployeeByIdWithDepartment` to `Object`, I can get `Employee` information **along with** the `Department` where employee belongs.\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n    \r\n        @Query(value = &quot;SELECT e.*, d.department_name FROM Employee e INNER JOIN Department d ON e.department_id = d.id WHERE e.id = ?1&quot;, nativeQuery = true)\r\n        Object findEmployeeByIdWithDepartment(Long employeeId);\r\n    }\r\n\r\nRESULT: (Not the desired JSON format of nesting `Department` info) \r\n\r\n    [\r\n        1,\r\n        &quot;John&quot;,\r\n        &quot;Johnny&quot;,\r\n        &quot;Doe&quot;,\r\n        1,\r\n        &quot;Accounting&quot;\r\n    ]\r\n\r\nI am not sure how to be able to display the `Department` information along with `Employee` information if I do a `GET localhost:8080/employee/1`\r\nAND\r\nstill be able to do a `GET localhost:8080/department` without issue.\r\n\r\nWithout `@JsonIgnore` on `department` field IN `Employee` class, the Json response will result in StackOverflow or Endless nested serialization issue. \r\n\r\nThank you.","title":"Spring JPA Exposing/Mapping @JsonIgnore fields from an associated Entity using custom query @Query","body":"<p>I have 2 entities (Department, Employee) with a Bi-Directional One-To-Many relationship.\n1 Department has MANY Employee.\n<code>Department</code> owns the <code>Employee</code></p>\n<p>I annotated <code>department</code> field with <code>@JsonIgnore</code> so that <code>Department</code> information is not serialized when I <code>GET localhost:8080/employee</code></p>\n<p>I created a custom query to expose all information of <code>Employee</code> including which <code>Department</code> the employee belongs.</p>\n<p><strong>Department</strong> Model</p>\n<pre><code>@Entity\npublic class Department {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String departmentName;\n\n    @OneToMany(mappedBy = &quot;department&quot;)\n    private Set&lt;Employee&gt; employees;\n   ...\n}\n</code></pre>\n<p><strong>Employee</strong> Model</p>\n<pre><code>@Entity\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String firstName;\n    private String middleName;\n    private String lastName;\n\n    @ManyToOne\n    @JsonIgnore\n    private Department department;\n    ...\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n    @Query(value = &quot;SELECT e.*, d.department_name FROM Employee e INNER JOIN Department d ON e.department_id = d.id WHERE e.id = ?1&quot;, nativeQuery = true)\n    Employee findEmployeeByIdWithDepartment(Long employeeId);\n}\n</code></pre>\n<p>The query works fine in H2-Console SQL Editor. <code>DEPARTMENT_ID</code>, <code>DEPARTMENT_NAME</code> information is being included if I do a <code>GET localhost:8080/employee/1</code></p>\n<p><a href=\"https://i.stack.imgur.com/kHSeW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHSeW.png\" alt=\"enter image description here\" /></a></p>\n<p>However, in Postman, I only get <code>Employee</code> information (id,firstname,lastname,middlename) only. The <code>Department</code> where the <code>Employee</code> belongs is <strong>NOT being mapped/serialized</strong> (because I used <code>@JsonIgnored</code> in <code>Employee</code> class).</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;firstName&quot;: &quot;John&quot;,\n    &quot;middleName&quot;: &quot;Doe&quot;,\n    &quot;lastName&quot;: &quot;Johnny&quot;\n}\n</code></pre>\n<p>If I change the return type of <code>findEmployeeByIdWithDepartment</code> to <code>Object</code>, I can get <code>Employee</code> information <strong>along with</strong> the <code>Department</code> where employee belongs.</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n    @Query(value = &quot;SELECT e.*, d.department_name FROM Employee e INNER JOIN Department d ON e.department_id = d.id WHERE e.id = ?1&quot;, nativeQuery = true)\n    Object findEmployeeByIdWithDepartment(Long employeeId);\n}\n</code></pre>\n<p>RESULT: (Not the desired JSON format of nesting <code>Department</code> info)</p>\n<pre><code>[\n    1,\n    &quot;John&quot;,\n    &quot;Johnny&quot;,\n    &quot;Doe&quot;,\n    1,\n    &quot;Accounting&quot;\n]\n</code></pre>\n<p>I am not sure how to be able to display the <code>Department</code> information along with <code>Employee</code> information if I do a <code>GET localhost:8080/employee/1</code>\nAND\nstill be able to do a <code>GET localhost:8080/department</code> without issue.</p>\n<p>Without <code>@JsonIgnore</code> on <code>department</code> field IN <code>Employee</code> class, the Json response will result in StackOverflow or Endless nested serialization issue.</p>\n<p>Thank you.</p>\n"},{"tags":["java","javafx","fxml","fxmlloader"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643013425,"post_id":70830743,"comment_id":125217768,"body_markdown":"Java 8 and JavaFX 8 are both 9 major versions old, I would recommend upgrading to a more modern versions of each e.g. 17.","body":"Java 8 and JavaFX 8 are both 9 major versions old, I would recommend upgrading to a more modern versions of each e.g. 17."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643013518,"post_id":70830743,"comment_id":125217805,"body_markdown":"Your issue is the fxml resource lookup failed. Follow the troubleshooting steps at [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other) if you don’t solve it, edit the question to include the results of your troubleshooting. Also see the [eden resource guide](https://edencoding.com/where-to-put-resource-files-in-javafx/).","body":"Your issue is the fxml resource lookup failed. Follow the troubleshooting steps at <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a> if you don’t solve it, edit the question to include the results of your troubleshooting. Also see the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">eden resource guide</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643014815,"post_id":70830743,"comment_id":125218221,"body_markdown":"Oracle provide [historical versions of Java SE](https://www.oracle.com/java/technologies/downloads/archive/) for testing, the Java SE 8 versions will include a JavaFX 8 implementation.","body":"Oracle provide <a href=\"https://www.oracle.com/java/technologies/downloads/archive/\" rel=\"nofollow noreferrer\">historical versions of Java SE</a> for testing, the Java SE 8 versions will include a JavaFX 8 implementation."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1643024200,"post_id":70830743,"comment_id":125221585,"body_markdown":"I doubt that your problem is related to the Java version. Maybe this old question on SO helps: https://stackoverflow.com/questions/55396944/how-to-repair-caused-by-java-lang-nullpointerexception-location-is-required-j","body":"I doubt that your problem is related to the Java version. Maybe this old question on SO helps: <a href=\"https://stackoverflow.com/questions/55396944/how-to-repair-caused-by-java-lang-nullpointerexception-location-is-required-j\" title=\"how to repair caused by java lang nullpointerexception location is required j\">stackoverflow.com/questions/55396944/&hellip;</a>"}],"owner":{"account_id":13170612,"reputation":1,"user_id":9513149,"display_name":"Oak Coral"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643011873,"creation_date":1643011873,"question_id":70830743,"body_markdown":"This code worked prior to the Java update, thus I&#39;m assuming the problem lies there.\r\nI&#39;m referring to the java update what was release on Jan 18th (Java 8 Update 321).\r\n\r\nI&#39;ve tried giving the full path of the .fxml file in .getResource(&quot;..&quot;), but that also didn&#39;t help. \r\n\r\nI&#39;ve also tried finding the previous version of Java (prior to Java 8 update 321) and trying to install it instead, but I couldn&#39;t find it anywhere.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Conway extends Application {\r\n\t\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception{\r\n\t\t\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;Conway.fxml&quot;));\r\n\t\tScene scene = new Scene(root);\r\n\t\tstage.setTitle(&quot;John Conway&quot;);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nthis part is probably of no importance, but i&#39;ll add it just in case:\r\n```\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.canvas.GraphicsContext;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\n\r\npublic class ConwayController {\r\n\r\n    @FXML\r\n    private Canvas canvas;\r\n    \r\n\tprivate boolean start = true;\r\n\tprivate static int[][] currentColor = new int[10][10];\r\n\tprivate static int[][] nextColor = new int[10][10];\r\n\t\r\n\t/* adds up living neighbors in the array, and returns livingNeighbors */\r\n\tpublic static int checkValidNeighbors(int i, int j) {\r\n    \tint livingNeighbors = 0;\r\n    \t\r\n    \t/* gets data from neighbors */\r\n    \tfor(int k = i - 1; k &lt; i+2; k++) {\r\n    \t\tif(k &gt;= 0 &amp;&amp; k &lt;=9) {\r\n    \t\t\tfor(int l = j - 1; l &lt; j + 2; l++) {\r\n    \t\t\t\tif(l &gt;= 0 &amp;&amp; l &lt;= 9) {\r\n    \t\t\t\t\t/* not to count himself as a living neighbor */\r\n    \t\t\t\t\tif((currentColor[k][l] == 1) &amp;&amp; !((k == i) &amp;&amp; (l == j)))\r\n               \t\t\t\tlivingNeighbors += 1;\t\t\r\n    \t\t\t\t}\r\n       \t\t\t}\r\n    \t\t}\r\n   \t\t}\r\n\t\t\r\n    \treturn livingNeighbors;\r\n    }\r\n\t                                                    \r\n\t/* decides by the state of the next color by it&#39;s current color and the neighbors color */\r\n    public static void updateNextColor() {\r\n    \tint livingNeighbors = 0;\r\n    \t// calculate next colors \r\n\t\tfor(int i = 0; i &lt; 10; i++) {\r\n\t\t\tlivingNeighbors = 0;\r\n\t\t\tfor(int j = 0; j &lt; 10; j++) {\r\n\t\t\t\tlivingNeighbors = checkValidNeighbors(i, j);\r\n\t\t\t\t\r\n\t\t\t\t// if dead and surrounded by 3 neighbors -&gt; live next generation\r\n\t\t\t\tif((currentColor[i][j] == 0) &amp;&amp; (livingNeighbors == 3))\r\n    \t\t\t\tnextColor[i][j] = 1;\r\n\t\t\t\t\r\n    \t\t\t// if alive \r\n    \t\t\tif(currentColor[i][j] == 1) {\r\n    \t\t\t\t// if too little or too many neighbors -&gt; death next generation \r\n    \t\t\t\tif((livingNeighbors &lt;= 1) || (livingNeighbors &gt;= 4))\r\n    \t\t\t\t\tnextColor[i][j] = 0;\r\n    \t\t\t\t// if 2 or 3 neighbors -&gt; live next generation \r\n    \t\t\t\tif(livingNeighbors == 3 || livingNeighbors == 2)\r\n    \t\t\t\t\tnextColor[i][j] = 1;\r\n    \t\t\t}\r\n\t\t\t}\r\n\t\t}    \r\n\t\t\r\n\t\t/* puts the next colors into correntColor for the next coloring */\r\n\t\tfor(int i = 0; i &lt; 10; i++) {\r\n\t\t\tfor(int j = 0; j &lt; 10; j++) {\r\n\t\t\t\tcurrentColor[i][j] = nextColor[i][j];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n    }\r\n    \r\n    @FXML\r\n    void NextGenerationButtonPressed(ActionEvent event) {\r\n   \r\n    \tGraphicsContext gc = canvas.getGraphicsContext2D();\r\n    \t\r\n    \tgc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n    \t\r\n    \tint livingNeighbors = 0, k = 0, l = 0;\r\n    \t\r\n    \t/* if it&#39;s the first button push, initialize currentColor to random values */ \r\n    \tif(start == true) {\r\n    \t\tstart = false;\r\n    \t\t/* initializes currentColor to random 1s and 0s */\r\n    \t\tfor(int i = 0; i &lt; 10; i++) {\r\n    \t\t\tint j = 0;\r\n    \t\t\tfor(j = 0; j &lt; 10; j++) \r\n        \t\t\tcurrentColor[i][j] = (int)Math.round(Math.random());\r\n    \t\t}\r\n    \t\t/* draws the rectangles according to currentColor data */\r\n    \t\tfor(int i = 0; i &lt; canvas.getWidth(); i += canvas.getWidth()/10, k++) {\r\n    \t\t\tl = 0;\r\n        \t\tfor(int j = 0; j &lt; canvas.getHeight(); j += canvas.getWidth()/10, l++) {\r\n        \t\t\t    \t\t\t\t\r\n    \t\t\t\tif(currentColor[k][l] == 1) {\r\n        \t\t\t\tgc.setFill(Color.BLACK);\t\r\n        \t\t\t} else {\r\n        \t\t\t\tgc.setFill(Color.WHITE);\r\n        \t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tgc.fillRect(i, j, canvas.getWidth()/10, canvas.getWidth()/10);\r\n        \t\t\tgc.strokeRect(i, j, canvas.getWidth()/10, canvas.getWidth()/10);\r\n        \t\t}\r\n        \t}\r\n    \t\t\r\n    \t\tupdateNextColor();\t\t\r\n    \t}\r\n    \t/* if the currentColor is already initialized */ \r\n    \telse {\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; canvas.getWidth(); i += canvas.getWidth()/10, k++) {\r\n    \t\t\tl = 0;\r\n        \t\tfor(int j = 0; j &lt; canvas.getHeight(); j += canvas.getWidth()/10, l++) {\r\n        \t\t\t    \t\t\t\t\r\n    \t\t\t\tif(currentColor[k][l] == 1) {\r\n        \t\t\t\tgc.setFill(Color.BLACK);\t\r\n        \t\t\t} else {\r\n        \t\t\t\tgc.setFill(Color.WHITE);\r\n        \t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tgc.fillRect(i, j, canvas.getWidth()/10, canvas.getWidth()/10);\r\n        \t\t\tgc.strokeRect(i, j, canvas.getWidth()/10, canvas.getWidth()/10);\r\n        \t\t}\r\n        \t}\r\n    \t\t\r\n    \t\tupdateNextColor();\t\t\r\n    \t}\r\n    }\r\n\r\n}\r\n```\r\nThe error:\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NullPointerException: Location is required.\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\r\n\tat Conway.start(Conway.java:12)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nException running application Conway\r\n```","title":"Exception in Application start method - Suspecting due to recent Java update","body":"<p>This code worked prior to the Java update, thus I'm assuming the problem lies there.\nI'm referring to the java update what was release on Jan 18th (Java 8 Update 321).</p>\n<p>I've tried giving the full path of the .fxml file in .getResource(&quot;..&quot;), but that also didn't help.</p>\n<p>I've also tried finding the previous version of Java (prior to Java 8 update 321) and trying to install it instead, but I couldn't find it anywhere.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Conway extends Application {\n    \n    @Override\n    public void start(Stage stage) throws Exception{\n        \n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Conway.fxml&quot;));\n        Scene scene = new Scene(root);\n        stage.setTitle(&quot;John Conway&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p>this part is probably of no importance, but i'll add it just in case:</p>\n<pre><code>import javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\n\npublic class ConwayController {\n\n    @FXML\n    private Canvas canvas;\n    \n    private boolean start = true;\n    private static int[][] currentColor = new int[10][10];\n    private static int[][] nextColor = new int[10][10];\n    \n    /* adds up living neighbors in the array, and returns livingNeighbors */\n    public static int checkValidNeighbors(int i, int j) {\n        int livingNeighbors = 0;\n        \n        /* gets data from neighbors */\n        for(int k = i - 1; k &lt; i+2; k++) {\n            if(k &gt;= 0 &amp;&amp; k &lt;=9) {\n                for(int l = j - 1; l &lt; j + 2; l++) {\n                    if(l &gt;= 0 &amp;&amp; l &lt;= 9) {\n                        /* not to count himself as a living neighbor */\n                        if((currentColor[k][l] == 1) &amp;&amp; !((k == i) &amp;&amp; (l == j)))\n                            livingNeighbors += 1;       \n                    }\n                }\n            }\n        }\n        \n        return livingNeighbors;\n    }\n                                                        \n    /* decides by the state of the next color by it's current color and the neighbors color */\n    public static void updateNextColor() {\n        int livingNeighbors = 0;\n        // calculate next colors \n        for(int i = 0; i &lt; 10; i++) {\n            livingNeighbors = 0;\n            for(int j = 0; j &lt; 10; j++) {\n                livingNeighbors = checkValidNeighbors(i, j);\n                \n                // if dead and surrounded by 3 neighbors -&gt; live next generation\n                if((currentColor[i][j] == 0) &amp;&amp; (livingNeighbors == 3))\n                    nextColor[i][j] = 1;\n                \n                // if alive \n                if(currentColor[i][j] == 1) {\n                    // if too little or too many neighbors -&gt; death next generation \n                    if((livingNeighbors &lt;= 1) || (livingNeighbors &gt;= 4))\n                        nextColor[i][j] = 0;\n                    // if 2 or 3 neighbors -&gt; live next generation \n                    if(livingNeighbors == 3 || livingNeighbors == 2)\n                        nextColor[i][j] = 1;\n                }\n            }\n        }    \n        \n        /* puts the next colors into correntColor for the next coloring */\n        for(int i = 0; i &lt; 10; i++) {\n            for(int j = 0; j &lt; 10; j++) {\n                currentColor[i][j] = nextColor[i][j];\n            }\n        }\n        \n    }\n    \n    @FXML\n    void NextGenerationButtonPressed(ActionEvent event) {\n   \n        GraphicsContext gc = canvas.getGraphicsContext2D();\n        \n        gc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());\n        \n        int livingNeighbors = 0, k = 0, l = 0;\n        \n        /* if it's the first button push, initialize currentColor to random values */ \n        if(start == true) {\n            start = false;\n            /* initializes currentColor to random 1s and 0s */\n            for(int i = 0; i &lt; 10; i++) {\n                int j = 0;\n                for(j = 0; j &lt; 10; j++) \n                    currentColor[i][j] = (int)Math.round(Math.random());\n            }\n            /* draws the rectangles according to currentColor data */\n            for(int i = 0; i &lt; canvas.getWidth(); i += canvas.getWidth()/10, k++) {\n                l = 0;\n                for(int j = 0; j &lt; canvas.getHeight(); j += canvas.getWidth()/10, l++) {\n                                        \n                    if(currentColor[k][l] == 1) {\n                        gc.setFill(Color.BLACK);    \n                    } else {\n                        gc.setFill(Color.WHITE);\n                    }\n                    \n                    gc.fillRect(i, j, canvas.getWidth()/10, canvas.getWidth()/10);\n                    gc.strokeRect(i, j, canvas.getWidth()/10, canvas.getWidth()/10);\n                }\n            }\n            \n            updateNextColor();      \n        }\n        /* if the currentColor is already initialized */ \n        else {\n            \n            for(int i = 0; i &lt; canvas.getWidth(); i += canvas.getWidth()/10, k++) {\n                l = 0;\n                for(int j = 0; j &lt; canvas.getHeight(); j += canvas.getWidth()/10, l++) {\n                                        \n                    if(currentColor[k][l] == 1) {\n                        gc.setFill(Color.BLACK);    \n                    } else {\n                        gc.setFill(Color.WHITE);\n                    }\n                    \n                    gc.fillRect(i, j, canvas.getWidth()/10, canvas.getWidth()/10);\n                    gc.strokeRect(i, j, canvas.getWidth()/10, canvas.getWidth()/10);\n                }\n            }\n            \n            updateNextColor();      \n        }\n    }\n\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Location is required.\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\n    at Conway.start(Conway.java:12)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nException running application Conway\n</code></pre>\n"},{"tags":["java","http","apache-camel","multipartform-data"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1642756234,"post_id":70795415,"comment_id":125161502,"body_markdown":"What if you browse the attachmenttObjects map, examine ,for each entry, its headers (using Attachment#getHeaderNames()), hoping to find the &#39;Content-Disposition&#39; one (which includes the real name) ?","body":"What if you browse the attachmenttObjects map, examine ,for each entry, its headers (using Attachment#getHeaderNames()), hoping to find the &#39;Content-Disposition&#39; one (which includes the real name) ?"},{"owner":{"account_id":8795537,"reputation":23,"user_id":11248602,"display_name":"A Cheeky Llama"},"score":0,"creation_date":1643000128,"post_id":70795415,"comment_id":125214738,"body_markdown":"@TacheDeChoco thanks yes that does work to get the key :) Feel free to create an answer with that and I will accept. Doesn&#39;t solve the first entry being parsed into the body of the message, but I can live with that","body":"@TacheDeChoco thanks yes that does work to get the key :) Feel free to create an answer with that and I will accept. Doesn&#39;t solve the first entry being parsed into the body of the message, but I can live with that"}],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643011333,"creation_date":1643011333,"answer_id":70830646,"question_id":70795415,"body_markdown":"For the sake of clarity, as the proposed solution here above seems to work, a bit more explanations (although it is more a workaround than a solution):\r\n\r\nStarting from:\r\n\r\n    Map&lt;String, Attachment&gt; attachmentObjects = attachmentMessage.getAttachmentObjects();\r\n\r\nIt is possible to browse all map entries, and for each found `Attachment` object, examine the attachment headers using `getHeaderNames()`, among other the &#39;Content-Disposition&#39; one:\r\n\r\n    Content-Disposition: form-data; name=&quot;data&quot;; filename=&quot;data-file.json&quot;\r\n\r\nwhich can finally be parsed to grab the form **name** (&#39;data&#39; in this example).\r\n\r\nNot straightforward true, but this apparently works...\r\n","title":"Get key-value pairs from multipart/form-data HTTP POST request in Camel","body":"<p>For the sake of clarity, as the proposed solution here above seems to work, a bit more explanations (although it is more a workaround than a solution):</p>\n<p>Starting from:</p>\n<pre><code>Map&lt;String, Attachment&gt; attachmentObjects = attachmentMessage.getAttachmentObjects();\n</code></pre>\n<p>It is possible to browse all map entries, and for each found <code>Attachment</code> object, examine the attachment headers using <code>getHeaderNames()</code>, among other the 'Content-Disposition' one:</p>\n<pre><code>Content-Disposition: form-data; name=&quot;data&quot;; filename=&quot;data-file.json&quot;\n</code></pre>\n<p>which can finally be parsed to grab the form <strong>name</strong> ('data' in this example).</p>\n<p>Not straightforward true, but this apparently works...</p>\n"}],"owner":{"account_id":8795537,"reputation":23,"user_id":11248602,"display_name":"A Cheeky Llama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70830646,"answer_count":1,"score":0,"last_activity_date":1643011333,"creation_date":1642729147,"question_id":70795415,"body_markdown":"I have an endpoint setup using Apache Camel to receive a multipart/form-data HTTP request. Essentially I am trying to submit a data file and a configuration file for processing. The request is as follows (generated by Postman):\r\n```\r\nPOST /upload HTTP/1.1\r\nHost: localhost:8900\r\nContent-Length: 363\r\nContent-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW\r\n\r\n----WebKitFormBoundary7MA4YWxkTrZu0gW\r\nContent-Disposition: form-data; name=&quot;data&quot;; filename=&quot;data-file.json&quot;\r\nContent-Type: application/json\r\n\r\n(data)\r\n----WebKitFormBoundary7MA4YWxkTrZu0gW\r\nContent-Disposition: form-data; name=&quot;config&quot;; filename=&quot;config-file.json&quot;\r\nContent-Type: application/json\r\n\r\n(data)\r\n----WebKitFormBoundary7MA4YWxkTrZu0gW\r\n```\r\n\r\nMy route is set up like so:\r\n```\r\n@Component\r\npublic class FileReceiverRoute extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n\r\n        rest()\r\n                .post(&quot;/upload&quot;)\r\n                .consumes(MediaType.MULTIPART_FORM_DATA_VALUE)\r\n                .bindingMode(RestBindingMode.off)\r\n                .route().routeId(&quot;upload-route&quot;)\r\n                .unmarshal().mimeMultipart()\r\n                .setHeader(Exchange.FILE_NAME, () -&gt; UUID.randomUUID().toString())\r\n                .to(&quot;file:{{temp.input.files.dir}}&quot;)\r\n                .process(configFileProcessor)\r\n                // on to further processing\r\n    }\r\n}\r\n```\r\n\r\nAnd my config file processor:\r\n```\r\n@Component\r\npublic class ConfigFileProcessor implements Processor {\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        Message message = exchange.getIn();\r\n        AttachmentMessage attachmentMessage = exchange.getMessage(AttachmentMessage.class);\r\n        Map&lt;String, Attachment&gt; attachmentObjects = attachmentMessage.getAttachmentObjects();\r\n\r\n        // this fails - the key is instead the file name &quot;config-file.json&quot;\r\n        Attachment configAttachment = attachmentObjects.get(&quot;config&quot;);\r\n    }\r\n}\r\n```\r\nI want to be able to retrieve the key-value pairs from the form-data and process the data and config files accordingly. Instead I get the following behaviour:\r\n\r\n - The first value in the form (in this case `data-file.json`) is parsed into the Camel message body, and the key seems to be discarded. The rest of the entries are parsed into an `AttachmentMessage`. This behaviour is documented here https://stackoverflow.com/a/67566273/11248602\r\n- The keys in the `AttachmentMessage` are not the original keys from the form-data request, but the filenames (e.g. `config-file.json`)\r\n\r\nIs there any way to parse this request into a map or similar structure so that all the original keys and values can be accessed?","title":"Get key-value pairs from multipart/form-data HTTP POST request in Camel","body":"<p>I have an endpoint setup using Apache Camel to receive a multipart/form-data HTTP request. Essentially I am trying to submit a data file and a configuration file for processing. The request is as follows (generated by Postman):</p>\n<pre><code>POST /upload HTTP/1.1\nHost: localhost:8900\nContent-Length: 363\nContent-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW\n\n----WebKitFormBoundary7MA4YWxkTrZu0gW\nContent-Disposition: form-data; name=&quot;data&quot;; filename=&quot;data-file.json&quot;\nContent-Type: application/json\n\n(data)\n----WebKitFormBoundary7MA4YWxkTrZu0gW\nContent-Disposition: form-data; name=&quot;config&quot;; filename=&quot;config-file.json&quot;\nContent-Type: application/json\n\n(data)\n----WebKitFormBoundary7MA4YWxkTrZu0gW\n</code></pre>\n<p>My route is set up like so:</p>\n<pre><code>@Component\npublic class FileReceiverRoute extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n\n        rest()\n                .post(&quot;/upload&quot;)\n                .consumes(MediaType.MULTIPART_FORM_DATA_VALUE)\n                .bindingMode(RestBindingMode.off)\n                .route().routeId(&quot;upload-route&quot;)\n                .unmarshal().mimeMultipart()\n                .setHeader(Exchange.FILE_NAME, () -&gt; UUID.randomUUID().toString())\n                .to(&quot;file:{{temp.input.files.dir}}&quot;)\n                .process(configFileProcessor)\n                // on to further processing\n    }\n}\n</code></pre>\n<p>And my config file processor:</p>\n<pre><code>@Component\npublic class ConfigFileProcessor implements Processor {\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        Message message = exchange.getIn();\n        AttachmentMessage attachmentMessage = exchange.getMessage(AttachmentMessage.class);\n        Map&lt;String, Attachment&gt; attachmentObjects = attachmentMessage.getAttachmentObjects();\n\n        // this fails - the key is instead the file name &quot;config-file.json&quot;\n        Attachment configAttachment = attachmentObjects.get(&quot;config&quot;);\n    }\n}\n</code></pre>\n<p>I want to be able to retrieve the key-value pairs from the form-data and process the data and config files accordingly. Instead I get the following behaviour:</p>\n<ul>\n<li>The first value in the form (in this case <code>data-file.json</code>) is parsed into the Camel message body, and the key seems to be discarded. The rest of the entries are parsed into an <code>AttachmentMessage</code>. This behaviour is documented here <a href=\"https://stackoverflow.com/a/67566273/11248602\">https://stackoverflow.com/a/67566273/11248602</a></li>\n<li>The keys in the <code>AttachmentMessage</code> are not the original keys from the form-data request, but the filenames (e.g. <code>config-file.json</code>)</li>\n</ul>\n<p>Is there any way to parse this request into a map or similar structure so that all the original keys and values can be accessed?</p>\n"},{"tags":["java","hibernate","spring-data-jpa","orm"],"comments":[{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":1,"creation_date":1643008387,"post_id":70829392,"comment_id":125216310,"body_markdown":"You have to introduce DTOs for your Employee and Department. Yes, they will have the very same fields but this approach gives your flexibility what to fetch/display and what not. I.e. EmployeeDto might have only Department name not the entire structure. Don&#39;t put json annotations on the entities, it is not their resposibility. For bean mapping there are multiple tools, my favourite is MapStruct. This way you won&#39;t need any specific queries. Also, promoting my article (the link at the profile) for more details.","body":"You have to introduce DTOs for your Employee and Department. Yes, they will have the very same fields but this approach gives your flexibility what to fetch/display and what not. I.e. EmployeeDto might have only Department name not the entire structure. Don&#39;t put json annotations on the entities, it is not their resposibility. For bean mapping there are multiple tools, my favourite is MapStruct. This way you won&#39;t need any specific queries. Also, promoting my article (the link at the profile) for more details."},{"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"score":0,"creation_date":1643010783,"post_id":70829392,"comment_id":125216947,"body_markdown":"@AndriySlobodyanyk, thanks! I&#39;ll read through it. I haven&#39;t used `MapStruct` before. I&#39;ll give it a try.","body":"@AndriySlobodyanyk, thanks! I&#39;ll read through it. I haven&#39;t used <code>MapStruct</code> before. I&#39;ll give it a try."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643011166,"creation_date":1643010004,"answer_id":70830439,"question_id":70829392,"body_markdown":"You have to use DTOs in your project. DTO stand for data transfer object. As the name suggest it carries data between program layers, APIs, etc. - [a read on dto][1].\r\nDepartment dto may look like this for example:\r\n\r\n    public class DepartmentDto {\r\n    \r\n        private Long id;\r\n        private String name;\r\n    \r\n        //getters setters\r\n    }\r\nEmployee dto:\r\n\r\n    public class EmployeeDto {\r\n    \r\n        private Long id;\r\n        private String firstName;\r\n        private DepartmentDto department;\r\n    \r\n        //getters setters\r\n    }\r\nThen you controller method to get employee by id may look like this:\r\n\r\n        @GetMapping(&quot;/employee/{employeeId}&quot;)\r\n        public EmployeeDto findEmployeeById(@PathVariable Long employeeId) {\r\n            Employee employee = this.employeeRepository.findById(employeeId).orElseThrow(() -&gt; new RuntimeException(&quot;Employee not found&quot;));\r\n            DepartmentDto departmentDto = new DepartmentDto();\r\n            departmentDto.setId(employee.getDepartment().getId());\r\n            departmentDto.setName(employee.getDepartment().getDepartmentName());\r\n            EmployeeDto employeeDto = new EmployeeDto();\r\n            employeeDto.setId(employee.getId());\r\n            employeeDto.setFirstName(employee.getFirstName());\r\n            employeeDto.setDepartment(departmentDto);\r\n            return employeeDto;\r\n        }\r\nLike this you won&#39;t get stackoverflow. Also mapping entity into a dto normally is not done by hand as in this example, but by third party libraries. You can read for some of them here - [java mapping libraries][2].\r\n\r\nSometimes you may get stuck with circular references in DTO&#39;s as well. You can handle them using `@JsonIdentityInfo` for example. In this [question][3] you can find several options how to handle them if you need to.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Data_transfer_object\r\n  [2]: https://www.baeldung.com/java-performance-mapping-frameworks\r\n  [3]: https://stackoverflow.com/questions/17393812/json-and-java-circular-reference","title":"Spring JPA How to Display the JsonIgnored field on the inverse side in a One-To-Many Bidirectional","body":"<p>You have to use DTOs in your project. DTO stand for data transfer object. As the name suggest it carries data between program layers, APIs, etc. - <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">a read on dto</a>.\nDepartment dto may look like this for example:</p>\n<pre><code>public class DepartmentDto {\n\n    private Long id;\n    private String name;\n\n    //getters setters\n}\n</code></pre>\n<p>Employee dto:</p>\n<pre><code>public class EmployeeDto {\n\n    private Long id;\n    private String firstName;\n    private DepartmentDto department;\n\n    //getters setters\n}\n</code></pre>\n<p>Then you controller method to get employee by id may look like this:</p>\n<pre><code>    @GetMapping(&quot;/employee/{employeeId}&quot;)\n    public EmployeeDto findEmployeeById(@PathVariable Long employeeId) {\n        Employee employee = this.employeeRepository.findById(employeeId).orElseThrow(() -&gt; new RuntimeException(&quot;Employee not found&quot;));\n        DepartmentDto departmentDto = new DepartmentDto();\n        departmentDto.setId(employee.getDepartment().getId());\n        departmentDto.setName(employee.getDepartment().getDepartmentName());\n        EmployeeDto employeeDto = new EmployeeDto();\n        employeeDto.setId(employee.getId());\n        employeeDto.setFirstName(employee.getFirstName());\n        employeeDto.setDepartment(departmentDto);\n        return employeeDto;\n    }\n</code></pre>\n<p>Like this you won't get stackoverflow. Also mapping entity into a dto normally is not done by hand as in this example, but by third party libraries. You can read for some of them here - <a href=\"https://www.baeldung.com/java-performance-mapping-frameworks\" rel=\"nofollow noreferrer\">java mapping libraries</a>.</p>\n<p>Sometimes you may get stuck with circular references in DTO's as well. You can handle them using <code>@JsonIdentityInfo</code> for example. In this <a href=\"https://stackoverflow.com/questions/17393812/json-and-java-circular-reference\">question</a> you can find several options how to handle them if you need to.</p>\n"}],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643011166,"creation_date":1643002299,"question_id":70829392,"body_markdown":"I have 2 entities/model. `Department` and `Employee`\r\n\r\nRelationship is **1** `Department` has **MANY** `Employee`.\r\n\r\nMy understanding of how to go about implementing a Bi-directional relationship of entities is:\r\n1. Identify the Parent and Child \r\n2. Identify the **owner** of relationship (in this case, `Department` **owns** `Employee`). Then add `mappedBy=&#39;fieldname&#39;`\r\n3. Annotate the both entities with inverse. `@OneToMany` on 1st entity and `@ManyToOne` on the 2nd entity\r\n\r\nBelow is how I designed the app.\r\n\r\n**Model**\r\n\r\n**Department**\r\n\r\n    @Entity\r\n    public class Department {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String departmentName;\r\n    \r\n        @OneToMany(mappedBy = &quot;department&quot;)\r\n        private Set&lt;Employee&gt; employees;\r\n\r\n        //getters and setters...\r\n    }\r\n\r\n**Employee**\r\n\r\n    @Entity\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String firstName;\r\n        private String middleName;\r\n        private String lastName;\r\n    \r\n        @ManyToOne\r\n        @JsonIgnore\r\n        private Department department;\r\n    }\r\n\r\nNow, if I **GET** department by id (e.g. `localhost:8080/department/1`)\r\nI&#39;ll get :\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;departmentName&quot;: &quot;Accounting&quot;,\r\n        &quot;employees&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;firstName&quot;: &quot;John&quot;,\r\n                &quot;middleName&quot;: &quot;Johnny&quot;,\r\n                &quot;lastName&quot;: &quot;Doe&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n**which is fine** because I can see the `Employee`(s) who belongs to a specific `Department`.\r\n\r\nHowever, on the employee side, if I GET employee by id (e.g. `localhost:8080/employee/1`)\r\nI would get a json result which only displays the employee name *BUT does NOT include the `Department` where the `Employee` belongs.*\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;firstName&quot;: &quot;John&quot;,\r\n        &quot;middleName&quot;: &quot;Johnny&quot;,\r\n        &quot;lastName&quot;: &quot;Doe&quot;\r\n    }\r\n\r\nI had to add `@JsonIgnore` to `department` field in `Employee` class to avoid stackoverflow/endless nested json serialization when doing a **GET** department (e.g. `localhost:8080/department/1`)\r\n\r\n\r\nI have 2 questions :\r\n\r\n1. How do I also display the department information when doing a GET employee by id?\r\n2. Do I need to create a custom query in the Repository interface using `@Query` instead? At least for the purpose of displaying the `Department` name along with `Employee` when I do a **GET** `Employee` by id?\r\n\r\nThank you.","title":"Spring JPA How to Display the JsonIgnored field on the inverse side in a One-To-Many Bidirectional","body":"<p>I have 2 entities/model. <code>Department</code> and <code>Employee</code></p>\n<p>Relationship is <strong>1</strong> <code>Department</code> has <strong>MANY</strong> <code>Employee</code>.</p>\n<p>My understanding of how to go about implementing a Bi-directional relationship of entities is:</p>\n<ol>\n<li>Identify the Parent and Child</li>\n<li>Identify the <strong>owner</strong> of relationship (in this case, <code>Department</code> <strong>owns</strong> <code>Employee</code>). Then add <code>mappedBy='fieldname'</code></li>\n<li>Annotate the both entities with inverse. <code>@OneToMany</code> on 1st entity and <code>@ManyToOne</code> on the 2nd entity</li>\n</ol>\n<p>Below is how I designed the app.</p>\n<p><strong>Model</strong></p>\n<p><strong>Department</strong></p>\n<pre><code>@Entity\npublic class Department {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String departmentName;\n\n    @OneToMany(mappedBy = &quot;department&quot;)\n    private Set&lt;Employee&gt; employees;\n\n    //getters and setters...\n}\n</code></pre>\n<p><strong>Employee</strong></p>\n<pre><code>@Entity\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String firstName;\n    private String middleName;\n    private String lastName;\n\n    @ManyToOne\n    @JsonIgnore\n    private Department department;\n}\n</code></pre>\n<p>Now, if I <strong>GET</strong> department by id (e.g. <code>localhost:8080/department/1</code>)\nI'll get :</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;departmentName&quot;: &quot;Accounting&quot;,\n    &quot;employees&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;firstName&quot;: &quot;John&quot;,\n            &quot;middleName&quot;: &quot;Johnny&quot;,\n            &quot;lastName&quot;: &quot;Doe&quot;\n        }\n    ]\n}\n</code></pre>\n<p><strong>which is fine</strong> because I can see the <code>Employee</code>(s) who belongs to a specific <code>Department</code>.</p>\n<p>However, on the employee side, if I GET employee by id (e.g. <code>localhost:8080/employee/1</code>)\nI would get a json result which only displays the employee name <em>BUT does NOT include the <code>Department</code> where the <code>Employee</code> belongs.</em></p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;firstName&quot;: &quot;John&quot;,\n    &quot;middleName&quot;: &quot;Johnny&quot;,\n    &quot;lastName&quot;: &quot;Doe&quot;\n}\n</code></pre>\n<p>I had to add <code>@JsonIgnore</code> to <code>department</code> field in <code>Employee</code> class to avoid stackoverflow/endless nested json serialization when doing a <strong>GET</strong> department (e.g. <code>localhost:8080/department/1</code>)</p>\n<p>I have 2 questions :</p>\n<ol>\n<li>How do I also display the department information when doing a GET employee by id?</li>\n<li>Do I need to create a custom query in the Repository interface using <code>@Query</code> instead? At least for the purpose of displaying the <code>Department</code> name along with <code>Employee</code> when I do a <strong>GET</strong> <code>Employee</code> by id?</li>\n</ol>\n<p>Thank you.</p>\n"},{"tags":["java","docker","maven","dockerfile","ip"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1630945348,"post_id":69077653,"comment_id":122086975,"body_markdown":"You mean IP of a hosting machine?","body":"You mean IP of a hosting machine?"},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1630946419,"post_id":69077653,"comment_id":122087338,"body_markdown":"@alexey R. Yes.. the above command gives host ip..I understood in Linux,it is always 172.17.0.1.. but I don&#39;t want to hard code it..","body":"@alexey R. Yes.. the above command gives host ip..I understood in Linux,it is always 172.17.0.1.. but I don&#39;t want to hard code it.."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1630946592,"post_id":69077653,"comment_id":122087392,"body_markdown":"No, that is not always what you think. Host might (and usually do) have several IPs. 127.x.x.x is a loopback IP range, but there are also IPs assigned to network interfaces such as WiFi and ethernet adapters.","body":"No, that is not always what you think. Host might (and usually do) have several IPs. 127.x.x.x is a loopback IP range, but there are also IPs assigned to network interfaces such as WiFi and ethernet adapters."},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1630946876,"post_id":69077653,"comment_id":122087497,"body_markdown":"Ok, agree, so that&#39;s also the reason not to hard code it, since as you said it may change. I want to set IP to ENV of Dockerfile.","body":"Ok, agree, so that&#39;s also the reason not to hard code it, since as you said it may change. I want to set IP to ENV of Dockerfile."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1630947278,"post_id":69077653,"comment_id":122087619,"body_markdown":"Can you add more details on what is the result of your trial? Do you have image built like you are showing and you cannot see that set env when you&#39;re inside a container?","body":"Can you add more details on what is the result of your trial? Do you have image built like you are showing and you cannot see that set env when you&#39;re inside a container?"},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1630947653,"post_id":69077653,"comment_id":122087732,"body_markdown":"`failed to solve with frontend dockerfile.v0: failed to create LLB definition: failed to process &quot;${\\&quot;`ip -4 route show default | cut -d\\\\\\&quot; \\\\\\&quot; -f3`\\&quot;}&quot;: missing &#39;:&#39; in su\nbstitution`\n\nI am getting above error.","body":"<code>failed to solve with frontend dockerfile.v0: failed to create LLB definition: failed to process &quot;${\\&quot;</code>ip -4 route show default | cut -d\\\\\\&quot; \\\\\\&quot; -f3<code>\\&quot;}&quot;: missing &#39;:&#39; in su bstitution</code>  I am getting above error."},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1630947794,"post_id":69077653,"comment_id":122087773,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/236820/discussion-between-sen-and-alexey-r).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/236820/discussion-between-sen-and-alexey-r\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630948808,"creation_date":1630947592,"answer_id":69078078,"question_id":69077653,"body_markdown":"Evaluating ENV value on build stage is not supported. See the thread here https://github.com/moby/moby/issues/29110\r\n\r\nSince your app needs this value on execution phase you can build your image just from\r\n\r\n```\r\nFROM maven:3.6.3-openjdk-11\r\n\r\n```\r\n\r\nand then build it like this\r\n\r\n```\r\ndocker build -t maven .\r\n```\r\n\r\nand then execute like this:\r\n\r\n```\r\ndocker run -ti -e IP=$(ip -4 route show default | cut -d&quot; &quot; -f3) maven /bin/bash\r\n```\r\n\r\nHere is the result visible in container:\r\n\r\n```\r\nroot@6856d118d02b:/# echo $IP\r\n192.168.0.1\r\n```","title":"How to save IP to the environment Variable in docker file?","body":"<p>Evaluating ENV value on build stage is not supported. See the thread here <a href=\"https://github.com/moby/moby/issues/29110\" rel=\"nofollow noreferrer\">https://github.com/moby/moby/issues/29110</a></p>\n<p>Since your app needs this value on execution phase you can build your image just from</p>\n<pre><code>FROM maven:3.6.3-openjdk-11\n\n</code></pre>\n<p>and then build it like this</p>\n<pre><code>docker build -t maven .\n</code></pre>\n<p>and then execute like this:</p>\n<pre><code>docker run -ti -e IP=$(ip -4 route show default | cut -d&quot; &quot; -f3) maven /bin/bash\n</code></pre>\n<p>Here is the result visible in container:</p>\n<pre><code>root@6856d118d02b:/# echo $IP\n192.168.0.1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14871472,"reputation":21,"user_id":10738874,"display_name":"dianerta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643010714,"creation_date":1643010714,"answer_id":70830552,"question_id":69077653,"body_markdown":"I think Dockerfile just be used to build image，at that time the container IP isn&#39;t confirmed。\r\n\r\nYou can set it  in  your start.sh or use `docker run -e`","title":"How to save IP to the environment Variable in docker file?","body":"<p>I think Dockerfile just be used to build image，at that time the container IP isn't confirmed。</p>\n<p>You can set it  in  your start.sh or use <code>docker run -e</code></p>\n"}],"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643010714,"creation_date":1630945111,"question_id":69077653,"body_markdown":"I have an usecase to get the host IP inside Dockerfile and save it to ENV value, but I am not able to successfully achieve this. Any help is appreciated. \r\n\r\nBelow is my Sample Dockerfile\r\n\r\n    FROM maven:3.6.3-openjdk-11\r\n    ENV IP=${&quot;`ip -4 route show default | cut -d\\&quot; \\&quot; -f3`&quot;}\r\n    RUN echo $IP","title":"How to save IP to the environment Variable in docker file?","body":"<p>I have an usecase to get the host IP inside Dockerfile and save it to ENV value, but I am not able to successfully achieve this. Any help is appreciated.</p>\n<p>Below is my Sample Dockerfile</p>\n<pre><code>FROM maven:3.6.3-openjdk-11\nENV IP=${&quot;`ip -4 route show default | cut -d\\&quot; \\&quot; -f3`&quot;}\nRUN echo $IP\n</code></pre>\n"},{"tags":["java","android","kotlin","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1642862404,"post_id":70813820,"comment_id":125187848,"body_markdown":"IDEA doesn&#39;t have a feature like this. I suppose there could already be a plugin for this out there. The plugin would have to be quite sophisticated to be able to reliably make a good decision between converting stream code to direct manipulation vs. a sequence.","body":"IDEA doesn&#39;t have a feature like this. I suppose there could already be a plugin for this out there. The plugin would have to be quite sophisticated to be able to reliably make a good decision between converting stream code to direct manipulation vs. a sequence."},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1642863776,"post_id":70813820,"comment_id":125188255,"body_markdown":"@Tenfour04 Thanks. I do hope there exist a plugin, but cannot find yet :(","body":"@Tenfour04 Thanks. I do hope there exist a plugin, but cannot find yet :("}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643010557,"creation_date":1643010557,"answer_id":70830528,"question_id":70813820,"body_markdown":"Here is the feature request for that in Kotlin plugin bug tracker: https://youtrack.jetbrains.com/issue/KTIJ-14393\r\n\r\nFeel free to vote and follow. ","title":"Java to Kotlin auto converter: How to automatically convert Streams to Kotlin functions?","body":"<p>Here is the feature request for that in Kotlin plugin bug tracker: <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-14393\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KTIJ-14393</a></p>\n<p>Feel free to vote and follow.</p>\n"}],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643010557,"creation_date":1642861958,"question_id":70813820,"body_markdown":"Using IntelliJ IDEA, I can automatically convert some Java code to Kotlin code. However, when Java code uses things like `Stream`, it only converts to Kotlin grammar, but it still uses Stream. But we know Kotlin&#39;s sequences/collections API is much, much simpler than Java&#39;s Stream API, so I would appreciate it if I could automatically convert Stream to Kotlin&#39;s API.\r\n\r\nFor example,\r\n\r\n```\r\nmyList.stream().map(x -&gt; x + 1).collect(Collectors.toList()); // java\r\n```\r\n\r\nHow to auto convert to:\r\n\r\n```\r\nmyList.map { it + 1 } // kotlin\r\n```\r\n\r\n(notice the `.map` here works on the Iterable, and there is no `stream()` and `collect()` anymore).","title":"Java to Kotlin auto converter: How to automatically convert Streams to Kotlin functions?","body":"<p>Using IntelliJ IDEA, I can automatically convert some Java code to Kotlin code. However, when Java code uses things like <code>Stream</code>, it only converts to Kotlin grammar, but it still uses Stream. But we know Kotlin's sequences/collections API is much, much simpler than Java's Stream API, so I would appreciate it if I could automatically convert Stream to Kotlin's API.</p>\n<p>For example,</p>\n<pre><code>myList.stream().map(x -&gt; x + 1).collect(Collectors.toList()); // java\n</code></pre>\n<p>How to auto convert to:</p>\n<pre><code>myList.map { it + 1 } // kotlin\n</code></pre>\n<p>(notice the <code>.map</code> here works on the Iterable, and there is no <code>stream()</code> and <code>collect()</code> anymore).</p>\n"},{"tags":["java","handlebars.js","handlebars.java"],"answers":[{"tags":[],"owner":{"account_id":3739783,"reputation":2117,"user_id":3109776,"display_name":"AndreLDM"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1630053995,"creation_date":1461032407,"answer_id":36707398,"question_id":33894863,"body_markdown":"First create a class for your custom helpers:\r\n\r\n    public class HandlebarsHelpers {\r\n        public CharSequence equals(final Object obj1, final Options options) throws IOException {\r\n            Object obj2 = options.param(0);\r\n            return Objects.equals(obj1, obj2) ? options.fn() : options.inverse();\r\n        }\r\n    }\r\n\r\nThen register that class:\r\n\r\n    Handlebars handlebars = new Handlebars();\r\n    handlebars.registerHelpers(new HandlebarsHelpers());\r\n\r\nUse the helper:\r\n\r\n    {{#equals &#39;A&#39; type}}\r\n        &lt;p&gt;The type is A&lt;/p&gt;\r\n    {{else}}\r\n        &lt;p&gt;The type is NOT A&lt;/p&gt;\r\n    {{/equals}}","title":"Comparing 2 strings with Handlebars in Java","body":"<p>First create a class for your custom helpers:</p>\n<pre><code>public class HandlebarsHelpers {\n    public CharSequence equals(final Object obj1, final Options options) throws IOException {\n        Object obj2 = options.param(0);\n        return Objects.equals(obj1, obj2) ? options.fn() : options.inverse();\n    }\n}\n</code></pre>\n<p>Then register that class:</p>\n<pre><code>Handlebars handlebars = new Handlebars();\nhandlebars.registerHelpers(new HandlebarsHelpers());\n</code></pre>\n<p>Use the helper:</p>\n<pre><code>{{#equals 'A' type}}\n    &lt;p&gt;The type is A&lt;/p&gt;\n{{else}}\n    &lt;p&gt;The type is NOT A&lt;/p&gt;\n{{/equals}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1962480,"reputation":15473,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1630068656,"creation_date":1630068656,"answer_id":68953748,"question_id":33894863,"body_markdown":"There&#39;s a simpler solution:\r\n\r\nbackend:\r\n```java\r\nHandlebars handlebars = new Handlebars();\r\nhandlebars.registerHelper(&quot;eq&quot;, ConditionalHelpers.eq);\r\n```\r\n\r\nfrontend:\r\n```\r\n{{#eq &quot;a&quot; &quot;a&quot;}}HURRA!{{/eq}}\r\n```\r\n\r\nSource: [official documentation][1]\r\n\r\n\r\n  [1]: https://github.com/jknack/handlebars.java#conditional-helpers","title":"Comparing 2 strings with Handlebars in Java","body":"<p>There's a simpler solution:</p>\n<p>backend:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Handlebars handlebars = new Handlebars();\nhandlebars.registerHelper(&quot;eq&quot;, ConditionalHelpers.eq);\n</code></pre>\n<p>frontend:</p>\n<pre><code>{{#eq &quot;a&quot; &quot;a&quot;}}HURRA!{{/eq}}\n</code></pre>\n<p>Source: <a href=\"https://github.com/jknack/handlebars.java#conditional-helpers\" rel=\"nofollow noreferrer\">official documentation</a></p>\n"}],"owner":{"account_id":464122,"reputation":7030,"user_id":867432,"accept_rate":69,"display_name":"Christian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3577,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68953748,"answer_count":2,"score":4,"last_activity_date":1643010081,"creation_date":1448371380,"question_id":33894863,"body_markdown":"I am using Handlebars with Dropwizard in Java. I&#39;d like to compare 2 strings and if the are identically, I&#39;d like to do something. I know there are some Helpers within Javascript, but I don&#39;t get how to adapt them to java.\r\n\r\nI&#39;ve this code, but question is, how can I add the second value to check whether they are equal.\r\n\r\n    public enum StringHelper implements Helper&lt;Object&gt; {\r\n         eq {\r\n             @Override\r\n             public Boolean safeApply(final Object value, final Options options) {\r\n               return ((String)value).equals(/*SECOND VALUE*/);\r\n             }\r\n           };\r\n\r\n           @Override\r\n           public Boolean apply(Object context, Options options) throws IOException {\r\n             return safeApply(context, options);\r\n           }\r\n\r\n           protected abstract Boolean safeApply(final Object value,\r\n                                            final Options options);\r\n         }\r\n    }\r\n","title":"Comparing 2 strings with Handlebars in Java","body":"<p>I am using Handlebars with Dropwizard in Java. I'd like to compare 2 strings and if the are identically, I'd like to do something. I know there are some Helpers within Javascript, but I don't get how to adapt them to java.</p>\n\n<p>I've this code, but question is, how can I add the second value to check whether they are equal.</p>\n\n<pre><code>public enum StringHelper implements Helper&lt;Object&gt; {\n     eq {\n         @Override\n         public Boolean safeApply(final Object value, final Options options) {\n           return ((String)value).equals(/*SECOND VALUE*/);\n         }\n       };\n\n       @Override\n       public Boolean apply(Object context, Options options) throws IOException {\n         return safeApply(context, options);\n       }\n\n       protected abstract Boolean safeApply(final Object value,\n                                        final Options options);\n     }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","jdbc"],"comments":[{"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"score":0,"creation_date":1454614698,"post_id":35209898,"comment_id":58135345,"body_markdown":"In debug mode, if you place a break-point on the line `service.insertUpdateDoctor(test);`, and step into it, where does it go? What type does it show `service` to be? Is it a `DAOImpl`?","body":"In debug mode, if you place a break-point on the line <code>service.insertUpdateDoctor(test);</code>, and step into it, where does it go? What type does it show <code>service</code> to be? Is it a <code>DAOImpl</code>?"},{"owner":{"account_id":7777240,"reputation":69,"user_id":5884923,"accept_rate":75,"display_name":"Nick C"},"score":0,"creation_date":1454616468,"post_id":35209898,"comment_id":58136377,"body_markdown":"When I place a breakpoint and follow all the steps in main, it just skips over that line. When I check breakpoint properties, it&#39;s type is Main App (where the main argument is)","body":"When I place a breakpoint and follow all the steps in main, it just skips over that line. When I check breakpoint properties, it&#39;s type is Main App (where the main argument is)"},{"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"score":0,"creation_date":1454624573,"post_id":35209898,"comment_id":58140794,"body_markdown":"You&#39;ll probably save a lot of time using Spring Data JPA","body":"You&#39;ll probably save a lot of time using Spring Data JPA"}],"answers":[{"tags":[],"owner":{"account_id":5841137,"reputation":1242,"user_id":4602706,"display_name":"Marco Vargas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454615463,"creation_date":1454615463,"answer_id":35210321,"question_id":35209898,"body_markdown":"The issue itself it&#39;s not pretty clear for me.\r\n\r\nIf the problem is that when calling this:\r\n\r\n    Doctor test = new Doctor(17,&quot;jack&quot;, &quot;sparrow&quot;); \r\n    service.insertUpdateDoctor(test);\r\n\r\nThe runtime is not getting inside insertUpdateDoctor, just check how you are instantiating the object **service**\r\n\r\nif the problem is that it&#39;s not executing correctly the sql statement, try by using a PreparedStatement (it&#39;s a good practice) by doing something like:\r\n\r\n            String connectionStr = StringUtils.format(&quot;INSERT INTO %s.docflight_doctors(id, first_name,last_name) Values(?,?,?)&quot;, this.databaseName);\r\n            try (Connection connection = this.dataSource.getConnection();\r\n                 PreparedStatement preparedStatement = connection.prepareStatement(connectionStr)) {\r\n                preparedStatement.setInt(1, doctor.getId());\r\n                preparedStatement.setString(2, doctor.getFirstName());\r\n                preparedStatement.setString(3, doctor.getLastName());\r\n                preparedStatement.execute();\r\n                connection.commit();\r\n            } catch (Exception ex) {\r\n                this.logger.error(String.format(&quot;Error when inserting: %s&quot;, ex.toString()));\r\n            }\r\n\r\nHope it may help you.","title":"Jdbc template crud operations","body":"<p>The issue itself it's not pretty clear for me.</p>\n\n<p>If the problem is that when calling this:</p>\n\n<pre><code>Doctor test = new Doctor(17,\"jack\", \"sparrow\"); \nservice.insertUpdateDoctor(test);\n</code></pre>\n\n<p>The runtime is not getting inside insertUpdateDoctor, just check how you are instantiating the object <strong>service</strong></p>\n\n<p>if the problem is that it's not executing correctly the sql statement, try by using a PreparedStatement (it's a good practice) by doing something like:</p>\n\n<pre><code>        String connectionStr = StringUtils.format(\"INSERT INTO %s.docflight_doctors(id, first_name,last_name) Values(?,?,?)\", this.databaseName);\n        try (Connection connection = this.dataSource.getConnection();\n             PreparedStatement preparedStatement = connection.prepareStatement(connectionStr)) {\n            preparedStatement.setInt(1, doctor.getId());\n            preparedStatement.setString(2, doctor.getFirstName());\n            preparedStatement.setString(3, doctor.getLastName());\n            preparedStatement.execute();\n            connection.commit();\n        } catch (Exception ex) {\n            this.logger.error(String.format(\"Error when inserting: %s\", ex.toString()));\n        }\n</code></pre>\n\n<p>Hope it may help you.</p>\n"},{"tags":[],"owner":{"account_id":10403802,"reputation":648,"user_id":7671306,"accept_rate":57,"display_name":"Khaled Jamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643009716,"creation_date":1643009716,"answer_id":70830379,"question_id":35209898,"body_markdown":"For me I would not write this class from scratch, I would prefer to generate it in few clicks and save my time using The Cloud Wizard:\r\n\r\n 1. Go to https://codegen.cloud-wizard.com\r\n2. Click on Java\r\n3. From the technologies section press on Java SE\r\n4. Select JDBC Class transformer.\r\n5. In the metadata section enter a name for the JDBC Class e.g. (DoctorDao)\r\n6. Add some fields e.g. first name and last name\r\n7. Press on generate code and you will get your class ready and working as expected.\r\n\r\n[![Choose Language (Java)][1]][1]\r\n\r\n[![Choose Technology (Java SE)][2]][2]\r\n\r\n[![Choose Transformer (JDBC Class)][3]][3]\r\n\r\n[![Add Metadata][4]][4]\r\n\r\n[![Generated Code][5]][5]\r\n\r\n  [1]: https://i.stack.imgur.com/hjMd7.png\r\n  [2]: https://i.stack.imgur.com/34q2i.png\r\n  [3]: https://i.stack.imgur.com/NHwST.png\r\n  [4]: https://i.stack.imgur.com/bPTsQ.png\r\n  [5]: https://i.stack.imgur.com/emQQc.png","title":"Jdbc template crud operations","body":"<p>For me I would not write this class from scratch, I would prefer to generate it in few clicks and save my time using The Cloud Wizard:</p>\n<ol>\n<li>Go to <a href=\"https://codegen.cloud-wizard.com\" rel=\"nofollow noreferrer\">https://codegen.cloud-wizard.com</a></li>\n<li>Click on Java</li>\n<li>From the technologies section press on Java SE</li>\n<li>Select JDBC Class transformer.</li>\n<li>In the metadata section enter a name for the JDBC Class e.g. (DoctorDao)</li>\n<li>Add some fields e.g. first name and last name</li>\n<li>Press on generate code and you will get your class ready and working as expected.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/hjMd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hjMd7.png\" alt=\"Choose Language (Java)\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/34q2i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/34q2i.png\" alt=\"Choose Technology (Java SE)\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NHwST.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NHwST.png\" alt=\"Choose Transformer (JDBC Class)\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bPTsQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bPTsQ.png\" alt=\"Add Metadata\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/emQQc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/emQQc.png\" alt=\"Generated Code\" /></a></p>\n"}],"owner":{"account_id":7777240,"reputation":69,"user_id":5884923,"accept_rate":75,"display_name":"Nick C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643009716,"creation_date":1454614187,"question_id":35209898,"body_markdown":"So I have the first steps of a webapp, have class Doctor and I want to perform some operations like view all, insert, delete, etc.  : \r\n\r\n    public class Doctor {\r\n\tpublic String firstName;\r\n\tpublic String lastName;\r\n\tpublic int id;\r\n\t\r\n\tpublic Doctor(){\r\n\t}\r\n\tpublic Doctor(int id, String first, String last){\r\n\tsetId(id); \r\n\tsetFirstName(first);\r\n\tsetLastName(last);\r\n    }\r\n    // getters and setters\r\n\r\nHere is an implementation of one method from my interface Service. They are all pretty much the same with the appropriate sql queries. I tried following several different tutorials.\r\n\r\n    public class DAOImpl implements DAO{\r\n\r\n    public void insertUpdateDoctor(Doctor doctor){ \r\n\r\n\t\tString sql = &quot;INSERT INTO doc_flight.docflight_doctors(id, first_name,last_name)&quot; + &quot;Values(?,?,?)&quot;;\t\t\t \r\n\r\n\t\t\r\n\t\t\r\n\t\tjdbcTemplateObject.update(sql,new Object[]{doctor.getId(),doctor.getFirstName(),doctor.getLastName()});\r\n\r\nHeres the part in main where I try to call it. The program doesn&#39;t even try to enter the method, it doesn&#39;t come up in debug and moves to the next method I try in main, view all, which works. Presumably, I&#39;m not calling the method correctly and tried rewriting all parts several times. Help?!\r\n\r\n      Doctor test = new Doctor(17,&quot;jack&quot;, &quot;sparrow&quot;); \r\n    service.insertUpdateDoctor(test);\r\n\r\n\r\n ","title":"Jdbc template crud operations","body":"<p>So I have the first steps of a webapp, have class Doctor and I want to perform some operations like view all, insert, delete, etc.  : </p>\n\n<pre><code>public class Doctor {\npublic String firstName;\npublic String lastName;\npublic int id;\n\npublic Doctor(){\n}\npublic Doctor(int id, String first, String last){\nsetId(id); \nsetFirstName(first);\nsetLastName(last);\n}\n// getters and setters\n</code></pre>\n\n<p>Here is an implementation of one method from my interface Service. They are all pretty much the same with the appropriate sql queries. I tried following several different tutorials.</p>\n\n<pre><code>public class DAOImpl implements DAO{\n\npublic void insertUpdateDoctor(Doctor doctor){ \n\n    String sql = \"INSERT INTO doc_flight.docflight_doctors(id, first_name,last_name)\" + \"Values(?,?,?)\";             \n\n\n\n    jdbcTemplateObject.update(sql,new Object[]{doctor.getId(),doctor.getFirstName(),doctor.getLastName()});\n</code></pre>\n\n<p>Heres the part in main where I try to call it. The program doesn't even try to enter the method, it doesn't come up in debug and moves to the next method I try in main, view all, which works. Presumably, I'm not calling the method correctly and tried rewriting all parts several times. Help?!</p>\n\n<pre><code>  Doctor test = new Doctor(17,\"jack\", \"sparrow\"); \nservice.insertUpdateDoctor(test);\n</code></pre>\n"},{"tags":["java","android","checkbox","default"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1643004073,"post_id":70829553,"comment_id":125215392,"body_markdown":"you can store that data in `sharedPreferences` or you can use a database ie: Firebase to store that then you can check wheater the user is checked or not.","body":"you can store that data in <code>sharedPreferences</code> or you can use a database ie: Firebase to store that then you can check wheater the user is checked or not."},{"owner":{"account_id":23767251,"reputation":565,"user_id":17781856,"display_name":"OneDev"},"score":0,"creation_date":1643004339,"post_id":70829553,"comment_id":125215443,"body_markdown":"Make your list static, or use a shared preferences or database to save your data, if you want an easy way, you must make your list static and in your setOnCheckedChangeListener you have to change a value of your model","body":"Make your list static, or use a shared preferences or database to save your data, if you want an easy way, you must make your list static and in your setOnCheckedChangeListener you have to change a value of your model"},{"owner":{"account_id":23699578,"reputation":63,"user_id":17722908,"display_name":"Farida Bayramova"},"score":0,"creation_date":1643004563,"post_id":70829553,"comment_id":125215489,"body_markdown":"@OneDev how do I do it? Could you show me an example code, please?","body":"@OneDev how do I do it? Could you show me an example code, please?"},{"owner":{"account_id":23767251,"reputation":565,"user_id":17781856,"display_name":"OneDev"},"score":0,"creation_date":1643004738,"post_id":70829553,"comment_id":125215523,"body_markdown":"Yes, I&#39;ll post it as an answer","body":"Yes, I&#39;ll post it as an answer"}],"answers":[{"tags":[],"owner":{"account_id":23767251,"reputation":565,"user_id":17781856,"display_name":"OneDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643005888,"creation_date":1643005888,"answer_id":70829808,"question_id":70829553,"body_markdown":"your model class\r\n\r\n    public class YourModel {\r\n\r\n    private boolean someBoolean;\r\n    private String someString;\r\n    private int someInt;\r\n\r\n    public boolean isSomeBoolean() {\r\n        return someBoolean;\r\n    }\r\n\r\n    public void setSomeBoolean(boolean someBoolean) {\r\n        this.someBoolean = someBoolean;\r\n    }\r\n\r\n    public String getSomeString() {\r\n        return someString;\r\n    }\r\n\r\n    public void setSomeString(String someString) {\r\n        this.someString = someString;\r\n    }\r\n\r\n    public int getSomeInt() {\r\n        return someInt;\r\n    }\r\n\r\n    public void setSomeInt(int someInt) {\r\n        this.someInt = someInt;\r\n    }\r\n    }\r\n\r\nyour activity \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private static ArrayList&lt;YourModel&gt; modelList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //Add Your Model Or Data To ArrayList\r\n        modelList.add(new YourModel());\r\n        modelList.add(new YourModel());\r\n\r\n        ListView listView = findViewById(R.id.youtListView);\r\n        YourAdapter yourAdapter = new YourAdapter(this, R.id.youtLayoutListItem, modelList);\r\n        listView.setAdapter(yourAdapter);\r\n\r\n\r\n    }\r\n    }\r\n\r\nand your adapter\r\n\r\n    public class YourAdapter extends ArrayAdapter&lt;YourModel&gt; {\r\n\r\n    private ArrayList&lt;YourModel&gt; modelList;\r\n\r\n    public YourAdapter(@NonNull Context context, int resource, @NonNull List&lt;YourModel&gt; objects) {\r\n        super(context, resource, objects);\r\n        this.modelList = (ArrayList&lt;YourModel&gt;) objects;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return modelList.size();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public YourModel getItem(int position) {\r\n        return modelList.get(position);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        if (convertView == null) {\r\n                ...\r\n        }\r\n        YourModel model = modelList.get(position);\r\n        P2106.setChecked(model.isSomeBoolean());\r\n        P2106.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                if(isChecked){\r\n                    Intent move = new Intent(GeneralRoute.this, ScanTest.class);\r\n                    startActivity(move);\r\n                    P2106.setChecked(true);\r\n                    model.setSomeBoolean(true);\r\n                    modelList.set(modelList.indexOf(model), model);\r\n                    notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\n        return convertView;\r\n    }\r\n    }\r\n\r\n**Don&#39;t Forget to replace with your data**","title":"How do I set my checkbox checked by default after a certain action is performed?","body":"<p>your model class</p>\n<pre><code>public class YourModel {\n\nprivate boolean someBoolean;\nprivate String someString;\nprivate int someInt;\n\npublic boolean isSomeBoolean() {\n    return someBoolean;\n}\n\npublic void setSomeBoolean(boolean someBoolean) {\n    this.someBoolean = someBoolean;\n}\n\npublic String getSomeString() {\n    return someString;\n}\n\npublic void setSomeString(String someString) {\n    this.someString = someString;\n}\n\npublic int getSomeInt() {\n    return someInt;\n}\n\npublic void setSomeInt(int someInt) {\n    this.someInt = someInt;\n}\n}\n</code></pre>\n<p>your activity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate static ArrayList&lt;YourModel&gt; modelList = new ArrayList&lt;&gt;();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    //Add Your Model Or Data To ArrayList\n    modelList.add(new YourModel());\n    modelList.add(new YourModel());\n\n    ListView listView = findViewById(R.id.youtListView);\n    YourAdapter yourAdapter = new YourAdapter(this, R.id.youtLayoutListItem, modelList);\n    listView.setAdapter(yourAdapter);\n\n\n}\n}\n</code></pre>\n<p>and your adapter</p>\n<pre><code>public class YourAdapter extends ArrayAdapter&lt;YourModel&gt; {\n\nprivate ArrayList&lt;YourModel&gt; modelList;\n\npublic YourAdapter(@NonNull Context context, int resource, @NonNull List&lt;YourModel&gt; objects) {\n    super(context, resource, objects);\n    this.modelList = (ArrayList&lt;YourModel&gt;) objects;\n}\n\n@Override\npublic int getCount() {\n    return modelList.size();\n}\n\n@Nullable\n@Override\npublic YourModel getItem(int position) {\n    return modelList.get(position);\n}\n\n@NonNull\n@Override\npublic View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n    if (convertView == null) {\n            ...\n    }\n    YourModel model = modelList.get(position);\n    P2106.setChecked(model.isSomeBoolean());\n    P2106.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n            if(isChecked){\n                Intent move = new Intent(GeneralRoute.this, ScanTest.class);\n                startActivity(move);\n                P2106.setChecked(true);\n                model.setSomeBoolean(true);\n                modelList.set(modelList.indexOf(model), model);\n                notifyDataSetChanged();\n            }\n        }\n    });\n    return convertView;\n}\n}\n</code></pre>\n<p><strong>Don't Forget to replace with your data</strong></p>\n"}],"owner":{"account_id":23699578,"reputation":63,"user_id":17722908,"display_name":"Farida Bayramova"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70829808,"answer_count":1,"score":0,"last_activity_date":1643009561,"creation_date":1643003784,"question_id":70829553,"body_markdown":"I have an activity with a list of checkboxes. A checkbox and after clicking it, the next action is called, performed, and completed. Afterward, the action is completed, the app returns to the action with a list of checkboxes and now I want the used checkbox to be checked by default and unable to be clicked again. Please help!\r\n\r\nThis is what I tried to do but was not successful checkbox becomes unchecked when I return to the action:\r\n\r\n    P2106.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                if(isChecked){\r\n                    Intent move = new Intent(GeneralRoute.this, ScanTest.class);\r\n                    startActivity(move);\r\n                    P2106.setChecked(true);\r\n                }\r\n            }\r\n        });\r\n\r\n","title":"How do I set my checkbox checked by default after a certain action is performed?","body":"<p>I have an activity with a list of checkboxes. A checkbox and after clicking it, the next action is called, performed, and completed. Afterward, the action is completed, the app returns to the action with a list of checkboxes and now I want the used checkbox to be checked by default and unable to be clicked again. Please help!</p>\n<p>This is what I tried to do but was not successful checkbox becomes unchecked when I return to the action:</p>\n<pre><code>P2106.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n            if(isChecked){\n                Intent move = new Intent(GeneralRoute.this, ScanTest.class);\n                startActivity(move);\n                P2106.setChecked(true);\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","kotlin","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1642864090,"post_id":70813859,"comment_id":125188336,"body_markdown":"I don&#39;t think the Java-to-Kotlin converter&#39;s behaviour is customisable at all (?) Can you customise any of its other behaviours?","body":"I don&#39;t think the Java-to-Kotlin converter&#39;s behaviour is customisable at all (?) Can you customise any of its other behaviours?"},{"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"score":0,"creation_date":1642870871,"post_id":70813859,"comment_id":125190038,"body_markdown":"This would make a good feature request.","body":"This would make a good feature request."},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1642898589,"post_id":70813859,"comment_id":125195878,"body_markdown":"@Sweeper No I also cannot customize. But I hope there exist some plugins (?) or sth like that","body":"@Sweeper No I also cannot customize. But I hope there exist some plugins (?) or sth like that"},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1642898600,"post_id":70813859,"comment_id":125195879,"body_markdown":"@Todd Agree. Hope this feature exists!","body":"@Todd Agree. Hope this feature exists!"}],"answers":[{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643009390,"creation_date":1643009390,"answer_id":70830338,"question_id":70813859,"body_markdown":"Here is an existing feature request regarding automatic conversion from @lombok.Data to data class https://youtrack.jetbrains.com/issue/KTIJ-12602. Feel free to upvote/comment on it.","title":"How to let Java-to-Kotlin converter understand Lombok and convert to data class?","body":"<p>Here is an existing feature request regarding automatic conversion from @lombok.Data to data class <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-12602\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KTIJ-12602</a>. Feel free to upvote/comment on it.</p>\n"}],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1643009390,"creation_date":1642862195,"question_id":70813859,"body_markdown":"For example, a Java lombok class and its usage:\r\n\r\n```\r\n@Data\r\nclass Person {\r\n  String name;\r\n  Integer age;\r\n}\r\n\r\nnew Person().setName(&quot;a&quot;).setAge(42);\r\n```\r\n\r\nI want to convert to Kotlin&#39;s data class automatically:\r\n\r\n```\r\ndata class Person (\r\n  val name: String,\r\n  val age: Int,\r\n)\r\n\r\nPerson(name=&quot;a&quot;, age=42)\r\n```\r\n\r\nHowever, Intellij IDEA&#39;s current automatic converter does not seem to do the job... Is there an approach to solve this?\r\n\r\nP.S. This is a sibling of https://stackoverflow.com/questions/70813820/java-to-kotlin-auto-converter-how-to-automatically-convert-streams-to-kotlin-fu. I make this a separate question to avoid asking two not-that-related things in one question.","title":"How to let Java-to-Kotlin converter understand Lombok and convert to data class?","body":"<p>For example, a Java lombok class and its usage:</p>\n<pre><code>@Data\nclass Person {\n  String name;\n  Integer age;\n}\n\nnew Person().setName(&quot;a&quot;).setAge(42);\n</code></pre>\n<p>I want to convert to Kotlin's data class automatically:</p>\n<pre><code>data class Person (\n  val name: String,\n  val age: Int,\n)\n\nPerson(name=&quot;a&quot;, age=42)\n</code></pre>\n<p>However, Intellij IDEA's current automatic converter does not seem to do the job... Is there an approach to solve this?</p>\n<p>P.S. This is a sibling of <a href=\"https://stackoverflow.com/questions/70813820/java-to-kotlin-auto-converter-how-to-automatically-convert-streams-to-kotlin-fu\">Java to Kotlin auto converter: How to automatically convert Streams to kotlin functions?</a>. I make this a separate question to avoid asking two not-that-related things in one question.</p>\n"},{"tags":["java","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":1,"creation_date":1642859869,"post_id":70812143,"comment_id":125187242,"body_markdown":"could you show how are you calling it from java?","body":"could you show how are you calling it from java?"},{"owner":{"account_id":6661611,"reputation":478,"user_id":5140533,"display_name":"MXC"},"score":0,"creation_date":1642905523,"post_id":70812143,"comment_id":125196717,"body_markdown":"@Sergey I updated the code and added the java code.","body":"@Sergey I updated the code and added the java code."}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643009247,"creation_date":1642923117,"answer_id":70820017,"question_id":70812143,"body_markdown":"I think in your case the program completes before a new coroutine starts. Try to delay the current `Main Thread` in the `main` function after calling `MainKt.doSomethingAsync()`:\r\n\r\n    public class Converter {\r\n        public static void main(String[] args) {\r\n           MainKt.doSomethingAsync();\r\n           try {\r\n                TimeUnit.MILLISECONDS.sleep(2500);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            // Or use MainKt.doSomethingAsync().get()\r\n        }\r\n    }\r\n\r\nThen I guess the logs will be displayed.","title":"Kotlin suspend function not executing after delay when called from Java","body":"<p>I think in your case the program completes before a new coroutine starts. Try to delay the current <code>Main Thread</code> in the <code>main</code> function after calling <code>MainKt.doSomethingAsync()</code>:</p>\n<pre><code>public class Converter {\n    public static void main(String[] args) {\n       MainKt.doSomethingAsync();\n       try {\n            TimeUnit.MILLISECONDS.sleep(2500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        // Or use MainKt.doSomethingAsync().get()\n    }\n}\n</code></pre>\n<p>Then I guess the logs will be displayed.</p>\n"}],"owner":{"account_id":6661611,"reputation":478,"user_id":5140533,"display_name":"MXC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70820017,"answer_count":1,"score":2,"last_activity_date":1643009247,"creation_date":1642849304,"question_id":70812143,"body_markdown":"I am trying to call this Kotlin suspend code from my Java class. The solution is based on what is mentioned here.\r\nhttps://stackoverflow.com/a/52887677/5140533\r\n\r\nKotlin Code: \r\n\r\n```Main.kt```\r\n```kotlin\r\nsuspend fun doWorld() = coroutineScope {\r\n    launch {\r\n        println(&quot;Thread name2 ${Thread.currentThread().name}&quot;)\r\n        delay(2000L)\r\n        println(&quot;Hello world&quot;)\r\n    }\r\n}\r\n```\r\n\r\n```kotlin\r\n@OptIn(DelicateCoroutinesApi::class)\r\nfun doSomethingAsync() =\r\n    GlobalScope.future { doWorld() }\r\n```\r\n\r\n```Converter.java```\r\n\r\n```java\r\npublic class Converter {\r\n    public static void main(String[] args) {\r\n       MainKt.doSomethingAsync();\r\n    }\r\n}\r\n```\r\nWhen I call `doSomethingAsync()` from my Java class, I do not see any of the print statements. Can somebody please explain what exactly is going on and how I can correct this.\r\n","title":"Kotlin suspend function not executing after delay when called from Java","body":"<p>I am trying to call this Kotlin suspend code from my Java class. The solution is based on what is mentioned here.\n<a href=\"https://stackoverflow.com/a/52887677/5140533\">https://stackoverflow.com/a/52887677/5140533</a></p>\n<p>Kotlin Code:</p>\n<p><code>Main.kt</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>suspend fun doWorld() = coroutineScope {\n    launch {\n        println(&quot;Thread name2 ${Thread.currentThread().name}&quot;)\n        delay(2000L)\n        println(&quot;Hello world&quot;)\n    }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@OptIn(DelicateCoroutinesApi::class)\nfun doSomethingAsync() =\n    GlobalScope.future { doWorld() }\n</code></pre>\n<p><code>Converter.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Converter {\n    public static void main(String[] args) {\n       MainKt.doSomethingAsync();\n    }\n}\n</code></pre>\n<p>When I call <code>doSomethingAsync()</code> from my Java class, I do not see any of the print statements. Can somebody please explain what exactly is going on and how I can correct this.</p>\n"},{"tags":["java","flutter","react-native","kotlin","whatsapp"],"answers":[{"tags":[],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643009106,"creation_date":1643009106,"answer_id":70830285,"question_id":70771436,"body_markdown":"I found the solution on official doc. You have to increase the ```image_data_Version``` for that pack after adding new images. \r\nTo track the ```image_data_Version``` you can query the ContentProvider of your app or Store the ```image_data_Version``` somewhere and make changes accordingly .","title":"How to update the existing sticker pack of Whatsapp","body":"<p>I found the solution on official doc. You have to increase the <code>image_data_Version</code> for that pack after adding new images.\nTo track the <code>image_data_Version</code> you can query the ContentProvider of your app or Store the <code>image_data_Version</code> somewhere and make changes accordingly .</p>\n"}],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70830285,"answer_count":1,"score":-1,"last_activity_date":1643009106,"creation_date":1642598866,"question_id":70771436,"body_markdown":"I have written codes for adding sticker pack dynamically. But I want to know how to update the sticker pack after adding to whatsapp?\r\nI can add sticker file to the pack which is listed on my app only but it is not reflecting in whatsapp. I tried adding files to the same location (file:///...) from where the pack was sent to whatsapp. \r\nI want to try updating content provider. But how to do that? Can I add files to whatsapp&#39;s &#39;content://...&#39; uri or should I update my app&#39;s content provider or anything else?\r\nI am using react-native-whatsapp-stickers module for react-native.\r\n\r\nreact-native code\r\n```javascript\r\ninvoking after adding single sticker from UI\r\nconst addOne = (path, packName) =&gt;{\r\n    // log(&#39;path &#39;,path[0])\r\n    // log(&#39;packName &#39;,packName)\r\n    RNWhatsAppStickers.addSticker(path[0],packName)\r\n    .then(res=&gt;RNWhatsAppStickers.send(packName,packName))\r\n    .then(res=&gt;console.log(&#39;response &#39;,res))\r\n}\r\n```\r\n\r\nJava code of module RNWhatsAppStickers\r\n```java\r\n @ReactMethod\r\n    public void send(String identifier, String stickerPackName, Promise promise) {\r\n        Intent intent = new Intent();\r\n        intent.setAction(&quot;com.whatsapp.intent.action.ENABLE_STICKER_PACK&quot;);\r\n        intent.putExtra(EXTRA_STICKER_PACK_ID, identifier);\r\n        intent.putExtra(EXTRA_STICKER_PACK_AUTHORITY, getContentProviderAuthority(reactContext));\r\n        intent.putExtra(EXTRA_STICKER_PACK_NAME, stickerPackName);\r\n\r\n        try {\r\n            Activity activity = getCurrentActivity();\r\n            ResolveInfo should = activity.getPackageManager().resolveActivity(intent, 0);\r\n            if (should != null) {\r\n                activity.startActivityForResult(intent, ADD_PACK);\r\n                promise.resolve(&quot;OK&quot;);\r\n            } else {\r\n                promise.resolve(&quot;OK, but not opened&quot;);\r\n            }\r\n        } catch (ActivityNotFoundException e) {\r\n            promise.reject(ERROR_ADDING_STICKER_PACK, e);\r\n        } catch (Exception e) {\r\n            promise.reject(ERROR_ADDING_STICKER_PACK, e);\r\n        }\r\n    }\r\n\r\n// saving image to same pack\r\npublic static void SaveImage(Bitmap finalBitmap, String name, String identifier) {\r\n\r\n        String root = path + &quot;/&quot; + identifier;\r\n        File myDir = new File(root);\r\n        myDir.mkdirs();\r\n        String fname = name;\r\n        File file = new File(myDir, fname);\r\n        if (file.exists()){\r\n            // Log.d(&quot;ReactNative&quot;,&quot;root &quot;+root);\r\n            file.delete();\r\n        }\r\n\r\n        try {\r\n            FileOutputStream out = new FileOutputStream(file);\r\n            finalBitmap.compress(Bitmap.CompressFormat.WEBP, 90, out);\r\n            out.flush();\r\n            out.close();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nPlease give any idea what to do? Thanks","title":"How to update the existing sticker pack of Whatsapp","body":"<p>I have written codes for adding sticker pack dynamically. But I want to know how to update the sticker pack after adding to whatsapp?\nI can add sticker file to the pack which is listed on my app only but it is not reflecting in whatsapp. I tried adding files to the same location (file:///...) from where the pack was sent to whatsapp.\nI want to try updating content provider. But how to do that? Can I add files to whatsapp's 'content://...' uri or should I update my app's content provider or anything else?\nI am using react-native-whatsapp-stickers module for react-native.</p>\n<p>react-native code</p>\n<pre class=\"lang-js prettyprint-override\"><code>invoking after adding single sticker from UI\nconst addOne = (path, packName) =&gt;{\n    // log('path ',path[0])\n    // log('packName ',packName)\n    RNWhatsAppStickers.addSticker(path[0],packName)\n    .then(res=&gt;RNWhatsAppStickers.send(packName,packName))\n    .then(res=&gt;console.log('response ',res))\n}\n</code></pre>\n<p>Java code of module RNWhatsAppStickers</p>\n<pre class=\"lang-java prettyprint-override\"><code> @ReactMethod\n    public void send(String identifier, String stickerPackName, Promise promise) {\n        Intent intent = new Intent();\n        intent.setAction(&quot;com.whatsapp.intent.action.ENABLE_STICKER_PACK&quot;);\n        intent.putExtra(EXTRA_STICKER_PACK_ID, identifier);\n        intent.putExtra(EXTRA_STICKER_PACK_AUTHORITY, getContentProviderAuthority(reactContext));\n        intent.putExtra(EXTRA_STICKER_PACK_NAME, stickerPackName);\n\n        try {\n            Activity activity = getCurrentActivity();\n            ResolveInfo should = activity.getPackageManager().resolveActivity(intent, 0);\n            if (should != null) {\n                activity.startActivityForResult(intent, ADD_PACK);\n                promise.resolve(&quot;OK&quot;);\n            } else {\n                promise.resolve(&quot;OK, but not opened&quot;);\n            }\n        } catch (ActivityNotFoundException e) {\n            promise.reject(ERROR_ADDING_STICKER_PACK, e);\n        } catch (Exception e) {\n            promise.reject(ERROR_ADDING_STICKER_PACK, e);\n        }\n    }\n\n// saving image to same pack\npublic static void SaveImage(Bitmap finalBitmap, String name, String identifier) {\n\n        String root = path + &quot;/&quot; + identifier;\n        File myDir = new File(root);\n        myDir.mkdirs();\n        String fname = name;\n        File file = new File(myDir, fname);\n        if (file.exists()){\n            // Log.d(&quot;ReactNative&quot;,&quot;root &quot;+root);\n            file.delete();\n        }\n\n        try {\n            FileOutputStream out = new FileOutputStream(file);\n            finalBitmap.compress(Bitmap.CompressFormat.WEBP, 90, out);\n            out.flush();\n            out.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Please give any idea what to do? Thanks</p>\n"},{"tags":["java","gradle","log4j","build.gradle"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1643009220,"post_id":70830277,"comment_id":125216525,"body_markdown":"Can you explain why you don’t want to update, and want to instead carry out operations that may well result in runtime problems - leaving you potentially vulnerable to DoS attacks?","body":"Can you explain why you don’t want to update, and want to instead carry out operations that may well result in runtime problems - leaving you potentially vulnerable to DoS attacks?"},{"owner":{"account_id":17931172,"reputation":11,"user_id":13028565,"display_name":"Emma"},"score":0,"creation_date":1643014680,"post_id":70830277,"comment_id":125218182,"body_markdown":"We cannot risk having the code not working as there are other projects depending on it which are out of our control and so before they upgrade, we want a quick temporary fix.","body":"We cannot risk having the code not working as there are other projects depending on it which are out of our control and so before they upgrade, we want a quick temporary fix."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1643014722,"post_id":70830277,"comment_id":125218194,"body_markdown":"If it’s a library why does it depend on Log4j2-core at all??","body":"If it’s a library why does it depend on Log4j2-core at all??"},{"owner":{"account_id":17931172,"reputation":11,"user_id":13028565,"display_name":"Emma"},"score":0,"creation_date":1643015818,"post_id":70830277,"comment_id":125218553,"body_markdown":"It’s a relative new library so we have used this for testing purposes as well as keeping track of data flow.","body":"It’s a relative new library so we have used this for testing purposes as well as keeping track of data flow."}],"owner":{"account_id":17931172,"reputation":11,"user_id":13028565,"display_name":"Emma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643009054,"creation_date":1643009054,"question_id":70830277,"body_markdown":"At the moment I am trying to find a quick solution to fix log4j vulnerability without changing to an updated version of log4j. My gradle project uses the application plugin to build a jar file. As part of the runtime transitive dependencies, I end up pulling in org.slf4j:slf4j-log4j12.\r\nI want to continue using the vulnerable version of log4j however remove the JMS appender file from the JAR to mitigate the issue. \r\n\r\nI can locate the file on my local machine and do this however I want a way that will work more seamlessly for others working on the code…\r\nHow can I do this?","title":"RM jar file log4j vulnerable version","body":"<p>At the moment I am trying to find a quick solution to fix log4j vulnerability without changing to an updated version of log4j. My gradle project uses the application plugin to build a jar file. As part of the runtime transitive dependencies, I end up pulling in org.slf4j:slf4j-log4j12.\nI want to continue using the vulnerable version of log4j however remove the JMS appender file from the JAR to mitigate the issue.</p>\n<p>I can locate the file on my local machine and do this however I want a way that will work more seamlessly for others working on the code…\nHow can I do this?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643005602,"creation_date":1643005602,"answer_id":70829770,"question_id":70829643,"body_markdown":"Previously, I did not expect whether the position of the spring flags needed to be placed before the jar filename, but it seems to be like that. In the Windows Powershell, I need to wrap the whole flag and its attribute with the doublequotes (&quot;) as well, so it turns to be:\r\n\r\n```\r\njava -jar &quot;-Dspring.config.location=file:./app.properties&quot; .\\fatjarapp-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\nAnd it runs normally and successfully as before.\r\n","title":"How to load external configuration properties (DB Config) on Spring fat jar?","body":"<p>Previously, I did not expect whether the position of the spring flags needed to be placed before the jar filename, but it seems to be like that. In the Windows Powershell, I need to wrap the whole flag and its attribute with the doublequotes (&quot;) as well, so it turns to be:</p>\n<pre><code>java -jar &quot;-Dspring.config.location=file:./app.properties&quot; .\\fatjarapp-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>And it runs normally and successfully as before.</p>\n"}],"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643007934,"creation_date":1643004583,"question_id":70829643,"body_markdown":"I am creating a service that runs automatically once the jar runs built with Spring. When the database configurations are written in the default `application.properties`, it can run normally and successfully done its tasks.\r\n\r\nHowever, when I extract out the DB configs from there, and put them in `app.properties` which placed in the same folder as the fat jar, it returns this error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1210)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:368)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1119)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1014)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:956)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:747)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:686)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\r\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:139)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:561)\r\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n        ... 29 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1119)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1014)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1120)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1044)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:942)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)\r\n        ... 31 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n        ... 43 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:137)\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:117)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n        ... 44 common frames omitted\r\n```\r\n\r\nThis error pops when I execute the jar with the flag `-Dspring.config.location=file:./app.properties`, or when I put the `spring.config.location` and `spring.config.name` inside the default `application.properties`.\r\n\r\nI ran the command to run jar with this:\r\n```\r\njava -jar .\\fatjarapp-0.0.1-SNAPSHOT.jar -Dspring.config.location=file:./app.properties\r\n```\r\n\r\nHow can I execute this with DB config on external properties file while running spring fat jar??\r\n\r\n---------\r\n\r\n##### Edit\r\n\r\nI have been able to resolve the execution with the flag `-Dspring.config.location` or `--spring.config.location`, but I am still curious whether if I put the `spring.config.location` and its path inside the default `application.properties`, it would work or not.","title":"How to load external configuration properties (DB Config) on Spring fat jar?","body":"<p>I am creating a service that runs automatically once the jar runs built with Spring. When the database configurations are written in the default <code>application.properties</code>, it can run normally and successfully done its tasks.</p>\n<p>However, when I extract out the DB configs from there, and put them in <code>app.properties</code> which placed in the same folder as the fat jar, it returns this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1210)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:368)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1119)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1014)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:956)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:747)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:686)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:139)\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private javax.sql.DataSource org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.dataSource; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:561)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n        ... 29 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$NonEmbeddedConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1119)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1014)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1120)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1044)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:942)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)\n        ... 31 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n        ... 43 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:137)\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:117)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n        ... 44 common frames omitted\n</code></pre>\n<p>This error pops when I execute the jar with the flag <code>-Dspring.config.location=file:./app.properties</code>, or when I put the <code>spring.config.location</code> and <code>spring.config.name</code> inside the default <code>application.properties</code>.</p>\n<p>I ran the command to run jar with this:</p>\n<pre><code>java -jar .\\fatjarapp-0.0.1-SNAPSHOT.jar -Dspring.config.location=file:./app.properties\n</code></pre>\n<p>How can I execute this with DB config on external properties file while running spring fat jar??</p>\n<hr />\n<h5>Edit</h5>\n<p>I have been able to resolve the execution with the flag <code>-Dspring.config.location</code> or <code>--spring.config.location</code>, but I am still curious whether if I put the <code>spring.config.location</code> and its path inside the default <code>application.properties</code>, it would work or not.</p>\n"},{"tags":["java","input","io","console","output"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1643008048,"post_id":70830070,"comment_id":125216222,"body_markdown":"go to your project root directory and run `java com.input.IOConsoleDemo`. The package name is part of the class name","body":"go to your project root directory and run <code>java com.input.IOConsoleDemo</code>. The package name is part of the class name"},{"owner":{"account_id":17556979,"reputation":49,"user_id":12736224,"display_name":"HusenPatel"},"score":1,"creation_date":1643008353,"post_id":70830070,"comment_id":125216298,"body_markdown":"Yeah! it worked. Thank you very much!","body":"Yeah! it worked. Thank you very much!"}],"owner":{"account_id":17556979,"reputation":49,"user_id":12736224,"display_name":"HusenPatel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643007665,"creation_date":1643007665,"question_id":70830070,"body_markdown":"I can&#39;t run java programs in command line.\r\nThis is my screenshot:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/649yv.jpg\r\n\r\n`IOConsoleDemo.class` is in the same directory, I don&#39;t know why this error is occurring.","title":"Could not find or load main class error in command line","body":"<p>I can't run java programs in command line.\nThis is my screenshot:\n<a href=\"https://i.stack.imgur.com/649yv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/649yv.jpg\" alt=\"enter image description here\" /></a></p>\n<p><code>IOConsoleDemo.class</code> is in the same directory, I don't know why this error is occurring.</p>\n"},{"tags":["java","cron"],"comments":[{"owner":{"account_id":16576398,"reputation":131,"user_id":11978085,"display_name":"Gurkiran Kaur"},"score":0,"creation_date":1643009934,"post_id":70830050,"comment_id":125216701,"body_markdown":"Can you try with cron expression as */7  * * * *","body":"Can you try with cron expression as */7  * * * *"},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1643010539,"post_id":70830050,"comment_id":125216868,"body_markdown":"this expression is for seconds I am trying for minutes.","body":"this expression is for seconds I am trying for minutes."},{"owner":{"account_id":16576398,"reputation":131,"user_id":11978085,"display_name":"Gurkiran Kaur"},"score":0,"creation_date":1643013252,"post_id":70830050,"comment_id":125217713,"body_markdown":"From what i have observed is the expression is valid from the start of the hour only..that means it will run at multiples 7 minutes starting from 0 only so if we specify like 2022-01-17T15:37+05:30 it will run at next multiple of 7 ie at 2022-01-17T15:42 , for 2022-01-17T15:39 also..it will run at 2022-01-17T15:42.","body":"From what i have observed is the expression is valid from the start of the hour only..that means it will run at multiples 7 minutes starting from 0 only so if we specify like 2022-01-17T15:37+05:30 it will run at next multiple of 7 ie at 2022-01-17T15:42 , for 2022-01-17T15:39 also..it will run at 2022-01-17T15:42."},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1643097509,"post_id":70830050,"comment_id":125242738,"body_markdown":"Yes but it should generate new time with difference of 7 minutes not multiples of 7.","body":"Yes but it should generate new time with difference of 7 minutes not multiples of 7."}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643007476,"creation_date":1643007476,"question_id":70830050,"body_markdown":"I am trying to make custom scheduler in my application using a corn expression but it&#39;s seems like corn expression is not calculating proper time for next execution, help me to solve this issue to get correct time.\r\n\r\nBelow is my code:\r\n\r\n    ZonedDateTime now = ZonedDateTime.parse(&quot;2022-01-17T15:57+05:30[Asia/Calcutta]&quot;);\r\n\t\t\t\r\n\t\t\tExecutionTime executionTime = ExecutionTime.forCron(parser.parse(&quot;0 0/7 * * * ?&quot;));\r\n\r\n\t\t\tDuration nextRunDate = executionTime.timeToNextExecution(now).get();\r\n\r\n\t        ZonedDateTime instant = now.plus(nextRunDate);\r\n\t        // Create Date instance out of Instant\r\n\t        Date dateToRun = Date.from(instant.toInstant());\r\n\t        System.out.println(nextRunDate.toString());\r\n\t        System.out.println(dateToRun);\r\n\r\nand output which is I am getting for this is as below:\r\n\r\n    PT3M\r\n    Mon Jan 17 16:00:00 IST 2022\r\nNow this is wrong as it is giving duration of 3 minutes but in expression I am want it to run at every 7 minutes so output should be as below:\r\n\r\n    PT7M\r\n    Mon Jan 17 16:04:00 IST 2022\r\n\r\nbut if I set time as below:\r\n\r\n    ZonedDateTime now = ZonedDateTime.parse(&quot;2022-01-17T15:14+05:30[Asia/Calcutta]&quot;);\r\nit is giving proper output:\r\n\r\n    PT7M\r\n    Mon Jan 17 15:21:00 IST 2022\r\nPlease someone help how can we resolve this issue? what is wrong am I doing here?\r\n\r\n\r\n\r\n ","title":"Cron Expression with ExecutionTime not giving proper output","body":"<p>I am trying to make custom scheduler in my application using a corn expression but it's seems like corn expression is not calculating proper time for next execution, help me to solve this issue to get correct time.</p>\n<p>Below is my code:</p>\n<pre><code>ZonedDateTime now = ZonedDateTime.parse(&quot;2022-01-17T15:57+05:30[Asia/Calcutta]&quot;);\n        \n        ExecutionTime executionTime = ExecutionTime.forCron(parser.parse(&quot;0 0/7 * * * ?&quot;));\n\n        Duration nextRunDate = executionTime.timeToNextExecution(now).get();\n\n        ZonedDateTime instant = now.plus(nextRunDate);\n        // Create Date instance out of Instant\n        Date dateToRun = Date.from(instant.toInstant());\n        System.out.println(nextRunDate.toString());\n        System.out.println(dateToRun);\n</code></pre>\n<p>and output which is I am getting for this is as below:</p>\n<pre><code>PT3M\nMon Jan 17 16:00:00 IST 2022\n</code></pre>\n<p>Now this is wrong as it is giving duration of 3 minutes but in expression I am want it to run at every 7 minutes so output should be as below:</p>\n<pre><code>PT7M\nMon Jan 17 16:04:00 IST 2022\n</code></pre>\n<p>but if I set time as below:</p>\n<pre><code>ZonedDateTime now = ZonedDateTime.parse(&quot;2022-01-17T15:14+05:30[Asia/Calcutta]&quot;);\n</code></pre>\n<p>it is giving proper output:</p>\n<pre><code>PT7M\nMon Jan 17 15:21:00 IST 2022\n</code></pre>\n<p>Please someone help how can we resolve this issue? what is wrong am I doing here?</p>\n"},{"tags":["java","arrays","string","list","character"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1643008169,"post_id":70830047,"comment_id":125216248,"body_markdown":"They&#39;re not used interchangeably? (I&#39;d use an ArrayDeque instead of an ArrayList in that function, fwiw)","body":"They&#39;re not used interchangeably? (I&#39;d use an ArrayDeque instead of an ArrayList in that function, fwiw)"},{"owner":{"account_id":17245435,"reputation":43,"user_id":12486838,"display_name":"eh1412"},"score":0,"creation_date":1643010199,"post_id":70830047,"comment_id":125216773,"body_markdown":"It looks like they could be used interchangeably because couldn&#39;t `letters` be of type `List&lt;Character&gt;` and `path` be of type `char[]` ?","body":"It looks like they could be used interchangeably because couldn&#39;t <code>letters</code> be of type <code>List&lt;Character&gt;</code> and <code>path</code> be of type <code>char[]</code> ?"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":1,"creation_date":1643014518,"post_id":70830047,"comment_id":125218127,"body_markdown":"`path` grows and shrinks so an array isn&#39;t the best choice. You&#39;d have to do a lot of work that `ArrayList` does for you. Possible, but a pain.","body":"<code>path</code> grows and shrinks so an array isn&#39;t the best choice. You&#39;d have to do a lot of work that <code>ArrayList</code> does for you. Possible, but a pain."}],"owner":{"account_id":17245435,"reputation":43,"user_id":12486838,"display_name":"eh1412"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643007467,"creation_date":1643007467,"question_id":70830047,"body_markdown":"This function shows it can access `char[]` elements and add it to a `List&lt;Character&gt;` . Is this a convention in Java? \r\n\r\nBefore looking at this function, I would access from `char[]` and add it back into the resulting `char[]`. Why is `char[]` and `List&lt;Character&gt;` used interchangebly?\r\n\r\n     private static void dfs(List&lt;Character&gt; path, boolean[] used, List&lt;String&gt; res, char[] letters) {\r\n            if (path.size() == used.length) {\r\n                res.add(path.stream()\r\n                        .map(e -&gt; e.toString())\r\n                        .collect(Collectors.joining()));\r\n                return;\r\n            }\r\n            for (int i = 0; i &lt; used.length; i++) {\r\n                // skip used letters\r\n                if (used[i])\r\n                    continue;\r\n                // add letter to permutation, mark letter as used\r\n                path.add(letters[i]);\r\n                used[i] = true;\r\n                dfs(path, used, res, letters);\r\n                // remove letter from permutation, mark letter as unused\r\n                path.remove(path.size() - 1);\r\n                used[i] = false;\r\n            }\r\n        }","title":"Accessing characters from char[] and adding to List&lt;Character&gt;","body":"<p>This function shows it can access <code>char[]</code> elements and add it to a <code>List&lt;Character&gt;</code> . Is this a convention in Java?</p>\n<p>Before looking at this function, I would access from <code>char[]</code> and add it back into the resulting <code>char[]</code>. Why is <code>char[]</code> and <code>List&lt;Character&gt;</code> used interchangebly?</p>\n<pre><code> private static void dfs(List&lt;Character&gt; path, boolean[] used, List&lt;String&gt; res, char[] letters) {\n        if (path.size() == used.length) {\n            res.add(path.stream()\n                    .map(e -&gt; e.toString())\n                    .collect(Collectors.joining()));\n            return;\n        }\n        for (int i = 0; i &lt; used.length; i++) {\n            // skip used letters\n            if (used[i])\n                continue;\n            // add letter to permutation, mark letter as used\n            path.add(letters[i]);\n            used[i] = true;\n            dfs(path, used, res, letters);\n            // remove letter from permutation, mark letter as unused\n            path.remove(path.size() - 1);\n            used[i] = false;\n        }\n    }\n</code></pre>\n"},{"tags":["java","assertj"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1642953251,"post_id":70823709,"comment_id":125205350,"body_markdown":"`assertThat(myMap).noneSatisfy((s, bestClass) -&gt; assertThat(bestClass.b).isEqualTo(0));` see if this is clean to you.","body":"<code>assertThat(myMap).noneSatisfy((s, bestClass) -&gt; assertThat(bestClass.b).isEqualTo(0));</code> see if this is clean to you."}],"answers":[{"tags":[],"owner":{"account_id":21739251,"reputation":179,"user_id":16046846,"display_name":"Konstantinos K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642952451,"creation_date":1642952451,"answer_id":70823745,"question_id":70823709,"body_markdown":"Something like that?\r\n\r\n    assertThat(list)\r\n        .extracting(&quot;BestClass&quot;)\r\n        .contains(entry(&quot;foo1&quot;, &quot;bar1&quot;), entry(&quot;foo2&quot;, &quot;bar2&quot;));","title":"How to assert on a map value object member?","body":"<p>Something like that?</p>\n<pre><code>assertThat(list)\n    .extracting(&quot;BestClass&quot;)\n    .contains(entry(&quot;foo1&quot;, &quot;bar1&quot;), entry(&quot;foo2&quot;, &quot;bar2&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643006866,"creation_date":1642953454,"answer_id":70823907,"question_id":70823709,"body_markdown":"I found a way.\r\nIf you have any better - please suggest.\r\n\r\n assertThat(myMap.values()).extracting(BestClass::getB).doesNotContain(0);","title":"How to assert on a map value object member?","body":"<p>I found a way.\nIf you have any better - please suggest.</p>\n<p>assertThat(myMap.values()).extracting(BestClass::getB).doesNotContain(0);</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643006866,"creation_date":1642952187,"question_id":70823709,"body_markdown":"Given are a map like this:\r\n\r\n    Map&lt;String, BestClass&gt; myMap = new HashMap&lt;&gt;();\r\n\r\nand a class BestClass like this:\r\n\r\n    class BestClass{\r\n        int a;\r\n        int b;\r\n    }\r\n\r\nNow, this map is being populated during the program process.\r\n\r\nIs there a clean way, **not including looping over the map keys**, to assert that, for example, none of the **b values** of the map object values are 0?\r\n","title":"How to assert on a map value object member?","body":"<p>Given are a map like this:</p>\n<pre><code>Map&lt;String, BestClass&gt; myMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>and a class BestClass like this:</p>\n<pre><code>class BestClass{\n    int a;\n    int b;\n}\n</code></pre>\n<p>Now, this map is being populated during the program process.</p>\n<p>Is there a clean way, <strong>not including looping over the map keys</strong>, to assert that, for example, none of the <strong>b values</strong> of the map object values are 0?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643005288,"post_id":70829687,"comment_id":125215613,"body_markdown":"What is `groupedData`?","body":"What is <code>groupedData</code>?"},{"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"score":0,"creation_date":1643006992,"post_id":70829687,"comment_id":125215952,"body_markdown":"Comparator.reverseOrder is probably what you need. See my answer below.","body":"Comparator.reverseOrder is probably what you need. See my answer below."}],"answers":[{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643006585,"creation_date":1643005225,"answer_id":70829722,"question_id":70829687,"body_markdown":"You can use the [`Comparator.reverseOrder()`][1] as an argument to the `.sorted()` method to specify the comparison to be used while sorting the stream.\n\nAs the name suggests, [`Comparator.reverseOrder()`][1]\nis a [`Comparator`][2] that returns `Integer` results in  descending order.\n\n    List&lt;Integer&gt; sortedKey = groupedData.keySet().stream()\n    .sorted(Comparator.reverseOrder())\n    .collect(Collectors.toList());\n\n\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#reverseOrder()\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html","title":"How do i sort keys in reverse order in java List&lt;Integer&gt;","body":"<p>You can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#reverseOrder()\" rel=\"nofollow noreferrer\"><code>Comparator.reverseOrder()</code></a> as an argument to the <code>.sorted()</code> method to specify the comparison to be used while sorting the stream.</p>\n<p>As the name suggests, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#reverseOrder()\" rel=\"nofollow noreferrer\"><code>Comparator.reverseOrder()</code></a>\nis a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> that returns <code>Integer</code> results in  descending order.</p>\n<pre><code>List&lt;Integer&gt; sortedKey = groupedData.keySet().stream()\n.sorted(Comparator.reverseOrder())\n.collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643006464,"creation_date":1643005714,"answer_id":70829783,"question_id":70829687,"body_markdown":"# `Comparator.reverseOrder`\r\n\r\nThe following might work, though I’ve not tested. Pass a `Comparator` to the `Stream#sorted` method. The comparator returned by a call to [`Comparator.reverseOrder`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#reverseOrder()) imposes the reverse of the natural ordering.\r\n\r\n    List&lt;Integer&gt; sortedKey = \r\n        groupedData\r\n        .keySet()\r\n        .stream()\r\n        .sorted( Comparator.reverseOrder() )\r\n        .toList()  \r\n    ;\r\n\r\nBefore Java 16, make that last call `.collect( Collectors.toList()`. )","title":"How do i sort keys in reverse order in java List&lt;Integer&gt;","body":"<h1><code>Comparator.reverseOrder</code></h1>\n<p>The following might work, though I’ve not tested. Pass a <code>Comparator</code> to the <code>Stream#sorted</code> method. The comparator returned by a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#reverseOrder()\" rel=\"nofollow noreferrer\"><code>Comparator.reverseOrder</code></a> imposes the reverse of the natural ordering.</p>\n<pre><code>List&lt;Integer&gt; sortedKey = \n    groupedData\n    .keySet()\n    .stream()\n    .sorted( Comparator.reverseOrder() )\n    .toList()  \n;\n</code></pre>\n<p>Before Java 16, make that last call <code>.collect( Collectors.toList()</code>. )</p>\n"}],"owner":{"account_id":23954419,"reputation":23,"user_id":17945507,"display_name":"Nick Fury"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1643006745,"accepted_answer_id":70829722,"answer_count":2,"score":1,"last_activity_date":1643006585,"creation_date":1643004994,"question_id":70829687,"body_markdown":"I get keys in ascending order when I am executing this code\r\n\r\n    List&lt;Integer&gt; sortedKey = groupedData.keySet().stream().sorted().collect(Collectors.toList());\r\n\r\nHow do I get them in descending order?","title":"How do i sort keys in reverse order in java List&lt;Integer&gt;","body":"<p>I get keys in ascending order when I am executing this code</p>\n<pre><code>List&lt;Integer&gt; sortedKey = groupedData.keySet().stream().sorted().collect(Collectors.toList());\n</code></pre>\n<p>How do I get them in descending order?</p>\n"},{"tags":["java","spring-boot","azure"],"comments":[{"owner":{"account_id":19970181,"reputation":186,"user_id":14635852,"display_name":"Josh Van de Walle"},"score":0,"creation_date":1642721268,"post_id":70793819,"comment_id":125154421,"body_markdown":"Just in case you haven&#39;t already I must give the classic IT advice of restart the app.","body":"Just in case you haven&#39;t already I must give the classic IT advice of restart the app."}],"answers":[{"tags":[],"owner":{"account_id":21649083,"reputation":7694,"user_id":15969981,"display_name":"SwethaKandikonda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643006507,"creation_date":1643006507,"answer_id":70829899,"question_id":70793819,"body_markdown":"Before trying anything try restarting the app as @Josh Van de Walle mentioned if that does&#39;t work then here are few workarounds that you can try :-\r\n\r\nThere is a feature in Azure Website called Azure Auto Healing. Application issues such as clusters of bad status codes, slow requests or excess memory consumption we can use AutoHeal which ties a trigger to an action to automate .\r\n\r\nHere is an example you can take a look at:-\r\n```\r\n&lt;system.webServer&gt;\r\n    &lt;monitoring&gt;\r\n        &lt;triggers&gt;\r\n        \r\n\t\t\t&lt;!-- Triggers when you have &quot;count&quot; responses matching the configured status within &quot;timeInterval&quot; amount of time --&gt;\r\n\t\t\t&lt;statusCode&gt;\r\n                &lt;add statusCode=&quot;500&quot; subStatusCode=&quot;100&quot; win32StatusCode=&quot;0&quot; count=&quot;10&quot; timeInterval=&quot;00:00:30&quot;/&gt;\r\n            &lt;/statusCode&gt;\r\n            \r\n            &lt;!-- Triggers when you have &quot;count&quot; number of requests within &quot;timeInterval&quot; amount of time --&gt;\r\n            &lt;requests count=&quot;1000&quot; timeInterval=&quot;00:10:00&quot;/&gt;\r\n\r\n            &lt;!-- Triggers when you have &quot;count&quot; number of requests that take &quot;timeTaken&quot; within &quot;timeInterval&quot; amount of time --&gt;\r\n            &lt;slowRequests timeTaken=&quot;00:00:45&quot; count=&quot;20&quot; timeInterval=&quot;00:02:00&quot; /&gt;\r\n\r\n            &lt;!-- Triggers when your worker process reaches &quot;privateBytesInKB&quot; kilobytes of private set --&gt;\r\n            &lt;memory privateBytesInKB=&quot;800000&quot;/&gt;    \r\n                    \r\n        &lt;/triggers&gt;\r\n\r\n        &lt;!-- Performs an overlapping recycle of the worker process when a trigger fires --&gt;\r\n        &lt;actions value=&quot;Recycle&quot;/&gt;\r\n    &lt;/monitoring&gt;\r\n&lt;/system.webServer&gt;\r\n```\r\n\r\nAnother workaround that you can try checking the logs from your Kudu Console by navigating to `D:\\home\\LogFiles\\` from `https://&lt;your webapp name&gt;.scm.azurewebsites.net/DebugConsole` to make sure what the reason is and work accordingly. \r\n\r\nAlso make sure you are adding `WEBSITE_LOAD_USER_PROFILE` setting in your app service:\r\n```\r\nWEBSITE_LOAD_USER_PROFILE = 1\r\n```\r\n\r\n**REFERENCES:**\r\n1. [Configure Azure Auto-Healing for your Azure Web Sites](https://www.stevefenton.co.uk/2017/10/configure-azure-auto-healing-azure-web-sites/#:~:text=%20Configure%20Azure%20Auto-Healing%20for%20your%20Azure%20Web,from%20unexpected%20behavior.%20You%20set%20a...%20More%20)\r\n2. [Use a TLS/SSL certificate in code](https://learn.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code)\r\n","title":"Azure WebApp throws 502 page error when trying to access over xyz.azurewebsites.net","body":"<p>Before trying anything try restarting the app as @Josh Van de Walle mentioned if that does't work then here are few workarounds that you can try :-</p>\n<p>There is a feature in Azure Website called Azure Auto Healing. Application issues such as clusters of bad status codes, slow requests or excess memory consumption we can use AutoHeal which ties a trigger to an action to automate .</p>\n<p>Here is an example you can take a look at:-</p>\n<pre><code>&lt;system.webServer&gt;\n    &lt;monitoring&gt;\n        &lt;triggers&gt;\n        \n            &lt;!-- Triggers when you have &quot;count&quot; responses matching the configured status within &quot;timeInterval&quot; amount of time --&gt;\n            &lt;statusCode&gt;\n                &lt;add statusCode=&quot;500&quot; subStatusCode=&quot;100&quot; win32StatusCode=&quot;0&quot; count=&quot;10&quot; timeInterval=&quot;00:00:30&quot;/&gt;\n            &lt;/statusCode&gt;\n            \n            &lt;!-- Triggers when you have &quot;count&quot; number of requests within &quot;timeInterval&quot; amount of time --&gt;\n            &lt;requests count=&quot;1000&quot; timeInterval=&quot;00:10:00&quot;/&gt;\n\n            &lt;!-- Triggers when you have &quot;count&quot; number of requests that take &quot;timeTaken&quot; within &quot;timeInterval&quot; amount of time --&gt;\n            &lt;slowRequests timeTaken=&quot;00:00:45&quot; count=&quot;20&quot; timeInterval=&quot;00:02:00&quot; /&gt;\n\n            &lt;!-- Triggers when your worker process reaches &quot;privateBytesInKB&quot; kilobytes of private set --&gt;\n            &lt;memory privateBytesInKB=&quot;800000&quot;/&gt;    \n                    \n        &lt;/triggers&gt;\n\n        &lt;!-- Performs an overlapping recycle of the worker process when a trigger fires --&gt;\n        &lt;actions value=&quot;Recycle&quot;/&gt;\n    &lt;/monitoring&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n<p>Another workaround that you can try checking the logs from your Kudu Console by navigating to <code>D:\\home\\LogFiles\\</code> from <code>https://&lt;your webapp name&gt;.scm.azurewebsites.net/DebugConsole</code> to make sure what the reason is and work accordingly.</p>\n<p>Also make sure you are adding <code>WEBSITE_LOAD_USER_PROFILE</code> setting in your app service:</p>\n<pre><code>WEBSITE_LOAD_USER_PROFILE = 1\n</code></pre>\n<p><strong>REFERENCES:</strong></p>\n<ol>\n<li><a href=\"https://www.stevefenton.co.uk/2017/10/configure-azure-auto-healing-azure-web-sites/#:%7E:text=%20Configure%20Azure%20Auto-Healing%20for%20your%20Azure%20Web,from%20unexpected%20behavior.%20You%20set%20a...%20More%20\" rel=\"nofollow noreferrer\">Configure Azure Auto-Healing for your Azure Web Sites</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code\" rel=\"nofollow noreferrer\">Use a TLS/SSL certificate in code</a></li>\n</ol>\n"}],"owner":{"account_id":24001020,"reputation":1,"user_id":17985933,"display_name":"J W"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643006507,"creation_date":1642715155,"question_id":70793819,"body_markdown":"I am currently building a backend for a website. I use Java/Spring boot to build my backend and I am trying to host it on Azure. I connected my main Branch from GitHub, so every time we merged into main, the changes were live. I hosted it for several weeks without any problems. All of a sudden the application stopped working and we couldn&#39;t reach it (Although Azure says it is up and running). If I try to reach my backend, it takes forever to load and eventually I&#39;ll either get an 502 Http Error or &quot;The specified CGI application encountered an error and the server terminated the process.&quot;. I checked, the problem is not that we maxed out our subscription/service-plan.\r\nI started the application locally, which worked fine. That led me to the conclusion, that the problem must be Azure, but there are no Errors shown whatsoever. I have no idea how to fix the problem and I didn&#39;t find any solutions anywhere.\r\nMaybe you can help me. Thanks in advance \r\n\r\nJulius","title":"Azure WebApp throws 502 page error when trying to access over xyz.azurewebsites.net","body":"<p>I am currently building a backend for a website. I use Java/Spring boot to build my backend and I am trying to host it on Azure. I connected my main Branch from GitHub, so every time we merged into main, the changes were live. I hosted it for several weeks without any problems. All of a sudden the application stopped working and we couldn't reach it (Although Azure says it is up and running). If I try to reach my backend, it takes forever to load and eventually I'll either get an 502 Http Error or &quot;The specified CGI application encountered an error and the server terminated the process.&quot;. I checked, the problem is not that we maxed out our subscription/service-plan.\nI started the application locally, which worked fine. That led me to the conclusion, that the problem must be Azure, but there are no Errors shown whatsoever. I have no idea how to fix the problem and I didn't find any solutions anywhere.\nMaybe you can help me. Thanks in advance</p>\n<p>Julius</p>\n"},{"tags":["java","android"],"owner":{"account_id":24034276,"reputation":11,"user_id":18014734,"display_name":"Jabulani Nathaniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643006486,"creation_date":1643006486,"question_id":70829893,"body_markdown":"How can i delete data from cloud firestore , the database does not have document id\r\n\r\npublic class JournalRecyclerAdapter extends RecyclerView.Adapter&lt;JournalRecyclerAdapter.ViewHolder&gt; {\r\n    private Context context;\r\n    private List&lt;Journal&gt; journalList;\r\n\r\n    //\r\n    FirebaseFirestore firestore;\r\n    FirebaseAuth auth;\r\n\r\n    // constructor\r\n    public JournalRecyclerAdapter(Context context, List&lt;Journal&gt; journalList) {\r\n        this.context = context;\r\n        this.journalList = journalList;\r\n\r\n        //\r\n        firestore = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public JournalRecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n        View view = LayoutInflater.from(context)\r\n                .inflate(R.layout.journal_row, viewGroup, false);\r\n\r\n        return new ViewHolder(view, context);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull JournalRecyclerAdapter.ViewHolder viewHolder, int position) {\r\n\r\n        Journal journal = journalList.get(position);\r\n        String imageUrl;\r\n\r\n        viewHolder.title.setText(journal.getTitle());\r\n        viewHolder.description.setText(journal.getDescription());\r\n        //viewHolder.name.setText(journal.getUserName());\r\n        imageUrl = journal.getImageUrl();\r\n\r\n        //timestamp format 13 minutes ago..\r\n        String timeAgo = (String) DateUtils.getRelativeTimeSpanString(journal\r\n                .getTimeAdded()\r\n                .getSeconds() * 1000);\r\n        viewHolder.dateAdded.setText(timeAgo);\r\n\r\n\r\n        /*\r\n         Picasso library to download and show image\r\n         */\r\n        Picasso.get()\r\n                .load(imageUrl)\r\n                .placeholder(R.drawable.cat)\r\n                .fit()\r\n                .into(viewHolder.image);\r\n\r\n    }\r\n\r\n    // count the journal list\r\n    @Override\r\n    public int getItemCount() {\r\n        return journalList.size();\r\n    }\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView title, description, dateAdded, name;\r\n        public ImageView image;\r\n        public ImageButton shareButton, deleteButton, editButton;\r\n        public FirebaseFirestore db;\r\n        String userId;\r\n        String username;\r\n\r\n\r\n        public ViewHolder(@NonNull View itemView, Context ctx) {\r\n            super(itemView);\r\n            context = ctx;\r\n\r\n            title = itemView.findViewById(R.id.textView_journal_row_title);\r\n            description = itemView.findViewById(R.id.textView_journal_row_decription);\r\n            dateAdded = itemView.findViewById(R.id.textView_journal_row_date_added);\r\n            image = itemView.findViewById(R.id.imageView_journal_row_image);\r\n            //name = itemView.findViewById(R.id.textView_add_current_username);\r\n            db = FirebaseFirestore.getInstance();\r\n            auth = FirebaseAuth.getInstance();\r\n\r\n\r\n            // delete Content\r\n            deleteButton = itemView.findViewById(R.id.imageButton_journal_delete);\r\n            deleteButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // delete\r\n                    db.collection(&quot;Journal&quot;).document(auth.getCurrentUser().getUid())\r\n                            .delete()\r\n                            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Void aVoid) {\r\n\r\n                                }\r\n                            })\r\n                            .addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n\r\n                                }\r\n                            });\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nHow can i delete data from cloud firestore , the database does not have document id","title":"How can i delete data from cloud firestore , the database does not have document id","body":"<p>How can i delete data from cloud firestore , the database does not have document id</p>\n<p>public class JournalRecyclerAdapter extends RecyclerView.Adapter&lt;JournalRecyclerAdapter.ViewHolder&gt; {\nprivate Context context;\nprivate List journalList;</p>\n<pre><code>//\nFirebaseFirestore firestore;\nFirebaseAuth auth;\n\n// constructor\npublic JournalRecyclerAdapter(Context context, List&lt;Journal&gt; journalList) {\n    this.context = context;\n    this.journalList = journalList;\n\n    //\n    firestore = FirebaseFirestore.getInstance();\n}\n\n@NonNull\n@Override\npublic JournalRecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\n    View view = LayoutInflater.from(context)\n            .inflate(R.layout.journal_row, viewGroup, false);\n\n    return new ViewHolder(view, context);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull JournalRecyclerAdapter.ViewHolder viewHolder, int position) {\n\n    Journal journal = journalList.get(position);\n    String imageUrl;\n\n    viewHolder.title.setText(journal.getTitle());\n    viewHolder.description.setText(journal.getDescription());\n    //viewHolder.name.setText(journal.getUserName());\n    imageUrl = journal.getImageUrl();\n\n    //timestamp format 13 minutes ago..\n    String timeAgo = (String) DateUtils.getRelativeTimeSpanString(journal\n            .getTimeAdded()\n            .getSeconds() * 1000);\n    viewHolder.dateAdded.setText(timeAgo);\n\n\n    /*\n     Picasso library to download and show image\n     */\n    Picasso.get()\n            .load(imageUrl)\n            .placeholder(R.drawable.cat)\n            .fit()\n            .into(viewHolder.image);\n\n}\n\n// count the journal list\n@Override\npublic int getItemCount() {\n    return journalList.size();\n}\n\n\npublic class ViewHolder extends RecyclerView.ViewHolder {\n    public TextView title, description, dateAdded, name;\n    public ImageView image;\n    public ImageButton shareButton, deleteButton, editButton;\n    public FirebaseFirestore db;\n    String userId;\n    String username;\n\n\n    public ViewHolder(@NonNull View itemView, Context ctx) {\n        super(itemView);\n        context = ctx;\n\n        title = itemView.findViewById(R.id.textView_journal_row_title);\n        description = itemView.findViewById(R.id.textView_journal_row_decription);\n        dateAdded = itemView.findViewById(R.id.textView_journal_row_date_added);\n        image = itemView.findViewById(R.id.imageView_journal_row_image);\n        //name = itemView.findViewById(R.id.textView_add_current_username);\n        db = FirebaseFirestore.getInstance();\n        auth = FirebaseAuth.getInstance();\n\n\n        // delete Content\n        deleteButton = itemView.findViewById(R.id.imageButton_journal_delete);\n        deleteButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // delete\n                db.collection(&quot;Journal&quot;).document(auth.getCurrentUser().getUid())\n                        .delete()\n                        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void aVoid) {\n\n                            }\n                        })\n                        .addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n\n                            }\n                        });\n\n            }\n        });\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>How can i delete data from cloud firestore , the database does not have document id</p>\n"},{"tags":["java","jvm","heap-size"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1643006530,"post_id":70829865,"comment_id":125215848,"body_markdown":"The start cmd file is your best option.  It achieves what you require in a simple fashion, and does it with zero risk of breaking other applications.   IMO, it is preferable that this be customer visible so that they can tweak it if they want / need to.  (After all, your code is running on their hardware ...)","body":"The start cmd file is your best option.  It achieves what you require in a simple fashion, and does it with zero risk of breaking other applications.   IMO, it is preferable that this be customer visible so that they can tweak it if they want / need to.  (After all, your code is running on their hardware ...)"}],"owner":{"account_id":4431651,"reputation":559,"user_id":3608678,"display_name":"HarleyDavidson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643006292,"creation_date":1643006292,"question_id":70829865,"body_markdown":"I have a java application for our customer, delivered as a single jar file.\r\nA new feature ends in an OutOfMemoryException - the detected problem is the Heap Size, which is set to low.\r\n\r\nThe customer don&#39;t want to set the option Xmx by _JAVA_OPTIONS, because it would &quot;affect other java applications on the system&quot;, so I have to find another solution for this.\r\n\r\nIs there a (ideally for the customer invisible) possibility to set this option beside using a start cmd file with &quot;java -Xmx2G -jar (...).jar&quot; ?","title":"Set heap size for customer java application","body":"<p>I have a java application for our customer, delivered as a single jar file.\nA new feature ends in an OutOfMemoryException - the detected problem is the Heap Size, which is set to low.</p>\n<p>The customer don't want to set the option Xmx by _JAVA_OPTIONS, because it would &quot;affect other java applications on the system&quot;, so I have to find another solution for this.</p>\n<p>Is there a (ideally for the customer invisible) possibility to set this option beside using a start cmd file with &quot;java -Xmx2G -jar (...).jar&quot; ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1642993944,"post_id":70828485,"comment_id":125213815,"body_markdown":"Well, to be completely honest, there&#39;s a lot of things that look wrong in your code.  I would start with some simpler tutorials and work your way up to a point where you&#39;re comfortable using the Javadocs.  I&#39;m not saying that to be mean, I just think you&#39;re setting yourself up to get frustrated if you don&#39;t yet know how to dig through the Javadocs yourself.  First issue is, you don&#39;t run programs with `Robot`.  That&#39;s not what it&#39;s for, and in your code, you don&#39;t actually even use the instance of `Robot` that you created, so you could actually just get rid of it.","body":"Well, to be completely honest, there&#39;s a lot of things that look wrong in your code.  I would start with some simpler tutorials and work your way up to a point where you&#39;re comfortable using the Javadocs.  I&#39;m not saying that to be mean, I just think you&#39;re setting yourself up to get frustrated if you don&#39;t yet know how to dig through the Javadocs yourself.  First issue is, you don&#39;t run programs with <code>Robot</code>.  That&#39;s not what it&#39;s for, and in your code, you don&#39;t actually even use the instance of <code>Robot</code> that you created, so you could actually just get rid of it."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1642993948,"post_id":70828485,"comment_id":125213817,"body_markdown":"You also use the command `msedge.exe`, which only works if msedge.exe is on your PATH environment variable.  If not, you have to give the full path to the program, which is typically `&quot;%ProgramFiles(x86)%\\Microsoft\\Edge\\Application\\msedge.exe&quot;`.","body":"You also use the command <code>msedge.exe</code>, which only works if msedge.exe is on your PATH environment variable.  If not, you have to give the full path to the program, which is typically <code>&quot;%ProgramFiles(x86)%\\Microsoft\\Edge\\Application\\msedge.exe&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":10912397,"reputation":61,"user_id":8021357,"display_name":"Stefanos Karakasis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642993940,"creation_date":1642993940,"answer_id":70828622,"question_id":70828485,"body_markdown":"You need to run it with cmd.\r\nSo it would be:\r\n```\r\n//runtime to open Microsoft Edge\r\nRuntime runtime = Runtime.getRuntime();\r\nString command = &quot;cmd.exe /C start microsoft-edge:http://www.google.com&quot;;\r\nruntime.exec(command);\r\n```","title":"How can i open Microsoft Edge using Robot in Java?","body":"<p>You need to run it with cmd.\nSo it would be:</p>\n<pre><code>//runtime to open Microsoft Edge\nRuntime runtime = Runtime.getRuntime();\nString command = &quot;cmd.exe /C start microsoft-edge:http://www.google.com&quot;;\nruntime.exec(command);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643005902,"creation_date":1643005902,"answer_id":70829811,"question_id":70828485,"body_markdown":"You have several options, including using class `java.lang.Runtime`, but I would say that is the least recommended.\r\n\r\nAs @CharlieArmstrong mentioned in his [comment][1], you need to execute file `msedge.exe`. If the folder containing that file is **not** in the PATH environment variable, you need to supply the full path to the file. You can use class [java.lang.ProcessBuilder][2] to execute the file.\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Paths.get(&quot;C:&quot;,\r\n                              &quot;Program Files (x86)&quot;,\r\n                              &quot;Microsoft&quot;,\r\n                              &quot;Edge&quot;,\r\n                              &quot;Application&quot;,\r\n                              &quot;msedge.exe&quot;);\r\n        ProcessBuilder pb = new ProcessBuilder(path.toString());\r\n        try {\r\n            pb.start();\r\n        }\r\n        catch (IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThe above code will open Edge at its home page. If you want to open a particular Web page, just add the URL.\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Paths.get(&quot;C:&quot;,\r\n                              &quot;Program Files (x86)&quot;,\r\n                              &quot;Microsoft&quot;,\r\n                              &quot;Edge&quot;,\r\n                              &quot;Application&quot;,\r\n                              &quot;msedge.exe&quot;);\r\n        ProcessBuilder pb = new ProcessBuilder(path.toString(), &quot;http://www.facebook.com&quot;);\r\n        try {\r\n            pb.start();\r\n        }\r\n        catch (IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n\r\nAlternatively, you can use class [java.awt.Desktop][3]. If you just want to launch Edge, use method `open`. Again, if Edge is not on your PATH then you need to supply the full path.\r\n```java\r\nimport java.awt.Desktop;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\npublic class DesktopT {\r\n\r\n    public static void main(String[] args) {\r\n        if (Desktop.isDesktopSupported()) {\r\n            Path path = Paths.get(&quot;C:&quot;,\r\n                                  &quot;Program Files (x86)&quot;,\r\n                                  &quot;Microsoft&quot;,\r\n                                  &quot;Edge&quot;,\r\n                                  &quot;Application&quot;,\r\n                                  &quot;msedge.exe&quot;);\r\n            File f = path.toFile();\r\n            try {\r\n                Desktop desktop = Desktop.getDesktop();\r\n                desktop.open(f);\r\n            }\r\n            catch (IOException x) {\r\n                x.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nIf you want to open a particular Web page then use method `browse`.  \r\n(Note that method `browse` will use your default Web browser which may not necessarily be Edge.)\r\n\r\n    public static void main(String[] args) {\r\n        if (Desktop.isDesktopSupported()) {\r\n            try {\r\n                URI uri = new URI(&quot;https://www.yahoo.com&quot;);\r\n                Desktop desktop = Desktop.getDesktop();\r\n                desktop.browse(uri);\r\n            }\r\n            catch (URISyntaxException | IOException x) {\r\n                x.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nNote that all the above code was run with JDK 17.0.2 on Windows 10. When run, the Java code launched Edge and terminated. However, class `Desktop` also launches the [Event Dispatch Thread][4] (EDT) which may not terminate, if you are using an earlier JDK version. If that is the case then you can add the following as the last line in method `main`.\r\n```java\r\njava.lang.System.exit(0);\r\n```\r\nThis line will terminate the JVM.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70828485/how-can-i-open-microsoft-edge-using-robot-in-java#comment125213817_70828485\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html","title":"How can i open Microsoft Edge using Robot in Java?","body":"<p>You have several options, including using class <code>java.lang.Runtime</code>, but I would say that is the least recommended.</p>\n<p>As @CharlieArmstrong mentioned in his <a href=\"https://stackoverflow.com/questions/70828485/how-can-i-open-microsoft-edge-using-robot-in-java#comment125213817_70828485\">comment</a>, you need to execute file <code>msedge.exe</code>. If the folder containing that file is <strong>not</strong> in the PATH environment variable, you need to supply the full path to the file. You can use class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">java.lang.ProcessBuilder</a> to execute the file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Path path = Paths.get(&quot;C:&quot;,\n                              &quot;Program Files (x86)&quot;,\n                              &quot;Microsoft&quot;,\n                              &quot;Edge&quot;,\n                              &quot;Application&quot;,\n                              &quot;msedge.exe&quot;);\n        ProcessBuilder pb = new ProcessBuilder(path.toString());\n        try {\n            pb.start();\n        }\n        catch (IOException x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The above code will open Edge at its home page. If you want to open a particular Web page, just add the URL.</p>\n<pre><code>public static void main(String[] args) {\n    Path path = Paths.get(&quot;C:&quot;,\n                          &quot;Program Files (x86)&quot;,\n                          &quot;Microsoft&quot;,\n                          &quot;Edge&quot;,\n                          &quot;Application&quot;,\n                          &quot;msedge.exe&quot;);\n    ProcessBuilder pb = new ProcessBuilder(path.toString(), &quot;http://www.facebook.com&quot;);\n    try {\n        pb.start();\n    }\n    catch (IOException x) {\n        x.printStackTrace();\n    }\n}\n</code></pre>\n<p>Alternatively, you can use class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html\" rel=\"nofollow noreferrer\">java.awt.Desktop</a>. If you just want to launch Edge, use method <code>open</code>. Again, if Edge is not on your PATH then you need to supply the full path.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Desktop;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class DesktopT {\n\n    public static void main(String[] args) {\n        if (Desktop.isDesktopSupported()) {\n            Path path = Paths.get(&quot;C:&quot;,\n                                  &quot;Program Files (x86)&quot;,\n                                  &quot;Microsoft&quot;,\n                                  &quot;Edge&quot;,\n                                  &quot;Application&quot;,\n                                  &quot;msedge.exe&quot;);\n            File f = path.toFile();\n            try {\n                Desktop desktop = Desktop.getDesktop();\n                desktop.open(f);\n            }\n            catch (IOException x) {\n                x.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>If you want to open a particular Web page then use method <code>browse</code>.<br />\n(Note that method <code>browse</code> will use your default Web browser which may not necessarily be Edge.)</p>\n<pre><code>public static void main(String[] args) {\n    if (Desktop.isDesktopSupported()) {\n        try {\n            URI uri = new URI(&quot;https://www.yahoo.com&quot;);\n            Desktop desktop = Desktop.getDesktop();\n            desktop.browse(uri);\n        }\n        catch (URISyntaxException | IOException x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Note that all the above code was run with JDK 17.0.2 on Windows 10. When run, the Java code launched Edge and terminated. However, class <code>Desktop</code> also launches the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a> (EDT) which may not terminate, if you are using an earlier JDK version. If that is the case then you can add the following as the last line in method <code>main</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.System.exit(0);\n</code></pre>\n<p>This line will terminate the JVM.</p>\n"}],"owner":{"account_id":24032737,"reputation":1,"user_id":18013366,"display_name":"Taylor Riggs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643005902,"creation_date":1642992657,"question_id":70828485,"body_markdown":"   \r\n\r\n     \r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.io.IOException;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class RickRoll {\r\n    \tpublic static void main(String[] args) throws AWTException, IOException, InterruptedException {\r\n    \t\t\r\n    \t\t//create Robot\r\n    \t\tRobot robot = new Robot();\r\n    \r\n            //runtime to open Microsoft Edge\r\n    \t\tRuntime runtime = Runtime.getRuntime();\r\n    \t\tString command = &quot;msedge.exe&quot;;\r\n\r\n&gt;What is below is supposed to run msedge\r\n\r\n        runtime.exec(command);\r\n        try {\r\n            Thread.sleep(2000);\r\n        }\r\n        catch (InterruptedException e){\r\n            \r\n            e.printStackTrace();\r\n        }\r\n\t\trobot.delay(1000);\r\n\t}\r\n}\r\n\r\n\r\n&gt;I dont understand why I keep getting an error instead of it running msedge. What am i doing wrong?\r\n","title":"How can i open Microsoft Edge using Robot in Java?","body":"<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.io.IOException;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class RickRoll {\n    public static void main(String[] args) throws AWTException, IOException, InterruptedException {\n        \n        //create Robot\n        Robot robot = new Robot();\n\n        //runtime to open Microsoft Edge\n        Runtime runtime = Runtime.getRuntime();\n        String command = &quot;msedge.exe&quot;;\n</code></pre>\n<blockquote>\n<p>What is below is supposed to run msedge</p>\n</blockquote>\n<pre><code>    runtime.exec(command);\n    try {\n        Thread.sleep(2000);\n    }\n    catch (InterruptedException e){\n        \n        e.printStackTrace();\n    }\n    robot.delay(1000);\n}\n</code></pre>\n<p>}</p>\n<blockquote>\n<p>I dont understand why I keep getting an error instead of it running msedge. What am i doing wrong?</p>\n</blockquote>\n"},{"tags":["java","android","retrofit"],"comments":[{"owner":{"account_id":8197272,"reputation":1725,"user_id":6169668,"accept_rate":44,"display_name":"ASN"},"score":0,"creation_date":1577865191,"post_id":59550767,"comment_id":105270433,"body_markdown":"Did you check the formula to convert Fahrenheit to celsius?\nIt should be `(fahrenheit - 32) * 5 / 9`","body":"Did you check the formula to convert Fahrenheit to celsius? It should be <code>(fahrenheit - 32) * 5 &#47; 9</code>"},{"owner":{"account_id":14387376,"reputation":35,"user_id":10392976,"display_name":"shanimalik"},"score":0,"creation_date":1577865505,"post_id":59550767,"comment_id":105270483,"body_markdown":"yest i applied this formula but it is still not working","body":"yest i applied this formula but it is still not working"}],"answers":[{"tags":[],"owner":{"account_id":8197272,"reputation":1725,"user_id":6169668,"accept_rate":44,"display_name":"ASN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1577865970,"creation_date":1577865970,"answer_id":59550906,"question_id":59550767,"body_markdown":"Can you try this once?\r\n\r\n\r\n     JSONObject tempObject = arrWeatherList.getJSONObject(i).getJSONObject(&quot;temp&quot;);\r\n\r\n     String temperature = changeTemp(tempObject.get(&quot;day&quot;).toString());\r\n    \r\n     private String changeTemp(String x) {\r\n        Double celsius = Double.parseDouble(x) - 273.0;\r\n        Integer i = celsius.intValue();\r\n        return String.valueOf(i);\r\n    }","title":"I want to convert temperature value from unit to imperial in Retrofit in Android Studio","body":"<p>Can you try this once?</p>\n\n<pre><code> JSONObject tempObject = arrWeatherList.getJSONObject(i).getJSONObject(\"temp\");\n\n String temperature = changeTemp(tempObject.get(\"day\").toString());\n\n private String changeTemp(String x) {\n    Double celsius = Double.parseDouble(x) - 273.0;\n    Integer i = celsius.intValue();\n    return String.valueOf(i);\n}\n</code></pre>\n"}],"owner":{"account_id":14387376,"reputation":35,"user_id":10392976,"display_name":"shanimalik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59550906,"answer_count":1,"score":0,"last_activity_date":1643005093,"creation_date":1577864338,"question_id":59550767,"body_markdown":"[![I want This Temperature Value that it give me][1]][1]\r\n\r\nI have an issue in Retrofit. I want to convert Temperature value in Units To Imperial.\r\n\r\nMean I get data from API keys for Weather Application and when I run APP in Android it give me temperature values like this(285,200,etc). This is wrong because this temperature is not correctly. The now our Islamabad (Pakistan) city temperature is 15, and it give me 285, 200, etc, but JSON convertor give me a exact temperature of my city but Android Studio does not generate it.\r\n\r\nI want the exact temperature of the city which API give me but android studio generate his own values which is not correct.\r\n\r\nMain Activity Class\r\n```\r\n    package com.deitel.apiretrofitweatherapp;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.graphics.ImageFormat;\r\nimport android.graphics.Typeface;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    public static String BaseUrl = &quot;http://api.openweathermap.org/&quot;;\r\n    public static String AppId = &quot;90ebdc57172a838d0fce0abbc044df8e&quot;;\r\n    public static String lat = &quot;33.69&quot;;\r\n    public static String lon = &quot;73.06&quot;;\r\n\r\n\r\n    private TextView textView_country,textView_city,textView_temp,/*textView_temp_min,textView_tem_max,*/textView_pressure,textView_humidity,textview_date;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        textView_country=findViewById(R.id.textView_country);\r\n        textView_city=findViewById(R.id.textView_city);\r\n        textView_temp=findViewById(R.id.text_temp);\r\n        textView_pressure=findViewById(R.id.textView_pressure);\r\n       /* textView_tem_max=findViewById(R.id.textView_temp_max);\r\n        textView_temp_min=findViewById(R.id.textView_temp_min);*/\r\n        textView_humidity=findViewById(R.id.textView_humidity);\r\n        textview_date=findViewById(R.id.textView_date);\r\n        getCurrentData();\r\n\r\n    }\r\n    void getCurrentData()\r\n    {\r\n        Retrofit retrofit=new Retrofit.Builder()\r\n                .baseUrl(BaseUrl)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n        WeatherService weatherService=retrofit.create(WeatherService.class);\r\n        Call&lt;WeatherResponse&gt; call=weatherService.getCurrentWeatherData(lat,lon,AppId);\r\n        call.enqueue(new Callback() {\r\n            @Override\r\n            public void onResponse(Call call, Response response) {\r\n                if (response.code()==200)\r\n                {\r\n                    WeatherResponse weatherResponse= (WeatherResponse) response.body();\r\n                    assert weatherResponse != null;\r\n                    Calendar calendar = Calendar.getInstance();\r\n                    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;EEEE-dd-MM&quot;);\r\n                    String formatedate = simpleDateFormat.format(calendar.getTime());\r\n                   /* String stringbuilder= &quot;Country : &quot; +\r\n                            weatherResponse.sys.country +\r\n                            &quot;\\n&quot; +\r\n                            &quot;City : &quot; +weatherResponse.name +\r\n                            &quot;\\n&quot; +\r\n                            &quot;Tempreture : &quot; + weatherResponse.main.temp +\r\n                            &quot;\\n&quot; +\r\n                            &quot;Tempreture(Min) : &quot; +\r\n                            weatherResponse.main.temp_min +\r\n                            &quot;\\n&quot; +\r\n                            &quot;Tempreture(Max) : &quot; +\r\n                            weatherResponse.main.temp_max +\r\n                            &quot;\\n&quot; +\r\n                            &quot;Humidity : &quot; +\r\n                            weatherResponse.main.humidity +\r\n                            &quot;\\n&quot; +\r\n                            &quot;Pressure : &quot; +\r\n                            weatherResponse.main.pressure;*/\r\n\r\n                             String Country=weatherResponse.sys.country;\r\n                             String City=weatherResponse.name;\r\n                             String Temp= String.valueOf(weatherResponse.main.temp);\r\n                            double temp_int = Double.parseDouble(Temp);\r\n                            double centi_int = (temp_int -32 )/1.8000;\r\n                            centi_int = Math.round(centi_int);\r\n                            int i = (int) centi_int;\r\n\r\n                             /*String Temp_max= String.valueOf(weatherResponse.main.temp_max);\r\n                             String Temp_min= String.valueOf(weatherResponse.main.temp_min);*/\r\n                             String Pressure= String.valueOf(weatherResponse.main.pressure);\r\n                             String Humidity=String.valueOf(weatherResponse.main.humidity);\r\n                             textView_country.setText(Country);\r\n                             textView_city.setText(City);\r\n                             textView_temp.setText(String.valueOf(i));\r\n                             /*textView_tem_max.setText(Temp_max);\r\n                             textView_temp_min.setText(Temp_min);*/\r\n                             textView_pressure.setText(Pressure);\r\n                             textView_humidity.setText(Humidity);\r\n                             textview_date.setText(formatedate);\r\n\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call call, Throwable t) {\r\n                textView_country.setText(t.getMessage());\r\n                textView_city.setText(t.getMessage());\r\n                textView_temp.setText(t.getMessage());\r\n                /*textView_tem_max.setText(t.getMessage());\r\n                textView_temp_min.setText(t.getMessage());*/\r\n                textView_pressure.setText(t.getMessage());\r\n                textView_humidity.setText(t.getMessage());\r\n                textview_date.setText(t.getMessage());\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\nWebResponse Class\r\n```\r\n    package com.deitel.apiretrofitweatherapp;\r\nimport com.google.gson.annotations.Expose;\r\nimport com.google.gson.annotations.SerializedName;\r\nimport java.util.List;\r\npublic class WeatherResponse {\r\n\r\n    @SerializedName(&quot;coord&quot;)\r\n    @Expose\r\n    public Coord coord;\r\n    @SerializedName(&quot;weather&quot;)\r\n    @Expose\r\n    public List&lt;Weather&gt; weather = null;\r\n    @SerializedName(&quot;base&quot;)\r\n    @Expose\r\n    public String base;\r\n    @SerializedName(&quot;main&quot;)\r\n    @Expose\r\n    public Main main;\r\n    @SerializedName(&quot;visibility&quot;)\r\n    @Expose\r\n    public Integer visibility;\r\n    @SerializedName(&quot;wind&quot;)\r\n    @Expose\r\n    public Wind wind;\r\n    @SerializedName(&quot;clouds&quot;)\r\n    @Expose\r\n    public Clouds clouds;\r\n    @SerializedName(&quot;dt&quot;)\r\n    @Expose\r\n    public Integer dt;\r\n    @SerializedName(&quot;sys&quot;)\r\n    @Expose\r\n    public Sys sys;\r\n    @SerializedName(&quot;timezone&quot;)\r\n    @Expose\r\n    public Integer timezone;\r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    public Integer id;\r\n    @SerializedName(&quot;name&quot;)\r\n    @Expose\r\n    public String name;\r\n    @SerializedName(&quot;cod&quot;)\r\n    @Expose\r\n    public Integer cod;\r\n\r\n}\r\nclass Weather {\r\n\r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    public Integer id;\r\n    @SerializedName(&quot;main&quot;)\r\n    @Expose\r\n    public String main;\r\n    @SerializedName(&quot;description&quot;)\r\n    @Expose\r\n    public String description;\r\n    @SerializedName(&quot;icon&quot;)\r\n    @Expose\r\n    public String icon;\r\n\r\n}\r\nclass Clouds {\r\n    @SerializedName(&quot;all&quot;)\r\n    public float all;\r\n}\r\n\r\nclass Rain {\r\n    @SerializedName(&quot;3h&quot;)\r\n    public float h3;\r\n}\r\n\r\nclass Wind {\r\n\r\n    @SerializedName(&quot;speed&quot;)\r\n    @Expose\r\n    public Double speed;\r\n    @SerializedName(&quot;deg&quot;)\r\n    @Expose\r\n    public Integer deg;\r\n\r\n}\r\n\r\n class Main {\r\n\r\n    @SerializedName(&quot;temp&quot;)\r\n    @Expose\r\n    public double temp;\r\n    /*@SerializedName(&quot;feels_like&quot;)\r\n    @Expose\r\n    public float feelsLike;\r\n    @SerializedName(&quot;temp_min&quot;)\r\n    @Expose\r\n    public float tempMin;\r\n    @SerializedName(&quot;temp_max&quot;)\r\n    @Expose\r\n    public float tempMax;*/\r\n    @SerializedName(&quot;pressure&quot;)\r\n    @Expose\r\n    public float pressure;\r\n    @SerializedName(&quot;humidity&quot;)\r\n    @Expose\r\n    public float humidity;\r\n\r\n}\r\n\r\n\r\nclass Sys {\r\n\r\n    @SerializedName(&quot;type&quot;)\r\n    @Expose\r\n    public Integer type;\r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    public Integer id;\r\n    @SerializedName(&quot;country&quot;)\r\n    @Expose\r\n    public String country;\r\n    @SerializedName(&quot;sunrise&quot;)\r\n    @Expose\r\n    public Integer sunrise;\r\n    @SerializedName(&quot;sunset&quot;)\r\n    @Expose\r\n    public Integer sunset;\r\n\r\n}\r\nclass Coord {\r\n    @SerializedName(&quot;lon&quot;)\r\n    public float lon;\r\n    @SerializedName(&quot;lat&quot;)\r\n    public float lat;\r\n}\r\n```\r\nWebService Interface Class\r\n```\r\n    package com.deitel.apiretrofitweatherapp;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.http.GET;\r\nimport retrofit2.http.Query;\r\n\r\npublic interface WeatherService {\r\n    @GET(&quot;data/2.5/weather?&quot;)\r\n    Call &lt;WeatherResponse&gt;getCurrentWeatherData(@Query(&quot;lat&quot;) String lat, @Query(&quot;lon&quot;) String lon, @Query(&quot;APPID&quot;) String app_id);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uJ8vb.jpg","title":"I want to convert temperature value from unit to imperial in Retrofit in Android Studio","body":"<p><a href=\"https://i.stack.imgur.com/uJ8vb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uJ8vb.jpg\" alt=\"I want This Temperature Value that it give me\"></a></p>\n\n<p>I have an issue in Retrofit. I want to convert Temperature value in Units To Imperial.</p>\n\n<p>Mean I get data from API keys for Weather Application and when I run APP in Android it give me temperature values like this(285,200,etc). This is wrong because this temperature is not correctly. The now our Islamabad (Pakistan) city temperature is 15, and it give me 285, 200, etc, but JSON convertor give me a exact temperature of my city but Android Studio does not generate it.</p>\n\n<p>I want the exact temperature of the city which API give me but android studio generate his own values which is not correct.</p>\n\n<p>Main Activity Class</p>\n\n<pre><code>    package com.deitel.apiretrofitweatherapp;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.graphics.ImageFormat;\nimport android.graphics.Typeface;\nimport android.graphics.drawable.Drawable;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\n\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class MainActivity extends AppCompatActivity {\n    public static String BaseUrl = \"http://api.openweathermap.org/\";\n    public static String AppId = \"90ebdc57172a838d0fce0abbc044df8e\";\n    public static String lat = \"33.69\";\n    public static String lon = \"73.06\";\n\n\n    private TextView textView_country,textView_city,textView_temp,/*textView_temp_min,textView_tem_max,*/textView_pressure,textView_humidity,textview_date;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        textView_country=findViewById(R.id.textView_country);\n        textView_city=findViewById(R.id.textView_city);\n        textView_temp=findViewById(R.id.text_temp);\n        textView_pressure=findViewById(R.id.textView_pressure);\n       /* textView_tem_max=findViewById(R.id.textView_temp_max);\n        textView_temp_min=findViewById(R.id.textView_temp_min);*/\n        textView_humidity=findViewById(R.id.textView_humidity);\n        textview_date=findViewById(R.id.textView_date);\n        getCurrentData();\n\n    }\n    void getCurrentData()\n    {\n        Retrofit retrofit=new Retrofit.Builder()\n                .baseUrl(BaseUrl)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n        WeatherService weatherService=retrofit.create(WeatherService.class);\n        Call&lt;WeatherResponse&gt; call=weatherService.getCurrentWeatherData(lat,lon,AppId);\n        call.enqueue(new Callback() {\n            @Override\n            public void onResponse(Call call, Response response) {\n                if (response.code()==200)\n                {\n                    WeatherResponse weatherResponse= (WeatherResponse) response.body();\n                    assert weatherResponse != null;\n                    Calendar calendar = Calendar.getInstance();\n                    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"EEEE-dd-MM\");\n                    String formatedate = simpleDateFormat.format(calendar.getTime());\n                   /* String stringbuilder= \"Country : \" +\n                            weatherResponse.sys.country +\n                            \"\\n\" +\n                            \"City : \" +weatherResponse.name +\n                            \"\\n\" +\n                            \"Tempreture : \" + weatherResponse.main.temp +\n                            \"\\n\" +\n                            \"Tempreture(Min) : \" +\n                            weatherResponse.main.temp_min +\n                            \"\\n\" +\n                            \"Tempreture(Max) : \" +\n                            weatherResponse.main.temp_max +\n                            \"\\n\" +\n                            \"Humidity : \" +\n                            weatherResponse.main.humidity +\n                            \"\\n\" +\n                            \"Pressure : \" +\n                            weatherResponse.main.pressure;*/\n\n                             String Country=weatherResponse.sys.country;\n                             String City=weatherResponse.name;\n                             String Temp= String.valueOf(weatherResponse.main.temp);\n                            double temp_int = Double.parseDouble(Temp);\n                            double centi_int = (temp_int -32 )/1.8000;\n                            centi_int = Math.round(centi_int);\n                            int i = (int) centi_int;\n\n                             /*String Temp_max= String.valueOf(weatherResponse.main.temp_max);\n                             String Temp_min= String.valueOf(weatherResponse.main.temp_min);*/\n                             String Pressure= String.valueOf(weatherResponse.main.pressure);\n                             String Humidity=String.valueOf(weatherResponse.main.humidity);\n                             textView_country.setText(Country);\n                             textView_city.setText(City);\n                             textView_temp.setText(String.valueOf(i));\n                             /*textView_tem_max.setText(Temp_max);\n                             textView_temp_min.setText(Temp_min);*/\n                             textView_pressure.setText(Pressure);\n                             textView_humidity.setText(Humidity);\n                             textview_date.setText(formatedate);\n\n\n                }\n            }\n\n            @Override\n            public void onFailure(Call call, Throwable t) {\n                textView_country.setText(t.getMessage());\n                textView_city.setText(t.getMessage());\n                textView_temp.setText(t.getMessage());\n                /*textView_tem_max.setText(t.getMessage());\n                textView_temp_min.setText(t.getMessage());*/\n                textView_pressure.setText(t.getMessage());\n                textView_humidity.setText(t.getMessage());\n                textview_date.setText(t.getMessage());\n\n            }\n        });\n    }\n\n}\n</code></pre>\n\n<p>WebResponse Class</p>\n\n<pre><code>    package com.deitel.apiretrofitweatherapp;\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\nimport java.util.List;\npublic class WeatherResponse {\n\n    @SerializedName(\"coord\")\n    @Expose\n    public Coord coord;\n    @SerializedName(\"weather\")\n    @Expose\n    public List&lt;Weather&gt; weather = null;\n    @SerializedName(\"base\")\n    @Expose\n    public String base;\n    @SerializedName(\"main\")\n    @Expose\n    public Main main;\n    @SerializedName(\"visibility\")\n    @Expose\n    public Integer visibility;\n    @SerializedName(\"wind\")\n    @Expose\n    public Wind wind;\n    @SerializedName(\"clouds\")\n    @Expose\n    public Clouds clouds;\n    @SerializedName(\"dt\")\n    @Expose\n    public Integer dt;\n    @SerializedName(\"sys\")\n    @Expose\n    public Sys sys;\n    @SerializedName(\"timezone\")\n    @Expose\n    public Integer timezone;\n    @SerializedName(\"id\")\n    @Expose\n    public Integer id;\n    @SerializedName(\"name\")\n    @Expose\n    public String name;\n    @SerializedName(\"cod\")\n    @Expose\n    public Integer cod;\n\n}\nclass Weather {\n\n    @SerializedName(\"id\")\n    @Expose\n    public Integer id;\n    @SerializedName(\"main\")\n    @Expose\n    public String main;\n    @SerializedName(\"description\")\n    @Expose\n    public String description;\n    @SerializedName(\"icon\")\n    @Expose\n    public String icon;\n\n}\nclass Clouds {\n    @SerializedName(\"all\")\n    public float all;\n}\n\nclass Rain {\n    @SerializedName(\"3h\")\n    public float h3;\n}\n\nclass Wind {\n\n    @SerializedName(\"speed\")\n    @Expose\n    public Double speed;\n    @SerializedName(\"deg\")\n    @Expose\n    public Integer deg;\n\n}\n\n class Main {\n\n    @SerializedName(\"temp\")\n    @Expose\n    public double temp;\n    /*@SerializedName(\"feels_like\")\n    @Expose\n    public float feelsLike;\n    @SerializedName(\"temp_min\")\n    @Expose\n    public float tempMin;\n    @SerializedName(\"temp_max\")\n    @Expose\n    public float tempMax;*/\n    @SerializedName(\"pressure\")\n    @Expose\n    public float pressure;\n    @SerializedName(\"humidity\")\n    @Expose\n    public float humidity;\n\n}\n\n\nclass Sys {\n\n    @SerializedName(\"type\")\n    @Expose\n    public Integer type;\n    @SerializedName(\"id\")\n    @Expose\n    public Integer id;\n    @SerializedName(\"country\")\n    @Expose\n    public String country;\n    @SerializedName(\"sunrise\")\n    @Expose\n    public Integer sunrise;\n    @SerializedName(\"sunset\")\n    @Expose\n    public Integer sunset;\n\n}\nclass Coord {\n    @SerializedName(\"lon\")\n    public float lon;\n    @SerializedName(\"lat\")\n    public float lat;\n}\n</code></pre>\n\n<p>WebService Interface Class</p>\n\n<pre><code>    package com.deitel.apiretrofitweatherapp;\n\nimport retrofit2.Call;\nimport retrofit2.http.GET;\nimport retrofit2.http.Query;\n\npublic interface WeatherService {\n    @GET(\"data/2.5/weather?\")\n    Call &lt;WeatherResponse&gt;getCurrentWeatherData(@Query(\"lat\") String lat, @Query(\"lon\") String lon, @Query(\"APPID\") String app_id);\n}\n</code></pre>\n"},{"tags":["java","c++","arrays","for-loop"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1643003270,"post_id":70829490,"comment_id":125215272,"body_markdown":"Remove ; after the last for statement.","body":"Remove ; after the last for statement."}],"answers":[{"tags":[],"owner":{"account_id":14731226,"reputation":114,"user_id":10638440,"display_name":"chasing fish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643003775,"creation_date":1643003775,"answer_id":70829552,"question_id":70829490,"body_markdown":"you can do something like this in Java:\r\n```\r\nchar[] tabtemp = null;\r\n        for (char a = 97; a &lt;= 100; a++) {\r\n            for (char b = 97; b &lt;= 100; b++) {\r\n                for (char c = 97; c &lt;= 100; c++) {\r\n                    for (char d = 97; d &lt;= 100; d++) {\r\n                        tabtemp = new char[]{a, b, c, d};\r\n                    }\r\n                }\r\n            }\r\n\r\n            System.out.println(tabtemp);\r\n        }\r\n```","title":"Fill an array from For loops to create all the possibilities from 4 letters","body":"<p>you can do something like this in Java:</p>\n<pre><code>char[] tabtemp = null;\n        for (char a = 97; a &lt;= 100; a++) {\n            for (char b = 97; b &lt;= 100; b++) {\n                for (char c = 97; c &lt;= 100; c++) {\n                    for (char d = 97; d &lt;= 100; d++) {\n                        tabtemp = new char[]{a, b, c, d};\n                    }\n                }\n            }\n\n            System.out.println(tabtemp);\n        }\n</code></pre>\n"}],"owner":{"account_id":24033676,"reputation":21,"user_id":18014194,"display_name":"DJexplorer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1643004788,"accepted_answer_id":70829552,"answer_count":1,"score":-1,"last_activity_date":1643005000,"creation_date":1643003154,"question_id":70829490,"body_markdown":"I&#39;m trying ton convert the following code from c++ to java and as I&#39;m a beginner student in Java I have  errors when tryin to assign the char to **tabtemp**. I didnt found examples with multiple For loops\r\n\r\n```\r\n#include &lt;iostream&gt;\r\n#include &lt;string&gt;\r\n#include &lt;vector&gt;\r\n\r\nusing namespace std;\r\n\r\nint main() {\r\n    for (char a = 97; a &lt;= 100; a++)\r\n        for (char b = 97; b &lt;= 100; b++)\r\n            for (char c = 97; c &lt;= 100; c++)\r\n               for (char d = 97; d &lt;= 100; d++)\r\n               {\r\n                   string tabtemp = { a,b,c,d };\r\n                   {\r\n                       cout &lt;&lt; tabtemp &lt;&lt; endl;\r\n                   }\r\n               }\r\n\r\n    return 0;\r\n}\r\n```\r\n\r\n1st try in java\r\n\r\n```\r\npublic class Alpha {\r\n    public static void main(String[] args) {\r\n        for (char a = 97; a &lt;= 100; a++) {\r\n            for (char b = 97; b &lt;= 100; b++)\r\n                for (char c = 97; c &lt;= 100; c++)\r\n                    for (char d = 97; d &lt;= 100; d++);\r\n\r\n            char[] tabtemp = {a,b,c,d};\r\n            System.out.println(tabtemp);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThanks","title":"Fill an array from For loops to create all the possibilities from 4 letters","body":"<p>I'm trying ton convert the following code from c++ to java and as I'm a beginner student in Java I have  errors when tryin to assign the char to <strong>tabtemp</strong>. I didnt found examples with multiple For loops</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main() {\n    for (char a = 97; a &lt;= 100; a++)\n        for (char b = 97; b &lt;= 100; b++)\n            for (char c = 97; c &lt;= 100; c++)\n               for (char d = 97; d &lt;= 100; d++)\n               {\n                   string tabtemp = { a,b,c,d };\n                   {\n                       cout &lt;&lt; tabtemp &lt;&lt; endl;\n                   }\n               }\n\n    return 0;\n}\n</code></pre>\n<p>1st try in java</p>\n<pre><code>public class Alpha {\n    public static void main(String[] args) {\n        for (char a = 97; a &lt;= 100; a++) {\n            for (char b = 97; b &lt;= 100; b++)\n                for (char c = 97; c &lt;= 100; c++)\n                    for (char d = 97; d &lt;= 100; d++);\n\n            char[] tabtemp = {a,b,c,d};\n            System.out.println(tabtemp);\n        }\n    }\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643004910,"creation_date":1643004910,"answer_id":70829674,"question_id":70829472,"body_markdown":"In your json string error is in object\r\n\r\n    &quot;error&quot;: {}\r\nBut in CoreV2Response you have declared the `error` field as object array:\r\n\r\n    private Object[] error;\r\nYou cannot deserialize json object into collection, array in your case. You have to declare error as an object\r\n\r\n    private Object error;\r\nAnd deserialization goes without problems.","title":"How to deserialize the String which is array of objects to a array of objects?","body":"<p>In your json string error is in object</p>\n<pre><code>&quot;error&quot;: {}\n</code></pre>\n<p>But in CoreV2Response you have declared the <code>error</code> field as object array:</p>\n<pre><code>private Object[] error;\n</code></pre>\n<p>You cannot deserialize json object into collection, array in your case. You have to declare error as an object</p>\n<pre><code>private Object error;\n</code></pre>\n<p>And deserialization goes without problems.</p>\n"}],"owner":{"account_id":22999607,"reputation":95,"user_id":17123763,"display_name":"theBeginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70829674,"answer_count":1,"score":-1,"last_activity_date":1643004910,"creation_date":1643003032,"question_id":70829472,"body_markdown":"I have a response Body \r\n```\r\n[{&quot;vendorName&quot;:&quot;ABC&quot;,&quot;vendorAPI&quot;:&quot;Some_API&quot;,&quot;enrichmentGroupingLevel&quot;:[{&quot;Test&quot;:{&quot;score&quot;:0.233,&quot;risckscore&quot;:229},&quot;level&quot;:&quot;all&quot;}],&quot;error&quot;:{},&quot;statusCode&quot;:200}]&quot;,\r\nCoreV2Response[] getEnrichmentResponse = objectMapper.readValue(responseBody, CoreV2Response[].class);\r\n ```       \r\nThe below is my coreV2Response class which i want to map with  \r\n```\r\npublic class CoreV2Response {\r\n            @JsonProperty(&quot;vendorName&quot;)\r\n            private String vendorName;\r\n            @JsonProperty(&quot;vendorAPI&quot;)\r\n            private String vendorAPI;\r\n            @JsonProperty(&quot;enrichmentGroupingLevel&quot;)\r\n            private Object[] enrichmentGroupingLevel;\r\n            @JsonProperty(&quot;error&quot;)\r\n            private Object[] error;\r\n            @JsonProperty(&quot;statusCode&quot;)\r\n            private int statusCode;\r\n        }\r\n```\r\n\r\n    I am getting error \r\n    Cannot deserialize instance of [Ljava.lang.Object; out of START_OBJECT tokenat [Source: (String)&quot;[{&quot;vendorName&quot;:&quot;Ekata&quot;,&quot;vendorAPI&quot;:&quot;Account_Opening_V1.0&quot;,&quot;enrichmentGroupingLevel\r\n    ```\r\n     \r\n    Can someone help me with deserialization?\r\n    I have added my both the codes for response template class and mapper object\r\n\r\n","title":"How to deserialize the String which is array of objects to a array of objects?","body":"<p>I have a response Body</p>\n<pre><code>[{&quot;vendorName&quot;:&quot;ABC&quot;,&quot;vendorAPI&quot;:&quot;Some_API&quot;,&quot;enrichmentGroupingLevel&quot;:[{&quot;Test&quot;:{&quot;score&quot;:0.233,&quot;risckscore&quot;:229},&quot;level&quot;:&quot;all&quot;}],&quot;error&quot;:{},&quot;statusCode&quot;:200}]&quot;,\nCoreV2Response[] getEnrichmentResponse = objectMapper.readValue(responseBody, CoreV2Response[].class);\n</code></pre>\n<p>The below is my coreV2Response class which i want to map with</p>\n<pre><code>public class CoreV2Response {\n            @JsonProperty(&quot;vendorName&quot;)\n            private String vendorName;\n            @JsonProperty(&quot;vendorAPI&quot;)\n            private String vendorAPI;\n            @JsonProperty(&quot;enrichmentGroupingLevel&quot;)\n            private Object[] enrichmentGroupingLevel;\n            @JsonProperty(&quot;error&quot;)\n            private Object[] error;\n            @JsonProperty(&quot;statusCode&quot;)\n            private int statusCode;\n        }\n</code></pre>\n<pre><code>I am getting error \nCannot deserialize instance of [Ljava.lang.Object; out of START_OBJECT tokenat [Source: (String)&quot;[{&quot;vendorName&quot;:&quot;Ekata&quot;,&quot;vendorAPI&quot;:&quot;Account_Opening_V1.0&quot;,&quot;enrichmentGroupingLevel\n```\n \nCan someone help me with deserialization?\nI have added my both the codes for response template class and mapper object\n</code></pre>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":1733652,"reputation":1606,"user_id":1586687,"accept_rate":50,"display_name":"deep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1642761774,"creation_date":1642761239,"answer_id":70799917,"question_id":70765674,"body_markdown":"So, after some hits and tries with different approaches, I made it work.\r\n\r\nThe step fails in Bean creation of the `StepContext` object after the first partition. But when we do field injection instead of constructor injection, it works perfectly.\r\n\r\nSo instead of the injecting StepContext through Constructor, \r\n```\r\n@Autowired\r\npublic PendingTaxDetailsProcessor(@Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\r\n    this.stepExecution = stepExecution;\r\n}\r\n```\r\n\r\nwe can do Field injection\r\n```\r\n@Value(&quot;#{stepExecution}&quot;)\r\nprivate StepExecution stepExecution;\r\n```\r\n\r\nI don&#39;t know why is that the case (might be a bug), but this worked for me.\r\n","title":"How to access StepExecution in partitioned CompositeItemProcessor","body":"<p>So, after some hits and tries with different approaches, I made it work.</p>\n<p>The step fails in Bean creation of the <code>StepContext</code> object after the first partition. But when we do field injection instead of constructor injection, it works perfectly.</p>\n<p>So instead of the injecting StepContext through Constructor,</p>\n<pre><code>@Autowired\npublic PendingTaxDetailsProcessor(@Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\n    this.stepExecution = stepExecution;\n}\n</code></pre>\n<p>we can do Field injection</p>\n<pre><code>@Value(&quot;#{stepExecution}&quot;)\nprivate StepExecution stepExecution;\n</code></pre>\n<p>I don't know why is that the case (might be a bug), but this worked for me.</p>\n"},{"tags":[],"owner":{"account_id":4635824,"reputation":248,"user_id":3757107,"display_name":"Sam F"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642818753,"creation_date":1642818753,"answer_id":70809571,"question_id":70765674,"body_markdown":"There&#39;s actually a few problems here.\r\n\r\n 1. You need to remove the @Configuration annotation as this is a Component and not a configuration class.\r\n 2. Since you are injecting the StepExecution through the constructor (which should work), you should not need the @BeforeStep method at all.\r\n 3. It looks like you are only a single value from the ExecutionContext and it probably makes sense to only inject that value\r\n\r\n``` Java\r\n@Autowired\r\npublic PendingTaxDetailsProcessor(@Value(&quot;#{stepExecution[&#39;maxPaymentId&#39;}&quot;) Integer maxPaymentId) {\r\n    this.maxPaymentId = maxPaymentId;\r\n}\r\n```\r\n 4. Since you are updating the value you are retrieving, it should probably be in the StepContext instead of the JobContext and then promoted to the JobContext through a StepExecutionListener.\r\n 5. Also since you are updating the value, an Integer value won&#39;t work since it&#39;s immutable. Might want to look at wrapping it in an object that can be updated and then you won&#39;t need to put the value back in the ExecutionContext after updating it","title":"How to access StepExecution in partitioned CompositeItemProcessor","body":"<p>There's actually a few problems here.</p>\n<ol>\n<li>You need to remove the @Configuration annotation as this is a Component and not a configuration class.</li>\n<li>Since you are injecting the StepExecution through the constructor (which should work), you should not need the @BeforeStep method at all.</li>\n<li>It looks like you are only a single value from the ExecutionContext and it probably makes sense to only inject that value</li>\n</ol>\n<pre><code>@Autowired\npublic PendingTaxDetailsProcessor(@Value(&quot;#{stepExecution['maxPaymentId'}&quot;) Integer maxPaymentId) {\n    this.maxPaymentId = maxPaymentId;\n}\n</code></pre>\n<ol start=\"4\">\n<li>Since you are updating the value you are retrieving, it should probably be in the StepContext instead of the JobContext and then promoted to the JobContext through a StepExecutionListener.</li>\n<li>Also since you are updating the value, an Integer value won't work since it's immutable. Might want to look at wrapping it in an object that can be updated and then you won't need to put the value back in the ExecutionContext after updating it</li>\n</ol>\n"}],"owner":{"account_id":1733652,"reputation":1606,"user_id":1586687,"accept_rate":50,"display_name":"deep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70799917,"answer_count":2,"score":0,"last_activity_date":1643004651,"creation_date":1642569900,"question_id":70765674,"body_markdown":"I have a case where I want to access `StepExecution` from inside a `Processor` which is part of a `CompositeItemProcessor` which is part of a `partitioned step`.\r\n\r\nI am able to access the `StepExecution` in the **very first partition** but am unable to access it in the subsequent partitions.\r\n\r\nHere is my code:\r\n\r\nJob:\r\n\r\n```\r\n@Bean(&quot;pendingPaymentAggregatorJob&quot;)\r\n    public Job pendingPaymentAggregatorJob(Step populatePendingPaymentAggregatorCache,\r\n                                           Step calculatePaymentRunPeriods,\r\n                                           Step truncatePaymentPendingTables,\r\n                                           Step fetchMaxPaymentId,\r\n                                           Flow pendingPaymentsGenerationFlowForCompleteMonth,\r\n                                           Step populatePendingTablesSecondHalfOfMonth) {\r\nreturn jobBuilderFactory.get(&quot;JOB&quot;)\r\n                .start(populatePendingPaymentAggregatorCache)\r\n                .next(calculatePaymentRunPeriods)\r\n                .next(truncatePaymentPendingTables)\r\n                .next(fetchMaxPaymentId)\r\n                .next(currentPeriodFlowDecider())\r\n                .on(FIRST_HALF_OF_MONTH).to(pendingPaymentsGenerationFlowForCompleteMonth)\r\n                .from(currentPeriodFlowDecider())\r\n                .on(SECOND_HALF_OF_MONTH).to(populatePendingTablesSecondHalfOfMonth)\r\n                .end()\r\n                .incrementer(new RunIdIncrementer())\r\n                .listener(jobExecutionListener)\r\n                .build();\r\n}\r\n```\r\n\r\nPartitionedStep:\r\n\r\n```\r\nvar workerStep = stepBuilderFactory.get(&quot;NAME-worker&quot;)\r\n           .&lt;T, W&gt;chunk(chunkSize)\r\n           .reader(itemReader())\r\n           .writer(itemWriter())\r\n           .processor(compositeItemProcessor)\r\n           .faultTolerant()\r\n           .retryLimit(3)\r\n           .retry(Exception.class)\r\n           .listener(stepExecutionListener)\r\n           .build();\r\n\r\nSimpleAsyncTaskExecutor simpleAsyncTaskExecutor = new SimpleAsyncTaskExecutor();\r\nsimpleAsyncTaskExecutor.setConcurrencyLimit(maxConcurrency);\r\n\r\nreturn stepBuilderFactory.get(&quot;NAME&quot;)\r\n          .partitioner(workerStep.getName(), partitioner())\r\n          .step(workerStep)\r\n          .gridSize(GRID_SIZE)\r\n          .taskExecutor(simpleAsyncTaskExecutor)\r\n          .build();\r\n```\r\n\r\nCompositeItemProcessor:\r\n```\r\n@Bean\r\n    public CompositeItemProcessor&lt;PendingPayment, PaymentPendingEnvelop&gt; compositeItemProcessor(\r\n            PendingTaxDetailsProcessor pendingTaxDetailsProcessor,\r\n            VatCalculatorProcessor vatCalculatorProcessor) throws Exception {\r\n\r\n        CompositeItemProcessor&lt;PendingPayment, PaymentPendingEnvelop&gt; compositeItemProcessor = new CompositeItemProcessor&lt;&gt;();\r\n        compositeItemProcessor.setDelegates(List.of(\r\n                pendingTaxDetailsProcessor,\r\n                vatCalculatorProcessor,\r\n                (ItemProcessor&lt;PendingPaymentsProcessorEnvelope, PaymentPendingEnvelop&gt;) processorEnvelope -&gt; PaymentPendingEnvelop.builder()\r\n                        .paymentPendingTaxDetails(processorEnvelope.getPaymentPendingTaxDetails())\r\n                        .build()\r\n        ));\r\n        compositeItemProcessor.afterPropertiesSet();\r\n\r\n        return compositeItemProcessor;\r\n    }\r\n```\r\n\r\nProcessor:\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\n@Component\r\n@StepScope\r\npublic class PendingTaxDetailsProcessor implements ItemProcessor&lt;PendingPayment, PendingPaymentsProcessorEnvelope&gt; {\r\n\r\n    private StepExecution stepExecution;\r\n\r\n    @Autowired\r\n    public PendingTaxDetailsProcessor(@Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\r\n        this.stepExecution = stepExecution;\r\n    }\r\n\r\n    @Override\r\n    public PendingPaymentsProcessorEnvelope process(PendingPayment pendingPayment) throws Exception {\r\n        // Code\r\n\r\n        int maxPaymentId = stepExecution.getJobExecution().getExecutionContext().getInt(&quot;maxPaymentId&quot;);\r\n        if (maxPaymentId == 0) {\r\n            throw new InstantiationException(&quot;Unable to get PaymentId from ExecutionContext&quot;);\r\n        }\r\n        int paymentId = maxPaymentId + 1;\r\n        stepExecution.getJobExecution().getExecutionContext().put(&quot;maxPaymentId&quot;, paymentId);\r\n\r\n        // Code\r\n\r\n    }\r\n}\r\n```\r\n\r\nI am able to access the context in the first partition which encounters this step but when the 2nd partition tries to do it, I get an exception.\r\nIn the below logs, you can see the first partition reading and writing successfully, but the 2nd partition throwing exception\r\n\r\n```\r\n2022-01-18 13:56:31.165  INFO 10193 --- [cTaskExecutor-1] c.a.b.l.CommonStepExecutionListener      : Step: POPULATE_PAYMENT_PENDING_TABLES_STEP-Period_1-worker:partition_1_2, Completion time: 2022-01-18T13:56:31.164932, Time taken: 2.153457343 secs, Read count: 1, Write count: 1, Status: COMPLETED\r\n2022-01-18 13:56:33.583  INFO 10193 --- [cTaskExecutor-6] c.a.b.l.CommonStepExecutionListener      : Step: POPULATE_PAYMENT_PENDING_TABLES_STEP-Period_1-worker:partition_2_2 started at: 2022-01-18T13:56:33.583653\r\n2022-01-18 13:56:33.900 ERROR 10193 --- [cTaskExecutor-6] o.s.batch.core.step.AbstractStep         : Encountered an error executing step POPULATE_PAYMENT_PENDING_TABLES_STEP-Period_1-worker in job PENDING_PAYMENTS_AGGREGATOR_JOB\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.pendingTaxDetailsProcessor&#39; defined in file [/Users/user/workspace/billing-paymentrun-service/target/classes/com/awin/billing/steps/pendingpaymentaggregator/processor/PendingTaxDetailsProcessor.class]: Unexpected exception during bean creation; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.batch.core.StepExecution&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:537)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)\r\n\tat org.springframework.batch.core.scope.StepScope.get(StepScope.java:113)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:676)\r\n\tat com.awin.billing.steps.pendingpaymentaggregator.processor.PendingTaxDetailsProcessor$$EnhancerBySpringCGLIB$$4c5e2a24.process(&lt;generated&gt;)\r\n\tat org.springframework.batch.item.support.CompositeItemProcessor.processItem(CompositeItemProcessor.java:63)\r\n\tat org.springframework.batch.item.support.CompositeItemProcessor.process(CompositeItemProcessor.java:52)\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:134)\r\n\tat org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$1.doWithRetry(FaultTolerantChunkProcessor.java:239)\r\n\tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\r\n\tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:255)\r\n\tat org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:217)\r\n\tat org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.transform(FaultTolerantChunkProcessor.java:308)\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:210)\r\n\tat org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\r\n\tat org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\r\n\tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208)\r\n\tat org.springframework.batch.core.partition.support.TaskExecutorPartitionHandler$1.call(TaskExecutorPartitionHandler.java:138)\r\n\tat org.springframework.batch.core.partition.support.TaskExecutorPartitionHandler$1.call(TaskExecutorPartitionHandler.java:135)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.springframework.core.task.SimpleAsyncTaskExecutor$ConcurrencyThrottlingRunnable.run(SimpleAsyncTaskExecutor.java:280)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.batch.core.StepExecution&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1790)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\t... 32 common frames omitted\r\n```","title":"How to access StepExecution in partitioned CompositeItemProcessor","body":"<p>I have a case where I want to access <code>StepExecution</code> from inside a <code>Processor</code> which is part of a <code>CompositeItemProcessor</code> which is part of a <code>partitioned step</code>.</p>\n<p>I am able to access the <code>StepExecution</code> in the <strong>very first partition</strong> but am unable to access it in the subsequent partitions.</p>\n<p>Here is my code:</p>\n<p>Job:</p>\n<pre><code>@Bean(&quot;pendingPaymentAggregatorJob&quot;)\n    public Job pendingPaymentAggregatorJob(Step populatePendingPaymentAggregatorCache,\n                                           Step calculatePaymentRunPeriods,\n                                           Step truncatePaymentPendingTables,\n                                           Step fetchMaxPaymentId,\n                                           Flow pendingPaymentsGenerationFlowForCompleteMonth,\n                                           Step populatePendingTablesSecondHalfOfMonth) {\nreturn jobBuilderFactory.get(&quot;JOB&quot;)\n                .start(populatePendingPaymentAggregatorCache)\n                .next(calculatePaymentRunPeriods)\n                .next(truncatePaymentPendingTables)\n                .next(fetchMaxPaymentId)\n                .next(currentPeriodFlowDecider())\n                .on(FIRST_HALF_OF_MONTH).to(pendingPaymentsGenerationFlowForCompleteMonth)\n                .from(currentPeriodFlowDecider())\n                .on(SECOND_HALF_OF_MONTH).to(populatePendingTablesSecondHalfOfMonth)\n                .end()\n                .incrementer(new RunIdIncrementer())\n                .listener(jobExecutionListener)\n                .build();\n}\n</code></pre>\n<p>PartitionedStep:</p>\n<pre><code>var workerStep = stepBuilderFactory.get(&quot;NAME-worker&quot;)\n           .&lt;T, W&gt;chunk(chunkSize)\n           .reader(itemReader())\n           .writer(itemWriter())\n           .processor(compositeItemProcessor)\n           .faultTolerant()\n           .retryLimit(3)\n           .retry(Exception.class)\n           .listener(stepExecutionListener)\n           .build();\n\nSimpleAsyncTaskExecutor simpleAsyncTaskExecutor = new SimpleAsyncTaskExecutor();\nsimpleAsyncTaskExecutor.setConcurrencyLimit(maxConcurrency);\n\nreturn stepBuilderFactory.get(&quot;NAME&quot;)\n          .partitioner(workerStep.getName(), partitioner())\n          .step(workerStep)\n          .gridSize(GRID_SIZE)\n          .taskExecutor(simpleAsyncTaskExecutor)\n          .build();\n</code></pre>\n<p>CompositeItemProcessor:</p>\n<pre><code>@Bean\n    public CompositeItemProcessor&lt;PendingPayment, PaymentPendingEnvelop&gt; compositeItemProcessor(\n            PendingTaxDetailsProcessor pendingTaxDetailsProcessor,\n            VatCalculatorProcessor vatCalculatorProcessor) throws Exception {\n\n        CompositeItemProcessor&lt;PendingPayment, PaymentPendingEnvelop&gt; compositeItemProcessor = new CompositeItemProcessor&lt;&gt;();\n        compositeItemProcessor.setDelegates(List.of(\n                pendingTaxDetailsProcessor,\n                vatCalculatorProcessor,\n                (ItemProcessor&lt;PendingPaymentsProcessorEnvelope, PaymentPendingEnvelop&gt;) processorEnvelope -&gt; PaymentPendingEnvelop.builder()\n                        .paymentPendingTaxDetails(processorEnvelope.getPaymentPendingTaxDetails())\n                        .build()\n        ));\n        compositeItemProcessor.afterPropertiesSet();\n\n        return compositeItemProcessor;\n    }\n</code></pre>\n<p>Processor:</p>\n<pre><code>@Slf4j\n@Configuration\n@Component\n@StepScope\npublic class PendingTaxDetailsProcessor implements ItemProcessor&lt;PendingPayment, PendingPaymentsProcessorEnvelope&gt; {\n\n    private StepExecution stepExecution;\n\n    @Autowired\n    public PendingTaxDetailsProcessor(@Value(&quot;#{stepExecution}&quot;) StepExecution stepExecution) {\n        this.stepExecution = stepExecution;\n    }\n\n    @Override\n    public PendingPaymentsProcessorEnvelope process(PendingPayment pendingPayment) throws Exception {\n        // Code\n\n        int maxPaymentId = stepExecution.getJobExecution().getExecutionContext().getInt(&quot;maxPaymentId&quot;);\n        if (maxPaymentId == 0) {\n            throw new InstantiationException(&quot;Unable to get PaymentId from ExecutionContext&quot;);\n        }\n        int paymentId = maxPaymentId + 1;\n        stepExecution.getJobExecution().getExecutionContext().put(&quot;maxPaymentId&quot;, paymentId);\n\n        // Code\n\n    }\n}\n</code></pre>\n<p>I am able to access the context in the first partition which encounters this step but when the 2nd partition tries to do it, I get an exception.\nIn the below logs, you can see the first partition reading and writing successfully, but the 2nd partition throwing exception</p>\n<pre><code>2022-01-18 13:56:31.165  INFO 10193 --- [cTaskExecutor-1] c.a.b.l.CommonStepExecutionListener      : Step: POPULATE_PAYMENT_PENDING_TABLES_STEP-Period_1-worker:partition_1_2, Completion time: 2022-01-18T13:56:31.164932, Time taken: 2.153457343 secs, Read count: 1, Write count: 1, Status: COMPLETED\n2022-01-18 13:56:33.583  INFO 10193 --- [cTaskExecutor-6] c.a.b.l.CommonStepExecutionListener      : Step: POPULATE_PAYMENT_PENDING_TABLES_STEP-Period_1-worker:partition_2_2 started at: 2022-01-18T13:56:33.583653\n2022-01-18 13:56:33.900 ERROR 10193 --- [cTaskExecutor-6] o.s.batch.core.step.AbstractStep         : Encountered an error executing step POPULATE_PAYMENT_PENDING_TABLES_STEP-Period_1-worker in job PENDING_PAYMENTS_AGGREGATOR_JOB\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.pendingTaxDetailsProcessor' defined in file [/Users/user/workspace/billing-paymentrun-service/target/classes/com/awin/billing/steps/pendingpaymentaggregator/processor/PendingTaxDetailsProcessor.class]: Unexpected exception during bean creation; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.batch.core.StepExecution' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:537)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)\n    at org.springframework.batch.core.scope.StepScope.get(StepScope.java:113)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:676)\n    at com.awin.billing.steps.pendingpaymentaggregator.processor.PendingTaxDetailsProcessor$$EnhancerBySpringCGLIB$$4c5e2a24.process(&lt;generated&gt;)\n    at org.springframework.batch.item.support.CompositeItemProcessor.processItem(CompositeItemProcessor.java:63)\n    at org.springframework.batch.item.support.CompositeItemProcessor.process(CompositeItemProcessor.java:52)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:134)\n    at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$1.doWithRetry(FaultTolerantChunkProcessor.java:239)\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:255)\n    at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:217)\n    at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.transform(FaultTolerantChunkProcessor.java:308)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:210)\n    at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n    at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208)\n    at org.springframework.batch.core.partition.support.TaskExecutorPartitionHandler$1.call(TaskExecutorPartitionHandler.java:138)\n    at org.springframework.batch.core.partition.support.TaskExecutorPartitionHandler$1.call(TaskExecutorPartitionHandler.java:135)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.core.task.SimpleAsyncTaskExecutor$ConcurrencyThrottlingRunnable.run(SimpleAsyncTaskExecutor.java:280)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.batch.core.StepExecution' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1790)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:834)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1354)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    ... 32 common frames omitted\n</code></pre>\n"},{"tags":["java","algorithm","stack-overflow","divide-and-conquer","divide"],"comments":[{"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"score":0,"creation_date":1642994349,"post_id":70828635,"comment_id":125213877,"body_markdown":"https://stackoverflow.com/questions/214741/what-is-a-stackoverflowerror Does this help?","body":"<a href=\"https://stackoverflow.com/questions/214741/what-is-a-stackoverflowerror\" title=\"what is a stackoverflowerror\">stackoverflow.com/questions/214741/what-is-a-stackoverflower&zwnj;&#8203;ror</a> Does this help?"},{"owner":{"account_id":18400238,"reputation":23,"user_id":17930693,"display_name":"Psycho Bunnies"},"score":0,"creation_date":1642994675,"post_id":70828635,"comment_id":125213935,"body_markdown":"@EwanBrown This is helpful, thank you. I am still struggling a bit though with how to solve my particular case. I am a bit new, and not the quickest with Java.","body":"@EwanBrown This is helpful, thank you. I am still struggling a bit though with how to solve my particular case. I am a bit new, and not the quickest with Java."},{"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"score":0,"creation_date":1642994748,"post_id":70828635,"comment_id":125213952,"body_markdown":"what is the length of the heights array?","body":"what is the length of the heights array?"},{"owner":{"account_id":18400238,"reputation":23,"user_id":17930693,"display_name":"Psycho Bunnies"},"score":0,"creation_date":1642995473,"post_id":70828635,"comment_id":125214081,"body_markdown":"It is random, it can actually go into the thousands","body":"It is random, it can actually go into the thousands"}],"answers":[{"tags":[],"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643004316,"creation_date":1642997810,"answer_id":70828948,"question_id":70828635,"body_markdown":"Sorry for being late, I had my online class.\r\n\r\nHere&#39;s my non recursive approach :\r\n\r\n    public static int getLargestArea(int[] histogram) {\r\n        if(histogram.length == 0) return 0;\r\n        if(histogram.length == 1) return histogram[0];\r\n        int max = 0;\r\n        for(int i = 0; i &lt; histogram.length; i++) {\r\n            int area = findAreaOf(histogram, i);\r\n            if(max ‹ area)  max = area;\r\n        }\r\n        return max; \r\n    }\r\n    private static int findAreaOf(int[] histogram,  int index) {\r\n\r\n        //Find area left to index. \r\n        int leftArea = 0;\r\n        for(int i = index - 1; i &gt;= 0; i--) {\r\n            if(histogram[i] &lt; histogram[index]) break; \r\n            leftArea += histogram[index]:\r\n        }\r\n\r\n        //Find area right to index. \r\n        int rightArea = 0;\r\n        for(int i = index + 1; i &lt; histogram.length; i++) {\r\n            if(histogram[i] &lt; histogram[index]) break; \r\n            rightArea += histogram[index]:\r\n        }\r\n\r\n        return histogram[index] + leftArea + rightArea;\r\n    }","title":"Java Divide and Conquer: Largest area of a histogram","body":"<p>Sorry for being late, I had my online class.</p>\n<p>Here's my non recursive approach :</p>\n<pre><code>public static int getLargestArea(int[] histogram) {\n    if(histogram.length == 0) return 0;\n    if(histogram.length == 1) return histogram[0];\n    int max = 0;\n    for(int i = 0; i &lt; histogram.length; i++) {\n        int area = findAreaOf(histogram, i);\n        if(max ‹ area)  max = area;\n    }\n    return max; \n}\nprivate static int findAreaOf(int[] histogram,  int index) {\n\n    //Find area left to index. \n    int leftArea = 0;\n    for(int i = index - 1; i &gt;= 0; i--) {\n        if(histogram[i] &lt; histogram[index]) break; \n        leftArea += histogram[index]:\n    }\n\n    //Find area right to index. \n    int rightArea = 0;\n    for(int i = index + 1; i &lt; histogram.length; i++) {\n        if(histogram[i] &lt; histogram[index]) break; \n        rightArea += histogram[index]:\n    }\n\n    return histogram[index] + leftArea + rightArea;\n}\n</code></pre>\n"}],"owner":{"account_id":18400238,"reputation":23,"user_id":17930693,"display_name":"Psycho Bunnies"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643004316,"creation_date":1642994154,"question_id":70828635,"body_markdown":"I am trying to implement a divide and conquer algorithm where you are given an integer array A of size n; all numbers in A are non-negative. A represents a histogram where each bar has width 1 and the i-th bar has height A[i]. My goal is to find the area of the largest\r\nrectangle in the histogram that is completely covered by bars. Here is a picture to visualize this: [Histogram Area][1] \r\n\r\nHere is my code:\r\n\r\n```\r\n public static int problem(int[] heights) {\r\n    \treturn largestArea(heights, 0, heights.length-1);\r\n    }\r\n    \r\n    private static int largestArea(int[] heights, int low, int high){\r\n    \tif(low &gt; high) return 0;\r\n    \tif(low == high) return heights[low];\r\n    \tint minIndex = findIndexOfMinimumValue(heights, low, high);\r\n    \tint areaWithMin = (high-low+1) * heights[minIndex];\r\n    \tint areaLeft = largestArea(heights, low, minIndex-1);\r\n    \tint areaRight = largestArea(heights, minIndex+1, high);\r\n\r\n    \treturn Math.max(areaWithMin, Math.max(areaLeft, areaRight));\r\n    }\r\n    \r\n    private static int findIndexOfMinimumValue(int[] heights, int low, int high){\r\n    \tint minIndex = low;\r\n    \tfor(int i=low; i&lt;=high; i++)\r\n    \t\tif(heights[i] &lt; heights[minIndex])\r\n    \t\t\tminIndex = i;\r\n    \treturn minIndex;\r\n    }\r\n```\r\n\r\nHowever I am getting a stack overflow error from this line\r\n```\r\nint areaLeft = largestArea(heights, low, minIndex-1);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dYAoF.png","title":"Java Divide and Conquer: Largest area of a histogram","body":"<p>I am trying to implement a divide and conquer algorithm where you are given an integer array A of size n; all numbers in A are non-negative. A represents a histogram where each bar has width 1 and the i-th bar has height A[i]. My goal is to find the area of the largest\nrectangle in the histogram that is completely covered by bars. Here is a picture to visualize this: <a href=\"https://i.stack.imgur.com/dYAoF.png\" rel=\"nofollow noreferrer\">Histogram Area</a></p>\n<p>Here is my code:</p>\n<pre><code> public static int problem(int[] heights) {\n        return largestArea(heights, 0, heights.length-1);\n    }\n    \n    private static int largestArea(int[] heights, int low, int high){\n        if(low &gt; high) return 0;\n        if(low == high) return heights[low];\n        int minIndex = findIndexOfMinimumValue(heights, low, high);\n        int areaWithMin = (high-low+1) * heights[minIndex];\n        int areaLeft = largestArea(heights, low, minIndex-1);\n        int areaRight = largestArea(heights, minIndex+1, high);\n\n        return Math.max(areaWithMin, Math.max(areaLeft, areaRight));\n    }\n    \n    private static int findIndexOfMinimumValue(int[] heights, int low, int high){\n        int minIndex = low;\n        for(int i=low; i&lt;=high; i++)\n            if(heights[i] &lt; heights[minIndex])\n                minIndex = i;\n        return minIndex;\n    }\n</code></pre>\n<p>However I am getting a stack overflow error from this line</p>\n<pre><code>int areaLeft = largestArea(heights, low, minIndex-1);\n</code></pre>\n"},{"tags":["java","intellij-idea","sap-commerce-cloud","jrebel"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":1,"creation_date":1638255793,"post_id":70153353,"comment_id":124033173,"body_markdown":"please do ant build or restart the hybris instance","body":"please do ant build or restart the hybris instance"},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1638279356,"post_id":70153353,"comment_id":124041802,"body_markdown":"@RaushanKumar: no luck","body":"@RaushanKumar: no luck"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":1,"creation_date":1638280047,"post_id":70153353,"comment_id":124042124,"body_markdown":"which java version are you using?","body":"which java version are you using?"},{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":1,"creation_date":1638441803,"post_id":70153353,"comment_id":124091042,"body_markdown":"Please specify your java version, hybris version, jrebel version. Have you configured it correctly ? https://manuals.jrebel.com/jrebel/advanced/hybris.html https://help.sap.com/viewer/d0224eca81e249cb821f2cdf45a82ace/2105/en-US/8be5ab06866910149c83e0bd4a187fd8.html","body":"Please specify your java version, hybris version, jrebel version. Have you configured it correctly ? <a href=\"https://manuals.jrebel.com/jrebel/advanced/hybris.html\" rel=\"nofollow noreferrer\">manuals.jrebel.com/jrebel/advanced/hybris.html</a> <a href=\"https://help.sap.com/viewer/d0224eca81e249cb821f2cdf45a82ace/2105/en-US/8be5ab06866910149c83e0bd4a187fd8.html\" rel=\"nofollow noreferrer\">help.sap.com/viewer/d0224eca81e249cb821f2cdf45a82ace/2105/en&zwnj;&#8203;-US/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24033999,"reputation":26,"user_id":18014483,"display_name":"Pavel Boitsov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643004017,"creation_date":1643004017,"answer_id":70829581,"question_id":70153353,"body_markdown":"The new JRebel Agent no longer works using -javaagent. This change affects users previously running with the Legacy Agent from a command line (as well as on a remote machine or container)\r\nfrom here:\r\nhttps://manuals.jrebel.com/jrebel/misc/jrebel7-agent-upgrade-cli.html\r\n\r\nRemove -javaagent argument from javaoptions or downgrade to an older JRebel version.\r\nIts working well just with -agentpath argument.\r\nTested on newer Hybris + latest Java 11 + latest JRebel","title":"Exception in logs on starting Hybris with JRebel","body":"<p>The new JRebel Agent no longer works using -javaagent. This change affects users previously running with the Legacy Agent from a command line (as well as on a remote machine or container)\nfrom here:\n<a href=\"https://manuals.jrebel.com/jrebel/misc/jrebel7-agent-upgrade-cli.html\" rel=\"nofollow noreferrer\">https://manuals.jrebel.com/jrebel/misc/jrebel7-agent-upgrade-cli.html</a></p>\n<p>Remove -javaagent argument from javaoptions or downgrade to an older JRebel version.\nIts working well just with -agentpath argument.\nTested on newer Hybris + latest Java 11 + latest JRebel</p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70829581,"answer_count":1,"score":0,"last_activity_date":1643004017,"creation_date":1638182937,"question_id":70153353,"body_markdown":"&gt; Exception in thread &quot;rebel-messaging-executor-44&quot;\r\n&gt; java.lang.NoSuchMethodError:\r\n&gt; sun.security.ssl.InputRecord._jr$ig$handshakeHash(Ljava/lang/Object;)Lsun/security/ssl/HandshakeHash;\r\n\r\nSystem Details:\r\n\r\n - Java 11.0.12\r\n - Hybris 2005.0\r\n - jrebel-2021.4.1\r\n\r\nI have downloaded the JRebel zip file then unizipped it. Also, installed the JRebel IntelliJ plugin.\r\n\r\nlocal.propeties\r\n\r\n    tomcat.javaoptions=-Xverify:none -javaagent:&quot;C:\\\\Users\\\\CHISHTM\\\\Downloads\\\\jrebel-2021.4.1-nosetup\\\\jrebel\\\\jrebel.jar=de.hybris.tomcat.HybrisWebappClassLoader60&quot; -agentpath:C:\\\\Users\\\\CHISHTM\\\\Downloads\\\\jrebel-2021.4.1-nosetup\\\\jrebel\\\\lib\\\\jrebel64.dll\r\n\r\n","title":"Exception in logs on starting Hybris with JRebel","body":"<blockquote>\n<p>Exception in thread &quot;rebel-messaging-executor-44&quot;\njava.lang.NoSuchMethodError:\nsun.security.ssl.InputRecord._jr$ig$handshakeHash(Ljava/lang/Object;)Lsun/security/ssl/HandshakeHash;</p>\n</blockquote>\n<p>System Details:</p>\n<ul>\n<li>Java 11.0.12</li>\n<li>Hybris 2005.0</li>\n<li>jrebel-2021.4.1</li>\n</ul>\n<p>I have downloaded the JRebel zip file then unizipped it. Also, installed the JRebel IntelliJ plugin.</p>\n<p>local.propeties</p>\n<pre><code>tomcat.javaoptions=-Xverify:none -javaagent:&quot;C:\\\\Users\\\\CHISHTM\\\\Downloads\\\\jrebel-2021.4.1-nosetup\\\\jrebel\\\\jrebel.jar=de.hybris.tomcat.HybrisWebappClassLoader60&quot; -agentpath:C:\\\\Users\\\\CHISHTM\\\\Downloads\\\\jrebel-2021.4.1-nosetup\\\\jrebel\\\\lib\\\\jrebel64.dll\n</code></pre>\n"},{"tags":["java","android","firebase","kotlin"],"answers":[{"tags":[],"owner":{"account_id":15643074,"reputation":1,"user_id":11285949,"display_name":"Gece"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643003681,"creation_date":1642927159,"answer_id":70820400,"question_id":70820269,"body_markdown":"The screen is trying to initialize before data is received from the Adapter to the Layoutmanager.\r\n\r\n\r\n\r\n        private fun setRecentRecycler(recentsDataList: List&lt;RecentsData&gt;) {\r\n        recentRecycler = findViewById(R.id.recent_recycler)\r\n        topPlacesAdapter = TopPlacesAdapter(this, recentsDataList)\r\n        val layoutManager: RecyclerView.LayoutManager =\r\n            LinearLayoutManager(this@Fragment/Activity, RecyclerView.HORIZONTAL, false)\r\n       \r\n    }\r\n\r\n\r\n        private fun setTopPlacesRecycler(topPlacesDataList: List&lt;TopPlacesData&gt;) {\r\n        topPlacesRecycler = findViewById(R.id.top_places_recycler)\r\n        recentsAdapter = RecentsAdapter(this, topPlacesDataList)\r\n        val layoutManager: RecyclerView.LayoutManager =\r\n        LinearLayoutManager(this@Fragment/Activity, RecyclerView.VERTICAL, false)\r\n       \r\n    }\r\n\r\n","title":"Smart cast to &#39;RecyclerView!&#39; is impossible, because &#39;recentRecycler&#39; is a mutable property that could have been changed by this time","body":"<p>The screen is trying to initialize before data is received from the Adapter to the Layoutmanager.</p>\n<pre><code>    private fun setRecentRecycler(recentsDataList: List&lt;RecentsData&gt;) {\n    recentRecycler = findViewById(R.id.recent_recycler)\n    topPlacesAdapter = TopPlacesAdapter(this, recentsDataList)\n    val layoutManager: RecyclerView.LayoutManager =\n        LinearLayoutManager(this@Fragment/Activity, RecyclerView.HORIZONTAL, false)\n   \n}\n\n\n    private fun setTopPlacesRecycler(topPlacesDataList: List&lt;TopPlacesData&gt;) {\n    topPlacesRecycler = findViewById(R.id.top_places_recycler)\n    recentsAdapter = RecentsAdapter(this, topPlacesDataList)\n    val layoutManager: RecyclerView.LayoutManager =\n    LinearLayoutManager(this@Fragment/Activity, RecyclerView.VERTICAL, false)\n   \n}\n</code></pre>\n"}],"owner":{"account_id":23985333,"reputation":11,"user_id":17972216,"display_name":"Divyanshu Dobriyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642952365,"answer_count":1,"score":0,"last_activity_date":1643003681,"creation_date":1642925727,"question_id":70820269,"body_markdown":"I tried converting my code from java to kotlin and hence I am facing this error. I don&#39;t understand why am I getting this error\r\n\r\nError\r\n```\r\nSmart cast to &#39;RecyclerView!&#39; is impossible, because &#39;recentRecycler&#39; is a mutable property that could have been changed by this time\r\nSmart cast to &#39;RecyclerView!&#39; is impossible, because &#39;recentRecycler&#39; is a mutable property that could have been changed by this time\r\nSmart cast to &#39;RecyclerView!&#39; is impossible, because &#39;topPlacesRecycler&#39; is a mutable property that could have been changed by this time\r\nSmart cast to &#39;RecyclerView!&#39; is impossible, because &#39;topPlacesRecycler&#39; is a mutable property that could have been changed by this time\r\n```\r\n\r\nI am only attaching the code which is giving me an error and highlightin it too\r\n```\r\nprivate fun setRecentRecycler(recentsDataList: List&lt;RecentsData&gt;) {\r\n        recentRecycler = findViewById(R.id.recent_recycler)\r\n        val layoutManager: RecyclerView.LayoutManager =\r\n            LinearLayoutManager(this, RecyclerView.HORIZONTAL, false)\r\n        **recentRecycler.setLayoutManager(layoutManager)** //error\r\n        recentsAdapter = RecentsAdapter(this, recentsDataList)\r\n        **recentRecycler.setAdapter(recentsAdapter)**//error\r\n    }\r\n\r\n    private fun setTopPlacesRecycler(topPlacesDataList: List&lt;TopPlacesData&gt;) {\r\n        topPlacesRecycler = findViewById(R.id.top_places_recycler)\r\n        val layoutManager: RecyclerView.LayoutManager =\r\n            LinearLayoutManager(this, RecyclerView.VERTICAL, false)\r\n        **topPlacesRecycler.setLayoutManager(layoutManager)**//error\r\n        topPlacesAdapter = TopPlacesAdapter(this, topPlacesDataList)\r\n        **topPlacesRecycler.setAdapter(topPlacesAdapter)**//error\r\n    } \r\n```","title":"Smart cast to &#39;RecyclerView!&#39; is impossible, because &#39;recentRecycler&#39; is a mutable property that could have been changed by this time","body":"<p>I tried converting my code from java to kotlin and hence I am facing this error. I don't understand why am I getting this error</p>\n<p>Error</p>\n<pre><code>Smart cast to 'RecyclerView!' is impossible, because 'recentRecycler' is a mutable property that could have been changed by this time\nSmart cast to 'RecyclerView!' is impossible, because 'recentRecycler' is a mutable property that could have been changed by this time\nSmart cast to 'RecyclerView!' is impossible, because 'topPlacesRecycler' is a mutable property that could have been changed by this time\nSmart cast to 'RecyclerView!' is impossible, because 'topPlacesRecycler' is a mutable property that could have been changed by this time\n</code></pre>\n<p>I am only attaching the code which is giving me an error and highlightin it too</p>\n<pre><code>private fun setRecentRecycler(recentsDataList: List&lt;RecentsData&gt;) {\n        recentRecycler = findViewById(R.id.recent_recycler)\n        val layoutManager: RecyclerView.LayoutManager =\n            LinearLayoutManager(this, RecyclerView.HORIZONTAL, false)\n        **recentRecycler.setLayoutManager(layoutManager)** //error\n        recentsAdapter = RecentsAdapter(this, recentsDataList)\n        **recentRecycler.setAdapter(recentsAdapter)**//error\n    }\n\n    private fun setTopPlacesRecycler(topPlacesDataList: List&lt;TopPlacesData&gt;) {\n        topPlacesRecycler = findViewById(R.id.top_places_recycler)\n        val layoutManager: RecyclerView.LayoutManager =\n            LinearLayoutManager(this, RecyclerView.VERTICAL, false)\n        **topPlacesRecycler.setLayoutManager(layoutManager)**//error\n        topPlacesAdapter = TopPlacesAdapter(this, topPlacesDataList)\n        **topPlacesRecycler.setAdapter(topPlacesAdapter)**//error\n    } \n</code></pre>\n"},{"tags":["java","controller","annotations","constraints","micronaut"],"comments":[{"owner":{"account_id":10555285,"reputation":1221,"user_id":7776688,"display_name":"IEE1394"},"score":1,"creation_date":1642905307,"post_id":70797270,"comment_id":125196688,"body_markdown":"well but micronaut is not spring ;-) ... so what is the problem of having everything that belongs to the controller within the controller and the declaration of your api within the interface?","body":"well but micronaut is not spring ;-) ... so what is the problem of having everything that belongs to the controller within the controller and the declaration of your api within the interface?"}],"answers":[{"tags":[],"owner":{"account_id":19376590,"reputation":61,"user_id":14168738,"display_name":"Oleh Kuzmenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643003679,"creation_date":1643003679,"answer_id":70829544,"question_id":70797270,"body_markdown":"Everything works when add dependency\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.micronaut.beanvalidation&lt;/groupId&gt;\r\n  &lt;artifactId&gt;micronaut-hibernate-validator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Why javax constraint annotations don&#39;t work with Micronaut when input parameters are declared in the interface?","body":"<p>Everything works when add dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.micronaut.beanvalidation&lt;/groupId&gt;\n  &lt;artifactId&gt;micronaut-hibernate-validator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19376590,"reputation":61,"user_id":14168738,"display_name":"Oleh Kuzmenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643003679,"creation_date":1642746736,"question_id":70797270,"body_markdown":"For example, I have a simple controller in Micronaut\r\n``` \r\n@Controller(&quot;/hello&quot;)\r\npublic class MyApi implements Api {\r\n\r\n  @Override\r\n  public String hello(Integer i) {\r\n    return &quot;Num: &quot; + i;\r\n  }\r\n}\r\n\r\n@Validated\r\ninterface Api {\r\n\r\n  @Get(&quot;/&quot;)\r\n  String hello(@QueryValue @Max(10) Integer i);\r\n}\r\n```\r\nAnnotation ```@Max``` doesn&#39;t work, any numbers aren&#39;t validated. But the same example written in Spring works fine. ","title":"Why javax constraint annotations don&#39;t work with Micronaut when input parameters are declared in the interface?","body":"<p>For example, I have a simple controller in Micronaut</p>\n<pre><code>@Controller(&quot;/hello&quot;)\npublic class MyApi implements Api {\n\n  @Override\n  public String hello(Integer i) {\n    return &quot;Num: &quot; + i;\n  }\n}\n\n@Validated\ninterface Api {\n\n  @Get(&quot;/&quot;)\n  String hello(@QueryValue @Max(10) Integer i);\n}\n</code></pre>\n<p>Annotation <code>@Max</code> doesn't work, any numbers aren't validated. But the same example written in Spring works fine.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1570257668,"post_id":58245967,"comment_id":102863493,"body_markdown":"Use a font that has characters (glyphs) for Bengali.","body":"Use a font that has characters (glyphs) for Bengali."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1570438168,"post_id":58245967,"comment_id":102899859,"body_markdown":"Check if your font has &quot;S&quot;, or if it is broken, or if you used filtering in your resources (for that, try loading from a file instead of from resources). However... even if you get it to work with &quot;S&quot;, you&#39;ll have bad surprises with Indian glyphs, there is an ongoing (but currently inactive) effort here: https://issues.apache.org/jira/browse/PDFBOX-4189","body":"Check if your font has &quot;S&quot;, or if it is broken, or if you used filtering in your resources (for that, try loading from a file instead of from resources). However... even if you get it to work with &quot;S&quot;, you&#39;ll have bad surprises with Indian glyphs, there is an ongoing (but currently inactive) effort here: <a href=\"https://issues.apache.org/jira/browse/PDFBOX-4189\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-4189</a>"}],"owner":{"account_id":11103885,"reputation":1,"user_id":8702284,"display_name":"Snehasis Sahu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643003578,"creation_date":1570257282,"question_id":58245967,"body_markdown":"I trying to write some bengali text into a pdf with PDFBox but facing some problem No glyph for U+0053.I have no idea for glyph.\r\n            \r\n    File file = new File(&quot;xyz.pdf&quot;);\r\n    PDDocument document = PDDocument.load(file);\r\n    PDPage page = document.getPage(0);\r\n    PDPageContentStream contentStream = new PDPageContentStream(document, page);\r\n    contentStream.beginText();\r\n    PDFont font = PDType0Font.load(document, BengaliPdfGenerationHelloWorld.class.getResourceAsStream(&quot;/textloc/Lohit-Bengali.ttf&quot;),true);\r\n    contentStream.setFont(font,12);\r\n    contentStream.newLineAtOffset();\r\n    contentStream.showText(text);\r\n    contentStream.endText();\r\n    System.out.println(&quot;Content added&quot;);\r\n    contentStream.close();\r\n    document.save(new File(&quot;new.pdf&quot;));\r\n\r\n&gt; \r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No glyph for U+0053 (S) in font Lohit-Bengali\r\n    at org.apache.pdfbox.pdmodel.font.PDCIDFontType2.encode(PDCIDFontType2.java:366)\r\n    at org.apache.pdfbox.pdmodel.font.PDType0Font.encode(PDType0Font.java:415)\r\n    at org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:342)","title":"Unicode Font writing problem with PDFBox2(No glyph for U+0053)","body":"<p>I trying to write some bengali text into a pdf with PDFBox but facing some problem No glyph for U+0053.I have no idea for glyph.</p>\n<pre><code>File file = new File(&quot;xyz.pdf&quot;);\nPDDocument document = PDDocument.load(file);\nPDPage page = document.getPage(0);\nPDPageContentStream contentStream = new PDPageContentStream(document, page);\ncontentStream.beginText();\nPDFont font = PDType0Font.load(document, BengaliPdfGenerationHelloWorld.class.getResourceAsStream(&quot;/textloc/Lohit-Bengali.ttf&quot;),true);\ncontentStream.setFont(font,12);\ncontentStream.newLineAtOffset();\ncontentStream.showText(text);\ncontentStream.endText();\nSystem.out.println(&quot;Content added&quot;);\ncontentStream.close();\ndocument.save(new File(&quot;new.pdf&quot;));\n</code></pre>\n<blockquote>\n</blockquote>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No glyph for U+0053 (S) in font Lohit-Bengali\nat org.apache.pdfbox.pdmodel.font.PDCIDFontType2.encode(PDCIDFontType2.java:366)\nat org.apache.pdfbox.pdmodel.font.PDType0Font.encode(PDType0Font.java:415)\nat org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:342)\n</code></pre>\n"},{"tags":["java","jboss","java-11","java-ee-6"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1643003178,"creation_date":1643001557,"answer_id":70829316,"question_id":70829180,"body_markdown":"Your code should use [`java.lang.ref.Cleaner`][1] instead of `jdk.internal.ref.Cleaner`.  The latter was removed in Java 9:\r\n\r\n  -  https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8149925\r\n\r\nIf the usage of the &quot;internal&quot; `Cleaner` class is actually coming from 3rd-party library code, then you need to upgrade the library to a Java 11 compatible version.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ref/Cleaner.html","title":"JDK11 Upgrade Fails - ClassNotFoundException jdk.internal.ref.Cleaner","body":"<p>Your code should use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ref/Cleaner.html\" rel=\"nofollow noreferrer\"><code>java.lang.ref.Cleaner</code></a> instead of <code>jdk.internal.ref.Cleaner</code>.  The latter was removed in Java 9:</p>\n<ul>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8149925\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8149925</a></li>\n</ul>\n<p>If the usage of the &quot;internal&quot; <code>Cleaner</code> class is actually coming from 3rd-party library code, then you need to upgrade the library to a Java 11 compatible version.</p>\n"}],"owner":{"account_id":11791732,"reputation":322,"user_id":8627656,"accept_rate":80,"display_name":"IsharaD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70829316,"answer_count":1,"score":0,"last_activity_date":1643003178,"creation_date":1643000145,"question_id":70829180,"body_markdown":"I have upgraded my Java EE application to JDK 11 from JDK 8. But when I&#39;m deploying into the JBOSS EAP 7.3 server I get the following exception.\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: jdk.internal.ref.Cleaner from [Module &quot;deployment.DFNNTPOMS_X_X_3.003.000.00.0.ear&quot; from Service Module Loader]\r\n\tat deployment.DFNNTPOMS_X_X_3.003.000.00.0.ear//net.openhft.chronicle.hash.impl.util.CleanerUtils.&lt;clinit&gt;(CleanerUtils.java:42)\r\n\t... 63 more\r\nCaused by: java.lang.ClassNotFoundException: jdk.internal.ref.Cleaner from [Module &quot;deployment.DFNNTPOMS_X_X_3.003.000.00.0.ear&quot; from Service Module Loader]\r\n\tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:412)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:400)\r\n\tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat deployment.DFNNTPOMS_X_X_3.003.000.00.0.ear//net.openhft.chronicle.hash.impl.util.CleanerUtils.&lt;clinit&gt;(CleanerUtils.java:35)\r\n\t... 63 more\r\n```\r\nAny solution ? ","title":"JDK11 Upgrade Fails - ClassNotFoundException jdk.internal.ref.Cleaner","body":"<p>I have upgraded my Java EE application to JDK 11 from JDK 8. But when I'm deploying into the JBOSS EAP 7.3 server I get the following exception.</p>\n<pre><code>Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: jdk.internal.ref.Cleaner from [Module &quot;deployment.DFNNTPOMS_X_X_3.003.000.00.0.ear&quot; from Service Module Loader]\n    at deployment.DFNNTPOMS_X_X_3.003.000.00.0.ear//net.openhft.chronicle.hash.impl.util.CleanerUtils.&lt;clinit&gt;(CleanerUtils.java:42)\n    ... 63 more\nCaused by: java.lang.ClassNotFoundException: jdk.internal.ref.Cleaner from [Module &quot;deployment.DFNNTPOMS_X_X_3.003.000.00.0.ear&quot; from Service Module Loader]\n    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:412)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:400)\n    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at deployment.DFNNTPOMS_X_X_3.003.000.00.0.ear//net.openhft.chronicle.hash.impl.util.CleanerUtils.&lt;clinit&gt;(CleanerUtils.java:35)\n    ... 63 more\n</code></pre>\n<p>Any solution ?</p>\n"},{"tags":["java","android","nullpointerexception","arrays","runtimeexception"],"comments":[{"owner":{"account_id":414488,"reputation":411,"user_id":788733,"accept_rate":50,"display_name":"dragonfly"},"score":0,"creation_date":1312957838,"post_id":7006676,"comment_id":8365892,"body_markdown":"Maybe it&#39;s not the array but the part where you reference it that is causing a problem?","body":"Maybe it&#39;s not the array but the part where you reference it that is causing a problem?"},{"owner":{"account_id":456911,"reputation":8312,"user_id":855924,"accept_rate":95,"display_name":"Pikaling"},"score":0,"creation_date":1312957848,"post_id":7006676,"comment_id":8365896,"body_markdown":"can I see the `onCreate` method of your class `org.myfavs.droid.login`?","body":"can I see the <code>onCreate</code> method of your class <code>org.myfavs.droid.login</code>?"},{"owner":{"account_id":328140,"reputation":1569,"user_id":650929,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1312958295,"post_id":7006676,"comment_id":8365985,"body_markdown":"Read my edit to the initial question, please","body":"Read my edit to the initial question, please"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1312958323,"post_id":7006676,"comment_id":8365990,"body_markdown":"Which is line 32 of login.java?","body":"Which is line 32 of login.java?"},{"owner":{"account_id":328140,"reputation":1569,"user_id":650929,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1312958395,"post_id":7006676,"comment_id":8366000,"body_markdown":"32: ((EditText)findViewById(R.id.username)).setText(Interactor.getDB().getSetting(&quot;username&quot;));","body":"32: ((EditText)findViewById(R.id.username)).setText(Interactor.g&zwnj;&#8203;etDB().getSetting(&quot;u&zwnj;&#8203;sername&quot;));"},{"owner":{"account_id":319457,"reputation":15507,"user_id":637236,"accept_rate":55,"display_name":"Rasel"},"score":0,"creation_date":1312958558,"post_id":7006676,"comment_id":8366042,"body_markdown":"check the spelling in login.xml","body":"check the spelling in login.xml"},{"owner":{"account_id":328140,"reputation":1569,"user_id":650929,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1312958634,"post_id":7006676,"comment_id":8366056,"body_markdown":"Jon Skeet might be on to something.  While including the string-array resource, and commenting out line 32 of login&#39;s onCreate (as I said two comments above), the application works again.  So adding a string-array breaks that line somehow?","body":"Jon Skeet might be on to something.  While including the string-array resource, and commenting out line 32 of login&#39;s onCreate (as I said two comments above), the application works again.  So adding a string-array breaks that line somehow?"},{"owner":{"account_id":117637,"reputation":10154,"user_id":307990,"accept_rate":100,"display_name":"Greg Giacovelli"},"score":2,"creation_date":1312959143,"post_id":7006676,"comment_id":8366160,"body_markdown":"I assume you are using eclipse. This might sound too obvious, but did you do a clean build and force eclipse to refresh R and all your assets? I have found that sometimes if I have a lot of res files the indexes seem to not match the actual assets file anymore so my ids lookups don&#39;t always match. Like in this case I am betting the EditText Id is getting changed to a different value, but either R or your assets archive didn&#39;t get the update.","body":"I assume you are using eclipse. This might sound too obvious, but did you do a clean build and force eclipse to refresh R and all your assets? I have found that sometimes if I have a lot of res files the indexes seem to not match the actual assets file anymore so my ids lookups don&#39;t always match. Like in this case I am betting the EditText Id is getting changed to a different value, but either R or your assets archive didn&#39;t get the update."},{"owner":{"account_id":328140,"reputation":1569,"user_id":650929,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1312959223,"post_id":7006676,"comment_id":8366183,"body_markdown":"I&#39;m using Netbeans, but I know what you mean.  Yes, I have done that multiple times with no changes.","body":"I&#39;m using Netbeans, but I know what you mean.  Yes, I have done that multiple times with no changes."}],"answers":[{"tags":[],"owner":{"account_id":319457,"reputation":15507,"user_id":637236,"accept_rate":55,"display_name":"Rasel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1312958076,"creation_date":1312958076,"answer_id":7006752,"question_id":7006676,"body_markdown":"Surely there is no problem with your string array.Problem is in the code where you are accessing the string\r\n\r\ntry like this\r\n\r\n    Resources res = getResources();\r\n    String[] list = res.getStringArray(R.array.main_list);","title":"Android string-array crash","body":"<p>Surely there is no problem with your string array.Problem is in the code where you are accessing the string</p>\n\n<p>try like this</p>\n\n<pre><code>Resources res = getResources();\nString[] list = res.getStringArray(R.array.main_list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9246816,"reputation":11,"user_id":6868429,"display_name":"Alan Barrera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474611959,"creation_date":1474611959,"answer_id":39653942,"question_id":7006676,"body_markdown":"Well, this is a 5 years old post, but I just had the exact same problem (Android Studio 2.1.3). For me, the first string-array  worked perfectly, but whenever I tried to add a second one in the same file (strings.xml) my app crashed. So I was making tests and I noticed that if you make changes to your String resources, the changes appear immediately on the design, but if you run the app it just remain the same. I thought it has to do with the cache, so I just CLOSE AND OPEN ANDDROID STUDIO, and surprise, IT DID WORK, at least for me. If you want something quicker than close and open it manually, here is the best solution: In your project click **File-&gt;Invalidates Cache/Restart-&gt;Just restart** and it&#39;s done.\r\n\r\nPd. I was working whit Spinners when I found this problem, here is some of my code:\r\n\r\n&quot;strings.xml&quot;:\r\n\r\n    &lt;resources&gt;\r\n       &lt;string name=&quot;app_name&quot;&gt;Mascota Mia&lt;/string&gt;\r\n       &lt;string name=&quot;registrar_mascota&quot;&gt;Registrar Mascota&lt;/string&gt;\r\n       &lt;string name=&quot;agendar_consulta&quot;&gt;Agendar Consulta&lt;/string&gt;\r\n       &lt;string-array name=&quot;raza_array&quot;&gt;\r\n          &lt;item&gt;Perro&lt;/item&gt;\r\n          &lt;item&gt;Gato&lt;/item&gt;\r\n          &lt;item&gt;Cocodrilo&lt;/item&gt;\r\n          &lt;item&gt;Armadillo&lt;/item&gt;\r\n          &lt;item&gt;Ganso&lt;/item&gt;\r\n       &lt;/string-array&gt;\r\n       &lt;string-array name=&quot;pasatiempo_array&quot;&gt;\r\n          &lt;item&gt;Correr&lt;/item&gt;\r\n          &lt;item&gt;Nadar&lt;/item&gt;\r\n          &lt;item&gt;Dormir&lt;/item&gt;\r\n          &lt;item&gt;Morder el hueso&lt;/item&gt;\r\n          &lt;item&gt;Perseguir al gato&lt;/item&gt;\r\n       &lt;/string-array&gt;\r\n    &lt;/resources&gt;\r\n\r\n&quot;RegistrarMascota.java&quot; (only the onCreate method, this is where I use the string-arrays in my Spinners):\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_registrar_mascota);\r\n\r\n\r\n       //Spinner para la raza\r\n        Spinner spinneRaza = (Spinner) findViewById(R.id.raza);\r\n        ArrayAdapter&lt;CharSequence&gt;adapteRaz = ArrayAdapter.createFromResource(this,\r\n                R.array.raza_array, android.R.layout.simple_spinner_item);\r\n        adapteRaz.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinneRaza.setAdapter(adapteRaz);\r\n        spinneRaza.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\r\n\r\n                Toast.makeText(getBaseContext(), parent.getItemAtPosition(pos)+&quot; seleccionado&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n            }\r\n\r\n        });\r\n\r\n\r\n        //Spinner para los pasatiempos\r\n        Spinner spinnerPas = (Spinner) findViewById(R.id.pasatiempo);\r\n        ArrayAdapter&lt;CharSequence&gt; adapterPas = ArrayAdapter.createFromResource(this,\r\n                R.array.pasatiempo_array, android.R.layout.simple_spinner_item);\r\n        adapterPas.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinnerPas.setAdapter(adapterPas);\r\n        spinnerPas.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\r\n\r\n                Toast.makeText(getBaseContext(), parent.getItemAtPosition(pos)+&quot; seleccionado&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n            }\r\n\r\n        });\r\n\r\n    }","title":"Android string-array crash","body":"<p>Well, this is a 5 years old post, but I just had the exact same problem (Android Studio 2.1.3). For me, the first string-array  worked perfectly, but whenever I tried to add a second one in the same file (strings.xml) my app crashed. So I was making tests and I noticed that if you make changes to your String resources, the changes appear immediately on the design, but if you run the app it just remain the same. I thought it has to do with the cache, so I just CLOSE AND OPEN ANDDROID STUDIO, and surprise, IT DID WORK, at least for me. If you want something quicker than close and open it manually, here is the best solution: In your project click <strong>File->Invalidates Cache/Restart->Just restart</strong> and it's done.</p>\n\n<p>Pd. I was working whit Spinners when I found this problem, here is some of my code:</p>\n\n<p>\"strings.xml\":</p>\n\n<pre><code>&lt;resources&gt;\n   &lt;string name=\"app_name\"&gt;Mascota Mia&lt;/string&gt;\n   &lt;string name=\"registrar_mascota\"&gt;Registrar Mascota&lt;/string&gt;\n   &lt;string name=\"agendar_consulta\"&gt;Agendar Consulta&lt;/string&gt;\n   &lt;string-array name=\"raza_array\"&gt;\n      &lt;item&gt;Perro&lt;/item&gt;\n      &lt;item&gt;Gato&lt;/item&gt;\n      &lt;item&gt;Cocodrilo&lt;/item&gt;\n      &lt;item&gt;Armadillo&lt;/item&gt;\n      &lt;item&gt;Ganso&lt;/item&gt;\n   &lt;/string-array&gt;\n   &lt;string-array name=\"pasatiempo_array\"&gt;\n      &lt;item&gt;Correr&lt;/item&gt;\n      &lt;item&gt;Nadar&lt;/item&gt;\n      &lt;item&gt;Dormir&lt;/item&gt;\n      &lt;item&gt;Morder el hueso&lt;/item&gt;\n      &lt;item&gt;Perseguir al gato&lt;/item&gt;\n   &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>\"RegistrarMascota.java\" (only the onCreate method, this is where I use the string-arrays in my Spinners):</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_registrar_mascota);\n\n\n   //Spinner para la raza\n    Spinner spinneRaza = (Spinner) findViewById(R.id.raza);\n    ArrayAdapter&lt;CharSequence&gt;adapteRaz = ArrayAdapter.createFromResource(this,\n            R.array.raza_array, android.R.layout.simple_spinner_item);\n    adapteRaz.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinneRaza.setAdapter(adapteRaz);\n    spinneRaza.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\n\n            Toast.makeText(getBaseContext(), parent.getItemAtPosition(pos)+\" seleccionado\", Toast.LENGTH_LONG).show();\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n        }\n\n    });\n\n\n    //Spinner para los pasatiempos\n    Spinner spinnerPas = (Spinner) findViewById(R.id.pasatiempo);\n    ArrayAdapter&lt;CharSequence&gt; adapterPas = ArrayAdapter.createFromResource(this,\n            R.array.pasatiempo_array, android.R.layout.simple_spinner_item);\n    adapterPas.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinnerPas.setAdapter(adapterPas);\n    spinnerPas.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\n\n            Toast.makeText(getBaseContext(), parent.getItemAtPosition(pos)+\" seleccionado\", Toast.LENGTH_LONG).show();\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n        }\n\n    });\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19221641,"reputation":11,"user_id":14045320,"display_name":"Michael Siejak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601855272,"creation_date":1601855272,"answer_id":64200931,"question_id":7006676,"body_markdown":"I had the same problem, it was a bad backup. just clear the data of your app (uninstalling won&#39;t work)","title":"Android string-array crash","body":"<p>I had the same problem, it was a bad backup. just clear the data of your app (uninstalling won't work)</p>\n"},{"tags":[],"owner":{"account_id":2988908,"reputation":691,"user_id":2536953,"accept_rate":100,"display_name":"me_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643002016,"creation_date":1643002016,"answer_id":70829360,"question_id":7006676,"body_markdown":"Same problem, 2022 Android 11.\r\n\r\nI was trying to make a shortcuts.xml file and needed a string array.  The shortcuts.xml is under res/values/xml.  \r\n\r\nThe app crashed if I put a \\&lt;string-array&gt; reference in the strings.xml under res/values or made an arrays.xml in res/values and put it there.\r\n\r\nI put the arrays.xml under res/values/xml and it works.","title":"Android string-array crash","body":"<p>Same problem, 2022 Android 11.</p>\n<p>I was trying to make a shortcuts.xml file and needed a string array.  The shortcuts.xml is under res/values/xml.</p>\n<p>The app crashed if I put a &lt;string-array&gt; reference in the strings.xml under res/values or made an arrays.xml in res/values and put it there.</p>\n<p>I put the arrays.xml under res/values/xml and it works.</p>\n"}],"owner":{"account_id":328140,"reputation":1569,"user_id":650929,"accept_rate":100,"display_name":"Chris"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7006752,"answer_count":4,"score":0,"last_activity_date":1643002016,"creation_date":1312957430,"question_id":7006676,"body_markdown":"I have a very weird problem with my Android application.  Every time I add a string-array to my strings.xml (or any other file in res/values/), my program crashes on start up.  I know, with absolute certainty, that this is what is crashing it (since whenever I remove it, it works fine).  Anyway, here is the XML code that causes the crash:\r\n\r\n    &lt;string-array name=&quot;main_list&quot;&gt;\r\n            &lt;item&gt;Collections&lt;/item&gt;\r\n            &lt;item&gt;Requests&lt;/item&gt;\r\n            &lt;item&gt;Forums&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nIs there something wrong with the formatting of it at all?  It is inside the &quot;resources&quot; tags and everything.  Here is the full XML file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;!-- Activity Names --&gt;\r\n        &lt;string name=&quot;app_name&quot;&gt;MyFavs&lt;/string&gt;\r\n        &lt;!-- Login Vars --&gt;\r\n        &lt;string name=&quot;username_login_field&quot;&gt;Username&lt;/string&gt;\r\n        &lt;string name=&quot;password_login_field&quot;&gt;Password&lt;/string&gt;\r\n        &lt;string name=&quot;login_btn&quot;&gt;Login!&lt;/string&gt;\r\n        &lt;string name=&quot;remember_login_tag&quot;&gt;Save Login Info&lt;/string&gt;\r\n        &lt;string name=&quot;no_username_password&quot;&gt;You must supply a username and password&lt;/string&gt;\r\n        &lt;string name=&quot;sign_in_cancelled&quot;&gt;Sign-in cancelled&lt;/string&gt;\r\n        &lt;string name=&quot;sign_in_progress&quot;&gt;Signing in...&lt;/string&gt;\r\n        &lt;string name=&quot;invalid_username_password_alert_title&quot;&gt;Error&lt;/string&gt;\r\n        &lt;string name=&quot;invalid_username_password_alert_btn&quot;&gt;Ok&lt;/string&gt;\r\n        &lt;string name=&quot;menu_forgotten_password&quot;&gt;Forgot Password?&lt;/string&gt;\r\n        &lt;!-- ForgotPasswd Vars --&gt;\r\n        &lt;string name=&quot;forgotten_pass_field&quot;&gt;Email&lt;/string&gt;\r\n        &lt;string name=&quot;forgotten_pass_btn&quot;&gt;Recover Account&lt;/string&gt;\r\n        &lt;string name=&quot;forgot_passwd_progress&quot;&gt;Recovering account...&lt;/string&gt;\r\n        &lt;string name=&quot;invalid_forgot_passwd_title&quot;&gt;Recover Account&lt;/string&gt;\r\n        &lt;string name=&quot;invalid_forgot_passwd_btn&quot;&gt;Ok&lt;/string&gt;\r\n        &lt;string name=&quot;no_email&quot;&gt;You must supply a valid email&lt;/string&gt;\r\n        &lt;string name=&quot;recover_cancelled&quot;&gt;Recover cancelled&lt;/string&gt;\r\n        &lt;string name=&quot;menu_home&quot;&gt;Home&lt;/string&gt;\r\n        &lt;string-array name=&quot;main_list&quot;&gt;\r\n            &lt;item&gt;Collections&lt;/item&gt;\r\n            &lt;item&gt;Requests&lt;/item&gt;\r\n            &lt;item&gt;Forums&lt;/item&gt;\r\n        &lt;/string-array&gt;\r\n    &lt;/resources&gt;\r\n\r\nAgain, removing the &quot;string-array&quot; section at the bottom makes the program work, but adding it causes a crash.\r\n\r\nHere is the logcat crash log (although it doesn&#39;t help much):\r\n\r\n    W/dalvikvm(  849): threadid=3: thread exiting with uncaught exception (group=0x4001b188)\r\n    E/AndroidRuntime(  849): Uncaught handler: thread main exiting due to uncaught exception\r\n    E/AndroidRuntime(  849): java.lang.RuntimeException: Unable to start activity ComponentInfo{org.myfavs.droid/org.myfavs.droid.login}: java.lang.NullPointerException\r\n    E/AndroidRuntime(  849):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)\r\n    E/AndroidRuntime(  849):        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)\r\n    E/AndroidRuntime(  849):        at android.app.ActivityThread.access$2200(ActivityThread.java:119)\r\n    E/AndroidRuntime(  849):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)\r\n    E/AndroidRuntime(  849):        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    E/AndroidRuntime(  849):        at android.os.Looper.loop(Looper.java:123)\r\n    E/AndroidRuntime(  849):        at android.app.ActivityThread.main(ActivityThread.java:4363)\r\n    E/AndroidRuntime(  849):        at java.lang.reflect.Method.invokeNative(NativeMethod)\r\n    E/AndroidRuntime(  849):        at java.lang.reflect.Method.invoke(Method.java:521)\r\n    E/AndroidRuntime(  849):        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)\r\n    E/AndroidRuntime(  849):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\r\n    E/AndroidRuntime(  849):        at dalvik.system.NativeStart.main(Native Method)\r\n    E/AndroidRuntime(  849): Caused by: java.lang.NullPointerException\r\n    E/AndroidRuntime(  849):        at org.myfavs.droid.login.onCreate(login.java:32)\r\n    E/AndroidRuntime(  849):        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\r\n    E/AndroidRuntime(  849):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)\r\n    E/AndroidRuntime(  849):        ... 11 more\r\n    I/Process (   51): Sending signal. PID: 849 SIG: 3\r\n\r\n\r\nIf anyone has any ideas, please share them.  I have been working on this for quite a long time, and I&#39;m sure it is a stupid mistake but I just need another pair of eyes.  I would be willing to try any possible solution.\r\n\r\n\r\nEDIT:\r\n\r\nI removed every reference to the string-array resource and simply including the resource causes the crash.  I don&#39;t reference it anywhere, so its not that that is causing the problem.\r\n\r\nAs requested, here is my onCreate for &quot;login&quot;, although I haven&#39;t touched that code in a long time and it has always worked:\r\n\r\n    public void onCreate(Bundle savedInstanceState)\r\n        {\r\n    \tLog.d(&quot;Login&quot;,&quot;onCreate called&quot;);\r\n            super.onCreate(savedInstanceState);\r\n    \tInteractor.create(this);\r\n            setContentView(R.layout.login);\r\n    \t((EditText)findViewById(R.id.username)).setText(Interactor.getDB().getSetting(&quot;username&quot;));\r\n            EditText pwd = (EditText)findViewById(R.id.password);\r\n    \tpwd.setText(Interactor.getDB().getSetting(&quot;password&quot;));\r\n    \tif (Interactor.getDB().getSetting(&quot;save_login&quot;).equals(&quot;yes&quot;))\r\n    \t    ((CheckBox)findViewById(R.id.remember_login)).setChecked(true);\r\n            // Treat &quot;Send&quot; soft-button on keyboard as a button click\r\n            pwd.setOnEditorActionListener(new android.widget.TextView.OnEditorActionListener()\r\n                    {\r\n                        public boolean onEditorAction(TextView v, int actionId, KeyEvent event)\r\n                        {\r\n                            if (actionId == EditorInfo.IME_ACTION_SEND)\r\n                                ((Button)findViewById(R.id.login_btn)).performClick();\r\n                            return true;\r\n                        }\r\n                    });\r\n        }\r\n\r\n\r\nThe exception is being thrown just by including the resource inside res/values even without ever referencing it.  That&#39;s why its so weird to me...\r\n\r\n\r\nEDIT of the EDIT:\r\n\r\nJon Skeet might be on to something. While including the string-array resource, and commenting out line 32 of login&#39;s onCreate (as I said what line that is in the comments above), the application works again. So adding a string-array breaks that line somehow?  Any help in why adding the string-array resource would break that, but it works 100% without adding the resource?","title":"Android string-array crash","body":"<p>I have a very weird problem with my Android application.  Every time I add a string-array to my strings.xml (or any other file in res/values/), my program crashes on start up.  I know, with absolute certainty, that this is what is crashing it (since whenever I remove it, it works fine).  Anyway, here is the XML code that causes the crash:</p>\n\n<pre><code>&lt;string-array name=\"main_list\"&gt;\n        &lt;item&gt;Collections&lt;/item&gt;\n        &lt;item&gt;Requests&lt;/item&gt;\n        &lt;item&gt;Forums&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p>Is there something wrong with the formatting of it at all?  It is inside the \"resources\" tags and everything.  Here is the full XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;!-- Activity Names --&gt;\n    &lt;string name=\"app_name\"&gt;MyFavs&lt;/string&gt;\n    &lt;!-- Login Vars --&gt;\n    &lt;string name=\"username_login_field\"&gt;Username&lt;/string&gt;\n    &lt;string name=\"password_login_field\"&gt;Password&lt;/string&gt;\n    &lt;string name=\"login_btn\"&gt;Login!&lt;/string&gt;\n    &lt;string name=\"remember_login_tag\"&gt;Save Login Info&lt;/string&gt;\n    &lt;string name=\"no_username_password\"&gt;You must supply a username and password&lt;/string&gt;\n    &lt;string name=\"sign_in_cancelled\"&gt;Sign-in cancelled&lt;/string&gt;\n    &lt;string name=\"sign_in_progress\"&gt;Signing in...&lt;/string&gt;\n    &lt;string name=\"invalid_username_password_alert_title\"&gt;Error&lt;/string&gt;\n    &lt;string name=\"invalid_username_password_alert_btn\"&gt;Ok&lt;/string&gt;\n    &lt;string name=\"menu_forgotten_password\"&gt;Forgot Password?&lt;/string&gt;\n    &lt;!-- ForgotPasswd Vars --&gt;\n    &lt;string name=\"forgotten_pass_field\"&gt;Email&lt;/string&gt;\n    &lt;string name=\"forgotten_pass_btn\"&gt;Recover Account&lt;/string&gt;\n    &lt;string name=\"forgot_passwd_progress\"&gt;Recovering account...&lt;/string&gt;\n    &lt;string name=\"invalid_forgot_passwd_title\"&gt;Recover Account&lt;/string&gt;\n    &lt;string name=\"invalid_forgot_passwd_btn\"&gt;Ok&lt;/string&gt;\n    &lt;string name=\"no_email\"&gt;You must supply a valid email&lt;/string&gt;\n    &lt;string name=\"recover_cancelled\"&gt;Recover cancelled&lt;/string&gt;\n    &lt;string name=\"menu_home\"&gt;Home&lt;/string&gt;\n    &lt;string-array name=\"main_list\"&gt;\n        &lt;item&gt;Collections&lt;/item&gt;\n        &lt;item&gt;Requests&lt;/item&gt;\n        &lt;item&gt;Forums&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Again, removing the \"string-array\" section at the bottom makes the program work, but adding it causes a crash.</p>\n\n<p>Here is the logcat crash log (although it doesn't help much):</p>\n\n<pre><code>W/dalvikvm(  849): threadid=3: thread exiting with uncaught exception (group=0x4001b188)\nE/AndroidRuntime(  849): Uncaught handler: thread main exiting due to uncaught exception\nE/AndroidRuntime(  849): java.lang.RuntimeException: Unable to start activity ComponentInfo{org.myfavs.droid/org.myfavs.droid.login}: java.lang.NullPointerException\nE/AndroidRuntime(  849):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)\nE/AndroidRuntime(  849):        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)\nE/AndroidRuntime(  849):        at android.app.ActivityThread.access$2200(ActivityThread.java:119)\nE/AndroidRuntime(  849):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)\nE/AndroidRuntime(  849):        at android.os.Handler.dispatchMessage(Handler.java:99)\nE/AndroidRuntime(  849):        at android.os.Looper.loop(Looper.java:123)\nE/AndroidRuntime(  849):        at android.app.ActivityThread.main(ActivityThread.java:4363)\nE/AndroidRuntime(  849):        at java.lang.reflect.Method.invokeNative(NativeMethod)\nE/AndroidRuntime(  849):        at java.lang.reflect.Method.invoke(Method.java:521)\nE/AndroidRuntime(  849):        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)\nE/AndroidRuntime(  849):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\nE/AndroidRuntime(  849):        at dalvik.system.NativeStart.main(Native Method)\nE/AndroidRuntime(  849): Caused by: java.lang.NullPointerException\nE/AndroidRuntime(  849):        at org.myfavs.droid.login.onCreate(login.java:32)\nE/AndroidRuntime(  849):        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\nE/AndroidRuntime(  849):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)\nE/AndroidRuntime(  849):        ... 11 more\nI/Process (   51): Sending signal. PID: 849 SIG: 3\n</code></pre>\n\n<p>If anyone has any ideas, please share them.  I have been working on this for quite a long time, and I'm sure it is a stupid mistake but I just need another pair of eyes.  I would be willing to try any possible solution.</p>\n\n<p>EDIT:</p>\n\n<p>I removed every reference to the string-array resource and simply including the resource causes the crash.  I don't reference it anywhere, so its not that that is causing the problem.</p>\n\n<p>As requested, here is my onCreate for \"login\", although I haven't touched that code in a long time and it has always worked:</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState)\n    {\n    Log.d(\"Login\",\"onCreate called\");\n        super.onCreate(savedInstanceState);\n    Interactor.create(this);\n        setContentView(R.layout.login);\n    ((EditText)findViewById(R.id.username)).setText(Interactor.getDB().getSetting(\"username\"));\n        EditText pwd = (EditText)findViewById(R.id.password);\n    pwd.setText(Interactor.getDB().getSetting(\"password\"));\n    if (Interactor.getDB().getSetting(\"save_login\").equals(\"yes\"))\n        ((CheckBox)findViewById(R.id.remember_login)).setChecked(true);\n        // Treat \"Send\" soft-button on keyboard as a button click\n        pwd.setOnEditorActionListener(new android.widget.TextView.OnEditorActionListener()\n                {\n                    public boolean onEditorAction(TextView v, int actionId, KeyEvent event)\n                    {\n                        if (actionId == EditorInfo.IME_ACTION_SEND)\n                            ((Button)findViewById(R.id.login_btn)).performClick();\n                        return true;\n                    }\n                });\n    }\n</code></pre>\n\n<p>The exception is being thrown just by including the resource inside res/values even without ever referencing it.  That's why its so weird to me...</p>\n\n<p>EDIT of the EDIT:</p>\n\n<p>Jon Skeet might be on to something. While including the string-array resource, and commenting out line 32 of login's onCreate (as I said what line that is in the comments above), the application works again. So adding a string-array breaks that line somehow?  Any help in why adding the string-array resource would break that, but it works 100% without adding the resource?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1588836405,"post_id":61652052,"comment_id":109054114,"body_markdown":"why do you need all that? Car c = new Car(&quot;Audi&quot;); already gives you your Car instance. I don&#39;t understand what you are trying to do here","body":"why do you need all that? Car c = new Car(&quot;Audi&quot;); already gives you your Car instance. I don&#39;t understand what you are trying to do here"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1588836406,"post_id":61652052,"comment_id":109054115,"body_markdown":"You can not cast the proxy to `Car`. It implements the same interfaces as `Car`, but it is NOT a `Car`.","body":"You can not cast the proxy to <code>Car</code>. It implements the same interfaces as <code>Car</code>, but it is NOT a <code>Car</code>."}],"answers":[{"tags":[],"owner":{"account_id":24033539,"reputation":1,"user_id":18014070,"display_name":"Sanjay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643001871,"creation_date":1643000043,"answer_id":70829172,"question_id":61652052,"body_markdown":"You&#39;re implementing the Proxy class, `i.e. Car` at compile time. The idea of dynamic proxy is to have the &#39;proxy class&#39; generated at runtime, i.e. the proxy class implementation at compile time is not needed.\r\n\r\nIn this code snippet\r\n \r\n    **Car** v = **(Car)** Proxy.newProxyInstance(cl,\r\n            new Class[] {IVehicle.class, **IVehicle2.class**}, new VehicleHandler(c));\r\n\r\nHave the proxy instance assigned to one of interface that it implements. Based on the interface it&#39;s assigned to, the corresponding method can be invoked on the proxy. \r\n\r\nIf you want a `single proxy` that can invoke either of the interface&#39;s method, then have a common interface that extends both `IVehicle` and `IVehicle2`; and then use the common interface as the proxy class, i.e. (assign proxy rcvd. through `Proxy.newProxyInstance` to the common interface.\r\n\r\nNote: the `Car` class can be used for other purposes it may have, including it being the loader class. When using it as the proxy class, `i.e.**Car** v = **(Car)** Proxy.newProxyInstance` it&#39;s not a dynamic proxy class. \r\n\r\n","title":"Java dynamic proxies - class implements multiple interfaces","body":"<p>You're implementing the Proxy class, <code>i.e. Car</code> at compile time. The idea of dynamic proxy is to have the 'proxy class' generated at runtime, i.e. the proxy class implementation at compile time is not needed.</p>\n<p>In this code snippet</p>\n<pre><code>**Car** v = **(Car)** Proxy.newProxyInstance(cl,\n        new Class[] {IVehicle.class, **IVehicle2.class**}, new VehicleHandler(c));\n</code></pre>\n<p>Have the proxy instance assigned to one of interface that it implements. Based on the interface it's assigned to, the corresponding method can be invoked on the proxy.</p>\n<p>If you want a <code>single proxy</code> that can invoke either of the interface's method, then have a common interface that extends both <code>IVehicle</code> and <code>IVehicle2</code>; and then use the common interface as the proxy class, i.e. (assign proxy rcvd. through <code>Proxy.newProxyInstance</code> to the common interface.</p>\n<p>Note: the <code>Car</code> class can be used for other purposes it may have, including it being the loader class. When using it as the proxy class, <code>i.e.**Car** v = **(Car)** Proxy.newProxyInstance</code> it's not a dynamic proxy class.</p>\n"}],"owner":{"account_id":10594697,"reputation":7,"user_id":7803858,"display_name":"yoyo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643001871,"creation_date":1588836245,"question_id":61652052,"body_markdown":"I&#39;m looking at some Java dynamic proxies examples. A basic one which simply intercepts a method call and add some print-out:\r\n```\r\npublic interface IVehicle {\r\n    public void forward();\r\n}\r\n\r\npublic class Car implements IVehicle {\r\n    private String name;\r\n    \r\n    public Car(String name) {this.name = name;}\r\n    \r\n    public void forward() {\r\n        System.out.println(&quot;Car &quot; + name + &quot; forward&quot;);\r\n    }\r\n}\r\n \r\npublic class VehicleHandler implements InvocationHandler {\r\n    private Car v;\r\n    public VehicleHandler(Car v) {this.v = v;}\r\n    public Object invoke(Object proxy, Method m, Object[] args) throws Throwable {\r\n        System.out.println(&quot;Vehicle Handler: Invoking &quot; + m.getName());\r\n        return m.invoke(v, args);\r\n    }\r\n}\r\n\r\npublic class Client {\r\n    public static void main(String[] args) {\r\n        Car c = new Car(&quot;audi&quot;);\r\n        ClassLoader cl = Car.class.getClassLoader();\r\n        IVehicle v = (IVehicle) Proxy.newProxyInstance(cl,\r\n            new Class[] {IVehicle.class}, new VehicleHandler(c));\r\n            \r\n        v.forward();\r\n    }\r\n}\r\n```\r\nThis example works well and prints out handler and object messages. But then I&#39;m thinking what if the Car class in above example implements multiple interfaces and I call all methods in all implemented interfaces?\r\n\r\nI edited above example to (Changes are surrounded by **):\r\n```\r\npublic interface IVehicle {\r\n    public void forward();\r\n}\r\n\r\n**public interface IVehicle2 {\r\n    public void forward2();\r\n}**\r\n\r\npublic class Car implements IVehicle, **IVehicle2** {\r\n    private String name;\r\n    \r\n    public Car(String name) {this.name = name;}\r\n    \r\n    public void forward() {\r\n        System.out.println(&quot;Car &quot; + name + &quot; forward&quot;);\r\n    }\r\n\r\n    **public void forward2() {\r\n        System.out.println(&quot;Car &quot; + name + &quot; forward2&quot;);\r\n    }**\r\n}\r\n \r\npublic class VehicleHandler implements InvocationHandler {\r\n    private Car v;\r\n    public VehicleHandler(Car v) {this.v = v;}\r\n    public Object invoke(Object proxy, Method m, Object[] args) throws Throwable {\r\n        System.out.println(&quot;Vehicle Handler: Invoking &quot; + m.getName());\r\n        return m.invoke(v, args);\r\n    }\r\n}\r\n\r\npublic class Client {\r\n    public static void main(String[] args) {\r\n        Car c = new Car(&quot;audi&quot;);\r\n        ClassLoader cl = Car.class.getClassLoader();\r\n        **Car** v = **(Car)** Proxy.newProxyInstance(cl,\r\n            new Class[] {IVehicle.class, **IVehicle2.class**}, new VehicleHandler(c));\r\n            \r\n        v.forward();\r\n        **v.forward2();**\r\n    }\r\n}\r\n```\r\n\r\nI got below error:\r\n```\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class com.sun.proxy.$Proxy0 cannot be cast to class Car\r\n```\r\n\r\nMy questions are:\r\n1. why do I get above error?\r\n2. How do I correctly do proxy if I want to call both `forward()` and `forward2()` in above example?\r\n\r\nThanks a lot!","title":"Java dynamic proxies - class implements multiple interfaces","body":"<p>I'm looking at some Java dynamic proxies examples. A basic one which simply intercepts a method call and add some print-out:</p>\n\n<pre><code>public interface IVehicle {\n    public void forward();\n}\n\npublic class Car implements IVehicle {\n    private String name;\n\n    public Car(String name) {this.name = name;}\n\n    public void forward() {\n        System.out.println(\"Car \" + name + \" forward\");\n    }\n}\n\npublic class VehicleHandler implements InvocationHandler {\n    private Car v;\n    public VehicleHandler(Car v) {this.v = v;}\n    public Object invoke(Object proxy, Method m, Object[] args) throws Throwable {\n        System.out.println(\"Vehicle Handler: Invoking \" + m.getName());\n        return m.invoke(v, args);\n    }\n}\n\npublic class Client {\n    public static void main(String[] args) {\n        Car c = new Car(\"audi\");\n        ClassLoader cl = Car.class.getClassLoader();\n        IVehicle v = (IVehicle) Proxy.newProxyInstance(cl,\n            new Class[] {IVehicle.class}, new VehicleHandler(c));\n\n        v.forward();\n    }\n}\n</code></pre>\n\n<p>This example works well and prints out handler and object messages. But then I'm thinking what if the Car class in above example implements multiple interfaces and I call all methods in all implemented interfaces?</p>\n\n<p>I edited above example to (Changes are surrounded by **):</p>\n\n<pre><code>public interface IVehicle {\n    public void forward();\n}\n\n**public interface IVehicle2 {\n    public void forward2();\n}**\n\npublic class Car implements IVehicle, **IVehicle2** {\n    private String name;\n\n    public Car(String name) {this.name = name;}\n\n    public void forward() {\n        System.out.println(\"Car \" + name + \" forward\");\n    }\n\n    **public void forward2() {\n        System.out.println(\"Car \" + name + \" forward2\");\n    }**\n}\n\npublic class VehicleHandler implements InvocationHandler {\n    private Car v;\n    public VehicleHandler(Car v) {this.v = v;}\n    public Object invoke(Object proxy, Method m, Object[] args) throws Throwable {\n        System.out.println(\"Vehicle Handler: Invoking \" + m.getName());\n        return m.invoke(v, args);\n    }\n}\n\npublic class Client {\n    public static void main(String[] args) {\n        Car c = new Car(\"audi\");\n        ClassLoader cl = Car.class.getClassLoader();\n        **Car** v = **(Car)** Proxy.newProxyInstance(cl,\n            new Class[] {IVehicle.class, **IVehicle2.class**}, new VehicleHandler(c));\n\n        v.forward();\n        **v.forward2();**\n    }\n}\n</code></pre>\n\n<p>I got below error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: class com.sun.proxy.$Proxy0 cannot be cast to class Car\n</code></pre>\n\n<p>My questions are:\n1. why do I get above error?\n2. How do I correctly do proxy if I want to call both <code>forward()</code> and <code>forward2()</code> in above example?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":23935186,"reputation":1,"user_id":17929011,"display_name":"Dunstan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642184601,"creation_date":1642184601,"answer_id":70715003,"question_id":70704995,"body_markdown":"I moved the CustomRetryTopicNamesProviderFactory from @Bean  to @Component and it worked.\r\n\r\n```\r\n@Component\r\npublic class CustomRetryTopicNamesProviderFactory implements RetryTopicNamesProviderFactory {\r\n\r\n    @Override\r\n    public RetryTopicNamesProvider createRetryTopicNamesProvider(DestinationTopic.Properties properties) {\r\n\r\n        if (properties.isMainEndpoint()) {\r\n            return new SuffixingRetryTopicNamesProviderFactory.SuffixingRetryTopicNamesProvider(properties);\r\n        } else {\r\n            return new SuffixingRetryTopicNamesProviderFactory.SuffixingRetryTopicNamesProvider(properties) {\r\n                @Override\r\n                public String getTopicName(String topic) {\r\n                    return  super.getTopicName(topic)+&quot;-na1995&quot;;\r\n                }\r\n\r\n            };\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Configuring custom retry topic in spring-kafka 2.8","body":"<p>I moved the CustomRetryTopicNamesProviderFactory from @Bean  to @Component and it worked.</p>\n<pre><code>@Component\npublic class CustomRetryTopicNamesProviderFactory implements RetryTopicNamesProviderFactory {\n\n    @Override\n    public RetryTopicNamesProvider createRetryTopicNamesProvider(DestinationTopic.Properties properties) {\n\n        if (properties.isMainEndpoint()) {\n            return new SuffixingRetryTopicNamesProviderFactory.SuffixingRetryTopicNamesProvider(properties);\n        } else {\n            return new SuffixingRetryTopicNamesProviderFactory.SuffixingRetryTopicNamesProvider(properties) {\n                @Override\n                public String getTopicName(String topic) {\n                    return  super.getTopicName(topic)+&quot;-na1995&quot;;\n                }\n\n            };\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23935186,"reputation":1,"user_id":17929011,"display_name":"Dunstan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643001283,"creation_date":1642122825,"question_id":70704995,"body_markdown":"Trying to customize the topic name for retry. While running getting circualar reference error. What could be the reason?\r\n **Requested bean is currently in creation: Is there an unresolvable circular reference?**\r\n\r\n```\r\n@bean\r\npublic RetryTopicNamesProviderFactory myRetryNamingProviderFactory() {\r\n    return new CustomRetryTopicNamesProviderFactory();\r\n}\r\n\r\n @KafkaListener(topics = &quot;${application.kafka.topic-incoming}&quot;, groupId = &quot;${application.kafka.consumer-group-id}&quot;,id = &quot;2&quot;, concurrency = &quot;1&quot;)\r\n @RetryableTopic(attempts = &quot;1&quot;, backoff = @Backoff(delay = 1_000, maxDelay = 10_000, multiplier = 2), autoCreateTopics = &quot;false&quot;)\r\npublic void listenRequest(@Payload @Valid HelloRequest message) {\r\n        log.info(&quot;Message recieved :: {} on {}&quot;, messages.toString(), topics);\r\n        if (messages.getName().equals(&quot;Failed&quot;)) {\r\n            log.info(&quot;Throwing Error&quot;);\r\n            throw new RuntimeException(&quot;failed&quot;);\r\n        }\r\n     \r\n    }\r\n\r\n\r\npublic class CustomRetryTopicNamesProviderFactory implements RetryTopicNamesProviderFactory {\r\n\r\n    @Override\r\n    public RetryTopicNamesProvider createRetryTopicNamesProvider(DestinationTopic.Properties properties) {\r\n\r\n        if (properties.isMainEndpoint()) {\r\n            return new SuffixingRetryTopicNamesProviderFactory.SuffixingRetryTopicNamesProvider(properties);\r\n        } else {\r\n            return new SuffixingRetryTopicNamesProviderFactory.SuffixingRetryTopicNamesProvider(properties) {\r\n                @Override\r\n                public String getTopicName(String topic) {\r\n                    return  super.getTopicName(topic)+&quot;-na1995&quot;;\r\n                }\r\n\r\n            };\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Configuring custom retry topic in spring-kafka 2.8","body":"<p>Trying to customize the topic name for retry. While running getting circualar reference error. What could be the reason?\n<strong>Requested bean is currently in creation: Is there an unresolvable circular reference?</strong></p>\n<pre><code>@bean\npublic RetryTopicNamesProviderFactory myRetryNamingProviderFactory() {\n    return new CustomRetryTopicNamesProviderFactory();\n}\n\n @KafkaListener(topics = &quot;${application.kafka.topic-incoming}&quot;, groupId = &quot;${application.kafka.consumer-group-id}&quot;,id = &quot;2&quot;, concurrency = &quot;1&quot;)\n @RetryableTopic(attempts = &quot;1&quot;, backoff = @Backoff(delay = 1_000, maxDelay = 10_000, multiplier = 2), autoCreateTopics = &quot;false&quot;)\npublic void listenRequest(@Payload @Valid HelloRequest message) {\n        log.info(&quot;Message recieved :: {} on {}&quot;, messages.toString(), topics);\n        if (messages.getName().equals(&quot;Failed&quot;)) {\n            log.info(&quot;Throwing Error&quot;);\n            throw new RuntimeException(&quot;failed&quot;);\n        }\n     \n    }\n\n\npublic class CustomRetryTopicNamesProviderFactory implements RetryTopicNamesProviderFactory {\n\n    @Override\n    public RetryTopicNamesProvider createRetryTopicNamesProvider(DestinationTopic.Properties properties) {\n\n        if (properties.isMainEndpoint()) {\n            return new SuffixingRetryTopicNamesProviderFactory.SuffixingRetryTopicNamesProvider(properties);\n        } else {\n            return new SuffixingRetryTopicNamesProviderFactory.SuffixingRetryTopicNamesProvider(properties) {\n                @Override\n                public String getTopicName(String topic) {\n                    return  super.getTopicName(topic)+&quot;-na1995&quot;;\n                }\n\n            };\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","micronaut"],"answers":[{"tags":[],"owner":{"account_id":2524916,"reputation":40766,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643000651,"creation_date":1642951801,"answer_id":70823643,"question_id":70823265,"body_markdown":"There are two issues with the example you have shown. Firstly, Micronaut **does not inject values to static fields** annotated with `@Value` annotation. (It&#39;s not weird, [Spring does not support it as well][1].) Secondly, after injecting values to non-static fields, you won&#39;t be able to read their values using the class&#39; static constructor. The whole application context must be ready to read such values, so you need to use an event listener that reacts to the application startup event.\r\n\r\nHere is the simplest way to achieve it based on your example:\r\n\r\n```\r\npackage micronaut.hello.world;\r\n\r\nimport io.micronaut.context.annotation.Value;\r\nimport io.micronaut.context.event.StartupEvent;\r\nimport io.micronaut.runtime.Micronaut;\r\nimport io.micronaut.runtime.event.annotation.EventListener;\r\nimport jakarta.inject.Singleton;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n@Singleton\r\npublic class Application {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(Application.class);\r\n\r\n    @Value(&quot;${aws.secretkeyid}&quot;)\r\n    private String applicationYmlTestString;\r\n\r\n    @Value(&quot;${aws.keyid}&quot;)\r\n    private int keyId;\r\n\r\n    public static void main(String[] args) {\r\n        Micronaut.run(Application.class, args);\r\n    }\r\n\r\n    @EventListener\r\n    void onStartup(StartupEvent event) {\r\n        log.warn(&quot;Application Yml Test String is: &quot; + applicationYmlTestString);\r\n        log.warn(&quot;Key ID: &quot; + keyId);\r\n    }\r\n\r\n    public String getApplicationYmlTestString() {\r\n        return applicationYmlTestString;\r\n    }\r\n\r\n    public void setApplicationYmlTestString(String applicationYmlTestString) {\r\n        this.applicationYmlTestString = applicationYmlTestString;\r\n    }\r\n\r\n    public int getKeyId() {\r\n        return keyId;\r\n    }\r\n\r\n    public void setKeyId(int keyId) {\r\n        this.keyId = keyId;\r\n    }\r\n}\r\n```\r\n\r\nThere are three things worth mentioning:\r\n\r\n1. The above example uses `@EventListener` annotation that makes the given method &quot;event-aware&quot;, and this method will be triggered when the specific event is published by the application (or framework.)\r\n2. We react to `io.micronaut.context.event.StartupEvent` - an event fired once startup is complete.\r\n3. Keep in mind that to make this `@EventListener` annotation work, we need to annotate the application class with `@Singleton` to make this class a proper Micronaut bean.\r\n\r\nAlternatively, if making an application class a singleton bean does not look good to you, you can implement the `ApplicationEventListener` interface and create a dedicated bean that will react to the same startup event. In this example, I use a static inner class, but that&#39;s just to make this example simple:\r\n\r\n```\r\npackage micronaut.hello.world;\r\n\r\nimport io.micronaut.context.annotation.Value;\r\nimport io.micronaut.context.event.ApplicationEventListener;\r\nimport io.micronaut.context.event.StartupEvent;\r\nimport io.micronaut.runtime.Micronaut;\r\nimport jakarta.inject.Singleton;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class Application {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(Application.class);\r\n\r\n    public static void main(String[] args) {\r\n        Micronaut.run(Application.class, args);\r\n    }\r\n\r\n    @Singleton\r\n    static class OnStartupEventListener implements ApplicationEventListener&lt;StartupEvent&gt; {\r\n\r\n        @Value(&quot;${aws.secretkeyid}&quot;)\r\n        private String applicationYmlTestString;\r\n\r\n        @Value(&quot;${aws.keyid}&quot;)\r\n        private int keyId;\r\n\r\n        @Override\r\n        public void onApplicationEvent(StartupEvent event) {\r\n            log.warn(&quot;Application Yml Test String is: &quot; + applicationYmlTestString);\r\n            log.warn(&quot;Key ID: &quot; + keyId);\r\n        }\r\n\r\n        public String getApplicationYmlTestString() {\r\n            return applicationYmlTestString;\r\n        }\r\n\r\n        public void setApplicationYmlTestString(String applicationYmlTestString) {\r\n            this.applicationYmlTestString = applicationYmlTestString;\r\n        }\r\n\r\n        public int getKeyId() {\r\n            return keyId;\r\n        }\r\n\r\n        public void setKeyId(int keyId) {\r\n            this.keyId = keyId;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut eventually, you should consider implementing a configuration class and use it instead of injecting values with the `@Value` annotation. However, whatever option you choose, the same thing applies - the configuration class can be injected to a non-static field and can be checked using an event listener mechanism.\r\n\r\nAnd as Tim mentioned in the comment below, _&quot;Be careful logging environment variables though... They have a habit of being secrets, and logging them out tends to end up with them being in plain text in loads of different systems &#128521;&quot;_. If you really need to log such information to double-check if the expected configuration is injected, try doing it in the controlled dev environment only. Assuming that you use the `dev` profile for the local env, you could use `@Requires` annotation to limit specific event listener to only that `dev` environment:\r\n\r\n```\r\n@Singleton\r\n@Requires(env = &quot;dev&quot;)\r\nclass OnStartupEventListener implements ApplicationEventListener&lt;StartupEvent&gt; {\r\n\r\n    @Value(&quot;${aws.secretkeyid}&quot;)\r\n    private String applicationYmlTestString;\r\n\r\n    @Value(&quot;${aws.keyid}&quot;)\r\n    private int keyId;\r\n\r\n    @Override\r\n    public void onApplicationEvent(StartupEvent event) {\r\n        log.warn(&quot;Application Yml Test String is: &quot; + applicationYmlTestString);\r\n        log.warn(&quot;Key ID: &quot; + keyId);\r\n    }\r\n\r\n    public String getApplicationYmlTestString() {\r\n        return applicationYmlTestString;\r\n    }\r\n\r\n    public void setApplicationYmlTestString(String applicationYmlTestString) {\r\n        this.applicationYmlTestString = applicationYmlTestString;\r\n    }\r\n\r\n    public int getKeyId() {\r\n        return keyId;\r\n    }\r\n\r\n    public void setKeyId(int keyId) {\r\n        this.keyId = keyId;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-inject-static-field#Problem","title":"How to print out environment variables, when starting a Micronaut application","body":"<p>There are two issues with the example you have shown. Firstly, Micronaut <strong>does not inject values to static fields</strong> annotated with <code>@Value</code> annotation. (It's not weird, <a href=\"https://www.baeldung.com/spring-inject-static-field#Problem\" rel=\"nofollow noreferrer\">Spring does not support it as well</a>.) Secondly, after injecting values to non-static fields, you won't be able to read their values using the class' static constructor. The whole application context must be ready to read such values, so you need to use an event listener that reacts to the application startup event.</p>\n<p>Here is the simplest way to achieve it based on your example:</p>\n<pre><code>package micronaut.hello.world;\n\nimport io.micronaut.context.annotation.Value;\nimport io.micronaut.context.event.StartupEvent;\nimport io.micronaut.runtime.Micronaut;\nimport io.micronaut.runtime.event.annotation.EventListener;\nimport jakarta.inject.Singleton;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@Singleton\npublic class Application {\n\n    private static final Logger log = LoggerFactory.getLogger(Application.class);\n\n    @Value(&quot;${aws.secretkeyid}&quot;)\n    private String applicationYmlTestString;\n\n    @Value(&quot;${aws.keyid}&quot;)\n    private int keyId;\n\n    public static void main(String[] args) {\n        Micronaut.run(Application.class, args);\n    }\n\n    @EventListener\n    void onStartup(StartupEvent event) {\n        log.warn(&quot;Application Yml Test String is: &quot; + applicationYmlTestString);\n        log.warn(&quot;Key ID: &quot; + keyId);\n    }\n\n    public String getApplicationYmlTestString() {\n        return applicationYmlTestString;\n    }\n\n    public void setApplicationYmlTestString(String applicationYmlTestString) {\n        this.applicationYmlTestString = applicationYmlTestString;\n    }\n\n    public int getKeyId() {\n        return keyId;\n    }\n\n    public void setKeyId(int keyId) {\n        this.keyId = keyId;\n    }\n}\n</code></pre>\n<p>There are three things worth mentioning:</p>\n<ol>\n<li>The above example uses <code>@EventListener</code> annotation that makes the given method &quot;event-aware&quot;, and this method will be triggered when the specific event is published by the application (or framework.)</li>\n<li>We react to <code>io.micronaut.context.event.StartupEvent</code> - an event fired once startup is complete.</li>\n<li>Keep in mind that to make this <code>@EventListener</code> annotation work, we need to annotate the application class with <code>@Singleton</code> to make this class a proper Micronaut bean.</li>\n</ol>\n<p>Alternatively, if making an application class a singleton bean does not look good to you, you can implement the <code>ApplicationEventListener</code> interface and create a dedicated bean that will react to the same startup event. In this example, I use a static inner class, but that's just to make this example simple:</p>\n<pre><code>package micronaut.hello.world;\n\nimport io.micronaut.context.annotation.Value;\nimport io.micronaut.context.event.ApplicationEventListener;\nimport io.micronaut.context.event.StartupEvent;\nimport io.micronaut.runtime.Micronaut;\nimport jakarta.inject.Singleton;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Application {\n\n    private static final Logger log = LoggerFactory.getLogger(Application.class);\n\n    public static void main(String[] args) {\n        Micronaut.run(Application.class, args);\n    }\n\n    @Singleton\n    static class OnStartupEventListener implements ApplicationEventListener&lt;StartupEvent&gt; {\n\n        @Value(&quot;${aws.secretkeyid}&quot;)\n        private String applicationYmlTestString;\n\n        @Value(&quot;${aws.keyid}&quot;)\n        private int keyId;\n\n        @Override\n        public void onApplicationEvent(StartupEvent event) {\n            log.warn(&quot;Application Yml Test String is: &quot; + applicationYmlTestString);\n            log.warn(&quot;Key ID: &quot; + keyId);\n        }\n\n        public String getApplicationYmlTestString() {\n            return applicationYmlTestString;\n        }\n\n        public void setApplicationYmlTestString(String applicationYmlTestString) {\n            this.applicationYmlTestString = applicationYmlTestString;\n        }\n\n        public int getKeyId() {\n            return keyId;\n        }\n\n        public void setKeyId(int keyId) {\n            this.keyId = keyId;\n        }\n    }\n}\n</code></pre>\n<p>But eventually, you should consider implementing a configuration class and use it instead of injecting values with the <code>@Value</code> annotation. However, whatever option you choose, the same thing applies - the configuration class can be injected to a non-static field and can be checked using an event listener mechanism.</p>\n<p>And as Tim mentioned in the comment below, <em>&quot;Be careful logging environment variables though... They have a habit of being secrets, and logging them out tends to end up with them being in plain text in loads of different systems 😉&quot;</em>. If you really need to log such information to double-check if the expected configuration is injected, try doing it in the controlled dev environment only. Assuming that you use the <code>dev</code> profile for the local env, you could use <code>@Requires</code> annotation to limit specific event listener to only that <code>dev</code> environment:</p>\n<pre><code>@Singleton\n@Requires(env = &quot;dev&quot;)\nclass OnStartupEventListener implements ApplicationEventListener&lt;StartupEvent&gt; {\n\n    @Value(&quot;${aws.secretkeyid}&quot;)\n    private String applicationYmlTestString;\n\n    @Value(&quot;${aws.keyid}&quot;)\n    private int keyId;\n\n    @Override\n    public void onApplicationEvent(StartupEvent event) {\n        log.warn(&quot;Application Yml Test String is: &quot; + applicationYmlTestString);\n        log.warn(&quot;Key ID: &quot; + keyId);\n    }\n\n    public String getApplicationYmlTestString() {\n        return applicationYmlTestString;\n    }\n\n    public void setApplicationYmlTestString(String applicationYmlTestString) {\n        this.applicationYmlTestString = applicationYmlTestString;\n    }\n\n    public int getKeyId() {\n        return keyId;\n    }\n\n    public void setKeyId(int keyId) {\n        this.keyId = keyId;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13115875,"reputation":433,"user_id":9475086,"display_name":"Basch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1923,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70823643,"answer_count":1,"score":2,"last_activity_date":1643000651,"creation_date":1642949488,"question_id":70823265,"body_markdown":"I am working on a Micronaut project, where I would like to see if the environment variables from the application.yml are being correctly assigned using the @Value annotation, when the app starts locally. \r\nBut every time the app is starting it shows me that the variables are not being assigned to the environment variables from the application.yml file.\r\n\r\nThat is my code:\r\n \r\n\r\n    public class Application {\r\n    \r\n        private static String localTestString = &quot;I am the local String&quot;;\r\n    \r\n        @Value(&quot;${aws.secretkeyid}&quot;)\r\n        public static String applicationYmlTestString;\r\n    \r\n        @Value(&quot;${aws.keyid}&quot;)\r\n        private static int keyId;\r\n    \r\n        public static void main(String[] args) {\r\n            Micronaut.run(Application.class);\r\n        }\r\n    \r\n        static{\r\n            log.warn(&quot;Local Test String is: &quot; + localTestString);\r\n            log.warn(&quot;Application Yml Test String is: &quot; + applicationYmlTestString);\r\n            log.warn(&quot;Key ID: &quot; + keyId);\r\n        }\r\n    \r\n    }\r\n\r\nThis is my application.yml\r\n\r\n    aws:\r\n      keyid: 123\r\n      secretkeyid: &quot;abcdesdasdsddddd&quot;\r\n      region: &quot;europe-1&quot;\r\n\r\nOutput:\r\n\r\n    Local Test String is: I am the local String\r\n    Application Yml Test String is: null\r\n    Key ID: 0\r\n\r\nAs we see the two variables *applicationYmlTestString* and *keyId* are not being assigned to the environment variables. Is there a way to solve this problem and to get:\r\n\r\n    Application Yml Test String is: abcdesdasdsddddd\r\n    Key ID: 123\r\n\r\nThank you in advance!\r\n","title":"How to print out environment variables, when starting a Micronaut application","body":"<p>I am working on a Micronaut project, where I would like to see if the environment variables from the application.yml are being correctly assigned using the @Value annotation, when the app starts locally.\nBut every time the app is starting it shows me that the variables are not being assigned to the environment variables from the application.yml file.</p>\n<p>That is my code:</p>\n<pre><code>public class Application {\n\n    private static String localTestString = &quot;I am the local String&quot;;\n\n    @Value(&quot;${aws.secretkeyid}&quot;)\n    public static String applicationYmlTestString;\n\n    @Value(&quot;${aws.keyid}&quot;)\n    private static int keyId;\n\n    public static void main(String[] args) {\n        Micronaut.run(Application.class);\n    }\n\n    static{\n        log.warn(&quot;Local Test String is: &quot; + localTestString);\n        log.warn(&quot;Application Yml Test String is: &quot; + applicationYmlTestString);\n        log.warn(&quot;Key ID: &quot; + keyId);\n    }\n\n}\n</code></pre>\n<p>This is my application.yml</p>\n<pre><code>aws:\n  keyid: 123\n  secretkeyid: &quot;abcdesdasdsddddd&quot;\n  region: &quot;europe-1&quot;\n</code></pre>\n<p>Output:</p>\n<pre><code>Local Test String is: I am the local String\nApplication Yml Test String is: null\nKey ID: 0\n</code></pre>\n<p>As we see the two variables <em>applicationYmlTestString</em> and <em>keyId</em> are not being assigned to the environment variables. Is there a way to solve this problem and to get:</p>\n<pre><code>Application Yml Test String is: abcdesdasdsddddd\nKey ID: 123\n</code></pre>\n<p>Thank you in advance!</p>\n"},{"tags":["java","rest","jersey","jax-rs"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1630461354,"post_id":69006937,"comment_id":121960121,"body_markdown":"Please edit your question and include the full stack trace as text, not an image.","body":"Please edit your question and include the full stack trace as text, not an image."}],"answers":[{"tags":[],"owner":{"account_id":6269881,"reputation":577,"user_id":4874431,"accept_rate":76,"display_name":"Pallavi Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643000210,"creation_date":1630463540,"answer_id":69007175,"question_id":69006937,"body_markdown":"I finally found the solution to my issue. I added the below code to the dbi object.\r\n\r\n    dbi.registerContainerFactory(new ContainerFactory&lt;Blob&gt;(){\r\n    \r\n            @Override\r\n            public boolean accepts(Class&lt;?&gt; arg0) {\r\n              return false;\r\n            }\r\n    \r\n            @Override\r\n            public ContainerBuilder&lt;Blob&gt; newContainerBuilderFor(Class&lt;?&gt; arg0) {\r\n              return newContainerBuilderFor(arg0);\r\n            }\r\n            \r\n          });\r\n\r\nI followed the [this][1] link for the solution.\r\n\r\n\r\n  [1]: http://www.javased.com/index.php?source_dir=jdbi%2Fsrc%2Fmain%2Fjava%2Forg%2Fskife%2Fjdbi%2Fv2%2FContainerFactoryRegistry.java","title":"unable to retrieve image from mysql through rest api using java","body":"<p>I finally found the solution to my issue. I added the below code to the dbi object.</p>\n<pre><code>dbi.registerContainerFactory(new ContainerFactory&lt;Blob&gt;(){\n\n        @Override\n        public boolean accepts(Class&lt;?&gt; arg0) {\n          return false;\n        }\n\n        @Override\n        public ContainerBuilder&lt;Blob&gt; newContainerBuilderFor(Class&lt;?&gt; arg0) {\n          return newContainerBuilderFor(arg0);\n        }\n        \n      });\n</code></pre>\n<p>I followed the <a href=\"http://www.javased.com/index.php?source_dir=jdbi%2Fsrc%2Fmain%2Fjava%2Forg%2Fskife%2Fjdbi%2Fv2%2FContainerFactoryRegistry.java\" rel=\"nofollow noreferrer\">this</a> link for the solution.</p>\n"}],"owner":{"account_id":6269881,"reputation":577,"user_id":4874431,"accept_rate":76,"display_name":"Pallavi Prasad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69007175,"answer_count":1,"score":-2,"last_activity_date":1643000210,"creation_date":1630460891,"question_id":69006937,"body_markdown":"My problem is deceptively simple but I am unable to find the answer. Through Java and JDBI, I am able to retrieve the image from MySQL database and store it locally. But when I try with a rest api, it is giving the error in the attached screenshot. I have searched for this quite a bit but am unable to find a solution.\r\n\r\nThe stack trace is as below:\r\n\r\n   \r\n\r\n     Type Exception Report\r\n        Message java.lang.IllegalStateException: No container builder available for java.sql.Blob\r\n    \r\n        Description The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n    \r\n        Exception\r\n    \r\n        javax.servlet.ServletException: java.lang.IllegalStateException: No container builder available for java.sql.Blob\r\n    \torg.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:489)\r\n    \torg.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    Root Cause\r\n    \r\n    java.lang.IllegalStateException: No container builder available for java.sql.Blob\r\n    \torg.skife.jdbi.v2.ContainerFactoryRegistry.createBuilderFor(ContainerFactoryRegistry.java:73)\r\n    \torg.skife.jdbi.v2.Query.first(Query.java:271)\r\n    \torg.skife.jdbi.v2.sqlobject.ResultReturnThing$SingleValueResultReturnThing.result(ResultReturnThing.java:110)\r\n    \torg.skife.jdbi.v2.sqlobject.ResultReturnThing.map(ResultReturnThing.java:46)\r\n    \torg.skife.jdbi.v2.sqlobject.QueryHandler.invoke(QueryHandler.java:43)\r\n    \torg.skife.jdbi.v2.sqlobject.SqlObject.invoke(SqlObject.java:212)\r\n    \torg.skife.jdbi.v2.sqlobject.SqlObject$3.intercept(SqlObject.java:127)\r\n    \torg.skife.jdbi.v2.sqlobject.CloseInternalDoNotUseThisClass$$EnhancerByCGLIB$$8d85a881.retrieveImage(&lt;generated&gt;)\r\n    \tcom.sample.obs.factory.BooksFactory.retrieveImage(BooksFactory.java:188)\r\n    \tcom.sample.obs.model.Books.listAllBooks(Books.java:378)\r\n    \tcom.sample.obs.util.BooksRest.listAllBooks(BooksRest.java:29)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\r\n    \torg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\r\n    \torg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\r\n    \torg.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:205)\r\n    \torg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\r\n    \torg.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\r\n    \torg.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\r\n    \torg.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\r\n    \torg.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)\r\n    \torg.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n    \torg.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n    \torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\r\n    \torg.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)\r\n    \torg.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\r\n    \torg.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)\r\n    \torg.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\nAdding the rest api and the listAllBooks method below :\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public final Books[] listAllBooks() {\r\n        Books b = new Books();\r\n        Books[] shelf = b.listAllBooks();\r\n        return shelf;\r\n    }\r\n\r\n   \r\n\r\n    public final Books[] listAllBooks() {\r\n        Books[] bList = BooksFactory.listAllBooks();\r\n    \r\n        for(Books b: bList) {\r\n          String path = &quot;E:\\\\&quot; + b.getBookId() + &quot;.png&quot;;\r\n          Blob imageBlob = BooksFactory.retrieveImage(b.getBookId());\r\n    \r\n          try {\r\n            byte[] image = handleBlob(imageBlob);\r\n            \r\n            if (image != null) {\r\n              FileOutputStream fos = new FileOutputStream(path);\r\n              fos.write(image);\r\n              fos.close();\r\n    \r\n              b.setImageUrl(path);\r\n            } else {\r\n              System.out.println(&quot;Image not available&quot;);\r\n              b.setImageUrl(null);\r\n            }\r\n          } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n          } catch (IOException e) {\r\n            e.printStackTrace();\r\n          }\r\n          int avail = BooksFactory.retrieveAvailableCopies(b.getBookId());\r\n          b.setAvailableCopies(avail);\r\n        }\r\n        return bList;\r\n      }\r\n\r\nThe DAO and Factory methods return a Blob and I have a mapper for getting the blob from the DB.\r\n\r\nPlease guide as to how to solve this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C3OgS.png","title":"unable to retrieve image from mysql through rest api using java","body":"<p>My problem is deceptively simple but I am unable to find the answer. Through Java and JDBI, I am able to retrieve the image from MySQL database and store it locally. But when I try with a rest api, it is giving the error in the attached screenshot. I have searched for this quite a bit but am unable to find a solution.</p>\n<p>The stack trace is as below:</p>\n<pre><code> Type Exception Report\n    Message java.lang.IllegalStateException: No container builder available for java.sql.Blob\n\n    Description The server encountered an unexpected condition that prevented it from fulfilling the request.\n\n    Exception\n\n    javax.servlet.ServletException: java.lang.IllegalStateException: No container builder available for java.sql.Blob\n    org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:489)\n    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nRoot Cause\n\njava.lang.IllegalStateException: No container builder available for java.sql.Blob\n    org.skife.jdbi.v2.ContainerFactoryRegistry.createBuilderFor(ContainerFactoryRegistry.java:73)\n    org.skife.jdbi.v2.Query.first(Query.java:271)\n    org.skife.jdbi.v2.sqlobject.ResultReturnThing$SingleValueResultReturnThing.result(ResultReturnThing.java:110)\n    org.skife.jdbi.v2.sqlobject.ResultReturnThing.map(ResultReturnThing.java:46)\n    org.skife.jdbi.v2.sqlobject.QueryHandler.invoke(QueryHandler.java:43)\n    org.skife.jdbi.v2.sqlobject.SqlObject.invoke(SqlObject.java:212)\n    org.skife.jdbi.v2.sqlobject.SqlObject$3.intercept(SqlObject.java:127)\n    org.skife.jdbi.v2.sqlobject.CloseInternalDoNotUseThisClass$$EnhancerByCGLIB$$8d85a881.retrieveImage(&lt;generated&gt;)\n    com.sample.obs.factory.BooksFactory.retrieveImage(BooksFactory.java:188)\n    com.sample.obs.model.Books.listAllBooks(Books.java:378)\n    com.sample.obs.util.BooksRest.listAllBooks(BooksRest.java:29)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n     sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\n    org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\n    org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\n    org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:205)\n    org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\n    org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\n    org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\n    org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\n    org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:267)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\n    org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)\n    org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\n    org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)\n    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n<p>Adding the rest api and the listAllBooks method below :</p>\n<pre><code>@GET\n@Produces(MediaType.APPLICATION_JSON)\npublic final Books[] listAllBooks() {\n    Books b = new Books();\n    Books[] shelf = b.listAllBooks();\n    return shelf;\n}\n\n\n\npublic final Books[] listAllBooks() {\n    Books[] bList = BooksFactory.listAllBooks();\n\n    for(Books b: bList) {\n      String path = &quot;E:\\\\&quot; + b.getBookId() + &quot;.png&quot;;\n      Blob imageBlob = BooksFactory.retrieveImage(b.getBookId());\n\n      try {\n        byte[] image = handleBlob(imageBlob);\n        \n        if (image != null) {\n          FileOutputStream fos = new FileOutputStream(path);\n          fos.write(image);\n          fos.close();\n\n          b.setImageUrl(path);\n        } else {\n          System.out.println(&quot;Image not available&quot;);\n          b.setImageUrl(null);\n        }\n      } catch (FileNotFoundException e) {\n        e.printStackTrace();\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n      int avail = BooksFactory.retrieveAvailableCopies(b.getBookId());\n      b.setAvailableCopies(avail);\n    }\n    return bList;\n  }\n</code></pre>\n<p>The DAO and Factory methods return a Blob and I have a mapper for getting the blob from the DB.</p>\n<p>Please guide as to how to solve this.</p>\n"},{"tags":["java","methods","short"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1642998148,"post_id":70828967,"comment_id":125214456,"body_markdown":"How about `18.879f` ?","body":"How about <code>18.879f</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642999566,"creation_date":1642999566,"answer_id":70829112,"question_id":70828967,"body_markdown":"Unless I&#39;m missing something, change the signature of the method to take a `double`.\r\n\r\n\tpublic static short DigitsBeforeDot(double x) {\r\n\t\tshort a = (short) (Math.log10(x) + 1);\r\n\t\tSystem.out.println(a);\r\n\t\treturn a;\r\n\t}\r\n\r\nAlso, it seems really counter productive to pass a `float` or a `double` only to cast to a `short`.","title":"Is there a way to write a method that outputs the number of digits before the decimal point of a float parameter as a short?","body":"<p>Unless I'm missing something, change the signature of the method to take a <code>double</code>.</p>\n<pre><code>public static short DigitsBeforeDot(double x) {\n    short a = (short) (Math.log10(x) + 1);\n    System.out.println(a);\n    return a;\n}\n</code></pre>\n<p>Also, it seems really counter productive to pass a <code>float</code> or a <code>double</code> only to cast to a <code>short</code>.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642999624,"creation_date":1642999624,"answer_id":70829117,"question_id":70828967,"body_markdown":"1) Stick to naming conventions. `public static short DigitsBeforeDot(float x){` should be `public static short digitsBeforeDot(float x) {` or even better: `public static short getDigitsBeforeDot(float x) {` or `public static short calculateDigitsBeforeDot(float x) {`\r\n\r\n2) Use a source code formatter if your IDE provides one\r\n\r\n3) Instead of working with `float` and `int`, go with `double` and `long`. Apart from storing values in arrays (RAM consumption) there is no downside to using the full register width (64bit) of modern platforms. The upside is that you&#39;re a lot less likely to run into problems with precision or overflows.\r\n\r\n4) It&#39;s highly unlikely that you want partial/float/fractions of the number of digits (like `2.176` as a result for `log10(150)`). It&#39;s a lot more likely you want the integer number returned, i.e. `2`. So you should use an byte/short/int/long as return value. I recommend usnig `long`: `public static long calculateDigitsBeforeDot(double x) {`, and instead of casting the log10 to a `short`, you just cast it to a `long` instead. Java always rounds towards zero, so that would equal a call to `Math.floor(Math.log10(a)) + 1`\r\n\r\n5) Why is casting not an option for you?\r\n\r\n","title":"Is there a way to write a method that outputs the number of digits before the decimal point of a float parameter as a short?","body":"<ol>\n<li><p>Stick to naming conventions. <code>public static short DigitsBeforeDot(float x){</code> should be <code>public static short digitsBeforeDot(float x) {</code> or even better: <code>public static short getDigitsBeforeDot(float x) {</code> or <code>public static short calculateDigitsBeforeDot(float x) {</code></p>\n</li>\n<li><p>Use a source code formatter if your IDE provides one</p>\n</li>\n<li><p>Instead of working with <code>float</code> and <code>int</code>, go with <code>double</code> and <code>long</code>. Apart from storing values in arrays (RAM consumption) there is no downside to using the full register width (64bit) of modern platforms. The upside is that you're a lot less likely to run into problems with precision or overflows.</p>\n</li>\n<li><p>It's highly unlikely that you want partial/float/fractions of the number of digits (like <code>2.176</code> as a result for <code>log10(150)</code>). It's a lot more likely you want the integer number returned, i.e. <code>2</code>. So you should use an byte/short/int/long as return value. I recommend usnig <code>long</code>: <code>public static long calculateDigitsBeforeDot(double x) {</code>, and instead of casting the log10 to a <code>short</code>, you just cast it to a <code>long</code> instead. Java always rounds towards zero, so that would equal a call to <code>Math.floor(Math.log10(a)) + 1</code></p>\n</li>\n<li><p>Why is casting not an option for you?</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20610759,"reputation":15,"user_id":15130003,"display_name":"kaser 4886"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642999624,"creation_date":1642997998,"question_id":70828967,"body_markdown":"I need to output the total number of digits before the decimal point of a float number and output the results as a short. \r\n\r\nThis is what I have so far: \r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tDigitsBeforeDot(18.879);\r\n\r\n\t}\r\n\t\r\n\tpublic static short DigitsBeforeDot(float x){\r\n\t\t\r\n\t\tshort a = (short) x;\r\n\t\t\r\n\t\tSystem.out.println((short)Math.log10(a)+1);\r\n\t\t\r\n\t\treturn a;\r\n\t}\r\n\r\nI get a suggestion to cast the argument in the method to a float like this:\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tDigitsBeforeDot((float) 18.879);\r\n\r\n\t}\r\n\r\nAnd this makes the program work but I need to make it work without the casting by changing something in the method. \r\n\r\nWhat is the best way to do that?","title":"Is there a way to write a method that outputs the number of digits before the decimal point of a float parameter as a short?","body":"<p>I need to output the total number of digits before the decimal point of a float number and output the results as a short.</p>\n<p>This is what I have so far:</p>\n<pre><code>public static void main(String[] args) {\n    \n    DigitsBeforeDot(18.879);\n\n}\n\npublic static short DigitsBeforeDot(float x){\n    \n    short a = (short) x;\n    \n    System.out.println((short)Math.log10(a)+1);\n    \n    return a;\n}\n</code></pre>\n<p>I get a suggestion to cast the argument in the method to a float like this:</p>\n<pre><code>public static void main(String[] args) {\n    \n    DigitsBeforeDot((float) 18.879);\n\n}\n</code></pre>\n<p>And this makes the program work but I need to make it work without the casting by changing something in the method.</p>\n<p>What is the best way to do that?</p>\n"},{"tags":["java","mockito","powermockito","static-classes"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1643011683,"post_id":70829089,"comment_id":125217203,"body_markdown":"Can you launch any test? All the code you posted is irrelevant to the exception you received. What matters is: imports (JUnit4 vs Junit5), how you launch your tests (IDE? Build tool?) and your project configuration.","body":"Can you launch any test? All the code you posted is irrelevant to the exception you received. What matters is: imports (JUnit4 vs Junit5), how you launch your tests (IDE? Build tool?) and your project configuration."},{"owner":{"account_id":22163408,"reputation":5,"user_id":16410031,"display_name":"mail"},"score":0,"creation_date":1643034938,"post_id":70829089,"comment_id":125225786,"body_markdown":"I ran the test using below command mvn test -Dtest=&quot;URLParsingExceptionTest#URLParsingExceptionWithExceptionTest&quot;.                 I use Intellij IDE and configuration is java 1.8; junit 4;","body":"I ran the test using below command mvn test -Dtest=&quot;URLParsingExceptionTest#URLParsingExceptionWithExcep&zwnj;&#8203;tionTest&quot;.                 I use Intellij IDE and configuration is java 1.8; junit 4;"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1643041011,"post_id":70829089,"comment_id":125228515,"body_markdown":"I would try upgrading surefire plugin to 2.22.2 If that doesn&#39;t help try public modifier on test method","body":"I would try upgrading surefire plugin to 2.22.2 If that doesn&#39;t help try public modifier on test method"}],"owner":{"account_id":22163408,"reputation":5,"user_id":16410031,"display_name":"mail"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642999317,"creation_date":1642999317,"question_id":70829089,"body_markdown":"Below is the class. I am trying to mock the static class and throw UrlParsingException.\r\n    \r\n\r\n    public class TrustSetup \r\n    {\r\n        private TrustSetup(){\r\n    \r\n        }\r\n        public static SSLSocketFactory configureCustomTrustManager() throws \r\n          UrlParsingException, OAuthException {\r\n            TrustManager[] trustAllCerts = new TrustManager[]{\r\n                new X509TrustManager() {\r\n                    public java.security.cert.XXXXCertificate[] getAcceptedIssuers() {\r\n                        return new XXXXCertificate[0];\r\n                    }\r\n    \r\n                    public void checkClientTrusted(\r\n                            java.security.cert.XXXXCertificate[] certs, String authType) throws CertificateException {\r\n                    }\r\n    \r\n                    public void checkServerTrusted(\r\n                            java.security.cert.XXXXCertificate[] certs, String authType) throws CertificateException {\r\n                    }\r\n                }\r\n            };\r\n    \r\n            SSLContext sc;\r\n            try {\r\n                sc = SSLContext.getInstance(&quot;XXXXXX&quot;);\r\n                sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n                throw new UrlParsingException(e.getMessage());\r\n            } catch (Exception e) {\r\n                throw new OAuthException(e.getMessage());\r\n            }\r\n            return sc.getSocketFactory();\r\n        }\r\n    }\r\n    \r\nBelow is the test class for static class.\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(TrustSetup.class)\r\n    public class UrlExceptionTest {\r\n    \r\n        @Mock\r\n        private SSLContext context;\r\n    \r\n        @Test(expected = UrlParsingException.class)\r\n    \r\n        void URLParsingExceptionWithExceptionTest() throws \r\n            NoSuchAlgorithmException,UrlParsingException,OAuthException {\r\n            PowerMockito.mockStatic(TrustManagerSetup.class);\r\n            Mockito.when(context.getInstance(&quot;XXXXXX&quot;)).thenReturn(context);\r\n            TrustManagerSetup.configureCustomTrustManager();\r\n    }\r\n    \r\n    \r\nError: &quot;No tests were executed!&quot;. Objective is to mock and throw UrlParsingException.\r\n\r\n","title":"Mock a static method and throw exception","body":"<p>Below is the class. I am trying to mock the static class and throw UrlParsingException.</p>\n<pre><code>public class TrustSetup \n{\n    private TrustSetup(){\n\n    }\n    public static SSLSocketFactory configureCustomTrustManager() throws \n      UrlParsingException, OAuthException {\n        TrustManager[] trustAllCerts = new TrustManager[]{\n            new X509TrustManager() {\n                public java.security.cert.XXXXCertificate[] getAcceptedIssuers() {\n                    return new XXXXCertificate[0];\n                }\n\n                public void checkClientTrusted(\n                        java.security.cert.XXXXCertificate[] certs, String authType) throws CertificateException {\n                }\n\n                public void checkServerTrusted(\n                        java.security.cert.XXXXCertificate[] certs, String authType) throws CertificateException {\n                }\n            }\n        };\n\n        SSLContext sc;\n        try {\n            sc = SSLContext.getInstance(&quot;XXXXXX&quot;);\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            throw new UrlParsingException(e.getMessage());\n        } catch (Exception e) {\n            throw new OAuthException(e.getMessage());\n        }\n        return sc.getSocketFactory();\n    }\n}\n</code></pre>\n<p>Below is the test class for static class.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(TrustSetup.class)\npublic class UrlExceptionTest {\n\n    @Mock\n    private SSLContext context;\n\n    @Test(expected = UrlParsingException.class)\n\n    void URLParsingExceptionWithExceptionTest() throws \n        NoSuchAlgorithmException,UrlParsingException,OAuthException {\n        PowerMockito.mockStatic(TrustManagerSetup.class);\n        Mockito.when(context.getInstance(&quot;XXXXXX&quot;)).thenReturn(context);\n        TrustManagerSetup.configureCustomTrustManager();\n}\n</code></pre>\n<p>Error: &quot;No tests were executed!&quot;. Objective is to mock and throw UrlParsingException.</p>\n"},{"tags":["java","object","intellij-idea","keyboard-shortcuts","instantiation"],"answers":[{"tags":[],"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642998317,"creation_date":1642997835,"answer_id":70828951,"question_id":70828835,"body_markdown":"IntelliJ doesn’t provide one by default, but it’s easy enough to create.\r\n\r\nWhat you’re after is a “Live Template”, and you maintain those in \r\nFile -&gt; Settings -&gt; Editor/Live Templates.\r\n\r\nSo tick the “+” sign to create a new one - let’s give it the abbreviation `nw` and description “Create new instance”\r\n\r\nHave the Template text :\r\n\r\n       $class$ $variable$ = new $class$();\r\n\r\nThe words surrounded by $ are the Template variables, so using $class$ means what you type for the first will be automatically repeated for the second.\r\n\r\nFinally click the “Define” link to set the Applicable Context to Java.\r\n\r\nThen you’re good to go.  Simply type `nw`, and you should see it come up as an auto-complete suggestion, so hit Tab to bring it in and start typing the class name.","title":"Keyboard shortcut to create new instance of object in java","body":"<p>IntelliJ doesn’t provide one by default, but it’s easy enough to create.</p>\n<p>What you’re after is a “Live Template”, and you maintain those in\nFile -&gt; Settings -&gt; Editor/Live Templates.</p>\n<p>So tick the “+” sign to create a new one - let’s give it the abbreviation <code>nw</code> and description “Create new instance”</p>\n<p>Have the Template text :</p>\n<pre><code>   $class$ $variable$ = new $class$();\n</code></pre>\n<p>The words surrounded by $ are the Template variables, so using $class$ means what you type for the first will be automatically repeated for the second.</p>\n<p>Finally click the “Define” link to set the Applicable Context to Java.</p>\n<p>Then you’re good to go.  Simply type <code>nw</code>, and you should see it come up as an auto-complete suggestion, so hit Tab to bring it in and start typing the class name.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642998845,"creation_date":1642998448,"answer_id":70829008,"question_id":70828835,"body_markdown":"The [Answer by racraman][1] looks like a good one. An alternative is to type part of the line, and let IntelliJ finish it.\r\n\r\n# Introduce local variable\r\n\r\nYou can type just the `new PersonObject` part, and let IntelliJ write the variable declaration and assignment. \r\n\r\nYou type:\r\n\r\n    new PersonObject()\r\n\r\n… then either:\r\n\r\n - Choose `Refactor &gt; Extract/Introduce &gt; Variable` menu item, or\r\n - Press keyboard shortcut shown in [this Answer][2]. \r\n\r\nIntelliJ fills in the rest. You end up with:\r\n\r\n    PersonObject personObject = new PersonObject();\r\n\r\nSee the documentation page, [*Extract/Introduce variable*][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70828951/642706\r\n  [2]: https://stackoverflow.com/a/2070671/642706\r\n  [3]: https://www.jetbrains.com/help/idea/extract-variable.html","title":"Keyboard shortcut to create new instance of object in java","body":"<p>The <a href=\"https://stackoverflow.com/a/70828951/642706\">Answer by racraman</a> looks like a good one. An alternative is to type part of the line, and let IntelliJ finish it.</p>\n<h1>Introduce local variable</h1>\n<p>You can type just the <code>new PersonObject</code> part, and let IntelliJ write the variable declaration and assignment.</p>\n<p>You type:</p>\n<pre><code>new PersonObject()\n</code></pre>\n<p>… then either:</p>\n<ul>\n<li>Choose <code>Refactor &gt; Extract/Introduce &gt; Variable</code> menu item, or</li>\n<li>Press keyboard shortcut shown in <a href=\"https://stackoverflow.com/a/2070671/642706\">this Answer</a>.</li>\n</ul>\n<p>IntelliJ fills in the rest. You end up with:</p>\n<pre><code>PersonObject personObject = new PersonObject();\n</code></pre>\n<p>See the documentation page, <a href=\"https://www.jetbrains.com/help/idea/extract-variable.html\" rel=\"nofollow noreferrer\"><em>Extract/Introduce variable</em></a>.</p>\n"}],"owner":{"account_id":20706051,"reputation":15,"user_id":15203900,"display_name":"jazzymarieful"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70829008,"answer_count":2,"score":1,"last_activity_date":1642998845,"creation_date":1642996403,"question_id":70828835,"body_markdown":"I was wondering is there is a keyboard shortcut (in IntelliJ) for creating a new instance of an object. e.g. when I type PersonObject personObject = new PersonObject, is there a way to type this faster? Instead of writing it out, or using autocomplete.","title":"Keyboard shortcut to create new instance of object in java","body":"<p>I was wondering is there is a keyboard shortcut (in IntelliJ) for creating a new instance of an object. e.g. when I type PersonObject personObject = new PersonObject, is there a way to type this faster? Instead of writing it out, or using autocomplete.</p>\n"},{"tags":["java","swing","sorting","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1388751309,"post_id":20903136,"comment_id":31376244,"body_markdown":"You might like to check @mkorbel&#39;s suggests from [this](http://stackoverflow.com/questions/14365510/how-do-i-prevent-a-java-swing-jtable-column-from-being-sorted-when-the-user-clic) similar questions","body":"You might like to check @mkorbel&#39;s suggests from <a href=\"http://stackoverflow.com/questions/14365510/how-do-i-prevent-a-java-swing-jtable-column-from-being-sorted-when-the-user-clic\">this</a> similar questions"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1388752148,"post_id":20903136,"comment_id":31376713,"body_markdown":"reading Default/RowSorter&#39;s api doc might help :-)","body":"reading Default/RowSorter&#39;s api doc might help :-)"}],"answers":[{"tags":[],"owner":{"account_id":3643318,"reputation":3489,"user_id":3138755,"accept_rate":40,"display_name":"Rahul"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1546947549,"creation_date":1388751764,"answer_id":20903584,"question_id":20903136,"body_markdown":"You can use the **setSortable** method of **TableRowSorter** as below: \r\n\r\n    sorter.setSortable(0, false); \r\n\r\nto make column 0 non-sortable. You can apply it on the column according to your requirement.","title":"Disable Column Header sorting on a JTable","body":"<p>You can use the <strong>setSortable</strong> method of <strong>TableRowSorter</strong> as below: </p>\n\n<pre><code>sorter.setSortable(0, false); \n</code></pre>\n\n<p>to make column 0 non-sortable. You can apply it on the column according to your requirement.</p>\n"},{"tags":[],"owner":{"account_id":1263155,"reputation":4723,"user_id":1221005,"accept_rate":69,"display_name":"mostar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1443533966,"creation_date":1443533966,"answer_id":32845506,"question_id":20903136,"body_markdown":"Alternatively, you can set your sortable and non-sortable columns like this:\r\n\r\n    TableRowSorter&lt;TableModel&gt; sorter = new TableRowSorter&lt;TableModel&gt;(table.getModel()) {\r\n        @Override\r\n        public boolean isSortable(int column) {\r\n\t\t\tif(column &lt; 2)\r\n\t\t\t\treturn true;\r\n\t\t\telse \r\n\t\t\t\treturn false;\r\n\t\t};\r\n\t};\r\n\ttable.setRowSorter(sorter);\r\n\r\n","title":"Disable Column Header sorting on a JTable","body":"<p>Alternatively, you can set your sortable and non-sortable columns like this:</p>\n\n<pre><code>TableRowSorter&lt;TableModel&gt; sorter = new TableRowSorter&lt;TableModel&gt;(table.getModel()) {\n    @Override\n    public boolean isSortable(int column) {\n        if(column &lt; 2)\n            return true;\n        else \n            return false;\n    };\n};\ntable.setRowSorter(sorter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11514920,"reputation":719,"user_id":8438534,"display_name":"Sandip Ghosh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561127777,"creation_date":1547359117,"answer_id":54166466,"question_id":20903136,"body_markdown":"I ran into the same problem recently, and found the perfect solution to this problem. The `TableHeader` can simply be disabled.\r\n\r\n    jTable.getTableHeader().setEnabled(false);\r\n\r\nThis way, the **sorter** works perfectly on any of the columns, but **manual sorting** is prevented by click on the Column Headers.\r\n\r\nHope this helps the future users who might want to have a look at it.","title":"Disable Column Header sorting on a JTable","body":"<p>I ran into the same problem recently, and found the perfect solution to this problem. The <code>TableHeader</code> can simply be disabled.</p>\n\n<pre><code>jTable.getTableHeader().setEnabled(false);\n</code></pre>\n\n<p>This way, the <strong>sorter</strong> works perfectly on any of the columns, but <strong>manual sorting</strong> is prevented by click on the Column Headers.</p>\n\n<p>Hope this helps the future users who might want to have a look at it.</p>\n"},{"tags":[],"owner":{"account_id":1247677,"reputation":76,"user_id":1208793,"display_name":"neflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642998611,"creation_date":1642998611,"answer_id":70829027,"question_id":20903136,"body_markdown":"In case your table derived from com.jidesoft.grid.TreeTable (JIDE), you can do this:\r\n\r\n     class MyTreeTable extends TreeTable\r\n        {\r\n            public MyTreeTable()\r\n            {\r\n                getSortableTableModel().setColumnSortable(0, false);\r\n            }\r\n        }\r\n\r\nNote that getSortableTableModel is protected so it must be called from within a TreeTable method (constructor in this example).\r\n\r\n\r\n","title":"Disable Column Header sorting on a JTable","body":"<p>In case your table derived from com.jidesoft.grid.TreeTable (JIDE), you can do this:</p>\n<pre><code> class MyTreeTable extends TreeTable\n    {\n        public MyTreeTable()\n        {\n            getSortableTableModel().setColumnSortable(0, false);\n        }\n    }\n</code></pre>\n<p>Note that getSortableTableModel is protected so it must be called from within a TreeTable method (constructor in this example).</p>\n"}],"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15386,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":20903584,"answer_count":4,"score":6,"last_activity_date":1642998611,"creation_date":1388750285,"question_id":20903136,"body_markdown":"Is it possible to disable manual sorting on a JTable after adding a sorter? So I have a JTable that has the following sorter attached to it (basically sorts by column 3 when the table is initialised):\r\n\r\n    JTable jTable = new JTable();\r\n    RowSorter&lt;TableModel&gt; sorter = new TableRowSorter&lt;TableModel&gt;(jTable.getModel());\r\n    List&lt;RowSorter.SortKey&gt; sortKeys = new ArrayList&lt;RowSorter.SortKey&gt;();\r\n    sortKeys.add(new RowSorter.SortKey(3, SortOrder.DESCENDING));\r\n    sorter.setSortKeys(sortKeys); \r\n    jTable.setRowSorter(sorter);\r\n\r\nThis works fine, however the user is still able to click on the column headers in the table and sort by any of the columns, which I want to disable. Is this possible? ","title":"Disable Column Header sorting on a JTable","body":"<p>Is it possible to disable manual sorting on a JTable after adding a sorter? So I have a JTable that has the following sorter attached to it (basically sorts by column 3 when the table is initialised):</p>\n\n<pre><code>JTable jTable = new JTable();\nRowSorter&lt;TableModel&gt; sorter = new TableRowSorter&lt;TableModel&gt;(jTable.getModel());\nList&lt;RowSorter.SortKey&gt; sortKeys = new ArrayList&lt;RowSorter.SortKey&gt;();\nsortKeys.add(new RowSorter.SortKey(3, SortOrder.DESCENDING));\nsorter.setSortKeys(sortKeys); \njTable.setRowSorter(sorter);\n</code></pre>\n\n<p>This works fine, however the user is still able to click on the column headers in the table and sort by any of the columns, which I want to disable. Is this possible? </p>\n"},{"tags":["java","spring","hibernate","h2"],"comments":[{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":2,"creation_date":1643002953,"post_id":70829009,"comment_id":125215228,"body_markdown":"`DATABASE_TO_UPPER=FALSE` is for H2 1.4.197 and older versions, in 1.4.198 and newer versions PostgreSQL compatibility mode should be used together with `DATABASE_TO_LOWER=TRUE`: https://h2database.com/html/features.html#compatibility","body":"<code>DATABASE_TO_UPPER=FALSE</code> is for H2 1.4.197 and older versions, in 1.4.198 and newer versions PostgreSQL compatibility mode should be used together with <code>DATABASE_TO_LOWER=TRUE</code>: <a href=\"https://h2database.com/html/features.html#compatibility\" rel=\"nofollow noreferrer\">h2database.com/html/features.html#compatibility</a>"}],"owner":{"account_id":23557777,"reputation":193,"user_id":17600104,"display_name":"Cookie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642998453,"creation_date":1642998453,"question_id":70829009,"body_markdown":"I&#39;m trying to config a juinit testing with h2 in-memoty Db.\r\n\r\nThis is my config:\r\n\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.PostgreSQL95Dialect\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: create-drop\r\n      datasource:\r\n        jdbcUrl: jdbc:h2:mem:test;MODE=PostgreSQL;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1\r\n        username: sa\r\n        password: sa\r\n        driver-class-name: org.h2.Driver\r\n\r\nwhen I run my tests I notice that some tables are not found(or not accessible). while the logs show that the tables were created: `Hibernate: create table some_table`.\r\nSome tests fails with `Table &quot;some_table&quot; not found;`\r\n\r\nMy table Entity looks like:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;some_table&quot;)\r\n    public class SomeTable extends AbstractPersistable&lt;Long&gt; {\r\n      @Column(name = &quot;col_name&quot;)\r\n      private String colName;\r\n    }\r\n\r\nAnd jpa like this\r\n\r\n    public interface SomeTableRepository extends JpaRepository&lt;SomeTable, Long&gt; {\r\n      Optional&lt;SomeTable&gt; findFirstBySomeCol(SomeCol someCol);\r\n    }\r\n\r\np.s. Jpa repositories works fine with usual DB connection.\r\nIf smth not clear, feel free to ask me questions","title":"H2 in-memory database with Postgres. Some Tables not found","body":"<p>I'm trying to config a juinit testing with h2 in-memoty Db.</p>\n<p>This is my config:</p>\n<pre><code>  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQL95Dialect\n    show-sql: true\n    hibernate:\n      ddl-auto: create-drop\n  datasource:\n    jdbcUrl: jdbc:h2:mem:test;MODE=PostgreSQL;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1\n    username: sa\n    password: sa\n    driver-class-name: org.h2.Driver\n</code></pre>\n<p>when I run my tests I notice that some tables are not found(or not accessible). while the logs show that the tables were created: <code>Hibernate: create table some_table</code>.\nSome tests fails with <code>Table &quot;some_table&quot; not found;</code></p>\n<p>My table Entity looks like:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;some_table&quot;)\npublic class SomeTable extends AbstractPersistable&lt;Long&gt; {\n  @Column(name = &quot;col_name&quot;)\n  private String colName;\n}\n</code></pre>\n<p>And jpa like this</p>\n<pre><code>public interface SomeTableRepository extends JpaRepository&lt;SomeTable, Long&gt; {\n  Optional&lt;SomeTable&gt; findFirstBySomeCol(SomeCol someCol);\n}\n</code></pre>\n<p>p.s. Jpa repositories works fine with usual DB connection.\nIf smth not clear, feel free to ask me questions</p>\n"},{"tags":["java","elasticsearch","https","connection"],"answers":[{"tags":[],"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642997113,"creation_date":1642997113,"answer_id":70828895,"question_id":70813033,"body_markdown":"I think as you are trying to connect to external Elasticsearch server with Https, first\r\n\r\n 1. Go through, https://www.elastic.co/blog/configuring-ssl-tls-and-https-to-secure-elasticsearch-kibana-beats-and-logstash, this tells you how to Create SSL certificates and enable TLS for Elasticsearch.\r\n\r\n2. Then you can try and access Elasticsearch with https://[ip/domainname:port].com\r\n\r\nOr to validate first if everything is OK with current setup\r\n\r\n3. Just access the server only with HTTP instead of HTTPS.","title":"Connect to remote instance of Elasticsearch through spring data elasticsearch using an URL","body":"<p>I think as you are trying to connect to external Elasticsearch server with Https, first</p>\n<ol>\n<li><p>Go through, <a href=\"https://www.elastic.co/blog/configuring-ssl-tls-and-https-to-secure-elasticsearch-kibana-beats-and-logstash\" rel=\"nofollow noreferrer\">https://www.elastic.co/blog/configuring-ssl-tls-and-https-to-secure-elasticsearch-kibana-beats-and-logstash</a>, this tells you how to Create SSL certificates and enable TLS for Elasticsearch.</p>\n</li>\n<li><p>Then you can try and access Elasticsearch with https://[ip/domainname:port].com</p>\n</li>\n</ol>\n<p>Or to validate first if everything is OK with current setup</p>\n<ol start=\"3\">\n<li>Just access the server only with HTTP instead of HTTPS.</li>\n</ol>\n"}],"owner":{"account_id":20229068,"reputation":1,"user_id":14836132,"display_name":"Cfres_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642997113,"creation_date":1642856151,"question_id":70813033,"body_markdown":"I&#39;m very newbie to ES and I&#39;m having a lot of troubles to connect to an external instance od ES through my java web app, let&#39;s say that I have the following client config\r\n\r\n```\r\n@Configuration\r\n@ComponentScan(basePackages = {&quot;com.elasticsearchlogs.elasticsearchlogsbackend&quot;})\r\npublic class Config extends AbstractElasticsearchConfiguration {\r\n\r\n    @Value(&quot;${elasticsearch.url}&quot;)\r\n    public String elasticsearchUrl;\r\n\r\n    @Bean\r\n    @Override\r\n    public RestHighLevelClient elasticsearchClient() {\r\n        final ClientConfiguration config = ClientConfiguration.builder()\r\n                .connectedTo(elasticsearchUrl)\r\n                .build();\r\n        return RestClients.create(config).rest();\r\n    }\r\n}\r\n```\r\n\r\nWhen I was making some tests with `elastichsearchUrl = &quot;localhost:9200&quot;` all was fine, but know i should connect to an ES instance that is in a  external server, that is accesible, let suppose by the following url `https://elasticinstance.com` (yes it uses Https).\r\n\r\nThe problem is that if a put the url like in the example, java complains because it asks for a port number. I don&#39;t really know what port number have I to give it, I have tried with 9300 and 9200 because they are the default ports in ES, also with 443 because is the default port in Https.\r\n\r\nWhat should I do? Shall I ask my admin to give me a port number to connect? Or shall I configure the client in any special way?","title":"Connect to remote instance of Elasticsearch through spring data elasticsearch using an URL","body":"<p>I'm very newbie to ES and I'm having a lot of troubles to connect to an external instance od ES through my java web app, let's say that I have the following client config</p>\n<pre><code>@Configuration\n@ComponentScan(basePackages = {&quot;com.elasticsearchlogs.elasticsearchlogsbackend&quot;})\npublic class Config extends AbstractElasticsearchConfiguration {\n\n    @Value(&quot;${elasticsearch.url}&quot;)\n    public String elasticsearchUrl;\n\n    @Bean\n    @Override\n    public RestHighLevelClient elasticsearchClient() {\n        final ClientConfiguration config = ClientConfiguration.builder()\n                .connectedTo(elasticsearchUrl)\n                .build();\n        return RestClients.create(config).rest();\n    }\n}\n</code></pre>\n<p>When I was making some tests with <code>elastichsearchUrl = &quot;localhost:9200&quot;</code> all was fine, but know i should connect to an ES instance that is in a  external server, that is accesible, let suppose by the following url <code>https://elasticinstance.com</code> (yes it uses Https).</p>\n<p>The problem is that if a put the url like in the example, java complains because it asks for a port number. I don't really know what port number have I to give it, I have tried with 9300 and 9200 because they are the default ports in ES, also with 443 because is the default port in Https.</p>\n<p>What should I do? Shall I ask my admin to give me a port number to connect? Or shall I configure the client in any special way?</p>\n"},{"tags":["java","utf-8","classloader"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642994515,"creation_date":1642994515,"answer_id":70828673,"question_id":70828605,"body_markdown":"I suspect that you are actually reading a different version of the file when you read it as a resource.  The JVM reads resources as located by the classloader.  So when you resolve the same `path` string as a resource and as a file, there is a good chance they are resolving to different things.\r\n\r\nI doubt that the root issue is Unicode or UTF-8.  Your examples show that you are reading the state using `InputStream`.  That approach is encoding agnostic ... and will give you the raw bytes from the file(s).  A regular `InputStream` doesn&#39;t *try* to decode the bytes it reads.\r\n\r\nHaving said that, it is definitely significant that the bytes you are reading are different.  But that is *also* consistent with simply reading different files.\r\n","title":"Java: Reading from getResourceAsStream gets too many bytes","body":"<p>I suspect that you are actually reading a different version of the file when you read it as a resource.  The JVM reads resources as located by the classloader.  So when you resolve the same <code>path</code> string as a resource and as a file, there is a good chance they are resolving to different things.</p>\n<p>I doubt that the root issue is Unicode or UTF-8.  Your examples show that you are reading the state using <code>InputStream</code>.  That approach is encoding agnostic ... and will give you the raw bytes from the file(s).  A regular <code>InputStream</code> doesn't <em>try</em> to decode the bytes it reads.</p>\n<p>Having said that, it is definitely significant that the bytes you are reading are different.  But that is <em>also</em> consistent with simply reading different files.</p>\n"}],"owner":{"account_id":23014421,"reputation":121,"user_id":17136434,"display_name":"curiousity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70828673,"answer_count":1,"score":0,"last_activity_date":1642995613,"creation_date":1642993813,"question_id":70828605,"body_markdown":"I&#39;m trying to read a binary file, using getResourceAsStream. The problem is I get too many bytes back. The file is 56374 bytes long, according to ls, but when I read it in my code, I consistently get 85194 bytes. \r\n\r\n    InputStream fileData = checkNotNull(MyClass.class.getResourceAsStream(path));\r\n    byte [] b = IOUtils.toByteArray(fileData);\r\n    int count = b.length;\r\n\r\nI get the same result with similar code:\r\n\r\n    InputStream fileData = checkNotNull(MyClass.class.getResourceAsStream(path));\r\n    byte [] b = new byte[1000*1000];\r\n    int count  = fileData.read(b);\r\n\r\nIf I run the code without the resource, everything is fine, I get the correct number of bytes.\r\n\r\n        FileInputStream fis = new FileInputStream(path);\r\n        byte [] b = new byte[1000*1000];\r\n        int count  = fis.read(b);\r\n\r\nThe first bytes of the data I read match. Checking the output, the first byte that doesn&#39;t match is &quot;CO&quot;, which comes out as &quot;ef bf bd&quot;. \r\n\r\nMaybe somehow it&#39;s trying to convert to/from UTF-8? Everything should be binary here. There is no text involved.\r\n\r\nAny help appreciated.\r\n\r\nEdit: I&#39;m pretty sure I&#39;m reading the correct file. If I rename the file, the read fails. Change it back, it works. I changed the resource name in intellij, and it refactored and changed the name in the code, which still worked.\r\n\r\nEdit2: I was wrong. I&#39;m not looking at the correct file. I traced into getResourceAsStream. Our build system copies the file to a build output directory, and runs from there.. This destination file is the wrong size, so it appears the copy is doing some damage. \r\n\r\nNote that it would copy the file again, any time I changed the name, which is why I thought I had the right file. ","title":"Java: Reading from getResourceAsStream gets too many bytes","body":"<p>I'm trying to read a binary file, using getResourceAsStream. The problem is I get too many bytes back. The file is 56374 bytes long, according to ls, but when I read it in my code, I consistently get 85194 bytes.</p>\n<pre><code>InputStream fileData = checkNotNull(MyClass.class.getResourceAsStream(path));\nbyte [] b = IOUtils.toByteArray(fileData);\nint count = b.length;\n</code></pre>\n<p>I get the same result with similar code:</p>\n<pre><code>InputStream fileData = checkNotNull(MyClass.class.getResourceAsStream(path));\nbyte [] b = new byte[1000*1000];\nint count  = fileData.read(b);\n</code></pre>\n<p>If I run the code without the resource, everything is fine, I get the correct number of bytes.</p>\n<pre><code>    FileInputStream fis = new FileInputStream(path);\n    byte [] b = new byte[1000*1000];\n    int count  = fis.read(b);\n</code></pre>\n<p>The first bytes of the data I read match. Checking the output, the first byte that doesn't match is &quot;CO&quot;, which comes out as &quot;ef bf bd&quot;.</p>\n<p>Maybe somehow it's trying to convert to/from UTF-8? Everything should be binary here. There is no text involved.</p>\n<p>Any help appreciated.</p>\n<p>Edit: I'm pretty sure I'm reading the correct file. If I rename the file, the read fails. Change it back, it works. I changed the resource name in intellij, and it refactored and changed the name in the code, which still worked.</p>\n<p>Edit2: I was wrong. I'm not looking at the correct file. I traced into getResourceAsStream. Our build system copies the file to a build output directory, and runs from there.. This destination file is the wrong size, so it appears the copy is doing some damage.</p>\n<p>Note that it would copy the file again, any time I changed the name, which is why I thought I had the right file.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":156080,"reputation":34079,"user_id":373151,"accept_rate":74,"display_name":"Hari Menon"},"down_vote_count":0,"up_vote_count":117,"is_accepted":true,"score":117,"last_activity_date":1540836690,"creation_date":1375625202,"answer_id":18043785,"question_id":18043587,"body_markdown":"`@JsonUnwrapped` doesn&#39;t work for maps, only for proper POJOs with getters and setters. For maps, You should use [`@JsonAnyGetter`][1] and [`@JsonAnySetter`][2] (available in jackson version &gt;= 1.6).\r\n\r\nIn your case, try this:\r\n\r\n    @JsonAnySetter \r\n    public void add(String key, String value) {\r\n        map.put(key, value);\r\n    }\r\n    \r\n    @JsonAnyGetter\r\n    public Map&lt;String,String&gt; getMap() {\r\n        return map;\r\n    }\r\n\r\nThat way, you can also directly add properties to the map, like `add(&#39;abc&#39;,&#39;xyz&#39;)` will add a new key `abc` to the map with value `xyz`. \r\n\r\n  [1]: http://jackson.codehaus.org/1.6.0/javadoc/org/codehaus/jackson/annotate/JsonAnyGetter.html\r\n  [2]: http://jackson.codehaus.org/1.6.0/javadoc/org/codehaus/jackson/annotate/JsonAnySetter.html","title":"Why I&#39;m not able to unwrap and serialize a Java map using the Jackson Java library?","body":"<p><code>@JsonUnwrapped</code> doesn't work for maps, only for proper POJOs with getters and setters. For maps, You should use <a href=\"http://jackson.codehaus.org/1.6.0/javadoc/org/codehaus/jackson/annotate/JsonAnyGetter.html\" rel=\"noreferrer\"><code>@JsonAnyGetter</code></a> and <a href=\"http://jackson.codehaus.org/1.6.0/javadoc/org/codehaus/jackson/annotate/JsonAnySetter.html\" rel=\"noreferrer\"><code>@JsonAnySetter</code></a> (available in jackson version >= 1.6).</p>\n\n<p>In your case, try this:</p>\n\n<pre><code>@JsonAnySetter \npublic void add(String key, String value) {\n    map.put(key, value);\n}\n\n@JsonAnyGetter\npublic Map&lt;String,String&gt; getMap() {\n    return map;\n}\n</code></pre>\n\n<p>That way, you can also directly add properties to the map, like <code>add('abc','xyz')</code> will add a new key <code>abc</code> to the map with value <code>xyz</code>. </p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1642993954,"creation_date":1485276890,"answer_id":41833934,"question_id":18043587,"body_markdown":"There is an [an open issue](https://github.com/FasterXML/jackson-databind/issues/171) in the Jackson project to allow support for `@JsonUnwrapped` on maps.\r\n\r\nUntil this feature is supported, the workaround about using `@JsonAnySetter`/`@JsonAnyGetter` proposed in [another answer](https://stackoverflow.com/a/18043785/770254) appears to be the way to go, and is in fact [a suggested approach](https://github.com/FasterXML/jackson-databind/issues/171#issuecomment-13852233) by the Jackson project author in the open issue:\r\n\r\n&gt; as per this:\r\n&gt;\r\n&gt; http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html\r\n&gt;\r\n&gt; one can use @JsonAnyGetter/setter to do something possibly similar. One missing pieces is that currently one must have getter (can&#39;t use it on Map filed), but that should be easy enough to address.\r\n\r\n```lang-java\r\n@JsonAnySetter \r\npublic void add(String key, String value) {\r\n    map.put(key, value);\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String,String&gt; getMap() {\r\n    return map;\r\n}\r\n```","title":"Why I&#39;m not able to unwrap and serialize a Java map using the Jackson Java library?","body":"<p>There is an <a href=\"https://github.com/FasterXML/jackson-databind/issues/171\" rel=\"nofollow noreferrer\">an open issue</a> in the Jackson project to allow support for <code>@JsonUnwrapped</code> on maps.</p>\n<p>Until this feature is supported, the workaround about using <code>@JsonAnySetter</code>/<code>@JsonAnyGetter</code> proposed in <a href=\"https://stackoverflow.com/a/18043785/770254\">another answer</a> appears to be the way to go, and is in fact <a href=\"https://github.com/FasterXML/jackson-databind/issues/171#issuecomment-13852233\" rel=\"nofollow noreferrer\">a suggested approach</a> by the Jackson project author in the open issue:</p>\n<blockquote>\n<p>as per this:</p>\n<p><a href=\"http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html\" rel=\"nofollow noreferrer\">http://www.cowtowncoder.com/blog/archives/2011/07/entry_458.html</a></p>\n<p>one can use @JsonAnyGetter/setter to do something possibly similar. One missing pieces is that currently one must have getter (can't use it on Map filed), but that should be easy enough to address.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAnySetter \npublic void add(String key, String value) {\n    map.put(key, value);\n}\n\n@JsonAnyGetter\npublic Map&lt;String,String&gt; getMap() {\n    return map;\n}\n</code></pre>\n"}],"owner":{"account_id":2342304,"reputation":3012,"user_id":2053319,"accept_rate":50,"display_name":"Suren Raju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22179,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":18043785,"answer_count":2,"score":58,"last_activity_date":1642993954,"creation_date":1375623785,"question_id":18043587,"body_markdown":"My bean looks like this:\r\n\r\n    class MyBean {\r\n    \t\r\n    \tprivate @JsonUnwrapped HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    \t\r\n    \tprivate String name;\r\n    \t\r\n    \tpublic HashMap&lt;String, String&gt; getMap() {\r\n    \t\treturn map;\r\n    \t}\r\n    \r\n    \tpublic void setMap(HashMap&lt;String, String&gt; map) {\r\n    \t\tthis.map = map;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\nWhile I&#39;m serializing the bean using the following code: \r\n\r\n    MyBean bean = new MyBean();\r\n    HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();;\r\n    map.put(&quot;key1&quot;, &quot;value1&quot;);\r\n    map.put(&quot;key2&quot;, &quot;value2&quot;);\r\n    bean.setMap(map);\r\n    bean.setName(&quot;suren&quot;);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    System.out.println(&quot;\\n&quot;+mapper.writeValueAsString(bean));\r\n\r\nI&#39;m getting result like this:\r\n\r\n    {&quot;map&quot;:{&quot;key2&quot;:&quot;value2&quot;,&quot;key1&quot;:&quot;value1&quot;},&quot;name&quot;:&quot;suren&quot;}\r\n\r\nbut\r\n\r\n    {&quot;key2&quot;:&quot;value2&quot;,&quot;key1&quot;:&quot;value1&quot;,&quot;name&quot;:&quot;suren&quot;}\r\n\r\nis expected per the [JacksonFeatureUnwrapping documentation](http://wiki.fasterxml.com/JacksonFeatureUnwrapping). Why am I not getting the unwrapped result?","title":"Why I&#39;m not able to unwrap and serialize a Java map using the Jackson Java library?","body":"<p>My bean looks like this:</p>\n\n<pre><code>class MyBean {\n\n    private @JsonUnwrapped HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n    private String name;\n\n    public HashMap&lt;String, String&gt; getMap() {\n        return map;\n    }\n\n    public void setMap(HashMap&lt;String, String&gt; map) {\n        this.map = map;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>While I'm serializing the bean using the following code: </p>\n\n<pre><code>MyBean bean = new MyBean();\nHashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();;\nmap.put(\"key1\", \"value1\");\nmap.put(\"key2\", \"value2\");\nbean.setMap(map);\nbean.setName(\"suren\");\nObjectMapper mapper = new ObjectMapper();\nSystem.out.println(\"\\n\"+mapper.writeValueAsString(bean));\n</code></pre>\n\n<p>I'm getting result like this:</p>\n\n<pre><code>{\"map\":{\"key2\":\"value2\",\"key1\":\"value1\"},\"name\":\"suren\"}\n</code></pre>\n\n<p>but</p>\n\n<pre><code>{\"key2\":\"value2\",\"key1\":\"value1\",\"name\":\"suren\"}\n</code></pre>\n\n<p>is expected per the <a href=\"http://wiki.fasterxml.com/JacksonFeatureUnwrapping\" rel=\"noreferrer\">JacksonFeatureUnwrapping documentation</a>. Why am I not getting the unwrapped result?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642990511,"post_id":70828260,"comment_id":125213295,"body_markdown":"`FileInputStream#read` is returning the number of bytes which were read, so, in theory, you could simply create a new `byte[]` of that size and copy the bytes from the `buffer` to it, but, this has the side effect of creating a new object on each iteration which could have a performance hit. You might be better using [`ByteArrayOutputStream`](https://docs.oracle.com/javase/10/docs/api/java/io/ByteArrayOutputStream.html)","body":"<code>FileInputStream#read</code> is returning the number of bytes which were read, so, in theory, you could simply create a new <code>byte[]</code> of that size and copy the bytes from the <code>buffer</code> to it, but, this has the side effect of creating a new object on each iteration which could have a performance hit. You might be better using <a href=\"https://docs.oracle.com/javase/10/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"nofollow noreferrer\"><code>ByteArrayOutputStream</code></a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1642991878,"post_id":70828260,"comment_id":125213482,"body_markdown":"That behavior isn&#39;t something to fix.  Every solution available will overallocate in the way you describe.  512 bytes is not worth worrying about in the slightest.  You&#39;ll be using an array of 512 bytes, though you should save the length so it you know how much of the array is actually file content.","body":"That behavior isn&#39;t something to fix.  Every solution available will overallocate in the way you describe.  512 bytes is not worth worrying about in the slightest.  You&#39;ll be using an array of 512 bytes, though you should save the length so it you know how much of the array is actually file content."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642992541,"post_id":70828260,"comment_id":125213583,"body_markdown":"@LouisWasserman - I think that the real issue is that you don&#39;t know how many bytes in each `byte[]` are valid data.  When reading from a file, it is just the last chunk that could be &quot;short&quot; ... but when reading from a socket any of them could be.  (But I agree that the &quot;space occupied&quot; is a non-issue.)","body":"@LouisWasserman - I think that the real issue is that you don&#39;t know how many bytes in each <code>byte[]</code> are valid data.  When reading from a file, it is just the last chunk that could be &quot;short&quot; ... but when reading from a socket any of them could be.  (But I agree that the &quot;space occupied&quot; is a non-issue.)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642993472,"creation_date":1642990394,"answer_id":70828305,"question_id":70828260,"body_markdown":"First of all, what you are doing is probably a bad idea.  Storing a file&#39;s contents in memory like this is liable to be a waste of heap space ... and can lead to `OutOfMemoryError` exceptions and / or a requirement for an excessively large heap if you process large (enough) input files.\r\n\r\nThe second problem is that your code is wrong.  You are repeatedly reading the data into *the same byte array*.  Each time you do, it overwrites what was there before.  So you will end up will a list containing lots of reference to a single byte array ... containing just the *last* chunk of data that you read.\r\n\r\nTo solve the problem that you asked about&lt;sup&gt;1&lt;/sup&gt;, you will need to copy the chunk that you read to a new (smaller) byte array.\r\n\r\nSomething like this:\r\n\r\n    public ArrayList&lt;byte[]&gt; packets = new ArrayList&lt;&gt;();\r\n    try (FileInputStream fis = new FileInputStream(&quot;random_text.txt&quot;)) {\r\n        byte[] buffer = new byte[512];\r\n        int len;\r\n        while ((len = fis.read(buffer)) &gt; 0) {\r\n            packets.add(Arrays.copyOf(buffer, len));\r\n        }\r\n    }\r\n\r\nNote that this also deals with the second problem I mentioned.  And fixes a potential *resource leak* by using *try with resource* syntax to manage the closure of the input stream. \r\n\r\nA final issue: If this is really a text file that you are reading, you probably should be using a `Reader` to read it, and `char[]` or `String` to hold it.  \r\n\r\nBut even if you do that there are some awkward edge cases if your text contains Unicode codepoints that are not in code plane 0.  For example, emojis.  The edge cases will involve code points that are represented as a surrogate pair AND the pair being split on a chunk boundary.  Reading and storing the text as lines would avoid that.\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - The issue here is not the &quot;wasted&quot; space.  Unless you are reading and caching a large *number* of small file, any space wastage due to &quot;short&quot; chunks will be unimportant.  The important issue is knowing which bytes in each `byte[]` are actually valid data.&lt;/sup&gt;","title":"Reading large file in bytes by chunks with dynamic buffer size","body":"<p>First of all, what you are doing is probably a bad idea.  Storing a file's contents in memory like this is liable to be a waste of heap space ... and can lead to <code>OutOfMemoryError</code> exceptions and / or a requirement for an excessively large heap if you process large (enough) input files.</p>\n<p>The second problem is that your code is wrong.  You are repeatedly reading the data into <em>the same byte array</em>.  Each time you do, it overwrites what was there before.  So you will end up will a list containing lots of reference to a single byte array ... containing just the <em>last</em> chunk of data that you read.</p>\n<p>To solve the problem that you asked about<sup>1</sup>, you will need to copy the chunk that you read to a new (smaller) byte array.</p>\n<p>Something like this:</p>\n<pre><code>public ArrayList&lt;byte[]&gt; packets = new ArrayList&lt;&gt;();\ntry (FileInputStream fis = new FileInputStream(&quot;random_text.txt&quot;)) {\n    byte[] buffer = new byte[512];\n    int len;\n    while ((len = fis.read(buffer)) &gt; 0) {\n        packets.add(Arrays.copyOf(buffer, len));\n    }\n}\n</code></pre>\n<p>Note that this also deals with the second problem I mentioned.  And fixes a potential <em>resource leak</em> by using <em>try with resource</em> syntax to manage the closure of the input stream.</p>\n<p>A final issue: If this is really a text file that you are reading, you probably should be using a <code>Reader</code> to read it, and <code>char[]</code> or <code>String</code> to hold it.</p>\n<p>But even if you do that there are some awkward edge cases if your text contains Unicode codepoints that are not in code plane 0.  For example, emojis.  The edge cases will involve code points that are represented as a surrogate pair AND the pair being split on a chunk boundary.  Reading and storing the text as lines would avoid that.</p>\n<hr />\n<p><sup>1 - The issue here is not the &quot;wasted&quot; space.  Unless you are reading and caching a large <em>number</em> of small file, any space wastage due to &quot;short&quot; chunks will be unimportant.  The important issue is knowing which bytes in each <code>byte[]</code> are actually valid data.</sup></p>\n"}],"owner":{"account_id":21145596,"reputation":23,"user_id":15546989,"display_name":"Extreme Fansubs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70828305,"answer_count":1,"score":1,"last_activity_date":1642993472,"creation_date":1642989828,"question_id":70828260,"body_markdown":"I&#39;m trying to read a large file by chunks and save them in an ArrayList of bytes.\r\n\r\nMy code, in short, looks like this:\r\n\r\n```java\r\npublic ArrayList&lt;byte[]&gt; packets = new ArrayList&lt;&gt;();\r\nFileInputStream fis = new FileInputStream(&quot;random_text.txt&quot;);\r\nbyte[] buffer = new byte[512];\r\nwhile (fis.read(buffer) &gt; 0){\r\n  packets.add(buffer);\r\n}\r\nfis.close();\r\n```\r\n\r\nBut it has a behavior that I don&#39;t know how to solve, for example: If a file has only the words &quot;hello world&quot;, this chunk does not necessarily need to be 512 bytes long. In fact, I want each chunk to be a maximum of 512 bytes not that they all necessarily have that size.","title":"Reading large file in bytes by chunks with dynamic buffer size","body":"<p>I'm trying to read a large file by chunks and save them in an ArrayList of bytes.</p>\n<p>My code, in short, looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayList&lt;byte[]&gt; packets = new ArrayList&lt;&gt;();\nFileInputStream fis = new FileInputStream(&quot;random_text.txt&quot;);\nbyte[] buffer = new byte[512];\nwhile (fis.read(buffer) &gt; 0){\n  packets.add(buffer);\n}\nfis.close();\n</code></pre>\n<p>But it has a behavior that I don't know how to solve, for example: If a file has only the words &quot;hello world&quot;, this chunk does not necessarily need to be 512 bytes long. In fact, I want each chunk to be a maximum of 512 bytes not that they all necessarily have that size.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1015424,"reputation":697,"user_id":1027070,"accept_rate":62,"display_name":"Ranjithkumar"},"score":0,"creation_date":1394012909,"post_id":9651544,"comment_id":33690229,"body_markdown":"is solved if yes please share the answer","body":"is solved if yes please share the answer"}],"answers":[{"tags":[],"owner":{"account_id":375416,"reputation":17497,"user_id":726239,"accept_rate":76,"display_name":"Shaunak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1331428576,"creation_date":1331428576,"answer_id":9651608,"question_id":9651544,"body_markdown":"You might want to try using Android NDK and build and use clam with it. \r\n\r\n[http://developer.android.com/sdk/ndk/index.html][1]\r\n\r\n\r\n  [1]: http://developer.android.com/sdk/ndk/index.html","title":"Open source Java Library for guitar chords detection when you play an mp3 music file","body":"<p>You might want to try using Android NDK and build and use clam with it. </p>\n\n<p><a href=\"http://developer.android.com/sdk/ndk/index.html\" rel=\"nofollow\">http://developer.android.com/sdk/ndk/index.html</a></p>\n"}],"owner":{"account_id":1083888,"reputation":10344,"user_id":1080093,"accept_rate":92,"display_name":"Nav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2238,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9651608,"answer_count":1,"score":3,"last_activity_date":1642993292,"creation_date":1331427612,"question_id":9651544,"body_markdown":"I am looking for an alternative in java as most of the libraries I found were written in c++\r\nE.x. the clam library. http://clam-project.org/wiki/Chordata_tutorial\r\n\r\nDoes any body know a good java library which does pitch synthesis from a raw mp3 file and does chord matching afterwards based on some predefined algorithms?\r\n\r\nI want to use it in android.","title":"Open source Java Library for guitar chords detection when you play an mp3 music file","body":"<p>I am looking for an alternative in java as most of the libraries I found were written in c++\nE.x. the clam library. <a href=\"http://clam-project.org/wiki/Chordata_tutorial\" rel=\"nofollow\">http://clam-project.org/wiki/Chordata_tutorial</a></p>\n\n<p>Does any body know a good java library which does pitch synthesis from a raw mp3 file and does chord matching afterwards based on some predefined algorithms?</p>\n\n<p>I want to use it in android.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1642984975,"post_id":70827834,"comment_id":125212524,"body_markdown":"What&#39;s your full* error message?","body":"What&#39;s your full* error message?"},{"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"score":0,"creation_date":1642985401,"post_id":70827834,"comment_id":125212597,"body_markdown":"@JonR85 check the OP again I have copied it all","body":"@JonR85 check the OP again I have copied it all"},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1642985984,"post_id":70827834,"comment_id":125212678,"body_markdown":"Thanks for that. What line is 140?","body":"Thanks for that. What line is 140?"},{"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"score":0,"creation_date":1642986688,"post_id":70827834,"comment_id":125212774,"body_markdown":"@JonR85  galleryAdapter = GalleryAdapter(this.context as Context,imageList, as soon it touches the get imageElement it crashes","body":"@JonR85  galleryAdapter = GalleryAdapter(this.context as Context,imageList, as soon it touches the get imageElement it crashes"},{"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"score":0,"creation_date":1642987058,"post_id":70827834,"comment_id":125212820,"body_markdown":"@JonR85 apparently it crashes when it tries ot find the element in the fragment view  should I add the image element on the fragment or how does it bind to the fragment view?","body":"@JonR85 apparently it crashes when it tries ot find the element in the fragment view  should I add the image element on the fragment or how does it bind to the fragment view?"},{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":0,"creation_date":1642988450,"post_id":70827834,"comment_id":125213044,"body_markdown":"imageList is null, please show the `ImageGallery` code","body":"imageList is null, please show the <code>ImageGallery</code> code"},{"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"score":0,"creation_date":1642988893,"post_id":70827834,"comment_id":125213101,"body_markdown":"@GHH when i checked in the debuged there were 565 files","body":"@GHH when i checked in the debuged there were 565 files"},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1642988952,"post_id":70827834,"comment_id":125213108,"body_markdown":"Your fragment should only contain your recyclerView(with the exception of elements that are not part of the recyclerView). \nIf you don&#39;t know how a recyclerview works, I suggest trying to find a tutorial or reading up on them before trying to write one out. They are one of the more complex elements in android.\nJust for testing, try removing that interface from the adapter signature.","body":"Your fragment should only contain your recyclerView(with the exception of elements that are not part of the recyclerView).  If you don&#39;t know how a recyclerview works, I suggest trying to find a tutorial or reading up on them before trying to write one out. They are one of the more complex elements in android. Just for testing, try removing that interface from the adapter signature."},{"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"score":0,"creation_date":1642989652,"post_id":70827834,"comment_id":125213193,"body_markdown":"@JonR85  https://imgur.com/a/rMEcbbb  it throws an exceptin when obtaining the imageElement off the view... but how it is suposed ot get the image view by id?","body":"@JonR85  <a href=\"https://imgur.com/a/rMEcbbb\" rel=\"nofollow noreferrer\">imgur.com/a/rMEcbbb</a>  it throws an exceptin when obtaining the imageElement off the view... but how it is suposed ot get the image view by id?"},{"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"score":0,"creation_date":1642989677,"post_id":70827834,"comment_id":125213197,"body_markdown":"@GHH https://imgur.com/a/rMEcbbb the imageview element wasnt found","body":"@GHH <a href=\"https://imgur.com/a/rMEcbbb\" rel=\"nofollow noreferrer\">imgur.com/a/rMEcbbb</a> the imageview element wasnt found"}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642990271,"creation_date":1642990271,"answer_id":70828294,"question_id":70827834,"body_markdown":"    class ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\r\n    \r\n            var image : ImageView = view.findViewById(R.id.imageElement1)\r\n    \r\n            interface IPhotoInterface {\r\n    \r\n                fun onPhotoClick(stringPath:String): Unit\r\n            }\r\n    \r\n        }","title":"Crashing on loading gallery adapter for recyclerview","body":"<pre><code>class ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n\n        var image : ImageView = view.findViewById(R.id.imageElement1)\n\n        interface IPhotoInterface {\n\n            fun onPhotoClick(stringPath:String): Unit\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70828294,"answer_count":1,"score":0,"last_activity_date":1642992299,"creation_date":1642984592,"question_id":70827834,"body_markdown":"\r\n\r\nEdit: After JonR85&#39;s answer it returned the image adapter but now after returning the inflated view it crashes the application\r\n```kotlin\r\n\r\noverride fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n        var _galleryFragment:View?\r\n          _galleryFragment =   requireActivity().findViewById&lt;View&gt;(R.id.gallery_fragment) as View\r\n              galleryFragment =   GetGalleryFragment(inflater,container) as View\r\n\r\n\r\n             galleryNumberText =     (galleryFragment).findViewById(R.id.galleryNumber) as? TextView?\r\n             recyclerView = (galleryFragment).findViewById(R.id.recyclerViewImageItems) as? RecyclerView?\r\n\r\n             if(ContextCompat.checkSelfPermission(this.context as Context,Manifest.permission.READ_EXTERNAL_STORAGE)!=PackageManager.PERMISSION_GRANTED)\r\n        {\r\n            ActivityCompat.requestPermissions(this.parentFragment?.getActivity() as MainActivity,\r\n                Array&lt;String&gt;(2){Manifest.permission.READ_EXTERNAL_STORAGE},READ_PERMISSION_CODE)\r\n            var i:Any?;\r\n        }\r\n        else\r\n        {\r\n            loadImages()\r\n        }\r\n           return galleryFragment\r\n    }\r\n\r\n```\r\nI have been trying to setup a recyclerview in a fragment(which first is inflated then assigns the objects(recycler view and the text view) in the class that constains the image with the recyclerview and ask for permision but somehow just when it loads the recyclerview it closes the application(apparently crashes at \r\n E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.applicationtest, PID: 14303\r\n    java.lang.NullPointerException\r\n        at com.example.applicationtest.gallery_fragment.loadImages(gallery_fragment.kt:140)\r\n        at com.example.applicationtest.gallery_fragment.onCreateView(gallery_fragment.kt:104)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2106)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\r\n        at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:524)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:236)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8037)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\r\n\r\nwhich calls a GalleryAdapter&#39;s constructor\r\n\r\nabd I have created a galleryElement in a different view to the fragment(I didnt include it), what could be causing the crash?\r\n```\r\n    fun loadImages(){\r\n        recyclerView!!.setHasFixedSize(true)\r\n        recyclerView!!.layoutManager = GridLayoutManager(this.activity,4)\r\n\r\n        try {\r\n            this.imageList = ImageGallery.GetImagesList(this.context as Context )\r\n        }\r\n        catch (ex:Exception)\r\n        {\r\n            println(ex.message)\r\n        }\r\n        galleryAdapter = GalleryAdapter(this.context as Context,imageList,\r\n            object : IPhotoInterface {\r\n                override fun onPhotoClick(stringPath: String):Unit {\r\n                    //process picture on click\r\n                }\r\n            })\r\n       try {\r\n           recyclerView?.adapter = galleryAdapter\r\n           galleryNumberText?.text = &quot;${imageList.size} images&quot;\r\n       }\r\n        catch(ex:Exception)\r\n        {\r\n            println(ex.message)\r\n        }\r\n    }```\r\n\r\nGalleryAdapter\r\n\r\n\r\n```\r\n\r\n   \r\n\r\n     class GalleryAdapter(var ctx: Context, var listOfImages:MutableList&lt;String&gt;,var photoListener: ViewHolder.IPhotoInterface): RecyclerView.Adapter&lt;GalleryAdapter.ViewHolder&gt;() {\r\n        \r\n            class ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\r\n        \r\n                fun GetImageInit(view:View):ImageView =view.findViewById(R.id.imageElement1)\r\n        \r\n                var image : ImageView\r\n        \r\n                init {\r\n                    image  = GetImageInit(itemView) as ImageView\r\n                }\r\n                interface IPhotoInterface {\r\n        \r\n                    fun onPhotoClick(stringPath:String): Unit\r\n                }\r\n        \r\n            }\r\n        \r\n        \r\n            override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n              var inflatedView:View =  LayoutInflater.from(this.ctx).inflate(R.layout.gallery_fragment,parent,false)\r\n               return ViewHolder(inflatedView)\r\n            }\r\n        \r\n            override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n                var image:String = (listOfImages as List&lt;String&gt;).get(position)\r\n                Glide.with(ctx).load(image).into(holder.image)\r\n                holder.itemView.setOnClickListener{view-&gt;\r\n                    this.photoListener.onPhotoClick(image)\r\n                }\r\n            }\r\n        \r\n            override fun getItemCount(): Int {\r\n               return this.listOfImages.size\r\n            }\r\n        }\r\n    \r\n    ```\r\n\r\n    gallery_fragment\r\n\r\n    ```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.gallery_fragment&quot;\r\n        android:background=&quot;#333333&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;56dp&quot;\r\n            android:id=&quot;@+id/galleryNumberContainer&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/galleryNumber&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginLeft=&quot;16dp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerViewImageItems&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n```\r\n\r\nGalleryItem in a different view file\r\n```xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/gallery_item&quot;\r\n    \r\n        &gt;\r\n        &lt;ImageView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            app:layout_constraintDimensionRatio=&quot;1&quot;\r\n            android:id=&quot;@+id/imageElement1&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot;\r\n            &gt;&lt;/ImageView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\nhow I have obtained the image list\r\n```\r\nkotlin\r\n \r\n\r\npublic fun GetImagesList(context: Context):MutableList&lt;string&gt;{\r\n            lateinit var uri:Uri\r\n            var cursor:Cursor?\r\n            var columnIndexDataId:Int =0\r\n            var imageCollectionList:MutableList&lt;string&gt; =  mutableListOf&lt;string&gt;()\r\n            var projection:Array&lt;string&gt;\r\n            var absoluteImagePath:String =&quot;&quot;\r\n            uri =MediaStore.Images.Media.EXTERNAL_CONTENT_URI\r\n            var selection:string = &quot;_id?&quot;\r\n           // var selectionArgs :Array&lt;string&gt; = arrayOf(DocumentsContract.getDocumentId(uri).split(&quot;:&quot;)[1])\r\n\r\n            try {\r\n                val columnName:string=&quot;_data&quot;\r\n                projection = arrayOf(columnName)\r\n                cursor =context.contentResolver.query(uri,null,null,null,null)\r\n               //if cursor is not null then execute codeblock\r\n                cursor?.let {\r\n                        while(it.moveToNext())\r\n                        {\r\n                            val columnIndex = cursor.getColumnIndexOrThrow(columnName)\r\n                            absoluteImagePath =cursor.getString(columnIndex)\r\n                            imageCollectionList.add(absoluteImagePath)\r\n                        }\r\n                }\r\n            }\r\n            catch (ex:Exception){\r\n                    print(ex.message)\r\n            }\r\n            return imageCollectionList\r\n        }\r\n\r\n```\r\n","title":"Crashing on loading gallery adapter for recyclerview","body":"<p>Edit: After JonR85's answer it returned the image adapter but now after returning the inflated view it crashes the application</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\noverride fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        var _galleryFragment:View?\n          _galleryFragment =   requireActivity().findViewById&lt;View&gt;(R.id.gallery_fragment) as View\n              galleryFragment =   GetGalleryFragment(inflater,container) as View\n\n\n             galleryNumberText =     (galleryFragment).findViewById(R.id.galleryNumber) as? TextView?\n             recyclerView = (galleryFragment).findViewById(R.id.recyclerViewImageItems) as? RecyclerView?\n\n             if(ContextCompat.checkSelfPermission(this.context as Context,Manifest.permission.READ_EXTERNAL_STORAGE)!=PackageManager.PERMISSION_GRANTED)\n        {\n            ActivityCompat.requestPermissions(this.parentFragment?.getActivity() as MainActivity,\n                Array&lt;String&gt;(2){Manifest.permission.READ_EXTERNAL_STORAGE},READ_PERMISSION_CODE)\n            var i:Any?;\n        }\n        else\n        {\n            loadImages()\n        }\n           return galleryFragment\n    }\n\n</code></pre>\n<p>I have been trying to setup a recyclerview in a fragment(which first is inflated then assigns the objects(recycler view and the text view) in the class that constains the image with the recyclerview and ask for permision but somehow just when it loads the recyclerview it closes the application(apparently crashes at\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.applicationtest, PID: 14303\njava.lang.NullPointerException\nat com.example.applicationtest.gallery_fragment.loadImages(gallery_fragment.kt:140)\nat com.example.applicationtest.gallery_fragment.onCreateView(gallery_fragment.kt:104)\nat androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\nat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\nat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\nat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\nat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2106)\nat androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\nat androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:524)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:236)\nat android.app.ActivityThread.main(ActivityThread.java:8037)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)</p>\n<p>which calls a GalleryAdapter's constructor</p>\n<p>abd I have created a galleryElement in a different view to the fragment(I didnt include it), what could be causing the crash?</p>\n<pre><code>    fun loadImages(){\n        recyclerView!!.setHasFixedSize(true)\n        recyclerView!!.layoutManager = GridLayoutManager(this.activity,4)\n\n        try {\n            this.imageList = ImageGallery.GetImagesList(this.context as Context )\n        }\n        catch (ex:Exception)\n        {\n            println(ex.message)\n        }\n        galleryAdapter = GalleryAdapter(this.context as Context,imageList,\n            object : IPhotoInterface {\n                override fun onPhotoClick(stringPath: String):Unit {\n                    //process picture on click\n                }\n            })\n       try {\n           recyclerView?.adapter = galleryAdapter\n           galleryNumberText?.text = &quot;${imageList.size} images&quot;\n       }\n        catch(ex:Exception)\n        {\n            println(ex.message)\n        }\n    }```\n\nGalleryAdapter\n\n\n</code></pre>\n<pre><code> class GalleryAdapter(var ctx: Context, var listOfImages:MutableList&lt;String&gt;,var photoListener: ViewHolder.IPhotoInterface): RecyclerView.Adapter&lt;GalleryAdapter.ViewHolder&gt;() {\n    \n        class ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n    \n            fun GetImageInit(view:View):ImageView =view.findViewById(R.id.imageElement1)\n    \n            var image : ImageView\n    \n            init {\n                image  = GetImageInit(itemView) as ImageView\n            }\n            interface IPhotoInterface {\n    \n                fun onPhotoClick(stringPath:String): Unit\n            }\n    \n        }\n    \n    \n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n          var inflatedView:View =  LayoutInflater.from(this.ctx).inflate(R.layout.gallery_fragment,parent,false)\n           return ViewHolder(inflatedView)\n        }\n    \n        override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n            var image:String = (listOfImages as List&lt;String&gt;).get(position)\n            Glide.with(ctx).load(image).into(holder.image)\n            holder.itemView.setOnClickListener{view-&gt;\n                this.photoListener.onPhotoClick(image)\n            }\n        }\n    \n        override fun getItemCount(): Int {\n           return this.listOfImages.size\n        }\n    }\n\n```\n\ngallery_fragment\n\n```xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.gallery_fragment&quot;\n    android:background=&quot;#333333&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;56dp&quot;\n        android:id=&quot;@+id/galleryNumberContainer&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/galleryNumber&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginLeft=&quot;16dp&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textSize=&quot;18dp&quot;\n            /&gt;\n    &lt;/RelativeLayout&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerViewImageItems&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<pre><code>\nGalleryItem in a different view file\n```xml\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/gallery_item&quot;\n    \n        &gt;\n        &lt;ImageView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            app:layout_constraintDimensionRatio=&quot;1&quot;\n            android:id=&quot;@+id/imageElement1&quot;\n            tools:ignore=&quot;MissingConstraints&quot;\n            &gt;&lt;/ImageView&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>how I have obtained the image list</p>\n<pre><code>kotlin\n \n\npublic fun GetImagesList(context: Context):MutableList&lt;string&gt;{\n            lateinit var uri:Uri\n            var cursor:Cursor?\n            var columnIndexDataId:Int =0\n            var imageCollectionList:MutableList&lt;string&gt; =  mutableListOf&lt;string&gt;()\n            var projection:Array&lt;string&gt;\n            var absoluteImagePath:String =&quot;&quot;\n            uri =MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n            var selection:string = &quot;_id?&quot;\n           // var selectionArgs :Array&lt;string&gt; = arrayOf(DocumentsContract.getDocumentId(uri).split(&quot;:&quot;)[1])\n\n            try {\n                val columnName:string=&quot;_data&quot;\n                projection = arrayOf(columnName)\n                cursor =context.contentResolver.query(uri,null,null,null,null)\n               //if cursor is not null then execute codeblock\n                cursor?.let {\n                        while(it.moveToNext())\n                        {\n                            val columnIndex = cursor.getColumnIndexOrThrow(columnName)\n                            absoluteImagePath =cursor.getString(columnIndex)\n                            imageCollectionList.add(absoluteImagePath)\n                        }\n                }\n            }\n            catch (ex:Exception){\n                    print(ex.message)\n            }\n            return imageCollectionList\n        }\n\n</code></pre>\n"},{"tags":["java","html","favicon"],"answers":[{"tags":[],"owner":{"account_id":8020013,"reputation":141,"user_id":7026117,"display_name":"Jack465"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642991445,"creation_date":1642991445,"answer_id":70828383,"question_id":70828325,"body_markdown":"from my research, you cannot use the chrome favicon API outside of extensions/chrome itself. \r\n\r\nIf you are building a chrome extension, then you would have to add some custom permissions to the manifest.json described in this post: https://stackoverflow.com/a/48304708 \r\n\r\nIf you were looking to grab favicons in a regular website, there exists some websites that offer APIs etc which you can use to get the favicon link, such as this: https://favicongrabber.com/service-api-reference","title":"Extracted favicon using &quot;chrome://favicon/size/16@3x/&quot; doesn&#39;t load the favicon","body":"<p>from my research, you cannot use the chrome favicon API outside of extensions/chrome itself.</p>\n<p>If you are building a chrome extension, then you would have to add some custom permissions to the manifest.json described in this post: <a href=\"https://stackoverflow.com/a/48304708\">https://stackoverflow.com/a/48304708</a></p>\n<p>If you were looking to grab favicons in a regular website, there exists some websites that offer APIs etc which you can use to get the favicon link, such as this: <a href=\"https://favicongrabber.com/service-api-reference\" rel=\"nofollow noreferrer\">https://favicongrabber.com/service-api-reference</a></p>\n"}],"owner":{"account_id":22538400,"reputation":41,"user_id":16729283,"display_name":"thefox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70828383,"answer_count":1,"score":0,"last_activity_date":1642991445,"creation_date":1642990720,"question_id":70828325,"body_markdown":"I am trying to load the favicon of a different website using chrome favicon API `chrome://favicon/size/16@3x/` when loading the page it shows a broken Icon.\r\n\r\nExample code:\r\n\r\n    &lt;img class=&quot;img-favicon&quot; alt=&quot;icon&quot; src=&quot;chrome://favicon/size/16@3x/https://replit.com/~&quot;\r\n    \r\nAm I missing something what is it that I am doing wrong here? Any help, please.\r\nThank you so much in advance.","title":"Extracted favicon using &quot;chrome://favicon/size/16@3x/&quot; doesn&#39;t load the favicon","body":"<p>I am trying to load the favicon of a different website using chrome favicon API <code>chrome://favicon/size/16@3x/</code> when loading the page it shows a broken Icon.</p>\n<p>Example code:</p>\n<pre><code>&lt;img class=&quot;img-favicon&quot; alt=&quot;icon&quot; src=&quot;chrome://favicon/size/16@3x/https://replit.com/~&quot;\n</code></pre>\n<p>Am I missing something what is it that I am doing wrong here? Any help, please.\nThank you so much in advance.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1642981438,"post_id":70826890,"comment_id":125211993,"body_markdown":"must it be recursion? a simple loop would be more adequate to count digits","body":"must it be recursion? a simple loop would be more adequate to count digits"}],"answers":[{"tags":[],"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642982309,"creation_date":1642975966,"answer_id":70827038,"question_id":70826890,"body_markdown":"I think using tail recursion is the right idea. Here is my attempt, assuming we can use more than one parameter in the recursive function:\r\n\r\n```\r\npublic static boolean compareOddEven(int x, int count) {\r\n\t//This is when we reach the end of the recursion (ones place).\r\n\tif(x&lt;10) {\r\n\t    //if odd, add 1, if even subtract 1\r\n\t    count += (x%2==1) ? 1 : -1;\r\n\t    return count&gt;0;\r\n\t}\r\n\telse{\r\n\t    int digit = x;\r\n\t    \r\n\t    //We use this loop in order to get the leftmost digit and read whether it is odd or even. \r\n\t    //Subsequently, we add or subtract 1 to the count based on the digit&#39;s parity and we pass this count into the next recursion in order to keep track.\r\n\t    while (digit &gt; 9) {\r\n\t        digit /= 10;\r\n\t    }\r\n\t    count += (digit%2==1) ? 1 : -1;\r\n\r\n\t    //Get rid of the first digit to get next number to use in recursive call.\r\n\t    int removedFirstDigit = x % (int) Math.pow(10, (int) Math.log10(x));\r\n\r\n\t    //tail recursion\r\n\t    return compareOddEven(removedFirstDigit, count);\r\n\t}\r\n}\r\n```\r\n\r\n**Explanation.** We can accomplish this with just one method if we keep track of the count of odd and even digits the second parameter of the method. It will be less cumbersome to keep track of the count rather than keeping track of both counts of the odd and even numbers (and avoids the comparisons at the end which would not make it a tail recursion).\r\n\r\nWith this in mind, our approach is to start at the leftmost digit of the number we input and move to the right with each new recursive call. It is possible to start from right and go left in counting the parity of the digits as well.\r\n\r\nSo with every new recursive call, we pass in the count to the function as an argument. When we finally reach the ones digit, the nonnegativity of the count tells us whether there are more odd or even digits. To see this more clearly, I recommend printing out some of the arguments right before the recursive call is made.\r\n\r\nFurther note that when we reach the ones place, the truth value of ```count&gt;0``` will be propagated up the chain of recursive calls to give the final result that we desire.  \r\n\r\nExample call:\r\n```\r\nSystem.out.println(compareOddEven(21468233, 0));\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nfalse\r\n```","title":"Writing recursive method to compare even and odd digits within number","body":"<p>I think using tail recursion is the right idea. Here is my attempt, assuming we can use more than one parameter in the recursive function:</p>\n<pre><code>public static boolean compareOddEven(int x, int count) {\n    //This is when we reach the end of the recursion (ones place).\n    if(x&lt;10) {\n        //if odd, add 1, if even subtract 1\n        count += (x%2==1) ? 1 : -1;\n        return count&gt;0;\n    }\n    else{\n        int digit = x;\n        \n        //We use this loop in order to get the leftmost digit and read whether it is odd or even. \n        //Subsequently, we add or subtract 1 to the count based on the digit's parity and we pass this count into the next recursion in order to keep track.\n        while (digit &gt; 9) {\n            digit /= 10;\n        }\n        count += (digit%2==1) ? 1 : -1;\n\n        //Get rid of the first digit to get next number to use in recursive call.\n        int removedFirstDigit = x % (int) Math.pow(10, (int) Math.log10(x));\n\n        //tail recursion\n        return compareOddEven(removedFirstDigit, count);\n    }\n}\n</code></pre>\n<p><strong>Explanation.</strong> We can accomplish this with just one method if we keep track of the count of odd and even digits the second parameter of the method. It will be less cumbersome to keep track of the count rather than keeping track of both counts of the odd and even numbers (and avoids the comparisons at the end which would not make it a tail recursion).</p>\n<p>With this in mind, our approach is to start at the leftmost digit of the number we input and move to the right with each new recursive call. It is possible to start from right and go left in counting the parity of the digits as well.</p>\n<p>So with every new recursive call, we pass in the count to the function as an argument. When we finally reach the ones digit, the nonnegativity of the count tells us whether there are more odd or even digits. To see this more clearly, I recommend printing out some of the arguments right before the recursive call is made.</p>\n<p>Further note that when we reach the ones place, the truth value of <code>count&gt;0</code> will be propagated up the chain of recursive calls to give the final result that we desire.</p>\n<p>Example call:</p>\n<pre><code>System.out.println(compareOddEven(21468233, 0));\n</code></pre>\n<p>Output:</p>\n<pre><code>false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642984851,"creation_date":1642977685,"answer_id":70827229,"question_id":70826890,"body_markdown":"There is a simple reason why you are stuck: you have to count the evens/odds like in 77778888888999. In fact you need to count the sum of `(odds - evens)`, the _oddity_.\r\n\r\n    public static boolean moreOddThanEven(int x) {\r\n        assert x &gt;= 0;\r\n        return x != 0 &amp;&amp; oddity(x) &gt; 0;\r\n    }\r\n\r\n    private static int oddity(int x) {\r\n        if (x == 0) {\r\n            return 0;\r\n        }\r\n        if (x % 2 == 0) {\r\n            return oddity(x / 10) - 1;\r\n        } else {\r\n            return oddity(x / 10) + 1;\r\n        }\r\n    }","title":"Writing recursive method to compare even and odd digits within number","body":"<p>There is a simple reason why you are stuck: you have to count the evens/odds like in 77778888888999. In fact you need to count the sum of <code>(odds - evens)</code>, the <em>oddity</em>.</p>\n<pre><code>public static boolean moreOddThanEven(int x) {\n    assert x &gt;= 0;\n    return x != 0 &amp;&amp; oddity(x) &gt; 0;\n}\n\nprivate static int oddity(int x) {\n    if (x == 0) {\n        return 0;\n    }\n    if (x % 2 == 0) {\n        return oddity(x / 10) - 1;\n    } else {\n        return oddity(x / 10) + 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642989509,"creation_date":1642987057,"answer_id":70828021,"question_id":70826890,"body_markdown":"Recursion is not needed (nor is more than one line):\r\n\r\n    public static boolean moreOddThanEven(int x) {\r\n        return (&quot;&quot;+x).replaceAll(&quot;[02468]&quot;, &quot;&quot;).length() &gt; ((int) Math.log10(x)+1) / 2;\r\n    }\r\n\r\nor the longer, but non-mathy version:\r\n\r\n    public static boolean moreOddThanEven(int x) {\r\n        return (&quot;&quot;+x).replaceAll(&quot;[02468]&quot;, &quot;&quot;).length() &gt; ((int) (&quot;&quot;+x).replaceAll(&quot;[13579]&quot;, &quot;&quot;).length();\r\n    }\r\n\r\n","title":"Writing recursive method to compare even and odd digits within number","body":"<p>Recursion is not needed (nor is more than one line):</p>\n<pre><code>public static boolean moreOddThanEven(int x) {\n    return (&quot;&quot;+x).replaceAll(&quot;[02468]&quot;, &quot;&quot;).length() &gt; ((int) Math.log10(x)+1) / 2;\n}\n</code></pre>\n<p>or the longer, but non-mathy version:</p>\n<pre><code>public static boolean moreOddThanEven(int x) {\n    return (&quot;&quot;+x).replaceAll(&quot;[02468]&quot;, &quot;&quot;).length() &gt; ((int) (&quot;&quot;+x).replaceAll(&quot;[13579]&quot;, &quot;&quot;).length();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642991349,"creation_date":1642988583,"answer_id":70828144,"question_id":70826890,"body_markdown":"If you have an easier time thinking about loops than tail recursion, it&#39;s worth knowing that you can translate any loop into tail recursion (and vice versa, but that&#39;s different topic). First, we need to get the loop into this shape:\r\n\r\n```\r\ninitialize a, b, ... \r\nwhile (&lt;some condition on a, b, ...&gt;) {\r\n  Update a, b, ... using old values of a, b, ...\r\n}\r\nreturn &lt;any function of a, b ...&gt;\r\n```\r\nit translates to:\r\n```c\r\nTypeOfReturn while_loop(TypeOfA a, TypeOfB b, ...) {\r\n  if (!(&lt;some condition on a, b, ...&gt;)) {\r\n    return &lt;any function of a, b, c ...&gt;;\r\n  }\r\n  Update a, b, ... using old values of a, b, ...\r\n  return while_loop(a, b, ...);\r\n}\r\n```\r\n\r\nLet&#39;s apply this to your problem.  As a loop:\r\n```c\r\n// x is the input\r\nint oddMinusEven = 0;\r\nwhile (x) {\r\n  oddMinusEven += 2 * (x % 2) - 1;\r\n  x /= 10;\r\n}\r\nreturn oddMinusEven &gt; 0;\r\n```\r\n\r\nWe get:\r\n\r\n```\r\nbool hasMoreOddThanEvenDigits(int x, int oddMinusEven) {\r\n  if (!x) return oddMinusEven &gt; 0;\r\n  oddMinusEven += 2 * (x % 2) - 1;\r\n  x /= 10;\r\n  return hasMoreOddThanEvenDigits(x, oddMinusEven);\r\n}\r\n```\r\nWe can clean this up a bit to make it less verbose:\r\n```\r\nint hasMoreOddThanEvenDigits(int x, int oddMinusEven) {\r\n  return x ? hasMoreOddThanEvenDigits(x / 10,  oddMinusEven + 2 * (x % 2) - 1) : oddMinusEven &gt; 0;\r\n}\r\n```\r\nWe run the loop with a &quot;top level&quot; function call that initializes variables:\r\n```\r\nreturn getMoreOddThanEvenDigits(x, 0) &gt; 0;\r\n```\r\nIt&#39;s fun to see what a good compiler does with the two codes. As you&#39;d expect, they lead to [nearly identical machine code](https://gcc.godbolt.org/z/MYrsnWMvj). If we can do a rule-based transformation, so can the compiler.\r\n","title":"Writing recursive method to compare even and odd digits within number","body":"<p>If you have an easier time thinking about loops than tail recursion, it's worth knowing that you can translate any loop into tail recursion (and vice versa, but that's different topic). First, we need to get the loop into this shape:</p>\n<pre><code>initialize a, b, ... \nwhile (&lt;some condition on a, b, ...&gt;) {\n  Update a, b, ... using old values of a, b, ...\n}\nreturn &lt;any function of a, b ...&gt;\n</code></pre>\n<p>it translates to:</p>\n<pre class=\"lang-c prettyprint-override\"><code>TypeOfReturn while_loop(TypeOfA a, TypeOfB b, ...) {\n  if (!(&lt;some condition on a, b, ...&gt;)) {\n    return &lt;any function of a, b, c ...&gt;;\n  }\n  Update a, b, ... using old values of a, b, ...\n  return while_loop(a, b, ...);\n}\n</code></pre>\n<p>Let's apply this to your problem.  As a loop:</p>\n<pre class=\"lang-c prettyprint-override\"><code>// x is the input\nint oddMinusEven = 0;\nwhile (x) {\n  oddMinusEven += 2 * (x % 2) - 1;\n  x /= 10;\n}\nreturn oddMinusEven &gt; 0;\n</code></pre>\n<p>We get:</p>\n<pre><code>bool hasMoreOddThanEvenDigits(int x, int oddMinusEven) {\n  if (!x) return oddMinusEven &gt; 0;\n  oddMinusEven += 2 * (x % 2) - 1;\n  x /= 10;\n  return hasMoreOddThanEvenDigits(x, oddMinusEven);\n}\n</code></pre>\n<p>We can clean this up a bit to make it less verbose:</p>\n<pre><code>int hasMoreOddThanEvenDigits(int x, int oddMinusEven) {\n  return x ? hasMoreOddThanEvenDigits(x / 10,  oddMinusEven + 2 * (x % 2) - 1) : oddMinusEven &gt; 0;\n}\n</code></pre>\n<p>We run the loop with a &quot;top level&quot; function call that initializes variables:</p>\n<pre><code>return getMoreOddThanEvenDigits(x, 0) &gt; 0;\n</code></pre>\n<p>It's fun to see what a good compiler does with the two codes. As you'd expect, they lead to <a href=\"https://gcc.godbolt.org/z/MYrsnWMvj\" rel=\"nofollow noreferrer\">nearly identical machine code</a>. If we can do a rule-based transformation, so can the compiler.</p>\n"}],"owner":{"account_id":22777699,"reputation":1,"user_id":16934088,"display_name":"ryan j."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1642991349,"creation_date":1642974744,"question_id":70826890,"body_markdown":"Basically, I am trying to write a method where a number is inputted and if there are more odd digits than even digits in the number, it returns &quot;true&quot;, and else, false. I think I need to use tail recursion but I cannot figure it out.\r\n```\r\npublic static boolean moreOddThanEven(int x) {\r\n\tif (x == 0) {\r\n\t\treturn false;\r\n\t}\r\n\tif (x % 2 == 0) {\r\n\t\treturn moreOddThanEven(x / 10);\r\n\t} else {\r\n\t\treturn moreOddThanEven(x / 10);\r\n\t}\r\n}\r\n\r\npublic static boolean moreOddThanEven2(int x) {\r\n\treturn moreOddThanEvenTR(x, 0, 0);\r\n}\r\n\r\npublic static boolean moreOddThanEvenTR(int x, int odd, int even) {\r\n\tif (x == 0) {\r\n\t\treturn false;\r\n\t}\r\n\tif (x%2==0) {\r\n\t\treturn moreOddThanEvenTR(x / 10, odd, even+1);\r\n\t}\r\n\tif (x%2!=0) {\r\n\t\treturn moreOddThanEvenTR(x / 10, odd+1, even);\r\n\t}\r\n\r\n\tif (odd &lt;= even) {\r\n\t\treturn false;\r\n\t} else {\r\n\t\treturn true;\r\n\t}\r\n}\r\n```","title":"Writing recursive method to compare even and odd digits within number","body":"<p>Basically, I am trying to write a method where a number is inputted and if there are more odd digits than even digits in the number, it returns &quot;true&quot;, and else, false. I think I need to use tail recursion but I cannot figure it out.</p>\n<pre><code>public static boolean moreOddThanEven(int x) {\n    if (x == 0) {\n        return false;\n    }\n    if (x % 2 == 0) {\n        return moreOddThanEven(x / 10);\n    } else {\n        return moreOddThanEven(x / 10);\n    }\n}\n\npublic static boolean moreOddThanEven2(int x) {\n    return moreOddThanEvenTR(x, 0, 0);\n}\n\npublic static boolean moreOddThanEvenTR(int x, int odd, int even) {\n    if (x == 0) {\n        return false;\n    }\n    if (x%2==0) {\n        return moreOddThanEvenTR(x / 10, odd, even+1);\n    }\n    if (x%2!=0) {\n        return moreOddThanEvenTR(x / 10, odd+1, even);\n    }\n\n    if (odd &lt;= even) {\n        return false;\n    } else {\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","dependency-injection","mockito","guice"],"comments":[{"owner":{"account_id":12459950,"reputation":466,"user_id":9071912,"display_name":"AdamPillingTech"},"score":0,"creation_date":1513863908,"post_id":47926081,"comment_id":82820334,"body_markdown":"are you missing a closing bracket after the doSomething call?  i.e. when(serviceMock.doSomething()).thenReturn(-1);","body":"are you missing a closing bracket after the doSomething call?  i.e. when(serviceMock.doSomething()).thenReturn(-1);"},{"owner":{"account_id":2983428,"reputation":602,"user_id":2532888,"accept_rate":100,"display_name":"Marcus MacWilliam"},"score":0,"creation_date":1513864120,"post_id":47926081,"comment_id":82820451,"body_markdown":"Sorry, yes. That was a typo. The code is an abstraction of the code I am trying to test, the above code may not compile, but shows the basics of how I am attempting to achieve my test.","body":"Sorry, yes. That was a typo. The code is an abstraction of the code I am trying to test, the above code may not compile, but shows the basics of how I am attempting to achieve my test."},{"owner":{"account_id":2983428,"reputation":602,"user_id":2532888,"accept_rate":100,"display_name":"Marcus MacWilliam"},"score":0,"creation_date":1513864158,"post_id":47926081,"comment_id":82820473,"body_markdown":"The error is not a compiler error, it is a runtime error from Mockito.","body":"The error is not a compiler error, it is a runtime error from Mockito."},{"owner":{"account_id":12459950,"reputation":466,"user_id":9071912,"display_name":"AdamPillingTech"},"score":0,"creation_date":1513864259,"post_id":47926081,"comment_id":82820533,"body_markdown":"try adding @RunWith(MockitoJUnitRunner.class)\nabove the class definition","body":"try adding @RunWith(MockitoJUnitRunner.class) above the class definition"},{"owner":{"account_id":12459950,"reputation":466,"user_id":9071912,"display_name":"AdamPillingTech"},"score":1,"creation_date":1513864410,"post_id":47926081,"comment_id":82820645,"body_markdown":"actually you need to replace InjectMocks with Mock","body":"actually you need to replace InjectMocks with Mock"},{"owner":{"account_id":2983428,"reputation":602,"user_id":2532888,"accept_rate":100,"display_name":"Marcus MacWilliam"},"score":0,"creation_date":1513864673,"post_id":47926081,"comment_id":82820800,"body_markdown":"That successfully mocks the object. Thanks. But how do I now inject that into the class being tested? At the moment the test fails, as the actual service is being used, so doSomething() was not called via the mocked object, in the command, and the executeSomething() returns true.","body":"That successfully mocks the object. Thanks. But how do I now inject that into the class being tested? At the moment the test fails, as the actual service is being used, so doSomething() was not called via the mocked object, in the command, and the executeSomething() returns true."},{"owner":{"account_id":2983428,"reputation":602,"user_id":2532888,"accept_rate":100,"display_name":"Marcus MacWilliam"},"score":0,"creation_date":1513864818,"post_id":47926081,"comment_id":82820892,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/161734/discussion-between-marcus-macwilliam-and-pillhead).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/161734/discussion-between-marcus-macwilliam-and-pillhead\">continue this discussion in chat</a>."},{"owner":{"account_id":12459950,"reputation":466,"user_id":9071912,"display_name":"AdamPillingTech"},"score":0,"creation_date":1513865402,"post_id":47926081,"comment_id":82821290,"body_markdown":"unfortunately I can&#39;t access the chat page.  try something like this...\n    Injector injector = Guice.createInjector(new AbstractModule() {\n        @Override\n        protected void configure() {\n            bind(MyServiceImpl.class).toInstance(serviceMock);\n        }\n    });\n\n    injector.injectMembers(command);","body":"unfortunately I can&#39;t access the chat page.  try something like this...     Injector injector = Guice.createInjector(new AbstractModule() {         @Override         protected void configure() {             bind(MyServiceImpl.class).toInstance(serviceMock);         }     });      injector.injectMembers(command);"},{"owner":{"account_id":2983428,"reputation":602,"user_id":2532888,"accept_rate":100,"display_name":"Marcus MacWilliam"},"score":0,"creation_date":1513867456,"post_id":47926081,"comment_id":82822735,"body_markdown":"Using the above appears to interfere with every other injector in our system, by removing all existing bindings, rather than just overriding the one being tested.","body":"Using the above appears to interfere with every other injector in our system, by removing all existing bindings, rather than just overriding the one being tested."},{"owner":{"account_id":12459950,"reputation":466,"user_id":9071912,"display_name":"AdamPillingTech"},"score":0,"creation_date":1513867807,"post_id":47926081,"comment_id":82822984,"body_markdown":"without being able to see the rest of the code that you&#39;re using for your tests I can&#39;t tell what the best approach is but you&#39;ll need to bind your service mock and ask Guice to inject it.  I was assuming that this was a unit test and therefore the scope was just the classes you have mentioned","body":"without being able to see the rest of the code that you&#39;re using for your tests I can&#39;t tell what the best approach is but you&#39;ll need to bind your service mock and ask Guice to inject it.  I was assuming that this was a unit test and therefore the scope was just the classes you have mentioned"},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1513910361,"post_id":47926081,"comment_id":82839845,"body_markdown":"Perhaps not an exact duplicate, but this one is pretty close: https://stackoverflow.com/questions/27604727/how-to-init-guice-if-my-running-class-is-junit/27609674#27609674","body":"Perhaps not an exact duplicate, but this one is pretty close: <a href=\"https://stackoverflow.com/questions/27604727/how-to-init-guice-if-my-running-class-is-junit/27609674#27609674\" title=\"how to init guice if my running class is junit\">stackoverflow.com/questions/27604727/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1642991126,"creation_date":1513906903,"answer_id":47934897,"question_id":47926081,"body_markdown":"## Test without CDI\r\n\r\nA simple solution is to combine CDI with Constructor Injection, and forget about Guice for the test:\r\n\r\n    public class MyCommand {\r\n        private final MyService service;\r\n    \r\n        @Inject\r\n        public MyCommand(MyService service) {\r\n            this.service = service;\r\n        }\r\n    \r\n        public boolean executeSomething() {\r\n            return service.doSomething() &gt; 0;\r\n        }\r\n    }\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MyCommandTest {\r\n        @Mock\r\n        MyServiceImpl serviceMock;\r\n        private MyCommand command;\r\n    \r\n        @Before public void beforeEach() {\r\n            MockitoAnnotations.initMocks(this);\r\n            when(serviceMock.doSomething()).thenReturn(-1); // &lt;- Error here\r\n\r\n            // inject without Guice\r\n            command = new MyCommand(serviceMock);\r\n        }\r\n    }\r\n\r\n## Test with Mockito doing CDI\r\n\r\nElse, if you do not like Constructor Injection, the test code should look like this:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MyCommandTest {\r\n        @Mock\r\n        MyServiceImpl serviceMock;\r\n        @InjectMocks \r\n        private MyCommand command;\r\n\r\n        private AutoCloseable mockHandler;\r\n\r\n        @Before\r\n        public void beforeEach() {\r\n            // initialize members annotated with @Mock and @InjectMocks\r\n            mockHandler = MockitoAnnotations.openMocks(this);\r\n\r\n            when(serviceMock.doSomething()).thenReturn(-1); // &lt;- Error here\r\n        }\r\n\r\n        @After\r\n        public void afterEach() throws Exception {\r\n            mockHandler.close();\r\n        }\r\n    }","title":"Using Guice, how do I inject a mock object from my unit test, into the class being tested","body":"<h2>Test without CDI</h2>\n<p>A simple solution is to combine CDI with Constructor Injection, and forget about Guice for the test:</p>\n<pre><code>public class MyCommand {\n    private final MyService service;\n\n    @Inject\n    public MyCommand(MyService service) {\n        this.service = service;\n    }\n\n    public boolean executeSomething() {\n        return service.doSomething() &gt; 0;\n    }\n}\n\n@RunWith(MockitoJUnitRunner.class)\npublic class MyCommandTest {\n    @Mock\n    MyServiceImpl serviceMock;\n    private MyCommand command;\n\n    @Before public void beforeEach() {\n        MockitoAnnotations.initMocks(this);\n        when(serviceMock.doSomething()).thenReturn(-1); // &lt;- Error here\n\n        // inject without Guice\n        command = new MyCommand(serviceMock);\n    }\n}\n</code></pre>\n<h2>Test with Mockito doing CDI</h2>\n<p>Else, if you do not like Constructor Injection, the test code should look like this:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MyCommandTest {\n    @Mock\n    MyServiceImpl serviceMock;\n    @InjectMocks \n    private MyCommand command;\n\n    private AutoCloseable mockHandler;\n\n    @Before\n    public void beforeEach() {\n        // initialize members annotated with @Mock and @InjectMocks\n        mockHandler = MockitoAnnotations.openMocks(this);\n\n        when(serviceMock.doSomething()).thenReturn(-1); // &lt;- Error here\n    }\n\n    @After\n    public void afterEach() throws Exception {\n        mockHandler.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2983428,"reputation":602,"user_id":2532888,"accept_rate":100,"display_name":"Marcus MacWilliam"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18509,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":47934897,"answer_count":1,"score":6,"last_activity_date":1642991126,"creation_date":1513863119,"question_id":47926081,"body_markdown":"Consider the following code:\r\n\r\n    @Singleton\r\n    public class MyServiceImpl {\r\n    \tpublic int doSomething() {\r\n    \t\treturn 5;\r\n    \t}\r\n    }\r\n    \r\n    @ImplementedBy(MyServiceImpl.class)\r\n    public interface MyService {\r\n    \tpublic int doSomething();\r\n    }\r\n    \r\n    public class MyCommand {\r\n    \t@Inject private MyService service;\r\n    \t\r\n    \tpublic boolean executeSomething() {\r\n    \t\treturn service.doSomething() &gt; 0;\r\n    \t}\r\n    }\r\n    \r\n    public class MyCommandTest {\r\n    \t@InjectMocks MyServiceImpl serviceMock;\r\n    \tprivate MyCommand command;\r\n    \t\r\n    \t@Before public void beforeEach() {\r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t\tcommand = new MyCommand();\r\n    \t\twhen(serviceMock.doSomething()).thenReturn(-1); // &lt;- Error here\r\n    \t}\r\n    \t\r\n    \t@Test public void mockInjected() {\r\n    \t\tboolean result = command.executeSomething();\r\n    \t\tverify(serviceMock).doSomething();\r\n    \t\tassertThat(result, equalTo(false));\r\n    \t}\r\n    }\r\n\r\nMy test is falling over when I attempt to stub the doSomething() method on my mock implementation object. I get the error:\r\n\r\n&gt; org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\n&gt; when() requires an argument which has to be &#39;a method call on a mock&#39;.\r\n&gt; For example:\r\n&gt;     when(mock.getArticles()).thenReturn(articles);\r\n&gt; \r\n&gt; Also, this error might show up because:\r\n&gt; 1. you stub either of: final/private/equals()/hashCode() methods.    Those methods *cannot* be stubbed/verified.    Mocking methods\r\n&gt; declared on non-public parent classes is not supported.\r\n&gt; 2. inside when() you don&#39;t call method on mock but on some other object.\r\n\r\nI am new to dependency injection via Guice, and am not sure why I cannot mock the implementation object in this way?","title":"Using Guice, how do I inject a mock object from my unit test, into the class being tested","body":"<p>Consider the following code:</p>\n\n<pre><code>@Singleton\npublic class MyServiceImpl {\n    public int doSomething() {\n        return 5;\n    }\n}\n\n@ImplementedBy(MyServiceImpl.class)\npublic interface MyService {\n    public int doSomething();\n}\n\npublic class MyCommand {\n    @Inject private MyService service;\n\n    public boolean executeSomething() {\n        return service.doSomething() &gt; 0;\n    }\n}\n\npublic class MyCommandTest {\n    @InjectMocks MyServiceImpl serviceMock;\n    private MyCommand command;\n\n    @Before public void beforeEach() {\n        MockitoAnnotations.initMocks(this);\n        command = new MyCommand();\n        when(serviceMock.doSomething()).thenReturn(-1); // &lt;- Error here\n    }\n\n    @Test public void mockInjected() {\n        boolean result = command.executeSomething();\n        verify(serviceMock).doSomething();\n        assertThat(result, equalTo(false));\n    }\n}\n</code></pre>\n\n<p>My test is falling over when I attempt to stub the doSomething() method on my mock implementation object. I get the error:</p>\n\n<blockquote>\n  <p>org.mockito.exceptions.misusing.MissingMethodInvocationException: \n  when() requires an argument which has to be 'a method call on a mock'.\n  For example:\n      when(mock.getArticles()).thenReturn(articles);</p>\n  \n  <p>Also, this error might show up because:\n  1. you stub either of: final/private/equals()/hashCode() methods.    Those methods <em>cannot</em> be stubbed/verified.    Mocking methods\n  declared on non-public parent classes is not supported.\n  2. inside when() you don't call method on mock but on some other object.</p>\n</blockquote>\n\n<p>I am new to dependency injection via Guice, and am not sure why I cannot mock the implementation object in this way?</p>\n"},{"tags":["java","substring","stringescapeutils"],"owner":{"account_id":20617969,"reputation":39,"user_id":15135598,"display_name":"newbird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642989926,"creation_date":1642756053,"question_id":70798794,"body_markdown":"Is there any way to add a special character using a substring with a given length?\r\n\r\n    String example= &quot;abcde &amp; fghijk&quot;;\r\n\r\n    System.out.printLn(&quot;(StringUtils.substring(StringEscapeUtils.escapeXml(example)),0,12));\r\n    \r\n    current output(&quot;abcde &amp;amp f&quot;)\r\n    expected output(&quot;abcde &amp;amp fghij&quot;)\r\n\r\nPlease help. Thanks","title":"How can I escape from special character using stringutils substring with a given length JAVA","body":"<p>Is there any way to add a special character using a substring with a given length?</p>\n<pre><code>String example= &quot;abcde &amp; fghijk&quot;;\n\nSystem.out.printLn(&quot;(StringUtils.substring(StringEscapeUtils.escapeXml(example)),0,12));\n\ncurrent output(&quot;abcde &amp;amp f&quot;)\nexpected output(&quot;abcde &amp;amp fghij&quot;)\n</code></pre>\n<p>Please help. Thanks</p>\n"},{"tags":["java","eclipse","jboss"],"comments":[{"owner":{"account_id":1298872,"reputation":337,"user_id":1249190,"accept_rate":73,"display_name":"user1249190"},"score":0,"creation_date":1643084127,"post_id":70828264,"comment_id":125239965,"body_markdown":"also having this problem","body":"also having this problem"},{"owner":{"account_id":8689793,"reputation":2088,"user_id":6503002,"accept_rate":100,"display_name":"amicoderozer"},"score":0,"creation_date":1643186441,"post_id":70828264,"comment_id":125270014,"body_markdown":"I am having this problem too","body":"I am having this problem too"},{"owner":{"account_id":1298872,"reputation":337,"user_id":1249190,"accept_rate":73,"display_name":"user1249190"},"score":0,"creation_date":1643188143,"post_id":70828264,"comment_id":125270580,"body_markdown":"I did more tests with https://download.jboss.org/jbosstools/photon/stable/updates/ \nMy home connection cannot access it. My phone can access it. kproxy.com can access it. Non Jboss.org stuff do not have the issue.","body":"I did more tests with <a href=\"https://download.jboss.org/jbosstools/photon/stable/updates/\" rel=\"nofollow noreferrer\">download.jboss.org/jbosstools/photon/stable/updates</a>  My home connection cannot access it. My phone can access it. kproxy.com can access it. Non Jboss.org stuff do not have the issue."},{"owner":{"account_id":8689793,"reputation":2088,"user_id":6503002,"accept_rate":100,"display_name":"amicoderozer"},"score":0,"creation_date":1643363873,"post_id":70828264,"comment_id":125325072,"body_markdown":"Today it works for me, probably they had problem at jboss with their servers.","body":"Today it works for me, probably they had problem at jboss with their servers."}],"owner":{"account_id":10836270,"reputation":23,"user_id":7969165,"display_name":"Yannes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642989850,"creation_date":1642989850,"question_id":70828264,"body_markdown":"I am trying to add a JBoss server in my eclipse 2021-03 and encountered some issues. However, there is a gateway timeout error when I try to install JBoss tools via Eclipse Marketplace. \r\n[enter image description here][1]\r\nAlso, I have encountered another timeout error when I am trying to install Red Hat JBoss Enterprise Application Platform 7.2.\r\n[enter image description here][2]\r\nI would appreciate it if anyone could help, I have no idea how to fix this  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrD5f.jpg\r\n  [2]: https://i.stack.imgur.com/ANisG.png","title":"Gateway timeout while installing Jboss tools in eclipse","body":"<p>I am trying to add a JBoss server in my eclipse 2021-03 and encountered some issues. However, there is a gateway timeout error when I try to install JBoss tools via Eclipse Marketplace.\n<a href=\"https://i.stack.imgur.com/mrD5f.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nAlso, I have encountered another timeout error when I am trying to install Red Hat JBoss Enterprise Application Platform 7.2.\n<a href=\"https://i.stack.imgur.com/ANisG.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI would appreciate it if anyone could help, I have no idea how to fix this</p>\n"},{"tags":["java","visual-studio-code","markdown","graphviz","plantuml"],"comments":[{"owner":{"account_id":17585191,"reputation":7,"user_id":12758069,"display_name":"Jun Takeshita"},"score":0,"creation_date":1643100239,"post_id":70828213,"comment_id":125243632,"body_markdown":"OMG, I could watch Plantuml diagram in Markdown after reboot my pc","body":"OMG, I could watch Plantuml diagram in Markdown after reboot my pc"},{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":2,"creation_date":1661281843,"post_id":70828213,"comment_id":129733907,"body_markdown":"You should post the answer to your own question if you found out :)","body":"You should post the answer to your own question if you found out :)"}],"owner":{"account_id":17585191,"reputation":7,"user_id":12758069,"display_name":"Jun Takeshita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642989403,"creation_date":1642989403,"question_id":70828213,"body_markdown":"I know way to write plantuml on markdown using vs code.\r\nBut plantuml diagram doesn&#39;t appear on markdown viewer...\r\nOn the other hand, Plantuml viewer is working very much and markdown viewer also...\r\nmarkdown viewer only shows graphic icon where I would like to see plantuml diagram...\r\nI think the reason is reference of java home for graphviz...maybe....\r\nIf you completed the issue, let me know\r\n\r\nfor example\r\n&lt;pre&gt;&lt;code&gt;\r\n    ## uml: sequence diagram\r\nHere I will embed PlantUML markup to generate a sequence diagram.\r\n\r\nI can include as many plantuml segments as I want in my Markdown, and the diagrams can be of any type supported by PlantUML.\r\n\r\n```plantuml\r\n@startuml\r\n    skinparam backgroundColor #EEEBDC\r\n    skinparam handwritten true\r\n    actor Customer\r\n    Customer -&gt; &quot;login()&quot; : username &amp; password\r\n    &quot;login()&quot; -&gt; Customer : session token\r\n    activate &quot;login()&quot;\r\n    Customer -&gt; &quot;placeOrder()&quot; : session token, order info\r\n    &quot;placeOrder()&quot; -&gt; Customer : ok\r\n    Customer -&gt; &quot;logout()&quot;\r\n    &quot;logout()&quot; -&gt; Customer : ok\r\n    deactivate &quot;login()&quot;\r\n@enduml\r\n```\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n","title":"way to show plantuml diagram on markdown viewer of visual studio code","body":"<p>I know way to write plantuml on markdown using vs code.\nBut plantuml diagram doesn't appear on markdown viewer...\nOn the other hand, Plantuml viewer is working very much and markdown viewer also...\nmarkdown viewer only shows graphic icon where I would like to see plantuml diagram...\nI think the reason is reference of java home for graphviz...maybe....\nIf you completed the issue, let me know</p>\n<p>for example</p>\n<pre><code>\n    ## uml: sequence diagram\nHere I will embed PlantUML markup to generate a sequence diagram.\n\nI can include as many plantuml segments as I want in my Markdown, and the diagrams can be of any type supported by PlantUML.\n\n```plantuml\n@startuml\n    skinparam backgroundColor #EEEBDC\n    skinparam handwritten true\n    actor Customer\n    Customer -> \"login()\" : username & password\n    \"login()\" -> Customer : session token\n    activate \"login()\"\n    Customer -> \"placeOrder()\" : session token, order info\n    \"placeOrder()\" -> Customer : ok\n    Customer -> \"logout()\"\n    \"logout()\" -> Customer : ok\n    deactivate \"login()\"\n@enduml\n```\n</code></pre>\n"},{"tags":["java","html","internationalization","webobjects"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":2,"creation_date":1641849067,"post_id":70658735,"comment_id":124910263,"body_markdown":"I don&#39;t think it is a java or a backend issue. That being said you didn&#39;t provide much information - please show the form used, html code, js code that sends it as json and maybe does something to it, etc","body":"I don&#39;t think it is a java or a backend issue. That being said you didn&#39;t provide much information - please show the form used, html code, js code that sends it as json and maybe does something to it, etc"},{"owner":{"account_id":465615,"reputation":3541,"user_id":869809,"accept_rate":50,"display_name":"Ray Kiddy"},"score":0,"creation_date":1641851237,"post_id":70658735,"comment_id":124910901,"body_markdown":"There is no JS that I am including. I am using bootstrap for ui, Adding the page html above.","body":"There is no JS that I am including. I am using bootstrap for ui, Adding the page html above."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":2,"creation_date":1641851343,"post_id":70658735,"comment_id":124910936,"body_markdown":"well then please show the html form and the part of code that gets it as controller. The information you have provided so far is not enough","body":"well then please show the html form and the part of code that gets it as controller. The information you have provided so far is not enough"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1641871981,"post_id":70658735,"comment_id":124914921,"body_markdown":"Whatever code or framework assigned a value to `start` is the problem.  It should be a String with a length of 2.  Not four UTF-8 bytes which each are turned into a char value.  You should not have to do any manipulation of the values at all.","body":"Whatever code or framework assigned a value to <code>start</code> is the problem.  It should be a String with a length of 2.  Not four UTF-8 bytes which each are turned into a char value.  You should not have to do any manipulation of the values at all."}],"answers":[{"tags":[],"owner":{"account_id":465615,"reputation":3541,"user_id":869809,"accept_rate":50,"display_name":"Ray Kiddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642988836,"creation_date":1642988836,"answer_id":70828165,"question_id":70658735,"body_markdown":"It was a problem with the frameworks I was using. I thought I was setting the request and response content type to utf-8 but I was not.","title":"getting Russian input from web into java applcation","body":"<p>It was a problem with the frameworks I was using. I thought I was setting the request and response content type to utf-8 but I was not.</p>\n"}],"owner":{"account_id":465615,"reputation":3541,"user_id":869809,"accept_rate":50,"display_name":"Ray Kiddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642988836,"creation_date":1641847843,"question_id":70658735,"body_markdown":"I obviously am missing something here. I have a web app where the input for a form may be in English or, after a keyboard switch, Russian. The meta tag for the page is specifying that the page is UTF-8. That does not seem to matter.\r\n\r\nIf I type in &quot;вв&quot;, two of the unicode character: CYRILLIC SMALL LETTER VE\r\n\r\nWhat do I get? A string. I call getCodePoints().toArray() and I get:\r\n\r\n     [208, 178, 208, 178]\r\n\r\nIf I call chars().toArray[], I get the same.\r\n\r\nWhat the heck?\r\n\r\nI am completely in control of the web page, but of course there will be different browsers. But how can I get something back from the web page that will let me get the proper cyrillic characters?\r\n\r\nThis is on java 1.8.0_312. I can upgrade some, but not all the way to the latest java.\r\n\r\nThe page is this:\r\n\r\n     &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2//EN&quot;&gt;\r\n     &lt;html&gt;\r\n       &lt;head&gt;\r\n         &lt;title&gt;Cards&lt;/title&gt;\r\n         &lt;link rel = &quot;stylesheet&quot; href = &quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; integrity = &quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot; crossorigin = &quot;anonymous&quot; /&gt;\r\n         &lt;link rel = &quot;stylesheet&quot; href = &quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css&quot; integrity = &quot;sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp&quot; crossorigin = &quot;anonymous&quot; /&gt;\r\n         &lt;script src = &quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot; integrity = &quot;sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa&quot; crossorigin = &quot;anonymous&quot;&gt;\r\n         &lt;/script&gt;\r\n         &lt;meta http-equiv = &quot;Content-Type&quot; content = &quot;text/html; charset=UTF-8&quot; /&gt;\r\n         &lt;style&gt;.table-nonfluid { width: auto !important; }&lt;/style&gt;\r\n       &lt;/head&gt;\r\n       &lt;body&gt;\r\n         &lt;div style = &quot;padding: 25px 25px 25px 25px;&quot;&gt;\r\n           &lt;h2 align = &quot;center&quot;&gt;Cards&lt;/h2&gt;\r\n           &lt;div style = &quot;white-space: nowrap;&quot;&gt;\r\n             &lt;a href=&quot;/cgi-bin/WebObjects/app.woa/wo/ee67KCNaHEiW1WdpdA8JIM/2.1&quot;&gt;Home&lt;/a&gt;\r\n             &lt;div&gt;\r\n       &lt;form name=&quot;f_3_1&quot; method=&quot;post&quot; action=&quot;/cgi-bin/WebObjects/app.woa/wo/ee67KCNaHEiW1WdpdA8JIM/2.3.1&quot;&gt;\r\n         &lt;table class = &quot;table&quot; border = &quot;1&quot; style = &quot;max-width: 50%; font-size: 300%; text-align: center;&quot;&gt;\r\n               &lt;tr&gt;\r\n                 &lt;td&gt;to go&lt;/td&gt;\r\n               &lt;/tr&gt;\r\n               &lt;tr&gt;\r\n                 &lt;td&gt;&lt;input size=&quot;25&quot; type=&quot;text&quot; name=&quot;3.1.5.3.3&quot; /&gt;&lt;/td&gt;\r\n               &lt;/tr&gt;\r\n               &lt;td&gt;\r\n                 &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;3.1.5.3.5&quot; /&gt;&amp;nbsp;&amp;nbsp;&lt;a href=&quot;/cgi-bin/WebObjects/app.woa/wo/ee67KCNaHEiW1WdpdA8JIM/2.3.1.5.3.7&quot;&gt;Skip&lt;/a&gt;\r\n               &lt;/td&gt;\r\n         &lt;/table&gt;\r\n       &lt;input type=&quot;hidden&quot; name=&quot;wosid&quot; value=&quot;ee67KCNaHEiW1WdpdA8JIM&quot; /&gt;\r\n     &lt;/form&gt;\r\n     &lt;/div&gt;\r\n           &lt;/div&gt;\r\n         &lt;/div&gt;\r\n       &lt;/body&gt;\r\n     &lt;/html&gt;\r\n\r\nHm. Well, here is at least part of the story.\r\n\r\nI have this code:\r\n\r\n\t\tSystem.out.println(&quot;start: &quot; + start);\r\n\t\tint[] points = start.chars().toArray();\r\n\t\tbyte[] next = new byte[points.length];\r\n\t\tint idx = 0;\r\n\t\tSystem.out.print(&quot;fixed: &quot;);\r\n\t\tfor (int p : points) {\r\n\t\t\tnext[idx] = (byte)(p &amp; 0xff);\r\n            System.out.print(Integer.toHexString(next[idx]) + &quot; &quot;);\r\n\t\t\tidx++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\r\nThe output is:\r\n\r\n     start: &#208;&#178;&#208;&#178;\r\n     fixed: ffffffd0 ffffffb2 ffffffd0 ffffffb2 \r\n\r\nAnd the UTF-8 value for &quot;В&quot;, in hex, is d0b2.\r\n\r\nSo, there it is. The question is, why is this not more easily accessible? Do I really have to put this together byte-pair by byte-pair?\r\n\r\nIf the string is already in UTF-8, as I think we can see it is, why does the codePoints() method not give us, you know, the codePoints?\r\n\r\nOk, so now I do:\r\n\r\n     new String(next, StandardCharsets.UTF_8);\r\n\r\nand I get the proper string. But it still seems strange that codePoints() gives me an IntStream, but if you use these things as int values, it is broken.","title":"getting Russian input from web into java applcation","body":"<p>I obviously am missing something here. I have a web app where the input for a form may be in English or, after a keyboard switch, Russian. The meta tag for the page is specifying that the page is UTF-8. That does not seem to matter.</p>\n<p>If I type in &quot;вв&quot;, two of the unicode character: CYRILLIC SMALL LETTER VE</p>\n<p>What do I get? A string. I call getCodePoints().toArray() and I get:</p>\n<pre><code> [208, 178, 208, 178]\n</code></pre>\n<p>If I call chars().toArray[], I get the same.</p>\n<p>What the heck?</p>\n<p>I am completely in control of the web page, but of course there will be different browsers. But how can I get something back from the web page that will let me get the proper cyrillic characters?</p>\n<p>This is on java 1.8.0_312. I can upgrade some, but not all the way to the latest java.</p>\n<p>The page is this:</p>\n<pre><code> &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2//EN&quot;&gt;\n &lt;html&gt;\n   &lt;head&gt;\n     &lt;title&gt;Cards&lt;/title&gt;\n     &lt;link rel = &quot;stylesheet&quot; href = &quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; integrity = &quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot; crossorigin = &quot;anonymous&quot; /&gt;\n     &lt;link rel = &quot;stylesheet&quot; href = &quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css&quot; integrity = &quot;sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp&quot; crossorigin = &quot;anonymous&quot; /&gt;\n     &lt;script src = &quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot; integrity = &quot;sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa&quot; crossorigin = &quot;anonymous&quot;&gt;\n     &lt;/script&gt;\n     &lt;meta http-equiv = &quot;Content-Type&quot; content = &quot;text/html; charset=UTF-8&quot; /&gt;\n     &lt;style&gt;.table-nonfluid { width: auto !important; }&lt;/style&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n     &lt;div style = &quot;padding: 25px 25px 25px 25px;&quot;&gt;\n       &lt;h2 align = &quot;center&quot;&gt;Cards&lt;/h2&gt;\n       &lt;div style = &quot;white-space: nowrap;&quot;&gt;\n         &lt;a href=&quot;/cgi-bin/WebObjects/app.woa/wo/ee67KCNaHEiW1WdpdA8JIM/2.1&quot;&gt;Home&lt;/a&gt;\n         &lt;div&gt;\n   &lt;form name=&quot;f_3_1&quot; method=&quot;post&quot; action=&quot;/cgi-bin/WebObjects/app.woa/wo/ee67KCNaHEiW1WdpdA8JIM/2.3.1&quot;&gt;\n     &lt;table class = &quot;table&quot; border = &quot;1&quot; style = &quot;max-width: 50%; font-size: 300%; text-align: center;&quot;&gt;\n           &lt;tr&gt;\n             &lt;td&gt;to go&lt;/td&gt;\n           &lt;/tr&gt;\n           &lt;tr&gt;\n             &lt;td&gt;&lt;input size=&quot;25&quot; type=&quot;text&quot; name=&quot;3.1.5.3.3&quot; /&gt;&lt;/td&gt;\n           &lt;/tr&gt;\n           &lt;td&gt;\n             &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;3.1.5.3.5&quot; /&gt;&amp;nbsp;&amp;nbsp;&lt;a href=&quot;/cgi-bin/WebObjects/app.woa/wo/ee67KCNaHEiW1WdpdA8JIM/2.3.1.5.3.7&quot;&gt;Skip&lt;/a&gt;\n           &lt;/td&gt;\n     &lt;/table&gt;\n   &lt;input type=&quot;hidden&quot; name=&quot;wosid&quot; value=&quot;ee67KCNaHEiW1WdpdA8JIM&quot; /&gt;\n &lt;/form&gt;\n &lt;/div&gt;\n       &lt;/div&gt;\n     &lt;/div&gt;\n   &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n<p>Hm. Well, here is at least part of the story.</p>\n<p>I have this code:</p>\n<pre><code>    System.out.println(&quot;start: &quot; + start);\n    int[] points = start.chars().toArray();\n    byte[] next = new byte[points.length];\n    int idx = 0;\n    System.out.print(&quot;fixed: &quot;);\n    for (int p : points) {\n        next[idx] = (byte)(p &amp; 0xff);\n        System.out.print(Integer.toHexString(next[idx]) + &quot; &quot;);\n        idx++;\n    }\n    System.out.println(&quot;&quot;);\n</code></pre>\n<p>The output is:</p>\n<pre><code> start: Ð²Ð²\n fixed: ffffffd0 ffffffb2 ffffffd0 ffffffb2 \n</code></pre>\n<p>And the UTF-8 value for &quot;В&quot;, in hex, is d0b2.</p>\n<p>So, there it is. The question is, why is this not more easily accessible? Do I really have to put this together byte-pair by byte-pair?</p>\n<p>If the string is already in UTF-8, as I think we can see it is, why does the codePoints() method not give us, you know, the codePoints?</p>\n<p>Ok, so now I do:</p>\n<pre><code> new String(next, StandardCharsets.UTF_8);\n</code></pre>\n<p>and I get the proper string. But it still seems strange that codePoints() gives me an IntStream, but if you use these things as int values, it is broken.</p>\n"},{"tags":["java","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1642993217,"post_id":70828138,"comment_id":125213681,"body_markdown":"please go through the upgrade guide: https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide - if still stuck, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"please go through the upgrade guide: <a href=\"https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/1.0-upgrade-guide</a> - if still stuck, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"}],"owner":{"account_id":23291486,"reputation":31,"user_id":17373488,"display_name":"adamT3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642988504,"creation_date":1642988504,"question_id":70828138,"body_markdown":"New engineer here, upon updating to 1.1.0, from 1.0.1 some of the test suite broke, it stopped working on RC3 and later. The background of these tests are calling the java file to create a map and populate it with testData used in the test, but after the update the maps are created but null. After reading the manual and Q&amp;A&#39;s, I&#39;m was wondering if my predecessor set this method up in a way that was unsupported approach and if so is a simple method for this that you would recommend instead.\r\n\r\nthe offending background:\r\n\r\n\r\n\r\n    @parallel=false\r\n    Feature: Tests to verify response from Detector Set API\r\n    \r\n      Background:\r\n        # Get api url from karate-config.js\r\n        * url baseUrl\r\n        # This configures the http headers to use admin user for running the tests\r\n        * callonce read(&#39;classpath:common/headers/admin-headers.feature&#39;)\r\n        * def DetectorSetControllerTest = Java.type(&#39;apitests.application.riskdetectors.detectorset.DetectorSetControllerApiTest&#39;)\r\n        * def testData = DetectorSetControllerTest.detectorSetTestDataMap\r\n\r\nThe Java code it is calling:\r\n\r\n    public static Map&lt;String, Object&gt; detectorSetTestDataMap = null;\r\n    \r\n        @BeforeAll\r\n        public static void testData() {\r\n            detectorSetTestDataMap = Runner.runFeature(DetectorsCommon.class,\r\n                    &quot;testdata/create-detectorset-test-data.feature&quot;,\r\n                    null,\r\n                    true);\r\n        }\r\n\r\nThank you for your work.","title":"Karate update 1.1.0 changing a background connection with the java runner file","body":"<p>New engineer here, upon updating to 1.1.0, from 1.0.1 some of the test suite broke, it stopped working on RC3 and later. The background of these tests are calling the java file to create a map and populate it with testData used in the test, but after the update the maps are created but null. After reading the manual and Q&amp;A's, I'm was wondering if my predecessor set this method up in a way that was unsupported approach and if so is a simple method for this that you would recommend instead.</p>\n<p>the offending background:</p>\n<pre><code>@parallel=false\nFeature: Tests to verify response from Detector Set API\n\n  Background:\n    # Get api url from karate-config.js\n    * url baseUrl\n    # This configures the http headers to use admin user for running the tests\n    * callonce read('classpath:common/headers/admin-headers.feature')\n    * def DetectorSetControllerTest = Java.type('apitests.application.riskdetectors.detectorset.DetectorSetControllerApiTest')\n    * def testData = DetectorSetControllerTest.detectorSetTestDataMap\n</code></pre>\n<p>The Java code it is calling:</p>\n<pre><code>public static Map&lt;String, Object&gt; detectorSetTestDataMap = null;\n\n    @BeforeAll\n    public static void testData() {\n        detectorSetTestDataMap = Runner.runFeature(DetectorsCommon.class,\n                &quot;testdata/create-detectorset-test-data.feature&quot;,\n                null,\n                true);\n    }\n</code></pre>\n<p>Thank you for your work.</p>\n"},{"tags":["java","list","merge","mapping"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1642987486,"post_id":70827645,"comment_id":125212914,"body_markdown":"Is that what your data really looks like?  Strings which say &quot;&quot;text&quot;: &quot;index 0 list 1 text&quot;.  If not please show any lists or maps with the data is it exists before and after processing.  Show  your data as though you were entering it into Java code for processing.  Using `List.of()` or `Map.of().`etc.  In other words, show fully initialized data structures before and after processing.  You could put it in a [mre].  Also include any classes you created.","body":"Is that what your data really looks like?  Strings which say &quot;&quot;text&quot;: &quot;index 0 list 1 text&quot;.  If not please show any lists or maps with the data is it exists before and after processing.  Show  your data as though you were entering it into Java code for processing.  Using <code>List.of()</code> or <code>Map.of().</code>etc.  In other words, show fully initialized data structures before and after processing.  You could put it in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Also include any classes you created."}],"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642987803,"creation_date":1642982394,"question_id":70827645,"body_markdown":"Have an object which has 2 lists. \r\n&lt;br/&gt;Is there a way I could merge the 2 lists by index and still retain \r\nkey / values if there is a conflict between the 2 lists? \r\n\r\nThis is current object with 2 lists. The lists are not always of same length. \r\n\r\n    {\r\n        &quot;listA&quot;: [\r\n            {\r\n                &quot;text&quot;: &quot;index 0 list 1 text&quot;,\r\n                &quot;icon&quot;: &quot;index 0 list 1 icon&quot;\r\n            },\r\n            {\r\n                &quot;text&quot;: &quot;index 1 list 1 text&quot;,\r\n                &quot;icon&quot;: &quot;index 1 list 1 icon&quot;\r\n            }\r\n        ],\r\n        &quot;listB&quot;: [\r\n            {\r\n                &quot;text&quot;: &quot;index 0 list 2 text&quot;\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;index 1 list 2 title&quot;,\r\n                &quot;text&quot;: &quot;index 1 list 2 text&quot;,\r\n                &quot;icon&quot;: &quot;index 1 list 2 icon&quot;\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;index 2 list 2 title 2&quot;,\r\n                &quot;text&quot;: &quot;index 2 list 2 text 2&quot;,\r\n                &quot;icon&quot;: &quot;index 2 list 2 icon 2&quot;\r\n            },\r\n            {\r\n                &quot;header&quot;: &quot;index 3 list 2 header 2&quot;,\r\n                &quot;icon&quot;: &quot;index 3 list 2 icon 2&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nAfter merging looking to achieve following. (A new list)\r\n\r\n    {\r\n        &quot;listC&quot;: [\r\n            {\r\n                &quot;text&quot;: &quot;index 0 list 1 text&quot;,\r\n                &quot;icon&quot;: &quot;index 0 list 1 icon&quot;,\r\n                &quot;text&quot;: &quot;index 0 list 2 text&quot;\r\n            },\r\n            {\r\n                &quot;text&quot;:  &quot;index  1 list 1 text&quot;,\r\n                &quot;icon&quot;:  &quot;index  1 list 1 icon&quot;,\r\n                &quot;title&quot;: &quot;index  1 list 2 title&quot;,\r\n                &quot;text&quot;:  &quot;index  1 list 2 text&quot;,\r\n                &quot;icon&quot;:  &quot;index  1 list 2 icon&quot;\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;index  2 list 2 title 2&quot;,\r\n                &quot;text&quot;:  &quot;index  2 list 2 text  2&quot;,\r\n                &quot;icon&quot;:  &quot;index  2 list 2 icon  2&quot;\r\n            },\r\n            {\r\n                &quot;header&quot;: &quot;index 3 list 2 header 2&quot;,\r\n                &quot;icon&quot;:   &quot;index 3 list 2 icon   2&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nUnderstand this is not feasible due to duplicate keys. \r\nThus one thought is to change the names for the keys in list 2 when merging. \r\n\r\nSomething like key `text` becomes `shortCopy` for list 1 and `longCopy` for list 2.\r\n\r\nThus resulting in: \r\n\r\n    {\r\n        &quot;shortCopy&quot;:  &quot;index 0 list 1 text&quot;,\r\n        &quot;icon&quot;:  &quot;index 0 list 1 icon&quot;,\r\n    \r\n        &quot;longCopy&quot;: &quot;index 0 list 2 text&quot;\r\n    }\r\n\r\nIs there an elegant way to achieve this via a stream? \r\n\r\nAttempted following where I am creating a new object that holds different keys and adding that to a separate list. \r\n&lt;br/&gt;Resulting in no conflicts. \r\n\r\nOverall the question is, is there a more elegant approach to achieving this? Possibly with a Stream? \r\n&lt;br /&gt; As can see, this involved multiple loops and conditionals and the need to create a a new list and object. \r\n\r\nLooking for a cleaner solution. \r\n\r\nMy attempt to achieve this.\r\n\r\n    MyObj myObj = // some REST call;\r\n    List&lt;NewBenefit&gt; newBenefits = new ArrayList&lt;&gt;();\r\n\r\n    List&lt;InitialBenefit&gt; list1 = myObj.getList1();\r\n    List&lt;InitialBenefit&gt; list2 = myObj.getList2();\r\n    \r\n    List&lt;Benefit&gt; newBenefits = new ArrayList&lt;&gt;();\r\n\r\n    // just adding the list 1 key/values to new list first. \r\n    for (InitialBenefit item : list1) {\r\n        Benefit benefit = new Benefit();\r\n        benefit.setIcon(item.getIcon());\r\n        benefit.setShortCopy(item.getText());\r\n        newBenefits.add(benefit);\r\n    }\r\n    \r\n    for (int i = 0; i &lt; list2.size(); i++) {\r\n        // newBenefits list now exists with some objects. \r\n        // so check if add new object or update keys in existing object\r\n        // within the list\r\n        if (newBenefits.size() &gt; i) {\r\n            Benefit benefit = newBenefits.get(i);\r\n            benefit.setIcon(list2.get(i).getIcon());\r\n            benefit.setLongCopy(list2.get(i).getText());\r\n        } else {\r\n            Benefit benefit = new Benefit();\r\n            benefit.setIcon(list2.get(i).getIcon());\r\n            benefit.setLongCopy(list2.get(i).getText());\r\n            newBenefits.add(benefit);\r\n        }\r\n    }\r\n\r\n","title":"Combine 2 object lists by index and retain key and value even if there are duplicates","body":"<p>Have an object which has 2 lists.\n<br/>Is there a way I could merge the 2 lists by index and still retain\nkey / values if there is a conflict between the 2 lists?</p>\n<p>This is current object with 2 lists. The lists are not always of same length.</p>\n<pre><code>{\n    &quot;listA&quot;: [\n        {\n            &quot;text&quot;: &quot;index 0 list 1 text&quot;,\n            &quot;icon&quot;: &quot;index 0 list 1 icon&quot;\n        },\n        {\n            &quot;text&quot;: &quot;index 1 list 1 text&quot;,\n            &quot;icon&quot;: &quot;index 1 list 1 icon&quot;\n        }\n    ],\n    &quot;listB&quot;: [\n        {\n            &quot;text&quot;: &quot;index 0 list 2 text&quot;\n        },\n        {\n            &quot;title&quot;: &quot;index 1 list 2 title&quot;,\n            &quot;text&quot;: &quot;index 1 list 2 text&quot;,\n            &quot;icon&quot;: &quot;index 1 list 2 icon&quot;\n        },\n        {\n            &quot;title&quot;: &quot;index 2 list 2 title 2&quot;,\n            &quot;text&quot;: &quot;index 2 list 2 text 2&quot;,\n            &quot;icon&quot;: &quot;index 2 list 2 icon 2&quot;\n        },\n        {\n            &quot;header&quot;: &quot;index 3 list 2 header 2&quot;,\n            &quot;icon&quot;: &quot;index 3 list 2 icon 2&quot;\n        }\n    ]\n}\n</code></pre>\n<p>After merging looking to achieve following. (A new list)</p>\n<pre><code>{\n    &quot;listC&quot;: [\n        {\n            &quot;text&quot;: &quot;index 0 list 1 text&quot;,\n            &quot;icon&quot;: &quot;index 0 list 1 icon&quot;,\n            &quot;text&quot;: &quot;index 0 list 2 text&quot;\n        },\n        {\n            &quot;text&quot;:  &quot;index  1 list 1 text&quot;,\n            &quot;icon&quot;:  &quot;index  1 list 1 icon&quot;,\n            &quot;title&quot;: &quot;index  1 list 2 title&quot;,\n            &quot;text&quot;:  &quot;index  1 list 2 text&quot;,\n            &quot;icon&quot;:  &quot;index  1 list 2 icon&quot;\n        },\n        {\n            &quot;title&quot;: &quot;index  2 list 2 title 2&quot;,\n            &quot;text&quot;:  &quot;index  2 list 2 text  2&quot;,\n            &quot;icon&quot;:  &quot;index  2 list 2 icon  2&quot;\n        },\n        {\n            &quot;header&quot;: &quot;index 3 list 2 header 2&quot;,\n            &quot;icon&quot;:   &quot;index 3 list 2 icon   2&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Understand this is not feasible due to duplicate keys.\nThus one thought is to change the names for the keys in list 2 when merging.</p>\n<p>Something like key <code>text</code> becomes <code>shortCopy</code> for list 1 and <code>longCopy</code> for list 2.</p>\n<p>Thus resulting in:</p>\n<pre><code>{\n    &quot;shortCopy&quot;:  &quot;index 0 list 1 text&quot;,\n    &quot;icon&quot;:  &quot;index 0 list 1 icon&quot;,\n\n    &quot;longCopy&quot;: &quot;index 0 list 2 text&quot;\n}\n</code></pre>\n<p>Is there an elegant way to achieve this via a stream?</p>\n<p>Attempted following where I am creating a new object that holds different keys and adding that to a separate list.\n<br/>Resulting in no conflicts.</p>\n<p>Overall the question is, is there a more elegant approach to achieving this? Possibly with a Stream?\n<br /> As can see, this involved multiple loops and conditionals and the need to create a a new list and object.</p>\n<p>Looking for a cleaner solution.</p>\n<p>My attempt to achieve this.</p>\n<pre><code>MyObj myObj = // some REST call;\nList&lt;NewBenefit&gt; newBenefits = new ArrayList&lt;&gt;();\n\nList&lt;InitialBenefit&gt; list1 = myObj.getList1();\nList&lt;InitialBenefit&gt; list2 = myObj.getList2();\n\nList&lt;Benefit&gt; newBenefits = new ArrayList&lt;&gt;();\n\n// just adding the list 1 key/values to new list first. \nfor (InitialBenefit item : list1) {\n    Benefit benefit = new Benefit();\n    benefit.setIcon(item.getIcon());\n    benefit.setShortCopy(item.getText());\n    newBenefits.add(benefit);\n}\n\nfor (int i = 0; i &lt; list2.size(); i++) {\n    // newBenefits list now exists with some objects. \n    // so check if add new object or update keys in existing object\n    // within the list\n    if (newBenefits.size() &gt; i) {\n        Benefit benefit = newBenefits.get(i);\n        benefit.setIcon(list2.get(i).getIcon());\n        benefit.setLongCopy(list2.get(i).getText());\n    } else {\n        Benefit benefit = new Benefit();\n        benefit.setIcon(list2.get(i).getIcon());\n        benefit.setLongCopy(list2.get(i).getText());\n        newBenefits.add(benefit);\n    }\n}\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1642981124,"post_id":70827502,"comment_id":125211939,"body_markdown":"Use `new String[0]` as argument, not 15.","body":"Use <code>new String[0]</code> as argument, not 15."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642987665,"creation_date":1642987665,"answer_id":70828075,"question_id":70827502,"body_markdown":"There&#39;s no need to create `nameList` as an array for this. You can iterate the `propNames` set directly:\r\n\r\n    private static void addProperties(Properties prop) {\r\n        Set&lt;String&gt; propNames = prop.stringPropertyNames();\r\n        for (String propName:  propNames) {\r\n            String propertyValue = prop.getProperty(propName);\r\n            allProp.put(propName, propertyValue);\r\n            loadOldValues(propName, propertyValue);\r\n        }\r\n    }\r\n\r\nYou might also be able to make use of [`allProp.putAll(prop)`][1] rather than iterating through the keys (though this might require restructuring `loadOldValues`).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#putAll-java.util.Map-","title":"java for loop executes extra iteration","body":"<p>There's no need to create <code>nameList</code> as an array for this. You can iterate the <code>propNames</code> set directly:</p>\n<pre><code>private static void addProperties(Properties prop) {\n    Set&lt;String&gt; propNames = prop.stringPropertyNames();\n    for (String propName:  propNames) {\n        String propertyValue = prop.getProperty(propName);\n        allProp.put(propName, propertyValue);\n        loadOldValues(propName, propertyValue);\n    }\n}\n</code></pre>\n<p>You might also be able to make use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#putAll-java.util.Map-\" rel=\"nofollow noreferrer\"><code>allProp.putAll(prop)</code></a> rather than iterating through the keys (though this might require restructuring <code>loadOldValues</code>).</p>\n"}],"owner":{"account_id":170663,"reputation":29,"user_id":1623809,"display_name":"user1623809"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642987665,"creation_date":1642980765,"question_id":70827502,"body_markdown":"I am trying to execute the following code but get a null pointer on the add property method. I added system.out.println statements producing the second code listing with the resultant output. I am very confused. Both variables allProp and prop are define outside the routine and they are initialized\r\n\r\n    private static void addProperties(Properties prop) {\r\n\r\n       String propertyValue = null;\r\n       Set&lt;String&gt; propNames = prop.stringPropertyNames();\r\n       String[] nameList = propNames.toArray(new String[15]);\r\n       for (String propName:nameList) {\r\n          propertyValue = prop.getProperty(propName);\r\n           allProp.put(propName, propertyValue);\r\n          loadOldValues(propName, propertyValue);\r\n       }\r\n    }\r\n\r\n\r\nThis is the code with print statements.\r\n\r\n        private static void addProperties(Properties prop) {\r\n\r\n       String propertyValue = null;\r\n       Set&lt;String&gt; propNames = prop.stringPropertyNames();\r\n       String[] nameList = propNames.toArray(new String[15]);\r\n       System.out.println(&quot;Number of properties &quot;+Integer.toString(prop.size())+&quot;  &quot;+prop.toString());\r\n       for (String propName:nameList) {\r\n           System.out.println(&quot;properties name &quot;+propName);\r\n          propertyValue = prop.getProperty(propName);\r\n           allProp.put(propName, propertyValue);\r\n          loadOldValues(propName, propertyValue);\r\n       }\r\n       System.out.println(&quot;Done with routine&quot;);\r\n    }\r\n\r\nAnd finally the output. I don&#39;t understand the 3rd iteration.\r\n\r\nNumber of properties 2  {myNewParm=RunOnce, appURL=http://192.168.200.16:9094/cta-cceds/  }\r\nproperties name appURL\r\nproperties name MynewParm\r\nproperties name null\r\ne","title":"java for loop executes extra iteration","body":"<p>I am trying to execute the following code but get a null pointer on the add property method. I added system.out.println statements producing the second code listing with the resultant output. I am very confused. Both variables allProp and prop are define outside the routine and they are initialized</p>\n<pre><code>private static void addProperties(Properties prop) {\n\n   String propertyValue = null;\n   Set&lt;String&gt; propNames = prop.stringPropertyNames();\n   String[] nameList = propNames.toArray(new String[15]);\n   for (String propName:nameList) {\n      propertyValue = prop.getProperty(propName);\n       allProp.put(propName, propertyValue);\n      loadOldValues(propName, propertyValue);\n   }\n}\n</code></pre>\n<p>This is the code with print statements.</p>\n<pre><code>    private static void addProperties(Properties prop) {\n\n   String propertyValue = null;\n   Set&lt;String&gt; propNames = prop.stringPropertyNames();\n   String[] nameList = propNames.toArray(new String[15]);\n   System.out.println(&quot;Number of properties &quot;+Integer.toString(prop.size())+&quot;  &quot;+prop.toString());\n   for (String propName:nameList) {\n       System.out.println(&quot;properties name &quot;+propName);\n      propertyValue = prop.getProperty(propName);\n       allProp.put(propName, propertyValue);\n      loadOldValues(propName, propertyValue);\n   }\n   System.out.println(&quot;Done with routine&quot;);\n}\n</code></pre>\n<p>And finally the output. I don't understand the 3rd iteration.</p>\n<p>Number of properties 2  {myNewParm=RunOnce, appURL=http://192.168.200.16:9094/cta-cceds/  }\nproperties name appURL\nproperties name MynewParm\nproperties name null\ne</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8338,"page":1654,"page_size":100}
