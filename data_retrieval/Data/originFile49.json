{"items":[{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":3635267,"reputation":156,"user_id":3030527,"accept_rate":57,"display_name":"Stene"},"score":0,"creation_date":1691493487,"post_id":76851970,"comment_id":135496218,"body_markdown":"Yes, I have tried this. However this means that I will need to specify each and every path that I wish for it to not secure.\n\nI would want to do something like this:\n\nwebSecurity.ignoring().requestThatDoesNotMatch(&quot;/path&quot;);\n\nor \n\nwebSecurity.ignoring().anyPathThatIsNotSecured();","body":"Yes, I have tried this. However this means that I will need to specify each and every path that I wish for it to not secure.  I would want to do something like this:  webSecurity.ignoring().requestThatDoesNotMatch(&quot;/path&quot;);  or   webSecurity.ignoring().anyPathThatIsNotSecured();"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691413148,"creation_date":1691413148,"answer_id":76851970,"question_id":76850153,"body_markdown":"what about `WebSecurityCustomizer`\r\n\r\n      @Bean\r\n      public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return webSecurity -&gt; webSecurity.ignoring().requestMatchers(&quot;/path&quot;);\r\n      }\r\n","title":"Spring Boot 3 / Spring Security 6, ignore &quot;invalid&quot; authorization headers for unsecured endpoints","body":"<p>what about <code>WebSecurityCustomizer</code></p>\n<pre><code>  @Bean\n  public WebSecurityCustomizer webSecurityCustomizer() {\n    return webSecurity -&gt; webSecurity.ignoring().requestMatchers(&quot;/path&quot;);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691531066,"creation_date":1691531066,"answer_id":76863386,"question_id":76850153,"body_markdown":"An invalid token in a resource server filter-chain will throw an exception (which results in 401) and access control won&#39;t be evaluated (`permitAll()` is never reached).\r\n\r\nIn your case, an option is defining 3 different security filter-chain with `@Order` and `securityMatcher` for the first two in order (the 3rd will be used as default and process all requests that weren&#39;t intercepted). Something a bit like that:\r\n\r\n```java\r\n@Bean\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\nSecurityFilterChain unsecuredFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n    return httpSecurity\r\n            .securityMatcher(new OrRequestMatcher(new AntPathRequestMatcher(&quot;/unsecured/**&quot;)))\r\n            .sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\r\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();\r\n            })\r\n            .build();\r\n}\r\n\r\n@Bean\r\n@Order(Ordered.HIGHEST_PRECEDENCE + 1)\r\nSecurityFilterChain legacyFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n    return httpSecurity\r\n            .securityMatcher(new OrRequestMatcher(new AntPathRequestMatcher(&quot;/non-oauth/**&quot;)))\r\n            // your legacy security configuration\r\n            .build();\r\n}\r\n\r\n@Bean\r\n@Order(Ordered.HIGHEST_PRECEDENCE + 2)\r\nSecurityFilterChain resourceServerFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n    return httpSecurity\r\n            .sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\r\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).authenticated();\r\n            })\r\n            .oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt; {\r\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationManagerResolver(\r\n                        new JwtIssuerAuthenticationManagerResolver(ntKeycloakAuthProperties.getIssuers()));\r\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationEntryPoint(\r\n                        new BearerTokenProblemDetailsAuthenticationEntryPoint(handlerExceptionResolver));\r\n            })\r\n            .build();\r\n}\r\n```\r\nNote that you can use other matcher than `AntPathRequestMatcher` for `securityMatcher`: in the case of your legacy authentication mechanism, maybe, would it make more sense to check for a specific header or header format (like an `Authorization` header which would contain something else than a `Bearer` string), rather than a path.","title":"Spring Boot 3 / Spring Security 6, ignore &quot;invalid&quot; authorization headers for unsecured endpoints","body":"<p>An invalid token in a resource server filter-chain will throw an exception (which results in 401) and access control won't be evaluated (<code>permitAll()</code> is never reached).</p>\n<p>In your case, an option is defining 3 different security filter-chain with <code>@Order</code> and <code>securityMatcher</code> for the first two in order (the 3rd will be used as default and process all requests that weren't intercepted). Something a bit like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(Ordered.HIGHEST_PRECEDENCE)\nSecurityFilterChain unsecuredFilterChain(HttpSecurity httpSecurity) throws Exception {\n    return httpSecurity\n            .securityMatcher(new OrRequestMatcher(new AntPathRequestMatcher(&quot;/unsecured/**&quot;)))\n            .sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();\n            })\n            .build();\n}\n\n@Bean\n@Order(Ordered.HIGHEST_PRECEDENCE + 1)\nSecurityFilterChain legacyFilterChain(HttpSecurity httpSecurity) throws Exception {\n    return httpSecurity\n            .securityMatcher(new OrRequestMatcher(new AntPathRequestMatcher(&quot;/non-oauth/**&quot;)))\n            // your legacy security configuration\n            .build();\n}\n\n@Bean\n@Order(Ordered.HIGHEST_PRECEDENCE + 2)\nSecurityFilterChain resourceServerFilterChain(HttpSecurity httpSecurity) throws Exception {\n    return httpSecurity\n            .sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).authenticated();\n            })\n            .oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt; {\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationManagerResolver(\n                        new JwtIssuerAuthenticationManagerResolver(ntKeycloakAuthProperties.getIssuers()));\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationEntryPoint(\n                        new BearerTokenProblemDetailsAuthenticationEntryPoint(handlerExceptionResolver));\n            })\n            .build();\n}\n</code></pre>\n<p>Note that you can use other matcher than <code>AntPathRequestMatcher</code> for <code>securityMatcher</code>: in the case of your legacy authentication mechanism, maybe, would it make more sense to check for a specific header or header format (like an <code>Authorization</code> header which would contain something else than a <code>Bearer</code> string), rather than a path.</p>\n"},{"tags":[],"owner":{"account_id":8644019,"reputation":137,"user_id":6471798,"display_name":"B Randall"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700520323,"creation_date":1700520323,"answer_id":77519329,"question_id":76850153,"body_markdown":"Just curious if you came up with an acceptable answer to this? I have same scenario in Config Server where I want to lock down actuator endpoints and requests for properties by role, but allow the monitor (webhook) endpoint to work without any Token header or authentication. \r\n\r\nThe Order solution, with some compiler corrections, just returns Forbidden on the monitor endpoint. The WebSecurityCustomizer solution throws 500 errors.\r\n\r\nOf coarse, this works but requires a Authorization header for the monitor endpoint which I don&#39;t think is possible with a Git webhook?\r\n\r\nSpring 3, Spring Security 6.1.2\r\n```\r\n    @Bean\r\n    public SecurityFilterChain secureFilterChain(HttpSecurity http, HandlerMappingIntrospector introspector) throws Exception {\r\n        MvcRequestMatcher.Builder mvcMatcherBuilder = new MvcRequestMatcher.Builder(introspector);\r\n        http.anonymous(AbstractHttpConfigurer::disable);\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.authorizeHttpRequests(authorize -&gt; authorize\r\n            //Permit webhook refresh access without authorization\r\n            .requestMatchers(&quot;/&quot; + appName + &quot;/monitor&quot;).permitAll()\r\n            //Can&#39;t add appName, clashes with microservice request for config. /config-server/gdelt-ingest/List.of(profiles)\r\n            .requestMatchers(mvcMatcherBuilder.pattern(&quot;/actuator/**&quot;)).hasRole(&quot;actuator&quot;)\r\n            //Microservice request for configurations\r\n            .requestMatchers(mvcMatcherBuilder.pattern(&quot;/&quot; + appName + &quot;/**/**&quot;)).hasRole(&quot;m2m&quot;)\r\n            .anyRequest()\r\n            .authenticated()\r\n        );\r\n\r\n        http.oauth2ResourceServer(authorize -&gt;\r\n            authorize.jwt(jwt -&gt; jwt.jwtAuthenticationConverter(keycloakJwtTokenConverter))\r\n                .authenticationEntryPoint(customAuthenticationEntryPoint)\r\n        );\r\n\r\n        http.sessionManagement(session -&gt; session\r\n            .sessionCreationPolicy(stateless? SessionCreationPolicy.STATELESS: SessionCreationPolicy.IF_REQUIRED)\r\n        );\r\n        return http.build();\r\n    }\r\n\r\n```","title":"Spring Boot 3 / Spring Security 6, ignore &quot;invalid&quot; authorization headers for unsecured endpoints","body":"<p>Just curious if you came up with an acceptable answer to this? I have same scenario in Config Server where I want to lock down actuator endpoints and requests for properties by role, but allow the monitor (webhook) endpoint to work without any Token header or authentication.</p>\n<p>The Order solution, with some compiler corrections, just returns Forbidden on the monitor endpoint. The WebSecurityCustomizer solution throws 500 errors.</p>\n<p>Of coarse, this works but requires a Authorization header for the monitor endpoint which I don't think is possible with a Git webhook?</p>\n<p>Spring 3, Spring Security 6.1.2</p>\n<pre><code>    @Bean\n    public SecurityFilterChain secureFilterChain(HttpSecurity http, HandlerMappingIntrospector introspector) throws Exception {\n        MvcRequestMatcher.Builder mvcMatcherBuilder = new MvcRequestMatcher.Builder(introspector);\n        http.anonymous(AbstractHttpConfigurer::disable);\n        http.csrf(AbstractHttpConfigurer::disable);\n        http.authorizeHttpRequests(authorize -&gt; authorize\n            //Permit webhook refresh access without authorization\n            .requestMatchers(&quot;/&quot; + appName + &quot;/monitor&quot;).permitAll()\n            //Can't add appName, clashes with microservice request for config. /config-server/gdelt-ingest/List.of(profiles)\n            .requestMatchers(mvcMatcherBuilder.pattern(&quot;/actuator/**&quot;)).hasRole(&quot;actuator&quot;)\n            //Microservice request for configurations\n            .requestMatchers(mvcMatcherBuilder.pattern(&quot;/&quot; + appName + &quot;/**/**&quot;)).hasRole(&quot;m2m&quot;)\n            .anyRequest()\n            .authenticated()\n        );\n\n        http.oauth2ResourceServer(authorize -&gt;\n            authorize.jwt(jwt -&gt; jwt.jwtAuthenticationConverter(keycloakJwtTokenConverter))\n                .authenticationEntryPoint(customAuthenticationEntryPoint)\n        );\n\n        http.sessionManagement(session -&gt; session\n            .sessionCreationPolicy(stateless? SessionCreationPolicy.STATELESS: SessionCreationPolicy.IF_REQUIRED)\n        );\n        return http.build();\n    }\n\n</code></pre>\n"}],"owner":{"account_id":3635267,"reputation":156,"user_id":3030527,"accept_rate":57,"display_name":"Stene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700520323,"creation_date":1691398428,"question_id":76850153,"body_markdown":"## Background information:\r\n\r\nI have _two_ different types of authentication happening in one single application in addition to some unsecured endpoints. Let&#39;s call these endpoints the following:\r\n\r\n * `/non-oauth/**`\r\n * `/oauth2/**`\r\n * `/unsecured`\r\n\r\n\r\n**Non oauth**\r\n\r\nThis is a piece of legacy code that we still need to support for some old clients. These requests contains an `Authorization` header with a (Bearer) JWT-token issued by a non OAuth2-server.\r\n\r\nWe have existing security code implemented as a Spring request filter.\r\n\r\n**OAuth2**\r\n\r\nWe are using Spring Security for these endpoints. The Spring Security config is as follows:\r\n\r\n```\r\n@Bean\r\nSecurityFilterChain filterChain(HttpSecurity httpSecurity, NTKeycloakAuthProperties ntKeycloakAuthProperties, HandlerExceptionResolver handlerExceptionResolver) throws Exception {\r\n\r\n    return httpSecurity\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\r\n                if (ntKeycloakAuthProperties.getPaths() == null) {\r\n                    log.warn(&quot;[Keycloak Auth] No secure paths have been added to configuration&quot;);\r\n                } else {\r\n                    ntKeycloakAuthProperties.getPaths().forEach(path -&gt;\r\n                            authorizationManagerRequestMatcherRegistry.requestMatchers(path).authenticated());\r\n                }\r\n\r\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();\r\n            })\r\n            .oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt; {\r\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationManagerResolver(\r\n                        new JwtIssuerAuthenticationManagerResolver(ntKeycloakAuthProperties.getIssuers()));\r\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationEntryPoint(\r\n                        new BearerTokenProblemDetailsAuthenticationEntryPoint(handlerExceptionResolver));\r\n            })\r\n            .build();\r\n}\r\n```\r\n\r\n\r\n**Unsecured**\r\n\r\nUnsecured endpoints are as named: Unsecured. One can see in the `SecurityFilterChain` bean config that we add the following matcher: \r\n\r\n`authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();`\r\n\r\n## Expectations\r\n\r\nI would expect the code to work as follows:\r\n\r\n 1. When requesting the `/unsecured` path **without** an `Authorization`-header, the request should be permitted.\r\n 2. When requesting the `/oauth2` path **with** an `Authorization`-header containing a token issued by our Keycloak server should be permitted\r\n 3. When requesting the `/non-oauth`path *with* an `Authorization`-header containig a token issued by the legacy server should be permitted\r\n\r\n## The problem\r\n\r\nWhen requesting the `/non-oauth`- or `/unsecured`-endpoint with a token issued by the legacy server, Spring Security will deny the request. I believe this happens because Spring Security cannot _Authenticate_ the user token, even though the user is authorized to access the endpoints (due to the `&quot;/**&quot;).permitAll()` config).\r\n\r\n## The question\r\n\r\nIs there any way to disable the &quot;Authentication-process&quot; of a token on all paths that are **not** explicitly secured in the config?\r\n\r\n","title":"Spring Boot 3 / Spring Security 6, ignore &quot;invalid&quot; authorization headers for unsecured endpoints","body":"<h2>Background information:</h2>\n<p>I have <em>two</em> different types of authentication happening in one single application in addition to some unsecured endpoints. Let's call these endpoints the following:</p>\n<ul>\n<li><code>/non-oauth/**</code></li>\n<li><code>/oauth2/**</code></li>\n<li><code>/unsecured</code></li>\n</ul>\n<p><strong>Non oauth</strong></p>\n<p>This is a piece of legacy code that we still need to support for some old clients. These requests contains an <code>Authorization</code> header with a (Bearer) JWT-token issued by a non OAuth2-server.</p>\n<p>We have existing security code implemented as a Spring request filter.</p>\n<p><strong>OAuth2</strong></p>\n<p>We are using Spring Security for these endpoints. The Spring Security config is as follows:</p>\n<pre><code>@Bean\nSecurityFilterChain filterChain(HttpSecurity httpSecurity, NTKeycloakAuthProperties ntKeycloakAuthProperties, HandlerExceptionResolver handlerExceptionResolver) throws Exception {\n\n    return httpSecurity\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\n                if (ntKeycloakAuthProperties.getPaths() == null) {\n                    log.warn(&quot;[Keycloak Auth] No secure paths have been added to configuration&quot;);\n                } else {\n                    ntKeycloakAuthProperties.getPaths().forEach(path -&gt;\n                            authorizationManagerRequestMatcherRegistry.requestMatchers(path).authenticated());\n                }\n\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();\n            })\n            .oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt; {\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationManagerResolver(\n                        new JwtIssuerAuthenticationManagerResolver(ntKeycloakAuthProperties.getIssuers()));\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationEntryPoint(\n                        new BearerTokenProblemDetailsAuthenticationEntryPoint(handlerExceptionResolver));\n            })\n            .build();\n}\n</code></pre>\n<p><strong>Unsecured</strong></p>\n<p>Unsecured endpoints are as named: Unsecured. One can see in the <code>SecurityFilterChain</code> bean config that we add the following matcher:</p>\n<p><code>authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();</code></p>\n<h2>Expectations</h2>\n<p>I would expect the code to work as follows:</p>\n<ol>\n<li>When requesting the <code>/unsecured</code> path <strong>without</strong> an <code>Authorization</code>-header, the request should be permitted.</li>\n<li>When requesting the <code>/oauth2</code> path <strong>with</strong> an <code>Authorization</code>-header containing a token issued by our Keycloak server should be permitted</li>\n<li>When requesting the <code>/non-oauth</code>path <em>with</em> an <code>Authorization</code>-header containig a token issued by the legacy server should be permitted</li>\n</ol>\n<h2>The problem</h2>\n<p>When requesting the <code>/non-oauth</code>- or <code>/unsecured</code>-endpoint with a token issued by the legacy server, Spring Security will deny the request. I believe this happens because Spring Security cannot <em>Authenticate</em> the user token, even though the user is authorized to access the endpoints (due to the <code>&quot;/**&quot;).permitAll()</code> config).</p>\n<h2>The question</h2>\n<p>Is there any way to disable the &quot;Authentication-process&quot; of a token on all paths that are <strong>not</strong> explicitly secured in the config?</p>\n"},{"tags":["java","querydsl"],"answers":[{"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700520293,"creation_date":1700252048,"answer_id":77504401,"question_id":77503311,"body_markdown":"I don&#39;t know if what I&#39;m about to post is the best way, but it&#39;s working for me. This is a sample project, and it appears to work.\r\n\r\nIn short, I prepared the basic query in `buildBookQuery()`. I then clone the query and change the select as you readily see. Then in `runBookQuery()` I added an order-by and the limit and offset calls before doing the fetch.\r\n\r\nI have no idea if this is the optimal way. I&#39;m fairly sure this turns into two hits to the database. `SELECT count(*)` is usually, but not always fast.\r\n\r\nIf there&#39;s another way to do this, I hope someone posts a better method.\r\n\r\n\r\n```java\r\npublic List&lt;BookInfo&gt; pagedBookInfo(int pageSize, int pageNumber) {\r\n    System.out.printf(&quot;pagedBookInfo(%d,%d)\\n&quot;, pageSize, pageNumber);\r\n    JPAQuery&lt;Tuple&gt; query = buildBookQuery();\r\n\r\n    long size = query.clone().select(QBook.book.count()).fetchFirst();\r\n    System.out.printf(&quot;Full length: %d\\n&quot;, size);\r\n\r\n    query = query.offset( pageSize * pageNumber ).limit(pageSize);\r\n    return runBookQuery(query);\r\n}\r\n\r\n/**\r\n * This is how you a join when you want to select data from both tables.\r\n * The important part is the sequence of   \r\n *  .select().from().innerJoin().on().\r\n */\r\nJPAQuery&lt;Tuple&gt; buildBookQuery(\r\n    JPAQueryFactory queryFactory = new JPAQueryFactory(JPQLTemplates.DEFAULT, entityManager);\r\n    QMember member = QMember.member;\r\n    QBook book = QBook.book;\r\n\r\n    JPAQuery&lt;Tuple&gt; query = queryFactory\r\n            .select(member.id, member.name, book.title)\r\n            .from(member)\r\n            .innerJoin(member.books, book)\r\n            .where(member.id.eq(1))\r\n            ;\r\n    return query;\r\n}\r\n\r\n/**\r\n * This is how you execute a Tuple-based query and\r\n * return consolidated results.\r\n */\r\nArrayList&lt;BookInfo&gt; runBookQuery(JPAQuery&lt;Tuple&gt; query) {\r\n    OrderSpecifier&lt;?&gt; byName = new OrderSpecifier&lt;&gt;(com.querydsl.core.types.Order.ASC, QMember.member.name);\r\n    OrderSpecifier&lt;?&gt; byTitle = new OrderSpecifier&lt;&gt;(com.querydsl.core.types.Order.ASC, QBook.book.title);\r\n    query.orderBy(byName, byTitle);\r\n\r\n    List&lt;Tuple&gt; results = query\r\n           .fetchJoin()\r\n           .fetch();\r\n\r\n    ArrayList&lt;BookInfo&gt; list = new ArrayList&lt;&gt;();\r\n    for (Tuple tuple: results) {\r\n        BookInfo bi = new BookInfo();\r\n        bi.memberName = tuple.get(1, String.class);\r\n        bi.title = tuple.get(2, String.class);\r\n        list.add(bi);\r\n    }\r\n\r\n    return list;\r\n}    \r\n```\r\n\r\nUPDATED NOTE: The QueryDSL page says this:\r\n\r\n&gt; fetchCount requires a count query to be computed. Inquerydsl-sql, this is done by wrapping the query in a subquery, like so: SELECT COUNT(*) FROM (&amp;lt;original query&amp;gt;). Unfortunately, JPQL - the query language of JPA - does not allow queries to project from subqueries. As a result there isn&#39;t a universal way to express count queries in JPQL. Historically QueryDSL attempts at producing a modified query to compute the number of results instead. However, this approach only works for simple queries. Specifically queries with multiple group by clauses and queries with a having clause turn out to be problematic. This is because COUNT(DISTINCT a, b, c), while valid SQL in most dialects, is not valid JPQL. Furthermore, a having clause may refer select elements or aggregate functions and therefore cannot be emulated by moving the predicate to the where clause instead. In order to support fetchCount for queries with multiple group by elements or a having clause, we generate the count in memory instead. This means that the method simply falls back to returning the size of fetch(). For large result sets this may come at a severe performance penalty. For very specific domain models where fetchCount() has to be used in conjunction with complex queries containing multiple group by elements and/or a having clause, we recommend using the Blaze-Persistence integration for QueryDSL. Among other advanced query features, Blaze-Persistence makes it possible to select from subqueries in JPQL. As a result the BlazeJPAQuery provided with the integration, implements fetchCount properly and always executes a proper count query.\r\n\r\nI think that means my answer is wrong. I&#39;ll post a fresh answer if I get this to work with Blaze Persistence.\r\n\r\n**Final Edit**\r\n\r\nI did more testing and updated my initial answer to fix a few things.\r\n\r\nFirst, I was doing my join sub optimally, and when my table size grew, my queries grew even when they shouldn&#39;t have (returning 4 records, taking 10 seconds). The copy you see is the right way.\r\n\r\nThe wrong way:\r\n\r\n```\r\nquery.join(book).on(book.in(member.books))\r\n```\r\n\r\na better way:\r\n\r\n```\r\nquery.join(member.books, book)\r\n```\r\n\r\nwith no `on()` call. The second argument is listed as `alias`, but my select clause can do `book.title` the way I wrote it originally.\r\n\r\nIn spite of the huge paragraph from QueryDSL javadocs, this is working in a timely fashion. If I query against a small member (few books) or a large count (11000) but small page size, the call is very fast, as it should be, and the count returned is accurate.\r\n\r\nUnless someone tells me I&#39;m doing this wrong, this is my final answer.\r\n\r\n\r\n","title":"Get total record count while using limit and offset","body":"<p>I don't know if what I'm about to post is the best way, but it's working for me. This is a sample project, and it appears to work.</p>\n<p>In short, I prepared the basic query in <code>buildBookQuery()</code>. I then clone the query and change the select as you readily see. Then in <code>runBookQuery()</code> I added an order-by and the limit and offset calls before doing the fetch.</p>\n<p>I have no idea if this is the optimal way. I'm fairly sure this turns into two hits to the database. <code>SELECT count(*)</code> is usually, but not always fast.</p>\n<p>If there's another way to do this, I hope someone posts a better method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;BookInfo&gt; pagedBookInfo(int pageSize, int pageNumber) {\n    System.out.printf(&quot;pagedBookInfo(%d,%d)\\n&quot;, pageSize, pageNumber);\n    JPAQuery&lt;Tuple&gt; query = buildBookQuery();\n\n    long size = query.clone().select(QBook.book.count()).fetchFirst();\n    System.out.printf(&quot;Full length: %d\\n&quot;, size);\n\n    query = query.offset( pageSize * pageNumber ).limit(pageSize);\n    return runBookQuery(query);\n}\n\n/**\n * This is how you a join when you want to select data from both tables.\n * The important part is the sequence of   \n *  .select().from().innerJoin().on().\n */\nJPAQuery&lt;Tuple&gt; buildBookQuery(\n    JPAQueryFactory queryFactory = new JPAQueryFactory(JPQLTemplates.DEFAULT, entityManager);\n    QMember member = QMember.member;\n    QBook book = QBook.book;\n\n    JPAQuery&lt;Tuple&gt; query = queryFactory\n            .select(member.id, member.name, book.title)\n            .from(member)\n            .innerJoin(member.books, book)\n            .where(member.id.eq(1))\n            ;\n    return query;\n}\n\n/**\n * This is how you execute a Tuple-based query and\n * return consolidated results.\n */\nArrayList&lt;BookInfo&gt; runBookQuery(JPAQuery&lt;Tuple&gt; query) {\n    OrderSpecifier&lt;?&gt; byName = new OrderSpecifier&lt;&gt;(com.querydsl.core.types.Order.ASC, QMember.member.name);\n    OrderSpecifier&lt;?&gt; byTitle = new OrderSpecifier&lt;&gt;(com.querydsl.core.types.Order.ASC, QBook.book.title);\n    query.orderBy(byName, byTitle);\n\n    List&lt;Tuple&gt; results = query\n           .fetchJoin()\n           .fetch();\n\n    ArrayList&lt;BookInfo&gt; list = new ArrayList&lt;&gt;();\n    for (Tuple tuple: results) {\n        BookInfo bi = new BookInfo();\n        bi.memberName = tuple.get(1, String.class);\n        bi.title = tuple.get(2, String.class);\n        list.add(bi);\n    }\n\n    return list;\n}    \n</code></pre>\n<p>UPDATED NOTE: The QueryDSL page says this:</p>\n<blockquote>\n<p>fetchCount requires a count query to be computed. Inquerydsl-sql, this is done by wrapping the query in a subquery, like so: SELECT COUNT(*) FROM (&lt;original query&gt;). Unfortunately, JPQL - the query language of JPA - does not allow queries to project from subqueries. As a result there isn't a universal way to express count queries in JPQL. Historically QueryDSL attempts at producing a modified query to compute the number of results instead. However, this approach only works for simple queries. Specifically queries with multiple group by clauses and queries with a having clause turn out to be problematic. This is because COUNT(DISTINCT a, b, c), while valid SQL in most dialects, is not valid JPQL. Furthermore, a having clause may refer select elements or aggregate functions and therefore cannot be emulated by moving the predicate to the where clause instead. In order to support fetchCount for queries with multiple group by elements or a having clause, we generate the count in memory instead. This means that the method simply falls back to returning the size of fetch(). For large result sets this may come at a severe performance penalty. For very specific domain models where fetchCount() has to be used in conjunction with complex queries containing multiple group by elements and/or a having clause, we recommend using the Blaze-Persistence integration for QueryDSL. Among other advanced query features, Blaze-Persistence makes it possible to select from subqueries in JPQL. As a result the BlazeJPAQuery provided with the integration, implements fetchCount properly and always executes a proper count query.</p>\n</blockquote>\n<p>I think that means my answer is wrong. I'll post a fresh answer if I get this to work with Blaze Persistence.</p>\n<p><strong>Final Edit</strong></p>\n<p>I did more testing and updated my initial answer to fix a few things.</p>\n<p>First, I was doing my join sub optimally, and when my table size grew, my queries grew even when they shouldn't have (returning 4 records, taking 10 seconds). The copy you see is the right way.</p>\n<p>The wrong way:</p>\n<pre><code>query.join(book).on(book.in(member.books))\n</code></pre>\n<p>a better way:</p>\n<pre><code>query.join(member.books, book)\n</code></pre>\n<p>with no <code>on()</code> call. The second argument is listed as <code>alias</code>, but my select clause can do <code>book.title</code> the way I wrote it originally.</p>\n<p>In spite of the huge paragraph from QueryDSL javadocs, this is working in a timely fashion. If I query against a small member (few books) or a large count (11000) but small page size, the call is very fast, as it should be, and the count returned is accurate.</p>\n<p>Unless someone tells me I'm doing this wrong, this is my final answer.</p>\n"}],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700520293,"creation_date":1700239460,"question_id":77503311,"body_markdown":"I&#39;m still learning QueryDSL prior to converting some legacy code from QueryDSL 3.x to 5.x. I have this code:\r\n\r\n```java\r\nquery = query.distinct()\r\n        .from(qCamera)\r\n        .where()\r\n        .orderBy(order)\r\n        .limit( pageSize )\r\n\t\t.offset((long) pageNum * pageSize );\r\n\r\nList&lt;Tuple&gt; datatuple = query.list( a whole ton of fields)\r\n\r\nlong totalResults = query.count();\r\n```\r\n\r\nClearly there are a bunch of things wrong with this. But for now, I need to understand how to use `limit()`, and `offset()` while also returning the entire record count so we can implement the paging as well.\r\n\r\nCan I use `fetchCount()` on the original query and get the entire size? Or is there something else I have to do?","title":"Get total record count while using limit and offset","body":"<p>I'm still learning QueryDSL prior to converting some legacy code from QueryDSL 3.x to 5.x. I have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>query = query.distinct()\n        .from(qCamera)\n        .where()\n        .orderBy(order)\n        .limit( pageSize )\n        .offset((long) pageNum * pageSize );\n\nList&lt;Tuple&gt; datatuple = query.list( a whole ton of fields)\n\nlong totalResults = query.count();\n</code></pre>\n<p>Clearly there are a bunch of things wrong with this. But for now, I need to understand how to use <code>limit()</code>, and <code>offset()</code> while also returning the entire record count so we can implement the paging as well.</p>\n<p>Can I use <code>fetchCount()</code> on the original query and get the entire size? Or is there something else I have to do?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1700483598,"post_id":77515658,"comment_id":136656243,"body_markdown":"Not clear (to me) what you want. Let&#39;s say that your table contains 4 rows where 2 rows have the name &quot;chocolate&quot; and the other 2 rows have the name &quot;coffee&quot;. Then  if the user selects one of the &quot;coffee&quot; rows, then, instead of _Sum_, you want to display the total weight of all the &quot;coffee&quot; rows. Is that correct?","body":"Not clear (to me) what you want. Let&#39;s say that your table contains 4 rows where 2 rows have the name &quot;chocolate&quot; and the other 2 rows have the name &quot;coffee&quot;. Then  if the user selects one of the &quot;coffee&quot; rows, then, instead of <i>Sum</i>, you want to display the total weight of all the &quot;coffee&quot; rows. Is that correct?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1700520620,"post_id":77515658,"comment_id":136662613,"body_markdown":"Although this was closed due to a lack of debugging details, the real issue, (as noted by Abra), is that it is unclear what the question is actually asking.  The question is unfocused, the database portions aren&#39;t core to the issue being asked and so aren&#39;t needed in the question.  The code provided is confusing, e.g. a get method with a return value performing a database insert and always returning null.  It seems there should be three classes modeled (Recipe, Ingredient and RecipeIngredient), but there is only one (BiscuitRecipe).","body":"Although this was closed due to a lack of debugging details, the real issue, (as noted by Abra), is that it is unclear what the question is actually asking.  The question is unfocused, the database portions aren&#39;t core to the issue being asked and so aren&#39;t needed in the question.  The code provided is confusing, e.g. a get method with a return value performing a database insert and always returning null.  It seems there should be three classes modeled (Recipe, Ingredient and RecipeIngredient), but there is only one (BiscuitRecipe)."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1700791040,"post_id":77515658,"comment_id":136699552,"body_markdown":"I could be wrong, but it looks like you are creating new accounts to ask different questions. There is no advantage in that. We will notice. Use one account to ask questions. Doing this will help you build your reputation. Having a reputation will allow your account to be able to do more stuff.  https://stackoverflow.com/questions/77521954/how-to-transfer-data-from-a-table-to-another-table-in-another-window","body":"I could be wrong, but it looks like you are creating new accounts to ask different questions. There is no advantage in that. We will notice. Use one account to ask questions. Doing this will help you build your reputation. Having a reputation will allow your account to be able to do more stuff.  <a href=\"https://stackoverflow.com/questions/77521954/how-to-transfer-data-from-a-table-to-another-table-in-another-window\" title=\"how to transfer data from a table to another table in another window\">stackoverflow.com/questions/77521954/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700482748,"creation_date":1700482392,"answer_id":77515828,"question_id":77515658,"body_markdown":"Step 1: Add a listener to you observableList\r\n\r\n    ObservableList&lt;Integer&gt; ob = FXCollections.observableArrayList(intList);\r\n    ob.addListener(new ListChangeListener&lt;Integer&gt;() {\r\n        @Override\r\n        public void onChanged(javafx.collections.ListChangeListener.Change&lt;? extends Integer&gt; c) {\r\n            System.out.println(&quot;list changed. Put your action here&quot;);  \r\n        }\r\n    });\r\n\r\nStep 2: Calculate the sum\r\n\r\nGet all rows, filter them by their names, get all their weights, and sum them together.\r\n\r\nYou can use the stream API for grouping them, e.g.: \r\n\r\n    var map = observableList.stream()\r\n    .collect(Collectors.groupingBy(BiscuitRecipe::getName)\r\n\r\nThen get the values of the entries (this are lists) and sum their weights.","title":"Every time a new record is added to the table, calculate the sum of the values by the column javafx","body":"<p>Step 1: Add a listener to you observableList</p>\n<pre><code>ObservableList&lt;Integer&gt; ob = FXCollections.observableArrayList(intList);\nob.addListener(new ListChangeListener&lt;Integer&gt;() {\n    @Override\n    public void onChanged(javafx.collections.ListChangeListener.Change&lt;? extends Integer&gt; c) {\n        System.out.println(&quot;list changed. Put your action here&quot;);  \n    }\n});\n</code></pre>\n<p>Step 2: Calculate the sum</p>\n<p>Get all rows, filter them by their names, get all their weights, and sum them together.</p>\n<p>You can use the stream API for grouping them, e.g.:</p>\n<pre><code>var map = observableList.stream()\n.collect(Collectors.groupingBy(BiscuitRecipe::getName)\n</code></pre>\n<p>Then get the values of the entries (this are lists) and sum their weights.</p>\n"}],"owner":{"account_id":26814539,"reputation":1,"user_id":20404662,"display_name":"jkg205"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1700520084,"answer_count":1,"score":-2,"last_activity_date":1700519140,"creation_date":1700480979,"question_id":77515658,"body_markdown":"I have a little problem and I need help. I have a program in which, with each new addition or deletion of an entry to the table, the sum of the values in the &quot;weight&quot; column was calculated, looking at the &quot;name&quot; column.  If, for example, I have several entries with the name &quot;chocolate&quot;, then I need to calculate the &quot;weight&quot; column, and if there are several rows with the name &quot;chocolate&quot;, and then &quot;coffee&quot;, then the weight column should be calculated only by the name &quot;chocolate&quot;. Also, my data from the table is added to the postgresql database.\r\n\r\n[![screenshot][1]][1]\r\n\r\nThis is my code to add to the database\r\n```\r\n    public ObservableList&lt;BiscuitRecipe&gt; getBiscuitMineIngredients(String name, Integer id_ing, Float weight, String photo) {\r\n\r\n        try {\r\n            String query = String.format(&quot;insert into biscuit(name, ingredientid, weight, photo) &quot; +\r\n                            &quot;values(&#39;%s&#39;,&#39; %s&#39;, &#39;%s&#39;, &#39;%s&#39;);&quot;,\r\n                    name, id_ing, weight, photo);\r\n            Statement statement = connect_to_db().createStatement();\r\n            statement.executeUpdate(query);\r\n        } catch (SQLException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\npublic class BiscuitRecipe {\r\n    String name;\r\n    int ing;\r\n    float weight;\r\n\r\n   String photo;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getIng() {\r\n        return ing;\r\n    }\r\n\r\n    public void setIng(int ing) {\r\n        this.ing = ing;\r\n    }\r\n\r\n    public float getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(float weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public String getPhoto() {\r\n        return photo;\r\n    }\r\n\r\n    public void setPhoto(String photo) {\r\n        this.photo = photo;\r\n    }\r\n\r\n    public BiscuitRecipe(String name, int ing, float weight, String photo) {\r\n        this.name = name;\r\n        this.ing = ing;\r\n        this.weight = weight;\r\n        this.photo = photo;\r\n    }\r\n}\r\n\r\n\r\n public void addMineRecipeBiscuit() {\r\n        \r\n        String name = filedNameBiscuit.getText();\r\n        int ingredientID = comboIngredients.getValue().getId(); \r\n        float weight = Float.parseFloat(filedWeightBiscuit.getText());\r\n        String photo = image;\r\n        if (name.isEmpty()) {\r\n            System.out.println(&quot;Empty!&quot;);\r\n        } else {\r\n            dbFunctions.getBiscuitMineIngredients(name, ingredientID, weight, photo);\r\n            tableBiscuit.setItems(dbFunctions.getBiscuitIngredients());\r\n        }\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\nI need the amount to be displayed in the inscription &quot;Sum&quot; from the first picture. Please help me, how can I do this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hbuFB.png","title":"Every time a new record is added to the table, calculate the sum of the values by the column javafx","body":"<p>I have a little problem and I need help. I have a program in which, with each new addition or deletion of an entry to the table, the sum of the values in the &quot;weight&quot; column was calculated, looking at the &quot;name&quot; column.  If, for example, I have several entries with the name &quot;chocolate&quot;, then I need to calculate the &quot;weight&quot; column, and if there are several rows with the name &quot;chocolate&quot;, and then &quot;coffee&quot;, then the weight column should be calculated only by the name &quot;chocolate&quot;. Also, my data from the table is added to the postgresql database.</p>\n<p><a href=\"https://i.stack.imgur.com/hbuFB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hbuFB.png\" alt=\"screenshot\" /></a></p>\n<p>This is my code to add to the database</p>\n<pre><code>    public ObservableList&lt;BiscuitRecipe&gt; getBiscuitMineIngredients(String name, Integer id_ing, Float weight, String photo) {\n\n        try {\n            String query = String.format(&quot;insert into biscuit(name, ingredientid, weight, photo) &quot; +\n                            &quot;values('%s',' %s', '%s', '%s');&quot;,\n                    name, id_ing, weight, photo);\n            Statement statement = connect_to_db().createStatement();\n            statement.executeUpdate(query);\n        } catch (SQLException e) {\n            System.out.println(e.getMessage());\n        }\n\n        return null;\n    }\n\npublic class BiscuitRecipe {\n    String name;\n    int ing;\n    float weight;\n\n   String photo;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getIng() {\n        return ing;\n    }\n\n    public void setIng(int ing) {\n        this.ing = ing;\n    }\n\n    public float getWeight() {\n        return weight;\n    }\n\n    public void setWeight(float weight) {\n        this.weight = weight;\n    }\n\n    public String getPhoto() {\n        return photo;\n    }\n\n    public void setPhoto(String photo) {\n        this.photo = photo;\n    }\n\n    public BiscuitRecipe(String name, int ing, float weight, String photo) {\n        this.name = name;\n        this.ing = ing;\n        this.weight = weight;\n        this.photo = photo;\n    }\n}\n\n\n public void addMineRecipeBiscuit() {\n        \n        String name = filedNameBiscuit.getText();\n        int ingredientID = comboIngredients.getValue().getId(); \n        float weight = Float.parseFloat(filedWeightBiscuit.getText());\n        String photo = image;\n        if (name.isEmpty()) {\n            System.out.println(&quot;Empty!&quot;);\n        } else {\n            dbFunctions.getBiscuitMineIngredients(name, ingredientID, weight, photo);\n            tableBiscuit.setItems(dbFunctions.getBiscuitIngredients());\n        }\n\n    }\n\n\n</code></pre>\n<p>I need the amount to be displayed in the inscription &quot;Sum&quot; from the first picture. Please help me, how can I do this?</p>\n"},{"tags":["java","kotlin","micronaut"],"answers":[{"tags":[],"owner":{"account_id":14612946,"reputation":817,"user_id":10553893,"display_name":"Raphael Tarita"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700519099,"creation_date":1700519099,"answer_id":77519244,"question_id":77514056,"body_markdown":"The current [source of Micronaut Serialization](https://github.com/micronaut-projects/micronaut-serialization/) tells me that `@Serdeable` takes the parameter `naming` which is of type `Class&lt;? extends PropertyNamingStrategy&gt;` (as seen [here](https://github.com/micronaut-projects/micronaut-serialization/blob/master/serde-api/src/main/java/io/micronaut/serde/annotation/Serdeable.java#L58)). This is a `java.lang.Class` and not a `kotlin.reflect.KClass`, which means that the bug in your code is that it should just be `PropertyNamingStrategy.SNAKE_CASE.javaClass`, without the `.kotlin` afterwards (btw, if you _do_ want the `KClass`, use `::class` instead of `.javaClass.kotlin`).\r\n\r\nAlternatively, you can use [`io.micronaut.serde.config.naming.SnakeCaseStrategy`](https://github.com/micronaut-projects/micronaut-serialization/blob/master/serde-api/src/main/java/io/micronaut/serde/config/naming/SnakeCaseStrategy.java) directly by doing `naming = SnakeCaseStrategy::class.javaClass`.\r\n\r\ntl;dr you can choose one of these options:\r\n```kotlin\r\n@Serdeable(naming = PropertyNamingStrategy.SNAKE_CASE.javaClass)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\ndata class TestTask(\r\n   val id: Long,\r\n   val partId: Long,\r\n   val TestChangeEvents testChangeEvents,\r\n)\r\n```\r\nor\r\n```kotlin\r\n@Serdeable(naming = SnakeCaseStrategy::class.javaClass)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\ndata class TestTask(\r\n   val id: Long,\r\n   val partId: Long,\r\n   val TestChangeEvents testChangeEvents,\r\n)\r\n```","title":"How to use json naming strategy in @Serdeable annotation","body":"<p>The current <a href=\"https://github.com/micronaut-projects/micronaut-serialization/\" rel=\"nofollow noreferrer\">source of Micronaut Serialization</a> tells me that <code>@Serdeable</code> takes the parameter <code>naming</code> which is of type <code>Class&lt;? extends PropertyNamingStrategy&gt;</code> (as seen <a href=\"https://github.com/micronaut-projects/micronaut-serialization/blob/master/serde-api/src/main/java/io/micronaut/serde/annotation/Serdeable.java#L58\" rel=\"nofollow noreferrer\">here</a>). This is a <code>java.lang.Class</code> and not a <code>kotlin.reflect.KClass</code>, which means that the bug in your code is that it should just be <code>PropertyNamingStrategy.SNAKE_CASE.javaClass</code>, without the <code>.kotlin</code> afterwards (btw, if you <em>do</em> want the <code>KClass</code>, use <code>::class</code> instead of <code>.javaClass.kotlin</code>).</p>\n<p>Alternatively, you can use <a href=\"https://github.com/micronaut-projects/micronaut-serialization/blob/master/serde-api/src/main/java/io/micronaut/serde/config/naming/SnakeCaseStrategy.java\" rel=\"nofollow noreferrer\"><code>io.micronaut.serde.config.naming.SnakeCaseStrategy</code></a> directly by doing <code>naming = SnakeCaseStrategy::class.javaClass</code>.</p>\n<p>tl;dr you can choose one of these options:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Serdeable(naming = PropertyNamingStrategy.SNAKE_CASE.javaClass)\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\ndata class TestTask(\n   val id: Long,\n   val partId: Long,\n   val TestChangeEvents testChangeEvents,\n)\n</code></pre>\n<p>or</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Serdeable(naming = SnakeCaseStrategy::class.javaClass)\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\ndata class TestTask(\n   val id: Long,\n   val partId: Long,\n   val TestChangeEvents testChangeEvents,\n)\n</code></pre>\n"}],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700519099,"creation_date":1700464191,"question_id":77514056,"body_markdown":"I have upgraded my [Micronaut][1] application to `4.1.6` and from then i&#39;m facing serialization &amp; deserialization strategy issue. With the older version of micronuat i&#39;m able to get the `snake-case` strategy using `application.yml` property\r\n\r\n    jackson:\r\n       property-naming-strategy: SNAKE_CASE\r\n\r\nBut with the upgrades this property is not working and i&#39;m getting response in camel case like below\r\n    \r\n     {\r\n\t    &quot;id&quot;: &quot;84984710&quot;,\r\n\t   &quot;partId&quot;: 1111144,\r\n\t   &quot;testChangeEvents&quot;: {}\r\n     }\r\n\r\nI&#39;m using [@Serdeable][1] on `data` classes for serialization or deserialization as per document\r\n\r\n&gt;Declare the @Serdeable annotation at the type level in your source code to allow the type to be serialized or deserialized.\r\n\r\nBut when i&#39;m trying to specify `naming strategy` using `naming` attribute i&#39;m facing issues\r\n\r\n      @Serdeable(naming = PropertyNamingStrategy.SNAKE_CASE.javaClass.kotlin)\r\n      @JsonIgnoreProperties(ignoreUnknown = true)\r\n      @JsonInclude(JsonInclude.Include.NON_NULL)\r\n      data class TestTask(\r\n\r\n         val id: Long,\r\n         val partId: Long,\r\n         val TestChangeEvents testChangeEvents,\r\n      )\r\n\r\n**Error**\r\n\r\n     An annotation argument must be a class literal (T::class)\r\n\r\n     public val &lt;T : Any&gt; T.javaClass: Class&lt;T&gt;\r\n\r\n     Returns the runtime Java class of this object.\r\n     kotlin.jvm   JvmClassMappingKt.class \r\n     Gradle: org.jetbrains.kotlin:kotlin-stdlib:1.8.22 (kotlin-stdlib-1.8.22.jar)\r\n         \r\n\r\n\r\n  [1]: https://micronaut-projects.github.io/micronaut-serialization/latest/guide/","title":"How to use json naming strategy in @Serdeable annotation","body":"<p>I have upgraded my <a href=\"https://micronaut-projects.github.io/micronaut-serialization/latest/guide/\" rel=\"nofollow noreferrer\">Micronaut</a> application to <code>4.1.6</code> and from then i'm facing serialization &amp; deserialization strategy issue. With the older version of micronuat i'm able to get the <code>snake-case</code> strategy using <code>application.yml</code> property</p>\n<pre><code>jackson:\n   property-naming-strategy: SNAKE_CASE\n</code></pre>\n<p>But with the upgrades this property is not working and i'm getting response in camel case like below</p>\n<pre><code> {\n    &quot;id&quot;: &quot;84984710&quot;,\n   &quot;partId&quot;: 1111144,\n   &quot;testChangeEvents&quot;: {}\n }\n</code></pre>\n<p>I'm using <a href=\"https://micronaut-projects.github.io/micronaut-serialization/latest/guide/\" rel=\"nofollow noreferrer\">@Serdeable</a> on <code>data</code> classes for serialization or deserialization as per document</p>\n<blockquote>\n<p>Declare the @Serdeable annotation at the type level in your source code to allow the type to be serialized or deserialized.</p>\n</blockquote>\n<p>But when i'm trying to specify <code>naming strategy</code> using <code>naming</code> attribute i'm facing issues</p>\n<pre><code>  @Serdeable(naming = PropertyNamingStrategy.SNAKE_CASE.javaClass.kotlin)\n  @JsonIgnoreProperties(ignoreUnknown = true)\n  @JsonInclude(JsonInclude.Include.NON_NULL)\n  data class TestTask(\n\n     val id: Long,\n     val partId: Long,\n     val TestChangeEvents testChangeEvents,\n  )\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code> An annotation argument must be a class literal (T::class)\n\n public val &lt;T : Any&gt; T.javaClass: Class&lt;T&gt;\n\n Returns the runtime Java class of this object.\n kotlin.jvm   JvmClassMappingKt.class \n Gradle: org.jetbrains.kotlin:kotlin-stdlib:1.8.22 (kotlin-stdlib-1.8.22.jar)\n     \n</code></pre>\n"},{"tags":["java","svg","batik"],"answers":[{"comments":[{"owner":{"account_id":1692484,"reputation":688,"user_id":1554575,"display_name":"Lewik"},"score":0,"creation_date":1569327921,"post_id":48440473,"comment_id":102554832,"body_markdown":"What about the backward task? How to get coordinates of the particular element? Like https://developer.mozilla.org/ru/docs/Web/API/Element/getBoundingClientRect","body":"What about the backward task? How to get coordinates of the particular element? Like <a href=\"https://developer.mozilla.org/ru/docs/Web/API/Element/getBoundingClientRect\" rel=\"nofollow noreferrer\">developer.mozilla.org/ru/docs/Web/API/Element/&hellip;</a>"}],"tags":[],"owner":{"account_id":5707766,"reputation":801,"user_id":4510718,"display_name":"MatheM"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516875551,"creation_date":1516875551,"answer_id":48440473,"question_id":44177676,"body_markdown":"I found the answer on [batik users forum](http://batik.2283329.n4.nabble.com/SVG-elements-and-absolute-position-td2975142.html)  developed by user templth, I take no credit I just repost the solution here so It can have more exposure.\r\n\r\n    public Element elementAtPosition(Document doc, Point2D point) {\r\n\t\tUserAgent userAgent = new UserAgentAdapter();\r\n\t\tDocumentLoader loader = new DocumentLoader(userAgent);\r\n\t\tBridgeContext context = new BridgeContext(userAgent, loader);\r\n\t\tcontext.setDynamicState(BridgeContext.DYNAMIC);\r\n\t\tGVTBuilder builder = new GVTBuilder();\r\n\t\tGraphicsNode rootGraphicsNode = builder.build(context, doc);\r\n\t\t\r\n\t\t// rootGraphicsNode can be offseted relative to coordinate system\r\n\t\t// that means calling this method on coordinates taken directly from the svg file might not work\r\n\t\t// check the bounds of rootGraphicsNode to determine where the elements actually are\r\n\t\t// System.out.println(rootGraphicsNode.getBounds());\r\n\t\t\r\n\t\tGraphicsNode graphicsNode = rootGraphicsNode.nodeHitAt(point);\r\n\t\tif (graphicsNode != null) {\r\n\t\t\treturn context.getElement(graphicsNode);\r\n\t\t} else {\r\n\t\t\t// if graphicsNode is null there is no element at this position\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nTested on Batik 1.9. This method returns only the topmost element on specified position. As a workaround you could remove the element and call nodeHitAt again.","title":"How to get SVG node at coordinates with Batik","body":"<p>I found the answer on <a href=\"http://batik.2283329.n4.nabble.com/SVG-elements-and-absolute-position-td2975142.html\" rel=\"nofollow noreferrer\">batik users forum</a>  developed by user templth, I take no credit I just repost the solution here so It can have more exposure.</p>\n\n<pre><code>public Element elementAtPosition(Document doc, Point2D point) {\n    UserAgent userAgent = new UserAgentAdapter();\n    DocumentLoader loader = new DocumentLoader(userAgent);\n    BridgeContext context = new BridgeContext(userAgent, loader);\n    context.setDynamicState(BridgeContext.DYNAMIC);\n    GVTBuilder builder = new GVTBuilder();\n    GraphicsNode rootGraphicsNode = builder.build(context, doc);\n\n    // rootGraphicsNode can be offseted relative to coordinate system\n    // that means calling this method on coordinates taken directly from the svg file might not work\n    // check the bounds of rootGraphicsNode to determine where the elements actually are\n    // System.out.println(rootGraphicsNode.getBounds());\n\n    GraphicsNode graphicsNode = rootGraphicsNode.nodeHitAt(point);\n    if (graphicsNode != null) {\n        return context.getElement(graphicsNode);\n    } else {\n        // if graphicsNode is null there is no element at this position\n        return null;\n    }\n}\n</code></pre>\n\n<p>Tested on Batik 1.9. This method returns only the topmost element on specified position. As a workaround you could remove the element and call nodeHitAt again.</p>\n"},{"tags":[],"owner":{"account_id":29950471,"reputation":1,"user_id":22952695,"display_name":"aicul66"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700518733,"creation_date":1700498066,"answer_id":77517524,"question_id":44177676,"body_markdown":"    private static class SVGMouseListener implements MouseListener {\r\n    \r\n      private final JSVGCanvas svgCanvas;\r\n    \r\n      public SVGMouseListener(JSVGCanvas jsvgCanvas) {\r\n        this.svgCanvas = jsvgCanvas;\r\n      }\r\n    \r\n      @Override\r\n      public void mouseClicked(MouseEvent e) {\r\n        // Get the BridgeContext\r\n        BridgeContext bridgeContext = svgCanvas.getUpdateManager().getBridgeContext();\r\n    \r\n        // Get the GraphicsNode at the SVG coordinates\r\n        GraphicsNode gvtRoot = svgCanvas.getGraphicsNode();\r\n        GraphicsNode svgNode = gvtRoot.nodeHitAt(new Point2D.Float(e.getX(), e.getY()));\r\n    \r\n        // Handle the element\r\n        if (svgNode != null) {\r\n          Element element = bridgeContext.getElement(svgNode);\r\n          if (element != null) {\r\n            System.out.println(&quot;Clicked on element with ID: &quot; + element.getAttribute(&quot;id&quot;));\r\n          }\r\n        }\r\n    \r\n      }\r\n\r\nYou need to have called `svgCanvas.setDocumentState(JSVGComponent.ALWAYS_DYNAMIC)`, \r\notherwise the `UpdateManager` of the `svgCanvas` is null. ","title":"How to get SVG node at coordinates with Batik","body":"<pre><code>private static class SVGMouseListener implements MouseListener {\n\n  private final JSVGCanvas svgCanvas;\n\n  public SVGMouseListener(JSVGCanvas jsvgCanvas) {\n    this.svgCanvas = jsvgCanvas;\n  }\n\n  @Override\n  public void mouseClicked(MouseEvent e) {\n    // Get the BridgeContext\n    BridgeContext bridgeContext = svgCanvas.getUpdateManager().getBridgeContext();\n\n    // Get the GraphicsNode at the SVG coordinates\n    GraphicsNode gvtRoot = svgCanvas.getGraphicsNode();\n    GraphicsNode svgNode = gvtRoot.nodeHitAt(new Point2D.Float(e.getX(), e.getY()));\n\n    // Handle the element\n    if (svgNode != null) {\n      Element element = bridgeContext.getElement(svgNode);\n      if (element != null) {\n        System.out.println(&quot;Clicked on element with ID: &quot; + element.getAttribute(&quot;id&quot;));\n      }\n    }\n\n  }\n</code></pre>\n<p>You need to have called <code>svgCanvas.setDocumentState(JSVGComponent.ALWAYS_DYNAMIC)</code>,\notherwise the <code>UpdateManager</code> of the <code>svgCanvas</code> is null.</p>\n"}],"owner":{"account_id":1806435,"reputation":4159,"user_id":1643465,"accept_rate":86,"display_name":"Djordje Ivanovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700518733,"creation_date":1495706545,"question_id":44177676,"body_markdown":"I have an SVG and the point (for example (x,y) = (250,112)). Is it possible with BATIK to get the node (DOM element) at the given point? ","title":"How to get SVG node at coordinates with Batik","body":"<p>I have an SVG and the point (for example (x,y) = (250,112)). Is it possible with BATIK to get the node (DOM element) at the given point? </p>\n"},{"tags":["java","linux","docker","quarkus","quarkus-native"],"comments":[{"owner":{"account_id":1133977,"reputation":1901,"user_id":1119431,"accept_rate":80,"display_name":"zakkak"},"score":1,"creation_date":1700564717,"post_id":77519214,"comment_id":136667599,"body_markdown":"This turns out to be an issue with how Quarkus instructs docker to setup the user in the container and how Docker Desktop binds mounts.\n\nFixed in https://github.com/quarkusio/quarkus/pull/37242","body":"This turns out to be an issue with how Quarkus instructs docker to setup the user in the container and how Docker Desktop binds mounts.  Fixed in <a href=\"https://github.com/quarkusio/quarkus/pull/37242\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/pull/37242</a>"},{"owner":{"account_id":1862192,"reputation":1849,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"score":0,"creation_date":1700574751,"post_id":77519214,"comment_id":136669503,"body_markdown":"Indeed!  Wow, they are quick to fix. Amazing turnaround.","body":"Indeed!  Wow, they are quick to fix. Amazing turnaround."}],"owner":{"account_id":1862192,"reputation":1849,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700518662,"creation_date":1700518662,"question_id":77519214,"body_markdown":"[Cross post][1].\r\n\r\nI&#39;m new to Quarkus, and just checked out the [sample application][2]. That works fine, so I now want to try a [native build][3] using the provided containers.\r\n\r\nI&#39;m running Docker Desktop 4.23.0 on Ubuntu 23.10, and I verified my home directory is share with DD:\r\n\r\n[![image][4]][4]\r\n\r\nWhen attempting `./mvnw install -Dnative -Dquarkus.native.container-build=true -Dquarkus.native.container-runtime=docker`:\r\n\r\n```\r\nBuild resources:\r\n - 5.80GB of memory (75.6% of 7.67GB system memory, determined at start)\r\n - 10 thread(s) (100.0% of 10 available processor(s), determined at start)\r\n[2/8] Performing analysis...  [*****]                                                                   (17.5s @ 1.18GB)\r\n   10,678 reachable types   (85.9% of   12,426 total)\r\n   15,175 reachable fields  (56.7% of   26,771 total)\r\n   53,763 reachable methods (55.8% of   96,362 total)\r\n    3,437 types,   104 fields, and 3,151 methods registered for reflection\r\n       61 types,    59 fields, and    55 methods registered for JNI access\r\n        4 native libraries: dl, pthread, rt, z\r\n[3/8] Building universe...                                                                               (3.0s @ 0.91GB)\r\n[4/8] Parsing methods...      [**]                                                                       (2.1s @ 1.07GB)\r\n[5/8] Inlining methods...     [***]                                                                      (1.4s @ 1.17GB)\r\n[6/8] Compiling methods...    [****]                                                                    (14.1s @ 1.19GB)\r\n[7/8] Layouting methods...    [**]                                                                       (2.7s @ 1.82GB)\r\n\r\n[8/8] Creating image...       [**]                                                                       (0.0s @ 2.28GB)\r\nFatal error: jdk.vm.ci.common.JVMCIError: java.nio.file.AccessDeniedException: /project/svm_err_b_20231118T013054.112_pid81.md\r\n\tat jdk.internal.vm.ci/jdk.vm.ci.common.JVMCIError.shouldNotReachHere(JVMCIError.java:52)\r\n\tat org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.reports.ReportUtils.reportImpl(ReportUtils.java:174)\r\n\tat org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.reports.ReportUtils.report(ReportUtils.java:155)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ProgressReporter.printEpilog(ProgressReporter.java:652)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.reportEpilog(NativeImageGeneratorRunner.java:604)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:596)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:720)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:142)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:97)\r\nCaused by: java.nio.file.AccessDeniedException: /project/svm_err_b_20231118T013054.112_pid81.md\r\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:90)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n\tat java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261)\r\n\tat java.base/java.nio.file.Files.newByteChannel(Files.java:379)\r\n\tat java.base/java.nio.file.Files.createFile(Files.java:657)\r\n\tat org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.reports.ReportUtils.reportImpl(ReportUtils.java:164)\r\n\t... 7 more\r\n```\r\n\r\nConsidering I&#39;m just following the tutorials, this is either a bug or I&#39;m missing something obvious. Help is appreciated.\r\n\r\n```\r\n$ uname -a \r\nLinux jm 6.5.0-10-generic #10-Ubuntu SMP PREEMPT_DYNAMIC Fri Oct 13 13:49:38 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n$ java -version\r\nJava HotSpot(TM) 64-Bit Server VM Oracle GraalVM 21.0.1+12.1 (build 21.0.1+12-jvmci-23.1-b19, mixed mode, sharing)\r\n\r\n$ mvnw --version\r\nApache Maven 3.9.5 (57804ffe001d7215b5e7bcb531cf83df38f93546)\r\n```\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/issues/37193\r\n  [2]: https://quarkus.io/get-started/\r\n  [3]: https://quarkus.io/guides/building-native-image#container-runtime\r\n  [4]: https://i.stack.imgur.com/kpQPb.png","title":"Quarkus native image on linux with Docker Desktop: JVMCIError AccessDeniedException","body":"<p><a href=\"https://github.com/quarkusio/quarkus/issues/37193\" rel=\"nofollow noreferrer\">Cross post</a>.</p>\n<p>I'm new to Quarkus, and just checked out the <a href=\"https://quarkus.io/get-started/\" rel=\"nofollow noreferrer\">sample application</a>. That works fine, so I now want to try a <a href=\"https://quarkus.io/guides/building-native-image#container-runtime\" rel=\"nofollow noreferrer\">native build</a> using the provided containers.</p>\n<p>I'm running Docker Desktop 4.23.0 on Ubuntu 23.10, and I verified my home directory is share with DD:</p>\n<p><a href=\"https://i.stack.imgur.com/kpQPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kpQPb.png\" alt=\"image\" /></a></p>\n<p>When attempting <code>./mvnw install -Dnative -Dquarkus.native.container-build=true -Dquarkus.native.container-runtime=docker</code>:</p>\n<pre><code>Build resources:\n - 5.80GB of memory (75.6% of 7.67GB system memory, determined at start)\n - 10 thread(s) (100.0% of 10 available processor(s), determined at start)\n[2/8] Performing analysis...  [*****]                                                                   (17.5s @ 1.18GB)\n   10,678 reachable types   (85.9% of   12,426 total)\n   15,175 reachable fields  (56.7% of   26,771 total)\n   53,763 reachable methods (55.8% of   96,362 total)\n    3,437 types,   104 fields, and 3,151 methods registered for reflection\n       61 types,    59 fields, and    55 methods registered for JNI access\n        4 native libraries: dl, pthread, rt, z\n[3/8] Building universe...                                                                               (3.0s @ 0.91GB)\n[4/8] Parsing methods...      [**]                                                                       (2.1s @ 1.07GB)\n[5/8] Inlining methods...     [***]                                                                      (1.4s @ 1.17GB)\n[6/8] Compiling methods...    [****]                                                                    (14.1s @ 1.19GB)\n[7/8] Layouting methods...    [**]                                                                       (2.7s @ 1.82GB)\n\n[8/8] Creating image...       [**]                                                                       (0.0s @ 2.28GB)\nFatal error: jdk.vm.ci.common.JVMCIError: java.nio.file.AccessDeniedException: /project/svm_err_b_20231118T013054.112_pid81.md\n    at jdk.internal.vm.ci/jdk.vm.ci.common.JVMCIError.shouldNotReachHere(JVMCIError.java:52)\n    at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.reports.ReportUtils.reportImpl(ReportUtils.java:174)\n    at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.reports.ReportUtils.report(ReportUtils.java:155)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.ProgressReporter.printEpilog(ProgressReporter.java:652)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.reportEpilog(NativeImageGeneratorRunner.java:604)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:596)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:720)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:142)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:97)\nCaused by: java.nio.file.AccessDeniedException: /project/svm_err_b_20231118T013054.112_pid81.md\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:90)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n    at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261)\n    at java.base/java.nio.file.Files.newByteChannel(Files.java:379)\n    at java.base/java.nio.file.Files.createFile(Files.java:657)\n    at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.reports.ReportUtils.reportImpl(ReportUtils.java:164)\n    ... 7 more\n</code></pre>\n<p>Considering I'm just following the tutorials, this is either a bug or I'm missing something obvious. Help is appreciated.</p>\n<pre><code>$ uname -a \nLinux jm 6.5.0-10-generic #10-Ubuntu SMP PREEMPT_DYNAMIC Fri Oct 13 13:49:38 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux\n\n$ java -version\nJava HotSpot(TM) 64-Bit Server VM Oracle GraalVM 21.0.1+12.1 (build 21.0.1+12-jvmci-23.1-b19, mixed mode, sharing)\n\n$ mvnw --version\nApache Maven 3.9.5 (57804ffe001d7215b5e7bcb531cf83df38f93546)\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1570202233,"post_id":58234179,"comment_id":102850861,"body_markdown":"Probably you are mixing kafka version. Check the exception (at the end). The method being called does not exist. Either you are missing a dependency or using the wrong version.","body":"Probably you are mixing kafka version. Check the exception (at the end). The method being called does not exist. Either you are missing a dependency or using the wrong version."},{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":0,"creation_date":1615462402,"post_id":58234179,"comment_id":117700554,"body_markdown":"you have `Application.properties` &amp; `Application.yml`? It is normally one or the other. My guess would be that Spring isn&#39;t loading your `application.yml` at all.","body":"you have <code>Application.properties</code> &amp; <code>Application.yml</code>? It is normally one or the other. My guess would be that Spring isn&#39;t loading your <code>application.yml</code> at all."},{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":0,"creation_date":1655871777,"post_id":58234179,"comment_id":128431665,"body_markdown":"why do you use the StringDeserializer for the value-serializer? I would assume the StringSerializer should be used. Maybe therefore a serial method is missing?","body":"why do you use the StringDeserializer for the value-serializer? I would assume the StringSerializer should be used. Maybe therefore a serial method is missing?"}],"answers":[{"tags":[],"owner":{"account_id":2635164,"reputation":1119,"user_id":2280067,"display_name":"SJX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596272324,"creation_date":1596272324,"answer_id":63203481,"question_id":58234179,"body_markdown":"You should check your full error log (stacktrace). In my case the problem was caused by a *`java.io.FileNotFoundException`* further below.&lt;br&gt;Often you find your &#39;real&#39; problem at the end of the stacktrace.","title":"Error creating bean with name &#39;kafkaListenerContainerFactory","body":"<p>You should check your full error log (stacktrace). In my case the problem was caused by a <em><code>java.io.FileNotFoundException</code></em> further below.<br>Often you find your 'real' problem at the end of the stacktrace.</p>\n"},{"tags":[],"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655872424,"creation_date":1655872012,"answer_id":72709689,"question_id":58234179,"body_markdown":"Your `value-serializer` uses a `StringDeserializer`. I would assume this should be the `StringSerializer`. Therefore, a serialize method for the value missing.","title":"Error creating bean with name &#39;kafkaListenerContainerFactory","body":"<p>Your <code>value-serializer</code> uses a <code>StringDeserializer</code>. I would assume this should be the <code>StringSerializer</code>. Therefore, a serialize method for the value missing.</p>\n"}],"owner":{"account_id":11335558,"reputation":31,"user_id":8311544,"display_name":"Deepa Khanna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16251,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700517990,"creation_date":1570183325,"question_id":58234179,"body_markdown":"I am new to kafka, springboot and trying to integrate kafka and elastic search in my springboot application.\r\n\r\nWhen I try to run the springboot app I see below error:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kafkaListenerContainerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/kafka/KafkaAnnotationDrivenConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory]: Factory method &#39;kafkaListenerContainerFactory&#39; threw exception; nested exception is java.lang.NoSuchMethodError:org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory.getContainerProperties()Lorg/springframework/kafka/listener/config/ContainerProperties;\r\n\r\n\r\nMy pom.xml\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nApplication.yml\r\n```management:\r\n  security:\r\n    enabled: true\r\n\r\nspring:\r\n  resources:\r\n    chain:\r\n      enabled: true\r\n\r\nkafka:\r\n  consumer:\r\n    bootstrap-servers: localhost:9092\r\n    group-id: group-id\r\n    auto-offset-reset: earliest\r\n    key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n    value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n  producer:\r\n    bootstrap-servers: localhost:9092\r\n    key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n    value-serializer: org.apache.kafka.common.serialization.StringDeserializer\r\n\r\n\r\n```\r\nProducer class\r\n```\r\n\r\n@Service\r\npublic class Producer {\r\n    private static final Logger logger = LoggerFactory.getLogger(Producer.class);\r\n    private static  final  String topic = &quot;users&quot;;\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n    public void sendMessage(History t){\r\n        logger.info(&quot;Inside send message to topic&quot;);\r\n        this.kafkaTemplate.send(topic,&quot;HelloWorld&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nConsumer.java\r\n```\r\npackage com.springboot.kafka;\r\n\r\nimport com.springboot.model.History;\r\nimport com.springboot.repository.HistoryRepository;\r\nimport org.apache.kafka.common.protocol.types.Field;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.kafka.annotation.KafkaListener;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class Consumer  {\r\n    private static final Logger logger = LoggerFactory.getLogger(Consumer.class);\r\n    private static  final  String topic = &quot;users&quot;;\r\n\r\n  \r\n    @KafkaListener(topics = topic,groupId = &quot;group-id&quot;)\r\n    public void consume (String t){\r\n        logger.info(&quot;Message read as &quot; + t);\r\n      \r\n    }\r\n}\r\n```\r\nApplication.properties:\r\n```\r\nlogging.level.sql=info\r\nlogging.file = /var/tmp/SpringBootAppLog.log\r\nspring.datasource.driver=org.postgresql.Driver\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/test\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgres\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.data.elasticsearch.cluster-name=my-application\r\nspring.data.elasticsearch.cluster-nodes=localhost:9200\r\n```\r\n\r\nAny idea on what I am missing on. Any leads will be highly appreciated.\r\n","title":"Error creating bean with name &#39;kafkaListenerContainerFactory","body":"<p>I am new to kafka, springboot and trying to integrate kafka and elastic search in my springboot application.</p>\n\n<p>When I try to run the springboot app I see below error:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kafkaListenerContainerFactory' defined in class path resource [org/springframework/boot/autoconfigure/kafka/KafkaAnnotationDrivenConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory]: Factory method 'kafkaListenerContainerFactory' threw exception; nested exception is java.lang.NoSuchMethodError:org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory.getContainerProperties()Lorg/springframework/kafka/listener/config/ContainerProperties;\n</code></pre>\n\n<p>My pom.xml</p>\n\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Application.yml</p>\n\n<pre><code>  security:\n    enabled: true\n\nspring:\n  resources:\n    chain:\n      enabled: true\n\nkafka:\n  consumer:\n    bootstrap-servers: localhost:9092\n    group-id: group-id\n    auto-offset-reset: earliest\n    key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n    value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n  producer:\n    bootstrap-servers: localhost:9092\n    key-serializer: org.apache.kafka.common.serialization.StringSerializer\n    value-serializer: org.apache.kafka.common.serialization.StringDeserializer\n\n\n</code></pre>\n\n<p>Producer class</p>\n\n<pre><code>\n@Service\npublic class Producer {\n    private static final Logger logger = LoggerFactory.getLogger(Producer.class);\n    private static  final  String topic = \"users\";\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    public void sendMessage(History t){\n        logger.info(\"Inside send message to topic\");\n        this.kafkaTemplate.send(topic,\"HelloWorld\");\n    }\n\n}\n</code></pre>\n\n<p>Consumer.java</p>\n\n<pre><code>package com.springboot.kafka;\n\nimport com.springboot.model.History;\nimport com.springboot.repository.HistoryRepository;\nimport org.apache.kafka.common.protocol.types.Field;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class Consumer  {\n    private static final Logger logger = LoggerFactory.getLogger(Consumer.class);\n    private static  final  String topic = \"users\";\n\n\n    @KafkaListener(topics = topic,groupId = \"group-id\")\n    public void consume (String t){\n        logger.info(\"Message read as \" + t);\n\n    }\n}\n</code></pre>\n\n<p>Application.properties:</p>\n\n<pre><code>logging.level.sql=info\nlogging.file = /var/tmp/SpringBootAppLog.log\nspring.datasource.driver=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/test\nspring.datasource.username=postgres\nspring.datasource.password=postgres\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.data.elasticsearch.cluster-name=my-application\nspring.data.elasticsearch.cluster-nodes=localhost:9200\n</code></pre>\n\n<p>Any idea on what I am missing on. Any leads will be highly appreciated.</p>\n"},{"tags":["java","angular","http","spring-security","cors"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700517180,"creation_date":1700517180,"answer_id":77519132,"question_id":77518207,"body_markdown":"About your problem you have to rewrite this part of `SecurityFilterChain` to meet that you want to achieve. \r\n\r\n    \r\n        .authorizeHttpRequests((authRequest) -&gt;{\r\n                      authRequest\r\n                        .requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n                        .anyRequest().authenticated();\r\n                    }\r\n                        )\r\n    \r\n\r\nTo have more details about how it work and also why it should be so I really suggest to check/read [documentation][1] part about it and also a good advice for you is to go through all documentation because it is the best way to understand.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html","title":"spring boot 3 how to specify multiple request matchers","body":"<p>About your problem you have to rewrite this part of <code>SecurityFilterChain</code> to meet that you want to achieve.</p>\n<pre><code>\n    .authorizeHttpRequests((authRequest) -&gt;{\n                  authRequest\n                    .requestMatchers(&quot;/auth/**&quot;).permitAll()\n                    .anyRequest().authenticated();\n                }\n                    )\n\n</code></pre>\n<p>To have more details about how it work and also why it should be so I really suggest to check/read <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">documentation</a> part about it and also a good advice for you is to go through all documentation because it is the best way to understand.</p>\n"}],"owner":{"account_id":29951155,"reputation":3,"user_id":22953204,"display_name":"Diego Seminario Rojas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77519132,"answer_count":1,"score":-1,"last_activity_date":1700517180,"creation_date":1700505544,"question_id":77518207,"body_markdown":"I am using spring security, and I would like to know how to add multiple request matchers, one for &quot;auth / **&quot; (which should allow anonymous requests) and &quot;prod / **&quot; (which should allow only if authenticated).\r\nI am using spring boot 3\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception\r\n    {\r\n        return http\r\n            .csrf(csrf -&gt; \r\n                csrf\r\n                .disable())\r\n            .authorizeHttpRequests((authRequest) -&gt;{\r\n              authRequest\r\n                .requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n                .anyRequest().anonymous();\r\n              authRequest.anyRequest().authenticated();\r\n            }\r\n                )\r\n            .sessionManagement(sessionManager-&gt;\r\n                sessionManager \r\n                  .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n            .authenticationProvider(authProvider)\r\n            .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n            .build();\r\n            \r\n            \r\n    }\r\n```\r\n","title":"spring boot 3 how to specify multiple request matchers","body":"<p>I am using spring security, and I would like to know how to add multiple request matchers, one for &quot;auth / **&quot; (which should allow anonymous requests) and &quot;prod / **&quot; (which should allow only if authenticated).\nI am using spring boot 3</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception\n    {\n        return http\n            .csrf(csrf -&gt; \n                csrf\n                .disable())\n            .authorizeHttpRequests((authRequest) -&gt;{\n              authRequest\n                .requestMatchers(&quot;/auth/**&quot;).permitAll()\n                .anyRequest().anonymous();\n              authRequest.anyRequest().authenticated();\n            }\n                )\n            .sessionManagement(sessionManager-&gt;\n                sessionManager \n                  .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .authenticationProvider(authProvider)\n            .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n            .build();\n            \n            \n    }\n</code></pre>\n"},{"tags":["java","datetime","time","java-time"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1700494949,"post_id":77516795,"comment_id":136658439,"body_markdown":"Why do you want `Z` at the end?  It means `Zulu`, indicating the time is in UTC. Assuming `2023-11-19T10:20:30.123+05:30[Asia/Kolkata]` is correct, transforming it to `2023-11-19T10:20:30.123Z` is incorrect.","body":"Why do you want <code>Z</code> at the end?  It means <code>Zulu</code>, indicating the time is in UTC. Assuming <code>2023-11-19T10:20:30.123+05:30[Asia&#47;Kolkata]</code> is correct, transforming it to <code>2023-11-19T10:20:30.123Z</code> is incorrect."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700495607,"post_id":77516795,"comment_id":136658543,"body_markdown":"The _Z_ would represent _[zulu](https://en.wikipedia.org/wiki/Coordinated_Universal_Time#Time_zones)_, meaning _UTC&#177;0_.  Would this be correct for your timestamp?  You&#39;re currently using an offset of  _UTC+05:30_.","body":"The <i>Z</i> would represent <i><a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time#Time_zones\" rel=\"nofollow noreferrer\">zulu</a></i>, meaning <i>UTC&#177;0</i>.  Would this be correct for your timestamp?  You&#39;re currently using an offset of  <i>UTC+05:30</i>."}],"answers":[{"comments":[{"owner":{"account_id":17716524,"reputation":1146,"user_id":12862712,"display_name":"rohitt"},"score":0,"creation_date":1700492104,"post_id":77516811,"comment_id":136657840,"body_markdown":"I had missed a Z in my output. This doesn&#39;t give the Z at the end","body":"I had missed a Z in my output. This doesn&#39;t give the Z at the end"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1700492288,"post_id":77516811,"comment_id":136657880,"body_markdown":"@rohitt Ok, I edit my answer","body":"@rohitt Ok, I edit my answer"}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700492271,"creation_date":1700491824,"answer_id":77516811,"question_id":77516795,"body_markdown":"Yes, you can simply use [`ZonedDateTime#toLocalDateTime()`][1] to get `LocalDateTime`:\r\n\r\n    ZonedDateTime zonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;))\r\n            .truncatedTo(ChronoUnit.MILLIS);\r\n    LocalDateTime localDateTime = zonedDateTime.toLocalDateTime(); \r\n    // example output: 2023-11-20T20:22:33.003\r\n\r\n## Edit\r\n\r\nBase on your comment:\r\n\r\n&gt; I had missed a Z in my output. This doesn&#39;t give the Z at the end \r\n\r\nThe output format include `Z` at the end, indicating the time is in the **UTC** time zone, in this case, you can use `OffsetDateTime` instead of `LocalDateTime` like this:\r\n\r\n    OffsetDateTime utcDateTime = zonedDateTime.toOffsetDateTime()\r\n            .withOffsetSameInstant(ZoneOffset.UTC);\r\n    // output: 2023-11-20T14:56:23.734Z\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#toLocalDateTime()","title":"Is there a way to get only the date time part from a zoned date time","body":"<p>Yes, you can simply use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#toLocalDateTime()\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#toLocalDateTime()</code></a> to get <code>LocalDateTime</code>:</p>\n<pre><code>ZonedDateTime zonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;))\n        .truncatedTo(ChronoUnit.MILLIS);\nLocalDateTime localDateTime = zonedDateTime.toLocalDateTime(); \n// example output: 2023-11-20T20:22:33.003\n</code></pre>\n<h2>Edit</h2>\n<p>Base on your comment:</p>\n<blockquote>\n<p>I had missed a Z in my output. This doesn't give the Z at the end</p>\n</blockquote>\n<p>The output format include <code>Z</code> at the end, indicating the time is in the <strong>UTC</strong> time zone, in this case, you can use <code>OffsetDateTime</code> instead of <code>LocalDateTime</code> like this:</p>\n<pre><code>OffsetDateTime utcDateTime = zonedDateTime.toOffsetDateTime()\n        .withOffsetSameInstant(ZoneOffset.UTC);\n// output: 2023-11-20T14:56:23.734Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700517011,"creation_date":1700500636,"answer_id":77517788,"question_id":77516795,"body_markdown":"# tl;dr\r\n\r\nCall `ZonedDateTime#toInstant`, then `Instant#toString`. \r\n\r\nOr skip the `ZonedDateTime`:\r\n\r\n    Instant\r\n        .now()  // Capture the current moment as seen in UTC. \r\n        .truncatedTo( ChronoUnit.MILLIS )  // Drop any micros &amp; nanos. \r\n        .toString()  // Generate text in standard ISO 8601 format. \r\n\r\nCode [runs at Ideone.com][1].\r\n\r\n&gt;2023-11-20T21:49:55.598Z\r\n\r\n# Details\r\n\r\nYour prose does not match your example data. \r\n\r\n## `LocalDateTime`\r\n\r\nYour prose asks for date and time without the time zone and offset. For that, call `ZonedDateTime#toLocalDateTime`. See correct [Answer by LAIDANI][2]. \r\n\r\nCaution: Discarding the zone and offset is likely unwise, and often indicates a programmer who does not understand proper date-time handling. \r\n\r\n    LocalDateTime myLocalDateTime = myZonedDateTime.toLocalDateTime() ;  // Caution: Likely unwise. \r\n\r\n## `Instant` \r\n\r\nYour example data `2023-11-19T10:20:30.123Z` has a `Z` on the end. That `Z` is an abbreviation of `+00:00`, an offset of zero hours-minutes-seconds from the temporal meridian of UTC. Pronounce the `Z` as Zulu. \r\n\r\nThe `Instant` class represents a moment as seen in UTC (an offset of zero). You can easily convert from `ZonedDateTime` to `Instant`. Same moment, same point on the timeline, different wall clock/calendar. \r\n\r\n    Instant myInstant = myZonedDateTime.toInstant() ;\r\n\r\nTo generate text in your desired standard ISO 8601 format, call `Instant#toString`. \r\n\r\n    String output = myInstant.toString() ;\r\n\r\nIf this output were your only goal, you could skip the `ZonedDateTime`. \r\n\r\n    String output = Instant.now().toString() ;\r\n\r\nIf you want to drop any microseconds and nanoseconds, truncate to milliseconds as seen in the Question. \r\n\r\n    String output = Instant.now().truncatedTo( ChronoUnit.MILLIS ).toString() ;\r\n\r\n\r\n  [1]: https://ideone.com/QuJzB4\r\n  [2]: https://stackoverflow.com/a/77516811/642706","title":"Is there a way to get only the date time part from a zoned date time","body":"<h1>tl;dr</h1>\n<p>Call <code>ZonedDateTime#toInstant</code>, then <code>Instant#toString</code>.</p>\n<p>Or skip the <code>ZonedDateTime</code>:</p>\n<pre><code>Instant\n    .now()  // Capture the current moment as seen in UTC. \n    .truncatedTo( ChronoUnit.MILLIS )  // Drop any micros &amp; nanos. \n    .toString()  // Generate text in standard ISO 8601 format. \n</code></pre>\n<p>Code <a href=\"https://ideone.com/QuJzB4\" rel=\"nofollow noreferrer\">runs at Ideone.com</a>.</p>\n<blockquote>\n<p>2023-11-20T21:49:55.598Z</p>\n</blockquote>\n<h1>Details</h1>\n<p>Your prose does not match your example data.</p>\n<h2><code>LocalDateTime</code></h2>\n<p>Your prose asks for date and time without the time zone and offset. For that, call <code>ZonedDateTime#toLocalDateTime</code>. See correct <a href=\"https://stackoverflow.com/a/77516811/642706\">Answer by LAIDANI</a>.</p>\n<p>Caution: Discarding the zone and offset is likely unwise, and often indicates a programmer who does not understand proper date-time handling.</p>\n<pre><code>LocalDateTime myLocalDateTime = myZonedDateTime.toLocalDateTime() ;  // Caution: Likely unwise. \n</code></pre>\n<h2><code>Instant</code></h2>\n<p>Your example data <code>2023-11-19T10:20:30.123Z</code> has a <code>Z</code> on the end. That <code>Z</code> is an abbreviation of <code>+00:00</code>, an offset of zero hours-minutes-seconds from the temporal meridian of UTC. Pronounce the <code>Z</code> as Zulu.</p>\n<p>The <code>Instant</code> class represents a moment as seen in UTC (an offset of zero). You can easily convert from <code>ZonedDateTime</code> to <code>Instant</code>. Same moment, same point on the timeline, different wall clock/calendar.</p>\n<pre><code>Instant myInstant = myZonedDateTime.toInstant() ;\n</code></pre>\n<p>To generate text in your desired standard ISO 8601 format, call <code>Instant#toString</code>.</p>\n<pre><code>String output = myInstant.toString() ;\n</code></pre>\n<p>If this output were your only goal, you could skip the <code>ZonedDateTime</code>.</p>\n<pre><code>String output = Instant.now().toString() ;\n</code></pre>\n<p>If you want to drop any microseconds and nanoseconds, truncate to milliseconds as seen in the Question.</p>\n<pre><code>String output = Instant.now().truncatedTo( ChronoUnit.MILLIS ).toString() ;\n</code></pre>\n"}],"owner":{"account_id":17716524,"reputation":1146,"user_id":12862712,"display_name":"rohitt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700517011,"creation_date":1700491706,"question_id":77516795,"body_markdown":"I have code that gets the current time with time zone. Is there any way to get the date time part without using string truncations? \r\nI&#39;m pretty sure if I&#39;m missing some time library method that can do it.\r\n\r\nCurrently, I have \r\n```\r\nZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).truncatedTo(ChronoUnit.MILLIS);\r\n```\r\nThis gives output similar to\r\n```\r\n2023-11-19T10:20:30.123+05:30[Asia/Kolkata]\r\n```\r\nWhat I&#39;d want is \r\n```\r\n2023-11-19T10:20:30.123Z\r\n```","title":"Is there a way to get only the date time part from a zoned date time","body":"<p>I have code that gets the current time with time zone. Is there any way to get the date time part without using string truncations?\nI'm pretty sure if I'm missing some time library method that can do it.</p>\n<p>Currently, I have</p>\n<pre><code>ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).truncatedTo(ChronoUnit.MILLIS);\n</code></pre>\n<p>This gives output similar to</p>\n<pre><code>2023-11-19T10:20:30.123+05:30[Asia/Kolkata]\n</code></pre>\n<p>What I'd want is</p>\n<pre><code>2023-11-19T10:20:30.123Z\n</code></pre>\n"},{"tags":["java","swing","user-interface","jbutton","actionlistener"],"answers":[{"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1226515568,"creation_date":1226515568,"answer_id":284925,"question_id":284899,"body_markdown":"Your best bet is to review the [Java Swing tutorials][1], specifically the [tutorial on Buttons][2].\r\n\r\nThe short code snippet is:\r\n\r\n    jBtnDrawCircle.addActionListener( /*class that implements ActionListener*/ );\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/ui/index.html\r\n  [2]: http://java.sun.com/docs/books/tutorial/uiswing/components/button.html","title":"How do you add an ActionListener onto a JButton in Java","body":"<p>Your best bet is to review the <a href=\"http://java.sun.com/docs/books/tutorial/ui/index.html\" rel=\"noreferrer\">Java Swing tutorials</a>, specifically the <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/button.html\" rel=\"noreferrer\">tutorial on Buttons</a>.</p>\n\n<p>The short code snippet is:</p>\n\n<pre><code>jBtnDrawCircle.addActionListener( /*class that implements ActionListener*/ );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1294116069,"post_id":284934,"comment_id":5042721,"body_markdown":"@Sara - Glad that helped! If you can think of any further clarifications, I&#39;ll be happy to add them to this answer.","body":"@Sara - Glad that helped! If you can think of any further clarifications, I&#39;ll be happy to add them to this answer."},{"owner":{"account_id":3194372,"reputation":257,"user_id":4215088,"accept_rate":78,"display_name":"Marko Kitonjics"},"score":0,"creation_date":1456308800,"post_id":284934,"comment_id":58883061,"body_markdown":"When someone asks: How can a component handle its own events?\nis the answer to that question to use anonymous inner classes like you here showed?","body":"When someone asks: How can a component handle its own events? is the answer to that question to use anonymous inner classes like you here showed?"},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1456323487,"post_id":284934,"comment_id":58893715,"body_markdown":"Not necessarily. You could have a custom component (e.g., something that extends JComponent) and also implements ActionListener, MouseListener, etc.","body":"Not necessarily. You could have a custom component (e.g., something that extends JComponent) and also implements ActionListener, MouseListener, etc."},{"owner":{"account_id":9775952,"reputation":6664,"user_id":7245977,"accept_rate":100,"display_name":"DoesData"},"score":0,"creation_date":1509716848,"post_id":284934,"comment_id":81144167,"body_markdown":"Don&#39;t you have to add @Override for actionPerformed?","body":"Don&#39;t you have to add @Override for actionPerformed?"},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1509743954,"post_id":284934,"comment_id":81159629,"body_markdown":"You don&#39;t *have* to, but it&#39;s a good practice to do that. Using Override is a good practice because it helps you recognize when you think you&#39;ve implemented a method from the super class or interface, but really you&#39;ve given your function an incorrect method signature. But using Override is not required when writing a Java program.","body":"You don&#39;t <i>have</i> to, but it&#39;s a good practice to do that. Using Override is a good practice because it helps you recognize when you think you&#39;ve implemented a method from the super class or interface, but really you&#39;ve given your function an incorrect method signature. But using Override is not required when writing a Java program."},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1531110160,"post_id":284934,"comment_id":89455263,"body_markdown":"Java 9 is forcing me to use @override, or declare it as a lambda function\\","body":"Java 9 is forcing me to use @override, or declare it as a lambda function\\"},{"owner":{"account_id":20753285,"reputation":64,"user_id":15240292,"display_name":"RW77"},"score":1,"creation_date":1627599975,"post_id":284934,"comment_id":121206424,"body_markdown":"@DavidKoelle - So, what are the disadvantages of using multiple if(ev.getSource()) statements all in one actionPerformed() method? Will it slow down your program a lot? Or is it for readability? Thanks.","body":"@DavidKoelle - So, what are the disadvantages of using multiple if(ev.getSource()) statements all in one actionPerformed() method? Will it slow down your program a lot? Or is it for readability? Thanks."},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1627608608,"post_id":284934,"comment_id":121207764,"body_markdown":"Readability, extensibility, and maintenance. Imagine you&#39;re going to remove an existing button - now you have to remember to remove code from multiple places. Or if you&#39;re going to add a new button, you&#39;re adding functionality to multiple places. Also, you&#39;re having to do a lot of, &quot;If it&#39;s this source, do this; if it&#39;s that source, do that&quot; and that&#39;s not very object-oriented. The object should know how to do its thing without other code being involved.","body":"Readability, extensibility, and maintenance. Imagine you&#39;re going to remove an existing button - now you have to remember to remove code from multiple places. Or if you&#39;re going to add a new button, you&#39;re adding functionality to multiple places. Also, you&#39;re having to do a lot of, &quot;If it&#39;s this source, do this; if it&#39;s that source, do that&quot; and that&#39;s not very object-oriented. The object should know how to do its thing without other code being involved."}],"tags":[],"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"comment_count":8,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1636994312,"creation_date":1226515757,"answer_id":284934,"question_id":284899,"body_markdown":"Two ways:\r\n\r\n&lt;b&gt;1.&lt;/b&gt; Implement ActionListener in your class, then use &lt;code&gt;jBtnSelection.addActionListener(this);&lt;/code&gt;  Later, you&#39;ll have to define a menthod, &lt;code&gt;public void actionPerformed(ActionEvent e)&lt;/code&gt;.  However, doing this for multiple buttons can be confusing, because the &lt;code&gt;actionPerformed&lt;/code&gt; method will have to check the source of each event (&lt;code&gt;e.getSource()&lt;/code&gt;) to see which button it came from.\r\n\r\n&lt;b&gt;2.&lt;/b&gt; Use anonymous inner classes: \r\n&lt;pre&gt;&lt;code&gt;jBtnSelection.addActionListener(new ActionListener() { \r\n  public void actionPerformed(ActionEvent e) { \r\n    selectionButtonPressed();\r\n  } \r\n} );&lt;/code&gt;&lt;/pre&gt;\r\nLater, you&#39;ll have to define &lt;code&gt;selectionButtonPressed()&lt;/code&gt;.\r\nThis works better when you have multiple buttons, because your calls to individual methods for handling the actions are right next to the definition of the button.\r\n\r\n**2, Updated.** Since Java 8 introduced lambda expressions, you can say essentially the same thing as #2 but use fewer characters:\r\n\r\n    jBtnSelection.addActionListener(e -&gt; selectionButtonPressed());\r\n\r\nIn this case, `e` is the ActionEvent. This works because the ActionListener interface has only one method, `actionPerformed(ActionEvent e)`.\r\n\r\nThe second method also allows you to call the `selectionButtonPressed` method directly.  In this case, you could call &lt;code&gt;selectionButtonPressed()&lt;/code&gt; if some other action happens, too - like, when a timer goes off or something (but in this case, your method would be named something different, maybe &lt;code&gt;selectionChanged()&lt;/code&gt;).\r\n\r\n","title":"How do you add an ActionListener onto a JButton in Java","body":"<p>Two ways:</p>\n<p><b>1.</b> Implement ActionListener in your class, then use <code>jBtnSelection.addActionListener(this);</code>  Later, you'll have to define a menthod, <code>public void actionPerformed(ActionEvent e)</code>.  However, doing this for multiple buttons can be confusing, because the <code>actionPerformed</code> method will have to check the source of each event (<code>e.getSource()</code>) to see which button it came from.</p>\n<p><b>2.</b> Use anonymous inner classes:</p>\n<pre><code>jBtnSelection.addActionListener(new ActionListener() { \n  public void actionPerformed(ActionEvent e) { \n    selectionButtonPressed();\n  } \n} );</code></pre>\n<p>Later, you'll have to define <code>selectionButtonPressed()</code>.\nThis works better when you have multiple buttons, because your calls to individual methods for handling the actions are right next to the definition of the button.</p>\n<p><strong>2, Updated.</strong> Since Java 8 introduced lambda expressions, you can say essentially the same thing as #2 but use fewer characters:</p>\n<pre><code>jBtnSelection.addActionListener(e -&gt; selectionButtonPressed());\n</code></pre>\n<p>In this case, <code>e</code> is the ActionEvent. This works because the ActionListener interface has only one method, <code>actionPerformed(ActionEvent e)</code>.</p>\n<p>The second method also allows you to call the <code>selectionButtonPressed</code> method directly.  In this case, you could call <code>selectionButtonPressed()</code> if some other action happens, too - like, when a timer goes off or something (but in this case, your method would be named something different, maybe <code>selectionChanged()</code>).</p>\n"},{"tags":[],"owner":{"account_id":13606513,"reputation":31,"user_id":9815517,"display_name":"Ronald Ortiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585671767,"creation_date":1541932499,"answer_id":53247880,"question_id":284899,"body_markdown":"I don&#39;t know if this works but I made the variable names\r\n```java\r\npublic abstract class beep implements ActionListener {\r\n\tpublic static void main(String[] args) {\r\n\t\tJFrame f = new JFrame(&quot;beeper&quot;);\r\n\t\tJButton button = new JButton(&quot;Beep me&quot;);\r\n\t\tf.setVisible(true);\r\n\t\tf.setSize(300, 200);\r\n\t\tf.add(button);\r\n\t\tbutton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t// Insert code here\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```","title":"How do you add an ActionListener onto a JButton in Java","body":"<p>I don't know if this works but I made the variable names</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class beep implements ActionListener {\n    public static void main(String[] args) {\n        JFrame f = new JFrame(\"beeper\");\n        JButton button = new JButton(\"Beep me\");\n        f.setVisible(true);\n        f.setSize(300, 200);\n        f.add(button);\n        button.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                // Insert code here\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4674010,"reputation":1029,"user_id":3785010,"display_name":"user3785010"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700516880,"creation_date":1700516880,"answer_id":77519112,"question_id":284899,"body_markdown":"I prefer &quot;non-magic&quot; lambdas, by which I mean where the type of the argument(s) are explicitly specified such as (***ActionEvent*** e) -&gt; instead of just e -&gt;:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    JButton addBtn = new JButton(&quot;Add&quot;);\r\n    addBtn.addActionListener((ActionEvent ae) -&gt; \r\n        addBtnClicked(nameField.getText(), occupationField.getText()));\r\n    \r\n    private void addBtnClicked(String name, String occupation)\r\n    {\r\n        if(name.length() == 0 || occupation.length() == 0) return;\r\n        System.out.format(&quot;Name: %s, Occupation: %s%n&quot;, name, occupation);\r\n    }\r\n\r\n","title":"How do you add an ActionListener onto a JButton in Java","body":"<p>I prefer &quot;non-magic&quot; lambdas, by which I mean where the type of the argument(s) are explicitly specified such as (<em><strong>ActionEvent</strong></em> e) -&gt; instead of just e -&gt;:</p>\n<pre><code>import java.awt.event.ActionEvent;\nJButton addBtn = new JButton(&quot;Add&quot;);\naddBtn.addActionListener((ActionEvent ae) -&gt; \n    addBtnClicked(nameField.getText(), occupationField.getText()));\n\nprivate void addBtnClicked(String name, String occupation)\n{\n    if(name.length() == 0 || occupation.length() == 0) return;\n    System.out.format(&quot;Name: %s, Occupation: %s%n&quot;, name, occupation);\n}\n</code></pre>\n"}],"owner":{"account_id":16819,"reputation":381,"user_id":37037,"display_name":"user37037"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237693,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"answer_count":4,"score":38,"last_activity_date":1700516880,"creation_date":1226515205,"question_id":284899,"body_markdown":"    private JButton jBtnDrawCircle = new JButton(&quot;Circle&quot;);\r\n    private JButton jBtnDrawSquare = new JButton(&quot;Square&quot;);\r\n    private JButton jBtnDrawTriangle = new JButton(&quot;Triangle&quot;);\r\n    private JButton jBtnSelection = new JButton(&quot;Selection&quot;);\r\n       \r\nHow do I add action listeners to these buttons, so that from a main method I can call `actionperformed` on them, so when they are clicked I can call them in my program?","title":"How do you add an ActionListener onto a JButton in Java","body":"<pre><code>private JButton jBtnDrawCircle = new JButton(\"Circle\");\nprivate JButton jBtnDrawSquare = new JButton(\"Square\");\nprivate JButton jBtnDrawTriangle = new JButton(\"Triangle\");\nprivate JButton jBtnSelection = new JButton(\"Selection\");\n</code></pre>\n\n<p>How do I add action listeners to these buttons, so that from a main method I can call <code>actionperformed</code> on them, so when they are clicked I can call them in my program?</p>\n"},{"tags":["java","class","object","methods","equals"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":8,"creation_date":1352929476,"post_id":13387742,"comment_id":18285673,"body_markdown":"Btw, looking at `equals` and `equals2`: any time you have something of the form `if(a) { return true; } else { return false; }` you should probably just write `return a`.","body":"Btw, looking at <code>equals</code> and <code>equals2</code>: any time you have something of the form <code>if(a) { return true; } else { return false; }</code> you should probably just write <code>return a</code>."},{"owner":{"account_id":2009539,"reputation":1285,"user_id":1798371,"accept_rate":100,"display_name":"Fastkowy"},"score":0,"creation_date":1352930024,"post_id":13387742,"comment_id":18285924,"body_markdown":"@yshavit You mean, with change from boolean to String?","body":"@yshavit You mean, with change from boolean to String?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":4,"creation_date":1352930279,"post_id":13387742,"comment_id":18286013,"body_markdown":"no, your code is asking if a boolean is a true, and returning `true` if it is and `false` otherwise. So for instance, `if(a.equals(object2)) { return true; } else return false` could just be `return a.equals(object2)`.","body":"no, your code is asking if a boolean is a true, and returning <code>true</code> if it is and <code>false</code> otherwise. So for instance, <code>if(a.equals(object2)) { return true; } else return false</code> could just be <code>return a.equals(object2)</code>."},{"owner":{"account_id":2752900,"reputation":11207,"user_id":2371861,"accept_rate":100,"display_name":"bjb568"},"score":1,"creation_date":1428108779,"post_id":13387742,"comment_id":47051355,"body_markdown":"possible duplicate of [How do I compare strings in Java?](http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"}],"answers":[{"comments":[{"owner":{"account_id":221004,"reputation":11902,"user_id":478742,"accept_rate":64,"display_name":"mojuba"},"score":6,"creation_date":1516702906,"post_id":13387773,"comment_id":83786321,"body_markdown":"Just `return a.equals(object2);`","body":"Just <code>return a.equals(object2);</code>"}],"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1352929082,"creation_date":1352929082,"answer_id":13387773,"question_id":13387742,"body_markdown":"Your `equals2()` method always will return the same as `equals()` !!\r\n\r\n**Your code** with my comments:\r\n\r\n    public boolean equals2(Object object2) {  // equals2 method\r\n        if(a.equals(object2)) { // if equals() method returns true\r\n            return true; // return true\r\n        }\r\n        else return false; // if equals() method returns false, also return false\r\n    }","title":"Compare two objects with .equals() and == operator","body":"<p>Your <code>equals2()</code> method always will return the same as <code>equals()</code> !!</p>\n\n<p><strong>Your code</strong> with my comments:</p>\n\n<pre><code>public boolean equals2(Object object2) {  // equals2 method\n    if(a.equals(object2)) { // if equals() method returns true\n        return true; // return true\n    }\n    else return false; // if equals() method returns false, also return false\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10886617,"reputation":1377,"user_id":10297806,"display_name":"Yigit Alparslan"},"score":1,"creation_date":1605682683,"post_id":13387784,"comment_id":114722891,"body_markdown":"OP is calling the `equals` method of the String `a` which is a member of the class. `equals2` is not calling `equals`","body":"OP is calling the <code>equals</code> method of the String <code>a</code> which is a member of the class. <code>equals2</code> is not calling <code>equals</code>"},{"owner":{"account_id":1595100,"reputation":1509,"user_id":1480605,"accept_rate":71,"display_name":"Hew Wolff"},"score":1,"creation_date":1605804862,"post_id":13387784,"comment_id":114770765,"body_markdown":"Yes, thanks. Looks like I totally missed the confusion between MyClass and String which is the real problem.","body":"Yes, thanks. Looks like I totally missed the confusion between MyClass and String which is the real problem."},{"owner":{"account_id":1077999,"reputation":484,"user_id":1075729,"display_name":"Zarremgregarrok"},"score":0,"creation_date":1611051551,"post_id":13387784,"comment_id":116319325,"body_markdown":"to be more specific `equals2()` compares `a` which is `String` with `object2` which is `Object` and probably `MyClass` which would in normal usage always return false.","body":"to be more specific <code>equals2()</code> compares <code>a</code> which is <code>String</code> with <code>object2</code> which is <code>Object</code> and probably <code>MyClass</code> which would in normal usage always return false."}],"tags":[],"owner":{"account_id":1595100,"reputation":1509,"user_id":1480605,"accept_rate":71,"display_name":"Hew Wolff"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1352929118,"creation_date":1352929118,"answer_id":13387784,"question_id":13387742,"body_markdown":"It looks like `equals2` is just calling `equals`, so it will give the same results.","title":"Compare two objects with .equals() and == operator","body":"<p>It looks like <code>equals2</code> is just calling <code>equals</code>, so it will give the same results.</p>\n"},{"comments":[{"owner":{"account_id":2697635,"reputation":1299,"user_id":2329241,"accept_rate":67,"display_name":"Narendra Jaggi"},"score":0,"creation_date":1588858794,"post_id":13387787,"comment_id":109066372,"body_markdown":"@TJ In == compares object references, to elaborate, Does it mean == compares hashcode of the two objects?","body":"@TJ In == compares object references, to elaborate, Does it mean == compares hashcode of the two objects?"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1588864012,"post_id":13387787,"comment_id":109069779,"body_markdown":"@NarendraJaggi - No, it means that the JVM checks to see if the two operands both refer to the same object. *How* it does that is up to the JVM, but there&#39;s no reason to think it would use a hashcode to do it.","body":"@NarendraJaggi - No, it means that the JVM checks to see if the two operands both refer to the same object. <i>How</i> it does that is up to the JVM, but there&#39;s no reason to think it would use a hashcode to do it."}],"tags":[],"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":2,"down_vote_count":0,"up_vote_count":156,"is_accepted":true,"score":156,"last_activity_date":1456224295,"creation_date":1352929133,"answer_id":13387787,"question_id":13387742,"body_markdown":"`==` compares object references, it checks to see if the two operands point to the same object (not *equivalent* objects, the **same** object).\r\n\r\nIf you want to compare strings (to see if they contain the same characters), you need to compare the strings using `equals`.\r\n\r\nIn your case, if two instances of `MyClass` really are considered equal if the strings match, then:\r\n\r\n    public boolean equals(Object object2) {\r\n        return object2 instanceof MyClass &amp;&amp; a.equals(((MyClass)object2).a);\r\n    }\r\n\r\n...but usually if you are defining a class, there&#39;s more to equivalency than the equivalency of a single field (`a` in this case).\r\n\r\n----\r\n\r\nSide note: If you override `equals`, you almost always need to override [`hashCode`][1]. As it says in the [`equals` JavaDoc][2]:\r\n\r\n&gt; Note that it is generally necessary to override the `hashCode` method whenever this method is overridden, so as to maintain the general contract for the `hashCode` method, which states that equal objects must have equal hash codes.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-","title":"Compare two objects with .equals() and == operator","body":"<p><code>==</code> compares object references, it checks to see if the two operands point to the same object (not <em>equivalent</em> objects, the <strong>same</strong> object).</p>\n\n<p>If you want to compare strings (to see if they contain the same characters), you need to compare the strings using <code>equals</code>.</p>\n\n<p>In your case, if two instances of <code>MyClass</code> really are considered equal if the strings match, then:</p>\n\n<pre><code>public boolean equals(Object object2) {\n    return object2 instanceof MyClass &amp;&amp; a.equals(((MyClass)object2).a);\n}\n</code></pre>\n\n<p>...but usually if you are defining a class, there's more to equivalency than the equivalency of a single field (<code>a</code> in this case).</p>\n\n<hr>\n\n<p>Side note: If you override <code>equals</code>, you almost always need to override <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--\" rel=\"noreferrer\"><code>hashCode</code></a>. As it says in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-\" rel=\"noreferrer\"><code>equals</code> JavaDoc</a>:</p>\n\n<blockquote>\n  <p>Note that it is generally necessary to override the <code>hashCode</code> method whenever this method is overridden, so as to maintain the general contract for the <code>hashCode</code> method, which states that equal objects must have equal hash codes.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1343774,"reputation":3263,"user_id":1284902,"accept_rate":100,"display_name":"Tarec"},"score":1,"creation_date":1400082054,"post_id":23658739,"comment_id":36340447,"body_markdown":"No, `a.equals` is string&#39;s method, it&#39;s not overriden anywhere.","body":"No, <code>a.equals</code> is string&#39;s method, it&#39;s not overriden anywhere."}],"tags":[],"owner":{"account_id":4470967,"reputation":11,"user_id":3637317,"display_name":"Ram"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1700516769,"creation_date":1400080631,"answer_id":23658739,"question_id":13387742,"body_markdown":"In the below code you are calling the overridden method `.equals()`\r\n```\r\npublic boolean equals2(Object object2) {\r\n    if(a.equals(object2)) { // here you are calling the overriden method, that is why you getting false 2 times.\r\n        return true;\r\n    }\r\n    else return false;\r\n}\r\n```","title":"Compare two objects with .equals() and == operator","body":"<p>In the below code you are calling the overridden method <code>.equals()</code></p>\n<pre><code>public boolean equals2(Object object2) {\n    if(a.equals(object2)) { // here you are calling the overriden method, that is why you getting false 2 times.\n        return true;\n    }\n    else return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4452378,"reputation":21,"user_id":3623827,"display_name":"ashish.al"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406884790,"creation_date":1406883687,"answer_id":25076545,"question_id":13387742,"body_markdown":"Statements `a == object2` and  `a.equals(object2)` both will always return `false` because `a` is a `string` while `object2` is an instance of `MyClass`","title":"Compare two objects with .equals() and == operator","body":"<p>Statements <code>a == object2</code> and  <code>a.equals(object2)</code> both will always return <code>false</code> because <code>a</code> is a <code>string</code> while <code>object2</code> is an instance of <code>MyClass</code></p>\n"},{"tags":[],"owner":{"account_id":3812700,"reputation":11,"user_id":3163008,"display_name":"Cpt. Mirk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407357380,"creation_date":1407357380,"answer_id":25169737,"question_id":13387742,"body_markdown":"the return type of object.equals is already boolean.\r\nthere&#39;s no need to wrap it in a method with branches. so if you want to compare 2 objects simply compare them:\r\n\r\n    boolean b = objectA.equals(objectB);\r\n\r\nb is already either true or false.","title":"Compare two objects with .equals() and == operator","body":"<p>the return type of object.equals is already boolean.\nthere's no need to wrap it in a method with branches. so if you want to compare 2 objects simply compare them:</p>\n\n<pre><code>boolean b = objectA.equals(objectB);\n</code></pre>\n\n<p>b is already either true or false.</p>\n"},{"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":4,"creation_date":1410149696,"post_id":25717269,"comment_id":40202979,"body_markdown":"Consider that your answer adds nothing that wasn&#39;t said almost 2 years ago.","body":"Consider that your answer adds nothing that wasn&#39;t said almost 2 years ago."}],"tags":[],"owner":{"account_id":4998048,"reputation":11,"user_id":4017872,"display_name":"umesh atada"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410149332,"creation_date":1410148770,"answer_id":25717269,"question_id":13387742,"body_markdown":"When we use == , the Reference of object is compared not the actual objects. We need to override equals method to compare Java Objects. \r\n\r\nSome additional information C++ has operator over loading &amp; Java does not provide operator over loading.\r\nAlso other possibilities in java are implement **Compare Interface** .which defines a compareTo method. \r\n\r\n**Comparator interface** is also used compare two objects","title":"Compare two objects with .equals() and == operator","body":"<p>When we use == , the Reference of object is compared not the actual objects. We need to override equals method to compare Java Objects. </p>\n\n<p>Some additional information C++ has operator over loading &amp; Java does not provide operator over loading.\nAlso other possibilities in java are implement <strong>Compare Interface</strong> .which defines a compareTo method. </p>\n\n<p><strong>Comparator interface</strong> is also used compare two objects</p>\n"},{"tags":[],"owner":{"account_id":1103616,"reputation":99,"user_id":1095484,"display_name":"Azhar Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700516800,"creation_date":1414770732,"answer_id":26678646,"question_id":13387742,"body_markdown":"Your implementation must like:\r\n\r\n    public boolean equals2(Object object2) {\r\n        return a.equals(object2.a);\r\n    }\r\n\r\nWith this implementation your both methods would work.","title":"Compare two objects with .equals() and == operator","body":"<p>Your implementation must like:</p>\n<pre><code>public boolean equals2(Object object2) {\n    return a.equals(object2.a);\n}\n</code></pre>\n<p>With this implementation your both methods would work.</p>\n"},{"tags":[],"owner":{"account_id":6557404,"reputation":61,"user_id":5069704,"display_name":"Jes&#250;s Talavera Portocarrero"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1435755632,"creation_date":1435755632,"answer_id":31162071,"question_id":13387742,"body_markdown":"The overwrite function equals() is wrong.\r\nThe object &quot;a&quot; is an instance of the **String** class and &quot;object2&quot; is an instance of the **MyClass** class. They are different classes, so the answer is &quot;false&quot;.\r\n\r\n\r\n","title":"Compare two objects with .equals() and == operator","body":"<p>The overwrite function equals() is wrong.\nThe object \"a\" is an instance of the <strong>String</strong> class and \"object2\" is an instance of the <strong>MyClass</strong> class. They are different classes, so the answer is \"false\".</p>\n"},{"comments":[{"owner":{"account_id":1553469,"reputation":1678,"user_id":1445318,"accept_rate":75,"display_name":"goonerify"},"score":2,"creation_date":1448428680,"post_id":31429359,"comment_id":55580233,"body_markdown":"This is arguably the best answer, however you might want to use    this.equals(obj) instead of (this == null) for non primitive types","body":"This is arguably the best answer, however you might want to use    this.equals(obj) instead of (this == null) for non primitive types"},{"owner":{"account_id":3802823,"reputation":207,"user_id":3675592,"display_name":"Maura"},"score":11,"creation_date":1475530943,"post_id":31429359,"comment_id":66971488,"body_markdown":"I&#39;d argue that the `if (this == null)` case is unnecessary anyway; calling `nullObject.equals(whatever)` is going to throw a null pointer exception, so we can safely assume that `this` is not null in any Java method we may write.","body":"I&#39;d argue that the <code>if (this == null)</code> case is unnecessary anyway; calling <code>nullObject.equals(whatever)</code> is going to throw a null pointer exception, so we can safely assume that <code>this</code> is not null in any Java method we may write."},{"owner":{"account_id":1077999,"reputation":484,"user_id":1075729,"display_name":"Zarremgregarrok"},"score":0,"creation_date":1611051233,"post_id":31429359,"comment_id":116319190,"body_markdown":"I&#39;d argue that `if (this == null)` is not unnecessary, but wrong object checked. Before the third line we need `obj` checked so the second if should be `if (obj == null)`","body":"I&#39;d argue that <code>if (this == null)</code> is not unnecessary, but wrong object checked. Before the third line we need <code>obj</code> checked so the second if should be <code>if (obj == null)</code>"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1622095182,"post_id":31429359,"comment_id":119692531,"body_markdown":"@goonerify That would lead to a `StackOverflowException`, as it would recursively call the same `equals` method without any stop condition.","body":"@goonerify That would lead to a <code>StackOverflowException</code>, as it would recursively call the same <code>equals</code> method without any stop condition."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1622095228,"post_id":31429359,"comment_id":119692546,"body_markdown":"`this == null` will always be false, since `this` is a reference to the current object &#160;which can never be null!","body":"<code>this == null</code> will always be false, since <code>this</code> is a reference to the current object  which can never be null!"}],"tags":[],"owner":{"account_id":6630322,"reputation":245,"user_id":5119219,"display_name":"user5119219"},"comment_count":5,"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1578342206,"creation_date":1436960300,"answer_id":31429359,"question_id":13387742,"body_markdown":"You should override equals \r\n\r\n     public boolean equals (Object obj) {\r\n         if (this==obj) return true;\r\n         if (this == null) return false;\r\n         if (this.getClass() != obj.getClass()) return false;\r\n         // Class name is Employ &amp; have lastname\r\n         Employe emp = (Employee) obj ;\r\n         return this.lastname.equals(emp.getlastname());\r\n     }\r\n","title":"Compare two objects with .equals() and == operator","body":"<p>You should override equals </p>\n\n<pre><code> public boolean equals (Object obj) {\n     if (this==obj) return true;\n     if (this == null) return false;\n     if (this.getClass() != obj.getClass()) return false;\n     // Class name is Employ &amp; have lastname\n     Employe emp = (Employee) obj ;\n     return this.lastname.equals(emp.getlastname());\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1048126,"reputation":8641,"user_id":1052697,"accept_rate":84,"display_name":"Rolf "},"score":11,"creation_date":1483371658,"post_id":35563111,"comment_id":70064922,"body_markdown":"I would like to call this: overkill.","body":"I would like to call this: overkill."},{"owner":{"account_id":3731685,"reputation":1186,"user_id":3103820,"accept_rate":50,"display_name":"m5seppal"},"score":0,"creation_date":1513775383,"post_id":35563111,"comment_id":82780549,"body_markdown":"@Rolf Why this is overkill in your opinion? I&#39;ve looked for a solution to this problem and this is the easiest solution I&#39;ve found so far. Any better suggestions are welcome.","body":"@Rolf Why this is overkill in your opinion? I&#39;ve looked for a solution to this problem and this is the easiest solution I&#39;ve found so far. Any better suggestions are welcome."},{"owner":{"account_id":1048126,"reputation":8641,"user_id":1052697,"accept_rate":84,"display_name":"Rolf "},"score":4,"creation_date":1513775682,"post_id":35563111,"comment_id":82780737,"body_markdown":"Because with Java you can compare objects without first creating a `Gson` object and then calling `toJson`. Creating the `Gson` object and calling the logic needed to convert the actually object to a flat `String` (`toJson`) is unnecessary overhead. You can compare objects without first converting the objects to Json strings (which is also quicker).","body":"Because with Java you can compare objects without first creating a <code>Gson</code> object and then calling <code>toJson</code>. Creating the <code>Gson</code> object and calling the logic needed to convert the actually object to a flat <code>String</code> (<code>toJson</code>) is unnecessary overhead. You can compare objects without first converting the objects to Json strings (which is also quicker)."}],"tags":[],"owner":{"account_id":6307828,"reputation":182,"user_id":4900384,"display_name":"JoeG"},"comment_count":3,"down_vote_count":5,"up_vote_count":12,"is_accepted":false,"score":7,"last_activity_date":1456172703,"creation_date":1456172703,"answer_id":35563111,"question_id":13387742,"body_markdown":"The best way to compare 2 objects is by converting them into json strings and compare the strings, its the easiest solution when dealing with complicated nested objects, fields and/or objects that contain arrays.\r\n\r\nsample:\r\n\r\n    import com.google.gson.Gson;\r\n\r\n\r\n    Object a = // ...;\r\n    Object b = //...;\r\n    String objectString1 = new Gson().toJson(a);\r\n    String objectString2 = new Gson().toJson(b); \r\n\r\n    if(objectString1.equals(objectString2)){\r\n        //do this\r\n    }\r\n","title":"Compare two objects with .equals() and == operator","body":"<p>The best way to compare 2 objects is by converting them into json strings and compare the strings, its the easiest solution when dealing with complicated nested objects, fields and/or objects that contain arrays.</p>\n\n<p>sample:</p>\n\n<pre><code>import com.google.gson.Gson;\n\n\nObject a = // ...;\nObject b = //...;\nString objectString1 = new Gson().toJson(a);\nString objectString2 = new Gson().toJson(b); \n\nif(objectString1.equals(objectString2)){\n    //do this\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3161037,"reputation":457,"user_id":2672154,"display_name":"tf3"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560680518,"creation_date":1476040153,"answer_id":39947453,"question_id":13387742,"body_markdown":"Your class might implement the Comparable interface to achieve the same functionality. Your class should implement the compareTo() method declared in the interface.\r\n\r\n    public class MyClass implements Comparable&lt;MyClass&gt;{\r\n        \r\n        String a;\r\n        \r\n        public MyClass(String ab){\r\n            a = ab;\r\n        }\r\n      \r\n        // returns an int not a boolean\r\n        public int compareTo(MyClass someMyClass){ \r\n\r\n            /* The String class implements a compareTo method, returning a 0 \r\n               if the two strings are identical, instead of a boolean.\r\n               Since &#39;a&#39; is a string, it has the compareTo method which we call\r\n               in MyClass&#39;s compareTo method.\r\n            */\r\n\r\n            return this.a.compareTo(someMyClass.a);\r\n            \r\n        }\r\n\r\n        public static void main(String[] args){\r\n        \r\n            MyClass object1 = new MyClass(&quot;test&quot;);\r\n            MyClass object2 = new MyClass(&quot;test&quot;);\r\n\r\n            if(object1.compareTo(object2) == 0){\r\n                System.out.println(&quot;true&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;false&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n        ","title":"Compare two objects with .equals() and == operator","body":"<p>Your class might implement the Comparable interface to achieve the same functionality. Your class should implement the compareTo() method declared in the interface.</p>\n\n<pre><code>public class MyClass implements Comparable&lt;MyClass&gt;{\n\n    String a;\n\n    public MyClass(String ab){\n        a = ab;\n    }\n\n    // returns an int not a boolean\n    public int compareTo(MyClass someMyClass){ \n\n        /* The String class implements a compareTo method, returning a 0 \n           if the two strings are identical, instead of a boolean.\n           Since 'a' is a string, it has the compareTo method which we call\n           in MyClass's compareTo method.\n        */\n\n        return this.a.compareTo(someMyClass.a);\n\n    }\n\n    public static void main(String[] args){\n\n        MyClass object1 = new MyClass(\"test\");\n        MyClass object2 = new MyClass(\"test\");\n\n        if(object1.compareTo(object2) == 0){\n            System.out.println(\"true\");\n        }\n        else{\n            System.out.println(\"false\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8616116,"reputation":555,"user_id":6452886,"accept_rate":44,"display_name":"Madhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552971889,"creation_date":1476901405,"answer_id":40138905,"question_id":13387742,"body_markdown":"The &quot;==&quot; operator returns true only if the two references pointing to the same object in memory. The equals() method on the other hand returns true based on the contents of the object.\r\n\r\nExample:\r\n\r\n    String personalLoan = new String(&quot;cheap personal loans&quot;);\r\n    String homeLoan = new String(&quot;cheap personal loans&quot;);\r\n          \r\n    //since two strings are different object result should be false\r\n    boolean result = personalLoan == homeLoan;\r\n    System.out.println(&quot;Comparing two strings with == operator: &quot; + result);\r\n          \r\n    //since strings contains same content , equals() should return true\r\n    result = personalLoan.equals(homeLoan);\r\n    System.out.println(&quot;Comparing two Strings with same content using equals method: &quot; + result);\r\n          \r\n    homeLoan = personalLoan;\r\n    //since both homeLoan and personalLoan reference variable are pointing to same object\r\n    //&quot;==&quot; should return true\r\n    result = (personalLoan == homeLoan);\r\n    System.out.println(&quot;Comparing two reference pointing to same String with == operator: &quot; + result);\r\n\r\nOutput:\r\nComparing two strings with == operator: false\r\nComparing two Strings with same content using equals method: true\r\nComparing two references pointing to same String with == operator: true\r\n\r\nYou can also get more details from the link: http://javarevisited.blogspot.in/2012/12/difference-between-equals-method-and-equality-operator-java.html?m=1\r\n","title":"Compare two objects with .equals() and == operator","body":"<p>The \"==\" operator returns true only if the two references pointing to the same object in memory. The equals() method on the other hand returns true based on the contents of the object.</p>\n\n<p>Example:</p>\n\n<pre><code>String personalLoan = new String(\"cheap personal loans\");\nString homeLoan = new String(\"cheap personal loans\");\n\n//since two strings are different object result should be false\nboolean result = personalLoan == homeLoan;\nSystem.out.println(\"Comparing two strings with == operator: \" + result);\n\n//since strings contains same content , equals() should return true\nresult = personalLoan.equals(homeLoan);\nSystem.out.println(\"Comparing two Strings with same content using equals method: \" + result);\n\nhomeLoan = personalLoan;\n//since both homeLoan and personalLoan reference variable are pointing to same object\n//\"==\" should return true\nresult = (personalLoan == homeLoan);\nSystem.out.println(\"Comparing two reference pointing to same String with == operator: \" + result);\n</code></pre>\n\n<p>Output:\nComparing two strings with == operator: false\nComparing two Strings with same content using equals method: true\nComparing two references pointing to same String with == operator: true</p>\n\n<p>You can also get more details from the link: <a href=\"http://javarevisited.blogspot.in/2012/12/difference-between-equals-method-and-equality-operator-java.html?m=1\" rel=\"nofollow noreferrer\">http://javarevisited.blogspot.in/2012/12/difference-between-equals-method-and-equality-operator-java.html?m=1</a></p>\n"},{"comments":[{"owner":{"account_id":4492606,"reputation":4491,"user_id":3653343,"accept_rate":83,"display_name":"Nikaido"},"score":2,"creation_date":1499353004,"post_id":44951732,"comment_id":76880040,"body_markdown":"Welcome to stackoverflow bidyadhar. The question is dated 14/11/2012 and got already a good response (approved by OP). The one that you got is correct, but it is not adding useful info. \n\nI suggest you to read the rules before doing anything","body":"Welcome to stackoverflow bidyadhar. The question is dated 14/11/2012 and got already a good response (approved by OP). The one that you got is correct, but it is not adding useful info.   I suggest you to read the rules before doing anything"}],"tags":[],"owner":{"account_id":11269847,"reputation":11,"user_id":8265637,"display_name":"Bidyadhar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499351200,"creation_date":1499351200,"answer_id":44951732,"question_id":13387742,"body_markdown":"Here the output will be false , false beacuse in first sopln statement you are trying to compare a string type varible of Myclass type to the other MyClass type and it will allow because of both are Object type and you have used &quot;==&quot; oprerator which will check the reference variable value holding the actual memory not the actual contnets inside the memory . \r\nIn the second sopln also it is the same as you are again calling a.equals(object2) where a is a varible inside object1 . Do let me know your findings on this .","title":"Compare two objects with .equals() and == operator","body":"<p>Here the output will be false , false beacuse in first sopln statement you are trying to compare a string type varible of Myclass type to the other MyClass type and it will allow because of both are Object type and you have used \"==\" oprerator which will check the reference variable value holding the actual memory not the actual contnets inside the memory . \nIn the second sopln also it is the same as you are again calling a.equals(object2) where a is a varible inside object1 . Do let me know your findings on this .</p>\n"},{"tags":[],"owner":{"account_id":543232,"reputation":1818,"user_id":912309,"accept_rate":44,"display_name":"Qinjie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525159004,"creation_date":1525159004,"answer_id":50112717,"question_id":13387742,"body_markdown":"If you dont need to customize the default toString() function, another way is to override toString() method, which returns all attributes to be compared. then compare toString() output of two objects. I generated toString() method using IntelliJ IDEA IDE, which includes class name in the string. \r\n\r\n    public class Greeting {\r\n    private String greeting;\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) return true;\r\n        return this.toString().equals(obj.toString());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Greeting{&quot; +\r\n                &quot;greeting=&#39;&quot; + greeting + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n    }\r\n","title":"Compare two objects with .equals() and == operator","body":"<p>If you dont need to customize the default toString() function, another way is to override toString() method, which returns all attributes to be compared. then compare toString() output of two objects. I generated toString() method using IntelliJ IDEA IDE, which includes class name in the string. </p>\n\n<pre><code>public class Greeting {\nprivate String greeting;\n\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj) return true;\n    return this.toString().equals(obj.toString());\n}\n\n@Override\npublic String toString() {\n    return \"Greeting{\" +\n            \"greeting='\" + greeting + '\\'' +\n            '}';\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25877878,"reputation":1,"user_id":19607514,"display_name":"user19607514"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658587408,"creation_date":1658587408,"answer_id":73091640,"question_id":13387742,"body_markdown":"In short, == compares two POINTERS.\r\n\r\nIf the two pointers are equal, then they both point to same object in memory (which, obviously has the same value as itself).\r\n\r\nHowever, .equals will compare the VALUES of whatever is pointed to, returning true iff they both evaluate to the same value.  \r\nThus, two separate strings (i.e., at different addresses in memory) are always != but are .equal iff they contain the same (null-terminated) sequence of chars.","title":"Compare two objects with .equals() and == operator","body":"<p>In short, == compares two POINTERS.</p>\n<p>If the two pointers are equal, then they both point to same object in memory (which, obviously has the same value as itself).</p>\n<p>However, .equals will compare the VALUES of whatever is pointed to, returning true iff they both evaluate to the same value.<br />\nThus, two separate strings (i.e., at different addresses in memory) are always != but are .equal iff they contain the same (null-terminated) sequence of chars.</p>\n"}],"owner":{"account_id":2009539,"reputation":1285,"user_id":1798371,"accept_rate":100,"display_name":"Fastkowy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433801,"favorite_count":0,"down_vote_count":4,"up_vote_count":95,"accepted_answer_id":13387787,"answer_count":16,"score":91,"last_activity_date":1700516800,"creation_date":1352928908,"question_id":13387742,"body_markdown":"I constructed a class with one `String` field. Then I created two objects and I have to compare them using `==` operator and `.equals()` too. Here&#39;s what I&#39;ve done:\r\n\r\n    public class MyClass {\r\n    \t\r\n    \tString a;\r\n    \t\r\n    \tpublic MyClass(String ab) {\r\n    \t\ta = ab;\r\n    \t}\r\n    \t\r\n    \tpublic boolean equals(Object object2) {\r\n    \t\tif(a == object2) { \r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse return false;\r\n    \t}\r\n    \t\r\n    \tpublic boolean equals2(Object object2) {\r\n    \t\tif(a.equals(object2)) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse return false;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tMyClass object1 = new MyClass(&quot;test&quot;);\r\n    \t\tMyClass object2 = new MyClass(&quot;test&quot;);\r\n    \t\t\r\n    \t\tobject1.equals(object2);\r\n    \t\tSystem.out.println(object1.equals(object2));\r\n    \t\t\r\n    \t\tobject1.equals2(object2);\r\n    \t\tSystem.out.println(object1.equals2(object2));\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\nAfter compile it shows two times false as a result. Why is it false if the two objects have the same fields - &quot;test&quot;?","title":"Compare two objects with .equals() and == operator","body":"<p>I constructed a class with one <code>String</code> field. Then I created two objects and I have to compare them using <code>==</code> operator and <code>.equals()</code> too. Here's what I've done:</p>\n\n<pre><code>public class MyClass {\n\n    String a;\n\n    public MyClass(String ab) {\n        a = ab;\n    }\n\n    public boolean equals(Object object2) {\n        if(a == object2) { \n            return true;\n        }\n        else return false;\n    }\n\n    public boolean equals2(Object object2) {\n        if(a.equals(object2)) {\n            return true;\n        }\n        else return false;\n    }\n\n\n\n    public static void main(String[] args) {\n\n        MyClass object1 = new MyClass(\"test\");\n        MyClass object2 = new MyClass(\"test\");\n\n        object1.equals(object2);\n        System.out.println(object1.equals(object2));\n\n        object1.equals2(object2);\n        System.out.println(object1.equals2(object2));\n    }\n\n\n}\n</code></pre>\n\n<p>After compile it shows two times false as a result. Why is it false if the two objects have the same fields - \"test\"?</p>\n"},{"tags":["java","webview"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700517188,"post_id":62664961,"comment_id":136662207,"body_markdown":"What `WebView` class are you using? What Java GUI framework?","body":"What <code>WebView</code> class are you using? What Java GUI framework?"}],"answers":[{"tags":[],"owner":{"account_id":18933693,"reputation":1,"user_id":13815283,"display_name":"Abu Shayed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700516556,"creation_date":1593671622,"answer_id":62690315,"question_id":62664961,"body_markdown":"This the code that worked:\r\n```\r\npublic boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n    if (url != null &amp;&amp; url.startsWith(&quot;whatsapp://&quot;)) {\r\n        view.getContext().startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n```","title":"Open inside and outside of WebView","body":"<p>This the code that worked:</p>\n<pre><code>public boolean shouldOverrideUrlLoading(WebView view, String url) {\n    if (url != null &amp;&amp; url.startsWith(&quot;whatsapp://&quot;)) {\n        view.getContext().startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n        return true;\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":18933693,"reputation":1,"user_id":13815283,"display_name":"Abu Shayed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700516656,"creation_date":1593545700,"question_id":62664961,"body_markdown":"I want open my website and Facebook (Facebook logging plugin) in a `WebView` only. All other external links will open in other external browsers. Below code allows Facebook to open in external browsers. \r\n```\r\n@Override\r\npublic boolean shouldOverrideUrlLoading(WebView view, String url)\r\n{\r\n    if (!url.contains (&quot;https://kroybook.com/&#39;)&#39;https://facebook.com/&quot;)\r\n    {\r\n        Uri uri = Uri.parse(url);\r\n        startActivity(Intent.createChooser(new Intent(Intent.ACTION_VIEW, uri), &quot;Choose browser&quot;));\r\n\r\n        CookieManager.getInstance().setAcceptCookie(true);\r\n    } else {\r\n        myWebView.loadUrl(url);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n```","title":"Open inside and outside of WebView","body":"<p>I want open my website and Facebook (Facebook logging plugin) in a <code>WebView</code> only. All other external links will open in other external browsers. Below code allows Facebook to open in external browsers.</p>\n<pre><code>@Override\npublic boolean shouldOverrideUrlLoading(WebView view, String url)\n{\n    if (!url.contains (&quot;https://kroybook.com/')'https://facebook.com/&quot;)\n    {\n        Uri uri = Uri.parse(url);\n        startActivity(Intent.createChooser(new Intent(Intent.ACTION_VIEW, uri), &quot;Choose browser&quot;));\n\n        CookieManager.getInstance().setAcceptCookie(true);\n    } else {\n        myWebView.loadUrl(url);\n        return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","swing","jframe","jtabbedpane"],"answers":[{"tags":[],"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1386662998,"creation_date":1386662101,"answer_id":20488900,"question_id":20488791,"body_markdown":"You can&#39;t add `JFrame`(or another top-level component) to another component/container, but you can use `getContentPane()` method of frame, to get main panel of your frame and add that to `JTabbedPane` tab. Like next:\r\n\r\n    JTabbedPane tabs = new JTabbedPane();\r\n\tJFrame frame = new JFrame();\r\n\tframe.add(new JButton(&quot;button&quot;));\r\n\ttabs.addTab(&quot;1&quot;, frame.getContentPane());\r\n\r\nAlso you can change `JFrame` to `JPanel` and use that.\r\n\r\nRead about [`JInternalFrame`][1], [top-level containers][2].\r\n\r\nEDIT: `getContentPane()` doesn&#39;t return any decorations or `JMenuBar`, this components you need to add manually, like in next example with menu:\r\n\r\n    JTabbedPane tabs = new JTabbedPane();\r\n\t\r\n\tJFrame frame = new JFrame();\r\n\tJMenuBar bar = new JMenuBar();\r\n\tbar.add(new JMenu(&quot;menu&quot;));\r\n\tframe.setJMenuBar(bar);\r\n\tframe.add(new JButton(&quot;button&quot;));\r\n\t\t\r\n\tJPanel tab1 = new JPanel(new BorderLayout());\r\n\ttab1.add(frame.getJMenuBar(),BorderLayout.NORTH);\r\n\ttab1.add(frame.getContentPane());\r\n\ttabs.addTab(&quot;1&quot;, tab1);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html","title":"Insert JFrame into a Tab in Swing","body":"<p>You can't add <code>JFrame</code>(or another top-level component) to another component/container, but you can use <code>getContentPane()</code> method of frame, to get main panel of your frame and add that to <code>JTabbedPane</code> tab. Like next:</p>\n\n<pre><code>JTabbedPane tabs = new JTabbedPane();\nJFrame frame = new JFrame();\nframe.add(new JButton(\"button\"));\ntabs.addTab(\"1\", frame.getContentPane());\n</code></pre>\n\n<p>Also you can change <code>JFrame</code> to <code>JPanel</code> and use that.</p>\n\n<p>Read about <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\" rel=\"nofollow\"><code>JInternalFrame</code></a>, <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow\">top-level containers</a>.</p>\n\n<p>EDIT: <code>getContentPane()</code> doesn't return any decorations or <code>JMenuBar</code>, this components you need to add manually, like in next example with menu:</p>\n\n<pre><code>JTabbedPane tabs = new JTabbedPane();\n\nJFrame frame = new JFrame();\nJMenuBar bar = new JMenuBar();\nbar.add(new JMenu(\"menu\"));\nframe.setJMenuBar(bar);\nframe.add(new JButton(\"button\"));\n\nJPanel tab1 = new JPanel(new BorderLayout());\ntab1.add(frame.getJMenuBar(),BorderLayout.NORTH);\ntab1.add(frame.getContentPane());\ntabs.addTab(\"1\", tab1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700516418,"creation_date":1700516418,"answer_id":77519067,"question_id":20488791,"body_markdown":"You should probably look into `JDesktop` and `JInternalFrame` for that. I think it&#39;s the best suited solution for your problem.","title":"Insert JFrame into a Tab in Swing","body":"<p>You should probably look into <code>JDesktop</code> and <code>JInternalFrame</code> for that. I think it's the best suited solution for your problem.</p>\n"}],"owner":{"display_name":"user1807367"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20488900,"answer_count":2,"score":0,"last_activity_date":1700516418,"creation_date":1386661591,"question_id":20488791,"body_markdown":"I Have an already given `JFrame frame`, that I want to show it (insert it) into a `tab` of `JTabbedPane`, but that was not possible explicitely like that:\r\n\r\n    frame = new JFrame();\r\n    frame.setBounds(100, 100, 450, 300);\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    mainTabs.addTab(&quot;Editor&quot;, null, frame, null);\r\n\r\nAnd the error was:\r\n\r\n    java.lang.IllegalArgumentException: adding a window to a container\r\n\r\nI tried some solutions like to insert the frame into a `JPanel` but also in vain. I have the idea to convert it into an `InternalJFrame` but I don&#39;t have any idea about that.\r\n\r\nIs that any solution to insert that `frame`?\r\n\r\n**UPDATE**:\r\n\r\nI tried that soluion:\r\n\r\n     mainTabs.addTab(&quot;Editor&quot;, null, frame.getContentPane(), null);\r\n\r\nBut i lost the `JMenuBar` that I added. ","title":"Insert JFrame into a Tab in Swing","body":"<p>I Have an already given <code>JFrame frame</code>, that I want to show it (insert it) into a <code>tab</code> of <code>JTabbedPane</code>, but that was not possible explicitely like that:</p>\n\n<pre><code>frame = new JFrame();\nframe.setBounds(100, 100, 450, 300);\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\nmainTabs.addTab(\"Editor\", null, frame, null);\n</code></pre>\n\n<p>And the error was:</p>\n\n<pre><code>java.lang.IllegalArgumentException: adding a window to a container\n</code></pre>\n\n<p>I tried some solutions like to insert the frame into a <code>JPanel</code> but also in vain. I have the idea to convert it into an <code>InternalJFrame</code> but I don't have any idea about that.</p>\n\n<p>Is that any solution to insert that <code>frame</code>?</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>I tried that soluion:</p>\n\n<pre><code> mainTabs.addTab(\"Editor\", null, frame.getContentPane(), null);\n</code></pre>\n\n<p>But i lost the <code>JMenuBar</code> that I added. </p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriverwait","thread-sleep"],"comments":[{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1700384348,"post_id":77508327,"comment_id":136646008,"body_markdown":"Sleep vs wait isn&#39;t causing the stale element reference, it&#39;s the re-render in between that&#39;s causing that.","body":"Sleep vs wait isn&#39;t causing the stale element reference, it&#39;s the re-render in between that&#39;s causing that."},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1700400004,"post_id":77508327,"comment_id":136647234,"body_markdown":"@pguardiario how come sleep resolves the issue and wait doesn&#39;t? Sorry if the questions sounds stupid enough, but I would like to understand better.","body":"@pguardiario how come sleep resolves the issue and wait doesn&#39;t? Sorry if the questions sounds stupid enough, but I would like to understand better."},{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1700443432,"post_id":77508327,"comment_id":136651557,"body_markdown":"You just got lucky with the timing (sleep took a little longer?)","body":"You just got lucky with the timing (sleep took a little longer?)"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1700502290,"post_id":77508327,"comment_id":136659906,"body_markdown":"Thread.sleep is there for a reason.  I wouldn&#39;t discount it as sometimes it&#39;s exactly what you want to do.  (And webdriverwaits use them inside their polling loops...)  You can functionize your method, catch thrown StaleElement Exceptions and re-call if needed.  Or use a while loop of some kind.  There are also new Expected Conditions you can use to check stalenessOf an element.  https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#stalenessOf(org.openqa.selenium.WebElement)  That will help you with case2.","body":"Thread.sleep is there for a reason.  I wouldn&#39;t discount it as sometimes it&#39;s exactly what you want to do.  (And webdriverwaits use them inside their polling loops...)  You can functionize your method, catch thrown StaleElement Exceptions and re-call if needed.  Or use a while loop of some kind.  There are also new Expected Conditions you can use to check stalenessOf an element.  <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#stalenessOf(org.openqa.selenium.WebElement)\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/supp&zwnj;&#8203;ort/&hellip;</a>  That will help you with case2."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1700503340,"post_id":77508327,"comment_id":136660082,"body_markdown":"basically if Stale Element Exception is thrown, it means you have to re-get the element reference.   See my answer here for what I use: https://stackoverflow.com/questions/57396173/merge-two-webelements-list/57400640#57400640  There&#39;s another technique which uses time() and loops for a certain amount of time (continues if stale element is caught) and breaks when a certain amount of time goes by...  see here: https://stackoverflow.com/questions/66820416/random-errors-using-wait-for-element-clickable-method-in-selenium/66820707#66820707","body":"basically if Stale Element Exception is thrown, it means you have to re-get the element reference.   See my answer here for what I use: <a href=\"https://stackoverflow.com/questions/57396173/merge-two-webelements-list/57400640#57400640\" title=\"merge two webelements list\">stackoverflow.com/questions/57396173/merge-two-webelements-l&zwnj;&#8203;ist/&hellip;</a>  There&#39;s another technique which uses time() and loops for a certain amount of time (continues if stale element is caught) and breaks when a certain amount of time goes by...  see here: <a href=\"https://stackoverflow.com/questions/66820416/random-errors-using-wait-for-element-clickable-method-in-selenium/66820707#66820707\" title=\"random errors using wait for element clickable method in selenium\">stackoverflow.com/questions/66820416/&hellip;</a>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1700503598,"post_id":77508327,"comment_id":136660130,"body_markdown":"as alternative method for scrolling, you could also use wheel actions if the driver supports it: https://www.selenium.dev/documentation/webdriver/actions_api/wheel/  For checking case 2 the idea is to get the element reference (findElement), do the action that changes it&#39;s state, use webdriverwait to wait for StalenessOf, then re-get the element and check it&#39;s color.","body":"as alternative method for scrolling, you could also use wheel actions if the driver supports it: <a href=\"https://www.selenium.dev/documentation/webdriver/actions_api/wheel/\" rel=\"nofollow noreferrer\">selenium.dev/documentation/webdriver/actions_api/wheel</a>  For checking case 2 the idea is to get the element reference (findElement), do the action that changes it&#39;s state, use webdriverwait to wait for StalenessOf, then re-get the element and check it&#39;s color."}],"answers":[{"comments":[{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1700400957,"post_id":77508441,"comment_id":136647302,"body_markdown":"I used the solution for problem 2 and it is now completely resolved. I am curious what does this part of code exactly mean and refer to &quot;**?? undefined**&quot;?","body":"I used the solution for problem 2 and it is now completely resolved. I am curious what does this part of code exactly mean and refer to &quot;<b>?? undefined</b>&quot;?"},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1700401078,"post_id":77508441,"comment_id":136647320,"body_markdown":"Regarding problem 1, I tried solution (changing scroll to actions.moveToElement), but now I am getting some other problems. Email gets typed in, but test ignores next step (clicking on Submit button) and breaks on assert wait, or if I remove assert, it passes successfully which doesn&#39;t make sense. Because click on the button didn&#39;t happen, I would at least expect some locator or intercept error, but there is none. Again, by adding sleep before button click, it works 100% which means general code is ok but something is missing or something is weird with page https://candymapper.com/. Any ideas?","body":"Regarding problem 1, I tried solution (changing scroll to actions.moveToElement), but now I am getting some other problems. Email gets typed in, but test ignores next step (clicking on Submit button) and breaks on assert wait, or if I remove assert, it passes successfully which doesn&#39;t make sense. Because click on the button didn&#39;t happen, I would at least expect some locator or intercept error, but there is none. Again, by adding sleep before button click, it works 100% which means general code is ok but something is missing or something is weird with page <a href=\"https://candymapper.com/\" rel=\"nofollow noreferrer\">candymapper.com</a>. Any ideas?"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1700516635,"post_id":77508441,"comment_id":136662109,"body_markdown":"@nerull7 `return expression ?? undefined` means that that if first expression is truthy then return first expression, else return undefined (Expected condition would try again in this case as far as undefined was returned).\n\nIn first case button has debounce logic on it, it is not clickable for a small time after valid data was entered. So you need to wait a bit for button to be clickable. Debounce is internal frontend logic, it doesn&#39;t handled with ElementToBeClickable.\n\nI suggest to use smth `pause` that I defined in updated snippet.","body":"@nerull7 <code>return expression ?? undefined</code> means that that if first expression is truthy then return first expression, else return undefined (Expected condition would try again in this case as far as undefined was returned).  In first case button has debounce logic on it, it is not clickable for a small time after valid data was entered. So you need to wait a bit for button to be clickable. Debounce is internal frontend logic, it doesn&#39;t handled with ElementToBeClickable.  I suggest to use smth <code>pause</code> that I defined in updated snippet."},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1700572882,"post_id":77508441,"comment_id":136669079,"body_markdown":"it works with pause thanks. From what I could see .pause() contains thread.sleep() in itself. Is it just more fancy looking method or they are different in the nature?","body":"it works with pause thanks. From what I could see .pause() contains thread.sleep() in itself. Is it just more fancy looking method or they are different in the nature?"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1700586588,"post_id":77508441,"comment_id":136671857,"body_markdown":"Pause is more fency thread.sleep() that can be called in Actions chain.\nIn any case you can&#39;t avoid usage for components with debounce-like logic. In automation you usually know timeout that was set up for component, so you include it in your test. In scrapping you can get to it by own research or use retry with wait.","body":"Pause is more fency thread.sleep() that can be called in Actions chain. In any case you can&#39;t avoid usage for components with debounce-like logic. In automation you usually know timeout that was set up for component, so you include it in your test. In scrapping you can get to it by own research or use retry with wait."}],"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700516401,"creation_date":1700336238,"answer_id":77508441,"question_id":77508327,"body_markdown":"In your first case your are getting `StaleElementReferenceException` as far as input is re-rendered after load. To avoid it, you should scroll to from first and wait for email input to be rendered.\r\n\r\nSend button itself has debounce (that means that it has delay on click after data was entered by fronted logic), so you should wait for some time after data was entered.\r\n\r\nFor scroll you can use `moveToElement` from Selenium `Actions`\r\n\r\n```java\r\nActions actions = new Actions(driver);\r\n\r\nWebDriverWait wdwait = new WebDriverWait(driver, 10);\r\ndriver.get(&quot;https://candymapper.com/&quot;);\r\nWebElement popupClose = driver.findElement(By.id(&quot;popup-widget37723-close-icon&quot;));\r\npopupClose.click();\r\nwdwait.until(ExpectedConditions.invisibilityOf(popupClose));\r\nWebElement form = driver.findElement(By.cssSelector(&quot;[data-aid=CONTACT_FORM_CONTAINER_REND]&quot;));\r\nactions.moveToElement(form).perform();\r\nWebElement formEmail = wdwait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;)));\r\nactions.moveToElement(formEmail).click().perform();\r\nString email = &quot;candy@candy.com&quot;;\r\nactions.sendKeys(email).sendKeys(Keys.TAB).sendKeys(Keys.TAB).pause(1000).sendKeys(Keys.ENTER).perform();\r\n```\r\n\r\nIn second case same as in first - you call assertion too early. Properties all applied async, so making assertion after changes can not work / be stable, as far as changes have not applied yet.\r\n\r\nThe solution here is to wait for property to be equal or wait for property does not change during some time interval.\r\nThere are many approaches how to do it in Java / JS, I share one of them to use combination of `ExpectedConditions` and JS functions\r\n\r\n\r\nThis function in JS returns your `border-color`.\r\n```js\r\nreturn window.getComputedStyle(document.querySelector(&#39;#userNumber&#39;))[&#39;border-color&#39;]\r\n```\r\n\r\nSo you can just call it inside `jsReturnsValue` expectations:\r\n```java\r\nWebElement icon = driver.findElement(By.id(&quot;userNumber&quot;));\r\nwdwait.until(ExpectedConditions.jsReturnsValue(&quot;return window.getComputedStyle(document.querySelector(&#39;#userNumber&#39;))[&#39;border-color&#39;] === &#39;rgb(220, 53, 69)&#39; ?? undefined&quot;));\r\n```","title":"How to replace Thread.sleep with WebDriverWait to avoid StaleElementReferenceException","body":"<p>In your first case your are getting <code>StaleElementReferenceException</code> as far as input is re-rendered after load. To avoid it, you should scroll to from first and wait for email input to be rendered.</p>\n<p>Send button itself has debounce (that means that it has delay on click after data was entered by fronted logic), so you should wait for some time after data was entered.</p>\n<p>For scroll you can use <code>moveToElement</code> from Selenium <code>Actions</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Actions actions = new Actions(driver);\n\nWebDriverWait wdwait = new WebDriverWait(driver, 10);\ndriver.get(&quot;https://candymapper.com/&quot;);\nWebElement popupClose = driver.findElement(By.id(&quot;popup-widget37723-close-icon&quot;));\npopupClose.click();\nwdwait.until(ExpectedConditions.invisibilityOf(popupClose));\nWebElement form = driver.findElement(By.cssSelector(&quot;[data-aid=CONTACT_FORM_CONTAINER_REND]&quot;));\nactions.moveToElement(form).perform();\nWebElement formEmail = wdwait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;)));\nactions.moveToElement(formEmail).click().perform();\nString email = &quot;candy@candy.com&quot;;\nactions.sendKeys(email).sendKeys(Keys.TAB).sendKeys(Keys.TAB).pause(1000).sendKeys(Keys.ENTER).perform();\n</code></pre>\n<p>In second case same as in first - you call assertion too early. Properties all applied async, so making assertion after changes can not work / be stable, as far as changes have not applied yet.</p>\n<p>The solution here is to wait for property to be equal or wait for property does not change during some time interval.\nThere are many approaches how to do it in Java / JS, I share one of them to use combination of <code>ExpectedConditions</code> and JS functions</p>\n<p>This function in JS returns your <code>border-color</code>.</p>\n<pre class=\"lang-js prettyprint-override\"><code>return window.getComputedStyle(document.querySelector('#userNumber'))['border-color']\n</code></pre>\n<p>So you can just call it inside <code>jsReturnsValue</code> expectations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement icon = driver.findElement(By.id(&quot;userNumber&quot;));\nwdwait.until(ExpectedConditions.jsReturnsValue(&quot;return window.getComputedStyle(document.querySelector('#userNumber'))['border-color'] === 'rgb(220, 53, 69)' ?? undefined&quot;));\n</code></pre>\n"}],"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77508441,"answer_count":1,"score":0,"last_activity_date":1700516401,"creation_date":1700333949,"question_id":77508327,"body_markdown":"**Problem 1:** I am using https://candymapper.com/ demo page to practice automation tests and I encountered the following problem. When I am using Javascript Executor .scrollIntoView, afterwards my element becomes stale and test breaks.\r\n\r\n1. As using Thread.sleep is not a good practice, is there any other way I can resolve the issue using wdwait? \r\n2. Also, is there another way to scroll to the element without using Javascript Executor?\r\n\r\n**Here is my code:**\r\n\r\n```\r\n@Test\r\n    public void candyMapperTest() throws InterruptedException {\r\n        driver.get(&quot;https://candymapper.com/&quot;);\r\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;popup-widget37723-close-icon&quot;)));\r\n        driver.findElement(By.id(&quot;popup-widget37723-close-icon&quot;)).click();\r\n        wdwait.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;))));\r\n        jse.executeScript(&quot;arguments[0].scrollIntoView(true)&quot;, driver.findElement(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;)));\r\n        //Thread.sleep(3000);\r\n        //wdwait.until(ExpectedConditions.refreshed(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;))));\r\n        //wdwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;)));\r\n        wdwait.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;))));\r\n        driver.findElement(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;)).sendKeys(&quot;candy@candy.com&quot;);\r\n        wdwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-aid=\\&quot;CONTACT_SUBMIT_BUTTON_REND\\&quot;]&quot;)));\r\n        driver.findElement(By.cssSelector(&quot;button[data-aid=\\&quot;CONTACT_SUBMIT_BUTTON_REND\\&quot;]&quot;)).click();\r\n        wdwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[contains(text(), \\&quot;inquiry\\&quot;)]&quot;)));\r\n        Assert.assertEquals(&quot;Thank you for your inquiry! We will get back to you within 48 hours.&quot;, driver.findElement(By.xpath(&quot;//span[contains(text(), \\&quot;inquiry\\&quot;)]&quot;)).getText());\r\n```\r\n\r\n**Problem 2:** I have a similar problem in another test on this page: (https://demoqa.com/automation-practice-form). I want to assert input field border color change to red. Selenium is too fast and does the assert before border color changes, so test breaks with rbg color mismatch. Also, I am using Javascript Executor to click on Submit button, because there is a google ads banner that cannot be closed or minimized (shows only on Chrome).\r\n\r\n[Submit button hiden behind the ad image](https://i.stack.imgur.com/svsmC.png)\r\n\r\n1. As using Thread.sleep is not a good practice, is there any other way I can resolve the issue using wdwait?\r\n2. Also, is there another way to click the element in this case without using Javascript Executor?\r\n\r\n**My code for Problem 2:**\r\n\r\n```\r\n@Test\r\n    public void demoQANegativeRegistrationTest() throws InterruptedException {\r\n        driver.get(&quot;https://demoqa.com/automation-practice-form&quot;);\r\n        driver.findElement(By.id(&quot;userNumber&quot;)).sendKeys(&quot;12345&quot;);\r\n        jse.executeScript(&quot;arguments[0].click();&quot;, driver.findElement(By.id(&quot;submit&quot;)));\r\n        Thread.sleep(2000);\r\n        //wdwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@class=\\&quot;was-validated\\&quot;]&quot;)));\r\n        WebElement icon = driver.findElement(By.id(&quot;userNumber&quot;));\r\n        String userNumberBorderColor = icon.getCssValue(&quot;border-color&quot;);\r\n        Assert.assertEquals(&quot;rgb(220, 53, 69)&quot;, userNumberBorderColor);\r\n```\r\n\r\n\r\n**Problem 1:** I tried introducting several different WebDriverWaits like presenceOfElement, elementToBeClickable, refreshed, but each time the result is the same (some of them are commented in the code above). If I add Thread.sleep after jse, test runs perfectly.\r\n\r\n**Problem 2:** I identified class element with value &quot;was-validated&quot; appears after border color changes to red, so I tried waiting on that before doing the assert, but every time test gets wrong rbg color (default grey one). You can find it commented in the code. When I introduce a short Thread.sleep before the assert, test runs perfectly every time. \r\n\r\nFor clicking on Submit button I tried going fullscreen and using actions.moveToElement but in both cases click would get intercepted by google ads banner. I only managed to perform the click through jse script.","title":"How to replace Thread.sleep with WebDriverWait to avoid StaleElementReferenceException","body":"<p><strong>Problem 1:</strong> I am using <a href=\"https://candymapper.com/\" rel=\"nofollow noreferrer\">https://candymapper.com/</a> demo page to practice automation tests and I encountered the following problem. When I am using Javascript Executor .scrollIntoView, afterwards my element becomes stale and test breaks.</p>\n<ol>\n<li>As using Thread.sleep is not a good practice, is there any other way I can resolve the issue using wdwait?</li>\n<li>Also, is there another way to scroll to the element without using Javascript Executor?</li>\n</ol>\n<p><strong>Here is my code:</strong></p>\n<pre><code>@Test\n    public void candyMapperTest() throws InterruptedException {\n        driver.get(&quot;https://candymapper.com/&quot;);\n        wdwait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;popup-widget37723-close-icon&quot;)));\n        driver.findElement(By.id(&quot;popup-widget37723-close-icon&quot;)).click();\n        wdwait.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;))));\n        jse.executeScript(&quot;arguments[0].scrollIntoView(true)&quot;, driver.findElement(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;)));\n        //Thread.sleep(3000);\n        //wdwait.until(ExpectedConditions.refreshed(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;))));\n        //wdwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;)));\n        wdwait.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;))));\n        driver.findElement(By.cssSelector(&quot;input[data-aid=\\&quot;CONTACT_FORM_EMAIL\\&quot;]&quot;)).sendKeys(&quot;candy@candy.com&quot;);\n        wdwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-aid=\\&quot;CONTACT_SUBMIT_BUTTON_REND\\&quot;]&quot;)));\n        driver.findElement(By.cssSelector(&quot;button[data-aid=\\&quot;CONTACT_SUBMIT_BUTTON_REND\\&quot;]&quot;)).click();\n        wdwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[contains(text(), \\&quot;inquiry\\&quot;)]&quot;)));\n        Assert.assertEquals(&quot;Thank you for your inquiry! We will get back to you within 48 hours.&quot;, driver.findElement(By.xpath(&quot;//span[contains(text(), \\&quot;inquiry\\&quot;)]&quot;)).getText());\n</code></pre>\n<p><strong>Problem 2:</strong> I have a similar problem in another test on this page: (<a href=\"https://demoqa.com/automation-practice-form\" rel=\"nofollow noreferrer\">https://demoqa.com/automation-practice-form</a>). I want to assert input field border color change to red. Selenium is too fast and does the assert before border color changes, so test breaks with rbg color mismatch. Also, I am using Javascript Executor to click on Submit button, because there is a google ads banner that cannot be closed or minimized (shows only on Chrome).</p>\n<p><a href=\"https://i.stack.imgur.com/svsmC.png\" rel=\"nofollow noreferrer\">Submit button hiden behind the ad image</a></p>\n<ol>\n<li>As using Thread.sleep is not a good practice, is there any other way I can resolve the issue using wdwait?</li>\n<li>Also, is there another way to click the element in this case without using Javascript Executor?</li>\n</ol>\n<p><strong>My code for Problem 2:</strong></p>\n<pre><code>@Test\n    public void demoQANegativeRegistrationTest() throws InterruptedException {\n        driver.get(&quot;https://demoqa.com/automation-practice-form&quot;);\n        driver.findElement(By.id(&quot;userNumber&quot;)).sendKeys(&quot;12345&quot;);\n        jse.executeScript(&quot;arguments[0].click();&quot;, driver.findElement(By.id(&quot;submit&quot;)));\n        Thread.sleep(2000);\n        //wdwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@class=\\&quot;was-validated\\&quot;]&quot;)));\n        WebElement icon = driver.findElement(By.id(&quot;userNumber&quot;));\n        String userNumberBorderColor = icon.getCssValue(&quot;border-color&quot;);\n        Assert.assertEquals(&quot;rgb(220, 53, 69)&quot;, userNumberBorderColor);\n</code></pre>\n<p><strong>Problem 1:</strong> I tried introducting several different WebDriverWaits like presenceOfElement, elementToBeClickable, refreshed, but each time the result is the same (some of them are commented in the code above). If I add Thread.sleep after jse, test runs perfectly.</p>\n<p><strong>Problem 2:</strong> I identified class element with value &quot;was-validated&quot; appears after border color changes to red, so I tried waiting on that before doing the assert, but every time test gets wrong rbg color (default grey one). You can find it commented in the code. When I introduce a short Thread.sleep before the assert, test runs perfectly every time.</p>\n<p>For clicking on Submit button I tried going fullscreen and using actions.moveToElement but in both cases click would get intercepted by google ads banner. I only managed to perform the click through jse script.</p>\n"},{"tags":["java","multithreading","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700523732,"post_id":77519056,"comment_id":136662955,"body_markdown":"You don&#39;t need any multithreading of your own. An RMI remote obejct is already multithreaded. Just implement the methods in the remote interface and let Nature take its course. RMI isn&#39;t thread-safe but you can make it so with `synchronized` whenever necessary. NB `Class.forName(&quot;org.postgresql.Driver&quot;)` has been obsolete since 2006. Remove. NB (2) A `Statement` is not a &#39;database&#39;. Don&#39;t misname variables.","body":"You don&#39;t need any multithreading of your own. An RMI remote obejct is already multithreaded. Just implement the methods in the remote interface and let Nature take its course. RMI isn&#39;t thread-safe but you can make it so with <code>synchronized</code> whenever necessary. NB <code>Class.forName(&quot;org.postgresql.Driver&quot;)</code> has been obsolete since 2006. Remove. NB (2) A <code>Statement</code> is not a &#39;database&#39;. Don&#39;t misname variables."}],"owner":{"account_id":29952187,"reputation":1,"user_id":22953973,"display_name":"Kilian Brioschi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700638066,"answer_count":0,"score":0,"last_activity_date":1700516269,"creation_date":1700516269,"question_id":77519056,"body_markdown":"I&#39;m trying to make a multiclient java server for a project school where i can get data or write data on a database(Postgres); i would like to make it with RMI but first of all i don&#39;t know if i can make it.\r\n\r\nMy idea was to make the server class and for every client connection create a thread where i pass to it an istance of the server class, but i think it could consume too many resources. Then,i thought, is it possible to share the same server class instance for every thread? is RMI Thread-safe or should i make it so?\r\n\r\n\r\nThis is only a basic RMI implementation with the database connection statament to connect to it \r\n\r\n```\r\npackage RMIServer;\r\nimport java.rmi.*;\r\nimport java.rmi.server.UnicastRemoteObject;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;`your text`\r\n\r\n\r\npublic class TestServer extends UnicastRemoteObject implements Iserver {\r\n\r\n    private Statement database = null;\r\n\r\n    public TestServer() throws RemoteException {\r\n\r\n        super();\r\n\r\n        try{\r\n            Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/data&quot;, &quot;postgres&quot;, &quot;1234&quot;);\r\n            database = con.createStatement();\r\n        }catch(SQLException | ClassNotFoundException e ){\r\n            System.out.println(&quot;impossibile stabilire una connessione con il database&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void request(String username, String password)throws SQLException{\r\n\r\n        database.execute(&quot;INSERT INTO TEST VALUES(&quot;+&quot;&#39;&quot;+username+&quot;&#39;,&quot;+&quot;&#39;&quot;+password+&quot;&#39;)&quot;);\r\n\r\n    }\r\n}\r\n```\r\n","title":"Java multiclient server with RMI","body":"<p>I'm trying to make a multiclient java server for a project school where i can get data or write data on a database(Postgres); i would like to make it with RMI but first of all i don't know if i can make it.</p>\n<p>My idea was to make the server class and for every client connection create a thread where i pass to it an istance of the server class, but i think it could consume too many resources. Then,i thought, is it possible to share the same server class instance for every thread? is RMI Thread-safe or should i make it so?</p>\n<p>This is only a basic RMI implementation with the database connection statament to connect to it</p>\n<pre><code>package RMIServer;\nimport java.rmi.*;\nimport java.rmi.server.UnicastRemoteObject;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;`your text`\n\n\npublic class TestServer extends UnicastRemoteObject implements Iserver {\n\n    private Statement database = null;\n\n    public TestServer() throws RemoteException {\n\n        super();\n\n        try{\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/data&quot;, &quot;postgres&quot;, &quot;1234&quot;);\n            database = con.createStatement();\n        }catch(SQLException | ClassNotFoundException e ){\n            System.out.println(&quot;impossibile stabilire una connessione con il database&quot;);\n        }\n\n    }\n\n    @Override\n    public void request(String username, String password)throws SQLException{\n\n        database.execute(&quot;INSERT INTO TEST VALUES(&quot;+&quot;'&quot;+username+&quot;',&quot;+&quot;'&quot;+password+&quot;')&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1700493499,"post_id":77517005,"comment_id":136658130,"body_markdown":"I don&#39;t think Spring can check requests on that level out of the box. You&#39;ll have to implement a check yourself for each part.","body":"I don&#39;t think Spring can check requests on that level out of the box. You&#39;ll have to implement a check yourself for each part."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1700494508,"post_id":77517005,"comment_id":136658335,"body_markdown":"I didn&#39;t completely understand your problem, do you want to restrict the size of all the files coming within a request to 20 MB?","body":"I didn&#39;t completely understand your problem, do you want to restrict the size of all the files coming within a request to 20 MB?"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1700495097,"post_id":77517005,"comment_id":136658460,"body_markdown":"You can refer to this answer (https://stackoverflow.com/a/2424824/7218656) to implement a check inside your custom filter (`org.springframework.web.servlet.HandlerInterceptor`).","body":"You can refer to this answer (<a href=\"https://stackoverflow.com/a/2424824/7218656\">stackoverflow.com/a/2424824/7218656</a>) to implement a check inside your custom filter (<code>org.springframework.web.servlet.HandlerInterceptor</code>)."},{"owner":{"account_id":29949908,"reputation":13,"user_id":22952272,"display_name":"Queen"},"score":0,"creation_date":1700495830,"post_id":77517005,"comment_id":136658589,"body_markdown":"@Arun Sudhakaran If I upload two files, then each file should be only 20MB.","body":"@Arun Sudhakaran If I upload two files, then each file should be only 20MB."}],"answers":[{"tags":[],"owner":{"account_id":15256398,"reputation":51,"user_id":11007977,"display_name":"Michael Chuks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700516247,"creation_date":1700516247,"answer_id":77519052,"question_id":77517005,"body_markdown":"Here&#39;s what you need to do:\r\n\r\n1. Use custom annotation validation for all your input with different sizes.\r\n2. Set a default maximum size that Spring Boot can accept in your application.properties\r\n\r\nTo achieve step 1, lets say you have an Entity: `Post`\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import jakarta.persistence.*;\r\n    \r\n    @Entity\r\n    public class Post {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String image;\r\n    \r\n        @Transient\r\n        private MultipartFile imageContent;\r\n    \r\n        // Getters and setters, constructors, etc.\r\n    }\r\n\r\nWith an interface, `PostImageSize`\r\n\r\n    import jakarta.validation.Constraint;\r\n    import jakarta.validation.Payload;\r\n    \r\n    import java.lang.annotation.*;\r\n    \r\n    @Documented\r\n    @Constraint(validatedBy = ImageSizeValidation.class)\r\n    @Target({ ElementType.METHOD, ElementType.FIELD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface PostImageSize {\r\n    \r\n        String message() default &quot;Invalid image size&quot;;\r\n    \r\n        long maxSize() default 5 * 1024 * 1024; // Default size is 5MB\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nand the class `ImageSizeValidation` mentioned in `PostImageSize` interface\r\n\r\n    import jakarta.validation.ConstraintValidator;\r\n    import jakarta.validation.ConstraintValidatorContext;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    public class ImageSizeValidation implements \r\n    ConstraintValidator&lt;PostImageSize, MultipartFile&gt; {\r\n    \r\n        private long maxSize;\r\n    \r\n        @Override\r\n        public void initialize(PostImageSize constraintAnnotation) {\r\n            this.maxSize = constraintAnnotation.maxSize();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(MultipartFile multipartFile, \r\n        ConstraintValidatorContext cxt) {\r\n            return multipartFile == null || multipartFile.getSize() &lt;= \r\n            maxSize;\r\n        }\r\n    }\r\n\r\nOnce you have set this up, using the annotation `@PostImageSize` in your entity will enable custom validation.\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Post {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String image;\r\n    \r\n        @PostImageSize(message = &quot;This image must not be more than 5MB&quot;)\r\n        private MultipartFile imageContent;\r\n    \r\n        // Getters and setters, constructors, etc.\r\n    }\r\n\r\nAfter this, you can customize the size according to the annotations you have and include in your entity which will enable it.\r\n\r\n    // Customizing to 1MB\r\n    @PostImageSize(message = &quot;This image must not be more than 1MB&quot;, maxSize = 1024 * 1024)\r\n    private MultipartFile imageContent;\r\n\r\nFor step 2 in your `application.properties`\r\n\r\n    # Multipart settings\r\n    spring.servlet.multipart.max-file-size=256MB\r\n    spring.servlet.multipart.max-request-size=256MB\r\n    spring.servlet.multipart.enabled=true\r\n\r\nGoodluck !!!","title":"How to limit the each file size of multipart file in springboot","body":"<p>Here's what you need to do:</p>\n<ol>\n<li>Use custom annotation validation for all your input with different sizes.</li>\n<li>Set a default maximum size that Spring Boot can accept in your application.properties</li>\n</ol>\n<p>To achieve step 1, lets say you have an Entity: <code>Post</code></p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport jakarta.persistence.*;\n\n@Entity\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String image;\n\n    @Transient\n    private MultipartFile imageContent;\n\n    // Getters and setters, constructors, etc.\n}\n</code></pre>\n<p>With an interface, <code>PostImageSize</code></p>\n<pre><code>import jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\n\nimport java.lang.annotation.*;\n\n@Documented\n@Constraint(validatedBy = ImageSizeValidation.class)\n@Target({ ElementType.METHOD, ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PostImageSize {\n\n    String message() default &quot;Invalid image size&quot;;\n\n    long maxSize() default 5 * 1024 * 1024; // Default size is 5MB\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>and the class <code>ImageSizeValidation</code> mentioned in <code>PostImageSize</code> interface</p>\n<pre><code>import jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\nimport org.springframework.web.multipart.MultipartFile;\n\npublic class ImageSizeValidation implements \nConstraintValidator&lt;PostImageSize, MultipartFile&gt; {\n\n    private long maxSize;\n\n    @Override\n    public void initialize(PostImageSize constraintAnnotation) {\n        this.maxSize = constraintAnnotation.maxSize();\n    }\n\n    @Override\n    public boolean isValid(MultipartFile multipartFile, \n    ConstraintValidatorContext cxt) {\n        return multipartFile == null || multipartFile.getSize() &lt;= \n        maxSize;\n    }\n}\n</code></pre>\n<p>Once you have set this up, using the annotation <code>@PostImageSize</code> in your entity will enable custom validation.</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String image;\n\n    @PostImageSize(message = &quot;This image must not be more than 5MB&quot;)\n    private MultipartFile imageContent;\n\n    // Getters and setters, constructors, etc.\n}\n</code></pre>\n<p>After this, you can customize the size according to the annotations you have and include in your entity which will enable it.</p>\n<pre><code>// Customizing to 1MB\n@PostImageSize(message = &quot;This image must not be more than 1MB&quot;, maxSize = 1024 * 1024)\nprivate MultipartFile imageContent;\n</code></pre>\n<p>For step 2 in your <code>application.properties</code></p>\n<pre><code># Multipart settings\nspring.servlet.multipart.max-file-size=256MB\nspring.servlet.multipart.max-request-size=256MB\nspring.servlet.multipart.enabled=true\n</code></pre>\n<p>Goodluck !!!</p>\n"}],"owner":{"account_id":29949908,"reputation":13,"user_id":22952272,"display_name":"Queen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77519052,"answer_count":1,"score":1,"last_activity_date":1700516247,"creation_date":1700493439,"question_id":77517005,"body_markdown":"I want to limit each file&#39;s size to 20 MB, but it&#39;s only validating the size of all the input files. I have used the below properties to limit the file size. Could you please guide me on how I can restrict the size of each file?\r\n\r\nspring:\r\n servlet:\r\n    multipart:\r\n      max-file-size: 20MB\r\n      max-request-size: 20MB\r\n      enabled: true","title":"How to limit the each file size of multipart file in springboot","body":"<p>I want to limit each file's size to 20 MB, but it's only validating the size of all the input files. I have used the below properties to limit the file size. Could you please guide me on how I can restrict the size of each file?</p>\n<p>spring:\nservlet:\nmultipart:\nmax-file-size: 20MB\nmax-request-size: 20MB\nenabled: true</p>\n"},{"tags":["java","exception","try-catch"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1700475864,"post_id":77515054,"comment_id":136654916,"body_markdown":"&quot;In the book OCP Java SE 8 Programmer II by Kathy Sierra, on page 203 it states that:&quot; please don&#39;t assume we have access to this resource. Put as much information in the question as we need to understand (and leave out information we don&#39;t need).","body":"&quot;In the book OCP Java SE 8 Programmer II by Kathy Sierra, on page 203 it states that:&quot; please don&#39;t assume we have access to this resource. Put as much information in the question as we need to understand (and leave out information we don&#39;t need)."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1700475902,"post_id":77515054,"comment_id":136654921,"body_markdown":"&quot;the output has suppressed exception of RuntimeException &quot;a&quot; and a main exception of IOException&quot; what leads you to this conclusion? https://ideone.com/ajduBr looks like a RuntimeException, with no suppressed exception, to me","body":"&quot;the output has suppressed exception of RuntimeException &quot;a&quot; and a main exception of IOException&quot; what leads you to this conclusion? <a href=\"https://ideone.com/ajduBr\" rel=\"nofollow noreferrer\">ideone.com/ajduBr</a> looks like a RuntimeException, with no suppressed exception, to me"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700476566,"post_id":77515054,"comment_id":136655023,"body_markdown":"&quot;the output has suppressed exception of RuntimeException &quot;a&quot; and a main exception of IOException&quot; No it doesn&#39;t. Can you show what the textual output is exactly?","body":"&quot;the output has suppressed exception of RuntimeException &quot;a&quot; and a main exception of IOException&quot; No it doesn&#39;t. Can you show what the textual output is exactly?"},{"owner":{"account_id":1922639,"reputation":497,"user_id":1733754,"display_name":"George"},"score":0,"creation_date":1700478064,"post_id":77515054,"comment_id":136655276,"body_markdown":"add this             System.out.println(&quot;catch main: &quot; + e);\n            for (Throwable t : e.getSuppressed()) {\n                System.out.println(&quot;catch suppressed &quot; + t);\n            } to the catch and it will show exception","body":"add this             System.out.println(&quot;catch main: &quot; + e);             for (Throwable t : e.getSuppressed()) {                 System.out.println(&quot;catch suppressed &quot; + t);             } to the catch and it will show exception"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700480712,"post_id":77515054,"comment_id":136655725,"body_markdown":"What question is &quot;D is correct&quot; answering? The question probably isn&#39;t asking about what exception has been caught by the `catch` block. So printing things in the `catch` block is not relevant at all.","body":"What question is &quot;D is correct&quot; answering? The question probably isn&#39;t asking about what exception has been caught by the <code>catch</code> block. So printing things in the <code>catch</code> block is not relevant at all."}],"answers":[{"comments":[{"owner":{"account_id":1922639,"reputation":497,"user_id":1733754,"display_name":"George"},"score":0,"creation_date":1700478183,"post_id":77515251,"comment_id":136655300,"body_markdown":"Have you read the book? Why do you think the authors thought otherwise?","body":"Have you read the book? Why do you think the authors thought otherwise?"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1700480631,"post_id":77515251,"comment_id":136655709,"body_markdown":"But the statement D is correct, in the main there is no suppressed exception. The suppression occurs only inside the try-with-ressource.","body":"But the statement D is correct, in the main there is no suppressed exception. The suppression occurs only inside the try-with-ressource."}],"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700477413,"creation_date":1700477413,"answer_id":77515251,"question_id":77515054,"body_markdown":"Yes the exception thrown by the `close` was suppressed by the one at the end of the try. You can observe this by examining the exception catched:\r\n\r\n    public void run() {\r\n        try (Lamb l = new Lamb();) {\r\n            throw new IOException();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;catched &quot;+e);\r\n            for (var ex: e.getSuppressed())\r\n                System.out.println(&quot;suppressed &quot;+ex);\r\n            throw new RuntimeException(&quot;c&quot;);\r\n        }\r\n    }\r\n\r\nWhose execution leads to:\r\n\r\n    catched java.io.IOException\r\n    suppressed java.lang.RuntimeException: a\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: c\r\n    \tat Animals.run(Animals.java:20)\r\n    \tat Animals.main(Animals.java:11)\r\n\r\nThe tutorial (see [Try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)) says:\r\n\r\n&gt; **Suppressed Exceptions**\r\n&gt; \r\n&gt; An exception can be thrown from the block of code associated with the\r\n&gt; try-with-resources statement. [...] If an exception is thrown from the try block\r\n&gt; and one or more exceptions are thrown from the try-with-resources\r\n&gt; statement, then those exceptions thrown from the try-with-resources\r\n&gt; statement are suppressed, and the exception thrown by the block is the\r\n&gt; one that is thrown [...]. You can\r\n&gt; retrieve these suppressed exceptions by calling the\r\n&gt; Throwable.getSuppressed method from the exception thrown by the try\r\n&gt; block.\r\n\r\n\r\nBut the `Runtime` thrown from the catch has no suppressed exception associated to it.","title":"Suppressed Exception","body":"<p>Yes the exception thrown by the <code>close</code> was suppressed by the one at the end of the try. You can observe this by examining the exception catched:</p>\n<pre><code>public void run() {\n    try (Lamb l = new Lamb();) {\n        throw new IOException();\n    } catch (Exception e) {\n        System.out.println(&quot;catched &quot;+e);\n        for (var ex: e.getSuppressed())\n            System.out.println(&quot;suppressed &quot;+ex);\n        throw new RuntimeException(&quot;c&quot;);\n    }\n}\n</code></pre>\n<p>Whose execution leads to:</p>\n<pre><code>catched java.io.IOException\nsuppressed java.lang.RuntimeException: a\nException in thread &quot;main&quot; java.lang.RuntimeException: c\n    at Animals.run(Animals.java:20)\n    at Animals.main(Animals.java:11)\n</code></pre>\n<p>The tutorial (see <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">Try-with-resources</a>) says:</p>\n<blockquote>\n<p><strong>Suppressed Exceptions</strong></p>\n<p>An exception can be thrown from the block of code associated with the\ntry-with-resources statement. [...] If an exception is thrown from the try block\nand one or more exceptions are thrown from the try-with-resources\nstatement, then those exceptions thrown from the try-with-resources\nstatement are suppressed, and the exception thrown by the block is the\none that is thrown [...]. You can\nretrieve these suppressed exceptions by calling the\nThrowable.getSuppressed method from the exception thrown by the try\nblock.</p>\n</blockquote>\n<p>But the <code>Runtime</code> thrown from the catch has no suppressed exception associated to it.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700515488,"creation_date":1700515488,"answer_id":77518982,"question_id":77515054,"body_markdown":"The question is : &quot;Which exceptions will the code throw?&quot;, this means what exceptions will reach to main function (and even to command line): \r\n\r\n    public static void main(String[] args) {\r\n\r\nso if you want to verify which answer is correct, you should put:\r\n\r\n    new Animals().run();\r\n\r\ninto `try {} catch {}` and read exception type and suppressed exceptions there. You will see then that its indeed of RuntimeException type with &quot;c&quot;, and no suppressed exceptions.","title":"Suppressed Exception","body":"<p>The question is : &quot;Which exceptions will the code throw?&quot;, this means what exceptions will reach to main function (and even to command line):</p>\n<pre><code>public static void main(String[] args) {\n</code></pre>\n<p>so if you want to verify which answer is correct, you should put:</p>\n<pre><code>new Animals().run();\n</code></pre>\n<p>into <code>try {} catch {}</code> and read exception type and suppressed exceptions there. You will see then that its indeed of RuntimeException type with &quot;c&quot;, and no suppressed exceptions.</p>\n"}],"owner":{"account_id":1922639,"reputation":497,"user_id":1733754,"display_name":"George"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700515488,"creation_date":1700475637,"question_id":77515054,"body_markdown":"In the book OCP Java SE 8 Programmer II by Kathy Sierra, on page 203 it states that:\r\n\r\n&quot;9. D is correct&quot; wherein is \r\n\r\nD. RuntimeException c with no suppressed exception\r\n\r\nbut when I try to run this code, the output has suppressed exception of RuntimeException &quot;a&quot; and a main exception of IOException. What am I missing?\r\n\r\n    import java.io.Closeable;\r\n    import java.io.IOException;\r\n    \r\n    public class Animals {\r\n        class Lamb implements Closeable {\r\n            public void close() {\r\n                throw new RuntimeException(&quot;a&quot;);\r\n            }\r\n        }\r\n        public static void main(String[] args) {\r\n            new Animals().run();\r\n        }\r\n        public void run() {\r\n            try (Lamb l = new Lamb();) {\r\n                throw new IOException();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;c&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAdding this code in the catch block will show suppressed exception and IOException\r\n\r\n        System.out.println(&quot;catch main: &quot; + e);\r\n        for (Throwable t : e.getSuppressed()) {\r\n            System.out.println(&quot;catch suppressed &quot; + t);\r\n        }","title":"Suppressed Exception","body":"<p>In the book OCP Java SE 8 Programmer II by Kathy Sierra, on page 203 it states that:</p>\n<p>&quot;9. D is correct&quot; wherein is</p>\n<p>D. RuntimeException c with no suppressed exception</p>\n<p>but when I try to run this code, the output has suppressed exception of RuntimeException &quot;a&quot; and a main exception of IOException. What am I missing?</p>\n<pre><code>import java.io.Closeable;\nimport java.io.IOException;\n\npublic class Animals {\n    class Lamb implements Closeable {\n        public void close() {\n            throw new RuntimeException(&quot;a&quot;);\n        }\n    }\n    public static void main(String[] args) {\n        new Animals().run();\n    }\n    public void run() {\n        try (Lamb l = new Lamb();) {\n            throw new IOException();\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;c&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Adding this code in the catch block will show suppressed exception and IOException</p>\n<pre><code>    System.out.println(&quot;catch main: &quot; + e);\n    for (Throwable t : e.getSuppressed()) {\n        System.out.println(&quot;catch suppressed &quot; + t);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","compression","7zip"],"comments":[{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":0,"creation_date":1700512007,"post_id":77518495,"comment_id":136661431,"body_markdown":"you tried using the `SvenZOutputFile(File fileName, char[] password)` constructor?","body":"you tried using the <code>SvenZOutputFile(File fileName, char[] password)</code> constructor?"},{"owner":{"account_id":16232132,"reputation":341,"user_id":11720605,"display_name":"TJ32"},"score":0,"creation_date":1700512621,"post_id":77518495,"comment_id":136661500,"body_markdown":"@SquidXTV yeah did ... &quot; cannot resolve constructor &#39;SevenZOutputFile(File, char[])&quot;","body":"@SquidXTV yeah did ... &quot; cannot resolve constructor &#39;SevenZOutputFile(File, char[])&quot;"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700513196,"post_id":77518495,"comment_id":136661580,"body_markdown":"Which libraries are you using? You didn&#39;t provide enough information for reproduction.","body":"Which libraries are you using? You didn&#39;t provide enough information for reproduction."},{"owner":{"account_id":16232132,"reputation":341,"user_id":11720605,"display_name":"TJ32"},"score":0,"creation_date":1700513391,"post_id":77518495,"comment_id":136661601,"body_markdown":"I&#39;m using zip4j here","body":"I&#39;m using zip4j here"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1700516940,"post_id":77518495,"comment_id":136662167,"body_markdown":"did you try these instructions from the front page of zip4j: https://github.com/srikanth-lingala/zip4j#creating-a-password-protected-zip-file--adding-files-to-an-existing-zip-with-password-protection","body":"did you try these instructions from the front page of zip4j: <a href=\"https://github.com/srikanth-lingala/zip4j#creating-a-password-protected-zip-file--adding-files-to-an-existing-zip-with-password-protection\" rel=\"nofollow noreferrer\">github.com/srikanth-lingala/&hellip;</a>"},{"owner":{"account_id":16232132,"reputation":341,"user_id":11720605,"display_name":"TJ32"},"score":0,"creation_date":1700632847,"post_id":77518495,"comment_id":136677098,"body_markdown":"@jtahlborn couldnt find any 7zip related content","body":"@jtahlborn couldnt find any 7zip related content"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1700666923,"post_id":77518495,"comment_id":136683080,"body_markdown":"i&#39;m confused, are you using zip4j or not?","body":"i&#39;m confused, are you using zip4j or not?"},{"owner":{"account_id":16232132,"reputation":341,"user_id":11720605,"display_name":"TJ32"},"score":0,"creation_date":1700688142,"post_id":77518495,"comment_id":136686765,"body_markdown":"I&#39;m using zip4j and my requirement is to compress the file as a 7zip file with password","body":"I&#39;m using zip4j and my requirement is to compress the file as a 7zip file with password"}],"answers":[{"comments":[{"owner":{"account_id":16232132,"reputation":341,"user_id":11720605,"display_name":"TJ32"},"score":0,"creation_date":1700515003,"post_id":77518862,"comment_id":136661887,"body_markdown":"so we can&#39;t compress a file using 7zip with password protection ?","body":"so we can&#39;t compress a file using 7zip with password protection ?"},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":0,"creation_date":1700581375,"post_id":77518862,"comment_id":136670822,"body_markdown":"Oups, just realized that you are using zip4j not apache commons-compress. My answer was for Apache Commons.","body":"Oups, just realized that you are using zip4j not apache commons-compress. My answer was for Apache Commons."}],"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700513902,"creation_date":1700513902,"answer_id":77518862,"question_id":77518495,"body_markdown":"Apache Compress can only read encrypted 7Zip file, you can&#39;t create one.\r\n\r\nRef : https://commons.apache.org/proper/commons-compress/limitations.html\r\n\r\n&gt; Encryption, solid compression and header compression are only\r\n&gt; supported when reading archives","title":"Compress using 7zip with password protection in java","body":"<p>Apache Compress can only read encrypted 7Zip file, you can't create one.</p>\n<p>Ref : <a href=\"https://commons.apache.org/proper/commons-compress/limitations.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-compress/limitations.html</a></p>\n<blockquote>\n<p>Encryption, solid compression and header compression are only\nsupported when reading archives</p>\n</blockquote>\n"}],"owner":{"account_id":16232132,"reputation":341,"user_id":11720605,"display_name":"TJ32"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700514909,"creation_date":1700509433,"question_id":77518495,"body_markdown":"I have an encrypted file which I need to compress using 7zip with password protection. I couldn&#39;t find any useful reference online. I&#39;m new to this zip file stuff and I don&#39;t have an idea if this approach is correct or not.\r\n\r\nThe code I have tried \r\n\r\n    public int zipSingleFile(String compressedDo1FilePath, File encryptedFile) throws IOException {\r\n        try{\r\n        SevenZOutputFile out = new SevenZOutputFile(encryptedFile);\r\n          SevenZArchiveEntry entry = out.createArchiveEntry(encryptedFile, compressedDo1FilePath);\r\n          out.putArchiveEntry(entry);\r\n          FileInputStream in = new FileInputStream(encryptedFile);\r\n          byte[] b = new byte[1024];\r\n          int count = 0;\r\n          while ((count = in.read(b)) &gt; 0) {\r\n            out.write(b, 0, count);\r\n          }\r\n          out.closeArchiveEntry();\r\n          return 0;\r\n        } catch (IOException exception) {\r\n          logger.info(&quot;exception occurred while zipping the file the file ={} &quot;, exception);\r\n          return 1;\r\n        }\r\n      }","title":"Compress using 7zip with password protection in java","body":"<p>I have an encrypted file which I need to compress using 7zip with password protection. I couldn't find any useful reference online. I'm new to this zip file stuff and I don't have an idea if this approach is correct or not.</p>\n<p>The code I have tried</p>\n<pre><code>public int zipSingleFile(String compressedDo1FilePath, File encryptedFile) throws IOException {\n    try{\n    SevenZOutputFile out = new SevenZOutputFile(encryptedFile);\n      SevenZArchiveEntry entry = out.createArchiveEntry(encryptedFile, compressedDo1FilePath);\n      out.putArchiveEntry(entry);\n      FileInputStream in = new FileInputStream(encryptedFile);\n      byte[] b = new byte[1024];\n      int count = 0;\n      while ((count = in.read(b)) &gt; 0) {\n        out.write(b, 0, count);\n      }\n      out.closeArchiveEntry();\n      return 0;\n    } catch (IOException exception) {\n      logger.info(&quot;exception occurred while zipping the file the file ={} &quot;, exception);\n      return 1;\n    }\n  }\n</code></pre>\n"},{"tags":["java","android","firebase","android-studio","google-play-services"],"comments":[{"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"score":0,"creation_date":1525704688,"post_id":50213523,"comment_id":87450902,"body_markdown":"Try these [troubleshooting tips](https://support.google.com/googleplay/answer/7513003?hl=en&amp;ref_topic=6046226).","body":"Try these <a href=\"https://support.google.com/googleplay/answer/7513003?hl=en&amp;ref_topic=6046226\" rel=\"nofollow noreferrer\">troubleshooting tips</a>."},{"owner":{"account_id":12954118,"reputation":1,"user_id":9365518,"display_name":"Chetan Sharma"},"score":0,"creation_date":1525777371,"post_id":50213523,"comment_id":87481277,"body_markdown":"Thanks Sir,But it doesn&#39;t work.","body":"Thanks Sir,But it doesn&#39;t work."},{"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"score":0,"creation_date":1525784296,"post_id":50213523,"comment_id":87485730,"body_markdown":"I think this is a problem with the devices or their network connection, not your app.  To troubleshoot, you could ask the users who are seeing the error if they have similar failures when they download other apps.","body":"I think this is a problem with the devices or their network connection, not your app.  To troubleshoot, you could ask the users who are seeing the error if they have similar failures when they download other apps."}],"answers":[{"comments":[{"owner":{"account_id":12954118,"reputation":1,"user_id":9365518,"display_name":"Chetan Sharma"},"score":0,"creation_date":1525712144,"post_id":50216321,"comment_id":87455027,"body_markdown":"Thanks ..but it was not helpful..i do google problems before asking them here..I already mentioned in the question that the problem is not due to the reasons you posted here..i have mentioned that it is occurring due to  some problem in the code..!..Thanks anyways","body":"Thanks ..but it was not helpful..i do google problems before asking them here..I already mentioned in the question that the problem is not due to the reasons you posted here..i have mentioned that it is occurring due to  some problem in the code..!..Thanks anyways"}],"tags":[],"owner":{"account_id":7698989,"reputation":13215,"user_id":5832311,"display_name":"abielita"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525702324,"creation_date":1525702324,"answer_id":50216321,"question_id":50213523,"body_markdown":"Error 504 is a gateway timeout error and is generally associated with slower internet connections or mobile data networks.You may check the provided methods in this [link](http://appslova.com/fix-android-504-error/).\r\n\r\n&gt;**Method 1:**\r\n\r\n&gt;- Go to Settings&gt;&gt; Application Manager or Apps&gt;&gt; Open All apps\r\n- From the list of apps find Google Play store &gt;&gt;Clear Data and Clear Cache\r\n- From the list of apps find Google Service Framework &gt;&gt; Clear Data and Clear Cache\r\n- Now install or update app from Google Play Store\r\n\r\n&gt;**Method 2:**\r\n\r\n&gt;- Go to system settings&gt;&gt; Accounts&gt;&gt;Google&gt;&gt;remove your Gmail account\r\n- Now from settings&gt;&gt;Apps&gt;&gt;All&gt; Force stop, Clear data and cache for Google Play Store, Google Service Framework and Download Manager (like in method 1)\r\n- Now again go to settings&gt;&gt; Accounts&gt;&gt;Google&gt;&gt;Add your gmail account\r\n- Restart your android and then accept all the Google terms and 504setup Google settings\r\n- Rerun Google Play Store and update or install your app.\r\n\r\nHope this helps!","title":"Error _504 or error - 108 appears when app is downloaded from Google PlayStore ..What can be causes of this errors in the code?","body":"<p>Error 504 is a gateway timeout error and is generally associated with slower internet connections or mobile data networks.You may check the provided methods in this <a href=\"http://appslova.com/fix-android-504-error/\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<blockquote>\n  <p><strong>Method 1:</strong></p>\n  \n  <ul>\n  <li>Go to Settings>> Application Manager or Apps>> Open All apps</li>\n  <li>From the list of apps find Google Play store >>Clear Data and Clear Cache</li>\n  <li>From the list of apps find Google Service Framework >> Clear Data and Clear Cache</li>\n  <li>Now install or update app from Google Play Store</li>\n  </ul>\n  \n  <p><strong>Method 2:</strong></p>\n  \n  <ul>\n  <li>Go to system settings>> Accounts>>Google>>remove your Gmail account</li>\n  <li>Now from settings>>Apps>>All> Force stop, Clear data and cache for Google Play Store, Google Service Framework and Download Manager (like in method 1)</li>\n  <li>Now again go to settings>> Accounts>>Google>>Add your gmail account</li>\n  <li>Restart your android and then accept all the Google terms and 504setup Google settings</li>\n  <li>Rerun Google Play Store and update or install your app.</li>\n  </ul>\n</blockquote>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":12954118,"reputation":1,"user_id":9365518,"display_name":"Chetan Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1527133274,"creation_date":1527133274,"answer_id":50500557,"question_id":50213523,"body_markdown":"I later found the solution to the problem.\r\nIt was due to having &quot;Uppercase&quot; letters when naming packages inside the java folder.\r\nIt was not showing any parsing or  Error -504 or error - 108 in android version N or higher.\r\nBut the package was not able to install properly in android version lower than N.\r\n*The problem is that android studio never shows a warning when naming packages in java folder.. like it does in naming resources*\r\nALWAYS NAME PACKAGES INSIDE JAVA FOLDER IN lowercase*","title":"Error _504 or error - 108 appears when app is downloaded from Google PlayStore ..What can be causes of this errors in the code?","body":"<p>I later found the solution to the problem.\nIt was due to having \"Uppercase\" letters when naming packages inside the java folder.\nIt was not showing any parsing or  Error -504 or error - 108 in android version N or higher.\nBut the package was not able to install properly in android version lower than N.\n<em>The problem is that android studio never shows a warning when naming packages in java folder.. like it does in naming resources</em>\nALWAYS NAME PACKAGES INSIDE JAVA FOLDER IN lowercase*</p>\n"}],"owner":{"account_id":12954118,"reputation":1,"user_id":9365518,"display_name":"Chetan Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50500557,"answer_count":2,"score":0,"last_activity_date":1700514697,"creation_date":1525693788,"question_id":50213523,"body_markdown":"Error -504 or error - 108 appears when app is downloaded from playstore.\r\nI have worked hard for about an year and created an app.Signed it and uploaded it to playstore as Beta.I have debugged and tested the app - the app appears to work well.6/10 people were able to install the app and run it.But on remaining devices the app store shows error code - 504 and error code- 108.\r\nIn my gradle I gave support to a lot of devices with minSdk as low as 15.\r\nThe app appears to work fine in android 7.1 of one devices.But other devices with same android version and configs...are showing error during installation ..or download..!(code-504 / code -108)\r\nCan these error appear due to my gradle or mainifest files..?\r\n\r\nhere is snippet of my files:-\r\n\r\nbuild.gradle(project)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n        \r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.1.2&#39;\r\n            classpath &#39;com.google.gms:google-services:3.2.0&#39;\r\n            \r\n\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n            maven { url &quot;https://maven.google.com&quot; }\r\n        }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nbuild.gradle (Module)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n        compileSdkVersion 27\r\n        defaultConfig {\r\n            applicationId &quot;com.backbenchers.administrator.instaclone&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 27\r\n            versionCode 2\r\n            versionName &quot;1.1&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:27.0.2&#39;\r\n        implementation &#39;com.android.support:design:27.0.2&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.1&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n\r\n        //firebase core\r\n        implementation &#39;com.google.firebase:firebase-core:10.2.6&#39;\r\n\r\n        //bottom navigation view lib\r\n        implementation &#39;com.github.ittianyu:BottomNavigationViewEx:1.2.4&#39;\r\n\r\n        //circle image view\r\n        implementation &#39;de.hdodenhof:circleimageview:2.2.0&#39;\r\n\r\n        //universal image loader\r\n        implementation &#39;com.nostra13.universalimageloader:universal-image-loader:1.9.5&#39;\r\n\r\n        //firebase authentication\r\n        implementation &#39;com.google.firebase:firebase-auth:10.2.6&#39;\r\n\r\n        //firebase realtime database\r\n        implementation &#39;com.google.firebase:firebase-database:10.2.6&#39;\r\n\r\n        //firebase storage\r\n        implementation &#39;com.google.firebase:firebase-storage:10.2.6&#39;\r\n\r\n\r\n\r\n        //recycler view\r\n        implementation &#39;com.android.support:recyclerview-v7:27.0.2&#39;\r\n\r\n        //cardview\r\n        implementation &#39;com.android.support:cardview-v7:27.0.2&#39;\r\n\r\n\r\n\r\n        //custom tabs chrome lib\r\n        implementation &#39;com.android.support:customtabs:27.0.2&#39;\r\n\r\n        //play services auth\r\n        implementation &#39;com.google.android.gms:play-services-identity:10.2.6&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:10.2.6&#39;\r\n\r\n\r\n    ///there are more library implemetations...\r\n\r\n\r\n        //youtube api\r\n        implementation files(&#39;libs/YouTubeAndroidPlayerApi.jar&#39;)\r\n\r\n    }\r\n\r\n    ///Firebase\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nManifest.xml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.backbenchers.administrator.instaclone&quot;&gt;\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n        &lt;uses-sdk android:minSdkVersion=&quot;15&quot; android:targetSdkVersion=&quot;27&quot; /&gt;\r\n\r\n        &lt;application\r\n            android:name=&quot;.Utils.FirebaseOffline&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.Register.NewRegisterActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            \r\n            \r\n            .....all other activities used in the app...remains here\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nthe error is not due to some problem in catch or settings of these devices..I think something is wrong in the code..\r\n\r\nplease help me know the potential reasons in the code that can cause these errors...!...im lost....!\r\n\r\n","title":"Error _504 or error - 108 appears when app is downloaded from Google PlayStore ..What can be causes of this errors in the code?","body":"<p>Error -504 or error - 108 appears when app is downloaded from playstore.\nI have worked hard for about an year and created an app.Signed it and uploaded it to playstore as Beta.I have debugged and tested the app - the app appears to work well.6/10 people were able to install the app and run it.But on remaining devices the app store shows error code - 504 and error code- 108.\nIn my gradle I gave support to a lot of devices with minSdk as low as 15.\nThe app appears to work fine in android 7.1 of one devices.But other devices with same android version and configs...are showing error during installation ..or download..!(code-504 / code -108)\nCan these error appear due to my gradle or mainifest files..?</p>\n\n<p>here is snippet of my files:-</p>\n\n<p>build.gradle(project)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath 'com.android.tools.build:gradle:3.1.2'\r\n        classpath 'com.google.gms:google-services:3.2.0'\r\n        \r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url \"https://jitpack.io\" }\r\n        maven { url \"https://maven.google.com\" }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>build.gradle (Module)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>apply plugin: 'com.android.application'\r\n\r\nandroid {\r\n    compileSdkVersion 27\r\n    defaultConfig {\r\n        applicationId \"com.backbenchers.administrator.instaclone\"\r\n        minSdkVersion 15\r\n        targetSdkVersion 27\r\n        versionCode 2\r\n        versionName \"1.1\"\r\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\r\n    implementation 'com.android.support:appcompat-v7:27.0.2'\r\n    implementation 'com.android.support:design:27.0.2'\r\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\r\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\r\n\r\n    //firebase core\r\n    implementation 'com.google.firebase:firebase-core:10.2.6'\r\n\r\n    //bottom navigation view lib\r\n    implementation 'com.github.ittianyu:BottomNavigationViewEx:1.2.4'\r\n\r\n    //circle image view\r\n    implementation 'de.hdodenhof:circleimageview:2.2.0'\r\n\r\n    //universal image loader\r\n    implementation 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'\r\n\r\n    //firebase authentication\r\n    implementation 'com.google.firebase:firebase-auth:10.2.6'\r\n\r\n    //firebase realtime database\r\n    implementation 'com.google.firebase:firebase-database:10.2.6'\r\n\r\n    //firebase storage\r\n    implementation 'com.google.firebase:firebase-storage:10.2.6'\r\n\r\n\r\n\r\n    //recycler view\r\n    implementation 'com.android.support:recyclerview-v7:27.0.2'\r\n\r\n    //cardview\r\n    implementation 'com.android.support:cardview-v7:27.0.2'\r\n\r\n\r\n\r\n    //custom tabs chrome lib\r\n    implementation 'com.android.support:customtabs:27.0.2'\r\n\r\n    //play services auth\r\n    implementation 'com.google.android.gms:play-services-identity:10.2.6'\r\n    implementation 'com.google.android.gms:play-services-auth:10.2.6'\r\n\r\n\r\n///there are more library implemetations...\r\n\r\n\r\n    //youtube api\r\n    implementation files('libs/YouTubeAndroidPlayerApi.jar')\r\n\r\n}\r\n\r\n///Firebase\r\napply plugin: 'com.google.gms.google-services'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Manifest.xml</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    package=\"com.backbenchers.administrator.instaclone\"&gt;\r\n\r\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\r\n    &lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\r\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\r\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\r\n\r\n    &lt;uses-sdk android:minSdkVersion=\"15\" android:targetSdkVersion=\"27\" /&gt;\r\n\r\n    &lt;application\r\n        android:name=\".Utils.FirebaseOffline\"\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\"&gt;\r\n        &lt;activity android:name=\".Register.NewRegisterActivity\"&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\r\n\r\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        \r\n        \r\n        .....all other activities used in the app...remains here</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>the error is not due to some problem in catch or settings of these devices..I think something is wrong in the code..</p>\n\n<p>please help me know the potential reasons in the code that can cause these errors...!...im lost....!</p>\n"},{"tags":["java","curl","tomcat","azure-web-app-service","org.json"],"owner":{"account_id":8877902,"reputation":29,"user_id":6629315,"display_name":"Marc Hauschildt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700514621,"creation_date":1700514621,"question_id":77518909,"body_markdown":"I am building a Java web app (JDK 17, Jakarta EE, Tomcat 10) and am using org.json to make a curl request to the [PetFinder API](https://www.petfinder.com/developers/v2/docs/).\r\n\r\nWhen I deploy a .war file to my Azure Web App I get the Exception message: `JSONObject[&quot;access_token&quot;] not found`.\r\n\r\nI assume I need to configure Azure to communicate with https://api.petfinder.com, but I am stuck.\r\n\r\nHere is my code combined into a single servlet.\r\n\r\n```java\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.*;\r\nimport java.nio.charset.Charset;\r\n\r\n@WebServlet(name=&quot;petFinderServlet&quot;, value=&quot;/pet-finder&quot;)\r\npublic class PetFinderServlet extends HttpServlet {\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        try {\r\n            String api_key = &quot;my_api_key&quot;;\r\n            String api_secret = &quot;my_api_secret&quot;;\r\n            JSONObject json = readJsonFromCurl(String.format(&quot;curl -d \\&quot;grant_type=client_credentials&amp;client_id=%s&amp;client_secret=%s\\&quot; https://api.petfinder.com/v2/oauth2/token&quot;, api_key, api_secret));\r\n            String access_token = json.getString(&quot;access_token&quot;);\r\n            JSONObject json2 = JSONReader.readJsonFromCurl(String.format(&quot;curl -H \\&quot;Authorization: Bearer %s\\&quot; GET https://api.petfinder.com/v2/animals?type=dog&quot;, access_token));\r\n            // more code\r\n        } catch (IOException e) {\r\n\r\n        }\r\n    }\r\n\r\n    private static String readAll(Reader rd) throws IOException {\r\n        StringBuilder sb = new StringBuilder();\r\n        int cp;\r\n        while ((cp = rd.read()) != -1) {\r\n            sb.append((char) cp);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    public static JSONObject readJsonFromCurl(String curl) throws IOException, JSONException {\r\n        Process process = Runtime.getRuntime().exec(curl);\r\n        InputStream is = process.getInputStream();\r\n        try {\r\n            BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(&quot;UTF-8&quot;)));\r\n            String jsonText = readAll(rd);\r\n            JSONObject json = new JSONObject(jsonText);\r\n            return json;\r\n        } finally {\r\n            is.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere are the dependencies from my pom.xml file.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20231013&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Azure Java Web App get JSONObject from curl request","body":"<p>I am building a Java web app (JDK 17, Jakarta EE, Tomcat 10) and am using org.json to make a curl request to the <a href=\"https://www.petfinder.com/developers/v2/docs/\" rel=\"nofollow noreferrer\">PetFinder API</a>.</p>\n<p>When I deploy a .war file to my Azure Web App I get the Exception message: <code>JSONObject[&quot;access_token&quot;] not found</code>.</p>\n<p>I assume I need to configure Azure to communicate with <a href=\"https://api.petfinder.com\" rel=\"nofollow noreferrer\">https://api.petfinder.com</a>, but I am stuck.</p>\n<p>Here is my code combined into a single servlet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.*;\nimport java.nio.charset.Charset;\n\n@WebServlet(name=&quot;petFinderServlet&quot;, value=&quot;/pet-finder&quot;)\npublic class PetFinderServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        try {\n            String api_key = &quot;my_api_key&quot;;\n            String api_secret = &quot;my_api_secret&quot;;\n            JSONObject json = readJsonFromCurl(String.format(&quot;curl -d \\&quot;grant_type=client_credentials&amp;client_id=%s&amp;client_secret=%s\\&quot; https://api.petfinder.com/v2/oauth2/token&quot;, api_key, api_secret));\n            String access_token = json.getString(&quot;access_token&quot;);\n            JSONObject json2 = JSONReader.readJsonFromCurl(String.format(&quot;curl -H \\&quot;Authorization: Bearer %s\\&quot; GET https://api.petfinder.com/v2/animals?type=dog&quot;, access_token));\n            // more code\n        } catch (IOException e) {\n\n        }\n    }\n\n    private static String readAll(Reader rd) throws IOException {\n        StringBuilder sb = new StringBuilder();\n        int cp;\n        while ((cp = rd.read()) != -1) {\n            sb.append((char) cp);\n        }\n        return sb.toString();\n    }\n\n    public static JSONObject readJsonFromCurl(String curl) throws IOException, JSONException {\n        Process process = Runtime.getRuntime().exec(curl);\n        InputStream is = process.getInputStream();\n        try {\n            BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(&quot;UTF-8&quot;)));\n            String jsonText = readAll(rd);\n            JSONObject json = new JSONObject(jsonText);\n            return json;\n        } finally {\n            is.close();\n        }\n    }\n}\n</code></pre>\n<p>Here are the dependencies from my pom.xml file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20231013&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700091404,"post_id":77491474,"comment_id":136613638,"body_markdown":"first of all there are som strange things in your code i need to ask about, subscribOn applies at subscribe time, and publish on applies when the code hits publishOn. Both of the schedulers you have added will make your code &quot;non-reactive&quot; so can you please motivate why you intentionally need these, because usually you use one or the other, and you only turn your code non-reactive in very specific cases. Second of all, why have you added `subscribe` when in reactive the its the caller (the client, e.g the webpage) that is the subscriber. So why are you subscribing to your own application.","body":"first of all there are som strange things in your code i need to ask about, subscribOn applies at subscribe time, and publish on applies when the code hits publishOn. Both of the schedulers you have added will make your code &quot;non-reactive&quot; so can you please motivate why you intentionally need these, because usually you use one or the other, and you only turn your code non-reactive in very specific cases. Second of all, why have you added <code>subscribe</code> when in reactive the its the caller (the client, e.g the webpage) that is the subscriber. So why are you subscribing to your own application."},{"owner":{"account_id":29912745,"reputation":1,"user_id":22923703,"display_name":"Ang Alex Li"},"score":0,"creation_date":1700101437,"post_id":77491474,"comment_id":136614557,"body_markdown":"@Toerktumlare 1. For the `publishOn` I was trying to switch the thread in another test and forgot to remove it. You are right, it&#39;s not required when there&#39;s `subscribeOn`. 2. I refer to [this answer](https://stackoverflow.com/questions/57566465/fire-and-forget-with-reactor) and actually `subscribe` makes the errorHandler get triggered (at least the code before http request is executed), if Mono.fromCallable() doesn&#39;t end with subscribe() nothing will happen for the error handler.","body":"@Toerktumlare 1. For the <code>publishOn</code> I was trying to switch the thread in another test and forgot to remove it. You are right, it&#39;s not required when there&#39;s <code>subscribeOn</code>. 2. I refer to <a href=\"https://stackoverflow.com/questions/57566465/fire-and-forget-with-reactor\">this answer</a> and actually <code>subscribe</code> makes the errorHandler get triggered (at least the code before http request is executed), if Mono.fromCallable() doesn&#39;t end with subscribe() nothing will happen for the error handler."},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1700302404,"post_id":77491474,"comment_id":136639675,"body_markdown":"Your approach looks good to me and I don&#39;t understand the problem you are facing. What do you mean by only the code before my http request is executed? Which part is exactly that? Maybe you should share how `handleIOSError` looks like? If it&#39;s returning a `Mono`, then you should use `defer` instead of `fromCallable`.","body":"Your approach looks good to me and I don&#39;t understand the problem you are facing. What do you mean by only the code before my http request is executed? Which part is exactly that? Maybe you should share how <code>handleIOSError</code> looks like? If it&#39;s returning a <code>Mono</code>, then you should use <code>defer</code> instead of <code>fromCallable</code>."},{"owner":{"account_id":29912745,"reputation":1,"user_id":22923703,"display_name":"Ang Alex Li"},"score":0,"creation_date":1700515202,"post_id":77491474,"comment_id":136661914,"body_markdown":"I got this issue solved after trying @MartinTarj&#225;nyi &#39;s solution. When I&#39;m using webclient to make the http call in `handleError` , it will return a `Mono` and since it is created too early before the subscription time, it will get executed outside the scope of the returned `Mono`.","body":"I got this issue solved after trying @MartinTarj&#225;nyi &#39;s solution. When I&#39;m using webclient to make the http call in <code>handleError</code> , it will return a <code>Mono</code> and since it is created too early before the subscription time, it will get executed outside the scope of the returned <code>Mono</code>."}],"owner":{"account_id":29912745,"reputation":1,"user_id":22923703,"display_name":"Ang Alex Li"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700514599,"creation_date":1700090744,"question_id":77491474,"body_markdown":"I&#39;m trying to handle the error in webflux, and the handling includes sending http request based on the error message from upstream to get the related info of error, and then operate in db with the request result.\r\n\r\nThis error handling takes a lot of time and is not related with my response, so I wanna return the upstream result immediately and run the error handling process in the background.\r\n\r\nI have tried with following code\r\n\r\n```\r\nreturn MyProcess()\r\n       .doOnSuccess(response -&gt; logSuccess())\r\n       .doOnError(e-&gt; Mono.fromCallable(()-&gt;apnsCallback.handleError(e.getMessage()))\r\n                          .subscribeOn(Schedulers.boundedElastic())\r\n                          .subscribe());\r\n```\r\n\r\nIt returns the result of `MyProcess()` immediately, and `handleError()` is triggered in the background, that looks good, but the problem is that only the code before my http request is executed.\r\n\r\nI have read [this answer](https://stackoverflow.com/questions/71647505/cant-handle-bad-request-using-doonerror-webflux) and tried with `onErrorResume`, all the code in `handleError()` is executed but my service doesn&#39;t return until the error handle complete.\r\n\r\nIs there anyway that I can make the http request in the background with webflux?\r\n\r\nPS: My handleError generally look like this:\r\n```\r\nlog.info(&quot;Some start log&quot;);\r\nSomeDBDao.update();\r\nreturn webClient.post()\r\n       .uri(someUrl)\r\n       .header(someHeader)\r\n       .body(Mono.just(myObj), myObj.class)\r\n       .retrieve()\r\n       .bodyToMono(String.class)\r\n       .timeout(Duration.ofSeconds(10));\r\n```","title":"Making http request in the background after return when using Webflux?","body":"<p>I'm trying to handle the error in webflux, and the handling includes sending http request based on the error message from upstream to get the related info of error, and then operate in db with the request result.</p>\n<p>This error handling takes a lot of time and is not related with my response, so I wanna return the upstream result immediately and run the error handling process in the background.</p>\n<p>I have tried with following code</p>\n<pre><code>return MyProcess()\n       .doOnSuccess(response -&gt; logSuccess())\n       .doOnError(e-&gt; Mono.fromCallable(()-&gt;apnsCallback.handleError(e.getMessage()))\n                          .subscribeOn(Schedulers.boundedElastic())\n                          .subscribe());\n</code></pre>\n<p>It returns the result of <code>MyProcess()</code> immediately, and <code>handleError()</code> is triggered in the background, that looks good, but the problem is that only the code before my http request is executed.</p>\n<p>I have read <a href=\"https://stackoverflow.com/questions/71647505/cant-handle-bad-request-using-doonerror-webflux\">this answer</a> and tried with <code>onErrorResume</code>, all the code in <code>handleError()</code> is executed but my service doesn't return until the error handle complete.</p>\n<p>Is there anyway that I can make the http request in the background with webflux?</p>\n<p>PS: My handleError generally look like this:</p>\n<pre><code>log.info(&quot;Some start log&quot;);\nSomeDBDao.update();\nreturn webClient.post()\n       .uri(someUrl)\n       .header(someHeader)\n       .body(Mono.just(myObj), myObj.class)\n       .retrieve()\n       .bodyToMono(String.class)\n       .timeout(Duration.ofSeconds(10));\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1700567782,"post_id":77518888,"comment_id":136668139,"body_markdown":"What if my validator was autowiring and using other beans. Could i mock them. I attempted to mock them using mockbean but for some reason setting expectations doesn&#39;t seem to work.","body":"What if my validator was autowiring and using other beans. Could i mock them. I attempted to mock them using mockbean but for some reason setting expectations doesn&#39;t seem to work."},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1700568579,"post_id":77518888,"comment_id":136668274,"body_markdown":"@user1555190, if you use WebMvcTest, then you can use `@MockBean(YourValidator.class)`, if simple test, then `@Mock` on your validator. If you want, add minimal example to your question, I will update an answer","body":"@user1555190, if you use WebMvcTest, then you can use <code>@MockBean(YourValidator.class)</code>, if simple test, then <code>@Mock</code> on your validator. If you want, add minimal example to your question, I will update an answer"},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1700569419,"post_id":77518888,"comment_id":136668434,"body_markdown":"@user1555190, also if my answer was helpful and acceptable for you, click accept it as answer.","body":"@user1555190, also if my answer was helpful and acceptable for you, click accept it as answer."},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":1,"creation_date":1700734935,"post_id":77518888,"comment_id":136691980,"body_markdown":"@user1555190, was this answer useful for you? It&#39;s always good to leave at least some feedback, as this will show that you respect the community members who are helping YOU resolve YOUR issue","body":"@user1555190, was this answer useful for you? It&#39;s always good to leave at least some feedback, as this will show that you respect the community members who are helping YOU resolve YOUR issue"}],"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700514311,"creation_date":1700514311,"answer_id":77518888,"question_id":77518574,"body_markdown":"You can test your controller in several ways. I would call the first method more common for testing the web layer in spring-boot application - using the [`@WebMvcTest`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html) annotation. From its docs:\r\n\r\n&gt; Using this annotation will disable full auto-configuration and instead\r\n&gt; apply only configuration relevant to MVC tests (i.e. @Controller,\r\n&gt; @ControllerAdvice, @JsonComponent, Converter/GenericConverter, Filter,\r\n&gt; WebMvcConfigurer and HandlerMethodArgumentResolver beans but not\r\n&gt; @Component, @Service or @Repository beans)\r\n\r\nBut in this case the validation is also enabled, which is good because we can also check our responses for invalid request bodies, so I would advise using this approach:\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.mock.web.MockMultipartFile;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\n\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@WebMvcTest(controllers = TestController.class)\r\nclass TestControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    void testImportFileValidFile() throws Exception {\r\n        // valid file\r\n        MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;test.txt&quot;, &quot;text/plain&quot;, &quot;Valid_data&quot;.getBytes());\r\n\r\n        mockMvc.perform(multipart(&quot;/api/v1/test/test&quot;)\r\n                        .file(file)\r\n                        .contentType(MediaType.MULTIPART_FORM_DATA))\r\n                .andExpect(status().isCreated());\r\n    }\r\n\r\n    @Test\r\n    void testImportFileInvalidFile() throws Exception {\r\n        // invalid file\r\n        MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;test.txt&quot;, &quot;text/plain&quot;, &quot;Invalid_data!&quot;.getBytes());\r\n\r\n        mockMvc.perform(multipart(&quot;/api/v1/test/test&quot;)\r\n                        .file(file)\r\n                        .contentType(MediaType.MULTIPART_FORM_DATA))\r\n                .andExpect(status().isUnprocessableEntity());\r\n    }\r\n}\r\n```\r\nHowever, if you want to test the controller class without any spring context at all, you can of course write a simple poor unit test. In this case validation isn&#39;t triggered indeed:\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.mock.web.MockMultipartFile;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nclass TestControllerTest {\r\n\r\n    private final TestController testController = new TestController();\r\n\r\n    @Test\r\n    void testImportFileWithValidFile() {\r\n        MockMultipartFile mockMultipartFile = new MockMultipartFile(&quot;file&quot;, &quot;test.txt&quot;, &quot;text/plain&quot;, &quot;Hello, World!&quot;.getBytes());\r\n\r\n        ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; response = testController.importFile(mockMultipartFile);\r\n\r\n        assertEquals(HttpStatus.CREATED, response.getStatusCode());\r\n    }\r\n}\r\n```","title":"Using Valid annotation to validate file in spring java","body":"<p>You can test your controller in several ways. I would call the first method more common for testing the web layer in spring-boot application - using the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"nofollow noreferrer\"><code>@WebMvcTest</code></a> annotation. From its docs:</p>\n<blockquote>\n<p>Using this annotation will disable full auto-configuration and instead\napply only configuration relevant to MVC tests (i.e. @Controller,\n@ControllerAdvice, @JsonComponent, Converter/GenericConverter, Filter,\nWebMvcConfigurer and HandlerMethodArgumentResolver beans but not\n@Component, @Service or @Repository beans)</p>\n</blockquote>\n<p>But in this case the validation is also enabled, which is good because we can also check our responses for invalid request bodies, so I would advise using this approach:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.mock.web.MockMultipartFile;\nimport org.springframework.test.web.servlet.MockMvc;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@WebMvcTest(controllers = TestController.class)\nclass TestControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    void testImportFileValidFile() throws Exception {\n        // valid file\n        MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;test.txt&quot;, &quot;text/plain&quot;, &quot;Valid_data&quot;.getBytes());\n\n        mockMvc.perform(multipart(&quot;/api/v1/test/test&quot;)\n                        .file(file)\n                        .contentType(MediaType.MULTIPART_FORM_DATA))\n                .andExpect(status().isCreated());\n    }\n\n    @Test\n    void testImportFileInvalidFile() throws Exception {\n        // invalid file\n        MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;test.txt&quot;, &quot;text/plain&quot;, &quot;Invalid_data!&quot;.getBytes());\n\n        mockMvc.perform(multipart(&quot;/api/v1/test/test&quot;)\n                        .file(file)\n                        .contentType(MediaType.MULTIPART_FORM_DATA))\n                .andExpect(status().isUnprocessableEntity());\n    }\n}\n</code></pre>\n<p>However, if you want to test the controller class without any spring context at all, you can of course write a simple poor unit test. In this case validation isn't triggered indeed:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.mock.web.MockMultipartFile;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nclass TestControllerTest {\n\n    private final TestController testController = new TestController();\n\n    @Test\n    void testImportFileWithValidFile() {\n        MockMultipartFile mockMultipartFile = new MockMultipartFile(&quot;file&quot;, &quot;test.txt&quot;, &quot;text/plain&quot;, &quot;Hello, World!&quot;.getBytes());\n\n        ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; response = testController.importFile(mockMultipartFile);\n\n        assertEquals(HttpStatus.CREATED, response.getStatusCode());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700514311,"creation_date":1700510450,"question_id":77518574,"body_markdown":"So i have the following set up in spring boot, and the validation handler does get triggered but im not sure how to test my controller in unit tests. The validator seems to get injected in and used. Is there anyway i can mock the validator?\r\n\r\n \r\n\r\n       @Validated\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/test)\r\n    @RequiredArgsConstructor\r\n    public class TestController {\r\n    \r\n        @PostMapping(/test)\r\n        public ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; importFile(\r\n                @ValidFile @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    \r\n           return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n    \r\n        }\r\n\r\n\r\n\r\n    @Documented\r\n    @Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = {FileValidator.class})\r\n    public @interface ValidFile {\r\n    \r\n        String message() default error somwehere ;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n\r\n    @RestControllerAdvice\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class ValidationExceptionHandler {\r\n    \r\n        @ExceptionHandler(ConstraintViolationException.class)\r\n        @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n        protected ValidationErrorResponse onConstraintValidationException(ConstraintViolationException e) {\r\n            ValidationErrorResponse error = new ValidationErrorResponse();\r\n            for (ConstraintViolation violation : e.getConstraintViolations()) {\r\n                error.getViolations().add(new Violation(violation.getPropertyPath().toString(), violation.getMessage()));\r\n            }\r\n            return error;\r\n        }\r\n    ..\r\n    }\r\n\r\n    public class FileValidator implements ConstraintValidator&lt;ValidFile, MultipartFile&gt; {\r\n    \r\n        @Override\r\n        public void initialize(ValidFile constraintAnnotation) { }\r\n    \r\n        @Override\r\n        public boolean isValid(MultipartFile multipartFile, ConstraintValidatorContext context) {\r\n            String contentType = multipartFile.getContentType();\r\n            return isSupportedContentType(contentType);\r\n        }\r\n    \r\n        private boolean isSupportedContentType(String contentType) {\r\n            return Arrays.stream(SUPPORTED_CONTENT_TYPES).anyMatch(contentType::equals);\r\n        }\r\n    }\r\n\r\nI have tried using:\r\n\r\n    context.disableDefaultConstraintViolation();\r\n\r\nbut if there are no violations than it flags as an error.. anyone have any ideas why this is happening?.. i keep getting the following:\r\n\r\nRequest processing failed: jakarta.validation.ValidationException: HV000033: At least one custom message must be created if the default error message gets disabled.","title":"Using Valid annotation to validate file in spring java","body":"<p>So i have the following set up in spring boot, and the validation handler does get triggered but im not sure how to test my controller in unit tests. The validator seems to get injected in and used. Is there anyway i can mock the validator?</p>\n<pre><code>   @Validated\n@RestController\n@RequestMapping(&quot;/api/v1/test)\n@RequiredArgsConstructor\npublic class TestController {\n\n    @PostMapping(/test)\n    public ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; importFile(\n            @ValidFile @RequestParam(&quot;file&quot;) MultipartFile file) {\n\n       return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n\n    }\n\n\n\n@Documented\n@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\n@Retention(RUNTIME)\n@Constraint(validatedBy = {FileValidator.class})\npublic @interface ValidFile {\n\n    String message() default error somwehere ;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\n\n@RestControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class ValidationExceptionHandler {\n\n    @ExceptionHandler(ConstraintViolationException.class)\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\n    protected ValidationErrorResponse onConstraintValidationException(ConstraintViolationException e) {\n        ValidationErrorResponse error = new ValidationErrorResponse();\n        for (ConstraintViolation violation : e.getConstraintViolations()) {\n            error.getViolations().add(new Violation(violation.getPropertyPath().toString(), violation.getMessage()));\n        }\n        return error;\n    }\n..\n}\n\npublic class FileValidator implements ConstraintValidator&lt;ValidFile, MultipartFile&gt; {\n\n    @Override\n    public void initialize(ValidFile constraintAnnotation) { }\n\n    @Override\n    public boolean isValid(MultipartFile multipartFile, ConstraintValidatorContext context) {\n        String contentType = multipartFile.getContentType();\n        return isSupportedContentType(contentType);\n    }\n\n    private boolean isSupportedContentType(String contentType) {\n        return Arrays.stream(SUPPORTED_CONTENT_TYPES).anyMatch(contentType::equals);\n    }\n}\n</code></pre>\n<p>I have tried using:</p>\n<pre><code>context.disableDefaultConstraintViolation();\n</code></pre>\n<p>but if there are no violations than it flags as an error.. anyone have any ideas why this is happening?.. i keep getting the following:</p>\n<p>Request processing failed: jakarta.validation.ValidationException: HV000033: At least one custom message must be created if the default error message gets disabled.</p>\n"},{"tags":["java","arrays","class","object","instances"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":4,"creation_date":1484520105,"post_id":41667133,"comment_id":70532401,"body_markdown":"Welcome to Stack Overflow!  It looks like you are asking for homework help.  While we have no issues with that per se, please observe these [dos and don&#39;ts](http://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions/338845#338845), and edit your question accordingly.","body":"Welcome to Stack Overflow!  It looks like you are asking for homework help.  While we have no issues with that per se, please observe these <a href=\"http://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions/338845#338845\">dos and don&#39;ts</a>, and edit your question accordingly."},{"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"score":0,"creation_date":1484523471,"post_id":41667133,"comment_id":70533221,"body_markdown":"&quot;I don&#39;t know how to add 11 players to the class and provide an input parameter for the player instance&quot; Use a `List&lt;Player&gt;` within `Team` which value would be provided to the `Team`&#39;s constructor.","body":"&quot;I don&#39;t know how to add 11 players to the class and provide an input parameter for the player instance&quot; Use a <code>List&lt;Player&gt;</code> within <code>Team</code> which value would be provided to the <code>Team</code>&#39;s constructor."}],"answers":[{"tags":[],"owner":{"account_id":9213875,"reputation":1258,"user_id":6845907,"accept_rate":100,"display_name":"Nick Ziebert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484520476,"creation_date":1484520476,"answer_id":41667195,"question_id":41667133,"body_markdown":"In your team class, below String team and String mascot, you need a player[] players array.  And in your constructor, pass in an array that contains all your players.","title":"Football Team: Objects and Classes","body":"<p>In your team class, below String team and String mascot, you need a player[] players array.  And in your constructor, pass in an array that contains all your players.</p>\n"},{"tags":[],"owner":{"account_id":9865874,"reputation":184,"user_id":7307371,"display_name":"Steve Gula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484520718,"creation_date":1484520718,"answer_id":41667229,"question_id":41667133,"body_markdown":"2 options - \r\n\r\nin your main method you create an array and add all of your players to it, and then pass it to your Team constructor, which sets an internal array to the value of the passed in array\r\n\r\nor your Team object has a method called something like addPlayer(player) which adds the player to your Team&#39;s internal player array. Then you invoke the method after each player creation. \r\n\r\nalso you should uppercase your class names.. like Team, Player, etc.  ","title":"Football Team: Objects and Classes","body":"<p>2 options - </p>\n\n<p>in your main method you create an array and add all of your players to it, and then pass it to your Team constructor, which sets an internal array to the value of the passed in array</p>\n\n<p>or your Team object has a method called something like addPlayer(player) which adds the player to your Team's internal player array. Then you invoke the method after each player creation. </p>\n\n<p>also you should uppercase your class names.. like Team, Player, etc.  </p>\n"},{"comments":[{"owner":{"account_id":8687863,"reputation":37,"user_id":6501677,"accept_rate":20,"display_name":"Olive Bassey"},"score":0,"creation_date":1484525308,"post_id":41667257,"comment_id":70533586,"body_markdown":"Where do the 11 players go?","body":"Where do the 11 players go?"},{"owner":{"account_id":6854823,"reputation":6150,"user_id":5270744,"accept_rate":76,"display_name":"m_callens"},"score":0,"creation_date":1484536808,"post_id":41667257,"comment_id":70535964,"body_markdown":"Once you add the 11 player objects to the `List&lt;Player&gt; players`, the list is passed to the `Team` class&#39;s `addPlayers` method that puts them into an `array` within the `Team` class for storing within the team.","body":"Once you add the 11 player objects to the <code>List&lt;Player&gt; players</code>, the list is passed to the <code>Team</code> class&#39;s <code>addPlayers</code> method that puts them into an <code>array</code> within the <code>Team</code> class for storing within the team."}],"tags":[],"owner":{"account_id":6854823,"reputation":6150,"user_id":5270744,"accept_rate":76,"display_name":"m_callens"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484520875,"creation_date":1484520875,"answer_id":41667257,"question_id":41667133,"body_markdown":"I didn&#39;t write the `getter` or `setter` methods for the instance variables, because I think you can figure those out. But from your description of the `Team` class, it could look something like this.\r\n\r\n    public class Team {\r\n    \r\n        //Instance variables and constants\r\n        private static final int MAX_PLAYERS = 11;\r\n        private Player[] players;\r\n        private String name;\r\n        private String mascot;\r\n    \r\n    \r\n        //Constructor\r\n        public Team(String name, String mascot) {\r\n            this.name = name;\r\n            this.mascot = mascot;\r\n            this.players = new Player[MAX_PLAYERS];\r\n        }\r\n    \r\n    \r\n        //Add players to the team\r\n        public void addPlayers(List&lt;Player&gt; p) {\r\n            //Ensures only 11 players are added to the team\r\n            for (int i = 0; i &lt; MAX_PLAYERS; i++)\r\n                this.players[i] = p.get(i);\r\n        }\r\n    \r\n    }\r\n\r\nTo match the implementation of this `Team` class, your `App` should be more of something like this, to be able to pass an already build `List&lt;Player&gt;` to the `addPlayers` method of the `Team` class...\r\n\r\n    public class app {\r\n        public static void main(String[] args) {\r\n            List&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n    \r\n            players.add(new Player(/* Parameters for each player object */));\r\n            //Not writing this 11 times!\r\n            \r\n            Team team = new Team(&quot;The Bulldogs&quot;, &quot;Bull Dog&quot;);\r\n            team.addPlayers(players);\r\n        }\r\n    }","title":"Football Team: Objects and Classes","body":"<p>I didn't write the <code>getter</code> or <code>setter</code> methods for the instance variables, because I think you can figure those out. But from your description of the <code>Team</code> class, it could look something like this.</p>\n\n<pre><code>public class Team {\n\n    //Instance variables and constants\n    private static final int MAX_PLAYERS = 11;\n    private Player[] players;\n    private String name;\n    private String mascot;\n\n\n    //Constructor\n    public Team(String name, String mascot) {\n        this.name = name;\n        this.mascot = mascot;\n        this.players = new Player[MAX_PLAYERS];\n    }\n\n\n    //Add players to the team\n    public void addPlayers(List&lt;Player&gt; p) {\n        //Ensures only 11 players are added to the team\n        for (int i = 0; i &lt; MAX_PLAYERS; i++)\n            this.players[i] = p.get(i);\n    }\n\n}\n</code></pre>\n\n<p>To match the implementation of this <code>Team</code> class, your <code>App</code> should be more of something like this, to be able to pass an already build <code>List&lt;Player&gt;</code> to the <code>addPlayers</code> method of the <code>Team</code> class...</p>\n\n<pre><code>public class app {\n    public static void main(String[] args) {\n        List&lt;Player&gt; players = new ArrayList&lt;&gt;();\n\n        players.add(new Player(/* Parameters for each player object */));\n        //Not writing this 11 times!\n\n        Team team = new Team(\"The Bulldogs\", \"Bull Dog\");\n        team.addPlayers(players);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9459231,"reputation":445,"user_id":7033530,"display_name":"thetraveller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484521050,"creation_date":1484521050,"answer_id":41667290,"question_id":41667133,"body_markdown":"Since you have 11 players,It would better of creating an array of objects as they share similar properties. Like this:\r\n\r\n    Player[] players = new Player[11];\r\n\r\nAnd then add their parameters and then pass it to the constructor class of app, which takes a list of a palyers.","title":"Football Team: Objects and Classes","body":"<p>Since you have 11 players,It would better of creating an array of objects as they share similar properties. Like this:</p>\n\n<pre><code>Player[] players = new Player[11];\n</code></pre>\n\n<p>And then add their parameters and then pass it to the constructor class of app, which takes a list of a palyers.</p>\n"},{"tags":[],"owner":{"account_id":5024210,"reputation":177,"user_id":4036740,"accept_rate":60,"display_name":"Maninder Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484524264,"creation_date":1484523826,"answer_id":41667616,"question_id":41667133,"body_markdown":"I have updated your solution. This is how you can create your classes and method.\r\nPlease see inline comments for more information. Hope this helps.\r\n\r\n\r\n\t\t\t\tpublic class App {\r\n\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\t//creating a team\r\n\t\t\t\tTeam t1 = new Team(&quot;Penn State&quot;, &quot;Nittany Lions&quot;);\r\n\t\t\t\t\r\n\t\t\t\tPlayer pl1 = new Player(&quot;Christian&quot;, &quot;Campbell&quot;, &quot;Cornerback&quot;, &quot;Alabama&quot;, &quot;Central&quot;);\r\n\t\t\t\tSystem.out.println(pl1.getInfo());\r\n\t\t\t\t//for example, adding one player to the team t1 created above.\r\n\t\t\t\r\n\t\t\t\tt1.addPlayer(pl1); \r\n\t\t\t\t//you can repeat this step for adding all the teams\r\n\t\t\t\t\r\n\t\t\t\tPlayer pl2 = new Player(&quot;Marcus&quot;, &quot;Allen&quot;, &quot;Safety&quot;, &quot;Maryland&quot;, &quot;Dr. Henry A. Wise, Jr&quot;);\r\n\t\t\t\tSystem.out.println(pl2.getInfo());\r\n\t\t\t\tPlayer pl3 = new Player(&quot;Tommy&quot;, &quot;Stevens&quot;, &quot;Quarterback&quot;, &quot;Indiana&quot;, &quot;Decatur Central&quot;);\r\n\t\t\t\tSystem.out.println(pl3.getInfo());\r\n\t\t\t\tPlayer pl4 = new Player(&quot;Nyeem&quot;, &quot;Wartman-White&quot;, &quot;Linebacker&quot;, &quot;Pennsylvania&quot;, &quot;Valley View&quot;);\r\n\t\t\t\tSystem.out.println(pl4.getInfo());\r\n\t\t\t\tPlayer pl5 = new Player(&quot;George&quot;, &quot;Foreman&quot;, &quot;Defensive back&quot;, &quot;Georgia&quot;, &quot;Parkview&quot;);\r\n\t\t\t\tSystem.out.println(pl5.getInfo());\r\n\t\t\t\tPlayer pl6 = new Player(&quot;Andre&quot;, &quot;Robinson&quot;, &quot;Right Tackle&quot;, &quot;Pennsylvania&quot;, &quot;Bishop McDevitt&quot;);\r\n\t\t\t\tSystem.out.println(pl6.getInfo());\r\n\t\t\t\tPlayer pl7 = new Player(&quot;Malik&quot;, &quot;Golden&quot;, &quot;Safety&quot;, &quot;Connecticut&quot;, &quot;Chesire Academy&quot;);\r\n\t\t\t\tSystem.out.println(pl7.getInfo());\r\n\t\t\t\tPlayer pl8 = new Player(&quot;Koa&quot;, &quot;Farmer&quot;, &quot;Safety&quot;, &quot;California&quot;, &quot;Notre Dame&quot;);\r\n\t\t\t\tSystem.out.println(pl8.getInfo());\r\n\t\t\t\tPlayer pl9 = new Player(&quot;Jake&quot;, &quot;Zembiec&quot;, &quot;Quarterback&quot;, &quot;New York&quot;, &quot;Aquinas Institute&quot;);\r\n\t\t\t\tSystem.out.println(pl9.getInfo());\r\n\t\t\t\tPlayer pl10 = new Player(&quot;Brandon&quot;, &quot;Polk&quot;, &quot;Wide Receiver&quot;, &quot;Virgina&quot;, &quot;Briar Woods&quot;);\r\n\t\t\t\tSystem.out.println(pl10.getInfo());\r\n\t\t\t\tPlayer pl11 = new Player(&quot;Trace&quot;, &quot;McSorley&quot;, &quot;Quarterback&quot;, &quot;Virgina&quot;, &quot;Briar Woods&quot;);\r\n\t\t\t\tSystem.out.println(pl11.getInfo());\r\n\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tclass Player {\r\n\t\t\r\n\t\t\t// ---------Declaring attributes----\r\n\t\t\tString firstName;\r\n\t\t\tString lastName;\r\n\t\t\tString position;\r\n\t\t\tString State;\r\n\t\t\tString Highschool;\r\n\t\t\r\n\t\t\tPlayer(String inf_firstName, String inf_lastName, String inf_position, String inf_State, String inf_Highschool) {\r\n\t\t\t\tfirstName = inf_firstName;\r\n\t\t\t\tlastName = inf_lastName;\r\n\t\t\t\tposition = inf_position;\r\n\t\t\t\tState = inf_State;\r\n\t\t\t\tHighschool = inf_Highschool;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tString getInfo() {\r\n\t\t\t\treturn &quot;Name: &quot; + firstName + &quot; &quot; + lastName + &quot;, &quot; + &quot;position: &quot; + position + &quot;, State: &quot; + State\r\n\t\t\t\t\t\t+ &quot;, High School: &quot; + Highschool;\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tclass Team {\r\n\t\t\r\n\t\t\tString team = &quot;Penn State&quot;;\r\n\t\t\tString mascot = &quot;Nittany Lions&quot;;\r\n\t\t\tPlayer[] playerArr = new Player[11]; //this is the main part. Array of players (11)\r\n\t\t\tint playerCount = 0;  //this will track the number of players being added to the team.\r\n\t\t\r\n\t\t\tTeam(String inf_team, String inf_mascot) {\r\n\t\t\t\tteam = inf_team;\r\n\t\t\t\tmascot = inf_mascot;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic String getInfo() {\r\n\t\t\t\treturn &quot;Team Name: &quot; + team + &quot;Team Mascot: &quot; + mascot;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Using this method you can add the players to the Player Array.\r\n\t\t\tpublic void addPlayer(Player player) {\r\n\t\t\t\tif (playerCount &lt; 11) {\r\n\t\t\t\t\tplayerArr[playerCount] = player;\r\n\t\t\t\t\tplayerCount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Using this method you find out a player with specific quality \r\n\t\t\t//like in this case its position of the player.\r\n\t\t\t//you can iterate through the Players Array and can find out the player \r\n\t\t\t// And after that you can get the information of the player by your method \r\n\t\t\t//getInfo\r\n\t\t\tpublic String getPlayerInfo(String positionTemp) {\r\n\t\t\t\tPlayer player = null;\r\n\t\t\t\tfor (int i = 0; i &lt; playerArr.length; i++) {\r\n\t\t\t\t\tif (playerArr[i].position.equals(positionTemp)) {\r\n\t\t\t\t\t\tplayer = playerArr[i];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn player.getInfo();\r\n\t\t\t}\r\n\t\t}","title":"Football Team: Objects and Classes","body":"<p>I have updated your solution. This is how you can create your classes and method.\nPlease see inline comments for more information. Hope this helps.</p>\n\n<pre><code>            public class App {\n        public static void main(String[] args) {\n            //creating a team\n            Team t1 = new Team(\"Penn State\", \"Nittany Lions\");\n\n            Player pl1 = new Player(\"Christian\", \"Campbell\", \"Cornerback\", \"Alabama\", \"Central\");\n            System.out.println(pl1.getInfo());\n            //for example, adding one player to the team t1 created above.\n\n            t1.addPlayer(pl1); \n            //you can repeat this step for adding all the teams\n\n            Player pl2 = new Player(\"Marcus\", \"Allen\", \"Safety\", \"Maryland\", \"Dr. Henry A. Wise, Jr\");\n            System.out.println(pl2.getInfo());\n            Player pl3 = new Player(\"Tommy\", \"Stevens\", \"Quarterback\", \"Indiana\", \"Decatur Central\");\n            System.out.println(pl3.getInfo());\n            Player pl4 = new Player(\"Nyeem\", \"Wartman-White\", \"Linebacker\", \"Pennsylvania\", \"Valley View\");\n            System.out.println(pl4.getInfo());\n            Player pl5 = new Player(\"George\", \"Foreman\", \"Defensive back\", \"Georgia\", \"Parkview\");\n            System.out.println(pl5.getInfo());\n            Player pl6 = new Player(\"Andre\", \"Robinson\", \"Right Tackle\", \"Pennsylvania\", \"Bishop McDevitt\");\n            System.out.println(pl6.getInfo());\n            Player pl7 = new Player(\"Malik\", \"Golden\", \"Safety\", \"Connecticut\", \"Chesire Academy\");\n            System.out.println(pl7.getInfo());\n            Player pl8 = new Player(\"Koa\", \"Farmer\", \"Safety\", \"California\", \"Notre Dame\");\n            System.out.println(pl8.getInfo());\n            Player pl9 = new Player(\"Jake\", \"Zembiec\", \"Quarterback\", \"New York\", \"Aquinas Institute\");\n            System.out.println(pl9.getInfo());\n            Player pl10 = new Player(\"Brandon\", \"Polk\", \"Wide Receiver\", \"Virgina\", \"Briar Woods\");\n            System.out.println(pl10.getInfo());\n            Player pl11 = new Player(\"Trace\", \"McSorley\", \"Quarterback\", \"Virgina\", \"Briar Woods\");\n            System.out.println(pl11.getInfo());\n\n        }\n\n    }\n\n    class Player {\n\n        // ---------Declaring attributes----\n        String firstName;\n        String lastName;\n        String position;\n        String State;\n        String Highschool;\n\n        Player(String inf_firstName, String inf_lastName, String inf_position, String inf_State, String inf_Highschool) {\n            firstName = inf_firstName;\n            lastName = inf_lastName;\n            position = inf_position;\n            State = inf_State;\n            Highschool = inf_Highschool;\n        }\n\n        String getInfo() {\n            return \"Name: \" + firstName + \" \" + lastName + \", \" + \"position: \" + position + \", State: \" + State\n                    + \", High School: \" + Highschool;\n        }\n\n    }\n\n    class Team {\n\n        String team = \"Penn State\";\n        String mascot = \"Nittany Lions\";\n        Player[] playerArr = new Player[11]; //this is the main part. Array of players (11)\n        int playerCount = 0;  //this will track the number of players being added to the team.\n\n        Team(String inf_team, String inf_mascot) {\n            team = inf_team;\n            mascot = inf_mascot;\n        }\n\n        public String getInfo() {\n            return \"Team Name: \" + team + \"Team Mascot: \" + mascot;\n        }\n\n        //Using this method you can add the players to the Player Array.\n        public void addPlayer(Player player) {\n            if (playerCount &lt; 11) {\n                playerArr[playerCount] = player;\n                playerCount++;\n            }\n        }\n\n        //Using this method you find out a player with specific quality \n        //like in this case its position of the player.\n        //you can iterate through the Players Array and can find out the player \n        // And after that you can get the information of the player by your method \n        //getInfo\n        public String getPlayerInfo(String positionTemp) {\n            Player player = null;\n            for (int i = 0; i &lt; playerArr.length; i++) {\n                if (playerArr[i].position.equals(positionTemp)) {\n                    player = playerArr[i];\n                    break;\n                }\n            }\n            return player.getInfo();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8687863,"reputation":37,"user_id":6501677,"accept_rate":20,"display_name":"Olive Bassey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1700514225,"creation_date":1484520039,"question_id":41667133,"body_markdown":"Before I post my question, I just need guidance on how to improve my java program, because I want to learn.\r\n\r\nSo, for my assignment I need to:\r\n\r\nCreate 3 classes, app, football player and football team.The application (app) will use the two other classes (football player and football team).\r\n\r\napp will\r\n\r\n - create 11 football players (you can place them in an array or\r\n   ArrayList)\r\n - create a football team using the players above use the\r\n   football team instance (object) to display the information requested\r\n   in the lab \r\n\r\na football player class\r\n\r\n - has at least 5 attributes from\r\n   your choice a method that returns the complete info about the player\r\n\r\na football team class has\r\n\r\n - a name and a mascot\r\n - 11 football players\r\n - any other attributes (optional)\r\n - a method that displays all the information about a team including:\r\n  - name\r\n  - mascot, and information on each player in the team\r\n  - a method that display information about a specific player in the team using an input parameter such as the player position or player number for instance. For instance, from team A, displays information about the quarterback, or display information about player number 5.\r\n\r\nI&#39;m confused with my team class. I don&#39;t know how to add 11 players to the class and provide an input parameter for the player instance. I&#39;m unsure about my app class because I don&#39;t know how to use the football team instance (object) to display the information requested in the lab.\r\n\r\nHere is what I have so far\r\n\r\n    public class app {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n            player pl1 = new player\r\n            (&quot;Christian&quot;,&quot;Campbell&quot;,&quot;Cornerback&quot;,&quot;Alabama&quot;,&quot;Central&quot;);\r\n                System.out.println(pl1.getInfo());\r\n            \r\n            player pl2 = new player\r\n            (&quot;Marcus&quot;,&quot;Allen&quot;,&quot;Safety&quot;,&quot;Maryland&quot;,&quot;Dr. Henry A. Wise, Jr&quot;);\r\n                System.out.println(pl2.getInfo());\r\n            player pl3 = new player \r\n            (&quot;Tommy&quot;,&quot;Stevens&quot;,&quot;Quarterback&quot;,&quot;Indiana&quot;,&quot;Decatur Central&quot;);\r\n                System.out.println(pl3.getInfo());\r\n            player pl4 = new player\r\n            (&quot;Nyeem&quot;,&quot;Wartman-White&quot;, &quot;Linebacker&quot;,&quot;Pennsylvania&quot;,&quot;Valley View&quot;);\r\n                 System.out.println(pl4.getInfo());\r\n            player pl5 = new player\r\n            (&quot;George&quot;, &quot;Foreman&quot;, &quot;Defensive back&quot;,&quot;Georgia&quot;,&quot;Parkview&quot;);\r\n                System.out.println(pl5.getInfo());\r\n            player pl6 = new player\r\n            (&quot;Andre&quot;,&quot;Robinson&quot;,&quot;Right Tackle&quot;,&quot;Pennsylvania&quot;,&quot;Bishop McDevitt&quot;);\r\n                System.out.println(pl6.getInfo());\r\n            player pl7 = new player\r\n            (&quot;Malik&quot;,&quot;Golden&quot;,&quot;Safety&quot;,&quot;Connecticut&quot;,&quot;Chesire Academy&quot;);\r\n                System.out.println(pl7.getInfo());\r\n            player pl8 = new player\r\n            (&quot;Koa&quot;,&quot;Farmer&quot;,&quot;Safety&quot;,&quot;California&quot;,&quot;Notre Dame&quot;);\r\n                System.out.println(pl8.getInfo());\r\n            player pl9 = new player\r\n            (&quot;Jake&quot;,&quot;Zembiec&quot;,&quot;Quarterback&quot;,&quot;New York&quot;,&quot;Aquinas Institute&quot;);\r\n                System.out.println(pl9.getInfo());\r\n            player pl10 = new player\r\n            (&quot;Brandon&quot;,&quot;Polk&quot;,&quot;Wide Receiver&quot;,&quot;Virgina&quot;,&quot;Briar Woods&quot;);\r\n                System.out.println(pl10.getInfo());\r\n            player pl11 = new player\r\n            (&quot;Trace&quot;,&quot;McSorley&quot;,&quot;Quarterback&quot;,&quot;Virgina&quot;,&quot;Briar Woods&quot;);\r\n                System.out.println(pl11.getInfo());\r\n\t\r\n                      \r\n\t  }\r\n  \r\n    }\r\n\r\n    public class player {\r\n    \r\n\r\n    \r\n\t//---------Declaring attributes----\r\n\t\tString firstName;\r\n\t\tString lastName;\r\n        String position;\r\n        String State;\r\n        String Highschool;\r\n        \r\n\t\r\n        player (String inf_firstName, String inf_lastName, String inf_position, String inf_State, String inf_Highschool)\r\n\t{\r\n        \t\tfirstName = inf_firstName;\r\n\t\t\t\tlastName = inf_lastName;\r\n\t\t\t\tposition = inf_position;\r\n        \t\tState = inf_State;\r\n                Highschool = inf_Highschool;\r\n        }\r\n\tString getInfo()\r\n\t{\r\n\t\treturn &quot;Name: &quot;+firstName+ &quot; &quot;+lastName+&quot;, &quot;+&quot;position: &quot; +position+ &quot;, State: &quot; +State+ &quot;, High School: &quot; +Highschool; \r\n\t  }\r\n\r\n    }\r\n\r\n    public class team {\r\n\r\n\t   String team = &quot;Penn State&quot;;\r\n       String mascot = &quot;Nittany Lions&quot;;\r\n    \r\n        team(String inf_team, String inf_mascot)\r\n          {\r\n            team = inf_team;\r\n            mascot = inf_mascot;                             \r\n          }\r\n    team t1 = new team(&quot;Penn State&quot;, &quot;Nittany Lions&quot;);\r\n    \r\n         String getInfo()\r\n         {\r\n           return &quot;Team Name: &quot;+team+ &quot;Team Mascot: &quot;+mascot;\r\n         }\r\n    }\r\n","title":"Football Team: Objects and Classes","body":"<p>Before I post my question, I just need guidance on how to improve my java program, because I want to learn.</p>\n\n<p>So, for my assignment I need to:</p>\n\n<p>Create 3 classes, app, football player and football team.The application (app) will use the two other classes (football player and football team).</p>\n\n<p>app will</p>\n\n<ul>\n<li>create 11 football players (you can place them in an array or\nArrayList)</li>\n<li>create a football team using the players above use the\nfootball team instance (object) to display the information requested\nin the lab </li>\n</ul>\n\n<p>a football player class</p>\n\n<ul>\n<li>has at least 5 attributes from\nyour choice a method that returns the complete info about the player</li>\n</ul>\n\n<p>a football team class has</p>\n\n<ul>\n<li>a name and a mascot</li>\n<li>11 football players</li>\n<li>any other attributes (optional)</li>\n<li>a method that displays all the information about a team including:\n\n<ul>\n<li>name</li>\n<li>mascot, and information on each player in the team</li>\n<li>a method that display information about a specific player in the team using an input parameter such as the player position or player number for instance. For instance, from team A, displays information about the quarterback, or display information about player number 5.</li>\n</ul></li>\n</ul>\n\n<p>I'm confused with my team class. I don't know how to add 11 players to the class and provide an input parameter for the player instance. I'm unsure about my app class because I don't know how to use the football team instance (object) to display the information requested in the lab.</p>\n\n<p>Here is what I have so far</p>\n\n<pre><code>public class app {\npublic static void main(String[] args)\n{\n        player pl1 = new player\n        (\"Christian\",\"Campbell\",\"Cornerback\",\"Alabama\",\"Central\");\n            System.out.println(pl1.getInfo());\n\n        player pl2 = new player\n        (\"Marcus\",\"Allen\",\"Safety\",\"Maryland\",\"Dr. Henry A. Wise, Jr\");\n            System.out.println(pl2.getInfo());\n        player pl3 = new player \n        (\"Tommy\",\"Stevens\",\"Quarterback\",\"Indiana\",\"Decatur Central\");\n            System.out.println(pl3.getInfo());\n        player pl4 = new player\n        (\"Nyeem\",\"Wartman-White\", \"Linebacker\",\"Pennsylvania\",\"Valley View\");\n             System.out.println(pl4.getInfo());\n        player pl5 = new player\n        (\"George\", \"Foreman\", \"Defensive back\",\"Georgia\",\"Parkview\");\n            System.out.println(pl5.getInfo());\n        player pl6 = new player\n        (\"Andre\",\"Robinson\",\"Right Tackle\",\"Pennsylvania\",\"Bishop McDevitt\");\n            System.out.println(pl6.getInfo());\n        player pl7 = new player\n        (\"Malik\",\"Golden\",\"Safety\",\"Connecticut\",\"Chesire Academy\");\n            System.out.println(pl7.getInfo());\n        player pl8 = new player\n        (\"Koa\",\"Farmer\",\"Safety\",\"California\",\"Notre Dame\");\n            System.out.println(pl8.getInfo());\n        player pl9 = new player\n        (\"Jake\",\"Zembiec\",\"Quarterback\",\"New York\",\"Aquinas Institute\");\n            System.out.println(pl9.getInfo());\n        player pl10 = new player\n        (\"Brandon\",\"Polk\",\"Wide Receiver\",\"Virgina\",\"Briar Woods\");\n            System.out.println(pl10.getInfo());\n        player pl11 = new player\n        (\"Trace\",\"McSorley\",\"Quarterback\",\"Virgina\",\"Briar Woods\");\n            System.out.println(pl11.getInfo());\n\n\n  }\n\n}\n\npublic class player {\n\n\n\n//---------Declaring attributes----\n    String firstName;\n    String lastName;\n    String position;\n    String State;\n    String Highschool;\n\n\n    player (String inf_firstName, String inf_lastName, String inf_position, String inf_State, String inf_Highschool)\n{\n            firstName = inf_firstName;\n            lastName = inf_lastName;\n            position = inf_position;\n            State = inf_State;\n            Highschool = inf_Highschool;\n    }\nString getInfo()\n{\n    return \"Name: \"+firstName+ \" \"+lastName+\", \"+\"position: \" +position+ \", State: \" +State+ \", High School: \" +Highschool; \n  }\n\n}\n\npublic class team {\n\n   String team = \"Penn State\";\n   String mascot = \"Nittany Lions\";\n\n    team(String inf_team, String inf_mascot)\n      {\n        team = inf_team;\n        mascot = inf_mascot;                             \n      }\nteam t1 = new team(\"Penn State\", \"Nittany Lions\");\n\n     String getInfo()\n     {\n       return \"Team Name: \"+team+ \"Team Mascot: \"+mascot;\n     }\n}\n</code></pre>\n"},{"tags":["java","json","maven"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1454495795,"post_id":35174623,"comment_id":58066418,"body_markdown":"Does that json jar contain the class in question? Is the jar present in your application&#39;s lib folder/classpath (Maven dependencies are a hint but not the answer)?","body":"Does that json jar contain the class in question? Is the jar present in your application&#39;s lib folder/classpath (Maven dependencies are a hint but not the answer)?"},{"owner":{"account_id":4129937,"reputation":458,"user_id":3388138,"accept_rate":47,"display_name":"LiamWilson94"},"score":0,"creation_date":1454496017,"post_id":35174623,"comment_id":58066593,"body_markdown":"Yes, the jar has the JSONObject class inside of it. My WebContent &gt; WEB-INF &gt; lib folder is empty.","body":"Yes, the jar has the JSONObject class inside of it. My WebContent &gt; WEB-INF &gt; lib folder is empty."},{"owner":{"account_id":1271353,"reputation":7198,"user_id":1237141,"accept_rate":38,"display_name":"thedarkpassenger"},"score":0,"creation_date":1454496599,"post_id":35174623,"comment_id":58067021,"body_markdown":"tomcat will pick up jars from the lib folder only. If it doesn&#39;t find the jar, then definitely it wil throw an exception.","body":"tomcat will pick up jars from the lib folder only. If it doesn&#39;t find the jar, then definitely it wil throw an exception."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1454502614,"post_id":35174623,"comment_id":58071153,"body_markdown":"@Anshul, Maven will during WAR build auto-fill `/WEB-INF/lib` based on `&lt;dependency&gt;` entries declared in `pom.xml`.","body":"@Anshul, Maven will during WAR build auto-fill <code>&#47;WEB-INF&#47;lib</code> based on <code>&lt;dependency&gt;</code> entries declared in <code>pom.xml</code>."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1454502711,"post_id":35174623,"comment_id":58071223,"body_markdown":"Liam, apparently the build/deploy is still dirty. Make sure you clean/rebuild everything. Otherwise let Maven produce a WAR file which you then inspect with a ZIP tool (JSON library must be in `/WEB-INF/lib` in there)","body":"Liam, apparently the build/deploy is still dirty. Make sure you clean/rebuild everything. Otherwise let Maven produce a WAR file which you then inspect with a ZIP tool (JSON library must be in <code>&#47;WEB-INF&#47;lib</code> in there)"},{"owner":{"account_id":4129937,"reputation":458,"user_id":3388138,"accept_rate":47,"display_name":"LiamWilson94"},"score":1,"creation_date":1454505582,"post_id":35174623,"comment_id":58073244,"body_markdown":"Hi, I have used the maven war plugin and in deployment assembly settings of my project I have selected to include maven dependencies in my WEB-INF/ lib folder. All is resolved. :)","body":"Hi, I have used the maven war plugin and in deployment assembly settings of my project I have selected to include maven dependencies in my WEB-INF/ lib folder. All is resolved. :)"}],"answers":[{"comments":[{"owner":{"account_id":4129937,"reputation":458,"user_id":3388138,"accept_rate":47,"display_name":"LiamWilson94"},"score":0,"creation_date":1454496198,"post_id":35174756,"comment_id":58066717,"body_markdown":"I have no problem converting my object to a JSONObject. My issue is that when run on the tomcat web server, the servlet does not pick up the jar despite it being in my maven pom.xml file.","body":"I have no problem converting my object to a JSONObject. My issue is that when run on the tomcat web server, the servlet does not pick up the jar despite it being in my maven pom.xml file."},{"owner":{"account_id":7749767,"reputation":1,"user_id":5866060,"display_name":"Arnish"},"score":0,"creation_date":1454586053,"post_id":35174756,"comment_id":58116063,"body_markdown":"first of all if you use eclipse IDE then press Alt + f5 and check on force update and apply that. \n\nthen you need to create war then apply \nSteps: right click on your project on left side then select Run as -&gt; maven install so that after process finish then find the war file in target folder of your project.\n\ncopy war file and paste into your tomcat server (c:/apache7.0/webapps) then go to c://apache/bin -&gt; open startup.exe and check it on your browser like (locahost:8080/(war_file_name).","body":"first of all if you use eclipse IDE then press Alt + f5 and check on force update and apply that.   then you need to create war then apply  Steps: right click on your project on left side then select Run as -&gt; maven install so that after process finish then find the war file in target folder of your project.  copy war file and paste into your tomcat server (c:/apache7.0/webapps) then go to c://apache/bin -&gt; open startup.exe and check it on your browser like (locahost:8080/(war_file_name)."}],"tags":[],"owner":{"account_id":7749767,"reputation":1,"user_id":5866060,"display_name":"Arnish"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1454496016,"creation_date":1454496016,"answer_id":35174756,"question_id":35174623,"body_markdown":"You can use jackson mapper for change object to json.\r\n\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.9.13&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    ","title":"java.lang.ClassNotFoundException: org.json.JSONObject","body":"<p>You can use jackson mapper for change object to json.</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n&lt;version&gt;1.9.13&lt;/version&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":7814532,"reputation":931,"user_id":5909698,"display_name":"Chidi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567519468,"creation_date":1567519468,"answer_id":57773378,"question_id":35174623,"body_markdown":"Using `gradle` and `eclipse` I worked around this problem by explicitly specifying the directory of the referenced libraries in the run command `java -cp build/libs/jarFile.jar:build/libs/* projectName.mainClassName` this is assuming the referenced `.jar` files are in `build/libs/*`","title":"java.lang.ClassNotFoundException: org.json.JSONObject","body":"<p>Using <code>gradle</code> and <code>eclipse</code> I worked around this problem by explicitly specifying the directory of the referenced libraries in the run command <code>java -cp build/libs/jarFile.jar:build/libs/* projectName.mainClassName</code> this is assuming the referenced <code>.jar</code> files are in <code>build/libs/*</code></p>\n"}],"owner":{"account_id":4129937,"reputation":458,"user_id":3388138,"accept_rate":47,"display_name":"LiamWilson94"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9905,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700514225,"creation_date":1454495731,"question_id":35174623,"body_markdown":"I am developing a WAR project in Eclipse Mars which is running on a Tomcat 7 application server. I am also using the Java JSON API to create JSONObjects from a REST web service.I have ensured that my `pom.xml` file includes the JSON dependency so that the correct jar is downloaded. \r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20151123&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.faces-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nThe jar can be seen in my project structure under\r\n\r\n`Java Resources &gt; Libraries &gt; Maven Dependencies &gt; json-20151123.jar`.\r\n\r\nHowever, when I run my code on the server I receive the following exception.\r\n\r\n        Feb 03, 2016 10:25:55 AM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Servlet.service() for servlet [Faces Servlet] in context with path [/JsonHotUkDealsApi] threw exception [org/json/JSONObject] with root cause\r\n    java.lang.ClassNotFoundException: org.json.JSONObject\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1856)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1705)\r\n    \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredMethods(Class.java:2531)\r\n    \tat java.lang.Class.privateGetPublicMethods(Class.java:2651)\r\n    \tat java.lang.Class.getMethods(Class.java:1467)\r\n    \tat java.beans.Introspector.getPublicDeclaredMethods(Introspector.java:1280)\r\n    \tat java.beans.Introspector.getTargetMethodInfo(Introspector.java:1141)\r\n    \tat java.beans.Introspector.getBeanInfo(Introspector.java:416)\r\n    \tat java.beans.Introspector.getBeanInfo(Introspector.java:163)\r\n    \tat com.sun.faces.mgbean.ManagedBeanBuilder.getPropertyDescriptor(ManagedBeanBuilder.java:386)\r\n    \tat com.sun.faces.mgbean.ManagedBeanBuilder.bakeBeanProperty(ManagedBeanBuilder.java:317)\r\n    \tat com.sun.faces.mgbean.ManagedBeanBuilder.bake(ManagedBeanBuilder.java:107)\r\n    \tat com.sun.faces.mgbean.BeanManager.preProcessBean(BeanManager.java:353)\r\n    \tat com.sun.faces.mgbean.BeanManager.create(BeanManager.java:262)\r\n    \tat com.sun.faces.el.ManagedBeanELResolver.resolveBean(ManagedBeanELResolver.java:244)\r\n    \tat com.sun.faces.el.ManagedBeanELResolver.getValue(ManagedBeanELResolver.java:116)\r\n    \tat com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)\r\n    \tat com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)\r\n    \tat org.apache.el.parser.AstIdentifier.getValue(AstIdentifier.java:71)\r\n    \tat org.apache.el.parser.AstValue.getTarget(AstValue.java:94)\r\n    \tat org.apache.el.parser.AstValue.invoke(AstValue.java:260)\r\n    \tat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:273)\r\n    \tat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\r\n    \tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\r\n    \tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\r\n    \tat javax.faces.component.UIViewAction.broadcast(UIViewAction.java:559)\r\n    \tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:790)\r\n    \tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1282)\r\n    \tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\r\n    \tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n    \tat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:198)\r\n    \tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:646)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:505)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:423)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1079)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\nAny help is appreciated.\r\nThanks.\r\n\r\n\r\n","title":"java.lang.ClassNotFoundException: org.json.JSONObject","body":"<p>I am developing a WAR project in Eclipse Mars which is running on a Tomcat 7 application server. I am also using the Java JSON API to create JSONObjects from a REST web service.I have ensured that my <code>pom.xml</code> file includes the JSON dependency so that the correct jar is downloaded.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20151123&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.faces-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n        &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2.12&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>The jar can be seen in my project structure under</p>\n<p><code>Java Resources &gt; Libraries &gt; Maven Dependencies &gt; json-20151123.jar</code>.</p>\n<p>However, when I run my code on the server I receive the following exception.</p>\n<pre><code>    Feb 03, 2016 10:25:55 AM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [Faces Servlet] in context with path [/JsonHotUkDealsApi] threw exception [org/json/JSONObject] with root cause\njava.lang.ClassNotFoundException: org.json.JSONObject\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1856)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1705)\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2531)\n    at java.lang.Class.privateGetPublicMethods(Class.java:2651)\n    at java.lang.Class.getMethods(Class.java:1467)\n    at java.beans.Introspector.getPublicDeclaredMethods(Introspector.java:1280)\n    at java.beans.Introspector.getTargetMethodInfo(Introspector.java:1141)\n    at java.beans.Introspector.getBeanInfo(Introspector.java:416)\n    at java.beans.Introspector.getBeanInfo(Introspector.java:163)\n    at com.sun.faces.mgbean.ManagedBeanBuilder.getPropertyDescriptor(ManagedBeanBuilder.java:386)\n    at com.sun.faces.mgbean.ManagedBeanBuilder.bakeBeanProperty(ManagedBeanBuilder.java:317)\n    at com.sun.faces.mgbean.ManagedBeanBuilder.bake(ManagedBeanBuilder.java:107)\n    at com.sun.faces.mgbean.BeanManager.preProcessBean(BeanManager.java:353)\n    at com.sun.faces.mgbean.BeanManager.create(BeanManager.java:262)\n    at com.sun.faces.el.ManagedBeanELResolver.resolveBean(ManagedBeanELResolver.java:244)\n    at com.sun.faces.el.ManagedBeanELResolver.getValue(ManagedBeanELResolver.java:116)\n    at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)\n    at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)\n    at org.apache.el.parser.AstIdentifier.getValue(AstIdentifier.java:71)\n    at org.apache.el.parser.AstValue.getTarget(AstValue.java:94)\n    at org.apache.el.parser.AstValue.invoke(AstValue.java:260)\n    at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:273)\n    at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\n    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\n    at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\n    at javax.faces.component.UIViewAction.broadcast(UIViewAction.java:559)\n    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:790)\n    at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1282)\n    at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:198)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:646)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:505)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:423)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1079)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n<p>Any help is appreciated.\nThanks.</p>\n"},{"tags":["java","logback"],"owner":{"account_id":4039039,"reputation":191,"user_id":3322417,"accept_rate":60,"display_name":"user3322417"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700514180,"creation_date":1700260047,"question_id":77504921,"body_markdown":"I am trying to create a custom Log format for my application. The idea is to create a library with a defined logback.xml where anyone using this library would generate logs in a particular log format (of my POJO where it includes properties instead that POJO of timestamp, level etc, plus a lot more details that are then used to help identify issues)\r\n\r\nAt the moment I am using Logback and I am creating my own provider to modify the format of the log.\r\n\r\nI have a POJO that I want to write into the log in the root of the log, but I cant seem to get it to work. As soon as I give the object a name it works.\r\n\r\n```\r\npublic class WhatDataJsonProvider extends AbstractFieldJsonProvider&lt;ILoggingEvent&gt; {\r\n\r\n  @Override\r\n  public void writeTo(JsonGenerator jsonGenerator, ILoggingEvent event) throws IOException {\r\n    if (event.getArgumentArray().length &gt; 0 &amp;&amp; (event.getArgumentArray()[0] instanceof MyObject)) {\r\n      jsonGenerator.writeObject(event.getArgumentArray()[0]);\r\n      // if I use this line instead it works\r\n      //jsonGenerator.writeObjectField(&quot;&quot;,event.getArgumentArray()[0]);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public void prepareForDeferredProcessing(ILoggingEvent event) {\r\n    super.prepareForDeferredProcessing(event);\r\n    event.getCallerData();\r\n  }\r\n}\r\n```\r\nmy logback.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE configuration&gt;\r\n\r\n&lt;configuration&gt;\r\n  &lt;import class=&quot;ch.qos.logback.core.ConsoleAppender&quot;/&gt;\r\n\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n      &lt;jsonGeneratorDecorator class=&quot;net.logstash.logback.decorate.PrettyPrintingJsonGeneratorDecorator&quot;/&gt;\r\n      &lt;providers&gt;\r\n        &lt;mdc/&gt;\r\n        &lt;provider class=&quot;com.onewelcome.multitenancy.logging.WhatDataJsonProvider&quot;/&gt;\r\n        &lt;/provider&gt;\r\n      &lt;/providers&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nWhen I turn debug on I can see thats its not happy I am not giving it a field name:\r\n```\r\ncom.fasterxml.jackson.core.JsonGenerationException: Can not start an object, expecting field name (context: Object)\r\n```\r\n\r\nI am wondering is there a way to write the object into the root of the JSON blob as I just want the format of the class without a name to it.\r\n\r\n**UPDATE**\r\nI did find that I can use [StructuredArguments][1] when creating my log e.g.\r\n```\r\nlogger.warn(&quot;sdfg&quot;,fields(pojo));\r\n```\r\n\r\nand now this is better as it includes the whole pojo in the log json blob root, but does anyone know how I can modify the values of the pojp e.g. timestamp or log_level in the provider or elsewhere?\r\n\r\n\r\n  [1]: https://javadoc.io/static/net.logstash.logback/logstash-logback-encoder/5.1/index.html?net/logstash/logback/argument/StructuredArguments.html","title":"Logback JSON write object to root of log","body":"<p>I am trying to create a custom Log format for my application. The idea is to create a library with a defined logback.xml where anyone using this library would generate logs in a particular log format (of my POJO where it includes properties instead that POJO of timestamp, level etc, plus a lot more details that are then used to help identify issues)</p>\n<p>At the moment I am using Logback and I am creating my own provider to modify the format of the log.</p>\n<p>I have a POJO that I want to write into the log in the root of the log, but I cant seem to get it to work. As soon as I give the object a name it works.</p>\n<pre><code>public class WhatDataJsonProvider extends AbstractFieldJsonProvider&lt;ILoggingEvent&gt; {\n\n  @Override\n  public void writeTo(JsonGenerator jsonGenerator, ILoggingEvent event) throws IOException {\n    if (event.getArgumentArray().length &gt; 0 &amp;&amp; (event.getArgumentArray()[0] instanceof MyObject)) {\n      jsonGenerator.writeObject(event.getArgumentArray()[0]);\n      // if I use this line instead it works\n      //jsonGenerator.writeObjectField(&quot;&quot;,event.getArgumentArray()[0]);\n    }\n  }\n\n  @Override\n  public void prepareForDeferredProcessing(ILoggingEvent event) {\n    super.prepareForDeferredProcessing(event);\n    event.getCallerData();\n  }\n}\n</code></pre>\n<p>my logback.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE configuration&gt;\n\n&lt;configuration&gt;\n  &lt;import class=&quot;ch.qos.logback.core.ConsoleAppender&quot;/&gt;\n\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n      &lt;jsonGeneratorDecorator class=&quot;net.logstash.logback.decorate.PrettyPrintingJsonGeneratorDecorator&quot;/&gt;\n      &lt;providers&gt;\n        &lt;mdc/&gt;\n        &lt;provider class=&quot;com.onewelcome.multitenancy.logging.WhatDataJsonProvider&quot;/&gt;\n        &lt;/provider&gt;\n      &lt;/providers&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;root&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>When I turn debug on I can see thats its not happy I am not giving it a field name:</p>\n<pre><code>com.fasterxml.jackson.core.JsonGenerationException: Can not start an object, expecting field name (context: Object)\n</code></pre>\n<p>I am wondering is there a way to write the object into the root of the JSON blob as I just want the format of the class without a name to it.</p>\n<p><strong>UPDATE</strong>\nI did find that I can use <a href=\"https://javadoc.io/static/net.logstash.logback/logstash-logback-encoder/5.1/index.html?net/logstash/logback/argument/StructuredArguments.html\" rel=\"nofollow noreferrer\">StructuredArguments</a> when creating my log e.g.</p>\n<pre><code>logger.warn(&quot;sdfg&quot;,fields(pojo));\n</code></pre>\n<p>and now this is better as it includes the whole pojo in the log json blob root, but does anyone know how I can modify the values of the pojp e.g. timestamp or log_level in the provider or elsewhere?</p>\n"},{"tags":["java","apache-poi","weblogic"],"comments":[{"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"score":0,"creation_date":1517739109,"post_id":48606668,"comment_id":84210150,"body_markdown":"I think your data streaming from server (chunk by chunk) while your report is generating. Wait until full response received from server. Then go for generating report. Or another concern somehow any router or switch closed the connection before receiving full data.","body":"I think your data streaming from server (chunk by chunk) while your report is generating. Wait until full response received from server. Then go for generating report. Or another concern somehow any router or switch closed the connection before receiving full data."},{"owner":{"account_id":6180810,"reputation":123,"user_id":4816374,"accept_rate":50,"display_name":"Mohammed Al-Hanabi"},"score":0,"creation_date":1517741412,"post_id":48606668,"comment_id":84210785,"body_markdown":"@AtaurRahmanMunna the file is only 27 KB. and what I did, I got the file stream then start the Workbook works  ...","body":"@AtaurRahmanMunna the file is only 27 KB. and what I did, I got the file stream then start the Workbook works  ..."},{"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"score":0,"creation_date":1517742809,"post_id":48606668,"comment_id":84211162,"body_markdown":"I think `com.ctc.wstx.stax.WstxEventFactory` exception tells us that the response xml can&#39;t unmarshall due to broken.","body":"I think <code>com.ctc.wstx.stax.WstxEventFactory</code> exception tells us that the response xml can&#39;t unmarshall due to broken."},{"owner":{"account_id":6180810,"reputation":123,"user_id":4816374,"accept_rate":50,"display_name":"Mohammed Al-Hanabi"},"score":0,"creation_date":1517761838,"post_id":48606668,"comment_id":84217105,"body_markdown":"@AtaurRahmanMunna do you have any idea to verify if the file is marshaled?","body":"@AtaurRahmanMunna do you have any idea to verify if the file is marshaled?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1517763925,"post_id":48606668,"comment_id":84217826,"body_markdown":"Looks like weblogic is shipping a broken XML parser. What happens if you swap it out for a standards-compliant one?","body":"Looks like weblogic is shipping a broken XML parser. What happens if you swap it out for a standards-compliant one?"},{"owner":{"account_id":6180810,"reputation":123,"user_id":4816374,"accept_rate":50,"display_name":"Mohammed Al-Hanabi"},"score":0,"creation_date":1517771565,"post_id":48606668,"comment_id":84220409,"body_markdown":"@Gagravarr how can I do that? the strange thing is that I am using only war lib. i am not using anything from the server class path","body":"@Gagravarr how can I do that? the strange thing is that I am using only war lib. i am not using anything from the server class path"},{"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"score":0,"creation_date":1517805516,"post_id":48606668,"comment_id":84228750,"body_markdown":"@MohammedAl-Hanabi, which one is your service connection (i.e `.wsdl` file) config? direct weblogic port or through any proxy (e.g `haproxy`) ?","body":"@MohammedAl-Hanabi, which one is your service connection (i.e <code>.wsdl</code> file) config? direct weblogic port or through any proxy (e.g <code>haproxy</code>) ?"}],"answers":[{"tags":[],"owner":{"account_id":6180810,"reputation":123,"user_id":4816374,"accept_rate":50,"display_name":"Mohammed Al-Hanabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517824522,"creation_date":1517824522,"answer_id":48619793,"question_id":48606668,"body_markdown":"We found one jar file causes the issue. the name is jsr173_api.jar. once this is deleted, all works fine. ","title":"POI 3.17 is not working on weblogic server","body":"<p>We found one jar file causes the issue. the name is jsr173_api.jar. once this is deleted, all works fine. </p>\n"}],"owner":{"account_id":6180810,"reputation":123,"user_id":4816374,"accept_rate":50,"display_name":"Mohammed Al-Hanabi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700513150,"creation_date":1517736824,"question_id":48606668,"body_markdown":"Good day, \r\n\r\nI tried to use POI in my application to load excel sheet. \r\n everything is working fine on local tomcat but when I move it to server WebLogic 12.2 that run on Java 8, I got an error as follow.\r\nI tried all versions from POI 3.8 to 3.17(latest) but none of them is working correctly on the server. \r\n\r\nError checking for java lib\r\n\r\n \r\n\r\n&gt; java.lang.ExceptionInInitializerError\r\n&gt; at org.apache.poi.openxml4j.opc.OPCPackage.init(OPCPackage.java:161)\r\n&gt; at org.apache.poi.openxml4j.opc.OPCPackage.&lt;init&gt;(OPCPackage.java:141)\r\n&gt; at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:97)\r\n&gt; at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:324)\r\n&gt; at org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\r\n&gt; Truncated. see log file for complete stacktrace\r\n&gt; \r\n&gt; Caused By: java.lang.ClassCastException:\r\n&gt; com.ctc.wstx.stax.WstxEventFactory cannot be cast to\r\n&gt; javax.xml.stream.XMLEventFactory\r\n&gt; at javax.xml.stream.XMLEventFactory.newInstance(XMLEventFactory.java:30)\r\n&gt; at org.apache.poi.openxml4j.opc.internal.marshallers.PackagePropertiesMarshaller.&lt;clinit&gt;(PackagePropertiesMarshaller.java:41)\r\n&gt; at org.apache.poi.openxml4j.opc.OPCPackage.init(OPCPackage.java:161)\r\n&gt; at org.apache.poi.openxml4j.opc.OPCPackage.&lt;init&gt;(OPCPackage.java:141)\r\n&gt; at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:97)\r\n&gt; Truncated. see log file for complete stacktrace\r\n\r\n\r\n\r\ncommons-codec-1.11\r\ncommons-collections4-4.1\r\ncommons-logging-1.2\r\njunit-4.12\r\npoi-3.17\r\npoi-excelant-3.17\r\npoi-ooxml-3.17\r\npoi-ooxml-schemas-3.17\r\npoi-scratchpad-3.17\r\nxmlbeans-2.6.0\r\n\r\nwhat could be missed? \r\nNote: I cannot use Maven or similer technologies. \r\n\r\nthanks\r\n","title":"POI 3.17 is not working on weblogic server","body":"<p>Good day, </p>\n\n<p>I tried to use POI in my application to load excel sheet. \n everything is working fine on local tomcat but when I move it to server WebLogic 12.2 that run on Java 8, I got an error as follow.\nI tried all versions from POI 3.8 to 3.17(latest) but none of them is working correctly on the server. </p>\n\n<p>Error checking for java lib</p>\n\n<blockquote>\n  <p>java.lang.ExceptionInInitializerError\n  at org.apache.poi.openxml4j.opc.OPCPackage.init(OPCPackage.java:161)\n  at org.apache.poi.openxml4j.opc.OPCPackage.(OPCPackage.java:141)\n  at org.apache.poi.openxml4j.opc.ZipPackage.(ZipPackage.java:97)\n  at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:324)\n  at org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\n  Truncated. see log file for complete stacktrace</p>\n  \n  <p>Caused By: java.lang.ClassCastException:\n  com.ctc.wstx.stax.WstxEventFactory cannot be cast to\n  javax.xml.stream.XMLEventFactory\n  at javax.xml.stream.XMLEventFactory.newInstance(XMLEventFactory.java:30)\n  at org.apache.poi.openxml4j.opc.internal.marshallers.PackagePropertiesMarshaller.(PackagePropertiesMarshaller.java:41)\n  at org.apache.poi.openxml4j.opc.OPCPackage.init(OPCPackage.java:161)\n  at org.apache.poi.openxml4j.opc.OPCPackage.(OPCPackage.java:141)\n  at org.apache.poi.openxml4j.opc.ZipPackage.(ZipPackage.java:97)\n  Truncated. see log file for complete stacktrace</p>\n</blockquote>\n\n<p>commons-codec-1.11\ncommons-collections4-4.1\ncommons-logging-1.2\njunit-4.12\npoi-3.17\npoi-excelant-3.17\npoi-ooxml-3.17\npoi-ooxml-schemas-3.17\npoi-scratchpad-3.17\nxmlbeans-2.6.0</p>\n\n<p>what could be missed? \nNote: I cannot use Maven or similer technologies. </p>\n\n<p>thanks</p>\n"},{"tags":["java","confluent-platform","ksqldb","hamcrest"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1700511623,"post_id":77515449,"comment_id":136661382,"body_markdown":"Hamcrest typically is not added as a runtime depdency. The container could be packaged bad. Previously releases of Confluent Platform had similar issues with Guava","body":"Hamcrest typically is not added as a runtime depdency. The container could be packaged bad. Previously releases of Confluent Platform had similar issues with Guava"},{"owner":{"account_id":192412,"reputation":2428,"user_id":2230605,"accept_rate":20,"display_name":"LifeLongStudent"},"score":0,"creation_date":1700528947,"post_id":77515449,"comment_id":136663394,"body_markdown":"@OneCricketeer what could be a solution for it?","body":"@OneCricketeer what could be a solution for it?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1700574860,"post_id":77515449,"comment_id":136669518,"body_markdown":"You could try manually adding hamcrest jar files to the classpath. Or downgrade ksql, or contact Confluent Support for a proper fix","body":"You could try manually adding hamcrest jar files to the classpath. Or downgrade ksql, or contact Confluent Support for a proper fix"}],"owner":{"account_id":192412,"reputation":2428,"user_id":2230605,"accept_rate":20,"display_name":"LifeLongStudent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700511566,"creation_date":1700478987,"question_id":77515449,"body_markdown":"I am running ksql-tests via command line and I get this error. I tried adding jar manually to classpath before running tests, but still shows this error.\r\n\r\nHow can I run ksql-test-runner via command line. I am using Confluent 7.5.1 KSQL container\r\n\r\n`$ ksql-test-runner --sql-file ksql-statements.ksql --input-file input.json --output-file output.json `\r\n\r\n``` (io.confluent.connect.avro.AvroDataConfig:370)\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/hamcrest/Matcher\r\n        at io.confluent.ksql.test.tools.TestCaseBuilder.createTest(TestCaseBuilder.java:135)\r\n        at io.confluent.ksql.test.tools.TestCaseBuilder.buildTests(TestCaseBuilder.java:97)\r\n        at io.confluent.ksql.test.tools.KsqlTestingTool.runWithTripleFiles(KsqlTestingTool.java:132)\r\n        at io.confluent.ksql.test.tools.KsqlTestingTool.main(KsqlTestingTool.java:56)\r\nCaused by: java.lang.ClassNotFoundException: org.hamcrest.Matcher\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\r\n        ... 4 more```\r\n\r\n","title":"(io.confluent.connect.avro.AvroDataConfig:370) Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/hamcrest/Matcher","body":"<p>I am running ksql-tests via command line and I get this error. I tried adding jar manually to classpath before running tests, but still shows this error.</p>\n<p>How can I run ksql-test-runner via command line. I am using Confluent 7.5.1 KSQL container</p>\n<p><code>$ ksql-test-runner --sql-file ksql-statements.ksql --input-file input.json --output-file output.json </code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/hamcrest/Matcher\n        at io.confluent.ksql.test.tools.TestCaseBuilder.createTest(TestCaseBuilder.java:135)\n        at io.confluent.ksql.test.tools.TestCaseBuilder.buildTests(TestCaseBuilder.java:97)\n        at io.confluent.ksql.test.tools.KsqlTestingTool.runWithTripleFiles(KsqlTestingTool.java:132)\n        at io.confluent.ksql.test.tools.KsqlTestingTool.main(KsqlTestingTool.java:56)\nCaused by: java.lang.ClassNotFoundException: org.hamcrest.Matcher\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\n        ... 4 more```\n\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","testcontainers"],"answers":[{"comments":[{"owner":{"account_id":2778098,"reputation":2086,"user_id":2391244,"accept_rate":100,"display_name":"Joshua Grosso"},"score":0,"creation_date":1700511350,"post_id":77518521,"comment_id":136661332,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/low-quality-posts/35294376)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/35294376\">From Review</a>"},{"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"score":0,"creation_date":1700511576,"post_id":77518521,"comment_id":136661373,"body_markdown":"@JoshuaGrosso Corrected","body":"@JoshuaGrosso Corrected"}],"tags":[],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1700511545,"creation_date":1700509773,"answer_id":77518521,"question_id":77517274,"body_markdown":"The solution was using container singleton: [https://java.testcontainers.org/test_framework_integration/manual_lifecycle_control/][1]\r\n\r\n\r\n  [1]: https://java.testcontainers.org/test_framework_integration/manual_lifecycle_control/\r\n\r\nThe clue:\r\n\r\n    abstract class AbstractContainerBaseTest {\r\n\r\n    static final MySQLContainer MY_SQL_CONTAINER;\r\n\r\n    static {\r\n        MY_SQL_CONTAINER = new MySQLContainer();\r\n        MY_SQL_CONTAINER.start();\r\n      }\r\n    }\r\n","title":"DataAccessResourceFailureException during many integration tests with Testcontainers","body":"<p>The solution was using container singleton: <a href=\"https://java.testcontainers.org/test_framework_integration/manual_lifecycle_control/\" rel=\"nofollow noreferrer\">https://java.testcontainers.org/test_framework_integration/manual_lifecycle_control/</a></p>\n<p>The clue:</p>\n<pre><code>abstract class AbstractContainerBaseTest {\n\nstatic final MySQLContainer MY_SQL_CONTAINER;\n\nstatic {\n    MY_SQL_CONTAINER = new MySQLContainer();\n    MY_SQL_CONTAINER.start();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700511545,"creation_date":1700495489,"question_id":77517274,"body_markdown":"While running dozens of Spring integration tests from Testcontainers, I get this error after 10 tests:\r\n\r\n    org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC Connection [HikariPool-1 - Connection is not available, request timed out after 30003ms.] [n/a]\r\n\r\nStack trace:\r\n\r\n        org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC Connection [HikariPool-1 - Connection is not available, request timed out after 30003ms.] [n/a]\r\n    \r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:253)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\r\n    \tat com.cinema.users.infrastrcuture.db.$Proxy179.existsByMail(Unknown Source)\r\n    \tat com.cinema.users.infrastrcuture.db.JpaUserRepositoryAdapter.existsByMail(JpaUserRepositoryAdapter.java:35)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\r\n    \tat com.cinema.users.infrastrcuture.db.JpaUserRepositoryAdapter$$SpringCGLIB$$0.existsByMail(&lt;generated&gt;)\r\n    \tat com.cinema.users.domain.factories.UserFactory.createUser(UserFactory.java:19)\r\n    \tat com.cinema.users.application.commands.handlers.CreateUserHandler.handle(CreateUserHandler.java:18)\r\n    \tat com.cinema.halls.ui.rest.HallControllerIT.halls_are_gotten_only_by_admin(HallControllerIT.java:71)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    \tSuppressed: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection\r\n    \t\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84)\r\n    \t\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:378)\r\n    \t\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:466)\r\n    \t\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:476)\r\n    \t\tat org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:521)\r\n    \t\tat com.cinema.SqlDatabaseCleaner.clean(SqlDatabaseCleaner.java:16)\r\n    \t\tat com.cinema.BaseIT.cleanDb(BaseIT.java:33)\r\n    \t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n    \t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n    \t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:110)\r\n    \t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n    \t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$24(ClassBasedTestDescriptor.java:510)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$10(TestMethodTestDescriptor.java:243)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\r\n    \t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\r\n    \t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:241)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:142)\r\n    \t\t... 48 more\r\n    \tCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.\r\n    \t\tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\r\n    \t\tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)\r\n    \t\tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)\r\n    \t\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\r\n    \t\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)\r\n    \t\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)\r\n    \t\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)\r\n    \t\t... 80 more\r\n    \tCaused by: org.postgresql.util.PSQLException: Connection to localhost:52545 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n    \t\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)\r\n    \t\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n    \t\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n    \t\tat org.postgresql.Driver.makeConnection(Driver.java:443)\r\n    \t\tat org.postgresql.Driver.connect(Driver.java:297)\r\n    \t\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n    \t\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\r\n    \t\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\r\n    \t\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\r\n    \t\tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)\r\n    \t\tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\r\n    \t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n    \t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n    \t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n    \tCaused by: java.net.ConnectException: Connection refused: no further information\r\n    \t\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n    \t\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\r\n    \t\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\r\n    \t\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\r\n    \t\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n    \t\tat java.base/java.net.Socket.connect(Socket.java:751)\r\n    \t\tat org.postgresql.core.PGStream.createSocket(PGStream.java:243)\r\n    \t\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\r\n    \t\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\r\n    \t\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n    \t\t... 14 more\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-1 - Connection is not available, request timed out after 30003ms.] [n/a]\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:51)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:150)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:177)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:152)\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.lambda$list$0(JdbcSelectExecutorStandardImpl.java:102)\r\n    \tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:226)\r\n    \tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\r\n    \tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\r\n    \tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\r\n    \tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\r\n    \tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\r\n    \tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\r\n    \tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\r\n    \tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\r\n    \tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\r\n    \tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\r\n    \tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\r\n    \tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\r\n    \tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:119)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy217.getResultList(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$ExistsExecution.doExecute(JpaQueryExecution.java:315)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \t... 90 more\r\n    Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n    \tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)\r\n    \t... 134 more\r\n    Caused by: org.postgresql.util.PSQLException: Connection to localhost:52545 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:443)\r\n    \tat org.postgresql.Driver.connect(Driver.java:297)\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\r\n    \tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)\r\n    \tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n        Caused by: java.net.ConnectException: Connection refused: no further information\r\n        \tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n        \tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\r\n        \tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\r\n        \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\r\n        \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n        \tat java.base/java.net.Socket.connect(Socket.java:751)\r\n        \tat org.postgresql.core.PGStream.createSocket(PGStream.java:243)\r\n        \tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\r\n        \tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\r\n        \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n        \t... 14 more","title":"DataAccessResourceFailureException during many integration tests with Testcontainers","body":"<p>While running dozens of Spring integration tests from Testcontainers, I get this error after 10 tests:</p>\n<pre><code>org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC Connection [HikariPool-1 - Connection is not available, request timed out after 30003ms.] [n/a]\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>    org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC Connection [HikariPool-1 - Connection is not available, request timed out after 30003ms.] [n/a]\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:253)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:243)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n    at com.cinema.users.infrastrcuture.db.$Proxy179.existsByMail(Unknown Source)\n    at com.cinema.users.infrastrcuture.db.JpaUserRepositoryAdapter.existsByMail(JpaUserRepositoryAdapter.java:35)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at com.cinema.users.infrastrcuture.db.JpaUserRepositoryAdapter$$SpringCGLIB$$0.existsByMail(&lt;generated&gt;)\n    at com.cinema.users.domain.factories.UserFactory.createUser(UserFactory.java:19)\n    at com.cinema.users.application.commands.handlers.CreateUserHandler.handle(CreateUserHandler.java:18)\n    at com.cinema.halls.ui.rest.HallControllerIT.halls_are_gotten_only_by_admin(HallControllerIT.java:71)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n    Suppressed: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection\n        at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84)\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:378)\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:466)\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:476)\n        at org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:521)\n        at com.cinema.SqlDatabaseCleaner.clean(SqlDatabaseCleaner.java:16)\n        at com.cinema.BaseIT.cleanDb(BaseIT.java:33)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:110)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$24(ClassBasedTestDescriptor.java:510)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$10(TestMethodTestDescriptor.java:243)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:241)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:142)\n        ... 48 more\n    Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30010ms.\n        at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)\n        at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\n        at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)\n        at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)\n        at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)\n        ... 80 more\n    Caused by: org.postgresql.util.PSQLException: Connection to localhost:52545 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n        at org.postgresql.Driver.makeConnection(Driver.java:443)\n        at org.postgresql.Driver.connect(Driver.java:297)\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\n        at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)\n        at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at java.base/java.lang.Thread.run(Thread.java:1583)\n    Caused by: java.net.ConnectException: Connection refused: no further information\n        at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n        at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\n        at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n        at java.base/java.net.Socket.connect(Socket.java:751)\n        at org.postgresql.core.PGStream.createSocket(PGStream.java:243)\n        at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n        ... 14 more\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-1 - Connection is not available, request timed out after 30003ms.] [n/a]\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:51)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:150)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:177)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:152)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.lambda$list$0(JdbcSelectExecutorStandardImpl.java:102)\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:226)\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n    at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n    at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n    at org.hibernate.query.Query.getResultList(Query.java:119)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n    at jdk.proxy2/jdk.proxy2.$Proxy217.getResultList(Unknown Source)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$ExistsExecution.doExecute(JpaQueryExecution.java:315)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 90 more\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n    at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)\n    ... 134 more\nCaused by: org.postgresql.util.PSQLException: Connection to localhost:52545 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n    at org.postgresql.Driver.makeConnection(Driver.java:443)\n    at org.postgresql.Driver.connect(Driver.java:297)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at java.base/java.lang.Thread.run(Thread.java:1583)\n    Caused by: java.net.ConnectException: Connection refused: no further information\n        at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n        at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\n        at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n        at java.base/java.net.Socket.connect(Socket.java:751)\n        at org.postgresql.core.PGStream.createSocket(PGStream.java:243)\n        at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n        ... 14 more\n</code></pre>\n"},{"tags":["java","database","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1700428599,"post_id":77512467,"comment_id":136650218,"body_markdown":"&quot;_but it appears that the class requires an entry in the module-info.java file_&quot;  This is not true. Nothing in the JavaFX library requires your code to be modular.","body":"&quot;<i>but it appears that the class requires an entry in the module-info.java file</i>&quot;  This is not true. Nothing in the JavaFX library requires your code to be modular."},{"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"score":0,"creation_date":1700428878,"post_id":77512467,"comment_id":136650252,"body_markdown":"Ok. but I&#39;m getting java.lang.NoClassDefFoundError: javafx/embed/swing/SwingFXUtils, so I assumed it must be this. Why am I getting this error then?","body":"Ok. but I&#39;m getting java.lang.NoClassDefFoundError: javafx/embed/swing/SwingFXUtils, so I assumed it must be this. Why am I getting this error then?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1700429824,"post_id":77512467,"comment_id":136650353,"body_markdown":"You must be failing to include `javafx.swing` on the module-path/class-path at run-time (it must be there at compile-time, or your code wouldn&#39;t compile). You can read [Getting Started with JavaFX](https://openjfx.io/openjfx-docs/) to see how to set up a basic JavaFX project using one of the big Java IDEs and/or build tools. But without a [mre] no one will be able to point out what _specifically_ is wrong with your setup.","body":"You must be failing to include <code>javafx.swing</code> on the module-path/class-path at run-time (it must be there at compile-time, or your code wouldn&#39;t compile). You can read <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX</a> to see how to set up a basic JavaFX project using one of the big Java IDEs and/or build tools. But without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> no one will be able to point out what <i>specifically</i> is wrong with your setup."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700511515,"creation_date":1700434545,"answer_id":77512808,"question_id":77512467,"body_markdown":"You mention:\r\n\r\n&gt; Several solutions that I tried involved using SwingFXUtils.fromFXImage and SwingFXUtils.toFxImage, but it appears that the class requires an entry in the module-info.java file, which I didn&#39;t even intend to use\r\n\r\nThis is not true. Although JavaFX only _supports_ being loaded as named modules&lt;sup&gt;1&lt;/sup&gt;, nothing about JavaFX requires that _your own code_ be modular. The only way you can be getting a `NoClassDefFoundError` is by failing to include the class on the module-path/class-path at run-time (it must be there at compile-time, otherwise your code would fail to compile). I recommend reading [Getting Started with JavaFX][1] to see how to set up a basic JavaFX application with one of the major Java IDEs and/or build tools. But without knowing how you have configured your project and how you are running the project, we will not be able to tell you what _specifically_ is wrong with your setup. \r\n\r\nThat said, what you want to accomplish in general is indeed possible. Here is an example that allows you to browse images on your computer and save them to an in-memory H2 database. The ID and name of the images are put into a `TableView` which includes a column with an &quot;Open&quot; button that allows you to view an image loaded from the in-memory database. The images are stored as blobs in the database in PNG format, regardless of their original format. The `SwingFXUtils` and `ImageIO` classes are used to convert the JavaFX image to a PNG &quot;file&quot;.\r\n\r\nThe example does not show you how to deploy the application (e.g., via `jpackage`)\r\n\r\n## Versions\r\n\r\nHere are the versions of libraries and tools I used to build and run the example.\r\n\r\n* Java 21.0.1 (Eclipse Adoptium / Temurin)\r\n\r\n* JavaFX 21.0.1\r\n\r\n* H2 2.2.224\r\n\r\n* Gradle 8.4\r\n\r\n* [JavaFX Gradle Plugin][5] 0.1.0\r\n\r\nIn a [comment][3] to your [previous question][2], you stated you are using Gradle, so that is what I used for the example. \r\n\r\n## Source Code\r\n\r\nThere is no `module-info.java` file.\r\n\r\n**ImageRecord.java**\r\n\r\n```java\r\npackage com.example;\r\n\r\npublic record ImageRecord(int id, String name) {}\r\n```\r\n\r\n**Main.java**\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.io.File;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.function.Consumer;\r\nimport javafx.application.Application;\r\nimport javafx.beans.property.SimpleIntegerProperty;\r\nimport javafx.beans.property.SimpleObjectProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.concurrent.Task;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ScrollPane;\r\nimport javafx.scene.control.TableCell;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.FileChooser;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.StageStyle;\r\nimport javafx.stage.Window;\r\n\r\npublic class Main extends Application {\r\n\r\n  private final Executor executor = Executors.newVirtualThreadPerTaskExecutor();\r\n  private final ImagesDatabase db = new ImagesDatabase(&quot;test&quot;);\r\n  private final ImageRepository imageRepo = new ImageRepository(db);\r\n  private File lastDirectory;\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    var table = createTable(record -&gt; displayImage(primaryStage, record));\r\n\r\n    var chooseBtn = new Button(&quot;Choose image...&quot;);\r\n    chooseBtn.setOnAction(\r\n        e -&gt; {\r\n          e.consume();\r\n          var image = chooseImage(primaryStage);\r\n          if (image != null) {\r\n            executor.execute(createSaveImageTask(image, table.getItems()::add));\r\n          }\r\n        });\r\n\r\n    var root = new BorderPane();\r\n    root.setTop(chooseBtn);\r\n    root.setCenter(table);\r\n    BorderPane.setAlignment(chooseBtn, Pos.CENTER);\r\n    BorderPane.setMargin(chooseBtn, new Insets(10));\r\n\r\n    primaryStage.setScene(new Scene(root, 600, 400));\r\n    primaryStage.show();\r\n  }\r\n\r\n  @Override\r\n  public void stop() throws Exception {\r\n    db.close();\r\n  }\r\n\r\n  private Image chooseImage(Window owner) {\r\n    var chooser = new FileChooser();\r\n    chooser.setTitle(&quot;Choose Image File&quot;);\r\n    chooser\r\n        .getExtensionFilters()\r\n        .add(new FileChooser.ExtensionFilter(&quot;Image Files&quot;, &quot;*.jpeg&quot;, &quot;*.jpg&quot;, &quot;*.png&quot;));\r\n    if (lastDirectory != null) {\r\n      chooser.setInitialDirectory(lastDirectory);\r\n    }\r\n\r\n    var file = chooser.showOpenDialog(owner);\r\n    if (file != null) {\r\n      lastDirectory = file.getParentFile();\r\n      return new Image(file.toURI().toString());\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private void displayImage(Window owner, ImageRecord record) {\r\n    var view = new ImageView();\r\n\r\n    var task = createGetImageTask(record, view::setImage);\r\n    executor.execute(task);\r\n\r\n    var sp = new ScrollPane(view);\r\n    sp.setPannable(true);\r\n\r\n    var window = new Stage(StageStyle.UTILITY);\r\n    window.initOwner(owner);\r\n    window.setTitle(record.name());\r\n    window.setScene(new Scene(sp, 500, 300));\r\n    window.setOnHiding(e -&gt; task.cancel());\r\n    window.show();\r\n  }\r\n\r\n  private TableView&lt;ImageRecord&gt; createTable(Consumer&lt;ImageRecord&gt; onOpen) {\r\n    var table = new TableView&lt;ImageRecord&gt;();\r\n    table.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY_FLEX_LAST_COLUMN);\r\n\r\n    var idCol = new TableColumn&lt;ImageRecord, Number&gt;(&quot;ID&quot;);\r\n    idCol.setCellValueFactory(data -&gt; new SimpleIntegerProperty(data.getValue().id()));\r\n    table.getColumns().add(idCol);\r\n\r\n    var nameCol = new TableColumn&lt;ImageRecord, String&gt;(&quot;Name&quot;);\r\n    nameCol.setCellValueFactory(data -&gt; new SimpleStringProperty(data.getValue().name()));\r\n    table.getColumns().add(nameCol);\r\n\r\n    var openBtnCol = new TableColumn&lt;ImageRecord, ImageRecord&gt;();\r\n    openBtnCol.setCellValueFactory(data -&gt; new SimpleObjectProperty&lt;&gt;(data.getValue()));\r\n    openBtnCol.setCellFactory(tc -&gt; createOpenButtonCell(onOpen));\r\n    table.getColumns().add(openBtnCol);\r\n\r\n    return table;\r\n  }\r\n\r\n  private TableCell&lt;ImageRecord, ImageRecord&gt; createOpenButtonCell(Consumer&lt;ImageRecord&gt; onOpen) {\r\n    return new TableCell&lt;&gt;() {\r\n      final HBox container = new HBox();\r\n      final Button openButton = new Button(&quot;Open&quot;);\r\n\r\n      {\r\n        container.getChildren().add(openButton);\r\n        container.setAlignment(Pos.CENTER);\r\n        openButton.setOnAction(\r\n            e -&gt; {\r\n              e.consume();\r\n              var item = isEmpty() ? null : getItem();\r\n              if (item != null) {\r\n                onOpen.accept(item);\r\n              }\r\n            });\r\n      }\r\n\r\n      @Override\r\n      protected void updateItem(ImageRecord item, boolean empty) {\r\n        super.updateItem(item, empty);\r\n        if (empty || item == null) {\r\n          setGraphic(null);\r\n        } else {\r\n          setGraphic(container);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  private Task&lt;?&gt; createSaveImageTask(Image image, Consumer&lt;ImageRecord&gt; onSuccess) {\r\n    return new Task&lt;ImageRecord&gt;() {\r\n      @Override\r\n      protected ImageRecord call() throws Exception {\r\n        return imageRepo.insertImage(image);\r\n      }\r\n\r\n      @Override\r\n      protected void succeeded() {\r\n        onSuccess.accept(getValue());\r\n      }\r\n\r\n      @Override\r\n      protected void failed() {\r\n        getException().printStackTrace();\r\n      }\r\n    };\r\n  }\r\n\r\n  private Task&lt;?&gt; createGetImageTask(ImageRecord record, Consumer&lt;Image&gt; onSuccess) {\r\n    return new Task&lt;Image&gt;() {\r\n      @Override\r\n      protected Image call() throws Exception {\r\n        return imageRepo.getImage(record).orElseThrow();\r\n      }\r\n\r\n      @Override\r\n      protected void succeeded() {\r\n        onSuccess.accept(getValue());\r\n      }\r\n\r\n      @Override\r\n      protected void failed() {\r\n        getException().printStackTrace();\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\n**ImageRepository.java**\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport static java.sql.Statement.RETURN_GENERATED_KEYS;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.UncheckedIOException;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport javafx.embed.swing.SwingFXUtils;\r\nimport javafx.scene.image.Image;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class ImageRepository {\r\n\r\n  private static final String SELECT_ALL_RECORDS_SQL = &quot;SELECT id, name FROM Images&quot;;\r\n  private static final String SELECT_IMAGE_SQL = &quot;SELECT image FROM Images WHERE id = ?&quot;;\r\n  private static final String INSERT_SQL = &quot;INSERT INTO Images (name, image) VALUES (?, ?)&quot;;\r\n\r\n  private final AtomicInteger generatedNameCount = new AtomicInteger();\r\n  private final ImagesDatabase db;\r\n\r\n  public ImageRepository(ImagesDatabase db) {\r\n    this.db = db;\r\n  }\r\n\r\n  public List&lt;ImageRecord&gt; getRecords() throws SQLException {\r\n    return db.execute(\r\n        conn -&gt; {\r\n          try (var stat = conn.createStatement()) {\r\n            var result = stat.executeQuery(SELECT_ALL_RECORDS_SQL);\r\n\r\n            var records = new ArrayList&lt;ImageRecord&gt;();\r\n            while (result.next()) {\r\n              int id = result.getInt(1);\r\n              var name = result.getString(2);\r\n              records.add(new ImageRecord(id, name));\r\n            }\r\n            return records;\r\n          }\r\n        });\r\n  }\r\n\r\n  public Optional&lt;Image&gt; getImage(ImageRecord record) throws SQLException {\r\n    return getImage(record.id());\r\n  }\r\n\r\n  public Optional&lt;Image&gt; getImage(int recordId) throws SQLException {\r\n    if (recordId &lt;= 0) {\r\n      throw new IllegalArgumentException(&quot;recordId &lt;= 0: &quot; + recordId);\r\n    }\r\n    return db.execute(\r\n        conn -&gt; {\r\n          try (var stat = conn.prepareStatement(SELECT_IMAGE_SQL)) {\r\n            stat.setInt(1, recordId);\r\n\r\n            var result = stat.executeQuery();\r\n            if (result.next()) {\r\n              var image = new Image(result.getBinaryStream(1));\r\n              return Optional.of(image);\r\n            } else {\r\n              return Optional.empty();\r\n            }\r\n          }\r\n        });\r\n  }\r\n\r\n  public ImageRecord insertImage(Image image) throws SQLException {\r\n    Objects.requireNonNull(image);\r\n    return db.execute(\r\n        conn -&gt; {\r\n          try (var stat = conn.prepareStatement(INSERT_SQL, RETURN_GENERATED_KEYS)) {\r\n            var name = getImageName(image);\r\n\r\n            stat.setString(1, name);\r\n            stat.setBinaryStream(2, imageToInputStream(image));\r\n            stat.executeUpdate();\r\n\r\n            var keys = stat.getGeneratedKeys();\r\n            if (keys.next()) {\r\n              int id = keys.getInt(1);\r\n              return new ImageRecord(id, name);\r\n            } else {\r\n              throw new IllegalStateException(&quot;generated key not returned&quot;);\r\n            }\r\n          }\r\n        });\r\n  }\r\n\r\n  private String getImageName(Image image) {\r\n    var source = image.getUrl();\r\n    return source == null ? generateImageName() : source;\r\n  }\r\n\r\n  private String generateImageName() {\r\n    return &quot;Generated Image Name &quot; + generatedNameCount.incrementAndGet();\r\n  }\r\n\r\n  private InputStream imageToInputStream(Image image) {\r\n    var out = new ByteArrayOutputStream();\r\n    try {\r\n      ImageIO.write(SwingFXUtils.fromFXImage(image, null), &quot;png&quot;, out);\r\n    } catch (IOException ex) {\r\n      throw new UncheckedIOException(ex);\r\n    }\r\n    return new ByteArrayInputStream(out.toByteArray());\r\n  }\r\n}\r\n```\r\n\r\n**ImagesDatabase.java**\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\nimport javax.sql.DataSource;\r\nimport org.h2.jdbcx.JdbcDataSource;\r\n\r\npublic class ImagesDatabase implements AutoCloseable {\r\n\r\n  private static final String CREATE_TABLE_SQL =\r\n      &quot;CREATE TABLE Images (id IDENTITY, name VARCHAR(255), image BLOB)&quot;;\r\n\r\n  @FunctionalInterface\r\n  public interface SQLFunction&lt;T&gt; {\r\n\r\n    T execute(Connection connection) throws SQLException;\r\n  }\r\n\r\n  private final Lock mutex = new ReentrantLock();\r\n\r\n  private final DataSource source;\r\n  private Connection connection;\r\n  private boolean open = true;\r\n  private boolean initialized;\r\n\r\n  public ImagesDatabase(String name) {\r\n    if (name.isBlank()) {\r\n      throw new IllegalArgumentException(&quot;blank name&quot;);\r\n    }\r\n    var source = new JdbcDataSource();\r\n    source.setUrl(&quot;jdbc:h2:mem:&quot; + name + &quot;;DB_CLOSE_DELAY=-1&quot;);\r\n    this.source = source;\r\n  }\r\n\r\n  public &lt;T&gt; T execute(SQLFunction&lt;T&gt; function) throws SQLException {\r\n    Objects.requireNonNull(function);\r\n    mutex.lock();\r\n    try {\r\n      checkOpen();\r\n      return function.execute(getOrOpenConnection());\r\n    } finally {\r\n      mutex.unlock();\r\n    }\r\n  }\r\n\r\n  private Connection getOrOpenConnection() throws SQLException {\r\n    if (connection == null || connection.isClosed()) {\r\n      connection = source.getConnection();\r\n      initialize(connection);\r\n    }\r\n    return connection;\r\n  }\r\n\r\n  private void initialize(Connection conn) throws SQLException {\r\n    if (!initialized) {\r\n      try (var stat = conn.createStatement()) {\r\n        stat.executeUpdate(CREATE_TABLE_SQL);\r\n      }\r\n      initialized = true;\r\n    }\r\n  }\r\n\r\n  private void shutdown() throws SQLException {\r\n    if (initialized) {\r\n      try (var conn = getOrOpenConnection();\r\n          var stat = conn.createStatement()) {\r\n        stat.execute(&quot;SHUTDOWN&quot;);\r\n      }\r\n      connection = null;\r\n    }\r\n  }\r\n\r\n  private void checkOpen() {\r\n    if (!open) {\r\n      throw new IllegalStateException(&quot;closed&quot;);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public void close() throws SQLException {\r\n    mutex.lock();\r\n    try {\r\n      if (open) {\r\n        open = false;\r\n        shutdown();\r\n      }\r\n    } finally {\r\n      mutex.unlock();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## Gradle Files\r\n\r\nI used the Kotlin DSL, but you can use the Groovy DSL if you want.\r\n\r\n**settings.gradle.kts**\r\n\r\n```kotlin\r\nrootProject.name = &quot;h2images-example&quot;\r\n```\r\n\r\n**build.gradle.kts**\r\n\r\n```kotlin\r\nplugins {\r\n    id(&quot;org.openjfx.javafxplugin&quot;) version &quot;0.1.0&quot;\r\n    application\r\n}\r\n\r\ngroup = &quot;com.example&quot;\r\nversion = &quot;1.0&quot;\r\n\r\njavafx {\r\n    modules(&quot;javafx.controls&quot;, &quot;javafx.swing&quot;)\r\n    version = &quot;21.0.1&quot;\r\n}\r\n\r\napplication {\r\n    mainClass.set(&quot;com.example.Main&quot;)\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;com.h2database:h2:2.2.224&quot;)\r\n}\r\n```\r\n\r\n## Execution\r\n\r\nYou would execute the above with:\r\n\r\n```none\r\n./gradlew run\r\n```\r\n\r\nNote `./gradlew` invokes the [Gradle Wrapper][4]. If you have a version of Gradle installed on your computer, then you can generate a wrapper for version 8.4 via:\r\n\r\n```none\r\ngradle wrapper --gradle-version 8.4\r\n```\r\n\r\n\r\n---\r\n\r\n&lt;sup&gt;1. JavaFX does not technically support being loaded from the class-path. That means ideally the JavaFX modules should be on the module-path and resolved as named modules, even if your own code and other dependencies are loaded form the class-path. However, I am not aware of anything that _breaks_ if JavaFX is on the class-path (at least as of JavaFX 21), except that your main class can no longer be a subclass of `javafx.application.Application` (you would need a separate &quot;launcher class&quot; as the main class). Just know that anything that breaks specifically because JavaFX is on the class-path is unlikely to be fixed by the JavaFX team.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;Note that the Gradle and Maven plugins provided by OpenJFX configure those build tools to put JavaFX on the module-path.&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/\r\n  [2]: https://stackoverflow.com/q/77500259/6395627\r\n  [3]: https://stackoverflow.com/questions/77500259/encode-an-image-from-the-clipboard-as-base64-in-javafx/77500633#comment136629377_77500259\r\n  [4]: https://docs.gradle.org/current/userguide/gradle_wrapper.html\r\n  [5]: https://github.com/openjfx/javafx-gradle-plugin","title":"loading and saving JavaFX Image to DB","body":"<p>You mention:</p>\n<blockquote>\n<p>Several solutions that I tried involved using SwingFXUtils.fromFXImage and SwingFXUtils.toFxImage, but it appears that the class requires an entry in the module-info.java file, which I didn't even intend to use</p>\n</blockquote>\n<p>This is not true. Although JavaFX only <em>supports</em> being loaded as named modules<sup>1</sup>, nothing about JavaFX requires that <em>your own code</em> be modular. The only way you can be getting a <code>NoClassDefFoundError</code> is by failing to include the class on the module-path/class-path at run-time (it must be there at compile-time, otherwise your code would fail to compile). I recommend reading <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX</a> to see how to set up a basic JavaFX application with one of the major Java IDEs and/or build tools. But without knowing how you have configured your project and how you are running the project, we will not be able to tell you what <em>specifically</em> is wrong with your setup.</p>\n<p>That said, what you want to accomplish in general is indeed possible. Here is an example that allows you to browse images on your computer and save them to an in-memory H2 database. The ID and name of the images are put into a <code>TableView</code> which includes a column with an &quot;Open&quot; button that allows you to view an image loaded from the in-memory database. The images are stored as blobs in the database in PNG format, regardless of their original format. The <code>SwingFXUtils</code> and <code>ImageIO</code> classes are used to convert the JavaFX image to a PNG &quot;file&quot;.</p>\n<p>The example does not show you how to deploy the application (e.g., via <code>jpackage</code>)</p>\n<h2>Versions</h2>\n<p>Here are the versions of libraries and tools I used to build and run the example.</p>\n<ul>\n<li><p>Java 21.0.1 (Eclipse Adoptium / Temurin)</p>\n</li>\n<li><p>JavaFX 21.0.1</p>\n</li>\n<li><p>H2 2.2.224</p>\n</li>\n<li><p>Gradle 8.4</p>\n</li>\n<li><p><a href=\"https://github.com/openjfx/javafx-gradle-plugin\" rel=\"nofollow noreferrer\">JavaFX Gradle Plugin</a> 0.1.0</p>\n</li>\n</ul>\n<p>In a <a href=\"https://stackoverflow.com/questions/77500259/encode-an-image-from-the-clipboard-as-base64-in-javafx/77500633#comment136629377_77500259\">comment</a> to your <a href=\"https://stackoverflow.com/q/77500259/6395627\">previous question</a>, you stated you are using Gradle, so that is what I used for the example.</p>\n<h2>Source Code</h2>\n<p>There is no <code>module-info.java</code> file.</p>\n<p><strong>ImageRecord.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\npublic record ImageRecord(int id, String name) {}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.io.File;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\nimport java.util.function.Consumer;\nimport javafx.application.Application;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.concurrent.Task;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.stage.Window;\n\npublic class Main extends Application {\n\n  private final Executor executor = Executors.newVirtualThreadPerTaskExecutor();\n  private final ImagesDatabase db = new ImagesDatabase(&quot;test&quot;);\n  private final ImageRepository imageRepo = new ImageRepository(db);\n  private File lastDirectory;\n\n  @Override\n  public void start(Stage primaryStage) {\n    var table = createTable(record -&gt; displayImage(primaryStage, record));\n\n    var chooseBtn = new Button(&quot;Choose image...&quot;);\n    chooseBtn.setOnAction(\n        e -&gt; {\n          e.consume();\n          var image = chooseImage(primaryStage);\n          if (image != null) {\n            executor.execute(createSaveImageTask(image, table.getItems()::add));\n          }\n        });\n\n    var root = new BorderPane();\n    root.setTop(chooseBtn);\n    root.setCenter(table);\n    BorderPane.setAlignment(chooseBtn, Pos.CENTER);\n    BorderPane.setMargin(chooseBtn, new Insets(10));\n\n    primaryStage.setScene(new Scene(root, 600, 400));\n    primaryStage.show();\n  }\n\n  @Override\n  public void stop() throws Exception {\n    db.close();\n  }\n\n  private Image chooseImage(Window owner) {\n    var chooser = new FileChooser();\n    chooser.setTitle(&quot;Choose Image File&quot;);\n    chooser\n        .getExtensionFilters()\n        .add(new FileChooser.ExtensionFilter(&quot;Image Files&quot;, &quot;*.jpeg&quot;, &quot;*.jpg&quot;, &quot;*.png&quot;));\n    if (lastDirectory != null) {\n      chooser.setInitialDirectory(lastDirectory);\n    }\n\n    var file = chooser.showOpenDialog(owner);\n    if (file != null) {\n      lastDirectory = file.getParentFile();\n      return new Image(file.toURI().toString());\n    }\n    return null;\n  }\n\n  private void displayImage(Window owner, ImageRecord record) {\n    var view = new ImageView();\n\n    var task = createGetImageTask(record, view::setImage);\n    executor.execute(task);\n\n    var sp = new ScrollPane(view);\n    sp.setPannable(true);\n\n    var window = new Stage(StageStyle.UTILITY);\n    window.initOwner(owner);\n    window.setTitle(record.name());\n    window.setScene(new Scene(sp, 500, 300));\n    window.setOnHiding(e -&gt; task.cancel());\n    window.show();\n  }\n\n  private TableView&lt;ImageRecord&gt; createTable(Consumer&lt;ImageRecord&gt; onOpen) {\n    var table = new TableView&lt;ImageRecord&gt;();\n    table.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY_FLEX_LAST_COLUMN);\n\n    var idCol = new TableColumn&lt;ImageRecord, Number&gt;(&quot;ID&quot;);\n    idCol.setCellValueFactory(data -&gt; new SimpleIntegerProperty(data.getValue().id()));\n    table.getColumns().add(idCol);\n\n    var nameCol = new TableColumn&lt;ImageRecord, String&gt;(&quot;Name&quot;);\n    nameCol.setCellValueFactory(data -&gt; new SimpleStringProperty(data.getValue().name()));\n    table.getColumns().add(nameCol);\n\n    var openBtnCol = new TableColumn&lt;ImageRecord, ImageRecord&gt;();\n    openBtnCol.setCellValueFactory(data -&gt; new SimpleObjectProperty&lt;&gt;(data.getValue()));\n    openBtnCol.setCellFactory(tc -&gt; createOpenButtonCell(onOpen));\n    table.getColumns().add(openBtnCol);\n\n    return table;\n  }\n\n  private TableCell&lt;ImageRecord, ImageRecord&gt; createOpenButtonCell(Consumer&lt;ImageRecord&gt; onOpen) {\n    return new TableCell&lt;&gt;() {\n      final HBox container = new HBox();\n      final Button openButton = new Button(&quot;Open&quot;);\n\n      {\n        container.getChildren().add(openButton);\n        container.setAlignment(Pos.CENTER);\n        openButton.setOnAction(\n            e -&gt; {\n              e.consume();\n              var item = isEmpty() ? null : getItem();\n              if (item != null) {\n                onOpen.accept(item);\n              }\n            });\n      }\n\n      @Override\n      protected void updateItem(ImageRecord item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty || item == null) {\n          setGraphic(null);\n        } else {\n          setGraphic(container);\n        }\n      }\n    };\n  }\n\n  private Task&lt;?&gt; createSaveImageTask(Image image, Consumer&lt;ImageRecord&gt; onSuccess) {\n    return new Task&lt;ImageRecord&gt;() {\n      @Override\n      protected ImageRecord call() throws Exception {\n        return imageRepo.insertImage(image);\n      }\n\n      @Override\n      protected void succeeded() {\n        onSuccess.accept(getValue());\n      }\n\n      @Override\n      protected void failed() {\n        getException().printStackTrace();\n      }\n    };\n  }\n\n  private Task&lt;?&gt; createGetImageTask(ImageRecord record, Consumer&lt;Image&gt; onSuccess) {\n    return new Task&lt;Image&gt;() {\n      @Override\n      protected Image call() throws Exception {\n        return imageRepo.getImage(record).orElseThrow();\n      }\n\n      @Override\n      protected void succeeded() {\n        onSuccess.accept(getValue());\n      }\n\n      @Override\n      protected void failed() {\n        getException().printStackTrace();\n      }\n    };\n  }\n}\n</code></pre>\n<p><strong>ImageRepository.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport static java.sql.Statement.RETURN_GENERATED_KEYS;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.UncheckedIOException;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.scene.image.Image;\nimport javax.imageio.ImageIO;\n\npublic class ImageRepository {\n\n  private static final String SELECT_ALL_RECORDS_SQL = &quot;SELECT id, name FROM Images&quot;;\n  private static final String SELECT_IMAGE_SQL = &quot;SELECT image FROM Images WHERE id = ?&quot;;\n  private static final String INSERT_SQL = &quot;INSERT INTO Images (name, image) VALUES (?, ?)&quot;;\n\n  private final AtomicInteger generatedNameCount = new AtomicInteger();\n  private final ImagesDatabase db;\n\n  public ImageRepository(ImagesDatabase db) {\n    this.db = db;\n  }\n\n  public List&lt;ImageRecord&gt; getRecords() throws SQLException {\n    return db.execute(\n        conn -&gt; {\n          try (var stat = conn.createStatement()) {\n            var result = stat.executeQuery(SELECT_ALL_RECORDS_SQL);\n\n            var records = new ArrayList&lt;ImageRecord&gt;();\n            while (result.next()) {\n              int id = result.getInt(1);\n              var name = result.getString(2);\n              records.add(new ImageRecord(id, name));\n            }\n            return records;\n          }\n        });\n  }\n\n  public Optional&lt;Image&gt; getImage(ImageRecord record) throws SQLException {\n    return getImage(record.id());\n  }\n\n  public Optional&lt;Image&gt; getImage(int recordId) throws SQLException {\n    if (recordId &lt;= 0) {\n      throw new IllegalArgumentException(&quot;recordId &lt;= 0: &quot; + recordId);\n    }\n    return db.execute(\n        conn -&gt; {\n          try (var stat = conn.prepareStatement(SELECT_IMAGE_SQL)) {\n            stat.setInt(1, recordId);\n\n            var result = stat.executeQuery();\n            if (result.next()) {\n              var image = new Image(result.getBinaryStream(1));\n              return Optional.of(image);\n            } else {\n              return Optional.empty();\n            }\n          }\n        });\n  }\n\n  public ImageRecord insertImage(Image image) throws SQLException {\n    Objects.requireNonNull(image);\n    return db.execute(\n        conn -&gt; {\n          try (var stat = conn.prepareStatement(INSERT_SQL, RETURN_GENERATED_KEYS)) {\n            var name = getImageName(image);\n\n            stat.setString(1, name);\n            stat.setBinaryStream(2, imageToInputStream(image));\n            stat.executeUpdate();\n\n            var keys = stat.getGeneratedKeys();\n            if (keys.next()) {\n              int id = keys.getInt(1);\n              return new ImageRecord(id, name);\n            } else {\n              throw new IllegalStateException(&quot;generated key not returned&quot;);\n            }\n          }\n        });\n  }\n\n  private String getImageName(Image image) {\n    var source = image.getUrl();\n    return source == null ? generateImageName() : source;\n  }\n\n  private String generateImageName() {\n    return &quot;Generated Image Name &quot; + generatedNameCount.incrementAndGet();\n  }\n\n  private InputStream imageToInputStream(Image image) {\n    var out = new ByteArrayOutputStream();\n    try {\n      ImageIO.write(SwingFXUtils.fromFXImage(image, null), &quot;png&quot;, out);\n    } catch (IOException ex) {\n      throw new UncheckedIOException(ex);\n    }\n    return new ByteArrayInputStream(out.toByteArray());\n  }\n}\n</code></pre>\n<p><strong>ImagesDatabase.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.util.Objects;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\nimport javax.sql.DataSource;\nimport org.h2.jdbcx.JdbcDataSource;\n\npublic class ImagesDatabase implements AutoCloseable {\n\n  private static final String CREATE_TABLE_SQL =\n      &quot;CREATE TABLE Images (id IDENTITY, name VARCHAR(255), image BLOB)&quot;;\n\n  @FunctionalInterface\n  public interface SQLFunction&lt;T&gt; {\n\n    T execute(Connection connection) throws SQLException;\n  }\n\n  private final Lock mutex = new ReentrantLock();\n\n  private final DataSource source;\n  private Connection connection;\n  private boolean open = true;\n  private boolean initialized;\n\n  public ImagesDatabase(String name) {\n    if (name.isBlank()) {\n      throw new IllegalArgumentException(&quot;blank name&quot;);\n    }\n    var source = new JdbcDataSource();\n    source.setUrl(&quot;jdbc:h2:mem:&quot; + name + &quot;;DB_CLOSE_DELAY=-1&quot;);\n    this.source = source;\n  }\n\n  public &lt;T&gt; T execute(SQLFunction&lt;T&gt; function) throws SQLException {\n    Objects.requireNonNull(function);\n    mutex.lock();\n    try {\n      checkOpen();\n      return function.execute(getOrOpenConnection());\n    } finally {\n      mutex.unlock();\n    }\n  }\n\n  private Connection getOrOpenConnection() throws SQLException {\n    if (connection == null || connection.isClosed()) {\n      connection = source.getConnection();\n      initialize(connection);\n    }\n    return connection;\n  }\n\n  private void initialize(Connection conn) throws SQLException {\n    if (!initialized) {\n      try (var stat = conn.createStatement()) {\n        stat.executeUpdate(CREATE_TABLE_SQL);\n      }\n      initialized = true;\n    }\n  }\n\n  private void shutdown() throws SQLException {\n    if (initialized) {\n      try (var conn = getOrOpenConnection();\n          var stat = conn.createStatement()) {\n        stat.execute(&quot;SHUTDOWN&quot;);\n      }\n      connection = null;\n    }\n  }\n\n  private void checkOpen() {\n    if (!open) {\n      throw new IllegalStateException(&quot;closed&quot;);\n    }\n  }\n\n  @Override\n  public void close() throws SQLException {\n    mutex.lock();\n    try {\n      if (open) {\n        open = false;\n        shutdown();\n      }\n    } finally {\n      mutex.unlock();\n    }\n  }\n}\n</code></pre>\n<h2>Gradle Files</h2>\n<p>I used the Kotlin DSL, but you can use the Groovy DSL if you want.</p>\n<p><strong>settings.gradle.kts</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>rootProject.name = &quot;h2images-example&quot;\n</code></pre>\n<p><strong>build.gradle.kts</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    id(&quot;org.openjfx.javafxplugin&quot;) version &quot;0.1.0&quot;\n    application\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;1.0&quot;\n\njavafx {\n    modules(&quot;javafx.controls&quot;, &quot;javafx.swing&quot;)\n    version = &quot;21.0.1&quot;\n}\n\napplication {\n    mainClass.set(&quot;com.example.Main&quot;)\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;com.h2database:h2:2.2.224&quot;)\n}\n</code></pre>\n<h2>Execution</h2>\n<p>You would execute the above with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>./gradlew run\n</code></pre>\n<p>Note <code>./gradlew</code> invokes the <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"nofollow noreferrer\">Gradle Wrapper</a>. If you have a version of Gradle installed on your computer, then you can generate a wrapper for version 8.4 via:</p>\n<pre class=\"lang-none prettyprint-override\"><code>gradle wrapper --gradle-version 8.4\n</code></pre>\n<hr />\n<p><sup>1. JavaFX does not technically support being loaded from the class-path. That means ideally the JavaFX modules should be on the module-path and resolved as named modules, even if your own code and other dependencies are loaded form the class-path. However, I am not aware of anything that <em>breaks</em> if JavaFX is on the class-path (at least as of JavaFX 21), except that your main class can no longer be a subclass of <code>javafx.application.Application</code> (you would need a separate &quot;launcher class&quot; as the main class). Just know that anything that breaks specifically because JavaFX is on the class-path is unlikely to be fixed by the JavaFX team.</sup></p>\n<p><sup>Note that the Gradle and Maven plugins provided by OpenJFX configure those build tools to put JavaFX on the module-path.</sup></p>\n"}],"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77512808,"answer_count":1,"score":1,"last_activity_date":1700511515,"creation_date":1700427227,"question_id":77512467,"body_markdown":"I&#39;m struggling for quite some time now to save a small image in a database and load it to be used as a javafx.scene.image.Image. Several solutions that I tried involved using SwingFXUtils.fromFXImage and SwingFXUtils.toFxImage, but it appears that the class requires an entry in the module-info.java file, which I didn&#39;t even intend to use. \r\n\r\nI&#39;m getting this exception: `java.lang.NoClassDefFoundError: javafx/embed/swing/SwingFXUtils` when trying to use SwingFXUtils.\r\n\r\nWhen I use the module system, it breaks another library that I&#39;m using (itextpdf).\r\nSo I&#39;d like to avoid that and just find another way to save and load a JavaFX image from DB.\r\nAny suggestions?","title":"loading and saving JavaFX Image to DB","body":"<p>I'm struggling for quite some time now to save a small image in a database and load it to be used as a javafx.scene.image.Image. Several solutions that I tried involved using SwingFXUtils.fromFXImage and SwingFXUtils.toFxImage, but it appears that the class requires an entry in the module-info.java file, which I didn't even intend to use.</p>\n<p>I'm getting this exception: <code>java.lang.NoClassDefFoundError: javafx/embed/swing/SwingFXUtils</code> when trying to use SwingFXUtils.</p>\n<p>When I use the module system, it breaks another library that I'm using (itextpdf).\nSo I'd like to avoid that and just find another way to save and load a JavaFX image from DB.\nAny suggestions?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1664811458,"post_id":73934907,"comment_id":130551114,"body_markdown":"`org.apache.poi.xssf.usermodel` is in `poi-ooxml-5.2.3.jar` in the distribution; the JAR needs to be in your class path.","body":"<code>org.apache.poi.xssf.usermodel</code> is in <code>poi-ooxml-5.2.3.jar</code> in the distribution; the JAR needs to be in your class path."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1664832251,"post_id":73934907,"comment_id":130557107,"body_markdown":"See https://poi.apache.org/components/index.html#components for which bits of Apache POI live in what jars, and what their dependencies are. That said - you almost certainly want a dependency manager like Maven or Gradle to take care of all of this for you!","body":"See <a href=\"https://poi.apache.org/components/index.html#components\" rel=\"nofollow noreferrer\">poi.apache.org/components/index.html#components</a> for which bits of Apache POI live in what jars, and what their dependencies are. That said - you almost certainly want a dependency manager like Maven or Gradle to take care of all of this for you!"}],"answers":[{"tags":[],"owner":{"account_id":24365613,"reputation":36,"user_id":18299392,"display_name":"cls_404"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664873590,"creation_date":1664873590,"answer_id":73945322,"question_id":73934907,"body_markdown":"So the issue was with dependencies. I haven&#39;t added the required dependencies properly to the project I wanted the dependencies to work on.\r\n\r\n**How to add dependencies (IntelliJ Idea)**\r\n\r\nFile -&gt; Project Structure -&gt; Modules -&gt; Dependencies ","title":"package org.apache.poi.xssf.usermodel does not exist","body":"<p>So the issue was with dependencies. I haven't added the required dependencies properly to the project I wanted the dependencies to work on.</p>\n<p><strong>How to add dependencies (IntelliJ Idea)</strong></p>\n<p>File -&gt; Project Structure -&gt; Modules -&gt; Dependencies</p>\n"}],"owner":{"account_id":24365613,"reputation":36,"user_id":18299392,"display_name":"cls_404"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73945322,"answer_count":1,"score":-1,"last_activity_date":1700511394,"creation_date":1664797246,"question_id":73934907,"body_markdown":"I have an application that stores data of a train seat booking system.&lt;br/&gt;\r\nI&#39;m using apache poi to read and write the data to an excel file.\r\nApache-poi version: 5.2.2, 5.2.3 (downloaded from [this link][1])\r\n\r\n\r\n  [1]: https://www.apache.org/dyn/closer.lua/poi/release/bin/poi-bin-5.2.3-20220909.zip\r\n\r\n    //import org.apache.commons.lang3.ArrayUtils;\r\n    //package org.apache.commons.lang3;\r\n    package com.company;\r\n\r\n    import org.apache.poi.xssf.usermodel.XSSFCell;\r\n    import org.apache.poi.xssf.usermodel.XSSFRow;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    public class Train\r\n    {\r\n        public static void main(String[] args) throws IOException {\r\n            int coachNumber = 0;\r\n            String roomName = null; // This will be the coach assigned to the customer\r\n            String choice = &quot;&quot;;\r\n            String deleteCustomer;\r\n            int foundCustomerIndex = 0;\r\n\r\n            String[] customer = new String[11];\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            //initialise\r\n            initialise(customer); //better to initialise in a procedure\r\n\r\n\r\n                while (!choice.equals(&quot;Q&quot;)) {\r\n                    System.out.println(&quot;\\n===== Menu =====&quot; +\r\n                            &quot;\\nA - Add Customers\\n&quot; +\r\n                            &quot;V - View All Coaches\\n&quot; +\r\n                            &quot;E - Display Empty Coaches\\n&quot; +\r\n                            &quot;D - Delete Customer From Coach\\n&quot; +\r\n                            &quot;F - Find Coach From Customer name\\n&quot; +\r\n                            &quot;S - Store program data into file\\n&quot; +\r\n                            &quot;L - Load program data from file\\n&quot; +\r\n                            &quot;O - View guests Ordered alphabetically by name\\n&quot; +\r\n                            &quot;Q - To exit\\n&quot; +\r\n                            &quot;================\\n&quot;);\r\n\r\n                    System.out.print(&quot;\\nEnter a letter from above to proceed: &quot;);\r\n\r\n                    try {\r\n                        choice = input.next();\r\n                    }\r\n                    catch (Exception e) {\r\n                        System.out.println(&quot;Exception Handled.\\nEnter valid input&quot;);\r\n                        System.out.print(&quot;\\nEnter a letter from above to proceed: &quot;);\r\n                        choice = input.next();\r\n                    }\r\n\r\n                        switch (choice.toUpperCase(Locale.ROOT)) {\r\n\r\n    // Case A --&gt;\r\n                            //Add Customer\r\n                        case &quot;A&quot;:\r\n                            System.out.println(&quot;\\n===== Add Customer =====\\n&quot;);\r\n                            System.out.println(&quot;Enter coach number (0-9) or 10 to stop:&quot;);\r\n                            coachNumber = input.nextInt();\r\n\r\n                            System.out.println(&quot;Enter your name for coach &quot; + coachNumber + &quot; :&quot;);\r\n                            roomName = input.next();\r\n                            customer[coachNumber] = roomName;\r\n\r\n                            break;\r\n\r\n    // case V\r\n                            // View All coaches\r\n                            case &quot;V&quot;:\r\n                                System.out.println(&quot;\\n===== View All coaches =====\\n&quot;);\r\n\r\n\r\n                            for (int x = 0; x &lt; 10; x++) {\r\n                                System.out.println(&quot;coach &quot; + x + &quot; occupied by &quot; + customer[x]);\r\n                            }\r\n                            break;\r\n\r\n    // Case E --&gt;\r\n                        // Display Empty coaches\r\n                        case &quot;E&quot;:\r\n                            System.out.println(&quot;\\n===== Empty Coaches =====\\n&quot;);\r\n\r\n                            for (int x = 0; x &lt; 10; x++) {\r\n                                if (customer[x].equals(&quot;e&quot;)) {\r\n                                    System.out.println(&quot;coach &quot; + x + &quot; is empty&quot;);\r\n                                }\r\n                            }\r\n                            break;\r\n\r\n    // Case D --&gt;\r\n                        // Delete a Customer from Coach\r\n                        case &quot;D&quot;:\r\n\r\n                            System.out.println(&quot;\\n===== Delete a Customer from Coach =====\\n&quot;);\r\n\r\n                            System.out.println(&quot;Enter customer name to delete: &quot;);\r\n                            deleteCustomer = input.next();\r\n\r\n                            for (int i = 0; i &lt; 10; i++) {\r\n                                if (customer[i] == &quot;e&quot;)\r\n                                    continue;\r\n                                else {\r\n                                    customer[i] = &quot;e&quot;;\r\n                                    roomName = &quot;e&quot;;\r\n                                    System.out.println(&quot;\\nCustomer &quot; + deleteCustomer + &quot; has been removed!&quot;);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            break;\r\n\r\n    // Case F --&gt;\r\n                        // Find Coach from customer name\r\n                        case &quot;F&quot;:\r\n                            System.out.println(&quot;\\n===== Find Coach from customer name =====\\n&quot;);\r\n\r\n                            String findCustomerName;\r\n                            System.out.println(&quot;Find Customer Name: &quot;);\r\n                            findCustomerName = input.next();\r\n\r\n                            for (int i = 0; i &lt; customer.length; i++) {\r\n                                if (findCustomerName.equals(customer[i])) {\r\n                                    System.out.println(&quot;Customer Found.\\nCabin Number: &quot; + i);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            break;\r\n\r\n    // Case S --&gt;\r\n                        // Store/ Write program data into file\r\n                        case &quot;S&quot;:\r\n                            System.out.println(&quot;\\n===== Store program data into file =====\\n&quot;);\r\n                            XSSFWorkbook workbook = new XSSFWorkbook(); //Empty workbook\r\n                            XSSFSheet sheet = workbook.createSheet(&quot;Emp Info&quot;); //Empty sheet\r\n\r\n                            // Adding data to the sheet\r\n                            Object empdata[][] = {\r\n                                    {&quot;coachNo.&quot;, &quot;name&quot;}, //Header\r\n                                    {coachNumber, roomName},\r\n\r\n                            };\r\n\r\n                            // Using normal loop\r\n                            int rows = empdata.length;\r\n                            int cols = empdata[0].length;\r\n    //                    System.out.println(rows); //4 rows\r\n    //                    System.out.println(cols); //3 columns\r\n\r\n                                for (int r = 0; r &lt; rows; r++) //rows\r\n                            {\r\n                                XSSFRow row = sheet.createRow(r); //Create new row\r\n\r\n                                for (int c = 0; c &lt; cols; c++) //cells\r\n                                {\r\n                                    XSSFCell cell = row.createCell(c); //Creating cell\r\n                                    Object value = empdata[r][c]; //cell location\r\n\r\n                                    if (value instanceof String)\r\n                                        cell.setCellValue((String) value);\r\n                                    if (value instanceof Integer)\r\n                                        cell.setCellValue((Integer) value);\r\n                                    if (value instanceof Boolean)\r\n                                        cell.setCellValue((Boolean) value);\r\n                                }\r\n                            }\r\n\r\n                            String filePath = &quot;.\\\\writeCustomers.xlsx&quot;; //Save location for the excel file\r\n                            FileOutputStream outstream = new FileOutputStream(filePath);\r\n                            workbook.write(outstream);\r\n\r\n                            outstream.close();\r\n\r\n                            System.out.println(&quot;\\nFile has been written successfully.\\nFilename: writeCustomers.xlsx ...&quot;);\r\n                            break;\r\n\r\n    // Case L --&gt;\r\n                        // Load/ Read program data from file\r\n                        case &quot;L&quot;:\r\n                            System.out.println(&quot;\\n===== Load program data from file =====\\n&quot;);\r\n\r\n                            String excelFilePath = &quot;.\\\\writeCustomers.xlsx&quot;; //Read file location\r\n                            FileInputStream inputStream = new FileInputStream(excelFilePath); //File opens in read mode\r\n\r\n                            XSSFWorkbook readWorkbook = new XSSFWorkbook(inputStream); //Getting workbook from poi\r\n\r\n                            XSSFSheet readSheet = readWorkbook.getSheet(&quot;Emp Info&quot;); // Sheet Name\r\n\r\n\r\n                            // With iterators\r\n\r\n                            Iterator iterator = readSheet.iterator(); // To capture all the data into iterator\r\n\r\n\r\n                            while (iterator.hasNext()) // Checking the iterator has the next record\r\n                            {\r\n                                XSSFRow row = (XSSFRow) iterator.next(); //Row iterator\r\n                                Iterator cellIterator = row.cellIterator(); //iterate all the cells\r\n\r\n                                while (cellIterator.hasNext()) //Checking cell present or not\r\n                                {\r\n                                    XSSFCell cell = (XSSFCell) cellIterator.next();\r\n\r\n                                    switch (cell.getCellType()) //Type of the cell\r\n                                    {\r\n                                        case STRING: //if cell type string\r\n                                            System.out.print(cell.getRichStringCellValue());\r\n                                            break;\r\n\r\n                                        case NUMERIC:\r\n                                            System.out.print(cell.getNumericCellValue());\r\n                                            break;\r\n\r\n                                        case BOOLEAN:\r\n                                            System.out.print(cell.getBooleanCellValue());\r\n                                            break;\r\n                                    }\r\n                                    System.out.print(&quot;  |  &quot;);\r\n                                }\r\n                                System.out.println();\r\n                            }\r\n                            break;\r\n\r\n    // Case O --&gt;\r\n                        // View guest name in alphabetic order\r\n                        case &quot;O&quot;:\r\n                            System.out.println(&quot;\\n===== View guest name in alphabetic order =====\\n&quot;);\r\n\r\n                            //customer is the array name\r\n                            for (int i = 0; i &lt; customer.length - 1; i++) {\r\n                                for (int j = i + 1; j &lt; customer.length; j++) {\r\n                                    if (customer[i].compareTo(customer[j]) &gt; 0) {\r\n                                        String temp = customer[i];\r\n                                        customer[i] = customer[j];\r\n                                        customer[j] = temp;\r\n                                    }\r\n                                }\r\n                            }\r\n                            System.out.println(Arrays.toString(customer));\r\n                            break;\r\n\r\n    // Case Q --&gt;\r\n                        // Exit\r\n                        case &quot;Q&quot;:\r\n                            System.out.println(&quot;\\nYou have exitted the program.&quot;);\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n    private static String[] sortArray(String[] customer)\r\n    {\r\n        for (int i = 0; i&lt;10; i++)\r\n        {\r\n            for(int j = i + 1; j &gt; 0; j--)\r\n            {\r\n                if(customer[j].compareTo(customer[j-1]) &lt; 0)\r\n                {\r\n                    String temp = customer[j];\r\n                    customer[j] = customer[j-1];\r\n                    customer[j-1] = temp;\r\n                }\r\n            }\r\n        }\r\n        return customer;\r\n    }\r\n\r\n\r\n    // to view all coaches with e [empty]\r\n    private static void initialise(String hotelRef[]) {\r\n        for (int x = 0; x &lt; 10; x++) hotelRef[x] = &quot;e&quot;;\r\n        System.out.println(&quot;initilise &quot;);\r\n        }\r\n    }\r\n\r\n\r\nThe excel file is used in ` case &quot;S&quot;:` and ` case &quot;L&quot;:` \r\nBut I&#39;m getting this error when I execute this code on my IntelliJ idea (default IDE. Updated up to date): **package org.apache.poi.xssf.usermodel does not exist** &lt;br/&gt;I have no idea how this happens. But my original code did not give this error. (Original in the sense I developed this code in a separate folder and later broke them into subfolders because my assignment wants me to do so)&lt;br/&gt;\r\nI had this issue before and replaced the old folder with the updated code, but this error still occurs.\r\n&lt;br/&gt;I can&#39;t include photos to this because I don&#39;t have enough\r\n reputation.&lt;br/&gt;\r\nHelp me with this and show some love :)","title":"package org.apache.poi.xssf.usermodel does not exist","body":"<p>I have an application that stores data of a train seat booking system.<br/>\nI'm using apache poi to read and write the data to an excel file.\nApache-poi version: 5.2.2, 5.2.3 (downloaded from <a href=\"https://www.apache.org/dyn/closer.lua/poi/release/bin/poi-bin-5.2.3-20220909.zip\" rel=\"nofollow noreferrer\">this link</a>)</p>\n<pre><code>//import org.apache.commons.lang3.ArrayUtils;\n//package org.apache.commons.lang3;\npackage com.company;\n\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.*;\npublic class Train\n{\n    public static void main(String[] args) throws IOException {\n        int coachNumber = 0;\n        String roomName = null; // This will be the coach assigned to the customer\n        String choice = &quot;&quot;;\n        String deleteCustomer;\n        int foundCustomerIndex = 0;\n\n        String[] customer = new String[11];\n        Scanner input = new Scanner(System.in);\n\n        //initialise\n        initialise(customer); //better to initialise in a procedure\n\n\n            while (!choice.equals(&quot;Q&quot;)) {\n                System.out.println(&quot;\\n===== Menu =====&quot; +\n                        &quot;\\nA - Add Customers\\n&quot; +\n                        &quot;V - View All Coaches\\n&quot; +\n                        &quot;E - Display Empty Coaches\\n&quot; +\n                        &quot;D - Delete Customer From Coach\\n&quot; +\n                        &quot;F - Find Coach From Customer name\\n&quot; +\n                        &quot;S - Store program data into file\\n&quot; +\n                        &quot;L - Load program data from file\\n&quot; +\n                        &quot;O - View guests Ordered alphabetically by name\\n&quot; +\n                        &quot;Q - To exit\\n&quot; +\n                        &quot;================\\n&quot;);\n\n                System.out.print(&quot;\\nEnter a letter from above to proceed: &quot;);\n\n                try {\n                    choice = input.next();\n                }\n                catch (Exception e) {\n                    System.out.println(&quot;Exception Handled.\\nEnter valid input&quot;);\n                    System.out.print(&quot;\\nEnter a letter from above to proceed: &quot;);\n                    choice = input.next();\n                }\n\n                    switch (choice.toUpperCase(Locale.ROOT)) {\n\n// Case A --&gt;\n                        //Add Customer\n                    case &quot;A&quot;:\n                        System.out.println(&quot;\\n===== Add Customer =====\\n&quot;);\n                        System.out.println(&quot;Enter coach number (0-9) or 10 to stop:&quot;);\n                        coachNumber = input.nextInt();\n\n                        System.out.println(&quot;Enter your name for coach &quot; + coachNumber + &quot; :&quot;);\n                        roomName = input.next();\n                        customer[coachNumber] = roomName;\n\n                        break;\n\n// case V\n                        // View All coaches\n                        case &quot;V&quot;:\n                            System.out.println(&quot;\\n===== View All coaches =====\\n&quot;);\n\n\n                        for (int x = 0; x &lt; 10; x++) {\n                            System.out.println(&quot;coach &quot; + x + &quot; occupied by &quot; + customer[x]);\n                        }\n                        break;\n\n// Case E --&gt;\n                    // Display Empty coaches\n                    case &quot;E&quot;:\n                        System.out.println(&quot;\\n===== Empty Coaches =====\\n&quot;);\n\n                        for (int x = 0; x &lt; 10; x++) {\n                            if (customer[x].equals(&quot;e&quot;)) {\n                                System.out.println(&quot;coach &quot; + x + &quot; is empty&quot;);\n                            }\n                        }\n                        break;\n\n// Case D --&gt;\n                    // Delete a Customer from Coach\n                    case &quot;D&quot;:\n\n                        System.out.println(&quot;\\n===== Delete a Customer from Coach =====\\n&quot;);\n\n                        System.out.println(&quot;Enter customer name to delete: &quot;);\n                        deleteCustomer = input.next();\n\n                        for (int i = 0; i &lt; 10; i++) {\n                            if (customer[i] == &quot;e&quot;)\n                                continue;\n                            else {\n                                customer[i] = &quot;e&quot;;\n                                roomName = &quot;e&quot;;\n                                System.out.println(&quot;\\nCustomer &quot; + deleteCustomer + &quot; has been removed!&quot;);\n                                break;\n                            }\n                        }\n                        break;\n\n// Case F --&gt;\n                    // Find Coach from customer name\n                    case &quot;F&quot;:\n                        System.out.println(&quot;\\n===== Find Coach from customer name =====\\n&quot;);\n\n                        String findCustomerName;\n                        System.out.println(&quot;Find Customer Name: &quot;);\n                        findCustomerName = input.next();\n\n                        for (int i = 0; i &lt; customer.length; i++) {\n                            if (findCustomerName.equals(customer[i])) {\n                                System.out.println(&quot;Customer Found.\\nCabin Number: &quot; + i);\n                                break;\n                            }\n                        }\n                        break;\n\n// Case S --&gt;\n                    // Store/ Write program data into file\n                    case &quot;S&quot;:\n                        System.out.println(&quot;\\n===== Store program data into file =====\\n&quot;);\n                        XSSFWorkbook workbook = new XSSFWorkbook(); //Empty workbook\n                        XSSFSheet sheet = workbook.createSheet(&quot;Emp Info&quot;); //Empty sheet\n\n                        // Adding data to the sheet\n                        Object empdata[][] = {\n                                {&quot;coachNo.&quot;, &quot;name&quot;}, //Header\n                                {coachNumber, roomName},\n\n                        };\n\n                        // Using normal loop\n                        int rows = empdata.length;\n                        int cols = empdata[0].length;\n//                    System.out.println(rows); //4 rows\n//                    System.out.println(cols); //3 columns\n\n                            for (int r = 0; r &lt; rows; r++) //rows\n                        {\n                            XSSFRow row = sheet.createRow(r); //Create new row\n\n                            for (int c = 0; c &lt; cols; c++) //cells\n                            {\n                                XSSFCell cell = row.createCell(c); //Creating cell\n                                Object value = empdata[r][c]; //cell location\n\n                                if (value instanceof String)\n                                    cell.setCellValue((String) value);\n                                if (value instanceof Integer)\n                                    cell.setCellValue((Integer) value);\n                                if (value instanceof Boolean)\n                                    cell.setCellValue((Boolean) value);\n                            }\n                        }\n\n                        String filePath = &quot;.\\\\writeCustomers.xlsx&quot;; //Save location for the excel file\n                        FileOutputStream outstream = new FileOutputStream(filePath);\n                        workbook.write(outstream);\n\n                        outstream.close();\n\n                        System.out.println(&quot;\\nFile has been written successfully.\\nFilename: writeCustomers.xlsx ...&quot;);\n                        break;\n\n// Case L --&gt;\n                    // Load/ Read program data from file\n                    case &quot;L&quot;:\n                        System.out.println(&quot;\\n===== Load program data from file =====\\n&quot;);\n\n                        String excelFilePath = &quot;.\\\\writeCustomers.xlsx&quot;; //Read file location\n                        FileInputStream inputStream = new FileInputStream(excelFilePath); //File opens in read mode\n\n                        XSSFWorkbook readWorkbook = new XSSFWorkbook(inputStream); //Getting workbook from poi\n\n                        XSSFSheet readSheet = readWorkbook.getSheet(&quot;Emp Info&quot;); // Sheet Name\n\n\n                        // With iterators\n\n                        Iterator iterator = readSheet.iterator(); // To capture all the data into iterator\n\n\n                        while (iterator.hasNext()) // Checking the iterator has the next record\n                        {\n                            XSSFRow row = (XSSFRow) iterator.next(); //Row iterator\n                            Iterator cellIterator = row.cellIterator(); //iterate all the cells\n\n                            while (cellIterator.hasNext()) //Checking cell present or not\n                            {\n                                XSSFCell cell = (XSSFCell) cellIterator.next();\n\n                                switch (cell.getCellType()) //Type of the cell\n                                {\n                                    case STRING: //if cell type string\n                                        System.out.print(cell.getRichStringCellValue());\n                                        break;\n\n                                    case NUMERIC:\n                                        System.out.print(cell.getNumericCellValue());\n                                        break;\n\n                                    case BOOLEAN:\n                                        System.out.print(cell.getBooleanCellValue());\n                                        break;\n                                }\n                                System.out.print(&quot;  |  &quot;);\n                            }\n                            System.out.println();\n                        }\n                        break;\n\n// Case O --&gt;\n                    // View guest name in alphabetic order\n                    case &quot;O&quot;:\n                        System.out.println(&quot;\\n===== View guest name in alphabetic order =====\\n&quot;);\n\n                        //customer is the array name\n                        for (int i = 0; i &lt; customer.length - 1; i++) {\n                            for (int j = i + 1; j &lt; customer.length; j++) {\n                                if (customer[i].compareTo(customer[j]) &gt; 0) {\n                                    String temp = customer[i];\n                                    customer[i] = customer[j];\n                                    customer[j] = temp;\n                                }\n                            }\n                        }\n                        System.out.println(Arrays.toString(customer));\n                        break;\n\n// Case Q --&gt;\n                    // Exit\n                    case &quot;Q&quot;:\n                        System.out.println(&quot;\\nYou have exitted the program.&quot;);\n                        break;\n                }\n            }\n        }\n\n\n\n\n\nprivate static String[] sortArray(String[] customer)\n{\n    for (int i = 0; i&lt;10; i++)\n    {\n        for(int j = i + 1; j &gt; 0; j--)\n        {\n            if(customer[j].compareTo(customer[j-1]) &lt; 0)\n            {\n                String temp = customer[j];\n                customer[j] = customer[j-1];\n                customer[j-1] = temp;\n            }\n        }\n    }\n    return customer;\n}\n\n\n// to view all coaches with e [empty]\nprivate static void initialise(String hotelRef[]) {\n    for (int x = 0; x &lt; 10; x++) hotelRef[x] = &quot;e&quot;;\n    System.out.println(&quot;initilise &quot;);\n    }\n}\n</code></pre>\n<p>The excel file is used in <code> case &quot;S&quot;:</code> and <code> case &quot;L&quot;:</code>\nBut I'm getting this error when I execute this code on my IntelliJ idea (default IDE. Updated up to date): <strong>package org.apache.poi.xssf.usermodel does not exist</strong> <br/>I have no idea how this happens. But my original code did not give this error. (Original in the sense I developed this code in a separate folder and later broke them into subfolders because my assignment wants me to do so)<br/>\nI had this issue before and replaced the old folder with the updated code, but this error still occurs.\n<br/>I can't include photos to this because I don't have enough\nreputation.<br/>\nHelp me with this and show some love :)</p>\n"},{"tags":["java","spring","kubernetes"],"owner":{"account_id":9872428,"reputation":253,"user_id":7311531,"display_name":"David Araujo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700511264,"creation_date":1700511264,"question_id":77518646,"body_markdown":"I have a solution that use nginx with ingress and spring gateway on minikube. I have tested a request to the gateway using the ingress, but the request does not get to the gateway, even the actuator endpoint of the gateway does not reveice the request.\r\n\r\nConfiguration of the ingress and use the command `minikube addons enable ingress`on minikube\r\n\r\n\r\n    apiVersion: networking.k8s.io/v1\r\n    kind: Ingress\r\n    metadata:\r\n      name: ingress-service\r\n    spec:\r\n      ingressClassName: nginx\r\n      rules:\r\n        #- host: &quot;microservices-cluster.info&quot;\r\n        - http:\r\n            paths:\r\n              - path: /\r\n                pathType: Prefix\r\n                backend:\r\n                  service:\r\n                    name: gateway-service\r\n                    port:\r\n                      number: 80\r\n\r\ngateway\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: gateway-service\r\n      labels:\r\n        app: gateway-service\r\n    spec:\r\n      replicas: 1\r\n      selector:\r\n        matchLabels:\r\n          app: gateway-service\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: gateway-service\r\n        spec:\r\n          containers:\r\n            - name: gateway-service\r\n              image: jdavidaraujo/gateway-service:latest\r\n              ports:\r\n                - containerPort: 8080\r\n              env:\r\n                - name: POI_SERVICE_URL\r\n                  value: http://poi-service\r\n                - name: VEHICLE_SERVICE_URL\r\n                  value: http://vehicle-service\r\n                - name: VEHICLE_POSTION_SEARCH_SERVICE_URL\r\n                  value: http://vehicle-position-search-service\r\n    ---\r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: gateway-service\r\n      labels:\r\n        app: gateway-service\r\n    spec:\r\n      selector:\r\n        app: gateway-service\r\n      ports:\r\n        - protocol: TCP\r\n          port: 80\r\n          targetPort: 8080\r\n      type: ClusterIP\r\n\r\n\r\nSpring Gateway\r\n\r\n    spring:\r\n      application:\r\n        name: gateway-service\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: poi-route\r\n              uri: ${POI_SERVICE_URL:http://localhost:8082}/v1/pois\r\n              predicates:\r\n                - Path=/v1/pois/**\r\n            - id: vehicle-route\r\n              uri: ${VEHICLE_SERVICE_URL:http://localhost:8081}/v1/veiculos\r\n              predicates:\r\n                - Path=/v1/veiculos/**\r\n            - id: vehicle-route\r\n              uri: ${VEHICLE_SERVICE_URL:http://localhost:8081}/v1/posicoes\r\n              predicates:\r\n                - Path=/v1/posicoes/**\r\n            - id: vehicle-position-search-route\r\n              uri: ${VEHICLE_POSTION_SEARCH_SERVICE_URL:http://localhost:8080}/v1/veiculos-poi\r\n              predicates:\r\n                - Path=/v1/veiculos-poi/**\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: &quot;*&quot;\r\n\r\npoi-service\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: poi-service\r\n      labels:\r\n        app: poi-service\r\n    spec:\r\n      replicas: 1\r\n      selector:\r\n        matchLabels:\r\n          app: poi-service\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: poi-service\r\n        spec:\r\n        #  serviceAccountName: spring-cloud-kubernetes\r\n          containers:\r\n            - name: poi-service\r\n              image: jdavidaraujo/vehicle-position-solution_poi-service:latest\r\n              ports:\r\n                - containerPort: 8080\r\n              env:\r\n                - name: SPRING_DATASOURCE_URL\r\n                  value: &quot;jdbc:postgresql://postgres:5432/tb_veiculo&quot;\r\n                - name: SPRING_DATASOURCE_USERNAME\r\n                  value: &quot;postgres&quot;\r\n                - name: SPRING_DATASOURCE_PASSWORD\r\n                  value: &quot;postgres&quot;\r\n                - name: SPRING_REDIS_HOST\r\n                  value: &quot;redis&quot;\r\n                - name: SPRING_REDIS_PORT\r\n                  value: &quot;6379&quot;\r\n    ---\r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: poi-service\r\n      labels:\r\n        app: poi-service\r\n    spec:\r\n      selector:\r\n        app: poi-service\r\n      ports:\r\n        - protocol: TCP\r\n          port: 8082\r\n          targetPort: 8080\r\n      type: ClusterIP\r\n    ---\r\n    apiVersion: autoscaling/v2\r\n    kind: HorizontalPodAutoscaler\r\n    metadata:\r\n      name: poi-service\r\n    spec:\r\n      scaleTargetRef:\r\n        apiVersion: apps/v1\r\n        kind: Deployment\r\n        name: poi-service\r\n      minReplicas: 2\r\n      maxReplicas: 4\r\n      metrics:\r\n        - type: Resource\r\n          resource:\r\n            name: cpu\r\n            target:\r\n              type: Utilization\r\n              averageUtilization: 50\r\n\r\n\r\n","title":"Integrate ingress nginx with spring gateway","body":"<p>I have a solution that use nginx with ingress and spring gateway on minikube. I have tested a request to the gateway using the ingress, but the request does not get to the gateway, even the actuator endpoint of the gateway does not reveice the request.</p>\n<p>Configuration of the ingress and use the command <code>minikube addons enable ingress</code>on minikube</p>\n<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: ingress-service\nspec:\n  ingressClassName: nginx\n  rules:\n    #- host: &quot;microservices-cluster.info&quot;\n    - http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: gateway-service\n                port:\n                  number: 80\n</code></pre>\n<p>gateway</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: gateway-service\n  labels:\n    app: gateway-service\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: gateway-service\n  template:\n    metadata:\n      labels:\n        app: gateway-service\n    spec:\n      containers:\n        - name: gateway-service\n          image: jdavidaraujo/gateway-service:latest\n          ports:\n            - containerPort: 8080\n          env:\n            - name: POI_SERVICE_URL\n              value: http://poi-service\n            - name: VEHICLE_SERVICE_URL\n              value: http://vehicle-service\n            - name: VEHICLE_POSTION_SEARCH_SERVICE_URL\n              value: http://vehicle-position-search-service\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: gateway-service\n  labels:\n    app: gateway-service\nspec:\n  selector:\n    app: gateway-service\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: 8080\n  type: ClusterIP\n</code></pre>\n<p>Spring Gateway</p>\n<pre><code>spring:\n  application:\n    name: gateway-service\n  cloud:\n    gateway:\n      routes:\n        - id: poi-route\n          uri: ${POI_SERVICE_URL:http://localhost:8082}/v1/pois\n          predicates:\n            - Path=/v1/pois/**\n        - id: vehicle-route\n          uri: ${VEHICLE_SERVICE_URL:http://localhost:8081}/v1/veiculos\n          predicates:\n            - Path=/v1/veiculos/**\n        - id: vehicle-route\n          uri: ${VEHICLE_SERVICE_URL:http://localhost:8081}/v1/posicoes\n          predicates:\n            - Path=/v1/posicoes/**\n        - id: vehicle-position-search-route\n          uri: ${VEHICLE_POSTION_SEARCH_SERVICE_URL:http://localhost:8080}/v1/veiculos-poi\n          predicates:\n            - Path=/v1/veiculos-poi/**\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n</code></pre>\n<p>poi-service</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: poi-service\n  labels:\n    app: poi-service\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: poi-service\n  template:\n    metadata:\n      labels:\n        app: poi-service\n    spec:\n    #  serviceAccountName: spring-cloud-kubernetes\n      containers:\n        - name: poi-service\n          image: jdavidaraujo/vehicle-position-solution_poi-service:latest\n          ports:\n            - containerPort: 8080\n          env:\n            - name: SPRING_DATASOURCE_URL\n              value: &quot;jdbc:postgresql://postgres:5432/tb_veiculo&quot;\n            - name: SPRING_DATASOURCE_USERNAME\n              value: &quot;postgres&quot;\n            - name: SPRING_DATASOURCE_PASSWORD\n              value: &quot;postgres&quot;\n            - name: SPRING_REDIS_HOST\n              value: &quot;redis&quot;\n            - name: SPRING_REDIS_PORT\n              value: &quot;6379&quot;\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: poi-service\n  labels:\n    app: poi-service\nspec:\n  selector:\n    app: poi-service\n  ports:\n    - protocol: TCP\n      port: 8082\n      targetPort: 8080\n  type: ClusterIP\n---\napiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: poi-service\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: poi-service\n  minReplicas: 2\n  maxReplicas: 4\n  metrics:\n    - type: Resource\n      resource:\n        name: cpu\n        target:\n          type: Utilization\n          averageUtilization: 50\n</code></pre>\n"},{"tags":["java","class","polymorphism","abstract-class"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700587546,"post_id":77518451,"comment_id":136672033,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29951451,"reputation":1,"user_id":22953422,"display_name":"Suryaa KR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700509060,"creation_date":1700508904,"question_id":77518451,"body_markdown":"I have created a class with the following attributes and methods.\r\n\r\nI think there is a fundamental issue with my implementation. When I import this signalwrapper class into my test framework, I receive the following error - LinkageError Duplicate class definition.  \r\n  \r\nTried rebuilding and even creating a new workspace to resolve the duplication, but nothing hasn&#39;t worked so far.  \r\n  \r\nCan someone point out the issue? \r\n\r\n```\r\npublic class Signalwrapper  {\r\n\r\n    // Main Signalwrapper attributes \r\n    public enum Configuration {\r\n        Parken_High, TVHigh, RVC_eSmart\r\n    }\r\n\r\n    public enum Signal {\r\n        s_vps_PaCoMainState,\r\n        s_en_APS_PaCo_WarningTones__possible,\r\n        s_en_APS_PaCo_WarningTones__not_possible\r\n    }\r\n\r\n    private static Configuration configuration;\r\n    private static Map&lt;Signal, BaseSignalType&gt; signalInstances = new HashMap&lt;&gt;();\r\n\r\n\r\n    /////////////////// AUTOMATION //////////////////////////////\r\n\r\n    // When Config is set - Signals are automatically triggred - set to the Default intilaize values\r\n    public static void setConfiguration(Configuration config) {\r\n        configuration = config;\r\n        initializeSignals();\r\n    }\r\n\r\n    // Automation Opputunity - Signal Objects being automatically instnaced once the Config is set \r\n    private static void initializeSignals() {\r\n        // Initialize and store instances \r\n        signalInstances.put(Signal.s_vps_PaCoMainState, new s_vps_PaCoMainState());\r\n        \r\n        //signalInstances.put(Signal.s_en_APS_PaCo_WarningTones__possible, new s_en_APS_PaCo_WarningTones__possible());\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////\r\n\r\n\r\n    //IN PROGRESS\r\n\r\n    // Romans Preference \r\n    // COnvinence method to reduce multiple dictionary suggestion in main or excuting \r\n    public static BaseSignalType s_vps_PaCoMainState() {\r\n        return getSignalInstance(Signal.s_vps_PaCoMainState);\r\n    }\r\n\r\n    public static BaseSignalType s_en_APS_PaCo_WarningTones__possible() {\r\n        return getSignalInstance(Signal.s_en_APS_PaCo_WarningTones__possible);\r\n    }\r\n\r\n    /////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n\r\n    public static BaseSignalType getSignalInstance(Signal signalType) {\r\n        return signalInstances.get(signalType);\r\n    }\r\n\r\n    public static Configuration getConfiguration() {\r\n        return configuration;\r\n    }\r\n\r\n\r\n    // BaseSignalType - nested\r\n    public abstract static class BaseSignalType {\r\n        protected AllSignals allSignals;\r\n        protected int waitTime;\r\n        //**Debugging\r\n        //protected UInt8SignalValue busSignal;\r\n        protected int busSignal;\r\n        protected UInt8SignalValue checkSignal;\r\n        protected boolean isSet;\r\n\r\n        public BaseSignalType() {\r\n            initialize(); // Call within constructor //Not sure if it might cause other issues \r\n        }\r\n\r\n        public abstract void initialize();\r\n\r\n        //**Debugging - change it back to UInt8SignalValue\r\n        public int getBusSignal() {\r\n            return this.busSignal;\r\n        }\r\n\r\n        public UInt8SignalValue getCheckSignal() {\r\n            return this.checkSignal;\r\n        }\r\n\r\n        public int setBusSignal(int setValue){\r\n            this.busSignal = setValue;\r\n            return this.busSignal;\r\n        }\r\n\r\n        public boolean isSet() {\r\n            return this.isSet;\r\n        }\r\n\r\n    }\r\n\r\n    //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Config Dependant Example  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\r\n\r\n\r\n    public static class s_vps_PaCoMainState extends BaseSignalType {\r\n        @Override // Overridiing initialise as our requirment - Config Dependency for OPS Stuff\r\n        public void initialize() {\r\n            //  initialization logic based on the configuration\r\n            switch (Signalwrapper.getConfiguration()) {\r\n                case TVHigh:\r\n//\t\t            this.busSignal = allSignals.VLAN_FAS_0x2_HCP2_1_HCP5__SK_VPS_01_mFAS__VPS_01__VPS_PaCo_MainState; // Replace with actual signal for TVHigh\r\n//\t\t            this.checkSignal = allSignals.VLAN_Komfort_0x5_HCP5_HCP4__SK_VPS_01_mFAS__VPS_01__VPS_PaCo_MainState;\r\n                    //this.checkSignal = \r\n                    this.waitTime = 1000;\r\n                    break;\r\n                case RVC_eSmart:\r\n                    //***Debugging \r\n                    this.busSignal = 5;\r\n//                    this.busSignal = allSignals.VLAN_FAS_0x2_RVC_eSmart_HCP5__SK_VPS_01_UmfKam_H__VPS_01__VPS_PaCo_MainState;\r\n//                    this.isSet = this.busSignal.setValue((short) 1); \r\n                    \r\n                    //*** TEsting\r\n                    this.checkSignal = allSignals.VLAN_FAS_0x2_RVC_eSmart_HCP5__SK_VPS_01_UmfKam_H__VPS_01__VPS_PaCo_MainState;\r\n                    //this.isSet = this.checkSignal.setValue((short) 1);\r\n                    //this.isSet = true;// Set the value to 1\r\n                    //sleep(1000);\r\n                    this.waitTime = 800;\r\n                    break;\r\n                case Parken_High:\r\n                    break;\r\n                default:\r\n                    // Default \r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    //////////////////////////////////////////////////\r\n\r\n    public static class s_en_APS_PaCo_WarningTones__possible extends BaseSignalType {\r\n        @Override\r\n        public void initialize() {\r\n            //this.checkSignal = allSignals.VLAN_Komfort_0x5_HCP4_HCP5__SK_BCM1_03__Parkhilfe_04__OPS_PB_PaCo_WarningTones;\r\n            //this.checkSignal.setValue((short) 1);\r\n\r\n            this.busSignal = 21;\r\n            this.checkSignal = null;\r\n            //sleep(1000); // Messina TEstcase Sleep is giving trouble - works only under run()\r\n            //Workaround\r\n//            try {\r\n//                Thread.sleep(1000); // Sleep for 1 second\r\n//            } catch (InterruptedException e) {\r\n//                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nSignalwrapper.setConfiguration(Signalwrapper.Configuration.RVC_eSmart);\r\n\r\nmain code, which should automatically initialise vps mainstate class. I receive the linkage error whenever I try to import the library to my testframe work which runs on java - Eclipse IDE.\r\n\r\n[enter image description here][1]\r\n\r\nBTW I am a humble beginner to programming -- your advice and help is much appreciated, thanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7KITS.png","title":"Class loader issue - duplicate class definition for name -LinkageError","body":"<p>I have created a class with the following attributes and methods.</p>\n<p>I think there is a fundamental issue with my implementation. When I import this signalwrapper class into my test framework, I receive the following error - LinkageError Duplicate class definition.</p>\n<p>Tried rebuilding and even creating a new workspace to resolve the duplication, but nothing hasn't worked so far.</p>\n<p>Can someone point out the issue?</p>\n<pre><code>public class Signalwrapper  {\n\n    // Main Signalwrapper attributes \n    public enum Configuration {\n        Parken_High, TVHigh, RVC_eSmart\n    }\n\n    public enum Signal {\n        s_vps_PaCoMainState,\n        s_en_APS_PaCo_WarningTones__possible,\n        s_en_APS_PaCo_WarningTones__not_possible\n    }\n\n    private static Configuration configuration;\n    private static Map&lt;Signal, BaseSignalType&gt; signalInstances = new HashMap&lt;&gt;();\n\n\n    /////////////////// AUTOMATION //////////////////////////////\n\n    // When Config is set - Signals are automatically triggred - set to the Default intilaize values\n    public static void setConfiguration(Configuration config) {\n        configuration = config;\n        initializeSignals();\n    }\n\n    // Automation Opputunity - Signal Objects being automatically instnaced once the Config is set \n    private static void initializeSignals() {\n        // Initialize and store instances \n        signalInstances.put(Signal.s_vps_PaCoMainState, new s_vps_PaCoMainState());\n        \n        //signalInstances.put(Signal.s_en_APS_PaCo_WarningTones__possible, new s_en_APS_PaCo_WarningTones__possible());\n    }\n\n    ////////////////////////////////////////////////////////////\n\n\n    //IN PROGRESS\n\n    // Romans Preference \n    // COnvinence method to reduce multiple dictionary suggestion in main or excuting \n    public static BaseSignalType s_vps_PaCoMainState() {\n        return getSignalInstance(Signal.s_vps_PaCoMainState);\n    }\n\n    public static BaseSignalType s_en_APS_PaCo_WarningTones__possible() {\n        return getSignalInstance(Signal.s_en_APS_PaCo_WarningTones__possible);\n    }\n\n    /////////////////////////////////////////////////////////////////////////\n\n\n\n\n    public static BaseSignalType getSignalInstance(Signal signalType) {\n        return signalInstances.get(signalType);\n    }\n\n    public static Configuration getConfiguration() {\n        return configuration;\n    }\n\n\n    // BaseSignalType - nested\n    public abstract static class BaseSignalType {\n        protected AllSignals allSignals;\n        protected int waitTime;\n        //**Debugging\n        //protected UInt8SignalValue busSignal;\n        protected int busSignal;\n        protected UInt8SignalValue checkSignal;\n        protected boolean isSet;\n\n        public BaseSignalType() {\n            initialize(); // Call within constructor //Not sure if it might cause other issues \n        }\n\n        public abstract void initialize();\n\n        //**Debugging - change it back to UInt8SignalValue\n        public int getBusSignal() {\n            return this.busSignal;\n        }\n\n        public UInt8SignalValue getCheckSignal() {\n            return this.checkSignal;\n        }\n\n        public int setBusSignal(int setValue){\n            this.busSignal = setValue;\n            return this.busSignal;\n        }\n\n        public boolean isSet() {\n            return this.isSet;\n        }\n\n    }\n\n    //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Config Dependant Example  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n\n\n    public static class s_vps_PaCoMainState extends BaseSignalType {\n        @Override // Overridiing initialise as our requirment - Config Dependency for OPS Stuff\n        public void initialize() {\n            //  initialization logic based on the configuration\n            switch (Signalwrapper.getConfiguration()) {\n                case TVHigh:\n//                  this.busSignal = allSignals.VLAN_FAS_0x2_HCP2_1_HCP5__SK_VPS_01_mFAS__VPS_01__VPS_PaCo_MainState; // Replace with actual signal for TVHigh\n//                  this.checkSignal = allSignals.VLAN_Komfort_0x5_HCP5_HCP4__SK_VPS_01_mFAS__VPS_01__VPS_PaCo_MainState;\n                    //this.checkSignal = \n                    this.waitTime = 1000;\n                    break;\n                case RVC_eSmart:\n                    //***Debugging \n                    this.busSignal = 5;\n//                    this.busSignal = allSignals.VLAN_FAS_0x2_RVC_eSmart_HCP5__SK_VPS_01_UmfKam_H__VPS_01__VPS_PaCo_MainState;\n//                    this.isSet = this.busSignal.setValue((short) 1); \n                    \n                    //*** TEsting\n                    this.checkSignal = allSignals.VLAN_FAS_0x2_RVC_eSmart_HCP5__SK_VPS_01_UmfKam_H__VPS_01__VPS_PaCo_MainState;\n                    //this.isSet = this.checkSignal.setValue((short) 1);\n                    //this.isSet = true;// Set the value to 1\n                    //sleep(1000);\n                    this.waitTime = 800;\n                    break;\n                case Parken_High:\n                    break;\n                default:\n                    // Default \n                    break;\n            }\n        }\n    }\n\n    //////////////////////////////////////////////////\n\n    public static class s_en_APS_PaCo_WarningTones__possible extends BaseSignalType {\n        @Override\n        public void initialize() {\n            //this.checkSignal = allSignals.VLAN_Komfort_0x5_HCP4_HCP5__SK_BCM1_03__Parkhilfe_04__OPS_PB_PaCo_WarningTones;\n            //this.checkSignal.setValue((short) 1);\n\n            this.busSignal = 21;\n            this.checkSignal = null;\n            //sleep(1000); // Messina TEstcase Sleep is giving trouble - works only under run()\n            //Workaround\n//            try {\n//                Thread.sleep(1000); // Sleep for 1 second\n//            } catch (InterruptedException e) {\n//                Thread.currentThread().interrupt();\n            }\n        }\n    }\n</code></pre>\n<p>Signalwrapper.setConfiguration(Signalwrapper.Configuration.RVC_eSmart);</p>\n<p>main code, which should automatically initialise vps mainstate class. I receive the linkage error whenever I try to import the library to my testframe work which runs on java - Eclipse IDE.</p>\n<p><a href=\"https://i.stack.imgur.com/7KITS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>BTW I am a humble beginner to programming -- your advice and help is much appreciated, thanks</p>\n"},{"tags":["java","enums","static","singleton","classloader"],"answers":[{"tags":[],"owner":{"account_id":17000188,"reputation":121,"user_id":12297765,"display_name":"Ryan Moser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700497937,"creation_date":1700497937,"answer_id":77517512,"question_id":77517511,"body_markdown":"The construction results in the class-loading being order dependent (gross).\r\n\r\nIf you ask Java to use `MyClass` first:\r\n\r\n  * load `MyClass`\r\n      * set `INSTANCE`\r\n          * load `MyEnum`\r\n              * get `MyClass.INSTANCE`\r\n              * `MyClass.INSTANCE == null`, as it hasn&#39;t been set yet because we&#39;re literally in the process of setting it, so\r\n              * set `this.myClassInstance = null`\r\n          * set `this.enumValue = MyEnum.VALUE`\r\n\r\nThus, `INSTANCE` is _not_ `null` at the end of this load sequence, but it _was_ `null` when we grabbed it when we were instantiating the `enum` value.\r\n\r\nOn the other hand, if you ask Java to use `MyEnum` first:\r\n\r\n  * load `MyEnum`\r\n      * get `MyClass.INSTANCE`\r\n          * load `MyClass`\r\n              * set `INSTANCE`\r\n                  * get `MyEnum.VALUE`, which we&#39;re currently instantiating\r\n                  * set `this.myEnumValue = MyEnum.VALUE`\r\n              * `INSTANCE` is now non-`null`\r\n      * set `this.myClassInstance = MyClass.INSTANCE` where `MyClass.INSTANCE != null` because we just constructed it when loading `MyClass`\r\n\r\nAnd, thus, everything is set-up as expected.\r\n\r\n\r\n\r\nI did this by accident and am going to be reverting it because it is obviously a bad design choice.\r\n\r\nDon&#39;t do it.","title":"Recursive static enum and singleton definitions","body":"<p>The construction results in the class-loading being order dependent (gross).</p>\n<p>If you ask Java to use <code>MyClass</code> first:</p>\n<ul>\n<li>load <code>MyClass</code>\n<ul>\n<li>set <code>INSTANCE</code>\n<ul>\n<li>load <code>MyEnum</code>\n<ul>\n<li>get <code>MyClass.INSTANCE</code></li>\n<li><code>MyClass.INSTANCE == null</code>, as it hasn't been set yet because we're literally in the process of setting it, so</li>\n<li>set <code>this.myClassInstance = null</code></li>\n</ul>\n</li>\n<li>set <code>this.enumValue = MyEnum.VALUE</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Thus, <code>INSTANCE</code> is <em>not</em> <code>null</code> at the end of this load sequence, but it <em>was</em> <code>null</code> when we grabbed it when we were instantiating the <code>enum</code> value.</p>\n<p>On the other hand, if you ask Java to use <code>MyEnum</code> first:</p>\n<ul>\n<li>load <code>MyEnum</code>\n<ul>\n<li>get <code>MyClass.INSTANCE</code>\n<ul>\n<li>load <code>MyClass</code>\n<ul>\n<li>set <code>INSTANCE</code>\n<ul>\n<li>get <code>MyEnum.VALUE</code>, which we're currently instantiating</li>\n<li>set <code>this.myEnumValue = MyEnum.VALUE</code></li>\n</ul>\n</li>\n<li><code>INSTANCE</code> is now non-<code>null</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>set <code>this.myClassInstance = MyClass.INSTANCE</code> where <code>MyClass.INSTANCE != null</code> because we just constructed it when loading <code>MyClass</code></li>\n</ul>\n</li>\n</ul>\n<p>And, thus, everything is set-up as expected.</p>\n<p>I did this by accident and am going to be reverting it because it is obviously a bad design choice.</p>\n<p>Don't do it.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700508512,"creation_date":1700508512,"answer_id":77518416,"question_id":77517511,"body_markdown":"Typically, a _[singleton pattern](https://en.wikipedia.org/wiki/Singleton_pattern)_ would not be required, in _Java_.\r\n\r\nAlthough, after some research, it appears that an _enum_ should be used, over a class.\\\r\nConsidering that it is inherently, a single instance.\r\n\r\n```java\r\nenum MyClass {\r\n    instance;\r\n\r\n    String s;\r\n\r\n    static MyClass getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    String getS() {\r\n        return s;\r\n    }\r\n\r\n    void setS(String s) {\r\n        this.s = s;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return Objects.toIdentityString(this);\r\n    }\r\n}\r\n\r\nenum MyEnum {\r\n    VALUE(MyClass.instance);\r\n\r\n    final MyClass myClassInstance;\r\n\r\n    MyEnum(final MyClass myClassInstance) {\r\n        this.myClassInstance = myClassInstance;\r\n    }\r\n\r\n    MyClass getMyClassInstance() {\r\n        return this.myClassInstance;\r\n    }\r\n}\r\n```","title":"Recursive static enum and singleton definitions","body":"<p>Typically, a <em><a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton pattern</a></em> would not be required, in <em>Java</em>.</p>\n<p>Although, after some research, it appears that an <em>enum</em> should be used, over a class.<br />\nConsidering that it is inherently, a single instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum MyClass {\n    instance;\n\n    String s;\n\n    static MyClass getInstance() {\n        return instance;\n    }\n\n    String getS() {\n        return s;\n    }\n\n    void setS(String s) {\n        this.s = s;\n    }\n\n    @Override\n    public String toString() {\n        return Objects.toIdentityString(this);\n    }\n}\n\nenum MyEnum {\n    VALUE(MyClass.instance);\n\n    final MyClass myClassInstance;\n\n    MyEnum(final MyClass myClassInstance) {\n        this.myClassInstance = myClassInstance;\n    }\n\n    MyClass getMyClassInstance() {\n        return this.myClassInstance;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17000188,"reputation":121,"user_id":12297765,"display_name":"Ryan Moser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1700508512,"creation_date":1700497937,"question_id":77517511,"body_markdown":"TL;DR: Don&#39;t do what I did.  Run and read the code comments in the minimum reproducer below.\r\n\r\nI have an `enum` that takes an instance of a `class` which itself is a singleton that takes a value from the `enum`.  Just reading that suggests that this is a bad design.\r\n\r\nBelow we can see some inconsistent results; e.g., printing `MyEnum.VALUE.myClassInstance` before calling `MyClass.getInstance()` results in `MyEnum.VALUE.myClassInstance` being non-`null`, but calling `MyClass.getInstance()` before printing `MyEnum.VALUE.myClassInstance` results in `MyEnum.VALUE.myClassInstance` being null.\r\n\r\nBut why??\r\n\r\n\r\n\r\n```java\r\npublic class StrangeEnumFailure {\r\n    \r\n    public static void main(final String[] args) {\r\n        // Enabling any of the following three lines will cause the prints to print the expected values\r\n        \r\n        // MyEnum.VALUE.getMyClassInstance();\r\n        // MyEnum.VALUE.getClass();\r\n        // System.out.println(MyEnum.VALUE.myClassInstance); // Not null!\r\n        \r\n        System.out.println(MyClass.getInstance());             // Not null\r\n        System.out.println(MyEnum.VALUE.myClassInstance);      // null... but only if we do it after MyClass.getInstance()!\r\n        System.out.println(MyClass.INSTANCE);                  // Not null\r\n        System.out.println(MyEnum.VALUE.getMyClassInstance()); // null\r\n        System.out.println(MyEnum.VALUE.myClassInstance);      // null\r\n    }\r\n    \r\n    public static class MyClass {\r\n        \r\n        static final MyClass INSTANCE = new MyClass(MyEnum.VALUE);\r\n        \r\n        final MyEnum enumValue;\r\n        \r\n        private MyClass(final MyEnum enumValue) {\r\n            this.enumValue = enumValue;\r\n        }\r\n        \r\n        static MyClass getInstance() {\r\n            return INSTANCE;\r\n        }\r\n    }\r\n    \r\n    public enum MyEnum {\r\n        VALUE(MyClass.INSTANCE);\r\n        \r\n        final MyClass myClassInstance;\r\n        \r\n        MyEnum(final MyClass myClassInstance) {\r\n            this.myClassInstance = myClassInstance;\r\n        }\r\n        \r\n        MyClass getMyClassInstance() {\r\n            return this.myClassInstance;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n(don&#39;t judge the code, the non-private fields and lack of JavaDoc are for ease of demo purposes only)\r\n\r\nJava version info:\r\n```\r\nopenjdk 17.0.3 2022-04-19\r\nOpenJDK Runtime Environment Temurin-17.0.3+7 (build 17.0.3+7)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.3+7 (build 17.0.3+7, mixed mode, sharing)\r\n```","title":"Recursive static enum and singleton definitions","body":"<p>TL;DR: Don't do what I did.  Run and read the code comments in the minimum reproducer below.</p>\n<p>I have an <code>enum</code> that takes an instance of a <code>class</code> which itself is a singleton that takes a value from the <code>enum</code>.  Just reading that suggests that this is a bad design.</p>\n<p>Below we can see some inconsistent results; e.g., printing <code>MyEnum.VALUE.myClassInstance</code> before calling <code>MyClass.getInstance()</code> results in <code>MyEnum.VALUE.myClassInstance</code> being non-<code>null</code>, but calling <code>MyClass.getInstance()</code> before printing <code>MyEnum.VALUE.myClassInstance</code> results in <code>MyEnum.VALUE.myClassInstance</code> being null.</p>\n<p>But why??</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StrangeEnumFailure {\n    \n    public static void main(final String[] args) {\n        // Enabling any of the following three lines will cause the prints to print the expected values\n        \n        // MyEnum.VALUE.getMyClassInstance();\n        // MyEnum.VALUE.getClass();\n        // System.out.println(MyEnum.VALUE.myClassInstance); // Not null!\n        \n        System.out.println(MyClass.getInstance());             // Not null\n        System.out.println(MyEnum.VALUE.myClassInstance);      // null... but only if we do it after MyClass.getInstance()!\n        System.out.println(MyClass.INSTANCE);                  // Not null\n        System.out.println(MyEnum.VALUE.getMyClassInstance()); // null\n        System.out.println(MyEnum.VALUE.myClassInstance);      // null\n    }\n    \n    public static class MyClass {\n        \n        static final MyClass INSTANCE = new MyClass(MyEnum.VALUE);\n        \n        final MyEnum enumValue;\n        \n        private MyClass(final MyEnum enumValue) {\n            this.enumValue = enumValue;\n        }\n        \n        static MyClass getInstance() {\n            return INSTANCE;\n        }\n    }\n    \n    public enum MyEnum {\n        VALUE(MyClass.INSTANCE);\n        \n        final MyClass myClassInstance;\n        \n        MyEnum(final MyClass myClassInstance) {\n            this.myClassInstance = myClassInstance;\n        }\n        \n        MyClass getMyClassInstance() {\n            return this.myClassInstance;\n        }\n    }\n}\n</code></pre>\n<p>(don't judge the code, the non-private fields and lack of JavaDoc are for ease of demo purposes only)</p>\n<p>Java version info:</p>\n<pre><code>openjdk 17.0.3 2022-04-19\nOpenJDK Runtime Environment Temurin-17.0.3+7 (build 17.0.3+7)\nOpenJDK 64-Bit Server VM Temurin-17.0.3+7 (build 17.0.3+7, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","generics","new-operator"],"answers":[{"comments":[{"owner":{"account_id":22940504,"reputation":418,"user_id":17073342,"display_name":"Kunal Sharma"},"score":0,"creation_date":1700508892,"post_id":77518411,"comment_id":136660988,"body_markdown":"hey @justinbitter thanks for responding, but Code was purposefully designed to test why can&#39;t compiler guarantee that `MyClass` is compatible with `T` as upper bound on `T` is `MyInterface` and `MyClass` does implements `MyInterface`.","body":"hey @justinbitter thanks for responding, but Code was purposefully designed to test why can&#39;t compiler guarantee that <code>MyClass</code> is compatible with <code>T</code> as upper bound on <code>T</code> is <code>MyInterface</code> and <code>MyClass</code> does implements <code>MyInterface</code>."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":3,"creation_date":1700509087,"post_id":77518411,"comment_id":136661027,"body_markdown":"@KunalSharma If you created a `MyGeneric&lt;OtherClass&gt;`, the `MyClass` wouldn&#39;t be compatible to `T`, so the default constructor would be incorrectly assigning.","body":"@KunalSharma If you created a <code>MyGeneric&lt;OtherClass&gt;</code>, the <code>MyClass</code> wouldn&#39;t be compatible to <code>T</code>, so the default constructor would be incorrectly assigning."},{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1701275971,"post_id":77518411,"comment_id":136756471,"body_markdown":"&quot;*In the modified code, the MyGeneric class now has a constructor that takes an object of type T and assigns it to the obj field.*&quot; I&#39;m confused--OP had that code already (the `private T obj;` line). Not sure this line belongs in your answer.","body":"&quot;<i>In the modified code, the MyGeneric class now has a constructor that takes an object of type T and assigns it to the obj field.</i>&quot; I&#39;m confused--OP had that code already (the <code>private T obj;</code> line). Not sure this line belongs in your answer."}],"tags":[],"owner":{"account_id":29951494,"reputation":93,"user_id":22953458,"display_name":"justinbitter"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1700508475,"creation_date":1700508475,"answer_id":77518411,"question_id":77518404,"body_markdown":"It looks like you are encountering a compilation error because you are trying to assign an instance of `MyClass` directly to a field of type `T` within the `MyGeneric` class, and the compiler is unable to guarantee that `MyClass` is compatible with the type parameter `T`.\r\n\r\nTo fix this issue, you can modify the constructor of the `MyGeneric` class to accept an object of type `T` and then assign it to the `obj` field. Here&#39;s the modified code:\r\n\r\n```java\r\ninterface MyInterface {\r\n    public void myMethod();\r\n}\r\n\r\nclass MyClass implements MyInterface {\r\n    public void myMethod() {\r\n        System.out.println(&quot;Hello World&quot;);\r\n    }\r\n}\r\n\r\nclass MyGeneric&lt;T extends MyInterface&gt; {\r\n    private T obj;\r\n\r\n    MyGeneric() {\r\n        // You can remove this constructor if not needed\r\n    }\r\n\r\n    MyGeneric(T obj) {\r\n        this.obj = obj;\r\n    }\r\n\r\n    public void callMyMethod() {\r\n        obj.myMethod();\r\n    }\r\n}\r\n\r\nclass Why {\r\n    public static void main(String[] args) {\r\n        MyGeneric&lt;MyClass&gt; mg = new MyGeneric&lt;&gt;(new MyClass());\r\n        mg.callMyMethod();\r\n    }\r\n}\r\n```\r\n\r\nIn the modified code, the `MyGeneric` class now has a constructor that takes an object of type `T` and assigns it to the `obj` field. When creating an instance of `MyGeneric` in the `main` method, you can pass an instance of `MyClass` to the constructor, and it should work without any compilation errors.","title":"Why Can&#39;t Assign Object Created With new to Generic Object Reference in Java?","body":"<p>It looks like you are encountering a compilation error because you are trying to assign an instance of <code>MyClass</code> directly to a field of type <code>T</code> within the <code>MyGeneric</code> class, and the compiler is unable to guarantee that <code>MyClass</code> is compatible with the type parameter <code>T</code>.</p>\n<p>To fix this issue, you can modify the constructor of the <code>MyGeneric</code> class to accept an object of type <code>T</code> and then assign it to the <code>obj</code> field. Here's the modified code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MyInterface {\n    public void myMethod();\n}\n\nclass MyClass implements MyInterface {\n    public void myMethod() {\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\n\nclass MyGeneric&lt;T extends MyInterface&gt; {\n    private T obj;\n\n    MyGeneric() {\n        // You can remove this constructor if not needed\n    }\n\n    MyGeneric(T obj) {\n        this.obj = obj;\n    }\n\n    public void callMyMethod() {\n        obj.myMethod();\n    }\n}\n\nclass Why {\n    public static void main(String[] args) {\n        MyGeneric&lt;MyClass&gt; mg = new MyGeneric&lt;&gt;(new MyClass());\n        mg.callMyMethod();\n    }\n}\n</code></pre>\n<p>In the modified code, the <code>MyGeneric</code> class now has a constructor that takes an object of type <code>T</code> and assigns it to the <code>obj</code> field. When creating an instance of <code>MyGeneric</code> in the <code>main</code> method, you can pass an instance of <code>MyClass</code> to the constructor, and it should work without any compilation errors.</p>\n"}],"owner":{"account_id":22940504,"reputation":418,"user_id":17073342,"display_name":"Kunal Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77518411,"answer_count":1,"score":0,"last_activity_date":1700508475,"creation_date":1700508352,"question_id":77518404,"body_markdown":"I tried to assign object created with `new` to `generic object reference` in Java as in code given below:\r\n\r\n```java\r\ninterface MyInterface {\r\n\tpublic void myMethod();\r\n}\r\n\r\nclass MyClass implements MyInterface {\r\n\tpublic void myMethod() {\r\n\t\tSystem.out.println(&quot;Hello World&quot;);\r\n\t}\r\n}\r\n\r\nclass MyGeneric&lt;T extends MyInterface&gt; {\r\n\tprivate T obj;\r\n\r\n\tMyGeneric() {\r\n\t\tthis.obj = new MyClass();\r\n\t}\r\n\t\r\n\tMyGeneric(T obj) {\r\n\t\tthis.obj = obj;\r\n\t}\r\n\r\n\tpublic void callMyMethod() {\r\n\t\tobj.myMethod();\r\n\t}\r\n}\r\n\r\nclass Why {\r\n\tpublic static void main(String[] args) {\r\n\t\tMyGeneric&lt;MyClass&gt; mg = new MyGeneric&lt;MyClass&gt;();\r\n\t\t\r\n\t\tmg.callMyMethod();\r\n\t}\r\n}\r\n```\r\n\r\nwhen I tried to compile above given code using `javac 17.0.8` I got following error:\r\n```bash\r\n[kunalsharma@fedora ch14]$ javac Why.java \r\nWhy.java:15: error: incompatible types: MyClass cannot be converted to T\r\n\t\tthis.obj = new MyClass();\r\n\t\t           ^\r\n  where T is a type-variable:\r\n    T extends MyInterface declared in class MyGeneric\r\n1 error\r\n```\r\n\r\nI tried googling it but didn&#39;t found any answer.\r\nI am still learning Java so Am I missing something?\r\n\r\nThanks in Advance.","title":"Why Can&#39;t Assign Object Created With new to Generic Object Reference in Java?","body":"<p>I tried to assign object created with <code>new</code> to <code>generic object reference</code> in Java as in code given below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MyInterface {\n    public void myMethod();\n}\n\nclass MyClass implements MyInterface {\n    public void myMethod() {\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\n\nclass MyGeneric&lt;T extends MyInterface&gt; {\n    private T obj;\n\n    MyGeneric() {\n        this.obj = new MyClass();\n    }\n    \n    MyGeneric(T obj) {\n        this.obj = obj;\n    }\n\n    public void callMyMethod() {\n        obj.myMethod();\n    }\n}\n\nclass Why {\n    public static void main(String[] args) {\n        MyGeneric&lt;MyClass&gt; mg = new MyGeneric&lt;MyClass&gt;();\n        \n        mg.callMyMethod();\n    }\n}\n</code></pre>\n<p>when I tried to compile above given code using <code>javac 17.0.8</code> I got following error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[kunalsharma@fedora ch14]$ javac Why.java \nWhy.java:15: error: incompatible types: MyClass cannot be converted to T\n        this.obj = new MyClass();\n                   ^\n  where T is a type-variable:\n    T extends MyInterface declared in class MyGeneric\n1 error\n</code></pre>\n<p>I tried googling it but didn't found any answer.\nI am still learning Java so Am I missing something?</p>\n<p>Thanks in Advance.</p>\n"},{"tags":["java","eclipse","ant"],"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":2,"creation_date":1378213682,"post_id":18593103,"comment_id":27362521,"body_markdown":"Can you look at the compiler parameters that eclipse is using for javac? What are they? What are u using on command line? And its the same JDK in both cases, right?","body":"Can you look at the compiler parameters that eclipse is using for javac? What are they? What are u using on command line? And its the same JDK in both cases, right?"}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378213863,"creation_date":1378213863,"answer_id":18593237,"question_id":18593103,"body_markdown":"There&#39;s nothing to &quot;resolve&quot;; Eclipse uses its own built-in incremental compiler, and it&#39;s entirely common for compilers to produce slightly different output from the same programs.","title":"class file size difference when running javac ant in eclipse and command line","body":"<p>There's nothing to \"resolve\"; Eclipse uses its own built-in incremental compiler, and it's entirely common for compilers to produce slightly different output from the same programs.</p>\n"},{"tags":[],"owner":{"account_id":3234305,"reputation":319,"user_id":2728862,"display_name":"David Lakatos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378213973,"creation_date":1378213973,"answer_id":18593272,"question_id":18593103,"body_markdown":"Java Compiler may or may not include the following into bytecode I know of:\r\n\r\n - Java annotations\r\n - Javadoc specific info\r\n\r\nThere should be a difference between the actual *javac* parameters when it&#39;s called. Check Ant&#39;s config and *javac*&#39;s default parameter values. The target Java platform version may differ too which causes .class file size differences.\r\n\r\nIf there are multiple JDK-s utilized, of course that means different class file sizes too.","title":"class file size difference when running javac ant in eclipse and command line","body":"<p>Java Compiler may or may not include the following into bytecode I know of:</p>\n\n<ul>\n<li>Java annotations</li>\n<li>Javadoc specific info</li>\n</ul>\n\n<p>There should be a difference between the actual <em>javac</em> parameters when it's called. Check Ant's config and <em>javac</em>'s default parameter values. The target Java platform version may differ too which causes .class file size differences.</p>\n\n<p>If there are multiple JDK-s utilized, of course that means different class file sizes too.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378214304,"creation_date":1378214304,"answer_id":18593395,"question_id":18593103,"body_markdown":"javac by default generates only line numbers in debugging info (see javac -g). In Eclipse all vars, lines and source in compiler classfile generation options are enabled.","title":"class file size difference when running javac ant in eclipse and command line","body":"<p>javac by default generates only line numbers in debugging info (see javac -g). In Eclipse all vars, lines and source in compiler classfile generation options are enabled.</p>\n"},{"tags":[],"owner":{"account_id":25223771,"reputation":61,"user_id":19059901,"display_name":"Heisenbug"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700508100,"creation_date":1700508100,"answer_id":77518384,"question_id":18593103,"body_markdown":"If you encounter any ambiguity with class files compiled using ANT,\r\nits because ANT&#39;s javac has debug mode as false by default.\r\n\r\nTurning \r\n\r\n&gt; debug=&quot;true&quot;\r\n\r\n in javac of ANT script will generate the same class file \r\nwhich is generated with maven or normal javac in cmd.","title":"class file size difference when running javac ant in eclipse and command line","body":"<p>If you encounter any ambiguity with class files compiled using ANT,\nits because ANT's javac has debug mode as false by default.</p>\n<p>Turning</p>\n<blockquote>\n<p>debug=&quot;true&quot;</p>\n</blockquote>\n<p>in javac of ANT script will generate the same class file\nwhich is generated with maven or normal javac in cmd.</p>\n"}],"owner":{"account_id":3250092,"reputation":161,"user_id":2740661,"accept_rate":0,"display_name":"user2740661"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1700508100,"creation_date":1378213474,"question_id":18593103,"body_markdown":"I am running java code with ant javac. I ran ant script in eclipse and command line. but the Java class files are differ in size. Can you please explain why there is a size differece when using javac ant script in eclipse and commandline. and how can I resolve it.","title":"class file size difference when running javac ant in eclipse and command line","body":"<p>I am running java code with ant javac. I ran ant script in eclipse and command line. but the Java class files are differ in size. Can you please explain why there is a size differece when using javac ant script in eclipse and commandline. and how can I resolve it.</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1676548956,"post_id":75468103,"comment_id":133161212,"body_markdown":"Don&#39;t add pictures of text, they are not searchable.","body":"Don&#39;t add pictures of text, they are not searchable."}],"answers":[{"comments":[{"owner":{"account_id":27799427,"reputation":11,"user_id":21224139,"display_name":"shikai"},"score":0,"creation_date":1676535871,"post_id":75468907,"comment_id":133157354,"body_markdown":"I have tried the relevant configuration, but this is not the key to my question. Why can&#39;t I get the correct response when I use the form submission or ajax submission in the browser beyond the size of the uploaded file, while I can get the message of the server response in Postman","body":"I have tried the relevant configuration, but this is not the key to my question. Why can&#39;t I get the correct response when I use the form submission or ajax submission in the browser beyond the size of the uploaded file, while I can get the message of the server response in Postman"},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676545319,"post_id":75468907,"comment_id":133160220,"body_markdown":"Try to track the API in the network tab of your browser by performing Fn + F12 in your browser weather your API is calling properly or not. There may be a possibility you are not calling the API properly from UI.","body":"Try to track the API in the network tab of your browser by performing Fn + F12 in your browser weather your API is calling properly or not. There may be a possibility you are not calling the API properly from UI."}],"tags":[],"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676531636,"creation_date":1676531636,"answer_id":75468907,"question_id":75468103,"body_markdown":"If you are uploading the file in MultipartFile format you can use the following properties in application.yaml file:\r\n\r\n```\r\nspring.servlet.multipart.enabled=true\r\nspring.servlet.multipart.max-file-size=300MB\r\nspring.servlet.multipart.max-request-size=300MB\r\n\r\n```\r\nIf the file is extremely large you can send the data in chunks while uploading it. ","title":"spring boot upload file over limit ERR_CONNECTION_RESET","body":"<p>If you are uploading the file in MultipartFile format you can use the following properties in application.yaml file:</p>\n<pre><code>spring.servlet.multipart.enabled=true\nspring.servlet.multipart.max-file-size=300MB\nspring.servlet.multipart.max-request-size=300MB\n\n</code></pre>\n<p>If the file is extremely large you can send the data in chunks while uploading it.</p>\n"},{"tags":[],"owner":{"account_id":44107,"reputation":755,"user_id":129233,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700507786,"creation_date":1700507786,"answer_id":77518361,"question_id":75468103,"body_markdown":"Try to set `server.tomcat.max-swallow-size=-1` to ensure that the expception will be handled by Spring and a valid response returns. Otherwise Tomcat will reset the connection for large requests and the browser doesn&#39;t listen for the response anymore.\r\n\r\n[Apache Tomcat Configuration - maxSwallowSize][1]\r\n\r\n&gt; The maximum number of request body bytes (excluding transfer encoding overhead) that will be swallowed by Tomcat for an aborted upload. An aborted upload is when Tomcat knows that the request body is going to be ignored but the client still sends it. If Tomcat does not swallow the body the client is unlikely to see the response. If not specified the default of 2097152 (2 MiB) will be used. A value of less than zero indicates that no limit should be enforced.\r\n\r\nUnfortunately, I don&#39;t know why the behavior of the browser and Postman is different.\r\n\r\nSee links for more information:\r\n\r\n - https://www.baeldung.com/spring-maxuploadsizeexceeded#tomcat-configuration\r\n\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-10.1-doc/config/http.html","title":"spring boot upload file over limit ERR_CONNECTION_RESET","body":"<p>Try to set <code>server.tomcat.max-swallow-size=-1</code> to ensure that the expception will be handled by Spring and a valid response returns. Otherwise Tomcat will reset the connection for large requests and the browser doesn't listen for the response anymore.</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-10.1-doc/config/http.html\" rel=\"nofollow noreferrer\">Apache Tomcat Configuration - maxSwallowSize</a></p>\n<blockquote>\n<p>The maximum number of request body bytes (excluding transfer encoding overhead) that will be swallowed by Tomcat for an aborted upload. An aborted upload is when Tomcat knows that the request body is going to be ignored but the client still sends it. If Tomcat does not swallow the body the client is unlikely to see the response. If not specified the default of 2097152 (2 MiB) will be used. A value of less than zero indicates that no limit should be enforced.</p>\n</blockquote>\n<p>Unfortunately, I don't know why the behavior of the browser and Postman is different.</p>\n<p>See links for more information:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-maxuploadsizeexceeded#tomcat-configuration\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-maxuploadsizeexceeded#tomcat-configuration</a></li>\n</ul>\n"}],"owner":{"account_id":27799427,"reputation":11,"user_id":21224139,"display_name":"shikai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700507786,"creation_date":1676524560,"question_id":75468103,"body_markdown":"1. Use spring boot initializer to create a simple project without using any other jars and redundant code (spring boot version 2.3.3 or spring boot version 2.7.3)\r\n\r\n2. Write a simple file upload code\r\n[enter image description here](https://i.stack.imgur.com/Sijxy.png)\r\n\r\n3. Use the form to submit a file that exceeds the size limit (file size: 77.6 MB)\r\n\r\n4.Browser error\r\n[enter image description here](https://i.stack.imgur.com/KH7UR.png)\r\n\r\n5.The same error occurs when the same file is submitted using axios&#39; ajax\r\n[enter image description here](https://i.stack.imgur.com/ch8ET.png)\r\n\r\n**6.But I can get the correct response when I use the postman request**\r\n[enter image description here](https://i.stack.imgur.com/tFH5y.png)\r\n\r\nI don&#39;t know what the problem is??\r\n\r\n1. I tried to track the spring boot code and found that the file upload logic was completed in the filter, and the error was thrown by tomcat\r\n\r\n```\r\norg.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (76822227) exceeds the configured maximum (10485760)\r\n\tat org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.init(FileItemIteratorImpl.java:150) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.getMultiPartStream(FileItemIteratorImpl.java:194) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.findNextItem(FileItemIteratorImpl.java:213) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.&lt;init&gt;(FileItemIteratorImpl.java:131) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:255) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:279) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.connector.Request.parseParts(Request.java:2869) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.connector.Request.getParts(Request.java:2771) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1098) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:95) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:88) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:87) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1178) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1012) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]\r\n\r\n```\r\n2. I try to use other projects of the company for testing, and the same spring boot version (2.3.3) can get correct response results\r\n\r\n3. Google Browser Version:  110.0.5481.100 \r\n   PostMan Version 10.9.4\r\n   Aixos Version 0.18.1 or 0.21.4\r\n","title":"spring boot upload file over limit ERR_CONNECTION_RESET","body":"<ol>\n<li><p>Use spring boot initializer to create a simple project without using any other jars and redundant code (spring boot version 2.3.3 or spring boot version 2.7.3)</p>\n</li>\n<li><p>Write a simple file upload code\n<a href=\"https://i.stack.imgur.com/Sijxy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n<li><p>Use the form to submit a file that exceeds the size limit (file size: 77.6 MB)</p>\n</li>\n</ol>\n<p>4.Browser error\n<a href=\"https://i.stack.imgur.com/KH7UR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>5.The same error occurs when the same file is submitted using axios' ajax\n<a href=\"https://i.stack.imgur.com/ch8ET.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>6.But I can get the correct response when I use the postman request</strong>\n<a href=\"https://i.stack.imgur.com/tFH5y.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't know what the problem is??</p>\n<ol>\n<li>I tried to track the spring boot code and found that the file upload logic was completed in the filter, and the error was thrown by tomcat</li>\n</ol>\n<pre><code>org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (76822227) exceeds the configured maximum (10485760)\n    at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.init(FileItemIteratorImpl.java:150) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.getMultiPartStream(FileItemIteratorImpl.java:194) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.findNextItem(FileItemIteratorImpl.java:213) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.&lt;init&gt;(FileItemIteratorImpl.java:131) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:255) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:279) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.connector.Request.parseParts(Request.java:2869) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.connector.Request.getParts(Request.java:2771) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1098) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:95) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:88) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:87) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1178) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1012) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.37.jar:9.0.37]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]\n\n</code></pre>\n<ol start=\"2\">\n<li><p>I try to use other projects of the company for testing, and the same spring boot version (2.3.3) can get correct response results</p>\n</li>\n<li><p>Google Browser Version:  110.0.5481.100\nPostMan Version 10.9.4\nAixos Version 0.18.1 or 0.21.4</p>\n</li>\n</ol>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":8177615,"reputation":817,"user_id":6155893,"display_name":"Shatayu Darbhe"},"score":0,"creation_date":1461830553,"post_id":36908002,"comment_id":61380254,"body_markdown":"Thank you for answer.Is it possible to optimize performance here ? That will be helpful too.","body":"Thank you for answer.Is it possible to optimize performance here ? That will be helpful too."},{"owner":{"account_id":5739360,"reputation":755,"user_id":4532512,"accept_rate":86,"display_name":"Hakuna Matata"},"score":0,"creation_date":1461831730,"post_id":36908002,"comment_id":61380909,"body_markdown":"No. There is no further optimization here. Because you are using hibernate and JPA so for every batch it should verify the record&#39;s existence and then need to do update / insert so we can&#39;t avoid such things here. If you are using raw connection with mysql then there is an option to insert if that particular record is not there.","body":"No. There is no further optimization here. Because you are using hibernate and JPA so for every batch it should verify the record&#39;s existence and then need to do update / insert so we can&#39;t avoid such things here. If you are using raw connection with mysql then there is an option to insert if that particular record is not there."}],"tags":[],"owner":{"account_id":5739360,"reputation":755,"user_id":4532512,"accept_rate":86,"display_name":"Hakuna Matata"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1486638233,"creation_date":1461828305,"answer_id":36908002,"question_id":36905878,"body_markdown":"Here is your modified code,\r\n\r\n    @Transactional(readOnly = false, propagation = Propagation.REQUIRES_NEW)\r\n    public &lt;T&gt; void updatetBatch(List&lt;T&gt; list) {\r\n        if (list == null || list.isEmpty())\r\n            throw new NullPointerException();\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n        final int BATCHLIMIT = 50;\r\n    \r\n        try {\r\n            int size = list.size();\r\n    \t\r\n            for (int i = 0; i &lt; size; i++) {\r\n             Object primaryKeyObj = this.getPrimaryKey(list.get(i));\r\n                 //Using find as it will make entity managed.\r\n    \t    T entityObject = list.get(i);\r\n                Object found = entityManager.find(entityObject.getClass(), primaryKeyObj);\r\n                if(found!=null) {\r\n    \t\t\r\n    \t            entityManager.merge(entityObject);\r\n    \t    } else{\r\n    \t\tentityManager.persist(entityObject);\r\n    \t    }\t\r\n                if (i % BATCHLIMIT == 0) {\r\n                    entityManager.flush();\r\n                    entityManager.clear();\r\n                }\r\n            }\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            entityManager.close();\r\n        }\r\n    }\r\n    private Object getPrimaryKey(Object object) {\r\n        return entityManagerFactory.getPersistenceUnitUtil().getIdentifier(object);\r\n    }","title":"Improving performance of a generic method for updating batch and to sync with database and cache","body":"<p>Here is your modified code,</p>\n\n<pre><code>@Transactional(readOnly = false, propagation = Propagation.REQUIRES_NEW)\npublic &lt;T&gt; void updatetBatch(List&lt;T&gt; list) {\n    if (list == null || list.isEmpty())\n        throw new NullPointerException();\n    EntityManager entityManager = entityManagerFactory.createEntityManager();\n    final int BATCHLIMIT = 50;\n\n    try {\n        int size = list.size();\n\n        for (int i = 0; i &lt; size; i++) {\n         Object primaryKeyObj = this.getPrimaryKey(list.get(i));\n             //Using find as it will make entity managed.\n        T entityObject = list.get(i);\n            Object found = entityManager.find(entityObject.getClass(), primaryKeyObj);\n            if(found!=null) {\n\n                entityManager.merge(entityObject);\n        } else{\n        entityManager.persist(entityObject);\n        }   \n            if (i % BATCHLIMIT == 0) {\n                entityManager.flush();\n                entityManager.clear();\n            }\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        entityManager.close();\n    }\n}\nprivate Object getPrimaryKey(Object object) {\n    return entityManagerFactory.getPersistenceUnitUtil().getIdentifier(object);\n}\n</code></pre>\n"}],"owner":{"account_id":8177615,"reputation":817,"user_id":6155893,"display_name":"Shatayu Darbhe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":36908002,"answer_count":1,"score":-1,"last_activity_date":1700507523,"creation_date":1461820893,"question_id":36905878,"body_markdown":"I&#39;m writing method to update batch using entity manager (Eclipselink as a provider).\r\n\r\nOne approach I found here:\r\nhttps://stackoverflow.com/questions/7365325/batch-updates-in-jpa-toplink and here: https://stackoverflow.com/questions/17600961/jpa-batch-bulk-update-what-is-the-better-approach.\r\n\r\nBut I&#39;m not using spring Data JPA. If I use JPQL then the entity will not be added to cache (is it right). I&#39;m using the following approach. But it is slower. Is there any other approach I can use? \r\n\r\n    @Transactional(readOnly = false, propagation = Propagation.REQUIRES_NEW)\r\n\tpublic &lt;T&gt; void updatetBatch(List&lt;T&gt; list) {\r\n\t\tif (list == null || list.isEmpty())\r\n\t\t\tthrow new NullPointerException();\r\n\t\tEntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\t\tfinal int BATCHLIMIT = 50;\r\n\r\n\t\ttry {\r\n\t\t\tint size = list.size();\r\n\t\t\tfor (int i = 0; i &lt; size; i++) {\r\n                 //Using find as it will make entity managed.\r\n\t\t\t\tObject found=entityManager.find(list.get(i).getClass(), this.getPrimaryKey(list.get(i)));\r\n\t\t\t\tif(found!=null)\r\n\t\t\t\tentityManager.merge(list.get(i));\r\n\t\t\t\tif (i % BATCHLIMIT == 0) {\r\n\t\t\t\t\tentityManager.flush();\r\n\t\t\t\t\tentityManager.clear();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\tentityManager.close();\r\n\t\t}\r\n\t}\r\n\tprivate Object getPrimaryKey(Object object) {\r\n\t\treturn entityManagerFactory.getPersistenceUnitUtil().getIdentifier(object);\r\n\t}","title":"Improving performance of a generic method for updating batch and to sync with database and cache","body":"<p>I'm writing method to update batch using entity manager (Eclipselink as a provider).</p>\n<p>One approach I found here:\n<a href=\"https://stackoverflow.com/questions/7365325/batch-updates-in-jpa-toplink\">Batch updates in JPA (Toplink)</a> and here: <a href=\"https://stackoverflow.com/questions/17600961/jpa-batch-bulk-update-what-is-the-better-approach\">JPA - Batch/Bulk Update - What is the better approach?</a>.</p>\n<p>But I'm not using spring Data JPA. If I use JPQL then the entity will not be added to cache (is it right). I'm using the following approach. But it is slower. Is there any other approach I can use?</p>\n<pre><code>@Transactional(readOnly = false, propagation = Propagation.REQUIRES_NEW)\npublic &lt;T&gt; void updatetBatch(List&lt;T&gt; list) {\n    if (list == null || list.isEmpty())\n        throw new NullPointerException();\n    EntityManager entityManager = entityManagerFactory.createEntityManager();\n    final int BATCHLIMIT = 50;\n\n    try {\n        int size = list.size();\n        for (int i = 0; i &lt; size; i++) {\n             //Using find as it will make entity managed.\n            Object found=entityManager.find(list.get(i).getClass(), this.getPrimaryKey(list.get(i)));\n            if(found!=null)\n            entityManager.merge(list.get(i));\n            if (i % BATCHLIMIT == 0) {\n                entityManager.flush();\n                entityManager.clear();\n            }\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        entityManager.close();\n    }\n}\nprivate Object getPrimaryKey(Object object) {\n    return entityManagerFactory.getPersistenceUnitUtil().getIdentifier(object);\n}\n</code></pre>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679679320,"post_id":75835961,"comment_id":133770303,"body_markdown":"Just use only `&lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;` ......furthermore the output `mvn -version` looks a bit strange...because the hash is missing like `Apache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)`.... ?","body":"Just use only <code>&lt;maven.compiler.release&gt;17&lt;&#47;maven.compiler.release&gt;</code> ......furthermore the output <code>mvn -version</code> looks a bit strange...because the hash is missing like <code>Apache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)</code>.... ?"},{"owner":{"account_id":24012135,"reputation":83,"user_id":17995588,"display_name":"parax"},"score":0,"creation_date":1679679690,"post_id":75835961,"comment_id":133770377,"body_markdown":"maven compiler release didn&#39;t help. The output was truncated by me.","body":"maven compiler release didn&#39;t help. The output was truncated by me."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679679933,"post_id":75835961,"comment_id":133770436,"body_markdown":"What does that mean? Same result? Please make add more details about the output error ... log... or also please post the full output of the jenkins like `mvn -V clean verify` ... the important part is the beginning of the build it should be up to [INFO] Scanning for projects...`....","body":"What does that mean? Same result? Please make add more details about the output error ... log... or also please post the full output of the jenkins like <code>mvn -V clean verify</code> ... the important part is the beginning of the build it should be up to [INFO] Scanning for projects...`...."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679680287,"post_id":75835961,"comment_id":133770506,"body_markdown":"The error output implies `error: release version 17 not supported` that the setup for the JDK version which should be used for the build is not that what it should be (JDK17..) I suppose there is a JDK version less than 17 in used...","body":"The error output implies <code>error: release version 17 not supported</code> that the setup for the JDK version which should be used for the build is not that what it should be (JDK17..) I suppose there is a JDK version less than 17 in used..."},{"owner":{"account_id":24012135,"reputation":83,"user_id":17995588,"display_name":"parax"},"score":0,"creation_date":1679682250,"post_id":75835961,"comment_id":133770916,"body_markdown":"Added the output of mvn clean verify.","body":"Added the output of mvn clean verify."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679683400,"post_id":75835961,"comment_id":133771153,"body_markdown":"Can you please post the pom file or at least the part where maven-compiler-plugin is configured ... btw. is this a single module build or a multi module build?","body":"Can you please post the pom file or at least the part where maven-compiler-plugin is configured ... btw. is this a single module build or a multi module build?"},{"owner":{"account_id":24012135,"reputation":83,"user_id":17995588,"display_name":"parax"},"score":0,"creation_date":1679686814,"post_id":75835961,"comment_id":133771820,"body_markdown":"Included more details in the pom.xml. As I&#39;ve recently updated the Java version, I&#39;d rather focus on the Maven/Java config rather than than on the code.","body":"Included more details in the pom.xml. As I&#39;ve recently updated the Java version, I&#39;d rather focus on the Maven/Java config rather than than on the code."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679690354,"post_id":75835961,"comment_id":133772513,"body_markdown":"Sorry but the properties definition does not help... the configuration of the plugins is more important...","body":"Sorry but the properties definition does not help... the configuration of the plugins is more important..."},{"owner":{"account_id":24012135,"reputation":83,"user_id":17995588,"display_name":"parax"},"score":0,"creation_date":1679825157,"post_id":75835961,"comment_id":133786815,"body_markdown":"Added the plugin config. There&#39;s no other reference to the plugin in the pom.xml or anywhere else in the repo.","body":"Added the plugin config. There&#39;s no other reference to the plugin in the pom.xml or anywhere else in the repo."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679835162,"post_id":75835961,"comment_id":133788232,"body_markdown":"Do you use a spring boot parent? Best would be having a working example.. or a full logout of the build which fails (mvn -X ...) ...","body":"Do you use a spring boot parent? Best would be having a working example.. or a full logout of the build which fails (mvn -X ...) ..."},{"owner":{"account_id":24012135,"reputation":83,"user_id":17995588,"display_name":"parax"},"score":1,"creation_date":1679836680,"post_id":75835961,"comment_id":133788481,"body_markdown":"Added the output of mvn -X. I cannot include any more information as it would be project-specific. No parent is being used.","body":"Added the output of mvn -X. I cannot include any more information as it would be project-specific. No parent is being used."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1679900301,"post_id":75835961,"comment_id":133797024,"body_markdown":"I suspect maven forks a new JVM for some reason and that JVM is not java 17.","body":"I suspect maven forks a new JVM for some reason and that JVM is not java 17."},{"owner":{"account_id":10097137,"reputation":163,"user_id":7462177,"display_name":"Obb"},"score":0,"creation_date":1687185271,"post_id":75835961,"comment_id":134897727,"body_markdown":"@parax did you happen to run into this in centos? I&#39;m experiencing the same issue. confirmed JAVA_HOME, /etc/mavenrc, $HOME/mavenrc all point to java 17. Even maven -X shows it&#39;s running against java 17, not using fork. I can&#39;t fathom what the hell is going on?","body":"@parax did you happen to run into this in centos? I&#39;m experiencing the same issue. confirmed JAVA_HOME, /etc/mavenrc, $HOME/mavenrc all point to java 17. Even maven -X shows it&#39;s running against java 17, not using fork. I can&#39;t fathom what the hell is going on?"},{"owner":{"account_id":10097137,"reputation":163,"user_id":7462177,"display_name":"Obb"},"score":0,"creation_date":1687187132,"post_id":75835961,"comment_id":134898169,"body_markdown":"You should check if you installed the jre or jdk. I happened to install the jre which was missing javac (which defaulted to java 11 which was present in the path)","body":"You should check if you installed the jre or jdk. I happened to install the jre which was missing javac (which defaulted to java 11 which was present in the path)"}],"answers":[{"comments":[{"owner":{"account_id":2156954,"reputation":5870,"user_id":1911941,"accept_rate":100,"display_name":"ELITE"},"score":0,"creation_date":1695126644,"post_id":77059937,"comment_id":135979915,"body_markdown":"Spent a lot of time and then found this answer. Thanks a lot @InfoShym81. This really helped.","body":"Spent a lot of time and then found this answer. Thanks a lot @InfoShym81. This really helped."}],"tags":[],"owner":{"account_id":19028207,"reputation":21,"user_id":13890849,"display_name":"InfoShym81"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694092344,"creation_date":1694092344,"answer_id":77059937,"question_id":75835961,"body_markdown":"I bumped into the same problem. I found a solution only because of comments from @Obb users above, but I decided to put this answer if somebody needs it.\r\n\r\n\r\nThe problem was with java-17-openjdk from yum install. It installs not JDK but JRE. It doesn&#39;t have javac, so if you run maven build with JAVA_HOME that points to JRE it leads you to this type of error.\r\n\r\n**Solution for me was** - *Install the full/correct JDK version and point JAVA_HOME to it.*","title":"Fatal error compiling: error: release version 17 not supported","body":"<p>I bumped into the same problem. I found a solution only because of comments from @Obb users above, but I decided to put this answer if somebody needs it.</p>\n<p>The problem was with java-17-openjdk from yum install. It installs not JDK but JRE. It doesn't have javac, so if you run maven build with JAVA_HOME that points to JRE it leads you to this type of error.</p>\n<p><strong>Solution for me was</strong> - <em>Install the full/correct JDK version and point JAVA_HOME to it.</em></p>\n"},{"tags":[],"owner":{"account_id":9609070,"reputation":96,"user_id":8959387,"display_name":"Gordon Tytler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700507494,"creation_date":1700507494,"answer_id":77518334,"question_id":75835961,"body_markdown":"Not the same cause but this may help others. With Maven 3.9.3, the same error message is produced when minor version numbers are included e.g. \r\n\r\n    error: release version 20.0.1 not supported.\r\n\r\nYou might make this mistake if you have just exported the JAVA_HOME for maven ([another cause of this error][1]).\r\n\r\nI solved this by only including the major version number.\r\n\r\n       &lt;properties&gt;\r\n           &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n           &lt;java.version&gt;20&lt;/java.version&gt;\r\n           &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\r\n       &lt;/properties&gt;\r\n\r\nThese are the only properties needed to specify the Java version. The major version can be checked with\r\n\r\n    javap -verbose target/classes/Foo.class | grep &#39;major version&#39;\r\n  major version: 64\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51468580/maven-invalid-target-release-10","title":"Fatal error compiling: error: release version 17 not supported","body":"<p>Not the same cause but this may help others. With Maven 3.9.3, the same error message is produced when minor version numbers are included e.g.</p>\n<pre><code>error: release version 20.0.1 not supported.\n</code></pre>\n<p>You might make this mistake if you have just exported the JAVA_HOME for maven (<a href=\"https://stackoverflow.com/questions/51468580/maven-invalid-target-release-10\">another cause of this error</a>).</p>\n<p>I solved this by only including the major version number.</p>\n<pre><code>   &lt;properties&gt;\n       &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n       &lt;java.version&gt;20&lt;/java.version&gt;\n       &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\n   &lt;/properties&gt;\n</code></pre>\n<p>These are the only properties needed to specify the Java version. The major version can be checked with</p>\n<pre><code>javap -verbose target/classes/Foo.class | grep 'major version'\n</code></pre>\n<p>major version: 64</p>\n"}],"owner":{"account_id":24012135,"reputation":83,"user_id":17995588,"display_name":"parax"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9290,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1700507494,"creation_date":1679674303,"question_id":75835961,"body_markdown":"I&#39;m using the Redhat ubi8/8.3-227 image to execute maven tasks in Jenkins.\r\n\r\n    mvn -version\r\n    Apache Maven 3.9.0\r\n    Java version: 17.0.4\r\n\r\n    java -version\r\n    openjdk version &quot;17.0.4&quot; 2022-07-19 LTS\r\n\r\nFor some reason I get the following error while compiling the code:\r\n\r\n    mvn clean install -Dcheckstyle.skip=true\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile: Fatal error compiling: error: Fatal error compiling: error: release version 17 not supported\r\n\r\npom.xml\r\n\r\n    &lt;properties&gt;\r\n      &lt;java.version&gt;17&lt;/java.version&gt;\r\n      &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n      &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\r\n      &lt;source.version&gt;${java.version}&lt;/source.version&gt;\r\n      \r\n      &lt;boat-maven-plugin.version&gt;0.16.1&lt;/boat-maven-plugin.version&gt;\r\n      &lt;build-helper-maven-plugin.version&gt;3.3.0&lt;/build-helper-maven-plugin.version&gt;\r\n      &lt;docker-maven-plugin.version&gt;0.40.2&lt;/docker-maven-plugin.version&gt;\r\n      &lt;dockerfile-maven-plugin.version&gt;1.4.13&lt;/dockerfile-maven-plugin.version&gt;\r\n      &lt;jacoco-maven-plugin.version&gt;0.8.8&lt;/jacoco-maven-plugin.version&gt;\r\n      &lt;jgitflow-maven-plugin.version&gt;1.0-m5.1&lt;/jgitflow-maven-plugin.version&gt;\r\n      &lt;flatten-maven-plugin.version&gt;1.2.7&lt;/flatten-maven-plugin.version&gt;\r\n      &lt;maven-checkstyle-plugin.version&gt;3.1.2&lt;/maven-checkstyle-plugin.version&gt;\r\n      &lt;maven-clean-plugin.version&gt;3.2.0&lt;/maven-clean-plugin.version&gt;\r\n      &lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\r\n      &lt;maven-dependency-plugin.version&gt;3.3.0&lt;/maven-dependency-plugin.version&gt;\r\n      &lt;maven-deploy-plugin.version&gt;3.0.0&lt;/maven-deploy-plugin.version&gt;\r\n      &lt;maven-enforcer-plugin.version&gt;3.1.0&lt;/maven-enforcer-plugin.version&gt;\r\n      &lt;maven-failsafe-plugin.version&gt;3.0.0-M7&lt;/maven-failsafe-plugin.version&gt;\r\n      &lt;maven-install-plugin.version&gt;3.0.1&lt;/maven-install-plugin.version&gt;\r\n      &lt;maven-jar-plugin.version&gt;3.2.2&lt;/maven-jar-plugin.version&gt;\r\n      &lt;maven-release-plugin.version&gt;3.0.0-M6&lt;/maven-release-plugin.version&gt;\r\n      &lt;maven-resources-plugin.version&gt;3.3.0&lt;/maven-resources-plugin.version&gt;\r\n      &lt;maven-shade-plugin.version&gt;3.3.0&lt;/maven-shade-plugin.version&gt;\r\n      &lt;maven-source-plugin.version&gt;3.2.1&lt;/maven-source-plugin.version&gt;\r\n      &lt;maven-surefire-plugin.version&gt;3.0.0-M7&lt;/maven-surefire-plugin.version&gt;\r\n      &lt;maven-site-plugin.version&gt;4.0.0-M3&lt;/maven-site-plugin.version&gt;\r\n      &lt;openapi-generator-maven-plugin.version&gt;5.4.0&lt;/openapi-generator-maven-plugin.version&gt;\r\n      &lt;spring-boot-maven-plugin.version&gt;2.6.8&lt;/spring-boot-maven-plugin.version&gt;\r\n      &lt;sonar-maven-plugin.version&gt;3.9.1.2184&lt;/sonar-maven-plugin.version&gt;\r\n      &lt;versions-maven-plugin.version&gt;2.11.0&lt;/versions-maven-plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n    &lt;build&gt;\r\n      &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n      &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n   \r\nI&#39;ve already tried to enforce JAVA_HOME this way:\r\n\r\n    withEnv([&quot;JAVA_HOME=/usr/lib/jvm/java-17-openjdk-17.0.4.0.8-2.el8_6.x86_64&quot;])\r\n\r\nBut the result didn&#39;t change.\r\n\r\nHere the output of mvn clean verify:\r\n\r\n    + mvn -X -V clean verify -Dcheckstyle.skip=true \r\n    Apache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)\r\n    Maven home: /opt/maven\r\n    Java version: 17.0.4, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-17-openjdk-17.0.4.0.8-2.el8_6.x86_64\r\n    Default locale: en_US, platform encoding: ANSI_X3.4-1968\r\n    OS name: &quot;linux&quot;, version: &quot;3.10.0-1160.81.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n    [INFO] Scanning for projects...\r\n    .\r\n    .\r\n    .\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  4.854 s\r\n    [INFO] Finished at: 2023-03-26T15:12:11+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project async-support: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project async-support: Fatal error compiling\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\r\n        at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.codehaus.plexus.compiler.CompilerException: error: release version 17 not supported\r\n        at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:197)\r\n        at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\r\n        at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.IllegalArgumentException: error: release version 17 not supported\r\n        at com.sun.tools.javac.main.Arguments.reportDiag (Arguments.java:889)\r\n        at com.sun.tools.javac.main.Arguments.handleReleaseOptions (Arguments.java:311)\r\n        at com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:350)\r\n        at com.sun.tools.javac.main.Arguments.init (Arguments.java:246)\r\n        at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:191)\r\n        at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\r\n        at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\r\n        at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:135)\r\n        at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\r\n        at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    [ERROR]\r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;args&gt; -rf :async-support\r\n    [DEBUG] Shutting down adapter factory; available factories [file-lock, rwlock-local, semaphore-local, noop]; available name mappers [discriminating, file-gav, file-hgav, gav, static]\r\n    [DEBUG] Shutting down &#39;file-lock&#39; factory\r\n    [DEBUG] Shutting down &#39;rwlock-local&#39; factory\r\n    [DEBUG] Shutting down &#39;semaphore-local&#39; factory\r\n    [DEBUG] Shutting down &#39;noop&#39; factory\r\n\r\n\r\nI&#39;ve recently updated the Java version, so the issue is most likely in the Maven/Java config rather than in the code. ","title":"Fatal error compiling: error: release version 17 not supported","body":"<p>I'm using the Redhat ubi8/8.3-227 image to execute maven tasks in Jenkins.</p>\n<pre><code>mvn -version\nApache Maven 3.9.0\nJava version: 17.0.4\n\njava -version\nopenjdk version &quot;17.0.4&quot; 2022-07-19 LTS\n</code></pre>\n<p>For some reason I get the following error while compiling the code:</p>\n<pre><code>mvn clean install -Dcheckstyle.skip=true\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile: Fatal error compiling: error: Fatal error compiling: error: release version 17 not supported\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;properties&gt;\n  &lt;java.version&gt;17&lt;/java.version&gt;\n  &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n  &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\n  &lt;source.version&gt;${java.version}&lt;/source.version&gt;\n  \n  &lt;boat-maven-plugin.version&gt;0.16.1&lt;/boat-maven-plugin.version&gt;\n  &lt;build-helper-maven-plugin.version&gt;3.3.0&lt;/build-helper-maven-plugin.version&gt;\n  &lt;docker-maven-plugin.version&gt;0.40.2&lt;/docker-maven-plugin.version&gt;\n  &lt;dockerfile-maven-plugin.version&gt;1.4.13&lt;/dockerfile-maven-plugin.version&gt;\n  &lt;jacoco-maven-plugin.version&gt;0.8.8&lt;/jacoco-maven-plugin.version&gt;\n  &lt;jgitflow-maven-plugin.version&gt;1.0-m5.1&lt;/jgitflow-maven-plugin.version&gt;\n  &lt;flatten-maven-plugin.version&gt;1.2.7&lt;/flatten-maven-plugin.version&gt;\n  &lt;maven-checkstyle-plugin.version&gt;3.1.2&lt;/maven-checkstyle-plugin.version&gt;\n  &lt;maven-clean-plugin.version&gt;3.2.0&lt;/maven-clean-plugin.version&gt;\n  &lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\n  &lt;maven-dependency-plugin.version&gt;3.3.0&lt;/maven-dependency-plugin.version&gt;\n  &lt;maven-deploy-plugin.version&gt;3.0.0&lt;/maven-deploy-plugin.version&gt;\n  &lt;maven-enforcer-plugin.version&gt;3.1.0&lt;/maven-enforcer-plugin.version&gt;\n  &lt;maven-failsafe-plugin.version&gt;3.0.0-M7&lt;/maven-failsafe-plugin.version&gt;\n  &lt;maven-install-plugin.version&gt;3.0.1&lt;/maven-install-plugin.version&gt;\n  &lt;maven-jar-plugin.version&gt;3.2.2&lt;/maven-jar-plugin.version&gt;\n  &lt;maven-release-plugin.version&gt;3.0.0-M6&lt;/maven-release-plugin.version&gt;\n  &lt;maven-resources-plugin.version&gt;3.3.0&lt;/maven-resources-plugin.version&gt;\n  &lt;maven-shade-plugin.version&gt;3.3.0&lt;/maven-shade-plugin.version&gt;\n  &lt;maven-source-plugin.version&gt;3.2.1&lt;/maven-source-plugin.version&gt;\n  &lt;maven-surefire-plugin.version&gt;3.0.0-M7&lt;/maven-surefire-plugin.version&gt;\n  &lt;maven-site-plugin.version&gt;4.0.0-M3&lt;/maven-site-plugin.version&gt;\n  &lt;openapi-generator-maven-plugin.version&gt;5.4.0&lt;/openapi-generator-maven-plugin.version&gt;\n  &lt;spring-boot-maven-plugin.version&gt;2.6.8&lt;/spring-boot-maven-plugin.version&gt;\n  &lt;sonar-maven-plugin.version&gt;3.9.1.2184&lt;/sonar-maven-plugin.version&gt;\n  &lt;versions-maven-plugin.version&gt;2.11.0&lt;/versions-maven-plugin.version&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n  &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I've already tried to enforce JAVA_HOME this way:</p>\n<pre><code>withEnv([&quot;JAVA_HOME=/usr/lib/jvm/java-17-openjdk-17.0.4.0.8-2.el8_6.x86_64&quot;])\n</code></pre>\n<p>But the result didn't change.</p>\n<p>Here the output of mvn clean verify:</p>\n<pre><code>+ mvn -X -V clean verify -Dcheckstyle.skip=true \nApache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)\nMaven home: /opt/maven\nJava version: 17.0.4, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-17-openjdk-17.0.4.0.8-2.el8_6.x86_64\nDefault locale: en_US, platform encoding: ANSI_X3.4-1968\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.81.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n[INFO] Scanning for projects...\n.\n.\n.\n\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.854 s\n[INFO] Finished at: 2023-03-26T15:12:11+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project async-support: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project async-support: Fatal error compiling\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.codehaus.plexus.compiler.CompilerException: error: release version 17 not supported\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:197)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.IllegalArgumentException: error: release version 17 not supported\n    at com.sun.tools.javac.main.Arguments.reportDiag (Arguments.java:889)\n    at com.sun.tools.javac.main.Arguments.handleReleaseOptions (Arguments.java:311)\n    at com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:350)\n    at com.sun.tools.javac.main.Arguments.init (Arguments.java:246)\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:191)\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:135)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :async-support\n[DEBUG] Shutting down adapter factory; available factories [file-lock, rwlock-local, semaphore-local, noop]; available name mappers [discriminating, file-gav, file-hgav, gav, static]\n[DEBUG] Shutting down 'file-lock' factory\n[DEBUG] Shutting down 'rwlock-local' factory\n[DEBUG] Shutting down 'semaphore-local' factory\n[DEBUG] Shutting down 'noop' factory\n</code></pre>\n<p>I've recently updated the Java version, so the issue is most likely in the Maven/Java config rather than in the code.</p>\n"},{"tags":["javascript","java","spring-boot","next.js","axios"],"comments":[{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1700162631,"post_id":77497512,"comment_id":136624009,"body_markdown":"Well the error message seems pretty explanatory. What exactly does your outgoing request header look like?","body":"Well the error message seems pretty explanatory. What exactly does your outgoing request header look like?"},{"owner":{"account_id":255434,"reputation":21298,"user_id":535480,"display_name":"James"},"score":0,"creation_date":1700165998,"post_id":77497512,"comment_id":136624483,"body_markdown":"The error says that the header &quot;crossorigin&quot; is not allowed.  Indeed it does not appear in the list of allowed headers you&#39;ve shown.  What to do depends a lot on what &quot;crossorigin&quot; is, and why it is added to your cors preflight requests. Either don&#39;t send it, or allow it.","body":"The error says that the header &quot;crossorigin&quot; is not allowed.  Indeed it does not appear in the list of allowed headers you&#39;ve shown.  What to do depends a lot on what &quot;crossorigin&quot; is, and why it is added to your cors preflight requests. Either don&#39;t send it, or allow it."},{"owner":{"account_id":6532198,"reputation":54726,"user_id":5053002,"display_name":"Jaromanda X"},"score":1,"creation_date":1700172750,"post_id":77497512,"comment_id":136625405,"body_markdown":"@James - actually, the header complained bout is `crossdomain`","body":"@James - actually, the header complained bout is <code>crossdomain</code>"},{"owner":{"account_id":6532198,"reputation":54726,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1700172868,"post_id":77497512,"comment_id":136625416,"body_markdown":"`AXIOS still fails` - not uncommon - check the browser *developer* tools - does your request send a header `crossdomain`? if so, then find out why - the issue is client side, but you&#39;ve shown only server code","body":"<code>AXIOS still fails</code> - not uncommon - check the browser <i>developer</i> tools - does your request send a header <code>crossdomain</code>? if so, then find out why - the issue is client side, but you&#39;ve shown only server code"},{"owner":{"account_id":26609502,"reputation":1,"user_id":20229880,"display_name":"Wolf Ganger"},"score":0,"creation_date":1700321652,"post_id":77497512,"comment_id":136641400,"body_markdown":"Solved. I had to delete header field of the post request in the frontend `headers: {crossDomain: true}`","body":"Solved. I had to delete header field of the post request in the frontend <code>headers: {crossDomain: true}</code>"}],"owner":{"account_id":26609502,"reputation":1,"user_id":20229880,"display_name":"Wolf Ganger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700507469,"creation_date":1700162372,"question_id":77497512,"body_markdown":"I already have the CORS configuration class in my Spring Boot server:\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\npublic class CorsConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;http://localhost:3000&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;)\r\n                .allowedHeaders(&quot;Origin&quot;, &quot;X-Requested-With&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;)\r\n                .maxAge(3600); // Max age of the preflight request in seconds\r\n    }\r\n}\r\n```\r\nThe thing is that, even with that class, AXIOS still fails, showing this error:\r\n\r\n[Error message](https://i.stack.imgur.com/7CCEH.png)\r\n\r\nWhat am I still missing? With other POST requests in my backend I don&#39;t have any issues\r\n\r\nI also tried using @CrossOrigin(origins=&quot;*&quot;) in the controller itself but the result was the same\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/classification/&quot;)\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class ClassificationController {\r\n```\r\n\r\nThis is the class where the query is being made:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    export default function NewClassification() {\r\n      \r\n      const [classification, setClassification] = useState([]);\r\n\r\n      async function addClassification(URL, classification) {\r\n        const createdClassification = await postRequest(URL,classification);\r\n        setClassification(createdClassification)\r\n      }\r\n\r\n      console.log(useSearchParams().get(&#39;name&#39;))\r\n      const videogameName= useSearchParams().get(&#39;name&#39;)\r\n\r\n      return (\r\n        &lt;Layout&gt;\r\n          &lt;div&gt; \r\n            &lt;form&gt;\r\n              &lt;input type=&#39;text&#39; id=&#39;entity&#39; placeholder=&#39;Write entity name&#39;/&gt;\r\n              &lt;input type=&#39;text&#39; id=&#39;age&#39; placeholder=&#39;Write age of the label&#39;/&gt;\r\n              &lt;input type=&#39;text&#39; id=&quot;url&quot; placeholder=&#39;Write URL of the homepage of the entity&#39;/&gt;\r\n              &lt;input type=&#39;text&#39; id=&#39;country&#39; placeholder=&#39;Write country where the entity belongs&#39;/&gt;\r\n              &lt;input type=&#39;button&#39; value=&quot;Add new classification&quot; onClick={e =&gt; addClassification(&quot;/classification/&quot;+videogameName,{system:document.getElementById(&quot;entity&quot;).value,\r\n              country:document.getElementById(&quot;country&quot;).value,tag:document.getElementById(&quot;age&quot;).value,url:document.getElementById(&quot;url&quot;).value})}/&gt;\r\n            &lt;/form&gt;\r\n          &lt;/div&gt;\r\n        &lt;/Layout&gt;\r\n      )\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd this is the class that process the request and sends it to the backend:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import axios from &quot;axios&quot;;\r\n\r\n    const axiosClient = axios.create();\r\n\r\n    axiosClient.defaults.baseURL = &quot;http://&lt;ip&gt;:8080&quot;\r\n    axios.defaults.headers.post[&#39;Content-Type&#39;] = &#39;application/json&#39;;\r\n\r\n    export async function postRequest(URL, payload){\r\n        const response =  await axiosClient.post(URL, payload, {\r\n            headers: {crossDomain: true},\r\n            validateStatus: function (status) {\r\n            return true;\r\n            }})\r\n        //.then(response =&gt; response)\r\n        //.catch(err =&gt; console.log(err))\r\n        console.log(response)\r\n\r\n        return response.data\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"CORS cross-origin problem even with CORS configuration in Spring Boot Server","body":"<p>I already have the CORS configuration class in my Spring Boot server:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;http://localhost:3000&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;)\n                .allowedHeaders(&quot;Origin&quot;, &quot;X-Requested-With&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;)\n                .maxAge(3600); // Max age of the preflight request in seconds\n    }\n}\n</code></pre>\n<p>The thing is that, even with that class, AXIOS still fails, showing this error:</p>\n<p><a href=\"https://i.stack.imgur.com/7CCEH.png\" rel=\"nofollow noreferrer\">Error message</a></p>\n<p>What am I still missing? With other POST requests in my backend I don't have any issues</p>\n<p>I also tried using @CrossOrigin(origins=&quot;*&quot;) in the controller itself but the result was the same</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/classification/&quot;)\n@CrossOrigin(origins = &quot;*&quot;)\npublic class ClassificationController {\n</code></pre>\n<p>This is the class where the query is being made:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export default function NewClassification() {\n  \n  const [classification, setClassification] = useState([]);\n\n  async function addClassification(URL, classification) {\n    const createdClassification = await postRequest(URL,classification);\n    setClassification(createdClassification)\n  }\n\n  console.log(useSearchParams().get('name'))\n  const videogameName= useSearchParams().get('name')\n\n  return (\n    &lt;Layout&gt;\n      &lt;div&gt; \n        &lt;form&gt;\n          &lt;input type='text' id='entity' placeholder='Write entity name'/&gt;\n          &lt;input type='text' id='age' placeholder='Write age of the label'/&gt;\n          &lt;input type='text' id=\"url\" placeholder='Write URL of the homepage of the entity'/&gt;\n          &lt;input type='text' id='country' placeholder='Write country where the entity belongs'/&gt;\n          &lt;input type='button' value=\"Add new classification\" onClick={e =&gt; addClassification(\"/classification/\"+videogameName,{system:document.getElementById(\"entity\").value,\n          country:document.getElementById(\"country\").value,tag:document.getElementById(\"age\").value,url:document.getElementById(\"url\").value})}/&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    &lt;/Layout&gt;\n  )\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And this is the class that process the request and sends it to the backend:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import axios from \"axios\";\n\nconst axiosClient = axios.create();\n\naxiosClient.defaults.baseURL = \"http://&lt;ip&gt;:8080\"\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nexport async function postRequest(URL, payload){\n    const response =  await axiosClient.post(URL, payload, {\n        headers: {crossDomain: true},\n        validateStatus: function (status) {\n        return true;\n        }})\n    //.then(response =&gt; response)\n    //.catch(err =&gt; console.log(err))\n    console.log(response)\n\n    return response.data\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1700411555,"post_id":77511549,"comment_id":136648394,"body_markdown":"This: `String[] ds = new String[to_del_cnt + 1];` does not create a string but an array of strings.  I think you&#39;re confused how string creation works.  Look at the String constructors instead: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#%3Cinit%3E(char%5B%5D)","body":"This: <code>String[] ds = new String[to_del_cnt + 1];</code> does not create a string but an array of strings.  I think you&#39;re confused how string creation works.  Look at the String constructors instead: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#%3Cinit%3E(char%5B%5D)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1700411740,"post_id":77511549,"comment_id":136648413,"body_markdown":"Also is there a reason you don&#39;t use StringBuilder?  If you are new this could be an assignment but otherwise not re-implementing existing code is the right way to go. https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html#deleteCharAt(int)","body":"Also is there a reason you don&#39;t use StringBuilder?  If you are new this could be an assignment but otherwise not re-implementing existing code is the right way to go. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html#deleteCharAt(int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1700411986,"post_id":77511549,"comment_id":136648434,"body_markdown":"You seem new to programming in general, not just Java.  Please take a look at &quot;hand execution.&quot;  Executing your code yourself, not relying on the computer, is imo the best way to learn how to read and write code: https://www.programming4beginners.com/tutorial/chapter04/execution-by-hand","body":"You seem new to programming in general, not just Java.  Please take a look at &quot;hand execution.&quot;  Executing your code yourself, not relying on the computer, is imo the best way to learn how to read and write code: <a href=\"https://www.programming4beginners.com/tutorial/chapter04/execution-by-hand\" rel=\"nofollow noreferrer\">programming4beginners.com/tutorial/chapter04/execution-by-ha&zwnj;&#8203;nd</a>"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1700412273,"post_id":77511549,"comment_id":136648466,"body_markdown":"I hesitate to suggest *regular expressions* but it&#39;s hard to beat the clarity of `return s.replaceAll(String.valueOf(to_del), &quot;&quot;);`","body":"I hesitate to suggest <i>regular expressions</i> but it&#39;s hard to beat the clarity of <code>return s.replaceAll(String.valueOf(to_del), &quot;&quot;);</code>"},{"owner":{"account_id":27600336,"reputation":1,"user_id":22946200,"display_name":"explorecomp"},"score":0,"creation_date":1700413199,"post_id":77511549,"comment_id":136648566,"body_markdown":"yeah, it&#39;s how it should be, for every found to_del char this method creates new string, that&#39;s why I need array of strings","body":"yeah, it&#39;s how it should be, for every found to_del char this method creates new string, that&#39;s why I need array of strings"},{"owner":{"account_id":27600336,"reputation":1,"user_id":22946200,"display_name":"explorecomp"},"score":0,"creation_date":1700413316,"post_id":77511549,"comment_id":136648577,"body_markdown":"purpose of coding my own methods is practice, I need to improve my understanding of how strings work","body":"purpose of coding my own methods is practice, I need to improve my understanding of how strings work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700413578,"post_id":77511549,"comment_id":136648619,"body_markdown":"It doesn&#39;t make sense to create an *addtional* container like `char[]` which is not really mutable if your objective is to mutate a string. If you want to do your &#39;own&#39; string mutation, then use a mutable class like `StringBuilder` Since you&#39;re new to Java, we don&#39;t use underscores except in [places like constants](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)","body":"It doesn&#39;t make sense to create an <i>addtional</i> container like <code>char[]</code> which is not really mutable if your objective is to mutate a string. If you want to do your &#39;own&#39; string mutation, then use a mutable class like <code>StringBuilder</code> Since you&#39;re new to Java, we don&#39;t use underscores except in <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">places like constants</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1700414736,"post_id":77511549,"comment_id":136648737,"body_markdown":"`for every found to_del char this method creates new string, that&#39;s why I need array` You shouldn&#39;t do this however.  At most, you create a new string but then replace the old string, progressively creating the final string.  For a `char[]`, those are mutable, so you do NOT need to create a new one each iteration.  Just modify the one `char[]` in place.","body":"<code>for every found to_del char this method creates new string, that&#39;s why I need array</code> You shouldn&#39;t do this however.  At most, you create a new string but then replace the old string, progressively creating the final string.  For a <code>char[]</code>, those are mutable, so you do NOT need to create a new one each iteration.  Just modify the one <code>char[]</code> in place."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700481239,"post_id":77511549,"comment_id":136655797,"body_markdown":"*char to_del* You need to know, also, this is not only not future-proof, but not even present-proof. The space occupied by the world&#39;s characters has now expanded to break the bounds of `char`. We now talk of *codepoints*, which are represented by `int`. If you want to simplify this complication then you can make the search &#39;character&#39; of type `String`","body":"<i>char to_del</i> You need to know, also, this is not only not future-proof, but not even present-proof. The space occupied by the world&#39;s characters has now expanded to break the bounds of <code>char</code>. We now talk of <i>codepoints</i>, which are represented by <code>int</code>. If you want to simplify this complication then you can make the search &#39;character&#39; of type <code>String</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700423169,"creation_date":1700415802,"answer_id":77511813,"question_id":77511549,"body_markdown":"As already suggested, there are built-in ways to do this.  But your method is rather confusing and has a lot of unnecessary code. But here are some suggestions.\r\n\r\n**Your `j_delete_char` method has problems.**\r\n\r\nThe idea is simple.\r\n- create a new array one less that the original, since you will be deleting one character.\r\n- then copy characters except the one at `index` to the new array.\r\n```\r\npublic static String j_delete_char(String s, int index) {\r\n    if (index &gt;= s.length()) {\r\n        return s;\r\n    }\r\n```\r\nfirst, copy all the chars from 0 to index-1\r\n```\r\n   for (int i = 0; i &lt; index; i++) {  \r\n      ret_s_array[i] = s_array[i];\r\n   }\r\n```\r\nthen copy all the characters from the index to destination, starting with the first character beyond the index.\r\n```\r\n   for (int i = index; i &lt; ret_s_array.length; i++) {\r\n      ret_s_array[i] = s_array[i+1];\r\n   }\r\n\r\n   return Arrays.toString(ret_s_array);\r\n}\r\n\r\n```\r\n**Problems with the `j_delete_all_chars` method**\r\n\r\nYour first part of the `j_delete_all_chars` finds out many to be deleted.  This can be used to create a proper length `result array` of characters. This is fine.  But your second loop is incorrect.  And you are creating an array of Strings based on the delete count which doesn&#39;t make sense.\r\n```\r\nchar[] s_array = s.toCharArray();\r\nint to_del_cnt = 0;\r\nfor (int i = 0; i &lt; s.length(); i++) {\r\n    if (s_array[i] == to_del) {\r\n        to_del_cnt += 1; // in java you can also do `to_del_cnt++`\r\n    }\r\n}\r\n```\r\nSo now create the result array.  Original length minus the number to be deleted.\r\n```\r\nchar [] result = new char[s.length() - to_del_cnt];\r\n```\r\nNow just iterate over the existing string of characters and if the `currentChar` does **not** equal the one to be deleted, add it to the `result array` and `increment the index`.\r\n```\r\nint index = 0;\r\nfor (int i = 0; i &lt; s.length(); i++) {\r\n    char currentChar = s.charAt(i);\r\n    if (currentChar != to_del) \r\n        result[index++] = currentChar;\r\n    }\r\n}\r\nreturn Arrays.toString(result);\r\n```\r\nYou could also just do the following which converts the `to_del` character to a string and replaces all occurrences with an empty string.  \r\n```\r\ns = s.replace(to_del+&quot;&quot;, &quot;&quot;);             // returns a string\r\nreturn Arrays.toString(s.toCharArray());  // returns the array as a string\r\n```","title":"Weird execution of String method in Java","body":"<p>As already suggested, there are built-in ways to do this.  But your method is rather confusing and has a lot of unnecessary code. But here are some suggestions.</p>\n<p><strong>Your <code>j_delete_char</code> method has problems.</strong></p>\n<p>The idea is simple.</p>\n<ul>\n<li>create a new array one less that the original, since you will be deleting one character.</li>\n<li>then copy characters except the one at <code>index</code> to the new array.</li>\n</ul>\n<pre><code>public static String j_delete_char(String s, int index) {\n    if (index &gt;= s.length()) {\n        return s;\n    }\n</code></pre>\n<p>first, copy all the chars from 0 to index-1</p>\n<pre><code>   for (int i = 0; i &lt; index; i++) {  \n      ret_s_array[i] = s_array[i];\n   }\n</code></pre>\n<p>then copy all the characters from the index to destination, starting with the first character beyond the index.</p>\n<pre><code>   for (int i = index; i &lt; ret_s_array.length; i++) {\n      ret_s_array[i] = s_array[i+1];\n   }\n\n   return Arrays.toString(ret_s_array);\n}\n\n</code></pre>\n<p><strong>Problems with the <code>j_delete_all_chars</code> method</strong></p>\n<p>Your first part of the <code>j_delete_all_chars</code> finds out many to be deleted.  This can be used to create a proper length <code>result array</code> of characters. This is fine.  But your second loop is incorrect.  And you are creating an array of Strings based on the delete count which doesn't make sense.</p>\n<pre><code>char[] s_array = s.toCharArray();\nint to_del_cnt = 0;\nfor (int i = 0; i &lt; s.length(); i++) {\n    if (s_array[i] == to_del) {\n        to_del_cnt += 1; // in java you can also do `to_del_cnt++`\n    }\n}\n</code></pre>\n<p>So now create the result array.  Original length minus the number to be deleted.</p>\n<pre><code>char [] result = new char[s.length() - to_del_cnt];\n</code></pre>\n<p>Now just iterate over the existing string of characters and if the <code>currentChar</code> does <strong>not</strong> equal the one to be deleted, add it to the <code>result array</code> and <code>increment the index</code>.</p>\n<pre><code>int index = 0;\nfor (int i = 0; i &lt; s.length(); i++) {\n    char currentChar = s.charAt(i);\n    if (currentChar != to_del) \n        result[index++] = currentChar;\n    }\n}\nreturn Arrays.toString(result);\n</code></pre>\n<p>You could also just do the following which converts the <code>to_del</code> character to a string and replaces all occurrences with an empty string.</p>\n<pre><code>s = s.replace(to_del+&quot;&quot;, &quot;&quot;);             // returns a string\nreturn Arrays.toString(s.toCharArray());  // returns the array as a string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700416191,"creation_date":1700416191,"answer_id":77511839,"question_id":77511549,"body_markdown":"The problem is that `Arrays.toString(char[])` is not the reverse of `String.toCharArray()`.\r\n\r\nThe `j_delete_char()` does not return a string with the character at the index deleted, it returns a string represention of the character array:\r\n\r\n`j_delete_char(&quot;abcdef&quot;, 3)` returns `&quot;[a, b, c, e, f]&quot;` when it should probably return `&quot;abcef&quot;`.\r\n\r\nBecause of this the `j_delete_all_chars(&quot;abcdef22abcd&quot;, &#39;2&#39;)` produces these intermediate results:\r\n\r\n- Input String: `&quot;abcdef22abcd&quot;`\r\n- First &#39;2&#39; replaced: `&quot;[a, b, c, d, e, f, 2, a, b, c, d]&quot;`\r\n- Second &#39;2&#39; replaced: `&quot;[[, a, ,,  , b, ,,  , c, ,,  , d, ,,  , e, ,,  , f, ,,  , ,,  , a, ,,  , b, ,,  , c, ,,  , d, ]]&quot;`\r\n- Creating the result string: `[[, [, ,,  , a, ,,  , ,, ,,  ,  , ,,  , b, ,,  , ,, ,,  ,  , ,,  , c, ,,  , ,, ,,  ,  , ,,  , d, ,,  , ,, ,,  ,  , ,,  , e, ,,  , ,, ,,  ,  , ,,  , f, ,,  , ,, ,,  ,  , ,,  , ,, ,,  ,  , ,,  , a, ,,  , ,, ,,  ,  , ,,  , b, ,,  , ,, ,,  ,  , ,,  , c, ,,  , ,, ,,  ,  , ,,  , d, ,,  , ], ]]`\r\n\r\n\r\nWhat you probably wanted in your `j_delete_char()` method is to create a new String from the `char[]` using `new String(char[])`:\r\n\r\n    public static String j_delete_char(String s, int index) {\r\n        if (index &gt;= s.length()) {\r\n            return s;\r\n        }\r\n\r\n        char[] s_array = s.toCharArray();\r\n        char[] ret_s_array = new char[s.length() - 1];\r\n\r\n        for (int i = index; i &lt; s.length() - 1; i++) {\r\n            s_array[i] = s_array[i + 1];\r\n        }\r\n\r\n        for (int i = 0; i &lt; s.length() - 1; i++) {\r\n            ret_s_array[i] = s_array[i];\r\n        }\r\n\r\n        return new String(ret_s_array);\r\n    }\r\n\r\nAnd also the last line of `j_delete_all_chars()` is nonsense. `ds[to_del_cnt]` already contains a reference to the string with the characters replaced and therefore you should just return it:\r\n\r\n    public static String j_delete_all_chars(String s, char to_del) {\r\n        // ... code as before except the last line\r\n        return ds[to_del_cnt];\r\n    }\r\n    \r\n\r\n","title":"Weird execution of String method in Java","body":"<p>The problem is that <code>Arrays.toString(char[])</code> is not the reverse of <code>String.toCharArray()</code>.</p>\n<p>The <code>j_delete_char()</code> does not return a string with the character at the index deleted, it returns a string represention of the character array:</p>\n<p><code>j_delete_char(&quot;abcdef&quot;, 3)</code> returns <code>&quot;[a, b, c, e, f]&quot;</code> when it should probably return <code>&quot;abcef&quot;</code>.</p>\n<p>Because of this the <code>j_delete_all_chars(&quot;abcdef22abcd&quot;, '2')</code> produces these intermediate results:</p>\n<ul>\n<li>Input String: <code>&quot;abcdef22abcd&quot;</code></li>\n<li>First '2' replaced: <code>&quot;[a, b, c, d, e, f, 2, a, b, c, d]&quot;</code></li>\n<li>Second '2' replaced: <code>&quot;[[, a, ,,  , b, ,,  , c, ,,  , d, ,,  , e, ,,  , f, ,,  , ,,  , a, ,,  , b, ,,  , c, ,,  , d, ]]&quot;</code></li>\n<li>Creating the result string: <code>[[, [, ,,  , a, ,,  , ,, ,,  ,  , ,,  , b, ,,  , ,, ,,  ,  , ,,  , c, ,,  , ,, ,,  ,  , ,,  , d, ,,  , ,, ,,  ,  , ,,  , e, ,,  , ,, ,,  ,  , ,,  , f, ,,  , ,, ,,  ,  , ,,  , ,, ,,  ,  , ,,  , a, ,,  , ,, ,,  ,  , ,,  , b, ,,  , ,, ,,  ,  , ,,  , c, ,,  , ,, ,,  ,  , ,,  , d, ,,  , ], ]]</code></li>\n</ul>\n<p>What you probably wanted in your <code>j_delete_char()</code> method is to create a new String from the <code>char[]</code> using <code>new String(char[])</code>:</p>\n<pre><code>public static String j_delete_char(String s, int index) {\n    if (index &gt;= s.length()) {\n        return s;\n    }\n\n    char[] s_array = s.toCharArray();\n    char[] ret_s_array = new char[s.length() - 1];\n\n    for (int i = index; i &lt; s.length() - 1; i++) {\n        s_array[i] = s_array[i + 1];\n    }\n\n    for (int i = 0; i &lt; s.length() - 1; i++) {\n        ret_s_array[i] = s_array[i];\n    }\n\n    return new String(ret_s_array);\n}\n</code></pre>\n<p>And also the last line of <code>j_delete_all_chars()</code> is nonsense. <code>ds[to_del_cnt]</code> already contains a reference to the string with the characters replaced and therefore you should just return it:</p>\n<pre><code>public static String j_delete_all_chars(String s, char to_del) {\n    // ... code as before except the last line\n    return ds[to_del_cnt];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700480933,"post_id":77512183,"comment_id":136655754,"body_markdown":"*while (b.toString().contains(t)) b.deleteCharAt(b.indexOf(t));* I would rather see backwards iteration and deletion, since repeatedly creating a `String` out of the `StringBuilder` is inefficient and unnecessary.","body":"<i>while (b.toString().contains(t)) b.deleteCharAt(b.indexOf(t));</i> I would rather see backwards iteration and deletion, since repeatedly creating a <code>String</code> out of the <code>StringBuilder</code> is inefficient and unnecessary."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700495106,"post_id":77512183,"comment_id":136658465,"body_markdown":"@g00se, then write an answer.","body":"@g00se, then write an answer."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700421970,"creation_date":1700421970,"answer_id":77512183,"question_id":77511549,"body_markdown":"Here is a re-factor.\r\n\r\n```java\r\nString j_delete_char(String s, int index) {\r\n    if (index &gt;= s.length()) return s;\r\n    return s.substring(0, index) + s.substring(index + 1);\r\n}\r\n\r\nString j_delete_all_chars(String s, char to_del) {\r\n    for (int i = 0; i &lt; s.length(); i++)\r\n        if (s.charAt(i) == to_del) s = j_delete_char(s, i--);\r\n    return s;\r\n}\r\n```\r\n\r\nIf you wanted to keep the _array_ in _j_delete_char_, for practice; here is an example.\r\n\r\n```java\r\nString j_delete_char(String s, int index) {\r\n    if (index &gt;= s.length()) return s;\r\n    char[] a = new char[s.length() - 1];\r\n    int i, n;\r\n    for (i = 0, n = index; i &lt; n; i++) a[i] = s.charAt(i);\r\n    for (i = index + 1, n = s.length(); i &lt; n; i++)\r\n        a[i - 1] = s.charAt(i);\r\n    return new String(a);\r\n}\r\n```\r\n\r\nOr, utilize the _[Arrays#copyOfRange](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Arrays.html#copyOfRange(char[],int,int))_, and _[System#arraycopy](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int))_, methods.\r\n\r\n```java\r\nString j_delete_char(String s, int index) {\r\n    if (index &gt;= s.length()) return s;\r\n    char[] a = s.toCharArray(), x, y;\r\n    x = Arrays.copyOfRange(a, 0, index);\r\n    y = Arrays.copyOfRange(a, index + 1, a.length);\r\n    a = new char[s.length() - 1];\r\n    System.arraycopy(x, 0, a, 0, x.length);\r\n    System.arraycopy(y, 0, a, x.length, y.length);\r\n    return new String(a);\r\n}\r\n```\r\n\r\nAlternately, use the _[StringBuilder](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html)_ class.\r\n\r\n```java\r\nString j_delete_all_chars(String s, char to_del) {\r\n    StringBuilder b = new StringBuilder(s);\r\n    String t = String.valueOf(to_del);\r\n    while (b.toString().contains(t)) b.deleteCharAt(b.indexOf(t));\r\n    return b.toString();\r\n}\r\n```\r\n\r\nOr, the _[String#replace](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence))_ method.\r\n\r\n```java\r\n&quot;abcdef222abcd&quot;.replace(&quot;2&quot;, &quot;&quot;)\r\n```","title":"Weird execution of String method in Java","body":"<p>Here is a re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String j_delete_char(String s, int index) {\n    if (index &gt;= s.length()) return s;\n    return s.substring(0, index) + s.substring(index + 1);\n}\n\nString j_delete_all_chars(String s, char to_del) {\n    for (int i = 0; i &lt; s.length(); i++)\n        if (s.charAt(i) == to_del) s = j_delete_char(s, i--);\n    return s;\n}\n</code></pre>\n<p>If you wanted to keep the <em>array</em> in <em>j_delete_char</em>, for practice; here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String j_delete_char(String s, int index) {\n    if (index &gt;= s.length()) return s;\n    char[] a = new char[s.length() - 1];\n    int i, n;\n    for (i = 0, n = index; i &lt; n; i++) a[i] = s.charAt(i);\n    for (i = index + 1, n = s.length(); i &lt; n; i++)\n        a[i - 1] = s.charAt(i);\n    return new String(a);\n}\n</code></pre>\n<p>Or, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Arrays.html#copyOfRange(char%5B%5D,int,int)\" rel=\"nofollow noreferrer\">Arrays#copyOfRange</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">System#arraycopy</a></em>, methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String j_delete_char(String s, int index) {\n    if (index &gt;= s.length()) return s;\n    char[] a = s.toCharArray(), x, y;\n    x = Arrays.copyOfRange(a, 0, index);\n    y = Arrays.copyOfRange(a, index + 1, a.length);\n    a = new char[s.length() - 1];\n    System.arraycopy(x, 0, a, 0, x.length);\n    System.arraycopy(y, 0, a, x.length, y.length);\n    return new String(a);\n}\n</code></pre>\n<p>Alternately, use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String j_delete_all_chars(String s, char to_del) {\n    StringBuilder b = new StringBuilder(s);\n    String t = String.valueOf(to_del);\n    while (b.toString().contains(t)) b.deleteCharAt(b.indexOf(t));\n    return b.toString();\n}\n</code></pre>\n<p>Or, the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String#replace</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;abcdef222abcd&quot;.replace(&quot;2&quot;, &quot;&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700503558,"creation_date":1700503558,"answer_id":77518032,"question_id":77511549,"body_markdown":"You might take this kind of approach to deal with the issues dealt with in my comments above:\r\n```\r\n    public static String deleteCharacter(String s, int codepoint) {\r\n        return s.codePoints().\r\n            filter(c -&gt;c != codepoint).\r\n            collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();\r\n    }\r\n```\r\nTo get the codepoint in question, you might do something like `int codepoint = &quot;&#129322;&quot;.codePointAt(0);`","title":"Weird execution of String method in Java","body":"<p>You might take this kind of approach to deal with the issues dealt with in my comments above:</p>\n<pre><code>    public static String deleteCharacter(String s, int codepoint) {\n        return s.codePoints().\n            filter(c -&gt;c != codepoint).\n            collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();\n    }\n</code></pre>\n<p>To get the codepoint in question, you might do something like <code>int codepoint = &quot;&quot;.codePointAt(0);</code></p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700504522,"creation_date":1700504522,"answer_id":77518129,"question_id":77511549,"body_markdown":"Be simple!\r\n```java\r\npublic static String j_delete_all_chars(String str, char ch) {\r\n    StringBuilder buf = new StringBuilder();\r\n\r\n    for (int i = 0; i &lt; str.length(); i++)\r\n        if (str.charAt(i) != ch)\r\n            buf.append(str.charAt(i));\r\n\r\n    return Arrays.toString(buf.toString().toCharArray());\r\n}\r\n```","title":"Weird execution of String method in Java","body":"<p>Be simple!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String j_delete_all_chars(String str, char ch) {\n    StringBuilder buf = new StringBuilder();\n\n    for (int i = 0; i &lt; str.length(); i++)\n        if (str.charAt(i) != ch)\n            buf.append(str.charAt(i));\n\n    return Arrays.toString(buf.toString().toCharArray());\n}\n</code></pre>\n"}],"owner":{"account_id":27600336,"reputation":1,"user_id":22946200,"display_name":"explorecomp"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1700504522,"creation_date":1700410771,"question_id":77511549,"body_markdown":"```\r\npublic static String j_delete_char(String s, int index) {\r\n    if (index &gt;= s.length()) {\r\n        return s;\r\n    }\r\n\r\n    char[] s_array = s.toCharArray();\r\n    char[] ret_s_array = new char[s.length() - 1];\r\n\r\n    for (int i = index; i &lt; s.length() - 1; i++) {\r\n        s_array[i] = s_array[i + 1];\r\n    }\r\n\r\n    for (int i = 0; i &lt; s.length() - 1; i++) {\r\n        ret_s_array[i] = s_array[i];\r\n    }\r\n\r\n    return Arrays.toString(ret_s_array);\r\n}\r\n\r\npublic static String j_delete_all_chars(String s, char to_del) {\r\n    char[] s_array = s.toCharArray();\r\n    int to_del_cnt = 0;\r\n    for (int i = 0; i &lt; s.length(); i++) {\r\n        if (s_array[i] == to_del) {\r\n            to_del_cnt += 1;\r\n        }\r\n    }\r\n\r\n    String[] ds = new String[to_del_cnt + 1];\r\n    ds[0] = s;\r\n\r\n    for (int StringIndex = 0; StringIndex &lt; to_del_cnt; StringIndex++) {\r\n        char[] ds_char_array = ds[StringIndex].toCharArray();\r\n        int i = 0;\r\n        boolean found_to_del = false;\r\n        while (!found_to_del) {\r\n            if (ds_char_array[i] == to_del) {\r\n                ds[StringIndex + 1] = j_delete_char(ds[StringIndex], i);\r\n                found_to_del = true;\r\n            }\r\n            i++;\r\n        }\r\n\r\n    }\r\n    return Arrays.toString(ds[to_del_cnt].toCharArray());\r\n}\r\n```\r\n\r\nSo `public static String j_delete_char(String s, int index)` returns string without char with index index\r\n\r\n\r\n```none\r\nindex = 3 \r\nInput: abcdef\r\nOutput: [a, b, c, e, f]\r\n```\r\n\r\nAnd `public static String j_delete_all_chars(String s, char to_del)` returns string without all chars = to_del\r\n\r\nI expected this method to work like this\r\n\r\n```none\r\nto_del = &#39;2&#39;\r\nInput: abcdef22abcd\r\nOutput: [a, b, c, d, e, f, a, b, c, d]\r\n```\r\nBut I get this and I don&#39;t know what&#39;s wrong\r\n\r\n\r\n```none\r\n[[, [, ,,  , a, ,,  , ,, ,,  ,  , ,,  , b, ,,  , ,, ,,  ,  , ,,  , c, ,,  , ,, ,,  ,  , ,,  , d, ,,  , ,, ,,  ,  , ,,  , e, ,,  , ,, ,,  ,  , ,,  , f, ,,  , ,, ,,  ,  , ,,  , ,, ,,  ,  , ,,  , a, ,,  , ,, ,,  ,  , ,,  , b, ,,  , ,, ,,  ,  , ,,  , c, ,,  , ,, ,,  ,  , ,,  , d, ,,  , ], ]]\r\n```\r\n\r\nI&#39;m new to Java, appreciate any help","title":"Weird execution of String method in Java","body":"<pre><code>public static String j_delete_char(String s, int index) {\n    if (index &gt;= s.length()) {\n        return s;\n    }\n\n    char[] s_array = s.toCharArray();\n    char[] ret_s_array = new char[s.length() - 1];\n\n    for (int i = index; i &lt; s.length() - 1; i++) {\n        s_array[i] = s_array[i + 1];\n    }\n\n    for (int i = 0; i &lt; s.length() - 1; i++) {\n        ret_s_array[i] = s_array[i];\n    }\n\n    return Arrays.toString(ret_s_array);\n}\n\npublic static String j_delete_all_chars(String s, char to_del) {\n    char[] s_array = s.toCharArray();\n    int to_del_cnt = 0;\n    for (int i = 0; i &lt; s.length(); i++) {\n        if (s_array[i] == to_del) {\n            to_del_cnt += 1;\n        }\n    }\n\n    String[] ds = new String[to_del_cnt + 1];\n    ds[0] = s;\n\n    for (int StringIndex = 0; StringIndex &lt; to_del_cnt; StringIndex++) {\n        char[] ds_char_array = ds[StringIndex].toCharArray();\n        int i = 0;\n        boolean found_to_del = false;\n        while (!found_to_del) {\n            if (ds_char_array[i] == to_del) {\n                ds[StringIndex + 1] = j_delete_char(ds[StringIndex], i);\n                found_to_del = true;\n            }\n            i++;\n        }\n\n    }\n    return Arrays.toString(ds[to_del_cnt].toCharArray());\n}\n</code></pre>\n<p>So <code>public static String j_delete_char(String s, int index)</code> returns string without char with index index</p>\n<pre class=\"lang-none prettyprint-override\"><code>index = 3 \nInput: abcdef\nOutput: [a, b, c, e, f]\n</code></pre>\n<p>And <code>public static String j_delete_all_chars(String s, char to_del)</code> returns string without all chars = to_del</p>\n<p>I expected this method to work like this</p>\n<pre class=\"lang-none prettyprint-override\"><code>to_del = '2'\nInput: abcdef22abcd\nOutput: [a, b, c, d, e, f, a, b, c, d]\n</code></pre>\n<p>But I get this and I don't know what's wrong</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[, [, ,,  , a, ,,  , ,, ,,  ,  , ,,  , b, ,,  , ,, ,,  ,  , ,,  , c, ,,  , ,, ,,  ,  , ,,  , d, ,,  , ,, ,,  ,  , ,,  , e, ,,  , ,, ,,  ,  , ,,  , f, ,,  , ,, ,,  ,  , ,,  , ,, ,,  ,  , ,,  , a, ,,  , ,, ,,  ,  , ,,  , b, ,,  , ,, ,,  ,  , ,,  , c, ,,  , ,, ,,  ,  , ,,  , d, ,,  , ], ]]\n</code></pre>\n<p>I'm new to Java, appreciate any help</p>\n"},{"tags":["java","vbscript","automation","hp-uft"],"comments":[{"owner":{"account_id":8325851,"reputation":4338,"user_id":6255978,"display_name":"Dave"},"score":0,"creation_date":1529183528,"post_id":50891695,"comment_id":88784284,"body_markdown":"The tree object you&#39;re after is a child of the table cell.  I don&#39;t have `UFT` on this PC, but if you look up the `JavaTable` object, you will see how to set a reference to the `ChildObject` contained within a given cell of the `JavaTable`.  Once you have that reference, you can treat it as any other object of that type.","body":"The tree object you&#39;re after is a child of the table cell.  I don&#39;t have <code>UFT</code> on this PC, but if you look up the <code>JavaTable</code> object, you will see how to set a reference to the <code>ChildObject</code> contained within a given cell of the <code>JavaTable</code>.  Once you have that reference, you can treat it as any other object of that type."},{"owner":{"account_id":11265140,"reputation":31,"user_id":8262175,"display_name":"Chewie"},"score":0,"creation_date":1529251519,"post_id":50891695,"comment_id":88796349,"body_markdown":"Thank you Dave, I will try to do this and I will let you know what I got.\nYou know Dave, the problem I am facing now is that UFT object spy do not focus on the texts of the table, it only can focus on the entire table, so i can&#39;t get the properties of the texts for example, to use like this: Set oDesc = Description.Create() oDesc(&quot;micclass&quot;).value = &quot;text&quot; Do you know other way i can check the properties of the childObjects","body":"Thank you Dave, I will try to do this and I will let you know what I got. You know Dave, the problem I am facing now is that UFT object spy do not focus on the texts of the table, it only can focus on the entire table, so i can&#39;t get the properties of the texts for example, to use like this: Set oDesc = Description.Create() oDesc(&quot;micclass&quot;).value = &quot;text&quot; Do you know other way i can check the properties of the childObjects"}],"answers":[{"comments":[{"owner":{"account_id":11265140,"reputation":31,"user_id":8262175,"display_name":"Chewie"},"score":0,"creation_date":1529251238,"post_id":50894783,"comment_id":88796255,"body_markdown":"Thank you Bela Tamas Jozsa, first I will try to do what Dave suggested and If it doesn&#39;t work then yes, I think I will have to talk to one of the developers who implemented the application.","body":"Thank you Bela Tamas Jozsa, first I will try to do what Dave suggested and If it doesn&#39;t work then yes, I think I will have to talk to one of the developers who implemented the application."}],"tags":[],"owner":{"account_id":4999874,"reputation":714,"user_id":4019237,"display_name":"Bela Tamas Jozsa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1529222541,"creation_date":1529222541,"answer_id":50894783,"question_id":50891695,"body_markdown":"Is your table an awt or swt based table? (Lookup the toolkit class)\r\nIN case of swt, things can get complicated as UFT is relying mostly on the getText JavaMethod of a cell to get the value in it. In case the devs used JFace or some sophisticated rendering, you may need to sit down with them and ask for the proper way to read out the textual value of a cell from the memory.\r\n\r\nMost of the time you would have to use the .Object (Native Java) methods to get access to a [TableItem][1] Object and then you can try your lock with the getData.toString method, or other methods on the Object returned by getData(). ALthough storing complex data with set/get Data methods on a TableItem might be a common practice, it is not a rule. In some cases you may really need to sit down with a developer, or if not present reverse engieer / read the code yourself (Of course only if it&#39;s legally allowed)\r\n\r\nIn Summary: You have to understand how the developers stored complex data in table items, and then teach UFT to be able to get the text from it whenever you need to. This implies the use of .Object(Native Java methods). \r\n\r\n*Of course, if you do not wanna see this code in your test libraries you can think of an Extensibility Kit Solution with UFT Java Add-In ext.*\r\n\r\n\r\n  [1]: https://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fswt%2Fwidgets%2FTableItem.html","title":"Not able to get cell data from JavaTable","body":"<p>Is your table an awt or swt based table? (Lookup the toolkit class)\nIN case of swt, things can get complicated as UFT is relying mostly on the getText JavaMethod of a cell to get the value in it. In case the devs used JFace or some sophisticated rendering, you may need to sit down with them and ask for the proper way to read out the textual value of a cell from the memory.</p>\n\n<p>Most of the time you would have to use the .Object (Native Java) methods to get access to a <a href=\"https://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fswt%2Fwidgets%2FTableItem.html\" rel=\"nofollow noreferrer\">TableItem</a> Object and then you can try your lock with the getData.toString method, or other methods on the Object returned by getData(). ALthough storing complex data with set/get Data methods on a TableItem might be a common practice, it is not a rule. In some cases you may really need to sit down with a developer, or if not present reverse engieer / read the code yourself (Of course only if it's legally allowed)</p>\n\n<p>In Summary: You have to understand how the developers stored complex data in table items, and then teach UFT to be able to get the text from it whenever you need to. This implies the use of .Object(Native Java methods). </p>\n\n<p><em>Of course, if you do not wanna see this code in your test libraries you can think of an Extensibility Kit Solution with UFT Java Add-In ext.</em></p>\n"},{"tags":[],"owner":{"account_id":11265140,"reputation":31,"user_id":8262175,"display_name":"Chewie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529785152,"creation_date":1529352128,"answer_id":50916678,"question_id":50891695,"body_markdown":"Hello the solution I found was simplier then i thought, actually it was a friend of my that solved it. It is below:\r\n\r\n     Text = &quot;Text to be found&quot;\r\n    RowCount = WpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).GetROProperty(&quot;rows&quot;)\r\n    For i = 0 To RowCount-1\r\n\tWpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).ClickCell i,2\r\n\tToBeSelected = WpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).GetCellData(i,1)\r\n\tIf Instr(ToBeSelected,Text) &gt; 0 Then\r\n\t\tWpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).ClickCell i,1\r\n\t\tExit For\r\n\tEnd If\r\n    Next\r\n\r\n\r\n\r\n ","title":"Not able to get cell data from JavaTable","body":"<p>Hello the solution I found was simplier then i thought, actually it was a friend of my that solved it. It is below:</p>\n\n<pre><code> Text = \"Text to be found\"\nRowCount = WpfWindow(\"Window\").JavaWindow(\"JFrame\").JavaTable(\"JavaTable\").GetROProperty(\"rows\")\nFor i = 0 To RowCount-1\nWpfWindow(\"Window\").JavaWindow(\"JFrame\").JavaTable(\"JavaTable\").ClickCell i,2\nToBeSelected = WpfWindow(\"Window\").JavaWindow(\"JFrame\").JavaTable(\"JavaTable\").GetCellData(i,1)\nIf Instr(ToBeSelected,Text) &gt; 0 Then\n    WpfWindow(\"Window\").JavaWindow(\"JFrame\").JavaTable(\"JavaTable\").ClickCell i,1\n    Exit For\nEnd If\nNext\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10511171,"reputation":1,"user_id":7746842,"display_name":"Mukul Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700504349,"creation_date":1700488355,"answer_id":77516424,"question_id":50891695,"body_markdown":"Try this way:\r\n\r\n```java\r\nString valueStr = WpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).Object.getValueAt(rowIndex,columnIndex).toString()\r\n```","title":"Not able to get cell data from JavaTable","body":"<p>Try this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String valueStr = WpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).Object.getValueAt(rowIndex,columnIndex).toString()\n</code></pre>\n"}],"owner":{"account_id":11265140,"reputation":31,"user_id":8262175,"display_name":"Chewie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50894783,"answer_count":3,"score":0,"last_activity_date":1700504349,"creation_date":1529182694,"question_id":50891695,"body_markdown":"I have the table below and I am not being able to get its text, the one written &#39;Text to retrive&quot;.\r\n\r\n[![Table from were I am trying to get the text][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IXTt5.png\r\n\r\nThe code I am using is below, in this case it brings me a blank string:\r\n\r\n&lt;!-- language-all: vb --&gt;\r\n\r\n    Dim a\r\n    TableRows = WpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).GetROProperty(&quot;rows&quot;)\r\n    For Iterator = 0 To TableRows Step 1\r\n    a = WpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).getCellData(Iterator,1)\r\n    Next\r\n\r\nI also tried with the code below but whithout success, in this case it gives me an error:\r\n\r\n    Dim a\r\n    TableRows = WpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).GetROProperty(&quot;rows&quot;)\r\n    For Iterator = 0 To TableRows Step 1\r\n    a = WpfWindow(&quot;Window&quot;).JavaWindow(&quot;JFrame&quot;).JavaTable(&quot;JavaTable&quot;).Object.getValueAt(Iterator,1)\r\n    Next\r\n","title":"Not able to get cell data from JavaTable","body":"<p>I have the table below and I am not being able to get its text, the one written 'Text to retrive\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/IXTt5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IXTt5.png\" alt=\"Table from were I am trying to get the text\"></a></p>\n\n<p>The code I am using is below, in this case it brings me a blank string:</p>\n\n\n\n<pre class=\"lang-vb prettyprint-override\"><code>Dim a\nTableRows = WpfWindow(\"Window\").JavaWindow(\"JFrame\").JavaTable(\"JavaTable\").GetROProperty(\"rows\")\nFor Iterator = 0 To TableRows Step 1\na = WpfWindow(\"Window\").JavaWindow(\"JFrame\").JavaTable(\"JavaTable\").getCellData(Iterator,1)\nNext\n</code></pre>\n\n<p>I also tried with the code below but whithout success, in this case it gives me an error:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Dim a\nTableRows = WpfWindow(\"Window\").JavaWindow(\"JFrame\").JavaTable(\"JavaTable\").GetROProperty(\"rows\")\nFor Iterator = 0 To TableRows Step 1\na = WpfWindow(\"Window\").JavaWindow(\"JFrame\").JavaTable(\"JavaTable\").Object.getValueAt(Iterator,1)\nNext\n</code></pre>\n"},{"tags":["java","recursion","artificial-intelligence"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1700528975,"post_id":77518069,"comment_id":136663397,"body_markdown":"Welcome to Stack Overflow.\nSorry, but this site is not a discussion forum or programming tutorial site.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively. \nAlso read \n[Why is Can someone help me? not an actual question?](http://meta.stackoverflow.com/q/284236/18157) \nand\n[Open letter to students with homework problems](http://meta.softwareengineering.stackexchange.com/q/6166/18157)","body":"Welcome to Stack Overflow. Sorry, but this site is not a discussion forum or programming tutorial site. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively.  Also read  <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is Can someone help me? not an actual question?</a>  and <a href=\"http://meta.softwareengineering.stackexchange.com/q/6166/18157\">Open letter to students with homework problems</a>"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1700529244,"post_id":77518069,"comment_id":136663421,"body_markdown":"Also, consider: _&quot;horizontally or vertically / time(not sideways)&quot;_ - do you mean diagonally instead of sideways? _&quot;So 1 move to the right = +1 , 1 move to the left = -1 , 1 move up is -12 and 1 move down is +1.The entrance node will be at position 0 and the exit node will be at position 63.&quot;_ - If the grid has 64 cells, then up/down should be -8 and +8, not -12 and +1.","body":"Also, consider: <i>&quot;horizontally or vertically / time(not sideways)&quot;</i> - do you mean diagonally instead of sideways? <i>&quot;So 1 move to the right = +1 , 1 move to the left = -1 , 1 move up is -12 and 1 move down is +1.The entrance node will be at position 0 and the exit node will be at position 63.&quot;</i> - If the grid has 64 cells, then up/down should be -8 and +8, not -12 and +1."},{"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"score":0,"creation_date":1700583779,"post_id":77518069,"comment_id":136671316,"body_markdown":"@JimGarrison yes sorry I was thinking of a 12x12 grid and I didnt correct it when I loaded up the question.","body":"@JimGarrison yes sorry I was thinking of a 12x12 grid and I didnt correct it when I loaded up the question."}],"owner":{"account_id":29950924,"reputation":39,"user_id":22953041,"display_name":"Root Groves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700504343,"creation_date":1700503892,"question_id":77518069,"body_markdown":"For homework I am supposed to write down a algorithm which finds a path from the entrance to the exit of a maze.\r\n\r\nYou can only move 1 block horizontally or vertically / time(not sideways).I decided to conceptually image the maze as a nxn grid but I am implementing not in the normal way.\r\n\r\nA normal implementation of a grid with size n is a $\\sqrt{n}$x$\\sqrt{n}$ matrix however I am using 1 dimensional array.I am visualizing the grid 2 dimensionally but I say that the node at [x] will be at the same column with the node at [x+grid.row.width] so in my 1 dimensional array lets say of a nxn grid the node[1] will be at the same column with the node[1+n]\r\n\r\nSo 1 move to the right = +1 , 1 move to the left = -1 , 1 move up is -12 and 1 move down is +1.The entrance node will be at position 0 and the exit node will be at position 63.\r\n\r\nSince there are 4 possible moves , we can consider the state diagram to be a tree with each parent having 4 kids.\r\n\r\nAnd since it is a tree , the best way to write down the search function is with recursion:which in fact I have!\r\n\r\nI will be using the Best First Search algorithm\r\n\r\nBut before all of this let me give out the classes:\r\n\r\n\r\n\r\n\r\n \r\n\r\nNode.java\r\n```\r\npublic class Node\r\n{\r\n    \r\n\r\n    private int position;\r\n\r\n    private int type;\r\n\r\n    private boolean IsExit;\r\n\r\n    public Node(int position,int type,boolean IsExit)\r\n    {\r\n        this.position = position;\r\n\r\n        this.type = type;\r\n\r\n        this.IsExit = IsExit;\r\n\r\n    }\r\n\r\n\r\n    public int getPosition()\r\n    {\r\n\r\n        return position;\r\n\r\n    }\r\n    public int getType()\r\n    {\r\n        return type;\r\n\r\n    }\r\n    public boolean getIsExit()\r\n    {\r\n        return IsExit;\r\n\r\n    }\r\n\r\n    public void setIsExit(boolean b)\r\n    {\r\n        IsExit = b;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nThe node type (1 or 0)is if the Node is not a roadblock(0 for True , 1 for False)\r\n\r\nFBS.java\r\n\r\n\r\n```\r\npublic class FBS\r\n\r\n\r\n{\r\n    private Node[] array;\r\npublic FBS(int gridsize,Node[]array)\r\n{\r\n   array = new Node[gridsize];\r\n\r\n   Random rm = new Random();\r\n\r\n\r\n\r\n   for(int i=0;i&lt;gridsize;i++)\r\n   {\r\n       Node n = new Node(i,rm.nextInt(1),false);\r\n\r\n       if(n.getPosition()== array.length-1)\r\n       {\r\n           n.setIsExit(true);\r\n\r\n       }\r\n\r\n       array[i] = n;\r\n   }\r\n\r\n   this.array = array;\r\n\r\n}\r\npublic int  calc(int pos)\r\n{\r\n    if(array[pos].getIsExit()==true)\r\n    {\r\n        System.out.print(pos);\r\n\r\n        return pos;\r\n\r\n    } else if (array[pos].getType()==1)\r\n    {\r\n        return -1;\r\n\r\n    }\r\n\r\n    var n1 = calc(pos+1);\r\n    var n2 = calc(pos-1);\r\n    var n3 = calc(pos+12);\r\n    var n4 = calc(pos-12);\r\n\r\n    return n1;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n}\r\n```\r\nNow of course returning n1 is not correct but what I need to know is:is my recursive function correct?","title":"Finding path of a grid using first best search","body":"<p>For homework I am supposed to write down a algorithm which finds a path from the entrance to the exit of a maze.</p>\n<p>You can only move 1 block horizontally or vertically / time(not sideways).I decided to conceptually image the maze as a nxn grid but I am implementing not in the normal way.</p>\n<p>A normal implementation of a grid with size n is a $\\sqrt{n}$x$\\sqrt{n}$ matrix however I am using 1 dimensional array.I am visualizing the grid 2 dimensionally but I say that the node at [x] will be at the same column with the node at [x+grid.row.width] so in my 1 dimensional array lets say of a nxn grid the node[1] will be at the same column with the node[1+n]</p>\n<p>So 1 move to the right = +1 , 1 move to the left = -1 , 1 move up is -12 and 1 move down is +1.The entrance node will be at position 0 and the exit node will be at position 63.</p>\n<p>Since there are 4 possible moves , we can consider the state diagram to be a tree with each parent having 4 kids.</p>\n<p>And since it is a tree , the best way to write down the search function is with recursion:which in fact I have!</p>\n<p>I will be using the Best First Search algorithm</p>\n<p>But before all of this let me give out the classes:</p>\n<p>Node.java</p>\n<pre><code>public class Node\n{\n    \n\n    private int position;\n\n    private int type;\n\n    private boolean IsExit;\n\n    public Node(int position,int type,boolean IsExit)\n    {\n        this.position = position;\n\n        this.type = type;\n\n        this.IsExit = IsExit;\n\n    }\n\n\n    public int getPosition()\n    {\n\n        return position;\n\n    }\n    public int getType()\n    {\n        return type;\n\n    }\n    public boolean getIsExit()\n    {\n        return IsExit;\n\n    }\n\n    public void setIsExit(boolean b)\n    {\n        IsExit = b;\n\n    }\n\n\n}\n\n</code></pre>\n<p>The node type (1 or 0)is if the Node is not a roadblock(0 for True , 1 for False)</p>\n<p>FBS.java</p>\n<pre><code>public class FBS\n\n\n{\n    private Node[] array;\npublic FBS(int gridsize,Node[]array)\n{\n   array = new Node[gridsize];\n\n   Random rm = new Random();\n\n\n\n   for(int i=0;i&lt;gridsize;i++)\n   {\n       Node n = new Node(i,rm.nextInt(1),false);\n\n       if(n.getPosition()== array.length-1)\n       {\n           n.setIsExit(true);\n\n       }\n\n       array[i] = n;\n   }\n\n   this.array = array;\n\n}\npublic int  calc(int pos)\n{\n    if(array[pos].getIsExit()==true)\n    {\n        System.out.print(pos);\n\n        return pos;\n\n    } else if (array[pos].getType()==1)\n    {\n        return -1;\n\n    }\n\n    var n1 = calc(pos+1);\n    var n2 = calc(pos-1);\n    var n3 = calc(pos+12);\n    var n4 = calc(pos-12);\n\n    return n1;\n\n\n\n\n\n\n\n\n}\n\n\n}\n</code></pre>\n<p>Now of course returning n1 is not correct but what I need to know is:is my recursive function correct?</p>\n"},{"tags":["java","android","kotlin","gif","webp"],"comments":[{"owner":{"account_id":6734976,"reputation":10698,"user_id":5593959,"accept_rate":84,"display_name":"Dmytro Rostopira"},"score":0,"creation_date":1646482913,"post_id":71360520,"comment_id":126137437,"body_markdown":"If size of the apk doesn&#39;t matter for you, you can use ffmpeg","body":"If size of the apk doesn&#39;t matter for you, you can use ffmpeg"},{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":0,"creation_date":1646483223,"post_id":71360520,"comment_id":126137486,"body_markdown":"Thanks for comment. Yeah I could use that but I tried ffmpeg in React Native and achive the goal with gif files but cannot resize the animated webp file. I came to know that it does not have animated webp decoder so it can only resize the gif and encode to animated webp.","body":"Thanks for comment. Yeah I could use that but I tried ffmpeg in React Native and achive the goal with gif files but cannot resize the animated webp file. I came to know that it does not have animated webp decoder so it can only resize the gif and encode to animated webp."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1646661195,"post_id":71360520,"comment_id":126171631,"body_markdown":"I&#39;m voting to close this question. Asking for &quot;suggestions&quot; makes it seem like you are asking for a library which is off-topic for SO.  I suggest you either add more details, what have you tried, why did that not work etc, if this is really a *programming question*. Or, ask for a library on [Software Recommendations SE](https://softwarerecs.stackexchange.com). &#128512;","body":"I&#39;m voting to close this question. Asking for &quot;suggestions&quot; makes it seem like you are asking for a library which is off-topic for SO.  I suggest you either add more details, what have you tried, why did that not work etc, if this is really a <i>programming question</i>. Or, ask for a library on <a href=\"https://softwarerecs.stackexchange.com\">Software Recommendations SE</a>. "},{"owner":{"account_id":6734976,"reputation":10698,"user_id":5593959,"accept_rate":84,"display_name":"Dmytro Rostopira"},"score":0,"creation_date":1648544401,"post_id":71360520,"comment_id":126644738,"body_markdown":"Found this question, it looks like it&#39;s possible: https://stackoverflow.com/questions/53024304","body":"Found this question, it looks like it&#39;s possible: <a href=\"https://stackoverflow.com/questions/53024304\">stackoverflow.com/questions/53024304</a>"}],"answers":[{"tags":[],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648894637,"creation_date":1648894637,"answer_id":71716656,"question_id":71360520,"body_markdown":"Finally I found the solution after lots of searching and exxperimenting. \r\n\r\nFor Gif:\r\n* Extract frames from gif using decoder\r\n* Resize the each bitmaps.\r\n* encode them into webp or gif using encoder\r\n\r\nFor Webp:\r\n* (Need Glid) use given code to extract frames as bitmaps. \r\n* Resize them \r\n* encode into gif/webp\r\n\r\n(Delay is also available to use it with encoder)\r\n\r\n\r\n\r\nGif encoder decoder\r\nhttps://github.com/waynejo/android-ndk-gif\r\n\r\nWebp Ecnoder\r\nhttps://github.com/b4rtaz/android-webp-encoder\r\n\r\nWebp decoding using Glide:\r\nhttps://stackoverflow.com/a/64744296/9308731\r\n\r\nResizing:\r\nhttps://stackoverflow.com/a/32810187/9308731\r\n","title":"How to resize GIF/Animated WebP image files in Android?","body":"<p>Finally I found the solution after lots of searching and exxperimenting.</p>\n<p>For Gif:</p>\n<ul>\n<li>Extract frames from gif using decoder</li>\n<li>Resize the each bitmaps.</li>\n<li>encode them into webp or gif using encoder</li>\n</ul>\n<p>For Webp:</p>\n<ul>\n<li>(Need Glid) use given code to extract frames as bitmaps.</li>\n<li>Resize them</li>\n<li>encode into gif/webp</li>\n</ul>\n<p>(Delay is also available to use it with encoder)</p>\n<p>Gif encoder decoder\n<a href=\"https://github.com/waynejo/android-ndk-gif\" rel=\"nofollow noreferrer\">https://github.com/waynejo/android-ndk-gif</a></p>\n<p>Webp Ecnoder\n<a href=\"https://github.com/b4rtaz/android-webp-encoder\" rel=\"nofollow noreferrer\">https://github.com/b4rtaz/android-webp-encoder</a></p>\n<p>Webp decoding using Glide:\n<a href=\"https://stackoverflow.com/a/64744296/9308731\">https://stackoverflow.com/a/64744296/9308731</a></p>\n<p>Resizing:\n<a href=\"https://stackoverflow.com/a/32810187/9308731\">https://stackoverflow.com/a/32810187/9308731</a></p>\n"}],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":71716656,"answer_count":1,"score":-2,"last_activity_date":1700504169,"creation_date":1646467675,"question_id":71360520,"body_markdown":"How can we resize the animated image files like gif, animated webp or animated png files in android ? I am not asking about showing animation on Image View. My goal is to save the animated image file on storage after resizing.\r\n\r\nI tried glide but we have to write complex code to get bitmap of each frame and then fit that bitmap to specific size or crop it then encode all those frames back into an animated image file.\r\n\r\nThere is another lib called imagemagick but android version has some issue that i could not use it\r\n\r\nAPNG4ANDROID is another library which looks perfect for this operation but it has also some issues although its good lib for showing animated images. it is not meant for this resize stuff\r\n\r\n","title":"How to resize GIF/Animated WebP image files in Android?","body":"<p>How can we resize the animated image files like gif, animated webp or animated png files in android ? I am not asking about showing animation on Image View. My goal is to save the animated image file on storage after resizing.</p>\n<p>I tried glide but we have to write complex code to get bitmap of each frame and then fit that bitmap to specific size or crop it then encode all those frames back into an animated image file.</p>\n<p>There is another lib called imagemagick but android version has some issue that i could not use it</p>\n<p>APNG4ANDROID is another library which looks perfect for this operation but it has also some issues although its good lib for showing animated images. it is not meant for this resize stuff</p>\n"},{"tags":["javascript","java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":13647178,"reputation":1443,"user_id":9845929,"display_name":"SebastienRieu"},"score":0,"creation_date":1614348930,"post_id":66387361,"comment_id":117365817,"body_markdown":"hi, upload here manifest, build.gradle files etc.","body":"hi, upload here manifest, build.gradle files etc."},{"owner":{"account_id":20818350,"reputation":11,"user_id":15290634,"display_name":"Aman Singh"},"score":0,"creation_date":1614350355,"post_id":66387361,"comment_id":117366487,"body_markdown":"i updated the manifest and the build gradle please take a look","body":"i updated the manifest and the build gradle please take a look"}],"answers":[{"tags":[],"owner":{"account_id":17296535,"reputation":28,"user_id":12527080,"display_name":"eFortsHub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648052326,"creation_date":1648052326,"answer_id":71590600,"question_id":66387361,"body_markdown":"If this line showing correct thing that you added `admob banner ad unite id `there. then change it asap with `admob app ID` \r\n\r\n    &lt;meta-data\r\n        android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n        android:value=&quot;@string/admob_banner_ad_unit_id&quot; /&gt;\r\n\r\nad unite and app ID is different thing, app ID used to initialize Ads SDK on startup, \r\nad unite used to load and manage ADS.\r\n\r\nopen your `google admob account` &gt; `select the app` &gt; click on `ad units` \r\nthen click on any of your ad unite name,\r\n&lt;br&gt;\r\nin top right you will be able to see a button says `Implementation instructions` like image bellow. click that and copy application ID [![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4RUss.png","title":"My app builds successfully but crashes while running with &quot;Invalid application ID.&quot;","body":"<p>If this line showing correct thing that you added <code>admob banner ad unite id </code>there. then change it asap with <code>admob app ID</code></p>\n<pre><code>&lt;meta-data\n    android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n    android:value=&quot;@string/admob_banner_ad_unit_id&quot; /&gt;\n</code></pre>\n<p>ad unite and app ID is different thing, app ID used to initialize Ads SDK on startup,\nad unite used to load and manage ADS.</p>\n<p>open your <code>google admob account</code> &gt; <code>select the app</code> &gt; click on <code>ad units</code>\nthen click on any of your ad unite name,\n<br>\nin top right you will be able to see a button says <code>Implementation instructions</code> like image bellow. click that and copy application ID <a href=\"https://i.stack.imgur.com/4RUss.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4RUss.png\" alt=\"Screenshot\" /></a></p>\n"}],"owner":{"account_id":20818350,"reputation":11,"user_id":15290634,"display_name":"Aman Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700504117,"creation_date":1614348774,"question_id":66387361,"body_markdown":"Logcat\r\n```none\r\n----------    at android.app.ActivityThread.installProvider(ActivityThread.java:7447)\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6964)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6870)\r\n        at android.app.ActivityThread.access$1600(ActivityThread.java:255)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2106)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:230)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7815)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:526)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034)\r\n     Caused by: java.lang.IllegalStateException: \r\n    \r\n    ******************************************************************************\r\n    * Invalid application ID. Follow instructions here:                          *\r\n    * https://googlemobileadssdk.page.link/admob-android-update-manifest         *\r\n    * to find your app ID.                                                       *\r\n    ******************************************************************************\r\n    \r\n    \r\n        at com.google.android.gms.internal.ads.zzzt.attachInfo(com.google.android.gms:play-services-ads-lite@@19.7.0:24)\r\n        at com.google.android.gms.ads.MobileAdsInitProvider.attachInfo(com.google.android.gms:play-services-ads-lite@@19.7.0:3)\r\n        at android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\r\n```\r\n       \r\nmanifest\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n       package=&quot;com.dating.app&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;com.dating.app.Main.Application&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/flirt_icon&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/flirt_icon&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        tools:replace=&quot;android:icon&quot;&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Settings.NotificationActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Start.RemindActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Start.StartActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Settings.SupportActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Settings.PasswordActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Settings.EmailActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Settings.AccountActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Settings.ReportActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Profile.ProfileEditActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Main.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Start.LoginActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Start.RegisterActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Message.MessageActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Profile.ProfileActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\r\n            android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Settings.SettingsActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Settings.PrivacyActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Accounts.AccountsActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.dating.app.Premium.PremiumActivity&quot; /&gt;\r\n\r\n        &lt;service android:name=&quot;com.dating.app.Extra.ServiceClass&quot; /&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.facebook.sdk.ApplicationId&quot;\r\n            android:value=&quot;@string/facebook_app_id&quot; /&gt;\r\n\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;@string/admob_banner_ad_unit_id&quot; /&gt;\r\n\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.facebook.FacebookActivity&quot;\r\n            android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\r\n            android:label=&quot;@string/app_name&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.facebook.CustomTabActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;data android:scheme=&quot;@string/fb_login_protocol_scheme&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n         &lt;/activity&gt;\r\n     &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\ngradle\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    defaultConfig {\r\n        applicationId &quot;com.dating.app.flirt.chat&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 30\r\n        versionCode 2\r\n        versionName &quot;1.0.1&quot;\r\n        testInstrumentationRunner &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n\r\n        multiDexEnabled true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    android {\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            abortOnError false\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;androidx.viewpager:viewpager:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.0&#39;\r\n    implementation &quot;com.google.firebase:firebase-core:18.0.2&quot;\r\n    implementation &#39;com.google.firebase:firebase-database:19.6.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:20.0.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:19.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:22.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-ads:19.7.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:19.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:18.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.0.0&#39;\r\n    implementation &#39;com.theartofdev.edmodo:android-image-cropper:2.7.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.nabinbhandari.android:permissions:3.8&#39;\r\n    implementation &#39;id.zelory:compressor:2.1.0&#39;\r\n    implementation &#39;com.makeramen:roundedimageview:2.3.0&#39;\r\n    implementation &#39;com.crystal:crystalrangeseekbar:1.1.3&#39;\r\n    implementation &#39;com.patrickpissurno:ripple-effect:1.3.1&#39;\r\n    implementation &#39;com.github.curioustechizen.android-ago:library:1.4.0&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-firestore:4.0.1&#39;\r\n    implementation &quot;com.yuyakaido.android:card-stack-view:2.3.2&quot;\r\n    implementation &#39;link.fls:swipestack:0.3.0&#39;\r\n    implementation &#39;com.mindorks.android:placeholderview:1.0.3&#39;\r\n    annotationProcessor &#39;com.mindorks.android:placeholderview-compiler:1.0.3&#39;\r\n    implementation &#39;com.synnapps:carouselview:0.1.5&#39;\r\n    implementation &quot;com.squareup.okhttp3:okhttp:3.14.1&quot;\r\n    implementation &#39;com.jakewharton.picasso:picasso2-okhttp3-downloader:1.1.0&#39;\r\n    implementation &#39;com.ss.bannerslider:bannerslider:2.0.0&#39;\r\n    implementation &#39;com.github.f0ris.sweetalert:library:1.5.6&#39;\r\n    implementation &#39;com.sackcentury:shinebutton:0.2.0&#39;\r\n    implementation &#39;org.greenrobot:eventbus:3.1.1&#39;\r\n    implementation &#39;com.facebook.android:facebook-login:5.15.3&#39;\r\n    implementation &#39;com.skyfishjy.ripplebackground:library:1.0.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.1.0-alpha08&#39;\r\n\r\n}\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n```","title":"My app builds successfully but crashes while running with &quot;Invalid application ID.&quot;","body":"<p>Logcat</p>\n<pre class=\"lang-none prettyprint-override\"><code>----------    at android.app.ActivityThread.installProvider(ActivityThread.java:7447)\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6964)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6870)\n        at android.app.ActivityThread.access$1600(ActivityThread.java:255)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2106)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:230)\n        at android.app.ActivityThread.main(ActivityThread.java:7815)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:526)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034)\n     Caused by: java.lang.IllegalStateException: \n    \n    ******************************************************************************\n    * Invalid application ID. Follow instructions here:                          *\n    * https://googlemobileadssdk.page.link/admob-android-update-manifest         *\n    * to find your app ID.                                                       *\n    ******************************************************************************\n    \n    \n        at com.google.android.gms.internal.ads.zzzt.attachInfo(com.google.android.gms:play-services-ads-lite@@19.7.0:24)\n        at com.google.android.gms.ads.MobileAdsInitProvider.attachInfo(com.google.android.gms:play-services-ads-lite@@19.7.0:3)\n        at android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\n</code></pre>\n<p>manifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n       package=&quot;com.dating.app&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;com.dating.app.Main.Application&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/flirt_icon&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/flirt_icon&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        tools:replace=&quot;android:icon&quot;&gt;\n        &lt;activity android:name=&quot;com.dating.app.Settings.NotificationActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;com.dating.app.Start.RemindActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Start.StartActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Settings.SupportActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Settings.PasswordActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Settings.EmailActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Settings.AccountActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Settings.ReportActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Profile.ProfileEditActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Main.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;com.dating.app.Start.LoginActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Start.RegisterActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Message.MessageActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Profile.ProfileActivity&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\n            android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Settings.SettingsActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Settings.PrivacyActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Accounts.AccountsActivity&quot; /&gt;\n        &lt;activity android:name=&quot;com.dating.app.Premium.PremiumActivity&quot; /&gt;\n\n        &lt;service android:name=&quot;com.dating.app.Extra.ServiceClass&quot; /&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.facebook.sdk.ApplicationId&quot;\n            android:value=&quot;@string/facebook_app_id&quot; /&gt;\n\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;@string/admob_banner_ad_unit_id&quot; /&gt;\n\n\n        &lt;activity\n            android:name=&quot;com.facebook.FacebookActivity&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\n            android:label=&quot;@string/app_name&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.facebook.CustomTabActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n                &lt;data android:scheme=&quot;@string/fb_login_protocol_scheme&quot; /&gt;\n            &lt;/intent-filter&gt;\n         &lt;/activity&gt;\n     &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>gradle</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 30\n    defaultConfig {\n        applicationId &quot;com.dating.app.flirt.chat&quot;\n        minSdkVersion 19\n        targetSdkVersion 30\n        versionCode 2\n        versionName &quot;1.0.1&quot;\n        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    android {\n        lintOptions {\n            checkReleaseBuilds false\n            abortOnError false\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'androidx.viewpager:viewpager:1.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0'\n    implementation &quot;com.google.firebase:firebase-core:18.0.2&quot;\n    implementation 'com.google.firebase:firebase-database:19.6.0'\n    implementation 'com.google.firebase:firebase-auth:20.0.2'\n    implementation 'com.google.firebase:firebase-storage:19.2.1'\n    implementation 'com.google.firebase:firebase-firestore:22.1.0'\n    implementation 'com.google.firebase:firebase-ads:19.7.0'\n    implementation 'com.google.android.gms:play-services-auth:19.0.0'\n    implementation 'com.google.android.gms:play-services-location:18.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.multidex:multidex:2.0.0'\n    implementation 'de.hdodenhof:circleimageview:3.0.0'\n    implementation 'com.theartofdev.edmodo:android-image-cropper:2.7.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.nabinbhandari.android:permissions:3.8'\n    implementation 'id.zelory:compressor:2.1.0'\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n    implementation 'com.crystal:crystalrangeseekbar:1.1.3'\n    implementation 'com.patrickpissurno:ripple-effect:1.3.1'\n    implementation 'com.github.curioustechizen.android-ago:library:1.4.0'\n    implementation 'com.firebaseui:firebase-ui-firestore:4.0.1'\n    implementation &quot;com.yuyakaido.android:card-stack-view:2.3.2&quot;\n    implementation 'link.fls:swipestack:0.3.0'\n    implementation 'com.mindorks.android:placeholderview:1.0.3'\n    annotationProcessor 'com.mindorks.android:placeholderview-compiler:1.0.3'\n    implementation 'com.synnapps:carouselview:0.1.5'\n    implementation &quot;com.squareup.okhttp3:okhttp:3.14.1&quot;\n    implementation 'com.jakewharton.picasso:picasso2-okhttp3-downloader:1.1.0'\n    implementation 'com.ss.bannerslider:bannerslider:2.0.0'\n    implementation 'com.github.f0ris.sweetalert:library:1.5.6'\n    implementation 'com.sackcentury:shinebutton:0.2.0'\n    implementation 'org.greenrobot:eventbus:3.1.1'\n    implementation 'com.facebook.android:facebook-login:5.15.3'\n    implementation 'com.skyfishjy.ripplebackground:library:1.0.1'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.material:material:1.1.0-alpha08'\n\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"},{"tags":["java","arrays","class"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700330553,"post_id":77507896,"comment_id":136642425,"body_markdown":"Hello. Welcome to Stack Overflow. To better understand how to use this site, it might help to take the [tour](https://stackoverflow.com/tour), see [How to Ask](https://stackoverflow.com/help/how-to-ask), visit the [Help Center](https://stackoverflow.com/help), and visit links in those resources. In particular, please describe what the program is supposed to do. Those who would help want to compare your code to the description. Providing a description makes it easier to tell what is a bug and what is intended.","body":"Hello. Welcome to Stack Overflow. To better understand how to use this site, it might help to take the <a href=\"https://stackoverflow.com/tour\">tour</a>, see <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>, visit the <a href=\"https://stackoverflow.com/help\">Help Center</a>, and visit links in those resources. In particular, please describe what the program is supposed to do. Those who would help want to compare your code to the description. Providing a description makes it easier to tell what is a bug and what is intended."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700330736,"post_id":77507896,"comment_id":136642443,"body_markdown":"The source of this question appears to be from a programming practice / challenge / site. Can you, please, provide a link to the page to the source? Thanks.","body":"The source of this question appears to be from a programming practice / challenge / site. Can you, please, provide a link to the page to the source? Thanks."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700331328,"post_id":77507896,"comment_id":136642514,"body_markdown":"There are now two answers, which I did not see at the time I posted my first comment. Note that these the examples output of the answers disagree. That supports the point in the second part of my first comment: You need to provide a description of what is wanted.  Examples without explanation are sometimes misunderstood.","body":"There are now two answers, which I did not see at the time I posted my first comment. Note that these the examples output of the answers disagree. That supports the point in the second part of my first comment: You need to provide a description of what is wanted.  Examples without explanation are sometimes misunderstood."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700331615,"post_id":77507896,"comment_id":136642556,"body_markdown":"It&#39;s an improvement. But, in my opinion, it would help to add a description about what the program should do.","body":"It&#39;s an improvement. But, in my opinion, it would help to add a description about what the program should do."},{"owner":{"account_id":29722206,"reputation":5,"user_id":22779200,"display_name":"Orzibekov Yusufbek"},"score":0,"creation_date":1700331657,"post_id":77507896,"comment_id":136642563,"body_markdown":"**Hello**, @OldDogProgrammer How is it now? Is it understandable? because i can&#39;t see it.","body":"<b>Hello</b>, @OldDogProgrammer How is it now? Is it understandable? because i can&#39;t see it."},{"owner":{"account_id":29722206,"reputation":5,"user_id":22779200,"display_name":"Orzibekov Yusufbek"},"score":0,"creation_date":1700331720,"post_id":77507896,"comment_id":136642568,"body_markdown":"Can you see that I mentioned your username?","body":"Can you see that I mentioned your username?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700331744,"post_id":77507896,"comment_id":136642570,"body_markdown":"You need to tell us what the &quot;specific pattern&quot; is.","body":"You need to tell us what the &quot;specific pattern&quot; is."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700331795,"post_id":77507896,"comment_id":136642577,"body_markdown":"Yes. When you use @OldDogProgrammer in your comment, a red dot appears with my &quot;in box&quot; icon.","body":"Yes. When you use @OldDogProgrammer in your comment, a red dot appears with my &quot;in box&quot; icon."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700332117,"post_id":77507896,"comment_id":136642610,"body_markdown":"It looks like one of the answers does produce output that matches the &quot;expected results&quot;, while the other answer does not.","body":"It looks like one of the answers does produce output that matches the &quot;expected results&quot;, while the other answer does not."},{"owner":{"account_id":29722206,"reputation":5,"user_id":22779200,"display_name":"Orzibekov Yusufbek"},"score":0,"creation_date":1700332374,"post_id":77507896,"comment_id":136642630,"body_markdown":"Yes it is. Some improvements should be made. It outputs the expected result in reverse","body":"Yes it is. Some improvements should be made. It outputs the expected result in reverse"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700333263,"post_id":77507896,"comment_id":136642727,"body_markdown":"That&#39;s the result of differences in the test driver, which is unimportant here. You can replace the `main` method in the answer with the `main` method in your code.","body":"That&#39;s the result of differences in the test driver, which is unimportant here. You can replace the <code>main</code> method in the answer with the <code>main</code> method in your code."},{"owner":{"account_id":29722206,"reputation":5,"user_id":22779200,"display_name":"Orzibekov Yusufbek"},"score":0,"creation_date":1700334135,"post_id":77507896,"comment_id":136642830,"body_markdown":"@OldDogProgrammer, now you can see the task description above the question. There is a link for viewing the description.","body":"@OldDogProgrammer, now you can see the task description above the question. There is a link for viewing the description."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700344112,"post_id":77507896,"comment_id":136643759,"body_markdown":"I apologize. I thought there must be text that describes the pattern. It looks like there isn&#39;t. You really are expected to infer the pattern from examples.","body":"I apologize. I thought there must be text that describes the pattern. It looks like there isn&#39;t. You really are expected to infer the pattern from examples."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1700503997,"creation_date":1700330768,"answer_id":77508135,"question_id":77507896,"body_markdown":"```java\r\npublic static int[][] create(int size) {\r\n    int[][] matrix = new int[size][size];\r\n\r\n    for (int colLo = 0, colHi = size - 1; colLo &lt;= colHi; colLo++, colHi--) {\r\n        for (int rowLo = colLo, rowHi = colHi; rowLo &lt;= rowHi; rowLo++, rowHi--) {\r\n            matrix[rowLo][colLo] = 1;    matrix[rowLo][colHi] = 1;\r\n            matrix[rowHi][colLo] = 1;    matrix[rowHi][colHi] = 1;\r\n        }\r\n    }\r\n\r\n    return matrix;\r\n}\r\n\r\npublic static void printMatrix(int[][] matrix) {\r\n    for (int row = 0; row &lt; matrix.length; row++) {\r\n        for (int col = 0; col &lt; matrix[row].length; col++) {\r\n            if (col &gt; 0)\r\n                System.out.print(&#39; &#39;);\r\n            System.out.print(matrix[row][col]);\r\n        }\r\n\r\n        System.out.println();\r\n    }\r\n}\r\n\r\npublic static void main(String... args) {\r\n    for (int size = 1; size &lt; 7; size++) {\r\n        printMatrix(create(size));\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n**Output:**\r\n```\r\n1\r\n\r\n1 1\r\n1 1\r\n\r\n1 0 1\r\n1 1 1\r\n1 0 1\r\n\r\n1 0 0 1\r\n1 1 1 1\r\n1 1 1 1\r\n1 0 0 1\r\n\r\n1 0 0 0 1\r\n1 1 0 1 1\r\n1 1 1 1 1\r\n1 1 0 1 1\r\n1 0 0 0 1\r\n\r\n1 0 0 0 0 1\r\n1 1 0 0 1 1\r\n1 1 1 1 1 1\r\n1 1 1 1 1 1\r\n1 1 0 0 1 1\r\n1 0 0 0 0 1\r\n```","title":"Code Output Comparison and Correction Request","body":"<pre class=\"lang-java prettyprint-override\"><code>public static int[][] create(int size) {\n    int[][] matrix = new int[size][size];\n\n    for (int colLo = 0, colHi = size - 1; colLo &lt;= colHi; colLo++, colHi--) {\n        for (int rowLo = colLo, rowHi = colHi; rowLo &lt;= rowHi; rowLo++, rowHi--) {\n            matrix[rowLo][colLo] = 1;    matrix[rowLo][colHi] = 1;\n            matrix[rowHi][colLo] = 1;    matrix[rowHi][colHi] = 1;\n        }\n    }\n\n    return matrix;\n}\n\npublic static void printMatrix(int[][] matrix) {\n    for (int row = 0; row &lt; matrix.length; row++) {\n        for (int col = 0; col &lt; matrix[row].length; col++) {\n            if (col &gt; 0)\n                System.out.print(' ');\n            System.out.print(matrix[row][col]);\n        }\n\n        System.out.println();\n    }\n}\n\npublic static void main(String... args) {\n    for (int size = 1; size &lt; 7; size++) {\n        printMatrix(create(size));\n        System.out.println();\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>1\n\n1 1\n1 1\n\n1 0 1\n1 1 1\n1 0 1\n\n1 0 0 1\n1 1 1 1\n1 1 1 1\n1 0 0 1\n\n1 0 0 0 1\n1 1 0 1 1\n1 1 1 1 1\n1 1 0 1 1\n1 0 0 0 1\n\n1 0 0 0 0 1\n1 1 0 0 1 1\n1 1 1 1 1 1\n1 1 1 1 1 1\n1 1 0 0 1 1\n1 0 0 0 0 1\n</code></pre>\n"}],"owner":{"account_id":29722206,"reputation":5,"user_id":22779200,"display_name":"Orzibekov Yusufbek"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77508135,"answer_count":1,"score":0,"last_activity_date":1700503997,"creation_date":1700326926,"question_id":77507896,"body_markdown":"&gt;&gt; **[the task description](https://i.stack.imgur.com/HBgvQ.png)**\r\n\r\n```java\r\nclass Solution {\r\n\r\n    /**\r\n     * @param n the given positive number\r\n     * @return the square matrix of order n according to the given pattern\r\n     */\r\n    public static int[][] create(int n) {\r\n        int[][] matrix = new int[n][n];\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                if (i == 0 || i == n - 1 || j == 0 || j == n - 1) {\r\n                    matrix[i][j] = 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        return matrix;\r\n    }\r\n\r\n    // Helper method to print the matrix\r\n    public static void printMatrix(int[][] matrix) {\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                System.out.print(matrix[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;\\n&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Test cases\r\n        int[][] result1 = create(5);\r\n        printMatrix(result1);\r\n\r\n        int[][] result2 = create(6);\r\n        printMatrix(result2);\r\n\r\n        int[][] result3 = create(1);\r\n        printMatrix(result3);\r\n\r\n        int[][] result4 = create(2);\r\n        printMatrix(result4);\r\n    }\r\n}\r\n```\r\n\r\nHi everyone,\r\n\r\nWhen I test the code above, it outputs like this:\r\n\r\n**Unexpected Output**\r\n```\r\n1 1 1 1 1\r\n1 0 0 0 1\r\n1 0 0 0 1\r\n1 0 0 0 1\r\n1 1 1 1 1\r\n\r\n\r\n1 1 1 1 1 1\r\n1 0 0 0 0 1\r\n1 0 0 0 0 1\r\n1 0 0 0 0 1\r\n1 0 0 0 0 1\r\n1 1 1 1 1 1\r\n\r\n\r\n1\r\n\r\n\r\n1 1\r\n1 1\r\n```\r\n\r\n\r\n**However**, there are some issues in my code for outputting the correct version of the visibility. It should output like this:\r\n\r\n**Expected Output**\r\n```\r\n1 0 0 0 1\r\n1 1 0 1 1\r\n1 1 1 1 1\r\n1 1 0 1 1\r\n1 0 0 0 1\r\n\r\n\r\n1 0 0 0 0 1\r\n1 1 0 0 1 1\r\n1 1 1 1 1 1\r\n1 1 1 1 1 1\r\n1 1 0 0 1 1\r\n1 0 0 0 0 1\r\n\r\n\r\n1\r\n\r\n\r\n1 1\r\n1 1\r\n```\r\nAnd to others, it is correctly outputted.\r\n\r\nSo how can i output it correctly. **Any ideas?**\r\n\r\nI attempted to run the provided code for visibility calculations. I expected the output to accurately represent the visibility matrix for each scenario. However, upon reviewing the results, I noticed discrepancies in the visibility values. The correct visibility matrix for each case should follow a specific pattern, and I am seeking assistance in identifying and correcting the issues in the code that lead to the incorrect output.\r\n\r\n[My portfolio](https://42yuarzibekov.me)\r\nIf you want to contact.","title":"Code Output Comparison and Correction Request","body":"<blockquote>\n<blockquote>\n<p><strong><a href=\"https://i.stack.imgur.com/HBgvQ.png\" rel=\"nofollow noreferrer\">the task description</a></strong></p>\n</blockquote>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n\n    /**\n     * @param n the given positive number\n     * @return the square matrix of order n according to the given pattern\n     */\n    public static int[][] create(int n) {\n        int[][] matrix = new int[n][n];\n\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                if (i == 0 || i == n - 1 || j == 0 || j == n - 1) {\n                    matrix[i][j] = 1;\n                }\n            }\n        }\n\n        return matrix;\n    }\n\n    // Helper method to print the matrix\n    public static void printMatrix(int[][] matrix) {\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for (int j = 0; j &lt; matrix[i].length; j++) {\n                System.out.print(matrix[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        System.out.println(&quot;\\n&quot;);\n    }\n\n    public static void main(String[] args) {\n        // Test cases\n        int[][] result1 = create(5);\n        printMatrix(result1);\n\n        int[][] result2 = create(6);\n        printMatrix(result2);\n\n        int[][] result3 = create(1);\n        printMatrix(result3);\n\n        int[][] result4 = create(2);\n        printMatrix(result4);\n    }\n}\n</code></pre>\n<p>Hi everyone,</p>\n<p>When I test the code above, it outputs like this:</p>\n<p><strong>Unexpected Output</strong></p>\n<pre><code>1 1 1 1 1\n1 0 0 0 1\n1 0 0 0 1\n1 0 0 0 1\n1 1 1 1 1\n\n\n1 1 1 1 1 1\n1 0 0 0 0 1\n1 0 0 0 0 1\n1 0 0 0 0 1\n1 0 0 0 0 1\n1 1 1 1 1 1\n\n\n1\n\n\n1 1\n1 1\n</code></pre>\n<p><strong>However</strong>, there are some issues in my code for outputting the correct version of the visibility. It should output like this:</p>\n<p><strong>Expected Output</strong></p>\n<pre><code>1 0 0 0 1\n1 1 0 1 1\n1 1 1 1 1\n1 1 0 1 1\n1 0 0 0 1\n\n\n1 0 0 0 0 1\n1 1 0 0 1 1\n1 1 1 1 1 1\n1 1 1 1 1 1\n1 1 0 0 1 1\n1 0 0 0 0 1\n\n\n1\n\n\n1 1\n1 1\n</code></pre>\n<p>And to others, it is correctly outputted.</p>\n<p>So how can i output it correctly. <strong>Any ideas?</strong></p>\n<p>I attempted to run the provided code for visibility calculations. I expected the output to accurately represent the visibility matrix for each scenario. However, upon reviewing the results, I noticed discrepancies in the visibility values. The correct visibility matrix for each case should follow a specific pattern, and I am seeking assistance in identifying and correcting the issues in the code that lead to the incorrect output.</p>\n<p><a href=\"https://42yuarzibekov.me\" rel=\"nofollow noreferrer\">My portfolio</a>\nIf you want to contact.</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700174883,"post_id":77495716,"comment_id":136625619,"body_markdown":"your problem is that you have misunderstood what `subscribe` does. all backend servers are `producers` and they _produce_ data to the _consumer_ so who is the _consumer_? Well thats the final cconsumer of data, and in your case its the webpage fronted. The frontend `subscribes` to the backend. So the the question is then, why are you subscribing ? its the frontend that subscribes, so `remove all subscribe statements`, and return `Mono`and `Flux` from your controllers.","body":"your problem is that you have misunderstood what <code>subscribe</code> does. all backend servers are <code>producers</code> and they <i>produce</i> data to the <i>consumer</i> so who is the <i>consumer</i>? Well thats the final cconsumer of data, and in your case its the webpage fronted. The frontend <code>subscribes</code> to the backend. So the the question is then, why are you subscribing ? its the frontend that subscribes, so <code>remove all subscribe statements</code>, and return <code>Mono</code>and <code>Flux</code> from your controllers."},{"owner":{"account_id":19111621,"reputation":149,"user_id":13957509,"display_name":"cknelle"},"score":0,"creation_date":1700228475,"post_id":77495716,"comment_id":136631859,"body_markdown":"Thanx. Indeed I removed all the subsribe statements and I had only one call. BUT this solution does not fit with my requirement. Because I&#39;m also a consumer of another external server at the same time. What can I replace subscribe in Service.java with? I really need to retrieve the result from my WebClient to perform other call to other external services. I tried flatMap() instead of subscribe() but get the same unexpected behaviour i.e several calls. I tried also doOnSuccess() but nothing happens and I cannot  use doOnSuccess().block in my case.","body":"Thanx. Indeed I removed all the subsribe statements and I had only one call. BUT this solution does not fit with my requirement. Because I&#39;m also a consumer of another external server at the same time. What can I replace subscribe in Service.java with? I really need to retrieve the result from my WebClient to perform other call to other external services. I tried flatMap() instead of subscribe() but get the same unexpected behaviour i.e several calls. I tried also doOnSuccess() but nothing happens and I cannot  use doOnSuccess().block in my case."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700231031,"post_id":77495716,"comment_id":136632318,"body_markdown":"i cant teach you the basics of webflux, only final consumers should subscribe, when you say &quot;i tried this and i tried that&quot; i cant help you, since i can only provide help on code i see, and the code you have provided is the code in your question. And in your code, you are using subscribe wrongly, thats all i can help with. Stack overflow is not a forum, its a Q/A site. You may be a consumer, of another service but you are not the FINAL consumer. WIthout seeing your code its impossible for me to help you.","body":"i cant teach you the basics of webflux, only final consumers should subscribe, when you say &quot;i tried this and i tried that&quot; i cant help you, since i can only provide help on code i see, and the code you have provided is the code in your question. And in your code, you are using subscribe wrongly, thats all i can help with. Stack overflow is not a forum, its a Q/A site. You may be a consumer, of another service but you are not the FINAL consumer. WIthout seeing your code its impossible for me to help you."},{"owner":{"account_id":19111621,"reputation":149,"user_id":13957509,"display_name":"cknelle"},"score":0,"creation_date":1700503984,"post_id":77495716,"comment_id":136660205,"body_markdown":"Sorry for the misunderstanding indeed you saved my day with your response. Better understanding of subscribe. \nBetter understanding of flatMap as I managed to use it fitting why my requirement.\nThus I clarified my request and wrote an answer with additionnal inputs that I get also on my side.","body":"Sorry for the misunderstanding indeed you saved my day with your response. Better understanding of subscribe.  Better understanding of flatMap as I managed to use it fitting why my requirement. Thus I clarified my request and wrote an answer with additionnal inputs that I get also on my side."}],"answers":[{"tags":[],"owner":{"account_id":19111621,"reputation":149,"user_id":13957509,"display_name":"cknelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700503967,"creation_date":1700503967,"answer_id":77518076,"question_id":77495716,"body_markdown":"Thanx to Toerktumlare and other inputs, I deleted the subscribe calls that duplicate the call to the external service.\r\nBecause I already have an implicit subscribe with my controller calling the external API.\r\nI use flatMap instead in order to manipulate the received data.\r\nI use subscribe to call DoneService as I directly need to call it inside one of my method (not a request coming directly from the FrontEnd through the controller) \r\n\r\n\r\nThus for the Controller.java for example :\r\n```lang-java\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/v1&quot;)\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\npublic class Controller {\r\n\tprivate static final String PATH_SERVICE = &quot;/pathservice&quot;;\r\n\r\n\t@Autowired\r\n\tService service;\r\n\r\n\t@PostMapping(path = PATH_SERVICE, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic Mono&lt;TheResponseClass&gt; mySpringbootService(@RequestHeader(&quot;requestId&quot;) String requestId,\r\n\t\t\t@RequestBody @Valid InputData inputData) {\r\n\t\treturn service.save(requestId, inputData);\r\n\r\n\t}\r\n    \r\n}\r\n```\r\n\r\nAnd for calling my DoneService from Service.java :\r\n```lang-java\r\n@Slf4j\r\n@Service\r\npublic class Service {\r\n\r\n\t@Autowired\r\n\tClientAPI clientAPI;\r\n\r\n\t@Autowired\r\n\tBuilRequestBody builRequestBody;\r\n\r\n\t@Autowired\r\n\tBuildHeaderRequest buildHeaderRequest;\r\n\r\n\t@Autowired\r\n\tDoneService doneService;\r\n\r\n\r\n\tpublic Mono&lt;TheResponseClass&gt; save(String requestId, @Valid InputData inputData) {\r\n\t\tMono&lt;TheResponseClass&gt; response = null;\r\n            // builRequestBody and buildHeaderRequest are used to convert the inputData into the \r\n\t\t\t// dedicated format for the external server API \r\n\t\t\treturn clientAPI.sendRequest(\r\n\t\t\t\t\tbuilRequestBody.buildRequest(inputData),\r\n\t\t\t\t\tbuildHeaderRequest.computeHeader(requestId, config.getHeaderID())).flatMap(responseResult -&gt; {\r\n\t\t\t\t\tStatus resultStatus = responseResult.getResponse().getStatus();\r\n\t\t\t\t\tif (resultStatus == Status.SUCCESS) {\r\n                        ....\r\n\t\t\t\t\t\t//Call another service that uses WebClient implementation\r\n                        doneService.notify().subscribe();\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn Mono.just(responseResult);\r\n\t\t\t\t});\r\n\t\r\n    }\r\n}\r\n```","title":"Unexpected automatic multiple calls to external server using WebClient","body":"<p>Thanx to Toerktumlare and other inputs, I deleted the subscribe calls that duplicate the call to the external service.\nBecause I already have an implicit subscribe with my controller calling the external API.\nI use flatMap instead in order to manipulate the received data.\nI use subscribe to call DoneService as I directly need to call it inside one of my method (not a request coming directly from the FrontEnd through the controller)</p>\n<p>Thus for the Controller.java for example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\n@RequestMapping(&quot;/v1&quot;)\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class Controller {\n    private static final String PATH_SERVICE = &quot;/pathservice&quot;;\n\n    @Autowired\n    Service service;\n\n    @PostMapping(path = PATH_SERVICE, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Mono&lt;TheResponseClass&gt; mySpringbootService(@RequestHeader(&quot;requestId&quot;) String requestId,\n            @RequestBody @Valid InputData inputData) {\n        return service.save(requestId, inputData);\n\n    }\n    \n}\n</code></pre>\n<p>And for calling my DoneService from Service.java :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Service\npublic class Service {\n\n    @Autowired\n    ClientAPI clientAPI;\n\n    @Autowired\n    BuilRequestBody builRequestBody;\n\n    @Autowired\n    BuildHeaderRequest buildHeaderRequest;\n\n    @Autowired\n    DoneService doneService;\n\n\n    public Mono&lt;TheResponseClass&gt; save(String requestId, @Valid InputData inputData) {\n        Mono&lt;TheResponseClass&gt; response = null;\n            // builRequestBody and buildHeaderRequest are used to convert the inputData into the \n            // dedicated format for the external server API \n            return clientAPI.sendRequest(\n                    builRequestBody.buildRequest(inputData),\n                    buildHeaderRequest.computeHeader(requestId, config.getHeaderID())).flatMap(responseResult -&gt; {\n                    Status resultStatus = responseResult.getResponse().getStatus();\n                    if (resultStatus == Status.SUCCESS) {\n                        ....\n                        //Call another service that uses WebClient implementation\n                        doneService.notify().subscribe();\n\n                    }\n                    return Mono.just(responseResult);\n                });\n    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19111621,"reputation":149,"user_id":13957509,"display_name":"cknelle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700503967,"creation_date":1700145454,"question_id":77495716,"body_markdown":"I&#39;m developping a Spring boot application based on Webflux (Spring boot 3.1.5 and java 17). \r\nIt transfers requests from a FrontEnd application to another external application (called external server below).\r\nThe FrontEnd calls My Controller.java which calls my Service.java which calls my ClientAPI.java which calls the external server.\r\nI also call another service from another second server (service called DoneService below). \r\nThus I am a consumer of 2 external servers and a producer of a FrontEnd application.\r\nTo perform my test I replaced the frontEnd application by postman. \r\nThus my Spring boot application is a producer of the FrontEnd but at the same time a consumer of an extrnal application.\r\n\r\nMy issue is as follows :\r\nOn the external server side I can see on its logs that Its service is called 4 times by my springboot application instead of once.\r\nOn my side the logs indicate that (See my logs after below): \r\n- I call the external service only once \r\n- the response status from my ClientAPI.java is success. And my input sent to the external server is correctly saved into the external server DB. The server checks on his side if the data has already been inserted in its DB and in that case It rejects the request telling that the data is already registered. This is what I correctly get when I run again my request.\r\n- but the reponse on my Service.java and my Controller.java failed having 400 error code bad request \r\n\r\nIn order to check that I call 4 times the external application I use postman in order to directly call the external server service. And it is correctly called once with postman.\r\n\r\nMy Controller.java :\r\n```lang-java\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/v1&quot;)\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\npublic class Controller {\r\n\tprivate static final String PATH_SERVICE = &quot;/pathservice&quot;;\r\n\r\n\t@Autowired\r\n\tService service;\r\n\r\n\t@PostMapping(path = PATH_SERVICE, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic Mono&lt;TheResponseClass&gt; mySpringbootService(@RequestHeader(&quot;requestId&quot;) String requestId,\r\n\t\t\t@RequestBody @Valid InputData inputData) {\r\n\t\tMono&lt;TheResponseClass&gt; response = service.save(requestId, inputData);\r\n\r\n\t\tresponse.subscribe(\r\n\t\t\t\tstatus -&gt; log\r\n\t\t\t\t\t\t.debug(&quot;Controller :  response status = &quot; + status.getResponse().getStatus()),\r\n\t\t\t\terror -&gt; log.error(\r\n\t\t\t\t\t\t&quot;Controller : The following error happened!&quot;\r\n\t\t\t\t\t\t\t\t+ error));\r\n\r\n\t\treturn response;\r\n\r\n\t}\r\n    \r\n}\r\n```\r\nMy Service.java :\r\n```lang-java\r\n@Slf4j\r\n@Service\r\npublic class Service {\r\n\r\n\t@Autowired\r\n\tClientAPI clientAPI;\r\n\r\n\t@Autowired\r\n\tBuilRequestBody builRequestBody;\r\n\r\n\t@Autowired\r\n\tBuildHeaderRequest buildHeaderRequest;\r\n\t\r\n\t@Autowired\r\n\tDoneService doneService;\r\n\r\n\t@Autowired\r\n\tConfig config;\r\n\r\n\tpublic Mono&lt;TheResponseClass&gt; save(String requestId, @Valid InputData inputData) {\r\n\r\n\t\tMono&lt;TheResponseClass&gt; response = null;\r\n\r\n\t\tif (inputData.getClassInfo() != null) {\r\n\r\n\t\t\tresponse = clientAPI.sendRequest(\r\n\t\t\t\t\tbuilRequestBody.buildRequest(inputData),\r\n\t\t\t\t\tbuildHeaderRequest.computeHeader(requestId, config.getHeaderID()));\r\n\r\n\t\t\tresponse.subscribe(responseResult -&gt; {\r\n\t\t\t\tStatus resultStatus = responseResult.getResponse().getStatus();\r\n\t\t\t\tlog.debug(&quot;Service : response status = &quot; + resultStatus);\r\n\r\n\t\t\t\tif (resultStatus == Status.SUCCESS){\r\n\t\t\t\t\t\t//Call another service that uses WebClient implementation\r\n                        doneService.notify();\r\n\t\t\t\t}\r\n\r\n\t\t\t}, error -&gt; {\r\n\t\t\t\tlog.error(&quot;Service : error happened !&quot;+ error);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tTheResponseClass errorResponse = new TheResponseClass();\r\n\t\t\terrorResponse.setName(&quot;name&quot;);\r\n\t\t\terrorResponse.setOperation(&quot;operation&quot;);\r\n\t\t\tresponse = Mono.just(errorResponse);\r\n\t\t}\r\n\t\treturn response;\r\n\r\n\t}\r\n\r\n}\r\n```\r\nMy ClientAPI.java calling the external server :\r\n```lang-java\r\n@Slf4j\r\n@Service\r\npublic class ClientAPI {\r\n\tprivate WebClient webClient;\r\n\tprivate String serverUrl;\r\n\r\n\t// Retrieve CustomWebClient built with htts and token management\r\n\t@Autowired\r\n\tpublic ClientAPI(@Qualifier(&quot;CustomWebClient&quot;) WebClient webClient) {\r\n\t\tthis.serverUrl = &quot;https://localhost:8456/myServer&quot;;\r\n\t\tthis.webClient = webClient;\r\n\t}\r\n\r\n\tpublic Mono&lt;TheResponseClass&gt; sendRequest(Request bodyRequest, HeaderParameters headerParameters) {\r\n\t\t\r\n\t//log.debug(&quot;ClientAPI Header : REQUEST_ID = &quot;+headerParameters.getRequestID().toString());\r\n   // other log.debug for multiple headers data...\r\n\t\r\n\t\tMono&lt;TheResponseClass&gt; result = this.webClient.post().uri(this.serverUrl)\r\n\t\t\t\t.header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n\t\t\t\t.header(HeaderParameters.REQUEST_ID, headerParameters.getRequestID())\r\n\t\t\t\t.body(Mono.just(bodyRequest), Request.class)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(TheResponseClass.class);\r\n\r\n\t\tresult.subscribe(responseResult -&gt; {\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\ttry {\r\n\t\t\t\tString jsonOutput = mapper.writeValueAsString(responseResult);\r\n\t\t\t\tlog.info(&quot;ClientAPI : response result = &quot;+jsonOutput);\r\n\t\t\t} catch (JsonProcessingException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t}, error -&gt; {\r\n\t\t\tlog.error(&quot;ClientAPI : The following error happened on response getStatus!&quot;, error);\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\nMy DoneService.java :\r\n```lang-java\r\n@Slf4j\r\n@Service\r\npublic class DoneService {\r\n\r\n\t@Autowired\r\n\tDoneClientAPI doneClientAPI;\r\n\r\n\tpublic Mono&lt;DoneData&gt; done(DoneRequest doneRequest) {\r\n\t\t\r\n\t\treturn doneClientAPI.sendRequest(doneRequest).flatMap(s -&gt; {\r\n            .....\r\n\t\t\treturn Mono.just(s.getDoneDataList().get(0));\r\n\t\t});\r\n\r\n\t}\r\n\r\n}\r\n```\r\nMy DoneClientAPI.java :\r\n```lang-java\r\n@Slf4j\r\n@Service\r\npublic class DoneClientAPI {\r\n\tprivate WebClient webClient;\r\n\tprivate static final String NOTIFY_URI = &quot;/Done&quot;;\r\n\tprivate String notificationUrl;\r\n\r\n\r\n\tpublic Mono&lt;DoneResponseList&gt; sendRequest(DoneRequest doneRequest) {\r\n\r\n\t\treturn this.webClient.post().uri(this.notificationUrl)\r\n\t\t\t\t.header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n\t\t\t\t.body(BodyInserters\r\n\t\t\t\t\t\t.fromFormData(DoneRequest.SYSTEM_ISSUER, DoneRequest.SYSTEM_ISSUER)\r\n\t\t\t\t\t\t.with(DoneRequest.DATE_REQUEST, doneRequest.getDate_request()))\r\n\t\t\t\t.retrieve().bodyToMono(DoneResponseList.class);\r\n\r\n\t}\r\n}\r\n```\r\n\r\nsome of my Simplified data models :\r\n\r\nInput Data coming from the FrontEnd:\r\n```lang-java\r\npublic class InputData {\r\n\tprivate String Data;\r\n\tprivate ClassInfo ClassInfo;\r\n\t\r\n\tpublic void setData(String Data) {\r\n\t\tthis.Data = Data;\r\n\t}\r\n\r\n\tpublic void setClassInfo(ClassInfo ClassInfo) {\r\n\t\tthis.ClassInfo = ClassInfo;\r\n\t}\r\n\r\n\tpublic String getData() {\r\n\t\treturn Data;\r\n\t}\r\n\r\n\tpublic ClassInfo getClassInfo() {\r\n\t\treturn ClassInfo;\r\n\t}\r\n}\r\n```\r\n\r\nThe Request data to the external server :\r\n```lang-java\r\npublic class Request {\r\n\r\n  private String name;\r\n  private String operation;\r\n\r\n   public Request() {\r\n  }\r\n\r\n  public Request name(String name) {\r\n    \r\n    this.name = name;\r\n    return this;\r\n  }\r\n  \r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public void setName(String string) {\r\n    this.name = string;\r\n  }\r\n\r\n\r\n  public Request operation(String operation) {\r\n    \r\n    this.operation = operation;\r\n    return this;\r\n  }\r\n\r\n  public String getOperation() {\r\n    return operation;\r\n  }\r\n\r\n  public void setOperation(String operation) {\r\n    this.operation = operation;\r\n  }\r\n\r\n}\r\n```\r\n\r\nMy logs :\r\n```\r\n12:05:38.266 ERROR i.z.b.t.l.b.s.Service - Service : error happened !org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST https://externalServerIP:8456/myServer\r\n12:05:38.401 ERROR i.z.b.t.l.w.controller.Controller - Controller :  The following error happened on getStatus response!org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST https://externalServerIP:8486/myServer\r\n12:05:38.676 ERROR o.s.b.a.w.r.e.AbstractErrorWebExceptionHandler - [506b1d63-1]  500 Server Error for HTTP POST &quot;/v1/biometricprofileEnrol&quot;\r\norg.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST https://externalServerIP:8456/myServer\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:307)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint  400 BAD_REQUEST from POST https://externalServerIP:8456/myServer [DefaultWebClient]\r\n\t*__checkpoint  Handler package.webservice.controller.Controller#mySpringbootService(String, InputData) [DispatcherHandler]\r\n\t*__checkpoint  org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint  org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\r\n\t*__checkpoint  HTTP POST &quot;myServer&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:307)\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\r\n\t\tat reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162)\r\n\t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n\t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299)\r\n\t\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\r\n\t\tat reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2071)\r\n\t\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413)\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:431)\r\n\t\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:485)\r\n\t\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:712)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:114)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1466)\r\n\t\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1329)\r\n\t\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1378)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\t\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n12:05:39.041 INFO  p.ClientAPI - ClientAPI : response result = {&quot;name&quot;:&quot;yourname&quot;,&quot;operation&quot;:&quot;yourOperation&quot;,&quot;response&quot;:{&quot;status&quot;:&quot;SUCCESS&quot;,&quot;error_Code&quot;:null,&quot;system_message&quot;:null}}\r\n```","title":"Unexpected automatic multiple calls to external server using WebClient","body":"<p>I'm developping a Spring boot application based on Webflux (Spring boot 3.1.5 and java 17).\nIt transfers requests from a FrontEnd application to another external application (called external server below).\nThe FrontEnd calls My Controller.java which calls my Service.java which calls my ClientAPI.java which calls the external server.\nI also call another service from another second server (service called DoneService below).\nThus I am a consumer of 2 external servers and a producer of a FrontEnd application.\nTo perform my test I replaced the frontEnd application by postman.\nThus my Spring boot application is a producer of the FrontEnd but at the same time a consumer of an extrnal application.</p>\n<p>My issue is as follows :\nOn the external server side I can see on its logs that Its service is called 4 times by my springboot application instead of once.\nOn my side the logs indicate that (See my logs after below):</p>\n<ul>\n<li>I call the external service only once</li>\n<li>the response status from my ClientAPI.java is success. And my input sent to the external server is correctly saved into the external server DB. The server checks on his side if the data has already been inserted in its DB and in that case It rejects the request telling that the data is already registered. This is what I correctly get when I run again my request.</li>\n<li>but the reponse on my Service.java and my Controller.java failed having 400 error code bad request</li>\n</ul>\n<p>In order to check that I call 4 times the external application I use postman in order to directly call the external server service. And it is correctly called once with postman.</p>\n<p>My Controller.java :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\n@RequestMapping(&quot;/v1&quot;)\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class Controller {\n    private static final String PATH_SERVICE = &quot;/pathservice&quot;;\n\n    @Autowired\n    Service service;\n\n    @PostMapping(path = PATH_SERVICE, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Mono&lt;TheResponseClass&gt; mySpringbootService(@RequestHeader(&quot;requestId&quot;) String requestId,\n            @RequestBody @Valid InputData inputData) {\n        Mono&lt;TheResponseClass&gt; response = service.save(requestId, inputData);\n\n        response.subscribe(\n                status -&gt; log\n                        .debug(&quot;Controller :  response status = &quot; + status.getResponse().getStatus()),\n                error -&gt; log.error(\n                        &quot;Controller : The following error happened!&quot;\n                                + error));\n\n        return response;\n\n    }\n    \n}\n</code></pre>\n<p>My Service.java :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Service\npublic class Service {\n\n    @Autowired\n    ClientAPI clientAPI;\n\n    @Autowired\n    BuilRequestBody builRequestBody;\n\n    @Autowired\n    BuildHeaderRequest buildHeaderRequest;\n    \n    @Autowired\n    DoneService doneService;\n\n    @Autowired\n    Config config;\n\n    public Mono&lt;TheResponseClass&gt; save(String requestId, @Valid InputData inputData) {\n\n        Mono&lt;TheResponseClass&gt; response = null;\n\n        if (inputData.getClassInfo() != null) {\n\n            response = clientAPI.sendRequest(\n                    builRequestBody.buildRequest(inputData),\n                    buildHeaderRequest.computeHeader(requestId, config.getHeaderID()));\n\n            response.subscribe(responseResult -&gt; {\n                Status resultStatus = responseResult.getResponse().getStatus();\n                log.debug(&quot;Service : response status = &quot; + resultStatus);\n\n                if (resultStatus == Status.SUCCESS){\n                        //Call another service that uses WebClient implementation\n                        doneService.notify();\n                }\n\n            }, error -&gt; {\n                log.error(&quot;Service : error happened !&quot;+ error);\n            });\n        } else {\n            TheResponseClass errorResponse = new TheResponseClass();\n            errorResponse.setName(&quot;name&quot;);\n            errorResponse.setOperation(&quot;operation&quot;);\n            response = Mono.just(errorResponse);\n        }\n        return response;\n\n    }\n\n}\n</code></pre>\n<p>My ClientAPI.java calling the external server :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Service\npublic class ClientAPI {\n    private WebClient webClient;\n    private String serverUrl;\n\n    // Retrieve CustomWebClient built with htts and token management\n    @Autowired\n    public ClientAPI(@Qualifier(&quot;CustomWebClient&quot;) WebClient webClient) {\n        this.serverUrl = &quot;https://localhost:8456/myServer&quot;;\n        this.webClient = webClient;\n    }\n\n    public Mono&lt;TheResponseClass&gt; sendRequest(Request bodyRequest, HeaderParameters headerParameters) {\n        \n    //log.debug(&quot;ClientAPI Header : REQUEST_ID = &quot;+headerParameters.getRequestID().toString());\n   // other log.debug for multiple headers data...\n    \n        Mono&lt;TheResponseClass&gt; result = this.webClient.post().uri(this.serverUrl)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .header(HeaderParameters.REQUEST_ID, headerParameters.getRequestID())\n                .body(Mono.just(bodyRequest), Request.class)\n                .retrieve()\n                .bodyToMono(TheResponseClass.class);\n\n        result.subscribe(responseResult -&gt; {\n            ObjectMapper mapper = new ObjectMapper();\n            try {\n                String jsonOutput = mapper.writeValueAsString(responseResult);\n                log.info(&quot;ClientAPI : response result = &quot;+jsonOutput);\n            } catch (JsonProcessingException e) {\n                e.printStackTrace();\n            }\n\n        }, error -&gt; {\n            log.error(&quot;ClientAPI : The following error happened on response getStatus!&quot;, error);\n        });\n        return result;\n    }\n}\n</code></pre>\n<p>My DoneService.java :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Service\npublic class DoneService {\n\n    @Autowired\n    DoneClientAPI doneClientAPI;\n\n    public Mono&lt;DoneData&gt; done(DoneRequest doneRequest) {\n        \n        return doneClientAPI.sendRequest(doneRequest).flatMap(s -&gt; {\n            .....\n            return Mono.just(s.getDoneDataList().get(0));\n        });\n\n    }\n\n}\n</code></pre>\n<p>My DoneClientAPI.java :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Service\npublic class DoneClientAPI {\n    private WebClient webClient;\n    private static final String NOTIFY_URI = &quot;/Done&quot;;\n    private String notificationUrl;\n\n\n    public Mono&lt;DoneResponseList&gt; sendRequest(DoneRequest doneRequest) {\n\n        return this.webClient.post().uri(this.notificationUrl)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n                .body(BodyInserters\n                        .fromFormData(DoneRequest.SYSTEM_ISSUER, DoneRequest.SYSTEM_ISSUER)\n                        .with(DoneRequest.DATE_REQUEST, doneRequest.getDate_request()))\n                .retrieve().bodyToMono(DoneResponseList.class);\n\n    }\n}\n</code></pre>\n<p>some of my Simplified data models :</p>\n<p>Input Data coming from the FrontEnd:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InputData {\n    private String Data;\n    private ClassInfo ClassInfo;\n    \n    public void setData(String Data) {\n        this.Data = Data;\n    }\n\n    public void setClassInfo(ClassInfo ClassInfo) {\n        this.ClassInfo = ClassInfo;\n    }\n\n    public String getData() {\n        return Data;\n    }\n\n    public ClassInfo getClassInfo() {\n        return ClassInfo;\n    }\n}\n</code></pre>\n<p>The Request data to the external server :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Request {\n\n  private String name;\n  private String operation;\n\n   public Request() {\n  }\n\n  public Request name(String name) {\n    \n    this.name = name;\n    return this;\n  }\n  \n  public String getName() {\n    return name;\n  }\n\n  public void setName(String string) {\n    this.name = string;\n  }\n\n\n  public Request operation(String operation) {\n    \n    this.operation = operation;\n    return this;\n  }\n\n  public String getOperation() {\n    return operation;\n  }\n\n  public void setOperation(String operation) {\n    this.operation = operation;\n  }\n\n}\n</code></pre>\n<p>My logs :</p>\n<pre><code>12:05:38.266 ERROR i.z.b.t.l.b.s.Service - Service : error happened !org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST https://externalServerIP:8456/myServer\n12:05:38.401 ERROR i.z.b.t.l.w.controller.Controller - Controller :  The following error happened on getStatus response!org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST https://externalServerIP:8486/myServer\n12:05:38.676 ERROR o.s.b.a.w.r.e.AbstractErrorWebExceptionHandler - [506b1d63-1]  500 Server Error for HTTP POST &quot;/v1/biometricprofileEnrol&quot;\norg.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST https://externalServerIP:8456/myServer\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:307)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint  400 BAD_REQUEST from POST https://externalServerIP:8456/myServer [DefaultWebClient]\n    *__checkpoint  Handler package.webservice.controller.Controller#mySpringbootService(String, InputData) [DispatcherHandler]\n    *__checkpoint  org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\n    *__checkpoint  org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\n    *__checkpoint  HTTP POST &quot;myServer&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:307)\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\n        at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162)\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299)\n        at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\n        at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2071)\n        at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n        at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413)\n        at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:431)\n        at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:485)\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:712)\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:114)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1466)\n        at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1329)\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1378)\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n12:05:39.041 INFO  p.ClientAPI - ClientAPI : response result = {&quot;name&quot;:&quot;yourname&quot;,&quot;operation&quot;:&quot;yourOperation&quot;,&quot;response&quot;:{&quot;status&quot;:&quot;SUCCESS&quot;,&quot;error_Code&quot;:null,&quot;system_message&quot;:null}}\n</code></pre>\n"},{"tags":["java","spring-boot","prometheus","micrometer","catalina"],"comments":[{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1700521855,"post_id":77518064,"comment_id":136662768,"body_markdown":"None of these are supported anymore, Boot 1.5.x stopped being supported in 2019. Since then, it jumped two major versions, 3.2 will be released in a few days.","body":"None of these are supported anymore, Boot 1.5.x stopped being supported in 2019. Since then, it jumped two major versions, 3.2 will be released in a few days."},{"owner":{"account_id":13022992,"reputation":204,"user_id":9411757,"display_name":"tehmas"},"score":0,"creation_date":1700553846,"post_id":77518064,"comment_id":136665674,"body_markdown":"@JonatanIvanov I understand that they are old but my other services seem to be working fine with the same dependencies.","body":"@JonatanIvanov I understand that they are old but my other services seem to be working fine with the same dependencies."},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1700610068,"post_id":77518064,"comment_id":136675285,"body_markdown":"And with all the security vulnerabilities. Being old is a bit different than being not supported.","body":"And with all the security vulnerabilities. Being old is a bit different than being not supported."}],"owner":{"account_id":13022992,"reputation":204,"user_id":9411757,"display_name":"tehmas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700503850,"creation_date":1700503850,"question_id":77518064,"body_markdown":"My application is using:\r\n\r\n - spring-boot: 1.5.22.RELEASE\r\n - spring-boot-starter-actuator: 1.5.22.RELEASE\r\n - micrometer-spring-legacy: 1.3.5\r\n - micrometer-registry-prometheus: 1.3.5\r\n\r\napplication.properties:\r\n\r\n    management.security.enabled=true\r\n    endpoints.health.sensitive=false\r\n    management.health.db.enabled=true\r\n    endpoints.prometheus.sensitive=false\r\n    endpoints.prometheus.enabled=true\r\n    endpoints.metrics.sensitive=false\r\n    endpoints.info.sensitive=false\r\n\r\nDockerfile (modified a bit to hide some info):\r\n\r\n    FROM tomcat:8-jdk8\r\n    \r\n    RUN  apt-get update &amp;&amp;\\\r\n      apt-get -y --no-install-recommends install logrotate -o APT::Install-Suggests=0 -o APT::Install-Recommends=0 &amp;&amp;\\\r\n      rm -rf /var/lib/apt/lists/*\r\n    \r\n    RUN rm -rf /usr/local/tomcat/webapps/ROOT\r\n    ADD my-service/target/my-service-*.war /usr/local/tomcat/webapps/ROOT.war\r\n    \r\n    RUN echo &quot;networkaddress.cache.ttl=60&quot; | tee -a /opt/java/openjdk/jre/lib/security/java.security\r\n    \r\n    RUN sed -i &#39;/.*org.apache.catalina.valves.AccessLogValve[^\\\\/]*/a rotatable=&quot;false&quot;&#39; /usr/local/tomcat/conf/server.xml\r\n    \r\n    ENV LOG_HOME &quot;/log_home&quot;\r\n    ENV UMASK 022\r\n    \r\n    RUN chown -R myuser:myuser /usr/local/tomcat &amp;&amp;\\\r\n      mkdir /log_home &amp;&amp; chown -R myuser:myuser /log_home &amp;&amp;\\\r\n      # useful for local execution\r\n      mkdir -p /var/www/.aws &amp;&amp; chown -R myuser:myuser /var/www/.aws\r\n    \r\n    USER myuser\r\n    ENTRYPOINT [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n\r\nMy prometheus endpoint works fine takes around 20 ms on my local machine. When I deploy it on K8s and use Docker it takes around 12-18 seconds. Canary deployment also fails because the [flagger][1] advancement request takes more than 8 seconds whereas our pipelines threshold is 500 ms. \r\n\r\nThings I tried but they didn&#39;t change the result:\r\n\r\n 1. upgraded micrometer-spring-legacy and micrometer-registry-prometheus to 1.3.20\r\n 2. set management.metrics.web.server.auto-time-requests=false in application.property\r\n 3. resolve any kind of dependency issue in pom.xml\r\n 4. removed/commented out any usage of `io.micrometer.core.instrument.MeterRegistry`\r\n\r\nHowever, when I make a custom controller having a &quot;/prometheus&quot; endpoint, it passes the advancement request flagger checks and the canary deployment is successful.\r\n\r\n    import io.micrometer.prometheus.PrometheusMeterRegistry;\r\n    import io.prometheus.client.CollectorRegistry;\r\n    import io.prometheus.client.exporter.common.TextFormat;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.StringWriter;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/prometheus&quot;)\r\n    public class CustomPrometheusController {\r\n    \r\n        private final PrometheusMeterRegistry prometheusRegistry;\r\n    \r\n        @Autowired\r\n        public CustomPrometheusController(PrometheusMeterRegistry prometheusRegistry) {\r\n            this.prometheusRegistry = prometheusRegistry;\r\n        }\r\n    \r\n        @GetMapping\r\n        public String getMetrics() throws IOException {\r\n            CollectorRegistry cr = prometheusRegistry.getPrometheusRegistry();\r\n            StringWriter writer = new StringWriter();\r\n            TextFormat.write004(writer, cr.metricFamilySamples());\r\n            String result = writer.toString();\r\n    \r\n            return result;\r\n        }\r\n    }\r\n\r\nOnly the PrometheusController change has worked but I don&#39;t understand the reason. Why is it working with a manually defined endpoint? How can I resolve this issue? \r\n\r\n  [1]: https://flagger.app/","title":"Spring Boot app /prometheus endpoint taking a long time without a custom controller","body":"<p>My application is using:</p>\n<ul>\n<li>spring-boot: 1.5.22.RELEASE</li>\n<li>spring-boot-starter-actuator: 1.5.22.RELEASE</li>\n<li>micrometer-spring-legacy: 1.3.5</li>\n<li>micrometer-registry-prometheus: 1.3.5</li>\n</ul>\n<p>application.properties:</p>\n<pre><code>management.security.enabled=true\nendpoints.health.sensitive=false\nmanagement.health.db.enabled=true\nendpoints.prometheus.sensitive=false\nendpoints.prometheus.enabled=true\nendpoints.metrics.sensitive=false\nendpoints.info.sensitive=false\n</code></pre>\n<p>Dockerfile (modified a bit to hide some info):</p>\n<pre><code>FROM tomcat:8-jdk8\n\nRUN  apt-get update &amp;&amp;\\\n  apt-get -y --no-install-recommends install logrotate -o APT::Install-Suggests=0 -o APT::Install-Recommends=0 &amp;&amp;\\\n  rm -rf /var/lib/apt/lists/*\n\nRUN rm -rf /usr/local/tomcat/webapps/ROOT\nADD my-service/target/my-service-*.war /usr/local/tomcat/webapps/ROOT.war\n\nRUN echo &quot;networkaddress.cache.ttl=60&quot; | tee -a /opt/java/openjdk/jre/lib/security/java.security\n\nRUN sed -i '/.*org.apache.catalina.valves.AccessLogValve[^\\\\/]*/a rotatable=&quot;false&quot;' /usr/local/tomcat/conf/server.xml\n\nENV LOG_HOME &quot;/log_home&quot;\nENV UMASK 022\n\nRUN chown -R myuser:myuser /usr/local/tomcat &amp;&amp;\\\n  mkdir /log_home &amp;&amp; chown -R myuser:myuser /log_home &amp;&amp;\\\n  # useful for local execution\n  mkdir -p /var/www/.aws &amp;&amp; chown -R myuser:myuser /var/www/.aws\n\nUSER myuser\nENTRYPOINT [&quot;catalina.sh&quot;, &quot;run&quot;]\n</code></pre>\n<p>My prometheus endpoint works fine takes around 20 ms on my local machine. When I deploy it on K8s and use Docker it takes around 12-18 seconds. Canary deployment also fails because the <a href=\"https://flagger.app/\" rel=\"nofollow noreferrer\">flagger</a> advancement request takes more than 8 seconds whereas our pipelines threshold is 500 ms.</p>\n<p>Things I tried but they didn't change the result:</p>\n<ol>\n<li>upgraded micrometer-spring-legacy and micrometer-registry-prometheus to 1.3.20</li>\n<li>set management.metrics.web.server.auto-time-requests=false in application.property</li>\n<li>resolve any kind of dependency issue in pom.xml</li>\n<li>removed/commented out any usage of <code>io.micrometer.core.instrument.MeterRegistry</code></li>\n</ol>\n<p>However, when I make a custom controller having a &quot;/prometheus&quot; endpoint, it passes the advancement request flagger checks and the canary deployment is successful.</p>\n<pre><code>import io.micrometer.prometheus.PrometheusMeterRegistry;\nimport io.prometheus.client.CollectorRegistry;\nimport io.prometheus.client.exporter.common.TextFormat;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.IOException;\nimport java.io.StringWriter;\n\n@RestController\n@RequestMapping(&quot;/prometheus&quot;)\npublic class CustomPrometheusController {\n\n    private final PrometheusMeterRegistry prometheusRegistry;\n\n    @Autowired\n    public CustomPrometheusController(PrometheusMeterRegistry prometheusRegistry) {\n        this.prometheusRegistry = prometheusRegistry;\n    }\n\n    @GetMapping\n    public String getMetrics() throws IOException {\n        CollectorRegistry cr = prometheusRegistry.getPrometheusRegistry();\n        StringWriter writer = new StringWriter();\n        TextFormat.write004(writer, cr.metricFamilySamples());\n        String result = writer.toString();\n\n        return result;\n    }\n}\n</code></pre>\n<p>Only the PrometheusController change has worked but I don't understand the reason. Why is it working with a manually defined endpoint? How can I resolve this issue?</p>\n"},{"tags":["java","flutter","kotlin","android-studio"],"answers":[{"tags":[],"owner":{"account_id":19284133,"reputation":809,"user_id":14095522,"display_name":"lime"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700503804,"creation_date":1700503804,"answer_id":77518059,"question_id":77516775,"body_markdown":"Assuming you&#39;re looking to hide the menu on the first image, [this question][1] seems to cover some possible solutions.\r\n\r\nIf you&#39;re on a Linux machine, veysel suggests using `xdotool`. `xdotool` can be used on at least Debian, Ubuntu, and Fedora. You can install this using the following command: \r\n\r\n    sudo apt-get install xdotool\r\n\r\nOnce installed, you&#39;ll need to get the menu id. Using the following command should return the menu id: \r\n\r\n    xdotool selectwindow \r\n\r\nFinally, you can minimize the window using the following command, replacing `MENU_ID` with the menu id returned from `xdotool selectwindow`:\r\n\r\n    xdotool windowminimize MENU_ID\r\n\r\nIf you&#39;re on a Windows machine, Xtra Coder suggests downloading a 3rd party hack tool, such as `WinSpy`. You can find a link to `WinSpy` [here][2]. I have also included the screenshot found in the original answer which shows you&#39;ll need to drag the Finder Tool over the menu window and toggle it&#39;s `visibility` attribute found in the `commands` button.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48644167/hide-android-emulator-menu-bar\r\n  [2]: https://sourceforge.net/projects/winspyex/\r\n  [3]: https://i.stack.imgur.com/2dtpp.jpg","title":"How to hide panel emulator","body":"<p>Assuming you're looking to hide the menu on the first image, <a href=\"https://stackoverflow.com/questions/48644167/hide-android-emulator-menu-bar\">this question</a> seems to cover some possible solutions.</p>\n<p>If you're on a Linux machine, veysel suggests using <code>xdotool</code>. <code>xdotool</code> can be used on at least Debian, Ubuntu, and Fedora. You can install this using the following command:</p>\n<pre><code>sudo apt-get install xdotool\n</code></pre>\n<p>Once installed, you'll need to get the menu id. Using the following command should return the menu id:</p>\n<pre><code>xdotool selectwindow \n</code></pre>\n<p>Finally, you can minimize the window using the following command, replacing <code>MENU_ID</code> with the menu id returned from <code>xdotool selectwindow</code>:</p>\n<pre><code>xdotool windowminimize MENU_ID\n</code></pre>\n<p>If you're on a Windows machine, Xtra Coder suggests downloading a 3rd party hack tool, such as <code>WinSpy</code>. You can find a link to <code>WinSpy</code> <a href=\"https://sourceforge.net/projects/winspyex/\" rel=\"nofollow noreferrer\">here</a>. I have also included the screenshot found in the original answer which shows you'll need to drag the Finder Tool over the menu window and toggle it's <code>visibility</code> attribute found in the <code>commands</code> button.</p>\n<p><a href=\"https://i.stack.imgur.com/2dtpp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2dtpp.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26173242,"reputation":1,"user_id":19857865,"display_name":"aliking1400"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700503988,"answer_count":1,"score":0,"last_activity_date":1700503804,"creation_date":1700491574,"question_id":77516775,"body_markdown":"[Panel](https://i.stack.imgur.com/2p301.png)\r\nHow to convert the second to the first? No matter how much I searched, I could not find anything about it\r\nThank you for helping me. I searched for a few days, but I couldn&#39;t find anything on YouTube and the Internet","title":"How to hide panel emulator","body":"<p><a href=\"https://i.stack.imgur.com/2p301.png\" rel=\"nofollow noreferrer\">Panel</a>\nHow to convert the second to the first? No matter how much I searched, I could not find anything about it\nThank you for helping me. I searched for a few days, but I couldn't find anything on YouTube and the Internet</p>\n"},{"tags":["java","web-services","soap","axis","ntlm"],"answers":[{"tags":[],"owner":{"account_id":6413292,"reputation":577,"user_id":4972235,"display_name":"Devendra Dora"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1523989904,"creation_date":1523989904,"answer_id":49885140,"question_id":37660995,"body_markdown":"Sample python implementation with NTLM Auth with FLASK.\r\n\r\nIf you want to use with java , run the standalone flask code below and call the url (e.g POST request /dora/httpWithNTLM ) from java code by http request\r\n\r\n    from flask import  Flask, render_template, flash, request, url_for, redirect, session , Response\r\n    import requests,sys,json\r\n    from requests_ntlm import HttpNtlmAuth\r\n    app = Flask(__name__)\r\n    \r\n    \r\n   \r\n    \r\n    @app.route(&quot;/dora/httpWithNTLM&quot;,methods=[&#39;POST&#39;])\r\n    def invokeHTTPReqWithNTLM():\r\n        url =&quot;&quot;\r\n        reqData = json.loads(request.data)        \r\n        reqxml=request.data\r\n        headers = {}\r\n        headers[&quot;SOAPAction&quot;] = &quot;&quot;;\r\n        headers[&quot;Content-Type&quot;] = &quot;text/xml&quot;\r\n        headers[&quot;Accept&quot;] = &quot;text/xml&quot;\r\n        print(&quot;req headers &quot;+str(request.headers))\r\n        \r\n        r = requests.Request(&quot;POST&quot;,url,auth=HttpNtlmAuth(&#39;domain\\\\username&#39;,&#39;password&#39;), data=reqxml, headers=headers) \r\n   \r\n        prepared = r.prepare()\r\n        s = requests.Session()\r\n        resp = s.send(prepared)\r\n        print (resp.status_code)\r\n        return Response(resp.text.replace(&quot;&amp;lt;&quot;,&quot;&lt;&quot;).replace(&quot;&amp;gt;&quot;,&quot;&gt;&quot;),resp.status_code)\r\n     \r\n      \r\n        \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        app.run(host=&quot;0.0.0.0&quot;,port=5001)","title":"Consuming soap service with NTLM Authentication","body":"<p>Sample python implementation with NTLM Auth with FLASK.</p>\n\n<p>If you want to use with java , run the standalone flask code below and call the url (e.g POST request /dora/httpWithNTLM ) from java code by http request</p>\n\n<pre><code>from flask import  Flask, render_template, flash, request, url_for, redirect, session , Response\nimport requests,sys,json\nfrom requests_ntlm import HttpNtlmAuth\napp = Flask(__name__)\n\n\n\n\n@app.route(\"/dora/httpWithNTLM\",methods=['POST'])\ndef invokeHTTPReqWithNTLM():\n    url =\"\"\n    reqData = json.loads(request.data)        \n    reqxml=request.data\n    headers = {}\n    headers[\"SOAPAction\"] = \"\";\n    headers[\"Content-Type\"] = \"text/xml\"\n    headers[\"Accept\"] = \"text/xml\"\n    print(\"req headers \"+str(request.headers))\n\n    r = requests.Request(\"POST\",url,auth=HttpNtlmAuth('domain\\\\username','password'), data=reqxml, headers=headers) \n\n    prepared = r.prepare()\n    s = requests.Session()\n    resp = s.send(prepared)\n    print (resp.status_code)\n    return Response(resp.text.replace(\"&amp;lt;\",\"&lt;\").replace(\"&amp;gt;\",\"&gt;\"),resp.status_code)\n\n\n\n\nif __name__ == '__main__':\n    app.run(host=\"0.0.0.0\",port=5001)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1745534,"reputation":147,"user_id":1595867,"accept_rate":50,"display_name":"beagle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545314229,"creation_date":1545314229,"answer_id":53870107,"question_id":37660995,"body_markdown":"If you use Spring WS support:\r\n\r\nCheck this Solution\r\nhttp://dolszewski.com/spring/sharepoint-web-services-spring-and-ntlm-authentication/\r\n\r\n\r\n    @Bean(&quot;navisionMessageSender&quot;)\r\n    public HttpComponentsMessageSender httpComponentsMessageSender() {\r\n        HttpComponentsMessageSender httpComponentsMessageSender = new HttpComponentsMessageSender();\r\n        String user = env.getProperty(&quot;navision.endpoint.user&quot;);\r\n        String password = env.getProperty(&quot;navision.endpoint.password&quot;);\r\n        String domain = env.getProperty(&quot;navision.endpoint.domain&quot;);\r\n        NTCredentials credentials = new NTCredentials(user, String.valueOf(password), null, domain);\r\n        httpComponentsMessageSender.setCredentials(credentials);\r\n        return httpComponentsMessageSender;\r\n    }\r\n\r\n","title":"Consuming soap service with NTLM Authentication","body":"<p>If you use Spring WS support:</p>\n\n<p>Check this Solution\n<a href=\"http://dolszewski.com/spring/sharepoint-web-services-spring-and-ntlm-authentication/\" rel=\"nofollow noreferrer\">http://dolszewski.com/spring/sharepoint-web-services-spring-and-ntlm-authentication/</a></p>\n\n<pre><code>@Bean(\"navisionMessageSender\")\npublic HttpComponentsMessageSender httpComponentsMessageSender() {\n    HttpComponentsMessageSender httpComponentsMessageSender = new HttpComponentsMessageSender();\n    String user = env.getProperty(\"navision.endpoint.user\");\n    String password = env.getProperty(\"navision.endpoint.password\");\n    String domain = env.getProperty(\"navision.endpoint.domain\");\n    NTCredentials credentials = new NTCredentials(user, String.valueOf(password), null, domain);\n    httpComponentsMessageSender.setCredentials(credentials);\n    return httpComponentsMessageSender;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12882548,"reputation":31,"user_id":9317138,"display_name":"Tomek Niemczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700503732,"creation_date":1700503732,"answer_id":77518054,"question_id":37660995,"body_markdown":"In case of Apache HttpClient 5 you should use HttpComponents5MessageSender\r\n\r\n```kotlin\r\norg.apache.hc.client5.http.auth.NTCredentials\r\norg.springframework.ws.transport.http.HttpComponents5MessageSender\r\n```\r\neg Kotlin\r\n\r\n```kotlin\r\nval httpComponentsMessageSender = HttpComponents5MessageSender()\r\nhttpComponentsMessageSender.setCredentials(NTCredentials(user,\r\n            password.toCharArray(),\r\n            workstation,\r\n            credentials.domain))\r\n```","title":"Consuming soap service with NTLM Authentication","body":"<p>In case of Apache HttpClient 5 you should use HttpComponents5MessageSender</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>org.apache.hc.client5.http.auth.NTCredentials\norg.springframework.ws.transport.http.HttpComponents5MessageSender\n</code></pre>\n<p>eg Kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val httpComponentsMessageSender = HttpComponents5MessageSender()\nhttpComponentsMessageSender.setCredentials(NTCredentials(user,\n            password.toCharArray(),\n            workstation,\n            credentials.domain))\n</code></pre>\n"}],"owner":{"account_id":8584328,"reputation":41,"user_id":6430997,"display_name":"Madhur Taneja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7817,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1700503732,"creation_date":1465226143,"question_id":37660995,"body_markdown":"I am trying to consume a SOAP service with NTLM authentication by creating a NTLM engine (following instructions on http://hc.apache.org/httpcomponents-client-4.3.x/ntlm.html ) implemented AuthSchemeFactory and finally registered the AuthSchemeFactory to my HTTP Client. When I hit the service using my HTTP Client I get a reponse that &quot;Status code - 415 , Message - The server cannot service the request because the media type is unsupported.&quot;\r\n\r\nCan anybody tell how can I fix this issue of unsupported media to consume a NTLM-protected SOAP web service on Java platform. Is using JCIFS a correct option to conmsume NTLM protected service or are there any better approach(s). Thanks in advance. \r\n\r\n        DefaultHttpClient httpclient = new DefaultHttpClient();\r\n\r\n\t\thttpclient.getAuthSchemes().register(AuthSchemes.NTLM,\r\n\t\t\t\tnew JCIFSNTLMSchemeFactory());\r\n\r\n\t\tCredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n\t\tNTCredentials ntcred = new NTCredentials(&quot;USERNAME&quot;, &quot;PASSWORD&quot;,\r\n\t\t\t\t&quot;HOST&quot;, &quot;DOMAIN&quot;);\r\n\r\n\t\tcredsProvider.setCredentials(new AuthScope(&quot;HOST&quot;, 443,\r\n\t\t\t\tAuthScope.ANY_REALM, &quot;NTLM&quot;), ntcred);\r\n\r\n\t\thttpclient.setCredentialsProvider(credsProvider);\r\n\t\t\r\n\t\thttpclient.getParams().setParameter(\r\n\t\t\t\tCoreProtocolPNames.HTTP_CONTENT_CHARSET, &quot;UTF-8&quot;);\r\n\t\t\r\n\t\tWriter writer = new StringWriter();\r\n\t\t\twriter.write(&quot;MY SOAP REQUEST BODY&quot;);\r\n\r\n        HttpPost httppost = new HttpPost(\r\n\t            &quot;https://&lt;HOST_NAME&gt;/XiPay30WS.asmx&quot;);\r\n\t\thttppost.setEntity(new StringEntity(writer.toString()));\r\n\r\n\t    httppost.setHeader(&quot;Content-Type&quot;,\r\n\t\t\t\t\t&quot;application/x-www-form-urlencoded&quot;);\r\n\r\n\t\tHttpResponse httpresponse = httpclient.execute(\r\n\t                new HttpHost(&quot;HOST&quot;, 443, &quot;https&quot;),\r\n\t                httppost, new BasicHttpContext());\r\n\r\n\t\tString statusCode = httpresponse.getStatusCode();","title":"Consuming soap service with NTLM Authentication","body":"<p>I am trying to consume a SOAP service with NTLM authentication by creating a NTLM engine (following instructions on <a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/ntlm.html\" rel=\"nofollow\">http://hc.apache.org/httpcomponents-client-4.3.x/ntlm.html</a> ) implemented AuthSchemeFactory and finally registered the AuthSchemeFactory to my HTTP Client. When I hit the service using my HTTP Client I get a reponse that \"Status code - 415 , Message - The server cannot service the request because the media type is unsupported.\"</p>\n\n<p>Can anybody tell how can I fix this issue of unsupported media to consume a NTLM-protected SOAP web service on Java platform. Is using JCIFS a correct option to conmsume NTLM protected service or are there any better approach(s). Thanks in advance. </p>\n\n<pre><code>    DefaultHttpClient httpclient = new DefaultHttpClient();\n\n    httpclient.getAuthSchemes().register(AuthSchemes.NTLM,\n            new JCIFSNTLMSchemeFactory());\n\n    CredentialsProvider credsProvider = new BasicCredentialsProvider();\n    NTCredentials ntcred = new NTCredentials(\"USERNAME\", \"PASSWORD\",\n            \"HOST\", \"DOMAIN\");\n\n    credsProvider.setCredentials(new AuthScope(\"HOST\", 443,\n            AuthScope.ANY_REALM, \"NTLM\"), ntcred);\n\n    httpclient.setCredentialsProvider(credsProvider);\n\n    httpclient.getParams().setParameter(\n            CoreProtocolPNames.HTTP_CONTENT_CHARSET, \"UTF-8\");\n\n    Writer writer = new StringWriter();\n        writer.write(\"MY SOAP REQUEST BODY\");\n\n    HttpPost httppost = new HttpPost(\n            \"https://&lt;HOST_NAME&gt;/XiPay30WS.asmx\");\n    httppost.setEntity(new StringEntity(writer.toString()));\n\n    httppost.setHeader(\"Content-Type\",\n                \"application/x-www-form-urlencoded\");\n\n    HttpResponse httpresponse = httpclient.execute(\n                new HttpHost(\"HOST\", 443, \"https\"),\n                httppost, new BasicHttpContext());\n\n    String statusCode = httpresponse.getStatusCode();\n</code></pre>\n"},{"tags":["java","android","react-native"],"comments":[{"owner":{"account_id":105737,"reputation":14717,"user_id":282000,"accept_rate":78,"display_name":"Pramendra Gupta"},"score":0,"creation_date":1495791718,"post_id":43990220,"comment_id":75409621,"body_markdown":"use ```import { requireNativeComponent, View, Text, ViewPropTypes } from &#39;react-native&#39;;```","body":"use <code>import { requireNativeComponent, View, Text, ViewPropTypes } from &#39;react-native&#39;;</code>"},{"owner":{"account_id":977682,"reputation":2559,"user_id":998248,"accept_rate":62,"display_name":"Anthony Naddeo"},"score":0,"creation_date":1514245227,"post_id":43990220,"comment_id":82915099,"body_markdown":"did you ever find out what was wrong?","body":"did you ever find out what was wrong?"}],"answers":[{"tags":[],"owner":{"account_id":15427196,"reputation":247,"user_id":11129555,"display_name":"G&#225;&#252;&#227;v J&#245;h&#239;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592580172,"creation_date":1592579609,"answer_id":62473284,"question_id":43990220,"body_markdown":"Try this:-\r\n\r\n```\r\n&lt;RCTRectangleView style={{ width: &quot;75%, height: &quot;20%&quot; }} /&gt;\r\n```\r\n\r\nI seriously worked for 2 hours in the net and finally found the way.\r\nJust had to use the style prop to adjust the width and height.\r\nNow, I am very happy and also very irritated that i did not think of this before.\r\nHope this helps any other guy that comes here.","title":"Native UI component not showing up in React Native","body":"<p>Try this:-</p>\n\n<pre><code>&lt;RCTRectangleView style={{ width: \"75%, height: \"20%\" }} /&gt;\n</code></pre>\n\n<p>I seriously worked for 2 hours in the net and finally found the way.\nJust had to use the style prop to adjust the width and height.\nNow, I am very happy and also very irritated that i did not think of this before.\nHope this helps any other guy that comes here.</p>\n"},{"tags":[],"owner":{"account_id":17279036,"reputation":115,"user_id":12513051,"display_name":"Nikunj Bisht"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700503596,"creation_date":1700503596,"answer_id":77518037,"question_id":43990220,"body_markdown":"Yes you have to add width,height with style prop or you can give flex:1 or if you want send all style as Reactpropgroups","title":"Native UI component not showing up in React Native","body":"<p>Yes you have to add width,height with style prop or you can give flex:1 or if you want send all style as Reactpropgroups</p>\n"}],"owner":{"account_id":481996,"reputation":8827,"user_id":896112,"accept_rate":63,"display_name":"Carpetfizz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700503596,"creation_date":1494890562,"question_id":43990220,"body_markdown":"I&#39;m trying to get the following custom native UI component show up in React Native\n\n**RectangleView.java**\n\n    public class RectangleView extends View {\n    \n    \n        Paint mRectPaint;\n    \n        public RectangleView(Context context) {\n            super(context);\n            init();\n        }\n    \n        private void init() {\n            mRectPaint = new Paint();\n            mRectPaint.setColor(Color.BLUE);\n            mRectPaint.setStyle(Paint.Style.FILL);\n        }\n    \n        public void setColor(String color) {\n            // mRectPaint.setColor(Color.parseColor(color));\n            postInvalidate();\n        }\n    \n        @Override\n        protected void onDraw(Canvas canvas) {\n            super.onDraw(canvas);\n    \n            canvas.drawRect(0, 0, 500, 500, mRectPaint);\n        }\n    }\n\nThis is the wrapper in my React code\n\n**RectangleView.js**\n\n    import React, { Component, PropTypes } from &#39;react&#39;;\n    import { requireNativeComponent, View, Text } from &#39;react-native&#39;;\n    \n    const RCTRectangleView = requireNativeComponent(&#39;RCTRectangleView&#39;, RectangleView);\n    \n    export default class RectangleView extends React.Component {\n        constructor(props) {\n            super(props);\n        }\n        render() {\n            return (\n            \n                &lt;View&gt;\n                    &lt;Text&gt; Hello world &lt;/Text&gt;\n                    &lt;RCTRectangleView {...this.props} /&gt;\n                &lt;/View&gt;\n    \n            );\n        }\n    }\n    \n    RectangleView.propTypes = {\n        ...View.propTypes,\n        color: PropTypes.string\n    };\n\nI see &quot;Hello World&quot; but I don&#39;t see the blue rectangle I&#39;m expecting to see. The only messages in my console are\n\n&gt; 05-15 16:18:02.299 10937 10969 W ReactNativeJS: Warning: View.propTypes has been deprecated and will be removed in a future version of ReactNative. Use ViewPropTypes instead.\n&gt;\n&gt; 05-15 16:18:02.316 10937 10969 I ReactNativeJS: Running application &quot;CustomViewTest&quot; with appParams: {&quot;initialProps&quot;:{},&quot;rootTag&quot;:1}. __DEV__ === true, development-level warning are ON, performance optimizations are OFF\n\nI&#39;m guessing there needs to be a way to specify the width and the height of the custom view? Unable to find a concrete example online that does something like this.","title":"Native UI component not showing up in React Native","body":"<p>I'm trying to get the following custom native UI component show up in React Native</p>\n<p><strong>RectangleView.java</strong></p>\n<pre><code>public class RectangleView extends View {\n\n\n    Paint mRectPaint;\n\n    public RectangleView(Context context) {\n        super(context);\n        init();\n    }\n\n    private void init() {\n        mRectPaint = new Paint();\n        mRectPaint.setColor(Color.BLUE);\n        mRectPaint.setStyle(Paint.Style.FILL);\n    }\n\n    public void setColor(String color) {\n        // mRectPaint.setColor(Color.parseColor(color));\n        postInvalidate();\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n\n        canvas.drawRect(0, 0, 500, 500, mRectPaint);\n    }\n}\n</code></pre>\n<p>This is the wrapper in my React code</p>\n<p><strong>RectangleView.js</strong></p>\n<pre><code>import React, { Component, PropTypes } from 'react';\nimport { requireNativeComponent, View, Text } from 'react-native';\n\nconst RCTRectangleView = requireNativeComponent('RCTRectangleView', RectangleView);\n\nexport default class RectangleView extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        return (\n        \n            &lt;View&gt;\n                &lt;Text&gt; Hello world &lt;/Text&gt;\n                &lt;RCTRectangleView {...this.props} /&gt;\n            &lt;/View&gt;\n\n        );\n    }\n}\n\nRectangleView.propTypes = {\n    ...View.propTypes,\n    color: PropTypes.string\n};\n</code></pre>\n<p>I see &quot;Hello World&quot; but I don't see the blue rectangle I'm expecting to see. The only messages in my console are</p>\n<blockquote>\n<p>05-15 16:18:02.299 10937 10969 W ReactNativeJS: Warning: View.propTypes has been deprecated and will be removed in a future version of ReactNative. Use ViewPropTypes instead.</p>\n<p>05-15 16:18:02.316 10937 10969 I ReactNativeJS: Running application &quot;CustomViewTest&quot; with appParams: {&quot;initialProps&quot;:{},&quot;rootTag&quot;:1}. <strong>DEV</strong> === true, development-level warning are ON, performance optimizations are OFF</p>\n</blockquote>\n<p>I'm guessing there needs to be a way to specify the width and the height of the custom view? Unable to find a concrete example online that does something like this.</p>\n"},{"tags":["java","spring","snmp4j","snmp-trap"],"owner":{"account_id":23696453,"reputation":1,"user_id":17720112,"display_name":"Manea Alexandru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700502030,"creation_date":1700502030,"question_id":77517917,"body_markdown":"I made the 2 microservices and everything works fine, without any errors. The sender send messages and receiver waits for them but doesn&#39;t get any of them and I don&#39;t know what is the problem, I tried so many things but without any result. Please help me with this.\r\n\r\nThis is just an example, I am confident that every variable match. but i can not find this &quot;small detail&quot;\r\n\r\n//Snmp Sender\r\n\r\n```\r\npublic void sendTrap(int securityLevel) throws IOException {\r\n    String ipAddress = &quot;127.0.0.1&quot;;\r\n    int port = 162;\r\n    String Oid = &quot;1.4.6.7.8.2&quot;;\r\n    String engineId = &quot;12345&quot;;\r\n    String username = &quot;myuser&quot;;\r\n    String authPassword = &quot;mypassword&quot;;\r\n    String privPassword = &quot;myprivpassword&quot;;\r\n\r\n    Address targetAddress = GenericAddress.parse(String.valueOf(new UdpAddress(&quot;localhost/162&quot;)));\r\n    TransportMapping&lt;?&gt; transport = new DefaultUdpTransportMapping();\r\n    Snmp snmp = new Snmp(transport);\r\n\r\n    USM usm = new USM(SecurityProtocols.getInstance().addDefaultProtocols(),\r\n            new OctetString(MPv3.createLocalEngineID(new OctetString(engineId))), 0);\r\n    SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES192());\r\n    SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES256());\r\n    SecurityProtocols.getInstance().addPrivacyProtocol(new Priv3DES());\r\n    SecurityModels.getInstance().addSecurityModel(usm);\r\n\r\n    switch (securityLevel) {\r\n        case SecurityLevel.NOAUTH_NOPRIV:\r\n            snmp.getUSM().addUser(new OctetString(username), new OctetString(engineId), new UsmUser(new OctetString(username), null,\r\n                    null, null, null));\r\n            break;\r\n        case SecurityLevel.AUTH_NOPRIV:\r\n            snmp.getUSM().addUser(new OctetString(username), new OctetString(engineId), new UsmUser(new OctetString(username), AuthSHA.ID,\r\n                    new OctetString(authPassword), null, null));\r\n            break;\r\n        case SecurityLevel.AUTH_PRIV:\r\n            snmp.getUSM().addUser(new OctetString(username), new OctetString(engineId), new UsmUser(new OctetString(username), AuthSHA.ID,\r\n                    new OctetString(authPassword), PrivAES256.ID, new OctetString(privPassword)));\r\n            break;\r\n        default:\r\n            System.err.println(&quot;Undefined Security level for SNMP v3&quot;);\r\n            System.exit(1);\r\n    }\r\n    snmp.setLocalEngine(new OctetString(engineId).getValue(), 0, 0);\r\n    UserTarget target = new UserTarget();\r\n    target.setAddress(targetAddress);\r\n    target.setRetries(1);\r\n    target.setTimeout(5000);\r\n    target.setVersion(SnmpConstants.version3);\r\n    target.setSecurityLevel(SecurityLevel.AUTH_PRIV);\r\n    target.setSecurityName(new OctetString(username));\r\n\r\n    ScopedPDU pdu = new ScopedPDU();\r\n    pdu.setType(ScopedPDU.NOTIFICATION);\r\n    pdu.setRequestID(new Integer32(1234));\r\n    pdu.add(new VariableBinding(SnmpConstants.sysUpTime));\r\n    pdu.add(new VariableBinding(SnmpConstants.snmpTrapOID, SnmpConstants.linkDown));\r\n    pdu.add(new VariableBinding(new OID(Oid), new Integer32(123)));\r\n\r\n    snmp.send(pdu, target);\r\n    System.out.println(&quot;Sending Trap to (IP:Port)=&gt; &quot; + ipAddress + &quot;:&quot; + port);\r\n    snmp.close();\r\n}\r\n\r\n\r\n//Snmp Receiver\r\n\r\nprivate void listen() throws IOException, InterruptedException {\r\n        int port = 162;\r\n        String engineId = &quot;12345&quot;;\r\n        String username = &quot;myuser&quot;;\r\n        String authPassword = &quot;mypassword&quot;;\r\n        String privPassword = &quot;myprivpassword&quot;;\r\n\r\n        ThreadPool threadPool = ThreadPool.create(&quot;Trap&quot;, 2);\r\n        MessageDispatcher messageDispatcher = new MultiThreadedMessageDispatcher(threadPool, new MessageDispatcherImpl());\r\n\r\n        UdpAddress listenAddress = (UdpAddress) GenericAddress.parse(String.valueOf(new UdpAddress(&quot;localhost/162&quot;)));\r\n        TransportMapping&lt;?&gt; transport = new DefaultUdpTransportMapping(new UdpAddress(&quot;localhost/162&quot;));\r\n        Snmp snmp = new Snmp(messageDispatcher, transport);\r\n\r\n        USM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID(new OctetString(engineId))), 0);\r\n        usm.setEngineDiscoveryEnabled(true);\r\n        SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES192());\r\n        SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES256());\r\n        SecurityProtocols.getInstance().addPrivacyProtocol(new Priv3DES());\r\n        SecurityModels.getInstance().addSecurityModel(usm);\r\n        snmp.getMessageDispatcher().addMessageProcessingModel(new MPv3(usm));\r\n        \r\n\r\n        snmp.setLocalEngine(new OctetString(engineId).getValue(), 0, 0);\r\n        usm.addUser(new OctetString(username), new OctetString(engineId), new UsmUser(new OctetString(username), AuthSHA.ID,\r\n                new OctetString(authPassword), PrivAES256.ID, new OctetString(privPassword)));\r\n        snmp.addCommandResponder(this);\r\n        //snmp.addNotificationListener(transport.getListenAddress(),this);\r\n        snmp.listen();\r\n        System.out.println(&quot;Listening for SNMPv3 traps on port &quot; + transport.getListenAddress());\r\n        Thread.sleep(Long.MAX_VALUE);\r\n    }\r\n\r\n\r\n    @Override\r\n    public synchronized void processPdu(CommandResponderEvent commandResponderEvent) {\r\n        System.out.println(&quot;Receive something&quot;);\r\n        PDU requestPDU = commandResponderEvent.getPDU();\r\n        if (requestPDU != null) {\r\n            System.out.println(&quot;Received request:&quot;);\r\n            System.out.println(requestPDU.getVariableBindings());\r\n        }\r\n\r\n\r\n    }\r\n```","title":"Snmp V3 Configuration","body":"<p>I made the 2 microservices and everything works fine, without any errors. The sender send messages and receiver waits for them but doesn't get any of them and I don't know what is the problem, I tried so many things but without any result. Please help me with this.</p>\n<p>This is just an example, I am confident that every variable match. but i can not find this &quot;small detail&quot;</p>\n<p>//Snmp Sender</p>\n<pre><code>public void sendTrap(int securityLevel) throws IOException {\n    String ipAddress = &quot;127.0.0.1&quot;;\n    int port = 162;\n    String Oid = &quot;1.4.6.7.8.2&quot;;\n    String engineId = &quot;12345&quot;;\n    String username = &quot;myuser&quot;;\n    String authPassword = &quot;mypassword&quot;;\n    String privPassword = &quot;myprivpassword&quot;;\n\n    Address targetAddress = GenericAddress.parse(String.valueOf(new UdpAddress(&quot;localhost/162&quot;)));\n    TransportMapping&lt;?&gt; transport = new DefaultUdpTransportMapping();\n    Snmp snmp = new Snmp(transport);\n\n    USM usm = new USM(SecurityProtocols.getInstance().addDefaultProtocols(),\n            new OctetString(MPv3.createLocalEngineID(new OctetString(engineId))), 0);\n    SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES192());\n    SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES256());\n    SecurityProtocols.getInstance().addPrivacyProtocol(new Priv3DES());\n    SecurityModels.getInstance().addSecurityModel(usm);\n\n    switch (securityLevel) {\n        case SecurityLevel.NOAUTH_NOPRIV:\n            snmp.getUSM().addUser(new OctetString(username), new OctetString(engineId), new UsmUser(new OctetString(username), null,\n                    null, null, null));\n            break;\n        case SecurityLevel.AUTH_NOPRIV:\n            snmp.getUSM().addUser(new OctetString(username), new OctetString(engineId), new UsmUser(new OctetString(username), AuthSHA.ID,\n                    new OctetString(authPassword), null, null));\n            break;\n        case SecurityLevel.AUTH_PRIV:\n            snmp.getUSM().addUser(new OctetString(username), new OctetString(engineId), new UsmUser(new OctetString(username), AuthSHA.ID,\n                    new OctetString(authPassword), PrivAES256.ID, new OctetString(privPassword)));\n            break;\n        default:\n            System.err.println(&quot;Undefined Security level for SNMP v3&quot;);\n            System.exit(1);\n    }\n    snmp.setLocalEngine(new OctetString(engineId).getValue(), 0, 0);\n    UserTarget target = new UserTarget();\n    target.setAddress(targetAddress);\n    target.setRetries(1);\n    target.setTimeout(5000);\n    target.setVersion(SnmpConstants.version3);\n    target.setSecurityLevel(SecurityLevel.AUTH_PRIV);\n    target.setSecurityName(new OctetString(username));\n\n    ScopedPDU pdu = new ScopedPDU();\n    pdu.setType(ScopedPDU.NOTIFICATION);\n    pdu.setRequestID(new Integer32(1234));\n    pdu.add(new VariableBinding(SnmpConstants.sysUpTime));\n    pdu.add(new VariableBinding(SnmpConstants.snmpTrapOID, SnmpConstants.linkDown));\n    pdu.add(new VariableBinding(new OID(Oid), new Integer32(123)));\n\n    snmp.send(pdu, target);\n    System.out.println(&quot;Sending Trap to (IP:Port)=&gt; &quot; + ipAddress + &quot;:&quot; + port);\n    snmp.close();\n}\n\n\n//Snmp Receiver\n\nprivate void listen() throws IOException, InterruptedException {\n        int port = 162;\n        String engineId = &quot;12345&quot;;\n        String username = &quot;myuser&quot;;\n        String authPassword = &quot;mypassword&quot;;\n        String privPassword = &quot;myprivpassword&quot;;\n\n        ThreadPool threadPool = ThreadPool.create(&quot;Trap&quot;, 2);\n        MessageDispatcher messageDispatcher = new MultiThreadedMessageDispatcher(threadPool, new MessageDispatcherImpl());\n\n        UdpAddress listenAddress = (UdpAddress) GenericAddress.parse(String.valueOf(new UdpAddress(&quot;localhost/162&quot;)));\n        TransportMapping&lt;?&gt; transport = new DefaultUdpTransportMapping(new UdpAddress(&quot;localhost/162&quot;));\n        Snmp snmp = new Snmp(messageDispatcher, transport);\n\n        USM usm = new USM(SecurityProtocols.getInstance(), new OctetString(MPv3.createLocalEngineID(new OctetString(engineId))), 0);\n        usm.setEngineDiscoveryEnabled(true);\n        SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES192());\n        SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES256());\n        SecurityProtocols.getInstance().addPrivacyProtocol(new Priv3DES());\n        SecurityModels.getInstance().addSecurityModel(usm);\n        snmp.getMessageDispatcher().addMessageProcessingModel(new MPv3(usm));\n        \n\n        snmp.setLocalEngine(new OctetString(engineId).getValue(), 0, 0);\n        usm.addUser(new OctetString(username), new OctetString(engineId), new UsmUser(new OctetString(username), AuthSHA.ID,\n                new OctetString(authPassword), PrivAES256.ID, new OctetString(privPassword)));\n        snmp.addCommandResponder(this);\n        //snmp.addNotificationListener(transport.getListenAddress(),this);\n        snmp.listen();\n        System.out.println(&quot;Listening for SNMPv3 traps on port &quot; + transport.getListenAddress());\n        Thread.sleep(Long.MAX_VALUE);\n    }\n\n\n    @Override\n    public synchronized void processPdu(CommandResponderEvent commandResponderEvent) {\n        System.out.println(&quot;Receive something&quot;);\n        PDU requestPDU = commandResponderEvent.getPDU();\n        if (requestPDU != null) {\n            System.out.println(&quot;Received request:&quot;);\n            System.out.println(requestPDU.getVariableBindings());\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","swt","animated-gif"],"comments":[{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1353436642,"post_id":13479833,"comment_id":18442413,"body_markdown":"Posting the approaches you already tried would make sure, that they aren&#39;t posted as answers.","body":"Posting the approaches you already tried would make sure, that they aren&#39;t posted as answers."},{"owner":{"account_id":57776,"reputation":9535,"user_id":173101,"display_name":"Tom Seidel"},"score":0,"creation_date":1353488239,"post_id":13479833,"comment_id":18458648,"body_markdown":"I voted to close this question since it&#39;s very difficult to know what you are asking, what you have already tried and which problems you are facing. Please improve the question so that users are able to help you","body":"I voted to close this question since it&#39;s very difficult to know what you are asking, what you have already tried and which problems you are facing. Please improve the question so that users are able to help you"},{"owner":{"account_id":1491346,"reputation":4394,"user_id":1398365,"accept_rate":73,"display_name":"HDdeveloper"},"score":0,"creation_date":1361610112,"post_id":13479833,"comment_id":21137466,"body_markdown":"+1 See the [Link](http://www.eclipse.org/articles/Article-SWT-images/graphics-resources.html).","body":"+1 See the <a href=\"http://www.eclipse.org/articles/Article-SWT-images/graphics-resources.html\" rel=\"nofollow noreferrer\">Link</a>."}],"answers":[{"comments":[{"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"score":0,"creation_date":1353446010,"post_id":13479913,"comment_id":18446679,"body_markdown":"yeap, but I had some problems with that","body":"yeap, but I had some problems with that"},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":1,"creation_date":1353449387,"post_id":13479913,"comment_id":18448141,"body_markdown":"@ToKra Well, you will have to explain what didn&#39;t work. Otherwise no one is able to help you...","body":"@ToKra Well, you will have to explain what didn&#39;t work. Otherwise no one is able to help you..."},{"owner":{"account_id":1491346,"reputation":4394,"user_id":1398365,"accept_rate":73,"display_name":"HDdeveloper"},"score":0,"creation_date":1361610882,"post_id":13479913,"comment_id":21137645,"body_markdown":"+1 @Baz Can you please tell how to animate the image in table view.\nSomething like this\n`Image image1 = new Image(display,myClass.class.getResourceAsStream(&quot;1.png&quot;));\nImage image2 = new Image(display,myClass.class.getResourceAsStream(&quot;2.png&quot;));`\n  \n`item.setImage(image1);\nitem.setImage(image2);`","body":"+1 @Baz Can you please tell how to animate the image in table view. Something like this <code>Image image1 = new Image(display,myClass.class.getResourceAsStream(&quot;1.png&quot;)); Image image2 = new Image(display,myClass.class.getResourceAsStream(&quot;2.png&quot;));</code>    <code>item.setImage(image1); item.setImage(image2);</code>"},{"owner":{"account_id":1264666,"reputation":736,"user_id":1222230,"accept_rate":75,"display_name":"bobby_light"},"score":0,"creation_date":1562797430,"post_id":13479913,"comment_id":100494601,"body_markdown":"What&#39;s missing here, and from the SWT sample it was adopted from, is looping in the Thread to keep updating the GIF.  As it&#39;s currently written only the first frame will be rendered.","body":"What&#39;s missing here, and from the SWT sample it was adopted from, is looping in the Thread to keep updating the GIF.  As it&#39;s currently written only the first frame will be rendered."}],"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353436848,"creation_date":1353436848,"answer_id":13479913,"question_id":13479833,"body_markdown":"Did you try the Eclipse article about [SWT `Images`](http://www.eclipse.org/articles/Article-SWT-images/graphics-resources.html#Animation)?\r\n\r\nThis part will load the image and display it in a `Canvas`:\r\n\r\n    ImageLoader loader = new ImageLoader();\r\n    loader.load(getClass().getResourceAsStream(&quot;Idea_SWT_Animation.gif&quot;));\r\n    Canvas canvas = new Canvas(shell,SWT.NONE);\r\n    image = new Image(display,loader.data[0]);\r\n    int imageNumber;\r\n    final GC gc = new GC(image);\r\n    canvas.addPaintListener(new PaintListener(){\r\n        public void paintControl(PaintEvent event){\r\n            event.gc.drawImage(image,0,0);\r\n        }\r\n    });\r\n\r\nAnd this part updates the gif:\r\n\r\n    Thread thread = new Thread(){\r\n        public void run(){\r\n            long currentTime = System.currentTimeMillis();\r\n            int delayTime = loader.data[imageNumber].delayTime;\r\n            while(currentTime + delayTime * 10 &gt; System.currentTimeMillis()){\r\n                // Wait till the delay time has passed\r\n            }\r\n            display.asyncExec(new Runnable(){\r\n                public void run(){\r\n                    // Increase the variable holding the frame number\r\n                    imageNumber = imageNumber == loader.data.length-1 ? 0 : imageNumber+1;\r\n                    // Draw the new data onto the image\r\n                    ImageData nextFrameData = loader.data[imageNumber];\r\n                    Image frameImage = new Image(display,nextFrameData);\r\n                    gc.drawImage(frameImage,nextFrameData.x,nextFrameData.y);\r\n                    frameImage.dispose();\r\n                    canvas.redraw();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    shell.open();\r\n    thread.start();","title":"JAVA SWT Animated GIF","body":"<p>Did you try the Eclipse article about <a href=\"http://www.eclipse.org/articles/Article-SWT-images/graphics-resources.html#Animation\" rel=\"nofollow\">SWT <code>Images</code></a>?</p>\n\n<p>This part will load the image and display it in a <code>Canvas</code>:</p>\n\n<pre><code>ImageLoader loader = new ImageLoader();\nloader.load(getClass().getResourceAsStream(\"Idea_SWT_Animation.gif\"));\nCanvas canvas = new Canvas(shell,SWT.NONE);\nimage = new Image(display,loader.data[0]);\nint imageNumber;\nfinal GC gc = new GC(image);\ncanvas.addPaintListener(new PaintListener(){\n    public void paintControl(PaintEvent event){\n        event.gc.drawImage(image,0,0);\n    }\n});\n</code></pre>\n\n<p>And this part updates the gif:</p>\n\n<pre><code>Thread thread = new Thread(){\n    public void run(){\n        long currentTime = System.currentTimeMillis();\n        int delayTime = loader.data[imageNumber].delayTime;\n        while(currentTime + delayTime * 10 &gt; System.currentTimeMillis()){\n            // Wait till the delay time has passed\n        }\n        display.asyncExec(new Runnable(){\n            public void run(){\n                // Increase the variable holding the frame number\n                imageNumber = imageNumber == loader.data.length-1 ? 0 : imageNumber+1;\n                // Draw the new data onto the image\n                ImageData nextFrameData = loader.data[imageNumber];\n                Image frameImage = new Image(display,nextFrameData);\n                gc.drawImage(frameImage,nextFrameData.x,nextFrameData.y);\n                frameImage.dispose();\n                canvas.redraw();\n            }\n        });\n    }\n};\nshell.open();\nthread.start();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"score":0,"creation_date":1353446276,"post_id":13480274,"comment_id":18446789,"body_markdown":"I have seen similiar one with more threads, it is working, but what I want is to use GIF like simple progress dialog or progrss status showing during downloading some data from net. I want to make it simple, similiar like in Android progress dialog - but this GIF would be inside app window identicating progress. Note this app is pure J2SE, without JFace or RCP stuff.","body":"I have seen similiar one with more threads, it is working, but what I want is to use GIF like simple progress dialog or progrss status showing during downloading some data from net. I want to make it simple, similiar like in Android progress dialog - but this GIF would be inside app window identicating progress. Note this app is pure J2SE, without JFace or RCP stuff."}],"tags":[],"owner":{"account_id":1460245,"reputation":3085,"user_id":1374773,"display_name":"sambi reddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353438280,"creation_date":1353438280,"answer_id":13480274,"question_id":13479833,"body_markdown":"here is sample code provided. Basically this is how it works. Unlike other image formats, Animated GIF will have setof ImageData ( like a frame in an animation). You will render this image data on Cavans with the delay that you want.\r\n\r\nhttp://www.java2s.com/Code/Java/SWT-JFace-Eclipse/DisplayananimatedGIF.htm\r\n","title":"JAVA SWT Animated GIF","body":"<p>here is sample code provided. Basically this is how it works. Unlike other image formats, Animated GIF will have setof ImageData ( like a frame in an animation). You will render this image data on Cavans with the delay that you want.</p>\n\n<p><a href=\"http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/DisplayananimatedGIF.htm\" rel=\"nofollow\">http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/DisplayananimatedGIF.htm</a></p>\n"},{"comments":[{"owner":{"account_id":3342900,"reputation":428,"user_id":2808752,"display_name":"bhlowe"},"score":0,"creation_date":1670517815,"post_id":28492105,"comment_id":131898336,"body_markdown":"This has a serious bug. You need to declare your GC just once.. You are declaring one for each iteration through the animation... So add: final GC gc = new GC(Display.getCurrent()); and use   gc.drawImage(frameImage, nextFrameData.x, nextFrameData.y); instead of new GC(AnimatedGif.this)","body":"This has a serious bug. You need to declare your GC just once.. You are declaring one for each iteration through the animation... So add: final GC gc = new GC(Display.getCurrent()); and use   gc.drawImage(frameImage, nextFrameData.x, nextFrameData.y); instead of new GC(AnimatedGif.this)"},{"owner":{"account_id":3342900,"reputation":428,"user_id":2808752,"display_name":"bhlowe"},"score":0,"creation_date":1670518195,"post_id":28492105,"comment_id":131898455,"body_markdown":"Create the GC in the constructor once, with gc = new GC(this);","body":"Create the GC in the constructor once, with gc = new GC(this);"},{"owner":{"account_id":321114,"reputation":305,"user_id":639744,"display_name":"James"},"score":0,"creation_date":1670689184,"post_id":28492105,"comment_id":131933447,"body_markdown":"Thanks for the improvement! Is it a bug or just an inefficiency? It worked last time I ran it years ago.","body":"Thanks for the improvement! Is it a bug or just an inefficiency? It worked last time I ran it years ago."},{"owner":{"account_id":3342900,"reputation":428,"user_id":2808752,"display_name":"bhlowe"},"score":0,"creation_date":1670781033,"post_id":28492105,"comment_id":131947663,"body_markdown":"A bug and memory leak. Will crash with out of handles if you leave it running.","body":"A bug and memory leak. Will crash with out of handles if you leave it running."}],"tags":[],"owner":{"account_id":321114,"reputation":305,"user_id":639744,"display_name":"James"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423798929,"creation_date":1423798929,"answer_id":28492105,"question_id":13479833,"body_markdown":"After trying at least 3 different animated GIF examples, none of which worked, I started working on my own, based mainly on the answer above.\r\n\r\nHere is a complete running example including:\r\n\r\n - a base64 decoder (courtesy of http://www.source-code.biz/base64coder/java/ )\r\n - spinner GIF\r\n - main method\r\n\r\nRemove the main method, base64 methods, and image data, and you will have a working animated GIF canvas.\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import org.eclipse.swt.SWT;\r\n    import org.eclipse.swt.graphics.GC;\r\n    import org.eclipse.swt.graphics.Image;\r\n    import org.eclipse.swt.graphics.ImageData;\r\n    import org.eclipse.swt.graphics.ImageLoader;\r\n    import org.eclipse.swt.widgets.Canvas;\r\n    import org.eclipse.swt.widgets.Composite;\r\n    import org.eclipse.swt.widgets.Display;\r\n    import org.eclipse.swt.widgets.Shell;\r\n    \r\n    public class AnimatedGif extends Canvas {\r\n        \r\n        public static void main(String[] args) throws IOException {\r\n            byte[] d = decode(b64.toCharArray(), 0, b64.length());\r\n            Display display = new Display ();\r\n            Shell shell = new Shell(display);\r\n            shell.setBounds(0, 0, 100, 100);\r\n    \r\n            AnimatedGif gif = new AnimatedGif(shell, SWT.NONE);\r\n            gif.setLocation(10,10);\r\n            gif.setSize(16, 16);\r\n            gif.load(new java.io.ByteArrayInputStream(d));\r\n            shell.open();\r\n            gif.animate();\r\n    \r\n            while (!shell.isDisposed ()) {\r\n                if (!display.readAndDispatch ()) display.sleep ();\r\n            }\r\n            display.dispose ();\r\n    \r\n        }\r\n    \r\n        private final ImageLoader loader = new ImageLoader();\r\n        private int img = 0;\r\n        private volatile boolean animating = false;\r\n        private Thread animateThread;\r\n    \r\n        public AnimatedGif(Composite parent, int style) {\r\n            super(parent, style);\r\n        }\r\n    \r\n        public void load (InputStream resource) throws IOException {\r\n            loader.load(resource);\r\n        }\r\n    \r\n        public void animate() {\r\n            if (animateThread == null) {\r\n                animateThread = createThread();\r\n                animateThread.setDaemon(true);\r\n            }\r\n    \r\n            if (animateThread.isAlive())\r\n                return;\r\n    \r\n            animateThread.start();\r\n        }\r\n    \r\n        public void stop() {\r\n            animating = false;\r\n            if (animateThread != null)\r\n                try {\r\n                    animateThread.join();\r\n                    animateThread = null;\r\n                } catch (InterruptedException e) {\r\n                    // do nothing\r\n                }\r\n        }\r\n    \r\n        private Thread createThread() {\r\n            return new Thread() {\r\n                long currentTime = System.currentTimeMillis();\r\n                final Display display = getParent().getDisplay();\r\n                public void run() {\r\n                    animating = true;\r\n                    while(animating) {\r\n                        img = (img == loader.data.length-1) ? 0 : img + 1;\r\n                        int delayTime = Math.max(50, 10*loader.data[img].delayTime);\r\n                        long now = System.currentTimeMillis();\r\n                        long ms = Math.max(currentTime + delayTime - now, 5);\r\n                        currentTime += delayTime;\r\n                        try {\r\n                            Thread.sleep(ms);\r\n                        } catch(Exception e) {\r\n                            return;\r\n                        }\r\n    \r\n                        if (!display.isDisposed())\r\n                            display.asyncExec(new Runnable() {\r\n    \r\n                                @Override\r\n                                public void run() {\r\n                                    ImageData nextFrameData = loader.data[img];\r\n                                    Image frameImage = new Image(display, nextFrameData);\r\n                                    new GC(AnimatedGif.this).drawImage(frameImage, nextFrameData.x, nextFrameData.y);\r\n                                    frameImage.dispose();\r\n                                    //canvas.redraw();\r\n                                }\r\n                            });\r\n                    }\r\n                    \r\n                    Display.getDefault().asyncExec(new Runnable() {\r\n    \r\n                        @Override\r\n                        public void run() {\r\n                            new GC(AnimatedGif.this).fillRectangle(\r\n                                    0,\r\n                                    0,\r\n                                    getBounds().width,\r\n                                    getBounds().height);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    \r\n        private static final char[] map1 = new char[64];\r\n        static {\r\n            int i = 0;\r\n            for (char c = &#39;A&#39;; c &lt;= &#39;Z&#39;; c++)\r\n                map1[i++] = c;\r\n            for (char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++)\r\n                map1[i++] = c;\r\n            for (char c = &#39;0&#39;; c &lt;= &#39;9&#39;; c++)\r\n                map1[i++] = c;\r\n            map1[i++] = &#39;+&#39;;\r\n            map1[i++] = &#39;/&#39;;\r\n        }\r\n    \r\n        private static final byte[] map2 = new byte[128];\r\n        static {\r\n            for (int i = 0; i &lt; map2.length; i++)\r\n                map2[i] = -1;\r\n            for (int i = 0; i &lt; 64; i++)\r\n                map2[map1[i]] = (byte) i;\r\n        }\r\n    \r\n        public static byte[] decode(char[] in, int iOff, int iLen) {\r\n            if (iLen % 4 != 0)\r\n                throw new IllegalArgumentException(\r\n                        &quot;Length of Base64 encoded input string is not a multiple of 4.&quot;);\r\n            while (iLen &gt; 0 &amp;&amp; in[iOff + iLen - 1] == &#39;=&#39;)\r\n                iLen--;\r\n            int oLen = (iLen * 3) / 4;\r\n            byte[] out = new byte[oLen];\r\n            int ip = iOff;\r\n            int iEnd = iOff + iLen;\r\n            int op = 0;\r\n            while (ip &lt; iEnd) {\r\n                int i0 = in[ip++];\r\n                int i1 = in[ip++];\r\n                int i2 = ip &lt; iEnd ? in[ip++] : &#39;A&#39;;\r\n                int i3 = ip &lt; iEnd ? in[ip++] : &#39;A&#39;;\r\n                if (i0 &gt; 127 || i1 &gt; 127 || i2 &gt; 127 || i3 &gt; 127)\r\n                    throw new IllegalArgumentException(\r\n                            &quot;Illegal character in Base64 encoded data.&quot;);\r\n                int b0 = map2[i0];\r\n                int b1 = map2[i1];\r\n                int b2 = map2[i2];\r\n                int b3 = map2[i3];\r\n                if (b0 &lt; 0 || b1 &lt; 0 || b2 &lt; 0 || b3 &lt; 0)\r\n                    throw new IllegalArgumentException(\r\n                            &quot;Illegal character in Base64 encoded data.&quot;);\r\n                int o0 = (b0 &lt;&lt; 2) | (b1 &gt;&gt;&gt; 4);\r\n                int o1 = ((b1 &amp; 0xf) &lt;&lt; 4) | (b2 &gt;&gt;&gt; 2);\r\n                int o2 = ((b2 &amp; 3) &lt;&lt; 6) | b3;\r\n                out[op++] = (byte) o0;\r\n                if (op &lt; oLen)\r\n                    out[op++] = (byte) o1;\r\n                if (op &lt; oLen)\r\n                    out[op++] = (byte) o2;\r\n            }\r\n            return out;\r\n        }\r\n    \r\n        static String b64 =\r\n                &quot;R0lGODlhEAAQAPf/AMra5KO9zOzz9s3b5MDS3aS+zZOwwsrZ4+bt89jm7IKftuLr&quot; + \r\n                &quot;8ZCswH6bs9vn7qrD0+Ts8oqnvYKetomlu8PV4t7p79Pg6dzp79vm7q/F1aC6zdTi&quot; + \r\n                &quot;6bbL2XqYsdDf55SwxK/H1ajC0Yajudzp7q7E087c59Xi6niWr8XY4qW/0LnM2aO9&quot; + \r\n                &quot;zoyov7bK2djk7ICbtIOhtt7p7pq1yc3b5sDU38DR39vm7LDH1afA0Yqovebu85Gt&quot; + \r\n                &quot;wouovsvZ5oCdtunv9IaiuXyZscrb5qnC0Zezxdjj64WiuZ65y7vQ3N/p8OLq8avE&quot; + \r\n                &quot;1MTX4o6rwJaxxLnN29jm7a7F1dvm7Y2qwH2bs7zQ3Jizx9Df6djj7HmXr+Tt8rvO&quot; + \r\n                &quot;26/E1LrO3KC5zKW+z8/e577Q3oCctYShubTK2HyasZGtwHuYsdTg6enw89/p76zE&quot; + \r\n                &quot;04iku+Lr8LXJ2JKvw+Xt8tHf583b57vP3pu2ycjY45m0yNvp7qzE1bHI13qZsaK8&quot; + \r\n                &quot;zn2aspq0yODp8Nfi6svb5oaiuuDp76vE09Hf6ZWzxMfY4qnC087e5+rx9eLs8pSv&quot; + \r\n                &quot;xL/R3rPI2Nfj64ajuq7E1Y2pv7rQ2+Lp8J65yarC1JKvxLzR3nybsrzQ3unw9HmY&quot; + \r\n                &quot;sLvR3LPI17nO28rY5Iqlvc3c5urx9Iakus/f53iVrtPi6cnY436btNTi6tfi67PK&quot; + \r\n                &quot;1rHI2H6bspy3yJ63ydXi7JezxKjA0ZGuwNjk64CbtazE0Zezx8DR3NXi68TX4Nvn&quot; + \r\n                &quot;7e7097vP24CctH2atIqlvN7o7tPh6Nzn7JGvwK/F1MbX4dHg6MfY4b7S3c/e5n2b&quot; + \r\n                &quot;srjN2ezy9eDq78rb4svb473R2+Ts8cHV3r7R3eXu8rfN2JSvwo+tv9/p7pSxw6C7&quot; + \r\n                &quot;ytbj6cTX36zD1NHg5vL3+KnB0Onx9cPV35y4yLPJ1dnl7LnO2cHU3avD0bnP2sDV&quot; + \r\n                &quot;4pKvwdfk7O7z99Xi6XqXsNTi6N3o7sjY4ubv8s7c5qvE0env842svuLs8Z64yJm0&quot; + \r\n                &quot;xZq2x46svuLq8P///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAD/ACwAAAAAEAAQ&quot; + \r\n                &quot;AAAIvQD/CRR4poEEf0q0DFz478SZFwqAxPC3AAEChqU6GAQSwcHEihcFntAoQUQE&quot; + \r\n                &quot;BgkcVKCI4IdAkiYZfCiScmXFfzBzMFhYk6K/jScZ/uspSEFMJ0KxpIxxAQgPBk5k&quot; + \r\n                &quot;CDVRBIoDDE8/yNAg1MIGmglkyvDy5cHCEh4smIC14d/WLyGGQGpBA4UQtBYsCDyy&quot; + \r\n                &quot;AseDByBaqKhhqAfaKwNTPIiyBAQZFUjqGmY4KEMGEG5UdAlDgYlQgQ9IdOJQhRPD&quot; + \r\n                &quot;gAAh+QQFAAD/ACwAAAAAEAAQAAAI1gD/CRR4IkiZBjx0DFwoMIueBj58EBGlRAtD&quot; + \r\n                &quot;h1TEKAikgJUOfxAWbsKk0QgbFjmEJEkiEIFAVBLGjMoxZUcfG1AEhvz3YiOoSAz/&quot; + \r\n                &quot;3VHzD8EPIxNYMPgQVMqFSRAWsGjyhoidoAmkVFjgb8eHPq80BMWS4I4fQZboaFiB&quot; + \r\n                &quot;I6gJFxhGXDiyJ4WsIZUWItrwxwYGF/9ShHjwIEOLGkwAkbJgAgvgwHjwLLnB4QmF&quot; + \r\n                &quot;HnI8oNmwYSCJDCDycPBUA8UMMHGuMHxAQvSTTBTqzBASVCCIFlWQ1KDAMCAAIfkE&quot; + \r\n                &quot;BQAA/wAsAAAAABAAEAAACMsA/wkUeKZDmSANfAxc+K8BlRe+FNRSMIbKMoYwFCjI&quot; + \r\n                &quot;CAOGEY1iqgyMMIHkhJIRgE14JImXEoEMdpiJyYBBpBxN5mjyB+GfEytWiNyyspCR&quot; + \r\n                &quot;ohE8f2jQ4GUpw38JLvBE8CVFChxDnkadOmTQoRCQtEqFoKNYlAdrMohNyiVDlBst&quot; + \r\n                &quot;5ix0lAAphAX/uNwgoyIMDQpMdJWAgrSNQC6NODyZQ4NJnVAWCFeYNLDFli6MDM3w&quot; + \r\n                &quot;gCZXgl0XGFaRVAPFZjQmHEl5KhCaaQ+EKDAMCAAh+QQFAAD/ACwAAAAAEAAQAAAI&quot; + \r\n                &quot;2wD/CRRIJUiHLCdODFz47xEMCT5eNOBjMAjDKTkisBFh5J+CiK3KDFy06I2ZJix4&quot; + \r\n                &quot;TJggYowCPr8EHqEjg4iTDzuaTGExQYEVQP9WCN3j5cjCKXYuIfihZEiIEDhwMBSo&quot; + \r\n                &quot;KMYCLSSiHAqxZKoNB0kW/MvAZQmJDFP/jfi3AMEaEDcacZgqZSACEjfIcOjCZKEL&quot; + \r\n                &quot;DGr+IdDxz42KJ0hQCEFkQVUCB34WEP6nYssWGqfkxDH1B8MIfwv8DUQShsKnEoQ2&quot; + \r\n                &quot;FMEQI4lohhR6gLFg4q+DCmn/zQBzZUMqGwwDAgAh+QQFAAD/ACwAAAAAEAAQAAAI&quot; + \r\n                &quot;uAD/CRTIgAcQBQ06DFz474iMDwVFSEh4gmGKFRoeMogAZGKHUgMHPcDxxYsMJxsl&quot; + \r\n                &quot;UhSYIcqDEF8yosyh8sy/BxmWPBjyYGFKCS/OkABBFBLDfxsPNujkhkyLFkchcpTA&quot; + \r\n                &quot;QYVVGkeLJHAQw1+VLkhqoDi6tasSTmFoGBJSYuHWCv4WaPlHAUWPEh4smMDyNi4C&quot; + \r\n                &quot;gUzu5t2g1QHcBQj+CsSrtwgUw34VD7xiAVZZvz+OCtyQAMMFQf4YBgQAIfkEBQAA&quot; + \r\n                &quot;/wAsAAAAABAAEAAACNYA/wkUeMTSDhZGXgxc+C9Fij10PjSZoADVJoYk8IRIoaHP&quot; + \r\n                &quot;GxaBJGDKMvBBBjwPZK14RYQBqDFi9AwkAWLJgyE4NNj5EGmUAiokQeTJcyNDJYY5&quot; + \r\n                &quot;jMQ80YKD0xYM/01ho6BBkCpPPD2pEfVgIB9lkGSqQYFJ1D45FPhoQBZFD0BRbQhh&quot; + \r\n                &quot;RYQHhToz5JBCxBBKEh2idPybAcaDhQ0msCSQcudfEn9KBAqJg8bEHxeLL6gRCEHL&quot; + \r\n                &quot;wCsbsNjAcKfCpH8Qov7b4ALDCD8LICD4N1u1iwuC/C34wTAgACH5BAUAAP8ALAAA&quot; + \r\n                &quot;AAAQABAAAAjNAP8JFMil2JAvGpwMXPiPC5cMUQal0GCFQQSGLRrdiPLgUAovVnZM&quot; + \r\n                &quot;gDGwyhYOZG6sCYFDAxEzERQ0ECipyxMVLTJAGqLhFoMJCqj8o1CD0ZwwcxaGHPni&quot; + \r\n                &quot;DAoUhmjQYPjvpwJfHWZoZUKBKkwYCsp4GFunK8NIEWDUCkIIDZpQuqjmAGZEJgUT&quot; + \r\n                &quot;uSyUcLSQUROgY8b8c5QACpQEiBErmvMoqEApu0ZIvkD5wghNksQsG3ihgr/PoD/z&quot; + \r\n                &quot;qsJwUhsIqFNDUEJV4IIfOhAg+MEwIAAh+QQFAAD/ACwAAAAAEAAQAAAI1wD/CRRI&quot; + \r\n                &quot;Yk0GEkNWDFz4T4WbGyC4RAmx4sgihki2qCBzY8khinQWTRlIIcyWJxwakQiBY4+M&quot; + \r\n                &quot;NzkeCaRAgQaSLhwyLMHhhYiZCDD+zejx6RQKJguPOGnCRgIVMGBKyBHC8N8HFiJ8&quot; + \r\n                &quot;BLligVAcRFV38DDyosMGExtMWajaZMK/BllSuSjyR1XVKRMU8DlhA4PfBC4WTsGq&quot; + \r\n                &quot;9cQ/BzFGOMAg5Z+Nf3YmjCkrsEISf37U/FOs6JICBa2CDPS3YMHAJDEQWOFThqE/&quot; + \r\n                &quot;HQj+lV7wA9CvqgJhx9aihGFAACH5BAUAAP8ALAAAAAAQABAAAAjAAP8JFMipCodO&quot; + \r\n                &quot;JB4MXPiPCYUwXVS4AZEhwyCGJXqgoIFEBRkQS6I8SDHwioeMhmqoaAHiwQMcK44I&quot; + \r\n                &quot;tGDhpJCNLSANCfFFg4x/G2CZqFli4YMvXmR8YJAgQZENFhj+87mUBwYHUIqYkCrD&quot; + \r\n                &quot;CQMeQC7EcJAAi1SvEUQoEOSvAlmpDCIAkdDA34K2bwcyyPGPbod/CO66dbo0Ld2B&quot; + \r\n                &quot;PwLjTRBXhN8TAxEgEDhWrt9SDCXfjQFEwYszkKX+06LEH90zDAMCACH5BAkAAP8A&quot; + \r\n                &quot;LAAAAAAQABAAAAjWAP8JFEihBpIqLUAMXPhPyIw6FDI94ZCHxAOGV+KAmYGihieK&quot; + \r\n                &quot;IDKQGLhhAxoPcnpQmHhjCR48KQS6wGLCAilATGq0yPDgQYiYLjDY+LMB0cJKQ2Sl&quot; + \r\n                &quot;2HPkwggMLkww/IdjhQY6lgT5uZMAy1QNr/p82OFvQQUpCabaIfKmCYsFECZdkDL1&quot; + \r\n                &quot;AwMWE4z8QPBPzZ2pkUAFUvBCIASBUGz02TElx6gxElAJ5PsvSRIhOViwMaJADKZN&quot; + \r\n                &quot;CyH408FKwWAxVPRkYahFiSgiPnw0UD11oA4eDcoEOcEwIAAh+QQJAAD/ACwAAAAA&quot; + \r\n                &quot;EAAQAAAIyAD/CRw4zAYtYdwGKvyXz1m2YAaF1XsGbWE1aW3UQKQVb8CBA8YG3qMH&quot; + \r\n                &quot;Z4E8c++OKQMwD9k4XALTpClp7tsxD8oGIOs2DaamRDPbOFMIwBi6ZARwuQMKp83C&quot; + \r\n                &quot;fwSiVUEqgKnThdTU9YrWq5nVp73OMWNmzWvQp6tWlUv7j6m4AQpt2Utny1a4tmnc&quot; + \r\n                &quot;AQhAaVuAAAUABxaoCdwzfq70UaJEzpUrSo8HQjNQqNC+WLEKZda8cNYsIoWuFTLA&quot; + \r\n                &quot;bhaxpwK1EWOADV+/hQEBACH5BAUAAP8ALAAAAAAQABAAAAjcAP8JFGgj1YYrYGYM&quot; + \r\n                &quot;XPivggMMLkxYANODAsN//pLEwFBkA6ESnyiEQTLQ3wJ/IzD8MRVHzikaW7aoEKhj&quot; + \r\n                &quot;gR8HCVRZQCQEBZInKtz804HAnxqIC5l04UDmBgkEEPxdkHKRQ6MbINYgODkiwcUM&quot; + \r\n                &quot;JJZwybA1iQMbF5eEOBSFhJYFMRR5ZYgDR4gQQ5T8QHDJzpSFR7zsWUH4HyArCiaw&quot; + \r\n                &quot;mNJkxwcnRGTQOSLwFx8FY0RMmMCDRRMzbxYtGlim1QsfCmAYEcEmQo6/C4N0CMKn&quot; + \r\n                &quot;wWkJMB5dFHjiRJbZVBgGBAAh+QQFAAD/ACwAAAAAEAAQAAAIuQD/CRToT9AFDAk2&quot; + \r\n                &quot;DFz47weCBf5iOEgAy8IVhgge+qvgAEoRExY8lBiYESLHBEU2hCzRg4lAjSexgBTZ&quot; + \r\n                &quot;AwWFf1pMTlxYQoghGmE4KYm4kyGKGki6VCGKkuE/GiqicpAAJAKDD05btCDjplMD&quot; + \r\n                &quot;BVUZOIUEoiyJMy8kiLC68MGQB0syPPh3poHaHAycyNDwJcSDKBkEnuhgd21eGV6+&quot; + \r\n                &quot;4HgwaGApwlStfti7IgXDwYV5XJVxxKlAwmA1MwwIACH5BAUAAP8ALAAAAAAQABAA&quot; + \r\n                &quot;AAjVAP8JFPhjgT9BF1wMXPgPQUMIC/yMwOBiA0OBEP5NqnAHgw0sG64M1JLxn5oL&quot; + \r\n                &quot;UhK4+GMCTRwhApX4S/LvTkosJjZY8ABmxj8donQkgcIQESk5M+pQ4EGElRAbFwH1&quot; + \r\n                &quot;QEGhRgMfCnL0ucikaiYkZXwEYrHjYo0nnp5UCdJAAZspF1twmNvihB4xRnIwrJTh&quot; + \r\n                &quot;Rp48IP5loaJgVKQPdjTgGPJgCQgSA++OAcWAyKsVsh7gyfBgYBZMEsa+6aMhRQg8&quot; + \r\n                &quot;kBduQqVgQpMPdPakSHFR4AsjZC0dYRgQACH5BAUAAP8ALAAAAAAQABAAAAjRAP8J&quot; + \r\n                &quot;FFgBAQIdP2wMXPhPCYSHECG0GcaQBi9/GDNirNBuIA8xkjSNuEDywoiTuzYIpKLg&quot; + \r\n                &quot;0RxFCWLGhAIlgaN/D4womNCE0UJHJSzkMpHphQIjwFgw/KcrFBo0hCTUghHBy1JG&quot; + \r\n                &quot;dTx4CNVAAVUiS9cxmTGjRxlfO80spUHDEAoUE17AmLDDysIuYeYwqnHpH8sJDG5p&quot; + \r\n                &quot;CFGJSwsVT7pIEtg1ghkiGnCEWHODDIctWwbOreslxaEHUW40usEwAgMrGlIMipKB&quot; + \r\n                &quot;y5qlAp1o+DKExBeGAQEAIfkEBQAA/wAsAAAAABAAEAAACNcA/wkUqETLPwQIByr8&quot; + \r\n                &quot;xwPQjwUQD+rAsBATHysIYiQZCNHfwBWtFCi4pMjBiH9q/PhLkkBghxdjJtj5Z+Of&quot; + \r\n                &quot;FAwmYzj4xyaIDxEsmih0kQCDUSzw+CiYsGPhP1V/irhIlaXBvwmWnFowtcHElTIv&quot; + \r\n                &quot;jPD44FRIHEIWrvgESnahEDklwMygIoFNEydHFFJAcepTjzr/YEQwQ8QLjgfeOHRB&quot; + \r\n                &quot;QoMCBYFAcryRsQdHCBKNODzZEobDwCmL6KwIcWjJDTIqtiBZaObI6ChcQNxw48ap&quot; + \r\n                &quot;wBVDSGRYs2ZhQAA7&quot;;\r\n    }","title":"JAVA SWT Animated GIF","body":"<p>After trying at least 3 different animated GIF examples, none of which worked, I started working on my own, based mainly on the answer above.</p>\n\n<p>Here is a complete running example including:</p>\n\n<ul>\n<li>a base64 decoder (courtesy of <a href=\"http://www.source-code.biz/base64coder/java/\" rel=\"nofollow\">http://www.source-code.biz/base64coder/java/</a> )</li>\n<li>spinner GIF</li>\n<li>main method</li>\n</ul>\n\n<p>Remove the main method, base64 methods, and image data, and you will have a working animated GIF canvas.</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\n\nimport org.eclipse.swt.SWT;\nimport org.eclipse.swt.graphics.GC;\nimport org.eclipse.swt.graphics.Image;\nimport org.eclipse.swt.graphics.ImageData;\nimport org.eclipse.swt.graphics.ImageLoader;\nimport org.eclipse.swt.widgets.Canvas;\nimport org.eclipse.swt.widgets.Composite;\nimport org.eclipse.swt.widgets.Display;\nimport org.eclipse.swt.widgets.Shell;\n\npublic class AnimatedGif extends Canvas {\n\n    public static void main(String[] args) throws IOException {\n        byte[] d = decode(b64.toCharArray(), 0, b64.length());\n        Display display = new Display ();\n        Shell shell = new Shell(display);\n        shell.setBounds(0, 0, 100, 100);\n\n        AnimatedGif gif = new AnimatedGif(shell, SWT.NONE);\n        gif.setLocation(10,10);\n        gif.setSize(16, 16);\n        gif.load(new java.io.ByteArrayInputStream(d));\n        shell.open();\n        gif.animate();\n\n        while (!shell.isDisposed ()) {\n            if (!display.readAndDispatch ()) display.sleep ();\n        }\n        display.dispose ();\n\n    }\n\n    private final ImageLoader loader = new ImageLoader();\n    private int img = 0;\n    private volatile boolean animating = false;\n    private Thread animateThread;\n\n    public AnimatedGif(Composite parent, int style) {\n        super(parent, style);\n    }\n\n    public void load (InputStream resource) throws IOException {\n        loader.load(resource);\n    }\n\n    public void animate() {\n        if (animateThread == null) {\n            animateThread = createThread();\n            animateThread.setDaemon(true);\n        }\n\n        if (animateThread.isAlive())\n            return;\n\n        animateThread.start();\n    }\n\n    public void stop() {\n        animating = false;\n        if (animateThread != null)\n            try {\n                animateThread.join();\n                animateThread = null;\n            } catch (InterruptedException e) {\n                // do nothing\n            }\n    }\n\n    private Thread createThread() {\n        return new Thread() {\n            long currentTime = System.currentTimeMillis();\n            final Display display = getParent().getDisplay();\n            public void run() {\n                animating = true;\n                while(animating) {\n                    img = (img == loader.data.length-1) ? 0 : img + 1;\n                    int delayTime = Math.max(50, 10*loader.data[img].delayTime);\n                    long now = System.currentTimeMillis();\n                    long ms = Math.max(currentTime + delayTime - now, 5);\n                    currentTime += delayTime;\n                    try {\n                        Thread.sleep(ms);\n                    } catch(Exception e) {\n                        return;\n                    }\n\n                    if (!display.isDisposed())\n                        display.asyncExec(new Runnable() {\n\n                            @Override\n                            public void run() {\n                                ImageData nextFrameData = loader.data[img];\n                                Image frameImage = new Image(display, nextFrameData);\n                                new GC(AnimatedGif.this).drawImage(frameImage, nextFrameData.x, nextFrameData.y);\n                                frameImage.dispose();\n                                //canvas.redraw();\n                            }\n                        });\n                }\n\n                Display.getDefault().asyncExec(new Runnable() {\n\n                    @Override\n                    public void run() {\n                        new GC(AnimatedGif.this).fillRectangle(\n                                0,\n                                0,\n                                getBounds().width,\n                                getBounds().height);\n                    }\n                });\n            }\n        };\n    }\n\n    private static final char[] map1 = new char[64];\n    static {\n        int i = 0;\n        for (char c = 'A'; c &lt;= 'Z'; c++)\n            map1[i++] = c;\n        for (char c = 'a'; c &lt;= 'z'; c++)\n            map1[i++] = c;\n        for (char c = '0'; c &lt;= '9'; c++)\n            map1[i++] = c;\n        map1[i++] = '+';\n        map1[i++] = '/';\n    }\n\n    private static final byte[] map2 = new byte[128];\n    static {\n        for (int i = 0; i &lt; map2.length; i++)\n            map2[i] = -1;\n        for (int i = 0; i &lt; 64; i++)\n            map2[map1[i]] = (byte) i;\n    }\n\n    public static byte[] decode(char[] in, int iOff, int iLen) {\n        if (iLen % 4 != 0)\n            throw new IllegalArgumentException(\n                    \"Length of Base64 encoded input string is not a multiple of 4.\");\n        while (iLen &gt; 0 &amp;&amp; in[iOff + iLen - 1] == '=')\n            iLen--;\n        int oLen = (iLen * 3) / 4;\n        byte[] out = new byte[oLen];\n        int ip = iOff;\n        int iEnd = iOff + iLen;\n        int op = 0;\n        while (ip &lt; iEnd) {\n            int i0 = in[ip++];\n            int i1 = in[ip++];\n            int i2 = ip &lt; iEnd ? in[ip++] : 'A';\n            int i3 = ip &lt; iEnd ? in[ip++] : 'A';\n            if (i0 &gt; 127 || i1 &gt; 127 || i2 &gt; 127 || i3 &gt; 127)\n                throw new IllegalArgumentException(\n                        \"Illegal character in Base64 encoded data.\");\n            int b0 = map2[i0];\n            int b1 = map2[i1];\n            int b2 = map2[i2];\n            int b3 = map2[i3];\n            if (b0 &lt; 0 || b1 &lt; 0 || b2 &lt; 0 || b3 &lt; 0)\n                throw new IllegalArgumentException(\n                        \"Illegal character in Base64 encoded data.\");\n            int o0 = (b0 &lt;&lt; 2) | (b1 &gt;&gt;&gt; 4);\n            int o1 = ((b1 &amp; 0xf) &lt;&lt; 4) | (b2 &gt;&gt;&gt; 2);\n            int o2 = ((b2 &amp; 3) &lt;&lt; 6) | b3;\n            out[op++] = (byte) o0;\n            if (op &lt; oLen)\n                out[op++] = (byte) o1;\n            if (op &lt; oLen)\n                out[op++] = (byte) o2;\n        }\n        return out;\n    }\n\n    static String b64 =\n            \"R0lGODlhEAAQAPf/AMra5KO9zOzz9s3b5MDS3aS+zZOwwsrZ4+bt89jm7IKftuLr\" + \n            \"8ZCswH6bs9vn7qrD0+Ts8oqnvYKetomlu8PV4t7p79Pg6dzp79vm7q/F1aC6zdTi\" + \n            \"6bbL2XqYsdDf55SwxK/H1ajC0Yajudzp7q7E087c59Xi6niWr8XY4qW/0LnM2aO9\" + \n            \"zoyov7bK2djk7ICbtIOhtt7p7pq1yc3b5sDU38DR39vm7LDH1afA0Yqovebu85Gt\" + \n            \"wouovsvZ5oCdtunv9IaiuXyZscrb5qnC0Zezxdjj64WiuZ65y7vQ3N/p8OLq8avE\" + \n            \"1MTX4o6rwJaxxLnN29jm7a7F1dvm7Y2qwH2bs7zQ3Jizx9Df6djj7HmXr+Tt8rvO\" + \n            \"26/E1LrO3KC5zKW+z8/e577Q3oCctYShubTK2HyasZGtwHuYsdTg6enw89/p76zE\" + \n            \"04iku+Lr8LXJ2JKvw+Xt8tHf583b57vP3pu2ycjY45m0yNvp7qzE1bHI13qZsaK8\" + \n            \"zn2aspq0yODp8Nfi6svb5oaiuuDp76vE09Hf6ZWzxMfY4qnC087e5+rx9eLs8pSv\" + \n            \"xL/R3rPI2Nfj64ajuq7E1Y2pv7rQ2+Lp8J65yarC1JKvxLzR3nybsrzQ3unw9HmY\" + \n            \"sLvR3LPI17nO28rY5Iqlvc3c5urx9Iakus/f53iVrtPi6cnY436btNTi6tfi67PK\" + \n            \"1rHI2H6bspy3yJ63ydXi7JezxKjA0ZGuwNjk64CbtazE0Zezx8DR3NXi68TX4Nvn\" + \n            \"7e7097vP24CctH2atIqlvN7o7tPh6Nzn7JGvwK/F1MbX4dHg6MfY4b7S3c/e5n2b\" + \n            \"srjN2ezy9eDq78rb4svb473R2+Ts8cHV3r7R3eXu8rfN2JSvwo+tv9/p7pSxw6C7\" + \n            \"ytbj6cTX36zD1NHg5vL3+KnB0Onx9cPV35y4yLPJ1dnl7LnO2cHU3avD0bnP2sDV\" + \n            \"4pKvwdfk7O7z99Xi6XqXsNTi6N3o7sjY4ubv8s7c5qvE0env842svuLs8Z64yJm0\" + \n            \"xZq2x46svuLq8P///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAD/ACwAAAAAEAAQ\" + \n            \"AAAIvQD/CRR4poEEf0q0DFz478SZFwqAxPC3AAEChqU6GAQSwcHEihcFntAoQUQE\" + \n            \"BgkcVKCI4IdAkiYZfCiScmXFfzBzMFhYk6K/jScZ/uspSEFMJ0KxpIxxAQgPBk5k\" + \n            \"CDVRBIoDDE8/yNAg1MIGmglkyvDy5cHCEh4smIC14d/WLyGGQGpBA4UQtBYsCDyy\" + \n            \"AseDByBaqKhhqAfaKwNTPIiyBAQZFUjqGmY4KEMGEG5UdAlDgYlQgQ9IdOJQhRPD\" + \n            \"gAAh+QQFAAD/ACwAAAAAEAAQAAAI1gD/CRR4IkiZBjx0DFwoMIueBj58EBGlRAtD\" + \n            \"h1TEKAikgJUOfxAWbsKk0QgbFjmEJEkiEIFAVBLGjMoxZUcfG1AEhvz3YiOoSAz/\" + \n            \"3VHzD8EPIxNYMPgQVMqFSRAWsGjyhoidoAmkVFjgb8eHPq80BMWS4I4fQZboaFiB\" + \n            \"I6gJFxhGXDiyJ4WsIZUWItrwxwYGF/9ShHjwIEOLGkwAkbJgAgvgwHjwLLnB4QmF\" + \n            \"HnI8oNmwYSCJDCDycPBUA8UMMHGuMHxAQvSTTBTqzBASVCCIFlWQ1KDAMCAAIfkE\" + \n            \"BQAA/wAsAAAAABAAEAAACMsA/wkUeKZDmSANfAxc+K8BlRe+FNRSMIbKMoYwFCjI\" + \n            \"CAOGEY1iqgyMMIHkhJIRgE14JImXEoEMdpiJyYBBpBxN5mjyB+GfEytWiNyyspCR\" + \n            \"ohE8f2jQ4GUpw38JLvBE8CVFChxDnkadOmTQoRCQtEqFoKNYlAdrMohNyiVDlBst\" + \n            \"5ix0lAAphAX/uNwgoyIMDQpMdJWAgrSNQC6NODyZQ4NJnVAWCFeYNLDFli6MDM3w\" + \n            \"gCZXgl0XGFaRVAPFZjQmHEl5KhCaaQ+EKDAMCAAh+QQFAAD/ACwAAAAAEAAQAAAI\" + \n            \"2wD/CRRIJUiHLCdODFz47xEMCT5eNOBjMAjDKTkisBFh5J+CiK3KDFy06I2ZJix4\" + \n            \"TJggYowCPr8EHqEjg4iTDzuaTGExQYEVQP9WCN3j5cjCKXYuIfihZEiIEDhwMBSo\" + \n            \"KMYCLSSiHAqxZKoNB0kW/MvAZQmJDFP/jfi3AMEaEDcacZgqZSACEjfIcOjCZKEL\" + \n            \"DGr+IdDxz42KJ0hQCEFkQVUCB34WEP6nYssWGqfkxDH1B8MIfwv8DUQShsKnEoQ2\" + \n            \"FMEQI4lohhR6gLFg4q+DCmn/zQBzZUMqGwwDAgAh+QQFAAD/ACwAAAAAEAAQAAAI\" + \n            \"uAD/CRTIgAcQBQ06DFz474iMDwVFSEh4gmGKFRoeMogAZGKHUgMHPcDxxYsMJxsl\" + \n            \"UhSYIcqDEF8yosyh8sy/BxmWPBjyYGFKCS/OkABBFBLDfxsPNujkhkyLFkchcpTA\" + \n            \"QYVVGkeLJHAQw1+VLkhqoDi6tasSTmFoGBJSYuHWCv4WaPlHAUWPEh4smMDyNi4C\" + \n            \"gUzu5t2g1QHcBQj+CsSrtwgUw34VD7xiAVZZvz+OCtyQAMMFQf4YBgQAIfkEBQAA\" + \n            \"/wAsAAAAABAAEAAACNYA/wkUeMTSDhZGXgxc+C9Fij10PjSZoADVJoYk8IRIoaHP\" + \n            \"GxaBJGDKMvBBBjwPZK14RYQBqDFi9AwkAWLJgyE4NNj5EGmUAiokQeTJcyNDJYY5\" + \n            \"jMQ80YKD0xYM/01ho6BBkCpPPD2pEfVgIB9lkGSqQYFJ1D45FPhoQBZFD0BRbQhh\" + \n            \"RYQHhToz5JBCxBBKEh2idPybAcaDhQ0msCSQcudfEn9KBAqJg8bEHxeLL6gRCEHL\" + \n            \"wCsbsNjAcKfCpH8Qov7b4ALDCD8LICD4N1u1iwuC/C34wTAgACH5BAUAAP8ALAAA\" + \n            \"AAAQABAAAAjNAP8JFMil2JAvGpwMXPiPC5cMUQal0GCFQQSGLRrdiPLgUAovVnZM\" + \n            \"gDGwyhYOZG6sCYFDAxEzERQ0ECipyxMVLTJAGqLhFoMJCqj8o1CD0ZwwcxaGHPni\" + \n            \"DAoUhmjQYPjvpwJfHWZoZUKBKkwYCsp4GFunK8NIEWDUCkIIDZpQuqjmAGZEJgUT\" + \n            \"uSyUcLSQUROgY8b8c5QACpQEiBErmvMoqEApu0ZIvkD5wghNksQsG3ihgr/PoD/z\" + \n            \"qsJwUhsIqFNDUEJV4IIfOhAg+MEwIAAh+QQFAAD/ACwAAAAAEAAQAAAI1wD/CRRI\" + \n            \"Yk0GEkNWDFz4T4WbGyC4RAmx4sgihki2qCBzY8khinQWTRlIIcyWJxwakQiBY4+M\" + \n            \"NzkeCaRAgQaSLhwyLMHhhYiZCDD+zejx6RQKJguPOGnCRgIVMGBKyBHC8N8HFiJ8\" + \n            \"BLligVAcRFV38DDyosMGExtMWajaZMK/BllSuSjyR1XVKRMU8DlhA4PfBC4WTsGq\" + \n            \"9cQ/BzFGOMAg5Z+Nf3YmjCkrsEISf37U/FOs6JICBa2CDPS3YMHAJDEQWOFThqE/\" + \n            \"HQj+lV7wA9CvqgJhx9aihGFAACH5BAUAAP8ALAAAAAAQABAAAAjAAP8JFMipCodO\" + \n            \"JB4MXPiPCYUwXVS4AZEhwyCGJXqgoIFEBRkQS6I8SDHwioeMhmqoaAHiwQMcK44I\" + \n            \"tGDhpJCNLSANCfFFg4x/G2CZqFli4YMvXmR8YJAgQZENFhj+87mUBwYHUIqYkCrD\" + \n            \"CQMeQC7EcJAAi1SvEUQoEOSvAlmpDCIAkdDA34K2bwcyyPGPbod/CO66dbo0Ld2B\" + \n            \"PwLjTRBXhN8TAxEgEDhWrt9SDCXfjQFEwYszkKX+06LEH90zDAMCACH5BAkAAP8A\" + \n            \"LAAAAAAQABAAAAjWAP8JFEihBpIqLUAMXPhPyIw6FDI94ZCHxAOGV+KAmYGihieK\" + \n            \"IDKQGLhhAxoPcnpQmHhjCR48KQS6wGLCAilATGq0yPDgQYiYLjDY+LMB0cJKQ2Sl\" + \n            \"2HPkwggMLkww/IdjhQY6lgT5uZMAy1QNr/p82OFvQQUpCabaIfKmCYsFECZdkDL1\" + \n            \"AwMWE4z8QPBPzZ2pkUAFUvBCIASBUGz02TElx6gxElAJ5PsvSRIhOViwMaJADKZN\" + \n            \"CyH408FKwWAxVPRkYahFiSgiPnw0UD11oA4eDcoEOcEwIAAh+QQJAAD/ACwAAAAA\" + \n            \"EAAQAAAIyAD/CRw4zAYtYdwGKvyXz1m2YAaF1XsGbWE1aW3UQKQVb8CBA8YG3qMH\" + \n            \"Z4E8c++OKQMwD9k4XALTpClp7tsxD8oGIOs2DaamRDPbOFMIwBi6ZARwuQMKp83C\" + \n            \"fwSiVUEqgKnThdTU9YrWq5nVp73OMWNmzWvQp6tWlUv7j6m4AQpt2Utny1a4tmnc\" + \n            \"AQhAaVuAAAUABxaoCdwzfq70UaJEzpUrSo8HQjNQqNC+WLEKZda8cNYsIoWuFTLA\" + \n            \"bhaxpwK1EWOADV+/hQEBACH5BAUAAP8ALAAAAAAQABAAAAjcAP8JFGgj1YYrYGYM\" + \n            \"XPivggMMLkxYANODAsN//pLEwFBkA6ESnyiEQTLQ3wJ/IzD8MRVHzikaW7aoEKhj\" + \n            \"gR8HCVRZQCQEBZInKtz804HAnxqIC5l04UDmBgkEEPxdkHKRQ6MbINYgODkiwcUM\" + \n            \"JJZwybA1iQMbF5eEOBSFhJYFMRR5ZYgDR4gQQ5T8QHDJzpSFR7zsWUH4HyArCiaw\" + \n            \"mNJkxwcnRGTQOSLwFx8FY0RMmMCDRRMzbxYtGlim1QsfCmAYEcEmQo6/C4N0CMKn\" + \n            \"wWkJMB5dFHjiRJbZVBgGBAAh+QQFAAD/ACwAAAAAEAAQAAAIuQD/CRToT9AFDAk2\" + \n            \"DFz47weCBf5iOEgAy8IVhgge+qvgAEoRExY8lBiYESLHBEU2hCzRg4lAjSexgBTZ\" + \n            \"AwWFf1pMTlxYQoghGmE4KYm4kyGKGki6VCGKkuE/GiqicpAAJAKDD05btCDjplMD\" + \n            \"BVUZOIUEoiyJMy8kiLC68MGQB0syPPh3poHaHAycyNDwJcSDKBkEnuhgd21eGV6+\" + \n            \"4HgwaGApwlStfti7IgXDwYV5XJVxxKlAwmA1MwwIACH5BAUAAP8ALAAAAAAQABAA\" + \n            \"AAjVAP8JFPhjgT9BF1wMXPgPQUMIC/yMwOBiA0OBEP5NqnAHgw0sG64M1JLxn5oL\" + \n            \"UhK4+GMCTRwhApX4S/LvTkosJjZY8ABmxj8donQkgcIQESk5M+pQ4EGElRAbFwH1\" + \n            \"QEGhRgMfCnL0ucikaiYkZXwEYrHjYo0nnp5UCdJAAZspF1twmNvihB4xRnIwrJTh\" + \n            \"Rp48IP5loaJgVKQPdjTgGPJgCQgSA++OAcWAyKsVsh7gyfBgYBZMEsa+6aMhRQg8\" + \n            \"kBduQqVgQpMPdPakSHFR4AsjZC0dYRgQACH5BAUAAP8ALAAAAAAQABAAAAjRAP8J\" + \n            \"FFgBAQIdP2wMXPhPCYSHECG0GcaQBi9/GDNirNBuIA8xkjSNuEDywoiTuzYIpKLg\" + \n            \"0RxFCWLGhAIlgaN/D4womNCE0UJHJSzkMpHphQIjwFgw/KcrFBo0hCTUghHBy1JG\" + \n            \"dTx4CNVAAVUiS9cxmTGjRxlfO80spUHDEAoUE17AmLDDysIuYeYwqnHpH8sJDG5p\" + \n            \"CFGJSwsVT7pIEtg1ghkiGnCEWHODDIctWwbOreslxaEHUW40usEwAgMrGlIMipKB\" + \n            \"y5qlAp1o+DKExBeGAQEAIfkEBQAA/wAsAAAAABAAEAAACNcA/wkUqETLPwQIByr8\" + \n            \"xwPQjwUQD+rAsBATHysIYiQZCNHfwBWtFCi4pMjBiH9q/PhLkkBghxdjJtj5Z+Of\" + \n            \"FAwmYzj4xyaIDxEsmih0kQCDUSzw+CiYsGPhP1V/irhIlaXBvwmWnFowtcHElTIv\" + \n            \"jPD44FRIHEIWrvgESnahEDklwMygIoFNEydHFFJAcepTjzr/YEQwQ8QLjgfeOHRB\" + \n            \"QoMCBYFAcryRsQdHCBKNODzZEobDwCmL6KwIcWjJDTIqtiBZaObI6ChcQNxw48ap\" + \n            \"wBVDSGRYs2ZhQAA7\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3893238,"reputation":1341,"user_id":3222918,"accept_rate":20,"display_name":"krezus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514384585,"creation_date":1514381482,"answer_id":47993093,"question_id":13479833,"body_markdown":"This one is also working example code based upon Eclipse article about [SWT][1]. I was trying to make a *slideshow* or *animated gif* ***dialog*** from images located in a folder. posted here because it could be useful for somenone.  \r\n  \r\n  \r\n\r\n    public class GifDialog extends Dialog {\r\n    \r\n    \tShell                    dialog;\r\n    \tprivate Canvas           canvas;\r\n    \tint                      numberImage     = 1;\r\n    \tprivate volatile boolean running         = true;\r\n    \tfinal List&lt;Image&gt;        imageCollection = new ArrayList&lt;Image&gt;();\r\n    \r\n    \tDenemeDialog(Shell parent) {\r\n    \t\tsuper(parent);\r\n    \t}\r\n    \r\n    \tpublic String open() {\r\n    \t\tShell parent = getParent();\r\n    \t\tthis.func();\r\n    \t\tdialog = new Shell(parent, SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL);\r\n    \t\tdialog.setSize(600, 400);\r\n    \t\tdialog.setText(&quot;Show Begins!!!&quot;);\r\n    \r\n    \t\tMonitor primary = dialog.getDisplay().getPrimaryMonitor();\r\n    \t\tRectangle bounds = primary.getBounds();\r\n    \t\tRectangle rect = dialog.getBounds();\r\n    \r\n    \t\tint x = bounds.x + (bounds.width - rect.width) / 2;\r\n    \t\tint y = bounds.y + (bounds.height - rect.height) / 2;\r\n    \r\n    \t\tdialog.setLocation(x, y);\r\n    \r\n    \t\tdialog.setLayout(new FillLayout());\r\n    \t\tfinal Canvas canvas = new Canvas(dialog, SWT.NONE);\r\n    \t\tfinal Image image = new Image(dialog.getDisplay(), imageCollection.get(\r\n    \t\t        0).getImageData());\r\n    \t\tfinal GC gc = new GC(image);\r\n    \t\tcanvas.addPaintListener(new PaintListener() {\r\n    \t\t\tpublic void paintControl(PaintEvent event) {\r\n    \t\t\t\tevent.gc.drawImage(image, 0, 0);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tThread thread = new Thread() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (running) {\r\n    \r\n    \t\t\t\t\tdialog.getDisplay().asyncExec(new Runnable() {\r\n    \t\t\t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\t\tnumberImage = numberImage == imageCollection.size() - 1\r\n    \t\t\t\t\t\t\t        ? 0 : numberImage + 1;\r\n    \t\t\t\t\t\t\tImageData nextFrameData = imageCollection.get(\r\n    \t\t\t\t\t\t\t        numberImage).getImageData();\r\n    \t\t\t\t\t\t\tImage frameImage = new Image(dialog.getDisplay(),\r\n    \t\t\t\t\t\t\t        nextFrameData);\r\n    \t\t\t\t\t\t\tgc.drawImage(frameImage, nextFrameData.x,\r\n    \t\t\t\t\t\t\t        nextFrameData.y);\r\n    \t\t\t\t\t\t\tframeImage.dispose();\r\n    \t\t\t\t\t\t\tcanvas.redraw();\r\n    \t\t\t\t\t\t\tif (numberImage == 0)\r\n    \t\t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\t\trunning = false;\r\n    \t\t\t\t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\tThread.sleep(200);\r\n    \t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t});\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tdialog.open();\r\n    \t\tthread.start();\r\n    \r\n    \t\tDisplay display = parent.getDisplay();\r\n    \t\twhile (!dialog.isDisposed()) {\r\n    \t\t\tif (!display.readAndDispatch())\r\n    \t\t\t\tdisplay.sleep();\r\n    \t\t}\r\n    \t\treturn &quot;After Dialog&quot;;\r\n    \t}\r\n    \r\n    \tpublic void func() {\r\n    \r\n    \t\tFile path = new File(&quot;..\\folder&quot;);\r\n    \r\n    \t\tFile[] files = path.listFiles();\r\n    \t\tfor (int i = 0; i &lt; files.length; i++) {\r\n    \t\t\tif (files[i].isFile()) { // this line weeds out other\r\n    \t\t\t\t// directories/folders\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tImageData imageData = new ImageData(\r\n    \t\t\t\t\t        new ByteArrayInputStream(loadImage(files[i])));\r\n    \t\t\t\t\tfinal Image image = new Image(Display.getDefault(),\r\n    \t\t\t\t\t        imageData);\r\n    \t\t\t\t\timageCollection.add(image);\r\n    \t\t\t\t} catch (IOException e1) {\r\n    \t\t\t\t\te1.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic byte[] loadImage(File file) throws IOException {\r\n    \r\n    \t\tBufferedImage image = ImageIO.read(file);\r\n    \t\tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    \t\tImageIO.write(image, &quot;jpg&quot;, bos);\r\n    \t\treturn bos.toByteArray();\r\n    \t}\r\n    \r\n    \tpublic Canvas getCanvas() {\r\n    \t\treturn canvas;\r\n    \t}\r\n    \r\n    \tpublic void setCanvas(Canvas canvas) {\r\n    \t\tthis.canvas = canvas;\r\n    \t}\r\n\r\n  [1]: http://www.eclipse.org/articles/Article-SWT-images/graphics-resources.html#Animation\r\n","title":"JAVA SWT Animated GIF","body":"<p>This one is also working example code based upon Eclipse article about <a href=\"http://www.eclipse.org/articles/Article-SWT-images/graphics-resources.html#Animation\" rel=\"nofollow noreferrer\">SWT</a>. I was trying to make a <em>slideshow</em> or <em>animated gif</em> <strong><em>dialog</em></strong> from images located in a folder. posted here because it could be useful for somenone.  </p>\n\n<pre><code>public class GifDialog extends Dialog {\n\n    Shell                    dialog;\n    private Canvas           canvas;\n    int                      numberImage     = 1;\n    private volatile boolean running         = true;\n    final List&lt;Image&gt;        imageCollection = new ArrayList&lt;Image&gt;();\n\n    DenemeDialog(Shell parent) {\n        super(parent);\n    }\n\n    public String open() {\n        Shell parent = getParent();\n        this.func();\n        dialog = new Shell(parent, SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL);\n        dialog.setSize(600, 400);\n        dialog.setText(\"Show Begins!!!\");\n\n        Monitor primary = dialog.getDisplay().getPrimaryMonitor();\n        Rectangle bounds = primary.getBounds();\n        Rectangle rect = dialog.getBounds();\n\n        int x = bounds.x + (bounds.width - rect.width) / 2;\n        int y = bounds.y + (bounds.height - rect.height) / 2;\n\n        dialog.setLocation(x, y);\n\n        dialog.setLayout(new FillLayout());\n        final Canvas canvas = new Canvas(dialog, SWT.NONE);\n        final Image image = new Image(dialog.getDisplay(), imageCollection.get(\n                0).getImageData());\n        final GC gc = new GC(image);\n        canvas.addPaintListener(new PaintListener() {\n            public void paintControl(PaintEvent event) {\n                event.gc.drawImage(image, 0, 0);\n            }\n        });\n\n        Thread thread = new Thread() {\n            public void run() {\n                while (running) {\n\n                    dialog.getDisplay().asyncExec(new Runnable() {\n                        public void run() {\n                            numberImage = numberImage == imageCollection.size() - 1\n                                    ? 0 : numberImage + 1;\n                            ImageData nextFrameData = imageCollection.get(\n                                    numberImage).getImageData();\n                            Image frameImage = new Image(dialog.getDisplay(),\n                                    nextFrameData);\n                            gc.drawImage(frameImage, nextFrameData.x,\n                                    nextFrameData.y);\n                            frameImage.dispose();\n                            canvas.redraw();\n                            if (numberImage == 0)\n                                try {\n                                    running = false;\n                                } catch (Exception e) {\n                                    e.printStackTrace();\n                                }\n\n                            try {\n                                Thread.sleep(200);\n                            } catch (InterruptedException e) {\n                                e.printStackTrace();\n                            }\n                        }\n\n                    });\n                }\n            }\n        };\n        dialog.open();\n        thread.start();\n\n        Display display = parent.getDisplay();\n        while (!dialog.isDisposed()) {\n            if (!display.readAndDispatch())\n                display.sleep();\n        }\n        return \"After Dialog\";\n    }\n\n    public void func() {\n\n        File path = new File(\"..\\folder\");\n\n        File[] files = path.listFiles();\n        for (int i = 0; i &lt; files.length; i++) {\n            if (files[i].isFile()) { // this line weeds out other\n                // directories/folders\n                try {\n                    ImageData imageData = new ImageData(\n                            new ByteArrayInputStream(loadImage(files[i])));\n                    final Image image = new Image(Display.getDefault(),\n                            imageData);\n                    imageCollection.add(image);\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                }\n            }\n        }\n\n    }\n\n    public byte[] loadImage(File file) throws IOException {\n\n        BufferedImage image = ImageIO.read(file);\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        ImageIO.write(image, \"jpg\", bos);\n        return bos.toByteArray();\n    }\n\n    public Canvas getCanvas() {\n        return canvas;\n    }\n\n    public void setCanvas(Canvas canvas) {\n        this.canvas = canvas;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3342900,"reputation":428,"user_id":2808752,"display_name":"bhlowe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672177976,"creation_date":1670907572,"answer_id":74780175,"question_id":13479833,"body_markdown":"Note: None of the examples that rely on SWT&#39;s ImageLoader.class will work on GTK Linux SWT, as there is currently a bug that hard-codes the maximum frames to 32 and sets the delay between frames incorrectly. \r\nSee [GTK ImageLoader.java][1]\r\n\r\n```\r\n\t\t\t// Fix the number of GIF frames as GdkPixbufAnimation does not provide an API to\r\n\t\t\t// determine number of frames.\r\n\t\t\tint num_frames = 32;\r\n```\r\n\r\n\r\n\r\n  [1]: https://github.com/eclipse-platform/eclipse.platform.swt/blob/975011388a62584b52141fff2fa5c3d16ff4ec33/bundles/org.eclipse.swt/Eclipse%20SWT/gtk/org/eclipse/swt/graphics/ImageLoader.java","title":"JAVA SWT Animated GIF","body":"<p>Note: None of the examples that rely on SWT's ImageLoader.class will work on GTK Linux SWT, as there is currently a bug that hard-codes the maximum frames to 32 and sets the delay between frames incorrectly.\nSee <a href=\"https://github.com/eclipse-platform/eclipse.platform.swt/blob/975011388a62584b52141fff2fa5c3d16ff4ec33/bundles/org.eclipse.swt/Eclipse%20SWT/gtk/org/eclipse/swt/graphics/ImageLoader.java\" rel=\"nofollow noreferrer\">GTK ImageLoader.java</a></p>\n<pre><code>            // Fix the number of GIF frames as GdkPixbufAnimation does not provide an API to\n            // determine number of frames.\n            int num_frames = 32;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10943369,"reputation":161,"user_id":15228579,"display_name":"goofy4224"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700502016,"creation_date":1700491390,"answer_id":77516748,"question_id":13479833,"body_markdown":"Just posting my solution right here in case anyone stumbles across it:\r\n\r\n```java\r\nimport org.eclipse.swt.SWT;\r\nimport org.eclipse.swt.graphics.GC;\r\nimport org.eclipse.swt.graphics.Image;\r\nimport org.eclipse.swt.graphics.ImageData;\r\nimport org.eclipse.swt.graphics.ImageLoader;\r\nimport org.eclipse.swt.graphics.Point;\r\nimport org.eclipse.swt.widgets.Composite;\r\n\r\nimport java.nio.file.Path;\r\n\r\nfinal class GIFWidget extends Composite {\r\n    GIFWidget(Composite parent, Path gifFilePath) {\r\n        super(parent, SWT.NONE);\r\n        this.gifFilePath = gifFilePath.toAbsolutePath();\r\n    }\r\n\r\n    void show() {\r\n        if (!this.isAnimating) {\r\n            this.isAnimating = true;\r\n            this.startAnimationThread();\r\n        }\r\n    }\r\n\r\n    void hide() {\r\n        this.isAnimating = false;\r\n    }\r\n\r\n    private void startAnimationThread() {\r\n        GC gc = new GC(this);\r\n        Thread animationThread = new Thread(() -&gt; {\r\n            while (this.isAnimating &amp;&amp; !this.isDisposed()) {\r\n                try {\r\n                    this.getDisplay().asyncExec(() -&gt;\r\n                        this.drawNextImage(gc)\r\n                    );\r\n                    int delayTime = this.getCurrentDelayTime();\r\n                    Thread.sleep(delayTime * DELAY_TIME_MULTIPLIER);\r\n                } catch (InterruptedException e) {\r\n                    break;\r\n                }\r\n            }\r\n            if (!this.isDisposed()) {\r\n                this.getDisplay().asyncExec(() -&gt; {\r\n                    this.clearDrawing(gc);\r\n                    gc.dispose();\r\n                });\r\n            }\r\n        });\r\n        animationThread.setDaemon(true);\r\n        animationThread.start();\r\n    }\r\n\r\n    private void drawNextImage(GC gc) {\r\n        ImageLoader imageLoader = this.getImageLoader();\r\n        if (imageLoader.data != null) {\r\n            ImageData imageData = imageLoader.data[this.imageIndex];\r\n            this.drawImage(gc, imageData);\r\n            this.imageIndex = (this.imageIndex + 1) % imageLoader.data.length;\r\n        }\r\n    }\r\n\r\n    private void drawImage(GC gc, ImageData imageData) {\r\n        Image image = new Image(this.getDisplay(), imageData);\r\n        Point size = this.getSize();\r\n        gc.drawImage(image, 0, 0, imageData.width, imageData.height, 0, 0, size.x, size.y);\r\n        image.dispose();\r\n    }\r\n\r\n    private void clearDrawing(GC gc) {\r\n        Point size = this.getSize();\r\n        gc.setBackground(this.getBackground());\r\n        gc.fillRectangle(0, 0, size.x, size.y);\r\n    }\r\n\r\n    private int getCurrentDelayTime() {\r\n        ImageLoader imageLoader = this.getImageLoader();\r\n        if (imageLoader.data != null) {\r\n            return imageLoader.data[this.imageIndex].delayTime;\r\n        } else {\r\n            return DEFAULT_DELAY_TIME;\r\n        }\r\n    }\r\n\r\n    private ImageLoader getImageLoader() {\r\n        if (this.imageLoader == null) {\r\n            this.imageLoader = new ImageLoader();\r\n            this.imageLoader.load(this.gifFilePath.toString());\r\n        }\r\n        return this.imageLoader;\r\n    }\r\n\r\n    private final Path gifFilePath;\r\n    private ImageLoader imageLoader;\r\n    private boolean isAnimating = false;\r\n    private int imageIndex = 0;\r\n\r\n    private static final int DELAY_TIME_MULTIPLIER = 5;\r\n    private static final int DEFAULT_DELAY_TIME = 1;\r\n}\r\n```","title":"JAVA SWT Animated GIF","body":"<p>Just posting my solution right here in case anyone stumbles across it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.swt.SWT;\nimport org.eclipse.swt.graphics.GC;\nimport org.eclipse.swt.graphics.Image;\nimport org.eclipse.swt.graphics.ImageData;\nimport org.eclipse.swt.graphics.ImageLoader;\nimport org.eclipse.swt.graphics.Point;\nimport org.eclipse.swt.widgets.Composite;\n\nimport java.nio.file.Path;\n\nfinal class GIFWidget extends Composite {\n    GIFWidget(Composite parent, Path gifFilePath) {\n        super(parent, SWT.NONE);\n        this.gifFilePath = gifFilePath.toAbsolutePath();\n    }\n\n    void show() {\n        if (!this.isAnimating) {\n            this.isAnimating = true;\n            this.startAnimationThread();\n        }\n    }\n\n    void hide() {\n        this.isAnimating = false;\n    }\n\n    private void startAnimationThread() {\n        GC gc = new GC(this);\n        Thread animationThread = new Thread(() -&gt; {\n            while (this.isAnimating &amp;&amp; !this.isDisposed()) {\n                try {\n                    this.getDisplay().asyncExec(() -&gt;\n                        this.drawNextImage(gc)\n                    );\n                    int delayTime = this.getCurrentDelayTime();\n                    Thread.sleep(delayTime * DELAY_TIME_MULTIPLIER);\n                } catch (InterruptedException e) {\n                    break;\n                }\n            }\n            if (!this.isDisposed()) {\n                this.getDisplay().asyncExec(() -&gt; {\n                    this.clearDrawing(gc);\n                    gc.dispose();\n                });\n            }\n        });\n        animationThread.setDaemon(true);\n        animationThread.start();\n    }\n\n    private void drawNextImage(GC gc) {\n        ImageLoader imageLoader = this.getImageLoader();\n        if (imageLoader.data != null) {\n            ImageData imageData = imageLoader.data[this.imageIndex];\n            this.drawImage(gc, imageData);\n            this.imageIndex = (this.imageIndex + 1) % imageLoader.data.length;\n        }\n    }\n\n    private void drawImage(GC gc, ImageData imageData) {\n        Image image = new Image(this.getDisplay(), imageData);\n        Point size = this.getSize();\n        gc.drawImage(image, 0, 0, imageData.width, imageData.height, 0, 0, size.x, size.y);\n        image.dispose();\n    }\n\n    private void clearDrawing(GC gc) {\n        Point size = this.getSize();\n        gc.setBackground(this.getBackground());\n        gc.fillRectangle(0, 0, size.x, size.y);\n    }\n\n    private int getCurrentDelayTime() {\n        ImageLoader imageLoader = this.getImageLoader();\n        if (imageLoader.data != null) {\n            return imageLoader.data[this.imageIndex].delayTime;\n        } else {\n            return DEFAULT_DELAY_TIME;\n        }\n    }\n\n    private ImageLoader getImageLoader() {\n        if (this.imageLoader == null) {\n            this.imageLoader = new ImageLoader();\n            this.imageLoader.load(this.gifFilePath.toString());\n        }\n        return this.imageLoader;\n    }\n\n    private final Path gifFilePath;\n    private ImageLoader imageLoader;\n    private boolean isAnimating = false;\n    private int imageIndex = 0;\n\n    private static final int DELAY_TIME_MULTIPLIER = 5;\n    private static final int DEFAULT_DELAY_TIME = 1;\n}\n</code></pre>\n"}],"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7516,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1700502016,"creation_date":1353436481,"question_id":13479833,"body_markdown":"I need to add animated gif in form of spinner, into some SWT widget like for example Label. This Label will be as default &lt;code&gt;labelSpiner.setEnabled(false)&lt;/code&gt;. When I start some long duration operation this Label with spinner will show (&lt;code&gt;labelSpinner.setEnabled(true)&lt;/code&gt;)in right corner of window.\r\n\r\nNormaly Image can be added to Label by &lt;code&gt;labelSpinner.setImage(arg0)&lt;/code&gt;\r\n\r\nIf I add this SPINNER.GIF normal way into Label, it wont animate, its only static Image.\r\n\r\nDoes anybody know how to add animated gif (for example some spinner) into SWT based JAVA SE app widget? I browsed many examples but many of them were useless, and those good were too complicated.\r\n\r\nI would like to do it very simple.\r\n\r\nCan somebody help?","title":"JAVA SWT Animated GIF","body":"<p>I need to add animated gif in form of spinner, into some SWT widget like for example Label. This Label will be as default <code>labelSpiner.setEnabled(false)</code>. When I start some long duration operation this Label with spinner will show (<code>labelSpinner.setEnabled(true)</code>)in right corner of window.</p>\n\n<p>Normaly Image can be added to Label by <code>labelSpinner.setImage(arg0)</code></p>\n\n<p>If I add this SPINNER.GIF normal way into Label, it wont animate, its only static Image.</p>\n\n<p>Does anybody know how to add animated gif (for example some spinner) into SWT based JAVA SE app widget? I browsed many examples but many of them were useless, and those good were too complicated.</p>\n\n<p>I would like to do it very simple.</p>\n\n<p>Can somebody help?</p>\n"},{"tags":["java","regex","ipv6","ipv4"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1700212858,"post_id":77500500,"comment_id":136629096,"body_markdown":"See [Regular expression that matches valid IPv6 addresses](https://stackoverflow.com/q/53497/3832970).","body":"See <a href=\"https://stackoverflow.com/q/53497/3832970\">Regular expression that matches valid IPv6 addresses</a>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700213477,"post_id":77500500,"comment_id":136629190,"body_markdown":"Java has a library class that represents an IPv6 address. Use that to parse your String. Much easier and way less bug-prone.","body":"Java has a library class that represents an IPv6 address. Use that to parse your String. Much easier and way less bug-prone."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700214709,"post_id":77500500,"comment_id":136629439,"body_markdown":"@Jorn is right, don&#39;t reinvent the wheel. You can use `InetAddress.getByName(address)`, but then check if the result matches the input. Alternatively, use a library, e.g. https://github.com/seancfoley/IPAddress/ or https://github.com/robtimus/ip-utils/. The latter is mine so I&#39;m obviously biased there ;)","body":"@Jorn is right, don&#39;t reinvent the wheel. You can use <code>InetAddress.getByName(address)</code>, but then check if the result matches the input. Alternatively, use a library, e.g. <a href=\"https://github.com/seancfoley/IPAddress/\" rel=\"nofollow noreferrer\">github.com/seancfoley/IPAddress</a> or <a href=\"https://github.com/robtimus/ip-utils/\" rel=\"nofollow noreferrer\">github.com/robtimus/ip-utils</a>. The latter is mine so I&#39;m obviously biased there ;)"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1700226935,"post_id":77500500,"comment_id":136631580,"body_markdown":"[I have a regular expression](https://stackoverflow.com/a/74503707/3745413) that checks for all valid IPv6 forms: expanded, compressed, mixed (both expanded and compressed).","body":"<a href=\"https://stackoverflow.com/a/74503707/3745413\">I have a regular expression</a> that checks for all valid IPv6 forms: expanded, compressed, mixed (both expanded and compressed)."}],"owner":{"account_id":8132455,"reputation":423,"user_id":6125259,"display_name":"Vinay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":0,"score":-5,"last_activity_date":1700501860,"creation_date":1700212795,"question_id":77500500,"body_markdown":"IPv6 is the most recent version of the Internet Protocol, and IPv6 addresses consist of 128 bits. These 128 bits are represented in 8 groups of 16 bits each, with each group written as four hexadecimal digits separated by colons. An example of this representation is 2001:0db8:0000:0000:0000:ff00:0042:8329.\r\n\r\nFor convenience, IPv6 addresses may be abbreviated using the following rules:\r\n\r\nRemove one or more leading zeros from any groups of hexadecimal digits. This is usually done for all or none of the leading zeros. For example, the group &quot;0042&quot; is converted to &quot;42.&quot;\r\n\r\nReplace consecutive sections of zeros with a double colon (:). The double colon may only be used once in an address; multiple uses would render the address indeterminate.\r\n\r\nConsider the IPv6 address 2001:0db8:0000:0000:0000:ff00:0000:8329. Removing all the leading zeros in each group yields 2001:db8:0:0:0:ff00:0:8329. After omitting the longest consecutive section of zeros, the result is 2001:db8::ff00:0:8329.\r\n\r\nThe address 0000:0000:0000:0000:0000:0000:0000:0001 may be abbreviated to :1 by using both rules.\r\n\r\nI&#39;ve used the following code for validating IPv6 addresses:\r\n\r\n```\r\nprivate static boolean isValidIPv6(String address) {\r\n    // Regular expression pattern for validating IPv6 addresses\r\n    String ipv6Pattern = &quot;^(?:::|^([0-9a-fA-F]{0,4}:){1,7}[0-9a-fA-F]{1,4})$|^::1$|^::0$&quot;;\r\n\r\n    // Validate the address against the IPv6 pattern\r\n    Pattern pattern = Pattern.compile(ipv6Pattern);\r\n    Matcher matcher = pattern.matcher(address);\r\n\r\n    return matcher.matches();\r\n}\r\n```\r\nThis updated regular expression should handle a broader range of valid IPv6 combinations, including cases like **2001:db8::ff00:42:8329**. Please help me fix regex or if some other workaround to handle all ipv6 combinations\r\n","title":"Given a list of strings, determine whether the strings represent valid IPv4,IPv6 or neither address in Java","body":"<p>IPv6 is the most recent version of the Internet Protocol, and IPv6 addresses consist of 128 bits. These 128 bits are represented in 8 groups of 16 bits each, with each group written as four hexadecimal digits separated by colons. An example of this representation is 2001:0db8:0000:0000:0000:ff00:0042:8329.</p>\n<p>For convenience, IPv6 addresses may be abbreviated using the following rules:</p>\n<p>Remove one or more leading zeros from any groups of hexadecimal digits. This is usually done for all or none of the leading zeros. For example, the group &quot;0042&quot; is converted to &quot;42.&quot;</p>\n<p>Replace consecutive sections of zeros with a double colon (:). The double colon may only be used once in an address; multiple uses would render the address indeterminate.</p>\n<p>Consider the IPv6 address 2001:0db8:0000:0000:0000:ff00:0000:8329. Removing all the leading zeros in each group yields 2001:db8:0:0:0:ff00:0:8329. After omitting the longest consecutive section of zeros, the result is 2001:db8::ff00:0:8329.</p>\n<p>The address 0000:0000:0000:0000:0000:0000:0000:0001 may be abbreviated to :1 by using both rules.</p>\n<p>I've used the following code for validating IPv6 addresses:</p>\n<pre><code>private static boolean isValidIPv6(String address) {\n    // Regular expression pattern for validating IPv6 addresses\n    String ipv6Pattern = &quot;^(?:::|^([0-9a-fA-F]{0,4}:){1,7}[0-9a-fA-F]{1,4})$|^::1$|^::0$&quot;;\n\n    // Validate the address against the IPv6 pattern\n    Pattern pattern = Pattern.compile(ipv6Pattern);\n    Matcher matcher = pattern.matcher(address);\n\n    return matcher.matches();\n}\n</code></pre>\n<p>This updated regular expression should handle a broader range of valid IPv6 combinations, including cases like <strong>2001:db8::ff00:42:8329</strong>. Please help me fix regex or if some other workaround to handle all ipv6 combinations</p>\n"},{"tags":["java","youtube-api","youtube-data-api"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700501787,"creation_date":1700501787,"answer_id":77517901,"question_id":77517868,"body_markdown":"The YouTube API is channel based.   When you authorization the App you picked a channel this is the channel you have access to.    If you want to access a different one you need to request authorization of the user again have them pick a different channel","title":"Search list - Query term","body":"<p>The YouTube API is channel based.   When you authorization the App you picked a channel this is the channel you have access to.    If you want to access a different one you need to request authorization of the user again have them pick a different channel</p>\n"}],"owner":{"account_id":17676716,"reputation":1,"user_id":12831529,"display_name":"Raneen Bsais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700501787,"creation_date":1700501359,"question_id":77517868,"body_markdown":"I tried to execute this code to get the Search list:\r\n\r\n```\r\nYouTube.Search.List searchList =youtubeService.search().list(&quot;snippet&quot;);\r\nsearchList.setMaxResults(50);\r\nsearchList.setQ(&quot;channelName&quot;);\r\nsearchList.setType(Collections.singletonList(&quot;channel&quot;));\r\nsearchList.setPageToken(&quot;nextPageToken&quot;);\r\n```\r\n\r\nI tried to set 2 channel names but I get duplicated rows, how i can remove this duplicated in the query?\r\n\r\nset the 2 channels&#39; names for the same page, and get duplicated rows.\r\n\r\nexpected to get correct rows.","title":"Search list - Query term","body":"<p>I tried to execute this code to get the Search list:</p>\n<pre><code>YouTube.Search.List searchList =youtubeService.search().list(&quot;snippet&quot;);\nsearchList.setMaxResults(50);\nsearchList.setQ(&quot;channelName&quot;);\nsearchList.setType(Collections.singletonList(&quot;channel&quot;));\nsearchList.setPageToken(&quot;nextPageToken&quot;);\n</code></pre>\n<p>I tried to set 2 channel names but I get duplicated rows, how i can remove this duplicated in the query?</p>\n<p>set the 2 channels' names for the same page, and get duplicated rows.</p>\n<p>expected to get correct rows.</p>\n"},{"tags":["java","methods","lambda","interface","kotlin"],"comments":[{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1700501764,"post_id":48284994,"comment_id":136659823,"body_markdown":"For future readers, you may also want to look at https://stackoverflow.com/a/58725404/48136","body":"For future readers, you may also want to look at <a href=\"https://stackoverflow.com/a/58725404/48136\">stackoverflow.com/a/58725404/48136</a>"}],"answers":[{"tags":[],"owner":{"account_id":22003,"reputation":2244,"user_id":53923,"accept_rate":60,"display_name":"hudsonb"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516118551,"creation_date":1516118168,"answer_id":48285208,"question_id":48284994,"body_markdown":"You can use an [object expression](https://kotlinlang.org/docs/reference/object-declarations.html)\r\n\r\nSo it would look something like this:\r\n\r\n    val impl = object : AnInterface {\r\n        override fun(doSmth: Any, num: Int) {\r\n            TODO()\r\n        }\r\n    }","title":"Lambda implementation of interface in kotlin","body":"<p>You can use an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">object expression</a></p>\n\n<p>So it would look something like this:</p>\n\n<pre><code>val impl = object : AnInterface {\n    override fun(doSmth: Any, num: Int) {\n        TODO()\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4055813,"reputation":1480,"user_id":3333878,"accept_rate":38,"display_name":"abitcode"},"score":3,"creation_date":1548511264,"post_id":48285220,"comment_id":95571585,"body_markdown":"Why Kotlin interfaces doesn&#39;t have a similar SAM conversion to that of Java? Any way can this AnInterface { inst, num -&gt; } apply to Kotlin interface as well?","body":"Why Kotlin interfaces doesn&#39;t have a similar SAM conversion to that of Java? Any way can this AnInterface { inst, num -&gt; } apply to Kotlin interface as well?"},{"owner":{"account_id":4063891,"reputation":1879,"user_id":3339597,"accept_rate":62,"display_name":"Re&#39;em"},"score":0,"creation_date":1580997393,"post_id":48285220,"comment_id":106288172,"body_markdown":"well you can upvote this issue here:\nhttps://discuss.kotlinlang.org/t/sam-conversion-on-kotlin-interfaces/1433","body":"well you can upvote this issue here: <a href=\"https://discuss.kotlinlang.org/t/sam-conversion-on-kotlin-interfaces/1433\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/sam-conversion-on-kotlin-interfaces&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1620927224,"post_id":48285220,"comment_id":119349959,"body_markdown":"What if I wanted to pass it to a function that takes AnInterface as a parameter. Do I write this?  myFun(object : AnInterface { override fun doSmth(ints:, num: Int) { ... } }) There has to be a better way!","body":"What if I wanted to pass it to a function that takes AnInterface as a parameter. Do I write this?  myFun(object : AnInterface { override fun doSmth(ints:, num: Int) { ... } }) There has to be a better way!"}],"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"comment_count":3,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1700501701,"creation_date":1516118200,"answer_id":48285220,"question_id":48284994,"body_markdown":"If `AnInterface` is Java, it can work with [SAM conversion][1]:\r\n\r\n    val impl = AnInterface { inst, num -&gt; \r\n         //...\r\n    }\r\n\r\nOtherwise, if the interface is Kotlin:\r\n\r\n* Since Kotlin 1.4, it&#39;s possible to write [**functional interfaces**][2] :\r\n\r\n  ```kotlin\r\n  fun interface AnInterface {\r\n       fun doSmth(inst: MyClass, num: Int)\r\n  }\r\n  val impl = AnInterface { inst, num -&gt; ... }\r\n  ```\r\n\r\n* Otherwise, if the interface is not functional\r\n\r\n  ```kotlin\r\n  interface AnInterface {\r\n       fun doSmth(inst: MyClass, num: Int)\r\n  }\r\n  ```\r\n\r\n   you can use the `object` syntax for implementing it anonymously:\r\n\r\n  ```kotlin\r\n  val impl = object : AnInterface {\r\n      override fun doSmth(inst:, num: Int) {\r\n          //...\r\n      }\r\n  }\r\n  ```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47605970/8073652\r\n  [2]: https://kotlinlang.org/docs/fun-interfaces.html#sam-conversions","title":"Lambda implementation of interface in kotlin","body":"<p>If <code>AnInterface</code> is Java, it can work with <a href=\"https://stackoverflow.com/a/47605970/8073652\">SAM conversion</a>:</p>\n<pre><code>val impl = AnInterface { inst, num -&gt; \n     //...\n}\n</code></pre>\n<p>Otherwise, if the interface is Kotlin:</p>\n<ul>\n<li><p>Since Kotlin 1.4, it's possible to write <a href=\"https://kotlinlang.org/docs/fun-interfaces.html#sam-conversions\" rel=\"nofollow noreferrer\"><strong>functional interfaces</strong></a> :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun interface AnInterface {\n     fun doSmth(inst: MyClass, num: Int)\n}\nval impl = AnInterface { inst, num -&gt; ... }\n</code></pre>\n</li>\n<li><p>Otherwise, if the interface is not functional</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface AnInterface {\n     fun doSmth(inst: MyClass, num: Int)\n}\n</code></pre>\n<p>you can use the <code>object</code> syntax for implementing it anonymously:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val impl = object : AnInterface {\n    override fun doSmth(inst:, num: Int) {\n        //...\n    }\n}\n</code></pre>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10692508,"reputation":5229,"user_id":7870874,"accept_rate":70,"display_name":"Sira Lam"},"score":0,"creation_date":1527039381,"post_id":48286559,"comment_id":87970842,"body_markdown":"This is the true answer... the other 2 does not address the lambda implementation. However if I still want to use my own declared interface (for readability reason), does it mean I cannot use lambda?","body":"This is the true answer... the other 2 does not address the lambda implementation. However if I still want to use my own declared interface (for readability reason), does it mean I cannot use lambda?"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":1,"creation_date":1529292738,"post_id":48286559,"comment_id":88804538,"body_markdown":"@SiraLam you can declare a default variable name for a functional type: `val listener: (name: Class, other: OtherClass) -&gt; Unit`","body":"@SiraLam you can declare a default variable name for a functional type: <code>val listener: (name: Class, other: OtherClass) -&gt; Unit</code>"},{"owner":{"account_id":1843009,"reputation":7936,"user_id":1672027,"accept_rate":94,"display_name":"Matt Klein"},"score":2,"creation_date":1531345122,"post_id":48286559,"comment_id":89566571,"body_markdown":"@SiraLam If you want the interface for readability reasons then you&#39;re probably suffering from Primitive Obsession. tl;dr - don&#39;t use primitives as arguments. What does a function with this signature do? `(String) -&gt; String` Without a name, you can&#39;t reason about it. Now, what does a function with this signature do? `(UserId) -&gt; PhoneNumber` - Well, the only reasonable implementation would be something that looks up user data by ID, then pulls out the phone number and returns it. If your functions don&#39;t take primitives then you don&#39;t usually need to wrap them in an interface for readability.","body":"@SiraLam If you want the interface for readability reasons then you&#39;re probably suffering from Primitive Obsession. tl;dr - don&#39;t use primitives as arguments. What does a function with this signature do? <code>(String) -&gt; String</code> Without a name, you can&#39;t reason about it. Now, what does a function with this signature do? <code>(UserId) -&gt; PhoneNumber</code> - Well, the only reasonable implementation would be something that looks up user data by ID, then pulls out the phone number and returns it. If your functions don&#39;t take primitives then you don&#39;t usually need to wrap them in an interface for readability."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1516122966,"creation_date":1516122966,"answer_id":48286559,"question_id":48284994,"body_markdown":"If you&#39;re rewriting both the interface and its implementations to Kotlin, then you should just delete the interface and use a functional type:\r\n\r\n    val impl: (MyClass, Int) -&gt; Unit = { inst, num -&gt; ... }\r\n\r\n","title":"Lambda implementation of interface in kotlin","body":"<p>If you're rewriting both the interface and its implementations to Kotlin, then you should just delete the interface and use a functional type:</p>\n\n<pre><code>val impl: (MyClass, Int) -&gt; Unit = { inst, num -&gt; ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6753742,"reputation":1209,"user_id":5202960,"display_name":"Vinujan.S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664175598,"creation_date":1626190408,"answer_id":68365409,"question_id":48284994,"body_markdown":"you can also do something like this, using `@lambda` label\r\n\r\n```\r\n\r\ninterface AnInterface {\r\n     fun doSmth(inst: MyClass, num: Int)\r\n}\r\n\r\nval impl = AnInterface lambda@{inst, num -&gt;\r\n    //..\r\n}\r\n\r\n```","title":"Lambda implementation of interface in kotlin","body":"<p>you can also do something like this, using <code>@lambda</code> label</p>\n<pre><code>\ninterface AnInterface {\n     fun doSmth(inst: MyClass, num: Int)\n}\n\nval impl = AnInterface lambda@{inst, num -&gt;\n    //..\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9500256,"reputation":983,"user_id":7061661,"display_name":"P&#233;ter Veres"},"score":0,"creation_date":1688254271,"post_id":72395126,"comment_id":135049625,"body_markdown":"Thank you, this should be the selected answer","body":"Thank you, this should be the selected answer"}],"tags":[],"owner":{"account_id":13650655,"reputation":31,"user_id":9848636,"display_name":"Kai Karren"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653582800,"creation_date":1653582800,"answer_id":72395126,"question_id":48284994,"body_markdown":"To anyone who is reading this in 2022, Kotlin now has Functional (SAM) Interfaces. Please see https://kotlinlang.org/docs/fun-interfaces.html \r\n\r\nMaybe it will save others some time depending on your use case.\r\n\r\n","title":"Lambda implementation of interface in kotlin","body":"<p>To anyone who is reading this in 2022, Kotlin now has Functional (SAM) Interfaces. Please see <a href=\"https://kotlinlang.org/docs/fun-interfaces.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/fun-interfaces.html</a></p>\n<p>Maybe it will save others some time depending on your use case.</p>\n"}],"owner":{"account_id":8302973,"reputation":2091,"user_id":6241054,"accept_rate":69,"display_name":"Jocky Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16602,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":48285220,"answer_count":5,"score":35,"last_activity_date":1700501701,"creation_date":1516117498,"question_id":48284994,"body_markdown":"What would be the equivalent of that code in kotlin, nothing seems to work of what I try:\r\n\r\n    public interface AnInterface {\r\n        void doSmth(MyClass inst, int num);\r\n    }\r\n\r\ninit:\r\n\r\n    AnInterface impl = (inst, num) -&gt; {\r\n        //...\r\n    }\r\n\r\n","title":"Lambda implementation of interface in kotlin","body":"<p>What would be the equivalent of that code in kotlin, nothing seems to work of what I try:</p>\n\n<pre><code>public interface AnInterface {\n    void doSmth(MyClass inst, int num);\n}\n</code></pre>\n\n<p>init:</p>\n\n<pre><code>AnInterface impl = (inst, num) -&gt; {\n    //...\n}\n</code></pre>\n"},{"tags":["java","string","loops","stringbuilder"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1652528250,"post_id":72239795,"comment_id":127630824,"body_markdown":"Please [edit] your question to include a more detailed description of &quot;doesn&#39;t quite do what I would like it to do&quot;.","body":"Please <a href=\"https://stackoverflow.com/posts/72239795/edit\">edit</a> your question to include a more detailed description of &quot;doesn&#39;t quite do what I would like it to do&quot;."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1652528596,"post_id":72239795,"comment_id":127630886,"body_markdown":"What is `codes=item.getCodes;` supposed to be? This code can&#39;t be even compiled.","body":"What is <code>codes=item.getCodes;</code> supposed to be? This code can&#39;t be even compiled."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1652528764,"post_id":72239795,"comment_id":127630909,"body_markdown":"Variable names should begin in lowercase, so they don&#39;t get confused with class names, which start in uppercase.","body":"Variable names should begin in lowercase, so they don&#39;t get confused with class names, which start in uppercase."},{"owner":{"account_id":25286517,"reputation":43,"user_id":19113386,"display_name":"Narika"},"score":0,"creation_date":1652528824,"post_id":72239795,"comment_id":127630919,"body_markdown":"@Progman it is supposed to be the get method of the application but I am unsure if I am using it correctly in this sense.","body":"@Progman it is supposed to be the get method of the application but I am unsure if I am using it correctly in this sense."},{"owner":{"account_id":25286517,"reputation":43,"user_id":19113386,"display_name":"Narika"},"score":0,"creation_date":1652528984,"post_id":72239795,"comment_id":127630952,"body_markdown":"@Progman thanks for pointing out the variables, didn&#39;t notice at all that I used upper case :)","body":"@Progman thanks for pointing out the variables, didn&#39;t notice at all that I used upper case :)"},{"owner":{"account_id":8666367,"reputation":9194,"user_id":6486738,"accept_rate":100,"display_name":"Ted Klein Bergman"},"score":1,"creation_date":1652534695,"post_id":72239795,"comment_id":127632056,"body_markdown":"@Narika Stop vandalizing your question. Don&#39;t add `{Solved}` and absolutely don&#39;t remove the code!","body":"@Narika Stop vandalizing your question. Don&#39;t add <code>{Solved}</code> and absolutely don&#39;t remove the code!"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":2,"creation_date":1652536797,"post_id":72239795,"comment_id":127632515,"body_markdown":"I don&#39;t know why this has been marked as duplicate and especially linked to that question. This was clearly a school or a university assignment as OP states &quot;I can only use the methods learnt in my course&quot;. He/she was meant to write the actual code and not using a third party library to do it. Also, regex weren&#39;t even mentioned...","body":"I don&#39;t know why this has been marked as duplicate and especially linked to that question. This was clearly a school or a university assignment as OP states &quot;I can only use the methods learnt in my course&quot;. He/she was meant to write the actual code and not using a third party library to do it. Also, regex weren&#39;t even mentioned..."}],"answers":[{"comments":[{"owner":{"account_id":25286517,"reputation":43,"user_id":19113386,"display_name":"Narika"},"score":1,"creation_date":1652531748,"post_id":72239907,"comment_id":127631475,"body_markdown":"Thank you so much for your help I got my code working using your logic! :)","body":"Thank you so much for your help I got my code working using your logic! :)"}],"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700500338,"creation_date":1652529043,"answer_id":72239907,"question_id":72239795,"body_markdown":"Within your `getCodes` method there are a couple of mistakes. A `StringBuiler` would be more appropriate for this task, instead of using a `StringBuffer` or chaining strings with the `+` operator. As a matter of fact, each time you&#39;re performing a concatenation with the `+` operator you&#39;re creating a new string in memory, rather than working on a same instance, this is not that efficient. Also, when you&#39;re adding an offset to the random value representing an upper case letter, you&#39;re adding the lower case &#39;a&#39;, instead of the upper case &#39;A&#39;.\r\n\r\nIn your program, you could define a static method to offer the code generation service as a general utility and then invoke it within your `getCodes` method.\r\n\r\nIn the utility method, you could declare a `Random` object to get random int values. Then, with a first `for` loop, you could generate random values between 0 included and 10 excluded, and append them to a `StringBuilder` object. The `String` class represents &lt;b&gt;immutable&lt;/b&gt; objects, so you need to use a `StringBuilder` to build one. As said above, chaining strings with the `+` operator will create new instances at each concatenation, you&#39;re not working on the same object.\r\n\r\nThen, with a second `for` loop you could generate random values from 0 to 27 excluded, add to every value the offset 65, representing the upper case &#39;A&#39; letter (lower case &#39;a&#39; has value 97), and then cast this `int` value to a `char` to get its character representation. Finally, append the `char` to your `StringBuilder` instance.\r\n\r\nHere is an implementation:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(getSecurityCode());\r\n    }\r\n\r\n    public String[] getCodes(int[] amount) {\r\n        String[] codes = new String[amount.length];\r\n        for (int i = 0; i &lt; codes.length; i++) {\r\n            codes[i] = getSecurityCode();\r\n        }\r\n        return codes;\r\n    }\r\n\r\n    public static String getSecurityCode() {\r\n        Random rand = new Random();\r\n        StringBuilder strBuilder = new StringBuilder();\r\n\r\n        //Appending 4 random digits\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            //nextInt(10) returns a value between 0 (included) and 10 (excluded)\r\n            strBuilder.append(rand.nextInt(10));\r\n        }\r\n\r\n        //Appending 3 random upper case letters\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            //rand.nextInt(26) returns a random value between 0 and 25 included to represent an alphabet letter.\r\n            //This value is added with the offset 65 which represents the upper case A letter.\r\n            //Finally, this value is cast as a char or else it would append its int value\r\n            strBuilder.append((char)(65 + rand.nextInt(26)));\r\n        }\r\n\r\n        return strBuilder.toString();\r\n    }\r\n}\r\n```","title":"How to create an array of random security codes in Java?","body":"<p>Within your <code>getCodes</code> method there are a couple of mistakes. A <code>StringBuiler</code> would be more appropriate for this task, instead of using a <code>StringBuffer</code> or chaining strings with the <code>+</code> operator. As a matter of fact, each time you're performing a concatenation with the <code>+</code> operator you're creating a new string in memory, rather than working on a same instance, this is not that efficient. Also, when you're adding an offset to the random value representing an upper case letter, you're adding the lower case 'a', instead of the upper case 'A'.</p>\n<p>In your program, you could define a static method to offer the code generation service as a general utility and then invoke it within your <code>getCodes</code> method.</p>\n<p>In the utility method, you could declare a <code>Random</code> object to get random int values. Then, with a first <code>for</code> loop, you could generate random values between 0 included and 10 excluded, and append them to a <code>StringBuilder</code> object. The <code>String</code> class represents <b>immutable</b> objects, so you need to use a <code>StringBuilder</code> to build one. As said above, chaining strings with the <code>+</code> operator will create new instances at each concatenation, you're not working on the same object.</p>\n<p>Then, with a second <code>for</code> loop you could generate random values from 0 to 27 excluded, add to every value the offset 65, representing the upper case 'A' letter (lower case 'a' has value 97), and then cast this <code>int</code> value to a <code>char</code> to get its character representation. Finally, append the <code>char</code> to your <code>StringBuilder</code> instance.</p>\n<p>Here is an implementation:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(getSecurityCode());\n    }\n\n    public String[] getCodes(int[] amount) {\n        String[] codes = new String[amount.length];\n        for (int i = 0; i &lt; codes.length; i++) {\n            codes[i] = getSecurityCode();\n        }\n        return codes;\n    }\n\n    public static String getSecurityCode() {\n        Random rand = new Random();\n        StringBuilder strBuilder = new StringBuilder();\n\n        //Appending 4 random digits\n        for (int i = 0; i &lt; 4; i++) {\n            //nextInt(10) returns a value between 0 (included) and 10 (excluded)\n            strBuilder.append(rand.nextInt(10));\n        }\n\n        //Appending 3 random upper case letters\n        for (int i = 0; i &lt; 3; i++) {\n            //rand.nextInt(26) returns a random value between 0 and 25 included to represent an alphabet letter.\n            //This value is added with the offset 65 which represents the upper case A letter.\n            //Finally, this value is cast as a char or else it would append its int value\n            strBuilder.append((char)(65 + rand.nextInt(26)));\n        }\n\n        return strBuilder.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12058100,"reputation":317,"user_id":8818110,"accept_rate":40,"display_name":"ScorprocS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652530593,"creation_date":1652530041,"answer_id":72240037,"question_id":72239795,"body_markdown":"To simplify your code that generate the password you could use    RandomStringUtils from org.apache.commons.lang3.RandomStringUtils like described in this great tutorial https://www.baeldung.com/java-random-string.\r\nYou just have to generate 2 strings : \r\nOne with 4 digits \r\nOne with 3 letters to uppercase\r\n\r\nAnd concat both.\r\n\r\nHere&#39;s How\r\n\r\n     public static String getSecurityCode() {\r\n    \t//generate 4 numbers only\r\n    \t String generatedNumbers = RandomStringUtils.random(4, false, true);\r\n     \t//generate 3 letters only\r\n    \t String generatedLetters = RandomStringUtils.random(3, true, false).toUpperCase();\r\n    \t \r\n    \t return generatedNumbers + generatedLetters;\r\n    }\r\n\r\nOr with StringBuilder\r\n\r\n    public static String getSecurityCode2() {\r\n        \tStringBuilder stb=new StringBuilder(7);\r\n        \t//generate 4 numbers only\r\n        \tstb.append(RandomStringUtils.random(4, false, true));\r\n         \t//generate 3 letters only\r\n        \tstb.append( RandomStringUtils.random(3, true, false).toUpperCase());\r\n        \t \r\n        \t return stb.toString();\r\n        }","title":"How to create an array of random security codes in Java?","body":"<p>To simplify your code that generate the password you could use    RandomStringUtils from org.apache.commons.lang3.RandomStringUtils like described in this great tutorial <a href=\"https://www.baeldung.com/java-random-string\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-random-string</a>.\nYou just have to generate 2 strings :\nOne with 4 digits\nOne with 3 letters to uppercase</p>\n<p>And concat both.</p>\n<p>Here's How</p>\n<pre><code> public static String getSecurityCode() {\n    //generate 4 numbers only\n     String generatedNumbers = RandomStringUtils.random(4, false, true);\n    //generate 3 letters only\n     String generatedLetters = RandomStringUtils.random(3, true, false).toUpperCase();\n     \n     return generatedNumbers + generatedLetters;\n}\n</code></pre>\n<p>Or with StringBuilder</p>\n<pre><code>public static String getSecurityCode2() {\n        StringBuilder stb=new StringBuilder(7);\n        //generate 4 numbers only\n        stb.append(RandomStringUtils.random(4, false, true));\n        //generate 3 letters only\n        stb.append( RandomStringUtils.random(3, true, false).toUpperCase());\n         \n         return stb.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652530695,"creation_date":1652530695,"answer_id":72240107,"question_id":72239795,"body_markdown":"Another way of doing this is to utilize StringBuilder&#39;s `appendCodePoint` method for this:\r\n\r\n\r\n    int number= random.nextInt(10000);  //generate any number between 0 to 9999\r\n    StringBuilder builder=new StringBuilder();\r\n    for(int i=0;i&lt;3;i++) {\r\n    \t\t\tbuilder.appendCodePoint(65+random.nextInt(26));\r\n    }\r\n    String result=number+builder.toString();\r\n    System.out.println(result);\r\n\r\n","title":"How to create an array of random security codes in Java?","body":"<p>Another way of doing this is to utilize StringBuilder's <code>appendCodePoint</code> method for this:</p>\n<pre><code>int number= random.nextInt(10000);  //generate any number between 0 to 9999\nStringBuilder builder=new StringBuilder();\nfor(int i=0;i&lt;3;i++) {\n            builder.appendCodePoint(65+random.nextInt(26));\n}\nString result=number+builder.toString();\nSystem.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":25286517,"reputation":43,"user_id":19113386,"display_name":"Narika"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1652530724,"accepted_answer_id":72239907,"answer_count":3,"score":1,"last_activity_date":1700500338,"creation_date":1652527983,"question_id":72239795,"body_markdown":"I am trying to write a program that would ask the user how many security codes he wants to generate, then it would output as many codes as he requested in an array.\r\n\r\nThe security code should be 7 characters long and have the following format: NNNNLLL, where N is a random number and L is a random upper case letter.\r\n\r\nThe method should create security codes with the above format by randomly selecting the characters, i.e. numbers and letters. \r\n\r\nI am expecting the program to output something like this if a user selects to generate 4 codes:\r\n \r\n2394QAB\r\n2821TSZ\r\n7173AAY\r\n2236WQA\r\n\r\nI can only use the methods for this code learned in my course and I cannot use other libraries like regex, that is why I am trying it like this.\r\n\r\nThis is the code I have done so far:\r\n\r\n```\r\nimport java.util.Random;\r\npublic class ItemChecker{\r\n\r\n\tprivate StringBuffer strBuff;\r\n\tprivate String[] codes;\r\n\tprivate String CodeLetters, CodeNumbers;\r\n\tprivate int[] RandomNums;\r\n\r\n\tpublic ItemChecker(){\r\n\t\t\tstrBuff=new StringBuffer();\r\n\t}\r\n\r\n\tpublic String[] getCodes(int[] amount){\r\n\t\tcodes=new String[amount.length];\r\n\t\tfor(int i=0;i&lt;amount.length;i++)\r\n\t\t\t{\r\n\t\t\tCodeLetters=&quot;&quot;;\r\n\t\t\tstrBuff=new StringBuffer();\r\n\t\t\t\tfor(int j=0;j&lt;4;j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tRandom RandomNumber=new Random();\r\n\t\t\t\t\t\tint randomIndex=RandomNumber.nextInt(RandomNums.length);\r\n\r\n\t\t\t\t\t\tCodeNumbers.append(RandomNumber[randomIndex]);\r\n\t\t\t\t\t}\r\n\t\t\t\tfor(int j=0;j&lt;3;j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tRandom RandomLetter=new Random();\r\n\t\t\t\t\t\tchar c =(char)(RandomLetter.nextInt(26)+&#39;a&#39;);\r\n\t\t\t\t\t\tCodeLetters+=c;\r\n\t\t\t\t\t}\r\n\t\t\tcodes[i]=CodeNumbers+CodeLetters;\r\n\t\t}\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\nMy intention is to create 4 random digits and 3 random letters and add them together in a string to make the code. However, the code doesn&#39;t generate the random codes and I have no clue how to proceed from here.","title":"How to create an array of random security codes in Java?","body":"<p>I am trying to write a program that would ask the user how many security codes he wants to generate, then it would output as many codes as he requested in an array.</p>\n<p>The security code should be 7 characters long and have the following format: NNNNLLL, where N is a random number and L is a random upper case letter.</p>\n<p>The method should create security codes with the above format by randomly selecting the characters, i.e. numbers and letters.</p>\n<p>I am expecting the program to output something like this if a user selects to generate 4 codes:</p>\n<p>2394QAB\n2821TSZ\n7173AAY\n2236WQA</p>\n<p>I can only use the methods for this code learned in my course and I cannot use other libraries like regex, that is why I am trying it like this.</p>\n<p>This is the code I have done so far:</p>\n<pre><code>import java.util.Random;\npublic class ItemChecker{\n\n    private StringBuffer strBuff;\n    private String[] codes;\n    private String CodeLetters, CodeNumbers;\n    private int[] RandomNums;\n\n    public ItemChecker(){\n            strBuff=new StringBuffer();\n    }\n\n    public String[] getCodes(int[] amount){\n        codes=new String[amount.length];\n        for(int i=0;i&lt;amount.length;i++)\n            {\n            CodeLetters=&quot;&quot;;\n            strBuff=new StringBuffer();\n                for(int j=0;j&lt;4;j++)\n                    {\n                        Random RandomNumber=new Random();\n                        int randomIndex=RandomNumber.nextInt(RandomNums.length);\n\n                        CodeNumbers.append(RandomNumber[randomIndex]);\n                    }\n                for(int j=0;j&lt;3;j++)\n                    {\n                        Random RandomLetter=new Random();\n                        char c =(char)(RandomLetter.nextInt(26)+'a');\n                        CodeLetters+=c;\n                    }\n            codes[i]=CodeNumbers+CodeLetters;\n        }\n    }\n\n\n}\n</code></pre>\n<p>My intention is to create 4 random digits and 3 random letters and add them together in a string to make the code. However, the code doesn't generate the random codes and I have no clue how to proceed from here.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1420483873,"post_id":27784759,"comment_id":43981775,"body_markdown":"Why do you think uninstalling and re-installing m2e will solve anything? Do you have any evidence to suggest that it will?","body":"Why do you think uninstalling and re-installing m2e will solve anything? Do you have any evidence to suggest that it will?"},{"owner":{"account_id":897330,"reputation":4048,"user_id":934307,"accept_rate":80,"display_name":"mystarrocks"},"score":0,"creation_date":1420491335,"post_id":27784759,"comment_id":43985312,"body_markdown":"Once you mess with the bundled plugins (as opposed to the ones you install on top of the eclipse bundle), it&#39;s tough to restore the eclipse to a working point. Why not just download a new bundle and start using the new eclipse?","body":"Once you mess with the bundled plugins (as opposed to the ones you install on top of the eclipse bundle), it&#39;s tough to restore the eclipse to a working point. Why not just download a new bundle and start using the new eclipse?"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1420493457,"post_id":27784759,"comment_id":43986423,"body_markdown":"Just reinstall it without m2e. It usually takes much longer to fix package dependency problems.","body":"Just reinstall it without m2e. It usually takes much longer to fix package dependency problems."},{"owner":{"account_id":5538656,"reputation":9,"user_id":4396102,"display_name":"sampath kumar"},"score":0,"creation_date":1420534415,"post_id":27784759,"comment_id":43999138,"body_markdown":"@E-Riz...becoz pom.xml file problem.","body":"@E-Riz...becoz pom.xml file problem."},{"owner":{"account_id":5538656,"reputation":9,"user_id":4396102,"display_name":"sampath kumar"},"score":0,"creation_date":1420534454,"post_id":27784759,"comment_id":43999150,"body_markdown":"@mystarrocks..yes.i downloaded and used new eclipse there is also same problem occured.","body":"@mystarrocks..yes.i downloaded and used new eclipse there is also same problem occured."},{"owner":{"account_id":5538656,"reputation":9,"user_id":4396102,"display_name":"sampath kumar"},"score":0,"creation_date":1420534477,"post_id":27784759,"comment_id":43999157,"body_markdown":"@eckes....how can install without m2e?becz i tried as removed m2es from plugins and features folder again i got same problem.","body":"@eckes....how can install without m2e?becz i tried as removed m2es from plugins and features folder again i got same problem."}],"answers":[{"comments":[{"owner":{"account_id":5538656,"reputation":9,"user_id":4396102,"display_name":"sampath kumar"},"score":1,"creation_date":1420533851,"post_id":27785229,"comment_id":43998915,"body_markdown":"hi vikram, But there is no Maven in my Preferences List.Is any another way????????","body":"hi vikram, But there is no Maven in my Preferences List.Is any another way????????"}],"tags":[],"owner":{"account_id":5578372,"reputation":1,"user_id":4421087,"display_name":"Vikramcs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420481048,"creation_date":1420481048,"answer_id":27785229,"question_id":27784759,"body_markdown":"You can try below appraoch \r\n\r\nGo To Windows-&gt;Prefrences-Maven-&gt;Installations\r\n\r\nIt will show all the installed Mavens , select the one which you want to remove. ","title":"How do remove maven from eclipse?","body":"<p>You can try below appraoch </p>\n\n<p>Go To Windows->Prefrences-Maven->Installations</p>\n\n<p>It will show all the installed Mavens , select the one which you want to remove. </p>\n"}],"owner":{"account_id":5538656,"reputation":9,"user_id":4396102,"display_name":"sampath kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10598,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700500070,"creation_date":1420479164,"question_id":27784759,"body_markdown":"Maven plugin is not working perfectly,so I want to re-install in my eclipse. How do I remove Maven from eclipse?\r\n\r\nWhen I am uninstalling 2 types but getting problems\r\n\r\n1) eclipse market place--&gt; Maven integration for eclipse luna(1.5.0)\r\ngetting msg\r\n\r\n    ---------------------------------------------------------------------------------------------\r\n    &quot;m2e-wtp - Maven Integration for WTP&quot; cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.\r\n\r\nand\r\n \r\n2) Help &gt; about eclipse &gt; installation details &gt; installed software\r\n\r\nUnder Eclipse ide for j2ee devlopers\r\n\r\nThere are 6 `m2e` avilable, but uninstall button is not enabled.\r\n\r\nSo how can I remove and re-install correctly?\r\nThanks.","title":"How do remove maven from eclipse?","body":"<p>Maven plugin is not working perfectly,so I want to re-install in my eclipse. How do I remove Maven from eclipse?</p>\n\n<p>When I am uninstalling 2 types but getting problems</p>\n\n<p>1) eclipse market place--> Maven integration for eclipse luna(1.5.0)\ngetting msg</p>\n\n<pre><code>---------------------------------------------------------------------------------------------\n\"m2e-wtp - Maven Integration for WTP\" cannot be fully uninstalled because other installed software requires it.  The parts that are not required will be uninstalled.\n</code></pre>\n\n<p>and</p>\n\n<p>2) Help > about eclipse > installation details > installed software</p>\n\n<p>Under Eclipse ide for j2ee devlopers</p>\n\n<p>There are 6 <code>m2e</code> avilable, but uninstall button is not enabled.</p>\n\n<p>So how can I remove and re-install correctly?\nThanks.</p>\n"},{"tags":["java","parsing","compiler-construction","antlr4","antlr3"],"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1700493768,"post_id":77516319,"comment_id":136658192,"body_markdown":"Please edit your post and add a smallest possible example that demonstrates your problem.","body":"Please edit your post and add a smallest possible example that demonstrates your problem."},{"owner":{"account_id":27076036,"reputation":5,"user_id":20625963,"display_name":"Cian Sullivan"},"score":0,"creation_date":1700494193,"post_id":77516319,"comment_id":136658270,"body_markdown":"My apologies, I have updated the post to do so.","body":"My apologies, I have updated the post to do so."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1700494781,"post_id":77516319,"comment_id":136658404,"body_markdown":"No, that is not enough. You should add enough code to your question so that other are able to reproduce the error you mention in your question by copy and pasting your code. That is now not possible. For reference: https://stackoverflow.com/help/minimal-reproducible-example","body":"No, that is not enough. You should add enough code to your question so that other are able to reproduce the error you mention in your question by copy and pasting your code. That is now not possible. For reference: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1700494874,"post_id":77516319,"comment_id":136658424,"body_markdown":"And also include how you are generating the lexer and parser classes. Seeing from your other question you&#39;re on MacOS, `;.;` is wrong: `;` is a Windows  separator, Mac and Linux use `:`","body":"And also include how you are generating the lexer and parser classes. Seeing from your other question you&#39;re on MacOS, <code>;.;</code> is wrong: <code>;</code> is a Windows  separator, Mac and Linux use <code>:</code>"}],"answers":[{"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700499610,"creation_date":1700499610,"answer_id":77517693,"question_id":77516319,"body_markdown":"Without all your code, then I&#39;m goin to pick up on what Bart Kiers said -- class path.\r\n\r\nThe second class path you listed won&#39;t work because that will give you Antler, but that won&#39;t provide your local classes. The first one is wrong because that&#39;s windows style.\r\n\r\n```\r\nexport CLASSPATH=&quot;.:/Users/ciansullivan/Documents/DCU-Coursework/CA4003/Antlr/lib/antlr-4.13.1-complete.jar&quot;\r\n```\r\n\r\nTry this, assuming you&#39;ve compiled locally. If you have a jar file produced, then replace that . with a path to the jar. \r\n\r\nIt might fix your runtime problem. Also, most people would move the Antlr lib into /usr/local/lib, but that&#39;s a side point.\r\n\r\n\r\n","title":"ANTLR4 Visitor Method cannot find symbol Error in Java","body":"<p>Without all your code, then I'm goin to pick up on what Bart Kiers said -- class path.</p>\n<p>The second class path you listed won't work because that will give you Antler, but that won't provide your local classes. The first one is wrong because that's windows style.</p>\n<pre><code>export CLASSPATH=&quot;.:/Users/ciansullivan/Documents/DCU-Coursework/CA4003/Antlr/lib/antlr-4.13.1-complete.jar&quot;\n</code></pre>\n<p>Try this, assuming you've compiled locally. If you have a jar file produced, then replace that . with a path to the jar.</p>\n<p>It might fix your runtime problem. Also, most people would move the Antlr lib into /usr/local/lib, but that's a side point.</p>\n"}],"owner":{"account_id":27076036,"reputation":5,"user_id":20625963,"display_name":"Cian Sullivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1700499610,"creation_date":1700487422,"question_id":77516319,"body_markdown":"I&#39;m working with ANTLR4 in Java to create a custom language parser. I&#39;ve generated my lexer and parser using a grammar file (CCAL.g4), and I&#39;m implementing a visitor class (EvalVisitor) extending CCALBaseVisitor. However, I&#39;m encountering a cannot find symbol error related to the visit method in my EvalVisitor class. The error is as follows:\r\n\r\n```\r\ncannot find symbol\r\n  symbol:   method visit(CCALParser.ExpressionContext)\r\n  location: class EvalVisitor\r\n```\r\n\r\nHere&#39;s a simplified version of my grammar file (CCAL.g4):\r\n\r\n```\r\nmain : MAIN LBRACE decl_list statement_block RBRACE ;\r\n\r\nstatement_block : (statement)* ;\r\n\r\nstatement : ID ASSIGN expression SEMI                      #AssignStm\r\n           | ID LPAREN arg_list RPAREN SEMI                #FunctionCallStm\r\n           | LBRACE statement_block RBRACE                 #BlockStm\r\n           | IF condition LBRACE statement_block RBRACE \r\n             ELSE LBRACE statement_block RBRACE            #IfElseStm\r\n           | WHILE condition LBRACE statement_block RBRACE #WhileStm\r\n           | SKIP_STATEMENT SEMI                           #SkipStm\r\n           ;\r\n\r\nexpression : expression_fragment binary_arith_op expression_fragment #AddMinusOp\r\n           | LPAREN expression RPAREN                       #Parens\r\n           | ID LPAREN arg_list RPAREN                      #FunctionCallOp\r\n           | expression_fragment                            #ExpressFrag\r\n           ;\r\n\r\nbinary_arith_op : PLUS | MINUS ;\r\n\r\nexpression_fragment \r\n    : ID                                          #ID\r\n    | MINUS ID                                    #NegatedVariable\r\n    | NUMBER                                      #NumberLiteral\r\n    | TRUE                                        #TrueLiteral\r\n    | FALSE                                       #FalseLiteral\r\n    | LPAREN expression RPAREN                    #NestedExpression\r\n    ;\r\n```\r\n\r\nAnd here&#39;s the relevant part of my EvalVisitor class:\r\n\r\n```java\r\npublic class EvalVisitor extends CCALBaseVisitor&lt;Object&gt; {\r\n    // ... [Other methods]\r\n\r\n    @Override\r\n    public Object visitAssignStm(CCALParser.AssignStmContext ctx) {\r\n        String id = ctx.ID().getText();\r\n        Object value = visit(ctx.expression());\r\n        // ... [Rest of the method]\r\n    }\r\n\r\n    // ... [\r\n}\r\n```\r\n\r\nI&#39;m unsure why I&#39;m receiving this error since I&#39;m following the usual pattern of overriding visitor methods. Any insight into what might be causing this issue and how to resolve it would be greatly appreciated.\r\n\r\nI have also tried adding antlr4 to my Classpath as I assume the error lies in antlr not working properly, here is my ~/.zshrc:\r\n\r\n\r\n    export CLASSPATH=&quot;/Users/ciansullivan/Documents/DCU-Coursework/CA4003/Antlr/lib/antlr-4.13.1-complete.jar;.;&quot;\r\n    \r\n    export PATH=&quot;$PATH:$HOME/scripts&quot;\r\n\r\n\r\nI can verify antlr is in the correct directory.\r\n\r\nI have also tried using the following class path with no luck:\r\n\r\n    export CLASSPATH=&quot;/Users/ciansullivan/Documents/DCU-Coursework/CA4003/Antlr/lib/antlr-4.13.1-complete.jar&quot;\r\n\r\n\r\n\r\n\r\nI have tried what is shown above.","title":"ANTLR4 Visitor Method cannot find symbol Error in Java","body":"<p>I'm working with ANTLR4 in Java to create a custom language parser. I've generated my lexer and parser using a grammar file (CCAL.g4), and I'm implementing a visitor class (EvalVisitor) extending CCALBaseVisitor. However, I'm encountering a cannot find symbol error related to the visit method in my EvalVisitor class. The error is as follows:</p>\n<pre><code>cannot find symbol\n  symbol:   method visit(CCALParser.ExpressionContext)\n  location: class EvalVisitor\n</code></pre>\n<p>Here's a simplified version of my grammar file (CCAL.g4):</p>\n<pre><code>main : MAIN LBRACE decl_list statement_block RBRACE ;\n\nstatement_block : (statement)* ;\n\nstatement : ID ASSIGN expression SEMI                      #AssignStm\n           | ID LPAREN arg_list RPAREN SEMI                #FunctionCallStm\n           | LBRACE statement_block RBRACE                 #BlockStm\n           | IF condition LBRACE statement_block RBRACE \n             ELSE LBRACE statement_block RBRACE            #IfElseStm\n           | WHILE condition LBRACE statement_block RBRACE #WhileStm\n           | SKIP_STATEMENT SEMI                           #SkipStm\n           ;\n\nexpression : expression_fragment binary_arith_op expression_fragment #AddMinusOp\n           | LPAREN expression RPAREN                       #Parens\n           | ID LPAREN arg_list RPAREN                      #FunctionCallOp\n           | expression_fragment                            #ExpressFrag\n           ;\n\nbinary_arith_op : PLUS | MINUS ;\n\nexpression_fragment \n    : ID                                          #ID\n    | MINUS ID                                    #NegatedVariable\n    | NUMBER                                      #NumberLiteral\n    | TRUE                                        #TrueLiteral\n    | FALSE                                       #FalseLiteral\n    | LPAREN expression RPAREN                    #NestedExpression\n    ;\n</code></pre>\n<p>And here's the relevant part of my EvalVisitor class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EvalVisitor extends CCALBaseVisitor&lt;Object&gt; {\n    // ... [Other methods]\n\n    @Override\n    public Object visitAssignStm(CCALParser.AssignStmContext ctx) {\n        String id = ctx.ID().getText();\n        Object value = visit(ctx.expression());\n        // ... [Rest of the method]\n    }\n\n    // ... [\n}\n</code></pre>\n<p>I'm unsure why I'm receiving this error since I'm following the usual pattern of overriding visitor methods. Any insight into what might be causing this issue and how to resolve it would be greatly appreciated.</p>\n<p>I have also tried adding antlr4 to my Classpath as I assume the error lies in antlr not working properly, here is my ~/.zshrc:</p>\n<pre><code>export CLASSPATH=&quot;/Users/ciansullivan/Documents/DCU-Coursework/CA4003/Antlr/lib/antlr-4.13.1-complete.jar;.;&quot;\n\nexport PATH=&quot;$PATH:$HOME/scripts&quot;\n</code></pre>\n<p>I can verify antlr is in the correct directory.</p>\n<p>I have also tried using the following class path with no luck:</p>\n<pre><code>export CLASSPATH=&quot;/Users/ciansullivan/Documents/DCU-Coursework/CA4003/Antlr/lib/antlr-4.13.1-complete.jar&quot;\n</code></pre>\n<p>I have tried what is shown above.</p>\n"},{"tags":["java","discord","discord4j"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700498539,"post_id":77517582,"comment_id":136659133,"body_markdown":"I guess you need to add the `MESSAGE_CONTENT` gateway intent","body":"I guess you need to add the <code>MESSAGE_CONTENT</code> gateway intent"}],"owner":{"account_id":29949653,"reputation":1,"user_id":22952084,"display_name":"Dust019"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700499011,"answer_count":0,"score":0,"last_activity_date":1700498583,"creation_date":1700498466,"question_id":77517582,"body_markdown":"I&#39;m currently trying to code my first Discord bot (a simple ping-pong bot). I am using discord4j, Maven and Java in IntelliJ Idea (I already have a bit of experience in Java, so I chose that). I&#39;m only trying stuff out and don&#39;t need the bot to be online 24/7, so I am locally hosting it on my computer (and that is also the reason why I didn&#39;t bother with a proper profile picture for the bot).\r\n\r\nThe bot mostly works, however it seems like it can&#39;t properly detect the content of the received message. It always receives an empty string (not null, no whitespaces and no other characters). The length of the string it receives is also always `0`. It can detect that a message was sent and also respond within Discord if that is the case. Even if I write &quot;!ping&quot;, it treats it like any other message.\r\n\r\nI used [this guide](https://docs.discord4j.com/basic-bot-tutorial/)\r\n\r\nCode (Of course, I replaced `TOKEN` with my bot token):\r\n```java\r\nimport discord4j.core.DiscordClient;\r\nimport discord4j.core.GatewayDiscordClient;\r\nimport discord4j.core.event.domain.lifecycle.ReadyEvent;\r\nimport discord4j.core.event.domain.message.MessageCreateEvent;\r\nimport discord4j.core.object.entity.Message;\r\nimport discord4j.core.object.entity.User;\r\nimport reactor.core.publisher.Mono;\r\n\r\npublic class pingPongBot {\r\n    public static void main(String[] args) {\r\n        DiscordClient client = DiscordClient.create(&quot;TOKEN&quot;);\r\n\r\n        Mono&lt;Void&gt; login = client.withGateway((GatewayDiscordClient gateway) -&gt; {\r\n            // ReadyEvent example\r\n            Mono&lt;Void&gt; printOnLogin = gateway.on(ReadyEvent.class, event -&gt;\r\n                Mono.fromRunnable(() -&gt; {\r\n                    final User self = event.getSelf();\r\n                    System.out.printf(&quot;Logged in as %s#%s%n&quot;, self.getUsername(), self.getDiscriminator());\r\n                }))\r\n                .then();\r\n\r\n            // MessageCreateEvent example\r\n            Mono&lt;Void&gt; pingCommand = gateway.on(MessageCreateEvent.class, event -&gt; {\r\n                Message message = event.getMessage();\r\n                \r\n                // Debug code\r\n                if(message.getContent().equalsIgnoreCase(&quot;&quot;)) {\r\n                    System.out.println(&quot;Message received: &quot; + message.getContent());\r\n                    System.out.println(&quot;Length of message received:&quot; + message.getContent().length());\r\n                    return message.getChannel().flatMap(channel -&gt;\r\n                            channel.createMessage(&quot;Message received: &quot; + message.getContent()));\r\n                }\r\n                // Debug code end\r\n\r\n                if(message.getContent().equalsIgnoreCase(&quot;!ping&quot;)) {\r\n                    return message.getChannel().flatMap(channel -&gt; channel.createMessage(&quot;Pong!&quot;));\r\n                }\r\n\r\n                return Mono.empty();\r\n            }).then();\r\n\r\n            // combine them!\r\n            return printOnLogin.and(pingCommand);\r\n        });\r\n\r\n        login.block();\r\n    }\r\n}\r\n```\r\n\r\n[Example of sending both a random message and &quot;!ping&quot; in Discord as well as the output shown on the console](https://imgur.com/a/kAuPWbx)\r\n\r\nI know I can use slash commands as well, but I want to try it this way first (unless I literally can&#39;t fix what is going wrong).\r\n\r\nEnglish isn&#39;t my first language and this is my first time using stackoverflow, so please excuse any spelling-/ formatting mistakes.\r\nThanks for any help in advance.","title":"Discord bot can&#39;t properly read message content","body":"<p>I'm currently trying to code my first Discord bot (a simple ping-pong bot). I am using discord4j, Maven and Java in IntelliJ Idea (I already have a bit of experience in Java, so I chose that). I'm only trying stuff out and don't need the bot to be online 24/7, so I am locally hosting it on my computer (and that is also the reason why I didn't bother with a proper profile picture for the bot).</p>\n<p>The bot mostly works, however it seems like it can't properly detect the content of the received message. It always receives an empty string (not null, no whitespaces and no other characters). The length of the string it receives is also always <code>0</code>. It can detect that a message was sent and also respond within Discord if that is the case. Even if I write &quot;!ping&quot;, it treats it like any other message.</p>\n<p>I used <a href=\"https://docs.discord4j.com/basic-bot-tutorial/\" rel=\"nofollow noreferrer\">this guide</a></p>\n<p>Code (Of course, I replaced <code>TOKEN</code> with my bot token):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import discord4j.core.DiscordClient;\nimport discord4j.core.GatewayDiscordClient;\nimport discord4j.core.event.domain.lifecycle.ReadyEvent;\nimport discord4j.core.event.domain.message.MessageCreateEvent;\nimport discord4j.core.object.entity.Message;\nimport discord4j.core.object.entity.User;\nimport reactor.core.publisher.Mono;\n\npublic class pingPongBot {\n    public static void main(String[] args) {\n        DiscordClient client = DiscordClient.create(&quot;TOKEN&quot;);\n\n        Mono&lt;Void&gt; login = client.withGateway((GatewayDiscordClient gateway) -&gt; {\n            // ReadyEvent example\n            Mono&lt;Void&gt; printOnLogin = gateway.on(ReadyEvent.class, event -&gt;\n                Mono.fromRunnable(() -&gt; {\n                    final User self = event.getSelf();\n                    System.out.printf(&quot;Logged in as %s#%s%n&quot;, self.getUsername(), self.getDiscriminator());\n                }))\n                .then();\n\n            // MessageCreateEvent example\n            Mono&lt;Void&gt; pingCommand = gateway.on(MessageCreateEvent.class, event -&gt; {\n                Message message = event.getMessage();\n                \n                // Debug code\n                if(message.getContent().equalsIgnoreCase(&quot;&quot;)) {\n                    System.out.println(&quot;Message received: &quot; + message.getContent());\n                    System.out.println(&quot;Length of message received:&quot; + message.getContent().length());\n                    return message.getChannel().flatMap(channel -&gt;\n                            channel.createMessage(&quot;Message received: &quot; + message.getContent()));\n                }\n                // Debug code end\n\n                if(message.getContent().equalsIgnoreCase(&quot;!ping&quot;)) {\n                    return message.getChannel().flatMap(channel -&gt; channel.createMessage(&quot;Pong!&quot;));\n                }\n\n                return Mono.empty();\n            }).then();\n\n            // combine them!\n            return printOnLogin.and(pingCommand);\n        });\n\n        login.block();\n    }\n}\n</code></pre>\n<p><a href=\"https://imgur.com/a/kAuPWbx\" rel=\"nofollow noreferrer\">Example of sending both a random message and &quot;!ping&quot; in Discord as well as the output shown on the console</a></p>\n<p>I know I can use slash commands as well, but I want to try it this way first (unless I literally can't fix what is going wrong).</p>\n<p>English isn't my first language and this is my first time using stackoverflow, so please excuse any spelling-/ formatting mistakes.\nThanks for any help in advance.</p>\n"},{"tags":["java","centos7","java-11","amazon-linux-2023"],"comments":[{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1694466569,"post_id":77084761,"comment_id":135892079,"body_markdown":"What&#39;s the problem with installing 11.0.20+9-1.amzn2023? It is of course Java11 and considering security threats in the future, we can always expect newer minor versions of it. This is a normal process.","body":"What&#39;s the problem with installing 11.0.20+9-1.amzn2023? It is of course Java11 and considering security threats in the future, we can always expect newer minor versions of it. This is a normal process."},{"owner":{"account_id":4223201,"reputation":119,"user_id":3457453,"display_name":"jpadams"},"score":0,"creation_date":1694467235,"post_id":77084761,"comment_id":135892154,"body_markdown":"I don&#39;t know what problems may arise from changing Java distribution but given that I&#39;m already changing to Amazon Linux 2023, I&#39;d like to minimize the changes I am making. After validating that my app performs consistently on the new operating system, then I can consider changing Java. That said, there&#39;s no business need to change java distribution whereas Centos7 is reaching EOL which isn&#39;t acceptable.","body":"I don&#39;t know what problems may arise from changing Java distribution but given that I&#39;m already changing to Amazon Linux 2023, I&#39;d like to minimize the changes I am making. After validating that my app performs consistently on the new operating system, then I can consider changing Java. That said, there&#39;s no business need to change java distribution whereas Centos7 is reaching EOL which isn&#39;t acceptable."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694468789,"post_id":77084761,"comment_id":135892354,"body_markdown":"The changes for Corretto are fairly minimal and are partly around just making sure that OpenJDK works nicely with Amazon Linux(s). It&#39;s natural to be cautious, but look at the changes yourself to see if there&#39;s anything scary: [Change Log for Amazon Corretto 11](https://github.com/corretto/corretto-11/blob/develop/CHANGELOG.md).","body":"The changes for Corretto are fairly minimal and are partly around just making sure that OpenJDK works nicely with Amazon Linux(s). It&#39;s natural to be cautious, but look at the changes yourself to see if there&#39;s anything scary: <a href=\"https://github.com/corretto/corretto-11/blob/develop/CHANGELOG.md\" rel=\"nofollow noreferrer\">Change Log for Amazon Corretto 11</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1694496599,"post_id":77084761,"comment_id":135894535,"body_markdown":"No such thing as &quot;OpenJDK&quot; that you can install, no such thing as &quot;Java 11 openjdk&quot;. [*OpenJDK*](https://en.wikipedia.org/wiki/OpenJDK) is an open-source project providing an implementation of the Java specification, but this project produces only source code, not binaries/installers. Several vendors provide JDK binaries/installers, and most of these are built largely upon the codebase provided by OpenJDK. These vendors include Azul Systems, Adoptium, Amazon, Microsoft, SAP, IBM, Red Hat, BellSoft, and more. ","body":"No such thing as &quot;OpenJDK&quot; that you can install, no such thing as &quot;Java 11 openjdk&quot;. <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\"><i>OpenJDK</i></a> is an open-source project providing an implementation of the Java specification, but this project produces only source code, not binaries/installers. Several vendors provide JDK binaries/installers, and most of these are built largely upon the codebase provided by OpenJDK. These vendors include Azul Systems, Adoptium, Amazon, Microsoft, SAP, IBM, Red Hat, BellSoft, and more. "},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694496684,"post_id":77084761,"comment_id":135894545,"body_markdown":"  *Corretto* is the JDK product from Amazon, built entirely from the OpenJDK source code except for occasional changes by Amazon staff that they then donate back to the OpenJDK project.","body":"  <i>Corretto</i> is the JDK product from Amazon, built entirely from the OpenJDK source code except for occasional changes by Amazon staff that they then donate back to the OpenJDK project."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694496870,"post_id":77084761,"comment_id":135894561,"body_markdown":"Regarding &quot;errantly using Oracle java instead of OpenJDK&quot; &#160;For multiple years now, Oracle has based their *Oracle JDK* product directly on the OpenJDK source code, just as Amazon does with *Corretto*. Like Amazon, Oracle reserve the right to to make urgent fixes as needed for paying customers, and later donate those back to the OpenJDK codebase.","body":"Regarding &quot;errantly using Oracle java instead of OpenJDK&quot;  For multiple years now, Oracle has based their <i>Oracle JDK</i> product directly on the OpenJDK source code, just as Amazon does with <i>Corretto</i>. Like Amazon, Oracle reserve the right to to make urgent fixes as needed for paying customers, and later donate those back to the OpenJDK codebase."},{"owner":{"account_id":4223201,"reputation":119,"user_id":3457453,"display_name":"jpadams"},"score":0,"creation_date":1694563165,"post_id":77084761,"comment_id":135906881,"body_markdown":"Okay, I think I&#39;m starting to get it. What I was thought was the &#39;openjdk&#39; distribution of Java in centos7 was actually just the one bundled with the operating system, which was most likely maintained by Redhat/Centos in a similar fashion to oracle-jdk or corretto-jdk (i.e. a layer on top of openjdk). The package in question was `java-11-openjdk-devel`, and my confusion comes partly from the nondescript package name.","body":"Okay, I think I&#39;m starting to get it. What I was thought was the &#39;openjdk&#39; distribution of Java in centos7 was actually just the one bundled with the operating system, which was most likely maintained by Redhat/Centos in a similar fashion to oracle-jdk or corretto-jdk (i.e. a layer on top of openjdk). The package in question was <code>java-11-openjdk-devel</code>, and my confusion comes partly from the nondescript package name."}],"answers":[{"tags":[],"owner":{"account_id":1680214,"reputation":127,"user_id":1544626,"display_name":"Lynax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700498253,"creation_date":1700498253,"answer_id":77517552,"question_id":77084761,"body_markdown":"Corretto *is* a build of OpenJDK. OpenJDK is source code that can be compiled into binaries by anyone. So if you want to install OpenJDK in Amazon Linux 2023, Corretto is a good choice.\r\n\r\nActually, Corretto identifies itself as OpenJDK:\r\n\r\n    $ sudo dnf install java-21-amazon-corretto\r\n    ...\r\n    $ java --version\r\n    openjdk 21.0.1 2023-10-17 LTS\r\n    OpenJDK Runtime Environment Corretto-21.0.1.12.1 (build 21.0.1+12-LTS)\r\n    OpenJDK 64-Bit Server VM Corretto-21.0.1.12.1 (build 21.0.1+12-LTS, mixed mode, sharing)\r\n\r\nSee also: https://docs.aws.amazon.com/linux/al2023/ug/java.html\r\n&gt; Corretto is a build of the Open Java Development Kit (OpenJDK) with long-term support from Amazon.\r\n\r\n---\r\n\r\nHistorically, AL 2023 has provided extra OpenJDK packages, but they have been removed with release 2022.0.20220810:\r\n&gt; In this release, we have removed the remaining openjdk packages, as we have shifted Amazon Linux 2022 to use Amazon Corretto as the JVM in the distribution.\r\n* https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2022.0.20220810.html\r\n\r\n----\r\n\r\n(The comments on the questions already contain lots of helpful information. Adding this answer anyway as a summary with references for future visitors.)","title":"Is there a way to install OpenJDK Java in Amazon Linux 2023?","body":"<p>Corretto <em>is</em> a build of OpenJDK. OpenJDK is source code that can be compiled into binaries by anyone. So if you want to install OpenJDK in Amazon Linux 2023, Corretto is a good choice.</p>\n<p>Actually, Corretto identifies itself as OpenJDK:</p>\n<pre><code>$ sudo dnf install java-21-amazon-corretto\n...\n$ java --version\nopenjdk 21.0.1 2023-10-17 LTS\nOpenJDK Runtime Environment Corretto-21.0.1.12.1 (build 21.0.1+12-LTS)\nOpenJDK 64-Bit Server VM Corretto-21.0.1.12.1 (build 21.0.1+12-LTS, mixed mode, sharing)\n</code></pre>\n<p>See also: <a href=\"https://docs.aws.amazon.com/linux/al2023/ug/java.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/linux/al2023/ug/java.html</a></p>\n<blockquote>\n<p>Corretto is a build of the Open Java Development Kit (OpenJDK) with long-term support from Amazon.</p>\n</blockquote>\n<hr />\n<p>Historically, AL 2023 has provided extra OpenJDK packages, but they have been removed with release 2022.0.20220810:</p>\n<blockquote>\n<p>In this release, we have removed the remaining openjdk packages, as we have shifted Amazon Linux 2022 to use Amazon Corretto as the JVM in the distribution.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2022.0.20220810.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2022.0.20220810.html</a></li>\n</ul>\n<hr />\n<p>(The comments on the questions already contain lots of helpful information. Adding this answer anyway as a summary with references for future visitors.)</p>\n"}],"owner":{"account_id":4223201,"reputation":119,"user_id":3457453,"display_name":"jpadams"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700498253,"creation_date":1694466189,"question_id":77084761,"body_markdown":"In the process of trying out a switch to Amazon Linux 2023 from Centos7 and I am trying to understand my options for Java.\r\n\r\nI am currenly running Java 11 openjdk in Centos7. Ideally I&#39;d like to match my old java version as closely as possible. In the past we&#39;ve had bugs come up due to errantly using Oracle java instead of OpenJDK. So what I really want is OpenJDK, but it&#39;s not clear if anyone even builds OpenJDK for AL2023 yet (or ever will?).\r\n\r\nThe latest amazon corretto java rpm from `java-11-amazon-corretto` has version 11.0.20+9-1.amzn2023, which is quite close, but I&#39;d like to minimize my changes if possible. \r\n\r\nWhen I do a `dnf search openjdk`  I don&#39;t get any hits:\r\n\r\n``` \r\n[ec2-user@blah ~]$ dnf search openjdk\r\nAmazon Linux 2023 repository                                                         17 MB/s |  14 MB     00:00\r\nAmazon Linux 2023 Kernel Livepatch repository                                       496 kB/s | 159 kB     00:00\r\nLast metadata expiration check: 0:00:01 ago on Mon Sep 11 20:47:56 2023.\r\nNo matches found.\r\n```\r\n\r\nI understand that AL2023 is Fedora-based, but also it doesn&#39;t seem like AL2023 is compatible with Fedora packages either (as per https://docs.aws.amazon.com/linux/al2023/ug/relationship-to-fedora.html)\r\n\r\nSo... is there an openjdk alternative to Amazon Corretto Java? What repo would provide that? If not, is that something that is likely to get created in the future?","title":"Is there a way to install OpenJDK Java in Amazon Linux 2023?","body":"<p>In the process of trying out a switch to Amazon Linux 2023 from Centos7 and I am trying to understand my options for Java.</p>\n<p>I am currenly running Java 11 openjdk in Centos7. Ideally I'd like to match my old java version as closely as possible. In the past we've had bugs come up due to errantly using Oracle java instead of OpenJDK. So what I really want is OpenJDK, but it's not clear if anyone even builds OpenJDK for AL2023 yet (or ever will?).</p>\n<p>The latest amazon corretto java rpm from <code>java-11-amazon-corretto</code> has version 11.0.20+9-1.amzn2023, which is quite close, but I'd like to minimize my changes if possible.</p>\n<p>When I do a <code>dnf search openjdk</code>  I don't get any hits:</p>\n<pre><code>[ec2-user@blah ~]$ dnf search openjdk\nAmazon Linux 2023 repository                                                         17 MB/s |  14 MB     00:00\nAmazon Linux 2023 Kernel Livepatch repository                                       496 kB/s | 159 kB     00:00\nLast metadata expiration check: 0:00:01 ago on Mon Sep 11 20:47:56 2023.\nNo matches found.\n</code></pre>\n<p>I understand that AL2023 is Fedora-based, but also it doesn't seem like AL2023 is compatible with Fedora packages either (as per <a href=\"https://docs.aws.amazon.com/linux/al2023/ug/relationship-to-fedora.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/linux/al2023/ug/relationship-to-fedora.html</a>)</p>\n<p>So... is there an openjdk alternative to Amazon Corretto Java? What repo would provide that? If not, is that something that is likely to get created in the future?</p>\n"},{"tags":["java","parsing"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1700487323,"post_id":77516279,"comment_id":136656956,"body_markdown":"There are two different things you need to do. The search terms you&#39;re looking for are `split` and `Integer.parseInt`","body":"There are two different things you need to do. The search terms you&#39;re looking for are <code>split</code> and <code>Integer.parseInt</code>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1700487450,"post_id":77516279,"comment_id":136656982,"body_markdown":"I&#39;m not so sure about that. It&#39;s a lot easier to use [a parser specifically for dates](https://stackoverflow.com/questions/999172/how-to-parse-a-date).","body":"I&#39;m not so sure about that. It&#39;s a lot easier to use <a href=\"https://stackoverflow.com/questions/999172/how-to-parse-a-date\">a parser specifically for dates</a>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1700488021,"post_id":77516279,"comment_id":136657071,"body_markdown":"@Jorn depends on the context. For example if this is homework and splitting + parsing is the point of the exercise then using a parser for date may defeat the purpose of the exercise. Since OP didn&#39;t specify I&#39;d keep both doors opened.","body":"@Jorn depends on the context. For example if this is homework and splitting + parsing is the point of the exercise then using a parser for date may defeat the purpose of the exercise. Since OP didn&#39;t specify I&#39;d keep both doors opened."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1700492908,"post_id":77516279,"comment_id":136657999,"body_markdown":"&quot;So I can make if statements to work with [dates]&quot;. Sounds like an XY problem to me. How about [this](https://stackoverflow.com/a/5894745/1707353)?","body":"&quot;So I can make if statements to work with [dates]&quot;. Sounds like an XY problem to me. How about <a href=\"https://stackoverflow.com/a/5894745/1707353\">this</a>?"}],"answers":[{"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1700491195,"post_id":77516376,"comment_id":136657672,"body_markdown":"This may result in invalid/wrong integers in some rare cases. Use `&quot;31/06/1993&quot;` as input, which will be parsed but will also result in a `LocalDate` with the value `30` for the day of month! At least it does on my machine","body":"This may result in invalid/wrong integers in some rare cases. Use <code>&quot;31&#47;06&#47;1993&quot;</code> as input, which will be parsed but will also result in a <code>LocalDate</code> with the value <code>30</code> for the day of month! At least it does on my machine"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1700491724,"post_id":77516376,"comment_id":136657774,"body_markdown":"@deHaar I agree.  There is a lot more to this in terms of validation of the input.  I was just providing the basics for the OP.  In fact, using your example and specifying `ResolverStyle.LENIENT`, it takes that to be &quot;01/07/1993&quot;.  I will put in a note to use ResolverStyle.STRICT to catch meaningless dates.","body":"@deHaar I agree.  There is a lot more to this in terms of validation of the input.  I was just providing the basics for the OP.  In fact, using your example and specifying <code>ResolverStyle.LENIENT</code>, it takes that to be &quot;01/07/1993&quot;.  I will put in a note to use ResolverStyle.STRICT to catch meaningless dates."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1700493170,"post_id":77516376,"comment_id":136658055,"body_markdown":"I didn&#39;t apply any `ResolverStyle`, but good to know that doing so even introduces a certain variance to the results I&#39;ll check if I can find a `ResolverStyle` that throws an `Exception`. Found one: `ResolverStyle.STRICT` should do.","body":"I didn&#39;t apply any <code>ResolverStyle</code>, but good to know that doing so even introduces a certain variance to the results I&#39;ll check if I can find a <code>ResolverStyle</code> that throws an <code>Exception</code>. Found one: <code>ResolverStyle.STRICT</code> should do."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1700495844,"post_id":77516376,"comment_id":136658592,"body_markdown":"@deHaar Yep.  I had already posted that in my answer.","body":"@deHaar Yep.  I had already posted that in my answer."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700492346,"creation_date":1700487957,"answer_id":77516376,"question_id":77516279,"body_markdown":"Use [LocalDate](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html) and [DateTimeFormatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html) from the [java.time](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/package-summary.html) package\r\nTry it like this.\r\n```\r\nSystem.out.println(&quot;Enter a date as DD/MM/YYYY: &quot;);\r\nString date = scanner.next();\r\nLocaldDate ld = LocalDate.parse(date,DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\r\nSystem.out.println(ld);\r\n \r\nint day = ld.getDayOfMonth();\r\nint month = ld.getMonthValue();\r\nint year = ld.getYear();\r\n\r\nSystem.out.println(day + &quot; &quot; + month + &quot; &quot; + year);\r\n```\r\nFor `&quot;22/10/2023&quot;` prints\r\n```\r\n2023-10-22\r\n22 10 2023\r\n```\r\nYou could also use split.\r\n```\r\n\r\nString[] vals = date.split(&quot;/&quot;);\r\n\r\nint day = Integer.parseInt(vals[0]);\r\nint month = Integer.parseInt(vals[1]);\r\nint year = Integer.parseInt(vals[2]);\r\n```\r\nSome dates will be auto corrected by default.  To avoid a date like `&quot;31/06/1993&quot;` from being corrected to `&quot;30/06/1993&quot;`, use `DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)\r\n  .withResolverStyle(ResolverStyle.STRICT)` which would result in a `DateTimeParseException` that would need to be appropriately handled.  Using `ResolverStyle.LENIENT` would wrap the above example to `&quot;01/07/1993&quot;`.","title":"How can I get many integers as variables from a String?","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> from the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package\nTry it like this.</p>\n<pre><code>System.out.println(&quot;Enter a date as DD/MM/YYYY: &quot;);\nString date = scanner.next();\nLocaldDate ld = LocalDate.parse(date,DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\nSystem.out.println(ld);\n \nint day = ld.getDayOfMonth();\nint month = ld.getMonthValue();\nint year = ld.getYear();\n\nSystem.out.println(day + &quot; &quot; + month + &quot; &quot; + year);\n</code></pre>\n<p>For <code>&quot;22/10/2023&quot;</code> prints</p>\n<pre><code>2023-10-22\n22 10 2023\n</code></pre>\n<p>You could also use split.</p>\n<pre><code>\nString[] vals = date.split(&quot;/&quot;);\n\nint day = Integer.parseInt(vals[0]);\nint month = Integer.parseInt(vals[1]);\nint year = Integer.parseInt(vals[2]);\n</code></pre>\n<p>Some dates will be auto corrected by default.  To avoid a date like <code>&quot;31/06/1993&quot;</code> from being corrected to <code>&quot;30/06/1993&quot;</code>, use <code>DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;) .withResolverStyle(ResolverStyle.STRICT)</code> which would result in a <code>DateTimeParseException</code> that would need to be appropriately handled.  Using <code>ResolverStyle.LENIENT</code> would wrap the above example to <code>&quot;01/07/1993&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700498197,"creation_date":1700497683,"answer_id":77517496,"question_id":77516279,"body_markdown":"Here is an example.\r\n\r\nUtilize the _[String#split](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ method, to divide the _String_ into a _String_ _array_.\\\r\nThen, assign each variable, _DD_, _MM_, and _YYYY_, to the corresponding value.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nString s = in.nextLine(), ss[] = s.split(&quot;/&quot;);\r\nint DD = Integer.parseInt(ss[0]),\r\n    MM = Integer.parseInt(ss[1]),\r\n    YYYY = Integer.parseInt(ss[2]);\r\n```\r\n\r\nAlternately, use another _Scanner_ instance, to iterate the values.\r\n\r\n```java\r\nScanner in = new Scanner(System.in),\r\n        s = new Scanner(in.nextLine()).useDelimiter(&quot;/&quot;);\r\nint DD = s.nextInt(), MM = s.nextInt(), YYYY = s.nextInt();\r\n```\r\n\r\nOr, use the _[StringTokenizer](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/StringTokenizer.html)_ class.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nStringTokenizer s = new StringTokenizer(in.nextLine(), &quot;/&quot;);\r\nint DD = Integer.parseInt(s.nextToken()),\r\n    MM = Integer.parseInt(s.nextToken()),\r\n    YYYY = Integer.parseInt(s.nextToken());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n11/20/2023\r\nDD = 11\r\nMM = 20\r\nYYYY = 2023\r\n```\r\n\r\nOn a final note, sometimes date values are entered with other delimiters, i.e., `.`, `-`, and space.\\\r\nFor this, you&#39;ll need to use a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nString s = in.nextLine(), ss[] = s.split(&quot;[/.-]|[ \\\\t]+&quot;);\r\nint DD = Integer.parseInt(ss[0]),\r\n    MM = Integer.parseInt(ss[1]),\r\n    YYYY = Integer.parseInt(ss[2]);\r\nSystem.out.println(&quot;DD = &quot; + DD);\r\nSystem.out.println(&quot;MM = &quot; + MM);\r\nSystem.out.println(&quot;YYYY = &quot; + YYYY);\r\n```","title":"How can I get many integers as variables from a String?","body":"<p>Here is an example.</p>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> method, to divide the <em>String</em> into a <em>String</em> <em>array</em>.<br />\nThen, assign each variable, <em>DD</em>, <em>MM</em>, and <em>YYYY</em>, to the corresponding value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nString s = in.nextLine(), ss[] = s.split(&quot;/&quot;);\nint DD = Integer.parseInt(ss[0]),\n    MM = Integer.parseInt(ss[1]),\n    YYYY = Integer.parseInt(ss[2]);\n</code></pre>\n<p>Alternately, use another <em>Scanner</em> instance, to iterate the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in),\n        s = new Scanner(in.nextLine()).useDelimiter(&quot;/&quot;);\nint DD = s.nextInt(), MM = s.nextInt(), YYYY = s.nextInt();\n</code></pre>\n<p>Or, use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">StringTokenizer</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nStringTokenizer s = new StringTokenizer(in.nextLine(), &quot;/&quot;);\nint DD = Integer.parseInt(s.nextToken()),\n    MM = Integer.parseInt(s.nextToken()),\n    YYYY = Integer.parseInt(s.nextToken());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>11/20/2023\nDD = 11\nMM = 20\nYYYY = 2023\n</code></pre>\n<p>On a final note, sometimes date values are entered with other delimiters, i.e., <code>.</code>, <code>-</code>, and space.<br />\nFor this, you'll need to use a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nString s = in.nextLine(), ss[] = s.split(&quot;[/.-]|[ \\\\t]+&quot;);\nint DD = Integer.parseInt(ss[0]),\n    MM = Integer.parseInt(ss[1]),\n    YYYY = Integer.parseInt(ss[2]);\nSystem.out.println(&quot;DD = &quot; + DD);\nSystem.out.println(&quot;MM = &quot; + MM);\nSystem.out.println(&quot;YYYY = &quot; + YYYY);\n</code></pre>\n"}],"owner":{"account_id":29811349,"reputation":23,"user_id":22846704,"display_name":"Daniel Mases"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700498197,"creation_date":1700487058,"question_id":77516279,"body_markdown":"I want to make a code that validates a birthdate, \r\n\r\nI would like to make 3 different variables: \r\n\r\nLet&#39;s say the user writes down &quot;12/6/1993&quot;.\r\n\r\nint DD = 12, int MM = 6, int YYYY = 1993.\r\n\r\nSo I can make if statements to work with them as calculable numbers.\r\n\r\nThese variables would have to be taken from the single string that the user puts.\r\n\r\n\r\n```\r\npackage practice;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Practice {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter a date as DD/MM/YYYY: &quot;);\r\n\r\n        String date = scanner.next();\r\n\r\n        System.out.println(date);\r\n\r\n       }\r\n\r\n\t}\r\n\r\n```\r\n\r\nI know that I have to use Parse for this, but all of the content that I searched on the Internet does not show me how to get the numbers inside a string as separate, just altogether.","title":"How can I get many integers as variables from a String?","body":"<p>I want to make a code that validates a birthdate,</p>\n<p>I would like to make 3 different variables:</p>\n<p>Let's say the user writes down &quot;12/6/1993&quot;.</p>\n<p>int DD = 12, int MM = 6, int YYYY = 1993.</p>\n<p>So I can make if statements to work with them as calculable numbers.</p>\n<p>These variables would have to be taken from the single string that the user puts.</p>\n<pre><code>package practice;\n\nimport java.util.Scanner;\n\npublic class Practice {\n\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Enter a date as DD/MM/YYYY: &quot;);\n\n        String date = scanner.next();\n\n        System.out.println(date);\n\n       }\n\n    }\n\n</code></pre>\n<p>I know that I have to use Parse for this, but all of the content that I searched on the Internet does not show me how to get the numbers inside a string as separate, just altogether.</p>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1702067375,"post_id":77513625,"comment_id":136856208,"body_markdown":"Is there a reason that you are using AWT instead of Swing?","body":"Is there a reason that you are using AWT instead of Swing?"},{"owner":{"account_id":3436764,"reputation":111,"user_id":22873280,"display_name":"Madhavan"},"score":0,"creation_date":1702080492,"post_id":77513625,"comment_id":136857573,"body_markdown":"i am a web developer trying to get my hands wet with java gui. since awt predates swing, i like to explore awt in-depth before trying swing.","body":"i am a web developer trying to get my hands wet with java gui. since awt predates swing, i like to explore awt in-depth before trying swing."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1702297911,"post_id":77513625,"comment_id":136875132,"body_markdown":"You might want to read about the [differences between AWT and Swing](https://stackoverflow.com/a/408830/5645656). AWT is not reliably platform-independent, and so it may not behave as desired on certain operating systems (whereas Swing will). The issue with your drop-down menu could be one of these circumstances.","body":"You might want to read about the <a href=\"https://stackoverflow.com/a/408830/5645656\">differences between AWT and Swing</a>. AWT is not reliably platform-independent, and so it may not behave as desired on certain operating systems (whereas Swing will). The issue with your drop-down menu could be one of these circumstances."}],"owner":{"account_id":3436764,"reputation":111,"user_id":22873280,"display_name":"Madhavan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700498136,"creation_date":1700456985,"question_id":77513625,"body_markdown":"Running my java awt code on Linux MintOsv20. The program extends `java.awt.Frame` and adds to it a simple choice menu of fruits, which upon selection will update a textfield. But alas, the drop down menu is not having its caret icon. \r\n\r\n```\r\n        Panel p = new Panel();\r\n        p.setLayout( new GridLayout( 1, 1 ));\r\n        Choice c = new Choice();\r\n        c.add( &quot;mangoes&quot; );\r\n        c.add( &quot;apples&quot; );\r\n        c.add( &quot;oranges&quot; );\r\n        p.add( c );\r\n        this.add( p, BorderLayout.NORTH );\r\n\r\n```\r\nproduces the output as,\r\n\r\n[![Missing Caret](https://i.stack.imgur.com/IevZn.png)](https://i.stack.imgur.com/IevZn.png)\r\n\r\n\r\nAnother one of my Mint os machine also had this issue.\r\nCan some learned counsel guide me on this?\r\n","title":"Drop down icon missing on awt choice widget","body":"<p>Running my java awt code on Linux MintOsv20. The program extends <code>java.awt.Frame</code> and adds to it a simple choice menu of fruits, which upon selection will update a textfield. But alas, the drop down menu is not having its caret icon.</p>\n<pre><code>        Panel p = new Panel();\n        p.setLayout( new GridLayout( 1, 1 ));\n        Choice c = new Choice();\n        c.add( &quot;mangoes&quot; );\n        c.add( &quot;apples&quot; );\n        c.add( &quot;oranges&quot; );\n        p.add( c );\n        this.add( p, BorderLayout.NORTH );\n\n</code></pre>\n<p>produces the output as,</p>\n<p><a href=\"https://i.stack.imgur.com/IevZn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IevZn.png\" alt=\"Missing Caret\" /></a></p>\n<p>Another one of my Mint os machine also had this issue.\nCan some learned counsel guide me on this?</p>\n"},{"tags":["java","spring-boot","http","filtering"],"comments":[{"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"score":1,"creation_date":1599561627,"post_id":63791808,"comment_id":112805128,"body_markdown":"With `ContentCachingRequestWrapper` you cannot read the body multiple times. In this tutorial there is an alternative, hope it helps. https://www.baeldung.com/spring-reading-httpservletrequest-multiple-times","body":"With <code>ContentCachingRequestWrapper</code> you cannot read the body multiple times. In this tutorial there is an alternative, hope it helps. <a href=\"https://www.baeldung.com/spring-reading-httpservletrequest-multiple-times\" rel=\"nofollow noreferrer\">baeldung.com/spring-reading-httpservletrequest-multiple-time&zwnj;&#8203;s</a>"}],"answers":[{"comments":[{"owner":{"account_id":2734229,"reputation":370,"user_id":2357245,"accept_rate":67,"display_name":"Pascal"},"score":1,"creation_date":1612445385,"post_id":63792754,"comment_id":116772830,"body_markdown":"I have exactly the same issue and the comment from @Furquam Ahmed is not workung.","body":"I have exactly the same issue and the comment from @Furquam Ahmed is not workung."}],"tags":[],"owner":{"account_id":4191169,"reputation":909,"user_id":3433752,"accept_rate":50,"display_name":"sensitive_piece_of_horseflesh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1599563709,"creation_date":1599563709,"answer_id":63792754,"question_id":63791808,"body_markdown":"I think by doing this :\r\n\r\n    String payload = cachedRequest.getReader().lines().collect(Collectors.joining());\r\n\r\nyou are doing it wrong. \r\n\r\nTry this :\r\n\r\n    String input = ByteSource.wrap(cachedRequest.getContentAsByteArray())\r\n        .asCharSource(StandardCharsets.UTF_8).read();\r\n\r\nAs the [documentation][1] suggests:\r\n\r\n&gt; caches all content read from the input stream and reader, and allows this content to be retrieved via a byte array\r\n\r\n\r\nSome helpful links: \r\n[Link 1][2], [Link 2][2]. \r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html\r\n  [2]: https://stackoverflow.com/questions/49250367/using-contentcachingrequestwrapper-causes-empty-parameters-map","title":"Required request body is missing after using ContentCachingRequestWrapper","body":"<p>I think by doing this :</p>\n<pre><code>String payload = cachedRequest.getReader().lines().collect(Collectors.joining());\n</code></pre>\n<p>you are doing it wrong.</p>\n<p>Try this :</p>\n<pre><code>String input = ByteSource.wrap(cachedRequest.getContentAsByteArray())\n    .asCharSource(StandardCharsets.UTF_8).read();\n</code></pre>\n<p>As the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html\" rel=\"nofollow noreferrer\">documentation</a> suggests:</p>\n<blockquote>\n<p>caches all content read from the input stream and reader, and allows this content to be retrieved via a byte array</p>\n</blockquote>\n<p>Some helpful links:\n<a href=\"https://stackoverflow.com/questions/49250367/using-contentcachingrequestwrapper-causes-empty-parameters-map\">Link 1</a>, <a href=\"https://stackoverflow.com/questions/49250367/using-contentcachingrequestwrapper-causes-empty-parameters-map\">Link 2</a>.</p>\n"},{"tags":[],"owner":{"account_id":14744942,"reputation":746,"user_id":10648588,"display_name":"Krzysztof K"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1629226629,"creation_date":1629226629,"answer_id":68822693,"question_id":63791808,"body_markdown":"I faced same issue. You need to call getInputStream on requestWrapper in order to let it be cached. This is how your filter should look like:\r\n\r\n    @Component\r\n    public class CachingRequestBodyFilter extends GenericFilterBean {\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain)\r\n                throws IOException, ServletException {\r\n            ContentCachingRequestWrapper wrappedRequest = new ContentCachingRequestWrapper((HttpServletRequest) servletRequest);\r\n    \r\n            //this line is necessary to cache InputStream\r\n            wrappedRequest.getInputStream();\r\n            //String requestBody = IOUtils.toString(wrappedRequest.getInputStream(), StandardCharsets.UTF_8); with this line you can map requestBody to String\r\n\r\n    \r\n            chain.doFilter(wrappedRequest, servletResponse);\r\n        }\r\n    }\r\n\r\nController:\r\n\r\n    @PostMapping(ENDPOINT)\r\n        void endpoint(HttpServletRequest request) {\r\n            ContentCachingRequestWrapper requestWrapper = (ContentCachingRequestWrapper) request;\r\n            String requestBody = new String(requestWrapper.getContentAsByteArray());\r\n            //process requestBody\r\n    }","title":"Required request body is missing after using ContentCachingRequestWrapper","body":"<p>I faced same issue. You need to call getInputStream on requestWrapper in order to let it be cached. This is how your filter should look like:</p>\n<pre><code>@Component\npublic class CachingRequestBodyFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain)\n            throws IOException, ServletException {\n        ContentCachingRequestWrapper wrappedRequest = new ContentCachingRequestWrapper((HttpServletRequest) servletRequest);\n\n        //this line is necessary to cache InputStream\n        wrappedRequest.getInputStream();\n        //String requestBody = IOUtils.toString(wrappedRequest.getInputStream(), StandardCharsets.UTF_8); with this line you can map requestBody to String\n\n\n        chain.doFilter(wrappedRequest, servletResponse);\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(ENDPOINT)\n    void endpoint(HttpServletRequest request) {\n        ContentCachingRequestWrapper requestWrapper = (ContentCachingRequestWrapper) request;\n        String requestBody = new String(requestWrapper.getContentAsByteArray());\n        //process requestBody\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":950742,"reputation":2108,"user_id":976948,"accept_rate":75,"display_name":"RicardoS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700497604,"creation_date":1700497297,"answer_id":77517457,"question_id":63791808,"body_markdown":"In general you can go with Krzysztof&#39;s approach, which is the one that is shown is all websites/tutorials.  \r\n\r\nBut I&#39;d like to continue receiving the `@RequestBody` directly in the WebResource/RestController. For that, this approach won&#39;t work because internally Spring doesn&#39;t call `getContentAsByteArray()`.  \r\n\r\nSo, here is an alternative way:  \r\n\r\nFor the `@RequestBody` Spring uses the method `read()` from the InputStream. So we need to override that one. To do that, we&#39;ll have to create new wrappers. Sample in Kt:    \r\n\r\n    class RequestBodyContentWrapper(private val wrapped: ContentCachingRequestWrapper) : ContentCachingRequestWrapper(wrapped) {\r\n    \r\n        private val bodyProcessorIS: RequestBodyInputStreamWrapper by lazy {\r\n            RequestBodyInputStreamWrapper(super.getInputStream())\r\n        }\r\n    \r\n        override fun getInputStream(): ServletInputStream {\r\n            return bodyProcessorIS\r\n        }\r\n    \r\n        // use the method supported by ContentCachingRequestWrapper to read the bytes\r\n        fun prepareInputStream() = bodyProcessorIS.resetReading(wrapped.contentAsByteArray)\r\n    }\r\n    \r\n    class RequestBodyInputStreamWrapper(private val wrapped: ServletInputStream) : ServletInputStream() {\r\n    \r\n        private lateinit var bais: ByteArrayInputStream\r\n    \r\n        // convert the bytes read from the cache to InputStream \r\n        // which later can be used in the read()\r\n        fun resetReading(bytes: ByteArray) {\r\n            this.bais = ByteArrayInputStream(bytes)\r\n        }\r\n    \r\n        override fun read() = bais.read()\r\n    \r\n        override fun isFinished() = wrapped.isFinished\r\n    \r\n        override fun isReady(): Boolean = wrapped.isReady\r\n    \r\n        override fun setReadListener(readListener: ReadListener?) = wrapped.setReadListener(readListener)\r\n    \r\n    }\r\n\r\nThen, in the filter:  \r\n\r\n    override fun doFilterInternal(originalRequest: HttpServletRequest, response: HttpServletResponse, filterChain: FilterChain) {\r\n            val contentRequest = ContentCachingRequestWrapper(originalRequest)\r\n    \r\n            val hmac = ...\r\n            // ... internal logic\r\n    \r\n            val readableRequest = RequestBodyContentWrapper(contentRequest)\r\n            readableRequest.prepareInputStream()\r\n            filterChain.doFilter(readableRequest, response)\r\n        }\r\n\r\n  \r\nThat&#39;s needed because Spring internal classes won&#39;t use `getContentAsByteArray` but `inputStream.read()`.  And it&#39;s disappointing that Spring&#39;s ContentCachingRequestWrapper doesn&#39;t handle that (doesn&#39;t allow to use `read()` later).  \r\n\r\nIt might be not so straightforward at first, but worked for me. Take some time to understand it.  \r\nI prefer this way in order to keep the RestControllers cleaner. The filter usually will be unique (that is, this additional logic is in a single place); as opposed to RestController, which we often have many.  ","title":"Required request body is missing after using ContentCachingRequestWrapper","body":"<p>In general you can go with Krzysztof's approach, which is the one that is shown is all websites/tutorials.</p>\n<p>But I'd like to continue receiving the <code>@RequestBody</code> directly in the WebResource/RestController. For that, this approach won't work because internally Spring doesn't call <code>getContentAsByteArray()</code>.</p>\n<p>So, here is an alternative way:</p>\n<p>For the <code>@RequestBody</code> Spring uses the method <code>read()</code> from the InputStream. So we need to override that one. To do that, we'll have to create new wrappers. Sample in Kt:</p>\n<pre><code>class RequestBodyContentWrapper(private val wrapped: ContentCachingRequestWrapper) : ContentCachingRequestWrapper(wrapped) {\n\n    private val bodyProcessorIS: RequestBodyInputStreamWrapper by lazy {\n        RequestBodyInputStreamWrapper(super.getInputStream())\n    }\n\n    override fun getInputStream(): ServletInputStream {\n        return bodyProcessorIS\n    }\n\n    // use the method supported by ContentCachingRequestWrapper to read the bytes\n    fun prepareInputStream() = bodyProcessorIS.resetReading(wrapped.contentAsByteArray)\n}\n\nclass RequestBodyInputStreamWrapper(private val wrapped: ServletInputStream) : ServletInputStream() {\n\n    private lateinit var bais: ByteArrayInputStream\n\n    // convert the bytes read from the cache to InputStream \n    // which later can be used in the read()\n    fun resetReading(bytes: ByteArray) {\n        this.bais = ByteArrayInputStream(bytes)\n    }\n\n    override fun read() = bais.read()\n\n    override fun isFinished() = wrapped.isFinished\n\n    override fun isReady(): Boolean = wrapped.isReady\n\n    override fun setReadListener(readListener: ReadListener?) = wrapped.setReadListener(readListener)\n\n}\n</code></pre>\n<p>Then, in the filter:</p>\n<pre><code>override fun doFilterInternal(originalRequest: HttpServletRequest, response: HttpServletResponse, filterChain: FilterChain) {\n        val contentRequest = ContentCachingRequestWrapper(originalRequest)\n\n        val hmac = ...\n        // ... internal logic\n\n        val readableRequest = RequestBodyContentWrapper(contentRequest)\n        readableRequest.prepareInputStream()\n        filterChain.doFilter(readableRequest, response)\n    }\n</code></pre>\n<p>That's needed because Spring internal classes won't use <code>getContentAsByteArray</code> but <code>inputStream.read()</code>.  And it's disappointing that Spring's ContentCachingRequestWrapper doesn't handle that (doesn't allow to use <code>read()</code> later).</p>\n<p>It might be not so straightforward at first, but worked for me. Take some time to understand it.<br />\nI prefer this way in order to keep the RestControllers cleaner. The filter usually will be unique (that is, this additional logic is in a single place); as opposed to RestController, which we often have many.</p>\n"}],"owner":{"account_id":4861838,"reputation":3854,"user_id":3921231,"accept_rate":79,"display_name":"Itsik Mauyhas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8427,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1700497604,"creation_date":1599560233,"question_id":63791808,"body_markdown":"I need to read the request payload in one of my `GenericFilterBean`.\r\nBeacuse I cannot call [getreader twice][1] I used `ContentCachingRequestWrapper` like-\r\n\r\n    HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n    ContentCachingRequestWrapper cachedRequest = new ContentCachingRequestWrapper(httpRequest);\r\n\r\nGetting the request body-\r\n\r\n    String payload = cachedRequest.getReader().lines().collect(Collectors.joining());\r\n\r\nAnd chaining the request-\r\n\r\n    chain.doFilter(cachedRequest, response);\r\n\r\nBut still my controller throws-\r\n\r\n     .w.s.m.s.DefaultHandlerExceptionResolver : Resolved exception caused by handler execution: org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt; com.siemens.plm.it.sf.api.controllers.OrderController.createCCOrder(com.siemens.plm.it.de.ms.provisioning.model.sap.SapQuoteCreationArgument,javax.servlet.http.HttpServletRequest) throws java.lang.Exception\r\n\r\nAnt ideas on how to chain the request so I can read the payload in the controller as well?\r\n\r\nThank you.\r\n\r\n  [1]: https://stackoverflow.com/questions/7318632/java-lang-illegalstateexception-getreader-has-already-been-called-for-this-re\r\n","title":"Required request body is missing after using ContentCachingRequestWrapper","body":"<p>I need to read the request payload in one of my <code>GenericFilterBean</code>.\nBeacuse I cannot call <a href=\"https://stackoverflow.com/questions/7318632/java-lang-illegalstateexception-getreader-has-already-been-called-for-this-re\">getreader twice</a> I used <code>ContentCachingRequestWrapper</code> like-</p>\n<pre><code>HttpServletRequest httpRequest = (HttpServletRequest) request;\nContentCachingRequestWrapper cachedRequest = new ContentCachingRequestWrapper(httpRequest);\n</code></pre>\n<p>Getting the request body-</p>\n<pre><code>String payload = cachedRequest.getReader().lines().collect(Collectors.joining());\n</code></pre>\n<p>And chaining the request-</p>\n<pre><code>chain.doFilter(cachedRequest, response);\n</code></pre>\n<p>But still my controller throws-</p>\n<pre><code> .w.s.m.s.DefaultHandlerExceptionResolver : Resolved exception caused by handler execution: org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt; com.siemens.plm.it.sf.api.controllers.OrderController.createCCOrder(com.siemens.plm.it.de.ms.provisioning.model.sap.SapQuoteCreationArgument,javax.servlet.http.HttpServletRequest) throws java.lang.Exception\n</code></pre>\n<p>Ant ideas on how to chain the request so I can read the payload in the controller as well?</p>\n<p>Thank you.</p>\n"},{"tags":["java","mongodb","spring-data-jpa","spring-mongodb","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":8986202,"reputation":194,"user_id":6699701,"display_name":"Amol Gharpure"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700496627,"creation_date":1700496627,"answer_id":77517383,"question_id":77517246,"body_markdown":"     public &lt;T&gt; void batchUpdate(String collectionName, List&lt;T&gt; documents, Class&lt;T&gt; tClass) {\r\n        BulkOperations bulkOps = mongoTemplate.bulkOps(BulkOperations.BulkMode.UNORDERED, tClass, collectionName);\r\n        for (T document : documents) {\r\n            Document doc = new Document();\r\n            mongoTemplate.getConverter().write(document, doc);\r\n            org.springframework.data.mongodb.core.query.Query  query = new org.springframework\r\n                    .data.mongodb.core.query.Query(Criteria.where(UNDERSCORE_ID).is(doc.get(UNDERSCORE_ID)));\r\n            Document updateDoc = new Document();\r\n            updateDoc.append(&quot;$set&quot;, doc);\r\n            Update update = Update.fromDocument(updateDoc, UNDERSCORE_ID);\r\n            bulkOps.upsert(query, update);\r\n        }\r\n        bulkOps.execute();\r\n    }\r\n\r\nYou can use this code as a reference and modify it based on your requirement of fields to be checked.\r\n\r\nYou can check the Mongo doc for Bulk.find.update() here :- https://www.mongodb.com/docs/manual/reference/method/Bulk.find.update/","title":"Upserting a collection of objects in Mongo in a batch in java using Mongotemplate","body":"<pre><code> public &lt;T&gt; void batchUpdate(String collectionName, List&lt;T&gt; documents, Class&lt;T&gt; tClass) {\n    BulkOperations bulkOps = mongoTemplate.bulkOps(BulkOperations.BulkMode.UNORDERED, tClass, collectionName);\n    for (T document : documents) {\n        Document doc = new Document();\n        mongoTemplate.getConverter().write(document, doc);\n        org.springframework.data.mongodb.core.query.Query  query = new org.springframework\n                .data.mongodb.core.query.Query(Criteria.where(UNDERSCORE_ID).is(doc.get(UNDERSCORE_ID)));\n        Document updateDoc = new Document();\n        updateDoc.append(&quot;$set&quot;, doc);\n        Update update = Update.fromDocument(updateDoc, UNDERSCORE_ID);\n        bulkOps.upsert(query, update);\n    }\n    bulkOps.execute();\n}\n</code></pre>\n<p>You can use this code as a reference and modify it based on your requirement of fields to be checked.</p>\n<p>You can check the Mongo doc for Bulk.find.update() here :- <a href=\"https://www.mongodb.com/docs/manual/reference/method/Bulk.find.update/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/reference/method/Bulk.find.update/</a></p>\n"}],"owner":{"account_id":1635471,"reputation":166,"user_id":1509097,"display_name":"ranban282"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77517383,"answer_count":1,"score":0,"last_activity_date":1700496627,"creation_date":1700495283,"question_id":77517246,"body_markdown":"I have a list of objects of type MyObject, and I wish to insert an object if its not present in the mongo collection, or update if it does. \r\n\r\nMyObject contains multiple fields, but I want to update if fields f1 &amp; f2 are present in the mongo collection, and insert otherwise. \r\n\r\nI know that I can do this for a single object using MongoTemplate&#39;s upsert method, and can insert a bunch of objects using MongoTemplate&#39;s insertAll method, but neither does what I&#39;m trying to do. \r\n\r\nWhat&#39;s the best and most efficient way to achieve what I&#39;m trying to do?","title":"Upserting a collection of objects in Mongo in a batch in java using Mongotemplate","body":"<p>I have a list of objects of type MyObject, and I wish to insert an object if its not present in the mongo collection, or update if it does.</p>\n<p>MyObject contains multiple fields, but I want to update if fields f1 &amp; f2 are present in the mongo collection, and insert otherwise.</p>\n<p>I know that I can do this for a single object using MongoTemplate's upsert method, and can insert a bunch of objects using MongoTemplate's insertAll method, but neither does what I'm trying to do.</p>\n<p>What's the best and most efficient way to achieve what I'm trying to do?</p>\n"},{"tags":["java","spring","freemarker"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700131207,"post_id":77493816,"comment_id":136618066,"body_markdown":"`src/main/resources` is not a file path but part of the classpath. You cannot use a `FileTemplateLoader`. You need to use the `ClassTemplateLoader` to load from the classpath.","body":"<code>src&#47;main&#47;resources</code> is not a file path but part of the classpath. You cannot use a <code>FileTemplateLoader</code>. You need to use the <code>ClassTemplateLoader</code> to load from the classpath."}],"answers":[{"tags":[],"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700496599,"creation_date":1700496599,"answer_id":77517379,"question_id":77493816,"body_markdown":"I solved the classloader exception using the implementation below :\r\n\r\n    cfg.setTemplateLoader(new ClassTemplateLoader(DocGeneratorUtils.class, &quot;/templates&quot;));\r\n    Properties settings = new Properties();\r\n    settings.setProperty(&quot;auto_import&quot;, &quot;/spring.ftl as spring&quot;);\r\n    cfg.setSettings(settings);","title":"FileNotFoundException in loading spring.ftl using Freemarker in Spring application","body":"<p>I solved the classloader exception using the implementation below :</p>\n<pre><code>cfg.setTemplateLoader(new ClassTemplateLoader(DocGeneratorUtils.class, &quot;/templates&quot;));\nProperties settings = new Properties();\nsettings.setProperty(&quot;auto_import&quot;, &quot;/spring.ftl as spring&quot;);\ncfg.setSettings(settings);\n</code></pre>\n"}],"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700496599,"creation_date":1700128619,"question_id":77493816,"body_markdown":"I&#39;m stuck in the integration of Freemarker in my Spring application.\r\nI have a lib responsible of the generation of html to pdf it which is inject in my webapp.\r\nThe spring.ftl is in a templates folder inside resources of my lib module\r\n\r\nmy-lib/src/main/resources/templates/spring.ftl\r\n\r\nI defined a FileTemplateLoader which refer to templates folder and added an auto_import properties for spring.ftl\r\n\r\nWhen I try to generate the pdf file I got a FileNotFoundException when the Freemarker config try to set the template loader\r\n\r\nConfiguration methode :\r\n\r\n    private static Configuration getConfig() throws IOException, TemplateException {\r\n            // Create your Configuration instance, and specify if up to what FreeMarker\r\n            // version (here 2.3.32) do you want to apply the fixes that are not 100%\r\n            // backward-compatible. See the Configuration JavaDoc for details.\r\n            Configuration cfg = new Configuration(Configuration.VERSION_2_3_32);\r\n    \r\n            // Specify the source where the template files come from. Here I set a\r\n            // plain directory for it, but non-file-system sources are possible too:\r\n            //cfg.setDirectoryForTemplateLoading(new File(&quot;/where/you/store/templates&quot;));\r\n    \r\n            // From here we will set the settings recommended for new projects. These\r\n            // aren&#39;t the defaults for backward compatibilty.\r\n    \r\n            cfg.setDefaultEncoding(&quot;UTF-8&quot;);\r\n    \r\n            // Sets how errors will appear.\r\n            // During web page *development* TemplateExceptionHandler.HTML_DEBUG_HANDLER is better.\r\n            cfg.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);\r\n    \r\n            // Don&#39;t log exceptions inside FreeMarker that it will thrown at you anyway:\r\n            cfg.setLogTemplateExceptions(false);\r\n    \r\n            // Wrap unchecked exceptions thrown during template processing into TemplateException-s:\r\n            cfg.setWrapUncheckedExceptions(true);\r\n    \r\n            // Do not fall back to higher scopes when reading a null loop variable:\r\n            cfg.setFallbackOnNullLoopVariable(false);\r\n    \r\n            cfg.setTemplateLoader(new FileTemplateLoader(new File(&quot;templates&quot;)));\r\n            Properties settings = new Properties();\r\n            settings.setProperty(&quot;auto_import&quot;, &quot;/spring.ftl as spring&quot;);\r\n            cfg.setSettings(settings);\r\n    \r\n            return cfg;\r\n        }\r\n    \r\n\r\nError :\r\n\r\n    java.io.FileNotFoundException: templates does not exist.\r\n    \tat freemarker.cache.FileTemplateLoader$1.run(FileTemplateLoader.java:123) ~[freemarker-2.3.32.jar:2.3.32]\r\n    \tat freemarker.cache.FileTemplateLoader$1.run(FileTemplateLoader.java:119) ~[freemarker-2.3.32.jar:2.3.32]\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:569) ~[?:?]\r\n    \tat freemarker.cache.FileTemplateLoader.&lt;init&gt;(FileTemplateLoader.java:119) ~[freemarker-2.3.32.jar:2.3.32]\r\n    \tat freemarker.cache.FileTemplateLoader.&lt;init&gt;(FileTemplateLoader.java:98) ~[freemarker-2.3.32.jar:2.3.32]","title":"FileNotFoundException in loading spring.ftl using Freemarker in Spring application","body":"<p>I'm stuck in the integration of Freemarker in my Spring application.\nI have a lib responsible of the generation of html to pdf it which is inject in my webapp.\nThe spring.ftl is in a templates folder inside resources of my lib module</p>\n<p>my-lib/src/main/resources/templates/spring.ftl</p>\n<p>I defined a FileTemplateLoader which refer to templates folder and added an auto_import properties for spring.ftl</p>\n<p>When I try to generate the pdf file I got a FileNotFoundException when the Freemarker config try to set the template loader</p>\n<p>Configuration methode :</p>\n<pre><code>private static Configuration getConfig() throws IOException, TemplateException {\n        // Create your Configuration instance, and specify if up to what FreeMarker\n        // version (here 2.3.32) do you want to apply the fixes that are not 100%\n        // backward-compatible. See the Configuration JavaDoc for details.\n        Configuration cfg = new Configuration(Configuration.VERSION_2_3_32);\n\n        // Specify the source where the template files come from. Here I set a\n        // plain directory for it, but non-file-system sources are possible too:\n        //cfg.setDirectoryForTemplateLoading(new File(&quot;/where/you/store/templates&quot;));\n\n        // From here we will set the settings recommended for new projects. These\n        // aren't the defaults for backward compatibilty.\n\n        cfg.setDefaultEncoding(&quot;UTF-8&quot;);\n\n        // Sets how errors will appear.\n        // During web page *development* TemplateExceptionHandler.HTML_DEBUG_HANDLER is better.\n        cfg.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);\n\n        // Don't log exceptions inside FreeMarker that it will thrown at you anyway:\n        cfg.setLogTemplateExceptions(false);\n\n        // Wrap unchecked exceptions thrown during template processing into TemplateException-s:\n        cfg.setWrapUncheckedExceptions(true);\n\n        // Do not fall back to higher scopes when reading a null loop variable:\n        cfg.setFallbackOnNullLoopVariable(false);\n\n        cfg.setTemplateLoader(new FileTemplateLoader(new File(&quot;templates&quot;)));\n        Properties settings = new Properties();\n        settings.setProperty(&quot;auto_import&quot;, &quot;/spring.ftl as spring&quot;);\n        cfg.setSettings(settings);\n\n        return cfg;\n    }\n</code></pre>\n<p>Error :</p>\n<pre><code>java.io.FileNotFoundException: templates does not exist.\n    at freemarker.cache.FileTemplateLoader$1.run(FileTemplateLoader.java:123) ~[freemarker-2.3.32.jar:2.3.32]\n    at freemarker.cache.FileTemplateLoader$1.run(FileTemplateLoader.java:119) ~[freemarker-2.3.32.jar:2.3.32]\n    at java.security.AccessController.doPrivileged(AccessController.java:569) ~[?:?]\n    at freemarker.cache.FileTemplateLoader.&lt;init&gt;(FileTemplateLoader.java:119) ~[freemarker-2.3.32.jar:2.3.32]\n    at freemarker.cache.FileTemplateLoader.&lt;init&gt;(FileTemplateLoader.java:98) ~[freemarker-2.3.32.jar:2.3.32]\n</code></pre>\n"},{"tags":["java","spring","elasticsearch","easymock"],"owner":{"account_id":19027450,"reputation":39,"user_id":14669967,"display_name":"JamseGoldman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700496045,"creation_date":1700494494,"question_id":77517139,"body_markdown":"I needed to update the ES version from 6.8.17 to 7.17.3.\r\n\r\nAfter I&#39;ve updated I tried to run the tests but they kept failing when I do:\r\n\r\n```\r\nfinal IndicesAdminClient indicesAdminClient =  EasyMock.mock(IndicesAdminClient.class);\r\n```\r\n\r\nIn two different tests I get errors when this line is executed.\r\n[![enter image description here][1]][1]\r\n\r\nThe code:\r\n```\r\n\t@Test\r\n\tpublic void testIfIndexExists() {\r\n\t\tfinal String indexName = &quot;my-index&quot;;\r\n\t\tfinal Client searchClient  = EasyMock.mock(Client.class);\r\n\t\tfinal AdminClient adminClient =  EasyMock.mock(AdminClient.class);\r\n\t\tfinal IndicesAdminClient indicesAdminClient =  EasyMock.mock(IndicesAdminClient.class);\r\n\t\tEasyMock.expect(searchClient.admin()).andReturn(adminClient);\r\n\t\tEasyMock.expect(adminClient.indices()).andReturn(indicesAdminClient);\r\n\t\tfinal IndicesExistsResponseFuture existsRequestFuture = new IndicesExistsResponseFuture();\r\n\t\tEasyMock.expect(indicesAdminClient.exists(EasyMock.anyObject(IndicesExistsRequest.class))).andReturn(existsRequestFuture);\r\n\t\tEasyMock.replay(searchClient);\r\n\t\tEasyMock.replay(adminClient);\r\n\t\tEasyMock.replay(indicesAdminClient);\r\n\t\tPowerMockito.mockStatic(EsConfig.class);\r\n\t\tPowerMockito.when(EsConfig.getClient()).thenReturn(searchClient);\r\n\t\tfinal ElasticIndexCreator elasticIndexCreator =  new ElasticIndexCreator();\r\n\t\tassertTrue(elasticIndexCreator.indexExists(indexName));\t\t\r\n\t}\r\n```\r\n\r\n```\r\npublic class IndicesExistsResponseFuture implements ActionFuture&lt;IndicesExistsResponse&gt; {\r\n\r\n\t@Override\r\n\tpublic boolean cancel(boolean mayInterruptIfRunning) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndicesExistsResponse get() throws InterruptedException, ExecutionException {\r\n\t\treturn new IndicesExistsResponse(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndicesExistsResponse get(long timeout, TimeUnit unit)\r\n\t\t\tthrows InterruptedException, ExecutionException, TimeoutException {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isCancelled() {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isDone() {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndicesExistsResponse actionGet() {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndicesExistsResponse actionGet(String timeout) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndicesExistsResponse actionGet(long timeoutMillis) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndicesExistsResponse actionGet(long timeout, TimeUnit unit) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndicesExistsResponse actionGet(TimeValue timeout) {\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tUj6Q.png","title":"Elasticsearch from 6.x to 7.17.13 mocking issue IndicesAdminClient.class","body":"<p>I needed to update the ES version from 6.8.17 to 7.17.3.</p>\n<p>After I've updated I tried to run the tests but they kept failing when I do:</p>\n<pre><code>final IndicesAdminClient indicesAdminClient =  EasyMock.mock(IndicesAdminClient.class);\n</code></pre>\n<p>In two different tests I get errors when this line is executed.\n<a href=\"https://i.stack.imgur.com/tUj6Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tUj6Q.png\" alt=\"enter image description here\" /></a></p>\n<p>The code:</p>\n<pre><code>    @Test\n    public void testIfIndexExists() {\n        final String indexName = &quot;my-index&quot;;\n        final Client searchClient  = EasyMock.mock(Client.class);\n        final AdminClient adminClient =  EasyMock.mock(AdminClient.class);\n        final IndicesAdminClient indicesAdminClient =  EasyMock.mock(IndicesAdminClient.class);\n        EasyMock.expect(searchClient.admin()).andReturn(adminClient);\n        EasyMock.expect(adminClient.indices()).andReturn(indicesAdminClient);\n        final IndicesExistsResponseFuture existsRequestFuture = new IndicesExistsResponseFuture();\n        EasyMock.expect(indicesAdminClient.exists(EasyMock.anyObject(IndicesExistsRequest.class))).andReturn(existsRequestFuture);\n        EasyMock.replay(searchClient);\n        EasyMock.replay(adminClient);\n        EasyMock.replay(indicesAdminClient);\n        PowerMockito.mockStatic(EsConfig.class);\n        PowerMockito.when(EsConfig.getClient()).thenReturn(searchClient);\n        final ElasticIndexCreator elasticIndexCreator =  new ElasticIndexCreator();\n        assertTrue(elasticIndexCreator.indexExists(indexName));     \n    }\n</code></pre>\n<pre><code>public class IndicesExistsResponseFuture implements ActionFuture&lt;IndicesExistsResponse&gt; {\n\n    @Override\n    public boolean cancel(boolean mayInterruptIfRunning) {\n        return false;\n    }\n\n    @Override\n    public IndicesExistsResponse get() throws InterruptedException, ExecutionException {\n        return new IndicesExistsResponse(true);\n    }\n\n    @Override\n    public IndicesExistsResponse get(long timeout, TimeUnit unit)\n            throws InterruptedException, ExecutionException, TimeoutException {\n        return null;\n    }\n\n    @Override\n    public boolean isCancelled() {\n        return false;\n    }\n\n    @Override\n    public boolean isDone() {\n        return false;\n    }\n\n    @Override\n    public IndicesExistsResponse actionGet() {\n        return null;\n    }\n\n    @Override\n    public IndicesExistsResponse actionGet(String timeout) {\n        return null;\n    }\n\n    @Override\n    public IndicesExistsResponse actionGet(long timeoutMillis) {\n        return null;\n    }\n\n    @Override\n    public IndicesExistsResponse actionGet(long timeout, TimeUnit unit) {\n        return null;\n    }\n\n    @Override\n    public IndicesExistsResponse actionGet(TimeValue timeout) {\n        return null;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","nio2","java.nio.file"],"answers":[{"tags":[],"owner":{"account_id":3270337,"reputation":2871,"user_id":2753863,"display_name":"Vladimir Vagaytsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466079992,"creation_date":1466079992,"answer_id":37859206,"question_id":37858082,"body_markdown":"All these 3 solutions look correct, but it&#39;s better to use the simplest and the most readable way, so `Files.list()` looks natural to solve this problem.\r\n","title":"What is the difference between Files.list and Files.walkFileTree and Files.walk with maxdepth = 1?","body":"<p>All these 3 solutions look correct, but it's better to use the simplest and the most readable way, so <code>Files.list()</code> looks natural to solve this problem.</p>\n"},{"comments":[{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1681866496,"post_id":37860983,"comment_id":134124972,"body_markdown":"&gt; &quot;**Skip the first element** of the stream to ignore the **root path**&quot; (List only folders of certain depth using Java 8 streams) https://stackoverflow.com/a/51534978/9549068","body":"&gt; &quot;<b>Skip the first element</b> of the stream to ignore the <b>root path</b>&quot; (List only folders of certain depth using Java 8 streams) <a href=\"https://stackoverflow.com/a/51534978/9549068\">stackoverflow.com/a/51534978/9549068</a>"}],"tags":[],"owner":{"account_id":1083641,"reputation":2184,"user_id":1083697,"accept_rate":67,"display_name":"andrybak"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1700495896,"creation_date":1466084390,"answer_id":37860983,"question_id":37858082,"body_markdown":"Using following code as test, I got the hang of the issue. The main difference between `walk*` and `list` is that `list(dir)` gives a stream of **files in the directory** `dir`, while both `walk*` method **walk the subtree** of its argument *including* the root of subtreethe directory itself.\r\n\r\nThe difference between `walk` and `walkFileTree` is that they supply different interfaces for walking the tree: `walkFileTree` takes `FileVisitor`, `walk` gives `Stream&lt;Path&gt;`.\r\n\r\n    public class FilesTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal String pwd = System.getProperty(&quot;user.dir&quot;);\r\n    \t\tSystem.out.println(&quot;Working Directory = &quot; + pwd);\r\n    \t\tPath dir = Paths.get(pwd);\r\n    \t\tSystem.out.println(&quot;Files.walk&quot;);\r\n    \t\ttry (Stream&lt;Path&gt; stream = Files.walk(dir, 1)) {\r\n    \t\t\tstream.forEach(path -&gt; FilesTest.doSomething(&quot;walk&quot;, path));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlogException(&quot;walk&quot;, e);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Files.walkFileTree&quot;);\r\n    \t\ttry {\r\n    \t\t\tFiles.walkFileTree(dir, Collections.emptySet(), 1, new SimpleFileVisitor&lt;Path&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n    \t\t\t\t\tdoSomething(&quot;visitFile&quot;, file);\r\n    \t\t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic FileVisitResult visitFileFailed(Path file, IOException exc) throws IOException {\r\n    \t\t\t\t\tlogException(&quot;visitFile&quot;, exc);\r\n    \t\t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlogException(&quot;walkFileTree&quot;, e);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Files.list&quot;);\r\n    \t\ttry (Stream&lt;Path&gt; stream = Files.list(dir)) {\r\n    \t\t\tstream.forEach(path -&gt; FilesTest.doSomething(&quot;dir&quot;, path));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlogException(&quot;dir&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void logException(String title, IOException e) {\r\n    \t\tSystem.err.println(title + &quot;\\terror: &quot; + e);\r\n    \t}\r\n    \r\n    \tprivate static void doSomething(String title, Path file) {\r\n    \t\tSystem.out.println(title + &quot;\\t: &quot; + file);\r\n    \t}\r\n    }\r\n","title":"What is the difference between Files.list and Files.walkFileTree and Files.walk with maxdepth = 1?","body":"<p>Using following code as test, I got the hang of the issue. The main difference between <code>walk*</code> and <code>list</code> is that <code>list(dir)</code> gives a stream of <strong>files in the directory</strong> <code>dir</code>, while both <code>walk*</code> method <strong>walk the subtree</strong> of its argument <em>including</em> the root of subtreethe directory itself.</p>\n<p>The difference between <code>walk</code> and <code>walkFileTree</code> is that they supply different interfaces for walking the tree: <code>walkFileTree</code> takes <code>FileVisitor</code>, <code>walk</code> gives <code>Stream&lt;Path&gt;</code>.</p>\n<pre><code>public class FilesTest {\n    public static void main(String[] args) {\n        final String pwd = System.getProperty(&quot;user.dir&quot;);\n        System.out.println(&quot;Working Directory = &quot; + pwd);\n        Path dir = Paths.get(pwd);\n        System.out.println(&quot;Files.walk&quot;);\n        try (Stream&lt;Path&gt; stream = Files.walk(dir, 1)) {\n            stream.forEach(path -&gt; FilesTest.doSomething(&quot;walk&quot;, path));\n        } catch (IOException e) {\n            logException(&quot;walk&quot;, e);\n        }\n        System.out.println(&quot;Files.walkFileTree&quot;);\n        try {\n            Files.walkFileTree(dir, Collections.emptySet(), 1, new SimpleFileVisitor&lt;Path&gt;() {\n                @Override\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n                    doSomething(&quot;visitFile&quot;, file);\n                    return FileVisitResult.CONTINUE;\n                }\n\n                @Override\n                public FileVisitResult visitFileFailed(Path file, IOException exc) throws IOException {\n                    logException(&quot;visitFile&quot;, exc);\n                    return FileVisitResult.CONTINUE;\n                }\n            });\n        } catch (IOException e) {\n            logException(&quot;walkFileTree&quot;, e);\n        }\n        System.out.println(&quot;Files.list&quot;);\n        try (Stream&lt;Path&gt; stream = Files.list(dir)) {\n            stream.forEach(path -&gt; FilesTest.doSomething(&quot;dir&quot;, path));\n        } catch (IOException e) {\n            logException(&quot;dir&quot;, e);\n        }\n    }\n\n    private static void logException(String title, IOException e) {\n        System.err.println(title + &quot;\\terror: &quot; + e);\n    }\n\n    private static void doSomething(String title, Path file) {\n        System.out.println(title + &quot;\\t: &quot; + file);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2195588,"reputation":1361,"user_id":1941359,"display_name":"AlexO"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613499848,"creation_date":1613499848,"answer_id":66230076,"question_id":37858082,"body_markdown":"`Files.list` simply delegates to `Files.newDirectoryStream` and exposes the underlying `java.nio.file.DirectoryStream` as a `java.util.stream.Stream`, so their functionality is basically the same except that `Files.newDirectoryStream` allows you to pass an optional `DirectoryStream.Filter`.\r\n\r\n`Files.walkFileTree` additionally exposes `BasicFileAttributes` (such as `lastModifiedTime`, `isRegularFile`, and `size`). If you are going to need these attributes, it could be more convenient (and possibly more efficient) to get them from `Files.walkFileTree` instead of looking them up separately.\r\n\r\n","title":"What is the difference between Files.list and Files.walkFileTree and Files.walk with maxdepth = 1?","body":"<p><code>Files.list</code> simply delegates to <code>Files.newDirectoryStream</code> and exposes the underlying <code>java.nio.file.DirectoryStream</code> as a <code>java.util.stream.Stream</code>, so their functionality is basically the same except that <code>Files.newDirectoryStream</code> allows you to pass an optional <code>DirectoryStream.Filter</code>.</p>\n<p><code>Files.walkFileTree</code> additionally exposes <code>BasicFileAttributes</code> (such as <code>lastModifiedTime</code>, <code>isRegularFile</code>, and <code>size</code>). If you are going to need these attributes, it could be more convenient (and possibly more efficient) to get them from <code>Files.walkFileTree</code> instead of looking them up separately.</p>\n"},{"tags":[],"owner":{"account_id":2343888,"reputation":56,"user_id":2054634,"display_name":"ptanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700488681,"creation_date":1700488681,"answer_id":77516466,"question_id":37858082,"body_markdown":"Keep in mind that when using\r\n\r\n```java\r\nFiles.list(directory)\r\n    .forEach(path -&gt; {\r\n        try {\r\n            doSomething(path);\r\n        } catch (IOException exc) {\r\n            // log exc\r\n        }\r\n    });\r\n```\r\n\r\nor\r\n\r\n```java\r\nFiles.walk(directory, 1)\r\n    .forEach(path -&gt; {\r\n        try {\r\n            doSomething(path);\r\n        } catch (IOException exc) {\r\n            // log exc\r\n        }\r\n});\r\n```\r\n\r\nyou MUST use try-with-resources if you don&#39;t want to introduce resource leak as stated in [Files.list() documentation](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#list-java.nio.file.Path-):\r\n\r\n&gt; The returned stream encapsulates a DirectoryStream. If timely disposal of file system resources is required, the try-with-resources construct should be used to ensure that the stream&#39;s close method is invoked after the stream operations are completed.\r\n\r\nso the best option should look something like:\r\n\r\n```java\r\ntry(Stream&lt;Path&gt; list = Files.list(directory)) {\r\n    list.forEach(path -&gt; {\r\n        try {\r\n            doSomething(path);\r\n        } catch (IOException exc) {\r\n            // log exc\r\n        }\r\n    });\r\n}\r\n```\r\n","title":"What is the difference between Files.list and Files.walkFileTree and Files.walk with maxdepth = 1?","body":"<p>Keep in mind that when using</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.list(directory)\n    .forEach(path -&gt; {\n        try {\n            doSomething(path);\n        } catch (IOException exc) {\n            // log exc\n        }\n    });\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.walk(directory, 1)\n    .forEach(path -&gt; {\n        try {\n            doSomething(path);\n        } catch (IOException exc) {\n            // log exc\n        }\n});\n</code></pre>\n<p>you MUST use try-with-resources if you don't want to introduce resource leak as stated in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#list-java.nio.file.Path-\" rel=\"nofollow noreferrer\">Files.list() documentation</a>:</p>\n<blockquote>\n<p>The returned stream encapsulates a DirectoryStream. If timely disposal of file system resources is required, the try-with-resources construct should be used to ensure that the stream's close method is invoked after the stream operations are completed.</p>\n</blockquote>\n<p>so the best option should look something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(Stream&lt;Path&gt; list = Files.list(directory)) {\n    list.forEach(path -&gt; {\n        try {\n            doSomething(path);\n        } catch (IOException exc) {\n            // log exc\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":1083641,"reputation":2184,"user_id":1083697,"accept_rate":67,"display_name":"andrybak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17728,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":37860983,"answer_count":4,"score":19,"last_activity_date":1700495896,"creation_date":1466077108,"question_id":37858082,"body_markdown":"If I want to do something with files only on the first level of the directory,\r\nis there a difference between using `Files.list(...)` or `Files.walkFileTree(...)` or `Files.walk(...)`?\r\n\r\n\tFiles.walkFileTree(directory, Collections.emptySet(), 1, new SimpleFileVisitor&lt;Path&gt;() {\r\n\t\t@Override\r\n\t\tpublic FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n\t\t\tdoSomething(file);\r\n\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic FileVisitResult visitFileFailed(Path file, IOException exc) {\r\n\t\t\t// log exc\r\n\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t}\r\n\t});\r\n\r\nversus\r\n\r\n\tFiles.list(directory)\r\n\t\t.forEach(path -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tdoSomething(path);\r\n\t\t\t} catch (IOException exc) {\r\n\t\t\t\t// log exc\r\n\t\t\t}\r\n\t\t});\r\n\r\nversus\r\n\r\n\tFiles.walk(directory, 1)\r\n        .forEach(path -&gt; {\r\n    \t\ttry {\r\n\t\t\t    doSomething(path);\r\n    \t\t} catch (IOException exc) {\r\n\t\t\t    // log exc\r\n    \t\t}\r\n\t});","title":"What is the difference between Files.list and Files.walkFileTree and Files.walk with maxdepth = 1?","body":"<p>If I want to do something with files only on the first level of the directory,\nis there a difference between using <code>Files.list(...)</code> or <code>Files.walkFileTree(...)</code> or <code>Files.walk(...)</code>?</p>\n\n<pre><code>Files.walkFileTree(directory, Collections.emptySet(), 1, new SimpleFileVisitor&lt;Path&gt;() {\n    @Override\n    public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n        doSomething(file);\n        return FileVisitResult.CONTINUE;\n    }\n\n    @Override\n    public FileVisitResult visitFileFailed(Path file, IOException exc) {\n        // log exc\n        return FileVisitResult.CONTINUE;\n    }\n});\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>Files.list(directory)\n    .forEach(path -&gt; {\n        try {\n            doSomething(path);\n        } catch (IOException exc) {\n            // log exc\n        }\n    });\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>Files.walk(directory, 1)\n    .forEach(path -&gt; {\n        try {\n            doSomething(path);\n        } catch (IOException exc) {\n            // log exc\n        }\n});\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","log4j2"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1700430444,"post_id":77511344,"comment_id":136650421,"body_markdown":"It works for me, but seeing that your pattern does not match the logging messages, I guess you&#39;re not using log4j2. Can you show me the full list of dependencies you use?","body":"It works for me, but seeing that your pattern does not match the logging messages, I guess you&#39;re not using log4j2. Can you show me the full list of dependencies you use?"},{"owner":{"account_id":28371535,"reputation":1,"user_id":21700053,"display_name":"Augusto Soria"},"score":0,"creation_date":1700435315,"post_id":77511344,"comment_id":136650888,"body_markdown":"Sure I just update the question @g00glen00b","body":"Sure I just update the question @g00glen00b"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700442573,"post_id":77511344,"comment_id":136651488,"body_markdown":"why not just read the spring boot chapter named &quot;Logging&quot;? https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels","body":"why not just read the spring boot chapter named &quot;Logging&quot;? <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.logging.log-levels\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":28371535,"reputation":1,"user_id":21700053,"display_name":"Augusto Soria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700495740,"creation_date":1700407442,"question_id":77511344,"body_markdown":"Could somebody help me with Log4J 2, I am trying to implement log to my SpringBoot app, but I can&#39;t print log of debug level, it just shows info, warn and error log levels. I can&#39;t found what I am missing or what I am doing wrong. Java Version 17. Spring-boot-starter-parent version 3.1.4. Thanks!\r\n\r\nSpring Application:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n    protected static final Logger logger = LogManager.getLogger(DemoApplication.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n        \tlogger.trace(&quot;DemoApplication&quot;); &lt;-- it is not displayed\r\n        \tlogger.info(&quot;DemoApplication&quot;);\r\n        \tlogger.debug(&quot;DemoApplication&quot;); &lt;-- it is not displayed\r\n        \tlogger.warn(&quot;DemoApplication&quot;);\r\n        \tlogger.error(&quot;DemoApplication&quot;);\r\n        \tlogger.fatal(&quot;DemoApplication&quot;);\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nLog4j2.properties set under src/main/resource:\r\n\r\n```\r\nstatus = trace\r\nname = ConsoleLogDemo\r\nappenders = console\r\nappender.console.type = Console\r\nappender.console.name = consoleLogger\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\nrootLogger.level = trace\r\nrootLogger.appenderRef.stdout.ref = consoleLogger\r\n```\r\n\r\nLogs in the console:\r\n```\r\n\r\n11:56:51.798 [main] INFO com.example.demo.DemoApplication -- DemoApplication\r\n11:56:51.804 [main] WARN com.example.demo.DemoApplication -- DemoApplication\r\n11:56:51.808 [main] ERROR com.example.demo.DemoApplication -- DemoApplication\r\n11:56:51.810 [main] ERROR com.example.demo.DemoApplication -- DemoApplication\r\n```\r\n\r\npom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.21.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.21.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nExpecting: print also debug level logs\r\n\r\n#######################################################################\r\nUpdate\r\n\r\nI added the exclusions tag in the spring security dependency, and now i cant see the logs that i expect, but now i also get all the logs of spring security, is there any way to just show my debug logs and not the spring security debug logs?\r\n\r\nspring security dependecy updated in the pom.xml file:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nlog4j2.properties file:\r\n```\r\nstatus = trace\r\n# Name of the configuration\r\nname = ConsoleLogDemo\r\nappenders = console\r\n# Console appender configuration\r\nappender.console.type = Console\r\nappender.console.name = consoleLogger\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n# Root logger level\r\nrootLogger.level = trace\r\n# logger.com.example.demo.DemoApplication.level = trace\r\n# Root logger referring to console appender\r\nrootLogger.appenderRef.stdout.ref = consoleLogger\r\n```\r\n\r\n#######################################################################\r\nSolution\r\n\r\nMy initial problem was that when I tryied to show debug level logs with log4j2, it and the lower level logs than debug are not displayed in the console, so I noticed that when I added the exclusion tag, all the level logs were displayed, but I also made the mistake of set the global level logs of Log4j2 at trace, and that caused that every level log of Log4j2 like it initialization and stuff were also displayed, so I fixed that changing the global level of Log4j2 to warn, but I also had the problem that initialization, trace or info of spring are displayed, so into my application.properties I added the line &#39;logging.level.root=info&#39; and fixed my last problem.\r\n\r\nSo now into my pom.xml I have the exclusion tag in the Spring Security dependency and my ultimate log4j2.properties is like below:\r\n\r\n```\r\n# Log4j2 global level log \r\nstatus = warn\r\n# Console appender configuration \r\nappender.console.type = Console \r\nappender.console.name = consoleLogger \r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{2} - %m%n\r\n# Root logger level \r\nrootLogger.level = debug\r\n# Root logger referring to console appender rootLogger.appenderRef.stdout.ref = consoleLogger\r\n```","title":"Log4J2 not working - conflicts with spring security log config - [fixed]","body":"<p>Could somebody help me with Log4J 2, I am trying to implement log to my SpringBoot app, but I can't print log of debug level, it just shows info, warn and error log levels. I can't found what I am missing or what I am doing wrong. Java Version 17. Spring-boot-starter-parent version 3.1.4. Thanks!</p>\n<p>Spring Application:</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n    protected static final Logger logger = LogManager.getLogger(DemoApplication.class);\n\n    public static void main(String[] args) {\n            logger.trace(&quot;DemoApplication&quot;); &lt;-- it is not displayed\n            logger.info(&quot;DemoApplication&quot;);\n            logger.debug(&quot;DemoApplication&quot;); &lt;-- it is not displayed\n            logger.warn(&quot;DemoApplication&quot;);\n            logger.error(&quot;DemoApplication&quot;);\n            logger.fatal(&quot;DemoApplication&quot;);\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Log4j2.properties set under src/main/resource:</p>\n<pre><code>status = trace\nname = ConsoleLogDemo\nappenders = console\nappender.console.type = Console\nappender.console.name = consoleLogger\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\nrootLogger.level = trace\nrootLogger.appenderRef.stdout.ref = consoleLogger\n</code></pre>\n<p>Logs in the console:</p>\n<pre><code>\n11:56:51.798 [main] INFO com.example.demo.DemoApplication -- DemoApplication\n11:56:51.804 [main] WARN com.example.demo.DemoApplication -- DemoApplication\n11:56:51.808 [main] ERROR com.example.demo.DemoApplication -- DemoApplication\n11:56:51.810 [main] ERROR com.example.demo.DemoApplication -- DemoApplication\n</code></pre>\n<p>pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.21.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.21.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Expecting: print also debug level logs</p>\n<p>#######################################################################\nUpdate</p>\n<p>I added the exclusions tag in the spring security dependency, and now i cant see the logs that i expect, but now i also get all the logs of spring security, is there any way to just show my debug logs and not the spring security debug logs?</p>\n<p>spring security dependecy updated in the pom.xml file:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>log4j2.properties file:</p>\n<pre><code>status = trace\n# Name of the configuration\nname = ConsoleLogDemo\nappenders = console\n# Console appender configuration\nappender.console.type = Console\nappender.console.name = consoleLogger\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n# Root logger level\nrootLogger.level = trace\n# logger.com.example.demo.DemoApplication.level = trace\n# Root logger referring to console appender\nrootLogger.appenderRef.stdout.ref = consoleLogger\n</code></pre>\n<p>#######################################################################\nSolution</p>\n<p>My initial problem was that when I tryied to show debug level logs with log4j2, it and the lower level logs than debug are not displayed in the console, so I noticed that when I added the exclusion tag, all the level logs were displayed, but I also made the mistake of set the global level logs of Log4j2 at trace, and that caused that every level log of Log4j2 like it initialization and stuff were also displayed, so I fixed that changing the global level of Log4j2 to warn, but I also had the problem that initialization, trace or info of spring are displayed, so into my application.properties I added the line 'logging.level.root=info' and fixed my last problem.</p>\n<p>So now into my pom.xml I have the exclusion tag in the Spring Security dependency and my ultimate log4j2.properties is like below:</p>\n<pre><code># Log4j2 global level log \nstatus = warn\n# Console appender configuration \nappender.console.type = Console \nappender.console.name = consoleLogger \nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{2} - %m%n\n# Root logger level \nrootLogger.level = debug\n# Root logger referring to console appender rootLogger.appenderRef.stdout.ref = consoleLogger\n</code></pre>\n"},{"tags":["java","class","constructor","superclass"],"comments":[{"owner":{"account_id":3009755,"reputation":1135,"user_id":2553526,"display_name":"Faisal Ali"},"score":4,"creation_date":1398882792,"post_id":23395513,"comment_id":35843804,"body_markdown":"try `super(&quot;Name&quot;, dob);` in `public Student(String instructor)`&#39;s first line","body":"try <code>super(&quot;Name&quot;, dob);</code> in <code>public Student(String instructor)</code>&#39;s first line"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1398882805,"post_id":23395513,"comment_id":35843813,"body_markdown":"How does the student know what its name and DOB is if you don&#39;t call an appropriate super constructor","body":"How does the student know what its name and DOB is if you don&#39;t call an appropriate super constructor"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398882785,"creation_date":1398882785,"answer_id":23395548,"question_id":23395513,"body_markdown":"When creating a subclass constructor, if you don&#39;t explicitly call a superclass constructor with `super`, then Java will insert an implicit call to the no-arg &quot;default&quot; superclass constructor, i.e. `super();`.\r\n\r\nHowever, your superclass `Person` doesn&#39;t have a no-arg constructor.  Either supply an explicit no-arg constructor in `Person` or explicitly call the existing superclass constructor in the `Student` constructor.","title":"implicit super constructor Person() is undefined. Must explicitly invoke another constructor?","body":"<p>When creating a subclass constructor, if you don't explicitly call a superclass constructor with <code>super</code>, then Java will insert an implicit call to the no-arg \"default\" superclass constructor, i.e. <code>super();</code>.</p>\n\n<p>However, your superclass <code>Person</code> doesn't have a no-arg constructor.  Either supply an explicit no-arg constructor in <code>Person</code> or explicitly call the existing superclass constructor in the <code>Student</code> constructor.</p>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1398882823,"creation_date":1398882823,"answer_id":23395555,"question_id":23395513,"body_markdown":"You need to make a `super` call to your defined constructor:\r\n\r\n    public Student(String instructor) {\r\n        super(/* name */, /* date of birth */);\r\n    }\r\n\r\nYou can&#39;t just call `super()` because that constructor is not defined.","title":"implicit super constructor Person() is undefined. Must explicitly invoke another constructor?","body":"<p>You need to make a <code>super</code> call to your defined constructor:</p>\n\n<pre><code>public Student(String instructor) {\n    super(/* name */, /* date of birth */);\n}\n</code></pre>\n\n<p>You can't just call <code>super()</code> because that constructor is not defined.</p>\n"},{"tags":[],"owner":{"account_id":3527935,"reputation":1497,"user_id":2948478,"accept_rate":79,"display_name":"EasterBunnyBugSmasher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398882960,"creation_date":1398882960,"answer_id":23395601,"question_id":23395513,"body_markdown":"you can&#39;t create an instance without calling a constructor of its super class. And the jvm doesn&#39;t know how to call Person(String, double) from your Student(String) constructor.","title":"implicit super constructor Person() is undefined. Must explicitly invoke another constructor?","body":"<p>you can't create an instance without calling a constructor of its super class. And the jvm doesn't know how to call Person(String, double) from your Student(String) constructor.</p>\n"},{"tags":[],"owner":{"account_id":1944998,"reputation":1611,"user_id":1750360,"accept_rate":80,"display_name":"pxm"},"comment_count":0,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1669704944,"creation_date":1398883591,"answer_id":23395784,"question_id":23395513,"body_markdown":"&gt; If a constructor does not explicitly invoke a superclass constructor,\r\n&gt; the Java compiler automatically inserts a call to the no-argument\r\n&gt; constructor of the superclass. \r\n&gt;\r\n If the super class does not have a\r\n&gt; no-argument constructor, you will get a compile-time error. Object\r\n&gt; does have such a constructor, so if Object is the only superclass,\r\n&gt; there is no problem.\r\n\r\nReference: http://docs.oracle.com/javase/tutorial/java/IandI/super.html :\r\n(See under section &#39;SubClass Constructors&#39;)\r\n\r\nSo whenever dealing with parameterized constructors make a  `super(parameter1, parameter2 ..)` call to the parent constructor.\r\n**Also this super() call should be the FIRST line in your constructor block.** \r\n\r\nOr else, if a scenario demands, create an additional non-parameterized () constructor in the parent class ","title":"implicit super constructor Person() is undefined. Must explicitly invoke another constructor?","body":"<blockquote>\n<p>If a constructor does not explicitly invoke a superclass constructor,\nthe Java compiler automatically inserts a call to the no-argument\nconstructor of the superclass.</p>\n</blockquote>\n<p>If the super class does not have a</p>\n<blockquote>\n<p>no-argument constructor, you will get a compile-time error. Object\ndoes have such a constructor, so if Object is the only superclass,\nthere is no problem.</p>\n</blockquote>\n<p>Reference: <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/super.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/java/IandI/super.html</a> :\n(See under section 'SubClass Constructors')</p>\n<p>So whenever dealing with parameterized constructors make a  <code>super(parameter1, parameter2 ..)</code> call to the parent constructor.\n<strong>Also this super() call should be the FIRST line in your constructor block.</strong></p>\n<p>Or else, if a scenario demands, create an additional non-parameterized () constructor in the parent class</p>\n"},{"tags":[],"owner":{"account_id":5317826,"reputation":7135,"user_id":4242086,"accept_rate":100,"display_name":"Jaime Montoya"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1522489798,"creation_date":1522489798,"answer_id":49586425,"question_id":23395513,"body_markdown":"This is how I achieved it (in my case the superclass was Team and the subclass was Scorer):\r\n\r\n    // Team.java\r\n\tpublic class Team {\r\n\t\tString team;\r\n\t\tint won;\r\n\t\tint drawn;\r\n\t\tint lost;\r\n\t\tint goalsFor;\r\n\t\tint goalsAgainst;\r\n\t\tTeam(String team, int won, int drawn, int lost, int goalsFor, int goalsAgainst){\r\n\t\t\tthis.team = team;\r\n\t\t\tthis.won = won;\r\n\t\t\tthis.drawn = drawn;\r\n\t\t\tthis.lost = lost;\r\n\t\t\tthis.goalsFor = goalsFor;\r\n\t\t\tthis.goalsAgainst = goalsAgainst;\r\n\t\t}\r\n\t\tint matchesPlayed(){\r\n\t\t\treturn won + drawn + lost;\r\n\t\t}\r\n\t\tint goalDifference(){\r\n\t\t\treturn goalsFor - goalsAgainst;\r\n\t\t}\r\n\t\tint points(){\r\n\t\t\treturn (won * 3) + (drawn * 1);\r\n\t\t}\r\n\t}\r\n    // Scorer.java\r\n\tpublic class Scorer extends Team{\r\n\t\tString player;\r\n\t\tint goalsScored;\r\n\t\tScorer(String player, int goalsScored, String team, int won, int drawn, int lost, int goalsFor, int goalsAgainst){\r\n\t\t\tsuper(team, won, drawn, lost, goalsFor, goalsAgainst);\r\n\t\t\tthis.player = player;\r\n\t\t\tthis.goalsScored = goalsScored;\r\n\t\t}\r\n\t\tfloat contribution(){\r\n\t\t\treturn (float)this.goalsScored / (float)this.goalsFor;\r\n\t\t}\r\n\t\tfloat goalsPerMatch(){\r\n\t\t\treturn (float)this.goalsScored/(float)(this.won + this.drawn + this.lost);\r\n\t\t}\r\n\t}","title":"implicit super constructor Person() is undefined. Must explicitly invoke another constructor?","body":"<p>This is how I achieved it (in my case the superclass was Team and the subclass was Scorer):</p>\n\n<pre><code>// Team.java\npublic class Team {\n    String team;\n    int won;\n    int drawn;\n    int lost;\n    int goalsFor;\n    int goalsAgainst;\n    Team(String team, int won, int drawn, int lost, int goalsFor, int goalsAgainst){\n        this.team = team;\n        this.won = won;\n        this.drawn = drawn;\n        this.lost = lost;\n        this.goalsFor = goalsFor;\n        this.goalsAgainst = goalsAgainst;\n    }\n    int matchesPlayed(){\n        return won + drawn + lost;\n    }\n    int goalDifference(){\n        return goalsFor - goalsAgainst;\n    }\n    int points(){\n        return (won * 3) + (drawn * 1);\n    }\n}\n// Scorer.java\npublic class Scorer extends Team{\n    String player;\n    int goalsScored;\n    Scorer(String player, int goalsScored, String team, int won, int drawn, int lost, int goalsFor, int goalsAgainst){\n        super(team, won, drawn, lost, goalsFor, goalsAgainst);\n        this.player = player;\n        this.goalsScored = goalsScored;\n    }\n    float contribution(){\n        return (float)this.goalsScored / (float)this.goalsFor;\n    }\n    float goalsPerMatch(){\n        return (float)this.goalsScored/(float)(this.won + this.drawn + this.lost);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29791017,"reputation":11,"user_id":22831165,"display_name":"Kim Thch Nguyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700495349,"creation_date":1700495349,"answer_id":77517254,"question_id":23395513,"body_markdown":"An easy way to solve this problem that you can **instantiate a\r\nno-argument constructor at super class**.","title":"implicit super constructor Person() is undefined. Must explicitly invoke another constructor?","body":"<p>An easy way to solve this problem that you can <strong>instantiate a\nno-argument constructor at super class</strong>.</p>\n"}],"owner":{"account_id":3667690,"reputation":623,"user_id":3055628,"accept_rate":100,"display_name":"sirnomnomz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146965,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":23395784,"answer_count":6,"score":45,"last_activity_date":1700495349,"creation_date":1398882676,"question_id":23395513,"body_markdown":"I am working on a project and i am getting the error &quot;implicit super constructor Person() is undefined. Must explicitly invoke another constructor&quot; and i don&#39;t quite understand it.\r\n\r\nHere is my person class:\r\n\r\n\r\n    public class Person {\r\n    \tpublic Person(String name, double DOB){\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nAnd my student class when trying to implement the person class, and giving it an instructor variable.\r\n\r\n\r\n    public class Student extends Person {\r\n    \r\n    \tpublic Student(String Instructor) {\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"implicit super constructor Person() is undefined. Must explicitly invoke another constructor?","body":"<p>I am working on a project and i am getting the error \"implicit super constructor Person() is undefined. Must explicitly invoke another constructor\" and i don't quite understand it.</p>\n\n<p>Here is my person class:</p>\n\n<pre><code>public class Person {\n    public Person(String name, double DOB){\n\n    }\n}\n</code></pre>\n\n<p>And my student class when trying to implement the person class, and giving it an instructor variable.</p>\n\n<pre><code>public class Student extends Person {\n\n    public Student(String Instructor) {\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","file-io"],"comments":[{"owner":{"display_name":"user180100"},"score":2,"creation_date":1318754869,"post_id":7783231,"comment_id":9478972,"body_markdown":"related http://stackoverflow.com/questions/1547209/java-multithreading-reading-a-single-large-file ?","body":"related <a href=\"http://stackoverflow.com/questions/1547209/java-multithreading-reading-a-single-large-file\" title=\"java multithreading reading a single large file\">stackoverflow.com/questions/1547209/&hellip;</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":1,"creation_date":1318764116,"post_id":7783297,"comment_id":9479900,"body_markdown":"This is a recipe for disaster. You are not even guaranteed to get individual lines right.","body":"This is a recipe for disaster. You are not even guaranteed to get individual lines right."}],"tags":[],"owner":{"account_id":976694,"reputation":1,"user_id":997629,"display_name":"pat"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1318755660,"creation_date":1318755660,"answer_id":7783297,"question_id":7783231,"body_markdown":"\r\n\r\n    public static void main(String[] args){\r\n    //\r\n    String filePath = args[0];\r\n    \r\n    //Create runnable objects\r\n    \r\n    \r\n    \r\n    //Load the file\r\n    BufferedReader br = new BufferedReader(new FileReader(filePath));\r\n    //share this object among threads you want\r\n    MyFileReader mf1 = new MyFileReader(br);\r\n    MyFileReader mf2 = new MyFileReader(br);\r\n    MyFileReader mf3 = new MyFileReader(br);\r\n    \r\n    new Thread(mf1).start();\r\n    new Thread(mf2).start();\r\n    new Thread(mf3).start();\r\n    //code to detect thread ends\r\n    //close br here\r\n    \r\n    }\r\n    \r\n    \r\n    public class MyFileReader implements Runnable{\r\n    \r\n    private BufferedReader br=null;\r\n    \r\n    public MyFileReader(BufferedReader br){\r\n    this.br = br\r\n    }\r\n    \r\n    public void run(){\r\n    String line=null;\r\n    while((line=br.readLine())!=null){\r\n    //do your thing here e.g.\r\n    System.out.println(line);\r\n    }   \r\n    }","title":"Reading a single file using 3 thread","body":"<pre><code>public static void main(String[] args){\n//\nString filePath = args[0];\n\n//Create runnable objects\n\n\n\n//Load the file\nBufferedReader br = new BufferedReader(new FileReader(filePath));\n//share this object among threads you want\nMyFileReader mf1 = new MyFileReader(br);\nMyFileReader mf2 = new MyFileReader(br);\nMyFileReader mf3 = new MyFileReader(br);\n\nnew Thread(mf1).start();\nnew Thread(mf2).start();\nnew Thread(mf3).start();\n//code to detect thread ends\n//close br here\n\n}\n\n\npublic class MyFileReader implements Runnable{\n\nprivate BufferedReader br=null;\n\npublic MyFileReader(BufferedReader br){\nthis.br = br\n}\n\npublic void run(){\nString line=null;\nwhile((line=br.readLine())!=null){\n//do your thing here e.g.\nSystem.out.println(line);\n}   \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"score":0,"creation_date":1318762669,"post_id":7783350,"comment_id":9479771,"body_markdown":"You are right. There are some special situations (SSDs, RAIDs, very large data sets), where it might help, but not for only 1 MB which takes only a few ms at most. When only a single disk is available, multithreaded reads will makes things always worse. A disk is a inherently single-threaded medium.","body":"You are right. There are some special situations (SSDs, RAIDs, very large data sets), where it might help, but not for only 1 MB which takes only a few ms at most. When only a single disk is available, multithreaded reads will makes things always worse. A disk is a inherently single-threaded medium."}],"tags":[],"owner":{"account_id":447475,"reputation":1,"user_id":841108,"accept_rate":61,"display_name":"Basile Starynkevitch"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700495235,"creation_date":1318756310,"answer_id":7783350,"question_id":7783231,"body_markdown":"I believe that if your goal is performance, you should not bother reading a single megabyte file in several threads. Most of the time is probably spent in doing the actual IO operation, that is reading from the disk (recall that disk operations are millions times slower than memory operations). Of course, on some occasions, it could be faster (e.g. on Linux system, the file data could have been cached, it it has been read or written some time before).\r\n\r\nBut when reading (rather small, i.e. megabyte sized) files, most of the time is spent in the system, and your coding won&#39;t impact that.\r\n\r\nAnd reading a megabyte file should go fast on today&#39;s machines. You might use some dirty system tricks to improve it (e.g. the [Linux readahead system call][1]), if absolutely necessary.\r\n\r\nActually, your question surprises me. Reading one megabyte is quick today!\r\n\r\n\r\n  [1]: http://linux.die.net/man/2/readahead","title":"Reading a single file using 3 thread","body":"<p>I believe that if your goal is performance, you should not bother reading a single megabyte file in several threads. Most of the time is probably spent in doing the actual IO operation, that is reading from the disk (recall that disk operations are millions times slower than memory operations). Of course, on some occasions, it could be faster (e.g. on Linux system, the file data could have been cached, it it has been read or written some time before).</p>\n<p>But when reading (rather small, i.e. megabyte sized) files, most of the time is spent in the system, and your coding won't impact that.</p>\n<p>And reading a megabyte file should go fast on today's machines. You might use some dirty system tricks to improve it (e.g. the <a href=\"http://linux.die.net/man/2/readahead\" rel=\"nofollow noreferrer\">Linux readahead system call</a>), if absolutely necessary.</p>\n<p>Actually, your question surprises me. Reading one megabyte is quick today!</p>\n"}],"owner":{"account_id":976704,"reputation":1,"user_id":997635,"display_name":"Arun Sunrise"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1606,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700495235,"creation_date":1318754559,"question_id":7783231,"body_markdown":"i want three thread reading the single file for example the size of the file is 900 kb i want the first thread read the file 1kb to 300 and in the same fashion the other thread do (2 thread read from 301 kb to 600 kb AND 3 thread read 601kb to 900kb) does this approach make reading faster output has to be shown on the console may be the output get mixed it does not matter for me The main matter is that how to read the faster as comparison to single thread plz plz give me a suggestion or coding if somebody have plz ","title":"Reading a single file using 3 thread","body":"<p>i want three thread reading the single file for example the size of the file is 900 kb i want the first thread read the file 1kb to 300 and in the same fashion the other thread do (2 thread read from 301 kb to 600 kb AND 3 thread read 601kb to 900kb) does this approach make reading faster output has to be shown on the console may be the output get mixed it does not matter for me The main matter is that how to read the faster as comparison to single thread plz plz give me a suggestion or coding if somebody have plz </p>\n"},{"tags":["java","swing","ubuntu","jtable","gtk3"],"owner":{"account_id":313719,"reputation":633,"user_id":628504,"display_name":"lane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700495206,"creation_date":1700495206,"question_id":77517236,"body_markdown":"When I run a particular commercial java app on OpenJDK 21 on Windows I can highlight a block of text in a selected table row and the selection stands out from the rest of the cell.\r\n\r\n[![Highlighted block in selected row](https://i.stack.imgur.com/Onq3F.png)](https://i.stack.imgur.com/Onq3F.png)\r\n\r\nUnfortunately on an Ubuntu-based box the highlight doesn&#39;t show up, possibly because I have messed with the theme currently in use...\r\n\r\n[![Text selected but not highlighted](https://i.stack.imgur.com/l2NBu.png)](https://i.stack.imgur.com/l2NBu.png)\r\n\r\nI tried building a simple test app using Swing JTable but couldn&#39;t get it to allow me to select chunks of text in a cell without going into edit mode. Any suggestions as to how the example is likely to have been constructed so I can do some experiments in the absence of the commercial app source?\r\n\r\n(Tips as to the possible GTK3 (?) theme value being used for the selection colour would be appreciated as well!)\r\n\r\nI did see https://stackoverflow.com/q/9083206/628504 but is it likely that the commercial app went to such lengths? I would have thought this should be stock behaviour, if I could only find the right combination.","title":"Java table highlight-on-highlight issue","body":"<p>When I run a particular commercial java app on OpenJDK 21 on Windows I can highlight a block of text in a selected table row and the selection stands out from the rest of the cell.</p>\n<p><a href=\"https://i.stack.imgur.com/Onq3F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Onq3F.png\" alt=\"Highlighted block in selected row\" /></a></p>\n<p>Unfortunately on an Ubuntu-based box the highlight doesn't show up, possibly because I have messed with the theme currently in use...</p>\n<p><a href=\"https://i.stack.imgur.com/l2NBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l2NBu.png\" alt=\"Text selected but not highlighted\" /></a></p>\n<p>I tried building a simple test app using Swing JTable but couldn't get it to allow me to select chunks of text in a cell without going into edit mode. Any suggestions as to how the example is likely to have been constructed so I can do some experiments in the absence of the commercial app source?</p>\n<p>(Tips as to the possible GTK3 (?) theme value being used for the selection colour would be appreciated as well!)</p>\n<p>I did see <a href=\"https://stackoverflow.com/q/9083206/628504\">How to use LayeredHighlighter - One highlight on top of another</a> but is it likely that the commercial app went to such lengths? I would have thought this should be stock behaviour, if I could only find the right combination.</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":1590430,"reputation":354,"user_id":1473854,"accept_rate":62,"display_name":"Ch Faizan Mustansar"},"score":0,"creation_date":1390203690,"post_id":21228447,"comment_id":31974607,"body_markdown":"I have used following methods but it always runs the authentication interceptor.\n/**/invalidate*,\n**/invalidate*,\n*/invalidate*,\n/**/invalidate,\n**/invalidate","body":"I have used following methods but it always runs the authentication interceptor. /**/invalidate*, <i>*/invalidate</i>, <i>/invalidate</i>, /**/invalidate, **/invalidate"}],"answers":[{"comments":[{"owner":{"account_id":3481109,"reputation":2349,"user_id":2917707,"accept_rate":46,"display_name":"Hatem Jaber"},"score":2,"creation_date":1450912672,"post_id":21228953,"comment_id":56632254,"body_markdown":"I&#39;ve tried this exact same thing and it&#39;s not working for me. My interceptor is catching every request, not respecting the `excludePathPatterns(...)`. I have a simple controller that I want to process a specific request, but can&#39;t get the request due to the fact that my interceptor is catching all request.","body":"I&#39;ve tried this exact same thing and it&#39;s not working for me. My interceptor is catching every request, not respecting the <code>excludePathPatterns(...)</code>. I have a simple controller that I want to process a specific request, but can&#39;t get the request due to the fact that my interceptor is catching all request."},{"owner":{"account_id":466640,"reputation":1112,"user_id":871511,"accept_rate":33,"display_name":"Eren Yilmaz"},"score":0,"creation_date":1530183254,"post_id":21228953,"comment_id":89150460,"body_markdown":"With Spring 5+, WebMvcConfigurerAdapter is deprecated, you need to implement WebMvcConfigurer (interface).","body":"With Spring 5+, WebMvcConfigurerAdapter is deprecated, you need to implement WebMvcConfigurer (interface)."},{"owner":{"account_id":1770214,"reputation":6814,"user_id":1615183,"accept_rate":65,"display_name":"Hola Soy Edu Feliz Navidad"},"score":1,"creation_date":1553680641,"post_id":21228953,"comment_id":97470819,"body_markdown":"@HatemJaber I have the same problem, for no reasons the interceptor is trapping every request. The only solution I found so far is checking the path inside the interceptor.","body":"@HatemJaber I have the same problem, for no reasons the interceptor is trapping every request. The only solution I found so far is checking the path inside the interceptor."},{"owner":{"account_id":1552219,"reputation":2850,"user_id":1444360,"accept_rate":55,"display_name":"eureka19"},"score":0,"creation_date":1621398519,"post_id":21228953,"comment_id":119480547,"body_markdown":"@Chandra Sekhar Can I have the excludePathPatterns without the addPathPatterns ? I assume if I don&#39;t specify the addPathPatterns, it&#39;ll default to everything.","body":"@Chandra Sekhar Can I have the excludePathPatterns without the addPathPatterns ? I assume if I don&#39;t specify the addPathPatterns, it&#39;ll default to everything."}],"tags":[],"owner":{"account_id":197516,"reputation":16316,"user_id":1213738,"accept_rate":62,"display_name":"Chandra Sekhar"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1390205299,"creation_date":1390205299,"answer_id":21228953,"question_id":21228447,"body_markdown":"Have you tried as below?\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MyWebConfig extends WebMvcConfigurerAdapter \r\n    {\r\n      @Override\r\n      public void addInterceptors(InterceptorRegistry registry) \r\n      {\r\n        registry.addInterceptor(new MyCustomInterceptor())\r\n                .addPathPatterns(&quot;/**&quot;)\r\n                .excludePathPatterns(&quot;/foo/**&quot;);\r\n      }\r\n    }\r\n[Reference][1]\r\n\r\nRefer this [java doc][2] for better understanding.\r\n\r\n\r\n  [1]: http://www.jacobquatier.com/posts/2013/07/15/spring-mvc-mapped-interceptors/\r\n  [2]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-config-interceptors","title":"Spring, Interceptor&#39;s excludePathPatterns function is not working properly","body":"<p>Have you tried as below?</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MyWebConfig extends WebMvcConfigurerAdapter \n{\n  @Override\n  public void addInterceptors(InterceptorRegistry registry) \n  {\n    registry.addInterceptor(new MyCustomInterceptor())\n            .addPathPatterns(\"/**\")\n            .excludePathPatterns(\"/foo/**\");\n  }\n}\n</code></pre>\n\n<p><a href=\"http://www.jacobquatier.com/posts/2013/07/15/spring-mvc-mapped-interceptors/\" rel=\"noreferrer\">Reference</a></p>\n\n<p>Refer this <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-config-interceptors\" rel=\"noreferrer\">java doc</a> for better understanding.</p>\n"},{"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1487774831,"post_id":39634160,"comment_id":71936627,"body_markdown":"This answer doesn&#39;t address the question; it&#39;s a comment on another answer.  For those that are confused about the relevance of `MappedInterceptor`, an instance of it is created behind the scenes when an interceptor is added.  See https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/config/annotation/InterceptorRegistration.java  Note at the bottom of that class, in the `toArray` method, that if the `List` of included patterns is empty then `null` is returned rather than an empty array.","body":"This answer doesn&#39;t address the question; it&#39;s a comment on another answer.  For those that are confused about the relevance of <code>MappedInterceptor</code>, an instance of it is created behind the scenes when an interceptor is added.  See <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/config/annotation/InterceptorRegistration.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/blob/master/&hellip;</a>  Note at the bottom of that class, in the <code>toArray</code> method, that if the <code>List</code> of included patterns is empty then <code>null</code> is returned rather than an empty array."}],"tags":[],"owner":{"account_id":9239527,"reputation":11,"user_id":6863171,"display_name":"user6863171"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1474535626,"creation_date":1474533556,"answer_id":39634160,"question_id":21228447,"body_markdown":"It&#39;s Unnecessary add: \r\n\r\n    addPathPatterns(&quot;/**&quot;)\r\n\r\nMappedInterceptor.java:\r\n\r\n![][1]\r\n\r\n  [1]: http://i.stack.imgur.com/nlG1F.png","title":"Spring, Interceptor&#39;s excludePathPatterns function is not working properly","body":"<p>It's Unnecessary add: </p>\n\n<pre><code>addPathPatterns(\"/**\")\n</code></pre>\n\n<p>MappedInterceptor.java:</p>\n\n<p><img src=\"https://i.stack.imgur.com/nlG1F.png\" alt=\"\"></p>\n"},{"tags":[],"owner":{"account_id":8315755,"reputation":449,"user_id":6249116,"accept_rate":10,"display_name":"Camilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516911642,"creation_date":1516911642,"answer_id":48451244,"question_id":21228447,"body_markdown":"In my case, I had to debug the whole FrameworkServlet of Spring, and somewhere, an exception was thrown saying: &quot;No parameters named hashId&quot;.\r\n\r\nTurned out my requestParam wasn&#39;t named hashId but id, so the interceptor was correctly applied to that service url path.\r\n\r\nMake sure the excludedPattern starts with &quot;/&quot; and is requested with the parameter names exactly as defined in the controller.","title":"Spring, Interceptor&#39;s excludePathPatterns function is not working properly","body":"<p>In my case, I had to debug the whole FrameworkServlet of Spring, and somewhere, an exception was thrown saying: \"No parameters named hashId\".</p>\n\n<p>Turned out my requestParam wasn't named hashId but id, so the interceptor was correctly applied to that service url path.</p>\n\n<p>Make sure the excludedPattern starts with \"/\" and is requested with the parameter names exactly as defined in the controller.</p>\n"},{"tags":[],"owner":{"account_id":13455653,"reputation":11,"user_id":9709289,"display_name":"ross"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524825479,"creation_date":1524817530,"answer_id":50058300,"question_id":21228447,"body_markdown":"I think maybe your code triggers another error,the url path changed to another url(/error etc),then the /error url path that you have not excluded,pls check your code or debug a breakpoint as [this picture.][1]\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/akaPh.jpg","title":"Spring, Interceptor&#39;s excludePathPatterns function is not working properly","body":"<p>I think maybe your code triggers another error,the url path changed to another url(/error etc),then the /error url path that you have not excluded,pls check your code or debug a breakpoint as <a href=\"https://i.stack.imgur.com/akaPh.jpg\" rel=\"nofollow noreferrer\">this picture.</a></p>\n"},{"tags":[],"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616587546,"creation_date":1616587546,"answer_id":66780662,"question_id":21228447,"body_markdown":"I have found the same issue while implementing the similar requirement. Please try below in your code if you are **using Spring 5+** version.\r\n\r\n    @Configuration\r\n    public class BasicInterceptorAppConfig implements **WebMvcConfigurer** {\r\n    \r\n        @Autowired\r\n        YourCustomInterceptor yourCustomInterceptor;\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry interceptorRegistry){\r\n            interceptorRegistry.addInterceptor(yourCustomInterceptor).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/admin.html&quot;, &quot;/swagger-ui.html&quot;);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nPlease user WebMvcConfigurer for Spring 5+ version. Hope this may help someone who is looking similar solution.","title":"Spring, Interceptor&#39;s excludePathPatterns function is not working properly","body":"<p>I have found the same issue while implementing the similar requirement. Please try below in your code if you are <strong>using Spring 5+</strong> version.</p>\n<pre><code>@Configuration\npublic class BasicInterceptorAppConfig implements **WebMvcConfigurer** {\n\n    @Autowired\n    YourCustomInterceptor yourCustomInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry interceptorRegistry){\n        interceptorRegistry.addInterceptor(yourCustomInterceptor).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/admin.html&quot;, &quot;/swagger-ui.html&quot;);\n\n    }\n\n}\n</code></pre>\n<p>Please user WebMvcConfigurer for Spring 5+ version. Hope this may help someone who is looking similar solution.</p>\n"},{"tags":[],"owner":{"account_id":9945374,"reputation":620,"user_id":7361008,"display_name":"Tomas F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700495163,"creation_date":1700495163,"answer_id":77517231,"question_id":21228447,"body_markdown":"In my case it was missing trailing slash.\r\n  \r\n  `registry.addInterceptor(fooInterceptor()).excludePathPatterns(&quot;/internal/bar**&quot;);`    \r\ninstead of\r\n\r\n`registry.addInterceptor(fooInterceptor()).excludePathPatterns(&quot;/internal/bar/**&quot;);`   \r\n","title":"Spring, Interceptor&#39;s excludePathPatterns function is not working properly","body":"<p>In my case it was missing trailing slash.</p>\n<p><code>registry.addInterceptor(fooInterceptor()).excludePathPatterns(&quot;/internal/bar**&quot;);</code><br />\ninstead of</p>\n<p><code>registry.addInterceptor(fooInterceptor()).excludePathPatterns(&quot;/internal/bar/**&quot;);</code></p>\n"}],"owner":{"account_id":1590430,"reputation":354,"user_id":1473854,"accept_rate":62,"display_name":"Ch Faizan Mustansar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17432,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21228953,"answer_count":6,"score":4,"last_activity_date":1700495163,"creation_date":1390203064,"question_id":21228447,"body_markdown":"I am working on Spring Framework and I wanted to write an interceptor and I wrote it eventually and it is working fine. \r\nbut at a point, I dont want my interceptor to intercept the request that is when user wants to logout and the session is being invalidated. But it is not happening as per my expectation.\r\n\r\nI am adding interceptors by extending the **WebMvcConfigurerAdapter** and by utilizing the **addInterceptors** method and here is the code.\r\n\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        super.addInterceptors(registry);\r\n        registry.addInterceptor( loggerInterceptor );\r\n        registry.addInterceptor( authenticationInterceptor ).excludePathPatterns(&quot;/invalidate&quot;);   \r\n        }\r\nHave I done anything wrong here.?\r\nexcludePathPatterns - &gt; My URL ends with /invalidate. So please guide me, how to device a proper pattern.","title":"Spring, Interceptor&#39;s excludePathPatterns function is not working properly","body":"<p>I am working on Spring Framework and I wanted to write an interceptor and I wrote it eventually and it is working fine. \nbut at a point, I dont want my interceptor to intercept the request that is when user wants to logout and the session is being invalidated. But it is not happening as per my expectation.</p>\n\n<p>I am adding interceptors by extending the <strong>WebMvcConfigurerAdapter</strong> and by utilizing the <strong>addInterceptors</strong> method and here is the code.</p>\n\n<pre><code>public void addInterceptors(InterceptorRegistry registry) {\n    super.addInterceptors(registry);\n    registry.addInterceptor( loggerInterceptor );\n    registry.addInterceptor( authenticationInterceptor ).excludePathPatterns(\"/invalidate\");   \n    }\n</code></pre>\n\n<p>Have I done anything wrong here.?\nexcludePathPatterns - > My URL ends with /invalidate. So please guide me, how to device a proper pattern.</p>\n"},{"tags":["java","c#","mime","email-client","system.net.sockets"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1700494501,"post_id":77517095,"comment_id":136658334,"body_markdown":"You need to get more details about what exception actually occurred, and what the exception says about what the problem actually is.","body":"You need to get more details about what exception actually occurred, and what the exception says about what the problem actually is."},{"owner":{"account_id":29926859,"reputation":1,"user_id":22934706,"display_name":"Do Tan Ngoc Anh"},"score":0,"creation_date":1700495122,"post_id":77517095,"comment_id":136658467,"body_markdown":"@RobertHarvey I&#39;ve updated my post with the full exception. You could check it out again.","body":"@RobertHarvey I&#39;ve updated my post with the full exception. You could check it out again."},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1700500179,"post_id":77517095,"comment_id":136659463,"body_markdown":"OK, so it would appear that your frame really is too long, or something is going on that is tripping that wire.","body":"OK, so it would appear that your frame really is too long, or something is going on that is tripping that wire."}],"owner":{"account_id":29926859,"reputation":1,"user_id":22934706,"display_name":"Do Tan Ngoc Anh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700495006,"creation_date":1700494157,"question_id":77517095,"body_markdown":"I&#39;m currently working on a Mail Client that can send Emails in MIME format in C#, but I&#39;m only allow to use Socket (System.Net.Sockets) for implementation. This is the Java server side used for this project: [Test-Mail-Server](https://github.com/eugenehr/test-mail-server)\r\n\r\nFor testing purposes, I tried to convert a file data into base64 string, then it is sent via socket like this:\r\n```\r\nSocket client = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\r\nclient.Connect(IPAddress.Parse(&quot;127.0.0.1&quot;), 2225);\r\nclient.Send(Encoding.ASCII.GetBytes(&quot;HELO test.com\\r\\n&quot;));\r\nclient.Send(Encoding.ASCII.GetBytes(&quot;MAIL FROM: &lt;abc@gmail.com&gt;\\r\\n&quot;));\r\nclient.Send(Encoding.ASCII.GetBytes(&quot;RCPT TO: &lt;abc@gmail.com&gt;\\r\\n&quot;));\r\nclient.Send(Encoding.ASCII.GetBytes(&quot;DATA\\r\\n&quot;));\r\n\r\nbyte[] data = File.ReadAllBytes(@&quot;D:\\test.docx&quot;);\r\nstring contentBase64 = Convert.ToBase64String(data);\r\nclient.Send(Encoding.ASCII.GetBytes(contentBase64));\r\nclient.Send(Encoding.ASCII.GetBytes(&quot;.\\r\\n&quot;));\r\n\r\n```\r\nI got this warning:\r\n```\r\nAn exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.\r\nio.netty.handler.codec.TooLongFrameException: frame length (over 74240) exceeds the allowed maximum (16384)\r\n        at io.netty.handler.codec.LineBasedFrameDecoder.fail(LineBasedFrameDecoder.java:150)\r\n        at io.netty.handler.codec.LineBasedFrameDecoder.decode(LineBasedFrameDecoder.java:122)\r\n        at io.netty.handler.codec.DelimiterBasedFrameDecoder.decode(DelimiterBasedFrameDecoder.java:232)\r\n        at io.netty.handler.codec.DelimiterBasedFrameDecoder.decode(DelimiterBasedFrameDecoder.java:216)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:428)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n        at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:647)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:582)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:461)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)\r\n        at java.lang.Thread.run(Unknown Source)\r\n```\r\nBut it was fine when I sent it without converting it into Base64.\r\n\r\n\r\nI also asked Copilot and Chat-GPT for solution like this, but it still does not work:\r\n\r\n```\r\nstatic void SendFile(NetworkStream stream, string filePath)\r\n    {\r\n        byte[] buffer = new byte[4096];\r\n        int bytesRead;\r\n\r\n        using (FileStream fileStream = new FileStream(filePath, FileMode.Open))\r\n        using (MemoryStream memoryStream = new MemoryStream())\r\n        {\r\n            while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) &gt; 0)\r\n            {\r\n                // Convert the chunk to Base64 and write it to the memory stream\r\n                string base64Chunk = Convert.ToBase64String(buffer, 0, bytesRead);\r\n                byte[] base64Bytes = Encoding.ASCII.GetBytes(base64Chunk);\r\n                memoryStream.Write(base64Bytes, 0, base64Bytes.Length);\r\n            }\r\n\r\n            // Send the entire Base64 content in one go\r\n            stream.Write(memoryStream.ToArray(), 0, (int)memoryStream.Length);\r\n        }\r\n\r\n        Console.WriteLine(&quot;File sent successfully.&quot;);\r\n    }\r\n```\r\n\r\nWhat should I do?","title":"Problem with sending file via socket in Base64","body":"<p>I'm currently working on a Mail Client that can send Emails in MIME format in C#, but I'm only allow to use Socket (System.Net.Sockets) for implementation. This is the Java server side used for this project: <a href=\"https://github.com/eugenehr/test-mail-server\" rel=\"nofollow noreferrer\">Test-Mail-Server</a></p>\n<p>For testing purposes, I tried to convert a file data into base64 string, then it is sent via socket like this:</p>\n<pre><code>Socket client = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\nclient.Connect(IPAddress.Parse(&quot;127.0.0.1&quot;), 2225);\nclient.Send(Encoding.ASCII.GetBytes(&quot;HELO test.com\\r\\n&quot;));\nclient.Send(Encoding.ASCII.GetBytes(&quot;MAIL FROM: &lt;abc@gmail.com&gt;\\r\\n&quot;));\nclient.Send(Encoding.ASCII.GetBytes(&quot;RCPT TO: &lt;abc@gmail.com&gt;\\r\\n&quot;));\nclient.Send(Encoding.ASCII.GetBytes(&quot;DATA\\r\\n&quot;));\n\nbyte[] data = File.ReadAllBytes(@&quot;D:\\test.docx&quot;);\nstring contentBase64 = Convert.ToBase64String(data);\nclient.Send(Encoding.ASCII.GetBytes(contentBase64));\nclient.Send(Encoding.ASCII.GetBytes(&quot;.\\r\\n&quot;));\n\n</code></pre>\n<p>I got this warning:</p>\n<pre><code>An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.\nio.netty.handler.codec.TooLongFrameException: frame length (over 74240) exceeds the allowed maximum (16384)\n        at io.netty.handler.codec.LineBasedFrameDecoder.fail(LineBasedFrameDecoder.java:150)\n        at io.netty.handler.codec.LineBasedFrameDecoder.decode(LineBasedFrameDecoder.java:122)\n        at io.netty.handler.codec.DelimiterBasedFrameDecoder.decode(DelimiterBasedFrameDecoder.java:232)\n        at io.netty.handler.codec.DelimiterBasedFrameDecoder.decode(DelimiterBasedFrameDecoder.java:216)\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489)\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:428)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n        at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:647)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:582)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:461)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)\n        at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>But it was fine when I sent it without converting it into Base64.</p>\n<p>I also asked Copilot and Chat-GPT for solution like this, but it still does not work:</p>\n<pre><code>static void SendFile(NetworkStream stream, string filePath)\n    {\n        byte[] buffer = new byte[4096];\n        int bytesRead;\n\n        using (FileStream fileStream = new FileStream(filePath, FileMode.Open))\n        using (MemoryStream memoryStream = new MemoryStream())\n        {\n            while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) &gt; 0)\n            {\n                // Convert the chunk to Base64 and write it to the memory stream\n                string base64Chunk = Convert.ToBase64String(buffer, 0, bytesRead);\n                byte[] base64Bytes = Encoding.ASCII.GetBytes(base64Chunk);\n                memoryStream.Write(base64Bytes, 0, base64Bytes.Length);\n            }\n\n            // Send the entire Base64 content in one go\n            stream.Write(memoryStream.ToArray(), 0, (int)memoryStream.Length);\n        }\n\n        Console.WriteLine(&quot;File sent successfully.&quot;);\n    }\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","xml","xsd"],"comments":[{"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"score":0,"creation_date":1525116610,"post_id":50106696,"comment_id":87231231,"body_markdown":"Possible duplicate of [Any Java &quot;API&quot; to generate Sample XML from XSD?](https://stackoverflow.com/questions/4710852/any-java-api-to-generate-sample-xml-from-xsd)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4710852/any-java-api-to-generate-sample-xml-from-xsd\">Any Java &quot;API&quot; to generate Sample XML from XSD?</a>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1525117832,"post_id":50106696,"comment_id":87231810,"body_markdown":"did you [checked this page](https://www.jetbrains.com/help/idea/generating-instance-document-from-xml-schema.html)?","body":"did you <a href=\"https://www.jetbrains.com/help/idea/generating-instance-document-from-xml-schema.html\" rel=\"nofollow noreferrer\">checked this page</a>?"},{"owner":{"account_id":12008787,"reputation":13,"user_id":8786259,"display_name":"Justinas Indraius"},"score":0,"creation_date":1525164603,"post_id":50106696,"comment_id":87244352,"body_markdown":"Yeah, but it&#39;s not the same. Let&#39;s say, I have a lot of values and XSD schema. I need to make XML according to XSD with THESE specific values. XML file what I want to create is specific with correct _event_, _attribute_ names...","body":"Yeah, but it&#39;s not the same. Let&#39;s say, I have a lot of values and XSD schema. I need to make XML according to XSD with THESE specific values. XML file what I want to create is specific with correct <i>event</i>, <i>attribute</i> names..."},{"owner":{"account_id":12008787,"reputation":13,"user_id":8786259,"display_name":"Justinas Indraius"},"score":0,"creation_date":1525164976,"post_id":50106696,"comment_id":87244492,"body_markdown":"Also this one, what you sent me the last one, doesn&#39;t work. \nError message: **There is no root element**","body":"Also this one, what you sent me the last one, doesn&#39;t work.  Error message: <b>There is no root element</b>"},{"owner":{"account_id":12008787,"reputation":13,"user_id":8786259,"display_name":"Justinas Indraius"},"score":0,"creation_date":1525165043,"post_id":50106696,"comment_id":87244510,"body_markdown":"XSD schema is 100% correct cause I took it from official page","body":"XSD schema is 100% correct cause I took it from official page"}],"answers":[{"comments":[{"owner":{"account_id":12008787,"reputation":13,"user_id":8786259,"display_name":"Justinas Indraius"},"score":0,"creation_date":1525116332,"post_id":50106837,"comment_id":87231112,"body_markdown":"What if I&#39;m using Windows? :))","body":"What if I&#39;m using Windows? :))"}],"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700494755,"creation_date":1525115945,"answer_id":50106837,"question_id":50106696,"body_markdown":"`xsd2inst` from [Apache xmlbeans](https://xmlbeans.apache.org/download/index.html), xmlbeans-tools packages to generate and instance out of the xsd \r\n\r\n**On Linux**\r\n\r\n`XMLBEANS_LIB=&#39;/usr/share/java/xmlbeans/&#39; xsd2inst test.xsd -name shiporder&gt; test.xml`\r\n\r\n&gt; xsd2inst -h \r\n&gt;\r\n&gt; Generates a document based on the given Schema file  \r\n&gt; having the given element as root.  \r\n&gt; The tool makes reasonable attempts to create a valid document,  \r\n&gt; but this is not always possible since, for example,   \r\n&gt; there are schemas for which no valid instance document   \r\n&gt; can be produced.  \r\n&gt; Usage: xsd2inst [flags] schema.xsd -name element_name\r\n&gt; Flags:  \r\n&gt;     -name    the name of the root element  \r\n&gt;     -dl      enable network downloads for imports and includes  \r\n&gt;     -nopvr   disable particle valid (restriction) rule  \r\n&gt;     -noupa   disable unique particle attribution rule  \r\n\r\n**On Windows** `inst2xsd.cmd` from the same package can be used (not tested)","title":"Create XML file according to XSD schema","body":"<p><code>xsd2inst</code> from <a href=\"https://xmlbeans.apache.org/download/index.html\" rel=\"nofollow noreferrer\">Apache xmlbeans</a>, xmlbeans-tools packages to generate and instance out of the xsd</p>\n<p><strong>On Linux</strong></p>\n<p><code>XMLBEANS_LIB='/usr/share/java/xmlbeans/' xsd2inst test.xsd -name shiporder&gt; test.xml</code></p>\n<blockquote>\n<p>xsd2inst -h</p>\n<p>Generates a document based on the given Schema file<br />\nhaving the given element as root.<br />\nThe tool makes reasonable attempts to create a valid document,<br />\nbut this is not always possible since, for example,<br />\nthere are schemas for which no valid instance document<br />\ncan be produced.<br />\nUsage: xsd2inst [flags] schema.xsd -name element_name\nFlags:<br />\n-name    the name of the root element<br />\n-dl      enable network downloads for imports and includes<br />\n-nopvr   disable particle valid (restriction) rule<br />\n-noupa   disable unique particle attribution rule</p>\n</blockquote>\n<p><strong>On Windows</strong> <code>inst2xsd.cmd</code> from the same package can be used (not tested)</p>\n"}],"owner":{"account_id":12008787,"reputation":13,"user_id":8786259,"display_name":"Justinas Indraius"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700494755,"creation_date":1525115224,"question_id":50106696,"body_markdown":"I know that there is a lot of such a topics online but the problem is, that none of solutions work for me.\r\nLanguage I&#39;m using: **Java**\r\nIDE: **Intellij**\r\n\r\nJust to make clear, I&#39;m using community edition, maybe that&#39;s why none of plugins, like JAXB doesn&#39;t work.\r\n\r\nFrom the other file I extracted data (values) and I need to create XML file with this data. Also there is XSD schema here: http://www.bpsim.org/schemas/1.0/\r\n\r\nI&#39;m thinking maybe there is any third-party solutions what I can use?\r\nCause I really don&#39;t want to code all the XML file by hands cause it&#39;s thousands of values and code.\r\n\r\nAnyone knows a good solution?\r\n\r\n ","title":"Create XML file according to XSD schema","body":"<p>I know that there is a lot of such a topics online but the problem is, that none of solutions work for me.\nLanguage I'm using: <strong>Java</strong>\nIDE: <strong>Intellij</strong></p>\n\n<p>Just to make clear, I'm using community edition, maybe that's why none of plugins, like JAXB doesn't work.</p>\n\n<p>From the other file I extracted data (values) and I need to create XML file with this data. Also there is XSD schema here: <a href=\"http://www.bpsim.org/schemas/1.0/\" rel=\"nofollow noreferrer\">http://www.bpsim.org/schemas/1.0/</a></p>\n\n<p>I'm thinking maybe there is any third-party solutions what I can use?\nCause I really don't want to code all the XML file by hands cause it's thousands of values and code.</p>\n\n<p>Anyone knows a good solution?</p>\n"},{"tags":["javascript","java","react-native","gradle"],"answers":[{"comments":[{"owner":{"account_id":23791335,"reputation":51,"user_id":17802737,"display_name":"Kartik Gadli"},"score":0,"creation_date":1642841132,"post_id":70811043,"comment_id":125183355,"body_markdown":"I do have Gradle version 7.3.3 installed and working correctly.","body":"I do have Gradle version 7.3.3 installed and working correctly."},{"owner":{"account_id":23791335,"reputation":51,"user_id":17802737,"display_name":"Kartik Gadli"},"score":0,"creation_date":1642843469,"post_id":70811043,"comment_id":125183826,"body_markdown":"It seems that Gradle is throwing this error bcz I can&#39;t build my project.","body":"It seems that Gradle is throwing this error bcz I can&#39;t build my project."}],"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642838575,"creation_date":1642838575,"answer_id":70811043,"question_id":70810675,"body_markdown":"To know if this is a java version-related issue, You need to check your Gradle version.\r\n\r\ncurrently only Gradle version 7.3 support java 17.\r\n\r\nYou can check [gradle compatibility matrix](https://docs.gradle.org/current/userguide/compatibility.html) to check.\r\n\r\nyou can check your version with the command line by typing `gradlew.bat -version`\r\n\r\nIf your Gradle is version 7.3 then it has nothing to do with the JDK version.","title":"Does react-native support jdk 17?","body":"<p>To know if this is a java version-related issue, You need to check your Gradle version.</p>\n<p>currently only Gradle version 7.3 support java 17.</p>\n<p>You can check <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">gradle compatibility matrix</a> to check.</p>\n<p>you can check your version with the command line by typing <code>gradlew.bat -version</code></p>\n<p>If your Gradle is version 7.3 then it has nothing to do with the JDK version.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1642928854,"post_id":70820559,"comment_id":125199770,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70820559/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":15015834,"reputation":613,"user_id":10838887,"display_name":"Lounis"},"score":1,"creation_date":1668176326,"post_id":70820559,"comment_id":131348833,"body_markdown":"I follow your configuration and it works now thank you.","body":"I follow your configuration and it works now thank you."}],"tags":[],"owner":{"account_id":23791335,"reputation":51,"user_id":17802737,"display_name":"Kartik Gadli"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642940891,"creation_date":1642928669,"answer_id":70820559,"question_id":70810675,"body_markdown":"So I solved this issue by installing JDK 16 on my system and everything is solved and running fine. I don&#39;t know if the problem was with Gradle or JDK or react-native but hope that in the future jdk 17 is supported.\r\n\r\nIf you have the same issue then you can go to: \r\n[jdk 16][1]\r\n\r\n1)Download and Install the JDK 16.\r\n\r\n2)Add the path to your jdk in the PATH in your system environment variable.\r\n\r\n3)Open cmd and do `java -version` you should see something like \r\n```\r\njava version &quot;16.0.2&quot; 2021-07-20\r\nJava(TM) SE Runtime Environment (build 16.0.2+7-67)\r\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/jdk16-archive-downloads.html","title":"Does react-native support jdk 17?","body":"<p>So I solved this issue by installing JDK 16 on my system and everything is solved and running fine. I don't know if the problem was with Gradle or JDK or react-native but hope that in the future jdk 17 is supported.</p>\n<p>If you have the same issue then you can go to:\n<a href=\"https://www.oracle.com/java/technologies/javase/jdk16-archive-downloads.html\" rel=\"nofollow noreferrer\">jdk 16</a></p>\n<p>1)Download and Install the JDK 16.</p>\n<p>2)Add the path to your jdk in the PATH in your system environment variable.</p>\n<p>3)Open cmd and do <code>java -version</code> you should see something like</p>\n<pre><code>java version &quot;16.0.2&quot; 2021-07-20\nJava(TM) SE Runtime Environment (build 16.0.2+7-67)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":193129,"reputation":627,"user_id":434654,"display_name":"Neeraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700494646,"creation_date":1700494646,"answer_id":77517158,"question_id":70810675,"body_markdown":"For me react native didnt work successfully with OpenJdk 17. Was getting error building apk\r\n\r\nFor me the problem got fixed with installing OpenJdk 11.","title":"Does react-native support jdk 17?","body":"<p>For me react native didnt work successfully with OpenJdk 17. Was getting error building apk</p>\n<p>For me the problem got fixed with installing OpenJdk 11.</p>\n"}],"owner":{"account_id":23791335,"reputation":51,"user_id":17802737,"display_name":"Kartik Gadli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3928,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70820559,"answer_count":3,"score":2,"last_activity_date":1700494646,"creation_date":1642834630,"question_id":70810675,"body_markdown":"So I have been having some problems with launching the initial react-native template project on android. And after consulting someone I was told that jdk 17 is not supported. But I really don&#39;t want to downgrade as this could break other things that I already have and work with. To be specific this is the error I get:\r\n\r\n```\r\n&gt; Task :app:processDebugMainManifest FAILED\r\n11 actionable tasks: 2 executed, 9 up-to-date\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7ec6bc9b\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights. \r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 20s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7ec6bc9b\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights. \r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 20s\r\n\r\n    at makeError (C:\\Users\\karti\\Desktop\\ShoppingList\\node_modules\\execa\\index.js:174:9)\r\n    at C:\\Users\\karti\\Desktop\\ShoppingList\\node_modules\\execa\\index.js:278:16\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runOnAllDevices (C:\\Users\\karti\\Desktop\\ShoppingList\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid    at async Command.handleAction (C:\\Users\\karti\\Desktop\\ShoppingList\\node_modules\\@react-native-community\\cli\\build\\index.js:192:9)\r\n```\r\n\r\nI have looked at this already and nothing worked. \r\nhttps://stackoverflow.com/questions/17587751/gradle-execution-failed-for-task-processdebugmanifest","title":"Does react-native support jdk 17?","body":"<p>So I have been having some problems with launching the initial react-native template project on android. And after consulting someone I was told that jdk 17 is not supported. But I really don't want to downgrade as this could break other things that I already have and work with. To be specific this is the error I get:</p>\n<pre><code>&gt; Task :app:processDebugMainManifest FAILED\n11 actionable tasks: 2 executed, 9 up-to-date\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7ec6bc9b\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights. \n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 20s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n\n\n* What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @7ec6bc9b\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights. \n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 20s\n\n    at makeError (C:\\Users\\karti\\Desktop\\ShoppingList\\node_modules\\execa\\index.js:174:9)\n    at C:\\Users\\karti\\Desktop\\ShoppingList\\node_modules\\execa\\index.js:278:16\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runOnAllDevices (C:\\Users\\karti\\Desktop\\ShoppingList\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid    at async Command.handleAction (C:\\Users\\karti\\Desktop\\ShoppingList\\node_modules\\@react-native-community\\cli\\build\\index.js:192:9)\n</code></pre>\n<p>I have looked at this already and nothing worked.\n<a href=\"https://stackoverflow.com/questions/17587751/gradle-execution-failed-for-task-processdebugmanifest\">Gradle: Execution failed for task &#39;:processDebugManifest&#39;</a></p>\n"},{"tags":["java","neo4j","spring-data","cypher","spring-data-neo4j"],"comments":[{"owner":{"account_id":5007043,"reputation":672,"user_id":4024409,"display_name":"Vincent Rupp"},"score":0,"creation_date":1699891849,"post_id":77446718,"comment_id":136584823,"body_markdown":"Is `$person` a node or a property?","body":"Is <code>$person</code> a node or a property?"},{"owner":{"account_id":26739540,"reputation":101,"user_id":20340543,"display_name":"Podbrushkin"},"score":0,"creation_date":1699963937,"post_id":77446718,"comment_id":136594097,"body_markdown":"@Vincent It is a node.","body":"@Vincent It is a node."}],"answers":[{"comments":[{"owner":{"account_id":26739540,"reputation":101,"user_id":20340543,"display_name":"Podbrushkin"},"score":0,"creation_date":1699992038,"post_id":77483393,"comment_id":136599522,"body_markdown":"I&#39;ve tried, when this method is invoked this runtime exception is thrown: `org.neo4j.driver.exceptions.ClientException: Invalid input for function &#39;id()&#39;: Expected Map{__labels__ -&gt; List{String(&quot;Person&quot;)}, __id__ -&gt; String(&quot;4:21f6f6f2-ea32-4b8c-a8a7-e953f6f436c2:1559&quot;), __properties__ -&gt; Map{birthday -&gt; NO_VALUE, dotId -&gt; String(&quot;somedotid&quot;), fullName -&gt; String(&quot;vasya pupkin&quot;)}} to be a node or relationship, but it was &#39;Map&#39;`","body":"I&#39;ve tried, when this method is invoked this runtime exception is thrown: <code>org.neo4j.driver.exceptions.ClientException: Invalid input for function &#39;id()&#39;: Expected Map{__labels__ -&gt; List{String(&quot;Person&quot;)}, __id__ -&gt; String(&quot;4:21f6f6f2-ea32-4b8c-a8a7-e953f6f436c2:1559&quot;), __properties__ -&gt; Map{birthday -&gt; NO_VALUE, dotId -&gt; String(&quot;somedotid&quot;), fullName -&gt; String(&quot;vasya pupkin&quot;)}} to be a node or relationship, but it was &#39;Map&#39;</code>"},{"owner":{"account_id":5007043,"reputation":672,"user_id":4024409,"display_name":"Vincent Rupp"},"score":0,"creation_date":1699995575,"post_id":77483393,"comment_id":136600027,"body_markdown":"`$person` isn&#39;t a node then, not in the way Neo4j needs it to be. Do you have to pass in your Person node object, or could you just have a PersonID as an indexed property on the node?","body":"<code>$person</code> isn&#39;t a node then, not in the way Neo4j needs it to be. Do you have to pass in your Person node object, or could you just have a PersonID as an indexed property on the node?"},{"owner":{"account_id":26739540,"reputation":101,"user_id":20340543,"display_name":"Podbrushkin"},"score":0,"creation_date":1699996573,"post_id":77483393,"comment_id":136600184,"body_markdown":"It is a node. It is an object of a class annotated with `@Node`, it was returned from neo4jRepository and as you can see in the exception SDN added `__labels__` and `__id__` properties, and latter is neo4j-generated. If needed, I can provide MRE. I haven&#39;t found any working example of what I&#39;m trying to do anywhere. I can change signature of this method and pass a `person.id` String, but it doesn&#39;t work either (see &quot;failed attempts&quot;) and also `id()` func is deprecated and neo4j team discourages usage of internal node ids.","body":"It is a node. It is an object of a class annotated with <code>@Node</code>, it was returned from neo4jRepository and as you can see in the exception SDN added <code>__labels__</code> and <code>__id__</code> properties, and latter is neo4j-generated. If needed, I can provide MRE. I haven&#39;t found any working example of what I&#39;m trying to do anywhere. I can change signature of this method and pass a <code>person.id</code> String, but it doesn&#39;t work either (see &quot;failed attempts&quot;) and also <code>id()</code> func is deprecated and neo4j team discourages usage of internal node ids."},{"owner":{"account_id":5007043,"reputation":672,"user_id":4024409,"display_name":"Vincent Rupp"},"score":0,"creation_date":1699998487,"post_id":77483393,"comment_id":136600451,"body_markdown":"You&#39;re right about `id()`. As for the class, the error says that whole thing is a map, not a node or relationship, and I&#39;m not sure how that happens. You could try `p =  apoc.convert.toNode($person)` or `apoc.create.vNode($person)`. Otherwise, an MRE would be really useful.","body":"You&#39;re right about <code>id()</code>. As for the class, the error says that whole thing is a map, not a node or relationship, and I&#39;m not sure how that happens. You could try <code>p =  apoc.convert.toNode($person)</code> or <code>apoc.create.vNode($person)</code>. Otherwise, an MRE would be really useful."},{"owner":{"account_id":26739540,"reputation":101,"user_id":20340543,"display_name":"Podbrushkin"},"score":0,"creation_date":1700005316,"post_id":77483393,"comment_id":136601306,"body_markdown":"here you go, [MRE](https://gist.github.com/Podbrushkin/54518ad6c4835706fd3344f01ea6acc9). I hope recreating directory structure wouldn&#39;t take much time, usually I do it in pwsh like that: `gcb -Raw | New-Item -Force &#39;.\\src\\main\\java\\myapp\\repo\\PersonRepositoryNeo4j.java&#39;` etc. Run it with `mvn clean spring-boot:run -e`.  Thank you for your attention. If we could reference our entity object in custom cypher without relying on id, it would be very good. But right now I can&#39;t do it even through id.","body":"here you go, <a href=\"https://gist.github.com/Podbrushkin/54518ad6c4835706fd3344f01ea6acc9\" rel=\"nofollow noreferrer\">MRE</a>. I hope recreating directory structure wouldn&#39;t take much time, usually I do it in pwsh like that: <code>gcb -Raw | New-Item -Force &#39;.\\src\\main\\java\\myapp\\repo\\PersonRepositoryNeo4j.java&#39;</code> etc. Run it with <code>mvn clean spring-boot:run -e</code>.  Thank you for your attention. If we could reference our entity object in custom cypher without relying on id, it would be very good. But right now I can&#39;t do it even through id."}],"tags":[],"owner":{"account_id":5007043,"reputation":672,"user_id":4024409,"display_name":"Vincent Rupp"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699991543,"creation_date":1699990764,"answer_id":77483393,"question_id":77446718,"body_markdown":"I suspect the problem lies in evaluating node equality.\r\n\r\nInstead of `WHERE p = $person` try `WHERE id(p) = id($person)`\r\n\r\nUPDATE: Based on this post, I could be mistaken:\r\nhttps://stackoverflow.com/questions/59844124/should-nodes-be-compared-directly-or-they-must-be-going-through-id-first","title":"Passing domain object as argument to custom Cypher query in Spring Data Neo4j","body":"<p>I suspect the problem lies in evaluating node equality.</p>\n<p>Instead of <code>WHERE p = $person</code> try <code>WHERE id(p) = id($person)</code></p>\n<p>UPDATE: Based on this post, I could be mistaken:\n<a href=\"https://stackoverflow.com/questions/59844124/should-nodes-be-compared-directly-or-they-must-be-going-through-id-first\">Should Nodes be compared directly or they must be going through ID() first?</a></p>\n"}],"owner":{"account_id":26739540,"reputation":101,"user_id":20340543,"display_name":"Podbrushkin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700494620,"creation_date":1699455750,"question_id":77446718,"body_markdown":"I&#39;m writing Spring Data Neo4j webapp.\r\nI have this domain object:\r\n```java\r\n@Node(&quot;Person&quot;)\r\npublic class Person {\r\n    \r\n    @Id\r\n    @GeneratedValue\r\n    private String id;\r\n```\r\n\r\nand a `(:Image) - [:DEPICTS] -&gt; (:Person)` relationship.\r\n\r\nI need to count images depicting specific person.\r\nThis was my attempt:\r\n```java\r\npublic interface ImageRepositoryNeo4j extends Neo4jRepository&lt;Image, String&gt; {\r\n@Query(&quot;&quot;&quot;\r\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person)\r\n        WHERE p = $person\r\n        RETURN count(i)\r\n        &quot;&quot;&quot;)\r\n    // DSNT WORK\r\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) Person person);\r\n```\r\nbut it always returns 0.\r\n\r\n## Other failed attempts\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n        MATCH (i:Image)-[:DEPICTS]-&gt;(p:Person)\r\n        WHERE p IN $people\r\n        RETURN count(i)\r\n        &quot;&quot;&quot;)\r\n    // DOESN&#39;T WORK, 0 RESULTS\r\n    public Integer countByPeopleContains(@Param(&quot;people&quot;) Collection&lt;Person&gt; people);\r\n\r\n@Query(&quot;&quot;&quot;\r\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person)\r\n        WHERE ID(p) = $person.__id__\r\n        RETURN count(i)\r\n        &quot;&quot;&quot;)\r\n    // DSNT WORK\r\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) Person person);\r\n\r\n@Query(&quot;&quot;&quot;\r\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person)\r\n        WHERE id(p)=$person\r\n        RETURN count(i)\r\n        &quot;&quot;&quot;)\r\n    // DSNT WORK\r\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) String personId);\r\n\r\n@Query(&quot;&quot;&quot;\r\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person {id: $person.__id__})\r\n        RETURN count(i)\r\n        &quot;&quot;&quot;)\r\n    // DSNT WORK, ALWAYS 0\r\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) Person person);\r\n```\r\nAll of them return 0.\r\n\r\nAnd this one works, but since `fullName` isn&#39;t unique property, it is not suitable by domain logic:\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person {fullName: $person})\r\n        RETURN count(i)\r\n        &quot;&quot;&quot;)\r\n    // TODO: personFullname is not unique, use smth else\r\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) String personFullName);\r\n```\r\n\r\nHow do I use domain object in custom Cypher query in Spring Data Neo4j Repository?\r\n\r\n## Clue\r\nIn [Spring Data Neo4j documentation][1] closest what I&#39;ve found to what I need is this:\r\n```java\r\n@Node\r\npublic final class Movie {\r\n\r\n    @Id\r\n    private final String title;\r\n...\r\ninterface MovieRepository extends Neo4jRepository&lt;Movie, String&gt; {\r\n\r\n    @Query(&quot;MATCH (m:Movie {title: $movie.__id__})\\n&quot;\r\n           + &quot;MATCH (m) &lt;- [r:DIRECTED|REVIEWED|ACTED_IN] - (p:Person)\\n&quot;\r\n           + &quot;return m, collect(r), collect(p)&quot;)\r\n    Movie findByMovie(@Param(&quot;movie&quot;) Movie movie);\r\n}\r\n```\r\nbut for some reason it doesn&#39;t work in my case. Maybe that&#39;s because my id is `@GeneratedValue`.\r\n\r\n## Another clue\r\n\r\nIn [Neo4j embedded docs](https://neo4j.com/docs/java-reference/current/java-embedded/query-parameters/) there is an example on how to pass an object to Cypher without Spring Data Neo4j:\r\n```\r\nMap&lt;String,Object&gt; params = new HashMap&lt;&gt;();\r\nparams.put( &quot;node&quot;, bobNode );\r\n\r\nString query =\r\n    &quot;MATCH (n:Person)&quot; + &quot;\\n&quot; +\r\n    &quot;WHERE n = $node&quot; + &quot;\\n&quot; +\r\n    &quot;RETURN n.name&quot;;\r\n\r\nResult result = transaction.execute( query, params );\r\n```\r\nIt works wif $node is `org.neo4j.graphdb.Node`:\r\n```java\r\n@Bean\r\nCommandLineRunner countForGregWithoutSDN(GraphDatabaseService graphDatabaseService) {\r\n\treturn args -&gt; {\r\n\t\ttry (var tx = graphDatabaseService.beginTx()) {\r\n\t\t\tString cypherGetGreg = &quot;MATCH (n:Person {birthday: date(&#39;1993-03-03&#39;)}) RETURN n LIMIT 5;&quot;;\r\n\t\t\tResult result = tx.execute(cypherGetGreg);\r\n\t\t\tvar greg1993 = (Node) result.next().get(&quot;n&quot;);\r\n\t\t\tif (!greg1993.getProperty(&quot;name&quot;).equals(&quot;Greg&quot;)) \r\n\t\t\t\tthrow new RuntimeException(&quot;Should be Greg1993 but actually &quot;+greg1993);\r\n\t\t\tresult.close();\r\n\r\n\t\t\tMap&lt;String,Object&gt; params = new HashMap&lt;&gt;();\r\n\t\t\tparams.put( &quot;node&quot;, greg1993 );\r\n\r\n\t\t\tString cypherCountForGreg = &quot;&quot;&quot;\r\n\t\t\t\tMATCH (i:Image) -[:DEPICTS] -&gt; (p:Person)\r\n\t\t\t\tWHERE p = $node\r\n\t\t\t\tRETURN count(i)\r\n\t\t\t\t&quot;&quot;&quot;;\r\n\t\t\tresult = tx.execute( cypherCountForGreg, params );\r\n\t\t\tvar count = result.next().values().iterator().next();\r\n\t\t\tSystem.out.println(&quot;Count for Greg1993 is &quot;+count);\t// 1\r\n\t\t\tresult.close();\r\n\t\t}\r\n\t};\r\n}\r\n```\r\n but it results in 0 if $node is SDN Entity.\r\n\r\n  [1]: https://docs.spring.io/spring-data/neo4j/reference/appendix/custom-queries.html#custom-queries.parameters","title":"Passing domain object as argument to custom Cypher query in Spring Data Neo4j","body":"<p>I'm writing Spring Data Neo4j webapp.\nI have this domain object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Node(&quot;Person&quot;)\npublic class Person {\n    \n    @Id\n    @GeneratedValue\n    private String id;\n</code></pre>\n<p>and a <code>(:Image) - [:DEPICTS] -&gt; (:Person)</code> relationship.</p>\n<p>I need to count images depicting specific person.\nThis was my attempt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ImageRepositoryNeo4j extends Neo4jRepository&lt;Image, String&gt; {\n@Query(&quot;&quot;&quot;\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person)\n        WHERE p = $person\n        RETURN count(i)\n        &quot;&quot;&quot;)\n    // DSNT WORK\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) Person person);\n</code></pre>\n<p>but it always returns 0.</p>\n<h2>Other failed attempts</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n        MATCH (i:Image)-[:DEPICTS]-&gt;(p:Person)\n        WHERE p IN $people\n        RETURN count(i)\n        &quot;&quot;&quot;)\n    // DOESN'T WORK, 0 RESULTS\n    public Integer countByPeopleContains(@Param(&quot;people&quot;) Collection&lt;Person&gt; people);\n\n@Query(&quot;&quot;&quot;\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person)\n        WHERE ID(p) = $person.__id__\n        RETURN count(i)\n        &quot;&quot;&quot;)\n    // DSNT WORK\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) Person person);\n\n@Query(&quot;&quot;&quot;\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person)\n        WHERE id(p)=$person\n        RETURN count(i)\n        &quot;&quot;&quot;)\n    // DSNT WORK\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) String personId);\n\n@Query(&quot;&quot;&quot;\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person {id: $person.__id__})\n        RETURN count(i)\n        &quot;&quot;&quot;)\n    // DSNT WORK, ALWAYS 0\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) Person person);\n</code></pre>\n<p>All of them return 0.</p>\n<p>And this one works, but since <code>fullName</code> isn't unique property, it is not suitable by domain logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n        MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person {fullName: $person})\n        RETURN count(i)\n        &quot;&quot;&quot;)\n    // TODO: personFullname is not unique, use smth else\n    public Integer countByPeopleContains(@Param(&quot;person&quot;) String personFullName);\n</code></pre>\n<p>How do I use domain object in custom Cypher query in Spring Data Neo4j Repository?</p>\n<h2>Clue</h2>\n<p>In <a href=\"https://docs.spring.io/spring-data/neo4j/reference/appendix/custom-queries.html#custom-queries.parameters\" rel=\"nofollow noreferrer\">Spring Data Neo4j documentation</a> closest what I've found to what I need is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Node\npublic final class Movie {\n\n    @Id\n    private final String title;\n...\ninterface MovieRepository extends Neo4jRepository&lt;Movie, String&gt; {\n\n    @Query(&quot;MATCH (m:Movie {title: $movie.__id__})\\n&quot;\n           + &quot;MATCH (m) &lt;- [r:DIRECTED|REVIEWED|ACTED_IN] - (p:Person)\\n&quot;\n           + &quot;return m, collect(r), collect(p)&quot;)\n    Movie findByMovie(@Param(&quot;movie&quot;) Movie movie);\n}\n</code></pre>\n<p>but for some reason it doesn't work in my case. Maybe that's because my id is <code>@GeneratedValue</code>.</p>\n<h2>Another clue</h2>\n<p>In <a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/query-parameters/\" rel=\"nofollow noreferrer\">Neo4j embedded docs</a> there is an example on how to pass an object to Cypher without Spring Data Neo4j:</p>\n<pre><code>Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\nparams.put( &quot;node&quot;, bobNode );\n\nString query =\n    &quot;MATCH (n:Person)&quot; + &quot;\\n&quot; +\n    &quot;WHERE n = $node&quot; + &quot;\\n&quot; +\n    &quot;RETURN n.name&quot;;\n\nResult result = transaction.execute( query, params );\n</code></pre>\n<p>It works wif $node is <code>org.neo4j.graphdb.Node</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nCommandLineRunner countForGregWithoutSDN(GraphDatabaseService graphDatabaseService) {\n    return args -&gt; {\n        try (var tx = graphDatabaseService.beginTx()) {\n            String cypherGetGreg = &quot;MATCH (n:Person {birthday: date('1993-03-03')}) RETURN n LIMIT 5;&quot;;\n            Result result = tx.execute(cypherGetGreg);\n            var greg1993 = (Node) result.next().get(&quot;n&quot;);\n            if (!greg1993.getProperty(&quot;name&quot;).equals(&quot;Greg&quot;)) \n                throw new RuntimeException(&quot;Should be Greg1993 but actually &quot;+greg1993);\n            result.close();\n\n            Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\n            params.put( &quot;node&quot;, greg1993 );\n\n            String cypherCountForGreg = &quot;&quot;&quot;\n                MATCH (i:Image) -[:DEPICTS] -&gt; (p:Person)\n                WHERE p = $node\n                RETURN count(i)\n                &quot;&quot;&quot;;\n            result = tx.execute( cypherCountForGreg, params );\n            var count = result.next().values().iterator().next();\n            System.out.println(&quot;Count for Greg1993 is &quot;+count); // 1\n            result.close();\n        }\n    };\n}\n</code></pre>\n<p>but it results in 0 if $node is SDN Entity.</p>\n"},{"tags":["java","spring","spring-boot","maven","security"],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700494456,"creation_date":1700494456,"answer_id":77517132,"question_id":77508907,"body_markdown":"You need to tell Spring Security to ignore resources under src/main/resources/static. You can do so by adding `http.authorizeRequests((requests) -&gt; requests.\r\n          .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll())\r\n` to your security config and remove all the `&quot;/static/...` references from your existing configuration.","title":"Spring security blocks access to styles","body":"<p>You need to tell Spring Security to ignore resources under src/main/resources/static. You can do so by adding <code>http.authorizeRequests((requests) -&gt; requests. .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()) </code> to your security config and remove all the <code>&quot;/static/...</code> references from your existing configuration.</p>\n"}],"owner":{"account_id":29937379,"reputation":1,"user_id":22942763,"display_name":"Elizaveta Titova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700494456,"creation_date":1700345928,"question_id":77508907,"body_markdown":"I encountered a problem that at some point some of the styles in my spring project stopped working. I use bootstrap styles and styles written by me personally in the css file.\r\nAfter starting the program for some reason only 1 part of them is displayed. When viewing &quot;Network&quot; in Google developer tools, I found that the styles file is redirected to http://localhost:8080/login for some reason, although I have access to the styles file.\r\n(https://i.stack.imgur.com/gGorT.png)\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/&quot;, &quot;/reg&quot;, &quot;/registration/**&quot;, &quot;/static/**&quot;, &quot;/static/images/**&quot;, &quot;/static/styles/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .failureUrl(&quot;/login_error&quot;)\r\n                        .defaultSuccessUrl(&quot;/pc&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll().logoutSuccessUrl(&quot;/&quot;));\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nAfter discovering this, I decided to comment out the spring security dependency in pom.xml and also commented out all classes that use it.\r\nAfter that, the styles started working and everything continued to work when spring security was uncommented. However, when I restarted my computer and started the project, I encountered the same problem again.\r\nWhat could this be related to and how can it be resolved?\r\nI need your help very much!","title":"Spring security blocks access to styles","body":"<p>I encountered a problem that at some point some of the styles in my spring project stopped working. I use bootstrap styles and styles written by me personally in the css file.\nAfter starting the program for some reason only 1 part of them is displayed. When viewing &quot;Network&quot; in Google developer tools, I found that the styles file is redirected to http://localhost:8080/login for some reason, although I have access to the styles file.\n(<a href=\"https://i.stack.imgur.com/gGorT.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/gGorT.png</a>)</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/&quot;, &quot;/reg&quot;, &quot;/registration/**&quot;, &quot;/static/**&quot;, &quot;/static/images/**&quot;, &quot;/static/styles/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .failureUrl(&quot;/login_error&quot;)\n                        .defaultSuccessUrl(&quot;/pc&quot;)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll().logoutSuccessUrl(&quot;/&quot;));\n\n        return http.build();\n    }\n</code></pre>\n<p>After discovering this, I decided to comment out the spring security dependency in pom.xml and also commented out all classes that use it.\nAfter that, the styles started working and everything continued to work when spring security was uncommented. However, when I restarted my computer and started the project, I encountered the same problem again.\nWhat could this be related to and how can it be resolved?\nI need your help very much!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700480940,"post_id":77515611,"comment_id":136655756,"body_markdown":"You should include the directory that contains Percolation.class in the class path. Or, just compile these two files together in the same command.","body":"You should include the directory that contains Percolation.class in the class path. Or, just compile these two files together in the same command."},{"owner":{"account_id":5827141,"reputation":711,"user_id":4593061,"accept_rate":64,"display_name":"Lance"},"score":0,"creation_date":1700481140,"post_id":77515611,"comment_id":136655782,"body_markdown":"I thought that&#39;s what the * does but compiling together worked but now it cannot find the class when I try run it\n\njava -classpath &quot;C:\\algs4\\algs4.jar&quot; Percolation      \n\nError: Could not find or load main class Percolation\nCaused by: java.lang.ClassNotFoundException: Percolation","body":"I thought that&#39;s what the * does but compiling together worked but now it cannot find the class when I try run it  java -classpath &quot;C:\\algs4\\algs4.jar&quot; Percolation        Error: Could not find or load main class Percolation Caused by: java.lang.ClassNotFoundException: Percolation"},{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":0,"creation_date":1700485523,"post_id":77515611,"comment_id":136656608,"body_markdown":"Please post the complete output of the commands together with the prompts &amp; commands you executed (i.e. simply [copy/paste the sequence from your terminal](https://superuser.com/questions/295370/how-to-copy-text-in-the-windows-command-line-cmd)). Right now it&#39;s hard to tell what exactly is going wrong.","body":"Please post the complete output of the commands together with the prompts &amp; commands you executed (i.e. simply <a href=\"https://superuser.com/questions/295370/how-to-copy-text-in-the-windows-command-line-cmd\">copy/paste the sequence from your terminal</a>). Right now it&#39;s hard to tell what exactly is going wrong."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700486665,"post_id":77515611,"comment_id":136656815,"body_markdown":"@Sweeper it is  the directory containing the `percolations` directory that must be in the CLASSPATH (`package percolations;`)","body":"@Sweeper it is  the directory containing the <code>percolations</code> directory that must be in the CLASSPATH (<code>package percolations;</code>)"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700486721,"post_id":77515611,"comment_id":136656829,"body_markdown":"@user85421 Oops. I totally missed that line.","body":"@user85421 Oops. I totally missed that line."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700486798,"post_id":77515611,"comment_id":136656851,"body_markdown":"You have a package, so if you&#39;re running you need to include the classpath to the folder above the package. Ie &quot;build/percolations/PercolationStats.class&quot; you would need &quot;build&quot; on your class path. One way to achieve the correct directory structure is to use `javac -d build path/to/Source.java` That way the generated class files will be placed in the correct folder within build. To run it you just have to include build in your classpath.","body":"You have a package, so if you&#39;re running you need to include the classpath to the folder above the package. Ie &quot;build/percolations/PercolationStats.class&quot; you would need &quot;build&quot; on your class path. One way to achieve the correct directory structure is to use <code>javac -d build path&#47;to&#47;Source.java</code> That way the generated class files will be placed in the correct folder within build. To run it you just have to include build in your classpath."},{"owner":{"account_id":5827141,"reputation":711,"user_id":4593061,"accept_rate":64,"display_name":"Lance"},"score":0,"creation_date":1700491491,"post_id":77515611,"comment_id":136657727,"body_markdown":"not sure what you guys mean, all files are in same folder except &quot;C:\\algs4\\algs4.jar&quot;","body":"not sure what you guys mean, all files are in same folder except &quot;C:\\algs4\\algs4.jar&quot;"}],"owner":{"account_id":5827141,"reputation":711,"user_id":4593061,"accept_rate":64,"display_name":"Lance"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700493559,"creation_date":1700480435,"question_id":77515611,"body_markdown":"I&#39;m using windows 11 and vscode but have tried using windows terminal too. I have 2 java classes Percolation.java and PercolationStats.java, both run fine in vscode and Percolation compiles but I run any from command line.\r\n\r\nManaged to generate class files with `javac -classpath &quot;C:\\algs4\\algs4.jar&quot; Percolation.java  PercolationStats.java` but cannot run them:\r\n\r\n```\r\nPS C:\\Users\\Lance\\Desktop\\algorithms\\percolations&gt; javac -classpath &quot;C:\\algs4\\algs4.jar&quot; Percolation.java  PercolationStats.java  \r\nPS C:\\Users\\Lance\\Desktop\\algorithms\\percolations&gt; java -classpath &quot;C:\\algs4\\algs4.jar&quot; Percolation        \r\nError: Could not find or load main class Percolation\r\nCaused by: java.lang.ClassNotFoundException: Percolation\r\nPS C:\\Users\\Lance\\Desktop\\algorithms\\percolations&gt; java -classpath &quot;C:\\algs4\\algs4.jar&quot; PercolationStats\r\nError: Could not find or load main class PercolationStats\r\nCaused by: java.lang.ClassNotFoundException: PercolationStats\r\n```\r\n\r\nI have run other classes the same way.\r\n\r\nfiles are all in same directory and if I add `import Percolation;` it says &quot;The import Percolation cannot be resolved.&quot;\r\n\r\nPercolation.java\r\n```\r\npackage percolations;\r\n\r\nimport edu.princeton.cs.algs4.WeightedQuickUnionUF;\r\n\r\npublic class Percolation {\r\n    ...\r\n\r\n\r\n    public Percolation(int N) {\r\n        ...\r\n    }\r\n\r\n    ...\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;test&quot;);\r\n    }\r\n}\r\n```\r\n\r\nPercolationStats.java\r\n```\r\npackage percolations;\r\n\r\nimport java.lang.Math;\r\nimport edu.princeton.cs.algs4.StdRandom;\r\nimport edu.princeton.cs.algs4.StdStats;\r\n\r\npublic class PercolationStats {\r\n    private Percolation perc;\r\n    ...\r\n\r\n    public PercolationStats(int n, int trials) {\r\n        perc = new Percolation(n);\r\n        ...\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        PercolationStats stats = new PercolationStats(n, t);\r\n        ...\r\n    }\r\n}\r\n```\r\n","title":"Cannot run compiled java classes in command line","body":"<p>I'm using windows 11 and vscode but have tried using windows terminal too. I have 2 java classes Percolation.java and PercolationStats.java, both run fine in vscode and Percolation compiles but I run any from command line.</p>\n<p>Managed to generate class files with <code>javac -classpath &quot;C:\\algs4\\algs4.jar&quot; Percolation.java  PercolationStats.java</code> but cannot run them:</p>\n<pre><code>PS C:\\Users\\Lance\\Desktop\\algorithms\\percolations&gt; javac -classpath &quot;C:\\algs4\\algs4.jar&quot; Percolation.java  PercolationStats.java  \nPS C:\\Users\\Lance\\Desktop\\algorithms\\percolations&gt; java -classpath &quot;C:\\algs4\\algs4.jar&quot; Percolation        \nError: Could not find or load main class Percolation\nCaused by: java.lang.ClassNotFoundException: Percolation\nPS C:\\Users\\Lance\\Desktop\\algorithms\\percolations&gt; java -classpath &quot;C:\\algs4\\algs4.jar&quot; PercolationStats\nError: Could not find or load main class PercolationStats\nCaused by: java.lang.ClassNotFoundException: PercolationStats\n</code></pre>\n<p>I have run other classes the same way.</p>\n<p>files are all in same directory and if I add <code>import Percolation;</code> it says &quot;The import Percolation cannot be resolved.&quot;</p>\n<p>Percolation.java</p>\n<pre><code>package percolations;\n\nimport edu.princeton.cs.algs4.WeightedQuickUnionUF;\n\npublic class Percolation {\n    ...\n\n\n    public Percolation(int N) {\n        ...\n    }\n\n    ...\n\n    public static void main(String[] args) {\n        System.out.println(&quot;test&quot;);\n    }\n}\n</code></pre>\n<p>PercolationStats.java</p>\n<pre><code>package percolations;\n\nimport java.lang.Math;\nimport edu.princeton.cs.algs4.StdRandom;\nimport edu.princeton.cs.algs4.StdStats;\n\npublic class PercolationStats {\n    private Percolation perc;\n    ...\n\n    public PercolationStats(int n, int trials) {\n        perc = new Percolation(n);\n        ...\n    }\n\n    public static void main(String[] args) {\n        PercolationStats stats = new PercolationStats(n, t);\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jpa","repository"],"answers":[{"comments":[{"owner":{"account_id":2017603,"reputation":701,"user_id":1804511,"accept_rate":14,"display_name":"Dheeraj R"},"score":1,"creation_date":1499733889,"post_id":36329145,"comment_id":77021617,"body_markdown":"thanks for your response to this question. It was crisp and clear","body":"thanks for your response to this question. It was crisp and clear"},{"owner":{"account_id":411446,"reputation":1700,"user_id":783893,"accept_rate":30,"display_name":"Vineel"},"score":0,"creation_date":1548982902,"post_id":36329145,"comment_id":95750628,"body_markdown":"@manish  Thanks you saved my night&#39;s sleep, your method worked like a charm!!!!!!!","body":"@manish  Thanks you saved my night&#39;s sleep, your method worked like a charm!!!!!!!"},{"owner":{"account_id":268922,"reputation":113,"user_id":557968,"display_name":"sarath"},"score":0,"creation_date":1614093862,"post_id":36329145,"comment_id":117276220,"body_markdown":"Thank you... I prefer this solution over the accepted answers native-query solution to avoid a long list of projection interfaces.","body":"Thank you... I prefer this solution over the accepted answers native-query solution to avoid a long list of projection interfaces."},{"owner":{"account_id":12517007,"reputation":491,"user_id":9109815,"display_name":"SagitSri"},"score":0,"creation_date":1657080532,"post_id":36329145,"comment_id":128721578,"body_markdown":"This only works while comparing above answers.","body":"This only works while comparing above answers."}],"tags":[],"owner":{"account_id":1800179,"reputation":3396,"user_id":1638718,"display_name":"ooozguuur"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1459419149,"creation_date":1459415910,"answer_id":36329145,"question_id":36328063,"body_markdown":"This SQL query  return List&lt; Object[] &gt; would.\r\n\r\n*You can do it this way:*\r\n\r\n     @RestController\r\n     @RequestMapping(&quot;/survey&quot;)\r\n     public class SurveyController {\r\n\r\n       @Autowired\r\n\t   private SurveyRepository surveyRepository;\r\n           \r\n         @RequestMapping(value = &quot;/find&quot;, method =  RequestMethod.GET)\r\n         public Map&lt;Long,String&gt; findSurvey(){\r\n           List&lt;Object[]&gt; result = surveyRepository.findSurveyCount();\r\n           Map&lt;Long,String&gt; map = null;\r\n           if(result != null &amp;&amp; !result.isEmpty()){\r\n              map = new HashMap&lt;Long,String&gt;();\r\n              for (Object[] object : result) {\r\n                map.put(((Long)object[0]),object[1]);\r\n              }\r\n           }\r\n         return map;\r\n         }\r\n     }","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<p>This SQL query  return List&lt; Object[] > would.</p>\n\n<p><em>You can do it this way:</em></p>\n\n<pre><code> @RestController\n @RequestMapping(\"/survey\")\n public class SurveyController {\n\n   @Autowired\n   private SurveyRepository surveyRepository;\n\n     @RequestMapping(value = \"/find\", method =  RequestMethod.GET)\n     public Map&lt;Long,String&gt; findSurvey(){\n       List&lt;Object[]&gt; result = surveyRepository.findSurveyCount();\n       Map&lt;Long,String&gt; map = null;\n       if(result != null &amp;&amp; !result.isEmpty()){\n          map = new HashMap&lt;Long,String&gt;();\n          for (Object[] object : result) {\n            map.put(((Long)object[0]),object[1]);\n          }\n       }\n     return map;\n     }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3643696,"reputation":114125,"user_id":3037257,"accept_rate":97,"display_name":"Pranav C Balan"},"score":1,"creation_date":1459417521,"post_id":36329166,"comment_id":60281750,"body_markdown":"It&#39;s not working, firing error : `Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate class [SurveyAnswerReport] [select new SurveyAnswerReport(v.answer,count(v.id)) from com.furniturepool.domain.Survey v group by v.answer]\n\tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1750)\n\tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1677)\n\tat org.hibernate.jpa.spi.AbstractEnti..........`","body":"It&#39;s not working, firing error : <code>Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate class [SurveyAnswerReport] [select new SurveyAnswerReport(v.answer,count(v.id)) from com.furniturepool.domain.Survey v group by v.answer] \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(Abst&zwnj;&#8203;ractEntityManagerImp&zwnj;&#8203;l.java:1750) \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(Abst&zwnj;&#8203;ractEntityManagerImp&zwnj;&#8203;l.java:1677) \tat org.hibernate.jpa.spi.AbstractEnti..........</code>"},{"owner":{"account_id":2182602,"reputation":1740,"user_id":1931740,"accept_rate":80,"display_name":"Bunti"},"score":0,"creation_date":1459417764,"post_id":36329166,"comment_id":60281913,"body_markdown":"What is this `SurveyAnswerReport ` in your output.  I assume you replaced `SurveyAnswerStatistics ` with your own class `SurveyAnswerReport`. You need to specify the fully qualified class name.","body":"What is this <code>SurveyAnswerReport </code> in your output.  I assume you replaced <code>SurveyAnswerStatistics </code> with your own class <code>SurveyAnswerReport</code>. You need to specify the fully qualified class name."},{"owner":{"account_id":1143154,"reputation":19805,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"score":10,"creation_date":1459417834,"post_id":36329166,"comment_id":60281958,"body_markdown":"The bean class must be fully qualified, that is, include the full package name.  Something like `com.domain.dto.SurveyAnswerReport`.","body":"The bean class must be fully qualified, that is, include the full package name.  Something like <code>com.domain.dto.SurveyAnswerReport</code>."},{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1472367839,"post_id":36329166,"comment_id":65718400,"body_markdown":"@manish Please post a link where more of this can be read. Thanks!","body":"@manish Please post a link where more of this can be read. Thanks!"},{"owner":{"account_id":1143154,"reputation":19805,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"score":0,"creation_date":1472376488,"post_id":36329166,"comment_id":65720242,"body_markdown":"This is part of the [JPA specification](http://docs.oracle.com/html/E13946_05/ejb3_langref.html#ejb3_langref_constructor).","body":"This is part of the <a href=\"http://docs.oracle.com/html/E13946_05/ejb3_langref.html#ejb3_langref_constructor\" rel=\"nofollow noreferrer\">JPA specification</a>."},{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":0,"creation_date":1488840626,"post_id":36329166,"comment_id":72401788,"body_markdown":"Can you confirm the name of the class which extends the JPARepository in this case, is it called SurveyRepository or SurveyAnswerStatisticsRepository? Thanks","body":"Can you confirm the name of the class which extends the JPARepository in this case, is it called SurveyRepository or SurveyAnswerStatisticsRepository? Thanks"},{"owner":{"account_id":7077774,"reputation":878,"user_id":5417130,"accept_rate":38,"display_name":"MatMat"},"score":0,"creation_date":1503572366,"post_id":36329166,"comment_id":78677438,"body_markdown":"How would you use DATE() in such custom query? I need to group by DATE(created_date);","body":"How would you use DATE() in such custom query? I need to group by DATE(created_date);"},{"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"score":3,"creation_date":1508145134,"post_id":36329166,"comment_id":80478627,"body_markdown":"I got &#39;java.lang.IllegalArgumentException: PersistentEntity must not be null!` when i try return custom type from my `JpaRepository` ? Is some configuration i missed ?","body":"I got &#39;java.lang.IllegalArgumentException: PersistentEntity must not be null!` when i try return custom type from my <code>JpaRepository</code> ? Is some configuration i missed ?"},{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":0,"creation_date":1508359672,"post_id":36329166,"comment_id":80585294,"body_markdown":"Don&#39;t omit the &quot;new&quot; keyword in the query, if you do you&#39;ll see a Hibernate exception &quot;No data type for node: org.hibernate.hql.internal.ast.tree.MethodNode&quot;!   (Thanks @manish this was a big help)","body":"Don&#39;t omit the &quot;new&quot; keyword in the query, if you do you&#39;ll see a Hibernate exception &quot;No data type for node: org.hibernate.hql.internal.ast.tree.MethodNode&quot;!   (Thanks @manish this was a big help)"},{"owner":{"account_id":2879257,"reputation":640,"user_id":2470498,"display_name":"Awanish Kumar"},"score":0,"creation_date":1533802406,"post_id":36329166,"comment_id":90482807,"body_markdown":"i am trying to run below query. but it not working can anyone help here plz. \n@Query(value = &quot;select new com.unilever.d2.integration.transaction.modal.coupons.OfferStatus(offerId, CASE WHEN (InventoryCount=0 or InventoryCount - ConsumptionCount &gt; 0) and  ( StartDate is null or getdate() &gt;  StartDate ) and ( EndDate  is null or getdate() &lt; EndDate ) THEN &#39;false&#39; else &#39;true&#39; end) from OfferMaster where Brand= ?1 and Locale = ?2 and CampaignId = ?3&quot;)\n\tpublic List&lt;?&gt; getOffersStatus2(String brand, String locale, String campaignId);","body":"i am trying to run below query. but it not working can anyone help here plz.  @Query(value = &quot;select new com.unilever.d2.integration.transaction.modal.coupons.OfferS&zwnj;&#8203;tatus(offerId, CASE WHEN (InventoryCount=0 or InventoryCount - ConsumptionCount &gt; 0) and  ( StartDate is null or getdate() &gt;  StartDate ) and ( EndDate  is null or getdate() &lt; EndDate ) THEN &#39;false&#39; else &#39;true&#39; end) from OfferMaster where Brand= ?1 and Locale = ?2 and CampaignId = ?3&quot;) \tpublic List&lt;?&gt; getOffersStatus2(String brand, String locale, String campaignId);"},{"owner":{"account_id":1143154,"reputation":19805,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"score":0,"creation_date":1533871216,"post_id":36329166,"comment_id":90514883,"body_markdown":"@AwanishKumar, I have added some important considerations to the answer. Please review and make sure you are following the listed points. I suspect that you are trying to execute a native SQL query (because `CASE`, `WHEN`, `THEN` and `getDate()` are not valid JPQL keywords), which is why things are not working for you.","body":"@AwanishKumar, I have added some important considerations to the answer. Please review and make sure you are following the listed points. I suspect that you are trying to execute a native SQL query (because <code>CASE</code>, <code>WHEN</code>, <code>THEN</code> and <code>getDate()</code> are not valid JPQL keywords), which is why things are not working for you."},{"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"score":0,"creation_date":1535790537,"post_id":36329166,"comment_id":91203317,"body_markdown":"with native query i get: `Couldn&#39;t find PersistentEntity for type class com.sun.proxy.$Proxy...`. What may be wrong ?","body":"with native query i get: <code>Couldn&#39;t find PersistentEntity for type class com.sun.proxy.$Proxy...</code>. What may be wrong ?"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1544082747,"post_id":36329166,"comment_id":94151955,"body_markdown":"non native query did not work it throws an exception table cannot be mapped","body":"non native query did not work it throws an exception table cannot be mapped"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1544082843,"post_id":36329166,"comment_id":94151998,"body_markdown":"native query did not work either. Exception is java.lang.UnsupportedOperationException: Attempted to serialize java.lang.Class: [bean]. Forgot to register a type adapter?","body":"native query did not work either. Exception is java.lang.UnsupportedOperationException: Attempted to serialize java.lang.Class: [bean]. Forgot to register a type adapter?"},{"owner":{"display_name":"user6192706"},"score":0,"creation_date":1545664608,"post_id":36329166,"comment_id":94673289,"body_markdown":"@manish: If we have more tables and we Join them in this query, We get token (tablename) exception.","body":"@manish: If we have more tables and we Join them in this query, We get token (tablename) exception."},{"owner":{"account_id":1143154,"reputation":19805,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"score":0,"creation_date":1545810876,"post_id":36329166,"comment_id":94699079,"body_markdown":"@Android, can you ask it as a separate question, posting the code that is throwing the error, and error details?","body":"@Android, can you ask it as a separate question, posting the code that is throwing the error, and error details?"},{"owner":{"account_id":200488,"reputation":2393,"user_id":446368,"accept_rate":49,"display_name":"Mejmo"},"score":0,"creation_date":1546964785,"post_id":36329166,"comment_id":95024242,"body_markdown":"Native query does not work for me to. It just returns 0 items, no exception though. If I test the same raw SQL in SQL prompts, it returns the dataset.","body":"Native query does not work for me to. It just returns 0 items, no exception though. If I test the same raw SQL in SQL prompts, it returns the dataset."},{"owner":{"account_id":3705593,"reputation":2582,"user_id":3084228,"accept_rate":49,"display_name":"Junaid S."},"score":0,"creation_date":1547390282,"post_id":36329166,"comment_id":95168669,"body_markdown":"@manish will the Class Base Projection work instead of Projection Interface? Because at then end I need the result as DTO to transfer via REST api.\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos","body":"@manish will the Class Base Projection work instead of Projection Interface? Because at then end I need the result as DTO to transfer via REST api. <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.dtos\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":6630058,"reputation":730,"user_id":5119030,"accept_rate":71,"display_name":"Mikheil Zhghenti"},"score":1,"creation_date":1588156385,"post_id":36329166,"comment_id":108789534,"body_markdown":"While using native query exception says: nested exception is java.lang.IllegalArgumentException: Not a managed type: class ...\nWhy this should be happed ?","body":"While using native query exception says: nested exception is java.lang.IllegalArgumentException: Not a managed type: class ... Why this should be happed ?"},{"owner":{"account_id":6630058,"reputation":730,"user_id":5119030,"accept_rate":71,"display_name":"Mikheil Zhghenti"},"score":0,"creation_date":1588190735,"post_id":36329166,"comment_id":108808844,"body_markdown":"@manish in my understanding the missed class Survey should be just simple POJO class, right?","body":"@manish in my understanding the missed class Survey should be just simple POJO class, right?"}],"tags":[],"owner":{"account_id":1143154,"reputation":19805,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"comment_count":20,"down_vote_count":1,"up_vote_count":376,"is_accepted":true,"score":375,"last_activity_date":1700493435,"creation_date":1459415959,"answer_id":36329166,"question_id":36328063,"body_markdown":"# Solution for JPQL queries\r\n\r\nThis is supported for JPQL queries within the [JPA specification](http://docs.oracle.com/html/E13946_05/ejb3_langref.html#ejb3_langref_constructor).\r\n\r\n&gt; **Step 1**: Declare a simple bean class\r\n\r\n    package com.path.to;\r\n\r\n    public class SurveyAnswerStatistics {\r\n      private String answer;\r\n      private Long   cnt;\r\n\r\n      public SurveyAnswerStatistics(String answer, Long cnt) {\r\n        this.answer = answer;\r\n        this.count  = cnt;\r\n      }\r\n    }\r\n\r\n&gt; **Step 2**: Return bean instances from the repository method\r\n\r\n    public interface SurveyRepository extends CrudRepository&lt;Survey, Long&gt; {\r\n        @Query(&quot;&quot;&quot;\r\n                SELECT\r\n                 new com.path.to.SurveyAnswerStatistics(v.answer, COUNT(v))\r\n                FROM\r\n                 Survey v\r\n                GROUP BY v.answer&quot;&quot;&quot;)\r\n        List&lt;SurveyAnswerStatistics&gt; findSurveyCount();\r\n    }\r\n\r\n### *Important notes*\r\n\r\n1. Make sure to provide the fully-qualified path to the bean class, including the package name. For example, if the bean class is called `MyBean` and it is in package `com.path.to`, the fully-qualified path to the bean will be `com.path.to.MyBean`. Simply providing `MyBean` will not work (unless the bean class is in the default package).\r\n1. Make sure to call the bean class constructor using the `new` keyword. `SELECT new com.path.to.MyBean(...)` will work, whereas `SELECT com.path.to.MyBean(...)` will not.\r\n1. Make sure to pass attributes in exactly the same order as that expected in the bean constructor. Attempting to pass attributes in a different order will lead to an exception.\r\n1. Make sure the query is a valid JPA query, that is, it is not a native query. `@Query(&quot;SELECT ...&quot;)`, or `@Query(value = &quot;SELECT ...&quot;)`, or `@Query(value = &quot;SELECT ...&quot;, nativeQuery = false)` will work, whereas `@Query(value = &quot;SELECT ...&quot;, nativeQuery = true)` will not work. This is because native queries are passed without modifications to the JPA provider, and are executed against the underlying RDBMS as such. Since `new` and `com.path.to.MyBean` are not valid SQL keywords, the RDBMS then throws an exception.\r\n\r\n----\r\n\r\n# Solution for native queries\r\n\r\nAs noted above, the `new ...` syntax is a JPA-supported mechanism and works with all JPA providers. However, if the query itself is not a JPA query, that is, it is a native query, the `new ...` syntax will not work as the query is passed on directly to the underlying RDBMS, which does not understand the `new` keyword since it is not part of the SQL standard.\r\n\r\nIn situations like these, bean classes need to be replaced with [Spring Data Projection](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections) interfaces.\r\n\r\n&gt; **Step 1**: Declare a projection interface\r\n\r\n    package com.path.to;\r\n\r\n    public interface SurveyAnswerStatistics {\r\n      String getAnswer();\r\n\r\n      int getCnt();\r\n    }\r\n\r\n&gt; **Step 2**: Return projected properties from the query\r\n\r\n    public interface SurveyRepository extends CrudRepository&lt;Survey, Long&gt; {\r\n        @Query(nativeQuery = true, value =\r\n              &quot;&quot;&quot;\r\n               SELECT\r\n                v.answer AS answer, COUNT(v) AS cnt\r\n               FROM\r\n                Survey v\r\n               GROUP BY v.answer&quot;&quot;&quot;)\r\n        List&lt;SurveyAnswerStatistics&gt; findSurveyCount();\r\n    }\r\n\r\nUse the SQL `AS` keyword to map result fields to projection properties for unambiguous mapping.","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<h1>Solution for JPQL queries</h1>\n<p>This is supported for JPQL queries within the <a href=\"http://docs.oracle.com/html/E13946_05/ejb3_langref.html#ejb3_langref_constructor\" rel=\"nofollow noreferrer\">JPA specification</a>.</p>\n<blockquote>\n<p><strong>Step 1</strong>: Declare a simple bean class</p>\n</blockquote>\n<pre><code>package com.path.to;\n\npublic class SurveyAnswerStatistics {\n  private String answer;\n  private Long   cnt;\n\n  public SurveyAnswerStatistics(String answer, Long cnt) {\n    this.answer = answer;\n    this.count  = cnt;\n  }\n}\n</code></pre>\n<blockquote>\n<p><strong>Step 2</strong>: Return bean instances from the repository method</p>\n</blockquote>\n<pre><code>public interface SurveyRepository extends CrudRepository&lt;Survey, Long&gt; {\n    @Query(&quot;&quot;&quot;\n            SELECT\n             new com.path.to.SurveyAnswerStatistics(v.answer, COUNT(v))\n            FROM\n             Survey v\n            GROUP BY v.answer&quot;&quot;&quot;)\n    List&lt;SurveyAnswerStatistics&gt; findSurveyCount();\n}\n</code></pre>\n<h3><em>Important notes</em></h3>\n<ol>\n<li>Make sure to provide the fully-qualified path to the bean class, including the package name. For example, if the bean class is called <code>MyBean</code> and it is in package <code>com.path.to</code>, the fully-qualified path to the bean will be <code>com.path.to.MyBean</code>. Simply providing <code>MyBean</code> will not work (unless the bean class is in the default package).</li>\n<li>Make sure to call the bean class constructor using the <code>new</code> keyword. <code>SELECT new com.path.to.MyBean(...)</code> will work, whereas <code>SELECT com.path.to.MyBean(...)</code> will not.</li>\n<li>Make sure to pass attributes in exactly the same order as that expected in the bean constructor. Attempting to pass attributes in a different order will lead to an exception.</li>\n<li>Make sure the query is a valid JPA query, that is, it is not a native query. <code>@Query(&quot;SELECT ...&quot;)</code>, or <code>@Query(value = &quot;SELECT ...&quot;)</code>, or <code>@Query(value = &quot;SELECT ...&quot;, nativeQuery = false)</code> will work, whereas <code>@Query(value = &quot;SELECT ...&quot;, nativeQuery = true)</code> will not work. This is because native queries are passed without modifications to the JPA provider, and are executed against the underlying RDBMS as such. Since <code>new</code> and <code>com.path.to.MyBean</code> are not valid SQL keywords, the RDBMS then throws an exception.</li>\n</ol>\n<hr />\n<h1>Solution for native queries</h1>\n<p>As noted above, the <code>new ...</code> syntax is a JPA-supported mechanism and works with all JPA providers. However, if the query itself is not a JPA query, that is, it is a native query, the <code>new ...</code> syntax will not work as the query is passed on directly to the underlying RDBMS, which does not understand the <code>new</code> keyword since it is not part of the SQL standard.</p>\n<p>In situations like these, bean classes need to be replaced with <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">Spring Data Projection</a> interfaces.</p>\n<blockquote>\n<p><strong>Step 1</strong>: Declare a projection interface</p>\n</blockquote>\n<pre><code>package com.path.to;\n\npublic interface SurveyAnswerStatistics {\n  String getAnswer();\n\n  int getCnt();\n}\n</code></pre>\n<blockquote>\n<p><strong>Step 2</strong>: Return projected properties from the query</p>\n</blockquote>\n<pre><code>public interface SurveyRepository extends CrudRepository&lt;Survey, Long&gt; {\n    @Query(nativeQuery = true, value =\n          &quot;&quot;&quot;\n           SELECT\n            v.answer AS answer, COUNT(v) AS cnt\n           FROM\n            Survey v\n           GROUP BY v.answer&quot;&quot;&quot;)\n    List&lt;SurveyAnswerStatistics&gt; findSurveyCount();\n}\n</code></pre>\n<p>Use the SQL <code>AS</code> keyword to map result fields to projection properties for unambiguous mapping.</p>\n"},{"comments":[{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":2,"creation_date":1540892386,"post_id":43166603,"comment_id":93021105,"body_markdown":"The solution is better.Or use [the projection in the official document.](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections)","body":"The solution is better.Or use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">the projection in the official document.</a>"}],"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1491124157,"creation_date":1491124157,"answer_id":43166603,"question_id":36328063,"body_markdown":"define a custom pojo class say sureveyQueryAnalytics and store the query returned value in your custom pojo class\r\n\r\n    @Query(value = &quot;select new com.xxx.xxx.class.SureveyQueryAnalytics(s.answer, count(sv)) from Survey s group by s.answer&quot;)\r\n    List&lt;SureveyQueryAnalytics&gt; calculateSurveyCount();","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<p>define a custom pojo class say sureveyQueryAnalytics and store the query returned value in your custom pojo class</p>\n\n<pre><code>@Query(value = \"select new com.xxx.xxx.class.SureveyQueryAnalytics(s.answer, count(sv)) from Survey s group by s.answer\")\nList&lt;SureveyQueryAnalytics&gt; calculateSurveyCount();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13925536,"reputation":259,"user_id":10054970,"display_name":"Yuri Hassle Ara&#250;jo"},"score":1,"creation_date":1565620883,"post_id":44423016,"comment_id":101400066,"body_markdown":"I like your answer because it doesn&#39;t force me to create a new class or interface. It worked for me.","body":"I like your answer because it doesn&#39;t force me to create a new class or interface. It worked for me."},{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1570563392,"post_id":44423016,"comment_id":102950065,"body_markdown":"Works fine but i prefer the usage of Map in the generics instead of ?, as Map will let us access them as key (0) and value (1)","body":"Works fine but i prefer the usage of Map in the generics instead of ?, as Map will let us access them as key (0) and value (1)"}],"tags":[],"owner":{"account_id":2378175,"reputation":1233,"user_id":2080929,"accept_rate":48,"display_name":"rena"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1496870666,"creation_date":1496870666,"answer_id":44423016,"question_id":36328063,"body_markdown":"I know this is an old question and it has already been answered, but here&#39;s another approach: \r\n\r\n\r\n    @Query(&quot;select new map(count(v) as cnt, v.answer) from Survey v group by v.answer&quot;)\r\n    public List&lt;?&gt; findSurveyCount();\r\n\r\n\r\n","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<p>I know this is an old question and it has already been answered, but here's another approach: </p>\n\n<pre><code>@Query(\"select new map(count(v) as cnt, v.answer) from Survey v group by v.answer\")\npublic List&lt;?&gt; findSurveyCount();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1544083247,"post_id":49008409,"comment_id":94152165,"body_markdown":"@Getter is showing an error before running the code as its not for the object type","body":"@Getter is showing an error before running the code as its not for the object type"},{"owner":{"account_id":7900006,"reputation":91,"user_id":5967320,"display_name":"dwe"},"score":0,"creation_date":1544174126,"post_id":49008409,"comment_id":94190569,"body_markdown":"Lombok is needed. Just added a footnote to the code.","body":"Lombok is needed. Just added a footnote to the code."},{"owner":{"account_id":2842936,"reputation":2530,"user_id":2442133,"accept_rate":57,"display_name":"mkczyk"},"score":0,"creation_date":1603196454,"post_id":49008409,"comment_id":113954492,"body_markdown":"It doesn&#39;t work for me. Constructor is not called. For me works only interface-based projection or class-based projection with `new`  in `@Query`. It would be great if class-based without `new` (with this constructor `HashMap&lt;String, Object&gt;`) worked. But I get `org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [package.MyClass]`.","body":"It doesn&#39;t work for me. Constructor is not called. For me works only interface-based projection or class-based projection with <code>new</code>  in <code>@Query</code>. It would be great if class-based without <code>new</code> (with this constructor <code>HashMap&lt;String, Object&gt;</code>) worked. But I get <code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQu&zwnj;&#8203;ery$TupleConverter$T&zwnj;&#8203;upleBackedMap] to type [package.MyClass]</code>."},{"owner":{"account_id":8244203,"reputation":1279,"user_id":6201811,"display_name":"Manoel Stilpen"},"score":0,"creation_date":1652476559,"post_id":49008409,"comment_id":127624234,"body_markdown":"seems that spring can&#39;t inject the Map object into the constructor because they&#39;re of different types. The repository return type is not Map&lt;String, Object&gt; so it cant invoke the apropriated converter. Found the post below which might help\n\nhttps://www.bytestree.com/spring/spring-data-jpa-projections-5-ways-return-custom-object/","body":"seems that spring can&#39;t inject the Map object into the constructor because they&#39;re of different types. The repository return type is not Map&lt;String, Object&gt; so it cant invoke the apropriated converter. Found the post below which might help  <a href=\"https://www.bytestree.com/spring/spring-data-jpa-projections-5-ways-return-custom-object/\" rel=\"nofollow noreferrer\">bytestree.com/spring/&hellip;</a>"}],"tags":[],"owner":{"account_id":7900006,"reputation":91,"user_id":5967320,"display_name":"dwe"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544173932,"creation_date":1519733468,"answer_id":49008409,"question_id":36328063,"body_markdown":"I do not like java type names in query strings and handle it with a specific constructor.\r\nSpring JPA implicitly calls constructor with query result in HashMap parameter:\r\n\r\n    @Getter\r\n    public class SurveyAnswerStatistics {\r\n      public static final String PROP_ANSWER = &quot;answer&quot;;\r\n      public static final String PROP_CNT = &quot;cnt&quot;;\r\n    \r\n      private String answer;\r\n      private Long   cnt;\r\n    \r\n      public SurveyAnswerStatistics(HashMap&lt;String, Object&gt; values) {\r\n        this.answer = (String) values.get(PROP_ANSWER);\r\n        this.count  = (Long) values.get(PROP_CNT);\r\n      }\r\n    }\r\n\r\n    @Query(&quot;SELECT v.answer as &quot;+PROP_ANSWER+&quot;, count(v) as &quot;+PROP_CNT+&quot; FROM  Survey v GROUP BY v.answer&quot;)\r\n    List&lt;SurveyAnswerStatistics&gt; findSurveyCount();\r\n\r\nCode needs Lombok for resolving @Getter","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<p>I do not like java type names in query strings and handle it with a specific constructor.\nSpring JPA implicitly calls constructor with query result in HashMap parameter:</p>\n\n<pre><code>@Getter\npublic class SurveyAnswerStatistics {\n  public static final String PROP_ANSWER = \"answer\";\n  public static final String PROP_CNT = \"cnt\";\n\n  private String answer;\n  private Long   cnt;\n\n  public SurveyAnswerStatistics(HashMap&lt;String, Object&gt; values) {\n    this.answer = (String) values.get(PROP_ANSWER);\n    this.count  = (Long) values.get(PROP_CNT);\n  }\n}\n\n@Query(\"SELECT v.answer as \"+PROP_ANSWER+\", count(v) as \"+PROP_CNT+\" FROM  Survey v GROUP BY v.answer\")\nList&lt;SurveyAnswerStatistics&gt; findSurveyCount();\n</code></pre>\n\n<p>Code needs Lombok for resolving @Getter</p>\n"},{"tags":[],"owner":{"account_id":5828090,"reputation":332,"user_id":4593668,"display_name":"Yousra ADDALI"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1557929636,"creation_date":1557832027,"answer_id":56129001,"question_id":36328063,"body_markdown":"**I just solved this problem :** \r\n\r\n -  Class-based Projections doesn&#39;t work with query native(`@Query(value = &quot;SELECT ...&quot;, nativeQuery = true`)) so I recommend to define custom DTO using interface . \r\n - Before using DTO should verify  the query syntatically correct or not\r\n\r\n","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<p><strong>I just solved this problem :</strong> </p>\n\n<ul>\n<li>Class-based Projections doesn't work with query native(<code>@Query(value = \"SELECT ...\", nativeQuery = true</code>)) so I recommend to define custom DTO using interface . </li>\n<li>Before using DTO should verify  the query syntatically correct or not</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":201308,"reputation":1020,"user_id":447672,"display_name":"adlerer"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1569870007,"creation_date":1569870007,"answer_id":58173791,"question_id":36328063,"body_markdown":"I used custom DTO (interface) to map a native query to - the most flexible approach and refactoring-safe.\r\n\r\nThe problem I had with this - that surprisingly, the order of fields in the interface and the columns in the query matters. I got it working by ordering interface getters alphabetically and then ordering the columns in the query the same way.","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<p>I used custom DTO (interface) to map a native query to - the most flexible approach and refactoring-safe.</p>\n\n<p>The problem I had with this - that surprisingly, the order of fields in the interface and the columns in the query matters. I got it working by ordering interface getters alphabetically and then ordering the columns in the query the same way.</p>\n"},{"tags":[],"owner":{"account_id":11697339,"reputation":1663,"user_id":8563654,"display_name":"Senthuran"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574525701,"creation_date":1574525701,"answer_id":59009618,"question_id":36328063,"body_markdown":"    @Repository\r\n    public interface ExpenseRepo extends JpaRepository&lt;Expense,Long&gt; {\r\n        List&lt;Expense&gt; findByCategoryId(Long categoryId);\r\n\r\n        @Query(value = &quot;select category.name,SUM(expense.amount) from expense JOIN category ON expense.category_id=category.id GROUP BY expense.category_id&quot;,nativeQuery = true)\r\n        List&lt;?&gt; getAmountByCategory();\r\n    \r\n    }\r\n\r\nThe above code worked for me. \r\n\r\n","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<pre><code>@Repository\npublic interface ExpenseRepo extends JpaRepository&lt;Expense,Long&gt; {\n    List&lt;Expense&gt; findByCategoryId(Long categoryId);\n\n    @Query(value = \"select category.name,SUM(expense.amount) from expense JOIN category ON expense.category_id=category.id GROUP BY expense.category_id\",nativeQuery = true)\n    List&lt;?&gt; getAmountByCategory();\n\n}\n</code></pre>\n\n<p>The above code worked for me. </p>\n"},{"tags":[],"owner":{"account_id":20457059,"reputation":7,"user_id":15010466,"display_name":"Avinash Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611474247,"creation_date":1611376552,"answer_id":65855773,"question_id":36328063,"body_markdown":"Get data with column name and its values (in key-value pair) using JDBC:\r\n\r\n```\r\n/*Template class with a basic set of JDBC operations, allowing the use\r\n  of named parameters rather than traditional &#39;?&#39; placeholders.\r\n \r\n  This class delegates to a wrapped {@link #getJdbcOperations() JdbcTemplate}\r\n  once the substitution from named parameters to JDBC style &#39;?&#39; placeholders is\r\n  done at execution time. It also allows for expanding a {@link java.util.List}\r\n  of values to the appropriate number of placeholders.\r\n \r\n  The underlying {@link org.springframework.jdbc.core.JdbcTemplate} is\r\n  exposed to allow for convenient access to the traditional\r\n  {@link org.springframework.jdbc.core.JdbcTemplate} methods.*/\r\n\r\n\r\n@Autowired\r\nprotected  NamedParameterJdbcTemplate jdbc;\r\n\r\n\r\n@GetMapping(&quot;/showDataUsingQuery/{Query}&quot;)\r\n\tpublic List&lt;Map&lt;String,Object&gt;&gt; ShowColumNameAndValue(@PathVariable(&quot;Query&quot;)String Query) throws SQLException {\r\n\r\n      /* MapSqlParameterSource class is intended for passing in a simple Map of parameter values\r\n        to the methods of the {@link NamedParameterJdbcTemplate} class*/\r\n\r\n       MapSqlParameterSource msp = new MapSqlParameterSource();\r\n\r\n       // this query used for show column name and columnvalues....\r\n\t\tList&lt;Map&lt;String,Object&gt;&gt; css = jdbc.queryForList(Query,msp);\r\n\r\n\t\treturn css;\r\n\t}\r\n\r\n```","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<p>Get data with column name and its values (in key-value pair) using JDBC:</p>\n<pre><code>/*Template class with a basic set of JDBC operations, allowing the use\n  of named parameters rather than traditional '?' placeholders.\n \n  This class delegates to a wrapped {@link #getJdbcOperations() JdbcTemplate}\n  once the substitution from named parameters to JDBC style '?' placeholders is\n  done at execution time. It also allows for expanding a {@link java.util.List}\n  of values to the appropriate number of placeholders.\n \n  The underlying {@link org.springframework.jdbc.core.JdbcTemplate} is\n  exposed to allow for convenient access to the traditional\n  {@link org.springframework.jdbc.core.JdbcTemplate} methods.*/\n\n\n@Autowired\nprotected  NamedParameterJdbcTemplate jdbc;\n\n\n@GetMapping(&quot;/showDataUsingQuery/{Query}&quot;)\n    public List&lt;Map&lt;String,Object&gt;&gt; ShowColumNameAndValue(@PathVariable(&quot;Query&quot;)String Query) throws SQLException {\n\n      /* MapSqlParameterSource class is intended for passing in a simple Map of parameter values\n        to the methods of the {@link NamedParameterJdbcTemplate} class*/\n\n       MapSqlParameterSource msp = new MapSqlParameterSource();\n\n       // this query used for show column name and columnvalues....\n        List&lt;Map&lt;String,Object&gt;&gt; css = jdbc.queryForList(Query,msp);\n\n        return css;\n    }\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8067021,"reputation":920,"user_id":6080831,"display_name":"Pradeepal Sudeshana"},"score":0,"creation_date":1614057757,"post_id":66327070,"comment_id":117261250,"body_markdown":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value.","body":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."}],"tags":[],"owner":{"account_id":10048577,"reputation":21,"user_id":7429075,"display_name":"satish"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614170865,"creation_date":1614054489,"answer_id":66327070,"question_id":36328063,"body_markdown":"        //in Service      \r\n          `\r\n                \tpublic List&lt;DevicesPerCustomer&gt; findDevicesPerCustomer() {\r\n                \t\tLOGGER.info(TAG_NAME + &quot; :: inside findDevicesPerCustomer : &quot;);\r\n                \t\tList&lt;Object[]&gt; list = iDeviceRegistrationRepo.findDevicesPerCustomer();\r\n                \t\tList&lt;DevicesPerCustomer&gt; out = new ArrayList&lt;&gt;();\r\n                \t\tif (list != null &amp;&amp; !list.isEmpty()) {\r\n                \t\t\tDevicesPerCustomer mDevicesPerCustomer = null;\r\n                \t\t\tfor (Object[] object : list) {\r\n                \t\t\t\tmDevicesPerCustomer = new DevicesPerCustomer();\r\n    mDevicesPerCustomer.setCustomerId(object[0].toString());\r\n                \t\t\t\tmDevicesPerCustomer.setCount(Integer.parseInt(object[1].toString()));\r\n                \t\t\t\t\r\n                \t\t\t\tout.add(mDevicesPerCustomer);\r\n                \t\t\t}\r\n                \t\t}\r\n                \r\n                \t\treturn out;\r\n                \t}`\r\n            \r\n        //In Repo\r\n            `\t@Query(value = &quot;SELECT d.customerId,count(*) FROM senseer.DEVICE_REGISTRATION d  where d.customerId is not null group by d.customerId&quot;, nativeQuery=true)\r\n            \tList&lt;Object[]&gt; findDevicesPerCustomer();`","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<pre><code>    //in Service      \n      `\n                public List&lt;DevicesPerCustomer&gt; findDevicesPerCustomer() {\n                    LOGGER.info(TAG_NAME + &quot; :: inside findDevicesPerCustomer : &quot;);\n                    List&lt;Object[]&gt; list = iDeviceRegistrationRepo.findDevicesPerCustomer();\n                    List&lt;DevicesPerCustomer&gt; out = new ArrayList&lt;&gt;();\n                    if (list != null &amp;&amp; !list.isEmpty()) {\n                        DevicesPerCustomer mDevicesPerCustomer = null;\n                        for (Object[] object : list) {\n                            mDevicesPerCustomer = new DevicesPerCustomer();\nmDevicesPerCustomer.setCustomerId(object[0].toString());\n                            mDevicesPerCustomer.setCount(Integer.parseInt(object[1].toString()));\n                            \n                            out.add(mDevicesPerCustomer);\n                        }\n                    }\n            \n                    return out;\n                }`\n        \n    //In Repo\n        `   @Query(value = &quot;SELECT d.customerId,count(*) FROM senseer.DEVICE_REGISTRATION d  where d.customerId is not null group by d.customerId&quot;, nativeQuery=true)\n            List&lt;Object[]&gt; findDevicesPerCustomer();`\n</code></pre>\n"}],"owner":{"account_id":3643696,"reputation":114125,"user_id":3037257,"accept_rate":97,"display_name":"Pranav C Balan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302806,"favorite_count":0,"down_vote_count":0,"up_vote_count":176,"accepted_answer_id":36329166,"answer_count":10,"score":176,"last_activity_date":1700493435,"creation_date":1459412992,"question_id":36328063,"body_markdown":"I&#39;m developing a Spring Boot application with Spring Data JPA. I&#39;m using a custom JPQL query to group by some field and get the count. Following is my repository method.\r\n\r\n    @Query(value = &quot;select count(v) as cnt, v.answer from Survey v group by v.answer&quot;)\r\n    public List&lt;?&gt; findSurveyCount();\r\n\r\nIt&#39;s working and result is obtained as follows:\r\n\r\n    [\r\n      [1, &quot;a1&quot;],\r\n      [2, &quot;a2&quot;]\r\n    ]\r\n\r\nI would like to get something like this:\r\n\r\n    [\r\n      { &quot;cnt&quot;:1, &quot;answer&quot;:&quot;a1&quot; },\r\n      { &quot;cnt&quot;:2, &quot;answer&quot;:&quot;a2&quot; }\r\n    ]\r\n\r\nHow can I achieve this?","title":"How to return a custom object from a Spring Data JPA GROUP BY query","body":"<p>I'm developing a Spring Boot application with Spring Data JPA. I'm using a custom JPQL query to group by some field and get the count. Following is my repository method.</p>\n\n<pre><code>@Query(value = \"select count(v) as cnt, v.answer from Survey v group by v.answer\")\npublic List&lt;?&gt; findSurveyCount();\n</code></pre>\n\n<p>It's working and result is obtained as follows:</p>\n\n<pre><code>[\n  [1, \"a1\"],\n  [2, \"a2\"]\n]\n</code></pre>\n\n<p>I would like to get something like this:</p>\n\n<pre><code>[\n  { \"cnt\":1, \"answer\":\"a1\" },\n  { \"cnt\":2, \"answer\":\"a2\" }\n]\n</code></pre>\n\n<p>How can I achieve this?</p>\n"},{"tags":["java","graph-theory","greedy","adjacency-matrix","prims-algorithm"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700500076,"post_id":77516998,"comment_id":136659444,"body_markdown":"Can you, please, edit the question to include something about your attempts to debug this?","body":"Can you, please, edit the question to include something about your attempts to debug this?"},{"owner":{"account_id":11318936,"reputation":39,"user_id":15056828,"display_name":"Sree Teja"},"score":0,"creation_date":1700541464,"post_id":77516998,"comment_id":136664275,"body_markdown":"@OldDogProgrammer, I&#39;m assuming bug inside for loop where the next vertex is selected.","body":"@OldDogProgrammer, I&#39;m assuming bug inside for loop where the next vertex is selected."}],"owner":{"account_id":11318936,"reputation":39,"user_id":15056828,"display_name":"Sree Teja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700493383,"creation_date":1700493383,"question_id":77516998,"body_markdown":"I&#39;m trying implement Prim&#39;s Minimum Spanning Tree Algorithm of a graph represented using Adjacency Matrix in Java. The code is running successfully, but not able to generate expected output. The Algorithm only selects the first vertex and doesn&#39;t move forward. What am I doing wrong? Here is my implementation of the Algorithm.\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class WeightedUndirectedGraph {\r\n    private final int V;\r\n    private final int[][] adjMatrix;\r\n\r\n    public WeightedUndirectedGraph(int V){\r\n        this.V = V;\r\n        adjMatrix = new int[V][V];\r\n    }\r\n\r\n    public int getV() {\r\n        return V;\r\n    }\r\n\r\n    public int[][] getAdjMatrix() {\r\n        return adjMatrix;\r\n    }\r\n\r\n    public void addEdge(int u, int v, int weight) throws IndexOutOfBoundsException{\r\n        if(u &gt;= this.V || v &gt;= this.V) throw new ArrayIndexOutOfBoundsException(&quot;Index out of Bounds&quot;);\r\n        else {\r\n            adjMatrix[u][v] = weight;\r\n            adjMatrix[v][u] = weight;\r\n        }\r\n    }\r\n\r\n    public void removeEdge(int u, int v) throws IndexOutOfBoundsException{\r\n        if(u &gt;= this.V || v &gt;= this.V) throw new ArrayIndexOutOfBoundsException(&quot;Index out of Bounds&quot;);\r\n        else {\r\n            adjMatrix[u][v] = 0;\r\n            adjMatrix[v][u] = 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Prim&#39;s Greedy Algorithm to find Minimum Spanning Tree\r\n     */\r\n    public void primsMST(){\r\n        int minimum = Integer.MAX_VALUE;\r\n        int MST_weight = 0;\r\n        boolean[] selected = new boolean[this.V];\r\n        Arrays.fill(selected, false);\r\n        int no_of_edges = 0;\r\n        int x = 0;\r\n        int y = 0;\r\n        int max_edges = V - 1;\r\n        selected[0] = true;\r\n        System.out.println(&quot;Selected Edges in a Minimum Spanning Tree are:&quot;);\r\n        while(no_of_edges &lt; max_edges){\r\n            for(int i = 0; i &lt; V; i++){\r\n                if(selected[i]){\r\n                    for(int j = 0; j &lt; V; j++){\r\n                        if(!selected[j] &amp;&amp; adjMatrix[i][j] != 0){\r\n                            if(adjMatrix[i][j] &lt; minimum){\r\n                                minimum = adjMatrix[i][j];\r\n                                MST_weight += adjMatrix[i][j];\r\n                                x = i;\r\n                                y = j;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(x + &quot;-&quot; + y + &quot; : &quot; + adjMatrix[x][y]);\r\n            selected[y] = true;\r\n            no_of_edges++;\r\n        }\r\n        System.out.println(&quot;Total weight of the Minimum Spanning Tree is &quot; + MST_weight);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is my main function call:\r\n\r\n```\r\nWeightedUndirectedGraph WUG = new WeightedUndirectedGraph(5);\r\nWUG.addEdge(0, 1, 1);\r\nWUG.addEdge(0, 2, 2);\r\nWUG.addEdge(0, 3, 7);\r\nWUG.addEdge(1, 3, 5);\r\nWUG.addEdge(1, 2, 3);\r\nWUG.addEdge(2, 3, 4);\r\nWUG.primsMST();\r\n```\r\n\r\n\r\n\r\nI tried running the code, this is my output:\r\n\r\n```\r\nSelected Edges in a Minimum Spanning Tree are:\r\n0-1 : 1\r\n0-1 : 1\r\n0-1 : 1\r\n0-1 : 1\r\nTotal weight of the Minimum Spanning Tree is 1\r\n```\r\n\r\nI&#39;m getting `0-1` repeatedly (i.e not progressing from start vertex)","title":"Bug inside Prim&#39;s MST algorithm in Java using Adjacency Matrix","body":"<p>I'm trying implement Prim's Minimum Spanning Tree Algorithm of a graph represented using Adjacency Matrix in Java. The code is running successfully, but not able to generate expected output. The Algorithm only selects the first vertex and doesn't move forward. What am I doing wrong? Here is my implementation of the Algorithm.</p>\n<pre><code>import java.util.Arrays;\n\npublic class WeightedUndirectedGraph {\n    private final int V;\n    private final int[][] adjMatrix;\n\n    public WeightedUndirectedGraph(int V){\n        this.V = V;\n        adjMatrix = new int[V][V];\n    }\n\n    public int getV() {\n        return V;\n    }\n\n    public int[][] getAdjMatrix() {\n        return adjMatrix;\n    }\n\n    public void addEdge(int u, int v, int weight) throws IndexOutOfBoundsException{\n        if(u &gt;= this.V || v &gt;= this.V) throw new ArrayIndexOutOfBoundsException(&quot;Index out of Bounds&quot;);\n        else {\n            adjMatrix[u][v] = weight;\n            adjMatrix[v][u] = weight;\n        }\n    }\n\n    public void removeEdge(int u, int v) throws IndexOutOfBoundsException{\n        if(u &gt;= this.V || v &gt;= this.V) throw new ArrayIndexOutOfBoundsException(&quot;Index out of Bounds&quot;);\n        else {\n            adjMatrix[u][v] = 0;\n            adjMatrix[v][u] = 0;\n        }\n    }\n\n    /**\n     * Prim's Greedy Algorithm to find Minimum Spanning Tree\n     */\n    public void primsMST(){\n        int minimum = Integer.MAX_VALUE;\n        int MST_weight = 0;\n        boolean[] selected = new boolean[this.V];\n        Arrays.fill(selected, false);\n        int no_of_edges = 0;\n        int x = 0;\n        int y = 0;\n        int max_edges = V - 1;\n        selected[0] = true;\n        System.out.println(&quot;Selected Edges in a Minimum Spanning Tree are:&quot;);\n        while(no_of_edges &lt; max_edges){\n            for(int i = 0; i &lt; V; i++){\n                if(selected[i]){\n                    for(int j = 0; j &lt; V; j++){\n                        if(!selected[j] &amp;&amp; adjMatrix[i][j] != 0){\n                            if(adjMatrix[i][j] &lt; minimum){\n                                minimum = adjMatrix[i][j];\n                                MST_weight += adjMatrix[i][j];\n                                x = i;\n                                y = j;\n                            }\n                        }\n                    }\n                }\n            }\n            System.out.println(x + &quot;-&quot; + y + &quot; : &quot; + adjMatrix[x][y]);\n            selected[y] = true;\n            no_of_edges++;\n        }\n        System.out.println(&quot;Total weight of the Minimum Spanning Tree is &quot; + MST_weight);\n    }\n}\n\n</code></pre>\n<p>Here is my main function call:</p>\n<pre><code>WeightedUndirectedGraph WUG = new WeightedUndirectedGraph(5);\nWUG.addEdge(0, 1, 1);\nWUG.addEdge(0, 2, 2);\nWUG.addEdge(0, 3, 7);\nWUG.addEdge(1, 3, 5);\nWUG.addEdge(1, 2, 3);\nWUG.addEdge(2, 3, 4);\nWUG.primsMST();\n</code></pre>\n<p>I tried running the code, this is my output:</p>\n<pre><code>Selected Edges in a Minimum Spanning Tree are:\n0-1 : 1\n0-1 : 1\n0-1 : 1\n0-1 : 1\nTotal weight of the Minimum Spanning Tree is 1\n</code></pre>\n<p>I'm getting <code>0-1</code> repeatedly (i.e not progressing from start vertex)</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":10,"creation_date":1324286060,"post_id":8559092,"comment_id":10608337,"body_markdown":"Don&#39;t mix arrays and collections. In fact, don&#39;t use arrays unless you are dealing with primitives (or you know what you are doing). Arrays are a usability nightmare, they make your code unmaintainable.","body":"Don&#39;t mix arrays and collections. In fact, don&#39;t use arrays unless you are dealing with primitives (or you know what you are doing). Arrays are a usability nightmare, they make your code unmaintainable."},{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":0,"creation_date":1336898698,"post_id":8559092,"comment_id":13685075,"body_markdown":"@SeanPatrickFloyd so you should avoid arraylists and arrays? (talking about java types). Are lists the alternative?","body":"@SeanPatrickFloyd so you should avoid arraylists and arrays? (talking about java types). Are lists the alternative?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1336905905,"post_id":8559092,"comment_id":13686109,"body_markdown":"@Keyser an arraylist is a list that&#39;s backed by an array. Lists are fine, including arraylists.","body":"@Keyser an arraylist is a list that&#39;s backed by an array. Lists are fine, including arraylists."},{"owner":{"account_id":241437,"reputation":5355,"user_id":512251,"accept_rate":59,"display_name":"user"},"score":19,"creation_date":1336906715,"post_id":8559092,"comment_id":13686220,"body_markdown":"@SeanPatrickFloyd Can you explain why arrays are usability nightmare?","body":"@SeanPatrickFloyd Can you explain why arrays are usability nightmare?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":3,"creation_date":1336927548,"post_id":8559092,"comment_id":13689874,"body_markdown":"@crucifiedsoul sure. an array can&#39;t grow, you can&#39;t insert anything into an array, an array doesn&#39;t override standard methods like equals hashcode or toString etc.","body":"@crucifiedsoul sure. an array can&#39;t grow, you can&#39;t insert anything into an array, an array doesn&#39;t override standard methods like equals hashcode or toString etc."},{"owner":{"account_id":171301,"reputation":6297,"user_id":398630,"accept_rate":79,"display_name":"BrainSlugs83"},"score":10,"creation_date":1426370648,"post_id":8559092,"comment_id":46346885,"body_markdown":"@SeanPatrickFloyd okay -- well I need exactly four arraylists -- I plan to access each one by index -- I don&#39;t need the outer array to grow or shrink -- I don&#39;t need any toString or hashcode, etc. -- to me, an array is the obvious choice here -- what would you recommended as an alternative in this situation?","body":"@SeanPatrickFloyd okay -- well I need exactly four arraylists -- I plan to access each one by index -- I don&#39;t need the outer array to grow or shrink -- I don&#39;t need any toString or hashcode, etc. -- to me, an array is the obvious choice here -- what would you recommended as an alternative in this situation?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1426417606,"post_id":8559092,"comment_id":46356047,"body_markdown":"@BrainSlugs83 well then that might fall into the &quot;or you know what you are doing&quot; category. I&#39;m not saying arrays should never be used, but in 99% of use cases, collections are the better fit. Also read Effective Java Item 25: Prefer Lists to Arrays","body":"@BrainSlugs83 well then that might fall into the &quot;or you know what you are doing&quot; category. I&#39;m not saying arrays should never be used, but in 99% of use cases, collections are the better fit. Also read Effective Java Item 25: Prefer Lists to Arrays"},{"owner":{"account_id":4359518,"reputation":4412,"user_id":3557096,"accept_rate":73,"display_name":"jimboweb"},"score":5,"creation_date":1478351046,"post_id":8559092,"comment_id":68124223,"body_markdown":"Okay this is an old question but I&#39;m going to ask anyway and see if anyone answers. I&#39;m seeing everyone talking about why an array of lists is a terrible idea, bad coding practice, etc. I looked this up because I&#39;m learning to do hash chains, and the _definition_ of a hash chain is an array of lists! So how exactly can a central programming data structure be terrible coding practice? Or does this just fall into the IYKWYD category mentioned by @Sean?","body":"Okay this is an old question but I&#39;m going to ask anyway and see if anyone answers. I&#39;m seeing everyone talking about why an array of lists is a terrible idea, bad coding practice, etc. I looked this up because I&#39;m learning to do hash chains, and the <i>definition</i> of a hash chain is an array of lists! So how exactly can a central programming data structure be terrible coding practice? Or does this just fall into the IYKWYD category mentioned by @Sean?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1478412228,"post_id":8559092,"comment_id":68139224,"body_markdown":"@jimboweb and why can&#39;t you use a list of lists instead?","body":"@jimboweb and why can&#39;t you use a list of lists instead?"},{"owner":{"account_id":4359518,"reputation":4412,"user_id":3557096,"accept_rate":73,"display_name":"jimboweb"},"score":1,"creation_date":1478469917,"post_id":8559092,"comment_id":68155767,"body_markdown":"@SeanPatrickFloyd because of the way that lists items are retrieved as opposed to arrays. An array has a direct address, meaning that items[7] is at the memory location items[0] + 7*the memory size of item. It&#39;s an O(1) operation, then you search the relatively small list in that array. A list is a series of links from one item to the next. If it&#39;s a list and I say items.get(7) it has to go through all 7 items to get to the 7th item - not a big deal if it&#39;s only 7, but if it&#39;s item.get(10000) then it is. It&#39;s an O(n) operation, which is much, much slower if you&#39;re working with huge data sets.","body":"@SeanPatrickFloyd because of the way that lists items are retrieved as opposed to arrays. An array has a direct address, meaning that items[7] is at the memory location items[0] + 7*the memory size of item. It&#39;s an O(1) operation, then you search the relatively small list in that array. A list is a series of links from one item to the next. If it&#39;s a list and I say items.get(7) it has to go through all 7 items to get to the 7th item - not a big deal if it&#39;s only 7, but if it&#39;s item.get(10000) then it is. It&#39;s an O(n) operation, which is much, much slower if you&#39;re working with huge data sets."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1478470057,"post_id":8559092,"comment_id":68155818,"body_markdown":"@jimboweb that&#39;s true for Linked Lists, but an ArrayList is best of both worlds: it has the efficiency of arrays and the usability of lists (there&#39;s a tiny overhead for the list container, but not much)","body":"@jimboweb that&#39;s true for Linked Lists, but an ArrayList is best of both worlds: it has the efficiency of arrays and the usability of lists (there&#39;s a tiny overhead for the list container, but not much)"},{"owner":{"account_id":4359518,"reputation":4412,"user_id":3557096,"accept_rate":73,"display_name":"jimboweb"},"score":0,"creation_date":1478470073,"post_id":8559092,"comment_id":68155825,"body_markdown":"@SeanPatrickFloyd I didn&#39;t make all this up. This is a basic data structure you&#39;ll see in any beginning Data Structures and Algorithms textbook.","body":"@SeanPatrickFloyd I didn&#39;t make all this up. This is a basic data structure you&#39;ll see in any beginning Data Structures and Algorithms textbook."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1478470153,"post_id":8559092,"comment_id":68155851,"body_markdown":"@jimboweb I&#39;m not saying you did. I&#39;m saying that in CS terms, an ArrayList is more like an array than like a list. List is just an interface, with different implementations. This one uses arrays internally","body":"@jimboweb I&#39;m not saying you did. I&#39;m saying that in CS terms, an ArrayList is more like an array than like a list. List is just an interface, with different implementations. This one uses arrays internally"},{"owner":{"account_id":4359518,"reputation":4412,"user_id":3557096,"accept_rate":73,"display_name":"jimboweb"},"score":0,"creation_date":1478470758,"post_id":8559092,"comment_id":68156031,"body_markdown":"@SeanPatrickFloyd okay, that may be true. I didn&#39;t realize that about the ArrayList. I guess because it&#39;s called a list I assumed it was more like a list. I will look it up.","body":"@SeanPatrickFloyd okay, that may be true. I didn&#39;t realize that about the ArrayList. I guess because it&#39;s called a list I assumed it was more like a list. I will look it up."}],"answers":[{"comments":[{"owner":{"account_id":1114660,"reputation":10623,"user_id":1118919,"accept_rate":77,"display_name":"Andy"},"score":5,"creation_date":1346536664,"post_id":8559102,"comment_id":16391522,"body_markdown":"What does &quot;cannot create an array of generic type&quot; mean? That doesn&#39;t really make sense to me because its not a generic if you provide what its suppose to hold, right?","body":"What does &quot;cannot create an array of generic type&quot; mean? That doesn&#39;t really make sense to me because its not a generic if you provide what its suppose to hold, right?"},{"owner":{"account_id":80745,"reputation":81344,"user_id":228109,"accept_rate":100,"display_name":"Ben Clayton"},"score":0,"creation_date":1393938737,"post_id":8559102,"comment_id":33652483,"body_markdown":"@Andy I think he&#39;s saying &quot;it&#39;s a limitation of Java that you cannot create an array of Generic objects&quot;, appears that way to me.","body":"@Andy I think he&#39;s saying &quot;it&#39;s a limitation of Java that you cannot create an array of Generic objects&quot;, appears that way to me."},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":7,"creation_date":1435672754,"post_id":8559102,"comment_id":50291288,"body_markdown":"I am surprised of the upvotes as It doesnt&#39; answer the question (i.e. I want to do this, how can I do it).  Except maybe for the 1st sentence.","body":"I am surprised of the upvotes as It doesnt&#39; answer the question (i.e. I want to do this, how can I do it).  Except maybe for the 1st sentence."},{"owner":{"account_id":1935074,"reputation":813,"user_id":1743538,"display_name":"shifu"},"score":21,"creation_date":1436369094,"post_id":8559102,"comment_id":50584745,"body_markdown":"why is List reference better than ArrayList?","body":"why is List reference better than ArrayList?"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":4,"creation_date":1458681740,"post_id":8559102,"comment_id":59968074,"body_markdown":"@shifu a List reference is more general than ArrayList; declaring as List abstracts away the API of ArrayList that extends beyond List API.  That is good be cause it simplifies the reference to List whose API probably has the entirety of what the List is needed for anyways, without cluttering that reference&#39;s API with the extras ArrayList has.  You should only declare as ArrayList if you need something specific from its API to be available via the reference.","body":"@shifu a List reference is more general than ArrayList; declaring as List abstracts away the API of ArrayList that extends beyond List API.  That is good be cause it simplifies the reference to List whose API probably has the entirety of what the List is needed for anyways, without cluttering that reference&#39;s API with the extras ArrayList has.  You should only declare as ArrayList if you need something specific from its API to be available via the reference."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":2,"creation_date":1458681834,"post_id":8559102,"comment_id":59968131,"body_markdown":"Any reason this would be preferable over @kelvincer simpler Answer (`ArrayList&lt;String&gt;[] group = new ArrayList[4]`)?  Especially if vanilla array API was all that was needed anyways?","body":"Any reason this would be preferable over @kelvincer simpler Answer (<code>ArrayList&lt;String&gt;[] group = new ArrayList[4]</code>)?  Especially if vanilla array API was all that was needed anyways?"},{"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"score":1,"creation_date":1541090658,"post_id":8559102,"comment_id":93106588,"body_markdown":"In Java 9 and later `List&lt;List&lt;Type&gt;&gt; group = new ArrayList&lt;&gt;();`","body":"In Java 9 and later <code>List&lt;List&lt;Type&gt;&gt; group = new ArrayList&lt;&gt;();</code>"}],"tags":[],"owner":{"account_id":212263,"reputation":136304,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"comment_count":7,"down_vote_count":8,"up_vote_count":172,"is_accepted":true,"score":164,"last_activity_date":1472740879,"creation_date":1324285799,"answer_id":8559102,"question_id":8559092,"body_markdown":"As per [Oracle Documentation](https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#createArrays):\n\n&gt; &quot;You cannot create arrays of parameterized types&quot;\n\nInstead, you could do:\r\n\r\n    ArrayList&lt;ArrayList&lt;Individual&gt;&gt; group = new ArrayList&lt;ArrayList&lt;Individual&gt;&gt;(4);\r\n\r\nAs suggested by Tom Hawting - tackline, it is even better to do:\r\n\r\n    List&lt;List&lt;Individual&gt;&gt; group = new ArrayList&lt;List&lt;Individual&gt;&gt;(4);","title":"How can I create an Array of ArrayLists?","body":"<p>As per <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#createArrays\" rel=\"noreferrer\">Oracle Documentation</a>:</p>\n\n<blockquote>\n  <p>\"You cannot create arrays of parameterized types\"</p>\n</blockquote>\n\n<p>Instead, you could do:</p>\n\n<pre><code>ArrayList&lt;ArrayList&lt;Individual&gt;&gt; group = new ArrayList&lt;ArrayList&lt;Individual&gt;&gt;(4);\n</code></pre>\n\n<p>As suggested by Tom Hawting - tackline, it is even better to do:</p>\n\n<pre><code>List&lt;List&lt;Individual&gt;&gt; group = new ArrayList&lt;List&lt;Individual&gt;&gt;(4);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1700493270,"creation_date":1324285995,"answer_id":8559142,"question_id":8559092,"body_markdown":"You can&#39;t create array of generic type. Create List of ArrayLists :\r\n \r\n    List&lt;ArrayList&lt;Individual&gt;&gt; group = new ArrayList&lt;ArrayList&lt;Individual&gt;&gt;();\r\n\r\nor if you REALLY need array (WARNING: bad design!):\r\n\r\n\r\n    ArrayList[] group = new ArrayList[4];","title":"How can I create an Array of ArrayLists?","body":"<p>You can't create array of generic type. Create List of ArrayLists :</p>\n<pre><code>List&lt;ArrayList&lt;Individual&gt;&gt; group = new ArrayList&lt;ArrayList&lt;Individual&gt;&gt;();\n</code></pre>\n<p>or if you REALLY need array (WARNING: bad design!):</p>\n<pre><code>ArrayList[] group = new ArrayList[4];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":501769,"reputation":9256,"user_id":1022707,"accept_rate":63,"display_name":"clankill3r"},"score":7,"creation_date":1371474315,"post_id":8559232,"comment_id":24820731,"body_markdown":"No one seems to explain well why and i like your snippet above. why do you recommend using list over this?","body":"No one seems to explain well why and i like your snippet above. why do you recommend using list over this?"},{"owner":{"account_id":1266537,"reputation":5108,"user_id":1223728,"accept_rate":67,"display_name":"Borzh"},"score":7,"creation_date":1434566730,"post_id":8559232,"comment_id":49838642,"body_markdown":"If array *group* doesn&#39;t change, then this approach is better, because arrays are faster than List&lt;&gt; classes.","body":"If array <i>group</i> doesn&#39;t change, then this approach is better, because arrays are faster than List&lt;&gt; classes."},{"owner":{"account_id":2156423,"reputation":5368,"user_id":1911540,"accept_rate":100,"display_name":"Special Sauce"},"score":54,"creation_date":1447939416,"post_id":8559232,"comment_id":55375605,"body_markdown":"Thanks for actually answering the question. There is no logical reason to automatically presume a list is preferable to an array without further context.","body":"Thanks for actually answering the question. There is no logical reason to automatically presume a list is preferable to an array without further context."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":3,"creation_date":1494945218,"post_id":8559232,"comment_id":75037081,"body_markdown":"You should use `new ArrayList&lt;?&gt;[N]` to avoid using a raw type.","body":"You should use <code>new ArrayList&lt;?&gt;[N]</code> to avoid using a raw type."},{"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"score":2,"creation_date":1539502143,"post_id":8559232,"comment_id":92519836,"body_markdown":"`List&lt;Integer&gt;[] subsets=(List&lt;Integer&gt;[])new ArrayList[length]` also does the work","body":"<code>List&lt;Integer&gt;[] subsets=(List&lt;Integer&gt;[])new ArrayList[length]</code> also does the work"},{"owner":{"account_id":13991277,"reputation":425,"user_id":10105214,"display_name":"Yogesh_Singh"},"score":1,"creation_date":1651326700,"post_id":8559232,"comment_id":127340857,"body_markdown":"why do we need to cast `new ArrayList[4]` with `(ArrayList&lt;Individual&gt;[])`? I tried and it looks like it works fine without casting too.","body":"why do we need to cast <code>new ArrayList[4]</code> with <code>(ArrayList&lt;Individual&gt;[])</code>? I tried and it looks like it works fine without casting too."}],"tags":[],"owner":{"account_id":446184,"reputation":12356,"user_id":839086,"accept_rate":100,"display_name":"Marcus"},"comment_count":6,"down_vote_count":0,"up_vote_count":131,"is_accepted":false,"score":131,"last_activity_date":1620746447,"creation_date":1324286482,"answer_id":8559232,"question_id":8559092,"body_markdown":"As the others have mentioned it&#39;s probably better to use another List to store the ArrayList in but if you have to use an array:\r\n\r\n    ArrayList&lt;Individual&gt;[] group = (ArrayList&lt;Individual&gt;[]) new ArrayList[4];\r\n\r\nYou will need to suppress the warning but it&#39;s safe in this case.","title":"How can I create an Array of ArrayLists?","body":"<p>As the others have mentioned it's probably better to use another List to store the ArrayList in but if you have to use an array:</p>\n<pre><code>ArrayList&lt;Individual&gt;[] group = (ArrayList&lt;Individual&gt;[]) new ArrayList[4];\n</code></pre>\n<p>You will need to suppress the warning but it's safe in this case.</p>\n"},{"comments":[{"owner":{"account_id":361030,"reputation":3779,"user_id":703382,"accept_rate":92,"display_name":"Navin"},"score":0,"creation_date":1388582254,"post_id":17246979,"comment_id":31312252,"body_markdown":"Adding at a specific position is O(n) for both array and ArrayList. Filling is also O(n) for both arrays and ArrayList.","body":"Adding at a specific position is O(n) for both array and ArrayList. Filling is also O(n) for both arrays and ArrayList."},{"owner":{"account_id":1189729,"reputation":1533,"user_id":1162844,"accept_rate":71,"display_name":"aviemet"},"score":2,"creation_date":1395382790,"post_id":17246979,"comment_id":34322731,"body_markdown":"Adding at a specific position is O(1) for arrays. It&#39;s O(n) for ArrayList, but O(1) for arrays.","body":"Adding at a specific position is O(1) for arrays. It&#39;s O(n) for ArrayList, but O(1) for arrays."}],"tags":[],"owner":{"account_id":2124923,"reputation":170,"user_id":1887360,"display_name":"Mark Odey"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1371870586,"creation_date":1371870586,"answer_id":17246979,"question_id":8559092,"body_markdown":"The problem with this situation is by using a arraylist you get a time complexity of o(n) for adding at a specific position. If you use an array you create a memory location by declaring your array therefore it is constant","title":"How can I create an Array of ArrayLists?","body":"<p>The problem with this situation is by using a arraylist you get a time complexity of o(n) for adding at a specific position. If you use an array you create a memory location by declaring your array therefore it is constant</p>\n"},{"tags":[],"owner":{"account_id":3016085,"reputation":321,"user_id":2558221,"display_name":"user2558221"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1373206964,"creation_date":1373206964,"answer_id":17512961,"question_id":8559092,"body_markdown":"You can create a class extending ArrayList\r\n\r\n    class IndividualList extends ArrayList&lt;Individual&gt; {\r\n    \r\n    }\r\n\r\nand then create the array\r\n\r\n    IndividualList[] group = new IndividualList[10];","title":"How can I create an Array of ArrayLists?","body":"<p>You can create a class extending ArrayList</p>\n\n<pre><code>class IndividualList extends ArrayList&lt;Individual&gt; {\n\n}\n</code></pre>\n\n<p>and then create the array</p>\n\n<pre><code>IndividualList[] group = new IndividualList[10];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1434932,"reputation":2947,"user_id":1356559,"accept_rate":50,"display_name":"Amr Lotfy"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1395830389,"creation_date":1395830389,"answer_id":22658387,"question_id":8559092,"body_markdown":"\r\n 1. **Creation and initialization**\r\n\r\n \r\n        Object[] yourArray = new Object[ARRAY_LENGTH];\r\n\r\n 1. **Write access**\r\n\r\n        yourArray[i]= someArrayList;\r\nto access elements of internal ArrayList:\r\n\r\n        ((ArrayList&lt;YourType&gt;) yourArray[i]).add(elementOfYourType); //or other method\r\n\r\n 3. **Read access**\r\n\r\n to read array element i as an ArrayList use type casting:\r\n\r\n\r\n        someElement= (ArrayList&lt;YourType&gt;) yourArray[i];\r\n\r\n for array element i: to read ArrayList element at index j\r\n\r\n        arrayListElement= ((ArrayList&lt;YourType&gt;) yourArray[i]).get(j);\r\n\r\n","title":"How can I create an Array of ArrayLists?","body":"<ol>\n<li><p><strong>Creation and initialization</strong></p>\n\n<pre><code>Object[] yourArray = new Object[ARRAY_LENGTH];\n</code></pre></li>\n<li><p><strong>Write access</strong></p>\n\n<pre><code>yourArray[i]= someArrayList;\n</code></pre>\n\n<p>to access elements of internal ArrayList:</p>\n\n<pre><code>((ArrayList&lt;YourType&gt;) yourArray[i]).add(elementOfYourType); //or other method\n</code></pre></li>\n<li><p><strong>Read access</strong></p>\n\n<p>to read array element i as an ArrayList use type casting:</p>\n\n<pre><code>someElement= (ArrayList&lt;YourType&gt;) yourArray[i];\n</code></pre>\n\n<p>for array element i: to read ArrayList element at index j</p>\n\n<pre><code>arrayListElement= ((ArrayList&lt;YourType&gt;) yourArray[i]).get(j);\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1490533,"reputation":1784,"user_id":1397712,"accept_rate":90,"display_name":"under_the_sea_salad"},"score":2,"creation_date":1421959790,"post_id":23752305,"comment_id":44572667,"body_markdown":"`l.length` is undefined in the for-loop. This might be a runtime error.","body":"<code>l.length</code> is undefined in the for-loop. This might be a runtime error."},{"owner":{"account_id":579391,"reputation":101,"user_id":242722,"display_name":"Erik"},"score":0,"creation_date":1507711316,"post_id":23752305,"comment_id":80314916,"body_markdown":"l is not initialized to have a length, it is a still a null pointer when it reaches the for loop. i e List&lt;e&gt;[] l = new List[LENGTH];","body":"l is not initialized to have a length, it is a still a null pointer when it reaches the for loop. i e List&lt;e&gt;[] l = new List[LENGTH];"}],"tags":[],"owner":{"account_id":4335299,"reputation":20,"user_id":3539906,"display_name":"user3539906"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1400566742,"creation_date":1400566742,"answer_id":23752305,"question_id":8559092,"body_markdown":"you can create a List[] and initialize them by for loop. it compiles without errors:\r\n\r\n    List&lt;e&gt;[] l;\r\n    for(int i = 0; i &lt; l.length; i++){\r\n        l[i] = new ArrayList&lt;e&gt;();\r\n    }\r\n\r\nit works with arrayList&lt;e&gt;[] l as well.","title":"How can I create an Array of ArrayLists?","body":"<p>you can create a List[] and initialize them by for loop. it compiles without errors:</p>\n\n<pre><code>List&lt;e&gt;[] l;\nfor(int i = 0; i &lt; l.length; i++){\n    l[i] = new ArrayList&lt;e&gt;();\n}\n</code></pre>\n\n<p>it works with arrayList[] l as well.</p>\n"},{"comments":[{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":1,"creation_date":1458682626,"post_id":28588120,"comment_id":59968571,"body_markdown":"This satisfyingly has the desired benefit that adding an ArrayList of any Object besides String (i.e: `ArrayList&lt;String&gt;` instead of `ArrayList&lt;NotString&gt;`) to `group` does not compile","body":"This satisfyingly has the desired benefit that adding an ArrayList of any Object besides String (i.e: <code>ArrayList&lt;String&gt;</code> instead of <code>ArrayList&lt;NotString&gt;</code>) to <code>group</code> does not compile"},{"owner":{"account_id":8570956,"reputation":1387,"user_id":6421877,"display_name":"baz"},"score":0,"creation_date":1659970762,"post_id":28588120,"comment_id":129415709,"body_markdown":"``@SuppressWarnings(&quot;unchecked&quot;)``","body":"<code>@SuppressWarnings(&quot;unchecked&quot;)</code>"}],"tags":[],"owner":{"account_id":3370081,"reputation":5959,"user_id":2829516,"accept_rate":60,"display_name":"kelvincer"},"comment_count":2,"down_vote_count":1,"up_vote_count":95,"is_accepted":false,"score":94,"last_activity_date":1620745893,"creation_date":1424275536,"answer_id":28588120,"question_id":8559092,"body_markdown":"This works:\r\n\r\n    ArrayList&lt;String&gt;[] group = new ArrayList[4];\r\n\r\nThough it will produce a warning that you may want to suppress.","title":"How can I create an Array of ArrayLists?","body":"<p>This works:</p>\n<pre><code>ArrayList&lt;String&gt;[] group = new ArrayList[4];\n</code></pre>\n<p>Though it will produce a warning that you may want to suppress.</p>\n"},{"tags":[],"owner":{"account_id":3116641,"reputation":4038,"user_id":2637261,"accept_rate":71,"display_name":"Rich"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1499409302,"creation_date":1432284552,"answer_id":30392270,"question_id":8559092,"body_markdown":"This works, array of ArrayList. Give it a try to understand how it works.\r\n\r\n    import java.util.*;\r\n\r\n    public class ArrayOfArrayList {\r\n        public static void main(String[] args) {\r\n\r\n            // Put the length of the array you need\r\n            ArrayList&lt;String&gt;[] group = new ArrayList[15];\r\n            for (int x = 0; x &lt; group.length; x++) {\r\n                group[x] = new ArrayList&lt;&gt;();\r\n            }\r\n\r\n            //Add some thing to first array\r\n            group[0].add(&quot;Some&quot;);\r\n            group[0].add(&quot;Code&quot;);\r\n\r\n            //Add some thing to Secondarray\r\n            group[1].add(&quot;In here&quot;);\r\n\r\n            //Try to output &#39;em\r\n            System.out.println(group[0]);\r\n            System.out.println(group[1]);\r\n        }\r\n    }\r\n\r\nCredits to Kelvincer for some of codes.","title":"How can I create an Array of ArrayLists?","body":"<p>This works, array of ArrayList. Give it a try to understand how it works.</p>\n\n<pre><code>import java.util.*;\n\npublic class ArrayOfArrayList {\n    public static void main(String[] args) {\n\n        // Put the length of the array you need\n        ArrayList&lt;String&gt;[] group = new ArrayList[15];\n        for (int x = 0; x &lt; group.length; x++) {\n            group[x] = new ArrayList&lt;&gt;();\n        }\n\n        //Add some thing to first array\n        group[0].add(\"Some\");\n        group[0].add(\"Code\");\n\n        //Add some thing to Secondarray\n        group[1].add(\"In here\");\n\n        //Try to output 'em\n        System.out.println(group[0]);\n        System.out.println(group[1]);\n    }\n}\n</code></pre>\n\n<p>Credits to Kelvincer for some of codes.</p>\n"},{"tags":[],"owner":{"account_id":3927807,"reputation":265,"user_id":3247500,"accept_rate":30,"display_name":"Creative_Cimmons"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434165108,"creation_date":1434165108,"answer_id":30814701,"question_id":8559092,"body_markdown":"I find this easier to use...\r\n\r\n    static ArrayList&lt;Individual&gt; group[];\r\n    ......\r\n    void initializeGroup(int size)\r\n    {\r\n     group=new ArrayList[size];\r\n     for(int i=0;i&lt;size;i++)\r\n     {\r\n      group[i]=new ArrayList&lt;Individual&gt;();\r\n     }","title":"How can I create an Array of ArrayLists?","body":"<p>I find this easier to use...</p>\n\n<pre><code>static ArrayList&lt;Individual&gt; group[];\n......\nvoid initializeGroup(int size)\n{\n group=new ArrayList[size];\n for(int i=0;i&lt;size;i++)\n {\n  group[i]=new ArrayList&lt;Individual&gt;();\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13991277,"reputation":425,"user_id":10105214,"display_name":"Yogesh_Singh"},"score":0,"creation_date":1651327223,"post_id":33432760,"comment_id":127340961,"body_markdown":"why did you casted `new ArrayList[4]` with `(ArrayList&lt;Individual&gt;[])`? I tried and it looks like it works fine without casting too.","body":"why did you casted <code>new ArrayList[4]</code> with <code>(ArrayList&lt;Individual&gt;[])</code>? I tried and it looks like it works fine without casting too."}],"tags":[],"owner":{"account_id":6664039,"reputation":5991,"user_id":5142170,"accept_rate":79,"display_name":"Labeo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501721473,"creation_date":1446197745,"answer_id":33432760,"question_id":8559092,"body_markdown":"    ArrayList&lt;String&gt;[] lists = (ArrayList&lt;String&gt;[])new ArrayList[10]; ","title":"How can I create an Array of ArrayLists?","body":"<pre><code>ArrayList&lt;String&gt;[] lists = (ArrayList&lt;String&gt;[])new ArrayList[10]; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394813,"reputation":4459,"user_id":1324802,"accept_rate":56,"display_name":"Androidcoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494945017,"creation_date":1450378484,"answer_id":34342174,"question_id":8559092,"body_markdown":"To declare an array of ArrayLists statically for, say, sprite positions as Points:\r\n\r\n    ArrayList&lt;Point&gt;[] positionList = new ArrayList[2];\r\n    \r\n    public Main(---) {\r\n        positionList[0] = new ArrayList&lt;Point&gt;(); // Important, or you will get a NullPointerException at runtime\r\n        positionList[1] = new ArrayList&lt;Point&gt;();\r\n    }\r\n\r\ndynamically:\r\n\r\n    ArrayList&lt;Point&gt;[] positionList;\r\n    int numberOfLists;\r\n        \r\n    public Main(---) {\r\n        numberOfLists = 2;\r\n        positionList = new ArrayList[numberOfLists];\r\n        for(int i = 0; i &lt; numberOfLists; i++) {\r\n            positionList[i] = new ArrayList&lt;Point&gt;();\r\n        }\r\n    }\r\n\r\nDespite the cautions and some complex suggestions here, I have found an array of ArrayLists to be an elegant solution to represent related ArrayLists of the same type.\r\n\r\n  ","title":"How can I create an Array of ArrayLists?","body":"<p>To declare an array of ArrayLists statically for, say, sprite positions as Points:</p>\n\n<pre><code>ArrayList&lt;Point&gt;[] positionList = new ArrayList[2];\n\npublic Main(---) {\n    positionList[0] = new ArrayList&lt;Point&gt;(); // Important, or you will get a NullPointerException at runtime\n    positionList[1] = new ArrayList&lt;Point&gt;();\n}\n</code></pre>\n\n<p>dynamically:</p>\n\n<pre><code>ArrayList&lt;Point&gt;[] positionList;\nint numberOfLists;\n\npublic Main(---) {\n    numberOfLists = 2;\n    positionList = new ArrayList[numberOfLists];\n    for(int i = 0; i &lt; numberOfLists; i++) {\n        positionList[i] = new ArrayList&lt;Point&gt;();\n    }\n}\n</code></pre>\n\n<p>Despite the cautions and some complex suggestions here, I have found an array of ArrayLists to be an elegant solution to represent related ArrayLists of the same type.</p>\n"},{"tags":[],"owner":{"account_id":4754852,"reputation":705,"user_id":3843853,"accept_rate":33,"display_name":"Arjun Nagathankandy"},"comment_count":0,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1620746537,"creation_date":1461762193,"answer_id":36890674,"question_id":8559092,"body_markdown":"You can create Array of ArrayList\r\n\r\n    List&lt;Integer&gt;[] outer = new List[number];\r\n    for (int i = 0; i &lt; number; i++) {\r\n        outer[i] = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nThis will be helpful in scenarios like this. You know the size of the outer one. But the size of inner ones varies. Here you can create an array of fixed length which contains size-varying Array lists. Hope this will be helpful for you.\r\n\r\nIn **Java 8** and above you can do it in a much better way.\r\n\r\n    List&lt;Integer&gt;[] outer = new List[number];\r\n    Arrays.setAll(outer, element -&gt; new ArrayList&lt;&gt;());\r\n","title":"How can I create an Array of ArrayLists?","body":"<p>You can create Array of ArrayList</p>\n<pre><code>List&lt;Integer&gt;[] outer = new List[number];\nfor (int i = 0; i &lt; number; i++) {\n    outer[i] = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>This will be helpful in scenarios like this. You know the size of the outer one. But the size of inner ones varies. Here you can create an array of fixed length which contains size-varying Array lists. Hope this will be helpful for you.</p>\n<p>In <strong>Java 8</strong> and above you can do it in a much better way.</p>\n<pre><code>List&lt;Integer&gt;[] outer = new List[number];\nArrays.setAll(outer, element -&gt; new ArrayList&lt;&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7207565,"reputation":1,"user_id":7047417,"display_name":"Nishant Salhotra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620746075,"creation_date":1476961940,"answer_id":40152815,"question_id":8559092,"body_markdown":"You can do thi. Create an Array of type ArrayList\r\n\r\n    ArrayList&lt;Integer&gt;[] a = new ArrayList[n];\r\n\r\nFor each element in array make an ArrayList\r\n\r\n    for(int i = 0; i &lt; n; i++){ \r\n        a[i] = new ArrayList&lt;Integer&gt;();\r\n    }\r\n\r\n","title":"How can I create an Array of ArrayLists?","body":"<p>You can do thi. Create an Array of type ArrayList</p>\n<pre><code>ArrayList&lt;Integer&gt;[] a = new ArrayList[n];\n</code></pre>\n<p>For each element in array make an ArrayList</p>\n<pre><code>for(int i = 0; i &lt; n; i++){ \n    a[i] = new ArrayList&lt;Integer&gt;();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13991277,"reputation":425,"user_id":10105214,"display_name":"Yogesh_Singh"},"score":0,"creation_date":1651327285,"post_id":47278591,"comment_id":127340977,"body_markdown":"why did you casted `new ArrayList[4]` with `(ArrayList&lt;Individual&gt;[])`? I tried and it looks like it works fine without casting too.","body":"why did you casted <code>new ArrayList[4]</code> with <code>(ArrayList&lt;Individual&gt;[])</code>? I tried and it looks like it works fine without casting too."}],"tags":[],"owner":{"account_id":11827550,"reputation":159,"user_id":8655117,"display_name":"Tejendra"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510638825,"creation_date":1510638825,"answer_id":47278591,"question_id":8559092,"body_markdown":"You can create like this\r\n `ArrayList&lt;Individual&gt;[] group = (ArrayList&lt;Individual&gt;[])new ArrayList[4];`\r\n\r\nYou have to create array of non generic type and then cast it into generic one.","title":"How can I create an Array of ArrayLists?","body":"<p>You can create like this\n <code>ArrayList&lt;Individual&gt;[] group = (ArrayList&lt;Individual&gt;[])new ArrayList[4];</code></p>\n\n<p>You have to create array of non generic type and then cast it into generic one.</p>\n"},{"tags":[],"owner":{"account_id":4809151,"reputation":557,"user_id":3883118,"display_name":"Ashutosh Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517062708,"creation_date":1517062708,"answer_id":48476701,"question_id":8559092,"body_markdown":"List&lt;Integer&gt;[] listArr = new ArrayList[4];\r\n\r\nAbove line gives warning , but it works (i.e it creates Array of ArrayList)","title":"How can I create an Array of ArrayLists?","body":"<p>List[] listArr = new ArrayList[4];</p>\n\n<p>Above line gives warning , but it works (i.e it creates Array of ArrayList)</p>\n"},{"tags":[],"owner":{"account_id":9590426,"reputation":804,"user_id":7121516,"display_name":"HeadAndTail"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1519101860,"creation_date":1519101860,"answer_id":48877997,"question_id":8559092,"body_markdown":"    ArrayList&lt;String&gt; al[] = new ArrayList[n+1];\r\n    for(int i = 0;i&lt;n;i++){\r\n       al[i] = new ArrayList&lt;String&gt;();\r\n    }\r\n\r\n","title":"How can I create an Array of ArrayLists?","body":"<pre><code>ArrayList&lt;String&gt; al[] = new ArrayList[n+1];\nfor(int i = 0;i&lt;n;i++){\n   al[i] = new ArrayList&lt;String&gt;();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8190242,"reputation":21,"user_id":6164680,"display_name":"xiankun zhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536554479,"creation_date":1536554479,"answer_id":52251189,"question_id":8559092,"body_markdown":"`ArrayList&lt;Integer&gt;[] graph = new ArrayList[numCourses]`\r\nIt works.","title":"How can I create an Array of ArrayLists?","body":"<p><code>ArrayList&lt;Integer&gt;[] graph = new ArrayList[numCourses]</code>\nIt works.</p>\n"},{"tags":[],"owner":{"account_id":21381943,"reputation":11,"user_id":15747705,"display_name":"Freud"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619180383,"creation_date":1619180383,"answer_id":67229832,"question_id":8559092,"body_markdown":"I think I&#39;m quite late but I ran into the same problem and had to create an array of arraylists as requested by my project in order to store objects of different subclasses in the same place and here is what I ended up doing:\r\n\r\n    ArrayList&lt;?&gt;[] items = new ArrayList[4];\r\n    ArrayList&lt;Chocolate&gt; choc = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Chips&gt; chips = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Water&gt; water = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;SoftDrink&gt; sd = new ArrayList&lt;&gt;();\r\nsince each arraylist in the array would contain different objects (Chocolate , Chips , Water and SoftDrink )\r\n--it is a project to simulate a vending machine--.\r\nI then assigned each of the Arraylists to an index of the array:\r\n\r\n    items[0]=choc;\r\n    items[1]=chips;\r\n    items[2]=water;\r\n    items[3]=sd;\r\n\r\nHope that helps if anyone runs into a similar issue.\r\n\r\n\r\n","title":"How can I create an Array of ArrayLists?","body":"<p>I think I'm quite late but I ran into the same problem and had to create an array of arraylists as requested by my project in order to store objects of different subclasses in the same place and here is what I ended up doing:</p>\n<pre><code>ArrayList&lt;?&gt;[] items = new ArrayList[4];\nArrayList&lt;Chocolate&gt; choc = new ArrayList&lt;&gt;();\nArrayList&lt;Chips&gt; chips = new ArrayList&lt;&gt;();\nArrayList&lt;Water&gt; water = new ArrayList&lt;&gt;();\nArrayList&lt;SoftDrink&gt; sd = new ArrayList&lt;&gt;();\n</code></pre>\n<p>since each arraylist in the array would contain different objects (Chocolate , Chips , Water and SoftDrink )\n--it is a project to simulate a vending machine--.\nI then assigned each of the Arraylists to an index of the array:</p>\n<pre><code>items[0]=choc;\nitems[1]=chips;\nitems[2]=water;\nitems[3]=sd;\n</code></pre>\n<p>Hope that helps if anyone runs into a similar issue.</p>\n"},{"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628209006,"creation_date":1628209006,"answer_id":68674763,"question_id":8559092,"body_markdown":"If you want to avoid Java warnings, and still have an array of ArrayList, you can abstract the ArrayList into a class, like this:\r\n\r\n```\r\npublic class Individuals {\r\n\tprivate ArrayList&lt;Individual&gt; individuals;\r\n\t\r\n\tpublic Individuals() {\r\n\t\tthis.individuals = new ArrayList&lt;&gt;();\r\n\t}\r\n\t\r\n\tpublic ArrayList&lt;Individual&gt; getIndividuals() {\r\n\t\treturn individuals;\r\n\t}\r\n}\r\n```\r\n\r\nThen you can safely have:\r\n```\r\nIndividuals[] group = new Individuals[4];\r\n```","title":"How can I create an Array of ArrayLists?","body":"<p>If you want to avoid Java warnings, and still have an array of ArrayList, you can abstract the ArrayList into a class, like this:</p>\n<pre><code>public class Individuals {\n    private ArrayList&lt;Individual&gt; individuals;\n    \n    public Individuals() {\n        this.individuals = new ArrayList&lt;&gt;();\n    }\n    \n    public ArrayList&lt;Individual&gt; getIndividuals() {\n        return individuals;\n    }\n}\n</code></pre>\n<p>Then you can safely have:</p>\n<pre><code>Individuals[] group = new Individuals[4];\n</code></pre>\n"}],"owner":{"account_id":241437,"reputation":5355,"user_id":512251,"accept_rate":59,"display_name":"user"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320634,"favorite_count":0,"down_vote_count":1,"up_vote_count":227,"accepted_answer_id":8559102,"answer_count":20,"score":226,"last_activity_date":1700493270,"creation_date":1324285740,"question_id":8559092,"body_markdown":"I am wanting to create an array of arraylist like below:\r\n\r\n    ArrayList&lt;Individual&gt;[] group = new ArrayList&lt;Individual&gt;()[4];\r\n\r\nBut it&#39;s not compiling. How can I do this?","title":"How can I create an Array of ArrayLists?","body":"<p>I am wanting to create an array of arraylist like below:</p>\n<pre><code>ArrayList&lt;Individual&gt;[] group = new ArrayList&lt;Individual&gt;()[4];\n</code></pre>\n<p>But it's not compiling. How can I do this?</p>\n"},{"tags":["java","dictionary","hashmap"],"comments":[{"owner":{"account_id":3407404,"reputation":3069,"user_id":2858155,"display_name":"Dani&#235;l Knippers"},"score":1,"creation_date":1395503280,"post_id":22579762,"comment_id":34372628,"body_markdown":"A singletonMap only has a single `key -&gt; value` mapping, so unless the value you provide is not in the map, it&#39;s simply the first (and only) element of `map.keySet()`?","body":"A singletonMap only has a single <code>key -&gt; value</code> mapping, so unless the value you provide is not in the map, it&#39;s simply the first (and only) element of <code>map.keySet()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":349275,"reputation":143,"user_id":684465,"display_name":"Sandor Nemeth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395503433,"creation_date":1395503433,"answer_id":22579836,"question_id":22579762,"body_markdown":"I am not sure why do you want this, however I do not think that is possible in any other way. You may be able to make the code readable using something like the [Guava Maps.transformEntries][1] call, supplied with a proper transformer function.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html#transformEntries%28java.util.Map,%20com.google.common.collect.Maps.EntryTransformer%29","title":"Get Key from Value from Singleton Map - Java","body":"<p>I am not sure why do you want this, however I do not think that is possible in any other way. You may be able to make the code readable using something like the <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html#transformEntries%28java.util.Map,%20com.google.common.collect.Maps.EntryTransformer%29\" rel=\"nofollow\">Guava Maps.transformEntries</a> call, supplied with a proper transformer function.</p>\n"},{"tags":[],"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1395507324,"creation_date":1395507324,"answer_id":22580615,"question_id":22579762,"body_markdown":"A singleton map has exactly one entry in it, so you can just do this:\r\n\r\n\r\n\t\tMap&lt;String,String&gt; map = Collections.singletonMap(&quot;key1&quot;, &quot;value1&quot;);\r\n\r\n\t\tString theOnlyKeyInTheMap = map.keySet().iterator().next();\r\n","title":"Get Key from Value from Singleton Map - Java","body":"<p>A singleton map has exactly one entry in it, so you can just do this:</p>\n\n<pre><code>    Map&lt;String,String&gt; map = Collections.singletonMap(\"key1\", \"value1\");\n\n    String theOnlyKeyInTheMap = map.keySet().iterator().next();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1700544773,"post_id":77516947,"comment_id":136664541,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77516947/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":6438821,"reputation":1,"user_id":17299892,"display_name":"Klavdij Lapajne"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700493082,"creation_date":1700492841,"answer_id":77516947,"question_id":22579762,"body_markdown":"CollectionUtils.getSingleOrNull(map.keySet())\r\n\r\nAlso Singletom map has getKey() and getValue() methods available so ((SingletonMap)map).getKey() would work as well.","title":"Get Key from Value from Singleton Map - Java","body":"<p>CollectionUtils.getSingleOrNull(map.keySet())</p>\n<p>Also Singletom map has getKey() and getValue() methods available so ((SingletonMap)map).getKey() would work as well.</p>\n"}],"owner":{"account_id":1359817,"reputation":822,"user_id":1993412,"accept_rate":57,"display_name":"user1993412"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4946,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":22580615,"answer_count":3,"score":5,"last_activity_date":1700493082,"creation_date":1395503020,"question_id":22579762,"body_markdown":"I am looking to retrieve key from the value for a SingletonMap\r\n\r\n    Map&lt;String,String&gt; map = Collections.singletonMap(&quot;key1&quot;, &quot;value1&quot;);\r\n\r\nI am looking for a easy way to get the key, based on value. Rather then way that I have done before. Which I feel is too much overhead for a singleTon Map.\r\n\r\n\tpublic static List&lt;String&gt; getKey(String value, Map&lt;String, String&gt; map) \r\n\t{\r\n\t\tList&lt;String&gt; keys = new ArrayList&lt;String&gt;();\r\n\t\tfor(Entry&lt;String, String&gt; entry:map.entrySet()) \r\n\t\t{\r\n\t\t\tif(value.equals(entry.getValue())) \r\n\t\t\t{\r\n\t\t\t\tkeys.add(entry.getKey());\r\n\t\t    }\r\n\t\t}\r\n\t\treturn keys;\r\n\t}\r\n\r\nAny inputs or suggestion will be helpful.","title":"Get Key from Value from Singleton Map - Java","body":"<p>I am looking to retrieve key from the value for a SingletonMap</p>\n\n<pre><code>Map&lt;String,String&gt; map = Collections.singletonMap(\"key1\", \"value1\");\n</code></pre>\n\n<p>I am looking for a easy way to get the key, based on value. Rather then way that I have done before. Which I feel is too much overhead for a singleTon Map.</p>\n\n<pre><code>public static List&lt;String&gt; getKey(String value, Map&lt;String, String&gt; map) \n{\n    List&lt;String&gt; keys = new ArrayList&lt;String&gt;();\n    for(Entry&lt;String, String&gt; entry:map.entrySet()) \n    {\n        if(value.equals(entry.getValue())) \n        {\n            keys.add(entry.getKey());\n        }\n    }\n    return keys;\n}\n</code></pre>\n\n<p>Any inputs or suggestion will be helpful.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10514469,"reputation":468,"user_id":7749012,"display_name":"vlaxmi"},"score":0,"creation_date":1490857142,"post_id":43110640,"comment_id":73301457,"body_markdown":"clientService.callService(url); is returning String ? which would cause error while assigning it to ResponseEntity. Whats the return type of callService method?","body":"clientService.callService(url); is returning String ? which would cause error while assigning it to ResponseEntity. Whats the return type of callService method?"},{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1690062632,"post_id":43110640,"comment_id":135301451,"body_markdown":"ResponseEntity.ok(clientService.callService(url));","body":"ResponseEntity.ok(clientService.callService(url));"}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Xoc  epe&#250;pa "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490857277,"creation_date":1490857277,"answer_id":43110727,"question_id":43110640,"body_markdown":"The error means:\r\n\r\nthis statement \r\n\r\n    clientService.callService(url);\r\n\r\nis calling the method callService which is returning an object of the class String, that is not the same type to ResponseEntity there so this is invalid:\r\n\r\n    ResponseEntity resEntity = clientService.callService(url);\r\n","title":"String cannot be cast to org.springframework.http.ResponseEntity","body":"<p>The error means:</p>\n\n<p>this statement </p>\n\n<pre><code>clientService.callService(url);\n</code></pre>\n\n<p>is calling the method callService which is returning an object of the class String, that is not the same type to ResponseEntity there so this is invalid:</p>\n\n<pre><code>ResponseEntity resEntity = clientService.callService(url);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490862980,"creation_date":1490862980,"answer_id":43112556,"question_id":43110640,"body_markdown":"Plese send the whole stacktrace to be sure of previous answers.\r\n\r\nPeople here are probably right, but it seems strange that an IDE doesn&#39;t tell you that the return type of `clientService.callService(url)` is incompatible with the type of your variable...","title":"String cannot be cast to org.springframework.http.ResponseEntity","body":"<p>Plese send the whole stacktrace to be sure of previous answers.</p>\n\n<p>People here are probably right, but it seems strange that an IDE doesn't tell you that the return type of <code>clientService.callService(url)</code> is incompatible with the type of your variable...</p>\n"}],"owner":{"account_id":2362023,"reputation":1126,"user_id":2068521,"accept_rate":43,"display_name":"Chintamani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12059,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700492936,"creation_date":1490856967,"question_id":43110640,"body_markdown":"While using the following code, I&#39;m getting a `ClassCastException: String\r\ncannot be cast to org.springframework.http.ResponseEntity`.\r\n\r\n    @Autowired\r\n    private  ClientService clientService;\r\n    \r\n    public void methodA() {\r\n        String url = ...\r\n        ResponseEntity&lt;String&gt; resEntity = clientService.callService(url);\r\n    }\r\n","title":"String cannot be cast to org.springframework.http.ResponseEntity","body":"<p>While using the following code, I'm getting a <code>ClassCastException: String\ncannot be cast to org.springframework.http.ResponseEntity</code>.</p>\n\n<pre><code>@Autowired\nprivate  ClientService clientService;\n\npublic void methodA() {\n    String url = ...\n    ResponseEntity&lt;String&gt; resEntity = clientService.callService(url);\n}\n</code></pre>\n"},{"tags":["java","json","jackson","java-11","jackson-databind"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1700481031,"post_id":77515633,"comment_id":136655769,"body_markdown":"Maybe this is because when you use `@Data`, Lombok will generate a constructor that takes arguments for all the fields, and Jackson needs a no-arguments constructor. Try adding `@NoArgsConstructor` to classes `ApiRequest` and `Fields`.","body":"Maybe this is because when you use <code>@Data</code>, Lombok will generate a constructor that takes arguments for all the fields, and Jackson needs a no-arguments constructor. Try adding <code>@NoArgsConstructor</code> to classes <code>ApiRequest</code> and <code>Fields</code>."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1700481466,"post_id":77515633,"comment_id":136655840,"body_markdown":"please update to include the full stacktrace.","body":"please update to include the full stacktrace."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1700482079,"post_id":77515633,"comment_id":136655969,"body_markdown":"This could be a case of needing to add lombok.config. See the top answer of this:\nhttps://stackoverflow.com/a/48543627/14607529","body":"This could be a case of needing to add lombok.config. See the top answer of this: <a href=\"https://stackoverflow.com/a/48543627/14607529\">stackoverflow.com/a/48543627/14607529</a>"},{"owner":{"account_id":9503450,"reputation":21,"user_id":8638297,"display_name":"Zelda"},"score":0,"creation_date":1700483248,"post_id":77515633,"comment_id":136656193,"body_markdown":"hi @samabcde, thanks for your comment. Have updated to include additional stacktrace.","body":"hi @samabcde, thanks for your comment. Have updated to include additional stacktrace."},{"owner":{"account_id":9503450,"reputation":21,"user_id":8638297,"display_name":"Zelda"},"score":0,"creation_date":1700483737,"post_id":77515633,"comment_id":136656270,"body_markdown":"hi @ODDminus1, thanks for your comment. have added lombok.config, issue is still present","body":"hi @ODDminus1, thanks for your comment. have added lombok.config, issue is still present"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1700483944,"post_id":77515633,"comment_id":136656309,"body_markdown":"Could you also add which version of lombok you are running?","body":"Could you also add which version of lombok you are running?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700484889,"post_id":77515633,"comment_id":136656483,"body_markdown":"My best advice here is: Just don&#39;t. Make your life *and* the lives of your API clients easier, and make sure your data structures are consistent. That means either include a propertly that&#39;ll define the type of the `values` field beforehand, or better yet, use two different property names.","body":"My best advice here is: Just don&#39;t. Make your life <i>and</i> the lives of your API clients easier, and make sure your data structures are consistent. That means either include a propertly that&#39;ll define the type of the <code>values</code> field beforehand, or better yet, use two different property names."},{"owner":{"account_id":9503450,"reputation":21,"user_id":8638297,"display_name":"Zelda"},"score":0,"creation_date":1700486482,"post_id":77515633,"comment_id":136656792,"body_markdown":"thanks everyone for your kind help. Oleg Cherednik&#39;s answer has resolved the issue","body":"thanks everyone for your kind help. Oleg Cherednik&#39;s answer has resolved the issue"},{"owner":{"account_id":9503450,"reputation":21,"user_id":8638297,"display_name":"Zelda"},"score":0,"creation_date":1700486766,"post_id":77515633,"comment_id":136656844,"body_markdown":"sure @Jorn, will keep that in mind. Thanks!","body":"sure @Jorn, will keep that in mind. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700484122,"creation_date":1700484122,"answer_id":77515980,"question_id":77515633,"body_markdown":"Do set [@Jacksonized][1] along with [@Builder][2]\r\n\r\n```java\r\n@Data\r\n@Builder\r\n@Jacksonized\r\npublic class ApiRequest {\r\n\r\n    private List&lt;Field&gt; fields;\r\n\r\n    @Data\r\n    @Builder\r\n    @Jacksonized\r\n    public static class Field {\r\n\r\n        private String key;\r\n        private Object values;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://projectlombok.org/features/experimental/Jacksonized\r\n  [2]: https://projectlombok.org/features/Builder","title":"How do I deserialize to List of Strings or Boolean from an Object using Jackson?","body":"<p>Do set <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\">@Jacksonized</a> along with <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">@Builder</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@Jacksonized\npublic class ApiRequest {\n\n    private List&lt;Field&gt; fields;\n\n    @Data\n    @Builder\n    @Jacksonized\n    public static class Field {\n\n        private String key;\n        private Object values;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700492505,"creation_date":1700492505,"answer_id":77516910,"question_id":77515633,"body_markdown":"Refer to [Oleg&#39;s answer][1] if you are fine with [experimental feature][2].\r\n`@Jacksonized` is perfect match for this scenario.\r\n\r\n\r\nAnother way to solve this issue using stable API is by adding [`@NoArgsConstructor` and `@AllArgsConstructor`][3] to `ApiRequest` and `Field`.\r\n\r\n- As a drawback, this will expose the constructors to others, where `@Jacksonized` does not.\r\n  This could also be rectified by adding `access = AccessLevel.PRIVATE` to the annotation (suppose jackson has access to your Module).\r\n\r\n```java\r\n@Data\r\n@Builder\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ApiRequest {\r\n  private List&lt;Fields&gt; fields;\r\n\r\n  @Data\r\n  @Builder\r\n  @NoArgsConstructor\r\n  @AllArgsConstructor\r\n  public static class Fields {\r\n    private String key;\r\n    private Object values;\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77515980/7928721\r\n  [2]: https://projectlombok.org/features/experimental/\r\n  [3]: https://projectlombok.org/features/constructor","title":"How do I deserialize to List of Strings or Boolean from an Object using Jackson?","body":"<p>Refer to <a href=\"https://stackoverflow.com/a/77515980/7928721\">Oleg's answer</a> if you are fine with <a href=\"https://projectlombok.org/features/experimental/\" rel=\"nofollow noreferrer\">experimental feature</a>.\n<code>@Jacksonized</code> is perfect match for this scenario.</p>\n<p>Another way to solve this issue using stable API is by adding <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\"><code>@NoArgsConstructor</code> and <code>@AllArgsConstructor</code></a> to <code>ApiRequest</code> and <code>Field</code>.</p>\n<ul>\n<li>As a drawback, this will expose the constructors to others, where <code>@Jacksonized</code> does not.\nThis could also be rectified by adding <code>access = AccessLevel.PRIVATE</code> to the annotation (suppose jackson has access to your Module).</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ApiRequest {\n  private List&lt;Fields&gt; fields;\n\n  @Data\n  @Builder\n  @NoArgsConstructor\n  @AllArgsConstructor\n  public static class Fields {\n    private String key;\n    private Object values;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9503450,"reputation":21,"user_id":8638297,"display_name":"Zelda"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77515980,"answer_count":2,"score":0,"last_activity_date":1700492505,"creation_date":1700480670,"question_id":77515633,"body_markdown":"I was previously using jackson-databind 2.8.11.3 + Java 8 to deserialise a class ApiRequest, which was used as a request body in an API call. It has worked fine all the while and the JSON string is able to be generated. \r\n\r\nIn the Object params, either a List of Strings or boolean can be added.\r\n\r\nExample JSON:\r\n\r\n    {\r\n     &quot;fields&quot;:[\r\n      {\r\n       &quot;key&quot;: &quot;colors&quot;,\r\n       &quot;values&quot;: [&quot;blue&quot;,&quot;red&quot;]\r\n      },\r\n      {\r\n       &quot;key&quot;: &quot;metal&quot;,\r\n       &quot;values&quot;: true\r\n      }\r\n     ]\r\n    }\r\n\r\nWhen I upgraded to use jackson-databind 2.13.2.2 + Java 11, and running the unit test for the generation of the JSON string, I ran to an issue where there was a bad JSON definition\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\r\n&gt; construct instance of &#39;com...&#39; (no Creators, like default constructor,\r\n&gt; exist): cannot deserialize from Object value (no delegate- or\r\n&gt; property-based Creator) at [Source: (File) .. (through reference\r\n&gt; chain: com...ApiRequest[&quot;fields&quot;]) \r\n&gt; \r\n&gt; at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n&gt; &gt;\r\n&gt; at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1904)\r\n\r\nBelow is a snippet of the class, which I have extracted and renamed:\r\n\r\n```\r\n@Data\r\n@Builder\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class ApiRequest {\r\n  private List&lt;Fields&gt; fields;\r\n\r\n  @Data\r\n  @Builder\r\n  public static class Fields {\r\n    private String key;\r\n    private Object values;\r\n  }\r\n}\r\n```\r\n\r\nI have attempted to use JsonDeserializer to resolve the issue after reading up some other issues that others have posted online, but I was unsuccessful in resolving this. \r\n\r\nAny suggestions/inputs would be greatly appreciated..\r\n\r\n```\r\n@Data\r\n@Builder\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class ApiRequest {\r\n  private List&lt;Fields&gt; fields;\r\n\r\n  @Data\r\n  @Builder\r\n  @JsonDeserialize(using = FieldDeserializer.class) &lt;-- added this\r\n  public static class Fields {\r\n    private String key;\r\n    private Object values;\r\n  }\r\n}\r\n```\r\n```\r\npublic class FieldDeserializer extends JsonDeserializer&lt;ApiRequest.Fields&gt; {\r\n  @Override\r\n  public ApiRequest.Fields deserialize(JsonParser jp, DeserializationContext ctxt) \r\n            throws IOException, JsonProcessingException {\r\n        \r\n        JsonNode node = jp.getCodec().readTree(jp);\r\n        String key = node.get(&quot;key&quot;);\r\n        JsonNode valuesNode = node.get(&quot;values&quot;);\r\n        Object values = null;\r\n\r\n        if (valuesNode.isArray()) {\r\n            List&lt;String&gt; listValues = new ArrayList&lt;&gt;();\r\n            valuesNode.forEach(elementNode -&gt; listValues.add(elementNode.asText()));\r\n            values = listValues;\r\n        } else if (valuesNode.isBoolean()) {\r\n            values = valuesNode.asBoolean();\r\n        }\r\n\r\n        return new ApiRequest.Fields.builder().key(key).values(values).build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How do I deserialize to List of Strings or Boolean from an Object using Jackson?","body":"<p>I was previously using jackson-databind 2.8.11.3 + Java 8 to deserialise a class ApiRequest, which was used as a request body in an API call. It has worked fine all the while and the JSON string is able to be generated.</p>\n<p>In the Object params, either a List of Strings or boolean can be added.</p>\n<p>Example JSON:</p>\n<pre><code>{\n &quot;fields&quot;:[\n  {\n   &quot;key&quot;: &quot;colors&quot;,\n   &quot;values&quot;: [&quot;blue&quot;,&quot;red&quot;]\n  },\n  {\n   &quot;key&quot;: &quot;metal&quot;,\n   &quot;values&quot;: true\n  }\n ]\n}\n</code></pre>\n<p>When I upgraded to use jackson-databind 2.13.2.2 + Java 11, and running the unit test for the generation of the JSON string, I ran to an issue where there was a bad JSON definition</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\nconstruct instance of 'com...' (no Creators, like default constructor,\nexist): cannot deserialize from Object value (no delegate- or\nproperty-based Creator) at [Source: (File) .. (through reference\nchain: com...ApiRequest[&quot;fields&quot;])</p>\n<p>at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)</p>\n<blockquote>\n</blockquote>\n<p>at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1904)</p>\n</blockquote>\n<p>Below is a snippet of the class, which I have extracted and renamed:</p>\n<pre><code>@Data\n@Builder\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ApiRequest {\n  private List&lt;Fields&gt; fields;\n\n  @Data\n  @Builder\n  public static class Fields {\n    private String key;\n    private Object values;\n  }\n}\n</code></pre>\n<p>I have attempted to use JsonDeserializer to resolve the issue after reading up some other issues that others have posted online, but I was unsuccessful in resolving this.</p>\n<p>Any suggestions/inputs would be greatly appreciated..</p>\n<pre><code>@Data\n@Builder\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ApiRequest {\n  private List&lt;Fields&gt; fields;\n\n  @Data\n  @Builder\n  @JsonDeserialize(using = FieldDeserializer.class) &lt;-- added this\n  public static class Fields {\n    private String key;\n    private Object values;\n  }\n}\n</code></pre>\n<pre><code>public class FieldDeserializer extends JsonDeserializer&lt;ApiRequest.Fields&gt; {\n  @Override\n  public ApiRequest.Fields deserialize(JsonParser jp, DeserializationContext ctxt) \n            throws IOException, JsonProcessingException {\n        \n        JsonNode node = jp.getCodec().readTree(jp);\n        String key = node.get(&quot;key&quot;);\n        JsonNode valuesNode = node.get(&quot;values&quot;);\n        Object values = null;\n\n        if (valuesNode.isArray()) {\n            List&lt;String&gt; listValues = new ArrayList&lt;&gt;();\n            valuesNode.forEach(elementNode -&gt; listValues.add(elementNode.asText()));\n            values = listValues;\n        } else if (valuesNode.isBoolean()) {\n            values = valuesNode.asBoolean();\n        }\n\n        return new ApiRequest.Fields.builder().key(key).values(values).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700492466,"creation_date":1700492466,"answer_id":77516903,"question_id":77489295,"body_markdown":"The problem is in your YamlPropertySourceFactory. Adding the following property before the failing line will solve your problem:\r\n\r\n    factory.setResolutionMethod(YamlProcessor.ResolutionMethod.OVERRIDE_AND_IGNORE);","title":"ignoreResourceNotFound=true throwing FileNotFound exception","body":"<p>The problem is in your YamlPropertySourceFactory. Adding the following property before the failing line will solve your problem:</p>\n<pre><code>factory.setResolutionMethod(YamlProcessor.ResolutionMethod.OVERRIDE_AND_IGNORE);\n</code></pre>\n"}],"owner":{"account_id":21060198,"reputation":21,"user_id":15478747,"display_name":"karczi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700492466,"creation_date":1700064738,"question_id":77489295,"body_markdown":"I have a class written like this:\r\n\r\n```\r\n@Configuration\r\n@PropertySource(value = &quot;classpath:secrets.yaml&quot;, factory = YamlPropertySourceFactory.class, ignoreResourceNotFound = true)\r\n@Getter\r\n@Setter\r\npublic class Secrets {\r\n\r\n    private String username;\r\n    private String password;\r\n\r\n}\r\n```\r\n\r\nI expect it to work properly, when `europe-secrets.yaml` file is present, meaning injecting values into `username` and `password` fields, and just do nothing when the file is not present. Right now it&#39;s throwing `FileNotFoundException` when the file is missing (and is working properly when the file is there, even when empty) and thus failing to initialize Spring context, which breaks my whole application. It seems like the `ignoreResourceNotFound = true` attribute is not working. What am I missing here?\r\n\r\nthis is `YamlPropertySourceFactory`:\r\n\r\n```\r\npublic class YamlPropertySourceFactory implements PropertySourceFactory {\r\n\r\n    @Override\r\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource) throws IOException {\r\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n        factory.setResources(encodedResource.getResource());\r\n\r\n        Properties properties = factory.getObject();\r\n\r\n        return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\r\n    }\r\n\r\n}\r\n```","title":"ignoreResourceNotFound=true throwing FileNotFound exception","body":"<p>I have a class written like this:</p>\n<pre><code>@Configuration\n@PropertySource(value = &quot;classpath:secrets.yaml&quot;, factory = YamlPropertySourceFactory.class, ignoreResourceNotFound = true)\n@Getter\n@Setter\npublic class Secrets {\n\n    private String username;\n    private String password;\n\n}\n</code></pre>\n<p>I expect it to work properly, when <code>europe-secrets.yaml</code> file is present, meaning injecting values into <code>username</code> and <code>password</code> fields, and just do nothing when the file is not present. Right now it's throwing <code>FileNotFoundException</code> when the file is missing (and is working properly when the file is there, even when empty) and thus failing to initialize Spring context, which breaks my whole application. It seems like the <code>ignoreResourceNotFound = true</code> attribute is not working. What am I missing here?</p>\n<p>this is <code>YamlPropertySourceFactory</code>:</p>\n<pre><code>public class YamlPropertySourceFactory implements PropertySourceFactory {\n\n    @Override\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource) throws IOException {\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n        factory.setResources(encodedResource.getResource());\n\n        Properties properties = factory.getObject();\n\n        return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","arraylist","type-conversion"],"answers":[{"comments":[{"owner":{"account_id":5292,"reputation":5876,"user_id":8434,"display_name":"Calum"},"score":404,"creation_date":1222872107,"post_id":157950,"comment_id":48405,"body_markdown":"Yep. And in the (most common) case where you just want a list, the `new ArrayList` call is unecessary as well.","body":"Yep. And in the (most common) case where you just want a list, the <code>new ArrayList</code> call is unecessary as well."},{"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"score":163,"creation_date":1309360700,"post_id":157950,"comment_id":7678805,"body_markdown":"@Luron - just use `List&lt;ClassName&gt; list = Arrays.asList(array)`","body":"@Luron - just use <code>List&lt;ClassName&gt; list = Arrays.asList(array)</code>"},{"owner":{"account_id":271255,"reputation":6621,"user_id":561690,"accept_rate":57,"display_name":"Code Jockey"},"score":277,"creation_date":1317063894,"post_id":157950,"comment_id":9163963,"body_markdown":"@Calum and @Pool - as noted below in Alex Miller&#39;s answer, using `Arrays.asList(array)` without passing it into a new `ArrayList` object will fix the size of the list. One of the more common reasons to use an `ArrayList` is to be able to dynamically change its size, and your suggestion would prevent this.","body":"@Calum and @Pool - as noted below in Alex Miller&#39;s answer, using <code>Arrays.asList(array)</code> without passing it into a new <code>ArrayList</code> object will fix the size of the list. One of the more common reasons to use an <code>ArrayList</code> is to be able to dynamically change its size, and your suggestion would prevent this."},{"owner":{"account_id":1879197,"reputation":2511,"user_id":1699769,"display_name":"markbaldy"},"score":15,"creation_date":1353648527,"post_id":157950,"comment_id":18514294,"body_markdown":"I&#39;d like to point out that the new ArrayList&lt;Element&gt;(...) part is necessary if you want to perform mutative (like remove) operations with an iterator.","body":"I&#39;d like to point out that the new ArrayList&lt;Element&gt;(...) part is necessary if you want to perform mutative (like remove) operations with an iterator."},{"owner":{"account_id":355202,"reputation":713,"user_id":694000,"accept_rate":71,"display_name":"Adam"},"score":147,"creation_date":1358911733,"post_id":157950,"comment_id":20161044,"body_markdown":"Arrays.asList() is a horrible function, and you should never just use its return value as is. It breaks the List template, so always use it in the form indicated here, even if it does seem redundant. Good answer.","body":"Arrays.asList() is a horrible function, and you should never just use its return value as is. It breaks the List template, so always use it in the form indicated here, even if it does seem redundant. Good answer."},{"owner":{"display_name":"user3458"},"score":19,"creation_date":1361375285,"post_id":157950,"comment_id":21041949,"body_markdown":"A caveat: I just run into a misbehavior of Java 6: when Element is a primitive (e.g. the array is int[]), asList creates List&lt;int[]&gt; .","body":"A caveat: I just run into a misbehavior of Java 6: when Element is a primitive (e.g. the array is int[]), asList creates List&lt;int[]&gt; ."},{"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"score":17,"creation_date":1361481199,"post_id":157950,"comment_id":21091144,"body_markdown":"@Adam `Arrays.asList()` is a very useful method when you want a list backed by a specific array. For example `Collections.shuffle(Arrays.asList(myarray))` shuffles the *original* array.","body":"@Adam <code>Arrays.asList()</code> is a very useful method when you want a list backed by a specific array. For example <code>Collections.shuffle(Arrays.asList(myarray))</code> shuffles the <i>original</i> array."},{"owner":{"account_id":355202,"reputation":713,"user_id":694000,"accept_rate":71,"display_name":"Adam"},"score":5,"creation_date":1361509681,"post_id":157950,"comment_id":21099583,"body_markdown":"@lbalazscs true, but I would say that&#39;s pretty close to a hack (even if the shuffle method was intended to be used that way), because you&#39;re basically tricking it into thinking it&#39;s dealing with a List when it&#39;s not. Handy, but I still say it&#39;s a horrible function. My argument is basically that the asList() method is misleading because it looks like it returns a List representation of the given array, when in fact it returns an only-partially-implemented List representation.","body":"@lbalazscs true, but I would say that&#39;s pretty close to a hack (even if the shuffle method was intended to be used that way), because you&#39;re basically tricking it into thinking it&#39;s dealing with a List when it&#39;s not. Handy, but I still say it&#39;s a horrible function. My argument is basically that the asList() method is misleading because it looks like it returns a List representation of the given array, when in fact it returns an only-partially-implemented List representation."},{"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"score":87,"creation_date":1361526069,"post_id":157950,"comment_id":21105600,"body_markdown":"@Adam Please study the javadoc for java.util.List. The contract for add allows them to throw an UnsupportedOperationException. http://docs.oracle.com/javase/7/docs/api/java/util/List.html#add%28E%29  Admittedly, from an object-oriented perspective it is not very nice that many times you have to know the concrete implementation in order to use a collection - this was a pragmatic design choice in order to keep the framework simple.","body":"@Adam Please study the javadoc for java.util.List. The contract for add allows them to throw an UnsupportedOperationException. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#add%28E%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>  Admittedly, from an object-oriented perspective it is not very nice that many times you have to know the concrete implementation in order to use a collection - this was a pragmatic design choice in order to keep the framework simple."},{"owner":{"account_id":10028461,"reputation":2371,"user_id":8720421,"display_name":"one-hand-octopus"},"score":0,"creation_date":1646925681,"post_id":157950,"comment_id":126248943,"body_markdown":"If I have Array `a`, and convert it to ArrayList `b` using above method as `b = new ArrayList&lt;&gt;(Arrays.asList(a));`, I cannot retrieve an element from `b` using `b[3]`, becuase `b` contains a list?","body":"If I have Array <code>a</code>, and convert it to ArrayList <code>b</code> using above method as <code>b = new ArrayList&lt;&gt;(Arrays.asList(a));</code>, I cannot retrieve an element from <code>b</code> using <code>b[3]</code>, becuase <code>b</code> contains a list?"}],"tags":[],"owner":{"account_id":11769,"reputation":55893,"user_id":22850,"accept_rate":60,"display_name":"Tom"},"comment_count":10,"down_vote_count":7,"up_vote_count":5112,"is_accepted":true,"score":5105,"last_activity_date":1697271589,"creation_date":1222871952,"answer_id":157950,"question_id":157944,"body_markdown":"You can use the following instruction:\r\n\r\n    new ArrayList&lt;&gt;(Arrays.asList(array));","title":"Create ArrayList from array","body":"<p>You can use the following instruction:</p>\n<pre><code>new ArrayList&lt;&gt;(Arrays.asList(array));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":0,"down_vote_count":2,"up_vote_count":230,"is_accepted":false,"score":228,"last_activity_date":1487005478,"creation_date":1222872046,"answer_id":157956,"question_id":157944,"body_markdown":"    new ArrayList&lt;T&gt;(Arrays.asList(myArray));\r\n\r\nMake sure that `myArray` is the same type as `T`. You&#39;ll get a compiler error if you try to create a `List&lt;Integer&gt;` from an array of `int`, for example.","title":"Create ArrayList from array","body":"<pre><code>new ArrayList&lt;T&gt;(Arrays.asList(myArray));\n</code></pre>\n\n<p>Make sure that <code>myArray</code> is the same type as <code>T</code>. You'll get a compiler error if you try to create a <code>List&lt;Integer&gt;</code> from an array of <code>int</code>, for example.</p>\n"},{"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":8,"creation_date":1222872398,"post_id":157985,"comment_id":48422,"body_markdown":"That will be backed by the original input array, which is why you (probably) want to wrap it in a new ArrayList.","body":"That will be backed by the original input array, which is why you (probably) want to wrap it in a new ArrayList."},{"owner":{"account_id":3708,"reputation":16857,"user_id":5382,"display_name":"Mikezx6r"},"score":17,"creation_date":1222872423,"post_id":157985,"comment_id":48423,"body_markdown":"Be careful with this solution. If you look, Arrays ISN&#39;T returning a true java.util.ArrayList. It&#39;s returning an inner class that implements the required methods, but you cannot change the memebers in the list. It&#39;s merely a wrapper around an array.","body":"Be careful with this solution. If you look, Arrays ISN&#39;T returning a true java.util.ArrayList. It&#39;s returning an inner class that implements the required methods, but you cannot change the memebers in the list. It&#39;s merely a wrapper around an array."},{"owner":{"account_id":29773,"reputation":14194,"user_id":80701,"accept_rate":87,"display_name":"monksy"},"score":1,"creation_date":1255128509,"post_id":157985,"comment_id":1403531,"body_markdown":"You can cast the List&lt;Element&gt; item to an ArrayList&lt;Element&gt;","body":"You can cast the List&lt;Element&gt; item to an ArrayList&lt;Element&gt;"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":13,"creation_date":1259932240,"post_id":157985,"comment_id":1740594,"body_markdown":"@Mikezx6r: little **correction**: it&#39;s a fixed-size list. You can change the elements of the list (`set` method), you cannot change the size of the list (not `add` or `remove` elements)!","body":"@Mikezx6r: little <b>correction</b>: it&#39;s a fixed-size list. You can change the elements of the list (<code>set</code> method), you cannot change the size of the list (not <code>add</code> or <code>remove</code> elements)!"},{"owner":{"account_id":880980,"reputation":1190,"user_id":244365,"accept_rate":25,"display_name":"PaulMurrayCbr"},"score":1,"creation_date":1367745818,"post_id":157985,"comment_id":23480300,"body_markdown":"Yes, with the caveat that it depends on what you want to do with the list. It&#39;s worth notng that if the OP simply wants to iterate through the elements, the array doesn&#39;t have to be converted at all.","body":"Yes, with the caveat that it depends on what you want to do with the list. It&#39;s worth notng that if the OP simply wants to iterate through the elements, the array doesn&#39;t have to be converted at all."},{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":1,"creation_date":1424624726,"post_id":157985,"comment_id":45616678,"body_markdown":"@monksy No, you can&#39;t. As was said, it is a different kind of `ArrayList`.","body":"@monksy No, you can&#39;t. As was said, it is a different kind of <code>ArrayList</code>."},{"owner":{"account_id":191237,"reputation":7488,"user_id":431698,"accept_rate":69,"display_name":"Jingguo Yao"},"score":0,"creation_date":1454569535,"post_id":157985,"comment_id":58105752,"body_markdown":"This does not work if array element is of primitive type in Java 8. For details, see http://stackoverflow.com/q/2607289/431698","body":"This does not work if array element is of primitive type in Java 8. For details, see <a href=\"http://stackoverflow.com/q/2607289/431698\">stackoverflow.com/q/2607289/431698</a>"}],"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"comment_count":7,"down_vote_count":4,"up_vote_count":98,"is_accepted":false,"score":94,"last_activity_date":1222872302,"creation_date":1222872302,"answer_id":157985,"question_id":157944,"body_markdown":"You probably just need a List, not an ArrayList.  In that case you can just do:\r\n\r\n    List&lt;Element&gt; arraylist = Arrays.asList(array);\r\n\r\n","title":"Create ArrayList from array","body":"<p>You probably just need a List, not an ArrayList.  In that case you can just do:</p>\n\n<pre><code>List&lt;Element&gt; arraylist = Arrays.asList(array);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"score":45,"creation_date":1337778937,"post_id":158269,"comment_id":13923405,"body_markdown":"Arrays.asList() merely creates an ArrayList by wrapping the existing array so it is O(1).","body":"Arrays.asList() merely creates an ArrayList by wrapping the existing array so it is O(1)."},{"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"score":36,"creation_date":1337779274,"post_id":158269,"comment_id":13923571,"body_markdown":"Wrapping in a new ArrayList() will cause all elements of the fixed size list to be iterated and added to the new ArrayList so is O(n).","body":"Wrapping in a new ArrayList() will cause all elements of the fixed size list to be iterated and added to the new ArrayList so is O(n)."},{"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"score":9,"creation_date":1644924299,"post_id":158269,"comment_id":125728608,"body_markdown":"To clarify, `Arrays.asList()` creates a `java.util.Arrays.ArrayList` (static nested class in `java.util.Arrays`), not a `java.util.ArrayList`.","body":"To clarify, <code>Arrays.asList()</code> creates a <code>java.util.Arrays.ArrayList</code> (static nested class in <code>java.util.Arrays</code>), not a <code>java.util.ArrayList</code>."}],"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"comment_count":3,"down_vote_count":3,"up_vote_count":1007,"is_accepted":false,"score":1004,"last_activity_date":1415370122,"creation_date":1222875546,"answer_id":158269,"question_id":157944,"body_markdown":"Given:\r\n\r\n    Element[] array = new Element[] { new Element(1), new Element(2), new Element(3) };\r\n\r\nThe simplest answer is to do:\r\n\r\n    List&lt;Element&gt; list = Arrays.asList(array);\r\n\r\nThis will work fine.  But some caveats:\r\n\r\n 1. The list returned from asList has **fixed size**.  So, if you want to be able to add or remove elements from the returned list in your code, you&#39;ll need to wrap it in a new `ArrayList`.  Otherwise you&#39;ll get an `UnsupportedOperationException`.\r\n 2. The list returned from `asList()` is backed by the original array.  If you modify the original array, the list will be modified as well.  This may be surprising. \r\n","title":"Create ArrayList from array","body":"<p>Given:</p>\n\n<pre><code>Element[] array = new Element[] { new Element(1), new Element(2), new Element(3) };\n</code></pre>\n\n<p>The simplest answer is to do:</p>\n\n<pre><code>List&lt;Element&gt; list = Arrays.asList(array);\n</code></pre>\n\n<p>This will work fine.  But some caveats:</p>\n\n<ol>\n<li>The list returned from asList has <strong>fixed size</strong>.  So, if you want to be able to add or remove elements from the returned list in your code, you'll need to wrap it in a new <code>ArrayList</code>.  Otherwise you'll get an <code>UnsupportedOperationException</code>.</li>\n<li>The list returned from <code>asList()</code> is backed by the original array.  If you modify the original array, the list will be modified as well.  This may be surprising. </li>\n</ol>\n"},{"comments":[{"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"score":9,"creation_date":1468337361,"post_id":6439078,"comment_id":64080829,"body_markdown":"In particular, `List&lt;String&gt; a = Arrays.asList(&quot;first&quot;,&quot;second&quot;,&quot;third&quot;)`","body":"In particular, <code>List&lt;String&gt; a = Arrays.asList(&quot;first&quot;,&quot;second&quot;,&quot;third&quot;)</code>"}],"tags":[],"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"comment_count":1,"down_vote_count":2,"up_vote_count":256,"is_accepted":false,"score":254,"last_activity_date":1475166334,"creation_date":1308742223,"answer_id":6439078,"question_id":157944,"body_markdown":"Since this question is pretty old, it surprises me that nobody suggested the simplest form yet:\r\n\r\n    List&lt;Element&gt; arraylist = Arrays.asList(new Element(1), new Element(2), new Element(3));\r\n\r\nAs of Java 5, `Arrays.asList()` takes a varargs parameter and you don&#39;t have to construct the array explicitly.\r\n\r\n","title":"Create ArrayList from array","body":"<p>Since this question is pretty old, it surprises me that nobody suggested the simplest form yet:</p>\n\n<pre><code>List&lt;Element&gt; arraylist = Arrays.asList(new Element(1), new Element(2), new Element(3));\n</code></pre>\n\n<p>As of Java 5, <code>Arrays.asList()</code> takes a varargs parameter and you don't have to construct the array explicitly.</p>\n"},{"comments":[{"owner":{"account_id":16285107,"reputation":1793,"user_id":11760058,"display_name":"cachius"},"score":0,"creation_date":1677555649,"post_id":10002863,"comment_id":133356866,"body_markdown":"Until Java 16 the [javadoc](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Collections.html#addAll(java.util.Collection,T...)) stated: _The behavior of this convenience method is identical to that of c.addAll(Arrays.asList(elements)), but this method is likely to run **significantly faster** under most implementations._","body":"Until Java 16 the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Collections.html#addAll(java.util.Collection,T...)\" rel=\"nofollow noreferrer\">javadoc</a> stated: <i>The behavior of this convenience method is identical to that of c.addAll(Arrays.asList(elements)), but this method is likely to run <b>significantly faster</b> under most implementations.</i>"},{"owner":{"account_id":16285107,"reputation":1793,"user_id":11760058,"display_name":"cachius"},"score":0,"creation_date":1677574104,"post_id":10002863,"comment_id":133359924,"body_markdown":"See [this question](/q/3343766 &quot;Why is Collections.addAll supposed to be faster than c.addAll?&quot;) for comparision discussion","body":"See <a href=\"/q/3343766\" title=\"Why is Collections.addAll supposed to be faster than c.addAll?\">this question</a> for comparision discussion"}],"tags":[],"owner":{"account_id":105176,"reputation":13693,"user_id":280783,"accept_rate":91,"display_name":"Peter Tseng"},"comment_count":2,"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1333495732,"creation_date":1333495255,"answer_id":10002863,"question_id":157944,"body_markdown":"Another way (although essentially equivalent to the `new ArrayList(Arrays.asList(array))` solution performance-wise:\r\n\r\n    Collections.addAll(arraylist, array);","title":"Create ArrayList from array","body":"<p>Another way (although essentially equivalent to the <code>new ArrayList(Arrays.asList(array))</code> solution performance-wise:</p>\n\n<pre><code>Collections.addAll(arraylist, array);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":33,"creation_date":1357786447,"post_id":13421319,"comment_id":19774826,"body_markdown":"+1 But note that the `List` returned by `Arrays.asList` is mutable in that you can still `set` elements - it just isn&#39;t resizable. For immutable lists without Guava you might mention [`Collections.unmodifiableList`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableList\\(java.util.List\\)).","body":"+1 But note that the <code>List</code> returned by <code>Arrays.asList</code> is mutable in that you can still <code>set</code> elements - it just isn&#39;t resizable. For immutable lists without Guava you might mention <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableList&#40;java.util.List&#41;\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableList</code></a>."}],"tags":[],"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"comment_count":1,"down_vote_count":3,"up_vote_count":405,"is_accepted":false,"score":402,"last_activity_date":1648501747,"creation_date":1353086201,"answer_id":13421319,"question_id":157944,"body_markdown":"_&lt;sup&gt;(old thread, but just 2 cents as none mention Guava or other libs and some other details)&lt;/sup&gt;_\r\n\r\n# If You Can, Use Guava\r\n\r\nIt&#39;s worth pointing out the Guava way, which greatly simplifies these shenanigans:\r\n\r\n## Usage\r\n\r\n### For an Immutable List\r\n\r\nUse the [`ImmutableList`][1] class and its [`of()`][2] and [`copyOf()`][3] factory methods &lt;sup&gt;(elements can&#39;t be null)&lt;/sup&gt;:\r\n\r\n    List&lt;String&gt; il = ImmutableList.of(&quot;string&quot;, &quot;elements&quot;);  // from varargs\r\n    List&lt;String&gt; il = ImmutableList.copyOf(aStringArray);      // from array\r\n\r\n### For A Mutable List\r\n\r\nUse the [`Lists`][4] class and its [`newArrayList()`][5] factory methods:\r\n\r\n    List&lt;String&gt; l1 = Lists.newArrayList(anotherListOrCollection);    // from collection\r\n    List&lt;String&gt; l2 = Lists.newArrayList(aStringArray);               // from array\r\n    List&lt;String&gt; l3 = Lists.newArrayList(&quot;or&quot;, &quot;string&quot;, &quot;elements&quot;); // from varargs\r\n\r\nPlease also note the similar methods for other data structures in other classes, for instance in [`Sets`][6].\r\n\r\n## [Why Guava?][7]\r\n\r\nThe main attraction could be to reduce the clutter due to generics for type-safety, as the use of the Guava [factory methods][8] allow the types to be inferred most of the time. However, this argument holds less water since Java 7 arrived with the new diamond operator.\r\n\r\nBut it&#39;s not the only reason (and Java 7 isn&#39;t everywhere yet): the shorthand syntax is also very handy, and the methods initializers, as seen above, allow to write more expressive code. You do in one Guava call what takes 2 with the current Java Collections.\r\n\r\n-----\r\n\r\n# If You Can&#39;t...\r\n\r\n## For an Immutable List\r\n\r\nUse the JDK&#39;s [`Arrays`][9] class and its [`asList()`][10] factory method, wrapped with a [`Collections.unmodifiableList()`][11]:\r\n\r\n    List&lt;String&gt; l1 = Collections.unmodifiableList(Arrays.asList(anArrayOfElements));\r\n    List&lt;String&gt; l2 = Collections.unmodifiableList(Arrays.asList(&quot;element1&quot;, &quot;element2&quot;));\r\n\r\nNote that the returned type for `asList()` is a `List` using a concrete `ArrayList` implementation, but **it is NOT** `java.util.ArrayList`. It&#39;s an inner type, which emulates an `ArrayList` but actually directly references the passed array and makes it &quot;write through&quot; (modifications are reflected in the array).\r\n\r\nIt forbids modifications through some of the `List` API&#39;s methods by way of simply extending an `AbstractList` (so, adding or removing elements is unsupported), however it allows calls to `set()` to override elements. Thus this list isn&#39;t truly immutable and a call to `asList()` should be wrapped with `Collections.unmodifiableList()`.\r\n\r\nSee the next step if you need a mutable list.\r\n\r\n## For a Mutable List\r\n\r\nSame as above, but wrapped with an actual `java.util.ArrayList`:\r\n\r\n    List&lt;String&gt; l1  = new ArrayList&lt;String&gt;(Arrays.asList(array));    // Java 1.5 to 1.6\r\n    List&lt;String&gt; l1b = new ArrayList&lt;&gt;(Arrays.asList(array));          // Java 1.7+\r\n    List&lt;String&gt; l2  = new ArrayList&lt;String&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;)); // Java 1.5 to 1.6\r\n    List&lt;String&gt; l2b = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;));       // Java 1.7+\r\n\r\n----\r\n\r\n# For Educational Purposes: The Good ol&#39; Manual Way\r\n\r\n    // for Java 1.5+\r\n    static &lt;T&gt; List&lt;T&gt; arrayToList(final T[] array) {\r\n      final List&lt;T&gt; l = new ArrayList&lt;T&gt;(array.length);\r\n\r\n      for (final T s : array) {\r\n        l.add(s);\r\n      }\r\n      return (l);\r\n    }\r\n\r\n    // for Java &lt; 1.5 (no generics, no compile-time type-safety, boo!)\r\n    static List arrayToList(final Object[] array) {\r\n      final List l = new ArrayList(array.length);\r\n\r\n      for (int i = 0; i &lt; array.length; i++) {\r\n        l.add(array[i]);\r\n      }\r\n      return (l);\r\n    }\r\n\r\n\r\n   [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableList.java\r\n  [2]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableList.java#L108\r\n  [3]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableList.java#L235\r\n  [4]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Lists.java\r\n  [5]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Lists.java#L84\r\n  [6]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java\r\n  [7]: https://github.com/google/guava/wiki\r\n  [8]: https://github.com/google/guava/wiki/CollectionUtilitiesExplained#static-constructors\r\n  [9]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html\r\n  [10]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#asList(T...)\r\n  [11]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)","title":"Create ArrayList from array","body":"<p><em><sup>(old thread, but just 2 cents as none mention Guava or other libs and some other details)</sup></em></p>\n<h1>If You Can, Use Guava</h1>\n<p>It's worth pointing out the Guava way, which greatly simplifies these shenanigans:</p>\n<h2>Usage</h2>\n<h3>For an Immutable List</h3>\n<p>Use the <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableList.java\" rel=\"noreferrer\"><code>ImmutableList</code></a> class and its <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableList.java#L108\" rel=\"noreferrer\"><code>of()</code></a> and <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableList.java#L235\" rel=\"noreferrer\"><code>copyOf()</code></a> factory methods <sup>(elements can't be null)</sup>:</p>\n<pre><code>List&lt;String&gt; il = ImmutableList.of(&quot;string&quot;, &quot;elements&quot;);  // from varargs\nList&lt;String&gt; il = ImmutableList.copyOf(aStringArray);      // from array\n</code></pre>\n<h3>For A Mutable List</h3>\n<p>Use the <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Lists.java\" rel=\"noreferrer\"><code>Lists</code></a> class and its <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Lists.java#L84\" rel=\"noreferrer\"><code>newArrayList()</code></a> factory methods:</p>\n<pre><code>List&lt;String&gt; l1 = Lists.newArrayList(anotherListOrCollection);    // from collection\nList&lt;String&gt; l2 = Lists.newArrayList(aStringArray);               // from array\nList&lt;String&gt; l3 = Lists.newArrayList(&quot;or&quot;, &quot;string&quot;, &quot;elements&quot;); // from varargs\n</code></pre>\n<p>Please also note the similar methods for other data structures in other classes, for instance in <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java\" rel=\"noreferrer\"><code>Sets</code></a>.</p>\n<h2><a href=\"https://github.com/google/guava/wiki\" rel=\"noreferrer\">Why Guava?</a></h2>\n<p>The main attraction could be to reduce the clutter due to generics for type-safety, as the use of the Guava <a href=\"https://github.com/google/guava/wiki/CollectionUtilitiesExplained#static-constructors\" rel=\"noreferrer\">factory methods</a> allow the types to be inferred most of the time. However, this argument holds less water since Java 7 arrived with the new diamond operator.</p>\n<p>But it's not the only reason (and Java 7 isn't everywhere yet): the shorthand syntax is also very handy, and the methods initializers, as seen above, allow to write more expressive code. You do in one Guava call what takes 2 with the current Java Collections.</p>\n<hr />\n<h1>If You Can't...</h1>\n<h2>For an Immutable List</h2>\n<p>Use the JDK's <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html\" rel=\"noreferrer\"><code>Arrays</code></a> class and its <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#asList(T...)\" rel=\"noreferrer\"><code>asList()</code></a> factory method, wrapped with a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"noreferrer\"><code>Collections.unmodifiableList()</code></a>:</p>\n<pre><code>List&lt;String&gt; l1 = Collections.unmodifiableList(Arrays.asList(anArrayOfElements));\nList&lt;String&gt; l2 = Collections.unmodifiableList(Arrays.asList(&quot;element1&quot;, &quot;element2&quot;));\n</code></pre>\n<p>Note that the returned type for <code>asList()</code> is a <code>List</code> using a concrete <code>ArrayList</code> implementation, but <strong>it is NOT</strong> <code>java.util.ArrayList</code>. It's an inner type, which emulates an <code>ArrayList</code> but actually directly references the passed array and makes it &quot;write through&quot; (modifications are reflected in the array).</p>\n<p>It forbids modifications through some of the <code>List</code> API's methods by way of simply extending an <code>AbstractList</code> (so, adding or removing elements is unsupported), however it allows calls to <code>set()</code> to override elements. Thus this list isn't truly immutable and a call to <code>asList()</code> should be wrapped with <code>Collections.unmodifiableList()</code>.</p>\n<p>See the next step if you need a mutable list.</p>\n<h2>For a Mutable List</h2>\n<p>Same as above, but wrapped with an actual <code>java.util.ArrayList</code>:</p>\n<pre><code>List&lt;String&gt; l1  = new ArrayList&lt;String&gt;(Arrays.asList(array));    // Java 1.5 to 1.6\nList&lt;String&gt; l1b = new ArrayList&lt;&gt;(Arrays.asList(array));          // Java 1.7+\nList&lt;String&gt; l2  = new ArrayList&lt;String&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;)); // Java 1.5 to 1.6\nList&lt;String&gt; l2b = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;));       // Java 1.7+\n</code></pre>\n<hr />\n<h1>For Educational Purposes: The Good ol' Manual Way</h1>\n<pre><code>// for Java 1.5+\nstatic &lt;T&gt; List&lt;T&gt; arrayToList(final T[] array) {\n  final List&lt;T&gt; l = new ArrayList&lt;T&gt;(array.length);\n\n  for (final T s : array) {\n    l.add(s);\n  }\n  return (l);\n}\n\n// for Java &lt; 1.5 (no generics, no compile-time type-safety, boo!)\nstatic List arrayToList(final Object[] array) {\n  final List l = new ArrayList(array.length);\n\n  for (int i = 0; i &lt; array.length; i++) {\n    l.add(array[i]);\n  }\n  return (l);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":468349,"reputation":16729,"user_id":874275,"accept_rate":75,"display_name":"Bohdan"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1389074685,"creation_date":1389074685,"answer_id":20964978,"question_id":157944,"body_markdown":"    // Guava\r\n    import com.google.common.collect.ListsLists\r\n    ...\r\n    List&lt;String&gt; list = Lists.newArrayList(aStringArray); \r\n\r\n","title":"Create ArrayList from array","body":"<pre><code>// Guava\nimport com.google.common.collect.ListsLists\n...\nList&lt;String&gt; list = Lists.newArrayList(aStringArray); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":1,"creation_date":1424624605,"post_id":21204451,"comment_id":45616643,"body_markdown":"I fail to see the fundamental difference between your loop at the end of the answer and the `new ArrayList&lt;T&gt;(Arrays.asList(myArray));` part which you discourage to use. Both do quite the same and have the same complexity.","body":"I fail to see the fundamental difference between your loop at the end of the answer and the <code>new ArrayList&lt;T&gt;(Arrays.asList(myArray));</code> part which you discourage to use. Both do quite the same and have the same complexity."},{"owner":{"account_id":940893,"reputation":6928,"user_id":968988,"accept_rate":79,"display_name":"Nicolas Zozol"},"score":0,"creation_date":1424635177,"post_id":21204451,"comment_id":45620176,"body_markdown":"The Collections one create a pointer at the beginning of the array. My loop create many pointers : one for each array member. So if the original array changes, my poiners are still directed toward the former values.","body":"The Collections one create a pointer at the beginning of the array. My loop create many pointers : one for each array member. So if the original array changes, my poiners are still directed toward the former values."},{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":1,"creation_date":1424642189,"post_id":21204451,"comment_id":45622435,"body_markdown":"`new ArrayList&lt;T&gt;(Arrays.asList(myArray));` does the same, it copies the `asList` to an `ArrayList`...","body":"<code>new ArrayList&lt;T&gt;(Arrays.asList(myArray));</code> does the same, it copies the <code>asList</code> to an <code>ArrayList</code>..."}],"tags":[],"owner":{"account_id":940893,"reputation":6928,"user_id":968988,"accept_rate":79,"display_name":"Nicolas Zozol"},"comment_count":3,"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1467228128,"creation_date":1390050102,"answer_id":21204451,"question_id":157944,"body_markdown":"If you use :\r\n\r\n    new ArrayList&lt;T&gt;(Arrays.asList(myArray));\r\n\r\nyou **may** create **and fill** two lists ! Filling twice a big list is exactly what you don&#39;t want to do because it will create another `Object[]` array each time the capacity needs to be extended.\r\n\r\nFortunately the JDK implementation is fast and `Arrays.asList(a[])` is very well done. It create a kind of ArrayList named Arrays.ArrayList where the Object[] data points directly to the array.\r\n\r\n    // in Arrays\r\n    @SafeVarargs\r\n    public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\r\n        return new ArrayList&lt;&gt;(a);\r\n    }\r\n    //still in Arrays, creating a private unseen class\r\n    private static class ArrayList&lt;E&gt;\r\n         \r\n        private final E[] a;    \r\n        ArrayList(E[] array) {\r\n            a = array; // you point to the previous array\r\n        }\r\n        ....\r\n    }\r\n\r\nThe dangerous side is that **if you change the initial array, you change the List !** Are you sure you want that ? Maybe yes, maybe not.\r\n\r\nIf not, the most understandable way is to do this :\r\n\r\n    ArrayList&lt;Element&gt; list = new ArrayList&lt;Element&gt;(myArray.length); // you know the initial capacity\r\n    for (Element element : myArray) {\r\n        list.add(element);\r\n    }\r\n\r\nOr as said @glglgl, you can create another independant ArrayList with :\r\n\r\n    new ArrayList&lt;T&gt;(Arrays.asList(myArray));\r\n\r\n\r\n\r\nI love to use `Collections`, `Arrays`, or Guava. But if it don&#39;t fit, or you don&#39;t feel it, just write another inelegant line instead.\r\n\r\n","title":"Create ArrayList from array","body":"<p>If you use :</p>\n\n<pre><code>new ArrayList&lt;T&gt;(Arrays.asList(myArray));\n</code></pre>\n\n<p>you <strong>may</strong> create <strong>and fill</strong> two lists ! Filling twice a big list is exactly what you don't want to do because it will create another <code>Object[]</code> array each time the capacity needs to be extended.</p>\n\n<p>Fortunately the JDK implementation is fast and <code>Arrays.asList(a[])</code> is very well done. It create a kind of ArrayList named Arrays.ArrayList where the Object[] data points directly to the array.</p>\n\n<pre><code>// in Arrays\n@SafeVarargs\npublic static &lt;T&gt; List&lt;T&gt; asList(T... a) {\n    return new ArrayList&lt;&gt;(a);\n}\n//still in Arrays, creating a private unseen class\nprivate static class ArrayList&lt;E&gt;\n\n    private final E[] a;    \n    ArrayList(E[] array) {\n        a = array; // you point to the previous array\n    }\n    ....\n}\n</code></pre>\n\n<p>The dangerous side is that <strong>if you change the initial array, you change the List !</strong> Are you sure you want that ? Maybe yes, maybe not.</p>\n\n<p>If not, the most understandable way is to do this :</p>\n\n<pre><code>ArrayList&lt;Element&gt; list = new ArrayList&lt;Element&gt;(myArray.length); // you know the initial capacity\nfor (Element element : myArray) {\n    list.add(element);\n}\n</code></pre>\n\n<p>Or as said @glglgl, you can create another independant ArrayList with :</p>\n\n<pre><code>new ArrayList&lt;T&gt;(Arrays.asList(myArray));\n</code></pre>\n\n<p>I love to use <code>Collections</code>, <code>Arrays</code>, or Guava. But if it don't fit, or you don't feel it, just write another inelegant line instead.</p>\n"},{"comments":[{"owner":{"account_id":4321138,"reputation":2844,"user_id":3529323,"accept_rate":50,"display_name":"bcsb1001"},"score":10,"creation_date":1420055749,"post_id":27136414,"comment_id":43863635,"body_markdown":"It&#39;s probably best not to be implementation-dependent, but `Collectors.toList()` actually returns an `ArrayList`.","body":"It&#39;s probably best not to be implementation-dependent, but <code>Collectors.toList()</code> actually returns an <code>ArrayList</code>."},{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":0,"creation_date":1479470397,"post_id":27136414,"comment_id":68582941,"body_markdown":"incorrect use of Stream.of(...); that will create a one element stream. Use Arrays.stream instead","body":"incorrect use of Stream.of(...); that will create a one element stream. Use Arrays.stream instead"},{"owner":{"account_id":3093404,"reputation":3325,"user_id":2619091,"accept_rate":100,"display_name":"yamilmedina"},"score":0,"creation_date":1480542339,"post_id":27136414,"comment_id":69011362,"body_markdown":"I don&#39;t think so, the 2 options are valid but the Arrays.stream is slightly &#39;better&#39; since you can create it with fixed size, using the overload method with &#39;start&#39;, &#39;end&#39; args. See also: http://stackoverflow.com/a/27888447/2619091","body":"I don&#39;t think so, the 2 options are valid but the Arrays.stream is slightly &#39;better&#39; since you can create it with fixed size, using the overload method with &#39;start&#39;, &#39;end&#39; args. See also: <a href=\"http://stackoverflow.com/a/27888447/2619091\">stackoverflow.com/a/27888447/2619091</a>"}],"tags":[],"owner":{"account_id":3093404,"reputation":3325,"user_id":2619091,"accept_rate":100,"display_name":"yamilmedina"},"comment_count":3,"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1416948516,"creation_date":1416948516,"answer_id":27136414,"question_id":157944,"body_markdown":"Another update, almost ending year 2014, you can do it with Java 8 too:\r\n\r\n    ArrayList&lt;Element&gt; arrayList = Stream.of(myArray).collect(Collectors.toCollection(ArrayList::new));\r\n\r\nA few characters would be saved, if this could be just a `List` \r\n\r\n    List&lt;Element&gt; list = Stream.of(myArray).collect(Collectors.toList());\r\n\r\n","title":"Create ArrayList from array","body":"<p>Another update, almost ending year 2014, you can do it with Java 8 too:</p>\n\n<pre><code>ArrayList&lt;Element&gt; arrayList = Stream.of(myArray).collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n\n<p>A few characters would be saved, if this could be just a <code>List</code> </p>\n\n<pre><code>List&lt;Element&gt; list = Stream.of(myArray).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"comment_count":0,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1431900445,"creation_date":1431900445,"answer_id":30292659,"question_id":157944,"body_markdown":"According with the question the answer using java 1.7 is:\r\n\r\n    ArrayList&lt;Element&gt; arraylist = new ArrayList&lt;Element&gt;(Arrays.&lt;Element&gt;asList(array));\r\n\r\nHowever it&#39;s better always use the interface:\r\n\r\n    List&lt;Element&gt; arraylist = Arrays.&lt;Element&gt;asList(array);","title":"Create ArrayList from array","body":"<p>According with the question the answer using java 1.7 is:</p>\n\n<pre><code>ArrayList&lt;Element&gt; arraylist = new ArrayList&lt;Element&gt;(Arrays.&lt;Element&gt;asList(array));\n</code></pre>\n\n<p>However it's better always use the interface:</p>\n\n<pre><code>List&lt;Element&gt; arraylist = Arrays.&lt;Element&gt;asList(array);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4278987,"reputation":19511,"user_id":3498950,"accept_rate":87,"display_name":"spencer.sm"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1450297959,"creation_date":1450297959,"answer_id":34321584,"question_id":157944,"body_markdown":"Another simple way is to add all elements from the array to a new ArrayList using a for-each loop.\r\n\r\n    ArrayList&lt;Element&gt; list = new ArrayList&lt;&gt;();\r\n\r\n\tfor(Element e : array)\r\n\t\tlist.add(e);","title":"Create ArrayList from array","body":"<p>Another simple way is to add all elements from the array to a new ArrayList using a for-each loop.</p>\n\n<pre><code>ArrayList&lt;Element&gt; list = new ArrayList&lt;&gt;();\n\nfor(Element e : array)\n    list.add(e);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":3,"creation_date":1549278503,"post_id":35239183,"comment_id":95832542,"body_markdown":"As of **java 8**, `Collectors.toList()` will return an `ArrayList`. However this may differ in future versions on java.If you want a specific type of collection then use `Collectors.toCollection()` instead where you can specify which exact type of collection you would want to create.","body":"As of <b>java 8</b>, <code>Collectors.toList()</code> will return an <code>ArrayList</code>. However this may differ in future versions on java.If you want a specific type of collection then use <code>Collectors.toCollection()</code> instead where you can specify which exact type of collection you would want to create."}],"tags":[],"owner":{"account_id":2158083,"reputation":704,"user_id":1912860,"accept_rate":82,"display_name":"Vaseph"},"comment_count":1,"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1700492252,"creation_date":1454748981,"answer_id":35239183,"question_id":157944,"body_markdown":"You also can do it with stream in Java 8.\r\n\r\n\r\n    List&lt;Element&gt; elements = Arrays.stream(array).collect(Collectors.toList()); ","title":"Create ArrayList from array","body":"<p>You also can do it with stream in Java 8.</p>\n<pre><code>List&lt;Element&gt; elements = Arrays.stream(array).collect(Collectors.toList()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1584089479,"creation_date":1459320494,"answer_id":36301596,"question_id":157944,"body_markdown":"1. If we see the definition of `Arrays.asList()` method you will get something like this: \r\n\r\n         public static &lt;T&gt; List&lt;T&gt; asList(T... a) //varargs are of T type. \r\n\r\n   So, you might initialize `arraylist` like this: \r\n\r\n         List&lt;Element&gt; arraylist = Arrays.asList(new Element(1), new Element(2), new Element(3));\r\n\r\n  &gt;**Note** : each `new Element(int args)` will be treated as Individual Object and can be passed as a `var-args`.\r\n\r\n2. There might be another answer for this question too.  \r\nIf you see declaration for `java.util.Collections.addAll()` method you will get something like this:\r\n\r\n        public static &lt;T&gt; boolean addAll(Collection&lt;? super T&gt; c, T... a);\r\nSo, this code is also useful to do so\r\n\r\n        Collections.addAll(arraylist, array);\r\n\r\n\t","title":"Create ArrayList from array","body":"<ol>\n<li><p>If we see the definition of <code>Arrays.asList()</code> method you will get something like this: </p>\n\n<pre><code> public static &lt;T&gt; List&lt;T&gt; asList(T... a) //varargs are of T type. \n</code></pre>\n\n<p>So, you might initialize <code>arraylist</code> like this: </p>\n\n<pre><code> List&lt;Element&gt; arraylist = Arrays.asList(new Element(1), new Element(2), new Element(3));\n</code></pre>\n\n<blockquote>\n  <p><strong>Note</strong> : each <code>new Element(int args)</code> will be treated as Individual Object and can be passed as a <code>var-args</code>.</p>\n</blockquote></li>\n<li><p>There might be another answer for this question too.<br>\nIf you see declaration for <code>java.util.Collections.addAll()</code> method you will get something like this:</p>\n\n<pre><code>public static &lt;T&gt; boolean addAll(Collection&lt;? super T&gt; c, T... a);\n</code></pre>\n\n<p>So, this code is also useful to do so</p>\n\n<pre><code>Collections.addAll(arraylist, array);\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1562329876,"post_id":36679474,"comment_id":100350903,"body_markdown":"List.of() will not return an instance of java.util.ArrayList, as requested in the original question. Therefore only the second option is a valid answer.","body":"List.of() will not return an instance of java.util.ArrayList, as requested in the original question. Therefore only the second option is a valid answer."}],"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":1,"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1532848758,"creation_date":1460912315,"answer_id":36679474,"question_id":157944,"body_markdown":"# Java 9\n\nIn [Java 9][1], you can use [`List.of`][2] static factory method in order to create a `List` literal. Something like the following:\n\n    List&lt;Element&gt; elements = List.of(new Element(1), new Element(2), new Element(3));\n\nThis would return an [***immutable***][3] list containing three elements. If you want a ***mutable*** list, pass that list to the `ArrayList` constructor:\n\n    new ArrayList&lt;&gt;(List.of(// elements vararg))\n\n-----\n### JEP 269: Convenience Factory Methods for Collections\n[JEP 269][4] provides some convenience factory methods for [Java Collections][5] API. These immutable static factory methods are built into the [`List`][6], [`Set`][7], and [`Map`][8] interfaces in Java 9 and later.\n\n\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-E-E-\n  [3]: https://en.wikipedia.org/wiki/Immutable_object\n  [4]: http://openjdk.java.net/jeps/269\n  [5]: https://en.wikipedia.org/wiki/Java_collections_framework\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html\n  [7]: https://docs.oracle.com/javase/9/docs/api/java/util/Set.html\n  [8]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html","title":"Create ArrayList from array","body":"<h1>Java 9</h1>\n<p>In <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\">Java 9</a>, you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-E-E-\" rel=\"noreferrer\"><code>List.of</code></a> static factory method in order to create a <code>List</code> literal. Something like the following:</p>\n<pre><code>List&lt;Element&gt; elements = List.of(new Element(1), new Element(2), new Element(3));\n</code></pre>\n<p>This would return an <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"noreferrer\"><em><strong>immutable</strong></em></a> list containing three elements. If you want a <em><strong>mutable</strong></em> list, pass that list to the <code>ArrayList</code> constructor:</p>\n<pre><code>new ArrayList&lt;&gt;(List.of(// elements vararg))\n</code></pre>\n<hr />\n<h3>JEP 269: Convenience Factory Methods for Collections</h3>\n<p><a href=\"http://openjdk.java.net/jeps/269\" rel=\"noreferrer\">JEP 269</a> provides some convenience factory methods for <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"noreferrer\">Java Collections</a> API. These immutable static factory methods are built into the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Set.html\" rel=\"noreferrer\"><code>Set</code></a>, and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> interfaces in Java 9 and later.</p>\n"},{"tags":[],"owner":{"account_id":4623229,"reputation":2072,"user_id":3747720,"accept_rate":89,"display_name":"js_248"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1466267420,"creation_date":1462178444,"answer_id":36978331,"question_id":157944,"body_markdown":"You can convert using different methods\r\n\r\n1. `List&lt;Element&gt; list = Arrays.asList(array);`\r\n\r\n2. `List&lt;Element&gt; list = new ArrayList();  \r\n  Collections.addAll(list, array);`\r\n\r\n3. `Arraylist list = new Arraylist();  \r\n   list.addAll(Arrays.asList(array));`\r\n\r\nFor more detail you can refer to http://javarevisited.blogspot.in/2011/06/converting-array-to-arraylist-in-java.html","title":"Create ArrayList from array","body":"<p>You can convert using different methods</p>\n\n<ol>\n<li><p><code>List&lt;Element&gt; list = Arrays.asList(array);</code></p></li>\n<li><p><code>List&lt;Element&gt; list = new ArrayList();<br>\nCollections.addAll(list, array);</code></p></li>\n<li><p><code>Arraylist list = new Arraylist();<br>\nlist.addAll(Arrays.asList(array));</code></p></li>\n</ol>\n\n<p>For more detail you can refer to <a href=\"http://javarevisited.blogspot.in/2011/06/converting-array-to-arraylist-in-java.html\" rel=\"noreferrer\">http://javarevisited.blogspot.in/2011/06/converting-array-to-arraylist-in-java.html</a></p>\n"},{"comments":[{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1691683054,"post_id":41301598,"comment_id":135527631,"body_markdown":"I don&#39;t see how this is easier than:\n\nnew ArrayList&lt;&gt;(Arrays.asList(array));\n\nIt&#39;s also unclear that it is more efficient in any way..","body":"I don&#39;t see how this is easier than:  new ArrayList&lt;&gt;(Arrays.asList(array));  It&#39;s also unclear that it is more efficient in any way.."}],"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1592295472,"creation_date":1482496288,"answer_id":41301598,"question_id":157944,"body_markdown":"Since Java 8 there is an easier way to transform:\r\n\r\n    import java.util.List;    \r\n    import static java.util.stream.Collectors.toList;\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; fromArray(T[] array) {\r\n        return Arrays.stream(array).collect(toList());\r\n    }","title":"Create ArrayList from array","body":"<p>Since Java 8 there is an easier way to transform:</p>\n\n<pre><code>import java.util.List;    \nimport static java.util.stream.Collectors.toList;\n\npublic static &lt;T&gt; List&lt;T&gt; fromArray(T[] array) {\n    return Arrays.stream(array).collect(toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7854218,"reputation":410,"user_id":5936681,"display_name":"jemystack"},"comment_count":0,"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1700492244,"creation_date":1483641175,"answer_id":41492222,"question_id":157944,"body_markdown":"as all said this will do so \r\n\r\n    new ArrayList&lt;&gt;(Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;));\r\n\r\nand the common newest way to create array is **observableArrays**\r\n\r\n**ObservableList:** A list that allows listeners to track changes when they occur.\r\n\r\nfor Java SE you can try \r\n\r\n    FXCollections.observableArrayList(new Element(1), new Element(2), new Element(3));\r\n\r\nthat is according to [Oracle Docs][1]\r\n\r\n&gt; observableArrayList()\r\nCreates a new empty observable list that is backed by an arraylist.\r\n&gt; observableArrayList(E... items)\r\nCreates a new observable array list with items added to it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/collections/FXCollections.html\r\n\r\n\r\n## **Update Java 9** ##\r\nalso in Java 9 it&#39;s a little bit easy:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;element 1&quot;, &quot;element 2&quot;, &quot;element 3&quot;);","title":"Create ArrayList from array","body":"<p>as all said this will do so</p>\n<pre><code>new ArrayList&lt;&gt;(Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;));\n</code></pre>\n<p>and the common newest way to create array is <strong>observableArrays</strong></p>\n<p><strong>ObservableList:</strong> A list that allows listeners to track changes when they occur.</p>\n<p>for Java SE you can try</p>\n<pre><code>FXCollections.observableArrayList(new Element(1), new Element(2), new Element(3));\n</code></pre>\n<p>that is according to <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/collections/FXCollections.html\" rel=\"nofollow noreferrer\">Oracle Docs</a></p>\n<blockquote>\n<p>observableArrayList()\nCreates a new empty observable list that is backed by an arraylist.\nobservableArrayList(E... items)\nCreates a new observable array list with items added to it.</p>\n</blockquote>\n<h2><strong>Update Java 9</strong></h2>\n<p>also in Java 9 it's a little bit easy:</p>\n<pre><code>List&lt;String&gt; list = List.of(&quot;element 1&quot;, &quot;element 2&quot;, &quot;element 3&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3449301,"reputation":2732,"user_id":2889297,"display_name":"Devendra Lattu"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491590750,"creation_date":1491590750,"answer_id":43285146,"question_id":157944,"body_markdown":"Even though there are many perfectly written answers to this question, I will add my inputs. \r\n\r\nSay you have `Element[] array = { new Element(1), new Element(2), new Element(3) };`\r\n\r\nNew ArrayList can be created in the following ways\r\n\r\n    ArrayList&lt;Element&gt; arraylist_1 = new ArrayList&lt;&gt;(Arrays.asList(array));\r\n\tArrayList&lt;Element&gt; arraylist_2 = new ArrayList&lt;&gt;(\r\n        Arrays.asList(new Element[] { new Element(1), new Element(2), new Element(3) }));\r\n\r\n\t// Add through a collection\r\n\tArrayList&lt;Element&gt; arraylist_3 = new ArrayList&lt;&gt;();\r\n\tCollections.addAll(arraylist_3, array);\r\n\r\nAnd they very well support all operations of ArrayList\r\n\r\n    arraylist_1.add(new Element(4)); // or remove(): Success\r\n\tarraylist_2.add(new Element(4)); // or remove(): Success\r\n\tarraylist_3.add(new Element(4)); // or remove(): Success\r\n\r\nBut the following operations returns just a List view of an ArrayList and not actual ArrayList.\r\n\r\n\t// Returns a List view of array and not actual ArrayList\r\n\tList&lt;Element&gt; listView_1 = (List&lt;Element&gt;) Arrays.asList(array);\r\n\tList&lt;Element&gt; listView_2 = Arrays.asList(array);\r\n\tList&lt;Element&gt; listView_3 = Arrays.asList(new Element(1), new Element(2), new Element(3));\r\n\r\nTherefore, they will give error when trying to make some ArrayList operations\r\n\r\n    listView_1.add(new Element(4)); // Error\r\n    listView_2.add(new Element(4)); // Error\r\n    listView_3.add(new Element(4)); // Error\r\n\r\nMore on List representation of array [link][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43187083/benefits-of-creating-a-list-using-arrays-aslist","title":"Create ArrayList from array","body":"<p>Even though there are many perfectly written answers to this question, I will add my inputs. </p>\n\n<p>Say you have <code>Element[] array = { new Element(1), new Element(2), new Element(3) };</code></p>\n\n<p>New ArrayList can be created in the following ways</p>\n\n<pre><code>ArrayList&lt;Element&gt; arraylist_1 = new ArrayList&lt;&gt;(Arrays.asList(array));\nArrayList&lt;Element&gt; arraylist_2 = new ArrayList&lt;&gt;(\n    Arrays.asList(new Element[] { new Element(1), new Element(2), new Element(3) }));\n\n// Add through a collection\nArrayList&lt;Element&gt; arraylist_3 = new ArrayList&lt;&gt;();\nCollections.addAll(arraylist_3, array);\n</code></pre>\n\n<p>And they very well support all operations of ArrayList</p>\n\n<pre><code>arraylist_1.add(new Element(4)); // or remove(): Success\narraylist_2.add(new Element(4)); // or remove(): Success\narraylist_3.add(new Element(4)); // or remove(): Success\n</code></pre>\n\n<p>But the following operations returns just a List view of an ArrayList and not actual ArrayList.</p>\n\n<pre><code>// Returns a List view of array and not actual ArrayList\nList&lt;Element&gt; listView_1 = (List&lt;Element&gt;) Arrays.asList(array);\nList&lt;Element&gt; listView_2 = Arrays.asList(array);\nList&lt;Element&gt; listView_3 = Arrays.asList(new Element(1), new Element(2), new Element(3));\n</code></pre>\n\n<p>Therefore, they will give error when trying to make some ArrayList operations</p>\n\n<pre><code>listView_1.add(new Element(4)); // Error\nlistView_2.add(new Element(4)); // Error\nlistView_3.add(new Element(4)); // Error\n</code></pre>\n\n<p>More on List representation of array <a href=\"https://stackoverflow.com/questions/43187083/benefits-of-creating-a-list-using-arrays-aslist\">link</a>.</p>\n"},{"comments":[{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1533329850,"post_id":43345763,"comment_id":90323225,"body_markdown":"Note that this is not an ArrayList, as it was explicitely asked.","body":"Note that this is not an ArrayList, as it was explicitely asked."}],"tags":[],"owner":{"account_id":296413,"reputation":1436,"user_id":601362,"display_name":"MarekM"},"comment_count":1,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1502536940,"creation_date":1491913245,"answer_id":43345763,"question_id":157944,"body_markdown":"In `Java 9` you can use:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;World&quot;, &quot;from&quot;, &quot;Java&quot;);\r\n    List&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5);","title":"Create ArrayList from array","body":"<p>In <code>Java 9</code> you can use:</p>\n\n<pre><code>List&lt;String&gt; list = List.of(\"Hello\", \"World\", \"from\", \"Java\");\nList&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7803174,"reputation":712,"user_id":5901831,"accept_rate":100,"display_name":"Hemin"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1493800708,"creation_date":1493800708,"answer_id":43755137,"question_id":157944,"body_markdown":"Simplest way to do so is by adding following code. Tried and Tested.\r\n\r\n    String[] Array1={&quot;one&quot;,&quot;two&quot;,&quot;three&quot;};\r\n\tArrayList&lt;String&gt; s1= new ArrayList&lt;String&gt;(Arrays.asList(Array1));","title":"Create ArrayList from array","body":"<p>Simplest way to do so is by adding following code. Tried and Tested.</p>\n\n<pre><code>String[] Array1={\"one\",\"two\",\"three\"};\nArrayList&lt;String&gt; s1= new ArrayList&lt;String&gt;(Arrays.asList(Array1));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":2,"creation_date":1530639931,"post_id":44412346,"comment_id":89304007,"body_markdown":"Downvoted because that cast looks very dangerous. nothing specifies that the type of list that is returned is actually an ArrayList, as the javadoc states: &quot;There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned&quot;","body":"Downvoted because that cast looks very dangerous. nothing specifies that the type of list that is returned is actually an ArrayList, as the javadoc states: &quot;There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned&quot;"},{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":1,"creation_date":1533329633,"post_id":44412346,"comment_id":90323166,"body_markdown":"If you want to explicitely create an ArrayList, try this: `ArrayList&lt;String&gt; list = Arrays.stream(array).collect(Collectors.toCollection(ArrayList::new));`","body":"If you want to explicitely create an ArrayList, try this: <code>ArrayList&lt;String&gt; list = Arrays.stream(array).collect(Collectors.toCollection(ArrayLi&zwnj;&#8203;st::new));</code>"}],"tags":[],"owner":{"account_id":6163309,"reputation":657,"user_id":4804146,"accept_rate":89,"display_name":"Adit A. Pillai"},"comment_count":2,"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1501682582,"creation_date":1496837665,"answer_id":44412346,"question_id":157944,"body_markdown":"You can do it in java 8 as follows\r\n\r\n    ArrayList&lt;Element&gt; list = (ArrayList&lt;Element&gt;)Arrays.stream(array).collect(Collectors.toList());","title":"Create ArrayList from array","body":"<p>You can do it in java 8 as follows</p>\n\n<pre><code>ArrayList&lt;Element&gt; list = (ArrayList&lt;Element&gt;)Arrays.stream(array).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2041659,"reputation":818,"user_id":1822659,"display_name":"Toothless Seer"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1497948025,"creation_date":1497947585,"answer_id":44647833,"question_id":157944,"body_markdown":"&gt; Another Java8 solution *(I may have missed the answer among the large set. If so, my apologies).* This creates an ArrayList (as opposed to a List) i.e. one can delete elements\r\n\r\n    package package org.something.util;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class Junk {\r\n\t\r\n\t    static &lt;T&gt; ArrayList&lt;T&gt;  arrToArrayList(T[] arr){\r\n\t\t    return Arrays.asList(arr)\r\n                .stream()\r\n                .collect(Collectors.toCollection(ArrayList::new));\r\n\t    }\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    String[] sArr = new String[]{&quot;Hello&quot;, &quot;cruel&quot;, &quot;world&quot;};\r\n\t\t    List&lt;String&gt; ret = arrToArrayList(sArr);\r\n            // Verify one can remove an item and print list to verify so\r\n\t\t    ret.remove(1);\r\n\t\t    ret.stream()\r\n                .forEach(System.out::println);\r\n\t    }\r\n    }\r\nOutput is... &lt;br&gt;\r\nHello &lt;br&gt;\r\nworld","title":"Create ArrayList from array","body":"<blockquote>\n  <p>Another Java8 solution <em>(I may have missed the answer among the large set. If so, my apologies).</em> This creates an ArrayList (as opposed to a List) i.e. one can delete elements</p>\n</blockquote>\n\n<pre><code>package package org.something.util;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Junk {\n\n    static &lt;T&gt; ArrayList&lt;T&gt;  arrToArrayList(T[] arr){\n        return Arrays.asList(arr)\n            .stream()\n            .collect(Collectors.toCollection(ArrayList::new));\n    }\n\n    public static void main(String[] args) {\n        String[] sArr = new String[]{\"Hello\", \"cruel\", \"world\"};\n        List&lt;String&gt; ret = arrToArrayList(sArr);\n        // Verify one can remove an item and print list to verify so\n        ret.remove(1);\n        ret.stream()\n            .forEach(System.out::println);\n    }\n}\n</code></pre>\n\n<p>Output is... <br>\nHello <br>\nworld</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1498479591,"creation_date":1498479591,"answer_id":44759584,"question_id":157944,"body_markdown":"You can create an `ArrayList` using [Cactoos](http://www.cactoos.org) (I&#39;m one of the developers):\r\n\r\n    List&lt;String&gt; names = new StickyList&lt;&gt;(\r\n      &quot;Scott Fitzgerald&quot;, &quot;Fyodor Dostoyevsky&quot;\r\n    );\r\n\r\nThere is no guarantee that the object will actually be of class `ArrayList`. If you need that guarantee, do this:\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(\r\n      new StickyList&lt;&gt;(\r\n        &quot;Scott Fitzgerald&quot;, &quot;Fyodor Dostoyevsky&quot;\r\n      )\r\n    );","title":"Create ArrayList from array","body":"<p>You can create an <code>ArrayList</code> using <a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a> (I'm one of the developers):</p>\n\n<pre><code>List&lt;String&gt; names = new StickyList&lt;&gt;(\n  \"Scott Fitzgerald\", \"Fyodor Dostoyevsky\"\n);\n</code></pre>\n\n<p>There is no guarantee that the object will actually be of class <code>ArrayList</code>. If you need that guarantee, do this:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(\n  new StickyList&lt;&gt;(\n    \"Scott Fitzgerald\", \"Fyodor Dostoyevsky\"\n  )\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1499681166,"post_id":44899482,"comment_id":76991808,"body_markdown":"This is less efficient than the accepted 9 year old answer.","body":"This is less efficient than the accepted 9 year old answer."},{"owner":{"account_id":5691133,"reputation":208,"user_id":4499183,"display_name":"Tamoghna Chowdhury"},"score":3,"creation_date":1507321571,"post_id":44899482,"comment_id":80179006,"body_markdown":"One of `ArrayList`s constructors accepts a `? extends Collection&lt;T&gt;` argument, making the call to `addAll` redundant.","body":"One of <code>ArrayList</code>s constructors accepts a <code>? extends Collection&lt;T&gt;</code> argument, making the call to <code>addAll</code> redundant."}],"tags":[],"owner":{"account_id":9008999,"reputation":3612,"user_id":6714430,"display_name":"rashedcs"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1700492291,"creation_date":1499152953,"answer_id":44899482,"question_id":157944,"body_markdown":"We can easily convert an array to `ArrayList`.\r\nWe use Collection interface&#39;s `addAll()` method for the purpose of copying content from one list to another. \r\n\r\n    Arraylist arr = new Arraylist();\r\n    arr.addAll(Arrays.asList(asset));\r\n\r\n","title":"Create ArrayList from array","body":"<p>We can easily convert an array to <code>ArrayList</code>.\nWe use Collection interface's <code>addAll()</code> method for the purpose of copying content from one list to another.</p>\n<pre><code>Arraylist arr = new Arraylist();\narr.addAll(Arrays.asList(asset));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7776014,"reputation":905,"user_id":5884126,"accept_rate":29,"display_name":"PixelMaster"},"score":0,"creation_date":1528660546,"post_id":45002925,"comment_id":88581362,"body_markdown":"this solution doesn&#39;t seem to work with `char` array, either.","body":"this solution doesn&#39;t seem to work with <code>char</code> array, either."}],"tags":[],"owner":{"account_id":1584871,"reputation":2997,"user_id":1469472,"display_name":"A1m"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1499654238,"creation_date":1499653289,"answer_id":45002925,"question_id":157944,"body_markdown":"If the array is of a primitive type, the given answers won&#39;t work. But since Java 8 you can use:\r\n\r\n    int[] array = new int[5];\r\n    Arrays.stream(array).boxed().collect(Collectors.toList());","title":"Create ArrayList from array","body":"<p>If the array is of a primitive type, the given answers won't work. But since Java 8 you can use:</p>\n\n<pre><code>int[] array = new int[5];\nArrays.stream(array).boxed().collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1227402,"reputation":165,"user_id":1192706,"display_name":"Priyanka"},"score":0,"creation_date":1504947474,"post_id":45295063,"comment_id":79220128,"body_markdown":"List&lt;Element&gt; elementList = Arrays.asList(array) creates a wrapper over the original array which makes original array available as List. Hence a wrapper object is created, nothing gets copied from the original array. Therefore, operations like add or remove elements are not allowed.","body":"List&lt;Element&gt; elementList = Arrays.asList(array) creates a wrapper over the original array which makes original array available as List. Hence a wrapper object is created, nothing gets copied from the original array. Therefore, operations like add or remove elements are not allowed."},{"owner":{"account_id":5691133,"reputation":208,"user_id":4499183,"display_name":"Tamoghna Chowdhury"},"score":4,"creation_date":1507321490,"post_id":45295063,"comment_id":80178983,"body_markdown":"Note that your &quot;immutable collection&quot; is not really immutable - the `List` returned by `Arrays.asList` is just a wrapper over the original array, and allows individual items to be accessed and modified via `get` and `set`. You should probably clarify that you mean &quot;not add or remove elements&quot; instead of &quot;immutable&quot;, which means to not change at all.","body":"Note that your &quot;immutable collection&quot; is not really immutable - the <code>List</code> returned by <code>Arrays.asList</code> is just a wrapper over the original array, and allows individual items to be accessed and modified via <code>get</code> and <code>set</code>. You should probably clarify that you mean &quot;not add or remove elements&quot; instead of &quot;immutable&quot;, which means to not change at all."}],"tags":[],"owner":{"account_id":5907054,"reputation":311,"user_id":4648430,"display_name":"Sumit Das"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500962591,"creation_date":1500962591,"answer_id":45295063,"question_id":157944,"body_markdown":"Already everyone has provided enough good answer for your problem. \r\nNow from the all suggestions, you need to decided which will fit your requirement. There are two types of collection which you need to know. One is unmodified collection and other one collection which will allow you to modify the object later.\r\n\r\nSo, Here I will give short example for two use cases.\r\n\r\n - Immutable collection creation :: When you don&#39;t want to modify the collection object after creation\r\n   \r\n   `List&lt;Element&gt; elementList = Arrays.asList(array)`\r\n\r\n - Mutable collection creation :: When you may want to modify the created collection object after creation.\r\n    \r\n   `List&lt;Element&gt; elementList = new ArrayList&lt;Element&gt;(Arrays.asList(array));`\r\n\r\n","title":"Create ArrayList from array","body":"<p>Already everyone has provided enough good answer for your problem. \nNow from the all suggestions, you need to decided which will fit your requirement. There are two types of collection which you need to know. One is unmodified collection and other one collection which will allow you to modify the object later.</p>\n\n<p>So, Here I will give short example for two use cases.</p>\n\n<ul>\n<li><p>Immutable collection creation :: When you don't want to modify the collection object after creation</p>\n\n<p><code>List&lt;Element&gt; elementList = Arrays.asList(array)</code></p></li>\n<li><p>Mutable collection creation :: When you may want to modify the created collection object after creation.</p>\n\n<p><code>List&lt;Element&gt; elementList = new ArrayList&lt;Element&gt;(Arrays.asList(array));</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12397977,"reputation":247,"user_id":9036713,"display_name":"Kavinda Pushpitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1547599822,"creation_date":1543836730,"answer_id":53592953,"question_id":157944,"body_markdown":"Use the following code to convert an element array into an ArrayList. \r\n\r\n    Element[] array = {new Element(1), new Element(2), new Element(3)};\r\n    \r\n    ArrayList&lt;Element&gt;elementArray=new ArrayList();\r\n    for(int i=0;i&lt;array.length;i++) {\r\n    \telementArray.add(array[i]);\r\n    }","title":"Create ArrayList from array","body":"<p>Use the following code to convert an element array into an ArrayList. </p>\n\n<pre><code>Element[] array = {new Element(1), new Element(2), new Element(3)};\n\nArrayList&lt;Element&gt;elementArray=new ArrayList();\nfor(int i=0;i&lt;array.length;i++) {\n    elementArray.add(array[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13541520,"reputation":948,"user_id":9769061,"display_name":"Devratna"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1553773363,"creation_date":1553773363,"answer_id":55396755,"question_id":157944,"body_markdown":"Use below code\r\n\r\n    Element[] array = {new Element(1), new Element(2), new Element(3)};\r\n    ArrayList&lt;Element&gt; list = (ArrayList) Arrays.asList(array);","title":"Create ArrayList from array","body":"<p>Use below code</p>\n\n<pre><code>Element[] array = {new Element(1), new Element(2), new Element(3)};\nArrayList&lt;Element&gt; list = (ArrayList) Arrays.asList(array);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2811960,"reputation":119,"user_id":2418016,"display_name":"Himanshu Dave"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1558266056,"creation_date":1558264827,"answer_id":56207279,"question_id":157944,"body_markdown":"Java 8s Arrays class provides a stream() method which has overloaded versions accepting both primitive arrays and Object arrays.\r\n\r\n    /**** Converting a Primitive &#39;int&#39; Array to List ****/\r\n    \r\n    int intArray[] = {1, 2, 3, 4, 5};\r\n    \r\n    List&lt;Integer&gt; integerList1 = Arrays.stream(intArray).boxed().collect(Collectors.toList());\r\n    \r\n    /**** &#39;IntStream.of&#39; or &#39;Arrays.stream&#39; Gives The Same Output ****/\r\n    \r\n    List&lt;Integer&gt; integerList2 = IntStream.of(intArray).boxed().collect(Collectors.toList());\r\n    \r\n    /**** Converting an &#39;Integer&#39; Array to List ****/\r\n    \r\n    Integer integerArray[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n    \r\n    List&lt;Integer&gt; integerList3 = Arrays.stream(integerArray).collect(Collectors.toList());\r\n\r\n","title":"Create ArrayList from array","body":"<p>Java 8s Arrays class provides a stream() method which has overloaded versions accepting both primitive arrays and Object arrays.</p>\n\n<pre><code>/**** Converting a Primitive 'int' Array to List ****/\n\nint intArray[] = {1, 2, 3, 4, 5};\n\nList&lt;Integer&gt; integerList1 = Arrays.stream(intArray).boxed().collect(Collectors.toList());\n\n/**** 'IntStream.of' or 'Arrays.stream' Gives The Same Output ****/\n\nList&lt;Integer&gt; integerList2 = IntStream.of(intArray).boxed().collect(Collectors.toList());\n\n/**** Converting an 'Integer' Array to List ****/\n\nInteger integerArray[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n\nList&lt;Integer&gt; integerList3 = Arrays.stream(integerArray).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564725011,"creation_date":1564725011,"answer_id":57320610,"question_id":157944,"body_markdown":"_the lambda expression that generates a list of type_ `ArrayList&lt;Element&gt;`&lt;br /&gt;\r\n(1) without an unchecked cast&lt;br /&gt;\r\n(2) without creating a second list (with eg. `asList()`)\r\n\r\n`ArrayList&lt;Element&gt; list = Stream.of( array ).collect( Collectors.toCollection( ArrayList::new ) );`\r\n","title":"Create ArrayList from array","body":"<p><em>the lambda expression that generates a list of type</em> <code>ArrayList&lt;Element&gt;</code><br />\n(1) without an unchecked cast<br />\n(2) without creating a second list (with eg. <code>asList()</code>)</p>\n\n<p><code>ArrayList&lt;Element&gt; list = Stream.of( array ).collect( Collectors.toCollection( ArrayList::new ) );</code></p>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1700492353,"creation_date":1567888588,"answer_id":57837290,"question_id":157944,"body_markdown":"**Given Object Array:**\r\n\r\n  \r\n\r\n    Element[] array = {new Element(1), new Element(2), new Element(3) , new Element(2)};\r\n\r\n\r\n**Convert Array to List:**\r\n\r\n    List&lt;Element&gt; list = Arrays.stream(array).collect(Collectors.toList());\r\n\r\n **Convert Array to ArrayList**\r\n\r\n    ArrayList&lt;Element&gt; arrayList = Arrays.stream(array)\r\n                                       .collect(Collectors.toCollection(ArrayList::new));\r\n**Convert Array to LinkedList**\r\n\r\n    LinkedList&lt;Element&gt; linkedList = Arrays.stream(array)\r\n                     .collect(Collectors.toCollection(LinkedList::new));\r\n\r\n**Print List:**\r\n\r\n    list.forEach(element -&gt; {\r\n        System.out.println(element.i);\r\n    });\r\n\r\n**OUTPUT**\r\n\r\n1\r\n\r\n2\r\n\r\n3","title":"Create ArrayList from array","body":"<p><strong>Given Object Array:</strong></p>\n<pre><code>Element[] array = {new Element(1), new Element(2), new Element(3) , new Element(2)};\n</code></pre>\n<p><strong>Convert Array to List:</strong></p>\n<pre><code>List&lt;Element&gt; list = Arrays.stream(array).collect(Collectors.toList());\n</code></pre>\n<p><strong>Convert Array to ArrayList</strong></p>\n<pre><code>ArrayList&lt;Element&gt; arrayList = Arrays.stream(array)\n                                   .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n<p><strong>Convert Array to LinkedList</strong></p>\n<pre><code>LinkedList&lt;Element&gt; linkedList = Arrays.stream(array)\n                 .collect(Collectors.toCollection(LinkedList::new));\n</code></pre>\n<p><strong>Print List:</strong></p>\n<pre><code>list.forEach(element -&gt; {\n    System.out.println(element.i);\n});\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<p>1</p>\n<p>2</p>\n<p>3</p>\n"},{"tags":[],"owner":{"account_id":4317517,"reputation":216,"user_id":3526891,"display_name":"Singh123"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1575446382,"creation_date":1575446382,"answer_id":59171365,"question_id":157944,"body_markdown":"Below code seems nice way of doing this.\r\n\r\n    new ArrayList&lt;T&gt;(Arrays.asList(myArray));","title":"Create ArrayList from array","body":"<p>Below code seems nice way of doing this.</p>\n\n<pre><code>new ArrayList&lt;T&gt;(Arrays.asList(myArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16923030,"reputation":806,"user_id":12239357,"display_name":"Chris"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1700492393,"creation_date":1594023236,"answer_id":62751877,"question_id":157944,"body_markdown":"Hi you can use this **`line of code`** , and it&#39;s the **simplest way**\r\n\r\n    new ArrayList&lt;&gt;(Arrays.asList(myArray));\r\n\r\nor in case you use  **`Java 9`** you can also use this method:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;Java&quot;); \r\n    List&lt;Integer&gt; list = List.of(1, 2, 3);","title":"Create ArrayList from array","body":"<p>Hi you can use this <strong><code>line of code</code></strong> , and it's the <strong>simplest way</strong></p>\n<pre><code>new ArrayList&lt;&gt;(Arrays.asList(myArray));\n</code></pre>\n<p>or in case you use  <strong><code>Java 9</code></strong> you can also use this method:</p>\n<pre><code>List&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;Java&quot;); \nList&lt;Integer&gt; list = List.of(1, 2, 3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14422761,"reputation":687,"user_id":10418392,"display_name":"Sachintha Nayanajith"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700492425,"creation_date":1600946840,"answer_id":64045482,"question_id":157944,"body_markdown":"In java there are mainly 3 methods to convert an **array** to an **arrayList**\r\n\r\n 1. Using Arrays.asList() method : Pass the required array to this method and get a List object and pass it as a parameter to the constructor of the ArrayList class.\r\n\r\n        List&lt;String&gt; list = Arrays.asList(array);                   \r\n        System.out.println(list);\r\n\r\n2. Collections.addAll() method - Create a new list before using this method and then add array elements using this method to existing list.\r\n\r\n       List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n       Collections.addAll(list1, array);\r\n       System.out.println(list1);\r\n\r\n3. Iteration method - Create a new list. Iterate the array and add each element to the list.\r\n\r\n       List&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\r\n       for(String text:array) {\r\n           list2.add(text);\r\n       }\r\n       System.out.println(list2);\r\n\r\nyou can refer [this document][1] too\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/Conversion-of-Array-To-ArrayList-in-Java","title":"Create ArrayList from array","body":"<p>In java there are mainly 3 methods to convert an <strong>array</strong> to an <strong>arrayList</strong></p>\n<ol>\n<li><p>Using Arrays.asList() method : Pass the required array to this method and get a List object and pass it as a parameter to the constructor of the ArrayList class.</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(array);                   \nSystem.out.println(list);\n</code></pre>\n</li>\n<li><p>Collections.addAll() method - Create a new list before using this method and then add array elements using this method to existing list.</p>\n<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\nCollections.addAll(list1, array);\nSystem.out.println(list1);\n</code></pre>\n</li>\n<li><p>Iteration method - Create a new list. Iterate the array and add each element to the list.</p>\n<pre><code>List&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\nfor(String text:array) {\n    list2.add(text);\n}\nSystem.out.println(list2);\n</code></pre>\n</li>\n</ol>\n<p>you can refer <a href=\"https://www.tutorialspoint.com/Conversion-of-Array-To-ArrayList-in-Java\" rel=\"nofollow noreferrer\">this document</a> too</p>\n"},{"tags":[],"owner":{"account_id":10131694,"reputation":1907,"user_id":7484853,"display_name":"Hasee Amarathunga"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700492459,"creation_date":1603254277,"answer_id":64456660,"question_id":157944,"body_markdown":"You can use the following 3 ways to create ArrayList from Array.\r\n\r\n    String[] array = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;};\r\n\r\n    //Method 1\r\n    List&lt;String&gt; list = Arrays.asList(array);          \r\n    \r\n    //Method 2\r\n    List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n    Collections.addAll(list1, array);\r\n    \r\n    //Method 3\r\n    List&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\r\n    for(String text:array) {\r\n       list2.add(text);\r\n    }","title":"Create ArrayList from array","body":"<p>You can use the following 3 ways to create ArrayList from Array.</p>\n<pre><code>String[] array = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;};\n\n//Method 1\nList&lt;String&gt; list = Arrays.asList(array);          \n\n//Method 2\nList&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\nCollections.addAll(list1, array);\n\n//Method 3\nList&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\nfor(String text:array) {\n   list2.add(text);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19948660,"reputation":710,"user_id":14618789,"display_name":"Lakindu Hewawasam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605584368,"creation_date":1605584368,"answer_id":64869020,"question_id":157944,"body_markdown":"There is one more way that you can use to convert the array into an ArrayList. You can iterate over the array and insert each index into the ArrayList and return it back as in ArrayList. \r\n\r\nThis is shown below. \r\n\r\n    public static void main(String[] args) {\r\n            String[] array = {new String(&quot;David&quot;), new String(&quot;John&quot;), new String(&quot;Mike&quot;)};\r\n    \r\n            ArrayList&lt;String&gt; theArrayList = convertToArrayList(array);\r\n        }\r\n    \r\n        private static ArrayList&lt;String&gt; convertToArrayList(String[] array) {\r\n            ArrayList&lt;String&gt; convertedArray = new ArrayList&lt;String&gt;();\r\n    \r\n            for (String element : array) {\r\n                convertedArray.add(element);\r\n            }\r\n    \r\n            return convertedArray;\r\n        }","title":"Create ArrayList from array","body":"<p>There is one more way that you can use to convert the array into an ArrayList. You can iterate over the array and insert each index into the ArrayList and return it back as in ArrayList.</p>\n<p>This is shown below.</p>\n<pre><code>public static void main(String[] args) {\n        String[] array = {new String(&quot;David&quot;), new String(&quot;John&quot;), new String(&quot;Mike&quot;)};\n\n        ArrayList&lt;String&gt; theArrayList = convertToArrayList(array);\n    }\n\n    private static ArrayList&lt;String&gt; convertToArrayList(String[] array) {\n        ArrayList&lt;String&gt; convertedArray = new ArrayList&lt;String&gt;();\n\n        for (String element : array) {\n            convertedArray.add(element);\n        }\n\n        return convertedArray;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11287994,"reputation":144,"user_id":8278152,"display_name":"Sandip Jangra"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700492404,"creation_date":1605703557,"answer_id":64893424,"question_id":157944,"body_markdown":"For normal size arrays, above answers hold good. In case you have huge size of array and using java 8, you can do it using stream.\r\n\r\n    Element[] array = {new Element(1), new Element(2), new Element(3)};\r\n    List&lt;Element&gt; list = Arrays.stream(array).collect(Collectors.toList());\r\n\r\n","title":"Create ArrayList from array","body":"<p>For normal size arrays, above answers hold good. In case you have huge size of array and using java 8, you can do it using stream.</p>\n<pre><code>Element[] array = {new Element(1), new Element(2), new Element(3)};\nList&lt;Element&gt; list = Arrays.stream(array).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7453006,"reputation":883,"user_id":5667103,"accept_rate":60,"display_name":"Manifest Man"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1623850569,"creation_date":1623850098,"answer_id":68003652,"question_id":157944,"body_markdown":"You could also use **polymorphism** to declare the **ArrayList** while calling the **Arrays**-interface as following:\r\n\r\n`List&lt;Element&gt; arraylist = new ArrayList&lt;Integer&gt;(Arrays.asList(array));`\r\n\r\n**Example:**\r\n\r\n    Integer[] array = {1};    // autoboxing\r\n    List&lt;Integer&gt; arraylist = new ArrayList&lt;Integer&gt;(Arrays.asList(array));\r\n\r\nThis should work like a charm.","title":"Create ArrayList from array","body":"<p>You could also use <strong>polymorphism</strong> to declare the <strong>ArrayList</strong> while calling the <strong>Arrays</strong>-interface as following:</p>\n<p><code>List&lt;Element&gt; arraylist = new ArrayList&lt;Integer&gt;(Arrays.asList(array));</code></p>\n<p><strong>Example:</strong></p>\n<pre><code>Integer[] array = {1};    // autoboxing\nList&lt;Integer&gt; arraylist = new ArrayList&lt;Integer&gt;(Arrays.asList(array));\n</code></pre>\n<p>This should work like a charm.</p>\n"},{"tags":[],"owner":{"account_id":3504277,"reputation":41,"user_id":2930184,"display_name":"Edgar Civil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651867578,"creation_date":1651867578,"answer_id":72146838,"question_id":157944,"body_markdown":"With Stream (since java 16) \r\n\r\n`new ArrayList&lt;&gt;(Arrays.stream(array).toList());`\r\n","title":"Create ArrayList from array","body":"<p>With Stream (since java 16)</p>\n<p><code>new ArrayList&lt;&gt;(Arrays.stream(array).toList());</code></p>\n"},{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658373997,"creation_date":1653888983,"answer_id":72429562,"question_id":157944,"body_markdown":"I&#39;ve used the following helper method on occasions when I&#39;m creating a ton of ArrayLists and need terse syntax:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; AL(T ...a) {\r\n        return new ArrayList&lt;T&gt;(Arrays.asList(a));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        var al = AL(AL(1, 2, 3, 4), AL(AL(5, 6, 7), AL(8, 9)));\r\n        System.out.println(al); // =&gt; [[1, 2, 3, 4], [[5, 6, 7], [8, 9]]]\r\n    }\r\n}\r\n```\r\n\r\n[Guava uses the same approach](https://github.com/google/guava/blob/593b5963269abc2b32ee7f4d0bbc96d1539a7afa/guava/src/com/google/common/collect/Lists.java#L102) so `@SafeVarargs` appears to be safe here. See also [Java SafeVarargs annotation, does a standard or best practice exist?](https://stackoverflow.com/questions/14231037/java-safevarargs-annotation-does-a-standard-or-best-practice-exist).","title":"Create ArrayList from array","body":"<p>I've used the following helper method on occasions when I'm creating a ton of ArrayLists and need terse syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\nclass Main {\n\n    @SafeVarargs\n    public static &lt;T&gt; ArrayList&lt;T&gt; AL(T ...a) {\n        return new ArrayList&lt;T&gt;(Arrays.asList(a));\n    }\n\n    public static void main(String[] args) {\n        var al = AL(AL(1, 2, 3, 4), AL(AL(5, 6, 7), AL(8, 9)));\n        System.out.println(al); // =&gt; [[1, 2, 3, 4], [[5, 6, 7], [8, 9]]]\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/google/guava/blob/593b5963269abc2b32ee7f4d0bbc96d1539a7afa/guava/src/com/google/common/collect/Lists.java#L102\" rel=\"nofollow noreferrer\">Guava uses the same approach</a> so <code>@SafeVarargs</code> appears to be safe here. See also <a href=\"https://stackoverflow.com/questions/14231037/java-safevarargs-annotation-does-a-standard-or-best-practice-exist\">Java SafeVarargs annotation, does a standard or best practice exist?</a>.</p>\n"},{"tags":[],"owner":{"account_id":9424381,"reputation":62,"user_id":7009850,"display_name":"neha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662703144,"creation_date":1662382636,"answer_id":73609761,"question_id":157944,"body_markdown":"    Element[] array = {new Element(1), new Element(2), new Element(3)};\r\n    \r\n    List&lt;Element&gt; list = List.of(array);\r\n\r\n*or* \r\n\r\n    List&lt;Element&gt; list = Arrays.asList(array);\r\n\r\nboth ways we can convert it to a list.\r\n\r\n","title":"Create ArrayList from array","body":"<pre><code>Element[] array = {new Element(1), new Element(2), new Element(3)};\n\nList&lt;Element&gt; list = List.of(array);\n</code></pre>\n<p><em>or</em></p>\n<pre><code>List&lt;Element&gt; list = Arrays.asList(array);\n</code></pre>\n<p>both ways we can convert it to a list.</p>\n"}],"owner":{"account_id":717,"reputation":54118,"user_id":939,"accept_rate":81,"display_name":"Ron Tuffin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1826285,"favorite_count":0,"down_vote_count":7,"up_vote_count":4096,"accepted_answer_id":157950,"answer_count":42,"score":4089,"last_activity_date":1700492459,"creation_date":1222871912,"question_id":157944,"body_markdown":"```java\r\nElement[] array = {new Element(1), new Element(2), new Element(3)};\r\n```\r\n\r\nHow do I convert the above variable of type `Element[]` into a variable of type [`ArrayList&lt;Element&gt;`][1]?\r\n\r\n```java\r\nArrayList&lt;Element&gt; arrayList = ...;\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html","title":"Create ArrayList from array","body":"<pre class=\"lang-java prettyprint-override\"><code>Element[] array = {new Element(1), new Element(2), new Element(3)};\n</code></pre>\n<p>How do I convert the above variable of type <code>Element[]</code> into a variable of type <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList&lt;Element&gt;</code></a>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Element&gt; arrayList = ...;\n</code></pre>\n"},{"tags":["java","logging","log4j","testng","allure"],"answers":[{"tags":[],"owner":{"account_id":29191453,"reputation":1,"user_id":22363505,"display_name":"Ivan Patiuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691583772,"creation_date":1691583772,"answer_id":76867749,"question_id":76770435,"body_markdown":"You can use AllureLifecycle to modify your current test case / test step. Also, you can use listeners to modify the allure after test failed (e.g. TestNG listener).\r\n\r\n    @Log4j2\r\n    public class TestListener extends AllureTestNg {\r\n        @Override\r\n        public void onTestStart(ITestResult testResult) {\r\n            log.debug(&quot;Running test method: {}&quot;,testResult.getMethod().getMethodName());\r\n        }\r\n     }\r\n\r\n \r\nAlso you don&#39;t need to create logger instance, instead you can used annotation @Log4j or @Log4j2 above the class (but pay attention to the package).","title":"Log4j logs to show in allure report","body":"<p>You can use AllureLifecycle to modify your current test case / test step. Also, you can use listeners to modify the allure after test failed (e.g. TestNG listener).</p>\n<pre><code>@Log4j2\npublic class TestListener extends AllureTestNg {\n    @Override\n    public void onTestStart(ITestResult testResult) {\n        log.debug(&quot;Running test method: {}&quot;,testResult.getMethod().getMethodName());\n    }\n }\n</code></pre>\n<p>Also you don't need to create logger instance, instead you can used annotation @Log4j or @Log4j2 above the class (but pay attention to the package).</p>\n"},{"tags":[],"owner":{"account_id":10608508,"reputation":158,"user_id":7940542,"display_name":"Dzmitry Sankouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700492372,"creation_date":1700492372,"answer_id":77516889,"question_id":76770435,"body_markdown":"You can configure log4j to also log to a separate file per test, then attach whole file to the report.\r\n\r\nStep by step setup:\r\n- add routing appender to log4j2 configuration:\r\n```yaml\r\n    Routing:\r\n      - name: Test\r\n        Routes:\r\n          pattern: &#39;$${ctx:uuid}&#39;\r\n          Route:\r\n            RollingFile:\r\n              immediateFlush: true\r\n              append: false\r\n              name: &#39;RollingFile-${ctx:uuid}&#39;\r\n              fileName: &#39;${logDir}/test-${ctx:uuid}.log&#39;\r\n              filePattern: &#39;${logDir}/%d{yyyy-MM-dd}/archived_%d{HH-mm}-${ctx:uuid}.log&#39;\r\n              PatternLayout:\r\n                pattern: &#39;%d{HH:mm:ss:SSS} [%t] %-5level %logger{36} - %msg%n&#39;\r\n              Policies:\r\n                - OnStartupTriggeringPolicy\r\n```\r\n\r\n- create listener class\r\n\r\n```java\r\npublic class AllureTestListener implements TestLifecycleListener {\r\n    protected static final String LOG_PATH = &quot;build/logs/&quot;;\r\n    private static final ThreadLocal&lt;String&gt; TL_TEST_UUID = new ThreadLocal&lt;&gt;();\r\n    private static final String LOG_FILE_PATTERN = &quot;test-%s.log&quot;;\r\n    private final Logger LOGGER = LogManager.getLogger();\r\n\r\n    @Override\r\n    public void afterTestStart(TestResult result) {\r\n        startTestLogging();\r\n    }\r\n\r\n    @Override\r\n    public void beforeTestStop(TestResult result) {\r\n        stopTestLogging();\r\n    }\r\n\r\n    private void startTestLogging() {\r\n        TL_TEST_UUID.set(UUID.randomUUID().toString());\r\n        ThreadContext.put(&quot;uuid&quot;, TL_TEST_UUID.get());\r\n    }\r\n\r\n    private void stopTestLogging() {\r\n        ThreadContext.remove(&quot;uuid&quot;);\r\n\r\n        String logFileName = String.format(LOG_FILE_PATTERN, TL_TEST_UUID.get());\r\n        File logFile = Paths.get(LOG_PATH, logFileName).toFile();\r\n        addLogAttachment(logFile);\r\n    }\r\n\r\n    private void addLogAttachment(File logFile) {\r\n        try {\r\n            Allure.addAttachment(&quot;Log&quot;, new FileInputStream(\r\n                    logFile));\r\n        } catch (FileNotFoundException e) {\r\n            LOGGER.warn(String.format(&quot;There is no log file %s&quot;, logFile.getName()));\r\n        }\r\n    }\r\n}\r\n```\r\n- add listener to your listeners\r\n\r\nIn log4j2 configuration we have a routing appender, which logs to separate file per uuid context property. AllureTestListener controls uuid on per-thread basis(to support parallel tests run), by putting test uuid into TL_TEST_UUID thread-local variable in `afterTestStart` method. Then, before test stops, we remove that variable, and attach log file to the report.","title":"Log4j logs to show in allure report","body":"<p>You can configure log4j to also log to a separate file per test, then attach whole file to the report.</p>\n<p>Step by step setup:</p>\n<ul>\n<li>add routing appender to log4j2 configuration:</li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>    Routing:\n      - name: Test\n        Routes:\n          pattern: '$${ctx:uuid}'\n          Route:\n            RollingFile:\n              immediateFlush: true\n              append: false\n              name: 'RollingFile-${ctx:uuid}'\n              fileName: '${logDir}/test-${ctx:uuid}.log'\n              filePattern: '${logDir}/%d{yyyy-MM-dd}/archived_%d{HH-mm}-${ctx:uuid}.log'\n              PatternLayout:\n                pattern: '%d{HH:mm:ss:SSS} [%t] %-5level %logger{36} - %msg%n'\n              Policies:\n                - OnStartupTriggeringPolicy\n</code></pre>\n<ul>\n<li>create listener class</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class AllureTestListener implements TestLifecycleListener {\n    protected static final String LOG_PATH = &quot;build/logs/&quot;;\n    private static final ThreadLocal&lt;String&gt; TL_TEST_UUID = new ThreadLocal&lt;&gt;();\n    private static final String LOG_FILE_PATTERN = &quot;test-%s.log&quot;;\n    private final Logger LOGGER = LogManager.getLogger();\n\n    @Override\n    public void afterTestStart(TestResult result) {\n        startTestLogging();\n    }\n\n    @Override\n    public void beforeTestStop(TestResult result) {\n        stopTestLogging();\n    }\n\n    private void startTestLogging() {\n        TL_TEST_UUID.set(UUID.randomUUID().toString());\n        ThreadContext.put(&quot;uuid&quot;, TL_TEST_UUID.get());\n    }\n\n    private void stopTestLogging() {\n        ThreadContext.remove(&quot;uuid&quot;);\n\n        String logFileName = String.format(LOG_FILE_PATTERN, TL_TEST_UUID.get());\n        File logFile = Paths.get(LOG_PATH, logFileName).toFile();\n        addLogAttachment(logFile);\n    }\n\n    private void addLogAttachment(File logFile) {\n        try {\n            Allure.addAttachment(&quot;Log&quot;, new FileInputStream(\n                    logFile));\n        } catch (FileNotFoundException e) {\n            LOGGER.warn(String.format(&quot;There is no log file %s&quot;, logFile.getName()));\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>add listener to your listeners</li>\n</ul>\n<p>In log4j2 configuration we have a routing appender, which logs to separate file per uuid context property. AllureTestListener controls uuid on per-thread basis(to support parallel tests run), by putting test uuid into TL_TEST_UUID thread-local variable in <code>afterTestStart</code> method. Then, before test stops, we remove that variable, and attach log file to the report.</p>\n"}],"owner":{"account_id":28997226,"reputation":1,"user_id":22211603,"display_name":"abrakadabra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700492372,"creation_date":1690368197,"question_id":76770435,"body_markdown":"I&#39;m trying to show logj4 logs in allure report, there are different ways to do it and i want to find the best solution.\r\n\r\nAs an option I can create something like this:\r\n\r\n\r\n```\r\npublic class AllureLogger {\r\n    private static final Logger logger = LogManager.getLogger(AllureLogger.class);\r\n\r\n    public static void info(String message) {\r\n        logger.info(message);\r\n        attachLogToAllure(&quot;INFO: &quot; + message);\r\n    }\r\n\r\n    public static void error(String message) {\r\n        logger.error(message);\r\n        attachLogToAllure(&quot;ERROR: &quot; + message);\r\n    }\r\n\r\n    @Attachment(value = &quot;{logMessage}&quot;, type = &quot;text/plain&quot;)\r\n    private static String attachLogToAllure(String logMessage) {\r\n        return logMessage;\r\n    }\r\n}\r\n```\r\n\r\nBut maybe there are more appropriate ways to do it. I didn&#39;t find any libraries for log4j - allure integration.","title":"Log4j logs to show in allure report","body":"<p>I'm trying to show logj4 logs in allure report, there are different ways to do it and i want to find the best solution.</p>\n<p>As an option I can create something like this:</p>\n<pre><code>public class AllureLogger {\n    private static final Logger logger = LogManager.getLogger(AllureLogger.class);\n\n    public static void info(String message) {\n        logger.info(message);\n        attachLogToAllure(&quot;INFO: &quot; + message);\n    }\n\n    public static void error(String message) {\n        logger.error(message);\n        attachLogToAllure(&quot;ERROR: &quot; + message);\n    }\n\n    @Attachment(value = &quot;{logMessage}&quot;, type = &quot;text/plain&quot;)\n    private static String attachLogToAllure(String logMessage) {\n        return logMessage;\n    }\n}\n</code></pre>\n<p>But maybe there are more appropriate ways to do it. I didn't find any libraries for log4j - allure integration.</p>\n"},{"tags":["java","types","endianness"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1317457221,"post_id":7619058,"comment_id":9248503,"body_markdown":"How much *do* you understand about bit shifting? It sounds like the question is really &quot;what does bit shifting do&quot; more than about the conversion to byte arrays, really - if you actually want to understand how the conversion would work.","body":"How much <i>do</i> you understand about bit shifting? It sounds like the question is really &quot;what does bit shifting do&quot; more than about the conversion to byte arrays, really - if you actually want to understand how the conversion would work."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1317457313,"post_id":7619058,"comment_id":9248509,"body_markdown":"(Just to clarify, I&#39;m fine with either question, but it&#39;s worth making it clear *which* question you really want answered. You&#39;re likely to get an answer which is more useful to you that way.)","body":"(Just to clarify, I&#39;m fine with either question, but it&#39;s worth making it clear <i>which</i> question you really want answered. You&#39;re likely to get an answer which is more useful to you that way.)"},{"owner":{"account_id":320193,"reputation":7715,"user_id":638344,"accept_rate":75,"display_name":"Chris"},"score":0,"creation_date":1317558197,"post_id":7619058,"comment_id":9259378,"body_markdown":"Okay i got your point! Thanks for the remark. I know what bit shifting does i just didn&#39;t understand what its used for in converting byte arrays yet.","body":"Okay i got your point! Thanks for the remark. I know what bit shifting does i just didn&#39;t understand what its used for in converting byte arrays yet."},{"owner":{"account_id":320193,"reputation":7715,"user_id":638344,"accept_rate":75,"display_name":"Chris"},"score":3,"creation_date":1317558510,"post_id":7619058,"comment_id":9259433,"body_markdown":"@prekageo and Jeff Mercado Thanks for your two answers. prekageo gave a good explanation of how this is done, nice link! That makes it a lot clearer to me. And Jeff Mercados solution solved the problem i had.","body":"@prekageo and Jeff Mercado Thanks for your two answers. prekageo gave a good explanation of how this is done, nice link! That makes it a lot clearer to me. And Jeff Mercados solution solved the problem i had."}],"answers":[{"tags":[],"owner":{"account_id":487205,"reputation":358,"user_id":973041,"display_name":"prekageo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1317457500,"creation_date":1317457500,"answer_id":7619093,"question_id":7619058,"body_markdown":"A basic implementation would be something like this:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            int[] input = new int[] { 0x1234, 0x5678, 0x9abc };\r\n            byte[] output = new byte[input.length * 2];\r\n            \r\n            for (int i = 0, j = 0; i &lt; input.length; i++, j+=2) {\r\n                output[j] = (byte)(input[i] &amp; 0xff);\r\n                output[j+1] = (byte)((input[i] &gt;&gt; 8) &amp; 0xff);\r\n            }\r\n            \r\n            for (int i = 0; i &lt; output.length; i++)\r\n                System.out.format(&quot;%02x\\n&quot;,output[i]);\r\n        }\r\n    }\r\n\r\nIn order to understand things you can read this WP article: http://en.wikipedia.org/wiki/Endianness\r\n\r\nThe above source code will output `34 12 78 56 bc 9a`. The first 2 bytes (`34 12`) represent the first integer, etc. The above source code encodes integers in little endian format.","title":"Convert a byte array to integer in Java and vice versa","body":"<p>A basic implementation would be something like this:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        int[] input = new int[] { 0x1234, 0x5678, 0x9abc };\n        byte[] output = new byte[input.length * 2];\n\n        for (int i = 0, j = 0; i &lt; input.length; i++, j+=2) {\n            output[j] = (byte)(input[i] &amp; 0xff);\n            output[j+1] = (byte)((input[i] &gt;&gt; 8) &amp; 0xff);\n        }\n\n        for (int i = 0; i &lt; output.length; i++)\n            System.out.format(\"%02x\\n\",output[i]);\n    }\n}\n</code></pre>\n\n<p>In order to understand things you can read this WP article: <a href=\"http://en.wikipedia.org/wiki/Endianness\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Endianness</a></p>\n\n<p>The above source code will output <code>34 12 78 56 bc 9a</code>. The first 2 bytes (<code>34 12</code>) represent the first integer, etc. The above source code encodes integers in little endian format.</p>\n"},{"comments":[{"owner":{"account_id":13004715,"reputation":968,"user_id":9399618,"display_name":"Meow Cat 2012"},"score":4,"creation_date":1551495691,"post_id":7619111,"comment_id":96672058,"body_markdown":"Is it too expensive if the byte array contains only 1 or 2 integer? Not sure about the cost constructing a `ByteBuffer`.","body":"Is it too expensive if the byte array contains only 1 or 2 integer? Not sure about the cost constructing a <code>ByteBuffer</code>."},{"owner":{"account_id":166270,"reputation":130922,"user_id":390278,"accept_rate":86,"display_name":"Jeff Mercado"},"score":0,"creation_date":1557721569,"post_id":7619111,"comment_id":98845320,"body_markdown":"How often are you working with binary data in 2-4 byte chunks? Really? A sane implementation would either work with it in BUFSIZ chunks (typically 4kb) or use other IO libraries that hides this detail. There&#39;s an entire library within the framework that&#39;s dedicated to help you work on buffers of data. You do a disservice to yourself and other maintainers of your code when you implement common operations without good reason (be it perf or other critical operation). These buffers are merely wrappers that operates on arrays, nothing more.","body":"How often are you working with binary data in 2-4 byte chunks? Really? A sane implementation would either work with it in BUFSIZ chunks (typically 4kb) or use other IO libraries that hides this detail. There&#39;s an entire library within the framework that&#39;s dedicated to help you work on buffers of data. You do a disservice to yourself and other maintainers of your code when you implement common operations without good reason (be it perf or other critical operation). These buffers are merely wrappers that operates on arrays, nothing more."},{"owner":{"display_name":"user9599745"},"score":0,"creation_date":1564614827,"post_id":7619111,"comment_id":101093541,"body_markdown":"How come you can instantiate an abstract class?","body":"How come you can instantiate an abstract class?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1576674198,"post_id":7619111,"comment_id":104974870,"body_markdown":"@JaveneCPPMcGowan There is no direct instantiation present in this answer. If  you mean the factory methods `wrap` and `allocate`, they don&#39;t return an instance of the abstract class `ByteBuffer`.","body":"@JaveneCPPMcGowan There is no direct instantiation present in this answer. If  you mean the factory methods <code>wrap</code> and <code>allocate</code>, they don&#39;t return an instance of the abstract class <code>ByteBuffer</code>."},{"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"score":0,"creation_date":1592033490,"post_id":7619111,"comment_id":110283795,"body_markdown":"Not a solution for 3 byte stride. We can get `Char`, `Short`, `Int`. I suppose I could pad to 4 bytes and discard the 4th each time, but I would rather not.","body":"Not a solution for 3 byte stride. We can get <code>Char</code>, <code>Short</code>, <code>Int</code>. I suppose I could pad to 4 bytes and discard the 4th each time, but I would rather not."},{"owner":{"account_id":166270,"reputation":130922,"user_id":390278,"accept_rate":86,"display_name":"Jeff Mercado"},"score":0,"creation_date":1592033877,"post_id":7619111,"comment_id":110283886,"body_markdown":"@John: Well you can only really work with builtin types using this approach. A 3-byte integral type is definitely non-standard. But you can still work with it this way like you can any mainstream language. You just need to read smaller portions of the data and bit-manipulate it to your desired value.","body":"@John: Well you can only really work with builtin types using this approach. A 3-byte integral type is definitely non-standard. But you can still work with it this way like you can any mainstream language. You just need to read smaller portions of the data and bit-manipulate it to your desired value."}],"tags":[],"owner":{"account_id":166270,"reputation":130922,"user_id":390278,"accept_rate":86,"display_name":"Jeff Mercado"},"comment_count":6,"down_vote_count":4,"up_vote_count":265,"is_accepted":true,"score":261,"last_activity_date":1317458191,"creation_date":1317457753,"answer_id":7619111,"question_id":7619058,"body_markdown":"Use the classes found in the [`java.nio`](http://download.oracle.com/javase/6/docs/api/java/nio/package-frame.html) namespace, in particular, the [`ByteBuffer`](http://download.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html).  It can do all the work for you.\r\n\r\n    byte[] arr = { 0x00, 0x01 };\r\n    ByteBuffer wrapped = ByteBuffer.wrap(arr); // big-endian by default\r\n    short num = wrapped.getShort(); // 1\r\n\r\n    ByteBuffer dbuf = ByteBuffer.allocate(2);\r\n    dbuf.putShort(num);\r\n    byte[] bytes = dbuf.array(); // { 0, 1 }\r\n","title":"Convert a byte array to integer in Java and vice versa","body":"<p>Use the classes found in the <a href=\"http://download.oracle.com/javase/6/docs/api/java/nio/package-frame.html\" rel=\"noreferrer\"><code>java.nio</code></a> namespace, in particular, the <a href=\"http://download.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html\" rel=\"noreferrer\"><code>ByteBuffer</code></a>.  It can do all the work for you.</p>\n\n<pre><code>byte[] arr = { 0x00, 0x01 };\nByteBuffer wrapped = ByteBuffer.wrap(arr); // big-endian by default\nshort num = wrapped.getShort(); // 1\n\nByteBuffer dbuf = ByteBuffer.allocate(2);\ndbuf.putShort(num);\nbyte[] bytes = dbuf.array(); // { 0, 1 }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":32915,"reputation":10482,"user_id":1038182,"accept_rate":78,"display_name":"Ori Popowski"},"score":0,"creation_date":1394396404,"post_id":7619315,"comment_id":33860078,"body_markdown":"I think the `&amp; 0xFF`s are unnecessary.","body":"I think the <code>&amp; 0xFF</code>s are unnecessary."},{"owner":{"account_id":284283,"reputation":1417,"user_id":582298,"accept_rate":85,"display_name":"coderforlife"},"score":13,"creation_date":1406659443,"post_id":7619315,"comment_id":38913471,"body_markdown":"@LeifEricson I believe the `&amp; 0xFF`s are necessary as it tells the JVM to convert the signed byte into an integer with just those bits set. Otherwise the byte -1 (0xFF) will turn into the int -1 (0xFFFFFFFF). I could be wrong and even if I am it doesn&#39;t hurt and makes things clearer.","body":"@LeifEricson I believe the <code>&amp; 0xFF</code>s are necessary as it tells the JVM to convert the signed byte into an integer with just those bits set. Otherwise the byte -1 (0xFF) will turn into the int -1 (0xFFFFFFFF). I could be wrong and even if I am it doesn&#39;t hurt and makes things clearer."},{"owner":{"account_id":1560590,"reputation":2246,"user_id":1450537,"display_name":"HBN"},"score":4,"creation_date":1417888486,"post_id":7619315,"comment_id":43126243,"body_markdown":"&amp; 0xFF is mandatory indeed.  \n`byte b = 0;  \nb |= 0x88;  \nSystem.out.println(Integer.toString(b, 16)); //Output: -78  \nSystem.out.println(Integer.toString(b &amp; 0xFF, 16)); //Output: 88`","body":"&amp; 0xFF is mandatory indeed.   <code>byte b = 0;   b |= 0x88;   System.out.println(Integer.toString(b, 16)); &#47;&#47;Output: -78   System.out.println(Integer.toString(b &amp; 0xFF, 16)); &#47;&#47;Output: 88</code>"},{"owner":{"account_id":1989676,"reputation":950,"user_id":1784003,"accept_rate":100,"display_name":"barwnikk"},"score":0,"creation_date":1420581413,"post_id":7619315,"comment_id":44024772,"body_markdown":"Ej, to jest Polak! :D","body":"Ej, to jest Polak! :D"},{"owner":{"account_id":3921336,"reputation":794,"user_id":3243365,"accept_rate":50,"display_name":"ptntialunrlsd"},"score":0,"creation_date":1446531736,"post_id":7619315,"comment_id":54769503,"body_markdown":"Is it that, `&amp; 0xFF`s are converting the signed byte to the unsigned byte?","body":"Is it that, <code>&amp; 0xFF</code>s are converting the signed byte to the unsigned byte?"},{"owner":{"account_id":4317888,"reputation":638,"user_id":3527156,"accept_rate":100,"display_name":"Nier"},"score":1,"creation_date":1458790505,"post_id":7619315,"comment_id":60020141,"body_markdown":"@ptntialunrlsd Not actually. Before you performing **&amp;** operation on `byte` with 0xFF (`int`), JVM will cast the `byte` to `int` with **1 extended** or **0 extended** according the the leading bit first. There&#39;s no **unsigned byte** in Java, `byte`s are always signed.","body":"@ptntialunrlsd Not actually. Before you performing <b>&amp;</b> operation on <code>byte</code> with 0xFF (<code>int</code>), JVM will cast the <code>byte</code> to <code>int</code> with <b>1 extended</b> or <b>0 extended</b> according the the leading bit first. There&#39;s no <b>unsigned byte</b> in Java, <code>byte</code>s are always signed."},{"owner":{"account_id":2041853,"reputation":990,"user_id":1822803,"accept_rate":85,"display_name":"Bin"},"score":2,"creation_date":1493966774,"post_id":7619315,"comment_id":74636539,"body_markdown":"When parse int from byte array, pay attention to the size of the byte array, if it&#39;s greater than 4 bytes, according to the doc of `ByteBuffer.getInt()` : `Reads the next four bytes at this buffer&#39;s current position` ,  only the first 4 bytes will be parsed, which should not be what you want.","body":"When parse int from byte array, pay attention to the size of the byte array, if it&#39;s greater than 4 bytes, according to the doc of <code>ByteBuffer.getInt()</code> : <code>Reads the next four bytes at this buffer&#39;s current position</code> ,  only the first 4 bytes will be parsed, which should not be what you want."},{"owner":{"account_id":1816354,"reputation":617,"user_id":1651361,"display_name":"GreenhouseVeg"},"score":0,"creation_date":1531227408,"post_id":7619315,"comment_id":89509581,"body_markdown":"To complement [Bin&#39;s comment](https://stackoverflow.com/questions/7619058/convert-a-byte-array-to-integer-in-java-and-vice-versa/7619111#comment74636539_7619315) - if the bytes array has less than 2 bytes, adjust the code accordingly, i.e. make sure to allocate enough capacity and fill buffer&#39;s left-most positions with zeroes. For source array `byte[] int257 = {1,1};` running `ByteBuffer bb = ByteBuffer.allocate(4); bb.put(int257); bb.getInt(0)` will gives you 16842752 while `ByteBuffer bb = ByteBuffer.allocate(4); bb.put((byte)0); bb.put((byte)0); bb.put(int257); bb.getInt(0)` gives 257.","body":"To complement <a href=\"https://stackoverflow.com/questions/7619058/convert-a-byte-array-to-integer-in-java-and-vice-versa/7619111#comment74636539_7619315\">Bin&#39;s comment</a> - if the bytes array has less than 2 bytes, adjust the code accordingly, i.e. make sure to allocate enough capacity and fill buffer&#39;s left-most positions with zeroes. For source array <code>byte[] int257 = {1,1};</code> running <code>ByteBuffer bb = ByteBuffer.allocate(4); bb.put(int257); bb.getInt(0)</code> will gives you 16842752 while <code>ByteBuffer bb = ByteBuffer.allocate(4); bb.put((byte)0); bb.put((byte)0); bb.put(int257); bb.getInt(0)</code> gives 257."}],"tags":[],"owner":{"account_id":111215,"reputation":4304,"user_id":293933,"display_name":"Jarek Przyg&#243;dzki"},"comment_count":8,"down_vote_count":0,"up_vote_count":157,"is_accepted":false,"score":157,"last_activity_date":1561156864,"creation_date":1317460719,"answer_id":7619315,"question_id":7619058,"body_markdown":"    byte[] toByteArray(int value) {\r\n         return  ByteBuffer.allocate(4).putInt(value).array();\r\n    }\r\n\r\n    byte[] toByteArray(int value) {\r\n        return new byte[] { \r\n    \t    (byte)(value &gt;&gt; 24),\r\n    \t    (byte)(value &gt;&gt; 16),\r\n    \t    (byte)(value &gt;&gt; 8),\r\n    \t    (byte)value };\r\n    }\r\n\r\n    int fromByteArray(byte[] bytes) {\r\n         return ByteBuffer.wrap(bytes).getInt();\r\n    }\r\n    // packing an array of 4 bytes to an int, big endian, minimal parentheses\r\n    // operator precedence: &lt;&lt;, &amp;, | \r\n    // when operators of equal precedence (here bitwise OR) appear in the same expression, they are evaluated from left to right\r\n    int fromByteArray(byte[] bytes) {\r\n         return bytes[0] &lt;&lt; 24 | (bytes[1] &amp; 0xFF) &lt;&lt; 16 | (bytes[2] &amp; 0xFF) &lt;&lt; 8 | (bytes[3] &amp; 0xFF);\r\n    }\r\n\r\n    // packing an array of 4 bytes to an int, big endian, clean code\r\n    int fromByteArray(byte[] bytes) {\r\n         return ((bytes[0] &amp; 0xFF) &lt;&lt; 24) | \r\n                ((bytes[1] &amp; 0xFF) &lt;&lt; 16) | \r\n                ((bytes[2] &amp; 0xFF) &lt;&lt; 8 ) | \r\n                ((bytes[3] &amp; 0xFF) &lt;&lt; 0 );\r\n    }\r\n\r\n      \r\nWhen packing signed bytes into an int, each byte needs to be masked off because it is sign-extended to 32 bits (rather than zero-extended) due to the arithmetic promotion rule (described in JLS, Conversions and Promotions).\r\n\r\nThere&#39;s an interesting puzzle related to this described in Java Puzzlers (&quot;A Big Delight in Every Byte&quot;) by Joshua Bloch and Neal Gafter . When comparing a byte value to an int value, the byte is sign-extended to an int and then this value is compared to the other int\r\n\r\n    byte[] bytes = ()\r\n    if (bytes[0] == 0xFF) {\r\n       // dead code, bytes[0] is in the range [-128,127] and thus never equal to 255\r\n    }\r\n\r\nNote that all numeric types are signed in Java with exception to char being a 16-bit unsigned integer type.","title":"Convert a byte array to integer in Java and vice versa","body":"<pre><code>byte[] toByteArray(int value) {\n     return  ByteBuffer.allocate(4).putInt(value).array();\n}\n\nbyte[] toByteArray(int value) {\n    return new byte[] { \n        (byte)(value &gt;&gt; 24),\n        (byte)(value &gt;&gt; 16),\n        (byte)(value &gt;&gt; 8),\n        (byte)value };\n}\n\nint fromByteArray(byte[] bytes) {\n     return ByteBuffer.wrap(bytes).getInt();\n}\n// packing an array of 4 bytes to an int, big endian, minimal parentheses\n// operator precedence: &lt;&lt;, &amp;, | \n// when operators of equal precedence (here bitwise OR) appear in the same expression, they are evaluated from left to right\nint fromByteArray(byte[] bytes) {\n     return bytes[0] &lt;&lt; 24 | (bytes[1] &amp; 0xFF) &lt;&lt; 16 | (bytes[2] &amp; 0xFF) &lt;&lt; 8 | (bytes[3] &amp; 0xFF);\n}\n\n// packing an array of 4 bytes to an int, big endian, clean code\nint fromByteArray(byte[] bytes) {\n     return ((bytes[0] &amp; 0xFF) &lt;&lt; 24) | \n            ((bytes[1] &amp; 0xFF) &lt;&lt; 16) | \n            ((bytes[2] &amp; 0xFF) &lt;&lt; 8 ) | \n            ((bytes[3] &amp; 0xFF) &lt;&lt; 0 );\n}\n</code></pre>\n\n<p>When packing signed bytes into an int, each byte needs to be masked off because it is sign-extended to 32 bits (rather than zero-extended) due to the arithmetic promotion rule (described in JLS, Conversions and Promotions).</p>\n\n<p>There's an interesting puzzle related to this described in Java Puzzlers (\"A Big Delight in Every Byte\") by Joshua Bloch and Neal Gafter . When comparing a byte value to an int value, the byte is sign-extended to an int and then this value is compared to the other int</p>\n\n<pre><code>byte[] bytes = ()\nif (bytes[0] == 0xFF) {\n   // dead code, bytes[0] is in the range [-128,127] and thus never equal to 255\n}\n</code></pre>\n\n<p>Note that all numeric types are signed in Java with exception to char being a 16-bit unsigned integer type.</p>\n"},{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1595723667,"post_id":17981098,"comment_id":111573155,"body_markdown":"Note that since 1.8, it&#39;s `intValueExact`, not `intValue`","body":"Note that since 1.8, it&#39;s <code>intValueExact</code>, not <code>intValue</code>"}],"tags":[],"owner":{"account_id":1741376,"reputation":4555,"user_id":1592679,"accept_rate":60,"display_name":"Jamel Toms"},"comment_count":1,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1675958697,"creation_date":1375305216,"answer_id":17981098,"question_id":7619058,"body_markdown":"You can also use BigInteger for variable length bytes. You can convert it to long, int or short, whichever suits your needs.\r\n\r\n    new BigInteger(bytes).intValue();\r\n\r\nor to denote polarity:\r\n\r\n    new BigInteger(1, bytes).intValue();\r\n\r\nTo get bytes back just:\r\n\r\n    new BigInteger(bytes).toByteArray()\r\n\r\nAlthough simple, I just wanted to point out that if you run this many times in a loop, this could lead to a lot of garbage collection. This may be a concern depending on your use case.","title":"Convert a byte array to integer in Java and vice versa","body":"<p>You can also use BigInteger for variable length bytes. You can convert it to long, int or short, whichever suits your needs.</p>\n<pre><code>new BigInteger(bytes).intValue();\n</code></pre>\n<p>or to denote polarity:</p>\n<pre><code>new BigInteger(1, bytes).intValue();\n</code></pre>\n<p>To get bytes back just:</p>\n<pre><code>new BigInteger(bytes).toByteArray()\n</code></pre>\n<p>Although simple, I just wanted to point out that if you run this many times in a loop, this could lead to a lot of garbage collection. This may be a concern depending on your use case.</p>\n"},{"comments":[{"owner":{"account_id":1337360,"reputation":1556,"user_id":1279761,"accept_rate":50,"display_name":"disklosr"},"score":0,"creation_date":1399625598,"post_id":23203438,"comment_id":36151536,"body_markdown":"This is wrong. Consider the byte 0x01. Your method will output 129 which is wrong. 0x01 should output the integer 1. You should only add 128 if the integer that you get from parseInt is negative.","body":"This is wrong. Consider the byte 0x01. Your method will output 129 which is wrong. 0x01 should output the integer 1. You should only add 128 if the integer that you get from parseInt is negative."},{"owner":{"account_id":1337360,"reputation":1556,"user_id":1279761,"accept_rate":50,"display_name":"disklosr"},"score":0,"creation_date":1399626099,"post_id":23203438,"comment_id":36151812,"body_markdown":"I meant you should add 256 not 128. Couldn&#39;t edit it afterwards.","body":"I meant you should add 256 not 128. Couldn&#39;t edit it afterwards."},{"owner":{"account_id":3714051,"reputation":3074,"user_id":3090678,"accept_rate":75,"display_name":"apmartin1991"},"score":0,"creation_date":1424082106,"post_id":23203438,"comment_id":45392283,"body_markdown":"changed post to add the 256 as it may be useful to others!","body":"changed post to add the 256 as it may be useful to others!"},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1443732544,"post_id":23203438,"comment_id":53622520,"body_markdown":"This does a lot of casting and create new objects (think doing this on for loops) that can degrade the performance, please check the Integer.toString() method for hints about how to parse numbers.","body":"This does a lot of casting and create new objects (think doing this on for loops) that can degrade the performance, please check the Integer.toString() method for hints about how to parse numbers."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1577705121,"post_id":23203438,"comment_id":105229602,"body_markdown":"also, when posting code on stackoverflow the point is to post code that easily makes sense. Code that easily makes sense must have *understandable* identifiers. And on stackoverflow, *understandable* necessarily means *in English*.","body":"also, when posting code on stackoverflow the point is to post code that easily makes sense. Code that easily makes sense must have <i>understandable</i> identifiers. And on stackoverflow, <i>understandable</i> necessarily means <i>in English</i>."}],"tags":[],"owner":{"account_id":3378082,"reputation":91,"user_id":2835819,"display_name":"Angel Salvador Ayala Ochoa"},"comment_count":5,"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1424084897,"creation_date":1398104923,"answer_id":23203438,"question_id":7619058,"body_markdown":"i think this is a best mode to cast to int\r\n\r\n\r\n       public int ByteToint(Byte B){\r\n            String comb;\r\n            int out=0;\r\n            comb=B+&quot;&quot;;\r\n            salida= Integer.parseInt(comb);\r\n            out=out+128;\r\n            return out;\r\n        }\r\nfirst comvert byte to String \r\n\r\n    comb=B+&quot;&quot;;\r\nnext step is comvert to a int\r\n\r\n    out= Integer.parseInt(comb);\r\nbut byte is in rage of -128 to 127 for this reasone, i think is better use rage 0 to 255 and you only need to do this:\r\n\r\n    out=out+256;\r\n","title":"Convert a byte array to integer in Java and vice versa","body":"<p>i think this is a best mode to cast to int</p>\n\n<pre><code>   public int ByteToint(Byte B){\n        String comb;\n        int out=0;\n        comb=B+\"\";\n        salida= Integer.parseInt(comb);\n        out=out+128;\n        return out;\n    }\n</code></pre>\n\n<p>first comvert byte to String </p>\n\n<pre><code>comb=B+\"\";\n</code></pre>\n\n<p>next step is comvert to a int</p>\n\n<pre><code>out= Integer.parseInt(comb);\n</code></pre>\n\n<p>but byte is in rage of -128 to 127 for this reasone, i think is better use rage 0 to 255 and you only need to do this:</p>\n\n<pre><code>out=out+256;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6779285,"reputation":51,"user_id":5220182,"display_name":"Dhaval Rami"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1443732110,"creation_date":1443732110,"answer_id":32896502,"question_id":7619058,"body_markdown":"    /** length should be less than 4 (for int) **/\r\n    public long byteToInt(byte[] bytes, int length) {\r\n\t\t\tint val = 0;\r\n            if(length&gt;4) throw new RuntimeException(&quot;Too big to fit in int&quot;);\r\n\t\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\t    val=val&lt;&lt;8;\r\n\t\t\t    val=val|(bytes[i] &amp; 0xFF);\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t}","title":"Convert a byte array to integer in Java and vice versa","body":"<pre><code>/** length should be less than 4 (for int) **/\npublic long byteToInt(byte[] bytes, int length) {\n        int val = 0;\n        if(length&gt;4) throw new RuntimeException(\"Too big to fit in int\");\n        for (int i = 0; i &lt; length; i++) {\n            val=val&lt;&lt;8;\n            val=val|(bytes[i] &amp; 0xFF);\n        }\n        return val;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531934491,"creation_date":1531934491,"answer_id":51407737,"question_id":7619058,"body_markdown":"Someone with a requirement where they have to read from bits, lets say you have to read from only 3 bits but you need signed integer then use following:\r\n\r\n    data is of type: java.util.BitSet\r\n\r\n    new BigInteger(data.toByteArray).intValue() &lt;&lt; 32 - 3 &gt;&gt; 32 - 3\r\n\r\nThe magic number `3` can be replaced with the number of **bits (not bytes)** you are using.","title":"Convert a byte array to integer in Java and vice versa","body":"<p>Someone with a requirement where they have to read from bits, lets say you have to read from only 3 bits but you need signed integer then use following:</p>\n\n<pre><code>data is of type: java.util.BitSet\n\nnew BigInteger(data.toByteArray).intValue() &lt;&lt; 32 - 3 &gt;&gt; 32 - 3\n</code></pre>\n\n<p>The magic number <code>3</code> can be replaced with the number of <strong>bits (not bytes)</strong> you are using.</p>\n"},{"tags":[],"owner":{"account_id":966469,"reputation":1001,"user_id":989827,"accept_rate":40,"display_name":"jeremie"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590093970,"creation_date":1590093970,"answer_id":61943568,"question_id":7619058,"body_markdown":"As often, **guava** has what you need. \r\n\r\nTo go from byte array to int: `Ints.fromBytesArray`, doc [here][1] \r\n\r\nTo go from int to byte array: `Ints.toByteArray`, doc [here][2] \r\n\r\n\r\n  [1]: https://guava.dev/releases/19.0/api/docs/com/google/common/primitives/Ints.html#fromByteArray(byte[])\r\n  [2]:\r\nhttps://guava.dev/releases/19.0/api/docs/com/google/common/primitives/Ints.html#toByteArray(int)","title":"Convert a byte array to integer in Java and vice versa","body":"<p>As often, <strong>guava</strong> has what you need. </p>\n\n<p>To go from byte array to int: <code>Ints.fromBytesArray</code>, doc <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/primitives/Ints.html#fromByteArray(byte[])\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>To go from int to byte array: <code>Ints.toByteArray</code>, doc <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/primitives/Ints.html#toByteArray(int)\" rel=\"nofollow noreferrer\">here</a> </p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1700907127,"post_id":77516857,"comment_id":136711450,"body_markdown":"Much simpler solution than the existing ones!","body":"Much simpler solution than the existing ones!"}],"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700492148,"creation_date":1700492148,"answer_id":77516857,"question_id":7619058,"body_markdown":"Without using any external or obscure library or applying bitwise magic (bit difficult to read), you can use [`ByteArrayOutputStream`][1] combined with [`DataOutputStream`][2] to write an `int` into the stream like this using it&#39;s `writeInt(int)` method:\r\n\r\n```Java\r\n// assuming num is of type int that we want to convert into byte[]\r\nByteArrayOutputStream bos = new ByteArrayOutputStream();\r\nDataOutputStream dos = new DataOutputStream(bos);\r\ndos.writeInt(num);\r\nbyte[] intBytes = bos.toByteArray();\r\nbos.close();\r\n```\r\n\r\nSimilarly use [`ByteArrayInputStream`][3] combined with [`DataInputStream`][4] to read an int from the stream like this using it&#39;s `int readInt()` method:\r\n\r\n```Java\r\n// assuming byteArr is of type byte[] that contains a number we need to read\r\nByteArrayInputStream bis = new ByteArrayInputStream(byteArr);\r\nDataInputStream dis = new DataInputStream(bis);\r\nint num = dis.readInt();\r\nbis.close();\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayOutputStream.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInputStream.html","title":"Convert a byte array to integer in Java and vice versa","body":"<p>Without using any external or obscure library or applying bitwise magic (bit difficult to read), you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayOutputStream.html\" rel=\"nofollow noreferrer\"><code>ByteArrayOutputStream</code></a> combined with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html\" rel=\"nofollow noreferrer\"><code>DataOutputStream</code></a> to write an <code>int</code> into the stream like this using it's <code>writeInt(int)</code> method:</p>\n<pre><code>// assuming num is of type int that we want to convert into byte[]\nByteArrayOutputStream bos = new ByteArrayOutputStream();\nDataOutputStream dos = new DataOutputStream(bos);\ndos.writeInt(num);\nbyte[] intBytes = bos.toByteArray();\nbos.close();\n</code></pre>\n<p>Similarly use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html\" rel=\"nofollow noreferrer\"><code>ByteArrayInputStream</code></a> combined with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInputStream.html\" rel=\"nofollow noreferrer\"><code>DataInputStream</code></a> to read an int from the stream like this using it's <code>int readInt()</code> method:</p>\n<pre><code>// assuming byteArr is of type byte[] that contains a number we need to read\nByteArrayInputStream bis = new ByteArrayInputStream(byteArr);\nDataInputStream dis = new DataInputStream(bis);\nint num = dis.readInt();\nbis.close();\n</code></pre>\n"}],"owner":{"account_id":320193,"reputation":7715,"user_id":638344,"accept_rate":75,"display_name":"Chris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382863,"favorite_count":0,"down_vote_count":0,"up_vote_count":172,"accepted_answer_id":7619111,"answer_count":9,"score":172,"last_activity_date":1700492148,"creation_date":1317456930,"question_id":7619058,"body_markdown":"I want to store some data into byte arrays in Java. Basically just numbers which can take up to 2 Bytes per number.\r\n\r\nI&#39;d like to know how I can convert an integer into a 2 byte long byte array and vice versa. I found a lot of solutions googling but most of them don&#39;t explain what happens in the code. There&#39;s a lot of shifting stuff I don&#39;t really understand so I would appreciate a basic explanation.","title":"Convert a byte array to integer in Java and vice versa","body":"<p>I want to store some data into byte arrays in Java. Basically just numbers which can take up to 2 Bytes per number.</p>\n\n<p>I'd like to know how I can convert an integer into a 2 byte long byte array and vice versa. I found a lot of solutions googling but most of them don't explain what happens in the code. There's a lot of shifting stuff I don't really understand so I would appreciate a basic explanation.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1159242,"reputation":2962,"user_id":1139105,"accept_rate":100,"display_name":"janniks"},"score":35,"creation_date":1580730643,"post_id":1200621,"comment_id":106181056,"body_markdown":"Before you post a new answer, consider there are already 25+ answers for this question. Please, make sure that your answer contributes information that is not among existing answers.","body":"Before you post a new answer, consider there are already 25+ answers for this question. Please, make sure that your answer contributes information that is not among existing answers."},{"owner":{"account_id":44650,"reputation":3746,"user_id":131157,"accept_rate":57,"display_name":"Babak"},"score":1,"creation_date":1608627810,"post_id":1200621,"comment_id":115634562,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":454024,"reputation":89,"user_id":851340,"accept_rate":12,"display_name":"Rahul Gupta"},"score":0,"creation_date":1621000565,"post_id":1200621,"comment_id":119370822,"body_markdown":"check this https://www.tutorialcup.com/java/how-to-return-an-array-in-java.htm","body":"check this <a href=\"https://www.tutorialcup.com/java/how-to-return-an-array-in-java.htm\" rel=\"nofollow noreferrer\">tutorialcup.com/java/how-to-return-an-array-in-java.htm</a>"},{"owner":{"account_id":454024,"reputation":89,"user_id":851340,"accept_rate":12,"display_name":"Rahul Gupta"},"score":0,"creation_date":1621172156,"post_id":1200621,"comment_id":119409321,"body_markdown":"https://www.tutorialcup.com/java/arrays-in-java.htm","body":"<a href=\"https://www.tutorialcup.com/java/arrays-in-java.htm\" rel=\"nofollow noreferrer\">tutorialcup.com/java/arrays-in-java.htm</a>"}],"answers":[{"comments":[{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":45,"creation_date":1428636198,"post_id":1200646,"comment_id":47256779,"body_markdown":"What&#39;s the purpose of having both the second and third way to do it?","body":"What&#39;s the purpose of having both the second and third way to do it?"},{"owner":{"account_id":2984633,"reputation":804,"user_id":2534036,"accept_rate":62,"display_name":"Skylar Ittner"},"score":161,"creation_date":1429206284,"post_id":1200646,"comment_id":47501472,"body_markdown":"@iamcreasy It looks like the second way doesn&#39;t work with return statements.  `return {1,2,3}` gives an error, while `return new int[]{1,2,3}` works fine (assuming of course that your function returns an integer array).","body":"@iamcreasy It looks like the second way doesn&#39;t work with return statements.  <code>return {1,2,3}</code> gives an error, while <code>return new int[]{1,2,3}</code> works fine (assuming of course that your function returns an integer array)."}],"tags":[],"owner":{"account_id":40817,"reputation":45766,"user_id":118437,"accept_rate":93,"display_name":"glmxndr"},"comment_count":2,"down_vote_count":3,"up_vote_count":3204,"is_accepted":true,"score":3201,"last_activity_date":1670747536,"creation_date":1248877523,"answer_id":1200646,"question_id":1200621,"body_markdown":"You can either use array declaration or array literal (but only when you declare and affect the variable right away, array literals cannot be used for re-assigning an array). \r\n\r\nFor primitive types: \r\n\r\n    int[] myIntArray = new int[3]; // each element of the array is initialised to 0\r\n    int[] myIntArray = {1, 2, 3};\r\n    int[] myIntArray = new int[]{1, 2, 3};\r\n\r\n    // Since Java 8. Doc of IntStream: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\r\n\r\n    int [] myIntArray = IntStream.range(0, 100).toArray(); // From 0 to 99\r\n    int [] myIntArray = IntStream.rangeClosed(0, 100).toArray(); // From 0 to 100\r\n    int [] myIntArray = IntStream.of(12,25,36,85,28,96,47).toArray(); // The order is preserved.\r\n    int [] myIntArray = IntStream.of(12,25,36,85,28,96,47).sorted().toArray(); // Sort \r\n\r\n   \r\n\r\n\r\n\r\nFor classes, for example `String`, it&#39;s the same:\r\n\r\n    String[] myStringArray = new String[3]; // each element is initialised to null\r\n    String[] myStringArray = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    String[] myStringArray = new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n\r\nThe third way of initializing is useful when you declare an array first and then initialize it, pass an array as a function argument, or return an array. The explicit type is required.\r\n\r\n    String[] myStringArray;\r\n    myStringArray = new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};","title":"How do I declare and initialize an array in Java?","body":"<p>You can either use array declaration or array literal (but only when you declare and affect the variable right away, array literals cannot be used for re-assigning an array).</p>\n<p>For primitive types:</p>\n<pre><code>int[] myIntArray = new int[3]; // each element of the array is initialised to 0\nint[] myIntArray = {1, 2, 3};\nint[] myIntArray = new int[]{1, 2, 3};\n\n// Since Java 8. Doc of IntStream: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\n\nint [] myIntArray = IntStream.range(0, 100).toArray(); // From 0 to 99\nint [] myIntArray = IntStream.rangeClosed(0, 100).toArray(); // From 0 to 100\nint [] myIntArray = IntStream.of(12,25,36,85,28,96,47).toArray(); // The order is preserved.\nint [] myIntArray = IntStream.of(12,25,36,85,28,96,47).sorted().toArray(); // Sort \n</code></pre>\n<p>For classes, for example <code>String</code>, it's the same:</p>\n<pre><code>String[] myStringArray = new String[3]; // each element is initialised to null\nString[] myStringArray = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\nString[] myStringArray = new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\n</code></pre>\n<p>The third way of initializing is useful when you declare an array first and then initialize it, pass an array as a function argument, or return an array. The explicit type is required.</p>\n<pre><code>String[] myStringArray;\nmyStringArray = new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":452065,"reputation":4698,"user_id":848292,"accept_rate":76,"display_name":"Anti Earth"},"score":7,"creation_date":1349238025,"post_id":1200648,"comment_id":17148629,"body_markdown":"What is the standard for which to use? I&#39;ve only just discovered the former, and I find it horrifically misleading :|","body":"What is the standard for which to use? I&#39;ve only just discovered the former, and I find it horrifically misleading :|"},{"owner":{"account_id":1337436,"reputation":14559,"user_id":1279820,"accept_rate":59,"display_name":"Celeritas"},"score":2,"creation_date":1376023859,"post_id":1200648,"comment_id":26567117,"body_markdown":"For what it&#39;s worth my prof said that the second way is more typical in Java and that it better conveys what is going on; as an array related to the type the variable was cast as.","body":"For what it&#39;s worth my prof said that the second way is more typical in Java and that it better conveys what is going on; as an array related to the type the variable was cast as."},{"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"score":3,"creation_date":1430824648,"post_id":1200648,"comment_id":48217346,"body_markdown":"For a side note: A language having more than one semantics for declaring one thing meaning bad language design.","body":"For a side note: A language having more than one semantics for declaring one thing meaning bad language design."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1674086262,"post_id":1200648,"comment_id":132642721,"body_markdown":"@MuhammadSuleman Why is it automatically _&quot;bad language design&quot;_? It&#39;s frequently claimed that Java permitted the former approach for compatibility with C back in the 1990s. Maybe that was unwise/unnecessary with hindsight, but it&#39;s a stretch to claim that the feature rises to the level of _&quot;bad language design&quot;_ unless you can cite any adverse consequences.","body":"@MuhammadSuleman Why is it automatically <i>&quot;bad language design&quot;</i>? It&#39;s frequently claimed that Java permitted the former approach for compatibility with C back in the 1990s. Maybe that was unwise/unnecessary with hindsight, but it&#39;s a stretch to claim that the feature rises to the level of <i>&quot;bad language design&quot;</i> unless you can cite any adverse consequences."}],"tags":[],"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"comment_count":4,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1248877531,"creation_date":1248877531,"answer_id":1200648,"question_id":1200621,"body_markdown":"Alternatively,\r\n\r\n    // Either method works\r\n    String arrayName[] = new String[10];\r\n    String[] arrayName = new String[10];\r\n\r\nThat declares an array called `arrayName` of size 10 (you have elements 0 through 9 to use).","title":"How do I declare and initialize an array in Java?","body":"<p>Alternatively,</p>\n\n<pre><code>// Either method works\nString arrayName[] = new String[10];\nString[] arrayName = new String[10];\n</code></pre>\n\n<p>That declares an array called <code>arrayName</code> of size 10 (you have elements 0 through 9 to use).</p>\n"},{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1674085013,"post_id":1200670,"comment_id":132642519,"body_markdown":"This answer fails to properly address the question: _&quot;How do I declare **and initialize** an array in Java?&quot;_ Other answers here show that it is simple to initialize `float` and `int` arrays when they are declared. There is no need to _&quot;Initialize later&quot;_.","body":"This answer fails to properly address the question: <i>&quot;How do I declare <b>and initialize</b> an array in Java?&quot;</i> Other answers here show that it is simple to initialize <code>float</code> and <code>int</code> arrays when they are declared. There is no need to <i>&quot;Initialize later&quot;</i>."}],"tags":[],"owner":{"account_id":23453,"reputation":2219,"user_id":58798,"accept_rate":100,"display_name":"Anirudh"},"comment_count":1,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1517937288,"creation_date":1248877694,"answer_id":1200670,"question_id":1200621,"body_markdown":"There are various ways in which you can declare an array in Java:\r\n\r\n    float floatArray[]; // Initialize later\r\n    int[] integerArray = new int[10];\r\n    String[] array = new String[] {&quot;a&quot;, &quot;b&quot;};\r\n\r\nYou can find more information in the [Sun tutorial][1] site and the [JavaDoc][2].\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Arrays.html\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>There are various ways in which you can declare an array in Java:</p>\n\n<pre><code>float floatArray[]; // Initialize later\nint[] integerArray = new int[10];\nString[] array = new String[] {\"a\", \"b\"};\n</code></pre>\n\n<p>You can find more information in the <a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/arrays.html\" rel=\"noreferrer\">Sun tutorial</a> site and the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Arrays.html\" rel=\"noreferrer\">JavaDoc</a>.</p>\n"},{"comments":[{"owner":{"account_id":39071,"reputation":21535,"user_id":112614,"accept_rate":79,"display_name":"Chet"},"score":25,"creation_date":1248877864,"post_id":1200681,"comment_id":1023720,"body_markdown":"I agree on that point.  The type of the variable is not &quot;TYPE&quot;, but actually a TYPE[], so it makes sense to write it that way for me.","body":"I agree on that point.  The type of the variable is not &quot;TYPE&quot;, but actually a TYPE[], so it makes sense to write it that way for me."},{"owner":{"account_id":2102941,"reputation":7351,"user_id":1870054,"accept_rate":72,"display_name":"wener"},"score":3,"creation_date":1394023422,"post_id":1200681,"comment_id":33697382,"body_markdown":"[Google style](http://google-styleguide.googlecode.com/svn/trunk/javaguide.html#s4.8.3.2-array-declarations) suggest this too.","body":"<a href=\"http://google-styleguide.googlecode.com/svn/trunk/javaguide.html#s4.8.3.2-array-declarations\" rel=\"nofollow noreferrer\">Google style</a> suggest this too."},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":14,"creation_date":1426729561,"post_id":1200681,"comment_id":46496754,"body_markdown":"Note that `int[] a, b;` will not be the same as `int a[], b;`, a mistake easy to make if you use the latter form.","body":"Note that <code>int[] a, b;</code> will not be the same as <code>int a[], b;</code>, a mistake easy to make if you use the latter form."}],"tags":[],"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"comment_count":3,"down_vote_count":0,"up_vote_count":136,"is_accepted":false,"score":136,"last_activity_date":1415821692,"creation_date":1248877757,"answer_id":1200681,"question_id":1200621,"body_markdown":"    Type[] variableName = new Type[capacity];\r\n\r\n    Type[] variableName = {comma-delimited values};\r\n\r\n\r\n\r\n    Type variableName[] = new Type[capacity]; \r\n\r\n    Type variableName[] = {comma-delimited values};\r\n\r\n\r\nis also valid, but I prefer the brackets after the type, because it&#39;s easier to see that the variable&#39;s type is actually an array.","title":"How do I declare and initialize an array in Java?","body":"<pre><code>Type[] variableName = new Type[capacity];\n\nType[] variableName = {comma-delimited values};\n\n\n\nType variableName[] = new Type[capacity]; \n\nType variableName[] = {comma-delimited values};\n</code></pre>\n\n<p>is also valid, but I prefer the brackets after the type, because it's easier to see that the variable's type is actually an array.</p>\n"},{"comments":[{"owner":{"account_id":12077800,"reputation":636,"user_id":8830634,"accept_rate":94,"display_name":"Cookie Monster"},"score":0,"creation_date":1530181561,"post_id":1200687,"comment_id":89149391,"body_markdown":"So it is not necessary to include `int[] name = new int[5]` ?","body":"So it is not necessary to include <code>int[] name = new int[5]</code> ?"}],"tags":[],"owner":{"account_id":39071,"reputation":21535,"user_id":112614,"accept_rate":79,"display_name":"Chet"},"comment_count":1,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1381571124,"creation_date":1248877796,"answer_id":1200687,"question_id":1200621,"body_markdown":"I find it is helpful if you understand each part:\r\n\r\n    Type[] name = new Type[5];\r\n\r\n```Type[]``` is the *type* of the *variable* called name (&quot;name&quot; is called the *identifier*).  The literal &quot;Type&quot; is the base type, and the brackets mean this is the array type of that base. Array types are in turn types of their own, which allows you to make multidimensional arrays like ```Type[][]``` (the array type of Type[]). The keyword ```new``` says to allocate memory for the new array.  The number between the bracket says how large the new array will be and how much memory to allocate. For instance, if Java knows that the base type `Type` takes 32 bytes, and you want an array of size 5, it needs to internally allocate 32 * 5 = 160 bytes.\r\n\r\nYou can also create arrays with the values already there, such as\r\n\r\n    int[] name = {1, 2, 3, 4, 5};\r\n\r\nwhich not only creates the empty space but fills it with those values. Java can tell that the primitives are integers and that there are 5 of them, so the size of the array can be determined implicitly.","title":"How do I declare and initialize an array in Java?","body":"<p>I find it is helpful if you understand each part:</p>\n\n<pre><code>Type[] name = new Type[5];\n</code></pre>\n\n<p><code>Type[]</code> is the <em>type</em> of the <em>variable</em> called name (\"name\" is called the <em>identifier</em>).  The literal \"Type\" is the base type, and the brackets mean this is the array type of that base. Array types are in turn types of their own, which allows you to make multidimensional arrays like <code>Type[][]</code> (the array type of Type[]). The keyword <code>new</code> says to allocate memory for the new array.  The number between the bracket says how large the new array will be and how much memory to allocate. For instance, if Java knows that the base type <code>Type</code> takes 32 bytes, and you want an array of size 5, it needs to internally allocate 32 * 5 = 160 bytes.</p>\n\n<p>You can also create arrays with the values already there, such as</p>\n\n<pre><code>int[] name = {1, 2, 3, 4, 5};\n</code></pre>\n\n<p>which not only creates the empty space but fills it with those values. Java can tell that the primitives are integers and that there are 5 of them, so the size of the array can be determined implicitly.</p>\n"},{"comments":[{"owner":{"account_id":321740,"reputation":4179,"user_id":640739,"accept_rate":81,"display_name":"CyprUS"},"score":2,"creation_date":1440633903,"post_id":1201271,"comment_id":52359390,"body_markdown":"what is the &quot;&lt;&gt;&quot; called in the list that you created ?","body":"what is the &quot;&lt;&gt;&quot; called in the list that you created ?"},{"owner":{"account_id":2200970,"reputation":217,"user_id":4226093,"accept_rate":0,"display_name":"Heimdall"},"score":0,"creation_date":1543501671,"post_id":1201271,"comment_id":93949320,"body_markdown":"@CyprUS `List` is a generic class, it has a type as a parameter, enclosed in `&lt;&gt;`. That helps because you only need to define a generic type once and you can then use it with multiple different types. For a more detailed explanation look at https://docs.oracle.com/javase/tutorial/java/generics/types.html","body":"@CyprUS <code>List</code> is a generic class, it has a type as a parameter, enclosed in <code>&lt;&gt;</code>. That helps because you only need to define a generic type once and you can then use it with multiple different types. For a more detailed explanation look at <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/types.html</a>"}],"tags":[],"owner":{"account_id":2242,"reputation":13698,"user_id":3095,"accept_rate":89,"display_name":"Dave"},"comment_count":2,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1363689664,"creation_date":1248882980,"answer_id":1201271,"question_id":1200621,"body_markdown":"Also, in case you want something more dynamic there is the List interface.  This will not perform as well, but is more flexible:\r\n\r\n    List&lt;String&gt; listOfString = new ArrayList&lt;String&gt;();\r\n    \r\n    listOfString.add(&quot;foo&quot;);\r\n    listOfString.add(&quot;bar&quot;);\r\n    \r\n    String value = listOfString.get(0);\r\n    assertEquals( value, &quot;foo&quot; );","title":"How do I declare and initialize an array in Java?","body":"<p>Also, in case you want something more dynamic there is the List interface.  This will not perform as well, but is more flexible:</p>\n\n<pre><code>List&lt;String&gt; listOfString = new ArrayList&lt;String&gt;();\n\nlistOfString.add(\"foo\");\nlistOfString.add(\"bar\");\n\nString value = listOfString.get(0);\nassertEquals( value, \"foo\" );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1424560118,"post_id":16910831,"comment_id":45602048,"body_markdown":"There is absolutely no difference between the second and third approaches, other than that the second approach *only* works when you&#39;re also declaring a variable. It&#39;s not clear what you mean by &quot;shows the property of anonymous array-object creation&quot; but they really are equivalent pieces of code.","body":"There is absolutely no difference between the second and third approaches, other than that the second approach <i>only</i> works when you&#39;re also declaring a variable. It&#39;s not clear what you mean by &quot;shows the property of anonymous array-object creation&quot; but they really are equivalent pieces of code."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1424560344,"post_id":16910831,"comment_id":45602102,"body_markdown":"Also, the first snippet *does* initialize the array - it is guaranteed to have the value 0 for every array element.","body":"Also, the first snippet <i>does</i> initialize the array - it is guaranteed to have the value 0 for every array element."},{"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"score":0,"creation_date":1579069732,"post_id":16910831,"comment_id":105639474,"body_markdown":"Is there really no difference between the second and the third one approaches?","body":"Is there really no difference between the second and the third one approaches?"}],"tags":[],"owner":{"account_id":2764142,"reputation":541,"user_id":2380374,"display_name":"Amit Bhandari"},"comment_count":3,"down_vote_count":4,"up_vote_count":38,"is_accepted":false,"score":34,"last_activity_date":1700491704,"creation_date":1370325769,"answer_id":16910831,"question_id":1200621,"body_markdown":"The following shows the declaration of an array, but the array is not initialized:\r\n\r\n    int[] myIntArray = new int[3];\r\n\r\nThe following shows the declaration as well as initialization of the array:\r\n    \r\n    int[] myIntArray = {1,2,3};\r\n\r\nNow, the following also shows the declaration as well as initialization of the array:\r\n\r\n    int[] myIntArray = new int[]{1,2,3};\r\n\r\nBut this third one shows the property of anonymous array-object creation which is pointed by a reference variable &quot;myIntArray&quot;, so if we write just &quot;new int[]{1,2,3};&quot; then this is how anonymous array-object can be created.\r\n\r\nIf we just write:\r\n   \r\n    int[] myIntArray;\r\n\r\nthis is not declaration of array, but the following statement makes the above declaration complete:\r\n     \r\n    myIntArray=new int[3];\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>The following shows the declaration of an array, but the array is not initialized:</p>\n<pre><code>int[] myIntArray = new int[3];\n</code></pre>\n<p>The following shows the declaration as well as initialization of the array:</p>\n<pre><code>int[] myIntArray = {1,2,3};\n</code></pre>\n<p>Now, the following also shows the declaration as well as initialization of the array:</p>\n<pre><code>int[] myIntArray = new int[]{1,2,3};\n</code></pre>\n<p>But this third one shows the property of anonymous array-object creation which is pointed by a reference variable &quot;myIntArray&quot;, so if we write just &quot;new int[]{1,2,3};&quot; then this is how anonymous array-object can be created.</p>\n<p>If we just write:</p>\n<pre><code>int[] myIntArray;\n</code></pre>\n<p>this is not declaration of array, but the following statement makes the above declaration complete:</p>\n<pre><code>myIntArray=new int[3];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1789139,"reputation":5399,"user_id":1629932,"accept_rate":85,"display_name":"Vipin Verma"},"score":1,"creation_date":1487463901,"post_id":17559021,"comment_id":71797786,"body_markdown":"Won&#39;t the first one lead to a null/empty array, instead of array with default values?","body":"Won&#39;t the first one lead to a null/empty array, instead of array with default values?"},{"owner":{"account_id":4851847,"reputation":625,"user_id":3913948,"accept_rate":100,"display_name":"AdamIJK"},"score":0,"creation_date":1493205998,"post_id":17559021,"comment_id":74313540,"body_markdown":"I agree on that point, and we can add one more feature, we can change the size dynamically.","body":"I agree on that point, and we can add one more feature, we can change the size dynamically."},{"owner":{"account_id":2183439,"reputation":608,"user_id":1968171,"display_name":"Tim M."},"score":2,"creation_date":1500391150,"post_id":17559021,"comment_id":77309908,"body_markdown":"I might argue with you on the point that a multidimensional array is a different &quot;type&quot; of array. It&#39;s simply a term used to describe an array that happens to contain other arrays. Both the outer arrays and the inner arrays (and those in between, if they exist) are just regular arrays.","body":"I might argue with you on the point that a multidimensional array is a different &quot;type&quot; of array. It&#39;s simply a term used to describe an array that happens to contain other arrays. Both the outer arrays and the inner arrays (and those in between, if they exist) are just regular arrays."}],"tags":[],"owner":{"account_id":3016115,"reputation":3733,"user_id":2558244,"display_name":"Isabella Engineer"},"comment_count":3,"down_vote_count":5,"up_vote_count":332,"is_accepted":false,"score":327,"last_activity_date":1450645030,"creation_date":1373407179,"answer_id":17559021,"question_id":1200621,"body_markdown":"There are two types of array.&lt;br/&gt; \r\n\r\n##One Dimensional Array##\r\n\r\nSyntax for default values:\r\n\r\n    int[] num = new int[5];\r\n\r\nOr (less preferred)\r\n\r\n    int num[] = new int[5];\r\n\r\nSyntax with values given (variable/field initialization):\r\n    \r\n    int[] num = {1,2,3,4,5};\r\nOr (less preferred)\r\n\r\n    int num[] = {1, 2, 3, 4, 5};\r\n\r\nNote: For convenience  int[] num is preferable because it clearly tells that you are talking here about array. Otherwise no difference. Not at all.&lt;br/&gt;\r\n\r\n##Multidimensional array##\r\n###Declaration###\r\n    \r\n    int[][] num = new int[5][2];\r\nOr\r\n\r\n    int num[][] = new int[5][2];\r\nOr\r\n\r\n    int[] num[] = new int[5][2];\r\n\r\n###Initialization###\r\n\r\n     num[0][0]=1;\r\n     num[0][1]=2;\r\n     num[1][0]=1;\r\n     num[1][1]=2;\r\n     num[2][0]=1;\r\n     num[2][1]=2;\r\n     num[3][0]=1;\r\n     num[3][1]=2;\r\n     num[4][0]=1;\r\n     num[4][1]=2;\r\nOr\r\n\r\n     int[][] num={ {1,2}, {1,2}, {1,2}, {1,2}, {1,2} };\r\n\r\n###Ragged Array (or Non-rectangular Array)###\r\n\r\n     int[][] num = new int[5][];\r\n     num[0] = new int[1];\r\n     num[1] = new int[5];\r\n     num[2] = new int[2];\r\n     num[3] = new int[3];\r\nSo here we are defining columns explicitly.&lt;br/&gt;\r\n&lt;b&gt;Another Way:&lt;/b&gt;  \r\n     \r\n    int[][] num={ {1}, {1,2}, {1,2,3,4,5}, {1,2}, {1,2,3} };\r\n\r\n##For Accessing:##\r\n\r\n    for (int i=0; i&lt;(num.length); i++ ) {\r\n        for (int j=0;j&lt;num[i].length;j++)\r\n            System.out.println(num[i][j]);\r\n    }\r\n\r\nAlternatively:\r\n\r\n    for (int[] a : num) {\r\n      for (int i : a) {\r\n        System.out.println(i);\r\n      }\r\n    }\r\n\r\nRagged arrays are multidimensional arrays.&lt;br/&gt;\r\nFor explanation see multidimensional array detail at [the official java tutorials][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","title":"How do I declare and initialize an array in Java?","body":"<p>There are two types of array.<br/> </p>\n\n<h2>One Dimensional Array</h2>\n\n<p>Syntax for default values:</p>\n\n<pre><code>int[] num = new int[5];\n</code></pre>\n\n<p>Or (less preferred)</p>\n\n<pre><code>int num[] = new int[5];\n</code></pre>\n\n<p>Syntax with values given (variable/field initialization):</p>\n\n<pre><code>int[] num = {1,2,3,4,5};\n</code></pre>\n\n<p>Or (less preferred)</p>\n\n<pre><code>int num[] = {1, 2, 3, 4, 5};\n</code></pre>\n\n<p>Note: For convenience  int[] num is preferable because it clearly tells that you are talking here about array. Otherwise no difference. Not at all.<br/></p>\n\n<h2>Multidimensional array</h2>\n\n<h3>Declaration</h3>\n\n<pre><code>int[][] num = new int[5][2];\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>int num[][] = new int[5][2];\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>int[] num[] = new int[5][2];\n</code></pre>\n\n<h3>Initialization</h3>\n\n<pre><code> num[0][0]=1;\n num[0][1]=2;\n num[1][0]=1;\n num[1][1]=2;\n num[2][0]=1;\n num[2][1]=2;\n num[3][0]=1;\n num[3][1]=2;\n num[4][0]=1;\n num[4][1]=2;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code> int[][] num={ {1,2}, {1,2}, {1,2}, {1,2}, {1,2} };\n</code></pre>\n\n<h3>Ragged Array (or Non-rectangular Array)</h3>\n\n<pre><code> int[][] num = new int[5][];\n num[0] = new int[1];\n num[1] = new int[5];\n num[2] = new int[2];\n num[3] = new int[3];\n</code></pre>\n\n<p>So here we are defining columns explicitly.<br/>\n<b>Another Way:</b>  </p>\n\n<pre><code>int[][] num={ {1}, {1,2}, {1,2,3,4,5}, {1,2}, {1,2,3} };\n</code></pre>\n\n<h2>For Accessing:</h2>\n\n<pre><code>for (int i=0; i&lt;(num.length); i++ ) {\n    for (int j=0;j&lt;num[i].length;j++)\n        System.out.println(num[i][j]);\n}\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>for (int[] a : num) {\n  for (int i : a) {\n    System.out.println(i);\n  }\n}\n</code></pre>\n\n<p>Ragged arrays are multidimensional arrays.<br/>\nFor explanation see multidimensional array detail at <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"noreferrer\">the official java tutorials</a></p>\n"},{"comments":[{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1578512281,"post_id":28044731,"comment_id":105466757,"body_markdown":"Why would you want to create an array that way?","body":"Why would you want to create an array that way?"},{"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"score":0,"creation_date":1676455298,"post_id":28044731,"comment_id":133138365,"body_markdown":"your question applies to all variant of provided answers in this section. really question might be is why language having variety of declarations for one thing? and the answer what I assume can be that all variants helps us in several situations and hence language is supporting us to perform things as required.","body":"your question applies to all variant of provided answers in this section. really question might be is why language having variety of declarations for one thing? and the answer what I assume can be that all variants helps us in several situations and hence language is supporting us to perform things as required."}],"tags":[],"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1700491739,"creation_date":1421754842,"answer_id":28044731,"question_id":1200621,"body_markdown":"If you want to create arrays using reflections then you can do like this:\r\n\r\n    int size = 3;\r\n    int[] intArray = (int[]) Array.newInstance(int.class, size ); \r\n\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>If you want to create arrays using reflections then you can do like this:</p>\n<pre><code>int size = 3;\nint[] intArray = (int[]) Array.newInstance(int.class, size ); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1432411742,"creation_date":1432410979,"answer_id":30416986,"question_id":1200621,"body_markdown":"Take the primitive type `int` for example. There are several ways to declare and `int` array:\r\n\r\n    int[] i = new int[capacity];\r\n    int[] i = new int[] {value1, value2, value3, etc};\r\n    int[] i = {value1, value2, value3, etc};\r\n\r\nwhere in all of these, you can use `int i[]` instead of `int[] i`.\r\n\r\nWith reflection, you can use `(Type[]) Array.newInstance(Type.class, capacity);`\r\n\r\nNote that in method parameters, `...` indicates `variable arguments`. Essentially, any number of parameters is fine. It&#39;s easier to explain with code:\r\n\r\n    public static void varargs(int fixed1, String fixed2, int... varargs) {...}\r\n    ...\r\n    varargs(0, &quot;&quot;, 100); // fixed1 = 0, fixed2 = &quot;&quot;, varargs = {100}\r\n    varargs(0, &quot;&quot;, 100, 200); // fixed1 = 0, fixed2 = &quot;&quot;, varargs = {100, 200};\r\n\r\nInside the method, `varargs` is treated as a normal `int[]`. `Type...` can only be used in method parameters, so `int... i = new int[] {}` will not compile.\r\n\r\nNote that when passing an `int[]` to a method (or any other `Type[]`), you cannot use the third way. In the statement `int[] i = *{a, b, c, d, etc}*`, the compiler assumes that the `{...}` means an `int[]`. But that is because you are declaring a variable. When passing an array to a method, the declaration must either be `new Type[capacity]` or `new Type[] {...}`.\r\n\r\n&lt;h1&gt;Multidimensional Arrays&lt;/h1&gt;\r\n\r\nMultidimensional arrays are much harder to deal with. Essentially, a 2D array is an array of arrays. `int[][]` means an array of `int[]`s. The key is that if an `int[][]` is declared as `int[x][y]`, the maximum index is `i[x-1][y-1]`. Essentially, a rectangular `int[3][5]` is:\r\n\r\n    [0, 0] [1, 0] [2, 0]\r\n    [0, 1] [1, 1] [2, 1]\r\n    [0, 2] [1, 2] [2, 2]\r\n    [0, 3] [1, 3] [2, 3]\r\n    [0, 4] [1, 4] [2, 4]","title":"How do I declare and initialize an array in Java?","body":"<p>Take the primitive type <code>int</code> for example. There are several ways to declare and <code>int</code> array:</p>\n\n<pre><code>int[] i = new int[capacity];\nint[] i = new int[] {value1, value2, value3, etc};\nint[] i = {value1, value2, value3, etc};\n</code></pre>\n\n<p>where in all of these, you can use <code>int i[]</code> instead of <code>int[] i</code>.</p>\n\n<p>With reflection, you can use <code>(Type[]) Array.newInstance(Type.class, capacity);</code></p>\n\n<p>Note that in method parameters, <code>...</code> indicates <code>variable arguments</code>. Essentially, any number of parameters is fine. It's easier to explain with code:</p>\n\n<pre><code>public static void varargs(int fixed1, String fixed2, int... varargs) {...}\n...\nvarargs(0, \"\", 100); // fixed1 = 0, fixed2 = \"\", varargs = {100}\nvarargs(0, \"\", 100, 200); // fixed1 = 0, fixed2 = \"\", varargs = {100, 200};\n</code></pre>\n\n<p>Inside the method, <code>varargs</code> is treated as a normal <code>int[]</code>. <code>Type...</code> can only be used in method parameters, so <code>int... i = new int[] {}</code> will not compile.</p>\n\n<p>Note that when passing an <code>int[]</code> to a method (or any other <code>Type[]</code>), you cannot use the third way. In the statement <code>int[] i = *{a, b, c, d, etc}*</code>, the compiler assumes that the <code>{...}</code> means an <code>int[]</code>. But that is because you are declaring a variable. When passing an array to a method, the declaration must either be <code>new Type[capacity]</code> or <code>new Type[] {...}</code>.</p>\n\n<h1>Multidimensional Arrays</h1>\n\n<p>Multidimensional arrays are much harder to deal with. Essentially, a 2D array is an array of arrays. <code>int[][]</code> means an array of <code>int[]</code>s. The key is that if an <code>int[][]</code> is declared as <code>int[x][y]</code>, the maximum index is <code>i[x-1][y-1]</code>. Essentially, a rectangular <code>int[3][5]</code> is:</p>\n\n<pre><code>[0, 0] [1, 0] [2, 0]\n[0, 1] [1, 1] [2, 1]\n[0, 2] [1, 2] [2, 2]\n[0, 3] [1, 3] [2, 3]\n[0, 4] [1, 4] [2, 4]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3314513,"reputation":3779,"user_id":2787184,"accept_rate":65,"display_name":"2787184"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1466891985,"creation_date":1444990730,"answer_id":33168030,"question_id":1200621,"body_markdown":"Declaring an array of object references:\r\n\r\n    class Animal {}\r\n\r\n    class Horse extends Animal {\r\n        public static void main(String[] args) {\r\n\r\n            /*\r\n             * Array of Animal can hold Animal and Horse (all subtypes of Animal allowed)\r\n             */\r\n            Animal[] a1 = new Animal[10];\r\n            a1[0] = new Animal();\r\n            a1[1] = new Horse();\r\n\r\n            /*\r\n             * Array of Animal can hold Animal and Horse and all subtype of Horse\r\n             */\r\n            Animal[] a2 = new Horse[10];\r\n            a2[0] = new Animal();\r\n            a2[1] = new Horse();\r\n\r\n            /*\r\n             * Array of Horse can hold only Horse and its subtype (if any) and not\r\n               allowed supertype of Horse nor other subtype of Animal.\r\n             */\r\n            Horse[] h1 = new Horse[10];\r\n            h1[0] = new Animal(); // Not allowed\r\n            h1[1] = new Horse();\r\n\r\n            /*\r\n             * This can not be declared.\r\n             */\r\n            Horse[] h2 = new Animal[10]; // Not allowed\r\n        }\r\n    }\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>Declaring an array of object references:</p>\n\n<pre><code>class Animal {}\n\nclass Horse extends Animal {\n    public static void main(String[] args) {\n\n        /*\n         * Array of Animal can hold Animal and Horse (all subtypes of Animal allowed)\n         */\n        Animal[] a1 = new Animal[10];\n        a1[0] = new Animal();\n        a1[1] = new Horse();\n\n        /*\n         * Array of Animal can hold Animal and Horse and all subtype of Horse\n         */\n        Animal[] a2 = new Horse[10];\n        a2[0] = new Animal();\n        a2[1] = new Horse();\n\n        /*\n         * Array of Horse can hold only Horse and its subtype (if any) and not\n           allowed supertype of Horse nor other subtype of Animal.\n         */\n        Horse[] h1 = new Horse[10];\n        h1[0] = new Animal(); // Not allowed\n        h1[1] = new Horse();\n\n        /*\n         * This can not be declared.\n         */\n        Horse[] h2 = new Animal[10]; // Not allowed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1445435104,"creation_date":1445434787,"answer_id":33260915,"question_id":1200621,"body_markdown":"Array is a sequential list of items\r\n\r\n    int item = value;\r\n    \r\n    int [] one_dimensional_array = { value, value, value, .., value };\r\n    \r\n    int [][] two_dimensional_array =\r\n    {\r\n      { value, value, value, .. value },\r\n      { value, value, value, .. value },\r\n        ..     ..     ..        ..\r\n      { value, value, value, .. value }\r\n    };\r\n\r\nIf it&#39;s an object, then it&#39;s the same concept\r\n\r\n    Object item = new Object();\r\n    \r\n    Object [] one_dimensional_array = { new Object(), new Object(), .. new Object() };\r\n    \r\n    Object [][] two_dimensional_array =\r\n    {\r\n      { new Object(), new Object(), .. new Object() },\r\n      { new Object(), new Object(), .. new Object() },\r\n        ..            ..               ..\r\n      { new Object(), new Object(), .. new Object() }\r\n    };\r\n\r\nIn case of objects, you need to either assign it to `null` to initialize them using `new Type(..)`, classes like `String` and `Integer` are special cases that will be handled as following\r\n\r\n    String [] a = { &quot;hello&quot;, &quot;world&quot; };\r\n    // is equivalent to\r\n    String [] a = { new String({&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;}), new String({&#39;w&#39;,&#39;o&#39;,&#39;r&#39;,&#39;l&#39;,&#39;d&#39;}) };\r\n\r\n    Integer [] b = { 1234, 5678 };\r\n    // is equivalent to\r\n    Integer [] b = { new Integer(1234), new Integer(5678) };\r\n\r\nIn general you can create arrays that&#39;s `M` dimensional\r\n\r\n    int [][]..[] array =\r\n    //  ^ M times [] brackets\r\n    \r\n        {{..{\r\n    //  ^ M times { bracket\r\n    \r\n    //            this is array[0][0]..[0]\r\n    //                         ^ M times [0]\r\n    \r\n        }}..}\r\n    //  ^ M times } bracket\r\n    ;\r\n\r\nIt&#39;s worthy to note that creating an `M` dimensional array is expensive in terms of Space. Since when you create an `M` dimensional array with `N` on all the dimensions, The total size of the array is bigger than `N^M`, since each array has a reference, and at the M-dimension there is an (M-1)-dimensional array of references. The total size is as following\r\n\r\n    Space = N^M + N^(M-1) + N^(M-2) + .. + N^0\r\n    //      ^                              ^ array reference\r\n    //      ^ actual data\r\n\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>Array is a sequential list of items</p>\n\n<pre><code>int item = value;\n\nint [] one_dimensional_array = { value, value, value, .., value };\n\nint [][] two_dimensional_array =\n{\n  { value, value, value, .. value },\n  { value, value, value, .. value },\n    ..     ..     ..        ..\n  { value, value, value, .. value }\n};\n</code></pre>\n\n<p>If it's an object, then it's the same concept</p>\n\n<pre><code>Object item = new Object();\n\nObject [] one_dimensional_array = { new Object(), new Object(), .. new Object() };\n\nObject [][] two_dimensional_array =\n{\n  { new Object(), new Object(), .. new Object() },\n  { new Object(), new Object(), .. new Object() },\n    ..            ..               ..\n  { new Object(), new Object(), .. new Object() }\n};\n</code></pre>\n\n<p>In case of objects, you need to either assign it to <code>null</code> to initialize them using <code>new Type(..)</code>, classes like <code>String</code> and <code>Integer</code> are special cases that will be handled as following</p>\n\n<pre><code>String [] a = { \"hello\", \"world\" };\n// is equivalent to\nString [] a = { new String({'h','e','l','l','o'}), new String({'w','o','r','l','d'}) };\n\nInteger [] b = { 1234, 5678 };\n// is equivalent to\nInteger [] b = { new Integer(1234), new Integer(5678) };\n</code></pre>\n\n<p>In general you can create arrays that's <code>M</code> dimensional</p>\n\n<pre><code>int [][]..[] array =\n//  ^ M times [] brackets\n\n    {{..{\n//  ^ M times { bracket\n\n//            this is array[0][0]..[0]\n//                         ^ M times [0]\n\n    }}..}\n//  ^ M times } bracket\n;\n</code></pre>\n\n<p>It's worthy to note that creating an <code>M</code> dimensional array is expensive in terms of Space. Since when you create an <code>M</code> dimensional array with <code>N</code> on all the dimensions, The total size of the array is bigger than <code>N^M</code>, since each array has a reference, and at the M-dimension there is an (M-1)-dimensional array of references. The total size is as following</p>\n\n<pre><code>Space = N^M + N^(M-1) + N^(M-2) + .. + N^0\n//      ^                              ^ array reference\n//      ^ actual data\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7721153,"reputation":780,"user_id":5847353,"display_name":"codecubed"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1466892015,"creation_date":1454008781,"answer_id":35070126,"question_id":1200621,"body_markdown":"There are two main ways to make an array:\r\n\r\nThis one, for an empty array:\r\n\r\n    int[] array = new int[n]; // &quot;n&quot; being the number of spaces to allocate in the array\r\n\r\nAnd this one, for an initialized array:\r\n\r\n    int[] array = {1,2,3,4 ...};\r\n\r\nYou can also make multidimensional arrays, like this:\r\n\r\n    int[][] array2d = new int[x][y]; // &quot;x&quot; and &quot;y&quot; specify the dimensions\r\n    int[][] array2d = { {1,2,3 ...}, {4,5,6 ...} ...};\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>There are two main ways to make an array:</p>\n\n<p>This one, for an empty array:</p>\n\n<pre><code>int[] array = new int[n]; // \"n\" being the number of spaces to allocate in the array\n</code></pre>\n\n<p>And this one, for an initialized array:</p>\n\n<pre><code>int[] array = {1,2,3,4 ...};\n</code></pre>\n\n<p>You can also make multidimensional arrays, like this:</p>\n\n<pre><code>int[][] array2d = new int[x][y]; // \"x\" and \"y\" specify the dimensions\nint[][] array2d = { {1,2,3 ...}, {4,5,6 ...} ...};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8706437,"reputation":304,"user_id":6514262,"accept_rate":83,"display_name":"Samuel Newport"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1470651035,"creation_date":1470650488,"answer_id":38826284,"question_id":1200621,"body_markdown":"For creating arrays of class Objects you can use the `java.util.ArrayList`. to define an array:\r\n\r\n    public ArrayList&lt;ClassName&gt; arrayName;\r\n    arrayName = new ArrayList&lt;ClassName&gt;();\r\n\r\nAssign values to the array:\r\n\r\n    arrayName.add(new ClassName(class parameters go here);\r\n\r\nRead from the array:\r\n    \r\n    ClassName variableName = arrayName.get(index);\r\n\r\nNote:\r\n\r\n`variableName` is a reference to the array meaning that manipulating `variableName` will manipulate `arrayName`\r\n\r\nfor loops:\r\n\r\n    //repeats for every value in the array\r\n    for (ClassName variableName : arrayName){\r\n    }\r\n    //Note that using this for loop prevents you from editing arrayName\r\n\r\nfor loop that allows you to edit `arrayName` (conventional for loop):\r\n\r\n    for (int i = 0; i &lt; arrayName.size(); i++){\r\n        //manipulate array here\r\n    }\r\n\r\n\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>For creating arrays of class Objects you can use the <code>java.util.ArrayList</code>. to define an array:</p>\n\n<pre><code>public ArrayList&lt;ClassName&gt; arrayName;\narrayName = new ArrayList&lt;ClassName&gt;();\n</code></pre>\n\n<p>Assign values to the array:</p>\n\n<pre><code>arrayName.add(new ClassName(class parameters go here);\n</code></pre>\n\n<p>Read from the array:</p>\n\n<pre><code>ClassName variableName = arrayName.get(index);\n</code></pre>\n\n<p>Note:</p>\n\n<p><code>variableName</code> is a reference to the array meaning that manipulating <code>variableName</code> will manipulate <code>arrayName</code></p>\n\n<p>for loops:</p>\n\n<pre><code>//repeats for every value in the array\nfor (ClassName variableName : arrayName){\n}\n//Note that using this for loop prevents you from editing arrayName\n</code></pre>\n\n<p>for loop that allows you to edit <code>arrayName</code> (conventional for loop):</p>\n\n<pre><code>for (int i = 0; i &lt; arrayName.size(); i++){\n    //manipulate array here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6323824,"reputation":1258,"user_id":4910851,"accept_rate":50,"display_name":"Clement.Xu"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1501832546,"creation_date":1501832546,"answer_id":45500932,"question_id":1200621,"body_markdown":"Another way to declare and initialize ArrayList:\r\n\r\n    private List&lt;String&gt; list = new ArrayList&lt;String&gt;(){{\r\n\t\tadd(&quot;e1&quot;);\r\n\t\tadd(&quot;e2&quot;);\r\n\t}};","title":"How do I declare and initialize an array in Java?","body":"<p>Another way to declare and initialize ArrayList:</p>\n\n<pre><code>private List&lt;String&gt; list = new ArrayList&lt;String&gt;(){{\n    add(\"e1\");\n    add(\"e2\");\n}};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1519252699,"post_id":45882541,"comment_id":84839861,"body_markdown":"Are -50 and/or +50 actually included? That is, is the internal open at one or both ends?","body":"Are -50 and/or +50 actually included? That is, is the internal open at one or both ends?"},{"owner":{"account_id":5102339,"reputation":446,"user_id":4095239,"display_name":"Kirill Podlivaev"},"score":2,"creation_date":1521626194,"post_id":45882541,"comment_id":85807298,"body_markdown":"-50 is included and +50 is excluded. This information from [java api](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-long-int-int-)      &quot;given origin (inclusive) and bound (exclusive).&quot;  I use  interval declaration from [wiki](https://en.wikipedia.org/wiki/Interval_(mathematics)#Classification_of_intervals)  . So I think  it will be more correct [-50, 50)","body":"-50 is included and +50 is excluded. This information from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-long-int-int-\" rel=\"nofollow noreferrer\">java api</a>      &quot;given origin (inclusive) and bound (exclusive).&quot;  I use  interval declaration from <a href=\"https://en.wikipedia.org/wiki/Interval_(mathematics)#Classification_of_intervals\" rel=\"nofollow noreferrer\">wiki</a>  . So I think  it will be more correct [-50, 50)"}],"tags":[],"owner":{"account_id":5102339,"reputation":446,"user_id":4095239,"display_name":"Kirill Podlivaev"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1519252586,"creation_date":1503667647,"answer_id":45882541,"question_id":1200621,"body_markdown":"Declare and initialize for Java 8 and later. Create a simple integer array:\r\n\r\n    int [] a1 = IntStream.range(1, 20).toArray();\r\n    System.out.println(Arrays.toString(a1));\r\n    // Output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]\r\n\r\nCreate a random array for integers between [-50, 50] and for doubles [0, 1E17]:\r\n\r\n    int [] a2 = new Random().ints(15, -50, 50).toArray();\r\n    double [] a3 = new Random().doubles(5, 0, 1e17).toArray();\r\n\r\nPower-of-two sequence:\r\n\r\n    double [] a4 = LongStream.range(0, 7).mapToDouble(i -&gt; Math.pow(2, i)).toArray();\r\n    System.out.println(Arrays.toString(a4));\r\n    // Output: [1.0, 2.0, 4.0, 8.0, 16.0, 32.0, 64.0]\r\n\r\nFor String[] you must specify a constructor:\r\n\r\n    String [] a5 = Stream.generate(()-&gt;&quot;I will not squeak chalk&quot;).limit(5).toArray(String[]::new);\r\n    System.out.println(Arrays.toString(a5));\r\n\r\nMultidimensional arrays:\r\n\r\n    String [][] a6 = List.of(new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;} , new String[]{&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;})\r\n        .toArray(new String[0][]);\r\n    System.out.println(Arrays.deepToString(a6));\r\n    // Output: [[a, b, c], [d, e, f, g]]\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>Declare and initialize for Java 8 and later. Create a simple integer array:</p>\n\n<pre><code>int [] a1 = IntStream.range(1, 20).toArray();\nSystem.out.println(Arrays.toString(a1));\n// Output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]\n</code></pre>\n\n<p>Create a random array for integers between [-50, 50] and for doubles [0, 1E17]:</p>\n\n<pre><code>int [] a2 = new Random().ints(15, -50, 50).toArray();\ndouble [] a3 = new Random().doubles(5, 0, 1e17).toArray();\n</code></pre>\n\n<p>Power-of-two sequence:</p>\n\n<pre><code>double [] a4 = LongStream.range(0, 7).mapToDouble(i -&gt; Math.pow(2, i)).toArray();\nSystem.out.println(Arrays.toString(a4));\n// Output: [1.0, 2.0, 4.0, 8.0, 16.0, 32.0, 64.0]\n</code></pre>\n\n<p>For String[] you must specify a constructor:</p>\n\n<pre><code>String [] a5 = Stream.generate(()-&gt;\"I will not squeak chalk\").limit(5).toArray(String[]::new);\nSystem.out.println(Arrays.toString(a5));\n</code></pre>\n\n<p>Multidimensional arrays:</p>\n\n<pre><code>String [][] a6 = List.of(new String[]{\"a\", \"b\", \"c\"} , new String[]{\"d\", \"e\", \"f\", \"g\"})\n    .toArray(new String[0][]);\nSystem.out.println(Arrays.deepToString(a6));\n// Output: [[a, b, c], [d, e, f, g]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1693688147,"creation_date":1519217100,"answer_id":48906289,"question_id":1200621,"body_markdown":"In Java 8\r\n---\r\nUsing [`Arrays.setAll`][1] (similar to `Arrays.fill`, but takes the generator function, which accepts an index and produces the desired value for that position, which gives more flexibility):\r\n\r\n    int[] a = new int[5];\r\n    Arrays.setAll(a, index -&gt; index + 1);\r\n\r\n    Out: [1, 2, 3, 4, 5]\r\n\r\nIn Java 9\r\n---\r\n\r\nUsing different [`IntStream.iterate`][2] and [`IntStream.takeWhile`][3] methods:\r\n\r\n    int[] a = IntStream.iterate(10, x -&gt; x &lt;= 100, x -&gt; x + 10).toArray();\r\n\r\n    Out: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]\r\n\r\n\r\n    int[] b = IntStream.iterate(0, x -&gt; x + 1).takeWhile(x -&gt; x &lt; 10).toArray();\r\n\r\n    Out: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n\r\nIn Java 10\r\n---\r\n\r\nUsing the [Local Variable Type Inference][4]:\r\n\r\n    var letters = new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#setAll-int:A-java.util.function.IntUnaryOperator-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntPredicate-java.util.function.IntUnaryOperator-\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#takeWhile-java.util.function.IntPredicate-\r\n  [4]: https://developer.oracle.com/java/jdk-10-local-variable-type-inference.html","title":"How do I declare and initialize an array in Java?","body":"<h2>In Java 8</h2>\n<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#setAll-int:A-java.util.function.IntUnaryOperator-\" rel=\"nofollow noreferrer\"><code>Arrays.setAll</code></a> (similar to <code>Arrays.fill</code>, but takes the generator function, which accepts an index and produces the desired value for that position, which gives more flexibility):</p>\n<pre><code>int[] a = new int[5];\nArrays.setAll(a, index -&gt; index + 1);\n\nOut: [1, 2, 3, 4, 5]\n</code></pre>\n<h2>In Java 9</h2>\n<p>Using different <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntPredicate-java.util.function.IntUnaryOperator-\" rel=\"nofollow noreferrer\"><code>IntStream.iterate</code></a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#takeWhile-java.util.function.IntPredicate-\" rel=\"nofollow noreferrer\"><code>IntStream.takeWhile</code></a> methods:</p>\n<pre><code>int[] a = IntStream.iterate(10, x -&gt; x &lt;= 100, x -&gt; x + 10).toArray();\n\nOut: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]\n\n\nint[] b = IntStream.iterate(0, x -&gt; x + 1).takeWhile(x -&gt; x &lt; 10).toArray();\n\nOut: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n</code></pre>\n<h2>In Java 10</h2>\n<p>Using the <a href=\"https://developer.oracle.com/java/jdk-10-local-variable-type-inference.html\" rel=\"nofollow noreferrer\">Local Variable Type Inference</a>:</p>\n<pre><code>var letters = new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2937533,"reputation":1848,"user_id":2516131,"accept_rate":25,"display_name":"Chamly Idunil"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1609552743,"creation_date":1520533299,"answer_id":49179953,"question_id":1200621,"body_markdown":"In Java 8 you can use something like this.\r\n\r\n    String[] strs = IntStream.range(0, 15)  // 15 is the size\r\n        .mapToObj(i -&gt; Integer.toString(i))\r\n        .toArray(String[]::new);\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>In Java 8 you can use something like this.</p>\n<pre><code>String[] strs = IntStream.range(0, 15)  // 15 is the size\n    .mapToObj(i -&gt; Integer.toString(i))\n    .toArray(String[]::new);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1094163,"reputation":3336,"user_id":7023816,"display_name":"Cameron Hudson"},"score":0,"creation_date":1571438348,"post_id":53088233,"comment_id":103254640,"body_markdown":"Java does not have `var`.","body":"Java does not have <code>var</code>."},{"owner":{"account_id":20693,"reputation":20757,"user_id":1423922,"accept_rate":79,"display_name":"Konstantin Spirin"},"score":6,"creation_date":1571843863,"post_id":53088233,"comment_id":103376768,"body_markdown":"@CameronHudson Java 10 has `var` http://openjdk.java.net/jeps/286","body":"@CameronHudson Java 10 has <code>var</code> <a href=\"http://openjdk.java.net/jeps/286\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/286</a>"}],"tags":[],"owner":{"account_id":20693,"reputation":20757,"user_id":1423922,"accept_rate":79,"display_name":"Konstantin Spirin"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1567877080,"creation_date":1541003884,"answer_id":53088233,"question_id":1200621,"body_markdown":"With local variable type inference you only have to specify the type once:\r\n\r\n    var values = new int[] { 1, 2, 3 };\r\n\r\nOr\r\n\r\n    int[] values = { 1, 2, 3 }\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>With local variable type inference you only have to specify the type once:</p>\n\n<pre><code>var values = new int[] { 1, 2, 3 };\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>int[] values = { 1, 2, 3 }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5987,"reputation":1568,"user_id":9886,"accept_rate":40,"display_name":"Tirno"},"score":10,"creation_date":1578500729,"post_id":53307905,"comment_id":105461212,"body_markdown":"A list is not an array","body":"A list is not an array"},{"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"score":0,"creation_date":1578514968,"post_id":53307905,"comment_id":105467871,"body_markdown":"Sometime people mean arrays, when they want a list.","body":"Sometime people mean arrays, when they want a list."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1678434937,"post_id":53307905,"comment_id":133535133,"body_markdown":"And sometimes the y do not understand the **difference** between those two, so a good answer would at least mention that a List object is similar to an array type instance, but not the **same**.","body":"And sometimes the y do not understand the <b>difference</b> between those two, so a good answer would at least mention that a List object is similar to an array type instance, but not the <b>same</b>."}],"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"comment_count":3,"down_vote_count":4,"up_vote_count":14,"is_accepted":false,"score":10,"last_activity_date":1689014754,"creation_date":1542225542,"answer_id":53307905,"question_id":1200621,"body_markdown":"If by &quot;array&quot; you meant using `java.util.Arrays`, you can do it with:\r\n\r\n```java\r\nList&lt;String&gt; number = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n\r\n// Out: [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]\r\n```\r\n\r\nThis one is pretty **simple** and straightforward to create a `List`. ([What is difference between List and Array?](https://stackoverflow.com/questions/10487104/difference-between-list-and-array)) Now if you really wanted an `Array` you may still get one using:\r\n\r\n```java\r\nString[] numberArray = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;).toArray(new String[0]);\r\n```","title":"How do I declare and initialize an array in Java?","body":"<p>If by &quot;array&quot; you meant using <code>java.util.Arrays</code>, you can do it with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; number = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\n\n// Out: [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]\n</code></pre>\n<p>This one is pretty <strong>simple</strong> and straightforward to create a <code>List</code>. (<a href=\"https://stackoverflow.com/questions/10487104/difference-between-list-and-array\">What is difference between List and Array?</a>) Now if you really wanted an <code>Array</code> you may still get one using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] numberArray = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;).toArray(new String[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1567877002,"creation_date":1553767541,"answer_id":55394859,"question_id":1200621,"body_markdown":"There are a lot of answers here. I am adding a few tricky ways to create arrays (from an **exam** point of view it&#39;s good to know this)\r\n\r\n1. Declare and define an array\r\n\r\n        int intArray[] = new int[3];\r\n\r\n    This will create an array of length 3. As it holds a primitive type, int, all values are set to 0 by default. For example,\r\n\r\n        intArray[2]; // Will return 0\r\n\r\n2. Using box brackets [] before the variable name\r\n\r\n        int[] intArray = new int[3];\r\n        intArray[0] = 1;  // Array content is now {1, 0, 0}\r\n\r\n3. Initialise and provide data to the array\r\n\r\n        int[] intArray = new int[]{1, 2, 3};\r\n\r\n    This time there isn&#39;t any need to mention the size in the box bracket. Even a simple variant of this is:\r\n\r\n        int[] intArray = {1, 2, 3, 4};\r\n\r\n4. An array of length 0\r\n\r\n        int[] intArray = new int[0];\r\n        int length = intArray.length; // Will return length 0\r\n\r\n       **Similar for multi-dimensional arrays**\r\n\r\n        int intArray[][] = new int[2][3];\r\n        // This will create an array of length 2 and\r\n        //each element contains another array of length 3.\r\n        // { {0,0,0},{0,0,0} }\r\n        int lenght1 = intArray.length; // Will return 2\r\n        int length2 = intArray[0].length; // Will return 3\r\n\r\nUsing box brackets before the variable:\r\n\r\n        int[][] intArray = new int[2][3];\r\n\r\nIt&#39;s absolutely fine if you put one box bracket at the end:\r\n\r\n        int[] intArray [] = new int[2][4];\r\n        int[] intArray[][] = new int[2][3][4]\r\n\r\nSome examples\r\n\r\n        int [] intArray [] = new int[][] {{1,2,3},{4,5,6}};\r\n        int [] intArray1 [] = new int[][] {new int[] {1,2,3}, new int [] {4,5,6}};\r\n        int [] intArray2 [] = new int[][] {new int[] {1,2,3},{4,5,6}}\r\n        // All the 3 arrays assignments are valid\r\n        // Array looks like {{1,2,3},{4,5,6}}\r\n\r\nIt&#39;s not mandatory that each inner element is of the same size.\r\n\r\n        int [][] intArray = new int[2][];\r\n        intArray[0] = {1,2,3};\r\n        intArray[1] = {4,5};\r\n        //array looks like {{1,2,3},{4,5}}\r\n\r\n        int[][] intArray = new int[][2] ; // This won&#39;t compile. Keep this in mind.\r\n\r\nYou have to make sure if you are using the above syntax, that the forward direction you have to specify the values in box brackets. Else it won&#39;t compile. Some examples:\r\n\r\n        int [][][] intArray = new int[1][][];\r\n        int [][][] intArray = new int[1][2][];\r\n        int [][][] intArray = new int[1][2][3];\r\n\r\n\r\nAnother important feature is **covariant**\r\n\r\n        Number[] numArray = {1,2,3,4};   // java.lang.Number\r\n        numArray[0] = new Float(1.5f);   // java.lang.Float\r\n        numArray[1] = new Integer(1);    // java.lang.Integer\r\n       // You can store a subclass object in an array that is declared\r\n       // to be of the type of its superclass.\r\n       // Here &#39;Number&#39; is the superclass for both Float and Integer.\r\n\r\n       Number num[] = new Float[5]; // This is also valid\r\n\r\n**IMPORTANT: For referenced types, the default value stored in the array is null.**\r\n\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>There are a lot of answers here. I am adding a few tricky ways to create arrays (from an <strong>exam</strong> point of view it's good to know this)</p>\n\n<ol>\n<li><p>Declare and define an array</p>\n\n<pre><code>int intArray[] = new int[3];\n</code></pre>\n\n<p>This will create an array of length 3. As it holds a primitive type, int, all values are set to 0 by default. For example,</p>\n\n<pre><code>intArray[2]; // Will return 0\n</code></pre></li>\n<li><p>Using box brackets [] before the variable name</p>\n\n<pre><code>int[] intArray = new int[3];\nintArray[0] = 1;  // Array content is now {1, 0, 0}\n</code></pre></li>\n<li><p>Initialise and provide data to the array</p>\n\n<pre><code>int[] intArray = new int[]{1, 2, 3};\n</code></pre>\n\n<p>This time there isn't any need to mention the size in the box bracket. Even a simple variant of this is:</p>\n\n<pre><code>int[] intArray = {1, 2, 3, 4};\n</code></pre></li>\n<li><p>An array of length 0</p>\n\n<pre><code>int[] intArray = new int[0];\nint length = intArray.length; // Will return length 0\n</code></pre>\n\n<p><strong>Similar for multi-dimensional arrays</strong></p>\n\n<pre><code>int intArray[][] = new int[2][3];\n// This will create an array of length 2 and\n//each element contains another array of length 3.\n// { {0,0,0},{0,0,0} }\nint lenght1 = intArray.length; // Will return 2\nint length2 = intArray[0].length; // Will return 3\n</code></pre></li>\n</ol>\n\n<p>Using box brackets before the variable:</p>\n\n<pre><code>    int[][] intArray = new int[2][3];\n</code></pre>\n\n<p>It's absolutely fine if you put one box bracket at the end:</p>\n\n<pre><code>    int[] intArray [] = new int[2][4];\n    int[] intArray[][] = new int[2][3][4]\n</code></pre>\n\n<p>Some examples</p>\n\n<pre><code>    int [] intArray [] = new int[][] {{1,2,3},{4,5,6}};\n    int [] intArray1 [] = new int[][] {new int[] {1,2,3}, new int [] {4,5,6}};\n    int [] intArray2 [] = new int[][] {new int[] {1,2,3},{4,5,6}}\n    // All the 3 arrays assignments are valid\n    // Array looks like {{1,2,3},{4,5,6}}\n</code></pre>\n\n<p>It's not mandatory that each inner element is of the same size.</p>\n\n<pre><code>    int [][] intArray = new int[2][];\n    intArray[0] = {1,2,3};\n    intArray[1] = {4,5};\n    //array looks like {{1,2,3},{4,5}}\n\n    int[][] intArray = new int[][2] ; // This won't compile. Keep this in mind.\n</code></pre>\n\n<p>You have to make sure if you are using the above syntax, that the forward direction you have to specify the values in box brackets. Else it won't compile. Some examples:</p>\n\n<pre><code>    int [][][] intArray = new int[1][][];\n    int [][][] intArray = new int[1][2][];\n    int [][][] intArray = new int[1][2][3];\n</code></pre>\n\n<p>Another important feature is <strong>covariant</strong></p>\n\n<pre><code>    Number[] numArray = {1,2,3,4};   // java.lang.Number\n    numArray[0] = new Float(1.5f);   // java.lang.Float\n    numArray[1] = new Integer(1);    // java.lang.Integer\n   // You can store a subclass object in an array that is declared\n   // to be of the type of its superclass.\n   // Here 'Number' is the superclass for both Float and Integer.\n\n   Number num[] = new Float[5]; // This is also valid\n</code></pre>\n\n<p><strong>IMPORTANT: For referenced types, the default value stored in the array is null.</strong></p>\n"},{"tags":[],"owner":{"account_id":15979473,"reputation":121,"user_id":11531469,"display_name":"kundus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560128268,"creation_date":1560128268,"answer_id":56519463,"question_id":1200621,"body_markdown":"Declare Array: `int[] arr;`\r\n\r\nInitialize Array: `int[] arr = new int[10];` 10 represents the number of elements allowed in the array\r\n\r\nDeclare Multidimensional Array: `int[][] arr;`\r\n\r\nInitialize Multidimensional Array: `int[][] arr = new int[10][17];` 10 rows and 17 columns and 170 elements because 10 times 17 is 170.\r\n\r\n**Initializing an array means specifying the size of it.** \r\n","title":"How do I declare and initialize an array in Java?","body":"<p>Declare Array: <code>int[] arr;</code></p>\n\n<p>Initialize Array: <code>int[] arr = new int[10];</code> 10 represents the number of elements allowed in the array</p>\n\n<p>Declare Multidimensional Array: <code>int[][] arr;</code></p>\n\n<p>Initialize Multidimensional Array: <code>int[][] arr = new int[10][17];</code> 10 rows and 17 columns and 170 elements because 10 times 17 is 170.</p>\n\n<p><strong>Initializing an array means specifying the size of it.</strong> </p>\n"},{"tags":[],"owner":{"account_id":16277175,"reputation":36,"user_id":11754064,"display_name":"Syed Salman Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567876658,"creation_date":1564920388,"answer_id":57346421,"question_id":1200621,"body_markdown":"It&#39;s very easy to declare and initialize an array.\r\nFor example, you want to save five integer elements which are 1, 2, 3, 4, and 5 in an array. You can do it in the following way:\r\n\r\na)\r\n\r\n\r\n    int[] a = new int[5];\r\n\r\nor\r\n\r\nb)\r\n\r\n    int[] a = {1, 2, 3, 4, 5};\r\n\r\nso the basic pattern is for initialization and declaration by method a) is:\r\n\r\n    datatype[] arrayname = new datatype[requiredarraysize];\r\n\r\n`datatype` should be in lower case.\r\n\r\nSo the basic pattern is for initialization and declaration by method a is:\r\n\r\nIf it&#39;s a string array:\r\n\r\n    String[] a = {&quot;as&quot;, &quot;asd&quot;, &quot;ssd&quot;};\r\n\r\nIf it&#39;s a character array:\r\n\r\n    char[] a = {&#39;a&#39;, &#39;s&#39;, &#39;w&#39;};\r\n\r\nFor float double, the format of array will be same as integer.\r\n\r\nFor example:\r\n\r\n    double[] a = {1.2, 1.3, 12.3};\r\n\r\nbut when you declare and initialize the array by &quot;method a&quot; you will have to enter the values manually or by loop or something.\r\n\r\nBut when you do it by &quot;method b&quot; you will not have to enter the values manually.\r\n\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>It's very easy to declare and initialize an array.\nFor example, you want to save five integer elements which are 1, 2, 3, 4, and 5 in an array. You can do it in the following way:</p>\n\n<p>a)</p>\n\n<pre><code>int[] a = new int[5];\n</code></pre>\n\n<p>or</p>\n\n<p>b)</p>\n\n<pre><code>int[] a = {1, 2, 3, 4, 5};\n</code></pre>\n\n<p>so the basic pattern is for initialization and declaration by method a) is:</p>\n\n<pre><code>datatype[] arrayname = new datatype[requiredarraysize];\n</code></pre>\n\n<p><code>datatype</code> should be in lower case.</p>\n\n<p>So the basic pattern is for initialization and declaration by method a is:</p>\n\n<p>If it's a string array:</p>\n\n<pre><code>String[] a = {\"as\", \"asd\", \"ssd\"};\n</code></pre>\n\n<p>If it's a character array:</p>\n\n<pre><code>char[] a = {'a', 's', 'w'};\n</code></pre>\n\n<p>For float double, the format of array will be same as integer.</p>\n\n<p>For example:</p>\n\n<pre><code>double[] a = {1.2, 1.3, 12.3};\n</code></pre>\n\n<p>but when you declare and initialize the array by \"method a\" you will have to enter the values manually or by loop or something.</p>\n\n<p>But when you do it by \"method b\" you will not have to enter the values manually.</p>\n"},{"tags":[],"owner":{"account_id":6744132,"reputation":4057,"user_id":5196286,"display_name":"Zgpeace"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609552572,"creation_date":1579569121,"answer_id":59832904,"question_id":1200621,"body_markdown":"An array can contain primitives data types as well as objects of a class depending on the definition of the array. In case of primitives data types, the actual values are stored in contiguous memory locations. In case of objects of a class, the actual objects are stored in the heap segment.\r\n\r\n![](https://media.geeksforgeeks.org/wp-content/uploads/Arrays1.png)&lt;br&gt;\r\n\r\n**One-Dimensional Arrays:**\r\n\r\nThe general form of a one-dimensional array declaration is\r\n\r\n    type var-name[];\r\n    OR\r\n    type[] var-name;\r\n\r\n**Instantiating an Array in Java**\r\n\r\n    var-name = new type [size];\r\n\r\nFor example,\r\n\r\n    int intArray[];  // Declaring an array\r\n    intArray = new int[20];  // Allocating memory to the array\r\n\r\n    // The below line is equal to line1 + line2\r\n    int[] intArray = new int[20]; // Combining both statements in one\r\n    int[] intArray = new int[]{ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\r\n\r\n    // Accessing the elements of the specified array\r\n    for (int i = 0; i &lt; intArray.length; i++)\r\n        System.out.println(&quot;Element at index &quot; + i + &quot;: &quot;+ intArray[i]);\r\n\r\nRef: *[Arrays in Java][1]*\r\n\r\n  [1]: https://www.geeksforgeeks.org/arrays-in-java/\r\n\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>An array can contain primitives data types as well as objects of a class depending on the definition of the array. In case of primitives data types, the actual values are stored in contiguous memory locations. In case of objects of a class, the actual objects are stored in the heap segment.</p>\n<p><img src=\"https://media.geeksforgeeks.org/wp-content/uploads/Arrays1.png\" alt=\"\" /><br></p>\n<p><strong>One-Dimensional Arrays:</strong></p>\n<p>The general form of a one-dimensional array declaration is</p>\n<pre><code>type var-name[];\nOR\ntype[] var-name;\n</code></pre>\n<p><strong>Instantiating an Array in Java</strong></p>\n<pre><code>var-name = new type [size];\n</code></pre>\n<p>For example,</p>\n<pre><code>int intArray[];  // Declaring an array\nintArray = new int[20];  // Allocating memory to the array\n\n// The below line is equal to line1 + line2\nint[] intArray = new int[20]; // Combining both statements in one\nint[] intArray = new int[]{ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\n\n// Accessing the elements of the specified array\nfor (int i = 0; i &lt; intArray.length; i++)\n    System.out.println(&quot;Element at index &quot; + i + &quot;: &quot;+ intArray[i]);\n</code></pre>\n<p>Ref: <em><a href=\"https://www.geeksforgeeks.org/arrays-in-java/\" rel=\"nofollow noreferrer\">Arrays in Java</a></em></p>\n"},{"comments":[{"owner":{"account_id":17659343,"reputation":735,"user_id":12818123,"display_name":"Zia"},"score":2,"creation_date":1584600543,"post_id":60332580,"comment_id":107487159,"body_markdown":"Thank you @Matheus for improving my answers. I would request you to upvote this, so this can reach more users.","body":"Thank you @Matheus for improving my answers. I would request you to upvote this, so this can reach more users."}],"tags":[],"owner":{"account_id":17659343,"reputation":735,"user_id":12818123,"display_name":"Zia"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1700491806,"creation_date":1582262116,"answer_id":60332580,"question_id":1200621,"body_markdown":"An array has two basic types.\r\n\r\n&gt; **Static Array:** Fixed size array (its size should be declared at the start and can not be changed later)\r\n\r\n&gt; **Dynamic Array:** No size limit is considered for this. (Pure dynamic arrays do not exist in Java. Instead, List is most encouraged.)\r\n\r\nTo declare a static array of Integer, string, float, etc., use the below declaration and initialization statements.\r\n\r\n```\r\nint[] intArray = new int[10];\r\nString[] intArray = new int[10];\r\nfloat[] intArray = new int[10];\r\n\r\n// Here you have 10 index starting from 0 to 9\r\n```\r\n\r\nTo use dynamic features, you have to use List...\r\nList is pure **dynamic Array** and there is no need to declare size at beginning.\r\nBelow is the proper way to declare a list in Java -\r\n\r\n```\r\nArrayList&lt;String&gt; myArray = new ArrayList&lt;String&gt;();\r\nmyArray.add(&quot;Value 1: something&quot;);\r\nmyArray.add(&quot;Value 2: something more&quot;);\r\n```","title":"How do I declare and initialize an array in Java?","body":"<p>An array has two basic types.</p>\n<blockquote>\n<p><strong>Static Array:</strong> Fixed size array (its size should be declared at the start and can not be changed later)</p>\n</blockquote>\n<blockquote>\n<p><strong>Dynamic Array:</strong> No size limit is considered for this. (Pure dynamic arrays do not exist in Java. Instead, List is most encouraged.)</p>\n</blockquote>\n<p>To declare a static array of Integer, string, float, etc., use the below declaration and initialization statements.</p>\n<pre><code>int[] intArray = new int[10];\nString[] intArray = new int[10];\nfloat[] intArray = new int[10];\n\n// Here you have 10 index starting from 0 to 9\n</code></pre>\n<p>To use dynamic features, you have to use List...\nList is pure <strong>dynamic Array</strong> and there is no need to declare size at beginning.\nBelow is the proper way to declare a list in Java -</p>\n<pre><code>ArrayList&lt;String&gt; myArray = new ArrayList&lt;String&gt;();\nmyArray.add(&quot;Value 1: something&quot;);\nmyArray.add(&quot;Value 2: something more&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17577188,"reputation":119,"user_id":12751682,"display_name":"Virangaa"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1700492100,"creation_date":1582308791,"answer_id":60344202,"question_id":1200621,"body_markdown":"    int[] x = new int[enter the size of array here];\r\n\r\n\r\nExample:\r\n\r\n    int[] x = new int[10];\r\n\r\nOr\r\n\r\n    int[] x = {enter the elements of array here];\r\n\r\nExample:\r\n\r\n    int[] x = {10, 65, 40, 5, 48, 31};\r\n","title":"How do I declare and initialize an array in Java?","body":"<pre><code>int[] x = new int[enter the size of array here];\n</code></pre>\n<p>Example:</p>\n<pre><code>int[] x = new int[10];\n</code></pre>\n<p>Or</p>\n<pre><code>int[] x = {enter the elements of array here];\n</code></pre>\n<p>Example:</p>\n<pre><code>int[] x = {10, 65, 40, 5, 48, 31};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609551994,"creation_date":1590944750,"answer_id":62119703,"question_id":1200621,"body_markdown":"One another full example with a movies class:\r\n\r\n    public class A {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            class Movie {\r\n\r\n                String movieName;\r\n                String genre;\r\n                String movieType;\r\n                String year;\r\n                String ageRating;\r\n                String rating;\r\n\r\n                public Movie(String [] str)\r\n                {\r\n                    this.movieName = str[0];\r\n                    this.genre = str[1];\r\n                    this.movieType = str[2];\r\n                    this.year = str[3];\r\n                    this.ageRating = str[4];\r\n                    this.rating = str[5];\r\n                }\r\n            }\r\n\r\n            String [] movieDetailArr = {&quot;Inception&quot;, &quot;Thriller&quot;, &quot;MovieType&quot;, &quot;2010&quot;, &quot;13+&quot;, &quot;10/10&quot;};\r\n\r\n            Movie mv = new Movie(movieDetailArr);\r\n\r\n            System.out.println(&quot;Movie Name: &quot;+ mv.movieName);\r\n            System.out.println(&quot;Movie genre: &quot;+ mv.genre);\r\n            System.out.println(&quot;Movie type: &quot;+ mv.movieType);\r\n            System.out.println(&quot;Movie year: &quot;+ mv.year);\r\n            System.out.println(&quot;Movie age : &quot;+ mv.ageRating);\r\n            System.out.println(&quot;Movie  rating: &quot;+ mv.rating);\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>One another full example with a movies class:</p>\n<pre><code>public class A {\n\n    public static void main(String[] args) {\n\n        class Movie {\n\n            String movieName;\n            String genre;\n            String movieType;\n            String year;\n            String ageRating;\n            String rating;\n\n            public Movie(String [] str)\n            {\n                this.movieName = str[0];\n                this.genre = str[1];\n                this.movieType = str[2];\n                this.year = str[3];\n                this.ageRating = str[4];\n                this.rating = str[5];\n            }\n        }\n\n        String [] movieDetailArr = {&quot;Inception&quot;, &quot;Thriller&quot;, &quot;MovieType&quot;, &quot;2010&quot;, &quot;13+&quot;, &quot;10/10&quot;};\n\n        Movie mv = new Movie(movieDetailArr);\n\n        System.out.println(&quot;Movie Name: &quot;+ mv.movieName);\n        System.out.println(&quot;Movie genre: &quot;+ mv.genre);\n        System.out.println(&quot;Movie type: &quot;+ mv.movieType);\n        System.out.println(&quot;Movie year: &quot;+ mv.year);\n        System.out.println(&quot;Movie age : &quot;+ mv.ageRating);\n        System.out.println(&quot;Movie  rating: &quot;+ mv.rating);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1609551904,"post_id":64201568,"comment_id":115865583,"body_markdown":"An explanation would be in order.","body":"An explanation would be in order."}],"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609551881,"creation_date":1601862935,"answer_id":64201568,"question_id":1200621,"body_markdown":"    package com.examplehub.basics;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class Array {\r\n\r\n        public static void main(String[] args) {\r\n            int[] numbers = {1, 2, 3, 4, 5};\r\n\r\n            /*\r\n             * numbers[0] = 1\r\n             * numbers[1] = 2\r\n             * numbers[2] = 3\r\n             * numbers[3] = 4\r\n             * numbers[4] = 5\r\n             */\r\n            System.out.println(&quot;numbers[0] = &quot; + numbers[0]);\r\n            System.out.println(&quot;numbers[1] = &quot; + numbers[1]);\r\n            System.out.println(&quot;numbers[2] = &quot; + numbers[2]);\r\n            System.out.println(&quot;numbers[3] = &quot; + numbers[3]);\r\n            System.out.println(&quot;numbers[4] = &quot; + numbers[4]);\r\n\r\n            /*\r\n             * Array index is out of bounds\r\n             */\r\n            //System.out.println(numbers[-1]);\r\n            //System.out.println(numbers[5]);\r\n\r\n\r\n            /*\r\n             * numbers[0] = 1\r\n             * numbers[1] = 2\r\n             * numbers[2] = 3\r\n             * numbers[3] = 4\r\n             * numbers[4] = 5\r\n             */\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(&quot;numbers[&quot; + i + &quot;] = &quot; + numbers[i]);\r\n            }\r\n\r\n            /*\r\n             * Length of numbers = 5\r\n             */\r\n            System.out.println(&quot;length of numbers = &quot; + numbers.length);\r\n\r\n            /*\r\n             * numbers[0] = 1\r\n             * numbers[1] = 2\r\n             * numbers[2] = 3\r\n             * numbers[3] = 4\r\n             * numbers[4] = 5\r\n             */\r\n            for (int i = 0; i &lt; numbers.length; i++) {\r\n                System.out.println(&quot;numbers[&quot; + i + &quot;] = &quot; + numbers[i]);\r\n            }\r\n\r\n            /*\r\n             * numbers[4] = 5\r\n             * numbers[3] = 4\r\n             * numbers[2] = 3\r\n             * numbers[1] = 2\r\n             * numbers[0] = 1\r\n             */\r\n            for (int i = numbers.length - 1; i &gt;= 0; i--) {\r\n                System.out.println(&quot;numbers[&quot; + i + &quot;] = &quot; + numbers[i]);\r\n            }\r\n\r\n            /*\r\n             * 12345\r\n             */\r\n            for (int number : numbers) {\r\n                System.out.print(number);\r\n            }\r\n            System.out.println();\r\n\r\n            /*\r\n             * [1, 2, 3, 4, 5]\r\n             */\r\n            System.out.println(Arrays.toString(numbers));\r\n\r\n\r\n\r\n            String[] company = {&quot;Google&quot;, &quot;Facebook&quot;, &quot;Amazon&quot;, &quot;Microsoft&quot;};\r\n\r\n            /*\r\n             * company[0] = Google\r\n             * company[1] = Facebook\r\n             * company[2] = Amazon\r\n             * company[3] = Microsoft\r\n             */\r\n            for (int i = 0; i &lt; company.length; i++) {\r\n                System.out.println(&quot;company[&quot; + i + &quot;] = &quot; + company[i]);\r\n            }\r\n\r\n            /*\r\n             * Google\r\n             * Facebook\r\n             * Amazon\r\n             * Microsoft\r\n             */\r\n            for (String c : company) {\r\n                System.out.println(c);\r\n            }\r\n\r\n            /*\r\n             * [Google, Facebook, Amazon, Microsoft]\r\n             */\r\n            System.out.println(Arrays.toString(company));\r\n\r\n            int[][] twoDimensionalNumbers = {\r\n                    {1, 2, 3},\r\n                    {4, 5, 6, 7},\r\n                    {8, 9},\r\n                    {10, 11, 12, 13, 14, 15}\r\n            };\r\n\r\n            /*\r\n             * total rows  = 4\r\n             */\r\n            System.out.println(&quot;total rows  = &quot; + twoDimensionalNumbers.length);\r\n\r\n            /*\r\n             * row 0 length = 3\r\n             * row 1 length = 4\r\n             * row 2 length = 2\r\n             * row 3 length = 6\r\n             */\r\n            for (int i = 0; i &lt; twoDimensionalNumbers.length; i++) {\r\n                System.out.println(&quot;row &quot; + i + &quot; length = &quot; + twoDimensionalNumbers[i].length);\r\n            }\r\n\r\n            /*\r\n             * row 0 = 1 2 3\r\n             * row 1 = 4 5 6 7\r\n             * row 2 = 8 9\r\n             * row 3 = 10 11 12 13 14 15\r\n             */\r\n            for (int i = 0; i &lt; twoDimensionalNumbers.length; i++) {\r\n                System.out.print(&quot;row &quot; + i + &quot; = &quot;);\r\n                for (int j = 0; j &lt; twoDimensionalNumbers[i].length; j++) {\r\n                    System.out.print(twoDimensionalNumbers[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n\r\n            /*\r\n             * row 0 = [1, 2, 3]\r\n             * row 1 = [4, 5, 6, 7]\r\n             * row 2 = [8, 9]\r\n             * row 3 = [10, 11, 12, 13, 14, 15]\r\n             */\r\n            for (int i = 0; i &lt; twoDimensionalNumbers.length; i++) {\r\n                System.out.println(&quot;row &quot; + i + &quot; = &quot; + Arrays.toString(twoDimensionalNumbers[i]));\r\n            }\r\n\r\n            /*\r\n             * 1 2 3\r\n             * 4 5 6 7\r\n             * 8 9\r\n             * 10 11 12 13 14 15\r\n             */\r\n            for (int[] ints : twoDimensionalNumbers) {\r\n                for (int num : ints) {\r\n                    System.out.print(num + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n\r\n            /*\r\n             * [1, 2, 3]\r\n             * [4, 5, 6, 7]\r\n             * [8, 9]\r\n             * [10, 11, 12, 13, 14, 15]\r\n             */\r\n            for (int[] ints : twoDimensionalNumbers) {\r\n                System.out.println(Arrays.toString(ints));\r\n            }\r\n\r\n\r\n            int length = 5;\r\n            int[] array = new int[length];\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                array[i] = i + 1;\r\n            }\r\n\r\n            /*\r\n             * [1, 2, 3, 4, 5]\r\n             */\r\n            System.out.println(Arrays.toString(array));\r\n\r\n        }\r\n    }\r\n\r\n[Source from examplehub/java][1]\r\n\r\n  [1]: https://github.com/examplehub/Java/blob/master/src/main/java/com/examplehub/basics/Array.java\r\n","title":"How do I declare and initialize an array in Java?","body":"<pre><code>package com.examplehub.basics;\n\nimport java.util.Arrays;\n\npublic class Array {\n\n    public static void main(String[] args) {\n        int[] numbers = {1, 2, 3, 4, 5};\n\n        /*\n         * numbers[0] = 1\n         * numbers[1] = 2\n         * numbers[2] = 3\n         * numbers[3] = 4\n         * numbers[4] = 5\n         */\n        System.out.println(&quot;numbers[0] = &quot; + numbers[0]);\n        System.out.println(&quot;numbers[1] = &quot; + numbers[1]);\n        System.out.println(&quot;numbers[2] = &quot; + numbers[2]);\n        System.out.println(&quot;numbers[3] = &quot; + numbers[3]);\n        System.out.println(&quot;numbers[4] = &quot; + numbers[4]);\n\n        /*\n         * Array index is out of bounds\n         */\n        //System.out.println(numbers[-1]);\n        //System.out.println(numbers[5]);\n\n\n        /*\n         * numbers[0] = 1\n         * numbers[1] = 2\n         * numbers[2] = 3\n         * numbers[3] = 4\n         * numbers[4] = 5\n         */\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(&quot;numbers[&quot; + i + &quot;] = &quot; + numbers[i]);\n        }\n\n        /*\n         * Length of numbers = 5\n         */\n        System.out.println(&quot;length of numbers = &quot; + numbers.length);\n\n        /*\n         * numbers[0] = 1\n         * numbers[1] = 2\n         * numbers[2] = 3\n         * numbers[3] = 4\n         * numbers[4] = 5\n         */\n        for (int i = 0; i &lt; numbers.length; i++) {\n            System.out.println(&quot;numbers[&quot; + i + &quot;] = &quot; + numbers[i]);\n        }\n\n        /*\n         * numbers[4] = 5\n         * numbers[3] = 4\n         * numbers[2] = 3\n         * numbers[1] = 2\n         * numbers[0] = 1\n         */\n        for (int i = numbers.length - 1; i &gt;= 0; i--) {\n            System.out.println(&quot;numbers[&quot; + i + &quot;] = &quot; + numbers[i]);\n        }\n\n        /*\n         * 12345\n         */\n        for (int number : numbers) {\n            System.out.print(number);\n        }\n        System.out.println();\n\n        /*\n         * [1, 2, 3, 4, 5]\n         */\n        System.out.println(Arrays.toString(numbers));\n\n\n\n        String[] company = {&quot;Google&quot;, &quot;Facebook&quot;, &quot;Amazon&quot;, &quot;Microsoft&quot;};\n\n        /*\n         * company[0] = Google\n         * company[1] = Facebook\n         * company[2] = Amazon\n         * company[3] = Microsoft\n         */\n        for (int i = 0; i &lt; company.length; i++) {\n            System.out.println(&quot;company[&quot; + i + &quot;] = &quot; + company[i]);\n        }\n\n        /*\n         * Google\n         * Facebook\n         * Amazon\n         * Microsoft\n         */\n        for (String c : company) {\n            System.out.println(c);\n        }\n\n        /*\n         * [Google, Facebook, Amazon, Microsoft]\n         */\n        System.out.println(Arrays.toString(company));\n\n        int[][] twoDimensionalNumbers = {\n                {1, 2, 3},\n                {4, 5, 6, 7},\n                {8, 9},\n                {10, 11, 12, 13, 14, 15}\n        };\n\n        /*\n         * total rows  = 4\n         */\n        System.out.println(&quot;total rows  = &quot; + twoDimensionalNumbers.length);\n\n        /*\n         * row 0 length = 3\n         * row 1 length = 4\n         * row 2 length = 2\n         * row 3 length = 6\n         */\n        for (int i = 0; i &lt; twoDimensionalNumbers.length; i++) {\n            System.out.println(&quot;row &quot; + i + &quot; length = &quot; + twoDimensionalNumbers[i].length);\n        }\n\n        /*\n         * row 0 = 1 2 3\n         * row 1 = 4 5 6 7\n         * row 2 = 8 9\n         * row 3 = 10 11 12 13 14 15\n         */\n        for (int i = 0; i &lt; twoDimensionalNumbers.length; i++) {\n            System.out.print(&quot;row &quot; + i + &quot; = &quot;);\n            for (int j = 0; j &lt; twoDimensionalNumbers[i].length; j++) {\n                System.out.print(twoDimensionalNumbers[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n\n        /*\n         * row 0 = [1, 2, 3]\n         * row 1 = [4, 5, 6, 7]\n         * row 2 = [8, 9]\n         * row 3 = [10, 11, 12, 13, 14, 15]\n         */\n        for (int i = 0; i &lt; twoDimensionalNumbers.length; i++) {\n            System.out.println(&quot;row &quot; + i + &quot; = &quot; + Arrays.toString(twoDimensionalNumbers[i]));\n        }\n\n        /*\n         * 1 2 3\n         * 4 5 6 7\n         * 8 9\n         * 10 11 12 13 14 15\n         */\n        for (int[] ints : twoDimensionalNumbers) {\n            for (int num : ints) {\n                System.out.print(num + &quot; &quot;);\n            }\n            System.out.println();\n        }\n\n        /*\n         * [1, 2, 3]\n         * [4, 5, 6, 7]\n         * [8, 9]\n         * [10, 11, 12, 13, 14, 15]\n         */\n        for (int[] ints : twoDimensionalNumbers) {\n            System.out.println(Arrays.toString(ints));\n        }\n\n\n        int length = 5;\n        int[] array = new int[length];\n        for (int i = 0; i &lt; 5; i++) {\n            array[i] = i + 1;\n        }\n\n        /*\n         * [1, 2, 3, 4, 5]\n         */\n        System.out.println(Arrays.toString(array));\n\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/examplehub/Java/blob/master/src/main/java/com/examplehub/basics/Array.java\" rel=\"nofollow noreferrer\">Source from examplehub/java</a></p>\n"},{"tags":[],"owner":{"account_id":93838,"reputation":13057,"user_id":256544,"display_name":"splash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644849024,"creation_date":1644849024,"answer_id":71113499,"question_id":1200621,"body_markdown":"Sometimes I use this for initializing String arrays:\r\n\r\n    private static final String[] PROPS = &quot;lastStart,storetime,tstore&quot;.split(&quot;,&quot;);\r\n\r\nIt reduces the quoting clutter at the cost of a more expensive initialization.","title":"How do I declare and initialize an array in Java?","body":"<p>Sometimes I use this for initializing String arrays:</p>\n<pre><code>private static final String[] PROPS = &quot;lastStart,storetime,tstore&quot;.split(&quot;,&quot;);\n</code></pre>\n<p>It reduces the quoting clutter at the cost of a more expensive initialization.</p>\n"},{"tags":[],"owner":{"account_id":12444230,"reputation":549,"user_id":9061008,"display_name":"Dmitry Rakovets"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1658469980,"creation_date":1656651178,"answer_id":72824507,"question_id":1200621,"body_markdown":"# Declaration\r\n\r\n## One Dimensional Array\r\n\r\n```java\r\nint[] nums1; // best practice\r\nint []nums2;\r\nint nums3[];\r\n```\r\n\r\n## Multidimensional array\r\n\r\n```java\r\nint[][] nums1; // best practice\r\nint [][]nums2;\r\nint[] []nums3;\r\nint[] nums4[];\r\nint nums5[][];\r\n```\r\n\r\n# Declaration and Initialization\r\n\r\n## One Dimensional Array\r\n\r\n### With default values\r\n\r\n```java\r\nint[] nums = new int[3]; // [0, 0, 0]\r\n\r\nObject[] objects = new Object[3]; // [null, null, null]\r\n```\r\n\r\n### With array literal\r\n\r\n```java\r\nint[] nums1 = {1, 2, 3};\r\nint[] nums2 = new int[]{1, 2, 3};\r\n\r\nObject[] objects1 = {new Object(), new Object(), new Object()};\r\nObject[] objects2 = new Object[]{new Object(), new Object(), new Object()};\r\n```\r\n\r\n### With loop `for`\r\n\r\n```java\r\nint[] nums = new int[3];\r\nfor (int i = 0; i &lt; nums.length; i++) {\r\n    nums[i] = i; // can contain any YOUR filling strategy\r\n}\r\n\r\nObject[] objects = new Object[3];\r\nfor (int i = 0; i &lt; objects.length; i++) {\r\n    objects[i] = new Object(); // can contain any YOUR filling strategy\r\n}\r\n```\r\n\r\n### With loop `for` and `Random`\r\n\r\n```java\r\nint[] nums = new int[10];\r\nRandom random = new Random();\r\nfor (int i = 0; i &lt; nums.length; i++) {\r\n    nums[i] = random.nextInt(10); // random int from 0 to 9\r\n}\r\n```\r\n\r\n### With `Stream` (since Java 8)\r\n\r\n```java\r\nint[] nums1 = IntStream.range(0, 3)\r\n                       .toArray(); // [0, 1, 2]\r\nint[] nums2 = IntStream.rangeClosed(0, 3)\r\n                       .toArray(); // [0, 1, 2, 3]\r\nint[] nums3 = IntStream.of(10, 11, 12, 13)\r\n                       .toArray(); // [10, 11, 12, 13]\r\nint[] nums4 = IntStream.of(12, 11, 13, 10)\r\n                       .sorted()\r\n                       .toArray(); // [10, 11, 12, 13]\r\nint[] nums5 = IntStream.iterate(0, x -&gt; x &lt;= 3, x -&gt; x + 1)\r\n                       .toArray(); // [0, 1, 2, 3]\r\nint[] nums6 = IntStream.iterate(0, x -&gt; x + 1)\r\n                       .takeWhile(x -&gt; x &lt; 3)\r\n                       .toArray(); // [0, 1, 2]\r\n\r\nint size = 3;\r\nObject[] objects1 = IntStream.range(0, size)\r\n        .mapToObj(i -&gt; new Object()) // can contain any YOUR filling strategy\r\n        .toArray(Object[]::new);\r\n\r\nObject[] objects2 = Stream.generate(() -&gt; new Object()) // can contain any YOUR filling strategy\r\n        .limit(size)\r\n        .toArray(Object[]::new);\r\n```\r\n\r\n### With `Random` and `Stream` (since Java 8)\r\n\r\n```java\r\nint size = 3;\r\nint randomNumberOrigin = -10;\r\nint randomNumberBound = 10\r\nint[] nums = new Random().ints(size, randomNumberOrigin, randomNumberBound).toArray();\r\n```\r\n\r\n## Multidimensional array\r\n\r\n### With default value\r\n\r\n```java\r\nint[][] nums = new int[3][3]; // [[0, 0, 0], [0, 0, 0], [0, 0, 0]]\r\n\r\nObject[][] objects = new Object[3][3]; // [[null, null, null], [null, null, null], [null, null, null]]\r\n```\r\n\r\n### With array literal\r\n\r\n```java\r\nint[][] nums1 = {\r\n        {1, 2, 3},\r\n        {4, 5, 6},\r\n        {7, 8, 9}\r\n};\r\nint[][] nums2 = new int[][]{\r\n        {1, 2, 3},\r\n        {4, 5, 6},\r\n        {7, 8, 9}\r\n};\r\n\r\nObject[][] objects1 = {\r\n        {new Object(), new Object(), new Object()},\r\n        {new Object(), new Object(), new Object()},\r\n        {new Object(), new Object(), new Object()}\r\n};\r\nObject[][] objects2 = new Object[][]{\r\n        {new Object(), new Object(), new Object()},\r\n        {new Object(), new Object(), new Object()},\r\n        {new Object(), new Object(), new Object()}\r\n};\r\n```\r\n\r\n### With loop `for`\r\n\r\n```java\r\nint[][] nums = new int[3][3];\r\nfor (int i = 0; i &lt; nums.length; i++) {\r\n    for (int j = 0; j &lt; nums[i].length; i++) {\r\n        nums[i][j] = i + j; // can contain any YOUR filling strategy\r\n    }\r\n}\r\n\r\nObject[][] objects = new Object[3][3];\r\nfor (int i = 0; i &lt; objects.length; i++) {\r\n    for (int j = 0; j &lt; nums[i].length; i++) {\r\n        objects[i][j] = new Object(); // can contain any YOUR filling strategy\r\n    }\r\n}\r\n```\r\n","title":"How do I declare and initialize an array in Java?","body":"<h1>Declaration</h1>\n<h2>One Dimensional Array</h2>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums1; // best practice\nint []nums2;\nint nums3[];\n</code></pre>\n<h2>Multidimensional array</h2>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] nums1; // best practice\nint [][]nums2;\nint[] []nums3;\nint[] nums4[];\nint nums5[][];\n</code></pre>\n<h1>Declaration and Initialization</h1>\n<h2>One Dimensional Array</h2>\n<h3>With default values</h3>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums = new int[3]; // [0, 0, 0]\n\nObject[] objects = new Object[3]; // [null, null, null]\n</code></pre>\n<h3>With array literal</h3>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums1 = {1, 2, 3};\nint[] nums2 = new int[]{1, 2, 3};\n\nObject[] objects1 = {new Object(), new Object(), new Object()};\nObject[] objects2 = new Object[]{new Object(), new Object(), new Object()};\n</code></pre>\n<h3>With loop <code>for</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums = new int[3];\nfor (int i = 0; i &lt; nums.length; i++) {\n    nums[i] = i; // can contain any YOUR filling strategy\n}\n\nObject[] objects = new Object[3];\nfor (int i = 0; i &lt; objects.length; i++) {\n    objects[i] = new Object(); // can contain any YOUR filling strategy\n}\n</code></pre>\n<h3>With loop <code>for</code> and <code>Random</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums = new int[10];\nRandom random = new Random();\nfor (int i = 0; i &lt; nums.length; i++) {\n    nums[i] = random.nextInt(10); // random int from 0 to 9\n}\n</code></pre>\n<h3>With <code>Stream</code> (since Java 8)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums1 = IntStream.range(0, 3)\n                       .toArray(); // [0, 1, 2]\nint[] nums2 = IntStream.rangeClosed(0, 3)\n                       .toArray(); // [0, 1, 2, 3]\nint[] nums3 = IntStream.of(10, 11, 12, 13)\n                       .toArray(); // [10, 11, 12, 13]\nint[] nums4 = IntStream.of(12, 11, 13, 10)\n                       .sorted()\n                       .toArray(); // [10, 11, 12, 13]\nint[] nums5 = IntStream.iterate(0, x -&gt; x &lt;= 3, x -&gt; x + 1)\n                       .toArray(); // [0, 1, 2, 3]\nint[] nums6 = IntStream.iterate(0, x -&gt; x + 1)\n                       .takeWhile(x -&gt; x &lt; 3)\n                       .toArray(); // [0, 1, 2]\n\nint size = 3;\nObject[] objects1 = IntStream.range(0, size)\n        .mapToObj(i -&gt; new Object()) // can contain any YOUR filling strategy\n        .toArray(Object[]::new);\n\nObject[] objects2 = Stream.generate(() -&gt; new Object()) // can contain any YOUR filling strategy\n        .limit(size)\n        .toArray(Object[]::new);\n</code></pre>\n<h3>With <code>Random</code> and <code>Stream</code> (since Java 8)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>int size = 3;\nint randomNumberOrigin = -10;\nint randomNumberBound = 10\nint[] nums = new Random().ints(size, randomNumberOrigin, randomNumberBound).toArray();\n</code></pre>\n<h2>Multidimensional array</h2>\n<h3>With default value</h3>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] nums = new int[3][3]; // [[0, 0, 0], [0, 0, 0], [0, 0, 0]]\n\nObject[][] objects = new Object[3][3]; // [[null, null, null], [null, null, null], [null, null, null]]\n</code></pre>\n<h3>With array literal</h3>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] nums1 = {\n        {1, 2, 3},\n        {4, 5, 6},\n        {7, 8, 9}\n};\nint[][] nums2 = new int[][]{\n        {1, 2, 3},\n        {4, 5, 6},\n        {7, 8, 9}\n};\n\nObject[][] objects1 = {\n        {new Object(), new Object(), new Object()},\n        {new Object(), new Object(), new Object()},\n        {new Object(), new Object(), new Object()}\n};\nObject[][] objects2 = new Object[][]{\n        {new Object(), new Object(), new Object()},\n        {new Object(), new Object(), new Object()},\n        {new Object(), new Object(), new Object()}\n};\n</code></pre>\n<h3>With loop <code>for</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] nums = new int[3][3];\nfor (int i = 0; i &lt; nums.length; i++) {\n    for (int j = 0; j &lt; nums[i].length; i++) {\n        nums[i][j] = i + j; // can contain any YOUR filling strategy\n    }\n}\n\nObject[][] objects = new Object[3][3];\nfor (int i = 0; i &lt; objects.length; i++) {\n    for (int j = 0; j &lt; nums[i].length; i++) {\n        objects[i][j] = new Object(); // can contain any YOUR filling strategy\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672925904,"creation_date":1672925904,"answer_id":75019294,"question_id":1200621,"body_markdown":"for initializing with default value other than 0:\r\n\r\n```java\r\nvar arr = new int[1000];\r\nArrays.fill(arr, 1);\r\n```","title":"How do I declare and initialize an array in Java?","body":"<p>for initializing with default value other than 0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var arr = new int[1000];\nArrays.fill(arr, 1);\n</code></pre>\n"}],"owner":{"account_id":17991,"reputation":26532,"user_id":40842,"accept_rate":56,"display_name":"bestattendance"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5702819,"favorite_count":0,"down_vote_count":56,"up_vote_count":2582,"accepted_answer_id":1200646,"answer_count":31,"score":2526,"last_activity_date":1700492100,"creation_date":1248877347,"question_id":1200621,"body_markdown":"How do I declare and initialize an array in Java?\r\n","title":"How do I declare and initialize an array in Java?","body":"<p>How do I declare and initialize an array in Java?</p>\n"},{"tags":["java","react-native","android-studio","gradle","dependencies"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700503229,"post_id":77515186,"comment_id":136660071,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700491910,"creation_date":1700491910,"answer_id":77516829,"question_id":77515186,"body_markdown":"You use Gradle plugins that require that you run Gradle at least with Java 11, but you are running Gradle with Java 8. Use a newer Java version to run Gradle and it will work properly, but stay within the bounds of https://docs.gradle.org/current/userguide/compatibility.html.","title":"Compatibility error with React Native - the whole error here","body":"<p>You use Gradle plugins that require that you run Gradle at least with Java 11, but you are running Gradle with Java 8. Use a newer Java version to run Gradle and it will work properly, but stay within the bounds of <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a>.</p>\n"}],"owner":{"account_id":29947782,"reputation":1,"user_id":22950639,"display_name":"Umanand Tripathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700491910,"creation_date":1700476782,"question_id":77515186,"body_markdown":"my java version in my system is 1.8.0\r\ngradle version is 8.4\r\nkotlin is 1.9.0\r\nGroovy is 3.0.17\r\n\r\nnow the read the whole error which I am getting whether I run ./gralew clean or ./gradlew assembleDebug\r\nor npm run android is \r\nthis -- understand carefully  then offer your suggestion\r\n```plain\r\nBuilding app...\r\nConfiguration on demand is an incubating feature.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;expobareworkflow&#39;.\r\n&gt; Could not determine the dependencies of null.\r\n   &gt; Could not resolve all task dependencies for configuration &#39;:classpath&#39;.\r\n      &gt; Could not find com.android.tools.build:gradle:8.4.\r\n        Searched in the following locations:\r\n          - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/8.4/gradle-8.4.pom \r\n          - https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/8.4/gradle-8.4.pom    \r\n        Required by:\r\n            project :\r\n      &gt; Could not resolve com.facebook.react:react-native-gradle-plugin.\r\n        Required by:\r\n            project :\r\n         &gt; No matching variant of project :gradle-plugin was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.4&#39; but:\r\n             - Variant &#39;apiElements&#39; capability com.facebook.react:react-native-gradle-plugin:unspecified declares a library, packaged as a jar, and its dependencies declared externally:\r\n                 - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\r\n                 - Other compatible attribute:\r\n                     - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.4&#39;)      \r\n             - Variant &#39;mainSourceElements&#39; capability com.facebook.react:react-native-gradle-plugin:unspecified declares a component, and its dependencies declared externally:\r\n                 - Incompatible because this component declares a component of category &#39;verification&#39; and the consumer needed a library\r\n                 - Other compatible attributes:\r\n                     - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                     - Doesn&#39;t say anything about its elements (required them packaged as a jar)      \r\n                     - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.4&#39;)      \r\n                     - Doesn&#39;t say anything about its usage (required runtime)\r\n             - Variant &#39;runtimeElements&#39; capability com.facebook.react:react-native-gradle-plugin:unspecified declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n                 - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\r\n                 - Other compatible attribute:\r\n                     - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.4&#39;)      \r\n             - Variant &#39;testResultsElementsForTest&#39; capability com.facebook.react:react-native-gradle-plugin:unspecified:\r\n                 - Incompatible because this component declares a component of category &#39;verification&#39; and the consumer needed a library\r\n                 - Other compatible attributes:\r\n                     - Doesn&#39;t say anything about how its dependencies are found (required its dependencies declared externally)\r\n                     - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                     - Doesn&#39;t say anything about its elements (required them packaged as a jar)      \r\n                     - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.4&#39;)      \r\n                     - Doesn&#39;t say anything about its usage (required runtime)\r\nBUILD FAILED in 2m 12s\r\nError: E:\\React_native\\expo_bare_workflow\\android\\gradlew.bat exited with non-zero code: 1\r\n```","title":"Compatibility error with React Native - the whole error here","body":"<p>my java version in my system is 1.8.0\ngradle version is 8.4\nkotlin is 1.9.0\nGroovy is 3.0.17</p>\n<p>now the read the whole error which I am getting whether I run ./gralew clean or ./gradlew assembleDebug\nor npm run android is\nthis -- understand carefully  then offer your suggestion</p>\n<pre><code>Building app...\nConfiguration on demand is an incubating feature.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'expobareworkflow'.\n&gt; Could not determine the dependencies of null.\n   &gt; Could not resolve all task dependencies for configuration ':classpath'.\n      &gt; Could not find com.android.tools.build:gradle:8.4.\n        Searched in the following locations:\n          - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/8.4/gradle-8.4.pom \n          - https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/8.4/gradle-8.4.pom    \n        Required by:\n            project :\n      &gt; Could not resolve com.facebook.react:react-native-gradle-plugin.\n        Required by:\n            project :\n         &gt; No matching variant of project :gradle-plugin was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.4' but:\n             - Variant 'apiElements' capability com.facebook.react:react-native-gradle-plugin:unspecified declares a library, packaged as a jar, and its dependencies declared externally:\n                 - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\n                 - Other compatible attribute:\n                     - Doesn't say anything about org.gradle.plugin.api-version (required '8.4')      \n             - Variant 'mainSourceElements' capability com.facebook.react:react-native-gradle-plugin:unspecified declares a component, and its dependencies declared externally:\n                 - Incompatible because this component declares a component of category 'verification' and the consumer needed a library\n                 - Other compatible attributes:\n                     - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                     - Doesn't say anything about its elements (required them packaged as a jar)      \n                     - Doesn't say anything about org.gradle.plugin.api-version (required '8.4')      \n                     - Doesn't say anything about its usage (required runtime)\n             - Variant 'runtimeElements' capability com.facebook.react:react-native-gradle-plugin:unspecified declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n                 - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\n                 - Other compatible attribute:\n                     - Doesn't say anything about org.gradle.plugin.api-version (required '8.4')      \n             - Variant 'testResultsElementsForTest' capability com.facebook.react:react-native-gradle-plugin:unspecified:\n                 - Incompatible because this component declares a component of category 'verification' and the consumer needed a library\n                 - Other compatible attributes:\n                     - Doesn't say anything about how its dependencies are found (required its dependencies declared externally)\n                     - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                     - Doesn't say anything about its elements (required them packaged as a jar)      \n                     - Doesn't say anything about org.gradle.plugin.api-version (required '8.4')      \n                     - Doesn't say anything about its usage (required runtime)\nBUILD FAILED in 2m 12s\nError: E:\\React_native\\expo_bare_workflow\\android\\gradlew.bat exited with non-zero code: 1\n</code></pre>\n"},{"tags":["java","swing","jframe","awt","actionlistener"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1648671076,"post_id":71683458,"comment_id":126686782,"body_markdown":"You never add an action listener to the JButton? Specifically `login_button.addActionListener(yourEvent);`","body":"You never add an action listener to the JButton? Specifically <code>login_button.addActionListener(yourEvent);</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1648671136,"post_id":71683458,"comment_id":126686811,"body_markdown":"@sorifiend I think you mean the ActionListener.","body":"@sorifiend I think you mean the ActionListener."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1648675292,"post_id":71683458,"comment_id":126688130,"body_markdown":"1) implementing an `ActionListener` does NOT register it to any component, it will not react on any action event unless added to a component; 2) &quot;when pressed&quot; - when WHAT is pressed? The center panel, the frame or the &quot;Login&quot; button? 3) `JFrame` and `JPanel` do not (by default) generate `ActionEvent` when clicked","body":"1) implementing an <code>ActionListener</code> does NOT register it to any component, it will not react on any action event unless added to a component; 2) &quot;when pressed&quot; - when WHAT is pressed? The center panel, the frame or the &quot;Login&quot; button? 3) <code>JFrame</code> and <code>JPanel</code> do not (by default) generate <code>ActionEvent</code> when clicked"},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1648689859,"post_id":71683458,"comment_id":126690872,"body_markdown":"Thanks all, that was it &quot;login_button.addActionListener(this);&quot;","body":"Thanks all, that was it &quot;login_button.addActionListener(this);&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700491727,"creation_date":1648671377,"answer_id":71683629,"question_id":71683458,"body_markdown":"You forgot to add an implementation of the `ActionListener` interface to your button.\r\n\r\nThe constructor should include something like this at some point:\r\n\r\n```\r\npublic BodyPanel(){\r\n   //...\r\n   login_button.addActionListener(this);\r\n   //...\r\n}\r\n```","title":"The JFrame or the JPanel don&#39;t listen to the clicking event","body":"<p>You forgot to add an implementation of the <code>ActionListener</code> interface to your button.</p>\n<p>The constructor should include something like this at some point:</p>\n<pre><code>public BodyPanel(){\n   //...\n   login_button.addActionListener(this);\n   //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648671861,"creation_date":1648671861,"answer_id":71683718,"question_id":71683458,"body_markdown":"The &quot;obvious&quot; problem is the fact that you&#39;ve not registered an `ActionListener` to the `login_button`.  The less &quot;obvious&quot; problem is, what do you do with it when the `actionPerformed` method is called.\r\n\r\nThis is where an [observer pattern](https://www.oodesign.com/observer-pattern.html) becomes important (you&#39;ve already used one, `ActionListener` is a type of an observer pattern).\r\n\r\nYou need someway to know when the `BodyPanel` has authenticated the user.  To this end, I would add some kind of &quot;login observer&quot; to the `BodyPanel`, to which the `LoginPage` would register to, for example.\r\n\r\n    public interface LoginObserver {\r\n        public void didAuthenticate(BodyPanel source, User user);\r\n    }\r\n\r\nI might also consider using [Dependency Injection](https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/) to define some kind of &quot;authentication&quot; workflow, which would be passed through `LoginPage` to `BodyPanel` to decouple the workflow, but that&#39;s probably getting beyond scope.\r\n\r\n# Runnable example\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new LoginPage();\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface User {\r\n            public String getName();\r\n        }\r\n\r\n        public class DefaultUser implements User {\r\n            private String name;\r\n\r\n            public DefaultUser(String name) {\r\n                this.name = name;\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return name;\r\n            }\r\n        }\r\n\r\n        public class LoginPage extends JFrame {\r\n    //        HeaderPanel headerPanel = new HeaderPanel();\r\n            BodyPanel bodyPanel = new BodyPanel(new BodyPanel.LoginObserver() {\r\n                @Override\r\n                public void didAuthenticate(BodyPanel source, User user) {\r\n                    JOptionPane.showMessageDialog(getContentPane(), &quot;Welcome &quot; + user.getName(), &quot;Welcome&quot;, JOptionPane.PLAIN_MESSAGE);\r\n                }\r\n            });\r\n    //        FooterPanel footerPanel = new FooterPanel();\r\n\r\n            public LoginPage() { // Constructor\r\n                this.setTitle(&quot;Login&quot;);\r\n                this.setSize(400, 600);\r\n                this.setLocationRelativeTo(null);\r\n                this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                this.getContentPane().setBackground(new Color(240, 248, 255));\r\n                this.setLayout(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.gridheight = 1;\r\n    //            this.add(headerPanel, gbc);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 1;\r\n                gbc.gridheight = 1;\r\n                this.add(bodyPanel, gbc);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 2;\r\n                gbc.gridheight = 3;\r\n    //            this.add(footerPanel, gbc);\r\n\r\n                this.pack();\r\n                this.setVisible(true);\r\n            }\r\n        }\r\n\r\n        public class BodyPanel extends JPanel implements ActionListener {\r\n            private interface LoginObserver {\r\n                public void didAuthenticate(BodyPanel source, User user);\r\n            }\r\n\r\n            JLabel login_label;\r\n            JButton login_button = new JButton(&quot;Login&quot;);\r\n            // This is VERY bad idea\r\n            //Color transparent = new Color(1f, 0f, 0f, 0f);\r\n\r\n            private JTextField userName_txb;\r\n            private JPasswordField password_txb;\r\n            private JLabel tokenResponse;\r\n\r\n            private LoginObserver loginObserver;\r\n\r\n            public BodyPanel(LoginObserver loginObserver) {\r\n                this.loginObserver = loginObserver;\r\n                //this.setBackground(transparent);\r\n                setOpaque(false);\r\n                this.setLayout(new BorderLayout());\r\n                this.setBorder(BorderFactory.createLineBorder(Color.green, 3));\r\n                //------------ Login Panel ------------------------\r\n                JPanel login_panel = new JPanel(new BorderLayout());\r\n    //            login_panel.setBackground(transparent);\r\n                login_panel.setOpaque(false);\r\n                // This is another BAD idea\r\n    //            login_panel.setPreferredSize(new Dimension(400, 100));\r\n                //login_panel.setBorder(BorderFactory.createLineBorder(Color.YELLOW, 5));\r\n\r\n                login_label = new JLabel();\r\n                login_label.setText(&quot;Login&quot;);\r\n                login_label.setHorizontalAlignment(JLabel.CENTER);\r\n                login_label.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n\r\n                login_panel.add(login_label, BorderLayout.NORTH);\r\n                //------------ Login Panel ------------------------\r\n\r\n                //------------ Input Panel ------------------------\r\n                JPanel input_fields_panel = new JPanel(new GridBagLayout());\r\n    //            input_fields_panel.setBackground(transparent);\r\n                input_fields_panel.setOpaque(false);\r\n                // This is another BAD idea\r\n    //            input_fields_panel.setPreferredSize(new Dimension(400, 150));\r\n                //input_fields_panel.setBorder(BorderFactory.createLineBorder(Color.black, 5));\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n\r\n                //-------------\r\n                JLabel userName_label = new JLabel(&quot;Username: &quot;);\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.gridwidth = 1;\r\n                gbc.gridheight = 1;\r\n                gbc.insets = new Insets(0, 10, 0, 0);\r\n                input_fields_panel.add(userName_label, gbc);\r\n\r\n                userName_txb = new JTextField(10);\r\n                //userName_txb.setPreferredSize(new Dimension(250, 30));\r\n                gbc.gridx = 3;\r\n                gbc.insets = new Insets(0, 0, 5, 20);\r\n                input_fields_panel.add(userName_txb, gbc);\r\n                //-------------\r\n\r\n                //-------------\r\n                JLabel password_label = new JLabel(&quot;Password: &quot;);\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 1;\r\n                gbc.gridwidth = 1;\r\n                gbc.gridheight = 1;\r\n                gbc.insets = new Insets(0, 10, 0, 0);\r\n                input_fields_panel.add(password_label, gbc);\r\n\r\n                password_txb = new JPasswordField(10);\r\n    //            password_txb.setPreferredSize(new Dimension(250, 30));\r\n                gbc.gridx = 1;\r\n                gbc.gridy = 1;\r\n                gbc.gridwidth = 3;\r\n                gbc.gridheight = 1;\r\n                gbc.insets = new Insets(5, 0, 5, 20);\r\n                input_fields_panel.add(password_txb, gbc);\r\n                //-------------\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 2;\r\n                gbc.gridwidth = 4;\r\n                gbc.gridheight = 1;\r\n                gbc.insets = new Insets(5, 150, 5, 150);\r\n                input_fields_panel.add(login_button, gbc);\r\n\r\n                login_button.addActionListener(this);\r\n\r\n                tokenResponse = new JLabel(&quot;Username or password, are incorrect!&quot;);\r\n                tokenResponse.setHorizontalAlignment(JLabel.CENTER);\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 3;\r\n                gbc.gridwidth = 4;\r\n                gbc.gridheight = 1;\r\n                gbc.insets = new Insets(0, 0, 0, 0);\r\n                input_fields_panel.add(tokenResponse, gbc);\r\n                //------------ Input Panel ------------------------\r\n\r\n                //-------------------------------------\r\n                this.add(login_panel, BorderLayout.NORTH);\r\n                this.add(input_fields_panel, BorderLayout.CENTER);\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (e.getSource() == login_button) {\r\n                    // Perform authentication via a seperate service\r\n                    loginObserver.didAuthenticate(this, new DefaultUser(userName_txb.getText()));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n# Notes\r\n\r\nUsing transparent color (`Color transparent = new Color(1f, 0f, 0f, 0f);`) on Swing components is going to cause no end of issues.  Swing components are either fully opaque or fully transparent and this is controlled via the `opaque` property.\r\n\r\nI would avoid using `setPreferredSize`, again, this is just going to cause you no end of issues.  Make use of the layout (`GridBagLayoutConstraints` provide a number of properties which can help adjust the spacing and size of the components), `EmptyBorder`s and, for text components, sizing hints via the `columns` property","title":"The JFrame or the JPanel don&#39;t listen to the clicking event","body":"<p>The &quot;obvious&quot; problem is the fact that you've not registered an <code>ActionListener</code> to the <code>login_button</code>.  The less &quot;obvious&quot; problem is, what do you do with it when the <code>actionPerformed</code> method is called.</p>\n<p>This is where an <a href=\"https://www.oodesign.com/observer-pattern.html\" rel=\"nofollow noreferrer\">observer pattern</a> becomes important (you've already used one, <code>ActionListener</code> is a type of an observer pattern).</p>\n<p>You need someway to know when the <code>BodyPanel</code> has authenticated the user.  To this end, I would add some kind of &quot;login observer&quot; to the <code>BodyPanel</code>, to which the <code>LoginPage</code> would register to, for example.</p>\n<pre><code>public interface LoginObserver {\n    public void didAuthenticate(BodyPanel source, User user);\n}\n</code></pre>\n<p>I might also consider using <a href=\"https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/\" rel=\"nofollow noreferrer\">Dependency Injection</a> to define some kind of &quot;authentication&quot; workflow, which would be passed through <code>LoginPage</code> to <code>BodyPanel</code> to decouple the workflow, but that's probably getting beyond scope.</p>\n<h1>Runnable example</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new LoginPage();\n            }\n        });\n    }\n\n    public interface User {\n        public String getName();\n    }\n\n    public class DefaultUser implements User {\n        private String name;\n\n        public DefaultUser(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String getName() {\n            return name;\n        }\n    }\n\n    public class LoginPage extends JFrame {\n//        HeaderPanel headerPanel = new HeaderPanel();\n        BodyPanel bodyPanel = new BodyPanel(new BodyPanel.LoginObserver() {\n            @Override\n            public void didAuthenticate(BodyPanel source, User user) {\n                JOptionPane.showMessageDialog(getContentPane(), &quot;Welcome &quot; + user.getName(), &quot;Welcome&quot;, JOptionPane.PLAIN_MESSAGE);\n            }\n        });\n//        FooterPanel footerPanel = new FooterPanel();\n\n        public LoginPage() { // Constructor\n            this.setTitle(&quot;Login&quot;);\n            this.setSize(400, 600);\n            this.setLocationRelativeTo(null);\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            this.getContentPane().setBackground(new Color(240, 248, 255));\n            this.setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n            gbc.fill = GridBagConstraints.BOTH;\n\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.gridheight = 1;\n//            this.add(headerPanel, gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy = 1;\n            gbc.gridheight = 1;\n            this.add(bodyPanel, gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy = 2;\n            gbc.gridheight = 3;\n//            this.add(footerPanel, gbc);\n\n            this.pack();\n            this.setVisible(true);\n        }\n    }\n\n    public class BodyPanel extends JPanel implements ActionListener {\n        private interface LoginObserver {\n            public void didAuthenticate(BodyPanel source, User user);\n        }\n\n        JLabel login_label;\n        JButton login_button = new JButton(&quot;Login&quot;);\n        // This is VERY bad idea\n        //Color transparent = new Color(1f, 0f, 0f, 0f);\n\n        private JTextField userName_txb;\n        private JPasswordField password_txb;\n        private JLabel tokenResponse;\n\n        private LoginObserver loginObserver;\n\n        public BodyPanel(LoginObserver loginObserver) {\n            this.loginObserver = loginObserver;\n            //this.setBackground(transparent);\n            setOpaque(false);\n            this.setLayout(new BorderLayout());\n            this.setBorder(BorderFactory.createLineBorder(Color.green, 3));\n            //------------ Login Panel ------------------------\n            JPanel login_panel = new JPanel(new BorderLayout());\n//            login_panel.setBackground(transparent);\n            login_panel.setOpaque(false);\n            // This is another BAD idea\n//            login_panel.setPreferredSize(new Dimension(400, 100));\n            //login_panel.setBorder(BorderFactory.createLineBorder(Color.YELLOW, 5));\n\n            login_label = new JLabel();\n            login_label.setText(&quot;Login&quot;);\n            login_label.setHorizontalAlignment(JLabel.CENTER);\n            login_label.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n\n            login_panel.add(login_label, BorderLayout.NORTH);\n            //------------ Login Panel ------------------------\n\n            //------------ Input Panel ------------------------\n            JPanel input_fields_panel = new JPanel(new GridBagLayout());\n//            input_fields_panel.setBackground(transparent);\n            input_fields_panel.setOpaque(false);\n            // This is another BAD idea\n//            input_fields_panel.setPreferredSize(new Dimension(400, 150));\n            //input_fields_panel.setBorder(BorderFactory.createLineBorder(Color.black, 5));\n\n            GridBagConstraints gbc = new GridBagConstraints();\n\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n            gbc.fill = GridBagConstraints.BOTH;\n\n            //-------------\n            JLabel userName_label = new JLabel(&quot;Username: &quot;);\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.gridwidth = 1;\n            gbc.gridheight = 1;\n            gbc.insets = new Insets(0, 10, 0, 0);\n            input_fields_panel.add(userName_label, gbc);\n\n            userName_txb = new JTextField(10);\n            //userName_txb.setPreferredSize(new Dimension(250, 30));\n            gbc.gridx = 3;\n            gbc.insets = new Insets(0, 0, 5, 20);\n            input_fields_panel.add(userName_txb, gbc);\n            //-------------\n\n            //-------------\n            JLabel password_label = new JLabel(&quot;Password: &quot;);\n            gbc.gridx = 0;\n            gbc.gridy = 1;\n            gbc.gridwidth = 1;\n            gbc.gridheight = 1;\n            gbc.insets = new Insets(0, 10, 0, 0);\n            input_fields_panel.add(password_label, gbc);\n\n            password_txb = new JPasswordField(10);\n//            password_txb.setPreferredSize(new Dimension(250, 30));\n            gbc.gridx = 1;\n            gbc.gridy = 1;\n            gbc.gridwidth = 3;\n            gbc.gridheight = 1;\n            gbc.insets = new Insets(5, 0, 5, 20);\n            input_fields_panel.add(password_txb, gbc);\n            //-------------\n\n            gbc.gridx = 0;\n            gbc.gridy = 2;\n            gbc.gridwidth = 4;\n            gbc.gridheight = 1;\n            gbc.insets = new Insets(5, 150, 5, 150);\n            input_fields_panel.add(login_button, gbc);\n\n            login_button.addActionListener(this);\n\n            tokenResponse = new JLabel(&quot;Username or password, are incorrect!&quot;);\n            tokenResponse.setHorizontalAlignment(JLabel.CENTER);\n            gbc.gridx = 0;\n            gbc.gridy = 3;\n            gbc.gridwidth = 4;\n            gbc.gridheight = 1;\n            gbc.insets = new Insets(0, 0, 0, 0);\n            input_fields_panel.add(tokenResponse, gbc);\n            //------------ Input Panel ------------------------\n\n            //-------------------------------------\n            this.add(login_panel, BorderLayout.NORTH);\n            this.add(input_fields_panel, BorderLayout.CENTER);\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (e.getSource() == login_button) {\n                // Perform authentication via a seperate service\n                loginObserver.didAuthenticate(this, new DefaultUser(userName_txb.getText()));\n            }\n        }\n    }\n}\n</code></pre>\n<h1>Notes</h1>\n<p>Using transparent color (<code>Color transparent = new Color(1f, 0f, 0f, 0f);</code>) on Swing components is going to cause no end of issues.  Swing components are either fully opaque or fully transparent and this is controlled via the <code>opaque</code> property.</p>\n<p>I would avoid using <code>setPreferredSize</code>, again, this is just going to cause you no end of issues.  Make use of the layout (<code>GridBagLayoutConstraints</code> provide a number of properties which can help adjust the spacing and size of the components), <code>EmptyBorder</code>s and, for text components, sizing hints via the <code>columns</code> property</p>\n"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71683629,"answer_count":2,"score":1,"last_activity_date":1700491727,"creation_date":1648670473,"question_id":71683458,"body_markdown":"I have this JFrame(BorderLayout), that has 3 Jpanel in it(north, center, south).\r\nThe center panel, has a login button.\r\nFor testing purposes, what I want is to print &quot;hello&quot;, when pressed.\r\n\r\nThis is how the frame currently looks:\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/DRvld.png\r\n\r\nI have tried 2 ways:\r\n\r\n1. &quot;implements ActionListener&quot;, on the center panel, but nothing happens, not even an error.\r\n\r\n2. &quot;implements ActionListener&quot;, on the frame itself, however, I am having issues (more like, I don&#39;t know how to) &quot;importing&quot;/having access to the button, so the JFrame can listen to the cliking event\r\n\r\nHope you can help me.\r\n\r\nThis is the code:\r\n\r\nMain program:\r\n```\r\npackage com.system.reservation.airline;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        LoginPage loginPage = new LoginPage(); \r\n    }\r\n}\r\n```\r\n\r\nLoginPage:\r\n```\r\nimport com.system.reservation.airline.panels.BodyPanel;\r\nimport com.system.reservation.airline.panels.FooterPanel;\r\nimport com.system.reservation.airline.panels.HeaderPanel;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class LoginPage extends JFrame{ \r\n    HeaderPanel headerPanel = new HeaderPanel();\r\n    BodyPanel bodyPanel = new BodyPanel();\r\n    FooterPanel footerPanel = new FooterPanel();\r\n\r\n    public LoginPage(){ // Constructor\r\n        this.setTitle(&quot;Login&quot;);\r\n        this.setSize(400, 600);\r\n        this.setLocationRelativeTo(null);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n        this.getContentPane().setBackground(new Color(240,248,255));\r\n        this.setLayout(new GridBagLayout());\r\n\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n        gbc.weightx = 1;\r\n        gbc.weighty = 1;\r\n        gbc.fill = GridBagConstraints.BOTH;\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.gridheight = 1;\r\n        this.add(headerPanel, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        gbc.gridheight = 1;\r\n        this.add(bodyPanel, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        gbc.gridheight = 3;\r\n        this.add(footerPanel, gbc);\r\n\r\n        this.pack();\r\n        this.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nBodyPanel:\r\n```\r\npackage com.system.reservation.airline.panels;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class BodyPanel extends JPanel implements ActionListener{\r\n    JLabel login_label;\r\n    JButton login_button = new JButton(&quot;Login&quot;);\r\n    Color transparent = new Color(1f,0f,0f,0f);\r\n\r\n    public BodyPanel(){\r\n        this.setBackground(transparent);\r\n        this.setLayout(new BorderLayout());\r\n        this.setBorder(BorderFactory.createLineBorder(Color.green, 3));\r\n        //------------ Login Panel ------------------------\r\n        JPanel login_panel = new JPanel(new BorderLayout());\r\n        login_panel.setBackground(transparent);\r\n        login_panel.setPreferredSize(new Dimension(400, 100));\r\n        //login_panel.setBorder(BorderFactory.createLineBorder(Color.YELLOW, 5));\r\n\r\n        login_label = new JLabel();\r\n        login_label.setText(&quot;Login&quot;);\r\n        login_label.setHorizontalAlignment(JLabel.CENTER);\r\n        login_label.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n\r\n        login_panel.add(login_label, BorderLayout.NORTH);\r\n        //------------ Login Panel ------------------------\r\n\r\n        //------------ Input Panel ------------------------\r\n        JPanel input_fields_panel = new JPanel(new GridBagLayout());\r\n        input_fields_panel.setBackground(transparent);\r\n        input_fields_panel.setPreferredSize(new Dimension(400, 150));\r\n        //input_fields_panel.setBorder(BorderFactory.createLineBorder(Color.black, 5));\r\n\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n        gbc.weightx = 1;\r\n        gbc.weighty = 1;\r\n        gbc.fill = GridBagConstraints.BOTH;\r\n\r\n        //-------------\r\n        JLabel userName_label = new JLabel(&quot;Username: &quot;);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.gridwidth = 1;\r\n        gbc.gridheight = 1;\r\n        gbc.insets = new Insets(0,10,0,0);\r\n        input_fields_panel.add(userName_label, gbc);\r\n\r\n        JTextField userName_txb = new JTextField();\r\n        userName_txb.setPreferredSize(new Dimension(250,30));\r\n        gbc.gridx = 3;\r\n        gbc.insets = new Insets(0,0,5,20);\r\n        input_fields_panel.add(userName_txb, gbc);\r\n        //-------------\r\n\r\n        //-------------\r\n        JLabel password_label = new JLabel(&quot;Password: &quot;);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        gbc.gridwidth = 1;\r\n        gbc.gridheight = 1;\r\n        gbc.insets = new Insets(0,10,0,0);\r\n        input_fields_panel.add(password_label, gbc);\r\n\r\n        JTextField password_txb = new JTextField();\r\n        password_txb.setPreferredSize(new Dimension(250,30));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 1;\r\n        gbc.gridwidth = 3;\r\n        gbc.gridheight = 1;\r\n        gbc.insets = new Insets(5,0,5,20);\r\n        input_fields_panel.add(password_txb, gbc);\r\n        //-------------\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        gbc.gridwidth = 4;\r\n        gbc.gridheight = 1;\r\n        gbc.insets = new Insets(5,150,5,150);\r\n        input_fields_panel.add(login_button, gbc);\r\n\r\n        JLabel tokenResponse = new JLabel(&quot;Username or password, are incorrect!&quot;);\r\n        tokenResponse.setHorizontalAlignment(JLabel.CENTER);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 3;\r\n        gbc.gridwidth = 4;\r\n        gbc.gridheight = 1;\r\n        gbc.insets = new Insets(0,0,0,0);\r\n        input_fields_panel.add(tokenResponse, gbc);\r\n        //------------ Input Panel ------------------------\r\n\r\n        //-------------------------------------\r\n        this.add(login_panel, BorderLayout.NORTH);\r\n        this.add(input_fields_panel, BorderLayout.CENTER);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if(e.getSource() == login_button) {\r\n            System.out.println(&quot;Hello&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe center panel is the BodyPanel, hence I did not include the code for the HeaderPanel, or the FooterPanel.\r\n\r\nSo to recap, I want to either the LoginPage to have access or to listen to the clicking event of the login_button, or the exact same for the BodyPanel.","title":"The JFrame or the JPanel don&#39;t listen to the clicking event","body":"<p>I have this JFrame(BorderLayout), that has 3 Jpanel in it(north, center, south).\nThe center panel, has a login button.\nFor testing purposes, what I want is to print &quot;hello&quot;, when pressed.</p>\n<p>This is how the frame currently looks:\n<a href=\"https://i.stack.imgur.com/DRvld.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRvld.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried 2 ways:</p>\n<ol>\n<li><p>&quot;implements ActionListener&quot;, on the center panel, but nothing happens, not even an error.</p>\n</li>\n<li><p>&quot;implements ActionListener&quot;, on the frame itself, however, I am having issues (more like, I don't know how to) &quot;importing&quot;/having access to the button, so the JFrame can listen to the cliking event</p>\n</li>\n</ol>\n<p>Hope you can help me.</p>\n<p>This is the code:</p>\n<p>Main program:</p>\n<pre><code>package com.system.reservation.airline;\n\npublic class Main {\n    public static void main(String[] args) {\n        LoginPage loginPage = new LoginPage(); \n    }\n}\n</code></pre>\n<p>LoginPage:</p>\n<pre><code>import com.system.reservation.airline.panels.BodyPanel;\nimport com.system.reservation.airline.panels.FooterPanel;\nimport com.system.reservation.airline.panels.HeaderPanel;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class LoginPage extends JFrame{ \n    HeaderPanel headerPanel = new HeaderPanel();\n    BodyPanel bodyPanel = new BodyPanel();\n    FooterPanel footerPanel = new FooterPanel();\n\n    public LoginPage(){ // Constructor\n        this.setTitle(&quot;Login&quot;);\n        this.setSize(400, 600);\n        this.setLocationRelativeTo(null);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n        this.getContentPane().setBackground(new Color(240,248,255));\n        this.setLayout(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n\n        gbc.weightx = 1;\n        gbc.weighty = 1;\n        gbc.fill = GridBagConstraints.BOTH;\n\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridheight = 1;\n        this.add(headerPanel, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        gbc.gridheight = 1;\n        this.add(bodyPanel, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        gbc.gridheight = 3;\n        this.add(footerPanel, gbc);\n\n        this.pack();\n        this.setVisible(true);\n    }\n}\n</code></pre>\n<p>BodyPanel:</p>\n<pre><code>package com.system.reservation.airline.panels;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class BodyPanel extends JPanel implements ActionListener{\n    JLabel login_label;\n    JButton login_button = new JButton(&quot;Login&quot;);\n    Color transparent = new Color(1f,0f,0f,0f);\n\n    public BodyPanel(){\n        this.setBackground(transparent);\n        this.setLayout(new BorderLayout());\n        this.setBorder(BorderFactory.createLineBorder(Color.green, 3));\n        //------------ Login Panel ------------------------\n        JPanel login_panel = new JPanel(new BorderLayout());\n        login_panel.setBackground(transparent);\n        login_panel.setPreferredSize(new Dimension(400, 100));\n        //login_panel.setBorder(BorderFactory.createLineBorder(Color.YELLOW, 5));\n\n        login_label = new JLabel();\n        login_label.setText(&quot;Login&quot;);\n        login_label.setHorizontalAlignment(JLabel.CENTER);\n        login_label.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n\n        login_panel.add(login_label, BorderLayout.NORTH);\n        //------------ Login Panel ------------------------\n\n        //------------ Input Panel ------------------------\n        JPanel input_fields_panel = new JPanel(new GridBagLayout());\n        input_fields_panel.setBackground(transparent);\n        input_fields_panel.setPreferredSize(new Dimension(400, 150));\n        //input_fields_panel.setBorder(BorderFactory.createLineBorder(Color.black, 5));\n\n        GridBagConstraints gbc = new GridBagConstraints();\n\n        gbc.weightx = 1;\n        gbc.weighty = 1;\n        gbc.fill = GridBagConstraints.BOTH;\n\n        //-------------\n        JLabel userName_label = new JLabel(&quot;Username: &quot;);\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = 1;\n        gbc.gridheight = 1;\n        gbc.insets = new Insets(0,10,0,0);\n        input_fields_panel.add(userName_label, gbc);\n\n        JTextField userName_txb = new JTextField();\n        userName_txb.setPreferredSize(new Dimension(250,30));\n        gbc.gridx = 3;\n        gbc.insets = new Insets(0,0,5,20);\n        input_fields_panel.add(userName_txb, gbc);\n        //-------------\n\n        //-------------\n        JLabel password_label = new JLabel(&quot;Password: &quot;);\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        gbc.gridwidth = 1;\n        gbc.gridheight = 1;\n        gbc.insets = new Insets(0,10,0,0);\n        input_fields_panel.add(password_label, gbc);\n\n        JTextField password_txb = new JTextField();\n        password_txb.setPreferredSize(new Dimension(250,30));\n        gbc.gridx = 1;\n        gbc.gridy = 1;\n        gbc.gridwidth = 3;\n        gbc.gridheight = 1;\n        gbc.insets = new Insets(5,0,5,20);\n        input_fields_panel.add(password_txb, gbc);\n        //-------------\n\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        gbc.gridwidth = 4;\n        gbc.gridheight = 1;\n        gbc.insets = new Insets(5,150,5,150);\n        input_fields_panel.add(login_button, gbc);\n\n        JLabel tokenResponse = new JLabel(&quot;Username or password, are incorrect!&quot;);\n        tokenResponse.setHorizontalAlignment(JLabel.CENTER);\n        gbc.gridx = 0;\n        gbc.gridy = 3;\n        gbc.gridwidth = 4;\n        gbc.gridheight = 1;\n        gbc.insets = new Insets(0,0,0,0);\n        input_fields_panel.add(tokenResponse, gbc);\n        //------------ Input Panel ------------------------\n\n        //-------------------------------------\n        this.add(login_panel, BorderLayout.NORTH);\n        this.add(input_fields_panel, BorderLayout.CENTER);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == login_button) {\n            System.out.println(&quot;Hello&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The center panel is the BodyPanel, hence I did not include the code for the HeaderPanel, or the FooterPanel.</p>\n<p>So to recap, I want to either the LoginPage to have access or to listen to the clicking event of the login_button, or the exact same for the BodyPanel.</p>\n"},{"tags":["java","hashmap","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1653388722,"post_id":72361400,"comment_id":127834876,"body_markdown":"Can you explain exactly how `Integer::sum` doesn&#39;t work?","body":"Can you explain exactly how <code>Integer::sum</code> doesn&#39;t work?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1653388775,"post_id":72361400,"comment_id":127834891,"body_markdown":"Possibly related: [how to easily sum two hashMap&lt;String,Integer&gt;?](https://stackoverflow.com/q/33640088)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/33640088\">how to easily sum two hashMap&lt;String,Integer&gt;?</a>"},{"owner":{"display_name":"user18952345"},"score":0,"creation_date":1653388984,"post_id":72361400,"comment_id":127834964,"body_markdown":"@Sweeper Do you mean `int value = map.merge(key, 1, Integer::sum);` amigo? I tried, but could not understand how it is working in this example. Any clarification pls?","body":"@Sweeper Do you mean <code>int value = map.merge(key, 1, Integer::sum);</code> amigo? I tried, but could not understand how it is working in this example. Any clarification pls?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1653389097,"post_id":72361400,"comment_id":127835003,"body_markdown":"Ah I think I see where your confusion is. You don&#39;t need `int value =` if you just want to update the map. And you don&#39;t need `map.put(key, value);`. Just do `map.merge` and that&#39;s it.","body":"Ah I think I see where your confusion is. You don&#39;t need <code>int value =</code> if you just want to update the map. And you don&#39;t need <code>map.put(key, value);</code>. Just do <code>map.merge</code> and that&#39;s it."},{"owner":{"display_name":"user18952345"},"score":0,"creation_date":1653389254,"post_id":72361400,"comment_id":127835059,"body_markdown":"Yeah, exactly. So, could you please explain me how `map.merge(key, 1, Integer::sum);` line works?","body":"Yeah, exactly. So, could you please explain me how <code>map.merge(key, 1, Integer::sum);</code> line works?"}],"answers":[{"comments":[{"owner":{"display_name":"user18952345"},"score":0,"creation_date":1653389392,"post_id":72361540,"comment_id":127835101,"body_markdown":"Yeah, exactly. So, could you please explain me how ` map.merge(key, 1, Integer::sum);` line works?","body":"Yeah, exactly. So, could you please explain me how ` map.merge(key, 1, Integer::sum);` line works?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653389659,"post_id":72361540,"comment_id":127835185,"body_markdown":"@stack The value of one 1 will be placed, if key is absent, otherwise the function will be evaluated","body":"@stack The value of one 1 will be placed, if key is absent, otherwise the function will be evaluated"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653389713,"post_id":72361540,"comment_id":127835206,"body_markdown":"@stack if you need to start from `0` - `compute()` is the better option","body":"@stack if you need to start from <code>0</code> - <code>compute()</code> is the better option"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653424309,"creation_date":1653389228,"answer_id":72361540,"question_id":72361400,"body_markdown":"&gt; if the key is **not present** in the map, it starts from `0` and I add `+1`\r\n\r\nIn order to start count from `zero` you can use method [`compute()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)), which expects a *key* and *remappingFunction* that allow to compute a *new value* based on the *key* and *existing value*:\r\n```\r\nint nums[] = new int[]{4, 10, 5, 4, 2, 10};\r\n    \r\nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n    \r\nfor (int num : nums) {\r\n    map.compute(num, (k, v) -&gt; v == null ? 0 : v + 1);\r\n}\r\n    \r\nSystem.out.println(map);\r\n```\r\n*Output:*\r\n```\r\n{4=1, 10=1, 5=0, 2=0}\r\n```\r\n* keys `4` and `10` - occur twice and therefore will be associated with the value of `1`;\r\n* keys `5` and `2` - will be encountered only once and therefore get mapped to the value of `0` (as it was required for the keys that were encountered for the first time, i.e. **not present** in the map)\r\n_____________________________________________________________\r\n\r\n&gt; However, I want to use `merge()`\r\n\r\nWith `map.merge(num, 1, Integer::sum);` a key that hasn&#39;t been present in the map will be associated with the value of `1` from the beginning. I.e. the *remappingFunction* provided as the third argument will not be executed and a new entry comprised from the offered *key* and *value* would be placed into a map.\r\n\r\nAnd then when such key will be encountered second, third, etc. time the *remappingFunction* will be used to combine the old value and a new value (`1`), i.e. value will be incremented by one.\r\n\r\nTo achieve the same result as shown above with `merge()`, we can place condition around `merge()`. Inside a condition, we can use `putIfAbsent()` to initialize the entry will `0`. If the given key wasn&#39;t present, `putIfAbsent()` will return `null`, otherwise existing value:\r\n\r\n```\r\nint nums[] = new int[]{4, 10, 5, 4, 2, 10};\r\n    \r\nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n    \r\nfor (int num : nums) {\r\n    if (map.putIfAbsent(num, 0) != null) {\r\n        map.merge(num, 1, Integer::sum);\r\n    }\r\n}\r\n```\r\n*Output:*\r\n```\r\n{4=1, 10=1, 5=0, 2=0}\r\n```","title":"How to increase HashMap value using merge method in Java?","body":"<blockquote>\n<p>if the key is <strong>not present</strong> in the map, it starts from <code>0</code> and I add <code>+1</code></p>\n</blockquote>\n<p>In order to start count from <code>zero</code> you can use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>compute()</code></a>, which expects a <em>key</em> and <em>remappingFunction</em> that allow to compute a <em>new value</em> based on the <em>key</em> and <em>existing value</em>:</p>\n<pre><code>int nums[] = new int[]{4, 10, 5, 4, 2, 10};\n    \nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n    \nfor (int num : nums) {\n    map.compute(num, (k, v) -&gt; v == null ? 0 : v + 1);\n}\n    \nSystem.out.println(map);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{4=1, 10=1, 5=0, 2=0}\n</code></pre>\n<ul>\n<li>keys <code>4</code> and <code>10</code> - occur twice and therefore will be associated with the value of <code>1</code>;</li>\n<li>keys <code>5</code> and <code>2</code> - will be encountered only once and therefore get mapped to the value of <code>0</code> (as it was required for the keys that were encountered for the first time, i.e. <strong>not present</strong> in the map)</li>\n</ul>\n<hr />\n<blockquote>\n<p>However, I want to use <code>merge()</code></p>\n</blockquote>\n<p>With <code>map.merge(num, 1, Integer::sum);</code> a key that hasn't been present in the map will be associated with the value of <code>1</code> from the beginning. I.e. the <em>remappingFunction</em> provided as the third argument will not be executed and a new entry comprised from the offered <em>key</em> and <em>value</em> would be placed into a map.</p>\n<p>And then when such key will be encountered second, third, etc. time the <em>remappingFunction</em> will be used to combine the old value and a new value (<code>1</code>), i.e. value will be incremented by one.</p>\n<p>To achieve the same result as shown above with <code>merge()</code>, we can place condition around <code>merge()</code>. Inside a condition, we can use <code>putIfAbsent()</code> to initialize the entry will <code>0</code>. If the given key wasn't present, <code>putIfAbsent()</code> will return <code>null</code>, otherwise existing value:</p>\n<pre><code>int nums[] = new int[]{4, 10, 5, 4, 2, 10};\n    \nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n    \nfor (int num : nums) {\n    if (map.putIfAbsent(num, 0) != null) {\n        map.merge(num, 1, Integer::sum);\n    }\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{4=1, 10=1, 5=0, 2=0}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653390040,"post_id":72361560,"comment_id":127835334,"body_markdown":"@stack Did you run the code? A *key* encountered for the firs time (absent in the map)  will be associated with `1`, not `0`.","body":"@stack Did you run the code? A <i>key</i> encountered for the firs time (absent in the map)  will be associated with <code>1</code>, not <code>0</code>."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1653390176,"post_id":72361560,"comment_id":127835379,"body_markdown":"@AlexanderIvanchenko I think he wants to get the frequency of each key. Probably when he wrote &quot;it starts from 0 and I add +1&quot; was a typo by judging by his code.","body":"@AlexanderIvanchenko I think he wants to get the frequency of each key. Probably when he wrote &quot;it starts from 0 and I add +1&quot; was a typo by judging by his code."},{"owner":{"display_name":"user18952345"},"score":0,"creation_date":1653390946,"post_id":72361560,"comment_id":127835677,"body_markdown":"Yeah, I tried and works (I used `map.merge(nums[i], 1, (v1, v2) -&gt; v1 + v2);` way). Thanks a lot amigos.","body":"Yeah, I tried and works (I used <code>map.merge(nums[i], 1, (v1, v2) -&gt; v1 + v2);</code> way). Thanks a lot amigos."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1653391103,"post_id":72361560,"comment_id":127835737,"body_markdown":"@stack good to know. I&#39;ve also updated the answer in case you wanted to get either the frequency as posted originally or the number of collisions.","body":"@stack good to know. I&#39;ve also updated the answer in case you wanted to get either the frequency as posted originally or the number of collisions."}],"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700491489,"creation_date":1653389325,"answer_id":72361560,"question_id":72361400,"body_markdown":"The third parameter of the [merge][1] method is a `BiFunction`, i.e. a functional interface accepting two parameters of generic type V (the type of your values) and returning the merge of said values. \r\n\r\nAssuming that in your code you&#39;re trying to get the frequency of each key, although you wrote &quot;it starts from 0 and I add +1&quot;, here is an example of what you were attempting.\r\n\r\nIn your case, since for each key you&#39;re always mapping the value 1 and then incrementing it, you could implement the `BiFunction` merge either by summing the two colliding values, `(v1, v2) -&gt; v1 + v2`, or by adding 1 to the previously mapped value `(v1, v2) -&gt; v1 + 1`. \r\n\r\n```\r\nint nums[] = new int[]{4, 10, 5, 4, 2, 10};\r\n\r\nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\nfor (int i = 0; i &lt; nums.length; i++) {\r\n    map.merge(nums[i], 1, (v1, v2) -&gt; v1 + 1);\r\n\r\n    //Alternatively summing the two values\r\n    //map.merge(nums[i], 1, (v1, v2) -&gt; v1 + v2);\r\n}\r\n\r\nSystem.out.println(map);\r\n```\r\n\r\nHowever, if your goal was to get the number of key collisions rather than their frequency, then the code above would still work by simply replacing the initial value 1 with 0.\r\n\r\n```\r\nint nums[] = new int[]{4, 10, 5, 4, 2, 10};\r\n\r\nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\nfor (int i = 0; i &lt; nums.length; i++) {\r\n    map.merge(nums[i], 0, (v1, v2) -&gt; v1 + 1);\r\n}\r\n\r\nSystem.out.println(map);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-","title":"How to increase HashMap value using merge method in Java?","body":"<p>The third parameter of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">merge</a> method is a <code>BiFunction</code>, i.e. a functional interface accepting two parameters of generic type V (the type of your values) and returning the merge of said values.</p>\n<p>Assuming that in your code you're trying to get the frequency of each key, although you wrote &quot;it starts from 0 and I add +1&quot;, here is an example of what you were attempting.</p>\n<p>In your case, since for each key you're always mapping the value 1 and then incrementing it, you could implement the <code>BiFunction</code> merge either by summing the two colliding values, <code>(v1, v2) -&gt; v1 + v2</code>, or by adding 1 to the previously mapped value <code>(v1, v2) -&gt; v1 + 1</code>.</p>\n<pre><code>int nums[] = new int[]{4, 10, 5, 4, 2, 10};\n\nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\nfor (int i = 0; i &lt; nums.length; i++) {\n    map.merge(nums[i], 1, (v1, v2) -&gt; v1 + 1);\n\n    //Alternatively summing the two values\n    //map.merge(nums[i], 1, (v1, v2) -&gt; v1 + v2);\n}\n\nSystem.out.println(map);\n</code></pre>\n<p>However, if your goal was to get the number of key collisions rather than their frequency, then the code above would still work by simply replacing the initial value 1 with 0.</p>\n<pre><code>int nums[] = new int[]{4, 10, 5, 4, 2, 10};\n\nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\nfor (int i = 0; i &lt; nums.length; i++) {\n    map.merge(nums[i], 0, (v1, v2) -&gt; v1 + 1);\n}\n\nSystem.out.println(map);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":0,"creation_date":1653402709,"post_id":72362018,"comment_id":127840846,"body_markdown":"@user16320675, i noted that &quot;economic&quot; means fewer instances of `Integer` created. If you use `Integer` as a value type, each update/merge will create a new object.","body":"@user16320675, i noted that &quot;economic&quot; means fewer instances of <code>Integer</code> created. If you use <code>Integer</code> as a value type, each update/merge will create a new object."}],"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653415770,"creation_date":1653391465,"answer_id":72362018,"question_id":72361400,"body_markdown":"If only increment/decrement is needed on the integer values, a more economic approach (fewer instances of `Integer` created) would be to use a mutable integer class (like `AtomicInteger`) as the value type.\r\n\r\nIncrement/Decrement would then be trivial:\r\n```java\r\nMap&lt;String, AtomicInteger&gt; map = new HashMap&lt;&gt;();\r\n// Create a mapping for key &quot;foo&quot; if not exists, then increment\r\nint n = map.computeIfAbsent(&quot;foo&quot;, (k) -&gt; new AtomicInteger())\r\n    .incrementAndGet(); // or addAndGet() or similar\r\n```","title":"How to increase HashMap value using merge method in Java?","body":"<p>If only increment/decrement is needed on the integer values, a more economic approach (fewer instances of <code>Integer</code> created) would be to use a mutable integer class (like <code>AtomicInteger</code>) as the value type.</p>\n<p>Increment/Decrement would then be trivial:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, AtomicInteger&gt; map = new HashMap&lt;&gt;();\n// Create a mapping for key &quot;foo&quot; if not exists, then increment\nint n = map.computeIfAbsent(&quot;foo&quot;, (k) -&gt; new AtomicInteger())\n    .incrementAndGet(); // or addAndGet() or similar\n</code></pre>\n"}],"owner":{"display_name":"user18952345"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72361560,"answer_count":3,"score":4,"last_activity_date":1700491489,"creation_date":1653388576,"question_id":72361400,"body_markdown":"I have the following *list* and use `LinkedHashMap`.\r\n\r\nI want to increase the *value* of the *key* by `1` (if the key is **not present** in the map, it starts from `0`, and I add `+1`):\r\n\r\n\r\n```\r\nint nums[] = new int[]{4, 10, 5, 4, 2, 10};\r\n\r\nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; nums.length; i++) {\r\n    int key = nums[i];\r\n    int value = map.getOrDefault(key, 0) + 1;\r\n\r\n    // I want to use merge method, but have no idea \r\n    // what should be the 3 rd parameter denoted by &quot;&lt;??????&gt;&quot;\r\n    int value = map.merge(key, 1, &lt;??????&gt;)\r\n\r\n    map.put(key, value);\r\n}\r\n```\r\n\r\nHowever, I want to use `merge()` method, but have no idea what should be the third parameter denoted by &quot;`&lt;??????&gt;`&quot; (*see the code*). \r\n\r\nSo, how can I use merge method in this scenario?","title":"How to increase HashMap value using merge method in Java?","body":"<p>I have the following <em>list</em> and use <code>LinkedHashMap</code>.</p>\n<p>I want to increase the <em>value</em> of the <em>key</em> by <code>1</code> (if the key is <strong>not present</strong> in the map, it starts from <code>0</code>, and I add <code>+1</code>):</p>\n<pre><code>int nums[] = new int[]{4, 10, 5, 4, 2, 10};\n\nMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n\nfor (int i = 0; i &lt; nums.length; i++) {\n    int key = nums[i];\n    int value = map.getOrDefault(key, 0) + 1;\n\n    // I want to use merge method, but have no idea \n    // what should be the 3 rd parameter denoted by &quot;&lt;??????&gt;&quot;\n    int value = map.merge(key, 1, &lt;??????&gt;)\n\n    map.put(key, value);\n}\n</code></pre>\n<p>However, I want to use <code>merge()</code> method, but have no idea what should be the third parameter denoted by &quot;<code>&lt;??????&gt;</code>&quot; (<em>see the code</em>).</p>\n<p>So, how can I use merge method in this scenario?</p>\n"},{"tags":["java","android","roomdb"],"owner":{"account_id":29857584,"reputation":1,"user_id":22882046,"display_name":"Kybol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700491362,"creation_date":1700417502,"question_id":77511920,"body_markdown":"I am currently developing an app in Android Studio (in Java) that can save some drawings and count the number of drawings per month you did.\r\n\r\nI am using Room database and for the moment I only have one entity which is Drawing. It contains a title (string), a date (string) and an image (byte[]).\r\n\r\nI have a form to add a drawing and I load an image from the gallery.\r\nWhen I add a drawing with no image (only date and title) it works, but when I add the image it does not save the drawing anymore.\r\n\r\nI think it is the way I am getting the image that is making my code crashes.\r\n\r\nI don&#39;t really know what to do, is there anyone who has an idea to fix the problem ?\r\n\r\n\r\n```\r\npackage com.example.sketchhub.views;\r\n\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.sketchhub.R;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\n\r\npublic class AddDrawing extends AppCompatActivity {\r\n\r\n    private EditText drawingTitleInput, drawingDateInput;\r\n    private ImageView drawingImageInput;\r\n    private Button saveBtn, addImgBtn;\r\n\r\n    public static final String EXTRA_ID = &quot;com.gtappdevelopers.gfgroomdatabase.EXTRA_ID&quot;;\r\n    public static final String EXTRA_TITLE = &quot;com.gtappdevelopers.gfgroomdatabase.EXTRA_TITLE&quot;;\r\n    public static final String EXTRA_DATE = &quot;com.gtappdevelopers.gfgroomdatabase.EXTRA_DATE&quot;;\r\n    public static final String EXTRA_IMAGE = &quot;com.gtappdevelopers.gfgroomdatabase.EXTRA_IMAGE&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_drawing);\r\n\r\n        // get inputs\r\n        drawingTitleInput = findViewById(R.id.addDrawing_titleInput);\r\n        drawingDateInput = findViewById(R.id.addDrawing_dateInput);\r\n        drawingImageInput = findViewById(R.id.addDrawing_imgView);\r\n\r\n        // get save button\r\n        saveBtn = findViewById(R.id.addDrawing_btnSaveDrawing);\r\n        addImgBtn = findViewById(R.id.addDrawing_btnAddImage);\r\n\r\n        // set date\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        String date = dateFormat.format(Calendar.getInstance().getTime());\r\n        drawingDateInput.setText(date);\r\n\r\n        Intent intent = getIntent();\r\n        if (intent.hasExtra(EXTRA_ID)) {\r\n            drawingTitleInput.setText(intent.getStringExtra(EXTRA_TITLE));\r\n            drawingDateInput.setText(intent.getStringExtra(EXTRA_DATE));\r\n            byte[] imageByteArray = intent.getByteArrayExtra(EXTRA_IMAGE);\r\n            if (imageByteArray != null) {\r\n                Bitmap imageBitmap = BitmapFactory.decodeByteArray(imageByteArray, 0, imageByteArray.length);\r\n                drawingImageInput.setImageBitmap(imageBitmap);\r\n            }\r\n        }\r\n\r\n        saveBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String drawingTitle = drawingTitleInput.getText().toString();\r\n                String drawingDate = drawingDateInput.getText().toString();\r\n\r\n\r\n                byte[] imageByteArray = null;\r\n\r\n                // Check if there is an image in the ImageView\r\n                if (drawingImageInput.getDrawable() instanceof BitmapDrawable) {\r\n                    // If an image is selected, convert it to byte array\r\n                    Bitmap imageBitmap = getBitmapFromImageView(drawingImageInput);\r\n                    imageByteArray = getBytesFromBitmap(imageBitmap);\r\n                } else {\r\n                    // If no image is selected, set imageByteArray to null\r\n                    imageByteArray = null;\r\n                }\r\n\r\n                \r\n                if (drawingDate.isEmpty()) {\r\n                    Toast.makeText(AddDrawing.this, &quot;Please enter valid drawing details.&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                if (drawingTitle.isEmpty()) {\r\n                    drawingTitle = &quot;No Title&quot;;\r\n                }\r\n\r\n                saveDrawing(drawingTitle, drawingDate, imageByteArray);\r\n            }\r\n        });\r\n\r\n        addImgBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                startActivityForResult(intent, 3);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void saveDrawing(String drawingTitle, String drawingDate, byte[] imageByteArray) {\r\n        Intent data = new Intent();\r\n\r\n        data.putExtra(EXTRA_TITLE, drawingTitle);\r\n        data.putExtra(EXTRA_DATE, drawingDate);\r\n\r\n        if (imageByteArray != null) {\r\n            data.putExtra(EXTRA_IMAGE, imageByteArray);\r\n        }\r\n\r\n        int id = getIntent().getIntExtra(EXTRA_ID, -1);\r\n        if (id != -1) {\r\n            data.putExtra(EXTRA_ID, id);\r\n        }\r\n\r\n        setResult(RESULT_OK, data);\r\n\r\n        Toast.makeText(this, &quot;Drawing has been saved to Room Database. &quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        // Finish the current activity\r\n        finish();\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 3 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n            Uri selectedImage = data.getData();\r\n            try {\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), selectedImage);\r\n                drawingImageInput.setImageBitmap(bitmap);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public byte[] getBytesFromBitmap(Bitmap bitmap) {\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n        return stream.toByteArray();\r\n    }\r\n\r\n    private Bitmap getBitmapFromImageView(ImageView imageView) {\r\n        Drawable drawable = imageView.getDrawable();\r\n\r\n        if (drawable instanceof BitmapDrawable) {\r\n            // If the ImageView has a BitmapDrawable, extract the Bitmap\r\n            return ((BitmapDrawable) drawable).getBitmap();\r\n        } else {\r\n            // If the ImageView doesn&#39;t have a BitmapDrawable, try to create a Bitmap from the Drawable\r\n            int width = drawable.getIntrinsicWidth();\r\n            int height = drawable.getIntrinsicHeight();\r\n\r\n            if (width &lt;= 0 || height &lt;= 0) {\r\n                return null;\r\n            }\r\n\r\n            Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n            Canvas canvas = new Canvas(bitmap);\r\n            drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\r\n            drawable.draw(canvas);\r\n\r\n            return bitmap;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to debug the code.\r\n\r\nWhen I get the drawable, it actually returns an empty string. \r\nThis is why I think this is the problem.","title":"Saving image from gallery in room database is not working","body":"<p>I am currently developing an app in Android Studio (in Java) that can save some drawings and count the number of drawings per month you did.</p>\n<p>I am using Room database and for the moment I only have one entity which is Drawing. It contains a title (string), a date (string) and an image (byte[]).</p>\n<p>I have a form to add a drawing and I load an image from the gallery.\nWhen I add a drawing with no image (only date and title) it works, but when I add the image it does not save the drawing anymore.</p>\n<p>I think it is the way I am getting the image that is making my code crashes.</p>\n<p>I don't really know what to do, is there anyone who has an idea to fix the problem ?</p>\n<pre><code>package com.example.sketchhub.views;\n\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.Canvas;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.sketchhub.R;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\n\npublic class AddDrawing extends AppCompatActivity {\n\n    private EditText drawingTitleInput, drawingDateInput;\n    private ImageView drawingImageInput;\n    private Button saveBtn, addImgBtn;\n\n    public static final String EXTRA_ID = &quot;com.gtappdevelopers.gfgroomdatabase.EXTRA_ID&quot;;\n    public static final String EXTRA_TITLE = &quot;com.gtappdevelopers.gfgroomdatabase.EXTRA_TITLE&quot;;\n    public static final String EXTRA_DATE = &quot;com.gtappdevelopers.gfgroomdatabase.EXTRA_DATE&quot;;\n    public static final String EXTRA_IMAGE = &quot;com.gtappdevelopers.gfgroomdatabase.EXTRA_IMAGE&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_drawing);\n\n        // get inputs\n        drawingTitleInput = findViewById(R.id.addDrawing_titleInput);\n        drawingDateInput = findViewById(R.id.addDrawing_dateInput);\n        drawingImageInput = findViewById(R.id.addDrawing_imgView);\n\n        // get save button\n        saveBtn = findViewById(R.id.addDrawing_btnSaveDrawing);\n        addImgBtn = findViewById(R.id.addDrawing_btnAddImage);\n\n        // set date\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        String date = dateFormat.format(Calendar.getInstance().getTime());\n        drawingDateInput.setText(date);\n\n        Intent intent = getIntent();\n        if (intent.hasExtra(EXTRA_ID)) {\n            drawingTitleInput.setText(intent.getStringExtra(EXTRA_TITLE));\n            drawingDateInput.setText(intent.getStringExtra(EXTRA_DATE));\n            byte[] imageByteArray = intent.getByteArrayExtra(EXTRA_IMAGE);\n            if (imageByteArray != null) {\n                Bitmap imageBitmap = BitmapFactory.decodeByteArray(imageByteArray, 0, imageByteArray.length);\n                drawingImageInput.setImageBitmap(imageBitmap);\n            }\n        }\n\n        saveBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String drawingTitle = drawingTitleInput.getText().toString();\n                String drawingDate = drawingDateInput.getText().toString();\n\n\n                byte[] imageByteArray = null;\n\n                // Check if there is an image in the ImageView\n                if (drawingImageInput.getDrawable() instanceof BitmapDrawable) {\n                    // If an image is selected, convert it to byte array\n                    Bitmap imageBitmap = getBitmapFromImageView(drawingImageInput);\n                    imageByteArray = getBytesFromBitmap(imageBitmap);\n                } else {\n                    // If no image is selected, set imageByteArray to null\n                    imageByteArray = null;\n                }\n\n                \n                if (drawingDate.isEmpty()) {\n                    Toast.makeText(AddDrawing.this, &quot;Please enter valid drawing details.&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                if (drawingTitle.isEmpty()) {\n                    drawingTitle = &quot;No Title&quot;;\n                }\n\n                saveDrawing(drawingTitle, drawingDate, imageByteArray);\n            }\n        });\n\n        addImgBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                startActivityForResult(intent, 3);\n            }\n        });\n    }\n\n    private void saveDrawing(String drawingTitle, String drawingDate, byte[] imageByteArray) {\n        Intent data = new Intent();\n\n        data.putExtra(EXTRA_TITLE, drawingTitle);\n        data.putExtra(EXTRA_DATE, drawingDate);\n\n        if (imageByteArray != null) {\n            data.putExtra(EXTRA_IMAGE, imageByteArray);\n        }\n\n        int id = getIntent().getIntExtra(EXTRA_ID, -1);\n        if (id != -1) {\n            data.putExtra(EXTRA_ID, id);\n        }\n\n        setResult(RESULT_OK, data);\n\n        Toast.makeText(this, &quot;Drawing has been saved to Room Database. &quot;, Toast.LENGTH_SHORT).show();\n\n        // Finish the current activity\n        finish();\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 3 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n            Uri selectedImage = data.getData();\n            try {\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), selectedImage);\n                drawingImageInput.setImageBitmap(bitmap);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    public byte[] getBytesFromBitmap(Bitmap bitmap) {\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n        return stream.toByteArray();\n    }\n\n    private Bitmap getBitmapFromImageView(ImageView imageView) {\n        Drawable drawable = imageView.getDrawable();\n\n        if (drawable instanceof BitmapDrawable) {\n            // If the ImageView has a BitmapDrawable, extract the Bitmap\n            return ((BitmapDrawable) drawable).getBitmap();\n        } else {\n            // If the ImageView doesn't have a BitmapDrawable, try to create a Bitmap from the Drawable\n            int width = drawable.getIntrinsicWidth();\n            int height = drawable.getIntrinsicHeight();\n\n            if (width &lt;= 0 || height &lt;= 0) {\n                return null;\n            }\n\n            Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n            Canvas canvas = new Canvas(bitmap);\n            drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\n            drawable.draw(canvas);\n\n            return bitmap;\n        }\n    }\n}\n</code></pre>\n<p>I tried to debug the code.</p>\n<p>When I get the drawable, it actually returns an empty string.\nThis is why I think this is the problem.</p>\n"},{"tags":["java","maven","pitest"],"answers":[{"comments":[{"owner":{"account_id":8361016,"reputation":350,"user_id":6279345,"display_name":"Leonardo Meinerz Ramos"},"score":0,"creation_date":1630959295,"post_id":69079248,"comment_id":122090787,"body_markdown":"Yes, I&#39;ve found this documentation, but I need both configurations (Ideally without changing the `pom.xml`). When the mutation tests run on CI/CD server, it&#39;ll run the default pitest mutation command (and I can&#39;t change that, unfortunately). But I also wan&#39;t to run the tests quickly on my local environment to check if the changes I introduced kill all the mutations. I need a way to set this configuration as a command line parameter of maven.","body":"Yes, I&#39;ve found this documentation, but I need both configurations (Ideally without changing the <code>pom.xml</code>). When the mutation tests run on CI/CD server, it&#39;ll run the default pitest mutation command (and I can&#39;t change that, unfortunately). But I also wan&#39;t to run the tests quickly on my local environment to check if the changes I introduced kill all the mutations. I need a way to set this configuration as a command line parameter of maven."},{"owner":{"account_id":8361016,"reputation":350,"user_id":6279345,"display_name":"Leonardo Meinerz Ramos"},"score":0,"creation_date":1630959333,"post_id":69079248,"comment_id":122090794,"body_markdown":"TL;DR \nI need something like this  `mvn pitest:mutationCoverage --exclude=&#39;this.package.**&#39;`","body":"TL;DR  I need something like this  <code>mvn pitest:mutationCoverage --exclude=&#39;this.package.**&#39;</code>"},{"owner":{"account_id":1362011,"reputation":431,"user_id":1299192,"display_name":"ToJa92"},"score":0,"creation_date":1631014329,"post_id":69079248,"comment_id":122104128,"body_markdown":"It should be possible to do with a Maven profile, see my updated answer.","body":"It should be possible to do with a Maven profile, see my updated answer."}],"tags":[],"owner":{"account_id":1362011,"reputation":431,"user_id":1299192,"display_name":"ToJa92"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631014222,"creation_date":1630954988,"answer_id":69079248,"question_id":69077845,"body_markdown":"According to the [Maven plugin quickstart documentation for Pitest][1] there&#39;s a `excludedTestClasses` configuration parameter where you can specify which tests should be excluded. So assuming all your integration tests are in the same package you should be able to do something like this:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;LATEST&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;excludedTestClasses&gt;\r\n            &lt;param&gt;path.to.integrationtest.package*&lt;/param&gt;\r\n        &lt;/excludedTestClasses&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nEDIT:\r\n\r\nIn order to have it accessible on the command line you could [create a profile][2] activated by a property, and use that property to set the plugin configuration. Maven merges the configuration by default, giving you the result you want.\r\n\r\nSomething like this (untested):\r\n\r\n```xml\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n    &lt;activation&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;excludedTestPackage&lt;/name&gt;\r\n      &lt;/property&gt;\r\n    &lt;/activation&gt;\r\n    &lt;build&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;excludedTestClasses&gt;\r\n            &lt;param&gt;${excludedTestPackage}&lt;/param&gt;\r\n          &lt;/excludedTestClasses&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/build&gt;\r\n  &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\nAnd to activate it when invoking Maven:\r\n\r\n`mvn pitest:mutationCoverage -DexcludedTestPackage=path.to.integrationtest.package*`\r\n\r\n\r\n  [1]: https://pitest.org/quickstart/maven/\r\n  [2]: https://maven.apache.org/guides/introduction/introduction-to-profiles.html","title":"How to exclude test classes from PIT mutation test with maven command line arguments?","body":"<p>According to the <a href=\"https://pitest.org/quickstart/maven/\" rel=\"nofollow noreferrer\">Maven plugin quickstart documentation for Pitest</a> there's a <code>excludedTestClasses</code> configuration parameter where you can specify which tests should be excluded. So assuming all your integration tests are in the same package you should be able to do something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;excludedTestClasses&gt;\n            &lt;param&gt;path.to.integrationtest.package*&lt;/param&gt;\n        &lt;/excludedTestClasses&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>EDIT:</p>\n<p>In order to have it accessible on the command line you could <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">create a profile</a> activated by a property, and use that property to set the plugin configuration. Maven merges the configuration by default, giving you the result you want.</p>\n<p>Something like this (untested):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;activation&gt;\n      &lt;property&gt;\n        &lt;name&gt;excludedTestPackage&lt;/name&gt;\n      &lt;/property&gt;\n    &lt;/activation&gt;\n    &lt;build&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n        &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;excludedTestClasses&gt;\n            &lt;param&gt;${excludedTestPackage}&lt;/param&gt;\n          &lt;/excludedTestClasses&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/build&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>And to activate it when invoking Maven:</p>\n<p><code>mvn pitest:mutationCoverage -DexcludedTestPackage=path.to.integrationtest.package*</code></p>\n"},{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700490963,"creation_date":1631001805,"answer_id":69084477,"question_id":69077845,"body_markdown":"The parameter to exclude test classes is `excludedTestClasses`. This is case sensitive (standard maven behaviour), you seem to be capitalising the first letter which means it will not be recognised.\r\n\r\n```\r\nmvn pitest:mutationCoverage -DexcludedTestClasses=&#39;com.example.integrationtests.*&#39;\r\n```\r\n\r\nWill work.\r\n\r\nRemember that the glob is matched again pacakge names, not file paths, and as you are invoking the goal directly you will need to have run `mvn test` or `mvn test-compile` first to ensure all required bytecode is present.\r\n\r\nThe following link, which covers the running pitest on a project for the first time, might be useful.\r\n\r\nhttps://docs.arcmutate.com/docs/basic-maven-setup","title":"How to exclude test classes from PIT mutation test with maven command line arguments?","body":"<p>The parameter to exclude test classes is <code>excludedTestClasses</code>. This is case sensitive (standard maven behaviour), you seem to be capitalising the first letter which means it will not be recognised.</p>\n<pre><code>mvn pitest:mutationCoverage -DexcludedTestClasses='com.example.integrationtests.*'\n</code></pre>\n<p>Will work.</p>\n<p>Remember that the glob is matched again pacakge names, not file paths, and as you are invoking the goal directly you will need to have run <code>mvn test</code> or <code>mvn test-compile</code> first to ensure all required bytecode is present.</p>\n<p>The following link, which covers the running pitest on a project for the first time, might be useful.</p>\n<p><a href=\"https://docs.arcmutate.com/docs/basic-maven-setup\" rel=\"nofollow noreferrer\">https://docs.arcmutate.com/docs/basic-maven-setup</a></p>\n"}],"owner":{"account_id":8361016,"reputation":350,"user_id":6279345,"display_name":"Leonardo Meinerz Ramos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69084477,"answer_count":2,"score":1,"last_activity_date":1700490963,"creation_date":1630946293,"question_id":69077845,"body_markdown":"I&#39;m trying to run the mutation tests for all the unit tests, so I need to exclude the integration tests from the run.\r\n\r\nI&#39;ve tried these commands without success:\r\n```\r\nmvn pitest:mutationCoverage -DExcludedClasses=&#39;**IntegrationTest&#39;\r\n```\r\n```\r\nmvn pitest:mutationCoverage -DExcludedTests=&#39;path.to.integrationtest.package.**&#39; \r\n```\r\n\r\n[This page][1] states that there is a way to exclude with the `--ExcludedClasses=&#39;**&#39;` parameter, but I guess that this one is meant for lauching it with `java` command intead of maven.\r\n\r\nSo my question is: Is there a parameter that I can use to exclude tests when running with `mvn pitest:mutationCoverage` command on commandLine \r\n\r\n\r\n  [1]: https://pitest.org/quickstart/commandline/","title":"How to exclude test classes from PIT mutation test with maven command line arguments?","body":"<p>I'm trying to run the mutation tests for all the unit tests, so I need to exclude the integration tests from the run.</p>\n<p>I've tried these commands without success:</p>\n<pre><code>mvn pitest:mutationCoverage -DExcludedClasses='**IntegrationTest'\n</code></pre>\n<pre><code>mvn pitest:mutationCoverage -DExcludedTests='path.to.integrationtest.package.**' \n</code></pre>\n<p><a href=\"https://pitest.org/quickstart/commandline/\" rel=\"nofollow noreferrer\">This page</a> states that there is a way to exclude with the <code>--ExcludedClasses='**'</code> parameter, but I guess that this one is meant for lauching it with <code>java</code> command intead of maven.</p>\n<p>So my question is: Is there a parameter that I can use to exclude tests when running with <code>mvn pitest:mutationCoverage</code> command on commandLine</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":2,"creation_date":1699915849,"post_id":77477209,"comment_id":136588643,"body_markdown":"Has the app that `onBackPressed` isn&#39;t called in [opted in to the predictive back gesture](https://developer.android.com/guide/navigation/custom-back/predictive-back-gesture#opt-predictive) via `android:enableOnBackInvokedCallback=&quot;true&quot;` in your `AndroidManifest.xml`? You should be following the [Provide custom back navigation guide](https://developer.android.com/guide/navigation/custom-back) rather than putting any code in `onBackPressed` at all.","body":"Has the app that <code>onBackPressed</code> isn&#39;t called in <a href=\"https://developer.android.com/guide/navigation/custom-back/predictive-back-gesture#opt-predictive\" rel=\"nofollow noreferrer\">opted in to the predictive back gesture</a> via <code>android:enableOnBackInvokedCallback=&quot;true&quot;</code> in your <code>AndroidManifest.xml</code>? You should be following the <a href=\"https://developer.android.com/guide/navigation/custom-back\" rel=\"nofollow noreferrer\">Provide custom back navigation guide</a> rather than putting any code in <code>onBackPressed</code> at all."},{"owner":{"account_id":6504824,"reputation":595,"user_id":5034193,"accept_rate":62,"display_name":"Sunny"},"score":0,"creation_date":1699970949,"post_id":77477209,"comment_id":136595415,"body_markdown":"Hey @ianhanniballake , I am doing the same thing in `AndroidManifest.xml` with this project as I did in other projects too. I am not using `android:enableOnBackInvokedCallback=&quot;true&quot;`. I tried after seeing this but that too doesn&#39;t work for me.","body":"Hey @ianhanniballake , I am doing the same thing in <code>AndroidManifest.xml</code> with this project as I did in other projects too. I am not using <code>android:enableOnBackInvokedCallback=&quot;true&quot;</code>. I tried after seeing this but that too doesn&#39;t work for me."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1699984210,"post_id":77477209,"comment_id":136598254,"body_markdown":"Do you use different Android versions? Android code is not always backwards compatible between different API versions.","body":"Do you use different Android versions? Android code is not always backwards compatible between different API versions."},{"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"score":0,"creation_date":1700132452,"post_id":77477209,"comment_id":136618302,"body_markdown":"What is the target SDK version?.","body":"What is the target SDK version?."},{"owner":{"account_id":11532477,"reputation":151,"user_id":8451032,"display_name":"Chandresh 204"},"score":0,"creation_date":1700135703,"post_id":77477209,"comment_id":136618819,"body_markdown":"I think the onBackPressed() is deprecated now.\n\ncan you try something like this:\n\nonBackPressedDispatcher.addCallback(object : OnBackPressedCallback(true) {\n            override fun handleOnBackPressed() {\n               // your code\n            }\n        })","body":"I think the onBackPressed() is deprecated now.  can you try something like this:  onBackPressedDispatcher.addCallback(object : OnBackPressedCallback(true) {             override fun handleOnBackPressed() {                // your code             }         })"},{"owner":{"account_id":6504824,"reputation":595,"user_id":5034193,"accept_rate":62,"display_name":"Sunny"},"score":0,"creation_date":1700138119,"post_id":77477209,"comment_id":136619219,"body_markdown":"@dev.bmax the target SDK version is 32","body":"@dev.bmax the target SDK version is 32"},{"owner":{"account_id":6504824,"reputation":595,"user_id":5034193,"accept_rate":62,"display_name":"Sunny"},"score":0,"creation_date":1700138381,"post_id":77477209,"comment_id":136619266,"body_markdown":"@Chandresh204 It works in my other project irrespective of it gets deprecated.","body":"@Chandresh204 It works in my other project irrespective of it gets deprecated."},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1700229004,"post_id":77477209,"comment_id":136631963,"body_markdown":"How do you know it isn&#39;t being called? Have you set a breakpoint or added logging?","body":"How do you know it isn&#39;t being called? Have you set a breakpoint or added logging?"}],"answers":[{"comments":[{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1700228903,"post_id":77498507,"comment_id":136631942,"body_markdown":"Your statement about always calling `super.onBackPressed()` is bad. The default behaviour of `onBackPressed()` (that you will get when you call `super.onBackPressed()`) is to call `finish()` on the current `Activity`. If you want to override this behaviour and do something else (show a dialog or start a different `Activity` or whatever), then you **absolutely, positively do not want to call `super.onBackPressed()`**!","body":"Your statement about always calling <code>super.onBackPressed()</code> is bad. The default behaviour of <code>onBackPressed()</code> (that you will get when you call <code>super.onBackPressed()</code>) is to call <code>finish()</code> on the current <code>Activity</code>. If you want to override this behaviour and do something else (show a dialog or start a different <code>Activity</code> or whatever), then you <b>absolutely, positively do not want to call <code>super.onBackPressed()</code></b>!"},{"owner":{"account_id":6504824,"reputation":595,"user_id":5034193,"accept_rate":62,"display_name":"Sunny"},"score":0,"creation_date":1700230416,"post_id":77498507,"comment_id":136632195,"body_markdown":"@Override\npublic void onBackPressed() {\n\n    //my logics;\n} this code is written in activity only and I used super.onBackPressed() too in that block","body":"@Override public void onBackPressed() {      //my logics; } this code is written in activity only and I used super.onBackPressed() too in that block"}],"tags":[],"owner":{"account_id":2013263,"reputation":1098,"user_id":1801202,"display_name":"theJango"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700176199,"creation_date":1700176199,"answer_id":77498507,"question_id":77477209,"body_markdown":"Though it&#39;s difficult to answer without looking at the high level app structure but I will still try.\r\n1. **Fragments** - If you are overriding `onBackPressed()` within the fragments that are hosted by your activity and not calling `super.onBackPressed()` or the way your fragments handle `onBackPressed()` can cause this issue.\r\n2. **Super** - Make sure you are calling `super.onBackPressed()` in all the overridden `onBackPressed()` methods to make sure the default behaviour remains intact.\r\n","title":"onBackPressed() is not getting called in any activity in my android project. While in my other projects it works","body":"<p>Though it's difficult to answer without looking at the high level app structure but I will still try.</p>\n<ol>\n<li><strong>Fragments</strong> - If you are overriding <code>onBackPressed()</code> within the fragments that are hosted by your activity and not calling <code>super.onBackPressed()</code> or the way your fragments handle <code>onBackPressed()</code> can cause this issue.</li>\n<li><strong>Super</strong> - Make sure you are calling <code>super.onBackPressed()</code> in all the overridden <code>onBackPressed()</code> methods to make sure the default behaviour remains intact.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700589824,"post_id":77516676,"comment_id":136672454,"body_markdown":"OnBackPressed is deprecated, but it must be called, if there is no enabled callback added to the onBackPressedDispatcher, so I assume that there is already knew defined, and that&#39;s why deprecated onBackPressed fun is not being called","body":"OnBackPressed is deprecated, but it must be called, if there is no enabled callback added to the onBackPressedDispatcher, so I assume that there is already knew defined, and that&#39;s why deprecated onBackPressed fun is not being called"},{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700589914,"post_id":77516676,"comment_id":136672471,"body_markdown":"@sunny could you provide the whole class of your activity, where the onBackPressed is not called?","body":"@sunny could you provide the whole class of your activity, where the onBackPressed is not called?"}],"tags":[],"owner":{"account_id":26151778,"reputation":91,"user_id":19839635,"display_name":"Purple6666"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700490838,"creation_date":1700490838,"answer_id":77516676,"question_id":77477209,"body_markdown":"`on onBackPressed()` is deprecated for higher android versions.\r\n\r\nInstead try using the onBackPressedDispatcher.\r\n Add a call back when the activity/ fragment is created and don&#39;t forget to pass the lifercycle owner otherwise the callback won&#39;t be called, and remove it when the activity/ fragment is destroyed.\r\nKotlin example code:\r\n\r\n    onBackPressedDispatcher.addCallback(owner = yourActivityOrFragment) {\r\n        ... // your code\r\n        finish()\r\n    }","title":"onBackPressed() is not getting called in any activity in my android project. While in my other projects it works","body":"<p><code>on onBackPressed()</code> is deprecated for higher android versions.</p>\n<p>Instead try using the onBackPressedDispatcher.\nAdd a call back when the activity/ fragment is created and don't forget to pass the lifercycle owner otherwise the callback won't be called, and remove it when the activity/ fragment is destroyed.\nKotlin example code:</p>\n<pre><code>onBackPressedDispatcher.addCallback(owner = yourActivityOrFragment) {\n    ... // your code\n    finish()\n}\n</code></pre>\n"}],"owner":{"account_id":6504824,"reputation":595,"user_id":5034193,"accept_rate":62,"display_name":"Sunny"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1700490838,"creation_date":1699914477,"question_id":77477209,"body_markdown":"As I am overriding `onBackPressed()` method in multiple activities of my Android project but it is not getting called, and my block of code is like below:\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n    \r\n        //my logics;\r\n    }\r\n\r\n\r\nBut this block is not getting visited on back press and it goes to previous activity. \r\n\r\nI have searched and found people work with `onKeyUp` and `onKeyDown`, which I don&#39;t want to use because in my other projects I am using `onBackPressed()` , where target sdk versions all are same, and there it works fine. \r\n\r\nWhat should I do to get this done?, Please help me to figure out this problem.","title":"onBackPressed() is not getting called in any activity in my android project. While in my other projects it works","body":"<p>As I am overriding <code>onBackPressed()</code> method in multiple activities of my Android project but it is not getting called, and my block of code is like below:</p>\n<pre><code>@Override\npublic void onBackPressed() {\n\n    //my logics;\n}\n</code></pre>\n<p>But this block is not getting visited on back press and it goes to previous activity.</p>\n<p>I have searched and found people work with <code>onKeyUp</code> and <code>onKeyDown</code>, which I don't want to use because in my other projects I am using <code>onBackPressed()</code> , where target sdk versions all are same, and there it works fine.</p>\n<p>What should I do to get this done?, Please help me to figure out this problem.</p>\n"},{"tags":["java","unity-game-engine","sdk","android-ndk"],"comments":[{"owner":{"account_id":458850,"reputation":287,"user_id":858991,"accept_rate":43,"display_name":"H_7"},"score":0,"creation_date":1639857005,"post_id":69233386,"comment_id":124457122,"body_markdown":"Same here. Such a pain looking for a solution. Hope this one works. Reporting here later how it went.","body":"Same here. Such a pain looking for a solution. Hope this one works. Reporting here later how it went."}],"answers":[{"comments":[{"owner":{"account_id":16341501,"reputation":91,"user_id":12733530,"display_name":"fetcher"},"score":0,"creation_date":1631972731,"post_id":69235154,"comment_id":122370605,"body_markdown":"The manual download actually helped, thank u! But now I&#39;m facing a problem with ndk - unity is unable to detect it in the folder where I put it...","body":"The manual download actually helped, thank u! But now I&#39;m facing a problem with ndk - unity is unable to detect it in the folder where I put it..."},{"owner":{"account_id":1537076,"reputation":2756,"user_id":1432808,"accept_rate":88,"display_name":"Guye Incognito"},"score":0,"creation_date":1631972980,"post_id":69235154,"comment_id":122370652,"body_markdown":"So maybe u downloaded wrong thing? or maybe you are not pointing unity to the right folder, maybe u need to point to some subfolder like bin or something, I dont remember.. it should work tho. This was the only way of building to android in the past.","body":"So maybe u downloaded wrong thing? or maybe you are not pointing unity to the right folder, maybe u need to point to some subfolder like bin or something, I dont remember.. it should work tho. This was the only way of building to android in the past."},{"owner":{"account_id":16341501,"reputation":91,"user_id":12733530,"display_name":"fetcher"},"score":0,"creation_date":1631973354,"post_id":69235154,"comment_id":122370723,"body_markdown":"So there was a problem with unpacking the archive, now everything&#39;s alright. Thank you so much!","body":"So there was a problem with unpacking the archive, now everything&#39;s alright. Thank you so much!"},{"owner":{"account_id":1537076,"reputation":2756,"user_id":1432808,"accept_rate":88,"display_name":"Guye Incognito"},"score":0,"creation_date":1631973784,"post_id":69235154,"comment_id":122370797,"body_markdown":"@fetcher np! :)","body":"@fetcher np! :)"}],"tags":[],"owner":{"account_id":1537076,"reputation":2756,"user_id":1432808,"accept_rate":88,"display_name":"Guye Incognito"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1631972034,"creation_date":1631972034,"answer_id":69235154,"question_id":69233386,"body_markdown":"the bug\r\n-------\r\n\r\nThere has been a bug in unity forever with those. \r\nThe fix is, for jdk, sdk and ndk.. \r\n* click copy path button, \r\n* untick the use version installed with unity box\r\n* paste in the path you just copied\r\n* (optional, save project and exit and repoen it)\r\n* Then just retick the boxes to put it back the way it was originaly\r\n\r\nI dont think you are having this bug tho, your problem sounds different.\r\n\r\nuninstall / reinstall\r\n---------------------\r\n\r\nI&#39;m really suprised uninstalling unity and reinstalling didnt fix it.\r\nMaybe try uninstalling all versions of unity + unity hub, restart machine and start again installing unity hub.\r\n\r\nManually download\r\n-----------------\r\n\r\nIf nothing else works I think this would, but its not pretty..\r\n\r\nManually download sdk, jdk and ndk, untick the boxes and add the paths where you have put them. The jdk and ndk can just be downloaded.\r\n* jdk https://www.oracle.com/java/technologies/downloads/\r\n* ndk https://developer.android.com/ndk/downloads\r\n* But to get the sdk you have to install android studio, then download all the individual packages using the sdk manager (which is a tiny hard to find icon!)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snI8t.png","title":"You are missing the recommended SDK/JDK/NDK/ Install the recommended version using Unity Hub","body":"<h2>the bug</h2>\n<p>There has been a bug in unity forever with those.\nThe fix is, for jdk, sdk and ndk..</p>\n<ul>\n<li>click copy path button,</li>\n<li>untick the use version installed with unity box</li>\n<li>paste in the path you just copied</li>\n<li>(optional, save project and exit and repoen it)</li>\n<li>Then just retick the boxes to put it back the way it was originaly</li>\n</ul>\n<p>I dont think you are having this bug tho, your problem sounds different.</p>\n<h2>uninstall / reinstall</h2>\n<p>I'm really suprised uninstalling unity and reinstalling didnt fix it.\nMaybe try uninstalling all versions of unity + unity hub, restart machine and start again installing unity hub.</p>\n<h2>Manually download</h2>\n<p>If nothing else works I think this would, but its not pretty..</p>\n<p>Manually download sdk, jdk and ndk, untick the boxes and add the paths where you have put them. The jdk and ndk can just be downloaded.</p>\n<ul>\n<li>jdk <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/</a></li>\n<li>ndk <a href=\"https://developer.android.com/ndk/downloads\" rel=\"nofollow noreferrer\">https://developer.android.com/ndk/downloads</a></li>\n<li>But to get the sdk you have to install android studio, then download all the individual packages using the sdk manager (which is a tiny hard to find icon!)\n<a href=\"https://i.stack.imgur.com/snI8t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snI8t.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3481682,"reputation":139,"user_id":2913555,"display_name":"hopefulcd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634797928,"creation_date":1634797785,"answer_id":69656922,"question_id":69233386,"body_markdown":"Here&#39;s the steps I used to fix this:\r\n\r\n 1. Install and Open Android Studio\r\n 2. Open the SDK Manager\r\n 3. Copy the Android SDK Location (the SDK Manager shows this path)\r\n 4. Optionally install any SDKs you want using the SDK manager\r\n 5. Create a Symlink to point from the default Unity SDK folder to the default Android Studio SDK folder\r\n\r\nOn Windows, here&#39;s a symlink command you can use. You&#39;ll need to change the command to match the user on your system. \r\n\r\n    mklink /D &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2020.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK&quot; &quot;C:\\Users\\YOUR_USER_HERE\\AppData\\Local\\Android\\Sdk&quot;\r\n\r\nLastly, I had to refresh Unity to make the warning message go away.\r\nOpen Unity -&gt; Edit -&gt; Preferences -&gt; External Tools -&gt; uncheck &amp; re-check the Android SDK Tools","title":"You are missing the recommended SDK/JDK/NDK/ Install the recommended version using Unity Hub","body":"<p>Here's the steps I used to fix this:</p>\n<ol>\n<li>Install and Open Android Studio</li>\n<li>Open the SDK Manager</li>\n<li>Copy the Android SDK Location (the SDK Manager shows this path)</li>\n<li>Optionally install any SDKs you want using the SDK manager</li>\n<li>Create a Symlink to point from the default Unity SDK folder to the default Android Studio SDK folder</li>\n</ol>\n<p>On Windows, here's a symlink command you can use. You'll need to change the command to match the user on your system.</p>\n<pre><code>mklink /D &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2020.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\SDK&quot; &quot;C:\\Users\\YOUR_USER_HERE\\AppData\\Local\\Android\\Sdk&quot;\n</code></pre>\n<p>Lastly, I had to refresh Unity to make the warning message go away.\nOpen Unity -&gt; Edit -&gt; Preferences -&gt; External Tools -&gt; uncheck &amp; re-check the Android SDK Tools</p>\n"},{"tags":[],"owner":{"account_id":22159771,"reputation":1,"user_id":18382922,"display_name":"Luciano Geronimo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649895023,"creation_date":1649895023,"answer_id":71865064,"question_id":69233386,"body_markdown":"For me (Unity 2021.2.18f1) the problem happened because the NDK field&#39;s default value was wrong. The NDK was correctly downloaded by Unity but the path in Unity Editor was wrong so I changed the path to the correct one.","title":"You are missing the recommended SDK/JDK/NDK/ Install the recommended version using Unity Hub","body":"<p>For me (Unity 2021.2.18f1) the problem happened because the NDK field's default value was wrong. The NDK was correctly downloaded by Unity but the path in Unity Editor was wrong so I changed the path to the correct one.</p>\n"},{"tags":[],"owner":{"account_id":3843595,"reputation":81,"user_id":3185897,"display_name":"user3185897"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659692037,"creation_date":1659692037,"answer_id":73247617,"question_id":69233386,"body_markdown":"For me Unity 2021.3.6f1. I fixed by changing the permission of the whole unity editor folder:\r\n\r\nsudo chmod -R 777 Editor/\r\n\r\nIt was a bit extreme, but it worked for me.\r\nIt was the editor 2021.3.6f1 ubuntu 22.04","title":"You are missing the recommended SDK/JDK/NDK/ Install the recommended version using Unity Hub","body":"<p>For me Unity 2021.3.6f1. I fixed by changing the permission of the whole unity editor folder:</p>\n<p>sudo chmod -R 777 Editor/</p>\n<p>It was a bit extreme, but it worked for me.\nIt was the editor 2021.3.6f1 ubuntu 22.04</p>\n"},{"tags":[],"owner":{"account_id":20783390,"reputation":11,"user_id":15298108,"display_name":"jay_luxus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663606839,"creation_date":1663606496,"answer_id":73776835,"question_id":69233386,"body_markdown":"I could reproduce this error when installing older Unity Versions (for me 2020.3.25f1) with Unity Hub 3.x. For some reason the newer Unity Hub doesn&#39;t install Android SDK &amp; NDK and OpenJDK for older Unity versions. It&#39;s a weird bug, but happened to me every time and on different machines. Possible Workarounds:\r\n\r\n 1. Manually install Android SDK, NDK &amp; JDK and locate path in Unity Editor\r\n 2. Use Unity Hub 2.X when installing older Unity Versions\r\n 3. Install newer Unity Editor (e.g. 2021.3.10f1). For some reason sdk, ndk and jdk are properly installed here. You can either copy it over to the other Unity Editor installation (Might get a filename too long exception though) or just link to the path from the 2021 installation in your 2020 editor. Pay attention to the required version though. If there&#39;s a version missmatch this workaround doesn&#39;t work.\r\n\r\nAll in all weird bug, weird workarounds but for me all of them worked with the last one being the most convenient since I usually have the newest recommended version installed anyway :)","title":"You are missing the recommended SDK/JDK/NDK/ Install the recommended version using Unity Hub","body":"<p>I could reproduce this error when installing older Unity Versions (for me 2020.3.25f1) with Unity Hub 3.x. For some reason the newer Unity Hub doesn't install Android SDK &amp; NDK and OpenJDK for older Unity versions. It's a weird bug, but happened to me every time and on different machines. Possible Workarounds:</p>\n<ol>\n<li>Manually install Android SDK, NDK &amp; JDK and locate path in Unity Editor</li>\n<li>Use Unity Hub 2.X when installing older Unity Versions</li>\n<li>Install newer Unity Editor (e.g. 2021.3.10f1). For some reason sdk, ndk and jdk are properly installed here. You can either copy it over to the other Unity Editor installation (Might get a filename too long exception though) or just link to the path from the 2021 installation in your 2020 editor. Pay attention to the required version though. If there's a version missmatch this workaround doesn't work.</li>\n</ol>\n<p>All in all weird bug, weird workarounds but for me all of them worked with the last one being the most convenient since I usually have the newest recommended version installed anyway :)</p>\n"},{"tags":[],"owner":{"account_id":19751605,"reputation":1,"user_id":14462851,"display_name":"Little Kidd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692739898,"creation_date":1692739898,"answer_id":76956972,"question_id":69233386,"body_markdown":"I had the same problem. After installing android studio and getting the sdk path from it, unity still did not accept the path as valid. So what I did was reinstalling the unity editor. In my case 2019.4.1, when installing it the &quot;extra packages&quot; dropdown menu will display and you can easily check the android packages and proceed. Now it perfectly works.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fyq6x.png","title":"You are missing the recommended SDK/JDK/NDK/ Install the recommended version using Unity Hub","body":"<p>I had the same problem. After installing android studio and getting the sdk path from it, unity still did not accept the path as valid. So what I did was reinstalling the unity editor. In my case 2019.4.1, when installing it the &quot;extra packages&quot; dropdown menu will display and you can easily check the android packages and proceed. Now it perfectly works.</p>\n<p><a href=\"https://i.stack.imgur.com/Fyq6x.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":14407454,"reputation":11,"user_id":10407157,"display_name":"Moha Krs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700490581,"creation_date":1700490581,"answer_id":77516647,"question_id":69233386,"body_markdown":"One thing worked for me is to install the JDK manually. After unticking &quot;JDK Installed with Unity&quot; and clicking browse, unity detected the newly installed JDK automatically and asks to set it as default. So I clicked Ok. I did that with the SDK as well. and now it works for me although it still shows the warnings.","title":"You are missing the recommended SDK/JDK/NDK/ Install the recommended version using Unity Hub","body":"<p>One thing worked for me is to install the JDK manually. After unticking &quot;JDK Installed with Unity&quot; and clicking browse, unity detected the newly installed JDK automatically and asks to set it as default. So I clicked Ok. I did that with the SDK as well. and now it works for me although it still shows the warnings.</p>\n"}],"owner":{"account_id":16341501,"reputation":91,"user_id":12733530,"display_name":"fetcher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20642,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69235154,"answer_count":7,"score":6,"last_activity_date":1700490581,"creation_date":1631957555,"question_id":69233386,"body_markdown":"So I&#39;ve been getting these warnings in Unity 2019.410f1. Here&#39;s how it looks like:[![enter image description here][1]][1]\r\n\r\n\r\nBut when I go to Hub to fix this, those packages are already installed. [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ky8zz.jpg\r\n  [2]: https://i.stack.imgur.com/jv9N4.jpg\r\n\r\nHowever, there are no such folders in the directory where they are supposed to be (except for NDK folder, this one is fine). So here&#39;s my problem: JDK, NDK and SDK are NOT installed, but Unity Hub thinks overwise and doesn&#39;t let me install them. Reinstalling this version of Unity doesn&#39;t help either. \r\nDoes anyone know what can I do to fix this?","title":"You are missing the recommended SDK/JDK/NDK/ Install the recommended version using Unity Hub","body":"<p>So I've been getting these warnings in Unity 2019.410f1. Here's how it looks like:<a href=\"https://i.stack.imgur.com/Ky8zz.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ky8zz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But when I go to Hub to fix this, those packages are already installed. <a href=\"https://i.stack.imgur.com/jv9N4.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jv9N4.jpg\" alt=\"enter image description here\" /></a></p>\n<p>However, there are no such folders in the directory where they are supposed to be (except for NDK folder, this one is fine). So here's my problem: JDK, NDK and SDK are NOT installed, but Unity Hub thinks overwise and doesn't let me install them. Reinstalling this version of Unity doesn't help either.\nDoes anyone know what can I do to fix this?</p>\n"},{"tags":["java","loops","nested-loops"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":5,"creation_date":1700473753,"post_id":77514842,"comment_id":136654557,"body_markdown":"How is the desired output &quot;ordered&quot;? I don&#39;t see an order here. Can you explain the logic here?","body":"How is the desired output &quot;ordered&quot;? I don&#39;t see an order here. Can you explain the logic here?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700473862,"post_id":77514842,"comment_id":136654570,"body_markdown":"What is the desired output for each team having 3 fencers, or 4 fencers? What should happen when the number of fencers on each team is different?","body":"What is the desired output for each team having 3 fencers, or 4 fencers? What should happen when the number of fencers on each team is different?"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1700476263,"post_id":77514842,"comment_id":136654972,"body_markdown":"My bad I didn&#39;t explain this enough. I am making a fencing tournament application, real fencers are going to be playing against each other every round. the loop should orderly print the document, so, the fencers know when they will play. For example here the nested (for loop) is looping with the first (for loop) that is Fencer1 and Fencer2. that means it will be printed like this (match1) Fencer1 vs Fencer3, (match2) Fencer1 vs Fencer4, then (match3) Fencer2 vs Fencer3 and (match4) Fencer2 vs Fencer4. But this doesn&#39;t make sense Fencer4 should be playing match 2 and 3. and I can&#39;t do it right","body":"My bad I didn&#39;t explain this enough. I am making a fencing tournament application, real fencers are going to be playing against each other every round. the loop should orderly print the document, so, the fencers know when they will play. For example here the nested (for loop) is looping with the first (for loop) that is Fencer1 and Fencer2. that means it will be printed like this (match1) Fencer1 vs Fencer3, (match2) Fencer1 vs Fencer4, then (match3) Fencer2 vs Fencer3 and (match4) Fencer2 vs Fencer4. But this doesn&#39;t make sense Fencer4 should be playing match 2 and 3. and I can&#39;t do it right"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1700476390,"post_id":77514842,"comment_id":136654992,"body_markdown":"each team must have 2 fencers. It can be changed in the settings and I can get the exact number with a function I made: &quot;variables.numberopairs&quot;. but usually the pair are made of just 2 fencers. There is a possibility that a team of 2 can encounter a team that is made of only one fencer, but I face no problem with that because of the way the loop functions","body":"each team must have 2 fencers. It can be changed in the settings and I can get the exact number with a function I made: &quot;variables.numberopairs&quot;. but usually the pair are made of just 2 fencers. There is a possibility that a team of 2 can encounter a team that is made of only one fencer, but I face no problem with that because of the way the loop functions"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700476427,"post_id":77514842,"comment_id":136655000,"body_markdown":"Why should Fencer4 play match 2 and 3? FYI, I don&#39;t know how fencing works.","body":"Why should Fencer4 play match 2 and 3? FYI, I don&#39;t know how fencing works."},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1700476745,"post_id":77514842,"comment_id":136655054,"body_markdown":"Okay so in fencing, players have to connect the electric wire and things might take time, that&#39;s why it&#39;s best to make fencers either play consecutively or make it so there is time between the matches. Fencer4 playing match 2 and 3 and Fencer3 playing match 1 and 4 makes this very convenient","body":"Okay so in fencing, players have to connect the electric wire and things might take time, that&#39;s why it&#39;s best to make fencers either play consecutively or make it so there is time between the matches. Fencer4 playing match 2 and 3 and Fencer3 playing match 1 and 4 makes this very convenient"}],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700490400,"creation_date":1700473604,"question_id":77514842,"body_markdown":"I have this nested loop.\r\n\r\n``` \r\nfor (Fencerss fencer1 : team1.getFencers()) {\r\n    for (Fencerss fencer2 : team2.getFencers()) {\r\n         PdfPCell cell1 = new PdfPCell(new Phrase(fencer1.getName() + &quot; &quot; + &quot;(&quot; + fencer1.getNation() + &quot;)&quot;));\r\n         PdfPCell cell2 = new PdfPCell(new Phrase(&quot; &quot;));\r\n         PdfPCell cell3 = new PdfPCell(new Phrase(&quot; &quot;));\r\n         PdfPCell cell4 = new PdfPCell(new Phrase(fencer2.getName() + &quot; &quot; + &quot;(&quot; + fencer2.getNation() + &quot;)&quot;));\r\n         table.addCell(cell1);\r\n         table.addCell(cell2);\r\n         table.addCell(cell3);\r\n         table.addCell(cell4);\r\n   }\r\n}\r\n```\r\nWhere each team has two fencers, there are 4 fencers in total. So there is Fencer1 and Fencer2 in the first loop and Fencer3 and Fencer4.\r\n\r\nThat means that table will be added to the document like this --&gt;\r\n\r\n```none\r\nFencer1 &quot; &quot; &quot; &quot; Fencer3\r\nFencer1 &quot; &quot; &quot; &quot; Fencer4\r\nFencer2 &quot; &quot; &quot; &quot; Fencer3\r\nFencer2 &quot; &quot; &quot; &quot; Fencer4\r\n```\r\n\r\nWhat I am trying to do here is to make a change in the nested loop so the output be like this in the end:\r\n\r\n```none\r\nFencer1 &quot; &quot; &quot; &quot; Fencer3\r\nFencer1 &quot; &quot; &quot; &quot; Fencer4\r\nFencer2 &quot; &quot; &quot; &quot; Fencer4\r\nFencer2 &quot; &quot; &quot; &quot; Fencer3\r\n```\r\n\r\nIn fencing, players have to connect the electric wire and things might take time, that&#39;s why it&#39;s best to make fencers either play consecutively or make it so there is time between the matches. Fencer4 playing match 2 and 3 and Fencer3 playing match 1 and 4 makes this very convenient.\r\n","title":"Changing a nested loop to print elements differently","body":"<p>I have this nested loop.</p>\n<pre><code>for (Fencerss fencer1 : team1.getFencers()) {\n    for (Fencerss fencer2 : team2.getFencers()) {\n         PdfPCell cell1 = new PdfPCell(new Phrase(fencer1.getName() + &quot; &quot; + &quot;(&quot; + fencer1.getNation() + &quot;)&quot;));\n         PdfPCell cell2 = new PdfPCell(new Phrase(&quot; &quot;));\n         PdfPCell cell3 = new PdfPCell(new Phrase(&quot; &quot;));\n         PdfPCell cell4 = new PdfPCell(new Phrase(fencer2.getName() + &quot; &quot; + &quot;(&quot; + fencer2.getNation() + &quot;)&quot;));\n         table.addCell(cell1);\n         table.addCell(cell2);\n         table.addCell(cell3);\n         table.addCell(cell4);\n   }\n}\n</code></pre>\n<p>Where each team has two fencers, there are 4 fencers in total. So there is Fencer1 and Fencer2 in the first loop and Fencer3 and Fencer4.</p>\n<p>That means that table will be added to the document like this --&gt;</p>\n<pre class=\"lang-none prettyprint-override\"><code>Fencer1 &quot; &quot; &quot; &quot; Fencer3\nFencer1 &quot; &quot; &quot; &quot; Fencer4\nFencer2 &quot; &quot; &quot; &quot; Fencer3\nFencer2 &quot; &quot; &quot; &quot; Fencer4\n</code></pre>\n<p>What I am trying to do here is to make a change in the nested loop so the output be like this in the end:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Fencer1 &quot; &quot; &quot; &quot; Fencer3\nFencer1 &quot; &quot; &quot; &quot; Fencer4\nFencer2 &quot; &quot; &quot; &quot; Fencer4\nFencer2 &quot; &quot; &quot; &quot; Fencer3\n</code></pre>\n<p>In fencing, players have to connect the electric wire and things might take time, that's why it's best to make fencers either play consecutively or make it so there is time between the matches. Fencer4 playing match 2 and 3 and Fencer3 playing match 1 and 4 makes this very convenient.</p>\n"},{"tags":["java","maven","plugins"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1700514692,"post_id":77516625,"comment_id":136661813,"body_markdown":"I do not quite understand. You can configure a plugin in a parent POM and then use it (with the configuration)  in a child POM.","body":"I do not quite understand. You can configure a plugin in a parent POM and then use it (with the configuration)  in a child POM."}],"owner":{"account_id":29949370,"reputation":11,"user_id":22951866,"display_name":"M.R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700490375,"creation_date":1700490375,"question_id":77516625,"body_markdown":"I want to use maven to insert the plugin configuration from a separate repo into my project.\r\n\r\nThe separate repo has the following structure:\r\n&quot;my-check&quot;\r\n   - pom.xml\r\n   - module &quot;my-archunit-plugin-config&quot;\r\n                 -pom.xml\r\n\r\nMy other java project is a simple spring boot project. it is named &quot;my-bookshop&quot;.\r\nI want to include the parent pom of &quot;my-check&quot; , so that all modules especially the plugin configuration will be inheritated to &quot;my-bookshop&quot;. \r\n\r\n\r\n\r\nThe content of the pom of &quot;my-archunit-plugin-config&quot; is:\r\n\r\n\r\n```\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.plugin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-check&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;my-archunit-plugin-config&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\n &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.societegenerale.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;arch-unit-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;                \r\n                    &lt;excludedPaths&gt;\r\n                        &lt;!-- exclude cds gen path --&gt;\r\n                        &lt;excludedPath&gt;${basedir}/src/gen/java/cds/gen&lt;/excludedPath&gt;\r\n                        &lt;excludedPath&gt;${basedir}/src/test&lt;/excludedPath&gt;\r\n                    &lt;/excludedPaths&gt;\r\n\r\n                    &lt;rules&gt;\r\n                        &lt;!-- using a rule available out of the box... --&gt;\r\n                        &lt;preConfiguredRules&gt;                            &lt;rule&gt;com.societegenerale.commons.plugin.rules.NoStandardStreamRuleTest&lt;/rule&gt;\r\n                            &lt;configurableRule&gt;\r\n                                &lt;rule&gt;com.rules.RuleTest1&lt;/rule&gt;\r\n                                &lt;applyOn&gt;\r\n                                    &lt;packageName&gt;com.factory&lt;/packageName&gt;\r\n                                    &lt;!-- scope can be &quot;main&quot; or &quot;test&quot; --&gt;\r\n                                    &lt;scope&gt;test&lt;/scope&gt;\r\n                                &lt;/applyOn&gt;\r\n                            &lt;/configurableRule&gt;\r\n                        &lt;/configurableRules&gt;\r\n                    &lt;/rules&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;arch-test&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.plugins.commons&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;commons-archunit&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.0.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\n\r\n\r\nHow can i do this?\r\nI tried it by using the as dependency or in dependency management or as plugin management. But nothing works. If look with in intellij in the &quot;my-check&quot; project i see the plugin. But if i look into &quot;my-bookshop&quot; where i tried to resolve also the plugin then it is not where. How can i achieve it?\r\n\r\nIm using Maven 3.8.1","title":"Inheritance with maven plugins","body":"<p>I want to use maven to insert the plugin configuration from a separate repo into my project.</p>\n<p>The separate repo has the following structure:\n&quot;my-check&quot;</p>\n<ul>\n<li>pom.xml</li>\n<li>module &quot;my-archunit-plugin-config&quot;\n-pom.xml</li>\n</ul>\n<p>My other java project is a simple spring boot project. it is named &quot;my-bookshop&quot;.\nI want to include the parent pom of &quot;my-check&quot; , so that all modules especially the plugin configuration will be inheritated to &quot;my-bookshop&quot;.</p>\n<p>The content of the pom of &quot;my-archunit-plugin-config&quot; is:</p>\n<pre><code>\n    &lt;parent&gt;\n        &lt;groupId&gt;com.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;my-check&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;my-archunit-plugin-config&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.societegenerale.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;arch-unit-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;                \n                    &lt;excludedPaths&gt;\n                        &lt;!-- exclude cds gen path --&gt;\n                        &lt;excludedPath&gt;${basedir}/src/gen/java/cds/gen&lt;/excludedPath&gt;\n                        &lt;excludedPath&gt;${basedir}/src/test&lt;/excludedPath&gt;\n                    &lt;/excludedPaths&gt;\n\n                    &lt;rules&gt;\n                        &lt;!-- using a rule available out of the box... --&gt;\n                        &lt;preConfiguredRules&gt;                            &lt;rule&gt;com.societegenerale.commons.plugin.rules.NoStandardStreamRuleTest&lt;/rule&gt;\n                            &lt;configurableRule&gt;\n                                &lt;rule&gt;com.rules.RuleTest1&lt;/rule&gt;\n                                &lt;applyOn&gt;\n                                    &lt;packageName&gt;com.factory&lt;/packageName&gt;\n                                    &lt;!-- scope can be &quot;main&quot; or &quot;test&quot; --&gt;\n                                    &lt;scope&gt;test&lt;/scope&gt;\n                                &lt;/applyOn&gt;\n                            &lt;/configurableRule&gt;\n                        &lt;/configurableRules&gt;\n                    &lt;/rules&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;arch-test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.plugins.commons&lt;/groupId&gt;\n                        &lt;artifactId&gt;commons-archunit&lt;/artifactId&gt;\n                        &lt;version&gt;2.0.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>How can i do this?\nI tried it by using the as dependency or in dependency management or as plugin management. But nothing works. If look with in intellij in the &quot;my-check&quot; project i see the plugin. But if i look into &quot;my-bookshop&quot; where i tried to resolve also the plugin then it is not where. How can i achieve it?</p>\n<p>Im using Maven 3.8.1</p>\n"},{"tags":["java","database"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1700481337,"post_id":77515554,"comment_id":136655819,"body_markdown":"Not an answer, but...: You are using `==` to compare strings in your code. That does not do what you think it does in Java. Use `.equals(...)` instead. See: [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Not an answer, but...: You are using <code>==</code> to compare strings in your code. That does not do what you think it does in Java. Use <code>.equals(...)</code> instead. See: <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1700482900,"post_id":77515554,"comment_id":136656134,"body_markdown":"According to the stack trace you posted, method `sqlSearch` (in class `Person`) is causing the error yet I could not find the code of that method in your question. Can you [edit] your question and post the code for class `Person`? Or at least the code of method `sqlSearch`? Better yet, maybe you can post a [mcve]?","body":"According to the stack trace you posted, method <code>sqlSearch</code> (in class <code>Person</code>) is causing the error yet I could not find the code of that method in your question. Can you <a href=\"https://stackoverflow.com/posts/77515554/edit\">edit</a> your question and post the code for class <code>Person</code>? Or at least the code of method <code>sqlSearch</code>? Better yet, maybe you can post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700490324,"creation_date":1700481518,"answer_id":77515718,"question_id":77515554,"body_markdown":"That&#39;s because you&#39;re using the *try with resources*. See https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html for more detail.\r\n\r\nThis means that as you&#39;re putting the connection within the try-block. After the try block execution the connection is closed:\r\n\r\n    try (Connection connection = sqlConn;\r\n         PreparedStatement ps = connection.prepareStatement(sqlQuery);\r\n         ResultSet rs = ps.executeQuery()) {\r\n\r\nJust try to move the connection outside the try block as follows:\r\n\r\n    Connection connection = sqlConn;\r\n    try (PreparedStatement ps = connection.prepareStatement(sqlQuery);\r\n         ResultSet rs = ps.executeQuery()) {\r\n\r\n\r\nDon&#39;t forget to close the connection after all the queries are executed.\r\n\r\nNote that another option will be to open a new connection each time.\r\n\r\n\r\n        ","title":"SQL connection closes without prompted","body":"<p>That's because you're using the <em>try with resources</em>. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</a> for more detail.</p>\n<p>This means that as you're putting the connection within the try-block. After the try block execution the connection is closed:</p>\n<pre><code>try (Connection connection = sqlConn;\n     PreparedStatement ps = connection.prepareStatement(sqlQuery);\n     ResultSet rs = ps.executeQuery()) {\n</code></pre>\n<p>Just try to move the connection outside the try block as follows:</p>\n<pre><code>Connection connection = sqlConn;\ntry (PreparedStatement ps = connection.prepareStatement(sqlQuery);\n     ResultSet rs = ps.executeQuery()) {\n</code></pre>\n<p>Don't forget to close the connection after all the queries are executed.</p>\n<p>Note that another option will be to open a new connection each time.</p>\n"}],"owner":{"account_id":15698566,"reputation":3,"user_id":11327270,"display_name":"sparrowe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77515718,"answer_count":1,"score":-1,"last_activity_date":1700490324,"creation_date":1700479889,"question_id":77515554,"body_markdown":"When trying to run two SQL queries, one after another (as seen in dBtest2), the system returns an error saying that the SQL connection has closed even though it has not been prompted to do so. \r\n\r\nSo far, I have tried moving the sqlConn connection to different places as well as opening and closing the connection individually per method. If only one SQL query is called, the system works as intended. These are the classes:\r\n\r\n```\r\nimport java.sql.*;\r\n\r\npublic class MySqlConnect {\r\n    private static final String DB_URL = &quot;jdbc:mysql://dbconnectionURL&quot;;\r\n    private static final String USER = &quot;username&quot;;\r\n    private static final String PASSWORD = &quot;paSs&quot;;\r\n    private static Connection mysqlConn;\r\n\r\n    static {\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            mysqlConn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\r\n            System.out.println(&quot;MySQL Db Connection is successful&quot;);\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            e.printStackTrace(); // Handle ClassNotFoundException and SQLException\r\n        }\r\n    }\r\n\r\n    public static Connection getMysqlConnection() {\r\n        return mysqlConn;\r\n    }\r\n\r\n    public static void closeConnection() {\r\n        if (mysqlConn != null) {\r\n            try {\r\n                mysqlConn.close();\r\n                System.out.println(&quot;MySQL Db Connection is closed&quot;);\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class sqlQuery {\r\n    private int userID;\r\n    private String password;\r\n    private boolean activated;\r\n    private String userType;\r\n    \r\n    Connection sqlConn = MySqlConnect.getMysqlConnection(); // I want to be able to try accept this but idk how\r\n\r\n    public String sqlSearch(String tBName){ // ALL\r\n        String sqlQuery = &quot;&quot;;\r\n\r\n        if(tBName == &quot;&quot;){\r\n            throw new IllegalArgumentException(&quot;Criteria cannot be empty&quot;);\r\n        }\r\n\r\n        sqlQuery = &quot;SELECT * FROM &quot; + tBName + &quot;;&quot;;\r\n        \r\n        if(sqlQuery == &quot;&quot;){\r\n            throw new IllegalArgumentException(&quot;SQL query not set, something gone wrong&quot;);\r\n        }\r\n\r\n        ArrayList&lt;String&gt; resultList = new ArrayList&lt;String&gt;();\r\n\r\n        try (Connection connection = sqlConn;\r\n            PreparedStatement ps = connection.prepareStatement(sqlQuery);\r\n            ResultSet rs = ps.executeQuery()) {\r\n    \r\n            ResultSetMetaData metaData = rs.getMetaData();\r\n            int columnCount = metaData.getColumnCount();\r\n        \r\n            if (rs.next()) {\r\n                for (int i = 1; i &lt;= columnCount; i++) {\r\n                    String columnValue = rs.getString(i);\r\n                    resultList.add(columnValue);\r\n                }     \r\n            } else {\r\n                System.out.println(&quot;No match for &quot; + tBName);\r\n            }\r\n        \r\n        } catch (SQLException e) {\r\n            System.err.println(&quot;Error executing SQL query: &quot; + e.getMessage());\r\n            e.printStackTrace(); \r\n        }\r\n        String result = String.join(&quot;, &quot;, resultList);\r\n        return result;     \r\n    }\r\n}\r\n```\r\n```\r\npublic class dBtest2 {\r\n    public class Main {\r\n        public static void main(String[] args) {    \r\n            Person person = new Person(2, &quot;password123&quot;, true, &quot;student&quot;);\r\n\r\n            System.out.println(person.sqlSearch(&quot;Course&quot;));\r\n            System.out.println(person.sqlSearch(&quot;Student&quot;));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe error message I end up getting despite all efforts is:\r\n```none\r\nMySQL Db Connection is successful\r\nCS101, CSC 101, Intro to Computer Science, 3\r\nError executing SQL query: No operations allowed after connection closed.\r\njava.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:111)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:98)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:90)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:64)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:74)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1610)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1524)\r\n        at Person.sqlSearch(Person.java:245)\r\n        at dBtest2$Main.main(dBtest2.java:8)\r\nCaused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.\r\n        at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)\r\n        at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:756)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:556)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1539)\r\n        ... 3 more\r\n```\r\n\r\nThe desired result would be the output to be just the lists\r\n","title":"SQL connection closes without prompted","body":"<p>When trying to run two SQL queries, one after another (as seen in dBtest2), the system returns an error saying that the SQL connection has closed even though it has not been prompted to do so.</p>\n<p>So far, I have tried moving the sqlConn connection to different places as well as opening and closing the connection individually per method. If only one SQL query is called, the system works as intended. These are the classes:</p>\n<pre><code>import java.sql.*;\n\npublic class MySqlConnect {\n    private static final String DB_URL = &quot;jdbc:mysql://dbconnectionURL&quot;;\n    private static final String USER = &quot;username&quot;;\n    private static final String PASSWORD = &quot;paSs&quot;;\n    private static Connection mysqlConn;\n\n    static {\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            mysqlConn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\n            System.out.println(&quot;MySQL Db Connection is successful&quot;);\n        } catch (ClassNotFoundException | SQLException e) {\n            e.printStackTrace(); // Handle ClassNotFoundException and SQLException\n        }\n    }\n\n    public static Connection getMysqlConnection() {\n        return mysqlConn;\n    }\n\n    public static void closeConnection() {\n        if (mysqlConn != null) {\n            try {\n                mysqlConn.close();\n                System.out.println(&quot;MySQL Db Connection is closed&quot;);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<pre><code>import java.sql.*;\nimport java.util.ArrayList;\n\npublic class sqlQuery {\n    private int userID;\n    private String password;\n    private boolean activated;\n    private String userType;\n    \n    Connection sqlConn = MySqlConnect.getMysqlConnection(); // I want to be able to try accept this but idk how\n\n    public String sqlSearch(String tBName){ // ALL\n        String sqlQuery = &quot;&quot;;\n\n        if(tBName == &quot;&quot;){\n            throw new IllegalArgumentException(&quot;Criteria cannot be empty&quot;);\n        }\n\n        sqlQuery = &quot;SELECT * FROM &quot; + tBName + &quot;;&quot;;\n        \n        if(sqlQuery == &quot;&quot;){\n            throw new IllegalArgumentException(&quot;SQL query not set, something gone wrong&quot;);\n        }\n\n        ArrayList&lt;String&gt; resultList = new ArrayList&lt;String&gt;();\n\n        try (Connection connection = sqlConn;\n            PreparedStatement ps = connection.prepareStatement(sqlQuery);\n            ResultSet rs = ps.executeQuery()) {\n    \n            ResultSetMetaData metaData = rs.getMetaData();\n            int columnCount = metaData.getColumnCount();\n        \n            if (rs.next()) {\n                for (int i = 1; i &lt;= columnCount; i++) {\n                    String columnValue = rs.getString(i);\n                    resultList.add(columnValue);\n                }     \n            } else {\n                System.out.println(&quot;No match for &quot; + tBName);\n            }\n        \n        } catch (SQLException e) {\n            System.err.println(&quot;Error executing SQL query: &quot; + e.getMessage());\n            e.printStackTrace(); \n        }\n        String result = String.join(&quot;, &quot;, resultList);\n        return result;     \n    }\n}\n</code></pre>\n<pre><code>public class dBtest2 {\n    public class Main {\n        public static void main(String[] args) {    \n            Person person = new Person(2, &quot;password123&quot;, true, &quot;student&quot;);\n\n            System.out.println(person.sqlSearch(&quot;Course&quot;));\n            System.out.println(person.sqlSearch(&quot;Student&quot;));\n        }\n    }\n}\n</code></pre>\n<p>The error message I end up getting despite all efforts is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>MySQL Db Connection is successful\nCS101, CSC 101, Intro to Computer Science, 3\nError executing SQL query: No operations allowed after connection closed.\njava.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:111)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:98)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:90)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:64)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:74)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1610)\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1524)\n        at Person.sqlSearch(Person.java:245)\n        at dBtest2$Main.main(dBtest2.java:8)\nCaused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.\n        at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)\n        at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:756)\n        at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:556)\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1539)\n        ... 3 more\n</code></pre>\n<p>The desired result would be the output to be just the lists</p>\n"},{"tags":["java","json","spring-boot","uuid","jackson-databind"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1700490491,"post_id":77516613,"comment_id":136657559,"body_markdown":"The error means that Jackson is looking for a field named `uuid` in class `CustomerDto`, but that class does not have a field with that name. I see in your code that it does have a field of type `UUID`, but it&#39;s named `providerId` instead of `uuid`. Rename the field, or add a `@JsonProperty(&quot;uuid&quot;)` annotation to the field, or change your JSON (use the name `providerId` instead of `uuid` in the JSON).","body":"The error means that Jackson is looking for a field named <code>uuid</code> in class <code>CustomerDto</code>, but that class does not have a field with that name. I see in your code that it does have a field of type <code>UUID</code>, but it&#39;s named <code>providerId</code> instead of <code>uuid</code>. Rename the field, or add a <code>@JsonProperty(&quot;uuid&quot;)</code> annotation to the field, or change your JSON (use the name <code>providerId</code> instead of <code>uuid</code> in the JSON)."},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1700490920,"post_id":77516613,"comment_id":136657622,"body_markdown":"why is it looking for a field called uuid?","body":"why is it looking for a field called uuid?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1700491056,"post_id":77516613,"comment_id":136657642,"body_markdown":"Probably because the JSON that you are trying to parse but that you did not show us, contains a field named `uuid`. Something like this: `{ &quot;uuid&quot;: &quot;....&quot;, .... }`","body":"Probably because the JSON that you are trying to parse but that you did not show us, contains a field named <code>uuid</code>. Something like this: <code>{ &quot;uuid&quot;: &quot;....&quot;, .... }</code>"},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1700491521,"post_id":77516613,"comment_id":136657731,"body_markdown":"You are right, it is because it is not returning the object expected but an exception... Thank you very much","body":"You are right, it is because it is not returning the object expected but an exception... Thank you very much"}],"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700490278,"creation_date":1700490278,"question_id":77516613,"body_markdown":"Migrating to Spring boot 3 I am stuck with this error on my automated integration tests, full stack trace below. I did a couple things related that might have to do with the problem:\r\n\r\n - Jackson-databind was throwing some problems (`NoClassDefFound javax/xml/bind/annotation/XmlElement`) so I updated it to the latest version and added dependency to some `jakarta.xml.bind-api` success.\r\n - The tests have not been modified, pretty much it consumes one of my endpoints succesfully but then fails mapping the result back in the test.\r\n - I tried: `mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);` but no luck there.\r\n\r\nStack trace: \r\n\r\n    java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;uuid&quot; (class *.CustomerDto), not marked as ignorable (42 known properties: ..., &quot;providerId&quot;, ...])\r\n     at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 10] (through reference chain: *.CustomerDto[&quot;uuid&quot;])\r\n     at io.restassured.internal.path.json.mapping.JsonPathJackson2ObjectDeserializer.deserialize(JsonPathJackson2ObjectDeserializer.java:30)\r\n    \tat io.restassured.path.json.mapping.JsonPathObjectDeserializer$deserialize.call(Unknown Source)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\r\n    \tat io.restassured.internal.mapping.Jackson2Mapper.deserialize(Jackson2Mapper.groovy:58)\r\n    \tat io.restassured.mapper.ObjectMapper$deserialize.call(Unknown Source)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\r\n    \tat io.restassured.internal.mapping.ObjectMapping.parseWithJackson2(ObjectMapping.groovy:254)\r\n    \tat io.restassured.internal.mapping.ObjectMapping$parseWithJackson2$0.callStatic(Unknown Source)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:53)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:217)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:240)\r\n    \tat io.restassured.internal.mapping.ObjectMapping.deserialize(ObjectMapping.groovy:56)\r\n    \tat io.restassured.internal.mapping.ObjectMapping$deserialize.call(Unknown Source)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n    \tat io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.as(RestAssuredResponseOptionsGroovyImpl.groovy:229)\r\n    \tat io.restassured.internal.RestAssuredResponseOptionsImpl.as(RestAssuredResponseOptionsImpl.java:169)\r\n    \tat *.RestUtils.post(RestUtils.java:65)\r\n    \tat *.InstallationControllerIntegrationTest.setUp(InstallationControllerIntegrationTest.java:95)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\r\nActual code:\r\n\r\n```\r\n    ...\r\n            customerId = restUtils\r\n                    .post(customersUrl, customer, CustomerDto.class)\r\n                    .getId();\r\n    ...\r\n```\r\n```\r\n    &lt;T&gt; T post(String url, Object dto, Class&lt;T&gt; type) {\r\n        try {\r\n            return RestAssured\r\n                    .given()\r\n                    .contentType(JSON)\r\n                    .body(mapper.writeValueAsString(dto))\r\n                    .when()\r\n                    .post(url)\r\n                    .as(type);\r\n        } catch (JsonProcessingException e) {\r\n            fail(e);\r\n            return null;\r\n        }\r\n    }\r\n```\r\n```\r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @NoArgsConstructor\r\n    public class CustomerDto {\r\n        private String id;\r\n    ...\r\n        private UUID providerId;\r\n    \r\n    ...\r\n    \r\n    }\r\n```\r\n\r\nPD; some values have been masked","title":"Caused by: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;uuid&quot;, (class *.CustomerDto), not marked as ignorable","body":"<p>Migrating to Spring boot 3 I am stuck with this error on my automated integration tests, full stack trace below. I did a couple things related that might have to do with the problem:</p>\n<ul>\n<li>Jackson-databind was throwing some problems (<code>NoClassDefFound javax/xml/bind/annotation/XmlElement</code>) so I updated it to the latest version and added dependency to some <code>jakarta.xml.bind-api</code> success.</li>\n<li>The tests have not been modified, pretty much it consumes one of my endpoints succesfully but then fails mapping the result back in the test.</li>\n<li>I tried: <code>mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);</code> but no luck there.</li>\n</ul>\n<p>Stack trace:</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;uuid&quot; (class *.CustomerDto), not marked as ignorable (42 known properties: ..., &quot;providerId&quot;, ...])\n at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 10] (through reference chain: *.CustomerDto[&quot;uuid&quot;])\n at io.restassured.internal.path.json.mapping.JsonPathJackson2ObjectDeserializer.deserialize(JsonPathJackson2ObjectDeserializer.java:30)\n    at io.restassured.path.json.mapping.JsonPathObjectDeserializer$deserialize.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\n    at io.restassured.internal.mapping.Jackson2Mapper.deserialize(Jackson2Mapper.groovy:58)\n    at io.restassured.mapper.ObjectMapper$deserialize.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\n    at io.restassured.internal.mapping.ObjectMapping.parseWithJackson2(ObjectMapping.groovy:254)\n    at io.restassured.internal.mapping.ObjectMapping$parseWithJackson2$0.callStatic(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:53)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:217)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:240)\n    at io.restassured.internal.mapping.ObjectMapping.deserialize(ObjectMapping.groovy:56)\n    at io.restassured.internal.mapping.ObjectMapping$deserialize.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.as(RestAssuredResponseOptionsGroovyImpl.groovy:229)\n    at io.restassured.internal.RestAssuredResponseOptionsImpl.as(RestAssuredResponseOptionsImpl.java:169)\n    at *.RestUtils.post(RestUtils.java:65)\n    at *.InstallationControllerIntegrationTest.setUp(InstallationControllerIntegrationTest.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<p>Actual code:</p>\n<pre><code>    ...\n            customerId = restUtils\n                    .post(customersUrl, customer, CustomerDto.class)\n                    .getId();\n    ...\n</code></pre>\n<pre><code>    &lt;T&gt; T post(String url, Object dto, Class&lt;T&gt; type) {\n        try {\n            return RestAssured\n                    .given()\n                    .contentType(JSON)\n                    .body(mapper.writeValueAsString(dto))\n                    .when()\n                    .post(url)\n                    .as(type);\n        } catch (JsonProcessingException e) {\n            fail(e);\n            return null;\n        }\n    }\n</code></pre>\n<pre><code>    @Data\n    @AllArgsConstructor\n    @Builder\n    @NoArgsConstructor\n    public class CustomerDto {\n        private String id;\n    ...\n        private UUID providerId;\n    \n    ...\n    \n    }\n</code></pre>\n<p>PD; some values have been masked</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9868,"page":49,"page_size":100}
