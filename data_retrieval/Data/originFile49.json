{"items":[{"tags":["java","noclassdeffounderror"],"comments":[{"owner":{"account_id":879919,"reputation":567,"user_id":162770,"display_name":"Kolibri"},"score":2,"creation_date":1255298792,"post_id":1551697,"comment_id":1409740,"body_markdown":"First, double check that your classpath is indeed correct.\n\nSecond, try opening the jar and check that it actually contains the org.apache.commons.logging.LogFactory class.\n\nFinally, try debugging by setting a breakpoint in the class loader.","body":"First, double check that your classpath is indeed correct.  Second, try opening the jar and check that it actually contains the org.apache.commons.logging.LogFactory class.  Finally, try debugging by setting a breakpoint in the class loader."},{"owner":{"account_id":21175,"reputation":5408,"user_id":51280,"accept_rate":68,"display_name":"opyate"},"score":2,"creation_date":1424880323,"post_id":1551697,"comment_id":45734281,"body_markdown":"All the answers below suggesting ```commons-logging``` is a step backwards. Use ```jcl-over-slf4j``` instead.","body":"All the answers below suggesting <code>commons-logging</code> is a step backwards. Use <code>jcl-over-slf4j</code> instead."},{"owner":{"account_id":1111448,"reputation":6564,"user_id":1101845,"display_name":"Roger Garzon Nieto"},"score":0,"creation_date":1504356294,"post_id":1551697,"comment_id":78987839,"body_markdown":"In Android add testCompile &#39;commons-logging:commons-logging:1.1.1&#39; to app.gradle","body":"In Android add testCompile &#39;commons-logging:commons-logging:1.1.1&#39; to app.gradle"}],"answers":[{"tags":[],"owner":{"account_id":63264,"reputation":521,"user_id":187376,"display_name":"emills"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1255294194,"creation_date":1255294194,"answer_id":1551734,"question_id":1551697,"body_markdown":"Try doing a complete clean of the target/deployment directory for the app to get rid of any stale library jars. Make a fresh build and check that commons-logging.jar is actually being placed in the correct lib folder. It might not be included when you are building the library for the application. \r\n\r\n","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Try doing a complete clean of the target/deployment directory for the app to get rid of any stale library jars. Make a fresh build and check that commons-logging.jar is actually being placed in the correct lib folder. It might not be included when you are building the library for the application. </p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1426491544,"creation_date":1255294281,"answer_id":1551740,"question_id":1551697,"body_markdown":"&gt; I have already included common-logging1.1.1.jar and ...\r\n\r\nAre you sure you spelled the name of the JAR file exactly right? I think it should probably be `commons-logging-1.1.1.jar` (note the extra `-` in the name). Also check if the directory name is correct.\r\n\r\n`NoClassDefFoundError` always means that a class cannot be found, so most likely your class path is not correct.","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<blockquote>\n  <p>I have already included common-logging1.1.1.jar and ...</p>\n</blockquote>\n\n<p>Are you sure you spelled the name of the JAR file exactly right? I think it should probably be <code>commons-logging-1.1.1.jar</code> (note the extra <code>-</code> in the name). Also check if the directory name is correct.</p>\n\n<p><code>NoClassDefFoundError</code> always means that a class cannot be found, so most likely your class path is not correct.</p>\n"},{"tags":[],"owner":{"account_id":562497,"reputation":19,"user_id":189675,"display_name":"dhammikas"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1255509055,"creation_date":1255509055,"answer_id":1565002,"question_id":1551697,"body_markdown":"Just check whether the commons-logging.jar has been added to your libs and the classpath.. I had the same issue and that was because of this. \r\ndhammikas-","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Just check whether the commons-logging.jar has been added to your libs and the classpath.. I had the same issue and that was because of this. \ndhammikas-</p>\n"},{"tags":[],"owner":{"account_id":8011,"reputation":29400,"user_id":14139,"accept_rate":84,"display_name":"brianegge"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1261624463,"creation_date":1261624463,"answer_id":1956471,"question_id":1551697,"body_markdown":"I generally assign the classpath to a variable and then verify it.  I&#39;ve written a small ruby script which I include in a my startup scripts which [validates the classpath before launching java][1].  Validating the classpath before the JVM starts has saved me lots of time troubleshooting these types of problems.\r\n\r\n\r\n  [1]: http://www.theeggeadventure.com/wikimedia/index.php/Classpathchecker.rb","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>I generally assign the classpath to a variable and then verify it.  I've written a small ruby script which I include in a my startup scripts which <a href=\"http://www.theeggeadventure.com/wikimedia/index.php/Classpathchecker.rb\" rel=\"nofollow noreferrer\">validates the classpath before launching java</a>.  Validating the classpath before the JVM starts has saved me lots of time troubleshooting these types of problems.</p>\n"},{"tags":[],"owner":{"account_id":787406,"reputation":1273,"user_id":849719,"display_name":"Manikandan"},"down_vote_count":4,"up_vote_count":128,"is_accepted":false,"score":124,"last_activity_date":1311003705,"creation_date":1310981328,"answer_id":6730913,"question_id":1551697,"body_markdown":"I have also faced the same issues, to fix, download the jar files from the below url\r\n\r\nhttp://commons.apache.org/logging/download_logging.cgi\r\n\r\nand copy to your lib folder, will resolve your issue.","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>I have also faced the same issues, to fix, download the jar files from the below url</p>\n\n<p><a href=\"http://commons.apache.org/logging/download_logging.cgi\">http://commons.apache.org/logging/download_logging.cgi</a></p>\n\n<p>and copy to your lib folder, will resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":1702785,"reputation":19,"user_id":1562447,"display_name":"rash"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1343639348,"creation_date":1343639348,"answer_id":11718379,"question_id":1551697,"body_markdown":"http://commons.apache.org/logging/download_logging.cgi\r\n\r\n\r\nuse this url to download jar files and include them in your class path, issue will be solved\r\n","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p><a href=\"http://commons.apache.org/logging/download_logging.cgi\" rel=\"nofollow\">http://commons.apache.org/logging/download_logging.cgi</a></p>\n\n<p>use this url to download jar files and include them in your class path, issue will be solved</p>\n"},{"tags":[],"owner":{"account_id":1003303,"reputation":4411,"user_id":1017653,"accept_rate":33,"display_name":"sonida"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1366702676,"creation_date":1366702676,"answer_id":16163610,"question_id":1551697,"body_markdown":"You just download [commons-logging-1.1.2.jar][1] and then copy this file in to libs\r\n\r\nfinally, it works.\r\n\r\n\r\n  [1]: http://repo1.maven.org/maven2/commons-logging/commons-logging/1.1.2/commons-logging-1.1.2.jar","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>You just download <a href=\"http://repo1.maven.org/maven2/commons-logging/commons-logging/1.1.2/commons-logging-1.1.2.jar\" rel=\"noreferrer\">commons-logging-1.1.2.jar</a> and then copy this file in to libs</p>\n\n<p>finally, it works.</p>\n"},{"tags":[],"owner":{"account_id":1734850,"reputation":181,"user_id":1587667,"display_name":"stacky"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1367063953,"creation_date":1367062964,"answer_id":16251696,"question_id":1551697,"body_markdown":"I had the same problem, and solved it by just adding the `commons-logging.jar` to the class path.","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>I had the same problem, and solved it by just adding the <code>commons-logging.jar</code> to the class path.</p>\n"},{"tags":[],"owner":{"account_id":2361996,"reputation":181,"user_id":2068499,"accept_rate":25,"display_name":"Tush"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434346013,"creation_date":1372166869,"answer_id":17298664,"question_id":1551697,"body_markdown":"Issue solved by adding commons-logging.jar\r\n\r\nImp files are ,\r\n\r\n    antlr-runtime-3.0.1\r\n    \r\n    org.springframework.aop-3.1.0.M2\r\n    \r\n    org.springframework.asm-3.1.0.M2\r\n    \r\n    org.springframework.aspects-3.1.0.M2\r\n    \r\n    org.springframework.beans-3.1.0.M2\r\n    \r\n    org.springframework.context.support-3.1.0.M2\r\n    \r\n    org.springframework.context-3.1.0.M2\r\n    \r\n    org.springframework.core-3.1.0.M2\r\n    \r\n    org.springframework.expression-3.1.0.M2\r\n    \r\n    commons-logging-1.1.1","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Issue solved by adding commons-logging.jar</p>\n\n<p>Imp files are ,</p>\n\n<pre><code>antlr-runtime-3.0.1\n\norg.springframework.aop-3.1.0.M2\n\norg.springframework.asm-3.1.0.M2\n\norg.springframework.aspects-3.1.0.M2\n\norg.springframework.beans-3.1.0.M2\n\norg.springframework.context.support-3.1.0.M2\n\norg.springframework.context-3.1.0.M2\n\norg.springframework.core-3.1.0.M2\n\norg.springframework.expression-3.1.0.M2\n\ncommons-logging-1.1.1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1621630,"reputation":2279,"user_id":1498055,"accept_rate":46,"display_name":"asuka"},"down_vote_count":0,"up_vote_count":141,"is_accepted":false,"score":141,"last_activity_date":1700452768,"creation_date":1372848580,"answer_id":17446010,"question_id":1551697,"body_markdown":"If you&#39;re using maven for managing dependencies, add the following lines in your pom.xml:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>If you're using maven for managing dependencies, add the following lines in your pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2992641,"reputation":1,"user_id":2539890,"display_name":"Krishnarjun"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1374131698,"creation_date":1374131698,"answer_id":17716938,"question_id":1551697,"body_markdown":"Hello friends if your getting any not class found exception in hibernate code it is the problem of jar files.here mainly two problems   \r\n1.I mean to say your working old version of hibernate may be 3.2 bellow.So if u try above 3.6 it will works fine\r\n\r\n2.first checkes database connection.if it database working properly their was a mistake in ur program or jar file.  \r\n\r\nplease check these two prioblems if it also not working you tried to IDE . I am using netbeanside 6.9 version.here hibernate working fine.you dont get any error from class not founnd exception..\r\n\r\nI hope this one helps more\r\n\r\n","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Hello friends if your getting any not class found exception in hibernate code it is the problem of jar files.here mainly two problems<br>\n1.I mean to say your working old version of hibernate may be 3.2 bellow.So if u try above 3.6 it will works fine</p>\n\n<p>2.first checkes database connection.if it database working properly their was a mistake in ur program or jar file.  </p>\n\n<p>please check these two prioblems if it also not working you tried to IDE . I am using netbeanside 6.9 version.here hibernate working fine.you dont get any error from class not founnd exception..</p>\n\n<p>I hope this one helps more</p>\n"},{"tags":[],"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1405611508,"creation_date":1405611508,"answer_id":24807927,"question_id":1551697,"body_markdown":"commons-logging-1.1.1.jar or jcl-over-slf4j-1.7.6.jar al\r\n\r\nIf you are using maven, use the below code.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>commons-logging-1.1.1.jar or jcl-over-slf4j-1.7.6.jar al</p>\n\n<p>If you are using maven, use the below code.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;${slf4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3898304,"reputation":69,"user_id":3226726,"display_name":"Sachin"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1406533122,"creation_date":1406533122,"answer_id":24990544,"question_id":1551697,"body_markdown":"Solution is to Add **common-logging.x.x** jar file","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Solution is to Add <strong>common-logging.x.x</strong> jar file</p>\n"},{"tags":[],"owner":{"account_id":4891605,"reputation":1,"user_id":3942592,"display_name":"Bob V."},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1408042875,"creation_date":1408042875,"answer_id":25315710,"question_id":1551697,"body_markdown":"If all else fails, as it had for me, try putting the commons-logging-x.y.z.jar in your Tomcat lib directory.  It solved the problem!  BTW, I am using Tomcat 6.","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>If all else fails, as it had for me, try putting the commons-logging-x.y.z.jar in your Tomcat lib directory.  It solved the problem!  BTW, I am using Tomcat 6.</p>\n"},{"tags":[],"owner":{"account_id":4909513,"reputation":1,"user_id":3955194,"display_name":"Sibichakravarthy Gunasekaran"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1410868853,"creation_date":1410868853,"answer_id":25868233,"question_id":1551697,"body_markdown":"Check whether the jars are imported properly. I imported them using build path. But it didn&#39;t recognise the jar in WAR/lib folder. Later, I **copied the same jar to war/lib folder**. It works fine now. You can refresh / clean your project.","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Check whether the jars are imported properly. I imported them using build path. But it didn't recognise the jar in WAR/lib folder. Later, I <strong>copied the same jar to war/lib folder</strong>. It works fine now. You can refresh / clean your project.</p>\n"},{"tags":[],"owner":{"account_id":2915287,"reputation":785,"user_id":2498635,"accept_rate":70,"display_name":"The Third"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412628395,"creation_date":1412628395,"answer_id":26224603,"question_id":1551697,"body_markdown":"Hey I was following the tutorial on tutorialpoint.com. Add after you complete **Step 2 - Install Apache Common Logging API:** You must **import external jar** libraries to the project from the files downloaded at this step. For me the file name was &quot;**commons-logging-1.1.1**&quot;.  ","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Hey I was following the tutorial on tutorialpoint.com. Add after you complete <strong>Step 2 - Install Apache Common Logging API:</strong> You must <strong>import external jar</strong> libraries to the project from the files downloaded at this step. For me the file name was \"<strong>commons-logging-1.1.1</strong>\".  </p>\n"},{"tags":[],"owner":{"account_id":6674965,"reputation":101,"user_id":5149955,"display_name":"devaaron"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437686718,"creation_date":1437686718,"answer_id":31598285,"question_id":1551697,"body_markdown":"Two options (at least):\r\n\r\n1. Add the commons-logging jar to your file by copying it into a local folder.\r\n\r\nNote: linking the jar can lead to problems with the server and maybe the reason why it&#39;s added to the build path but not solving the server startup problem.\r\n\r\nSo don&#39;t point the jar to an external folder.\r\n\r\nOR...\r\n\r\n2. If you really don&#39;t want to add it locally because you&#39;re sharing the jar between projects, then...\r\n\r\nIf you&#39;re using a tc server instance, then you need to add the jar as an external jar to the server instance run configurations.\r\n\r\ngo to run as, run configurations..., {your tc server instance}, and then the Class Path tab.\r\n\r\nThen add the commons-logging jar.","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Two options (at least):</p>\n\n<ol>\n<li>Add the commons-logging jar to your file by copying it into a local folder.</li>\n</ol>\n\n<p>Note: linking the jar can lead to problems with the server and maybe the reason why it's added to the build path but not solving the server startup problem.</p>\n\n<p>So don't point the jar to an external folder.</p>\n\n<p>OR...</p>\n\n<ol start=\"2\">\n<li>If you really don't want to add it locally because you're sharing the jar between projects, then...</li>\n</ol>\n\n<p>If you're using a tc server instance, then you need to add the jar as an external jar to the server instance run configurations.</p>\n\n<p>go to run as, run configurations..., {your tc server instance}, and then the Class Path tab.</p>\n\n<p>Then add the commons-logging jar.</p>\n"},{"tags":[],"owner":{"account_id":1292936,"reputation":27,"user_id":1244663,"display_name":"user1244663"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1445327699,"creation_date":1445327699,"answer_id":33231028,"question_id":1551697,"body_markdown":"try adding this dependency\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-exec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>try adding this dependency\n    \n        org.apache.commons\n        commons-exec\n        1.3\n    </p>\n"},{"tags":[],"owner":{"account_id":8327675,"reputation":252,"user_id":6257248,"display_name":"Patrick Brielmayer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1461684796,"creation_date":1461684796,"answer_id":36869485,"question_id":1551697,"body_markdown":"Setting the scope to compile did it for me\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Setting the scope to compile did it for me</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3950465,"reputation":81,"user_id":3261094,"display_name":"APal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1465373011,"creation_date":1465373011,"answer_id":37696650,"question_id":1551697,"body_markdown":"Adding commons-logging.jar or commons-logging-1.1.jar will solve this...","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>Adding commons-logging.jar or commons-logging-1.1.jar will solve this...</p>\n"},{"tags":[],"owner":{"account_id":4292834,"reputation":5466,"user_id":3508719,"accept_rate":53,"display_name":"Voy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467232182,"creation_date":1467232182,"answer_id":38109488,"question_id":1551697,"body_markdown":"If you&#39;re running this on Android then note that apparently `java.beans` package is not complete on Android. To attempt to fix it on Android try the following:\r\n\r\n 1. Download [android-java-air-bridge.jar][1] (currently the download button is on the bottom of the page or [direct link here][2])\r\n 2. Copy the downloaded jar to your *[APPROOT]/app/libs* directory (or link the jar in any other way)\r\n 3. Change the `import  ***` statements to that of air-bridge. Eg `import javadz.beanutils.BeanUtils` instead of `import org.apache.commons.beanutils.BeanUtils;`\r\n 4. Clean and rebuild the project\r\n\r\n[source 1][3], [source 2][4]\r\n\r\nI apologise as I realise this is not exactly answering the question, though this SO page comes up a lot when searching for android-generated `NoClassDefFoundError: Failed resolution of: beanUtils` errors.\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/a/Downloadandroidjavaairbridgejar.htm\r\n  [2]: http://www.java2s.com/Code/JarDownload/android-java/android-java-air-bridge.jar.zip\r\n  [3]: https://stackoverflow.com/a/15185068/3508719\r\n  [4]: https://stackoverflow.com/a/23408171/3508719","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>If you're running this on Android then note that apparently <code>java.beans</code> package is not complete on Android. To attempt to fix it on Android try the following:</p>\n\n<ol>\n<li>Download <a href=\"http://www.java2s.com/Code/Jar/a/Downloadandroidjavaairbridgejar.htm\" rel=\"nofollow noreferrer\">android-java-air-bridge.jar</a> (currently the download button is on the bottom of the page or <a href=\"http://www.java2s.com/Code/JarDownload/android-java/android-java-air-bridge.jar.zip\" rel=\"nofollow noreferrer\">direct link here</a>)</li>\n<li>Copy the downloaded jar to your <em>[APPROOT]/app/libs</em> directory (or link the jar in any other way)</li>\n<li>Change the <code>import  ***</code> statements to that of air-bridge. Eg <code>import javadz.beanutils.BeanUtils</code> instead of <code>import org.apache.commons.beanutils.BeanUtils;</code></li>\n<li>Clean and rebuild the project</li>\n</ol>\n\n<p><a href=\"https://stackoverflow.com/a/15185068/3508719\">source 1</a>, <a href=\"https://stackoverflow.com/a/23408171/3508719\">source 2</a></p>\n\n<p>I apologise as I realise this is not exactly answering the question, though this SO page comes up a lot when searching for android-generated <code>NoClassDefFoundError: Failed resolution of: beanUtils</code> errors.</p>\n"},{"tags":[],"owner":{"account_id":5190902,"reputation":71,"user_id":4153873,"display_name":"歌永_"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489525189,"creation_date":1489525189,"answer_id":42796441,"question_id":1551697,"body_markdown":"I got the same trouble than you.\r\nFinally I checked the version of apache possessing the class. \r\nI found that the version 1.0.4 has the class.\r\n\r\nTry to use the version 1.0.4 instead of 1.1.X or 1.2.X\r\n\r\nMy dependencies : \r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jolokia-client-java&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nMy Java Code \r\n\r\n    J4pClient j4pClient = new J4pClient(&quot;http://localhost:8080/jolokia&quot;);\r\n    J4pReadRequest req = new J4pReadRequest(&quot;java.lang:type=Memory&quot;,&quot;HeapMemoryUsage&quot;);\r\n    req.setPath(&quot;used&quot;);\r\n    J4pReadResponse resp = j4pClient.execute(req);\r\n    System.out.println(resp.getValue());\r\n\r\nMy Result : \r\n\r\n    130489168\r\n\r\nDouble check also that your maven dependencies are well imported.\r\n","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>I got the same trouble than you.\nFinally I checked the version of apache possessing the class. \nI found that the version 1.0.4 has the class.</p>\n\n<p>Try to use the version 1.0.4 instead of 1.1.X or 1.2.X</p>\n\n<p>My dependencies : </p>\n\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\n            &lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\n            &lt;artifactId&gt;jolokia-client-java&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>My Java Code </p>\n\n<pre><code>J4pClient j4pClient = new J4pClient(\"http://localhost:8080/jolokia\");\nJ4pReadRequest req = new J4pReadRequest(\"java.lang:type=Memory\",\"HeapMemoryUsage\");\nreq.setPath(\"used\");\nJ4pReadResponse resp = j4pClient.execute(req);\nSystem.out.println(resp.getValue());\n</code></pre>\n\n<p>My Result : </p>\n\n<pre><code>130489168\n</code></pre>\n\n<p>Double check also that your maven dependencies are well imported.</p>\n"},{"tags":[],"owner":{"account_id":5529491,"reputation":2847,"user_id":4389984,"accept_rate":34,"display_name":"Anmol Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523193464,"creation_date":1523193464,"answer_id":49718270,"question_id":1551697,"body_markdown":"I was getting the same error while the jar was present. No solution worked. What worked was deleting the jar from the file system (from .m2 directory) and then cleaning the maven project.","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>I was getting the same error while the jar was present. No solution worked. What worked was deleting the jar from the file system (from .m2 directory) and then cleaning the maven project.</p>\n"},{"tags":[],"owner":{"account_id":6376775,"reputation":63,"user_id":4947436,"display_name":"Yuliem Alavez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528837749,"creation_date":1528837749,"answer_id":50825855,"question_id":1551697,"body_markdown":"I have the same problem in eclipse IDE, my solution was:\r\nRight click in ***My project &gt; Properties*** \r\n\r\n[![enter image description here][1]][1]\r\n\r\nClick in **Maven** and write: ***jar*** in the **Active Maven Project**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFinally, Apply and Close\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pKHMk.png\r\n  [2]: https://i.stack.imgur.com/E50qz.png","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>I have the same problem in eclipse IDE, my solution was:\nRight click in <strong><em>My project > Properties</em></strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/pKHMk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pKHMk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Click in <strong>Maven</strong> and write: <strong><em>jar</em></strong> in the <strong>Active Maven Project</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/E50qz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E50qz.png\" alt=\"enter image description here\"></a></p>\n\n<p>Finally, Apply and Close</p>\n"},{"tags":[],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553503578,"creation_date":1553503578,"answer_id":55334024,"question_id":1551697,"body_markdown":"In my case I was testing a Tomcat app in eclipse and got this error. I solved it by checking the `.classpath` file and corrected this entry:\r\n\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\r\nThe  attribute `org.eclipse.jst.component.dependency` had been missing.","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>In my case I was testing a Tomcat app in eclipse and got this error. I solved it by checking the <code>.classpath</code> file and corrected this entry:</p>\n\n<pre><code>&lt;classpathentry kind=\"con\" path=\"org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER\"&gt;\n    &lt;attributes&gt;\n        &lt;attribute name=\"maven.pomderived\" value=\"true\"/&gt;\n        &lt;attribute name=\"org.eclipse.jst.component.dependency\" value=\"/WEB-INF/lib\"/&gt;\n    &lt;/attributes&gt;\n&lt;/classpathentry&gt;\n</code></pre>\n\n<p>The  attribute <code>org.eclipse.jst.component.dependency</code> had been missing.</p>\n"},{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642679313,"creation_date":1642679313,"answer_id":70785707,"question_id":1551697,"body_markdown":"The topic is very outdated. But it still can be met ourdays.\r\n\r\n`commons-logging`, or also known as `jcl` is a deprecated library. [The last version was exposed in 2014][1]\r\n\r\nYou should avoid adding dependency on it directly in your projects. I assume the most of answers and the accepted one are not actual anylonger.\r\n\r\nA preferrable way to use in your projects new alternatives, like `slf4j` or `log4j2`, which play the same role, as `jcl`. The reasons and motivation is another big topic, not for the scope of this issue.\r\n\r\nIf your application uses `log4j2`, and you meet the error, add dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.y.z&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you prefer `slf4j`, (already offered in previous comments/replies ) use:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you use Spring, most probably you have in the dependency tree:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand it solves the issue as well.\r\n\r\nIn the examples I skipped certain versions by purpose, they get deprecated very quickly, see [Offitial Maven repository][2]. \r\n\r\nIn some cases you should not use  `version` attribute at all, preferring using dependencies from `BOM` files. Spring is an example.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/commons-logging/commons-logging\r\n  [2]: https://mvnrepository.com/","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>The topic is very outdated. But it still can be met ourdays.</p>\n<p><code>commons-logging</code>, or also known as <code>jcl</code> is a deprecated library. <a href=\"https://mvnrepository.com/artifact/commons-logging/commons-logging\" rel=\"nofollow noreferrer\">The last version was exposed in 2014</a></p>\n<p>You should avoid adding dependency on it directly in your projects. I assume the most of answers and the accepted one are not actual anylonger.</p>\n<p>A preferrable way to use in your projects new alternatives, like <code>slf4j</code> or <code>log4j2</code>, which play the same role, as <code>jcl</code>. The reasons and motivation is another big topic, not for the scope of this issue.</p>\n<p>If your application uses <code>log4j2</code>, and you meet the error, add dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\n  &lt;version&gt;2.y.z&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you prefer <code>slf4j</code>, (already offered in previous comments/replies ) use:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;${slf4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you use Spring, most probably you have in the dependency tree:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and it solves the issue as well.</p>\n<p>In the examples I skipped certain versions by purpose, they get deprecated very quickly, see <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">Offitial Maven repository</a>.</p>\n<p>In some cases you should not use  <code>version</code> attribute at all, preferring using dependencies from <code>BOM</code> files. Spring is an example.</p>\n"}],"owner":{"display_name":"user188102"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616975,"favorite_count":0,"down_vote_count":1,"up_vote_count":217,"answer_count":26,"score":216,"last_activity_date":1700452768,"creation_date":1255293236,"question_id":1551697,"body_markdown":"i am executing simple Dependency Injection program of spring &amp; getting this exception. \r\nI have already included common-logging1.1.1.jar and spring.jar file. Could you please help to out?\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\r\n    \tat org.springframework.context.support.AbstractApplicationContext.&lt;init&gt;(AbstractApplicationContext.java:119)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.&lt;init&gt;(AbstractXmlApplicationContext.java:55)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:77)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:65)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:56)\r\n    \tat com.client.StoryReader.main(StoryReader.java:15)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClassInternal(Unknown Source)\r\n    \t... 6 more\r\n\r\n","title":"Getting java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory exception","body":"<p>i am executing simple Dependency Injection program of spring &amp; getting this exception. \nI have already included common-logging1.1.1.jar and spring.jar file. Could you please help to out?</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\n    at org.springframework.context.support.AbstractApplicationContext.&lt;init&gt;(AbstractApplicationContext.java:119)\n    at org.springframework.context.support.AbstractXmlApplicationContext.&lt;init&gt;(AbstractXmlApplicationContext.java:55)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:77)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:65)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:56)\n    at com.client.StoryReader.main(StoryReader.java:15)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClassInternal(Unknown Source)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","querydsl","spring-data-elasticsearch"],"owner":{"account_id":29945159,"reputation":1,"user_id":22948642,"display_name":"dan kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700452623,"creation_date":1700452623,"question_id":77513442,"body_markdown":"I&#39;m trying to write some query using spring data elasticsearch 5\r\n\r\nand this is my environment\r\n\r\n - elasticsearch 8\r\n - spring-boot-3\r\n - spring-data-elasticsearch 5\r\n\r\n\r\nand i can not make query like this with spring data elasticsearch \r\n so PLEASE help me with building dsl query using spring data elasticseaerch\r\n\r\n[WHAT I WANT ]\r\n\r\n\r\n\r\n```\r\ntype here\r\n\r\nPOST someIndex/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;should&quot;: [\r\n        {&quot;match&quot;: {&quot;A&quot;: &quot;the challenge city&quot;}},\r\n        {&quot;match&quot;: {&quot;B&quot;: &quot;the challenge city&quot;}},\r\n        {&quot;match&quot;: {&quot;C&quot;: &quot;the challenge city&quot;}}\r\n      ],\r\n      &quot;must&quot;: [\r\n        {&quot;match&quot;: {&quot;C&quot;: &quot;City&quot;}}\r\n      ]\r\n    }\r\n  }\r\n```\r\n\r\n\r\n\r\nim trying to build this should query using Criteria in spring data ,\r\nBut it is not goes well.\r\n\r\nWhat is did ( wrong) is here\r\n\r\n\r\n```\r\ntype here\r\n\r\nprivate CriteriaQuery searchDsl(BoardEntrySearchParams params) {\r\n\t\tCriteriaQuery query = new CriteriaQuery(new Criteria());\r\n\r\n\t\tif (params == null)\r\n\t\t\treturn query;\r\n\r\n\t\tif (params.searchWord() != null) {\r\n\t\t\tquery.addCriteria(Criteria.or().where(&quot;title&quot;).contains(params.searchWord()));\r\n\t\t\tquery.addCriteria(Criteria.or().where(&quot;content&quot;).contains(params.searchWord()));\r\n\t\t\tquery.addCriteria(Criteria.or().where(&quot;tags&quot;).contains(params.searchWord()));\r\n\t\t}\r\n\r\n\t\tif (params.author() != null)\r\n\t\t\tquery.addCriteria(Criteria.and().where(&quot;authorId&quot;).is(params.author()));\r\n\r\n\t\tif (params.tags() != null &amp;&amp; params.tags().size() != 0) {\r\n\t\t\tStringBuilder tagParam = new StringBuilder();\r\n\t\t\tfor (String elem : params.tags())\r\n\t\t\t\ttagParam.append(elem);\r\n\t\t\tquery.addCriteria(Criteria.and().where(&quot;tags&quot;).contains(tagParam.toString()));\r\n\t\t}\r\n\r\n\t\treturn query;\r\n\t}\r\n\r\n.....\r\n\r\n// when i call it \r\n\tvar hitResult = elasticsearchOperations.search(searchDsl(params), BoardEntryDocument.class);\r\n\r\n```\r\n\r\n\r\n\r\nBut after i see trace log, it look likes\r\n\r\n\r\nSo Please Help me\r\nlet me know how to make query of combination of should and must like below\r\n\r\nHave a Good Day though\r\n\r\n\r\n```\r\ntype here\r\n\r\n{\r\n  &quot;from&quot;: 0,\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;must&quot;: [\r\n        {\r\n          &quot;query_string&quot;: {\r\n            &quot;analyze_wildcard&quot;: true,\r\n            &quot;fields&quot;: [\r\n              &quot;title&quot;\r\n            ],\r\n            &quot;query&quot;: &quot;*java*&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;query_string&quot;: {\r\n            &quot;analyze_wildcard&quot;: true,\r\n            &quot;fields&quot;: [\r\n              &quot;content&quot;\r\n            ],\r\n            &quot;query&quot;: &quot;*java*&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;query_string&quot;: {\r\n            &quot;analyze_wildcard&quot;: true,\r\n            &quot;fields&quot;: [\r\n              &quot;tags&quot;\r\n            ],\r\n            &quot;query&quot;: &quot;*java*&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;query_string&quot;: {\r\n            &quot;analyze_wildcard&quot;: true,\r\n            &quot;fields&quot;: [\r\n              &quot;tags&quot;\r\n            ],\r\n            &quot;query&quot;: &quot;*java*&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  &quot;size&quot;: 10000,\r\n  &quot;track_scores&quot;: false,\r\n  &quot;version&quot;: true\r\n}\r\n```\r\n\r\nwhich i really mean to query is  below \r\n\r\n```\r\n    POST_req someIndex/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;should&quot;: [\r\n            {&quot;match&quot;: {&quot;A&quot;: &quot;the challenge city&quot;}},\r\n            {&quot;match&quot;: {&quot;B&quot;: &quot;the challenge city&quot;}},\r\n            {&quot;match&quot;: {&quot;C&quot;: &quot;the challenge city&quot;}}\r\n          ],\r\n          &quot;must&quot;: [\r\n            {&quot;match&quot;: {&quot;C&quot;: &quot;City&quot;}}\r\n          ]\r\n        }\r\n      }\r\n\r\n```\r\n","title":"How to build dsl query in spring-data-elasticsearch 5 (ElasticsearchOperations , CriteriaQuery)","body":"<p>I'm trying to write some query using spring data elasticsearch 5</p>\n<p>and this is my environment</p>\n<ul>\n<li>elasticsearch 8</li>\n<li>spring-boot-3</li>\n<li>spring-data-elasticsearch 5</li>\n</ul>\n<p>and i can not make query like this with spring data elasticsearch\nso PLEASE help me with building dsl query using spring data elasticseaerch</p>\n<p>[WHAT I WANT ]</p>\n<pre><code>type here\n\nPOST someIndex/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;should&quot;: [\n        {&quot;match&quot;: {&quot;A&quot;: &quot;the challenge city&quot;}},\n        {&quot;match&quot;: {&quot;B&quot;: &quot;the challenge city&quot;}},\n        {&quot;match&quot;: {&quot;C&quot;: &quot;the challenge city&quot;}}\n      ],\n      &quot;must&quot;: [\n        {&quot;match&quot;: {&quot;C&quot;: &quot;City&quot;}}\n      ]\n    }\n  }\n</code></pre>\n<p>im trying to build this should query using Criteria in spring data ,\nBut it is not goes well.</p>\n<p>What is did ( wrong) is here</p>\n<pre><code>type here\n\nprivate CriteriaQuery searchDsl(BoardEntrySearchParams params) {\n        CriteriaQuery query = new CriteriaQuery(new Criteria());\n\n        if (params == null)\n            return query;\n\n        if (params.searchWord() != null) {\n            query.addCriteria(Criteria.or().where(&quot;title&quot;).contains(params.searchWord()));\n            query.addCriteria(Criteria.or().where(&quot;content&quot;).contains(params.searchWord()));\n            query.addCriteria(Criteria.or().where(&quot;tags&quot;).contains(params.searchWord()));\n        }\n\n        if (params.author() != null)\n            query.addCriteria(Criteria.and().where(&quot;authorId&quot;).is(params.author()));\n\n        if (params.tags() != null &amp;&amp; params.tags().size() != 0) {\n            StringBuilder tagParam = new StringBuilder();\n            for (String elem : params.tags())\n                tagParam.append(elem);\n            query.addCriteria(Criteria.and().where(&quot;tags&quot;).contains(tagParam.toString()));\n        }\n\n        return query;\n    }\n\n.....\n\n// when i call it \n    var hitResult = elasticsearchOperations.search(searchDsl(params), BoardEntryDocument.class);\n\n</code></pre>\n<p>But after i see trace log, it look likes</p>\n<p>So Please Help me\nlet me know how to make query of combination of should and must like below</p>\n<p>Have a Good Day though</p>\n<pre><code>type here\n\n{\n  &quot;from&quot;: 0,\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;query_string&quot;: {\n            &quot;analyze_wildcard&quot;: true,\n            &quot;fields&quot;: [\n              &quot;title&quot;\n            ],\n            &quot;query&quot;: &quot;*java*&quot;\n          }\n        },\n        {\n          &quot;query_string&quot;: {\n            &quot;analyze_wildcard&quot;: true,\n            &quot;fields&quot;: [\n              &quot;content&quot;\n            ],\n            &quot;query&quot;: &quot;*java*&quot;\n          }\n        },\n        {\n          &quot;query_string&quot;: {\n            &quot;analyze_wildcard&quot;: true,\n            &quot;fields&quot;: [\n              &quot;tags&quot;\n            ],\n            &quot;query&quot;: &quot;*java*&quot;\n          }\n        },\n        {\n          &quot;query_string&quot;: {\n            &quot;analyze_wildcard&quot;: true,\n            &quot;fields&quot;: [\n              &quot;tags&quot;\n            ],\n            &quot;query&quot;: &quot;*java*&quot;\n          }\n        }\n      ]\n    }\n  },\n  &quot;size&quot;: 10000,\n  &quot;track_scores&quot;: false,\n  &quot;version&quot;: true\n}\n</code></pre>\n<p>which i really mean to query is  below</p>\n<pre><code>    POST_req someIndex/_search\n    {\n      &quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;should&quot;: [\n            {&quot;match&quot;: {&quot;A&quot;: &quot;the challenge city&quot;}},\n            {&quot;match&quot;: {&quot;B&quot;: &quot;the challenge city&quot;}},\n            {&quot;match&quot;: {&quot;C&quot;: &quot;the challenge city&quot;}}\n          ],\n          &quot;must&quot;: [\n            {&quot;match&quot;: {&quot;C&quot;: &quot;City&quot;}}\n          ]\n        }\n      }\n\n</code></pre>\n"},{"tags":["java","spring","apache","cxf","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":2124243,"reputation":903,"user_id":1886835,"display_name":"Pavel Lechev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700450798,"creation_date":1416485238,"answer_id":27039209,"question_id":27038274,"body_markdown":"You will have to organise your endpoints/resources in separate `&lt;jaxrs:server &gt;` tags with their own settings for attachment size:\r\n\r\n```xml\r\n&lt;jaxrs:server id=&quot;services&quot;&gt;\r\n    &lt;jaxrs:properties&gt;\r\n        &lt;entry key=&quot;attachment-max-size&quot; value=&quot;1024&quot; /&gt;\r\n    &lt;/jaxrs:properties&gt;\r\n    ....\r\n&lt;/jaxrs:server&gt;\r\n\r\n\r\n&lt;jaxrs:server id=&quot;largeFileServices&quot;&gt;\r\n    &lt;jaxrs:properties&gt;\r\n        &lt;entry key=&quot;attachment-max-size&quot; value=&quot;1000000&quot; /&gt;\r\n    &lt;/jaxrs:properties&gt;\r\n    ....\r\n&lt;/jaxrs:server&gt;\r\n```\r\n\r\nhttps://cxf.apache.org/docs/jax-rs-multiparts.html\r\n","title":"Restricting max file size per resource","body":"<p>You will have to organise your endpoints/resources in separate <code>&lt;jaxrs:server &gt;</code> tags with their own settings for attachment size:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jaxrs:server id=&quot;services&quot;&gt;\n    &lt;jaxrs:properties&gt;\n        &lt;entry key=&quot;attachment-max-size&quot; value=&quot;1024&quot; /&gt;\n    &lt;/jaxrs:properties&gt;\n    ....\n&lt;/jaxrs:server&gt;\n\n\n&lt;jaxrs:server id=&quot;largeFileServices&quot;&gt;\n    &lt;jaxrs:properties&gt;\n        &lt;entry key=&quot;attachment-max-size&quot; value=&quot;1000000&quot; /&gt;\n    &lt;/jaxrs:properties&gt;\n    ....\n&lt;/jaxrs:server&gt;\n</code></pre>\n<p><a href=\"https://cxf.apache.org/docs/jax-rs-multiparts.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/jax-rs-multiparts.html</a></p>\n"}],"owner":{"account_id":469978,"reputation":665,"user_id":876913,"accept_rate":33,"display_name":"baskar_p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1922,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27039209,"answer_count":1,"score":1,"last_activity_date":1700450798,"creation_date":1416482350,"question_id":27038274,"body_markdown":"I am using Apache-cxf (JAX-RS) coupled with spring framework. I have the following sample code in my beans.xml. \r\n       \r\n        &lt;jaxrs:server id=&quot;services&quot; address=&quot;${http.server}&quot;&gt;\r\n            &lt;jaxrs:properties&gt;\r\n\t\t        &lt;entry key=&quot;attachment-max-size&quot; value=&quot;1024&quot; /&gt;\r\n\t        &lt;/jaxrs:properties&gt;\r\n\t        &lt;jaxrs:serviceBeans&gt;\r\n\t\t        &lt;bean id=&quot;mainResource&quot; class=&quot;com.abc.rest.api.MainResource&quot;&gt;\r\n\t\t\t    &lt;lookup-method name=&quot;createEmployeeCollectionResource&quot;\r\n\t\t\t\t\t    bean=&quot;employeeCollectionResource&quot; /&gt;\r\n\t\t        &lt;/bean&gt;\r\n\t\t    ...\r\n\t\t    ...other beans\r\n\t\t    ...\r\n\t        &lt;/jaxrs:serviceBeans&gt;\r\n        &lt;/jaxrs:server&gt;\r\n\r\nI also have the following code\r\n\r\n\t&lt;bean id=&quot;employeeCollectionResource&quot;\r\n\t\tclass=&quot;com.abc.rest.services.EmployeeCollectionResourceImpl&quot;&gt;\r\n\t\t&lt;lookup-method name=&quot;createNewEmployeeResource&quot; bean=&quot;employeeResource&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;employeeResource&quot; scope=&quot;prototype&quot;\r\n\t\tclass=&quot;com.abc.rest.services.EmployeeResourceImpl&quot;&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI have set the max file size during upload as 1KB for all the services in general.\r\n\r\nHow can I restrict the `attachment-max-size` for few beans in particular? Example - 5MB for few beans and 2MB for few others etc","title":"Restricting max file size per resource","body":"<p>I am using Apache-cxf (JAX-RS) coupled with spring framework. I have the following sample code in my beans.xml. </p>\n\n<pre><code>    &lt;jaxrs:server id=\"services\" address=\"${http.server}\"&gt;\n        &lt;jaxrs:properties&gt;\n            &lt;entry key=\"attachment-max-size\" value=\"1024\" /&gt;\n        &lt;/jaxrs:properties&gt;\n        &lt;jaxrs:serviceBeans&gt;\n            &lt;bean id=\"mainResource\" class=\"com.abc.rest.api.MainResource\"&gt;\n            &lt;lookup-method name=\"createEmployeeCollectionResource\"\n                    bean=\"employeeCollectionResource\" /&gt;\n            &lt;/bean&gt;\n        ...\n        ...other beans\n        ...\n        &lt;/jaxrs:serviceBeans&gt;\n    &lt;/jaxrs:server&gt;\n</code></pre>\n\n<p>I also have the following code</p>\n\n<pre><code>&lt;bean id=\"employeeCollectionResource\"\n    class=\"com.abc.rest.services.EmployeeCollectionResourceImpl\"&gt;\n    &lt;lookup-method name=\"createNewEmployeeResource\" bean=\"employeeResource\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"employeeResource\" scope=\"prototype\"\n    class=\"com.abc.rest.services.EmployeeResourceImpl\"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I have set the max file size during upload as 1KB for all the services in general.</p>\n\n<p>How can I restrict the <code>attachment-max-size</code> for few beans in particular? Example - 5MB for few beans and 2MB for few others etc</p>\n"},{"tags":["java","spring","load-balancing","spring-cloud","spring-cloud-loadbalancer"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1700400011,"post_id":77510752,"comment_id":136647235,"body_markdown":"It&#39;s possible, but we&#39;ve not written one. It will need to be custom","body":"It&#39;s possible, but we&#39;ve not written one. It will need to be custom"},{"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"score":0,"creation_date":1700459161,"post_id":77510752,"comment_id":136652679,"body_markdown":"@spencergibb thanks for letting  me know. I need to look for some alternative solution in that case. Can you provide some solution on what to use in case I want to use least connections strategy","body":"@spencergibb thanks for letting  me know. I need to look for some alternative solution in that case. Can you provide some solution on what to use in case I want to use least connections strategy"}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700448742,"creation_date":1700448742,"answer_id":77513288,"question_id":77510752,"body_markdown":"If you want all clients to use a custom policy, you just only need to define a ReactorLoadBalancer bean as below\r\n\r\n    @Bean\r\n    ReactorLoadBalancer&lt;ServiceInstance&gt; randomLoadBalancer(Environment environment,\r\n                                                            LoadBalancerClientFactory loadBalancerClientFactory) {\r\n        String name = environment.getProperty(LoadBalancerClientFactory.PROPERTY_NAME);\r\n        return new RandomLoadBalancer(loadBalancerClientFactory\r\n                .getLazyProvider(name, ServiceInstanceListSupplier.class),\r\n                name);\r\n    }\r\n\r\nBut if you want to customize a different policy for each client,you need to do like this\r\n\r\n\r\n    public class RestConfig {\r\n        @Bean\r\n        ReactorLoadBalancer&lt;ServiceInstance&gt; randomLoadBalancer(Environment environment,\r\n                                                                LoadBalancerClientFactory loadBalancerClientFactory) {\r\n            String name = environment.getProperty(LoadBalancerClientFactory.PROPERTY_NAME);\r\n            return new RandomLoadBalancer(loadBalancerClientFactory\r\n                    .getLazyProvider(name, ServiceInstanceListSupplier.class),\r\n                    name);\r\n        }\r\n    }\r\n\r\nConfigure two routes\r\n\r\n    spring.cloud.gateway.routes[0].id=web\r\n    spring.cloud.gateway.routes[0].uri=lb://web\r\n    spring.cloud.gateway.routes[0].predicates[0]=Path=/web/**\r\n    spring.cloud.gateway.routes[1].id=reactive-web\r\n    spring.cloud.gateway.routes[1].uri=lb://reactive-web\r\n    spring.cloud.gateway.routes[1].predicates[0]=Path=/reactive/**\r\n\r\n\r\nRun GateWayApplication \r\n\r\n    @LoadBalancerClient(value = &quot;reactive-web&quot;,configuration = RestConfig .class)\r\n    @SpringBootApplication\r\n    public class GateWayApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(GateWayApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nIn this way, the first route uses RoundRobinLoadBalancer, and the second route uses RandomLoadBalancer.","title":"How do I configure Spring load balancing strategy to use the instance that is currently having least traffic?","body":"<p>If you want all clients to use a custom policy, you just only need to define a ReactorLoadBalancer bean as below</p>\n<pre><code>@Bean\nReactorLoadBalancer&lt;ServiceInstance&gt; randomLoadBalancer(Environment environment,\n                                                        LoadBalancerClientFactory loadBalancerClientFactory) {\n    String name = environment.getProperty(LoadBalancerClientFactory.PROPERTY_NAME);\n    return new RandomLoadBalancer(loadBalancerClientFactory\n            .getLazyProvider(name, ServiceInstanceListSupplier.class),\n            name);\n}\n</code></pre>\n<p>But if you want to customize a different policy for each client,you need to do like this</p>\n<pre><code>public class RestConfig {\n    @Bean\n    ReactorLoadBalancer&lt;ServiceInstance&gt; randomLoadBalancer(Environment environment,\n                                                            LoadBalancerClientFactory loadBalancerClientFactory) {\n        String name = environment.getProperty(LoadBalancerClientFactory.PROPERTY_NAME);\n        return new RandomLoadBalancer(loadBalancerClientFactory\n                .getLazyProvider(name, ServiceInstanceListSupplier.class),\n                name);\n    }\n}\n</code></pre>\n<p>Configure two routes</p>\n<pre><code>spring.cloud.gateway.routes[0].id=web\nspring.cloud.gateway.routes[0].uri=lb://web\nspring.cloud.gateway.routes[0].predicates[0]=Path=/web/**\nspring.cloud.gateway.routes[1].id=reactive-web\nspring.cloud.gateway.routes[1].uri=lb://reactive-web\nspring.cloud.gateway.routes[1].predicates[0]=Path=/reactive/**\n</code></pre>\n<p>Run GateWayApplication</p>\n<pre><code>@LoadBalancerClient(value = &quot;reactive-web&quot;,configuration = RestConfig .class)\n@SpringBootApplication\npublic class GateWayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GateWayApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>In this way, the first route uses RoundRobinLoadBalancer, and the second route uses RandomLoadBalancer.</p>\n"}],"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700449553,"creation_date":1700396663,"question_id":77510752,"body_markdown":"I&#39;m using spring cloud load balancer as a client side load balancer in a spring microservice project. I know by default Spring load balancer uses round robin strategy. But   for my use case `Least connections` strategy is best suited. Where the instance handling least number of connections get the request routed to it. After digging through docs I have found `@LoadBalancerClient` annotation lets you canfigure the routing algorithm.\r\nSo, I did this:\r\n\r\n    @Configuration\r\n    @LoadBalancerClient(configuration = BalancerConfig.class)\r\n    public class RestConfig {\r\n        @Bean\r\n        @LoadBalanced\r\n        RestTemplate restClient(RestTemplateBuilder builder) {\r\n            return builder.build();\r\n        }\r\n    }  \r\n\r\nFor the class BalancerConfig.java I have:\r\n\r\n    @Configuration\r\n    public class BalancerConfig {\r\n        @Bean\r\n        ReactorLoadBalancer&lt;ServiceInstance&gt; randomLoadBalancer(Environment environment,\r\n                LoadBalancerClientFactory loadBalancerClientFactory) {\r\n            String name = environment.getProperty(LoadBalancerClientFactory.PROPERTY_NAME);\r\n             // currently selects an instance randomly of a given service.\r\n            // but I want to switch it to use the instance that is currently having least \r\n           // traffic\r\n            return new RandomLoadBalancer(loadBalancerClientFactory\r\n                    .getLazyProvider(name, ServiceInstanceListSupplier.class),\r\n                    name);\r\n        }\r\n    }\r\n\r\nPlease tell me is it even possible with Spring application gateway?\r\n","title":"How do I configure Spring load balancing strategy to use the instance that is currently having least traffic?","body":"<p>I'm using spring cloud load balancer as a client side load balancer in a spring microservice project. I know by default Spring load balancer uses round robin strategy. But   for my use case <code>Least connections</code> strategy is best suited. Where the instance handling least number of connections get the request routed to it. After digging through docs I have found <code>@LoadBalancerClient</code> annotation lets you canfigure the routing algorithm.\nSo, I did this:</p>\n<pre><code>@Configuration\n@LoadBalancerClient(configuration = BalancerConfig.class)\npublic class RestConfig {\n    @Bean\n    @LoadBalanced\n    RestTemplate restClient(RestTemplateBuilder builder) {\n        return builder.build();\n    }\n}  \n</code></pre>\n<p>For the class BalancerConfig.java I have:</p>\n<pre><code>@Configuration\npublic class BalancerConfig {\n    @Bean\n    ReactorLoadBalancer&lt;ServiceInstance&gt; randomLoadBalancer(Environment environment,\n            LoadBalancerClientFactory loadBalancerClientFactory) {\n        String name = environment.getProperty(LoadBalancerClientFactory.PROPERTY_NAME);\n         // currently selects an instance randomly of a given service.\n        // but I want to switch it to use the instance that is currently having least \n       // traffic\n        return new RandomLoadBalancer(loadBalancerClientFactory\n                .getLazyProvider(name, ServiceInstanceListSupplier.class),\n                name);\n    }\n}\n</code></pre>\n<p>Please tell me is it even possible with Spring application gateway?</p>\n"},{"tags":["java","spring","spring-security","kerberos","spring-security-kerberos"],"comments":[{"owner":{"account_id":6196972,"reputation":131,"user_id":4827999,"accept_rate":25,"display_name":"codelearner"},"score":0,"creation_date":1429876296,"post_id":29844339,"comment_id":47819215,"body_markdown":"I think question is worth answering . Why no answer? :-)","body":"I think question is worth answering . Why no answer? :-)"},{"owner":{"account_id":3460938,"reputation":8919,"user_id":2898065,"display_name":"Fred the Magic Wonder Dog"},"score":0,"creation_date":1430064822,"post_id":29844339,"comment_id":47884328,"body_markdown":"There are very few people that answer kerberos questions on SO and none of them seem to know Java Spring. Questions on this topic come up very often on the kerberos tag and they almost never get answered. My guess is that it&#39;s a DNS/krb5.conf file problem, the server is looking for a principal in the keytab that does not exist.","body":"There are very few people that answer kerberos questions on SO and none of them seem to know Java Spring. Questions on this topic come up very often on the kerberos tag and they almost never get answered. My guess is that it&#39;s a DNS/krb5.conf file problem, the server is looking for a principal in the keytab that does not exist."}],"answers":[{"tags":[],"owner":{"account_id":370300,"reputation":3680,"user_id":718149,"accept_rate":87,"display_name":"Charith De Silva"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1431392218,"creation_date":1431392218,"answer_id":30180006,"question_id":29844339,"body_markdown":"This may be due to property values not been resolved on the security-config. Can you hard code following and try again?  \r\n\r\n       &lt;beans:property name=&quot;servicePrincipal&quot; value=&quot;HTTP/xyzcard-sit1.systems.private@SYSTEMS.PRIVATE&quot;/&gt;\r\n    &lt;beans:property name=&quot;keyTabLocation&quot; value=&quot;file:YOUR KEY TAB LOCATION &gt;&gt;/mykey.keytabl&quot; /&gt;\r\n\r\n\r\nYour error has thrown from javax.security.auth.login.LoginContext&#39;s init method so it should be something about keytab file or service principle is not set properly.  ","title":"Kerberos spring javax.security.auth.login.LoginException: Unable to obtain password from user","body":"<p>This may be due to property values not been resolved on the security-config. Can you hard code following and try again?  </p>\n\n<pre><code>   &lt;beans:property name=\"servicePrincipal\" value=\"HTTP/xyzcard-sit1.systems.private@SYSTEMS.PRIVATE\"/&gt;\n&lt;beans:property name=\"keyTabLocation\" value=\"file:YOUR KEY TAB LOCATION &gt;&gt;/mykey.keytabl\" /&gt;\n</code></pre>\n\n<p>Your error has thrown from javax.security.auth.login.LoginContext's init method so it should be something about keytab file or service principle is not set properly.  </p>\n"},{"tags":[],"owner":{"account_id":6196972,"reputation":131,"user_id":4827999,"accept_rate":25,"display_name":"codelearner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1431420234,"creation_date":1431420234,"answer_id":30185864,"question_id":29844339,"body_markdown":"Thank you for responding. I have resolved the issue, problem was my keytab. My keytab file was not containing SPN which I was looking for. It was generated with wrong SPN. I tried with some dummy SPNs and found that I was getting same exception then asked team to validate or generate new keytab.","title":"Kerberos spring javax.security.auth.login.LoginException: Unable to obtain password from user","body":"<p>Thank you for responding. I have resolved the issue, problem was my keytab. My keytab file was not containing SPN which I was looking for. It was generated with wrong SPN. I tried with some dummy SPNs and found that I was getting same exception then asked team to validate or generate new keytab.</p>\n"},{"tags":[],"owner":{"account_id":10294808,"reputation":1177,"user_id":7595371,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700449542,"creation_date":1669163282,"answer_id":74540490,"question_id":29844339,"body_markdown":"This one always drives me nuts cause it&#39;s kind of a generic/only semi-helpful error and it happens a lot.  I solved it this time by escaping the back slashes in the path to the krb5.conf file.","title":"Kerberos spring javax.security.auth.login.LoginException: Unable to obtain password from user","body":"<p>This one always drives me nuts cause it's kind of a generic/only semi-helpful error and it happens a lot.  I solved it this time by escaping the back slashes in the path to the krb5.conf file.</p>\n"}],"owner":{"account_id":6196972,"reputation":131,"user_id":4827999,"accept_rate":25,"display_name":"codelearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62661,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30185864,"answer_count":3,"score":8,"last_activity_date":1700449542,"creation_date":1429869207,"question_id":29844339,"body_markdown":"I am implementing kerberos Authentication in my existing java spring application.My unix team has provided me SPN, krb5.conf and keytab file. I am trying hard with below code and configuration but getting unable to obtain password from user exception as in attached logs below.\r\n\r\nCan anybody correct me If I am doing something wrong or what could be going wrong? Let me know if you need more information on this.\r\nIt would be good if someone can tell, how to verify if kerberos configuration is correct or not?       \r\nHere is what I have tried. I am using:\r\n\r\n - JDK 1.6\r\n - spring-security-kerberos-core-1.0.0.M2.jar\r\n - spring-security-core-3.0.1.RELEASE.jar\r\n - spring-security-config-3.0.1.RELEASE.jar\r\n - spring-security-web-3.0.1.RELEASE.jar\r\n        \r\n**My security-config.xml is:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n               xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n               xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n               xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n               http://www.springframework.org/schema/beans/spring-beans.xsd\r\n               http://www.springframework.org/schema/util\r\n               http://www.springframework.org/schema/util/spring-util-3.0.xsd\r\n               http://www.springframework.org/schema/security\r\n               http://www.springframework.org/schema/security/spring-security-3.0.xsd&quot;&gt;\r\n    \r\n    &lt;beans:bean class=&quot;com.ci.util.TrimmingPropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;searchSystemEnvironment&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;locations&quot;&gt;\r\n    \t\t\t&lt;beans:list&gt;\r\n    \t\t\t\t&lt;beans:value&gt;file:${install.home}/config/application.properties\r\n    \t\t\t\t&lt;/beans:value&gt;\r\n    \t\t\t\t&lt;beans:value&gt;file:${install.home}/config/environment.properties\r\n    \t\t\t\t&lt;/beans:value&gt;\r\n    \t\t\t&lt;/beans:list&gt;\r\n    \t\t&lt;/beans:property&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \r\n        &lt;http entry-point-ref=&quot;spnegoEntryPoint&quot; auto-config=&quot;false&quot;&gt;\r\n            &lt;intercept-url pattern=&quot;/selectBlacklisting*&quot; access=&quot;IS_AUTHENTICATED_ANONYMOUSLY&quot; /&gt;\r\n            &lt;intercept-url pattern=&quot;/j_spring_security_check*&quot; access=&quot;IS_AUTHENTICATED_ANONYMOUSLY&quot;/&gt;\r\n         &lt;intercept-url pattern=&quot;/**&quot; access=&quot;IS_AUTHENTICATED_FULLY&quot; /&gt;\r\n    \r\n         &lt;custom-filter ref=&quot;spnegoAuthenticationProcessingFilter&quot; position=&quot;BASIC_AUTH_FILTER&quot; /&gt;\r\n            &lt;form-login login-page=&quot;/selectBlacklisting.form&quot; default-target-url=&quot;/&quot; always-use-default-target=&quot;true&quot;/&gt;\r\n       &lt;/http&gt;\r\n    \r\n       &lt;authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n          &lt;authentication-provider ref=&quot;kerberosServiceAuthenticationProvider&quot; /&gt;\r\n          &lt;authentication-provider ref=&quot;kerberosAuthenticationProvider&quot;/&gt;\r\n       &lt;/authentication-manager&gt;\r\n    \r\n        &lt;beans:bean id=&quot;spnegoEntryPoint&quot;\r\n      class=&quot;org.springframework.security.extensions.kerberos.web.SpnegoEntryPoint&quot; /&gt;\r\n    \r\n     &lt;beans:bean id=&quot;spnegoAuthenticationProcessingFilter&quot;\r\n      class=&quot;org.springframework.security.extensions.kerberos.web.SpnegoAuthenticationProcessingFilter&quot;&gt;\r\n      &lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;authenticationManager&quot; /&gt;\r\n     &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean id=&quot;kerberosServiceAuthenticationProvider&quot;\r\n      class=&quot;org.springframework.security.extensions.kerberos.KerberosServiceAuthenticationProvider&quot;&gt;\r\n      &lt;beans:property name=&quot;ticketValidator&quot;&gt;\r\n       &lt;beans:bean\r\n        class=&quot;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator&quot;&gt;\r\n        &lt;beans:property name=&quot;servicePrincipal&quot; value=&quot;${servicePrincipal.url}&quot;/&gt;\r\n        &lt;beans:property name=&quot;keyTabLocation&quot; value=&quot;${keyTabLocation.url}&quot; /&gt;\r\n        &lt;beans:property name=&quot;debug&quot; value=&quot;true&quot;/&gt;\r\n       &lt;/beans:bean&gt;\r\n      &lt;/beans:property&gt;\r\n      &lt;beans:property name=&quot;userDetailsService&quot; ref=&quot;dummyUserDetailsService&quot; /&gt;\r\n     &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean id=&quot;kerberosAuthenticationProvider&quot; class=&quot;org.springframework.security.extensions.kerberos.KerberosAuthenticationProvider&quot;&gt;\r\n      &lt;beans:property name=&quot;kerberosClient&quot;&gt;\r\n       &lt;beans:bean class=&quot;org.springframework.security.extensions.kerberos.SunJaasKerberosClient&quot;&gt;\r\n        &lt;beans:property name=&quot;debug&quot; value=&quot;true&quot; /&gt;\r\n       &lt;/beans:bean&gt;\r\n      &lt;/beans:property&gt;\r\n      &lt;beans:property name=&quot;userDetailsService&quot; ref=&quot;dummyUserDetailsService&quot; /&gt;\r\n     &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean class=&quot;org.springframework.security.extensions.kerberos.GlobalSunJaasKerberosConfig&quot;&gt;\r\n      &lt;beans:property name=&quot;debug&quot; value=&quot;true&quot; /&gt;\r\n      &lt;beans:property name=&quot;krbConfLocation&quot; value=&quot;${krbConfLocation.url}&quot; /&gt;\r\n     &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean id=&quot;dummyUserDetailsService&quot; class=&quot;com.ci.manager.interceptor.DummyUserDetailService&quot;/&gt;\r\n    \r\n      &lt;/beans:beans&gt;\r\n \r\n**Properties values used in above security-config.xml:**\r\n\r\n    servicePrincipal.url=HTTP/xyzcard-sit1.systems.private@SYSTEMS.PRIVATE  \r\n      keyTabLocation.url=file:/MY_APP_ITE3/appmanager/50.T0.17/config/xyzcard-sit1.keytab\r\n      krbConfLocation.url=/etc/krb5/krb5.conf\r\n\r\n**My DummyUserDetailService:**\r\n            \r\n    public class DummyUserDetailService implements UserDetailsService {\r\n      \tprivate static final Logger LOGGER = Logger.getLogger(DummyUserDetailService.class);\r\n      \tpublic DummyUserDetailService(){\r\n      \t\tLOGGER.info(&quot;DummyUserDetailService constructor called&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n      \t}\r\n\r\n  \t\r\n  \tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n  \t\tLOGGER.info(&quot;loadUserByUsername method called&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;+username);\r\n  \t\tLOGGER.info(&quot;loadUserByUsername method called&gt;AuthorityUtils.createAuthorityList&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;+AuthorityUtils.createAuthorityList(&quot;ROLE_USER&quot;));\r\n  \t\treturn new User(username, &quot;notUsed&quot;,true, true, true, true, AuthorityUtils.createAuthorityList(&quot;ROLE_USER&quot;));\r\n  \t}\r\n  \t\r\n    }\r\n    \r\n**My web.xml is:**\r\n           \r\n  &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n        \r\n        &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n            version=&quot;2.4&quot;&gt;\r\n        \r\n            &lt;display-name&gt;Customer Intelligence Management Tool&lt;/display-name&gt;\r\n            &lt;distributable/&gt;\r\n            &lt;filter&gt;\r\n        \t    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        \t    &lt;filter-class&gt;\r\n        \t\t\torg.springframework.web.filter.DelegatingFilterProxy\r\n        \t    &lt;/filter-class&gt;    \r\n        \t&lt;/filter&gt;\r\n        \t\r\n        \t&lt;filter-mapping&gt;\r\n        \t      &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        \t      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        \t&lt;/filter-mapping&gt;\r\n        \t &lt;context-param&gt;\r\n        \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        \t\t&lt;param-value&gt;/WEB-INF/security-config.xml&lt;/param-value&gt;\r\n        \t&lt;/context-param&gt;     \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n            &lt;/listener&gt; \r\n             \r\n            &lt;servlet&gt;\r\n                &lt;servlet-name&gt;app-manager&lt;/servlet-name&gt;\r\n                &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n                &lt;init-param&gt;\r\n                    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n                    &lt;param-value&gt;\r\n                        /WEB-INF/applicationContext.xml,\r\n                        /WEB-INF/app-manager-servlet.xml\r\n                    &lt;/param-value&gt;\r\n                &lt;/init-param&gt;\r\n                &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n            &lt;/servlet&gt;\r\n        \r\n            &lt;servlet-mapping&gt;\r\n                &lt;servlet-name&gt;app-manager&lt;/servlet-name&gt;\r\n                &lt;url-pattern&gt;*.form&lt;/url-pattern&gt;\r\n            &lt;/servlet-mapping&gt;\r\n        \r\n            &lt;session-config&gt;\r\n                &lt;session-timeout&gt;15&lt;/session-timeout&gt;\r\n            &lt;/session-config&gt;\r\n        \r\n            &lt;welcome-file-list&gt;\r\n                &lt;welcome-file&gt;/WEB-INF/jsp/index.jsp&lt;/welcome-file&gt;\r\n            &lt;/welcome-file-list&gt;\r\n        \r\n        \t&lt;error-page&gt;\r\n        \t\t&lt;error-code&gt;500&lt;/error-code&gt;\r\n        \t\t&lt;location&gt;/WEB-INF/jsp/Error.jsp&lt;/location&gt;\r\n        \t&lt;/error-page&gt;\r\n        \r\n        \t&lt;error-page&gt;\r\n        \t\t&lt;error-code&gt;404&lt;/error-code&gt;\r\n        \t\t&lt;location&gt;/WEB-INF/jsp/FileNotFound.jsp&lt;/location&gt;\r\n        \t&lt;/error-page&gt;\r\n        &lt;/web-app&gt;\r\n    \r\n**Application Logs showing exception:**\r\n \r\n\r\n      015-04-20 13:07:42 ERROR  org.springframework.web.context.ContextLoader[ContextLoader.java:219(initWebApplicationContext)] - Context initialization failed\r\n            org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.authentication.ProviderManager#0&#39;: Cannot create inner bean &#39;(inner bean)&#39; of type [org.springframework.security.config.authentication.AuthenticationManagerFactoryBean] while setting bean property &#39;parent&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)&#39;: FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Cannot resolve reference to bean &#39;kerberosServiceAuthenticationProvider&#39; while setting bean property &#39;providers&#39; with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kerberosServiceAuthenticationProvider&#39; defined in ServletContext resource [/WEB-INF/security-config.xml]: Cannot create inner bean &#39;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5&#39; of type [org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator] while setting bean property &#39;ticketValidator&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5&#39; defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\r\n            \r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:281)\r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:125)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\r\n            \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\r\n            \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n            \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\r\n            \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\r\n            \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\r\n            \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\r\n            \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\r\n            \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\r\n            \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\r\n            \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n            \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3764)\r\n            \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4216)\r\n            \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760)\r\n            \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740)\r\n            \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544)\r\n            \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:825)\r\n            \tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:714)\r\n            \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:490)\r\n            \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1138)\r\n            \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)\r\n            \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)\r\n            \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022)\r\n            \tat org.apache.catalina.core.StandardHost.start(StandardHost.java:736)\r\n            \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\r\n            \tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)\r\n            \tat org.apache.catalina.core.StandardService.start(StandardService.java:448)\r\n            \tat org.apache.catalina.core.StandardServer.start(StandardServer.java:700)\r\n            \tat org.apache.catalina.startup.Catalina.start(Catalina.java:552)\r\n            \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n            \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n            \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)\r\n            \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)\r\n            Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)&#39;: FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Cannot resolve reference to bean &#39;kerberosServiceAuthenticationProvider&#39; while setting bean property &#39;providers&#39; with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kerberosServiceAuthenticationProvider&#39; defined in ServletContext resource [/WEB-INF/security-config.xml]: Cannot create inner bean &#39;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5&#39; of type [org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator] while setting bean property &#39;ticketValidator&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5&#39; defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\r\n            \r\n            \tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:150)\r\n            \tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:109)\r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:274)\r\n            \t... 39 more\r\n            Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Cannot resolve reference to bean &#39;kerberosServiceAuthenticationProvider&#39; while setting bean property &#39;providers&#39; with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kerberosServiceAuthenticationProvider&#39; defined in ServletContext resource [/WEB-INF/security-config.xml]: Cannot create inner bean &#39;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5&#39; of type [org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator] while setting bean property &#39;ticketValidator&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5&#39; defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\r\n            \r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)\r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:355)\r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\r\n            \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\r\n            \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n            \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\r\n            \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\r\n            \tat org.springframework.security.config.authentication.AuthenticationManagerFactoryBean.getObject(AuthenticationManagerFactoryBean.java:27)\r\n            \tat org.springframework.security.config.authentication.AuthenticationManagerFactoryBean.getObject(AuthenticationManagerFactoryBean.java:20)\r\n            \tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:143)\r\n            \t... 41 more\r\n            Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kerberosServiceAuthenticationProvider&#39; defined in ServletContext resource [/WEB-INF/security-config.xml]: Cannot create inner bean &#39;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5&#39; of type [org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator] while setting bean property &#39;ticketValidator&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5&#39; defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\r\n            \r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:281)\r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:120)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\r\n            \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\r\n            \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n            \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\r\n            \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\r\n            \t... 55 more\r\n            Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5&#39; defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\r\n            \r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1403)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\r\n            \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:270)\r\n            \t... 65 more\r\n            Caused by: javax.security.auth.login.LoginException: Unable to obtain password from user\r\n            \r\n            \tat com.sun.security.auth.module.Krb5LoginModule.promptForPass(Krb5LoginModule.java:789)\r\n            \tat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:654)\r\n            \tat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:542)\r\n            \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n            \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n            \tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:769)\r\n            \tat javax.security.auth.login.LoginContext.access$000(LoginContext.java:186)\r\n            \tat javax.security.auth.login.LoginContext$5.run(LoginContext.java:706)\r\n            \tat java.security.AccessController.doPrivileged(Native Method)\r\n            \tat javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:703)\r\n            \tat javax.security.auth.login.LoginContext.login(LoginContext.java:575)\r\n            \tat org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator.afterPropertiesSet(SunJaasKerberosTicketValidator.java:125)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1460)\r\n            \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1400)\r\n            \t... 68 more\r\n\r\n**Server Logs:** \r\n      \r\n    Apr 22, 2015 8:29:38 AM org.apache.catalina.loader.WebappClassLoader validateJarFile\r\n            INFO: validateJarFile(/MY_APP_ITE3/appmanager/50.T0.17/catalina_base/work/Catalina/localhost/app-manager/WEB-INF/lib/j2ee-1.4.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\r\n            Debug is  true storeKey true useTicketCache false useKeyTab true doNotPrompt true ticketCache is null isInitiator false KeyTab is file:/MY_APP_ITE3/appmanager/50.T0.17/catalina_base/conf/xyzcard-sit1.keytab refreshKrb5Config is false principal is HTTP/xyzcard-sit1.systems.private@SYSTEMS.PRIVATE tryFirstPass is false useFirstPass is false storePass is false clearPass is false\r\n            &gt;&gt;&gt; KeyTabInputStream, readName(): SYSTEMS.PRIVATE\r\n            &gt;&gt;&gt; KeyTabInputStream, readName(): HTTP\r\n            &gt;&gt;&gt; KeyTabInputStream, readName(): srv-xyzcard-sit1.systems.private\r\n            &gt;&gt;&gt; KeyTab: load() entry length: 88; type: 23\r\n            Key for the principal HTTP/xyzcard-sit1.systems.private@SYSTEMS.PRIVATE not available in file:/MY_APP_ITE3/appmanager/50.T0.17/catalina_base/conf/xyzcard-sit1.keytab\r\n              [Krb5LoginModule] authentication failed \r\n            Unable to obtain password from user\r\n             \r\n            Apr 22, 2015 8:29:52 AM org.apache.catalina.core.StandardContext start\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Kerberos spring javax.security.auth.login.LoginException: Unable to obtain password from user","body":"<p>I am implementing kerberos Authentication in my existing java spring application.My unix team has provided me SPN, krb5.conf and keytab file. I am trying hard with below code and configuration but getting unable to obtain password from user exception as in attached logs below.</p>\n\n<p>Can anybody correct me If I am doing something wrong or what could be going wrong? Let me know if you need more information on this.\nIt would be good if someone can tell, how to verify if kerberos configuration is correct or not?<br>\nHere is what I have tried. I am using:</p>\n\n<ul>\n<li>JDK 1.6</li>\n<li>spring-security-kerberos-core-1.0.0.M2.jar</li>\n<li>spring-security-core-3.0.1.RELEASE.jar</li>\n<li>spring-security-config-3.0.1.RELEASE.jar</li>\n<li>spring-security-web-3.0.1.RELEASE.jar</li>\n</ul>\n\n<p><strong>My security-config.xml is:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans:beans xmlns=\"http://www.springframework.org/schema/security\"\n           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n           xmlns:util=\"http://www.springframework.org/schema/util\"\n           xmlns:beans=\"http://www.springframework.org/schema/beans\"\n           xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n           http://www.springframework.org/schema/beans/spring-beans.xsd\n           http://www.springframework.org/schema/util\n           http://www.springframework.org/schema/util/spring-util-3.0.xsd\n           http://www.springframework.org/schema/security\n           http://www.springframework.org/schema/security/spring-security-3.0.xsd\"&gt;\n\n&lt;beans:bean class=\"com.ci.util.TrimmingPropertyPlaceholderConfigurer\"&gt;\n        &lt;beans:property name=\"searchSystemEnvironment\" value=\"true\" /&gt;\n        &lt;beans:property name=\"locations\"&gt;\n            &lt;beans:list&gt;\n                &lt;beans:value&gt;file:${install.home}/config/application.properties\n                &lt;/beans:value&gt;\n                &lt;beans:value&gt;file:${install.home}/config/environment.properties\n                &lt;/beans:value&gt;\n            &lt;/beans:list&gt;\n        &lt;/beans:property&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;http entry-point-ref=\"spnegoEntryPoint\" auto-config=\"false\"&gt;\n        &lt;intercept-url pattern=\"/selectBlacklisting*\" access=\"IS_AUTHENTICATED_ANONYMOUSLY\" /&gt;\n        &lt;intercept-url pattern=\"/j_spring_security_check*\" access=\"IS_AUTHENTICATED_ANONYMOUSLY\"/&gt;\n     &lt;intercept-url pattern=\"/**\" access=\"IS_AUTHENTICATED_FULLY\" /&gt;\n\n     &lt;custom-filter ref=\"spnegoAuthenticationProcessingFilter\" position=\"BASIC_AUTH_FILTER\" /&gt;\n        &lt;form-login login-page=\"/selectBlacklisting.form\" default-target-url=\"/\" always-use-default-target=\"true\"/&gt;\n   &lt;/http&gt;\n\n   &lt;authentication-manager alias=\"authenticationManager\"&gt;\n      &lt;authentication-provider ref=\"kerberosServiceAuthenticationProvider\" /&gt;\n      &lt;authentication-provider ref=\"kerberosAuthenticationProvider\"/&gt;\n   &lt;/authentication-manager&gt;\n\n    &lt;beans:bean id=\"spnegoEntryPoint\"\n  class=\"org.springframework.security.extensions.kerberos.web.SpnegoEntryPoint\" /&gt;\n\n &lt;beans:bean id=\"spnegoAuthenticationProcessingFilter\"\n  class=\"org.springframework.security.extensions.kerberos.web.SpnegoAuthenticationProcessingFilter\"&gt;\n  &lt;beans:property name=\"authenticationManager\" ref=\"authenticationManager\" /&gt;\n &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"kerberosServiceAuthenticationProvider\"\n  class=\"org.springframework.security.extensions.kerberos.KerberosServiceAuthenticationProvider\"&gt;\n  &lt;beans:property name=\"ticketValidator\"&gt;\n   &lt;beans:bean\n    class=\"org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator\"&gt;\n    &lt;beans:property name=\"servicePrincipal\" value=\"${servicePrincipal.url}\"/&gt;\n    &lt;beans:property name=\"keyTabLocation\" value=\"${keyTabLocation.url}\" /&gt;\n    &lt;beans:property name=\"debug\" value=\"true\"/&gt;\n   &lt;/beans:bean&gt;\n  &lt;/beans:property&gt;\n  &lt;beans:property name=\"userDetailsService\" ref=\"dummyUserDetailsService\" /&gt;\n &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"kerberosAuthenticationProvider\" class=\"org.springframework.security.extensions.kerberos.KerberosAuthenticationProvider\"&gt;\n  &lt;beans:property name=\"kerberosClient\"&gt;\n   &lt;beans:bean class=\"org.springframework.security.extensions.kerberos.SunJaasKerberosClient\"&gt;\n    &lt;beans:property name=\"debug\" value=\"true\" /&gt;\n   &lt;/beans:bean&gt;\n  &lt;/beans:property&gt;\n  &lt;beans:property name=\"userDetailsService\" ref=\"dummyUserDetailsService\" /&gt;\n &lt;/beans:bean&gt;\n\n    &lt;beans:bean class=\"org.springframework.security.extensions.kerberos.GlobalSunJaasKerberosConfig\"&gt;\n  &lt;beans:property name=\"debug\" value=\"true\" /&gt;\n  &lt;beans:property name=\"krbConfLocation\" value=\"${krbConfLocation.url}\" /&gt;\n &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"dummyUserDetailsService\" class=\"com.ci.manager.interceptor.DummyUserDetailService\"/&gt;\n\n  &lt;/beans:beans&gt;\n</code></pre>\n\n<p><strong>Properties values used in above security-config.xml:</strong></p>\n\n<pre><code>servicePrincipal.url=HTTP/xyzcard-sit1.systems.private@SYSTEMS.PRIVATE  \n  keyTabLocation.url=file:/MY_APP_ITE3/appmanager/50.T0.17/config/xyzcard-sit1.keytab\n  krbConfLocation.url=/etc/krb5/krb5.conf\n</code></pre>\n\n<p><strong>My DummyUserDetailService:</strong></p>\n\n<pre><code>public class DummyUserDetailService implements UserDetailsService {\n    private static final Logger LOGGER = Logger.getLogger(DummyUserDetailService.class);\n    public DummyUserDetailService(){\n        LOGGER.info(\"DummyUserDetailService constructor called&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\");\n    }\n\n\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    LOGGER.info(\"loadUserByUsername method called&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\"+username);\n    LOGGER.info(\"loadUserByUsername method called&gt;AuthorityUtils.createAuthorityList&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\"+AuthorityUtils.createAuthorityList(\"ROLE_USER\"));\n    return new User(username, \"notUsed\",true, true, true, true, AuthorityUtils.createAuthorityList(\"ROLE_USER\"));\n}\n\n}\n</code></pre>\n\n<p><strong>My web.xml is:</strong></p>\n\n  \n\n<pre><code>    &lt;web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"\n        version=\"2.4\"&gt;\n\n        &lt;display-name&gt;Customer Intelligence Management Tool&lt;/display-name&gt;\n        &lt;distributable/&gt;\n        &lt;filter&gt;\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n            &lt;filter-class&gt;\n                org.springframework.web.filter.DelegatingFilterProxy\n            &lt;/filter-class&gt;    \n        &lt;/filter&gt;\n\n        &lt;filter-mapping&gt;\n              &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n              &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;/filter-mapping&gt;\n         &lt;context-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/security-config.xml&lt;/param-value&gt;\n        &lt;/context-param&gt;     \n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n        &lt;/listener&gt; \n\n        &lt;servlet&gt;\n            &lt;servlet-name&gt;app-manager&lt;/servlet-name&gt;\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n            &lt;init-param&gt;\n                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n                &lt;param-value&gt;\n                    /WEB-INF/applicationContext.xml,\n                    /WEB-INF/app-manager-servlet.xml\n                &lt;/param-value&gt;\n            &lt;/init-param&gt;\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n        &lt;/servlet&gt;\n\n        &lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;app-manager&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;*.form&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n\n        &lt;session-config&gt;\n            &lt;session-timeout&gt;15&lt;/session-timeout&gt;\n        &lt;/session-config&gt;\n\n        &lt;welcome-file-list&gt;\n            &lt;welcome-file&gt;/WEB-INF/jsp/index.jsp&lt;/welcome-file&gt;\n        &lt;/welcome-file-list&gt;\n\n        &lt;error-page&gt;\n            &lt;error-code&gt;500&lt;/error-code&gt;\n            &lt;location&gt;/WEB-INF/jsp/Error.jsp&lt;/location&gt;\n        &lt;/error-page&gt;\n\n        &lt;error-page&gt;\n            &lt;error-code&gt;404&lt;/error-code&gt;\n            &lt;location&gt;/WEB-INF/jsp/FileNotFound.jsp&lt;/location&gt;\n        &lt;/error-page&gt;\n    &lt;/web-app&gt;\n</code></pre>\n\n<p><strong>Application Logs showing exception:</strong></p>\n\n<pre><code>  015-04-20 13:07:42 ERROR  org.springframework.web.context.ContextLoader[ContextLoader.java:219(initWebApplicationContext)] - Context initialization failed\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.authentication.ProviderManager#0': Cannot create inner bean '(inner bean)' of type [org.springframework.security.config.authentication.AuthenticationManagerFactoryBean] while setting bean property 'parent'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)': FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Cannot resolve reference to bean 'kerberosServiceAuthenticationProvider' while setting bean property 'providers' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kerberosServiceAuthenticationProvider' defined in ServletContext resource [/WEB-INF/security-config.xml]: Cannot create inner bean 'org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5' of type [org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator] while setting bean property 'ticketValidator'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5' defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\n\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:281)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:125)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\n            at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\n            at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\n            at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n            at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3764)\n            at org.apache.catalina.core.StandardContext.start(StandardContext.java:4216)\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760)\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740)\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544)\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:825)\n            at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:714)\n            at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:490)\n            at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1138)\n            at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)\n            at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)\n            at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022)\n            at org.apache.catalina.core.StandardHost.start(StandardHost.java:736)\n            at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\n            at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)\n            at org.apache.catalina.core.StandardService.start(StandardService.java:448)\n            at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)\n            at org.apache.catalina.startup.Catalina.start(Catalina.java:552)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n            at java.lang.reflect.Method.invoke(Method.java:597)\n            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)': FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Cannot resolve reference to bean 'kerberosServiceAuthenticationProvider' while setting bean property 'providers' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kerberosServiceAuthenticationProvider' defined in ServletContext resource [/WEB-INF/security-config.xml]: Cannot create inner bean 'org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5' of type [org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator] while setting bean property 'ticketValidator'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5' defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\n\n            at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:150)\n            at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:109)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:274)\n            ... 39 more\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Cannot resolve reference to bean 'kerberosServiceAuthenticationProvider' while setting bean property 'providers' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kerberosServiceAuthenticationProvider' defined in ServletContext resource [/WEB-INF/security-config.xml]: Cannot create inner bean 'org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5' of type [org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator] while setting bean property 'ticketValidator'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5' defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\n\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:355)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n            at org.springframework.security.config.authentication.AuthenticationManagerFactoryBean.getObject(AuthenticationManagerFactoryBean.java:27)\n            at org.springframework.security.config.authentication.AuthenticationManagerFactoryBean.getObject(AuthenticationManagerFactoryBean.java:20)\n            at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:143)\n            ... 41 more\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kerberosServiceAuthenticationProvider' defined in ServletContext resource [/WEB-INF/security-config.xml]: Cannot create inner bean 'org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5' of type [org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator] while setting bean property 'ticketValidator'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5' defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\n\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:281)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:120)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1308)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\n            ... 55 more\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator#6e41b5' defined in ServletContext resource [/WEB-INF/security-config.xml]: Invocation of init method failed; nested exception is javax.security.auth.login.LoginException: Unable to obtain password from user\n\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1403)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\n            at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:270)\n            ... 65 more\n        Caused by: javax.security.auth.login.LoginException: Unable to obtain password from user\n\n            at com.sun.security.auth.module.Krb5LoginModule.promptForPass(Krb5LoginModule.java:789)\n            at com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:654)\n            at com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:542)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n            at java.lang.reflect.Method.invoke(Method.java:597)\n            at javax.security.auth.login.LoginContext.invoke(LoginContext.java:769)\n            at javax.security.auth.login.LoginContext.access$000(LoginContext.java:186)\n            at javax.security.auth.login.LoginContext$5.run(LoginContext.java:706)\n            at java.security.AccessController.doPrivileged(Native Method)\n            at javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:703)\n            at javax.security.auth.login.LoginContext.login(LoginContext.java:575)\n            at org.springframework.security.extensions.kerberos.SunJaasKerberosTicketValidator.afterPropertiesSet(SunJaasKerberosTicketValidator.java:125)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1460)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1400)\n            ... 68 more\n</code></pre>\n\n<p><strong>Server Logs:</strong> </p>\n\n<pre><code>Apr 22, 2015 8:29:38 AM org.apache.catalina.loader.WebappClassLoader validateJarFile\n        INFO: validateJarFile(/MY_APP_ITE3/appmanager/50.T0.17/catalina_base/work/Catalina/localhost/app-manager/WEB-INF/lib/j2ee-1.4.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class\n        Debug is  true storeKey true useTicketCache false useKeyTab true doNotPrompt true ticketCache is null isInitiator false KeyTab is file:/MY_APP_ITE3/appmanager/50.T0.17/catalina_base/conf/xyzcard-sit1.keytab refreshKrb5Config is false principal is HTTP/xyzcard-sit1.systems.private@SYSTEMS.PRIVATE tryFirstPass is false useFirstPass is false storePass is false clearPass is false\n        &gt;&gt;&gt; KeyTabInputStream, readName(): SYSTEMS.PRIVATE\n        &gt;&gt;&gt; KeyTabInputStream, readName(): HTTP\n        &gt;&gt;&gt; KeyTabInputStream, readName(): srv-xyzcard-sit1.systems.private\n        &gt;&gt;&gt; KeyTab: load() entry length: 88; type: 23\n        Key for the principal HTTP/xyzcard-sit1.systems.private@SYSTEMS.PRIVATE not available in file:/MY_APP_ITE3/appmanager/50.T0.17/catalina_base/conf/xyzcard-sit1.keytab\n          [Krb5LoginModule] authentication failed \n        Unable to obtain password from user\n\n        Apr 22, 2015 8:29:52 AM org.apache.catalina.core.StandardContext start\n</code></pre>\n"},{"tags":["java","java.util.scanner","bufferedreader","java-io","inputstreamreader"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1700447895,"post_id":77513235,"comment_id":136651864,"body_markdown":"It wraps an `InputStream` in an `InputStreamReader` itself, but you will benefit from using `BufferedInputStream` or `BufferedReader`.","body":"It wraps an <code>InputStream</code> in an <code>InputStreamReader</code> itself, but you will benefit from using <code>BufferedInputStream</code> or <code>BufferedReader</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700449072,"creation_date":1700449072,"answer_id":77513297,"question_id":77513235,"body_markdown":"It&#39;s a moot point; you rarely want scanner (it doesn&#39;t really do what you think it does. It does what its spec says it does, but, read it. It&#39;s _weird_ - it&#39;s not particularly suitable for, well, anything, really). And you don&#39;t need this code - this is the old file API. There&#39;s a new one:\r\n\r\n```\r\nPath p = Path.of(&quot;/path/to/some/dir/someFileInDir.txt&quot;);\r\np = p.getParent().resolve(&quot;someOtherFile.txt&quot;);\r\n\r\ntry (var in = Files.newBufferedReader(p)) {\r\n  while (true) {\r\n    String line = in.readLine();\r\n    if (line == null) break;\r\n  }\r\n}\r\n```\r\n\r\nYou can one-liner it with `Files.newBufferedReader(Path.of(&quot;/path/to/file.txt&quot;))`, of course.\r\n\r\nFor what its worth:\r\n\r\n* `FileInputStream` does not buffer. If you call `.read()` (i.e. the &#39;read 1 byte please&#39; method), it will ask the underlying OS for just one byte. On modern SSDs, that means the OS will read the entire block, then toss everything out except that 1 byte you want. Yes, you should wrap them in buffers if you or any code you use has any intention of calling `.read()`, but if you&#39;re just going to call `.read(byte[])` with a byte array that&#39;s large enough (4096 or so is plenty, let alone more), there&#39;s no need for that.\r\n* `InputStreamReader` also doesn&#39;t.\r\n* `Scanner` __does__, by default 1024.\r\n\r\nSo, the answer is: That code you found is _mostly_ useless, but 1024 is a bit low. BufferedInputStream defaults to 8192 instead which is a better number. Still, 1024 gets you ~1024x better performance vs. asking for single bytes from a non-buffered block-based source. Assuming those blocks are 8192 bytes long, Scanner is only ~8x slower without that intermediate buffer. And that&#39;s assuming 100% of the bottleneck is the &#39;read from disk&#39; part. Which it might be, disks are slow.\r\n\r\nThat&#39;s all relevant _if_ you are handrolling your buffered stack which you shouldn&#39;t (use `Files.newBufferedX` - check the API, there&#39;s lots there, generally you can just make what you need in one go, though you can&#39;t make scanners in one go), and using `Scanner` which you shouldn&#39;t.","title":"When using a Java Scanner, is there ever a need to wrap the InputStream argument into an InputStreamReader? And then into a BufferedReader?","body":"<p>It's a moot point; you rarely want scanner (it doesn't really do what you think it does. It does what its spec says it does, but, read it. It's <em>weird</em> - it's not particularly suitable for, well, anything, really). And you don't need this code - this is the old file API. There's a new one:</p>\n<pre><code>Path p = Path.of(&quot;/path/to/some/dir/someFileInDir.txt&quot;);\np = p.getParent().resolve(&quot;someOtherFile.txt&quot;);\n\ntry (var in = Files.newBufferedReader(p)) {\n  while (true) {\n    String line = in.readLine();\n    if (line == null) break;\n  }\n}\n</code></pre>\n<p>You can one-liner it with <code>Files.newBufferedReader(Path.of(&quot;/path/to/file.txt&quot;))</code>, of course.</p>\n<p>For what its worth:</p>\n<ul>\n<li><code>FileInputStream</code> does not buffer. If you call <code>.read()</code> (i.e. the 'read 1 byte please' method), it will ask the underlying OS for just one byte. On modern SSDs, that means the OS will read the entire block, then toss everything out except that 1 byte you want. Yes, you should wrap them in buffers if you or any code you use has any intention of calling <code>.read()</code>, but if you're just going to call <code>.read(byte[])</code> with a byte array that's large enough (4096 or so is plenty, let alone more), there's no need for that.</li>\n<li><code>InputStreamReader</code> also doesn't.</li>\n<li><code>Scanner</code> <strong>does</strong>, by default 1024.</li>\n</ul>\n<p>So, the answer is: That code you found is <em>mostly</em> useless, but 1024 is a bit low. BufferedInputStream defaults to 8192 instead which is a better number. Still, 1024 gets you ~1024x better performance vs. asking for single bytes from a non-buffered block-based source. Assuming those blocks are 8192 bytes long, Scanner is only ~8x slower without that intermediate buffer. And that's assuming 100% of the bottleneck is the 'read from disk' part. Which it might be, disks are slow.</p>\n<p>That's all relevant <em>if</em> you are handrolling your buffered stack which you shouldn't (use <code>Files.newBufferedX</code> - check the API, there's lots there, generally you can just make what you need in one go, though you can't make scanners in one go), and using <code>Scanner</code> which you shouldn't.</p>\n"}],"owner":{"account_id":28460935,"reputation":51,"user_id":21777662,"display_name":"Vahan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700449072,"creation_date":1700447355,"question_id":77513235,"body_markdown":"With reference to [this][1] and [this][2] Q&amp;A&#39;s, given that Java&#39;s Scanner supports both character encoding as well as buffering, is there ever a need to wrap the `InputStream` into a `InputStreamReader`, before passing it into the Scanner? If so, is there ever a need to wrap the `InputStreamReader` into a `BuffereedReader` first?\r\n\r\nIn other words, is there ever a scenario where the following code is *not* redundant.\r\n\r\n    FileInputStream inputStream = new FileInputStream(fileName);\r\n    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n    BufferedReader bufferedStreamReader = new BufferedReader(inputStreamReader);\r\n    Scanner scanner = new Scanner(bufferedStreamReader);\r\n\r\nI am learning Java (from Python), and am trying to better understand the similarities, differences, and use cases for all the various IO classes.\r\n\r\n(Edit1): I know that we could replace the first two lines with a single line using `FileReader` - but that&#39;s what the `FileReader` itself would do internally, so the purpose of the example (and this question) is to understand the underlying relationship of the different IO classes - hence the explicit call to `FileInputStream` use.\r\n\r\n(Edit2): [This][3] Java tutorial actually does this wrapping.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17637032/bufferedreader-vs-console-vs-scanner\r\n  [2]: https://stackoverflow.com/questions/2231369/scanner-vs-bufferedreader?rq=1\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/io/scanning.html","title":"When using a Java Scanner, is there ever a need to wrap the InputStream argument into an InputStreamReader? And then into a BufferedReader?","body":"<p>With reference to <a href=\"https://stackoverflow.com/questions/17637032/bufferedreader-vs-console-vs-scanner\">this</a> and <a href=\"https://stackoverflow.com/questions/2231369/scanner-vs-bufferedreader?rq=1\">this</a> Q&amp;A's, given that Java's Scanner supports both character encoding as well as buffering, is there ever a need to wrap the <code>InputStream</code> into a <code>InputStreamReader</code>, before passing it into the Scanner? If so, is there ever a need to wrap the <code>InputStreamReader</code> into a <code>BuffereedReader</code> first?</p>\n<p>In other words, is there ever a scenario where the following code is <em>not</em> redundant.</p>\n<pre><code>FileInputStream inputStream = new FileInputStream(fileName);\nInputStreamReader inputStreamReader = new InputStreamReader(inputStream);\nBufferedReader bufferedStreamReader = new BufferedReader(inputStreamReader);\nScanner scanner = new Scanner(bufferedStreamReader);\n</code></pre>\n<p>I am learning Java (from Python), and am trying to better understand the similarities, differences, and use cases for all the various IO classes.</p>\n<p>(Edit1): I know that we could replace the first two lines with a single line using <code>FileReader</code> - but that's what the <code>FileReader</code> itself would do internally, so the purpose of the example (and this question) is to understand the underlying relationship of the different IO classes - hence the explicit call to <code>FileInputStream</code> use.</p>\n<p>(Edit2): <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\" rel=\"nofollow noreferrer\">This</a> Java tutorial actually does this wrapping.</p>\n"},{"tags":["java","stream","hashmap","time-complexity"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1700377033,"post_id":77509859,"comment_id":136645570,"body_markdown":"is that necessary? why cant a for loop work? binary meaning 0 or 1, so count all 0s (or all 1s) using one iteration of a for loop, then array.size() - numOfZeroes. In any case, it will still be O(N)","body":"is that necessary? why cant a for loop work? binary meaning 0 or 1, so count all 0s (or all 1s) using one iteration of a for loop, then array.size() - numOfZeroes. In any case, it will still be O(N)"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1700378266,"post_id":77509859,"comment_id":136645638,"body_markdown":"also, regarding `&quot;filter will be using iteration internally&quot;`, I wouldnt say that the filter operation uses iteration, but more like the stream itself uses iteration and all those intermediate operations are included into each loop of that iteration. See [here](https://stackoverflow.com/a/61286455/16034206)","body":"also, regarding <code>&quot;filter will be using iteration internally&quot;</code>, I wouldnt say that the filter operation uses iteration, but more like the stream itself uses iteration and all those intermediate operations are included into each loop of that iteration. See <a href=\"https://stackoverflow.com/a/61286455/16034206\">here</a>"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1700379909,"post_id":77509859,"comment_id":136645724,"body_markdown":"The optimal solution does not involve either maps or streams.  Just a `for` loop and two `int` counters.  It is `O(N)` ... as are solutions using maps or streams ... but it will be significantly more efficient.","body":"The optimal solution does not involve either maps or streams.  Just a <code>for</code> loop and two <code>int</code> counters.  It is <code>O(N)</code> ... as are solutions using maps or streams ... but it will be significantly more efficient."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700381885,"post_id":77509859,"comment_id":136645853,"body_markdown":"No such thing as a &quot;binary array&quot; in Java.","body":"No such thing as a &quot;binary array&quot; in Java."},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1700390021,"post_id":77509859,"comment_id":136646426,"body_markdown":"There are other thing in the map (and probably Stream) algorithm that adds to the speed (not the complexity O(N)): you have to convert from primitive to wrapper type - which cost - and you are doing two map operation while the API provides `compute`. You could simply use `map.compute(i, (ignored, actual) -&gt; actual == null ? 1:actual+1)`. This won&#39;t avoid the conversion from/to primitive/wrapper type.","body":"There are other thing in the map (and probably Stream) algorithm that adds to the speed (not the complexity O(N)): you have to convert from primitive to wrapper type - which cost - and you are doing two map operation while the API provides <code>compute</code>. You could simply use <code>map.compute(i, (ignored, actual) -&gt; actual == null ? 1:actual+1)</code>. This won&#39;t avoid the conversion from/to primitive/wrapper type."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700411527,"post_id":77509859,"comment_id":136648391,"body_markdown":"I believe any approach here is going to produce O(n).  For example, to achieve O(1) you would need to first sort the values, which is typically O(n&#178;).","body":"I believe any approach here is going to produce O(n).  For example, to achieve O(1) you would need to first sort the values, which is typically O(n&#178;)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700405663,"creation_date":1700380962,"answer_id":77510057,"question_id":77509859,"body_markdown":"&gt; please let me know if there is a better approach\r\n\r\n    int[] array = new int[]{1, 1, 0, 1, 0, 1, 0, 0, 0};\r\n    int ones = 0;\r\n    for (int bit : array) {\r\n       if (bit == 1) {\r\n           ones++;\r\n       } \r\n    }\r\n    System.out.println(&quot;0 : &quot; + (array.length - ones)); \r\n    System.out.println(&quot;1 : &quot; + ones); \r\n\r\nThere are significant overheads in `Map` data structures, and many stream-based solution involve a `Map` under the hood.  For the smarter stream-based solutions, you still have the problem that the stream / filter / count steps involve hidden overheads that may be hard for the JIT compiler to eliminate.\r\n\r\nSo, if your **primary** concern is efficiency, you should use a &quot;dumb&quot; loop that the JIT compiler can optimize well.","title":"Time complexity of adding elements to collection vs using stream in java","body":"<blockquote>\n<p>please let me know if there is a better approach</p>\n</blockquote>\n<pre><code>int[] array = new int[]{1, 1, 0, 1, 0, 1, 0, 0, 0};\nint ones = 0;\nfor (int bit : array) {\n   if (bit == 1) {\n       ones++;\n   } \n}\nSystem.out.println(&quot;0 : &quot; + (array.length - ones)); \nSystem.out.println(&quot;1 : &quot; + ones); \n</code></pre>\n<p>There are significant overheads in <code>Map</code> data structures, and many stream-based solution involve a <code>Map</code> under the hood.  For the smarter stream-based solutions, you still have the problem that the stream / filter / count steps involve hidden overheads that may be hard for the JIT compiler to eliminate.</p>\n<p>So, if your <strong>primary</strong> concern is efficiency, you should use a &quot;dumb&quot; loop that the JIT compiler can optimize well.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1700448762,"creation_date":1700382187,"answer_id":77510106,"question_id":77509859,"body_markdown":"# Sum the array\r\n\r\nJava has no &quot;binary array&quot;. \r\n\r\nBut if the array is simply whole numbers whose values come from a domain of only zero and one, then you can sum the array. \r\n\r\n 1. The sum is the count of `1` values.\r\n 2. Subtract the sum from the size of the array to get a count of `0` values.\r\n\r\nExample code:\r\n\r\n```java\r\nlong[] numbers = { 0L , 1L , 0L } ;\r\nlong countOnes = Arrays.stream( numbers ).sum() ;\r\nlong countZeros = ( numbers.length - countOnes ) ;\r\n```\r\n\r\nSee this code [run at Ideone.com][1].\r\n\r\n```none\r\nnumbers.length: 3\r\ncountOnes: 1\r\ncountZeros: 2\r\n```\r\n\r\n\r\n  [1]: https://ideone.com/jufkBy","title":"Time complexity of adding elements to collection vs using stream in java","body":"<h1>Sum the array</h1>\n<p>Java has no &quot;binary array&quot;.</p>\n<p>But if the array is simply whole numbers whose values come from a domain of only zero and one, then you can sum the array.</p>\n<ol>\n<li>The sum is the count of <code>1</code> values.</li>\n<li>Subtract the sum from the size of the array to get a count of <code>0</code> values.</li>\n</ol>\n<p>Example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long[] numbers = { 0L , 1L , 0L } ;\nlong countOnes = Arrays.stream( numbers ).sum() ;\nlong countZeros = ( numbers.length - countOnes ) ;\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/jufkBy\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>numbers.length: 3\ncountOnes: 1\ncountZeros: 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350912,"reputation":343,"user_id":687097,"accept_rate":33,"display_name":"Wishper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700386420,"creation_date":1700386420,"answer_id":77510270,"question_id":77509859,"body_markdown":"I agreed, the simplest and fastest is just iteration over the array - and it&#39;s O(n). The only difference to those answers is not to count the &#39;1&#39; and get the count of &#39;0&#39; by lenght-count1, but explicitally counting &#39;0&#39; too, so that if someone ever pass something else (like for example a 2 or -1) it isn&#39;t counted wrongly.\r\n\r\nOne of the most difficult part of being a programmer is dealing with exceptional inputs and errors. If I were an interviewer I would rate as gold the ability of the candidate to think about error and exception management over the actual functionality. Because the functionality sooner or later can be implemented successfully, but poor error management can stay forever building a huge technical debt ","title":"Time complexity of adding elements to collection vs using stream in java","body":"<p>I agreed, the simplest and fastest is just iteration over the array - and it's O(n). The only difference to those answers is not to count the '1' and get the count of '0' by lenght-count1, but explicitally counting '0' too, so that if someone ever pass something else (like for example a 2 or -1) it isn't counted wrongly.</p>\n<p>One of the most difficult part of being a programmer is dealing with exceptional inputs and errors. If I were an interviewer I would rate as gold the ability of the candidate to think about error and exception management over the actual functionality. Because the functionality sooner or later can be implemented successfully, but poor error management can stay forever building a huge technical debt</p>\n"}],"owner":{"account_id":4983029,"reputation":67,"user_id":4007419,"display_name":"Mausumi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1700448762,"creation_date":1700375572,"question_id":77509859,"body_markdown":"I was asked this question in an interview  to count the number 1 and 0 in a binary array\r\neg: arr = 1, 1, 0, 1, 0, 1, 0, 0, 0. We should not use `Array.sort` or `Collections.sort` function.\r\n\r\n\r\nI could think of using stream with filter and count operation as one approach and other approach of adding the elements into hashmap and printing the count. \r\n\r\nI have read that filter will be using iteration internally and the worst case time complexity is o(n). But in the case of hashmap, we have to loop through array  , and then calculate hash to add elements. I guess stream will be a better option here.\r\nIs this correct. Please pour in your thoughts on these and please let me know if there is a better approach\r\n\r\n```\r\nint[] array = new int[]{1, 1, 0, 1, 0, 1, 0, 0, 0};\r\n        // find count of one and zero\r\n        Map&lt;Integer,Integer&gt; integerMap = new HashMap&lt;&gt;();\r\n        for(int i : array){\r\n           if(integerMap.containsKey(i)){\r\n               integerMap.put(i, integerMap.get(i) + 1);\r\n           } else {\r\n               integerMap.put(i,1);\r\n           }\r\n        }\r\n        integerMap.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\r\n```","title":"Time complexity of adding elements to collection vs using stream in java","body":"<p>I was asked this question in an interview  to count the number 1 and 0 in a binary array\neg: arr = 1, 1, 0, 1, 0, 1, 0, 0, 0. We should not use <code>Array.sort</code> or <code>Collections.sort</code> function.</p>\n<p>I could think of using stream with filter and count operation as one approach and other approach of adding the elements into hashmap and printing the count.</p>\n<p>I have read that filter will be using iteration internally and the worst case time complexity is o(n). But in the case of hashmap, we have to loop through array  , and then calculate hash to add elements. I guess stream will be a better option here.\nIs this correct. Please pour in your thoughts on these and please let me know if there is a better approach</p>\n<pre><code>int[] array = new int[]{1, 1, 0, 1, 0, 1, 0, 0, 0};\n        // find count of one and zero\n        Map&lt;Integer,Integer&gt; integerMap = new HashMap&lt;&gt;();\n        for(int i : array){\n           if(integerMap.containsKey(i)){\n               integerMap.put(i, integerMap.get(i) + 1);\n           } else {\n               integerMap.put(i,1);\n           }\n        }\n        integerMap.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\n</code></pre>\n"},{"tags":["java","android","android-camerax"],"answers":[{"tags":[],"owner":{"account_id":23324168,"reputation":1,"user_id":17401577,"display_name":"Eeman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700447700,"creation_date":1700447700,"answer_id":77513247,"question_id":77512284,"body_markdown":"Use below:\r\n\r\n    String cameraId = cameraManager.getCameraIdList()[1];\r\n    cameraManager.setTorchMode(cameraId, true);\r\n\r\nYou have to give 1 in your getCameraIdList. As getCameraIdList() accepts 2 values, 0 for back camera and 1 for front camera.\r\n\r\n\r\nIt worked for me.","title":"implemented CameraX but can’t enable front flash when taking a selfie, Solution?","body":"<p>Use below:</p>\n<pre><code>String cameraId = cameraManager.getCameraIdList()[1];\ncameraManager.setTorchMode(cameraId, true);\n</code></pre>\n<p>You have to give 1 in your getCameraIdList. As getCameraIdList() accepts 2 values, 0 for back camera and 1 for front camera.</p>\n<p>It worked for me.</p>\n"}],"owner":{"account_id":12913216,"reputation":21,"user_id":9338303,"display_name":"Oleg Ator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700447700,"creation_date":1700424022,"question_id":77512284,"body_markdown":"I implemented CameraX but can’t enable front flash when taking a selfie. However my stock camera app is working well but CameraX is not. Did anybody face a similar issue before?\r\n\r\nI implemented CameraX but can’t enable front flash when taking a selfie.","title":"implemented CameraX but can’t enable front flash when taking a selfie, Solution?","body":"<p>I implemented CameraX but can’t enable front flash when taking a selfie. However my stock camera app is working well but CameraX is not. Did anybody face a similar issue before?</p>\n<p>I implemented CameraX but can’t enable front flash when taking a selfie.</p>\n"},{"tags":["javascript","java","web"],"answers":[{"tags":[],"owner":{"account_id":21597022,"reputation":1668,"user_id":15925814,"display_name":"AnanthDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700447662,"creation_date":1700447284,"answer_id":77513234,"question_id":77513044,"body_markdown":"# Basic Implementation\r\n\r\nSo to give you the rough idea on how to achieve this, your slideshow will basically have a container div that will contain all the images that&#39;s going to be shown right? for now i&#39;ve used divs for the sake of simplicity, in your example you can have images inside of the child divs with width and height set accordingly to fill the slideshow container\r\n\r\nSo we need to stack all these images on top of each other instead of each image taking a new line or space, for that we use the `position` attribute. we make the parent container of position type `relative` and every images in it will have a position type of `absolute` so it&#39;ll stack on top of each other\r\n\r\nnow how the slideshow will work is by initially setting the opacity of all the elements to 0, we iterate through each element and change the opacity back to 100% so it will be visible, once the frame passes we set the opacity back to a 0 so it will be invisible. \r\n\r\nWe can make this iteration process possible by using `setInterval` function \r\n\r\ni have not included the buttons for navigation in this, you can do it simply by adding two buttons and manipulate the `index` variable to increment or decrement the position based on button click event\r\n\r\nalso you can temporarily pause the auto slideshow on button clicks by using:\r\n\r\n    let slideShowInterval = setInterval(slideshow, 1000);\r\n    clearInterval(slideShowInterval);\r\n\r\nand then after a certain timeout you can resume it by calling the same function again. i&#39;ll leave that to you\r\n\r\nYou can tweak the slideshow speed by setting the interval timer in millisecond, in this example i used 2 second delay so that will be 2 * 1000 = 2000 ms\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const slides = document.getElementsByClassName(&#39;slides&#39;);\r\n    let index = 1;\r\n\r\n\r\n    function slideshow() {\r\n        // reset slide index counter if it exceeds the maximum limit\r\n        if (index &gt;= slides.length) index = 0;\r\n        \r\n        // show the current slide\r\n        if (!slides[index].classList.contains(&#39;show&#39;))\r\n            slides[index].classList.add(&#39;show&#39;);\r\n\r\n        // hide the previous slide, only if index is &gt; 0\r\n        if (index &gt; 0 &amp;&amp; slides[index - 1].classList.contains(&#39;show&#39;))\r\n            slides[index - 1].classList.remove(&#39;show&#39;);\r\n        // if index is 0 or less it means the slideshow has restarted so hide the last element which is at the end of the container array    \r\n        else if (index &lt;= 0 &amp;&amp; slides[slides.length - 1].classList.contains(&#39;show&#39;))\r\n            slides[slides.length - 1].classList.remove(&#39;show&#39;);\r\n\r\n        index++;\r\n    }\r\n\r\n    setInterval(slideshow, 2000);\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .container {\r\n        position: relative;\r\n        max-height: 200px;\r\n        width: 100%;\r\n        height: 200px;\r\n    }\r\n\r\n    .slides {\r\n        position: absolute;\r\n        height: 100%;\r\n        width: 100%;\r\n        background-color: lightblue;\r\n        opacity: 0;\r\n\r\n        -webkit-transition: opacity 1s;\r\n        -moz-transition: opacity 1s;\r\n        -o-transition: opacity 1s;\r\n        transition: opacity 1s;\r\n    }\r\n\r\n    .show {\r\n        opacity: 1;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div class=&quot;slides show&quot; style=&quot;background-color: yellow&quot;&gt;slide 1&lt;/div&gt;\r\n        &lt;div class=&quot;slides&quot; style = &quot;background-color: red&quot;&gt;slide 2&lt;/div&gt;\r\n        &lt;div class=&quot;slides&quot; style = &quot;background-color: blue&quot;&gt;slide 3&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Looking to add auto-play and touch-swipe to Image Slider","body":"<h1>Basic Implementation</h1>\n<p>So to give you the rough idea on how to achieve this, your slideshow will basically have a container div that will contain all the images that's going to be shown right? for now i've used divs for the sake of simplicity, in your example you can have images inside of the child divs with width and height set accordingly to fill the slideshow container</p>\n<p>So we need to stack all these images on top of each other instead of each image taking a new line or space, for that we use the <code>position</code> attribute. we make the parent container of position type <code>relative</code> and every images in it will have a position type of <code>absolute</code> so it'll stack on top of each other</p>\n<p>now how the slideshow will work is by initially setting the opacity of all the elements to 0, we iterate through each element and change the opacity back to 100% so it will be visible, once the frame passes we set the opacity back to a 0 so it will be invisible.</p>\n<p>We can make this iteration process possible by using <code>setInterval</code> function</p>\n<p>i have not included the buttons for navigation in this, you can do it simply by adding two buttons and manipulate the <code>index</code> variable to increment or decrement the position based on button click event</p>\n<p>also you can temporarily pause the auto slideshow on button clicks by using:</p>\n<pre><code>let slideShowInterval = setInterval(slideshow, 1000);\nclearInterval(slideShowInterval);\n</code></pre>\n<p>and then after a certain timeout you can resume it by calling the same function again. i'll leave that to you</p>\n<p>You can tweak the slideshow speed by setting the interval timer in millisecond, in this example i used 2 second delay so that will be 2 * 1000 = 2000 ms</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const slides = document.getElementsByClassName('slides');\nlet index = 1;\n\n\nfunction slideshow() {\n    // reset slide index counter if it exceeds the maximum limit\n    if (index &gt;= slides.length) index = 0;\n    \n    // show the current slide\n    if (!slides[index].classList.contains('show'))\n        slides[index].classList.add('show');\n\n    // hide the previous slide, only if index is &gt; 0\n    if (index &gt; 0 &amp;&amp; slides[index - 1].classList.contains('show'))\n        slides[index - 1].classList.remove('show');\n    // if index is 0 or less it means the slideshow has restarted so hide the last element which is at the end of the container array    \n    else if (index &lt;= 0 &amp;&amp; slides[slides.length - 1].classList.contains('show'))\n        slides[slides.length - 1].classList.remove('show');\n\n    index++;\n}\n\nsetInterval(slideshow, 2000);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\n    position: relative;\n    max-height: 200px;\n    width: 100%;\n    height: 200px;\n}\n\n.slides {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background-color: lightblue;\n    opacity: 0;\n\n    -webkit-transition: opacity 1s;\n    -moz-transition: opacity 1s;\n    -o-transition: opacity 1s;\n    transition: opacity 1s;\n}\n\n.show {\n    opacity: 1;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\n    &lt;div class=\"slides show\" style=\"background-color: yellow\"&gt;slide 1&lt;/div&gt;\n    &lt;div class=\"slides\" style = \"background-color: red\"&gt;slide 2&lt;/div&gt;\n    &lt;div class=\"slides\" style = \"background-color: blue\"&gt;slide 3&lt;/div&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":29944251,"reputation":1,"user_id":22947940,"display_name":"WildSide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700447662,"creation_date":1700441092,"question_id":77513044,"body_markdown":"I&#39;ve built my website from scratch, and the image slider on the homepage is exactly how I want it - visually. It&#39;s the right size, it&#39;s responsive (resizes accurately, buttons in place), and the radio buttons and slider arrows are just how I want them.\r\n\r\nTHE PROBLEM: I am looking to add auto-play to the slideshow so that the slides alternate on a timer;\r\n\r\nAND\r\n\r\nI also want to add touch-swipe so that the slider reacts to touch on mobile devices.\r\n\r\nI&#39;m terrible with JavaScript, and spent hours making the current slider, even with a tutorial.\r\n\r\nWould someone be able to help me include these functions to the slider?\r\n\r\nMy website is www.wildsidecocktails.co.uk\r\n\r\nThe JavaScript (which includes the functions for the menu on mobile devices) is:\r\n\r\n\r\n\r\n```\r\nvar slidePosition = 1;\r\nSlideShow(slidePosition);\r\n\r\nfunction plusSlides(n) {\r\n  SlideShow(slidePosition += n);\r\n}\r\n\r\nfunction currentSlide(n) {\r\n  SlideShow(slidePosition = n);\r\n}\r\n\r\nfunction SlideShow(n) {\r\n  var i;\r\n  var slides = document.getElementsByClassName(&quot;Containers&quot;);\r\n  var circles = document.getElementsByClassName(&quot;dots&quot;);\r\n  if (n &gt; slides.length) {slidePosition = 1}\r\n  if (n &lt; 1) {slidePosition = slides.length}\r\n  for (i = 0; i &lt; slides.length; i++) {\r\n      slides[i].style.display = &quot;none&quot;;\r\n  }\r\n  for (i = 0; i &lt; circles.length; i++) {\r\n      circles[i].className = circles[i].className.replace(&quot; enable&quot;, &quot;&quot;);\r\n  }\r\n  slides[slidePosition-1].style.display = &quot;block&quot;;\r\n  circles[slidePosition-1].className += &quot; enable&quot;;\r\n} \r\n```\r\n\r\n\r\n\r\nI&#39;ve tried watching tutorials and guides teaching how to add autoplay, and others teaching how to add touch-sensitivity, but none of them seem exclusively Vanilla script, or are hard to integrate with the current slider setup.","title":"Looking to add auto-play and touch-swipe to Image Slider","body":"<p>I've built my website from scratch, and the image slider on the homepage is exactly how I want it - visually. It's the right size, it's responsive (resizes accurately, buttons in place), and the radio buttons and slider arrows are just how I want them.</p>\n<p>THE PROBLEM: I am looking to add auto-play to the slideshow so that the slides alternate on a timer;</p>\n<p>AND</p>\n<p>I also want to add touch-swipe so that the slider reacts to touch on mobile devices.</p>\n<p>I'm terrible with JavaScript, and spent hours making the current slider, even with a tutorial.</p>\n<p>Would someone be able to help me include these functions to the slider?</p>\n<p>My website is <a href=\"http://www.wildsidecocktails.co.uk\" rel=\"nofollow noreferrer\">www.wildsidecocktails.co.uk</a></p>\n<p>The JavaScript (which includes the functions for the menu on mobile devices) is:</p>\n<pre><code>var slidePosition = 1;\nSlideShow(slidePosition);\n\nfunction plusSlides(n) {\n  SlideShow(slidePosition += n);\n}\n\nfunction currentSlide(n) {\n  SlideShow(slidePosition = n);\n}\n\nfunction SlideShow(n) {\n  var i;\n  var slides = document.getElementsByClassName(&quot;Containers&quot;);\n  var circles = document.getElementsByClassName(&quot;dots&quot;);\n  if (n &gt; slides.length) {slidePosition = 1}\n  if (n &lt; 1) {slidePosition = slides.length}\n  for (i = 0; i &lt; slides.length; i++) {\n      slides[i].style.display = &quot;none&quot;;\n  }\n  for (i = 0; i &lt; circles.length; i++) {\n      circles[i].className = circles[i].className.replace(&quot; enable&quot;, &quot;&quot;);\n  }\n  slides[slidePosition-1].style.display = &quot;block&quot;;\n  circles[slidePosition-1].className += &quot; enable&quot;;\n} \n</code></pre>\n<p>I've tried watching tutorials and guides teaching how to add autoplay, and others teaching how to add touch-sensitivity, but none of them seem exclusively Vanilla script, or are hard to integrate with the current slider setup.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1523379455,"post_id":49759132,"comment_id":86533238,"body_markdown":"What tells you can the setter changes a variable? Nothing. The class can ignore the setter. Encapsulation.","body":"What tells you can the setter changes a variable? Nothing. The class can ignore the setter. Encapsulation."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1523380770,"post_id":49759132,"comment_id":86534048,"body_markdown":"@BoristheSpider A setter is, by definition, changing a field. It&#39;s fair enough to sometimes have methods which mutable the state of an object, obviously, but someone whose relying on the Java bean pattern of getters and setters for every field is fooling themselves if they think they&#39;re encapsulating anything.","body":"@BoristheSpider A setter is, by definition, changing a field. It&#39;s fair enough to sometimes have methods which mutable the state of an object, obviously, but someone whose relying on the Java bean pattern of getters and setters for every field is fooling themselves if they think they&#39;re encapsulating anything."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523379522,"creation_date":1523379522,"answer_id":49759179,"question_id":49759132,"body_markdown":"You&#39;re correct. If a field is exposed via getters and setters, it is **not** encapsulated. It&#39;s annoying how many people don&#39;t understand this so it&#39;s not surprising that you&#39;re confused.","title":"Concept of encapsulation","body":"<p>You're correct. If a field is exposed via getters and setters, it is <strong>not</strong> encapsulated. It's annoying how many people don't understand this so it's not surprising that you're confused.</p>\n"},{"tags":[],"owner":{"account_id":10702625,"reputation":112,"user_id":7877423,"display_name":"Patrick Dougherty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523379565,"creation_date":1523379565,"answer_id":49759187,"question_id":49759132,"body_markdown":"Check out [this answer](https://stackoverflow.com/questions/19044362/java-encapsulation-concept-not-clear). Essentially, using the keyword `private` we are able to prevent outside use of the fields in a class, for example. It hides the data in a class associated with that `private` keyword.","title":"Concept of encapsulation","body":"<p>Check out <a href=\"https://stackoverflow.com/questions/19044362/java-encapsulation-concept-not-clear\">this answer</a>. Essentially, using the keyword <code>private</code> we are able to prevent outside use of the fields in a class, for example. It hides the data in a class associated with that <code>private</code> keyword.</p>\n"}],"owner":{"account_id":13269262,"reputation":21,"user_id":9580885,"display_name":"nayakanti samyuktha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1523379663,"answer_count":2,"score":1,"last_activity_date":1700447631,"creation_date":1523379369,"question_id":49759132,"body_markdown":"Encapsulation - relying on the Java bean pattern of getters and setters for every field isn&#39;t encapsulating anything","title":"Concept of encapsulation","body":"<p>Encapsulation - relying on the Java bean pattern of getters and setters for every field isn't encapsulating anything</p>\n"},{"tags":["java","hibernate","database-connection","c3p0","hikaricp"],"comments":[{"owner":{"account_id":1511139,"reputation":13771,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":1,"creation_date":1388776282,"post_id":20899455,"comment_id":31391438,"body_markdown":"so, wrt c3p0, you have a bad misconfoguration in the bit above. global max_statements of 50 is way too small for the size of your pool; you&#39;re forcing the statement cache to churn through statements. set max_statements to 0 to turn statement caching off if you want behavior comparable to HikariCP. you don&#39;t specify what problems you are currently having with c3p0, but you might also consider a more reliable testing regime.","body":"so, wrt c3p0, you have a bad misconfoguration in the bit above. global max_statements of 50 is way too small for the size of your pool; you&#39;re forcing the statement cache to churn through statements. set max_statements to 0 to turn statement caching off if you want behavior comparable to HikariCP. you don&#39;t specify what problems you are currently having with c3p0, but you might also consider a more reliable testing regime."},{"owner":{"account_id":871926,"reputation":11568,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1388821050,"post_id":20899455,"comment_id":31405277,"body_markdown":"I&#39;ve experimented with the values above, but in all cases I keep getting randomly (roughly once a day) &quot;Apparent deadlocks&quot;. On the other hand, the `max_statement` value I&#39;ve tried only to increase, but never to disable. I can certainly try that. However, this question is about configuring Hikari with Hibernate.","body":"I&#39;ve experimented with the values above, but in all cases I keep getting randomly (roughly once a day) &quot;Apparent deadlocks&quot;. On the other hand, the <code>max_statement</code> value I&#39;ve tried only to increase, but never to disable. I can certainly try that. However, this question is about configuring Hikari with Hibernate."},{"owner":{"account_id":1511139,"reputation":13771,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":0,"creation_date":1388879250,"post_id":20899455,"comment_id":31424247,"body_markdown":"oh, i know. and Hikari looks very interesting, very much worth trying out. if you want help c3p0 debugging, let me know.","body":"oh, i know. and Hikari looks very interesting, very much worth trying out. if you want help c3p0 debugging, let me know."}],"answers":[{"tags":[],"owner":{"account_id":191037,"reputation":10794,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1501844302,"creation_date":1388826356,"answer_id":20919015,"question_id":20899455,"body_markdown":"UPDATE: See uwolfer&#39;s answer below, it is now the official way to use HikariCP with Hibernate.\r\n\r\nI&#39;m one of the authors of HikariCP.  I don&#39;t claim to be a Spring guy, and I weened off of Hibernate a few years back, but this link might be helpful:\r\n\r\nhttp://www.luckyryan.com/2013/02/20/spring-mvc-with-basic-persistence-spring-data-jpa-hibernate/\r\n\r\nIn the XML configuration section on that page, where their example uses *BoneCP* as the *mainDataSource*, simply try replacing that section with configuration for *HikariCP* instead.\r\n\r\nIn your example above, you appear to be configuring Hibernate through Spring and defining the ``DataSource`` inside of the Hibernate config, which is fine.  But an alternative (presented on that page) is to configure the ``DataSource`` separately through Spring and then directing Hibernate to use it.\r\n\r\nRegarding statement caching, *HikariCP* does not do it because we believe that is best left to the vendors&#39; JDBC driver/DataSource.  Almost every major DB vendors&#39; JDBC ``DataSource`` provides statement caching, and it can be configured *through* HikariCP by specifying ``DataSource`` properties.  Refer to the [HikariCP](https://github.com/brettwooldridge/HikariCP) github page for how to set properties on the underlying (vendor) ``DataSource``.\r\n ","title":"Configuring Hibernate with HikariCP","body":"<p>UPDATE: See uwolfer's answer below, it is now the official way to use HikariCP with Hibernate.</p>\n\n<p>I'm one of the authors of HikariCP.  I don't claim to be a Spring guy, and I weened off of Hibernate a few years back, but this link might be helpful:</p>\n\n<p><a href=\"http://www.luckyryan.com/2013/02/20/spring-mvc-with-basic-persistence-spring-data-jpa-hibernate/\" rel=\"nofollow noreferrer\">http://www.luckyryan.com/2013/02/20/spring-mvc-with-basic-persistence-spring-data-jpa-hibernate/</a></p>\n\n<p>In the XML configuration section on that page, where their example uses <em>BoneCP</em> as the <em>mainDataSource</em>, simply try replacing that section with configuration for <em>HikariCP</em> instead.</p>\n\n<p>In your example above, you appear to be configuring Hibernate through Spring and defining the <code>DataSource</code> inside of the Hibernate config, which is fine.  But an alternative (presented on that page) is to configure the <code>DataSource</code> separately through Spring and then directing Hibernate to use it.</p>\n\n<p>Regarding statement caching, <em>HikariCP</em> does not do it because we believe that is best left to the vendors' JDBC driver/DataSource.  Almost every major DB vendors' JDBC <code>DataSource</code> provides statement caching, and it can be configured <em>through</em> HikariCP by specifying <code>DataSource</code> properties.  Refer to the <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">HikariCP</a> github page for how to set properties on the underlying (vendor) <code>DataSource</code>.</p>\n"},{"tags":[],"owner":{"account_id":191037,"reputation":10794,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1389860789,"creation_date":1389860789,"answer_id":21156693,"question_id":20899455,"body_markdown":"[HikariCP](https://github.com/brettwooldridge/HikariCP), as of version 1.2.6, now supports Hibernate 4.x explicitly with a *ConnectionProvider*.  See the new [wiki documentation](https://github.com/brettwooldridge/HikariCP/wiki/Hibernate4) for details.","title":"Configuring Hibernate with HikariCP","body":"<p><a href=\"https://github.com/brettwooldridge/HikariCP\">HikariCP</a>, as of version 1.2.6, now supports Hibernate 4.x explicitly with a <em>ConnectionProvider</em>.  See the new <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/Hibernate4\">wiki documentation</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":5056706,"reputation":4366,"user_id":4059755,"display_name":"uwolfer"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1700446978,"creation_date":1501744960,"answer_id":45477480,"question_id":20899455,"body_markdown":"You can use the `org.hibernate.hikaricp.internal.HikariCPConnectionProvider` which is shipped by `hibernate-hikaricp` package.\r\n\r\nYou can install it as Maven dependency (please don&#39;t forget to update the version number):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.10.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd configure it in the `hibernate.properties` file, like this:\r\n\r\n    hibernate.connection.provider_class=org.hibernate.hikaricp.internal.HikariCPConnectionProvider\r\n\r\n\r\nPlease note: As of Hibernate 4.3.6 you should **no longer** use `com.zaxxer.hikari.hibernate.HikariConnectionProvider` (see: https://github.com/brettwooldridge/HikariCP/wiki/Hibernate4)","title":"Configuring Hibernate with HikariCP","body":"<p>You can use the <code>org.hibernate.hikaricp.internal.HikariCPConnectionProvider</code> which is shipped by <code>hibernate-hikaricp</code> package.</p>\n<p>You can install it as Maven dependency (please don't forget to update the version number):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\n    &lt;version&gt;5.2.10.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And configure it in the <code>hibernate.properties</code> file, like this:</p>\n<pre><code>hibernate.connection.provider_class=org.hibernate.hikaricp.internal.HikariCPConnectionProvider\n</code></pre>\n<p>Please note: As of Hibernate 4.3.6 you should <strong>no longer</strong> use <code>com.zaxxer.hikari.hibernate.HikariConnectionProvider</code> (see: <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/Hibernate4\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/wiki/Hibernate4</a>)</p>\n"}],"owner":{"account_id":871926,"reputation":11568,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40739,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":21156693,"answer_count":3,"score":12,"last_activity_date":1700446978,"creation_date":1388737401,"question_id":20899455,"body_markdown":"Because of problems with c3p0 connection pool, I want to see the alternatives and decide which one might be more usable in my case. HikariCP looks very promising, but there is no documentation how to use it with Hibernate.\r\n\r\nSo far I am using c3p0 as follows:\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;persistenceUnit&quot;/&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;${database.dialect}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;${database.structure}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.url&quot;&gt;${database.connection}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.username&quot;&gt;${database.username}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.password&quot;&gt;${database.password}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.driver_class&quot;&gt;${database.driver}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.shutdown&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.writedelay&quot;&gt;0&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.characterEncoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.charSet&quot;&gt;UTF-8&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;${database.show_sql}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.format_sql&quot;&gt;false&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.ejb.metamodel.generation&quot;&gt;disabled&lt;/prop&gt;\r\n                &lt;!-- Use the C3P0 connection pool provider --&gt;\r\n                &lt;prop key=&quot;hibernate.connection.provider_class&quot;&gt;org.hibernate.connection.C3P0ConnectionProvider&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.c3p0.max_size&quot;&gt;30&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.c3p0.idle_test_period&quot;&gt;600&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n\r\nCan someone point me how to configure HikariCP in such way?","title":"Configuring Hibernate with HikariCP","body":"<p>Because of problems with c3p0 connection pool, I want to see the alternatives and decide which one might be more usable in my case. HikariCP looks very promising, but there is no documentation how to use it with Hibernate.</p>\n\n<p>So far I am using c3p0 as follows:</p>\n\n<pre><code>&lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"persistenceUnitName\" value=\"persistenceUnit\"/&gt;\n    &lt;property name=\"jpaProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;${database.dialect}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;${database.structure}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.url\"&gt;${database.connection}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.username\"&gt;${database.username}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.password\"&gt;${database.password}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.driver_class\"&gt;${database.driver}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.shutdown\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.writedelay\"&gt;0&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.characterEncoding\"&gt;UTF-8&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.charSet\"&gt;UTF-8&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;${database.show_sql}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.format_sql\"&gt;false&lt;/prop&gt;\n            &lt;prop key=\"hibernate.ejb.metamodel.generation\"&gt;disabled&lt;/prop&gt;\n            &lt;!-- Use the C3P0 connection pool provider --&gt;\n            &lt;prop key=\"hibernate.connection.provider_class\"&gt;org.hibernate.connection.C3P0ConnectionProvider&lt;/prop&gt;\n            &lt;prop key=\"hibernate.c3p0.min_size\"&gt;5&lt;/prop&gt;\n            &lt;prop key=\"hibernate.c3p0.max_size\"&gt;30&lt;/prop&gt;\n            &lt;prop key=\"hibernate.c3p0.timeout\"&gt;300&lt;/prop&gt;\n            &lt;prop key=\"hibernate.c3p0.max_statements\"&gt;50&lt;/prop&gt;\n            &lt;prop key=\"hibernate.c3p0.idle_test_period\"&gt;600&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n</code></pre>\n\n<p>Can someone point me how to configure HikariCP in such way?</p>\n"},{"tags":["java","spring-boot","docker","spring-security","passwords"],"comments":[{"owner":{"account_id":263558,"reputation":650,"user_id":549212,"accept_rate":80,"display_name":"gdawgrancid"},"score":0,"creation_date":1679359054,"post_id":74761799,"comment_id":133704542,"body_markdown":"Were you ever able to find an answer to this?","body":"Were you ever able to find an answer to this?"}],"answers":[{"tags":[],"owner":{"account_id":17770172,"reputation":1,"user_id":12903980,"display_name":"Dima Chabai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672232900,"creation_date":1672232900,"answer_id":74940650,"question_id":74761799,"body_markdown":"Try to downgrade to 2.0.0 version of jasypt-spring-boot-starter\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Jasypt: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String","body":"<p>Try to downgrade to 2.0.0 version of jasypt-spring-boot-starter</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n        &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28432550,"reputation":1,"user_id":21753028,"display_name":"Bubai Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682681700,"creation_date":1682587247,"answer_id":76118751,"question_id":74761799,"body_markdown":"    @Configuration\r\n    public class JasyptEncryptorConfiguratuin {\r\n    \t@Bean(&quot;jasyptStringEncryptor&quot;)\r\n    \tpublic StringEncryptor stringEncryptor() {\r\n    \t\tPooledPBEStringEncryptor encryptor = new PooledPBEStringEncryptor();\r\n    \t\tSimpleStringPBEConfig config = new SimpleStringPBEConfig();\r\n    \t\tconfig.setPassword(&quot;password&quot;);\r\n    \t\tconfig.setAlgorithm(&quot;PBEWITHHMACSHA512ANDAES_256&quot;);\r\n    \t\tconfig.setKeyObtentionIterations(&quot;1000&quot;);\r\n    \t\tconfig.setPoolSize(&quot;1&quot;);\r\n    \t\tconfig.setProviderName(&quot;SunJCE&quot;);\r\n    \t\t \r\n            \r\n            config.setSaltGeneratorClassName(&quot;org.jasypt.salt.RandomSaltGenerator&quot;);\r\n    \t\tconfig.setIvGeneratorClassName(&quot;org.jasypt.iv.RandomIvGenerator&quot;);\r\n    \t\tconfig.setStringOutputType(&quot;base64&quot;);\r\n    \t\tencryptor.setConfig(config);\r\n    \t\treturn encryptor;\r\n    \t}\r\n    }","title":"Jasypt: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String","body":"<pre><code>@Configuration\npublic class JasyptEncryptorConfiguratuin {\n    @Bean(&quot;jasyptStringEncryptor&quot;)\n    public StringEncryptor stringEncryptor() {\n        PooledPBEStringEncryptor encryptor = new PooledPBEStringEncryptor();\n        SimpleStringPBEConfig config = new SimpleStringPBEConfig();\n        config.setPassword(&quot;password&quot;);\n        config.setAlgorithm(&quot;PBEWITHHMACSHA512ANDAES_256&quot;);\n        config.setKeyObtentionIterations(&quot;1000&quot;);\n        config.setPoolSize(&quot;1&quot;);\n        config.setProviderName(&quot;SunJCE&quot;);\n         \n        \n        config.setSaltGeneratorClassName(&quot;org.jasypt.salt.RandomSaltGenerator&quot;);\n        config.setIvGeneratorClassName(&quot;org.jasypt.iv.RandomIvGenerator&quot;);\n        config.setStringOutputType(&quot;base64&quot;);\n        encryptor.setConfig(config);\n        return encryptor;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2641127,"reputation":951,"user_id":2284742,"display_name":"amishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684271639,"creation_date":1684271639,"answer_id":76267097,"question_id":74761799,"body_markdown":"I was getting the same error when using `ENC(enc_password)` in properties/yaml file, where \r\n`enc_password`  was generated using \r\n`mvn jasypt:encrypt-value -Djasypt.encryptor.password=password -Djasypt.plugin.value=Master_key`\r\n\r\nI got rid of the errors by using `DEC(password)` in properties/yaml file then running\r\n\r\n    mvn jasypt:encrypt -Djasypt.encryptor.password=Master_Key -Djasypt.plugin.path=&quot;file:src/main/resources/application.properties&quot;\r\n\r\nto replace `DEC(password)` with `ENC(enc_password)`","title":"Jasypt: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String","body":"<p>I was getting the same error when using <code>ENC(enc_password)</code> in properties/yaml file, where\n<code>enc_password</code>  was generated using\n<code>mvn jasypt:encrypt-value -Djasypt.encryptor.password=password -Djasypt.plugin.value=Master_key</code></p>\n<p>I got rid of the errors by using <code>DEC(password)</code> in properties/yaml file then running</p>\n<pre><code>mvn jasypt:encrypt -Djasypt.encryptor.password=Master_Key -Djasypt.plugin.path=&quot;file:src/main/resources/application.properties&quot;\n</code></pre>\n<p>to replace <code>DEC(password)</code> with <code>ENC(enc_password)</code></p>\n"},{"tags":[],"owner":{"account_id":16667059,"reputation":1,"user_id":12045451,"display_name":"CodeGenerator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688366167,"creation_date":1688366167,"answer_id":76602349,"question_id":74761799,"body_markdown":"I currently face the same issue but get rid of it by adding the following:\r\n\r\n`jasypt.encryptor.iv-generator-classname=org.jasypt.iv.NoIvGenerator`\r\n\r\non the property file.\r\nHope this would help you.\r\n\r\n","title":"Jasypt: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String","body":"<p>I currently face the same issue but get rid of it by adding the following:</p>\n<p><code>jasypt.encryptor.iv-generator-classname=org.jasypt.iv.NoIvGenerator</code></p>\n<p>on the property file.\nHope this would help you.</p>\n"},{"tags":[],"owner":{"account_id":24491042,"reputation":9,"user_id":19379640,"display_name":"Gagan Chordia"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699518754,"creation_date":1699518754,"answer_id":77451572,"question_id":74761799,"body_markdown":"The primary purpose of naming a bean like this is for clarity and organization within your application&#39;s configuration. It helps you distinguish one bean from another and makes it easier to reference this specific bean when you need to inject it into other parts of your application. For example, you may need to inject the StringEncryptor bean into services or other components that require encryption or decryption.\r\n\r\n```yml\r\n# application.yml\r\njasypt:\r\n  encryptor:\r\n    bean: jasyptStringEncryptor\r\n    password: your_password\r\n```\r\n\r\n```java\r\n@Configuration\r\npublic class JasyptConfig {\r\n    @Value(&quot;${jasypt.encryptor.password}&quot;)\r\n    private String secretKey;\r\n    \r\n    @Bean(&quot;jasyptStringEncryptor&quot;)\r\n    public StringEncryptor encryptor() {\r\n        // your configuration setup\r\n        return stringEncryptor();\r\n    }\r\n}\r\n```\r\n\r\nIn this configuration, you&#39;re specifying that you want to use the &quot;jasyptStringEncryptor&quot; bean as the encryptor for your application. By naming the bean, you can reference it explicitly in your configuration, making it clear which bean should be used for encryption.","title":"Jasypt: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String","body":"<p>The primary purpose of naming a bean like this is for clarity and organization within your application's configuration. It helps you distinguish one bean from another and makes it easier to reference this specific bean when you need to inject it into other parts of your application. For example, you may need to inject the StringEncryptor bean into services or other components that require encryption or decryption.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># application.yml\njasypt:\n  encryptor:\n    bean: jasyptStringEncryptor\n    password: your_password\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JasyptConfig {\n    @Value(&quot;${jasypt.encryptor.password}&quot;)\n    private String secretKey;\n    \n    @Bean(&quot;jasyptStringEncryptor&quot;)\n    public StringEncryptor encryptor() {\n        // your configuration setup\n        return stringEncryptor();\n    }\n}\n</code></pre>\n<p>In this configuration, you're specifying that you want to use the &quot;jasyptStringEncryptor&quot; bean as the encryptor for your application. By naming the bean, you can reference it explicitly in your configuration, making it clear which bean should be used for encryption.</p>\n"},{"tags":[],"owner":{"account_id":22755702,"reputation":1,"user_id":16915191,"display_name":"seve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700446950,"creation_date":1700050506,"answer_id":77487624,"question_id":74761799,"body_markdown":"I have the same problem, hope you can follow the following ideas to troubleshoot the problem.\r\n\r\n1. First, check whether your encryption and decryption parameters are the same.\r\n    Since jasypt 3.0, the default configuration has changed.\r\n    Here are the relevant parameters\r\n    ```YAML\r\n     jasypt:\r\n      encryptor:\r\n        password: your_pwd\r\n        iv-generator-classname: org.jasypt.iv.RandomIvGenerator\r\n        algorithm: PBEWITHHMACSHA512ANDAES_256\r\n    ```\r\n    If your cipher was generated before the maven dependency was upgraded, try rolling back the jasypt version or use the following parameters:\r\n\r\n    ```YAML\r\n    jasypt:\r\n      encryptor:\r\n        password: your_pwd\r\n        iv-generator-classname: org.jasypt.iv.NoIvGenerator\r\n        algorithm: PBEWithMD5AndDES\r\n    ```\r\n\r\n2.  If changing the above parameters does not work, consider whether you are using the advanced encryption algorithm provided by jasypt.\r\n\r\n    The default algorithm used in jsaypt 3.0 and above is not supported in jdk1.8, you can add [JCE Unlimited Strength Jurisdiction Policy Files](https://www.oracle.com/java/technologies/javase-jce-all-downloads.html) or upgrade JDK version to 1.9+ to use advanced encryption algorithms.\r\n\r\n    \r\n\r\n    **Code to test which algorithms are not supported**\r\n\r\n    ```Java\r\n        @GetMapping(&quot;/jasypt&quot;)\r\n        public String testJasypt() {\r\n            Set&lt;String&gt; supported = new HashSet&lt;&gt;();\r\n            Set&lt;String&gt; unsupported = new HashSet&lt;&gt;();\r\n            for (Object algorithms : AlgorithmRegistry.getAllPBEAlgorithms()) {\r\n                String algo = (String) algorithms;\r\n                try {\r\n                    StandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();\r\n                    encryptor.setAlgorithm(algo);\r\n                    encryptor.setPassword(&quot;kingkong&quot;); \r\n                    encryptor.setIvGenerator(new RandomIvGenerator());\r\n                    String encrypted = encryptor.encrypt(&quot;foo&quot;);\r\n                    String decrypted = encryptor.decrypt(encrypted);\r\n                    AssertUtil.isTrue(StringUtils.equals(decrypted,&quot;foo&quot;),&quot;unSupport&quot;);\r\n                    supported.add(algo);\r\n                } catch (EncryptionOperationNotPossibleException e) {\r\n                    unsupported.add(algo);\r\n                }\r\n            }\r\n    \r\n            return supported + &quot;\\n\\n&quot; + unsupported;\r\n    \r\n        }\r\n    ```\r\n\r\n   **For my test, these algorithms are not supported under jdk8**\r\n\r\n \r\n\r\n  - PBEWITHHMACSHA224ANDAES_256\r\n  - PBEWITHHMACSHA512ANDAES_256\r\n  - PBEWITHHMACSHA256ANDAES_256\r\n  - PBEWITHHMACSHA384ANDAES_256\r\n  - PBEWITHHMACSHA1ANDAES_256\r\n  - PBEWITHMD5ANDTRIPLEDES\r\n\r\n","title":"Jasypt: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String","body":"<p>I have the same problem, hope you can follow the following ideas to troubleshoot the problem.</p>\n<ol>\n<li><p>First, check whether your encryption and decryption parameters are the same.\nSince jasypt 3.0, the default configuration has changed.\nHere are the relevant parameters</p>\n<pre><code> jasypt:\n  encryptor:\n    password: your_pwd\n    iv-generator-classname: org.jasypt.iv.RandomIvGenerator\n    algorithm: PBEWITHHMACSHA512ANDAES_256\n</code></pre>\n<p>If your cipher was generated before the maven dependency was upgraded, try rolling back the jasypt version or use the following parameters:</p>\n<pre><code>jasypt:\n  encryptor:\n    password: your_pwd\n    iv-generator-classname: org.jasypt.iv.NoIvGenerator\n    algorithm: PBEWithMD5AndDES\n</code></pre>\n</li>\n<li><p>If changing the above parameters does not work, consider whether you are using the advanced encryption algorithm provided by jasypt.</p>\n<p>The default algorithm used in jsaypt 3.0 and above is not supported in jdk1.8, you can add <a href=\"https://www.oracle.com/java/technologies/javase-jce-all-downloads.html\" rel=\"nofollow noreferrer\">JCE Unlimited Strength Jurisdiction Policy Files</a> or upgrade JDK version to 1.9+ to use advanced encryption algorithms.</p>\n<p><strong>Code to test which algorithms are not supported</strong></p>\n<pre><code>    @GetMapping(&quot;/jasypt&quot;)\n    public String testJasypt() {\n        Set&lt;String&gt; supported = new HashSet&lt;&gt;();\n        Set&lt;String&gt; unsupported = new HashSet&lt;&gt;();\n        for (Object algorithms : AlgorithmRegistry.getAllPBEAlgorithms()) {\n            String algo = (String) algorithms;\n            try {\n                StandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();\n                encryptor.setAlgorithm(algo);\n                encryptor.setPassword(&quot;kingkong&quot;); \n                encryptor.setIvGenerator(new RandomIvGenerator());\n                String encrypted = encryptor.encrypt(&quot;foo&quot;);\n                String decrypted = encryptor.decrypt(encrypted);\n                AssertUtil.isTrue(StringUtils.equals(decrypted,&quot;foo&quot;),&quot;unSupport&quot;);\n                supported.add(algo);\n            } catch (EncryptionOperationNotPossibleException e) {\n                unsupported.add(algo);\n            }\n        }\n\n        return supported + &quot;\\n\\n&quot; + unsupported;\n\n    }\n</code></pre>\n</li>\n</ol>\n<p><strong>For my test, these algorithms are not supported under jdk8</strong></p>\n<ul>\n<li>PBEWITHHMACSHA224ANDAES_256</li>\n<li>PBEWITHHMACSHA512ANDAES_256</li>\n<li>PBEWITHHMACSHA256ANDAES_256</li>\n<li>PBEWITHHMACSHA384ANDAES_256</li>\n<li>PBEWITHHMACSHA1ANDAES_256</li>\n<li>PBEWITHMD5ANDTRIPLEDES</li>\n</ul>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8594,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1700446950,"creation_date":1670770124,"question_id":74761799,"body_markdown":"I am using Jasypt in my Spring Boot app and encrypted passwords in app properties and docker-compose using proper annotation:\r\n\r\n***application.properties.yml:***\r\n\r\n```\r\ndatasource:\r\n  driver-class-name: org.postgresql.Driver\r\n  url: jdbc:postgresql://localhost:5432/employee_db\r\n  username: postgres\r\n  password: ENC(fpEVpMwMbl4hbcoCKuhrpi...)\r\n\r\n\r\n# jasypt\r\njasypt:\r\n  encryptor:\r\n    algorithm: PBEWithMD5AndDES\r\n    iv-generator-classname: org.jasypt.iv.NoIvGenerator\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***docker-compose.yml:***\r\n\r\n```\r\nservices:\r\n  db:\r\n    image: postgres:14.6-alpine\r\n    environment:\r\n      POSTGRES_DB: employee_db\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: ENC(fpEVpMwMbl4hbcoCKuhrpi...)\r\n```\r\n\r\nAfter creating Docker image for database (db container), I add the VM options to IntelliJ and start the app. But I got the following error and cannot find a solution for that:\r\n\r\n&gt; Description: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String:\r\n\r\n&gt; Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String\r\n\r\n&gt; Action: Update your application&#39;s configuration\r\n\r\nAny idea to solve the problem?\r\n\r\nHere is the full log:\r\n\r\n```\r\nC:\\Users\\simpson\\.jdks\\corretto-17.0.5\\bin\\java.exe -Djasypt.encryptor.password=abnamro -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.1\\lib\\idea_rt.jar=53749:\r\nC:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;D:\\employee-api\\target\\classes;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\2.7.5\\spring-boot-starter-data-jpa-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\2.7.5\\spring-boot-starter-aop-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.23\\spring-aop-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.7\\aspectjweaver-1.9.7.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\2.7.5\\spring-boot-starter-jdbc-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\com\\zaxxer\\HikariCP\\4.0.3\\HikariCP-4.0.3.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-jdbc\\5.3.23\\spring-jdbc-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\1.3.3\\jakarta.transaction-api-1.3.3.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\2.2.3\\jakarta.persistence-api-2.2.3.jar;C:\\Users\\simpson\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.6.12.Final\\hibernate-core-5.6.12.Final.jar;C:\\Users\\simpson\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.3.Final\\jboss-logging-3.4.3.Final.jar;C:\\Users\\simpson\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.18\\byte-buddy-1.12.18.jar;C:\\Users\\simpson\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\simpson\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\simpson\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.2.Final\\hibernate-commons-annotations-5.1.2.Final.jar;C:\\Users\\simpson\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.7\\jaxb-runtime-2.3.7.jar;C:\\Users\\simpson\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.7\\txw2-2.3.7.jar;C:\\Users\\simpson\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.12\\istack-commons-runtime-3.0.12.jar;C:\\Users\\simpson\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\2.7.5\\spring-data-jpa-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\2.7.5\\spring-data-commons-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-orm\\5.3.23\\spring-orm-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-context\\5.3.23\\spring-context-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-tx\\5.3.23\\spring-tx-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.23\\spring-beans-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-aspects\\5.3.23\\spring-aspects-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.7.5\\spring-boot-starter-web-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.7.5\\spring-boot-starter-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.7.5\\spring-boot-starter-logging-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.11\\logback-classic-1.2.11.jar;C:\\Users\\simpsson\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.11\\logback-core-1.2.11.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.17.2\\log4j-to-slf4j-2.17.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.17.2\\log4j-api-2.17.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.36\\jul-to-slf4j-1.7.36.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\yaml\\snakeyaml\\1.30\\snakeyaml-1.30.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.7.5\\spring-boot-starter-json-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.4.2\\jackson-databind-2.13.4.2.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.4\\jackson-annotations-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.4\\jackson-datatype-jdk8-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.4\\jackson-datatype-jsr310-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.4\\jackson-module-parameter-names-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.7.5\\spring-boot-starter-tomcat-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.68\\tomcat-embed-core-9.0.68.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.68\\tomcat-embed-websocket-9.0.68.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-web\\5.3.23\\spring-web-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.23\\spring-webmvc-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.23\\spring-expression-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\3.0.0\\spring-boot-starter-validation-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.68\\tomcat-embed-el-9.0.68.jar;C:\\Users\\simpson\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\6.2.5.Final\\hibernate-validator-6.2.5.Final.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\2.0.2\\jakarta.validation-api-2.0.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-devtools\\2.7.5\\spring-boot-devtools-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.7.5\\spring-boot-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.7.5\\spring-boot-autoconfigure-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.24\\lombok-1.18.24.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-boot-starter\\3.0.0\\springfox-boot-starter-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-oas\\3.0.0\\springfox-oas-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\swagger\\core\\v3\\swagger-annotations\\2.1.2\\swagger-annotations-2.1.2.jar;C:\\Users\\simpson\\.m2\\repository\\io\\swagger\\core\\v3\\swagger-models\\2.1.2\\swagger-models-2.1.2.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-spi\\3.0.0\\springfox-spi-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-schema\\3.0.0\\springfox-schema-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-core\\3.0.0\\springfox-core-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-spring-web\\3.0.0\\springfox-spring-web-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\github\\classgraph\\classgraph\\4.8.83\\classgraph-4.8.83.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-spring-webmvc\\3.0.0\\springfox-spring-webmvc-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-spring-webflux\\3.0.0\\springfox-spring-webflux-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-swagger-common\\3.0.0\\springfox-swagger-common-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\org\\mapstruct\\mapstruct\\1.3.1.Final\\mapstruct-1.3.1.Final.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-data-rest\\3.0.0\\springfox-data-rest-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-bean-validators\\3.0.0\\springfox-bean-validators-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-swagger2\\3.0.0\\springfox-swagger2-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\swagger\\swagger-annotations\\1.5.20\\swagger-annotations-1.5.20.jar;C:\\Users\\simpson\\.m2\\repository\\io\\swagger\\swagger-models\\1.5.20\\swagger-models-1.5.20.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-swagger-ui\\3.0.0\\springfox-swagger-ui-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\simpson\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.36\\slf4j-api-1.7.36.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\plugin\\spring-plugin-core\\2.0.0.RELEASE\\spring-plugin-core-2.0.0.RELEASE.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\plugin\\spring-plugin-metadata\\2.0.0.RELEASE\\spring-plugin-metadata-2.0.0.RELEASE.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\commons\\commons-text\\1.10.0\\commons-text-1.10.0.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.12.0\\commons-lang3-3.12.0.jar;C:\\Users\\simpson\\.m2\\repository\\com\\github\\ulisesbocchio\\jasypt-spring-boot-starter\\3.0.3\\jasypt-spring-boot-starter-3.0.3.jar;C:\\Users\\simpson\\.m2\\repository\\com\\github\\ulisesbocchio\\jasypt-spring-boot\\3.0.3\\jasypt-spring-boot-3.0.3.jar;C:\\Users\\simpson\\.m2\\repository\\org\\jasypt\\jasypt\\1.9.3\\jasypt-1.9.3.jar;C:\\Users\\simpson\\.m2\\repository\\org\\flywaydb\\flyway-core\\9.8.3\\flyway-core-9.8.3.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\dataformat\\jackson-dataformat-toml\\2.13.4\\jackson-dataformat-toml-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.4\\jackson-core-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\org\\postgresql\\postgresql\\42.5.1\\postgresql-42.5.1.jar;C:\\Users\\simpson\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.5.0\\checker-qual-3.5.0.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\2.3.3\\jakarta.xml.bind-api-2.3.3.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\1.2.2\\jakarta.activation-api-1.2.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-core\\5.3.23\\spring-core-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.23\\spring-jcl-5.3.23.jar&quot; com.demo.EmployeeApiApplication\r\n19:35:35.056 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4a79e7d6\r\n2022-12-10 19:35:35,468 INFO  com.demo.EmployeeApiApplication : Starting EmployeeApiApplication using Java 17.0.5 on DESKTOP-1J43AAP with PID 27224 (D:\\Archive\\_HR\\Applications\\Interview\\ABN Amro\\assignment\\solution\\employee-api\\target\\classes started by simpson in D:\\Archive\\_HR\\Applications\\Interview\\ABN Amro\\assignment\\solution\\employee-api)\r\n2022-12-10 19:35:35,468 DEBUG com.demo.EmployeeApiApplication : Running with Spring Boot v2.7.5, Spring v5.3.23\r\n2022-12-10 19:35:35,469 INFO  com.demo.EmployeeApiApplication : The following 1 profile is active: &quot;production&quot;\r\n2022-12-10 19:35:36,533 INFO  com.ulisesbocchio.jasyptspringboot.configuration.EnableEncryptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances\r\n2022-12-10 19:35:36,549 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy\r\n2022-12-10 19:35:36,550 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource servletConfigInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper\r\n2022-12-10 19:35:36,550 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper\r\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper\r\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper\r\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper\r\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource Config resource &#39;class path resource [application.yml]&#39; via location &#39;optional:classpath:/&#39; [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper\r\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource devtools [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper\r\n2022-12-10 19:35:36,579 INFO  com.ulisesbocchio.jasyptspringboot.filter.DefaultLazyPropertyFilter : Property Filter custom Bean not found with name &#39;encryptablePropertyFilter&#39;. Initializing Default Property Filter\r\n2022-12-10 19:35:36,703 INFO  com.ulisesbocchio.jasyptspringboot.resolver.DefaultLazyPropertyResolver : Property Resolver custom Bean not found with name &#39;encryptablePropertyResolver&#39;. Initializing Default Property Resolver\r\n2022-12-10 19:35:36,704 INFO  com.ulisesbocchio.jasyptspringboot.detector.DefaultLazyPropertyDetector : Property Detector custom Bean not found with name &#39;encryptablePropertyDetector&#39;. Initializing Default Property Detector\r\n2022-12-10 19:35:36,923 INFO  org.apache.catalina.core.StandardService : Starting service [Tomcat]\r\n2022-12-10 19:35:36,923 INFO  org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n2022-12-10 19:35:36,979 INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext\r\n2022-12-10 19:35:37,053 INFO  com.ulisesbocchio.jasyptspringboot.encryptor.DefaultLazyEncryptor : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@220275ac with name: jasyptStringEncryptor\r\n2022-12-10 19:35:37,082 INFO  org.apache.catalina.core.StandardService : Stopping service [Tomcat]\r\n2022-12-10 19:35:37,114 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String:\r\n\r\n    Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String\r\n\r\nAction:\r\n\r\nUpdate your application&#39;s configuration\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nI run the project using IntelliJ IDEA by selecting `Run` -\\&gt; `Edit Configurations `and in the `Build and run` section, add the following value to the VM options field and run the application: `-Djasypt.encryptor.password=my-secret`","title":"Jasypt: Failed to bind properties under &#39;spring.datasource.password&#39; to java.lang.String","body":"<p>I am using Jasypt in my Spring Boot app and encrypted passwords in app properties and docker-compose using proper annotation:</p>\n<p><em><strong>application.properties.yml:</strong></em></p>\n<pre><code>datasource:\n  driver-class-name: org.postgresql.Driver\n  url: jdbc:postgresql://localhost:5432/employee_db\n  username: postgres\n  password: ENC(fpEVpMwMbl4hbcoCKuhrpi...)\n\n\n# jasypt\njasypt:\n  encryptor:\n    algorithm: PBEWithMD5AndDES\n    iv-generator-classname: org.jasypt.iv.NoIvGenerator\n</code></pre>\n<br/>\n<p><em><strong>docker-compose.yml:</strong></em></p>\n<pre><code>services:\n  db:\n    image: postgres:14.6-alpine\n    environment:\n      POSTGRES_DB: employee_db\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: ENC(fpEVpMwMbl4hbcoCKuhrpi...)\n</code></pre>\n<p>After creating Docker image for database (db container), I add the VM options to IntelliJ and start the app. But I got the following error and cannot find a solution for that:</p>\n<blockquote>\n<p>Description: Failed to bind properties under 'spring.datasource.password' to java.lang.String:</p>\n</blockquote>\n<blockquote>\n<p>Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'spring.datasource.password' to java.lang.String</p>\n</blockquote>\n<blockquote>\n<p>Action: Update your application's configuration</p>\n</blockquote>\n<p>Any idea to solve the problem?</p>\n<p>Here is the full log:</p>\n<pre><code>C:\\Users\\simpson\\.jdks\\corretto-17.0.5\\bin\\java.exe -Djasypt.encryptor.password=abnamro -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.1\\lib\\idea_rt.jar=53749:\nC:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;D:\\employee-api\\target\\classes;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\2.7.5\\spring-boot-starter-data-jpa-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\2.7.5\\spring-boot-starter-aop-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.23\\spring-aop-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.7\\aspectjweaver-1.9.7.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\2.7.5\\spring-boot-starter-jdbc-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\com\\zaxxer\\HikariCP\\4.0.3\\HikariCP-4.0.3.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-jdbc\\5.3.23\\spring-jdbc-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\1.3.3\\jakarta.transaction-api-1.3.3.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\2.2.3\\jakarta.persistence-api-2.2.3.jar;C:\\Users\\simpson\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.6.12.Final\\hibernate-core-5.6.12.Final.jar;C:\\Users\\simpson\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.3.Final\\jboss-logging-3.4.3.Final.jar;C:\\Users\\simpson\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.18\\byte-buddy-1.12.18.jar;C:\\Users\\simpson\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\simpson\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\simpson\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.2.Final\\hibernate-commons-annotations-5.1.2.Final.jar;C:\\Users\\simpson\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.7\\jaxb-runtime-2.3.7.jar;C:\\Users\\simpson\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.7\\txw2-2.3.7.jar;C:\\Users\\simpson\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.12\\istack-commons-runtime-3.0.12.jar;C:\\Users\\simpson\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\2.7.5\\spring-data-jpa-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\2.7.5\\spring-data-commons-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-orm\\5.3.23\\spring-orm-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-context\\5.3.23\\spring-context-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-tx\\5.3.23\\spring-tx-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.23\\spring-beans-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-aspects\\5.3.23\\spring-aspects-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.7.5\\spring-boot-starter-web-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.7.5\\spring-boot-starter-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.7.5\\spring-boot-starter-logging-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.11\\logback-classic-1.2.11.jar;C:\\Users\\simpsson\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.11\\logback-core-1.2.11.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.17.2\\log4j-to-slf4j-2.17.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.17.2\\log4j-api-2.17.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.36\\jul-to-slf4j-1.7.36.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\yaml\\snakeyaml\\1.30\\snakeyaml-1.30.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.7.5\\spring-boot-starter-json-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.4.2\\jackson-databind-2.13.4.2.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.4\\jackson-annotations-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.4\\jackson-datatype-jdk8-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.4\\jackson-datatype-jsr310-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.4\\jackson-module-parameter-names-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.7.5\\spring-boot-starter-tomcat-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.68\\tomcat-embed-core-9.0.68.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.68\\tomcat-embed-websocket-9.0.68.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-web\\5.3.23\\spring-web-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.23\\spring-webmvc-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.23\\spring-expression-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\3.0.0\\spring-boot-starter-validation-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.68\\tomcat-embed-el-9.0.68.jar;C:\\Users\\simpson\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\6.2.5.Final\\hibernate-validator-6.2.5.Final.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\2.0.2\\jakarta.validation-api-2.0.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-devtools\\2.7.5\\spring-boot-devtools-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.7.5\\spring-boot-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.7.5\\spring-boot-autoconfigure-2.7.5.jar;C:\\Users\\simpson\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.24\\lombok-1.18.24.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-boot-starter\\3.0.0\\springfox-boot-starter-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-oas\\3.0.0\\springfox-oas-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\swagger\\core\\v3\\swagger-annotations\\2.1.2\\swagger-annotations-2.1.2.jar;C:\\Users\\simpson\\.m2\\repository\\io\\swagger\\core\\v3\\swagger-models\\2.1.2\\swagger-models-2.1.2.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-spi\\3.0.0\\springfox-spi-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-schema\\3.0.0\\springfox-schema-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-core\\3.0.0\\springfox-core-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-spring-web\\3.0.0\\springfox-spring-web-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\github\\classgraph\\classgraph\\4.8.83\\classgraph-4.8.83.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-spring-webmvc\\3.0.0\\springfox-spring-webmvc-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-spring-webflux\\3.0.0\\springfox-spring-webflux-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-swagger-common\\3.0.0\\springfox-swagger-common-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\org\\mapstruct\\mapstruct\\1.3.1.Final\\mapstruct-1.3.1.Final.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-data-rest\\3.0.0\\springfox-data-rest-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-bean-validators\\3.0.0\\springfox-bean-validators-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-swagger2\\3.0.0\\springfox-swagger2-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\io\\swagger\\swagger-annotations\\1.5.20\\swagger-annotations-1.5.20.jar;C:\\Users\\simpson\\.m2\\repository\\io\\swagger\\swagger-models\\1.5.20\\swagger-models-1.5.20.jar;C:\\Users\\simpson\\.m2\\repository\\io\\springfox\\springfox-swagger-ui\\3.0.0\\springfox-swagger-ui-3.0.0.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\simpson\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.36\\slf4j-api-1.7.36.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\plugin\\spring-plugin-core\\2.0.0.RELEASE\\spring-plugin-core-2.0.0.RELEASE.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\plugin\\spring-plugin-metadata\\2.0.0.RELEASE\\spring-plugin-metadata-2.0.0.RELEASE.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\commons\\commons-text\\1.10.0\\commons-text-1.10.0.jar;C:\\Users\\simpson\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.12.0\\commons-lang3-3.12.0.jar;C:\\Users\\simpson\\.m2\\repository\\com\\github\\ulisesbocchio\\jasypt-spring-boot-starter\\3.0.3\\jasypt-spring-boot-starter-3.0.3.jar;C:\\Users\\simpson\\.m2\\repository\\com\\github\\ulisesbocchio\\jasypt-spring-boot\\3.0.3\\jasypt-spring-boot-3.0.3.jar;C:\\Users\\simpson\\.m2\\repository\\org\\jasypt\\jasypt\\1.9.3\\jasypt-1.9.3.jar;C:\\Users\\simpson\\.m2\\repository\\org\\flywaydb\\flyway-core\\9.8.3\\flyway-core-9.8.3.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\dataformat\\jackson-dataformat-toml\\2.13.4\\jackson-dataformat-toml-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.4\\jackson-core-2.13.4.jar;C:\\Users\\simpson\\.m2\\repository\\org\\postgresql\\postgresql\\42.5.1\\postgresql-42.5.1.jar;C:\\Users\\simpson\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.5.0\\checker-qual-3.5.0.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\2.3.3\\jakarta.xml.bind-api-2.3.3.jar;C:\\Users\\simpson\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\1.2.2\\jakarta.activation-api-1.2.2.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-core\\5.3.23\\spring-core-5.3.23.jar;C:\\Users\\simpson\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.23\\spring-jcl-5.3.23.jar&quot; com.demo.EmployeeApiApplication\n19:35:35.056 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4a79e7d6\n2022-12-10 19:35:35,468 INFO  com.demo.EmployeeApiApplication : Starting EmployeeApiApplication using Java 17.0.5 on DESKTOP-1J43AAP with PID 27224 (D:\\Archive\\_HR\\Applications\\Interview\\ABN Amro\\assignment\\solution\\employee-api\\target\\classes started by simpson in D:\\Archive\\_HR\\Applications\\Interview\\ABN Amro\\assignment\\solution\\employee-api)\n2022-12-10 19:35:35,468 DEBUG com.demo.EmployeeApiApplication : Running with Spring Boot v2.7.5, Spring v5.3.23\n2022-12-10 19:35:35,469 INFO  com.demo.EmployeeApiApplication : The following 1 profile is active: &quot;production&quot;\n2022-12-10 19:35:36,533 INFO  com.ulisesbocchio.jasyptspringboot.configuration.EnableEncryptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances\n2022-12-10 19:35:36,549 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy\n2022-12-10 19:35:36,550 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource servletConfigInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper\n2022-12-10 19:35:36,550 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper\n2022-12-10 19:35:36,551 INFO  com.ulisesbocchio.jasyptspringboot.EncryptablePropertySourceConverter : Converting PropertySource devtools [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper\n2022-12-10 19:35:36,579 INFO  com.ulisesbocchio.jasyptspringboot.filter.DefaultLazyPropertyFilter : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter\n2022-12-10 19:35:36,703 INFO  com.ulisesbocchio.jasyptspringboot.resolver.DefaultLazyPropertyResolver : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver\n2022-12-10 19:35:36,704 INFO  com.ulisesbocchio.jasyptspringboot.detector.DefaultLazyPropertyDetector : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector\n2022-12-10 19:35:36,923 INFO  org.apache.catalina.core.StandardService : Starting service [Tomcat]\n2022-12-10 19:35:36,923 INFO  org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.68]\n2022-12-10 19:35:36,979 INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext\n2022-12-10 19:35:37,053 INFO  com.ulisesbocchio.jasyptspringboot.encryptor.DefaultLazyEncryptor : Found Custom Encryptor Bean org.jasypt.encryption.pbe.PooledPBEStringEncryptor@220275ac with name: jasyptStringEncryptor\n2022-12-10 19:35:37,082 INFO  org.apache.catalina.core.StandardService : Stopping service [Tomcat]\n2022-12-10 19:35:37,114 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to bind properties under 'spring.datasource.password' to java.lang.String:\n\n    Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'spring.datasource.password' to java.lang.String\n\nAction:\n\nUpdate your application's configuration\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>I run the project using IntelliJ IDEA by selecting <code>Run</code> -&gt; <code>Edit Configurations </code>and in the <code>Build and run</code> section, add the following value to the VM options field and run the application: <code>-Djasypt.encryptor.password=my-secret</code></p>\n"},{"tags":["java","kubernetes","fabric8-kubernetes-client"],"answers":[{"tags":[],"owner":{"account_id":15000286,"reputation":11,"user_id":10828175,"display_name":"yangbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700445466,"creation_date":1700445466,"answer_id":77513173,"question_id":74705224,"body_markdown":"Is the pod has permission to access k8s cluster?\r\nIf not, you should grant permissions to pod&#39;s ServiceAccount.\r\n\r\nhttps://kubernetes.io/docs/concepts/security/service-accounts/#assign-to-pod\r\n\r\nhttps://kubernetes.io/docs/reference/access-authn-authz/rbac/#service-account-permissions\r\n","title":"Java fabric8 kubernetes client to get the name of the deployed kubernetes pod&#39;s cluster","body":"<p>Is the pod has permission to access k8s cluster?\nIf not, you should grant permissions to pod's ServiceAccount.</p>\n<p><a href=\"https://kubernetes.io/docs/concepts/security/service-accounts/#assign-to-pod\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/security/service-accounts/#assign-to-pod</a></p>\n<p><a href=\"https://kubernetes.io/docs/reference/access-authn-authz/rbac/#service-account-permissions\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/reference/access-authn-authz/rbac/#service-account-permissions</a></p>\n"}],"owner":{"account_id":27008718,"reputation":11,"user_id":20568742,"display_name":"consistent-goose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700445466,"creation_date":1670341123,"question_id":74705224,"body_markdown":"I want to use fabric8 kubernetes client (java) inside a pod to obtain the cluster it is deployed on. \r\n\r\nCurrently, I can obtain the context using:\r\n```\r\nKubernetesClient client = new DefaultKubernetesClient();\r\nreturn client.getConfiguration();\r\n```\r\nWhen running locally, I can see the current kubernetes context. However, when it is run on the deployed pod, I am unable to see the kubernetes context. \r\n\r\nWhy is it not working on the deployed pod? How can I detect the kubernetes cluster the pod is deployed on?\r\n","title":"Java fabric8 kubernetes client to get the name of the deployed kubernetes pod&#39;s cluster","body":"<p>I want to use fabric8 kubernetes client (java) inside a pod to obtain the cluster it is deployed on.</p>\n<p>Currently, I can obtain the context using:</p>\n<pre><code>KubernetesClient client = new DefaultKubernetesClient();\nreturn client.getConfiguration();\n</code></pre>\n<p>When running locally, I can see the current kubernetes context. However, when it is run on the deployed pod, I am unable to see the kubernetes context.</p>\n<p>Why is it not working on the deployed pod? How can I detect the kubernetes cluster the pod is deployed on?</p>\n"},{"tags":["java","android","types"],"comments":[{"owner":{"account_id":252532,"reputation":11548,"user_id":530634,"accept_rate":74,"display_name":"tjb"},"score":0,"creation_date":1319887001,"post_id":6474576,"comment_id":9699661,"body_markdown":"Another difference in addition to the ones mentioned below is that null cannot be assigned to a primitive type","body":"Another difference in addition to the ones mentioned below is that null cannot be assigned to a primitive type"},{"owner":{"account_id":252532,"reputation":11548,"user_id":530634,"accept_rate":74,"display_name":"tjb"},"score":0,"creation_date":1333092251,"post_id":6474576,"comment_id":12688685,"body_markdown":"Yet Another difference is that Object can be cast to a reference type i.e. Float, but not to a primitive (float)","body":"Yet Another difference is that Object can be cast to a reference type i.e. Float, but not to a primitive (float)"}],"answers":[{"tags":[],"owner":{"account_id":116262,"reputation":1930,"user_id":304926,"accept_rate":50,"display_name":"eggie5"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1700445450,"creation_date":1308956560,"answer_id":6474590,"question_id":6474576,"body_markdown":"Short answer: An `int` is a number; an `Integer` is a pointer that can reference an object that contains a number. Using `Integer` for arithmetic involves more CPU cycles and consumes more memory. An `int` is not an object and cannot be passed to any method that requires objects (just like what you said about Generics).","title":"Java Primitive Types: int vs. Integer","body":"<p>Short answer: An <code>int</code> is a number; an <code>Integer</code> is a pointer that can reference an object that contains a number. Using <code>Integer</code> for arithmetic involves more CPU cycles and consumes more memory. An <code>int</code> is not an object and cannot be passed to any method that requires objects (just like what you said about Generics).</p>\n"},{"tags":[],"owner":{"account_id":24285,"reputation":32181,"user_id":61663,"accept_rate":92,"display_name":"Jack Edmonds"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308956629,"creation_date":1308956629,"answer_id":6474595,"question_id":6474576,"body_markdown":"There is a slight penalty for converting between the types ([autoboxing][1]).  Also `int` will have a bit less overhead so I would always go with `int` if you can.\r\n\r\nAlso see this question: [When to use primitive and when reference types in Java][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html\r\n  [2]: https://stackoverflow.com/questions/2509025/when-to-use-primitive-and-when-reference-types-in-java","title":"Java Primitive Types: int vs. Integer","body":"<p>There is a slight penalty for converting between the types (<a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html\" rel=\"nofollow noreferrer\">autoboxing</a>).  Also <code>int</code> will have a bit less overhead so I would always go with <code>int</code> if you can.</p>\n\n<p>Also see this question: <a href=\"https://stackoverflow.com/questions/2509025/when-to-use-primitive-and-when-reference-types-in-java\">When to use primitive and when reference types in Java</a></p>\n"},{"tags":[],"owner":{"account_id":238725,"reputation":7721,"user_id":507803,"accept_rate":50,"display_name":"Heatsink"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1308956701,"creation_date":1308956701,"answer_id":6474600,"question_id":6474576,"body_markdown":"Non-primitive types are objects.  They have to be dynamically allocated, garbage collected, and checked for null-ness (although some of these operations may get removed by an optimizing compiler).  Reading their actual value requires loading from a pointer.  Primitive types are values.  They generally take up less space and are faster to access.\r\n\r\nA good rule of thumb is, use primitive types _unless_ you need polymorphism, in which case use the corresponding object.","title":"Java Primitive Types: int vs. Integer","body":"<p>Non-primitive types are objects.  They have to be dynamically allocated, garbage collected, and checked for null-ness (although some of these operations may get removed by an optimizing compiler).  Reading their actual value requires loading from a pointer.  Primitive types are values.  They generally take up less space and are faster to access.</p>\n\n<p>A good rule of thumb is, use primitive types <em>unless</em> you need polymorphism, in which case use the corresponding object.</p>\n"},{"tags":[],"owner":{"account_id":96415,"reputation":1902,"user_id":262067,"display_name":"mkro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308957067,"creation_date":1308957067,"answer_id":6474631,"question_id":6474576,"body_markdown":"My view: Using Integer as parameters or return values allows one thing that primitive ints don&#39;t allow: Using `null`. But is this a good idea? I think it rarely ever is.\r\n\r\nAs far as performance is concerned: The compiler will optimize your code to some degree, so that is most of the time not a real concern.","title":"Java Primitive Types: int vs. Integer","body":"<p>My view: Using Integer as parameters or return values allows one thing that primitive ints don't allow: Using <code>null</code>. But is this a good idea? I think it rarely ever is.</p>\n\n<p>As far as performance is concerned: The compiler will optimize your code to some degree, so that is most of the time not a real concern.</p>\n"},{"tags":[],"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308958068,"creation_date":1308958068,"answer_id":6474732,"question_id":6474576,"body_markdown":"As an OO purist, you would likely shun the primitives altogether and damn the performance costs and lack of postfix operators. (Yes, there is a performance cost.)  You may also adopt this approach simply from extensibility considerations as a designer (without necessarily being hung up on purity.)\r\n\r\nAs a practical matter (outside of theoretical and aesthetic questions), use the primitives everywhere you can and use the object version where you can&#39;t use primitives.  (You already mentioned one such case.  The language and APIs will drive this decision.)\r\n\r\nAs a performance freak, you would likely shun the object versions and you may not really care too deeply if you step on a few OO golden rules and sacrosanct no-goes: performance is king and you make your decisions accordingly.\r\n\r\nI&#39;d recommend option 2 as a good place to start until you develop your own dogmatic preferences! :)","title":"Java Primitive Types: int vs. Integer","body":"<p>As an OO purist, you would likely shun the primitives altogether and damn the performance costs and lack of postfix operators. (Yes, there is a performance cost.)  You may also adopt this approach simply from extensibility considerations as a designer (without necessarily being hung up on purity.)</p>\n\n<p>As a practical matter (outside of theoretical and aesthetic questions), use the primitives everywhere you can and use the object version where you can't use primitives.  (You already mentioned one such case.  The language and APIs will drive this decision.)</p>\n\n<p>As a performance freak, you would likely shun the object versions and you may not really care too deeply if you step on a few OO golden rules and sacrosanct no-goes: performance is king and you make your decisions accordingly.</p>\n\n<p>I'd recommend option 2 as a good place to start until you develop your own dogmatic preferences! :)</p>\n"},{"tags":[],"owner":{"account_id":8941709,"reputation":93,"user_id":6670496,"display_name":"Arshak Manukyan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552834257,"creation_date":1552831069,"answer_id":55207824,"question_id":6474576,"body_markdown":"In Java, `int` is a primitive data type, while `Integer` is a Wrapper class.\r\n\r\n`int`, being a primitive data type has less flexibility. We can only store the binary value of an integer in it.\r\nSince `Integer` is a wrapper class for `int` data type, it gives us more flexibility in storing, converting and manipulating integer data.\r\n`Integer` is a class and thus it can call various in-built methods defined in the `class`. Variables of type `Integer` store references to `Integer` objects, just as with any other reference (object) type.\r\n\r\nYou can find a more detailed explanation [here][1].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/difference-between-an-integer-and-int-in-java/","title":"Java Primitive Types: int vs. Integer","body":"<p>In Java, <code>int</code> is a primitive data type, while <code>Integer</code> is a Wrapper class.</p>\n\n<p><code>int</code>, being a primitive data type has less flexibility. We can only store the binary value of an integer in it.\nSince <code>Integer</code> is a wrapper class for <code>int</code> data type, it gives us more flexibility in storing, converting and manipulating integer data.\n<code>Integer</code> is a class and thus it can call various in-built methods defined in the <code>class</code>. Variables of type <code>Integer</code> store references to <code>Integer</code> objects, just as with any other reference (object) type.</p>\n\n<p>You can find a more detailed explanation <a href=\"https://www.geeksforgeeks.org/difference-between-an-integer-and-int-in-java/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":252532,"reputation":11548,"user_id":530634,"accept_rate":74,"display_name":"tjb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16679,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":6474590,"answer_count":6,"score":19,"last_activity_date":1700445450,"creation_date":1308956356,"question_id":6474576,"body_markdown":"I am confused about when to use primitive vs. non-primitive(?) types (i.e. int vs. Integer) in Java. I realize that in some places you can&#39;t use primitive types (for example when making use of  [generics][1]). But what about in &quot;normal&quot; code? Is there a performance penalty for using non-primitive types? What about when working with Android?\r\n\r\n***My question is very similar to this [question][2], which was discovered by one of the posters below. The answers to the linked question give additional insights into this question, which are not covered below.\r\n\r\n*** &quot;non-primitive&quot; types are officially referred to as reference types.\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/extra/generics/simple.html\r\n  [2]: https://stackoverflow.com/questions/2509025/when-to-use-primitive-and-when-reference-types-in-java","title":"Java Primitive Types: int vs. Integer","body":"<p>I am confused about when to use primitive vs. non-primitive(?) types (i.e. int vs. Integer) in Java. I realize that in some places you can't use primitive types (for example when making use of  <a href=\"http://download.oracle.com/javase/tutorial/extra/generics/simple.html\" rel=\"nofollow noreferrer\">generics</a>). But what about in \"normal\" code? Is there a performance penalty for using non-primitive types? What about when working with Android?</p>\n\n<p>***My question is very similar to this <a href=\"https://stackoverflow.com/questions/2509025/when-to-use-primitive-and-when-reference-types-in-java\">question</a>, which was discovered by one of the posters below. The answers to the linked question give additional insights into this question, which are not covered below.</p>\n\n<p>*** \"non-primitive\" types are officially referred to as reference types.</p>\n"},{"tags":["java","arraylist","selection-sort"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700343326,"post_id":77508745,"comment_id":136643699,"body_markdown":"Please provide the code that initialises your array with sample data, and where the call is made to your sort function, and the result is output. Explain how the output is not how you expected it.","body":"Please provide the code that initialises your array with sample data, and where the call is made to your sort function, and the result is output. Explain how the output is not how you expected it."},{"owner":{"account_id":29418066,"reputation":13,"user_id":22815991,"display_name":"Dylan Warcholik"},"score":0,"creation_date":1700344235,"post_id":77508745,"comment_id":136643767,"body_markdown":"@trincot I have updated my post based on your question request","body":"@trincot I have updated my post based on your question request"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700344702,"post_id":77508745,"comment_id":136643810,"body_markdown":"We should be able to run the code and reproduce the issue. Please provide a runnable example. Realise that community members usually don&#39;t have the patience to piece things together, create an input file, fill in the missing pieces and hopefully get something running and see the problem occurring.","body":"We should be able to run the code and reproduce the issue. Please provide a runnable example. Realise that community members usually don&#39;t have the patience to piece things together, create an input file, fill in the missing pieces and hopefully get something running and see the problem occurring."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700344767,"post_id":77508745,"comment_id":136643817,"body_markdown":"Will the problem occur with the example data you&#39;ve shown us? If not, are you able to show a small example of data where the problem does occur?","body":"Will the problem occur with the example data you&#39;ve shown us? If not, are you able to show a small example of data where the problem does occur?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700344916,"post_id":77508745,"comment_id":136643827,"body_markdown":"By the way, have you stepped through the code with a debugger, stepping through the code while monitoring the values of variables?","body":"By the way, have you stepped through the code with a debugger, stepping through the code while monitoring the values of variables?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700346553,"post_id":77508745,"comment_id":136643952,"body_markdown":"your data seems not to have any comma, but code is splitting using `&quot;\\\\,&quot;` (escaping is not needed for comma AFAIK) - always best to post a [mre] and an example of which data is not being sorted correctly, including the wrong result... (at least posted data, assuming correctly split, is being correctly sorted IMHO)","body":"your data seems not to have any comma, but code is splitting using <code>&quot;\\\\,&quot;</code> (escaping is not needed for comma AFAIK) - always best to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and an example of which data is not being sorted correctly, including the wrong result... (at least posted data, assuming correctly split, is being correctly sorted IMHO)"},{"owner":{"account_id":29418066,"reputation":13,"user_id":22815991,"display_name":"Dylan Warcholik"},"score":0,"creation_date":1700347339,"post_id":77508745,"comment_id":136644051,"body_markdown":"@user85421 the output was readable, however the AL was not organized in alphabetical order by country like I had intended. I ran a smaller example and it worked just fine, however. I am currently working with the solution provided by Eritrean, but will likely still go back and try to fix the Selection Sort method. I now believe there may be something I am missing with the more complex data that I am using, some detail that I am missing.","body":"@user85421 the output was readable, however the AL was not organized in alphabetical order by country like I had intended. I ran a smaller example and it worked just fine, however. I am currently working with the solution provided by Eritrean, but will likely still go back and try to fix the Selection Sort method. I now believe there may be something I am missing with the more complex data that I am using, some detail that I am missing."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700348944,"post_id":77508745,"comment_id":136644160,"body_markdown":"I, like @user85421, was suspecting the problem might be in the data, not your code. But, you got an answer that showed how to use Java&#39;s `List#sort` method, and the error did not occur. That is evidence the problem is with your code, not the data. Although the answer fixes the sort, it doesn&#39;t explain where is the original problem. I hope you will continue to explore this problem.","body":"I, like @user85421, was suspecting the problem might be in the data, not your code. But, you got an answer that showed how to use Java&#39;s <code>List#sort</code> method, and the error did not occur. That is evidence the problem is with your code, not the data. Although the answer fixes the sort, it doesn&#39;t explain where is the original problem. I hope you will continue to explore this problem."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700349138,"post_id":77508745,"comment_id":136644176,"body_markdown":"Off-topic: By the way, if you find out why the cities are not being sorted properly, and you fix that, there is future other problem: Comparing numeric values represented by `String` only works if all the values have the same number of digits to the left of the decimal point. That would be the same number of digits for integers.","body":"Off-topic: By the way, if you find out why the cities are not being sorted properly, and you fix that, there is future other problem: Comparing numeric values represented by <code>String</code> only works if all the values have the same number of digits to the left of the decimal point. That would be the same number of digits for integers."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700349393,"post_id":77508745,"comment_id":136644197,"body_markdown":"What happens if you refactor `data` to be an `ArrayList&lt;ArrayList&lt;String&gt;&gt;`?","body":"What happens if you refactor <code>data</code> to be an <code>ArrayList&lt;ArrayList&lt;String&gt;&gt;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700346366,"creation_date":1700345957,"answer_id":77508909,"question_id":77508745,"body_markdown":"Don&#39;t complicate things unnecessarily. You can use the sort method of `List`, which accepts a comparator:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String[]&gt; myList = new ArrayList&lt;&gt;();\r\n        myList.add(new String[] {&quot;Singapore&quot;, &quot;2015&quot;, &quot;AS&quot;, &quot;6.572000027&quot;, &quot;1.69227767&quot;, &quot;1.353814363&quot;, &quot;0.949492395&quot;,\r\n                                 &quot;0.549840569&quot;, &quot;0.345965981&quot;, &quot;0.464307785&quot;, &quot;85&quot;});\r\n        myList.add(new String[] {&quot;Netherlands&quot;, &quot;2015&quot;, &quot;EU&quot;, &quot;7.376999855&quot;, &quot;1.503944635&quot;, &quot;1.428939223&quot;, &quot;0.810696125&quot;,\r\n                              &quot;0.585384488&quot;, &quot;0.47048983&quot;, &quot;0.282661825&quot;, &quot;84&quot;});\r\n        myList.add(new String[] {&quot;Canada&quot;, &quot;2015&quot;, &quot;NA&quot;, &quot;7.315999985&quot;, &quot;1.479204416&quot;, &quot;1.481348991&quot;, &quot;0.834557652&quot;,\r\n                                 &quot;0.611100912&quot;, &quot;0.435539722&quot;, &quot;0.287371516&quot;, &quot;83&quot;});\r\n\r\n        System.out.println(&quot;Before sorting&quot;);\r\n        myList.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\r\n        \r\n        sortByIndex(myList, 0);\r\n\r\n        System.out.println(&quot;After sorting&quot;);\r\n        myList.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\r\n    }\r\n\r\n    public static void sortByIndex(List&lt;String[]&gt; data, int sortIndex) {\r\n        data.sort(Comparator.comparing(d -&gt; d[sortIndex]));\r\n    }\r\n\r\n\r\nOf course, you may have to check beforehand whether the index is valid.","title":"Why is my ArrayList of String[]&#39;s not sorting properly?","body":"<p>Don't complicate things unnecessarily. You can use the sort method of <code>List</code>, which accepts a comparator:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String[]&gt; myList = new ArrayList&lt;&gt;();\n    myList.add(new String[] {&quot;Singapore&quot;, &quot;2015&quot;, &quot;AS&quot;, &quot;6.572000027&quot;, &quot;1.69227767&quot;, &quot;1.353814363&quot;, &quot;0.949492395&quot;,\n                             &quot;0.549840569&quot;, &quot;0.345965981&quot;, &quot;0.464307785&quot;, &quot;85&quot;});\n    myList.add(new String[] {&quot;Netherlands&quot;, &quot;2015&quot;, &quot;EU&quot;, &quot;7.376999855&quot;, &quot;1.503944635&quot;, &quot;1.428939223&quot;, &quot;0.810696125&quot;,\n                          &quot;0.585384488&quot;, &quot;0.47048983&quot;, &quot;0.282661825&quot;, &quot;84&quot;});\n    myList.add(new String[] {&quot;Canada&quot;, &quot;2015&quot;, &quot;NA&quot;, &quot;7.315999985&quot;, &quot;1.479204416&quot;, &quot;1.481348991&quot;, &quot;0.834557652&quot;,\n                             &quot;0.611100912&quot;, &quot;0.435539722&quot;, &quot;0.287371516&quot;, &quot;83&quot;});\n\n    System.out.println(&quot;Before sorting&quot;);\n    myList.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\n    \n    sortByIndex(myList, 0);\n\n    System.out.println(&quot;After sorting&quot;);\n    myList.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\n}\n\npublic static void sortByIndex(List&lt;String[]&gt; data, int sortIndex) {\n    data.sort(Comparator.comparing(d -&gt; d[sortIndex]));\n}\n</code></pre>\n<p>Of course, you may have to check beforehand whether the index is valid.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700350031,"creation_date":1700350031,"answer_id":77509067,"question_id":77508745,"body_markdown":"&gt; _&quot;... I am reading data in from a file, and asking the user which category they would like to sort by. The file has 13 columns (starting with country, year, and continent, then a list of double statistics ...&quot;_\r\n\r\nA simple solution here is to utilize a _[class](https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html)_, to contain each entry.\r\n\r\nHere is an example.\r\n\r\n```java\r\nclass Entry {\r\n    String country, continent;\r\n    int year, h;\r\n    double a, b, c, d, e, f, g;\r\n\r\n    static Entry parse(String s) {\r\n        Entry e = new Entry();\r\n        String[] a = s.split(&quot; &quot;);\r\n        e.country = a[0];\r\n        e.year = Integer.parseInt(a[1]);\r\n        e.continent = a[2];\r\n        e.a = Double.parseDouble(a[3]);\r\n        e.b = Double.parseDouble(a[4]);\r\n        e.c = Double.parseDouble(a[5]);\r\n        e.d = Double.parseDouble(a[6]);\r\n        e.e = Double.parseDouble(a[7]);\r\n        e.f = Double.parseDouble(a[8]);\r\n        e.g = Double.parseDouble(a[9]);\r\n        e.h = Integer.parseInt(a[10]);\r\n        return e;\r\n    }\r\n}\r\n```\r\n\r\nThis will make parsing, slightly more stream-lined.\r\n\r\n```java\r\nString s\r\n    = &quot;Singapore 2015 AS 6.572000027 1.69227767 1.353814363 0.949492395 0.549840569 0.345965981 0.464307785 85\\n&quot;\r\n    + &quot;Netherlands 2015 EU 7.376999855 1.503944635 1.428939223 0.810696125 0.585384488 0.47048983 0.282661825 84\\n&quot;\r\n    + &quot;Canada 2015 NA 7.315999985 1.479204416 1.481348991 0.834557652 0.611100912 0.435539722 0.287371516 83&quot;;\r\nList&lt;Entry&gt; l = new ArrayList&lt;&gt;();\r\ntry (Scanner t = new Scanner(s)) {\r\n    while (t.hasNext()) l.add(Entry.parse(t.nextLine()));\r\n}\r\n```\r\n\r\nAnd, from here you can utilize the _[List#sort](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#sort(java.util.Comparator))_ method, to compare a specific _[field](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)_, of _Entry_; permitting it is _&quot;comparable&quot;_.\r\n\r\n```java\r\nl.sort(Comparator.comparing(a -&gt; a.country));\r\n```\r\n\r\n```none\r\n[{&#39;Canada&#39;, 2015, &#39;NA&#39;, ... }, {&#39;Netherlands&#39;, 2015, &#39;EU&#39;, ... }, {&#39;Singapore&#39;, 2015, &#39;AS&#39;, ... }]\r\n```","title":"Why is my ArrayList of String[]&#39;s not sorting properly?","body":"<blockquote>\n<p><em>&quot;... I am reading data in from a file, and asking the user which category they would like to sort by. The file has 13 columns (starting with country, year, and continent, then a list of double statistics ...&quot;</em></p>\n</blockquote>\n<p>A simple solution here is to utilize a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html\" rel=\"nofollow noreferrer\">class</a></em>, to contain each entry.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Entry {\n    String country, continent;\n    int year, h;\n    double a, b, c, d, e, f, g;\n\n    static Entry parse(String s) {\n        Entry e = new Entry();\n        String[] a = s.split(&quot; &quot;);\n        e.country = a[0];\n        e.year = Integer.parseInt(a[1]);\n        e.continent = a[2];\n        e.a = Double.parseDouble(a[3]);\n        e.b = Double.parseDouble(a[4]);\n        e.c = Double.parseDouble(a[5]);\n        e.d = Double.parseDouble(a[6]);\n        e.e = Double.parseDouble(a[7]);\n        e.f = Double.parseDouble(a[8]);\n        e.g = Double.parseDouble(a[9]);\n        e.h = Integer.parseInt(a[10]);\n        return e;\n    }\n}\n</code></pre>\n<p>This will make parsing, slightly more stream-lined.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s\n    = &quot;Singapore 2015 AS 6.572000027 1.69227767 1.353814363 0.949492395 0.549840569 0.345965981 0.464307785 85\\n&quot;\n    + &quot;Netherlands 2015 EU 7.376999855 1.503944635 1.428939223 0.810696125 0.585384488 0.47048983 0.282661825 84\\n&quot;\n    + &quot;Canada 2015 NA 7.315999985 1.479204416 1.481348991 0.834557652 0.611100912 0.435539722 0.287371516 83&quot;;\nList&lt;Entry&gt; l = new ArrayList&lt;&gt;();\ntry (Scanner t = new Scanner(s)) {\n    while (t.hasNext()) l.add(Entry.parse(t.nextLine()));\n}\n</code></pre>\n<p>And, from here you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"nofollow noreferrer\">List#sort</a></em> method, to compare a specific <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">field</a></em>, of <em>Entry</em>; permitting it is <em>&quot;comparable&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>l.sort(Comparator.comparing(a -&gt; a.country));\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[{'Canada', 2015, 'NA', ... }, {'Netherlands', 2015, 'EU', ... }, {'Singapore', 2015, 'AS', ... }]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29418066,"reputation":13,"user_id":22815991,"display_name":"Dylan Warcholik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700444497,"creation_date":1700444497,"answer_id":77513137,"question_id":77508745,"body_markdown":"I figured I would update the post with an answer, as I found the mistake when working on a different project. Here is the code that I had typed for iterating through the ArrayList&lt;String[]&gt; to sort:\r\n\r\n    for (i = 0; i &lt; data.size()-1; i++) {\r\n        indexSmallest = i;\r\n            \r\n        for (j= i + 1; j &lt; data.size(); j++) {\r\n            if (data.get(j)[sortIndex].compareTo(data.get(i)[sortIndex]) &lt; 0) {\r\n                indexSmallest = j;\r\n            }\r\n        }\r\n        temp = data.get(i);\r\n        data.set(i, data.get(indexSmallest));\r\n        data.set(indexSmallest, temp);\r\n    }\r\n\r\nIn the condition, I should have been comparing data.get(j)[sortIndex] with data.get(indexSmallest)[sortIndex], not data.get(i)[sortIndex]. It is one of those things that once I caught it, it fell so obvious. Here is the collect chunk of code I should have used:\r\n\r\n    for (i = 0; i &lt; data.size()-1; i++) {\r\n        indexSmallest = i;\r\n            \r\n        for (j= i + 1; j &lt; data.size(); j++) {\r\n            if (data.get(j)[sortIndex].compareTo(data.get(indexSmallest)[sortIndex]) &lt; 0) {\r\n                indexSmallest = j;\r\n            }\r\n        }\r\n        temp = data.get(i);\r\n        data.set(i, data.get(indexSmallest));\r\n        data.set(indexSmallest, temp);\r\n    }\r\nI appreciate all of the insight, suggestions and debugging strategies provided by you all.","title":"Why is my ArrayList of String[]&#39;s not sorting properly?","body":"<p>I figured I would update the post with an answer, as I found the mistake when working on a different project. Here is the code that I had typed for iterating through the ArrayList&lt;String[]&gt; to sort:</p>\n<pre><code>for (i = 0; i &lt; data.size()-1; i++) {\n    indexSmallest = i;\n        \n    for (j= i + 1; j &lt; data.size(); j++) {\n        if (data.get(j)[sortIndex].compareTo(data.get(i)[sortIndex]) &lt; 0) {\n            indexSmallest = j;\n        }\n    }\n    temp = data.get(i);\n    data.set(i, data.get(indexSmallest));\n    data.set(indexSmallest, temp);\n}\n</code></pre>\n<p>In the condition, I should have been comparing data.get(j)[sortIndex] with data.get(indexSmallest)[sortIndex], not data.get(i)[sortIndex]. It is one of those things that once I caught it, it fell so obvious. Here is the collect chunk of code I should have used:</p>\n<pre><code>for (i = 0; i &lt; data.size()-1; i++) {\n    indexSmallest = i;\n        \n    for (j= i + 1; j &lt; data.size(); j++) {\n        if (data.get(j)[sortIndex].compareTo(data.get(indexSmallest)[sortIndex]) &lt; 0) {\n            indexSmallest = j;\n        }\n    }\n    temp = data.get(i);\n    data.set(i, data.get(indexSmallest));\n    data.set(indexSmallest, temp);\n}\n</code></pre>\n<p>I appreciate all of the insight, suggestions and debugging strategies provided by you all.</p>\n"}],"owner":{"account_id":29418066,"reputation":13,"user_id":22815991,"display_name":"Dylan Warcholik"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77508909,"answer_count":3,"score":-1,"last_activity_date":1700444497,"creation_date":1700342249,"question_id":77508745,"body_markdown":"\r\nI am reading data in from a file, and asking the user which category they would like to sort by. The file has 13 columns (starting with country, year, and continent, then a list of double statistics that I am ignoring for the time being) and 792 rows. I have had no trouble initializing the ArrayList&lt;String[]&gt;, and I have a method to print out the rows and they are formatted correctly.\r\n\r\nI am trying to sort the ArrayList based on one of the columns (I am using the first column right now as comparing the Country names is the easiest to see, and the original file is already organized by year, so that would not be a good way to tell if the sorting worked). I currently am trying to implement a selectionSort method which appears to work alright, but when I print out the rows of the modified ArrayList, there are several rows that are out of order (but it appears that many sections have been better organized).\r\n\r\nHere are a few lines from the file for reference when converted to a String[]:\r\n\r\n[ Singapore 2015 AS 6.572000027 1.69227767 1.353814363 0.949492395 0.549840569 0.345965981 0.464307785 85 ]\r\n\r\n[ Netherlands 2015 EU 7.376999855 1.503944635 1.428939223 0.810696125 0.585384488 0.47048983 0.282661825 84 ]\r\n\r\n[ Canada 2015 NA 7.315999985 1.479204416 1.481348991 0.834557652 0.611100912 0.435539722 0.287371516 83 ]\r\n\r\nHere is the chunk of code for the selectionSort method that I am having an issue with.\r\nArrayList&lt;String[]&gt; data is the data being read in, and int sortIndex for the Country example is zero, the column of each individual String[] that I am trying to compare.\r\n\r\n```\r\npublic static void selectionSort(ArrayList&lt;String[]&gt; data, int sortIndex){\r\n    int i;\r\n    int j;\r\n    String[] temp;\r\n    int indexSmallest = 0;\r\n\r\n    for (i = 0; i &lt; data.size()-1; i++) {\r\n        indexSmallest = i;\r\n            \r\n        for (j= i + 1; j &lt; data.size(); j++) {\r\n            if (data.get(j)[sortIndex].compareTo(data.get(i)[sortIndex]) &lt; 0) {\r\n                indexSmallest = j;\r\n            }\r\n        }\r\n        temp = data.get(i);\r\n        data.set(i, data.get(indexSmallest));\r\n        data.set(indexSmallest, temp);\r\n    }\r\n}\r\n```\r\nI am new to stack overflow, so if there is any additional information I should include, please let me know! I have read through a couple similar questions but have not been able to figure out what is wrong with my process. Thanks in advance!\r\n\r\n\r\nUpdate:\r\nHere is my initialization of the ArrayList, called dataAL in my main method:\r\n\r\n    while (currLine != null) {\r\n        dataAL.add(currLine.split(&quot;\\\\,&quot;, -1));\r\n        lineNum++;\r\n        currLine = readBuffer.readLine();\r\n    }\r\n\r\nI output the arrays with a separate printRow(String[] row) method which simply prints each row passed to the method separated by spaces and with hard brackets on each end (as seen in the example rows I listed above). The ArrayList&lt;String[]&gt; is called dataAL, but when passed to the sort method it is named data, which is then passed to the insertion sort method as data again. Here is the printing of the data:\r\n\r\n    for (int k = 0; k &lt; data.size(); k++){\r\n        printRow(data.get(k));\r\n    }\r\nI am expecting that as the rows print out, the rows are organized alphabetically by index 0 of each String[], which is the country names that I am comparing, and while some sections are in alphabetical order, the entire list is not.","title":"Why is my ArrayList of String[]&#39;s not sorting properly?","body":"<p>I am reading data in from a file, and asking the user which category they would like to sort by. The file has 13 columns (starting with country, year, and continent, then a list of double statistics that I am ignoring for the time being) and 792 rows. I have had no trouble initializing the ArrayList&lt;String[]&gt;, and I have a method to print out the rows and they are formatted correctly.</p>\n<p>I am trying to sort the ArrayList based on one of the columns (I am using the first column right now as comparing the Country names is the easiest to see, and the original file is already organized by year, so that would not be a good way to tell if the sorting worked). I currently am trying to implement a selectionSort method which appears to work alright, but when I print out the rows of the modified ArrayList, there are several rows that are out of order (but it appears that many sections have been better organized).</p>\n<p>Here are a few lines from the file for reference when converted to a String[]:</p>\n<p>[ Singapore 2015 AS 6.572000027 1.69227767 1.353814363 0.949492395 0.549840569 0.345965981 0.464307785 85 ]</p>\n<p>[ Netherlands 2015 EU 7.376999855 1.503944635 1.428939223 0.810696125 0.585384488 0.47048983 0.282661825 84 ]</p>\n<p>[ Canada 2015 NA 7.315999985 1.479204416 1.481348991 0.834557652 0.611100912 0.435539722 0.287371516 83 ]</p>\n<p>Here is the chunk of code for the selectionSort method that I am having an issue with.\nArrayList&lt;String[]&gt; data is the data being read in, and int sortIndex for the Country example is zero, the column of each individual String[] that I am trying to compare.</p>\n<pre><code>public static void selectionSort(ArrayList&lt;String[]&gt; data, int sortIndex){\n    int i;\n    int j;\n    String[] temp;\n    int indexSmallest = 0;\n\n    for (i = 0; i &lt; data.size()-1; i++) {\n        indexSmallest = i;\n            \n        for (j= i + 1; j &lt; data.size(); j++) {\n            if (data.get(j)[sortIndex].compareTo(data.get(i)[sortIndex]) &lt; 0) {\n                indexSmallest = j;\n            }\n        }\n        temp = data.get(i);\n        data.set(i, data.get(indexSmallest));\n        data.set(indexSmallest, temp);\n    }\n}\n</code></pre>\n<p>I am new to stack overflow, so if there is any additional information I should include, please let me know! I have read through a couple similar questions but have not been able to figure out what is wrong with my process. Thanks in advance!</p>\n<p>Update:\nHere is my initialization of the ArrayList, called dataAL in my main method:</p>\n<pre><code>while (currLine != null) {\n    dataAL.add(currLine.split(&quot;\\\\,&quot;, -1));\n    lineNum++;\n    currLine = readBuffer.readLine();\n}\n</code></pre>\n<p>I output the arrays with a separate printRow(String[] row) method which simply prints each row passed to the method separated by spaces and with hard brackets on each end (as seen in the example rows I listed above). The ArrayList&lt;String[]&gt; is called dataAL, but when passed to the sort method it is named data, which is then passed to the insertion sort method as data again. Here is the printing of the data:</p>\n<pre><code>for (int k = 0; k &lt; data.size(); k++){\n    printRow(data.get(k));\n}\n</code></pre>\n<p>I am expecting that as the rows print out, the rows are organized alphabetically by index 0 of each String[], which is the country names that I am comparing, and while some sections are in alphabetical order, the entire list is not.</p>\n"},{"tags":["java","apache-spark","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":6355745,"reputation":11,"user_id":6923824,"display_name":"Noomat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700444405,"creation_date":1700444405,"answer_id":77513136,"question_id":77214410,"body_markdown":"I had a similar problem. (Spark version: `3.3.0`)\r\n\r\nIt seems that `Dlog4j.configuration` is an older version of `Dlog4j2.configurationFile` and the following syntax worked for me:\r\n\r\n    --files &quot;./shared/code/log4j.properties&quot; \\\r\n    --conf &quot;spark.driver.extraJavaOptions=-Dlog4j2.configurationFile=file:./shared/code/log4j.properties&quot; \\\r\n    --conf &quot;spark.executor.extraJavaOptions=-Dlog4j2.configurationFile=file:./shared/code/log4j.properties&quot; \\\r\n\r\n`shared` is a mounted folder in the docker container where I am running the spark cluster in client mode.\r\n\r\n","title":"How to use a specific log4j2.properties file in my Spark application / driver?","body":"<p>I had a similar problem. (Spark version: <code>3.3.0</code>)</p>\n<p>It seems that <code>Dlog4j.configuration</code> is an older version of <code>Dlog4j2.configurationFile</code> and the following syntax worked for me:</p>\n<pre><code>--files &quot;./shared/code/log4j.properties&quot; \\\n--conf &quot;spark.driver.extraJavaOptions=-Dlog4j2.configurationFile=file:./shared/code/log4j.properties&quot; \\\n--conf &quot;spark.executor.extraJavaOptions=-Dlog4j2.configurationFile=file:./shared/code/log4j.properties&quot; \\\n</code></pre>\n<p><code>shared</code> is a mounted folder in the docker container where I am running the spark cluster in client mode.</p>\n"}],"owner":{"account_id":240659,"reputation":16549,"user_id":2003986,"accept_rate":75,"display_name":"ToYonos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700444405,"creation_date":1696238166,"question_id":77214410,"body_markdown":"I&#39;m trying to use a custom `log4j2.properties` file in my Spark app (and also in the driver)\r\n\r\nMy Spark version is up to date : `3.5.0`\r\n\r\nI followed the answer to [this question][1], adapting it to log4j2\r\n\r\nSo basically I added this to `spark-submit`\r\n\r\n    --conf &#39;spark.driver.extraJavaOptions=-Dlog4j.configurationFile=log4j2.properties&#39;\r\n    --conf &#39;spark.executor.extraJavaOptions=-Dlog4j.configurationFile=log4j2.properties&#39;\r\n    --files &#39;path/to/log4j2.properties&#39;\r\n\r\nIn driver logs, I can see the JVM argument : `-Dlog4j.configurationFile=log4j2.properties`\r\n\r\nBut the weird thing is that in logs (stderr), I can see that :\r\n\r\n    Using Spark&#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n    [...]\r\n    23/09/29 14:04:08 INFO SparkContext: Added file file:///path/to/log4j2.properties at spark://server:port/files/log4j2.properties with timestamp 1695989047843\r\n\r\nThe `log4j2.properties` file is copied **after** the logger is initialized so as a consequence, it does not work, my file is not taken into account. Any idea ?\r\n\r\n  [1]: https://stackoverflow.com/questions/42230235/spark-submit-how-to-specify-log4j-properties","title":"How to use a specific log4j2.properties file in my Spark application / driver?","body":"<p>I'm trying to use a custom <code>log4j2.properties</code> file in my Spark app (and also in the driver)</p>\n<p>My Spark version is up to date : <code>3.5.0</code></p>\n<p>I followed the answer to <a href=\"https://stackoverflow.com/questions/42230235/spark-submit-how-to-specify-log4j-properties\">this question</a>, adapting it to log4j2</p>\n<p>So basically I added this to <code>spark-submit</code></p>\n<pre><code>--conf 'spark.driver.extraJavaOptions=-Dlog4j.configurationFile=log4j2.properties'\n--conf 'spark.executor.extraJavaOptions=-Dlog4j.configurationFile=log4j2.properties'\n--files 'path/to/log4j2.properties'\n</code></pre>\n<p>In driver logs, I can see the JVM argument : <code>-Dlog4j.configurationFile=log4j2.properties</code></p>\n<p>But the weird thing is that in logs (stderr), I can see that :</p>\n<pre><code>Using Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\n[...]\n23/09/29 14:04:08 INFO SparkContext: Added file file:///path/to/log4j2.properties at spark://server:port/files/log4j2.properties with timestamp 1695989047843\n</code></pre>\n<p>The <code>log4j2.properties</code> file is copied <strong>after</strong> the logger is initialized so as a consequence, it does not work, my file is not taken into account. Any idea ?</p>\n"},{"tags":["java","windows-services","jar","startup"],"comments":[{"owner":{"account_id":47108,"reputation":25610,"user_id":139396,"accept_rate":100,"display_name":"o.k.w"},"score":1,"creation_date":1256375869,"post_id":1617458,"comment_id":1484351,"body_markdown":"Not in the registry also? Then why would you want it as a Service?","body":"Not in the registry also? Then why would you want it as a Service?"},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1410348507,"post_id":1617458,"comment_id":40289264,"body_markdown":"@o.k.w is right if you are creating windows service, It&#39;ll create entry in registry.","body":"@o.k.w is right if you are creating windows service, It&#39;ll create entry in registry."},{"owner":{"account_id":30958,"reputation":66447,"user_id":84704,"accept_rate":91,"display_name":"Warren  P"},"score":0,"creation_date":1473861298,"post_id":1617458,"comment_id":66302083,"body_markdown":"I think this user meant &quot;run as a service, not from the startup registry keys as a non service&quot;","body":"I think this user meant &quot;run as a service, not from the startup registry keys as a non service&quot;"},{"owner":{"account_id":1165784,"reputation":14935,"user_id":1144157,"accept_rate":75,"display_name":"Steephen"},"score":2,"creation_date":1503540007,"post_id":1617458,"comment_id":78661717,"body_markdown":"You can directly create an exe or msi file from java using javapackager tool with java 8 onwards. Refer: https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app/45851799#45851799","body":"You can directly create an exe or msi file from java using javapackager tool with java 8 onwards. Refer: <a href=\"https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app/45851799#45851799\" title=\"how to create a windows service from java app\">stackoverflow.com/questions/68113/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":35821,"reputation":15653,"user_id":101762,"accept_rate":87,"display_name":"Persimmonium"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1415471375,"creation_date":1256389244,"answer_id":1617952,"question_id":1617458,"body_markdown":"Tanuki changed license of jsw some time ago, if I was to begin a project, I would use Yet Another Java Service Wrapper, http://yajsw.sourceforge.net/ that is more or less an open source implementation that mimics JWS, and then builds on it and improves it even further.\r\n\r\nEDIT: I have been using YAJSW for several years on several platorms (Windows, several linuxes...) and it is great, development is ongoing.","title":"How to create windows service from java jar?","body":"<p>Tanuki changed license of jsw some time ago, if I was to begin a project, I would use Yet Another Java Service Wrapper, <a href=\"http://yajsw.sourceforge.net/\" rel=\"nofollow noreferrer\">http://yajsw.sourceforge.net/</a> that is more or less an open source implementation that mimics JWS, and then builds on it and improves it even further.</p>\n\n<p>EDIT: I have been using YAJSW for several years on several platorms (Windows, several linuxes...) and it is great, development is ongoing.</p>\n"},{"tags":[],"owner":{"account_id":45837,"reputation":4941,"user_id":135280,"accept_rate":100,"display_name":"mcdon"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1268865230,"creation_date":1268865230,"answer_id":2466391,"question_id":1617458,"body_markdown":"I&#39;ve been experimenting with [Apache Commons Daemon][1].  It&#39;s supports windows ([Procrun][2]) and unix ([Jsvc][3]).  Advanced Installer has a [Java Service tutorial][4] with an example project to download.  If you get their javaservice.jar running as a windows service you can test it by using &quot;telnet 4444&quot;.  I used their example because my focus was on getting a java windows service running, not writing java.\r\n\r\n\r\n  [1]: http://commons.apache.org/daemon/\r\n  [2]: http://commons.apache.org/daemon/procrun.html\r\n  [3]: http://commons.apache.org/daemon/jsvc.html\r\n  [4]: http://www.advancedinstaller.com/user-guide/tutorial-java-service.html#preparing","title":"How to create windows service from java jar?","body":"<p>I've been experimenting with <a href=\"http://commons.apache.org/daemon/\" rel=\"noreferrer\">Apache Commons Daemon</a>.  It's supports windows (<a href=\"http://commons.apache.org/daemon/procrun.html\" rel=\"noreferrer\">Procrun</a>) and unix (<a href=\"http://commons.apache.org/daemon/jsvc.html\" rel=\"noreferrer\">Jsvc</a>).  Advanced Installer has a <a href=\"http://www.advancedinstaller.com/user-guide/tutorial-java-service.html#preparing\" rel=\"noreferrer\">Java Service tutorial</a> with an example project to download.  If you get their javaservice.jar running as a windows service you can test it by using \"telnet 4444\".  I used their example because my focus was on getting a java windows service running, not writing java.</p>\n"},{"tags":[],"owner":{"account_id":274020,"reputation":2397,"user_id":566006,"accept_rate":41,"display_name":"BTakacs"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1362057493,"creation_date":1362057493,"answer_id":15136577,"question_id":1617458,"body_markdown":"With procrun you need to copy prunsrv to the application directory ([download][1]), and create an install.bat like this:\r\n\r\n    set PR_PATH=%CD%\r\n    SET PR_SERVICE_NAME=MyService\r\n    SET PR_JAR=MyService.jar\r\n    SET START_CLASS=org.my.Main\r\n    SET START_METHOD=main\r\n    SET STOP_CLASS=java.lang.System\r\n    SET STOP_METHOD=exit\r\n    rem ; separated values\r\n    SET STOP_PARAMS=0\r\n    rem ; separated values\r\n    SET JVM_OPTIONS=-Dapp.home=%PR_PATH%\r\n    prunsrv.exe //IS//%PR_SERVICE_NAME% --Install=&quot;%PR_PATH%\\prunsrv.exe&quot; --Jvm=auto --Startup=auto --StartMode=jvm --StartClass=%START_CLASS% --StartMethod=%START_METHOD% --StopMode=jvm --StopClass=%STOP_CLASS% --StopMethod=%STOP_METHOD% ++StopParams=%STOP_PARAMS% --Classpath=&quot;%PR_PATH%\\%PR_JAR%&quot; --DisplayName=&quot;%PR_SERVICE_NAME%&quot; ++JvmOptions=%JVM_OPTIONS%\r\n\r\nI presume to\r\n\r\n - run this from the same directory where the jar and prunsrv.exe is\r\n - the jar has its working MANIFEST.MF\r\n - and you have shutdown hooks registered into JVM (for example with context.registerShutdownHook() in Spring)...\r\n - not using relative paths for files outside the jar (for example log4j should be used with *log4j.appender.X.File=${app.home}/logs/my.log* or something alike)\r\n\r\nCheck the procrun [manual][2] and [this tutorial][3] for more information.\r\n\r\n\r\n  [1]: http://www.apache.org/dist/commons/daemon/binaries/windows/\r\n  [2]: http://commons.apache.org/proper/commons-daemon//procrun.html\r\n  [3]: http://a089lp.wordpress.com/tag/procrun-tutorial/","title":"How to create windows service from java jar?","body":"<p>With procrun you need to copy prunsrv to the application directory (<a href=\"http://www.apache.org/dist/commons/daemon/binaries/windows/\" rel=\"noreferrer\">download</a>), and create an install.bat like this:</p>\n\n<pre><code>set PR_PATH=%CD%\nSET PR_SERVICE_NAME=MyService\nSET PR_JAR=MyService.jar\nSET START_CLASS=org.my.Main\nSET START_METHOD=main\nSET STOP_CLASS=java.lang.System\nSET STOP_METHOD=exit\nrem ; separated values\nSET STOP_PARAMS=0\nrem ; separated values\nSET JVM_OPTIONS=-Dapp.home=%PR_PATH%\nprunsrv.exe //IS//%PR_SERVICE_NAME% --Install=\"%PR_PATH%\\prunsrv.exe\" --Jvm=auto --Startup=auto --StartMode=jvm --StartClass=%START_CLASS% --StartMethod=%START_METHOD% --StopMode=jvm --StopClass=%STOP_CLASS% --StopMethod=%STOP_METHOD% ++StopParams=%STOP_PARAMS% --Classpath=\"%PR_PATH%\\%PR_JAR%\" --DisplayName=\"%PR_SERVICE_NAME%\" ++JvmOptions=%JVM_OPTIONS%\n</code></pre>\n\n<p>I presume to</p>\n\n<ul>\n<li>run this from the same directory where the jar and prunsrv.exe is</li>\n<li>the jar has its working MANIFEST.MF</li>\n<li>and you have shutdown hooks registered into JVM (for example with context.registerShutdownHook() in Spring)...</li>\n<li>not using relative paths for files outside the jar (for example log4j should be used with <em>log4j.appender.X.File=${app.home}/logs/my.log</em> or something alike)</li>\n</ul>\n\n<p>Check the procrun <a href=\"http://commons.apache.org/proper/commons-daemon//procrun.html\" rel=\"noreferrer\">manual</a> and <a href=\"http://a089lp.wordpress.com/tag/procrun-tutorial/\" rel=\"noreferrer\">this tutorial</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":2395579,"reputation":846,"user_id":2094442,"display_name":"kopernik"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1378730540,"creation_date":1378730540,"answer_id":18698478,"question_id":1617458,"body_markdown":"The easiest solution I found for this so far is the [Non-Sucking Service Manager][1]\r\n\r\nUsage would be \r\n\r\n    nssm install &lt;servicename&gt; &quot;C:\\Program Files\\Java\\jre7\\java.exe&quot; &quot;-jar &lt;path-to-jar-file&gt;&quot;\r\n\r\n  [1]: http://nssm.cc/","title":"How to create windows service from java jar?","body":"<p>The easiest solution I found for this so far is the <a href=\"http://nssm.cc/\" rel=\"noreferrer\">Non-Sucking Service Manager</a></p>\n\n<p>Usage would be </p>\n\n<pre><code>nssm install &lt;servicename&gt; \"C:\\Program Files\\Java\\jre7\\java.exe\" \"-jar &lt;path-to-jar-file&gt;\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1348768,"reputation":274,"user_id":1288992,"accept_rate":80,"display_name":"gcerkez"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1456420313,"creation_date":1456420313,"answer_id":35633864,"question_id":1617458,"body_markdown":"Use nssm.exe but remember to set the AppDirectory or any required libraries or resources will not be accessible. By default nssm set the current working directory to the that of the application, java.exe, not the jar.\r\nSo do this to create a batch script:\r\n\r\n        pushd &lt;path-to-jar&gt;\r\n        nssm.exe install &quot;&lt;service-name&gt;&quot; &quot;&lt;path-to-java.exe&gt;&quot; &quot;-jar &lt;name-of-jar&gt;&quot;\r\n        nssm.exe set &quot;&lt;service-name&gt;&quot; AppDirectory &quot;&lt;path-to-jar&gt;&quot;\r\n\r\nThis should fix the service paused issue.","title":"How to create windows service from java jar?","body":"<p>Use nssm.exe but remember to set the AppDirectory or any required libraries or resources will not be accessible. By default nssm set the current working directory to the that of the application, java.exe, not the jar.\nSo do this to create a batch script:</p>\n\n<pre><code>    pushd &lt;path-to-jar&gt;\n    nssm.exe install \"&lt;service-name&gt;\" \"&lt;path-to-java.exe&gt;\" \"-jar &lt;name-of-jar&gt;\"\n    nssm.exe set \"&lt;service-name&gt;\" AppDirectory \"&lt;path-to-jar&gt;\"\n</code></pre>\n\n<p>This should fix the service paused issue.</p>\n"},{"tags":[],"owner":{"account_id":433443,"reputation":4526,"user_id":818766,"display_name":"manyways"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525199864,"creation_date":1525104783,"answer_id":50104368,"question_id":1617458,"body_markdown":"Another option is winsw: https://github.com/kohsuke/winsw/\r\n\r\nConfigure an xml file to specify the service name, what to execute, any arguments etc. And use the exe to install. Example xml: https://github.com/kohsuke/winsw/tree/master/examples\r\n\r\nI prefer this to nssm, because it is one lightweight exe; and the config xml is easy to share/commit to source code.\r\n\r\nPS the service is installed by running `your-service.exe install`\r\n\r\n","title":"How to create windows service from java jar?","body":"<p>Another option is winsw: <a href=\"https://github.com/kohsuke/winsw/\" rel=\"nofollow noreferrer\">https://github.com/kohsuke/winsw/</a></p>\n\n<p>Configure an xml file to specify the service name, what to execute, any arguments etc. And use the exe to install. Example xml: <a href=\"https://github.com/kohsuke/winsw/tree/master/examples\" rel=\"nofollow noreferrer\">https://github.com/kohsuke/winsw/tree/master/examples</a></p>\n\n<p>I prefer this to nssm, because it is one lightweight exe; and the config xml is easy to share/commit to source code.</p>\n\n<p>PS the service is installed by running <code>your-service.exe install</code></p>\n"},{"tags":[],"owner":{"account_id":13073792,"reputation":1657,"user_id":9446598,"display_name":"XavierAM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602492916,"creation_date":1602492916,"answer_id":64314600,"question_id":1617458,"body_markdown":"**[2020 Update]**\r\n\r\nActually, after spending some times trying the different option provided here which are quite old, I found that the easiest way to do it was to use a small paid tool built for that purpose : [FireDaemon Pro](https://firedaemon.com/firedaemon-pro/). I was trying to run Selenium standalone server as a service and none of the free option worked instantly. \r\n\r\nThe tool is quite cheap (50 USD one-time-licence, 30 days trial) and it took me 5 minutes to set up the server service instead of a half a day of reading/troubleshooting. So far, it works like a charm.\r\n\r\n\r\n*I have absolutely no link with FusionPro, this is a pure disinterested advice, but feel free to delete if it violates forum rules.*\r\n","title":"How to create windows service from java jar?","body":"<p><strong>[2020 Update]</strong></p>\n<p>Actually, after spending some times trying the different option provided here which are quite old, I found that the easiest way to do it was to use a small paid tool built for that purpose : <a href=\"https://firedaemon.com/firedaemon-pro/\" rel=\"nofollow noreferrer\">FireDaemon Pro</a>. I was trying to run Selenium standalone server as a service and none of the free option worked instantly.</p>\n<p>The tool is quite cheap (50 USD one-time-licence, 30 days trial) and it took me 5 minutes to set up the server service instead of a half a day of reading/troubleshooting. So far, it works like a charm.</p>\n<p><em>I have absolutely no link with FusionPro, this is a pure disinterested advice, but feel free to delete if it violates forum rules.</em></p>\n"}],"owner":{"account_id":33759,"reputation":36049,"user_id":94813,"accept_rate":70,"display_name":"Rakesh Juyal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138898,"favorite_count":0,"down_vote_count":1,"up_vote_count":67,"answer_count":7,"score":66,"last_activity_date":1700443633,"creation_date":1256375704,"question_id":1617458,"body_markdown":"I have an executable JAR file. Is it possible to create a Windows service of that JAR? Actually, I just want to run that on startup, but I don&#39;t want to place that JAR file in my startup folder, neither in the registry.","title":"How to create windows service from java jar?","body":"<p>I have an executable JAR file. Is it possible to create a Windows service of that JAR? Actually, I just want to run that on startup, but I don't want to place that JAR file in my startup folder, neither in the registry.</p>\n"},{"tags":["java","log4j2","rest-assured","apache-httpcomponents"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1700428632,"post_id":77507611,"comment_id":136650226,"body_markdown":"https://stackoverflow.com/a/60978227/175554 may help","body":"<a href=\"https://stackoverflow.com/a/60978227/175554\">stackoverflow.com/a/60978227/175554</a> may help"},{"owner":{"account_id":2724755,"reputation":1595,"user_id":2350150,"accept_rate":56,"display_name":"Georgi Georgiev"},"score":0,"creation_date":1700431419,"post_id":77507611,"comment_id":136650517,"body_markdown":"@ozkanpakdil, thanks, but I don&#39;t think this is related to my issue. I am not using HttpClient directly. It is used by RestAssured internally. I am just trying to figure out how to turn the HttpClient&#39;s logging on.","body":"@ozkanpakdil, thanks, but I don&#39;t think this is related to my issue. I am not using HttpClient directly. It is used by RestAssured internally. I am just trying to figure out how to turn the HttpClient&#39;s logging on."},{"owner":{"account_id":7355888,"reputation":1268,"user_id":5600656,"display_name":"Oleksandr Lykhonosov"},"score":0,"creation_date":1700434086,"post_id":77507611,"comment_id":136650775,"body_markdown":"Do you see any logs from SLF4J regarding which implementation has been found in your classpath?","body":"Do you see any logs from SLF4J regarding which implementation has been found in your classpath?"},{"owner":{"account_id":2724755,"reputation":1595,"user_id":2350150,"accept_rate":56,"display_name":"Georgi Georgiev"},"score":0,"creation_date":1700436045,"post_id":77507611,"comment_id":136650950,"body_markdown":"@OleksandrLykhonosov, how do I check that?","body":"@OleksandrLykhonosov, how do I check that?"},{"owner":{"account_id":7355888,"reputation":1268,"user_id":5600656,"display_name":"Oleksandr Lykhonosov"},"score":0,"creation_date":1700436423,"post_id":77507611,"comment_id":136650987,"body_markdown":"@CuriousGuy usually it&#39;s something like this:\n`SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.`\n\nhttps://www.slf4j.org/manual.html","body":"@CuriousGuy usually it&#39;s something like this: <code>SLF4J: No SLF4J providers were found. SLF4J: Defaulting to no-operation (NOP) logger implementation SLF4J: See https:&#47;&#47;www.slf4j.org&#47;codes.html#noProviders for further details.</code>  <a href=\"https://www.slf4j.org/manual.html\" rel=\"nofollow noreferrer\">slf4j.org/manual.html</a>"},{"owner":{"account_id":2724755,"reputation":1595,"user_id":2350150,"accept_rate":56,"display_name":"Georgi Georgiev"},"score":0,"creation_date":1700436718,"post_id":77507611,"comment_id":136651020,"body_markdown":"@OleksandrLykhonosov That&#39;s what I thought, but was not sure if that&#39;s what you meant :) \nNo, SLF4J finds `&lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;` binding successfully. No such warnings in the console.","body":"@OleksandrLykhonosov That&#39;s what I thought, but was not sure if that&#39;s what you meant :)  No, SLF4J finds <code>&lt;artifactId&gt;log4j-slf4j2-impl&lt;&#47;artifactId&gt;</code> binding successfully. No such warnings in the console."}],"answers":[{"tags":[],"owner":{"account_id":7355888,"reputation":1268,"user_id":5600656,"display_name":"Oleksandr Lykhonosov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700442768,"creation_date":1700441305,"answer_id":77513050,"question_id":77507611,"body_markdown":"The issue is that `org.apache.httpcomponents:httpclient:jar:4.5.13` uses `org.apache.commons.logging.*` classes for logging and not `slf4`:\r\n\r\n```java\r\npackage org.apache.http.impl.conn;\r\n\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\n\r\n...\r\n\r\npublic class DefaultClientConnection extends SocketHttpClientConnection\r\n    implements OperatedClientConnection, ManagedHttpClientConnection, HttpContext {\r\n\r\n    private final Log log = LogFactory.getLog(getClass());\r\n    private final Log headerLog = LogFactory.getLog(&quot;org.apache.http.headers&quot;);\r\n    private final Log wireLog = LogFactory.getLog(&quot;org.apache.http.wire&quot;);\r\n```\r\n\r\nTo view logs, you need to add the [Commons Logging Bridge][1] dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.12.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nafter adding this `&lt;Logger name=&quot;org.apache.http.wire&quot; level=&quot;DEBUG&quot;/&gt;` you will see the logs:\r\n\r\n```logs\r\n[main] INFO  org.example.AppTest - Before request\r\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;GET / HTTP/1.1[\\r][\\n]&quot;\r\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;Accept: */*[\\r][\\n]&quot;\r\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;Host: google.com[\\r][\\n]&quot;\r\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/21)[\\r][\\n]&quot;\r\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\\r][\\n]&quot;\r\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;[\\r][\\n]&quot;\r\n[main] DEBUG apache.http.wire -  &lt;&lt; &quot;HTTP/1.1 301 Moved Permanently[\\r][\\n]&quot;\r\n[main] DEBUG apache.http.wire -  &lt;&lt; &quot;Location: https://www.google.com/[\\r][\\n]&quot;\r\n```\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/log4j-2.0/log4j-jcl/index.html\r\n  [2]: https://logging.apache.org/log4j/2.x/manual/appenders.html#consoleappender","title":"How to configure Apache HttpClient logger?","body":"<p>The issue is that <code>org.apache.httpcomponents:httpclient:jar:4.5.13</code> uses <code>org.apache.commons.logging.*</code> classes for logging and not <code>slf4</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.apache.http.impl.conn;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\n\n...\n\npublic class DefaultClientConnection extends SocketHttpClientConnection\n    implements OperatedClientConnection, ManagedHttpClientConnection, HttpContext {\n\n    private final Log log = LogFactory.getLog(getClass());\n    private final Log headerLog = LogFactory.getLog(&quot;org.apache.http.headers&quot;);\n    private final Log wireLog = LogFactory.getLog(&quot;org.apache.http.wire&quot;);\n</code></pre>\n<p>To view logs, you need to add the <a href=\"https://logging.apache.org/log4j/log4j-2.0/log4j-jcl/index.html\" rel=\"nofollow noreferrer\">Commons Logging Bridge</a> dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\n    &lt;version&gt;2.12.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>after adding this <code>&lt;Logger name=&quot;org.apache.http.wire&quot; level=&quot;DEBUG&quot;/&gt;</code> you will see the logs:</p>\n<pre><code>[main] INFO  org.example.AppTest - Before request\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;GET / HTTP/1.1[\\r][\\n]&quot;\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;Accept: */*[\\r][\\n]&quot;\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;Host: google.com[\\r][\\n]&quot;\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/21)[\\r][\\n]&quot;\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\\r][\\n]&quot;\n[main] DEBUG apache.http.wire -  &gt;&gt; &quot;[\\r][\\n]&quot;\n[main] DEBUG apache.http.wire -  &lt;&lt; &quot;HTTP/1.1 301 Moved Permanently[\\r][\\n]&quot;\n[main] DEBUG apache.http.wire -  &lt;&lt; &quot;Location: https://www.google.com/[\\r][\\n]&quot;\n</code></pre>\n"}],"owner":{"account_id":2724755,"reputation":1595,"user_id":2350150,"accept_rate":56,"display_name":"Georgi Georgiev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77513050,"answer_count":1,"score":1,"last_activity_date":1700442768,"creation_date":1700322435,"question_id":77507611,"body_markdown":"I am using `RestAssured 5.3.0` and I want to log the low level http requests/responses.\r\nThe `RequestLoggingFilter` docs say:\r\n\r\n&gt; ... If you need to log what&#39;s actually sent on the wire refer to the\r\n&gt; HTTP Client logging docs  or use an external tool such as Wireshark .\r\n\r\n\r\nSo, I went straight to the link they point to: https://hc.apache.org/httpcomponents-client-5.2.x/logging.html\r\n\r\nThe link is about `HttpClient v5`, but `RestAssured 5.3.0` uses `v4.5`. This is shown from `mvn dependency:tree`:\r\n```\r\n[INFO] +- io.rest-assured:rest-assured:jar:5.3.0:compile\r\n[INFO] |  +- org.apache.groovy:groovy:jar:4.0.6:compile\r\n[INFO] |  +- org.apache.groovy:groovy-xml:jar:4.0.6:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n```\r\n\r\nSo, I should be actually looking at this link: https://hc.apache.org/httpcomponents-client-4.5.x/logging.html\r\n\r\nFrom what I understood in the guide, I just have to add a logger in my `log4j2.xml` and the http client should start producing logs. \r\nHere is the example I am looking at from the guide. The section is called `Enable full wire + context logging`:\r\n```\r\n&lt;Configuration&gt;\r\n  &lt;Appenders&gt;\r\n    &lt;Console name=&quot;Console&quot;&gt;\r\n      &lt;PatternLayout pattern=&quot;%d %-5level [%logger] %msg%n%xThrowable&quot; /&gt;\r\n    &lt;/Console&gt;\r\n  &lt;/Appenders&gt;\r\n  &lt;Loggers&gt;\r\n    &lt;Logger name=&quot;org.apache.http&quot; level=&quot;DEBUG&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n    &lt;/Logger&gt;\r\n    &lt;Root level=&quot;INFO&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n    &lt;/Root&gt;\r\n  &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nHere is my `log4j2.xml`. Please note the comment there:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; strict=&quot;true&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Appender type=&quot;Console&quot; name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{3} - %msg%n&quot;/&gt;\r\n        &lt;/Appender&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n\r\n       &lt;Logger name=&quot;org.apache.http&quot; level=&quot;all&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n       &lt;/Logger&gt;\r\n\r\n        &lt;!-- desperate attempt to enable the logging on even higher hierarchy level--&gt;\r\n        &lt;Logger name=&quot;org.apache&quot; level=&quot;all&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nHere is the part of my `pom.xml` related to the logging dependencies:\r\n```\r\n...\r\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.21.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j2-impl --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.21.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n...\r\n```\r\n\r\nI ran my tests, but no logging from the `org.apache.*` loggers is printed to the console.\r\n\r\n\r\nWhat am I doing wrong?\r\n\r\nEDIT: Add MVP example\r\n---------------------\r\n\r\n**RestAssured pom dependency**:\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n**Code:**\r\n```import io.restassured.RestAssured;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.testng.annotations.Test;\r\n\r\npublic class TestClass {\r\n    Logger logger = LogManager.getLogger(this);\r\n\r\n    @Test\r\n    public void test() {\r\n        logger.info(&quot;Before request&quot;);\r\n\r\n        RestAssured.given()\r\n                .get(&quot;https://google.com&quot;);\r\n\r\n        logger.info(&quot;After request&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**Output:**\r\n```\r\n22:33:51.329 [main] INFO  TestClass - Before request\r\n22:33:52.769 [main] INFO  TestClass - After request\r\n\r\n===============================================\r\nDefault Suite\r\nTotal tests run: 1, Passes: 1, Failures: 0, Skips: 0\r\n===============================================\r\n\r\n\r\nProcess finished with exit code 0\r\n```","title":"How to configure Apache HttpClient logger?","body":"<p>I am using <code>RestAssured 5.3.0</code> and I want to log the low level http requests/responses.\nThe <code>RequestLoggingFilter</code> docs say:</p>\n<blockquote>\n<p>... If you need to log what's actually sent on the wire refer to the\nHTTP Client logging docs  or use an external tool such as Wireshark .</p>\n</blockquote>\n<p>So, I went straight to the link they point to: <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/logging.html\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpcomponents-client-5.2.x/logging.html</a></p>\n<p>The link is about <code>HttpClient v5</code>, but <code>RestAssured 5.3.0</code> uses <code>v4.5</code>. This is shown from <code>mvn dependency:tree</code>:</p>\n<pre><code>[INFO] +- io.rest-assured:rest-assured:jar:5.3.0:compile\n[INFO] |  +- org.apache.groovy:groovy:jar:4.0.6:compile\n[INFO] |  +- org.apache.groovy:groovy-xml:jar:4.0.6:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n</code></pre>\n<p>So, I should be actually looking at this link: <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/logging.html\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpcomponents-client-4.5.x/logging.html</a></p>\n<p>From what I understood in the guide, I just have to add a logger in my <code>log4j2.xml</code> and the http client should start producing logs.\nHere is the example I am looking at from the guide. The section is called <code>Enable full wire + context logging</code>:</p>\n<pre><code>&lt;Configuration&gt;\n  &lt;Appenders&gt;\n    &lt;Console name=&quot;Console&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%d %-5level [%logger] %msg%n%xThrowable&quot; /&gt;\n    &lt;/Console&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Logger name=&quot;org.apache.http&quot; level=&quot;DEBUG&quot;&gt;\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n    &lt;/Logger&gt;\n    &lt;Root level=&quot;INFO&quot;&gt;\n      &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Here is my <code>log4j2.xml</code>. Please note the comment there:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; strict=&quot;true&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Appender type=&quot;Console&quot; name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{3} - %msg%n&quot;/&gt;\n        &lt;/Appender&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n\n       &lt;Logger name=&quot;org.apache.http&quot; level=&quot;all&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n       &lt;/Logger&gt;\n\n        &lt;!-- desperate attempt to enable the logging on even higher hierarchy level--&gt;\n        &lt;Logger name=&quot;org.apache&quot; level=&quot;all&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Here is the part of my <code>pom.xml</code> related to the logging dependencies:</p>\n<pre><code>...\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.21.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j2-impl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.21.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n...\n</code></pre>\n<p>I ran my tests, but no logging from the <code>org.apache.*</code> loggers is printed to the console.</p>\n<p>What am I doing wrong?</p>\n<h2>EDIT: Add MVP example</h2>\n<p><strong>RestAssured pom dependency</strong>:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.testng.annotations.Test;\n\npublic class TestClass {\n    Logger logger = LogManager.getLogger(this);\n\n    @Test\n    public void test() {\n        logger.info(&quot;Before request&quot;);\n\n        RestAssured.given()\n                .get(&quot;https://google.com&quot;);\n\n        logger.info(&quot;After request&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>22:33:51.329 [main] INFO  TestClass - Before request\n22:33:52.769 [main] INFO  TestClass - After request\n\n===============================================\nDefault Suite\nTotal tests run: 1, Passes: 1, Failures: 0, Skips: 0\n===============================================\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4780661,"reputation":644,"user_id":3862532,"accept_rate":100,"display_name":"PsyCode"},"score":1,"creation_date":1415831280,"post_id":26897791,"comment_id":42348794,"body_markdown":"I tested out this code, and this problem does not occur for me. Is this exactly your code?","body":"I tested out this code, and this problem does not occur for me. Is this exactly your code?"},{"owner":{"account_id":5280700,"reputation":190,"user_id":4216184,"display_name":"Andrea Bori"},"score":0,"creation_date":1415831466,"post_id":26897791,"comment_id":42348876,"body_markdown":"i see a possible error, i have 32 i play 31 and i lose, and he give me 69$...","body":"i see a possible error, i have 32 i play 31 and i lose, and he give me 69$..."},{"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"score":0,"creation_date":1415831573,"post_id":26897791,"comment_id":42348926,"body_markdown":"`userTotal = (startingSum - userBet1);` should probably be `userTotal -= userBet1;`, and `userTotal` should probably be initialized to 100.","body":"<code>userTotal = (startingSum - userBet1);</code> should probably be <code>userTotal -= userBet1;</code>, and <code>userTotal</code> should probably be initialized to 100."},{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":0,"creation_date":1415833496,"post_id":26897791,"comment_id":42349800,"body_markdown":"Your slot machine will never pay out triple. Any triple is also a double and you are checking for double first.","body":"Your slot machine will never pay out triple. Any triple is also a double and you are checking for double first."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1593323717,"post_id":26897791,"comment_id":110736120,"body_markdown":"You might want to compare the strings with .equals() rather than ==.","body":"You might want to compare the strings with .equals() rather than ==."}],"answers":[{"tags":[],"owner":{"account_id":477570,"reputation":992,"user_id":881411,"display_name":"Jon"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1415835630,"creation_date":1415831647,"answer_id":26897982,"question_id":26897791,"body_markdown":"Simple, at the start of your loop you are assigning your total as:\r\n\r\n    userTotal = (startingSum - userBet1);\r\n\r\nThis translates to \r\n\r\n    userTotal = ($100 - userBet1);\r\n\r\nSo obviously the user is reset to $100 after each round.\r\n\r\nTry this instead:\r\n\r\n    double userTotal = startingSum;\r\n    ...\r\n    userTotal -= userBet1;\r\n\r\nThere are also several other issues with this code (such as three identical case statement bodies, which should be condensed into one with a loop), and honestly it may be worthwhile to consider posting your program on [codereview.stackexchange.com][1], as the feedback you can obtain there would offer you more in the ways of learning Java and preventing mistakes such as the one in this program.\r\n\r\n\r\n  [1]: https://codereview.stackexchange.com/","title":"Java Slot Machine Loop","body":"<p>Simple, at the start of your loop you are assigning your total as:</p>\n\n<pre><code>userTotal = (startingSum - userBet1);\n</code></pre>\n\n<p>This translates to </p>\n\n<pre><code>userTotal = ($100 - userBet1);\n</code></pre>\n\n<p>So obviously the user is reset to $100 after each round.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>double userTotal = startingSum;\n...\nuserTotal -= userBet1;\n</code></pre>\n\n<p>There are also several other issues with this code (such as three identical case statement bodies, which should be condensed into one with a loop), and honestly it may be worthwhile to consider posting your program on <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>, as the feedback you can obtain there would offer you more in the ways of learning Java and preventing mistakes such as the one in this program.</p>\n"},{"tags":[],"owner":{"account_id":5280700,"reputation":190,"user_id":4216184,"display_name":"Andrea Bori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415832633,"creation_date":1415831676,"answer_id":26897986,"question_id":26897791,"body_markdown":"Change this line and should work\r\n\r\n    double userTotal = 100.0;\r\n    userTotal -= userBet1;\r\n\r\nuse even \r\n\r\n    String valName1 = genName(), valName2 = genName(), valName3 = genName();\r\n\r\nand method\r\n\r\n    public static String genName()\r\n    {\r\n    \tint ran = new Random().nextInt(6) + 1;\r\n    \tswitch (ran)\r\n        {\r\n            case 1:\r\n                return &quot;Cherries&quot;;\r\n            case 2:\r\n            \treturn &quot;Oranges&quot;;\r\n            case 3:\r\n            \treturn &quot;Plums&quot;;\r\n            case 4:\r\n            \treturn &quot;Bells&quot;;\r\n            case 5:\r\n            \treturn &quot;Melons&quot;;\r\n            case 6:\r\n            \treturn &quot;Bars&quot;;\r\n                default:\r\n                \treturn &quot;Cherries&quot;;\r\n        }\r\n    }\r\n\r\nto clear code =)","title":"Java Slot Machine Loop","body":"<p>Change this line and should work</p>\n\n<pre><code>double userTotal = 100.0;\nuserTotal -= userBet1;\n</code></pre>\n\n<p>use even </p>\n\n<pre><code>String valName1 = genName(), valName2 = genName(), valName3 = genName();\n</code></pre>\n\n<p>and method</p>\n\n<pre><code>public static String genName()\n{\n    int ran = new Random().nextInt(6) + 1;\n    switch (ran)\n    {\n        case 1:\n            return \"Cherries\";\n        case 2:\n            return \"Oranges\";\n        case 3:\n            return \"Plums\";\n        case 4:\n            return \"Bells\";\n        case 5:\n            return \"Melons\";\n        case 6:\n            return \"Bars\";\n            default:\n                return \"Cherries\";\n    }\n}\n</code></pre>\n\n<p>to clear code =)</p>\n"},{"tags":[],"owner":{"account_id":5052435,"reputation":1826,"user_id":4056574,"accept_rate":60,"display_name":"AsSiDe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1415872431,"creation_date":1415834239,"answer_id":26898505,"question_id":26897791,"body_markdown":"Problems in your code:\r\n\r\n 1. for every iteration of the loop the **userTotal** is **100.00-userBet1**.  By writing code this way you don&#39;t maintain **userTotal** value for the next iteration.\r\n 2. in your if-else-if ladder,if first condition match then control exit from the if-else-if construct and user will never get a triple reward.\r\n 3. in your if-else-if blocks you are not maintaing **userTotal**. you are just assign it to a local variable **postBetSum**.\r\n\r\nSolutions:\r\n\r\n 1. Declare and initialize a **count=0** variable outside the loop. inside loop just increase the counter by 1. check if it is the first iteration i.e. **count==1** , then **userTotal=100.0-userBet1** . otherwise **userTotal=userTotal-userBet1**\r\n 2. make your second condition first in the if-else-if ladder. in this way you are sure if three or two(according to your code) match are there then you&#39;ll get the triple reward. if not then it will check for the next else-if block for a single match, if found then user will get double reward.\r\n 3. you can maintain **userTotal** by writing this way **userTotal+=doubleReward** . this statement make sure that **userTotal** is retaining its value after getting the reward.\r\n\r\nAll this, plus you can put your switch construct in a method which just returns a string instead of writing it three times.\r\n\r\n\r\nNow Try this:\r\n\r\n    class SlotMachineSimulation\r\n    {\r\n\t public static String getValName(int val){\r\n\t\tString valName=&quot; &quot;;\r\n\t\tswitch (val)\r\n        {\r\n            case 1:\r\n                valName = &quot;Cherries&quot;;\r\n                break;\r\n            case 2:\r\n                valName = &quot;Oranges&quot;;\r\n                break;\r\n            case 3:\r\n                valName = &quot;Plums&quot;;\r\n                break;\r\n            case 4:\r\n                valName = &quot;Bells&quot;;\r\n                break;\r\n            case 5:\r\n                valName = &quot;Melons&quot;;\r\n                break;\r\n            case 6:\r\n                valName = &quot;Bars&quot;;\r\n                break;\r\n        }\r\n\t\treturn valName;\r\n\r\n\t}\r\n\t\r\n    public static void main(String [] args)\r\n    {\r\n        Scanner user_input = new Scanner (System.in);\r\n        Random randInt = new Random();\r\n\r\n        System.out.print(&quot;Welcome to the Slot Machine Simulator!\\n&quot; + &quot;\\nActions:&quot; + &quot;\\n1. Start a new game&quot; + &quot;\\n2. View scores&quot; + &quot;\\n3. Exit\\n&quot;);\r\n        System.out.print(&quot;\\nPlease select an action: &quot;);\r\n        int userAction = user_input.nextInt();\r\n\r\n        if (userAction == 1)\r\n        {\r\n            System.out.print(&quot;\\nBefore the game begins, please enter your name: &quot;);\r\n            String userName = user_input.next();\r\n            System.out.print(&quot;\\nGame start! You will begin with $100.00.&quot; + &quot;\\nEnter a negative value to quit the game. &quot; + &quot;Good luck, &quot; + userName + &quot;!\\n&quot;);\r\n\r\n            \r\n            double userTotal = 0.0;\r\n            System.out.printf(&quot;\\nYou currently have: $%.2f\\n&quot;, 100.00);\r\n            int count=0;\r\n            do \r\n            {\r\n                System.out.print(&quot;\\nHow much would you like to bet? &quot;);\r\n                double userBet1 = user_input.nextDouble();\r\n                count++;\r\n                if(count==1){\r\n                \tuserTotal=100.0-userBet1;\r\n                }else{\r\n                \tuserTotal=userTotal-userBet1;\r\n                }\r\n                \r\n\r\n                //Beginning of random number generation \r\n                int val1 = randInt.nextInt(6) + 1;\r\n                int val2 = randInt.nextInt(6) + 1;\r\n                int val3 = randInt.nextInt(6) + 1;\r\n                \r\n                String valName1,valName2,valName3;  //For assignment of slot machine names to randomly generated values\r\n\r\n                valName1=getValName(val1);\r\n                valName2=getValName(val2);\r\n                valName3=getValName(val3);\r\n                \r\n                System.out.println(&quot;\\n-------------------------------&quot;);\r\n                System.out.printf(&quot;%-12s%-10s%5s\\n&quot;, valName1, valName2, valName3);\r\n                System.out.print(&quot;-------------------------------\\n&quot;);\r\n\r\n                //Beginning of reward calculation\r\n                if (val1 == val2 &amp;&amp; val2 == val3 &amp;&amp; val3==val1)//check this condition first otherwise even after matching these values user never get more than double\r\n                {\r\n                    System.out.println(&quot;\\nNumber of matches: 1&quot;);\r\n                    double doubleReward = (userBet1 * 2);\r\n                    userTotal+=doubleReward;\r\n                    \r\n                    System.out.printf(&quot;You have won: $%.2f&quot;, doubleReward);\r\n                    System.out.printf(&quot;\\nYou currently have: $%.2f&quot;, userTotal);\r\n                }\r\n                else if (val1 == val2 || val2 == val3 || val1 == val3)\r\n                {\r\n                    System.out.println(&quot;\\nNumber of matches: 3&quot;);\r\n                    double tripleReward = (userBet1 * 3);\r\n                    userTotal+=tripleReward;\r\n                    \r\n                    System.out.printf(&quot;\\nYou have won: $%.2f&quot;,tripleReward);\r\n                    System.out.printf(&quot;\\nYou currently have: $%.2f&quot;, userTotal);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;\\nNumber of matches: 0&quot;);\r\n                    System.out.println(&quot;You have won: $0.00&quot;);\r\n                    System.out.printf(&quot;You currently have: $%.2f&quot;, userTotal);\r\n                }\r\n            } while (userTotal &gt; 0.00);\r\n        } //end of #1 option\r\n        user_input.close();\r\n     }\r\n    }\r\n","title":"Java Slot Machine Loop","body":"<p>Problems in your code:</p>\n\n<ol>\n<li>for every iteration of the loop the <strong>userTotal</strong> is <strong>100.00-userBet1</strong>.  By writing code this way you don't maintain <strong>userTotal</strong> value for the next iteration.</li>\n<li>in your if-else-if ladder,if first condition match then control exit from the if-else-if construct and user will never get a triple reward.</li>\n<li>in your if-else-if blocks you are not maintaing <strong>userTotal</strong>. you are just assign it to a local variable <strong>postBetSum</strong>.</li>\n</ol>\n\n<p>Solutions:</p>\n\n<ol>\n<li>Declare and initialize a <strong>count=0</strong> variable outside the loop. inside loop just increase the counter by 1. check if it is the first iteration i.e. <strong>count==1</strong> , then <strong>userTotal=100.0-userBet1</strong> . otherwise <strong>userTotal=userTotal-userBet1</strong></li>\n<li>make your second condition first in the if-else-if ladder. in this way you are sure if three or two(according to your code) match are there then you'll get the triple reward. if not then it will check for the next else-if block for a single match, if found then user will get double reward.</li>\n<li>you can maintain <strong>userTotal</strong> by writing this way <strong>userTotal+=doubleReward</strong> . this statement make sure that <strong>userTotal</strong> is retaining its value after getting the reward.</li>\n</ol>\n\n<p>All this, plus you can put your switch construct in a method which just returns a string instead of writing it three times.</p>\n\n<p>Now Try this:</p>\n\n<pre><code>class SlotMachineSimulation\n{\n public static String getValName(int val){\n    String valName=\" \";\n    switch (val)\n    {\n        case 1:\n            valName = \"Cherries\";\n            break;\n        case 2:\n            valName = \"Oranges\";\n            break;\n        case 3:\n            valName = \"Plums\";\n            break;\n        case 4:\n            valName = \"Bells\";\n            break;\n        case 5:\n            valName = \"Melons\";\n            break;\n        case 6:\n            valName = \"Bars\";\n            break;\n    }\n    return valName;\n\n}\n\npublic static void main(String [] args)\n{\n    Scanner user_input = new Scanner (System.in);\n    Random randInt = new Random();\n\n    System.out.print(\"Welcome to the Slot Machine Simulator!\\n\" + \"\\nActions:\" + \"\\n1. Start a new game\" + \"\\n2. View scores\" + \"\\n3. Exit\\n\");\n    System.out.print(\"\\nPlease select an action: \");\n    int userAction = user_input.nextInt();\n\n    if (userAction == 1)\n    {\n        System.out.print(\"\\nBefore the game begins, please enter your name: \");\n        String userName = user_input.next();\n        System.out.print(\"\\nGame start! You will begin with $100.00.\" + \"\\nEnter a negative value to quit the game. \" + \"Good luck, \" + userName + \"!\\n\");\n\n\n        double userTotal = 0.0;\n        System.out.printf(\"\\nYou currently have: $%.2f\\n\", 100.00);\n        int count=0;\n        do \n        {\n            System.out.print(\"\\nHow much would you like to bet? \");\n            double userBet1 = user_input.nextDouble();\n            count++;\n            if(count==1){\n                userTotal=100.0-userBet1;\n            }else{\n                userTotal=userTotal-userBet1;\n            }\n\n\n            //Beginning of random number generation \n            int val1 = randInt.nextInt(6) + 1;\n            int val2 = randInt.nextInt(6) + 1;\n            int val3 = randInt.nextInt(6) + 1;\n\n            String valName1,valName2,valName3;  //For assignment of slot machine names to randomly generated values\n\n            valName1=getValName(val1);\n            valName2=getValName(val2);\n            valName3=getValName(val3);\n\n            System.out.println(\"\\n-------------------------------\");\n            System.out.printf(\"%-12s%-10s%5s\\n\", valName1, valName2, valName3);\n            System.out.print(\"-------------------------------\\n\");\n\n            //Beginning of reward calculation\n            if (val1 == val2 &amp;&amp; val2 == val3 &amp;&amp; val3==val1)//check this condition first otherwise even after matching these values user never get more than double\n            {\n                System.out.println(\"\\nNumber of matches: 1\");\n                double doubleReward = (userBet1 * 2);\n                userTotal+=doubleReward;\n\n                System.out.printf(\"You have won: $%.2f\", doubleReward);\n                System.out.printf(\"\\nYou currently have: $%.2f\", userTotal);\n            }\n            else if (val1 == val2 || val2 == val3 || val1 == val3)\n            {\n                System.out.println(\"\\nNumber of matches: 3\");\n                double tripleReward = (userBet1 * 3);\n                userTotal+=tripleReward;\n\n                System.out.printf(\"\\nYou have won: $%.2f\",tripleReward);\n                System.out.printf(\"\\nYou currently have: $%.2f\", userTotal);\n            }\n            else\n            {\n                System.out.println(\"\\nNumber of matches: 0\");\n                System.out.println(\"You have won: $0.00\");\n                System.out.printf(\"You currently have: $%.2f\", userTotal);\n            }\n        } while (userTotal &gt; 0.00);\n    } //end of #1 option\n    user_input.close();\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19107394,"reputation":41,"user_id":13954197,"display_name":"Mohit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624767512,"creation_date":1624767512,"answer_id":68147942,"question_id":26897791,"body_markdown":"You are subtracting userbet from startingSum in every iteration and checking the condition with userTotatl. You need to assign as follows:\r\n\r\n`userTotal = startingSum (Before the loop);`\r\n\r\nand inside the loop\r\n\r\n`userTotal-= userbet;`\r\n","title":"Java Slot Machine Loop","body":"<p>You are subtracting userbet from startingSum in every iteration and checking the condition with userTotatl. You need to assign as follows:</p>\n<p><code>userTotal = startingSum (Before the loop);</code></p>\n<p>and inside the loop</p>\n<p><code>userTotal-= userbet;</code></p>\n"}],"owner":{"account_id":5246859,"reputation":1,"user_id":4192278,"accept_rate":0,"display_name":"drjacobs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1700442491,"creation_date":1415830894,"question_id":26897791,"body_markdown":"I&#39;m still pretty new to Java, so I&#39;m having some issues working out this slot machine program. After you run the program the first time and calculate the rewards (say, you bet $20 and win $40, so your new sum&#39;s $120), it&#39;s supposed to loop back around and prompt &quot;how much would you like to bet?&quot; again, and then run through the game with your new sum (so you&#39;re betting part of your $120 instead of the $100 the game gives you at the start), and then continue doing that until you run out of money. But the way it&#39;s working now, the game keeps completely starting over, so the user loops around and starts with $100 every time. Any tips?\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner; \r\n    import java.io.*;\r\n    public class SlotMachineSimulation\r\n    {\r\n    \tpublic static void main(String [] args)\r\n    \t{\r\n    \t\tScanner user_input = new Scanner (System.in);\r\n    \t\tRandom randInt = new Random();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Welcome to the Slot Machine Simulator!\\n&quot; + &quot;\\nActions:&quot; + &quot;\\n1. Start a new game&quot; + &quot;\\n2. View scores&quot; + &quot;\\n3. Exit\\n&quot;);\r\n    \t\tSystem.out.print(&quot;\\nPlease select an action: &quot;);\r\n    \t\tint userAction = user_input.nextInt();\r\n    \t\t\r\n    \t\tif (userAction == 1)\r\n    \t\t{\r\n    \t\t\tSystem.out.print(&quot;\\nBefore the game begins, please enter your name: &quot;);\r\n    \t\t\tString userName = user_input.next();\r\n    \t\t\tSystem.out.print(&quot;\\nGame start! You will begin with $100.00.&quot; + &quot;\\nEnter a negative value to quit the game. &quot; + &quot;Good luck, &quot; + userName + &quot;!\\n&quot;);\r\n    \t\t\t\r\n    \t\t\tdouble startingSum = 100.00;\r\n    \t\t\tdouble userTotal = 0.0;\r\n    \t\t\tSystem.out.printf(&quot;\\nYou currently have: $%.2f\\n&quot;, startingSum);\r\n    \t\t\t\r\n    \t\t\tdo \r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(&quot;\\nHow much would you like to bet? &quot;);\r\n    \t\t\t\tdouble userBet1 = user_input.nextDouble();\t\r\n    \t\t\t\tuserTotal = (startingSum - userBet1);\r\n    \t\t\t\r\n    \t\t\t\t//Beginning of random number generation \r\n    \t\t\t\tint val1 = randInt.nextInt(6) + 1;\r\n    \t\t\t\tint val2 = randInt.nextInt(6) + 1;\r\n    \t\t\t\tint val3 = randInt.nextInt(6) + 1;\r\n    \t\t\t\tString valName1 = &quot; &quot;, valName2 = &quot; &quot;, valName3 = &quot; &quot;;\t//For assignment of slot machine names to randomly generated values\r\n    \t\t\t\t\r\n    \t\t\t\tswitch (val1)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcase 1:\r\n    \t\t\t\t\t\tvalName1 = &quot;Cherries&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 2:\r\n    \t\t\t\t\t\tvalName1 = &quot;Oranges&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 3:\r\n    \t\t\t\t\t\tvalName1 = &quot;Plums&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 4:\r\n    \t\t\t\t\t\tvalName1 = &quot;Bells&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 5:\r\n    \t\t\t\t\t\tvalName1 = &quot;Melons&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 6:\r\n    \t\t\t\t\t\tvalName1 = &quot;Bars&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tswitch (val2)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcase 1:\r\n    \t\t\t\t\t\tvalName2 = &quot;Cherries&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 2:\r\n    \t\t\t\t\t\tvalName2 = &quot;Oranges&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 3:\r\n    \t\t\t\t\t\tvalName2 = &quot;Plums&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 4:\r\n    \t\t\t\t\t\tvalName2 = &quot;Bells&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 5:\r\n    \t\t\t\t\t\tvalName2 = &quot;Melons&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 6:\r\n    \t\t\t\t\t\tvalName2 = &quot;Bars&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tswitch (val3)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcase 1:\r\n    \t\t\t\t\t\tvalName3 = &quot;Cherries&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 2:\r\n    \t\t\t\t\t\tvalName3 = &quot;Oranges&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 3:\r\n    \t\t\t\t\t\tvalName3 = &quot;Plums&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 4:\r\n    \t\t\t\t\t\tvalName3 = &quot;Bells&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 5:\r\n    \t\t\t\t\t\tvalName3 = &quot;Melons&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 6:\r\n    \t\t\t\t\t\tvalName3 = &quot;Bars&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;\\n-------------------------------&quot;);\r\n    \t\t\t\tSystem.out.printf(&quot;%-12s%-10s%5s\\n&quot;, valName1, valName2, valName3);\r\n    \t\t\t\tSystem.out.print(&quot;-------------------------------\\n&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t//Beginning of reward calculation\r\n    \t\t\t\tif (val1 == val2 || val2 == val3 || val1 == val3)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;\\nNumber of matches: 1&quot;);\r\n    \t\t\t\t\tdouble doubleReward = (userBet1 * 2);\r\n    \t\t\t\t\tdouble postBetSum = (userTotal + doubleReward);\r\n    \t\t\t\t\tSystem.out.printf(&quot;You have won: $%.2f&quot;, doubleReward);\r\n    \t\t\t\t\tSystem.out.printf(&quot;\\nYou currently have: $%.2f&quot;, postBetSum);\r\n    \t\t\t\t}\r\n    \t\t\t\telse if (val1 == val2 &amp;&amp; val2 == val3)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;\\nNumber of matches: 3&quot;);\r\n    \t\t\t\t\tdouble tripleReward = (userBet1 * 3);\r\n    \t\t\t\t\tdouble postBetSum = (userTotal + tripleReward);\r\n    \t\t\t\t\tSystem.out.printf(&quot;\\nYou have won: $%.2f&quot;,tripleReward);\r\n    \t\t\t\t\tSystem.out.printf(&quot;\\nYou currently have: $%.2f&quot;, postBetSum);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;\\nNumber of matches: 0&quot;);\r\n    \t\t\t\t\tSystem.out.println(&quot;You have won: $0.00&quot;);\r\n    \t\t\t\t\tSystem.out.printf(&quot;You currently have: $%.2f&quot;, userTotal);\r\n    \t\t\t\t}\r\n    \t\t\t} while (userTotal &gt; 0.00);\r\n    \t\t} //end of #1 option\r\n    \t}\r\n    }","title":"Java Slot Machine Loop","body":"<p>I'm still pretty new to Java, so I'm having some issues working out this slot machine program. After you run the program the first time and calculate the rewards (say, you bet $20 and win $40, so your new sum's $120), it's supposed to loop back around and prompt \"how much would you like to bet?\" again, and then run through the game with your new sum (so you're betting part of your $120 instead of the $100 the game gives you at the start), and then continue doing that until you run out of money. But the way it's working now, the game keeps completely starting over, so the user loops around and starts with $100 every time. Any tips?</p>\n\n<pre><code>import java.util.Random;\nimport java.util.Scanner; \nimport java.io.*;\npublic class SlotMachineSimulation\n{\n    public static void main(String [] args)\n    {\n        Scanner user_input = new Scanner (System.in);\n        Random randInt = new Random();\n\n        System.out.print(\"Welcome to the Slot Machine Simulator!\\n\" + \"\\nActions:\" + \"\\n1. Start a new game\" + \"\\n2. View scores\" + \"\\n3. Exit\\n\");\n        System.out.print(\"\\nPlease select an action: \");\n        int userAction = user_input.nextInt();\n\n        if (userAction == 1)\n        {\n            System.out.print(\"\\nBefore the game begins, please enter your name: \");\n            String userName = user_input.next();\n            System.out.print(\"\\nGame start! You will begin with $100.00.\" + \"\\nEnter a negative value to quit the game. \" + \"Good luck, \" + userName + \"!\\n\");\n\n            double startingSum = 100.00;\n            double userTotal = 0.0;\n            System.out.printf(\"\\nYou currently have: $%.2f\\n\", startingSum);\n\n            do \n            {\n                System.out.print(\"\\nHow much would you like to bet? \");\n                double userBet1 = user_input.nextDouble();  \n                userTotal = (startingSum - userBet1);\n\n                //Beginning of random number generation \n                int val1 = randInt.nextInt(6) + 1;\n                int val2 = randInt.nextInt(6) + 1;\n                int val3 = randInt.nextInt(6) + 1;\n                String valName1 = \" \", valName2 = \" \", valName3 = \" \";  //For assignment of slot machine names to randomly generated values\n\n                switch (val1)\n                {\n                    case 1:\n                        valName1 = \"Cherries\";\n                        break;\n                    case 2:\n                        valName1 = \"Oranges\";\n                        break;\n                    case 3:\n                        valName1 = \"Plums\";\n                        break;\n                    case 4:\n                        valName1 = \"Bells\";\n                        break;\n                    case 5:\n                        valName1 = \"Melons\";\n                        break;\n                    case 6:\n                        valName1 = \"Bars\";\n                        break;\n                }\n\n                switch (val2)\n                {\n                    case 1:\n                        valName2 = \"Cherries\";\n                        break;\n                    case 2:\n                        valName2 = \"Oranges\";\n                        break;\n                    case 3:\n                        valName2 = \"Plums\";\n                        break;\n                    case 4:\n                        valName2 = \"Bells\";\n                        break;\n                    case 5:\n                        valName2 = \"Melons\";\n                        break;\n                    case 6:\n                        valName2 = \"Bars\";\n                        break;\n                }\n\n                switch (val3)\n                {\n                    case 1:\n                        valName3 = \"Cherries\";\n                        break;\n                    case 2:\n                        valName3 = \"Oranges\";\n                        break;\n                    case 3:\n                        valName3 = \"Plums\";\n                        break;\n                    case 4:\n                        valName3 = \"Bells\";\n                        break;\n                    case 5:\n                        valName3 = \"Melons\";\n                        break;\n                    case 6:\n                        valName3 = \"Bars\";\n                        break;\n                }\n\n                System.out.println(\"\\n-------------------------------\");\n                System.out.printf(\"%-12s%-10s%5s\\n\", valName1, valName2, valName3);\n                System.out.print(\"-------------------------------\\n\");\n\n                //Beginning of reward calculation\n                if (val1 == val2 || val2 == val3 || val1 == val3)\n                {\n                    System.out.println(\"\\nNumber of matches: 1\");\n                    double doubleReward = (userBet1 * 2);\n                    double postBetSum = (userTotal + doubleReward);\n                    System.out.printf(\"You have won: $%.2f\", doubleReward);\n                    System.out.printf(\"\\nYou currently have: $%.2f\", postBetSum);\n                }\n                else if (val1 == val2 &amp;&amp; val2 == val3)\n                {\n                    System.out.println(\"\\nNumber of matches: 3\");\n                    double tripleReward = (userBet1 * 3);\n                    double postBetSum = (userTotal + tripleReward);\n                    System.out.printf(\"\\nYou have won: $%.2f\",tripleReward);\n                    System.out.printf(\"\\nYou currently have: $%.2f\", postBetSum);\n                }\n                else\n                {\n                    System.out.println(\"\\nNumber of matches: 0\");\n                    System.out.println(\"You have won: $0.00\");\n                    System.out.printf(\"You currently have: $%.2f\", userTotal);\n                }\n            } while (userTotal &gt; 0.00);\n        } //end of #1 option\n    }\n}\n</code></pre>\n"},{"tags":["java","string","string-formatting"],"comments":[{"owner":{"account_id":105274,"reputation":29811,"user_id":281028,"accept_rate":50,"display_name":"The Scrum Meister"},"score":3,"creation_date":1308691001,"post_id":6431933,"comment_id":7548015,"body_markdown":"See [This Question](http://stackoverflow.com/questions/5057960/is-there-a-general-string-substitution-function-similar-to-sl4fj)","body":"See <a href=\"http://stackoverflow.com/questions/5057960/is-there-a-general-string-substitution-function-similar-to-sl4fj\">This Question</a>"},{"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"score":0,"creation_date":1488847347,"post_id":6431933,"comment_id":72403992,"body_markdown":"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax","body":"<a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":198534,"reputation":9409,"user_id":443265,"accept_rate":90,"display_name":"Martin T&#246;rnwall"},"down_vote_count":0,"up_vote_count":311,"is_accepted":false,"score":311,"last_activity_date":1549835349,"creation_date":1308690268,"answer_id":6431949,"question_id":6431933,"body_markdown":"Take a look at [String.format][1]. Note, however, that it takes format specifiers similar to those of C&#39;s printf family of functions -- for example:\r\n\r\n    String.format(&quot;Hello %s, %d&quot;, &quot;world&quot;, 42);\r\n\r\nWould return &quot;Hello world, 42&quot;. You may find [this][2] helpful when learning about the format specifiers. Andy Thomas-Cramer was kind enough to leave [this][3] link in a comment below, which appears to point to the official spec. The most commonly used ones are:\r\n\r\n- %s - insert a string\r\n- %d - insert a signed integer (decimal)\r\n- %f - insert a real number, standard notation\r\n\r\nThis is radically different from C#, which uses positional references with an optional format specifier. &lt;strike&gt;That means that you can&#39;t do things like:&lt;/strike&gt;\r\n\r\n    String.format(&quot;The {0} is repeated again: {0}&quot;, &quot;word&quot;);\r\n\r\n... &lt;strike&gt;without actually repeating the parameter passed to printf/format.&lt;/strike&gt; (see  The Scrum Meister&#39;s comment below)\r\n\r\n----\r\nIf you just want to print the result directly, you may find System.out.printf ([PrintStream.printf][4]) to your liking.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\r\n  [2]: http://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/Formatter.html#syntax\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29","title":"How to format strings in Java","body":"<p>Take a look at <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\">String.format</a>. Note, however, that it takes format specifiers similar to those of C's printf family of functions -- for example:</p>\n\n<pre><code>String.format(\"Hello %s, %d\", \"world\", 42);\n</code></pre>\n\n<p>Would return \"Hello world, 42\". You may find <a href=\"http://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm\" rel=\"noreferrer\">this</a> helpful when learning about the format specifiers. Andy Thomas-Cramer was kind enough to leave <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Formatter.html#syntax\" rel=\"noreferrer\">this</a> link in a comment below, which appears to point to the official spec. The most commonly used ones are:</p>\n\n<ul>\n<li>%s - insert a string</li>\n<li>%d - insert a signed integer (decimal)</li>\n<li>%f - insert a real number, standard notation</li>\n</ul>\n\n<p>This is radically different from C#, which uses positional references with an optional format specifier. <strike>That means that you can't do things like:</strike></p>\n\n<pre><code>String.format(\"The {0} is repeated again: {0}\", \"word\");\n</code></pre>\n\n<p>... <strike>without actually repeating the parameter passed to printf/format.</strike> (see  The Scrum Meister's comment below)</p>\n\n<hr>\n\n<p>If you just want to print the result directly, you may find System.out.printf (<a href=\"http://download.oracle.com/javase/6/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\">PrintStream.printf</a>) to your liking.</p>\n"},{"tags":[],"owner":{"account_id":284195,"reputation":5422,"user_id":582136,"accept_rate":100,"display_name":"Ryan Amos"},"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1463513041,"creation_date":1308690784,"answer_id":6432037,"question_id":6431933,"body_markdown":"If you choose not to use String.format, the other option is the + binary operator\r\n\r\n    String str = &quot;Step &quot; + a + &quot; of &quot; + b;\r\n\r\nThis is the equivalent of\r\n\r\n`new StringBuilder(&quot;Step &quot;).append(String.valueOf(1)).append(&quot; of &quot;).append(String.valueOf(2));`\r\n\r\nWhichever you use is your choice. StringBuilder is faster, but the speed difference is marginal. I prefer to use the `+` operator (which does a `StringBuilder.append(String.valueOf(X)))` and find it easier to read.","title":"How to format strings in Java","body":"<p>If you choose not to use String.format, the other option is the + binary operator</p>\n\n<pre><code>String str = \"Step \" + a + \" of \" + b;\n</code></pre>\n\n<p>This is the equivalent of</p>\n\n<p><code>new StringBuilder(\"Step \").append(String.valueOf(1)).append(\" of \").append(String.valueOf(2));</code></p>\n\n<p>Whichever you use is your choice. StringBuilder is faster, but the speed difference is marginal. I prefer to use the <code>+</code> operator (which does a <code>StringBuilder.append(String.valueOf(X)))</code> and find it easier to read.</p>\n"},{"tags":[],"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"down_vote_count":6,"up_vote_count":186,"is_accepted":true,"score":180,"last_activity_date":1308934442,"creation_date":1308691095,"answer_id":6432100,"question_id":6431933,"body_markdown":"In addition to String.format, also take a look [`java.text.MessageFormat`](http://download.oracle.com/javase/6/docs/api/java/text/MessageFormat.html).  The format less terse and a bit closer to the C# example you&#39;ve provided and you can use it for parsing as well.\r\n\r\nFor example:    \r\n\r\n    int someNumber = 42;\r\n    String someString = &quot;foobar&quot;;\r\n    Object[] args = {new Long(someNumber), someString};\r\n    MessageFormat fmt = new MessageFormat(&quot;String is \\&quot;{1}\\&quot;, number is {0}.&quot;);\r\n    System.out.println(fmt.format(args));\r\n\r\nA nicer example takes advantage of the varargs and autoboxing improvements in Java 1.5 and turns the above into a one-liner:\r\n\r\n    MessageFormat.format(&quot;String is \\&quot;{1}\\&quot;, number is {0}.&quot;, 42, &quot;foobar&quot;);\r\n\r\n`MessageFormat` is a little bit nicer for doing i18nized plurals with the choice modifier.  To specify a message that correctly uses the singular form when a variable is 1 and plural otherwise, you can do something like this:\r\n\r\n    String formatString = &quot;there were {0} {0,choice,0#objects|1#object|1&lt;objects}&quot;;\r\n    MessageFormat fmt = new MessageFormat(formatString);\r\n    fmt.format(new Object[] { new Long(numberOfObjects) });\r\n","title":"How to format strings in Java","body":"<p>In addition to String.format, also take a look <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/MessageFormat.html\"><code>java.text.MessageFormat</code></a>.  The format less terse and a bit closer to the C# example you've provided and you can use it for parsing as well.</p>\n\n<p>For example:    </p>\n\n<pre><code>int someNumber = 42;\nString someString = \"foobar\";\nObject[] args = {new Long(someNumber), someString};\nMessageFormat fmt = new MessageFormat(\"String is \\\"{1}\\\", number is {0}.\");\nSystem.out.println(fmt.format(args));\n</code></pre>\n\n<p>A nicer example takes advantage of the varargs and autoboxing improvements in Java 1.5 and turns the above into a one-liner:</p>\n\n<pre><code>MessageFormat.format(\"String is \\\"{1}\\\", number is {0}.\", 42, \"foobar\");\n</code></pre>\n\n<p><code>MessageFormat</code> is a little bit nicer for doing i18nized plurals with the choice modifier.  To specify a message that correctly uses the singular form when a variable is 1 and plural otherwise, you can do something like this:</p>\n\n<pre><code>String formatString = \"there were {0} {0,choice,0#objects|1#object|1&lt;objects}\";\nMessageFormat fmt = new MessageFormat(formatString);\nfmt.format(new Object[] { new Long(numberOfObjects) });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1498527709,"creation_date":1486470986,"answer_id":42090083,"question_id":6431933,"body_markdown":"    public class StringFormat {\r\n\r\n        public static void main(String[] args) {\r\n                Scanner sc=new Scanner(System.in);\r\n                System.out.println(&quot;================================&quot;);\r\n                for(int i=0;i&lt;3;i++){\r\n                    String s1=sc.next();\r\n                    int x=sc.nextInt();\r\n                    System.out.println(String.format(&quot;%-15s%03d&quot;,s1,x));\r\n                }\r\n                System.out.println(&quot;================================&quot;);\r\n\r\n        }\r\n    }\r\n&gt;outpot\r\n&quot;================================&quot;           \r\nved15space123\r\nved15space123\r\nved15space123\r\n&quot;================================\r\n\r\n**Java solution**\r\n\r\n- The &quot;-&quot; is used to left indent\r\n\r\n- The &quot;15&quot; makes the String&#39;s minimum length it takes up be 15\r\n- The &quot;s&quot; (which is a few characters after %) will be substituted by our String\r\n- The 0 pads our integer with 0s on the left\r\n- The 3 makes our integer be a minimum length of 3","title":"How to format strings in Java","body":"<pre><code>public class StringFormat {\n\n    public static void main(String[] args) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(\"================================\");\n            for(int i=0;i&lt;3;i++){\n                String s1=sc.next();\n                int x=sc.nextInt();\n                System.out.println(String.format(\"%-15s%03d\",s1,x));\n            }\n            System.out.println(\"================================\");\n\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>outpot\n  \"================================\"<br>\n  ved15space123\n  ved15space123\n  ved15space123\n  \"================================</p>\n</blockquote>\n\n<p><strong>Java solution</strong></p>\n\n<ul>\n<li><p>The \"-\" is used to left indent</p></li>\n<li><p>The \"15\" makes the String's minimum length it takes up be 15</p></li>\n<li>The \"s\" (which is a few characters after %) will be substituted by our String</li>\n<li>The 0 pads our integer with 0s on the left</li>\n<li>The 3 makes our integer be a minimum length of 3</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":66852,"reputation":422,"user_id":195922,"display_name":"Tomasz Modelski"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1678167877,"creation_date":1493058369,"answer_id":43595246,"question_id":6431933,"body_markdown":"I&#39;ve wrote my simple method for it : \r\n\r\n    public class SomeCommons {\r\n        /** Message Format like &#39;Some String {0} / {1}&#39; with arguments */\r\n        public static String msgFormat(String s, Object... args) {\r\n        \treturn new MessageFormat(s).format(args);\r\n        }\r\n    }\r\n\r\nso you can use it as: \r\n\r\n    SomeCommons.msgFormat(&quot;Step {1} of {2}&quot;, 1 , &quot;two&quot;);\r\n\r\n","title":"How to format strings in Java","body":"<p>I've wrote my simple method for it :</p>\n<pre><code>public class SomeCommons {\n    /** Message Format like 'Some String {0} / {1}' with arguments */\n    public static String msgFormat(String s, Object... args) {\n        return new MessageFormat(s).format(args);\n    }\n}\n</code></pre>\n<p>so you can use it as:</p>\n<pre><code>SomeCommons.msgFormat(&quot;Step {1} of {2}&quot;, 1 , &quot;two&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11787081,"reputation":526,"user_id":8624381,"display_name":"Felipe Bejarano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515976721,"creation_date":1515975538,"answer_id":48255518,"question_id":6431933,"body_markdown":"This solution worked for me. I needed to create urls for a REST client dynamically so I created this method, so you just have to pass the restURL like this\r\n\r\n    /customer/{0}/user/{1}/order\r\n\r\nand add as many params as you need:\r\n\r\n    public String createURL (String restURL, Object ... params) {\t\t\r\n\t\treturn new MessageFormat(restURL).format(params);\r\n\t}\r\n\r\nYou just have to call this method like this:\r\n\r\n    createURL(&quot;/customer/{0}/user/{1}/order&quot;, 123, 321);\r\n\r\nThe output \r\n\r\n&gt; &quot;/customer/123/user/321/order&quot;\r\n","title":"How to format strings in Java","body":"<p>This solution worked for me. I needed to create urls for a REST client dynamically so I created this method, so you just have to pass the restURL like this</p>\n\n<pre><code>/customer/{0}/user/{1}/order\n</code></pre>\n\n<p>and add as many params as you need:</p>\n\n<pre><code>public String createURL (String restURL, Object ... params) {       \n    return new MessageFormat(restURL).format(params);\n}\n</code></pre>\n\n<p>You just have to call this method like this:</p>\n\n<pre><code>createURL(\"/customer/{0}/user/{1}/order\", 123, 321);\n</code></pre>\n\n<p>The output </p>\n\n<blockquote>\n  <p>\"/customer/123/user/321/order\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18322520,"reputation":11,"user_id":13342978,"display_name":"DefconT34"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587158801,"creation_date":1587155535,"answer_id":61280186,"question_id":6431933,"body_markdown":"I wrote this function it does just the right thing. Interpolate a word starting with `$` with the value of the variable of the same name.\r\n\r\n\r\n    private static String interpol1(String x){\r\n        Field[] ffield =  Main.class.getDeclaredFields();\r\n        String[] test = x.split(&quot; &quot;) ;\r\n        for (String v : test ) {\r\n            for ( Field n: ffield ) {\r\n                if(v.startsWith(&quot;$&quot;) &amp;&amp; ( n.getName().equals(v.substring(1))  )){\r\n                    try {\r\n                        x = x.replace(&quot;$&quot; + v.substring(1), String.valueOf( n.get(null)));\r\n                    }catch (Exception e){\r\n                        System.out.println(&quot;&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return x;\r\n    }\r\n\r\n","title":"How to format strings in Java","body":"<p>I wrote this function it does just the right thing. Interpolate a word starting with <code>$</code> with the value of the variable of the same name.</p>\n\n<pre><code>private static String interpol1(String x){\n    Field[] ffield =  Main.class.getDeclaredFields();\n    String[] test = x.split(\" \") ;\n    for (String v : test ) {\n        for ( Field n: ffield ) {\n            if(v.startsWith(\"$\") &amp;&amp; ( n.getName().equals(v.substring(1))  )){\n                try {\n                    x = x.replace(\"$\" + v.substring(1), String.valueOf( n.get(null)));\n                }catch (Exception e){\n                    System.out.println(\"\");\n                }\n            }\n        }\n    }\n    return x;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1638804357,"creation_date":1599505617,"answer_id":63783008,"question_id":6431933,"body_markdown":"&lt;h2&gt;String#format&lt;/h2&gt;\r\n\r\nThe most frequent way to format a String is using this static method, that is long available since Java 5 and has two overloaded methods:\r\n\r\n- [`String#format(String format, Object args...)`][1]\r\n- [`String#format(Locale l, String format, Object args...)`][2]\r\n\r\nThe method is easy to use and the `format` pattern is defined by underlying [formatter][3].\r\n\r\n```\r\nString step1 = &quot;one&quot;;\r\nString step2 = &quot;two&quot;;\r\n\r\n// results in &quot;Step one of two&quot;\r\nString string = String.format(&quot;Step %s of %s&quot;, step1, step2); \r\n```\r\n\r\nYou can pass a `Locale` to respect the language and regional specification. Refer to this answer for more information: https://stackoverflow.com/a/6431949/3764965 (credits to [Martin T&#246;rnwall][4]).\r\n\r\n&lt;h2&gt;MessageFormat&lt;/h2&gt;\r\n\r\nThe [`MessageFormat`][5] class is available since the first version of Java and is suitable for internationalization. In the simplest form, there is a static method for formatting:\r\n\r\n- [`MessageFormat#format​(String pattern, Object... arguments)`][6]\r\n\r\n```\r\nString step1 = &quot;one&quot;;\r\nString step2 = &quot;two&quot;;\r\n\r\n// results in &quot;Step one of two&quot;\r\nString string = MessageFormat.format(&quot;Step {0} of {1}&quot;, step1, step2);\r\n```\r\n\r\nRemember `MessageFormat` follows a specific pattern different from `String#format`, refer to its JavaDoc for more details: [MessageFormat - patterns][7].\r\n\r\nIt is possible to use `Locale`, however, one has to instantiate the object of the class and pass it to the constructor since the static method above uses the default constructor with the default locale. Refer to this answer for more information: https://stackoverflow.com/a/6432100/3764965 (credits to [ataylor][8]).\r\n\r\n&lt;h2&gt;Non standard JDK solutions&lt;/h2&gt;\r\n\r\nThere are plenty of ways to format Strings using external libraries. They add little to no benefit if the libraries are imported solely for the purpose of String formatting. Few examples:\r\n - Apache Commons: [`StringSubstitutor`][9], examples in its JavaDoc.\r\n - Cactoos: [`FormattedText`][10], examples [here][11].\r\n - Interestingly, Guava doesn&#39;t plan to add formatting or templating features: [#1142][12].\r\n - ... and other custom implementations.\r\n\r\n&lt;sup&gt;Feel free to add more, however, I find no reason to further expand this section.&lt;/sup&gt;\r\n\r\n&lt;h2&gt;Alternative since Java 15&lt;/h2&gt;\r\n\r\nThere is a new instance method called [`String#formatted(Object... args)`][13] as of Java 15. \r\n\r\nThe internal implementation is the same as [`String#format(String format, Object... args)`][14]. \r\n\r\n&gt; Formats using this string as the format string, and the supplied arguments.\r\n\r\n    String step1 = &quot;one&quot;;\r\n    String step2 = &quot;two&quot;;\r\n\r\n    // results in &quot;Step one of two&quot;\r\n    String string = &quot;Step %s of %s&quot;.formatted(step1, step2);     \r\n    \r\n**Advantage**: The difference is that the method is not `static` and the formatting pattern is *a string itself* from which a new one is created based on the `args`. This allows chaining to build the format itself first.\r\n\r\n**Disadvantage**: There is no overloaded method with `Locale`, therefore uses the default one. If you need to use a custom `Locale`, you have to stick with [`String#format(Locale l, String format, Object... args)`][15].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#format(java.util.Locale,java.lang.String,java.lang.Object...)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax\r\n  [4]: https://stackoverflow.com/users/443265/martin-t%C3%B6rnwall\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#format(java.lang.String,java.lang.Object...)\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#patterns\r\n  [8]: https://stackoverflow.com/users/190201/ataylor\r\n  [9]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\r\n  [10]: https://www.javadoc.io/doc/org.cactoos/cactoos/0.16/org/cactoos/text/FormattedText.html\r\n  [11]: https://www.baeldung.com/java-cactoos#formatted-string\r\n  [12]: https://github.com/google/guava/issues/1142#issuecomment-61352720\r\n  [13]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\r\n  [14]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\r\n  [15]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#format(java.util.Locale,java.lang.String,java.lang.Object...)","title":"How to format strings in Java","body":"<h2>String#format</h2>\n<p>The most frequent way to format a String is using this static method, that is long available since Java 5 and has two overloaded methods:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"noreferrer\"><code>String#format(String format, Object args...)</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#format(java.util.Locale,java.lang.String,java.lang.Object...)\" rel=\"noreferrer\"><code>String#format(Locale l, String format, Object args...)</code></a></li>\n</ul>\n<p>The method is easy to use and the <code>format</code> pattern is defined by underlying <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"noreferrer\">formatter</a>.</p>\n<pre><code>String step1 = &quot;one&quot;;\nString step2 = &quot;two&quot;;\n\n// results in &quot;Step one of two&quot;\nString string = String.format(&quot;Step %s of %s&quot;, step1, step2); \n</code></pre>\n<p>You can pass a <code>Locale</code> to respect the language and regional specification. Refer to this answer for more information: <a href=\"https://stackoverflow.com/a/6431949/3764965\">https://stackoverflow.com/a/6431949/3764965</a> (credits to <a href=\"https://stackoverflow.com/users/443265/martin-t%C3%B6rnwall\">Martin Törnwall</a>).</p>\n<h2>MessageFormat</h2>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html\" rel=\"noreferrer\"><code>MessageFormat</code></a> class is available since the first version of Java and is suitable for internationalization. In the simplest form, there is a static method for formatting:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#format(java.lang.String,java.lang.Object...)\" rel=\"noreferrer\"><code>MessageFormat#format​(String pattern, Object... arguments)</code></a></li>\n</ul>\n<pre><code>String step1 = &quot;one&quot;;\nString step2 = &quot;two&quot;;\n\n// results in &quot;Step one of two&quot;\nString string = MessageFormat.format(&quot;Step {0} of {1}&quot;, step1, step2);\n</code></pre>\n<p>Remember <code>MessageFormat</code> follows a specific pattern different from <code>String#format</code>, refer to its JavaDoc for more details: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html#patterns\" rel=\"noreferrer\">MessageFormat - patterns</a>.</p>\n<p>It is possible to use <code>Locale</code>, however, one has to instantiate the object of the class and pass it to the constructor since the static method above uses the default constructor with the default locale. Refer to this answer for more information: <a href=\"https://stackoverflow.com/a/6432100/3764965\">https://stackoverflow.com/a/6432100/3764965</a> (credits to <a href=\"https://stackoverflow.com/users/190201/ataylor\">ataylor</a>).</p>\n<h2>Non standard JDK solutions</h2>\n<p>There are plenty of ways to format Strings using external libraries. They add little to no benefit if the libraries are imported solely for the purpose of String formatting. Few examples:</p>\n<ul>\n<li>Apache Commons: <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"noreferrer\"><code>StringSubstitutor</code></a>, examples in its JavaDoc.</li>\n<li>Cactoos: <a href=\"https://www.javadoc.io/doc/org.cactoos/cactoos/0.16/org/cactoos/text/FormattedText.html\" rel=\"noreferrer\"><code>FormattedText</code></a>, examples <a href=\"https://www.baeldung.com/java-cactoos#formatted-string\" rel=\"noreferrer\">here</a>.</li>\n<li>Interestingly, Guava doesn't plan to add formatting or templating features: <a href=\"https://github.com/google/guava/issues/1142#issuecomment-61352720\" rel=\"noreferrer\">#1142</a>.</li>\n<li>... and other custom implementations.</li>\n</ul>\n<p><sup>Feel free to add more, however, I find no reason to further expand this section.</sup></p>\n<h2>Alternative since Java 15</h2>\n<p>There is a new instance method called <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"noreferrer\"><code>String#formatted(Object... args)</code></a> as of Java 15.</p>\n<p>The internal implementation is the same as <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"noreferrer\"><code>String#format(String format, Object... args)</code></a>.</p>\n<blockquote>\n<p>Formats using this string as the format string, and the supplied arguments.</p>\n</blockquote>\n<pre><code>String step1 = &quot;one&quot;;\nString step2 = &quot;two&quot;;\n\n// results in &quot;Step one of two&quot;\nString string = &quot;Step %s of %s&quot;.formatted(step1, step2);     \n</code></pre>\n<p><strong>Advantage</strong>: The difference is that the method is not <code>static</code> and the formatting pattern is <em>a string itself</em> from which a new one is created based on the <code>args</code>. This allows chaining to build the format itself first.</p>\n<p><strong>Disadvantage</strong>: There is no overloaded method with <code>Locale</code>, therefore uses the default one. If you need to use a custom <code>Locale</code>, you have to stick with <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#format(java.util.Locale,java.lang.String,java.lang.Object...)\" rel=\"noreferrer\"><code>String#format(Locale l, String format, Object... args)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":20206926,"reputation":25,"user_id":14821070,"display_name":"vlcheong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607920951,"creation_date":1607920951,"answer_id":65283709,"question_id":6431933,"body_markdown":"The [org.apache.commons.text.StringSubstitutor][1] helper class from Apache Commons Text provides named variable substitution\r\n\r\n    Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\r\n    valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n    valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n    String resolved = new StringSubstitutor(valuesMap).replace(&quot;The ${animal} jumped over the ${target}.&quot;);\r\n    System.out.println(resolved); // The quick brown fox jumped over the lazy dog.\r\n\r\n \r\n\r\n    \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html","title":"How to format strings in Java","body":"<p>The <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">org.apache.commons.text.StringSubstitutor</a> helper class from Apache Commons Text provides named variable substitution</p>\n<pre><code>Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\nvaluesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\nvaluesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\nString resolved = new StringSubstitutor(valuesMap).replace(&quot;The ${animal} jumped over the ${target}.&quot;);\nSystem.out.println(resolved); // The quick brown fox jumped over the lazy dog.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689791483,"creation_date":1618795669,"answer_id":67154939,"question_id":6431933,"body_markdown":"[Apache Commons Text](https://commons.apache.org/proper/commons-text/)&#39;s [`StringSubstitutor`](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html) provides a simple and readable way to format `String`s with named variables.\r\n\r\n```\r\nimport org.apache.commons.text.StringSubstitutor;\r\n// ...\r\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\nvalues.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\nStringSubstitutor sub = new StringSubstitutor(values);\r\nString result = sub.replace(&quot;The ${animal} jumped over the ${target}.&quot;);\r\n// &quot;The quick brown fox jumped over the lazy dog.&quot;\r\n```\r\n\r\nThis class supports providing default values for variables.\r\n\r\n```\r\nString result = sub.replace(&quot;The number is ${undefined.property:-42}.&quot;);\r\n// &quot;The number is 42.&quot;\r\n```\r\n\r\nTo use recursive variable replacement, call `setEnableSubstitutionInVariables(true);`.\r\n\r\n```\r\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;b&quot;, &quot;c&quot;);\r\nvalues.put(&quot;ac&quot;, &quot;Test&quot;);\r\nStringSubstitutor sub = new StringSubstitutor(values);\r\nsub.setEnableSubstitutionInVariables(true);\r\nString result = sub.replace(&quot;${a${b}}&quot;);\r\n// &quot;Test&quot;\r\n```","title":"How to format strings in Java","body":"<p><a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text</a>'s <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\"><code>StringSubstitutor</code></a> provides a simple and readable way to format <code>String</code>s with named variables.</p>\n<pre><code>import org.apache.commons.text.StringSubstitutor;\n// ...\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\nvalues.put(&quot;target&quot;, &quot;lazy dog&quot;);\nStringSubstitutor sub = new StringSubstitutor(values);\nString result = sub.replace(&quot;The ${animal} jumped over the ${target}.&quot;);\n// &quot;The quick brown fox jumped over the lazy dog.&quot;\n</code></pre>\n<p>This class supports providing default values for variables.</p>\n<pre><code>String result = sub.replace(&quot;The number is ${undefined.property:-42}.&quot;);\n// &quot;The number is 42.&quot;\n</code></pre>\n<p>To use recursive variable replacement, call <code>setEnableSubstitutionInVariables(true);</code>.</p>\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;b&quot;, &quot;c&quot;);\nvalues.put(&quot;ac&quot;, &quot;Test&quot;);\nStringSubstitutor sub = new StringSubstitutor(values);\nsub.setEnableSubstitutionInVariables(true);\nString result = sub.replace(&quot;${a${b}}&quot;);\n// &quot;Test&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700439412,"creation_date":1680108568,"answer_id":75880012,"question_id":6431933,"body_markdown":"# `java.util.Formatter` \r\n\r\nJava has the [`java.util.Formatter`][1] which is used internally for [`String`][2] formatting methods. It&#39;s quite powerful, albeit more complex to use. \r\n\r\nHere is a guide for what you should use depending on your version of Java.\r\n\r\n## Java 15 and later\r\n\r\nCall instance method [`String#formatted`][3].\r\n\r\n```java\r\n// Sequential string arguments\r\n&quot;foo %s baz %s&quot;.formatted(&quot;bar&quot;, &quot;foobar&quot;);\r\n\r\n// Indexed string arguments\r\n&quot;foo %1$s baz %2$s&quot;.formatted(&quot;bar&quot;, &quot;foobar&quot;);\r\n```\r\n\r\n## Java 5 to Java 14\r\n\r\nCall static method [`String.format`][4].\r\n\r\n```java\r\n// Sequential string arguments\r\nString.format(&quot;foo %s baz %s&quot;, &quot;bar&quot;, &quot;foobar&quot;);\r\n\r\n// Indexed string arguments\r\nString.format(&quot;foo %1$s baz %2$s&quot;, &quot;bar&quot;, &quot;foobar&quot;);\r\n```\r\n\r\n## Java 4 and earlier\r\n\r\n```java\r\nMessageFormat.format(&quot;foo {0} baz {1}&quot;, &quot;bar&quot;, &quot;foo&quot;);\r\n```\r\n\r\nThat last example is for completeness&#39; sake, and you should not be using it since it&#39;s the slowest of all options.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/Formatter.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/String.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/String.html#formatted(java.lang.Object...)\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)","title":"How to format strings in Java","body":"<h1><code>java.util.Formatter</code></h1>\n<p>Java has the <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\"><code>java.util.Formatter</code></a> which is used internally for <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> formatting methods. It's quite powerful, albeit more complex to use.</p>\n<p>Here is a guide for what you should use depending on your version of Java.</p>\n<h2>Java 15 and later</h2>\n<p>Call instance method <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String#formatted</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Sequential string arguments\n&quot;foo %s baz %s&quot;.formatted(&quot;bar&quot;, &quot;foobar&quot;);\n\n// Indexed string arguments\n&quot;foo %1$s baz %2$s&quot;.formatted(&quot;bar&quot;, &quot;foobar&quot;);\n</code></pre>\n<h2>Java 5 to Java 14</h2>\n<p>Call static method <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String.format</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Sequential string arguments\nString.format(&quot;foo %s baz %s&quot;, &quot;bar&quot;, &quot;foobar&quot;);\n\n// Indexed string arguments\nString.format(&quot;foo %1$s baz %2$s&quot;, &quot;bar&quot;, &quot;foobar&quot;);\n</code></pre>\n<h2>Java 4 and earlier</h2>\n<pre class=\"lang-java prettyprint-override\"><code>MessageFormat.format(&quot;foo {0} baz {1}&quot;, &quot;bar&quot;, &quot;foo&quot;);\n</code></pre>\n<p>That last example is for completeness' sake, and you should not be using it since it's the slowest of all options.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700438936,"creation_date":1691186725,"answer_id":76839328,"question_id":6431933,"body_markdown":"## *JEP 430: String Templates (Preview)*\r\n\r\nYou can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a [preview feature][1].  \r\n\r\nHere is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/12","title":"How to format strings in Java","body":"<h2><em>JEP 430: String Templates (Preview)</em></h2>\n<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a <a href=\"https://openjdk.org/jeps/12\" rel=\"nofollow noreferrer\">preview feature</a>.</p>\n<p>Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":239768,"reputation":17495,"user_id":509600,"accept_rate":87,"display_name":"katit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404792,"favorite_count":0,"down_vote_count":3,"up_vote_count":291,"accepted_answer_id":6432100,"answer_count":12,"score":288,"last_activity_date":1700439412,"creation_date":1308690162,"question_id":6431933,"body_markdown":"Primitive question, but how do I format strings like this:\r\n\r\n&gt; &quot;Step {1} of {2}&quot;\r\n\r\n by substituting variables using Java? In C# it&#39;s easy.","title":"How to format strings in Java","body":"<p>Primitive question, but how do I format strings like this:</p>\n\n<blockquote>\n  <p>\"Step {1} of {2}\"</p>\n</blockquote>\n\n<p>by substituting variables using Java? In C# it's easy.</p>\n"},{"tags":["java","arraylist","indexoutofboundsexception"],"comments":[{"owner":{"account_id":2792262,"reputation":163837,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1554243500,"post_id":55484242,"comment_id":97678274,"body_markdown":"Every `java.util.List` has a `size()` method that can tell you how many elements it contains.  If there are any, then the index of the last is one less than the list size.  There is also a convenient `empty()` method that tests whether the list is empty.","body":"Every <code>java.util.List</code> has a <code>size()</code> method that can tell you how many elements it contains.  If there are any, then the index of the last is one less than the list size.  There is also a convenient <code>empty()</code> method that tests whether the list is empty."},{"owner":{"account_id":2792262,"reputation":163837,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1554244869,"post_id":55484242,"comment_id":97678653,"body_markdown":"It&#39;s unclear exactly what the issue is, in part because your code is incomplete.  Our general expectation is that requests for debugging help be accompanied by a [mcve] that demonstrates the problem.  From the stack trace and partial code, however, it looks like your `counter` variable is somehow getting out of sync.  I suggest getting rid of it altogether, since it is redundant with `prices.size()`.  The resulting code should be simpler and less prone to error.","body":"It&#39;s unclear exactly what the issue is, in part because your code is incomplete.  Our general expectation is that requests for debugging help be accompanied by a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem.  From the stack trace and partial code, however, it looks like your <code>counter</code> variable is somehow getting out of sync.  I suggest getting rid of it altogether, since it is redundant with <code>prices.size()</code>.  The resulting code should be simpler and less prone to error."},{"owner":{"account_id":1907169,"reputation":1234,"user_id":1721793,"display_name":"sashimi"},"score":0,"creation_date":1554250504,"post_id":55484242,"comment_id":97679846,"body_markdown":"Hi! We left an implementation below that should solve the issue and provides some feedback on code :) Please accept the answer if is OK :)","body":"Hi! We left an implementation below that should solve the issue and provides some feedback on code :) Please accept the answer if is OK :)"}],"answers":[{"tags":[],"owner":{"account_id":1907169,"reputation":1234,"user_id":1721793,"display_name":"sashimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554308107,"creation_date":1554245399,"answer_id":55484592,"question_id":55484242,"body_markdown":"We solve the issue by checking if the list is already empty before attempting to delete last element in list - just in case the first value you receive is a zero :)\r\nWe edited the original code to encapsulate behaviour regarding conventions (-1 to exit, 0 to remove last value) and avoid violating that principle every time we need to check.\r\n\r\n        List&lt;Double&gt; prices = new ArrayList&lt;Double&gt;();\r\n\r\n        // declaring variables to terminate loop, count prices, total prices, and current entry for conditions\r\n        int counter  = 0;\r\n        double entry = 0;\r\n        double total = 0;\r\n\r\n        // our loop to continuously add prices to the array list from input\r\n        while (!isExit(entry)) {\r\n            System.out.println(String.format(&quot;Enter a price for item # %s: &quot;, counter+1));\r\n            entry = myInput.nextDouble();\r\n\r\n        // if the entry is a price we will add it to prices and continue with the loop\r\n            if(isExit(entry)){\r\n                //TODO exit\r\n            }\r\n            if(isRemove(entry)){\r\n                if(!list.isEmpty()){\r\n                    total -= removeLastEntry(prices);\r\n                    counter--;\r\n                }\r\n            }else{\r\n                prices.add(entry);\r\n                total += entry;\r\n                counter++;\r\n            }\r\n\r\n        }\r\n\r\n        private boolean isExit(double value){\r\n            return value==-1;\r\n        }\r\n\r\n        private boolean isRemove(double entry){\r\n            return entry==0;\r\n        }\r\n\r\n        public static double removeLastEntry(List&lt;Double&gt; list) {\r\n            double last = list.get(list.size()-1);\r\n            list.remove(list.size()-1)\r\n            return last;\r\n        }","title":"How to correct Arraylist index out of bounds for length error in Java","body":"<p>We solve the issue by checking if the list is already empty before attempting to delete last element in list - just in case the first value you receive is a zero :)\nWe edited the original code to encapsulate behaviour regarding conventions (-1 to exit, 0 to remove last value) and avoid violating that principle every time we need to check.</p>\n\n<pre><code>    List&lt;Double&gt; prices = new ArrayList&lt;Double&gt;();\n\n    // declaring variables to terminate loop, count prices, total prices, and current entry for conditions\n    int counter  = 0;\n    double entry = 0;\n    double total = 0;\n\n    // our loop to continuously add prices to the array list from input\n    while (!isExit(entry)) {\n        System.out.println(String.format(\"Enter a price for item # %s: \", counter+1));\n        entry = myInput.nextDouble();\n\n    // if the entry is a price we will add it to prices and continue with the loop\n        if(isExit(entry)){\n            //TODO exit\n        }\n        if(isRemove(entry)){\n            if(!list.isEmpty()){\n                total -= removeLastEntry(prices);\n                counter--;\n            }\n        }else{\n            prices.add(entry);\n            total += entry;\n            counter++;\n        }\n\n    }\n\n    private boolean isExit(double value){\n        return value==-1;\n    }\n\n    private boolean isRemove(double entry){\n        return entry==0;\n    }\n\n    public static double removeLastEntry(List&lt;Double&gt; list) {\n        double last = list.get(list.size()-1);\n        list.remove(list.size()-1)\n        return last;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14443980,"reputation":1626,"user_id":10433739,"display_name":"Benjamin Urquhart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554250150,"creation_date":1554250150,"answer_id":55485220,"question_id":55484242,"body_markdown":"You can add a check to see [if the list is empty](https://docs.oracle.com/javase/8/docs/api/java/util/List.html):\r\n```java\r\n// declare our array list which will hold our prices!\r\nArrayList&lt;Double&gt; prices = new ArrayList&lt;Double&gt;();\r\n\r\n\r\n// declaring variables to terminate loop, count prices, total prices, and current entry for conditions\r\n        int counter  = 0;\r\n        double entry = 0;\r\n        double total = 0;\r\n\r\n// our loop to continuously add prices to the array list from input\r\nwhile (entry != -1) {\r\n\r\n    System.out.println(&quot;Enter a price for item #&quot; + (counter+1) + &quot;: &quot;);\r\n    entry = myInput.nextDouble();\r\n\r\n// if the entry is a price we will add it to prices and continue with the loop\r\n\r\n    if (entry != 0 &amp;&amp; entry != -1) {\r\n            prices.add(entry);\r\n            total += entry;\r\n            counter++;\r\n    }\r\n\r\n//if the entry is 0 we will revert back to the previous iteration to re-add\r\n\r\n    else if (entry == 0.0) {\r\n        total -= prices.get(counter-1);\r\n        removeLastEntry(prices);\r\n        counter--;\r\n    }\r\n\r\npublic static void removeLastEntry(ArrayList&lt;Double&gt; anArrayList) {\r\n    if(!anArrayList.isEmpty()) {\r\n        anArrayList.remove(anArrayList.size()-1);\r\n    }\r\n}\r\n```","title":"How to correct Arraylist index out of bounds for length error in Java","body":"<p>You can add a check to see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\">if the list is empty</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// declare our array list which will hold our prices!\nArrayList&lt;Double&gt; prices = new ArrayList&lt;Double&gt;();\n\n\n// declaring variables to terminate loop, count prices, total prices, and current entry for conditions\n        int counter  = 0;\n        double entry = 0;\n        double total = 0;\n\n// our loop to continuously add prices to the array list from input\nwhile (entry != -1) {\n\n    System.out.println(\"Enter a price for item #\" + (counter+1) + \": \");\n    entry = myInput.nextDouble();\n\n// if the entry is a price we will add it to prices and continue with the loop\n\n    if (entry != 0 &amp;&amp; entry != -1) {\n            prices.add(entry);\n            total += entry;\n            counter++;\n    }\n\n//if the entry is 0 we will revert back to the previous iteration to re-add\n\n    else if (entry == 0.0) {\n        total -= prices.get(counter-1);\n        removeLastEntry(prices);\n        counter--;\n    }\n\npublic static void removeLastEntry(ArrayList&lt;Double&gt; anArrayList) {\n    if(!anArrayList.isEmpty()) {\n        anArrayList.remove(anArrayList.size()-1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15280871,"reputation":11,"user_id":11025307,"display_name":"Chris Mullen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700438880,"creation_date":1554242877,"question_id":55484242,"body_markdown":"I am writing a program for school which acts as a cash register. I am asking for input for prices of items and playing them into an ongoing ArrayList until the user enters -1 or 0. 0 is to re-enter the previous price in case of mistake and -1 terminates the loop.\r\n\r\nI am getting the \r\n\r\n &gt; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\r\nerror when I try to run my code. \r\nI have to include a method called `removeLastEntry()`, which will remove the last price entered into the array upon a 0 being entered by the user. How can I ensure the array is populated and I am indeed removing the last entry?\r\n\r\nI am running Java 11 in Eclipse.\r\n\r\nThe code runs fine without the method being used, as I reduce my counter and in the next iteration of the loop, the previous array location is overwritten, regardless whether it has been removed or not. The method itself is set to remove ArrayList.size()-1 so that it removes the last entry. I have tried this with -2, and 0, and it still runs out of bounds.\r\n\r\nI read through previous questions and many people had not populated the array.\r\nSo I ran a print stub to make sure that the ArrayList has been properly populated, and it has: when two items were placed into the ArrayList size was equal to 2. The error code also goes up the more items I place into the code but is always items - 1 index out of bounds at items - 1 length \r\nI&#39;m sure I&#39;m making a rookie mistake but I&#39;m unable to find it and it is driving me insane!\r\n\r\nfor full error context:\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:372)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:458)\r\n\tat C_M_iDeaProject.main(C_M_iDeaProject.java:76)\r\n\r\n```\r\n// declare our array list which will hold our prices!\r\nArrayList&lt;Double&gt; prices = new ArrayList&lt;Double&gt;();\r\n\t\t\r\n\t\t\r\n// declaring variables to terminate loop, count prices, total prices, and current entry for conditions\r\n\t\tint counter  = 0;\r\n\t\tdouble entry = 0;\r\n\t\tdouble total = 0;\r\n\t\t\r\n// our loop to continuously add prices to the array list from input\r\nwhile (entry != -1) {\r\n\t\t\t\r\n\tSystem.out.println(&quot;Enter a price for item #&quot; + (counter+1) + &quot;: &quot;);\r\n\tentry = myInput.nextDouble();\r\n\t\t\t\r\n// if the entry is a price we will add it to prices and continue with the loop\r\n\t\r\n    if (entry != 0 &amp;&amp; entry != -1) {\r\n\t\t\tprices.add(entry);\r\n\t\t\ttotal += entry;\r\n\t\t\tcounter++;\r\n\t}\r\n\t\t\t\r\n//if the entry is 0 we will revert back to the previous iteration to re-add\r\n\r\n\telse if (entry == 0.0) {\r\n\t\ttotal -= prices.get(counter-1);\r\n\t\tremoveLastEntry(prices);\r\n\t\tcounter--;\r\n\t}\r\n\r\npublic static void removeLastEntry(ArrayList&lt;Double&gt; anArrayList) {\r\n    anArrayList.remove(anArrayList.size()-1);\r\n}\r\n```","title":"How to correct Arraylist index out of bounds for length error in Java","body":"<p>I am writing a program for school which acts as a cash register. I am asking for input for prices of items and playing them into an ongoing ArrayList until the user enters -1 or 0. 0 is to re-enter the previous price in case of mistake and -1 terminates the loop.</p>\n\n<p>I am getting the </p>\n\n<blockquote>\n  <p>java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0</p>\n</blockquote>\n\n<p>error when I try to run my code. \nI have to include a method called <code>removeLastEntry()</code>, which will remove the last price entered into the array upon a 0 being entered by the user. How can I ensure the array is populated and I am indeed removing the last entry?</p>\n\n<p>I am running Java 11 in Eclipse.</p>\n\n<p>The code runs fine without the method being used, as I reduce my counter and in the next iteration of the loop, the previous array location is overwritten, regardless whether it has been removed or not. The method itself is set to remove ArrayList.size()-1 so that it removes the last entry. I have tried this with -2, and 0, and it still runs out of bounds.</p>\n\n<p>I read through previous questions and many people had not populated the array.\nSo I ran a print stub to make sure that the ArrayList has been properly populated, and it has: when two items were placed into the ArrayList size was equal to 2. The error code also goes up the more items I place into the code but is always items - 1 index out of bounds at items - 1 length \nI'm sure I'm making a rookie mistake but I'm unable to find it and it is driving me insane!</p>\n\n<p>for full error context:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n      at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n      at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n      at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\n      at java.base/java.util.Objects.checkIndex(Objects.java:372)\n      at java.base/java.util.ArrayList.get(ArrayList.java:458)\n      at C_M_iDeaProject.main(C_M_iDeaProject.java:76)</p>\n</blockquote>\n\n<pre><code>// declare our array list which will hold our prices!\nArrayList&lt;Double&gt; prices = new ArrayList&lt;Double&gt;();\n\n\n// declaring variables to terminate loop, count prices, total prices, and current entry for conditions\n        int counter  = 0;\n        double entry = 0;\n        double total = 0;\n\n// our loop to continuously add prices to the array list from input\nwhile (entry != -1) {\n\n    System.out.println(\"Enter a price for item #\" + (counter+1) + \": \");\n    entry = myInput.nextDouble();\n\n// if the entry is a price we will add it to prices and continue with the loop\n\n    if (entry != 0 &amp;&amp; entry != -1) {\n            prices.add(entry);\n            total += entry;\n            counter++;\n    }\n\n//if the entry is 0 we will revert back to the previous iteration to re-add\n\n    else if (entry == 0.0) {\n        total -= prices.get(counter-1);\n        removeLastEntry(prices);\n        counter--;\n    }\n\npublic static void removeLastEntry(ArrayList&lt;Double&gt; anArrayList) {\n    anArrayList.remove(anArrayList.size()-1);\n}\n</code></pre>\n"},{"tags":["java","printf"],"comments":[{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1700342761,"post_id":77508761,"comment_id":136643660,"body_markdown":"Your question isn&#39;t quite clear, but, maybe you mean: Try `%-10.4f`?","body":"Your question isn&#39;t quite clear, but, maybe you mean: Try <code>%-10.4f</code>?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1700343973,"post_id":77508761,"comment_id":136643751,"body_markdown":"Or do you mean something like `.printf(&quot;%-10s %-10s %.4f %n&quot;,oddNum, evenNum, numSqured );`","body":"Or do you mean something like <code>.printf(&quot;%-10s %-10s %.4f %n&quot;,oddNum, evenNum, numSqured );</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700344399,"post_id":77508761,"comment_id":136643787,"body_markdown":"A agree: The question isn&#39;t quite clear. If the preceding comments haven&#39;t helped, perhaps you could edit the question to show some examples.","body":"A agree: The question isn&#39;t quite clear. If the preceding comments haven&#39;t helped, perhaps you could edit the question to show some examples."},{"owner":{"account_id":1388706,"reputation":506,"user_id":1320066,"display_name":"NickD"},"score":0,"creation_date":1700363119,"post_id":77508761,"comment_id":136645010,"body_markdown":"Could you edit your question to show the output you are seeing and the desired output please?","body":"Could you edit your question to show the output you are seeing and the desired output please?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700346324,"creation_date":1700346324,"answer_id":77508933,"question_id":77508761,"body_markdown":"&gt; _&#39;... I&#39;m just not sure how I would format the printf statement to allow for both &quot;%-10s&quot; and &quot;%.4f&quot; for the one variable. ...&#39;_\r\n\r\nYou can provide the _width_ value.\r\n\r\n```none\r\n%[argument_index$][flags][width][.precision]conversion\r\n```\r\n\r\n```none\r\n%-10.4f\r\n```","title":"How to use multiple output formatters in one printf statement?","body":"<blockquote>\n<p><em>'... I'm just not sure how I would format the printf statement to allow for both &quot;%-10s&quot; and &quot;%.4f&quot; for the one variable. ...'</em></p>\n</blockquote>\n<p>You can provide the <em>width</em> value.</p>\n<pre class=\"lang-none prettyprint-override\"><code>%[argument_index$][flags][width][.precision]conversion\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>%-10.4f\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700360951,"creation_date":1700360951,"answer_id":77509386,"question_id":77508761,"body_markdown":"You could use:\r\n\r\n    System.out.printf(&quot;%-10.4f %-10.4f %-10.4f%n&quot;, oddNum, evenNum, numSqred);\r\n\r\nas in:\r\n\r\n    final int NUM_RANGE = 86;      //allows for [0,176] range in loop output\r\n    double oddNum = 1.0000;        //initialized as first odd num possible\r\n    double evenNum = 0.0000;       //initialized as first even num possible\r\n    double numSqred = Math.sqrt(oddNum + evenNum);\r\n    String format = &quot;%-10.4f %-10.4f %-10.4f%n&quot;;\r\n    System.out.printf(format, oddNum, evenNum, numSqred);\r\n    for (int i = 0; i &lt; NUM_RANGE; i++) {\r\n        //updates oddNum to next odd number for each iteration\r\n        oddNum += 2;                     \r\n        //updates evenNum to next odd number for each iteration\r\n        evenNum += 2;\r\n        //update numSqred for new odd and even num\r\n        numSqred = Math.sqrt(oddNum + evenNum);\r\n        System.out.printf(format, oddNum, evenNum, numSqred);\r\n    }   ","title":"How to use multiple output formatters in one printf statement?","body":"<p>You could use:</p>\n<pre><code>System.out.printf(&quot;%-10.4f %-10.4f %-10.4f%n&quot;, oddNum, evenNum, numSqred);\n</code></pre>\n<p>as in:</p>\n<pre><code>final int NUM_RANGE = 86;      //allows for [0,176] range in loop output\ndouble oddNum = 1.0000;        //initialized as first odd num possible\ndouble evenNum = 0.0000;       //initialized as first even num possible\ndouble numSqred = Math.sqrt(oddNum + evenNum);\nString format = &quot;%-10.4f %-10.4f %-10.4f%n&quot;;\nSystem.out.printf(format, oddNum, evenNum, numSqred);\nfor (int i = 0; i &lt; NUM_RANGE; i++) {\n    //updates oddNum to next odd number for each iteration\n    oddNum += 2;                     \n    //updates evenNum to next odd number for each iteration\n    evenNum += 2;\n    //update numSqred for new odd and even num\n    numSqred = Math.sqrt(oddNum + evenNum);\n    System.out.printf(format, oddNum, evenNum, numSqred);\n}   \n</code></pre>\n"}],"owner":{"account_id":29599885,"reputation":1,"user_id":22685596,"display_name":"Amanda Brown"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700437607,"creation_date":1700342638,"question_id":77508761,"body_markdown":"EDIT: I apologize for the unclear question, I tried one of your answers and it worked perfectly. To add some clarity I was trying to print the oddNum, then the evenNum, and then the numSqred on one line for each loop iteration. I needed all three variables to be rounded to 4 decimal places with an even amount of whitespace between each variable. Thanks for the help!\r\n\r\nI&#39;m trying to write a printf statement that adds whitespace and rounds the double to four decimal places. I&#39;m just not sure how I would format the printf statement to allow for both &quot;%-10s&quot; and &quot;%.4f&quot; for the one variable. Thank you for your help!\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        final int NUM_RANGE = 86;      //allows for [0,176] range in loop output\r\n        int i;                         //iteration index\r\n        double oddNum = 1.0000;        //initialized as first odd num possible\r\n        double evenNum = 0.0000;       //initialized as first even num possible\r\n        double numSqred = Math.sqrt(oddNum + evenNum);\r\n        \r\n        System.out.printf(&quot;%-10s&quot;,oddNum);    //prints initial odd num\r\n        System.out.printf(&quot;%-10s&quot;, evenNum);   //prints initial even num\r\n        System.out.printf(&quot;%.4f \\n&quot; ,numSqred);\r\n        \r\n        for (i = 0; i &lt; NUM_RANGE; ++i) {\r\n            //updates oddNum to next odd number for each iteration\r\n            oddNum += 2;                     \r\n            System.out.printf(&quot;%-10s&quot;,oddNum); \r\n            //updates evenNum to next odd number for each iteration\r\n            evenNum += 2;\r\n            System.out.printf(&quot;%-10s&quot;, evenNum);\r\n            //update numSqred for new odd and even num\r\n            numSqred = Math.sqrt(oddNum + evenNum);\r\n            System.out.printf(&quot;%.4f \\n&quot; ,numSqred);\r\n        }    \r\n```\r\n\r\n\r\nI tried separating the &quot;%-10s&quot; and &quot;%.4f&quot; by comma and by &#39;+&#39; and expected them both to apply the formatting to the one variable, but it didn&#39;t work. I&#39;ve tried looking up how to do this but I haven&#39;t found anything so far.","title":"How to use multiple output formatters in one printf statement?","body":"<p>EDIT: I apologize for the unclear question, I tried one of your answers and it worked perfectly. To add some clarity I was trying to print the oddNum, then the evenNum, and then the numSqred on one line for each loop iteration. I needed all three variables to be rounded to 4 decimal places with an even amount of whitespace between each variable. Thanks for the help!</p>\n<p>I'm trying to write a printf statement that adds whitespace and rounds the double to four decimal places. I'm just not sure how I would format the printf statement to allow for both &quot;%-10s&quot; and &quot;%.4f&quot; for the one variable. Thank you for your help!</p>\n<pre><code>public static void main(String[] args) {\n        final int NUM_RANGE = 86;      //allows for [0,176] range in loop output\n        int i;                         //iteration index\n        double oddNum = 1.0000;        //initialized as first odd num possible\n        double evenNum = 0.0000;       //initialized as first even num possible\n        double numSqred = Math.sqrt(oddNum + evenNum);\n        \n        System.out.printf(&quot;%-10s&quot;,oddNum);    //prints initial odd num\n        System.out.printf(&quot;%-10s&quot;, evenNum);   //prints initial even num\n        System.out.printf(&quot;%.4f \\n&quot; ,numSqred);\n        \n        for (i = 0; i &lt; NUM_RANGE; ++i) {\n            //updates oddNum to next odd number for each iteration\n            oddNum += 2;                     \n            System.out.printf(&quot;%-10s&quot;,oddNum); \n            //updates evenNum to next odd number for each iteration\n            evenNum += 2;\n            System.out.printf(&quot;%-10s&quot;, evenNum);\n            //update numSqred for new odd and even num\n            numSqred = Math.sqrt(oddNum + evenNum);\n            System.out.printf(&quot;%.4f \\n&quot; ,numSqred);\n        }    \n</code></pre>\n<p>I tried separating the &quot;%-10s&quot; and &quot;%.4f&quot; by comma and by '+' and expected them both to apply the formatting to the one variable, but it didn't work. I've tried looking up how to do this but I haven't found anything so far.</p>\n"},{"tags":["java","datetime","java.time.instant"],"comments":[{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1587734080,"post_id":61409243,"comment_id":108633060,"body_markdown":"Which time zone is that local time supposed to be in? You can&#39;t parse to an instant without a time zone. If it&#39;s in UTC, you can simply add a &quot;Z&quot; to the end of the string before parsing.","body":"Which time zone is that local time supposed to be in? You can&#39;t parse to an instant without a time zone. If it&#39;s in UTC, you can simply add a &quot;Z&quot; to the end of the string before parsing."},{"owner":{"account_id":4301824,"reputation":1542,"user_id":3515379,"accept_rate":56,"display_name":"Wit Wikky"},"score":0,"creation_date":1587734303,"post_id":61409243,"comment_id":108633179,"body_markdown":"I am not sure about that as i am getting it from third party api response!","body":"I am not sure about that as i am getting it from third party api response!"},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1587734905,"post_id":61409243,"comment_id":108633549,"body_markdown":"You should check the documentation of the third party api.","body":"You should check the documentation of the third party api."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1587735688,"post_id":61409243,"comment_id":108633960,"body_markdown":"`2018-05-01T00:00:00` does not define a moment in time, an instant. If you can find out what time zone or UTC offset was implied, we can help you convert to `Instant`. It seems the time of day doesn’t matter, though? So why not just parse into `LocalDate`?","body":"<code>2018-05-01T00:00:00</code> does not define a moment in time, an instant. If you can find out what time zone or UTC offset was implied, we can help you convert to <code>Instant</code>. It seems the time of day doesn’t matter, though? So why not just parse into <code>LocalDate</code>?"}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1700437368,"creation_date":1587734793,"answer_id":61409497,"question_id":61409243,"body_markdown":"[`Instant.parse`][1] will only accept the string that are in [ISO INSTANT FORMAT][2]\r\n\r\n&gt;Obtains an instance of Instant from a text string such as 2007-12-03T10:15:30.00Z.\r\n&gt;\r\n&gt;The string must represent a valid instant in UTC and is parsed using `DateTimeFormatter.ISO_INSTANT`.\r\n\r\nBut the String you have represents [`LocalDateTime`][3]. Like your input, a `LocalDateTime` represents only a date with time-of-day, but no offset nor time zone. So parse your input into `LocalDateTime`. You can then apply an offset or time zone to convert into [`Instant`][4].\r\n\r\n&gt;A date-time without a time-zone in the ISO-8601 calendar system, such as 2007-12-03T10:15:30.\r\n\r\n    LocalDateTime dateTime = LocalDateTime.parse(date);\r\n    Instant instant = dateTime.atZone(ZoneId.of(&quot;America/New_York&quot;)).toInstant();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#parse-java.lang.CharSequence-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html","title":"Error while parsing 2018-05-01T00:00:00 date using Instant.parse","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Instant.parse</code></a> will only accept the string that are in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\">ISO INSTANT FORMAT</a></p>\n<blockquote>\n<p>Obtains an instance of Instant from a text string such as 2007-12-03T10:15:30.00Z.</p>\n<p>The string must represent a valid instant in UTC and is parsed using <code>DateTimeFormatter.ISO_INSTANT</code>.</p>\n</blockquote>\n<p>But the String you have represents <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a>. Like your input, a <code>LocalDateTime</code> represents only a date with time-of-day, but no offset nor time zone. So parse your input into <code>LocalDateTime</code>. You can then apply an offset or time zone to convert into <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>.</p>\n<blockquote>\n<p>A date-time without a time-zone in the ISO-8601 calendar system, such as 2007-12-03T10:15:30.</p>\n</blockquote>\n<pre><code>LocalDateTime dateTime = LocalDateTime.parse(date);\nInstant instant = dateTime.atZone(ZoneId.of(&quot;America/New_York&quot;)).toInstant();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2839356,"reputation":2154,"user_id":2439249,"display_name":"ozeray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700437049,"creation_date":1700437049,"answer_id":77512899,"question_id":61409243,"body_markdown":"    String date = &quot;2018-05-01T00:00:00Z&quot;;\r\n\r\nwill do the trick (Note the &#39;Z&#39; at the end). It will give you instant time for UTC.","title":"Error while parsing 2018-05-01T00:00:00 date using Instant.parse","body":"<pre><code>String date = &quot;2018-05-01T00:00:00Z&quot;;\n</code></pre>\n<p>will do the trick (Note the 'Z' at the end). It will give you instant time for UTC.</p>\n"}],"owner":{"account_id":4301824,"reputation":1542,"user_id":3515379,"accept_rate":56,"display_name":"Wit Wikky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1615,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61409497,"answer_count":2,"score":3,"last_activity_date":1700437368,"creation_date":1587734047,"question_id":61409243,"body_markdown":"Here is my code which i am using to parse string using Instant.parse ,\r\n\r\n    String date = &quot;2018-05-01T00:00:00&quot;;\r\n    Instant.parse(date)\r\n\r\nAnd getting below error \r\n\r\n    java.time.format.DateTimeParseException: Text &#39;2018-05-01T00:00:00&#39; could not be parsed at index 19\r\n            at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\r\n            at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n            at java.time.Instant.parse(Instant.java:395)\r\n\r\nI cannot use other then **Instant** so looking solution for it only! ","title":"Error while parsing 2018-05-01T00:00:00 date using Instant.parse","body":"<p>Here is my code which i am using to parse string using Instant.parse ,</p>\n\n<pre><code>String date = \"2018-05-01T00:00:00\";\nInstant.parse(date)\n</code></pre>\n\n<p>And getting below error </p>\n\n<pre><code>java.time.format.DateTimeParseException: Text '2018-05-01T00:00:00' could not be parsed at index 19\n        at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\n        at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n        at java.time.Instant.parse(Instant.java:395)\n</code></pre>\n\n<p>I cannot use other then <strong>Instant</strong> so looking solution for it only! </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1700436460,"post_id":77512773,"comment_id":136650992,"body_markdown":"Your title would apply to every question on this site. Be specific. Mention the *problem.*","body":"Your title would apply to every question on this site. Be specific. Mention the <i>problem.</i>"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700437485,"post_id":77512773,"comment_id":136651072,"body_markdown":"Terrible title. Rewrite to summarize your specific technical issue.","body":"Terrible title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700435631,"creation_date":1700435631,"answer_id":77512848,"question_id":77512773,"body_markdown":"I&#39;m going to go out on a limb and suggest removing the `{}` after the `useModule`.  For example:\r\n```\r\nif (requested.id.id == &quot;net.minecraftforge.gradle.forge&quot;) {\r\n    useModule(&quot;net.minecraftforge:ForgeGradle:4.0&quot;) {\r\n    }\r\n}\r\n```\r\nRemove them and you get:\r\n```\r\nif (requested.id.id == &quot;net.minecraftforge.gradle.forge&quot;) {\r\n    useModule(&quot;net.minecraftforge:ForgeGradle:4.0&quot;)\r\n}\r\n```\r\nThere is no `useModule` method that takes 2 arguments which those curly braces would mean a Closure as a 2nd parameter.  That&#39;s probably why it&#39;s failing.","title":"Gradle fails to find method useModule() in a Java project","body":"<p>I'm going to go out on a limb and suggest removing the <code>{}</code> after the <code>useModule</code>.  For example:</p>\n<pre><code>if (requested.id.id == &quot;net.minecraftforge.gradle.forge&quot;) {\n    useModule(&quot;net.minecraftforge:ForgeGradle:4.0&quot;) {\n    }\n}\n</code></pre>\n<p>Remove them and you get:</p>\n<pre><code>if (requested.id.id == &quot;net.minecraftforge.gradle.forge&quot;) {\n    useModule(&quot;net.minecraftforge:ForgeGradle:4.0&quot;)\n}\n</code></pre>\n<p>There is no <code>useModule</code> method that takes 2 arguments which those curly braces would mean a Closure as a 2nd parameter.  That's probably why it's failing.</p>\n"}],"owner":{"account_id":29943874,"reputation":1,"user_id":22947643,"display_name":"Ghidora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1700437217,"creation_date":1700433737,"question_id":77512773,"body_markdown":"\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;TEST&#39;.\r\n&gt; Could not find method useModule() for arguments [net.minecraftforge:ForgeGradle:4.0, settings_8hclc1ejt8ciucnqbipmjtw7e$_run_closure1$_closure3$_closure6$_closure7@5261ee0d] on object of type org.gradle.plugin.management.internal.DefaultPluginResolveDetails.\r\n\r\n\r\n    my settings.gradle:\r\n```\r\n    pluginManagement {\r\n        repositories {\r\n            mavenCentral()\r\n\r\n            maven { url = &quot;https://maven.minecraftforge.net/&quot; }\r\n            maven { url = &quot;https://jitpack.io/&quot; }\r\n        }\r\n        resolutionStrategy {\r\n            eachPlugin {\r\n                if (requested.id.id == &quot;net.minecraftforge.gradle.forge&quot;) {\r\n                    useModule(&quot;net.minecraftforge:ForgeGradle:4.0&quot;) {\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    rootProject.name = &#39;TEST&#39;\r\n```\r\n\r\n\r\n\r\n\r\nIt seems to be a problem with &quot;useModule&quot; but i dont know what is wrong i am on a VM trying to compile \r\nmight be a dependency problem?\r\n\r\nThanks in advance!\r\n\r\n\r\n\r\nProb is a dependency problem i am on a windows VM ","title":"Gradle fails to find method useModule() in a Java project","body":"<ul>\n<li>What went wrong:\nA problem occurred configuring root project 'TEST'.</li>\n</ul>\n<blockquote>\n<p>Could not find method useModule() for arguments [net.minecraftforge:ForgeGradle:4.0, settings_8hclc1ejt8ciucnqbipmjtw7e$_run_closure1$_closure3$_closure6$_closure7@5261ee0d] on object of type org.gradle.plugin.management.internal.DefaultPluginResolveDetails.</p>\n</blockquote>\n<pre><code>my settings.gradle:\n</code></pre>\n<pre><code>    pluginManagement {\n        repositories {\n            mavenCentral()\n\n            maven { url = &quot;https://maven.minecraftforge.net/&quot; }\n            maven { url = &quot;https://jitpack.io/&quot; }\n        }\n        resolutionStrategy {\n            eachPlugin {\n                if (requested.id.id == &quot;net.minecraftforge.gradle.forge&quot;) {\n                    useModule(&quot;net.minecraftforge:ForgeGradle:4.0&quot;) {\n                    }\n                }\n            }\n        }\n    }\n\n    rootProject.name = 'TEST'\n</code></pre>\n<p>It seems to be a problem with &quot;useModule&quot; but i dont know what is wrong i am on a VM trying to compile\nmight be a dependency problem?</p>\n<p>Thanks in advance!</p>\n<p>Prob is a dependency problem i am on a windows VM</p>\n"},{"tags":["java","javafx","javafx-webengine"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1700316292,"post_id":77506981,"comment_id":136640824,"body_markdown":"You seem to be relying on the Javascript engine reporting the url of a link when the user hovers on it via a status change on the web engine. I can&#39;t see that this behavior is documented anywhere (though I may be wrong). Have you tried debugging your status listener to see if it is doing what you expect and passing the expected url? In some quick tests this seems to work for me.","body":"You seem to be relying on the Javascript engine reporting the url of a link when the user hovers on it via a status change on the web engine. I can&#39;t see that this behavior is documented anywhere (though I may be wrong). Have you tried debugging your status listener to see if it is doing what you expect and passing the expected url? In some quick tests this seems to work for me."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1700316355,"post_id":77506981,"comment_id":136640833,"body_markdown":"Probably irrelevant, but why are you using `Platform.runLater(....)`? You are already on the FX Application Thread here. And setting the event handler on the menu item *after* showing the context menu seems counter-intuitive, at best.","body":"Probably irrelevant, but why are you using <code>Platform.runLater(....)</code>? You are already on the FX Application Thread here. And setting the event handler on the menu item <i>after</i> showing the context menu seems counter-intuitive, at best."},{"owner":{"account_id":9814275,"reputation":23,"user_id":7271257,"display_name":"Mukesh P"},"score":0,"creation_date":1700320203,"post_id":77506981,"comment_id":136641239,"body_markdown":"Yes I have verified that the code retrieves the url. the code works fine if I modify the same code to open the link in another tab by directly right clicking the link. But problem arises when I add action to menu item of context menu. And without Platform.runLater() the code does not run at all. In this case the code opens web page in new tab sometimes and some times does not. without the Platform.runLater() it does nothing. Correct ,me if I am wrong and help me with where I am missing.","body":"Yes I have verified that the code retrieves the url. the code works fine if I modify the same code to open the link in another tab by directly right clicking the link. But problem arises when I add action to menu item of context menu. And without Platform.runLater() the code does not run at all. In this case the code opens web page in new tab sometimes and some times does not. without the Platform.runLater() it does nothing. Correct ,me if I am wrong and help me with where I am missing."},{"owner":{"account_id":9814275,"reputation":23,"user_id":7271257,"display_name":"Mukesh P"},"score":0,"creation_date":1700320277,"post_id":77506981,"comment_id":136641244,"body_markdown":"You can check by using System.out.println(url);","body":"You can check by using System.out.println(url);"},{"owner":{"account_id":9814275,"reputation":23,"user_id":7271257,"display_name":"Mukesh P"},"score":0,"creation_date":1700320602,"post_id":77506981,"comment_id":136641281,"body_markdown":"Yes status listener is working well.","body":"Yes status listener is working well."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1700321691,"post_id":77506981,"comment_id":136641402,"body_markdown":"Did you try setting the `onAction` handler before showing the context menu. It makes no sense to me to do it in the order you have done it. I can&#39;t replicate the issue; it works fine for me (though I haven&#39;t tested much). I removed the redundant `Platform.runLater(...)` call and it still works. Did you try logging the value of `url` in `loadNewPage()`?","body":"Did you try setting the <code>onAction</code> handler before showing the context menu. It makes no sense to me to do it in the order you have done it. I can&#39;t replicate the issue; it works fine for me (though I haven&#39;t tested much). I removed the redundant <code>Platform.runLater(...)</code> call and it still works. Did you try logging the value of <code>url</code> in <code>loadNewPage()</code>?"},{"owner":{"account_id":9814275,"reputation":23,"user_id":7271257,"display_name":"Mukesh P"},"score":0,"creation_date":1700324533,"post_id":77506981,"comment_id":136641696,"body_markdown":"Very strange. In my system the code is giving inconsistent result. I have 2 systems, windows 7 and windows 8.1. Do I have my compiler BluJ 5.2.0 to blame?","body":"Very strange. In my system the code is giving inconsistent result. I have 2 systems, windows 7 and windows 8.1. Do I have my compiler BluJ 5.2.0 to blame?"},{"owner":{"account_id":9814275,"reputation":23,"user_id":7271257,"display_name":"Mukesh P"},"score":0,"creation_date":1700325352,"post_id":77506981,"comment_id":136641788,"body_markdown":"I did what you suggested. No difference. And you right. &quot;url&quot; in loadNewPage() is not logging. It is not null, but simply does not show up in system.out.println() in loadNewPage().","body":"I did what you suggested. No difference. And you right. &quot;url&quot; in loadNewPage() is not logging. It is not null, but simply does not show up in system.out.println() in loadNewPage()."},{"owner":{"account_id":9814275,"reputation":23,"user_id":7271257,"display_name":"Mukesh P"},"score":0,"creation_date":1700407841,"post_id":77506981,"comment_id":136647991,"body_markdown":"I checked that setting the order of item.setOnAction() had no effect. Neither Platform.runLater() method had any bearing. I am thinking more thoroughly.","body":"I checked that setting the order of item.setOnAction() had no effect. Neither Platform.runLater() method had any bearing. I am thinking more thoroughly."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700436989,"creation_date":1700436989,"answer_id":77512896,"question_id":77506981,"body_markdown":"It&#39;s not clear how your program is going awry, but I see distinct code paths to add a new `Tab`: one gets a context listener, one doesn&#39;t.\r\n\r\nOne approach is to minimize unrelated class level attributes, while _aggregating_ relevant fields with the corresponding `Tab`. In the variation below,\r\n\r\n- All `Tab` instances have access to the containing `TabPane` and a shared `ContextMenu`; the remaining attributes are local to each `WebTab`.\r\n\r\n- The initial `Tab` opens on the `HOME` page.\r\n\r\n- Each `Tab` gets an editable URL; edit and press &lt;kbd&gt;Enter&lt;/kbd&gt; to load the page; press &lt;kbd&gt;Tab&lt;/kbd&gt; to change tabs.\r\n\r\n- The context menu simply opens the current page in a new `Tab`, allowing continued browsing in the current `Tab`.\r\n\r\n- Also consider isolating individual links, illustrated [here][1], or parsing the document, shown [here][2].\r\n\r\n[![Tab browser][3]][3]\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.web.WebView;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.input.MouseButton;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.web.WebEngine;\r\n\r\n//https://stackoverflow.com/q/77506981/230513\r\npublic class QuickTab extends Application {\r\n\r\n    private static final String HOME = &quot;https://example.edu&quot;;\r\n    private final TabPane tabPane = new TabPane();\r\n    private final MenuItem item = new MenuItem(&quot;Open this page in a new tab.&quot;);\r\n    private final ContextMenu menu = new ContextMenu(item);\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        tabPane.getTabs().add(new WebTab(HOME).tab());\r\n        stage.setScene(new Scene(tabPane));\r\n        stage.show();\r\n    }\r\n\r\n    private class WebTab {\r\n\r\n        private final Tab tab = new Tab();\r\n        private final TextField urlField = new TextField();\r\n        private final WebView view = new WebView();\r\n        private final WebEngine engine = view.getEngine();\r\n        private String url;\r\n\r\n        private WebTab(String s) {\r\n            url = s;\r\n            view.setContextMenuEnabled(false);\r\n            tab.setGraphic(urlField);\r\n            tab.setContent(view);\r\n            urlField.focusedProperty().addListener((obs, ov, isFocused) -&gt; {\r\n                if (isFocused) {\r\n                    tabPane.getSelectionModel().select(tab);\r\n                }\r\n            });\r\n            urlField.setOnKeyPressed((KeyEvent e) -&gt; {\r\n                KeyCode code = e.getCode();\r\n                if (KeyCode.ENTER == code) {\r\n                    engine.load(urlField.getText());\r\n                }\r\n            });\r\n            engine.locationProperty().addListener((obs, ov, nv) -&gt; {\r\n                url = nv;\r\n                urlField.setText(nv);\r\n            });\r\n            view.setOnMouseClicked((e) -&gt; {\r\n                if (e.getButton() == MouseButton.SECONDARY) {\r\n                    menu.show(view, e.getScreenX(), e.getScreenY());\r\n                    item.setOnAction(event -&gt; {\r\n                        tabPane.getTabs().add(new WebTab(url).tab());\r\n                    });\r\n                }\r\n                e.consume();\r\n            });\r\n            engine.load(url);\r\n            urlField.setText(url);\r\n        }\r\n\r\n        public Tab tab() {\r\n            return tab;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75795295/230513\r\n  [2]: https://stackoverflow.com/a/73528614/230513\r\n  [3]: https://i.stack.imgur.com/6g6JI.png","title":"Clicking on menu item &quot;open in new tab&quot; on webview does not open webpage sometimes, other time it does open","body":"<p>It's not clear how your program is going awry, but I see distinct code paths to add a new <code>Tab</code>: one gets a context listener, one doesn't.</p>\n<p>One approach is to minimize unrelated class level attributes, while <em>aggregating</em> relevant fields with the corresponding <code>Tab</code>. In the variation below,</p>\n<ul>\n<li><p>All <code>Tab</code> instances have access to the containing <code>TabPane</code> and a shared <code>ContextMenu</code>; the remaining attributes are local to each <code>WebTab</code>.</p>\n</li>\n<li><p>The initial <code>Tab</code> opens on the <code>HOME</code> page.</p>\n</li>\n<li><p>Each <code>Tab</code> gets an editable URL; edit and press <kbd>Enter</kbd> to load the page; press <kbd>Tab</kbd> to change tabs.</p>\n</li>\n<li><p>The context menu simply opens the current page in a new <code>Tab</code>, allowing continued browsing in the current <code>Tab</code>.</p>\n</li>\n<li><p>Also consider isolating individual links, illustrated <a href=\"https://stackoverflow.com/a/75795295/230513\">here</a>, or parsing the document, shown <a href=\"https://stackoverflow.com/a/73528614/230513\">here</a>.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/6g6JI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6g6JI.png\" alt=\"Tab browser\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.web.WebEngine;\n\n//https://stackoverflow.com/q/77506981/230513\npublic class QuickTab extends Application {\n\n    private static final String HOME = &quot;https://example.edu&quot;;\n    private final TabPane tabPane = new TabPane();\n    private final MenuItem item = new MenuItem(&quot;Open this page in a new tab.&quot;);\n    private final ContextMenu menu = new ContextMenu(item);\n\n    @Override\n    public void start(Stage stage) {\n        tabPane.getTabs().add(new WebTab(HOME).tab());\n        stage.setScene(new Scene(tabPane));\n        stage.show();\n    }\n\n    private class WebTab {\n\n        private final Tab tab = new Tab();\n        private final TextField urlField = new TextField();\n        private final WebView view = new WebView();\n        private final WebEngine engine = view.getEngine();\n        private String url;\n\n        private WebTab(String s) {\n            url = s;\n            view.setContextMenuEnabled(false);\n            tab.setGraphic(urlField);\n            tab.setContent(view);\n            urlField.focusedProperty().addListener((obs, ov, isFocused) -&gt; {\n                if (isFocused) {\n                    tabPane.getSelectionModel().select(tab);\n                }\n            });\n            urlField.setOnKeyPressed((KeyEvent e) -&gt; {\n                KeyCode code = e.getCode();\n                if (KeyCode.ENTER == code) {\n                    engine.load(urlField.getText());\n                }\n            });\n            engine.locationProperty().addListener((obs, ov, nv) -&gt; {\n                url = nv;\n                urlField.setText(nv);\n            });\n            view.setOnMouseClicked((e) -&gt; {\n                if (e.getButton() == MouseButton.SECONDARY) {\n                    menu.show(view, e.getScreenX(), e.getScreenY());\n                    item.setOnAction(event -&gt; {\n                        tabPane.getTabs().add(new WebTab(url).tab());\n                    });\n                }\n                e.consume();\n            });\n            engine.load(url);\n            urlField.setText(url);\n        }\n\n        public Tab tab() {\n            return tab;\n        }\n    }\n\n    public static void main(String[] args) {\n        Application.launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9814275,"reputation":23,"user_id":7271257,"display_name":"Mukesh P"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700436989,"creation_date":1700312319,"question_id":77506981,"body_markdown":"I have a piece of code in JavaFX which creates a small web browser. The web page is shown in a web view. I have managed to get custom context menu popped up by right clicking on the links on the webpage. The context menu has a menu item labeled &quot;open in new tab&quot;. However, I have a strange problem. If I click on the &quot;open in new tab&quot;, sometimes related webpage opens in new tab, but other times it fails to do so. Please note that if I implement the functionality without any context menu and using right click alone directly on the link, the link opens every time in new tab. How do we describe the situation? Is it a threading issue? I have tested the code on Windows 7 64-bit and Windows 8.1 64-bit. I am using BlueJ on Java 17 and JavaFX 20.\r\n\r\nHere is what I have tried.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.scene.web.WebEngine;\r\nimport javafx.scene.web.WebView;\r\nimport javafx.scene.web.WebEvent;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.input.MouseButton;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.event.ActionEvent;\r\n\r\npublic class QuickTab extends Application\r\n{\r\n    TabPane tpane;\r\n    TextField urlField;\r\n    WebView webView;\r\n    String url;\r\n    public void start(Stage stage)\r\n    {\r\n        tpane = new TabPane();\r\n        Tab urlTab = new Tab();\r\n        HBox box = new HBox();\r\n        urlField = new TextField();\r\n        urlField.setPromptText(&quot;Enter URL&quot;);\r\n        Button goBtn = new Button(&quot;Go&quot;);\r\n        goBtn.setOnAction(e -&gt; load_page());\r\n        box.getChildren().addAll(urlField, goBtn);\r\n        urlTab.setGraphic(box);\r\n        tpane.getTabs().add(urlTab);\r\n        \r\n        stage.setScene(new Scene(tpane, 400, 300));\r\n        stage.show();\r\n    }\r\n    private void load_page()\r\n    {\r\n        webView = new WebView();\r\n        WebEngine engine = webView.getEngine();\r\n        webView.setContextMenuEnabled(false);//***\r\n        Tab tab = new Tab(&quot;home tab&quot;);\r\n        tab.setContent(webView);\r\n        tpane.getTabs().add(tab);      \r\n        \r\n        engine.setOnStatusChanged((WebEvent&lt;String&gt; event) -&gt; {\r\n            url = event.getData();\r\n            \r\n        });\r\n        engine.load(urlField.getText());       \r\n        webView.setOnMouseClicked(new TabOpener());\r\n    }\r\n    private class TabOpener implements EventHandler&lt;MouseEvent&gt;\r\n    {\r\n                 \r\n        public void handle(MouseEvent e)\r\n        {\r\n            if(e.getButton() == MouseButton.SECONDARY)\r\n            {\r\n                ContextMenu cmenu = new ContextMenu();\r\n                MenuItem item = new MenuItem(&quot;open in new tab&quot;); \r\n                cmenu.getItems().addAll(item);\r\n                cmenu.show(webView, e.getScreenX(), e.getScreenY());                    \r\n                item.setOnAction(event -&gt; {\r\n                    Platform.runLater(() -&gt; load_newPage());\r\n                });\r\n            }\r\n            e.consume();\r\n        }\r\n        private void load_newPage()\r\n        {\r\n            WebView newView = new WebView();\r\n            WebEngine newEngine = newView.getEngine();\r\n            Tab newTab = new Tab(url);\r\n            tpane.getTabs().add(newTab);\r\n            newTab.setContent(newView);\r\n            newEngine.load(url);\r\n            \r\n        }\r\n    }    \r\n}\r\n```\r\n","title":"Clicking on menu item &quot;open in new tab&quot; on webview does not open webpage sometimes, other time it does open","body":"<p>I have a piece of code in JavaFX which creates a small web browser. The web page is shown in a web view. I have managed to get custom context menu popped up by right clicking on the links on the webpage. The context menu has a menu item labeled &quot;open in new tab&quot;. However, I have a strange problem. If I click on the &quot;open in new tab&quot;, sometimes related webpage opens in new tab, but other times it fails to do so. Please note that if I implement the functionality without any context menu and using right click alone directly on the link, the link opens every time in new tab. How do we describe the situation? Is it a threading issue? I have tested the code on Windows 7 64-bit and Windows 8.1 64-bit. I am using BlueJ on Java 17 and JavaFX 20.</p>\n<p>Here is what I have tried.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.scene.web.WebEvent;\nimport javafx.stage.Stage;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.input.MouseEvent;\nimport javafx.event.EventHandler;\nimport javafx.event.ActionEvent;\n\npublic class QuickTab extends Application\n{\n    TabPane tpane;\n    TextField urlField;\n    WebView webView;\n    String url;\n    public void start(Stage stage)\n    {\n        tpane = new TabPane();\n        Tab urlTab = new Tab();\n        HBox box = new HBox();\n        urlField = new TextField();\n        urlField.setPromptText(&quot;Enter URL&quot;);\n        Button goBtn = new Button(&quot;Go&quot;);\n        goBtn.setOnAction(e -&gt; load_page());\n        box.getChildren().addAll(urlField, goBtn);\n        urlTab.setGraphic(box);\n        tpane.getTabs().add(urlTab);\n        \n        stage.setScene(new Scene(tpane, 400, 300));\n        stage.show();\n    }\n    private void load_page()\n    {\n        webView = new WebView();\n        WebEngine engine = webView.getEngine();\n        webView.setContextMenuEnabled(false);//***\n        Tab tab = new Tab(&quot;home tab&quot;);\n        tab.setContent(webView);\n        tpane.getTabs().add(tab);      \n        \n        engine.setOnStatusChanged((WebEvent&lt;String&gt; event) -&gt; {\n            url = event.getData();\n            \n        });\n        engine.load(urlField.getText());       \n        webView.setOnMouseClicked(new TabOpener());\n    }\n    private class TabOpener implements EventHandler&lt;MouseEvent&gt;\n    {\n                 \n        public void handle(MouseEvent e)\n        {\n            if(e.getButton() == MouseButton.SECONDARY)\n            {\n                ContextMenu cmenu = new ContextMenu();\n                MenuItem item = new MenuItem(&quot;open in new tab&quot;); \n                cmenu.getItems().addAll(item);\n                cmenu.show(webView, e.getScreenX(), e.getScreenY());                    \n                item.setOnAction(event -&gt; {\n                    Platform.runLater(() -&gt; load_newPage());\n                });\n            }\n            e.consume();\n        }\n        private void load_newPage()\n        {\n            WebView newView = new WebView();\n            WebEngine newEngine = newView.getEngine();\n            Tab newTab = new Tab(url);\n            tpane.getTabs().add(newTab);\n            newTab.setContent(newView);\n            newEngine.load(url);\n            \n        }\n    }    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-bean"],"answers":[{"tags":[],"owner":{"account_id":3921411,"reputation":26,"user_id":3243413,"display_name":"VinayakaHegde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610605270,"creation_date":1610605270,"answer_id":65714283,"question_id":65713073,"body_markdown":"There is a way to handle property refresh in Spring boot.\r\nPlease check this once - https://www.baeldung.com/spring-reloading-properties.\r\n\r\nThis will make use of spring in-built capabilities to handle property changes.\r\nAnd will be extensible for future purposes as well.","title":"How to Reload/Re-init Bean in Spring boot?","body":"<p>There is a way to handle property refresh in Spring boot.\nPlease check this once - <a href=\"https://www.baeldung.com/spring-reloading-properties\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-reloading-properties</a>.</p>\n<p>This will make use of spring in-built capabilities to handle property changes.\nAnd will be extensible for future purposes as well.</p>\n"}],"owner":{"account_id":18201047,"reputation":21,"user_id":13245188,"display_name":"kams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8945,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700434920,"creation_date":1610595435,"question_id":65713073,"body_markdown":"I have email config class like this.\r\n\r\n    @Configuration\r\n    public class EmailConfiguration {\r\n    \r\n        @Autowired\r\n        private ConfigService configService;\r\n    \r\n    \r\n        @Bean\r\n        public JavaMailSender JavaMailSender() {\r\n            JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n            mailSender.setHost(configService.emailHost());\r\n            mailSender.setPort(configService.emailPort());\r\n            mailSender.setUsername(configService.emailAddress());\r\n            mailSender.setPassword(configService.emailPassword());\r\n    \r\n            return mailSender;\r\n        }\r\n    }\r\n\r\nhow to make this bean change the value at runtime every ConfigService was refreshed? I was refresh the ConfigService but the bean&#39;s value did not change. ","title":"How to Reload/Re-init Bean in Spring boot?","body":"<p>I have email config class like this.</p>\n<pre><code>@Configuration\npublic class EmailConfiguration {\n\n    @Autowired\n    private ConfigService configService;\n\n\n    @Bean\n    public JavaMailSender JavaMailSender() {\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n        mailSender.setHost(configService.emailHost());\n        mailSender.setPort(configService.emailPort());\n        mailSender.setUsername(configService.emailAddress());\n        mailSender.setPassword(configService.emailPassword());\n\n        return mailSender;\n    }\n}\n</code></pre>\n<p>how to make this bean change the value at runtime every ConfigService was refreshed? I was refresh the ConfigService but the bean's value did not change.</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1587500165,"post_id":61352331,"comment_id":108535588,"body_markdown":"what does `which java` show? There might be more than one version of Java on your machine. The fact that you have `javac` leads me to believe it&#39;s a different version you downloaded for development.","body":"what does <code>which java</code> show? There might be more than one version of Java on your machine. The fact that you have <code>javac</code> leads me to believe it&#39;s a different version you downloaded for development."},{"owner":{"account_id":378535,"reputation":13462,"user_id":731314,"accept_rate":90,"display_name":"Gary"},"score":1,"creation_date":1587500169,"post_id":61352331,"comment_id":108535590,"body_markdown":"You can have as many different version simultaneously installed as you want.  On Windows, you&#39;d change your PATH variable to reflect which one is your default.  Or put JAVA_HOME variable in your path and update that one.  I&#39;m not sure how you do this on a mac","body":"You can have as many different version simultaneously installed as you want.  On Windows, you&#39;d change your PATH variable to reflect which one is your default.  Or put JAVA_HOME variable in your path and update that one.  I&#39;m not sure how you do this on a mac"},{"owner":{"account_id":1469277,"reputation":2289,"user_id":1381241,"accept_rate":80,"display_name":"Sumit"},"score":0,"creation_date":1587500290,"post_id":61352331,"comment_id":108535642,"body_markdown":"ah interesting, so the java control panel is not the same as the jdk version? how do I update my jdk version?\n\n`which java` tells me: /usr/bin/java\n\nand I only installed one version of java on my system.","body":"ah interesting, so the java control panel is not the same as the jdk version? how do I update my jdk version?  <code>which java</code> tells me: /usr/bin/java  and I only installed one version of java on my system."},{"owner":{"account_id":1469277,"reputation":2289,"user_id":1381241,"accept_rate":80,"display_name":"Sumit"},"score":0,"creation_date":1587500561,"post_id":61352331,"comment_id":108535759,"body_markdown":"my `JAVA_HOME` says `/Library/Java/JavaVirtualMachines/jdk1.8.0_231.jdk/Contents/Home`","body":"my <code>JAVA_HOME</code> says <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_231.jdk&#47;Contents&#47;&zwnj;&#8203;Home</code>"}],"answers":[{"tags":[],"owner":{"account_id":14168011,"reputation":339,"user_id":10235441,"display_name":"Lucbel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587500227,"creation_date":1587500227,"answer_id":61352454,"question_id":61352331,"body_markdown":"in terminal take a look on the bash configuration.\r\n\r\n    $ cat .bash_profile | grep java\r\n\r\nProbably you&#39;ll see there that is pointing to old directory.\r\n\r\nedit using\r\n\r\n    $ nano .bash_profile\r\n\r\nand change it to point the the new directory and restart terminal.\r\n\r\n","title":"Java Version mismatch between control panel and terminal","body":"<p>in terminal take a look on the bash configuration.</p>\n\n<pre><code>$ cat .bash_profile | grep java\n</code></pre>\n\n<p>Probably you'll see there that is pointing to old directory.</p>\n\n<p>edit using</p>\n\n<pre><code>$ nano .bash_profile\n</code></pre>\n\n<p>and change it to point the the new directory and restart terminal.</p>\n"},{"tags":[],"owner":{"account_id":12886241,"reputation":657,"user_id":9319615,"display_name":"Waxhaw"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1587501553,"creation_date":1587501553,"answer_id":61352815,"question_id":61352331,"body_markdown":"Anyone on a Mac doing Java development I would STRONGLY suggest you use SDKMAN to manage your shell settings.  You can bounce between versions in seconds and it uses symbolic links to dynamically FLIP between say Java 1.7 and Java 1.8.\r\n\r\nhttps://sdkman.io/usage\r\n\r\nSo to install the &#39;latest&#39; version of Java you would just type &#39;sdk install java&#39;.\r\n\r\nYou can also type &#39;sdk list java&#39; to see all of the versions as well as which you have pulled down as well as what you have current.\r\n\r\nI can&#39;t say enough good things about it.","title":"Java Version mismatch between control panel and terminal","body":"<p>Anyone on a Mac doing Java development I would STRONGLY suggest you use SDKMAN to manage your shell settings.  You can bounce between versions in seconds and it uses symbolic links to dynamically FLIP between say Java 1.7 and Java 1.8.</p>\n\n<p><a href=\"https://sdkman.io/usage\" rel=\"nofollow noreferrer\">https://sdkman.io/usage</a></p>\n\n<p>So to install the 'latest' version of Java you would just type 'sdk install java'.</p>\n\n<p>You can also type 'sdk list java' to see all of the versions as well as which you have pulled down as well as what you have current.</p>\n\n<p>I can't say enough good things about it.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1587502173,"creation_date":1587502173,"answer_id":61352979,"question_id":61352331,"body_markdown":" - What you see in the Java control panel is the JRE version.\r\n - What you see in the terminal window by using the command, `java -version` is the JDK  version.\r\n\r\nYou can check all installed version in your system using the following command:\r\n\r\n    /usr/libexec/java_home -V\r\n\r\nFollow the [JDK installation instruction][1] if you want to install a specific patch of JDK 8.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html","title":"Java Version mismatch between control panel and terminal","body":"<ul>\n<li>What you see in the Java control panel is the JRE version.</li>\n<li>What you see in the terminal window by using the command, <code>java -version</code> is the JDK  version.</li>\n</ul>\n\n<p>You can check all installed version in your system using the following command:</p>\n\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n\n<p>Follow the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html\" rel=\"nofollow noreferrer\">JDK installation instruction</a> if you want to install a specific patch of JDK 8.</p>\n"},{"tags":[],"owner":{"account_id":29944002,"reputation":1,"user_id":22947740,"display_name":"Ernest"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700434751,"creation_date":1700434751,"answer_id":77512816,"question_id":61352331,"body_markdown":"JRE Location in Mac This is the Java Version you see in control panel\r\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin\r\n\r\nJDK Location in Mac This is the Java Version you see in terminal\r\n/Library/Java/JavaVirtualMachines/jdk&lt;version&gt;","title":"Java Version mismatch between control panel and terminal","body":"<p>JRE Location in Mac This is the Java Version you see in control panel\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin</p>\n<p>JDK Location in Mac This is the Java Version you see in terminal\n/Library/Java/JavaVirtualMachines/jdk</p>\n"}],"owner":{"account_id":1469277,"reputation":2289,"user_id":1381241,"accept_rate":80,"display_name":"Sumit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61352979,"answer_count":4,"score":3,"last_activity_date":1700434751,"creation_date":1587499810,"question_id":61352331,"body_markdown":"I recently updated Java on my Mac using the control panel.\r\n\r\non the Control Panel it now shows Java version as Java 8 Update 251 \r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut, when I check for the Java Version from my Terminal it still shows an older version:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI already restarted my terminal, restarted my Mac, but it still shows the same.\r\n\r\nHow do I fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5fniy.png\r\n  [2]: https://i.stack.imgur.com/0xSv7.png","title":"Java Version mismatch between control panel and terminal","body":"<p>I recently updated Java on my Mac using the control panel.</p>\n\n<p>on the Control Panel it now shows Java version as Java 8 Update 251 </p>\n\n<p><a href=\"https://i.stack.imgur.com/5fniy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fniy.png\" alt=\"enter image description here\"></a></p>\n\n<p>But, when I check for the Java Version from my Terminal it still shows an older version:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0xSv7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0xSv7.png\" alt=\"enter image description here\"></a></p>\n\n<p>I already restarted my terminal, restarted my Mac, but it still shows the same.</p>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","json","copy","json-lib"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700433631,"creation_date":1535307475,"answer_id":52029076,"question_id":52029075,"body_markdown":"After hours of searching, I finally found the answer. I&#39;m sort of embarrased that it&#39;s this simple.\r\n\r\n~\r\n\r\nJson-lib has a beautiful feature that allows you to take your current JSONObject and parse the entirety of the JSONObject into a String. And there already exists a method to build a JSONObject from a String. Therefore, all you need to do is turn the JSONObject into a String, and then back into a JSONObject. You could store the string as a variable (or use it as a return value), then simply take your preexisting JSONObject reference and use the method to rebuild the JSONObject from the String. Simple as that.\r\n\r\nEDIT - thought I would give a quick code example\r\n\r\n    JSONObject a = /* pretend a has 100 elements inside */\r\n    String temp = a.toString();\r\n    JSONObject b = JSONObject.fromObject(temp);\r\n    String temp2= b.toString();\r\n    if(temp.equals(temp2)){System.out.println(&quot;Well done.&quot;);}\r\n\r\nEDIT 2 -- Coming back 5 years later (and with much more experience), I realize that I had inadvertently stumbled on the concept of ***Serialization*** and ***Deserialization***.\r\n\r\nSerialization is the process of taking a complex data object (in this case, my `JSONObject`) and turning it into a basic `String`. That `String` still contains all of the bits needed to create a new `JSONObject`, but it is a simple `String`, and sending a `String` value over the internet, or saving it to a file -- these are things I know how to do easily, even as a beginner programmer.\r\n\r\nDeserialization is the process of taking that serialized value (the `String` I created above) and turning that back into my data object -- in this case, my `JSONObject`. Now, please note -- I am lucky that doing `toString()` is an easy way to **serialize** my **`JSONObject`**. However, if you want to properly serialize most other objects, `toString()` likely won&#39;t be enough. There are many different ways to do it, but they all depend on what type of data object you have. To find out how to serialize or deserialize your data object, you should try searching &quot;*How to serialize/deserialize &lt;YOUR_DATA_TYPE&gt;*&quot;.","title":"How to copy all the values from one JSONObject to another?","body":"<p>After hours of searching, I finally found the answer. I'm sort of embarrased that it's this simple.</p>\n<p>~</p>\n<p>Json-lib has a beautiful feature that allows you to take your current JSONObject and parse the entirety of the JSONObject into a String. And there already exists a method to build a JSONObject from a String. Therefore, all you need to do is turn the JSONObject into a String, and then back into a JSONObject. You could store the string as a variable (or use it as a return value), then simply take your preexisting JSONObject reference and use the method to rebuild the JSONObject from the String. Simple as that.</p>\n<p>EDIT - thought I would give a quick code example</p>\n<pre><code>JSONObject a = /* pretend a has 100 elements inside */\nString temp = a.toString();\nJSONObject b = JSONObject.fromObject(temp);\nString temp2= b.toString();\nif(temp.equals(temp2)){System.out.println(&quot;Well done.&quot;);}\n</code></pre>\n<p>EDIT 2 -- Coming back 5 years later (and with much more experience), I realize that I had inadvertently stumbled on the concept of <em><strong>Serialization</strong></em> and <em><strong>Deserialization</strong></em>.</p>\n<p>Serialization is the process of taking a complex data object (in this case, my <code>JSONObject</code>) and turning it into a basic <code>String</code>. That <code>String</code> still contains all of the bits needed to create a new <code>JSONObject</code>, but it is a simple <code>String</code>, and sending a <code>String</code> value over the internet, or saving it to a file -- these are things I know how to do easily, even as a beginner programmer.</p>\n<p>Deserialization is the process of taking that serialized value (the <code>String</code> I created above) and turning that back into my data object -- in this case, my <code>JSONObject</code>. Now, please note -- I am lucky that doing <code>toString()</code> is an easy way to <strong>serialize</strong> my <strong><code>JSONObject</code></strong>. However, if you want to properly serialize most other objects, <code>toString()</code> likely won't be enough. There are many different ways to do it, but they all depend on what type of data object you have. To find out how to serialize or deserialize your data object, you should try searching &quot;<em>How to serialize/deserialize &lt;YOUR_DATA_TYPE&gt;</em>&quot;.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7015,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52029076,"answer_count":1,"score":3,"last_activity_date":1700433631,"creation_date":1535307475,"question_id":52029075,"body_markdown":"I understand that it&#39;s perfectly possible to copy each individual component over one by one, but it&#39;s extremely messy to do and rather ugly. Isn&#39;t there a simpler way to copy all the values from one JSONObject to another? Important to note, I am using json-lib. I&#39;m not opposed to switching tools if it&#39;s absolutely necessary. Point is, this is a rather inefficient way of doing things.","title":"How to copy all the values from one JSONObject to another?","body":"<p>I understand that it's perfectly possible to copy each individual component over one by one, but it's extremely messy to do and rather ugly. Isn't there a simpler way to copy all the values from one JSONObject to another? Important to note, I am using json-lib. I'm not opposed to switching tools if it's absolutely necessary. Point is, this is a rather inefficient way of doing things.</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":29588792,"reputation":3,"user_id":22676906,"display_name":"GAmeya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700433322,"creation_date":1700433137,"question_id":77512747,"body_markdown":"**Problem:** The code shared below works for Chrome but does not work for Safari. I&#39;m trying to automate it for Multiple browsers.\r\n\r\nI&#39;m trying to enter some text into the search bar and click the search icon to display the results for the search term. When I try to enter the search term with **WebDriverWait**, the element is not found and the sendkeys does not work.\r\nHowever, if I use **Thread.sleep(5000)** instead, then it works as expected. I&#39;m not sure how to solve this issue. Also, this only happens after logging in with an account.\r\n\r\nThe Details needed for the test can be found below\r\n\r\n**URL:** &lt;https://naveenautomationlabs.com/opencart/index.php?route=account/login&gt;\r\n\r\n**Email:** test321@gmail.com\r\n\r\n**Password:** asdzxc\r\n\r\n**The code which does not work**\r\n\r\n    public class Demo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tWebDriver driver = new SafariDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tdriver.get(&quot;https://naveenautomationlabs.com/opencart/index.php?route=account/login&quot;);\r\n\t\tdriver.findElement(By.id(&quot;input-email&quot;)).sendKeys(&quot;test321@gmail.com&quot;);\r\n\t\tdriver.findElement(By.id(&quot;input-password&quot;)).sendKeys(&quot;asdzxc&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Login&#39;]&quot;)).click();\r\n\t\t\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.name(&quot;search&quot;))).sendKeys(&quot;Macbook&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//div[@id=&#39;search&#39;]/span&quot;)).click();\r\n\t}}\r\n\r\n**The Code which works**\r\n\r\n    public class Demo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tWebDriver driver = new SafariDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tdriver.get(&quot;https://naveenautomationlabs.com/opencart/index.php?route=account/login&quot;);\r\n\t\tdriver.findElement(By.id(&quot;input-email&quot;)).sendKeys(&quot;test321@gmail.com&quot;);\r\n\t\tdriver.findElement(By.id(&quot;input-password&quot;)).sendKeys(&quot;asdzxc&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Login&#39;]&quot;)).click();\r\n\t\ttry {\r\n\t\t\tThread.sleep(5000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tdriver.findElement(By.name(&quot;search&quot;)).sendKeys(&quot;Macbook&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//div[@id=&#39;search&#39;]/span&quot;)).click();\r\n\t}}\r\n\r\n**Need a solution for why it won&#39;t work with WebDriverWait with safari**","title":"Not able to use sendKeys on the Element after using WebDriverWait","body":"<p><strong>Problem:</strong> The code shared below works for Chrome but does not work for Safari. I'm trying to automate it for Multiple browsers.</p>\n<p>I'm trying to enter some text into the search bar and click the search icon to display the results for the search term. When I try to enter the search term with <strong>WebDriverWait</strong>, the element is not found and the sendkeys does not work.\nHowever, if I use <strong>Thread.sleep(5000)</strong> instead, then it works as expected. I'm not sure how to solve this issue. Also, this only happens after logging in with an account.</p>\n<p>The Details needed for the test can be found below</p>\n<p><strong>URL:</strong> <a href=\"https://naveenautomationlabs.com/opencart/index.php?route=account/login\" rel=\"nofollow noreferrer\">https://naveenautomationlabs.com/opencart/index.php?route=account/login</a></p>\n<p><strong>Email:</strong> test321@gmail.com</p>\n<p><strong>Password:</strong> asdzxc</p>\n<p><strong>The code which does not work</strong></p>\n<pre><code>public class Demo {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    WebDriver driver = new SafariDriver();\n    driver.manage().window().maximize();\n    driver.manage().deleteAllCookies();\n    driver.get(&quot;https://naveenautomationlabs.com/opencart/index.php?route=account/login&quot;);\n    driver.findElement(By.id(&quot;input-email&quot;)).sendKeys(&quot;test321@gmail.com&quot;);\n    driver.findElement(By.id(&quot;input-password&quot;)).sendKeys(&quot;asdzxc&quot;);\n    driver.findElement(By.xpath(&quot;//input[@value='Login']&quot;)).click();\n    \n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.name(&quot;search&quot;))).sendKeys(&quot;Macbook&quot;);\n    driver.findElement(By.xpath(&quot;//div[@id='search']/span&quot;)).click();\n}}\n</code></pre>\n<p><strong>The Code which works</strong></p>\n<pre><code>public class Demo {\n\npublic static void main(String[] args) {\n    WebDriver driver = new SafariDriver();\n    driver.manage().window().maximize();\n    driver.manage().deleteAllCookies();\n    driver.get(&quot;https://naveenautomationlabs.com/opencart/index.php?route=account/login&quot;);\n    driver.findElement(By.id(&quot;input-email&quot;)).sendKeys(&quot;test321@gmail.com&quot;);\n    driver.findElement(By.id(&quot;input-password&quot;)).sendKeys(&quot;asdzxc&quot;);\n    driver.findElement(By.xpath(&quot;//input[@value='Login']&quot;)).click();\n    try {\n        Thread.sleep(5000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    driver.findElement(By.name(&quot;search&quot;)).sendKeys(&quot;Macbook&quot;);\n    driver.findElement(By.xpath(&quot;//div[@id='search']/span&quot;)).click();\n}}\n</code></pre>\n<p><strong>Need a solution for why it won't work with WebDriverWait with safari</strong></p>\n"},{"tags":["java","dataframe","apache-spark"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1700388644,"post_id":77510293,"comment_id":136646316,"body_markdown":"There is no need to escape `/` in CSV (unless that is the separator character), so it is odd that it is in your source, and not surprising you can&#39;t get them escaped when writing out.","body":"There is no need to escape <code>&#47;</code> in CSV (unless that is the separator character), so it is odd that it is in your source, and not surprising you can&#39;t get them escaped when writing out."}],"answers":[{"tags":[],"owner":{"account_id":3450274,"reputation":9585,"user_id":2890093,"accept_rate":67,"display_name":"Kombajn zbożowy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700415961,"creation_date":1700415961,"answer_id":77511822,"question_id":77510293,"body_markdown":"There are a few options related to quoting described in [docs][1] about CSV reading/writing, relevant here is:\r\n\r\n&gt; **quote** (&quot;) - Sets a single character used for escaping quoted values where the separator can be part of the value. For reading, if you would like to turn off quotations, you need to set not null but an empty string. For writing, if an empty string is set, it uses u0000 (null character).\r\n&gt;\r\n&gt; **escape** (\\\\) - Sets a single character used for escaping quotes inside an already quoted value.\r\n\r\nNote that *escape* says it&#39;s for escaping quotes, while in your file it&#39;s the slash that&#39;s escaped. Therefore it won&#39;t work with built-in options. Instead you just need to transform the value (code in Scala):\r\n\r\n    val df = spark.read.option(&quot;ignoreLeadingWhitespace&quot;, &quot;true&quot;).csv(&quot;trouble.csv&quot;)\r\n      .withColumn(&quot;_c2&quot;, regexp_replace($&quot;_c2&quot;, &quot;&quot;&quot;\\\\/&quot;&quot;&quot;, &quot;/&quot;)\r\n    df.show(false)\r\n    +---+---+------------------------------+\r\n    |_c0|_c1|_c2                           |\r\n    +---+---+------------------------------+\r\n    |1  |2  |Learn more https://example.com|\r\n    +---+---+------------------------------+\r\n\r\n(note `ignoreLeadingWhitespace=true` that I used to skip spaces following commas)\r\n\r\nAnd reverse on save:\r\n\r\n    df.withColumn(&quot;_c2&quot;, regexp_replace($&quot;_c2&quot;, &quot;/&quot;, &quot;&quot;&quot;\\\\/&quot;&quot;&quot;))\r\n      .write.option(&quot;quoteAll&quot;, &quot;true&quot;).option(&quot;escape&quot;, &quot;\\u0000&quot;).csv(&quot;trouble2.csv&quot;)\r\n\r\n    $ cat trouble2.csv/*.csv\r\n    &quot;1&quot;,&quot;2&quot;,&quot;Learn more https:\\/\\/example.com&quot;\r\n\r\n(here used `quoteAll=true` to force quoting all fields just as it was in input and `escape=\\0` to turn off escaping quotes - without it you get double backslashes, because it tries to escape the escape character)\r\n\r\n  [1]: https://spark.apache.org/docs/latest/sql-data-sources-csv.html","title":"How to read quoted CSV in Spark 3.4.0 with escape characters?","body":"<p>There are a few options related to quoting described in <a href=\"https://spark.apache.org/docs/latest/sql-data-sources-csv.html\" rel=\"nofollow noreferrer\">docs</a> about CSV reading/writing, relevant here is:</p>\n<blockquote>\n<p><strong>quote</strong> (&quot;) - Sets a single character used for escaping quoted values where the separator can be part of the value. For reading, if you would like to turn off quotations, you need to set not null but an empty string. For writing, if an empty string is set, it uses u0000 (null character).</p>\n<p><strong>escape</strong> (\\) - Sets a single character used for escaping quotes inside an already quoted value.</p>\n</blockquote>\n<p>Note that <em>escape</em> says it's for escaping quotes, while in your file it's the slash that's escaped. Therefore it won't work with built-in options. Instead you just need to transform the value (code in Scala):</p>\n<pre><code>val df = spark.read.option(&quot;ignoreLeadingWhitespace&quot;, &quot;true&quot;).csv(&quot;trouble.csv&quot;)\n  .withColumn(&quot;_c2&quot;, regexp_replace($&quot;_c2&quot;, &quot;&quot;&quot;\\\\/&quot;&quot;&quot;, &quot;/&quot;)\ndf.show(false)\n+---+---+------------------------------+\n|_c0|_c1|_c2                           |\n+---+---+------------------------------+\n|1  |2  |Learn more https://example.com|\n+---+---+------------------------------+\n</code></pre>\n<p>(note <code>ignoreLeadingWhitespace=true</code> that I used to skip spaces following commas)</p>\n<p>And reverse on save:</p>\n<pre><code>df.withColumn(&quot;_c2&quot;, regexp_replace($&quot;_c2&quot;, &quot;/&quot;, &quot;&quot;&quot;\\\\/&quot;&quot;&quot;))\n  .write.option(&quot;quoteAll&quot;, &quot;true&quot;).option(&quot;escape&quot;, &quot;\\u0000&quot;).csv(&quot;trouble2.csv&quot;)\n\n$ cat trouble2.csv/*.csv\n&quot;1&quot;,&quot;2&quot;,&quot;Learn more https:\\/\\/example.com&quot;\n</code></pre>\n<p>(here used <code>quoteAll=true</code> to force quoting all fields just as it was in input and <code>escape=\\0</code> to turn off escaping quotes - without it you get double backslashes, because it tries to escape the escape character)</p>\n"}],"owner":{"account_id":13037897,"reputation":27,"user_id":9422175,"display_name":"Bryan Erazo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700432901,"creation_date":1700387021,"question_id":77510293,"body_markdown":"I have a CSV with the following data:\r\n\r\n    &quot;1&quot;, &quot;2&quot;, &quot;Learn more https:\\/\\/example.com&quot;\r\n\r\nWhat would be the options to escape the URL correctly? \r\n\r\n    sparkSession.read().options(?).csv(&quot;trouble.csv&quot;)\r\n\r\nSo that, when I read the CSV the expected dataframe looks like the following data:\r\n\r\n    1,2,Learn more https://example.com\r\n\r\nAnd, I can write another CSV out without the quotes and escaping the char `\\` correctly:\r\n\r\n    1, 2, Learn more https:\\/\\/example.com\r\n\r\nI can only get it to write as if the escaping char is part of the URL. \r\n\r\n    1, 2, Learn more https:\\\\/\\\\/example.com\r\n\r\n\r\n","title":"How to read quoted CSV in Spark 3.4.0 with escape characters?","body":"<p>I have a CSV with the following data:</p>\n<pre><code>&quot;1&quot;, &quot;2&quot;, &quot;Learn more https:\\/\\/example.com&quot;\n</code></pre>\n<p>What would be the options to escape the URL correctly?</p>\n<pre><code>sparkSession.read().options(?).csv(&quot;trouble.csv&quot;)\n</code></pre>\n<p>So that, when I read the CSV the expected dataframe looks like the following data:</p>\n<pre><code>1,2,Learn more https://example.com\n</code></pre>\n<p>And, I can write another CSV out without the quotes and escaping the char <code>\\</code> correctly:</p>\n<pre><code>1, 2, Learn more https:\\/\\/example.com\n</code></pre>\n<p>I can only get it to write as if the escaping char is part of the URL.</p>\n<pre><code>1, 2, Learn more https:\\\\/\\\\/example.com\n</code></pre>\n"},{"tags":["java","xml","jaxb","jakarta-migration"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1698247333,"post_id":77359486,"comment_id":136381715,"body_markdown":"No there is not. This is the main disadvantage of Jakarta EE 9 and up - all existing code that uses `javax` needs to switch to `jakarta`.","body":"No there is not. This is the main disadvantage of Jakarta EE 9 and up - all existing code that uses <code>javax</code> needs to switch to <code>jakarta</code>."}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700432777,"creation_date":1700432777,"answer_id":77512732,"question_id":77359486,"body_markdown":"JAXB 4 is part of JakartaEE 10 whereas JAXB 2.3 is part of JavaEE 8\r\n\r\nThe major change is the change of packages from `javax.*` to `jakarta.*` starting from JakartaEE 9 (see [here][1] for details about this huge change in Java ecosystem).\r\n\r\nThe eclipse foundation that is now in charge from JakartaEE has created [this tool (eclipse transformer)][2] for helping users with that kind of migration where it&#39;s difficult to change codebase where users wants to go with JakartaEE world.\r\n\r\nIf you cannot change your java source (based on `javax` packages), and this source is bundled in a specific jar that is used by your application (which should be the case since jaxb4 is jdk11 baseline and you didn&#39;t complain about compilation error about undefined `javax.xml.bind.annotation.XmlType` since `jaxb-runtime` is no more included in JDK starting from JDK9), you may be interested to use the [eclipse maven transformer plugin][3].\r\n\r\nHope that will help you get it work as wanted.\r\n\r\n  [1]: https://www.infoq.com/news/2019/05/end-of-javax-package/\r\n  [2]: https://github.com/eclipse/transformer\r\n  [3]: https://github.com/eclipse/transformer/tree/main/maven-plugins/transformer-maven-plugin","title":"javax to jakarta migration: glassfish JAXB 4.x reads jakarta.xml.bind.annotations* but not javax.xml.bind.annotations.*","body":"<p>JAXB 4 is part of JakartaEE 10 whereas JAXB 2.3 is part of JavaEE 8</p>\n<p>The major change is the change of packages from <code>javax.*</code> to <code>jakarta.*</code> starting from JakartaEE 9 (see <a href=\"https://www.infoq.com/news/2019/05/end-of-javax-package/\" rel=\"nofollow noreferrer\">here</a> for details about this huge change in Java ecosystem).</p>\n<p>The eclipse foundation that is now in charge from JakartaEE has created <a href=\"https://github.com/eclipse/transformer\" rel=\"nofollow noreferrer\">this tool (eclipse transformer)</a> for helping users with that kind of migration where it's difficult to change codebase where users wants to go with JakartaEE world.</p>\n<p>If you cannot change your java source (based on <code>javax</code> packages), and this source is bundled in a specific jar that is used by your application (which should be the case since jaxb4 is jdk11 baseline and you didn't complain about compilation error about undefined <code>javax.xml.bind.annotation.XmlType</code> since <code>jaxb-runtime</code> is no more included in JDK starting from JDK9), you may be interested to use the <a href=\"https://github.com/eclipse/transformer/tree/main/maven-plugins/transformer-maven-plugin\" rel=\"nofollow noreferrer\">eclipse maven transformer plugin</a>.</p>\n<p>Hope that will help you get it work as wanted.</p>\n"}],"owner":{"account_id":357783,"reputation":5010,"user_id":698168,"display_name":"Julien Kronegg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77512732,"answer_count":1,"score":0,"last_activity_date":1700432777,"creation_date":1698236936,"question_id":77359486,"body_markdown":"The context\r\n===========\r\n\r\nI&#39;m unmarshalling XML to Java using the following library:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThe unmarshalling code looks like:\r\n\r\n     MyClass instance = JAXBContext.newInstance(MyClass.class)\r\n                                   .createUnmarshaller()\r\n                                   .unmarshal(new StreamSource(getClass().getClassLoader()\r\n                                        .getResourceAsStream(&quot;myfile.xml&quot;)), MyClass.class)\r\n                                   .getValue();\r\n\r\nIt&#39;s working well.\r\n\r\nThe issue\r\n=========\r\n\r\nI&#39;m trying to migrate to the version 4.0.2 of the library:\r\n\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen running the code, an error occurs:\r\n\r\n    Two classes have the same XML type name &quot;someType&quot;. Use @XmlType.name and @XmlType.namespace to assign different names to them.\r\n\r\nThe analysis\r\n============\r\nIn my class hierarchy has two classes &quot;SomeType&quot; (in different namespace). The two classes are annotated by `javax.xml.bind.annotation.XmlType`. The class hierarchy is packaged as a library and is shared amongst several applications.\r\n\r\nWhen running with `jaxb-runtime` 2.3.1, the JAXB class `ClassInfoImpl` reads the `javax.xml.bind.annotation.XmlType` annotation:\r\n\r\n        this.elementName = this.parseElementName(clazz);\r\n        XmlType t = (XmlType)this.reader().getClassAnnotation(XmlType.class, clazz, this);\r\n        this.typeName = this.parseTypeName(clazz, t);\r\n\r\nBut when running with `jaxb-runtime` 4.0.2, the JAXB class `ClassInfoImpl` reads the new `jakarta.xml.bind.annotation.XmlType` (notice the `jakarta` prefix instead of the `javax` prefix).\r\n\r\nOf course the `XmlType` annotation cannot be found (because it&#39;s not the same package), so the error occurs.\r\n\r\nThe question\r\n============\r\n\r\nIs there another solution than update the classes from my library by changing from `javax` to `jakarta` annotations ?","title":"javax to jakarta migration: glassfish JAXB 4.x reads jakarta.xml.bind.annotations* but not javax.xml.bind.annotations.*","body":"<h1>The context</h1>\n<p>I'm unmarshalling XML to Java using the following library:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The unmarshalling code looks like:</p>\n<pre><code> MyClass instance = JAXBContext.newInstance(MyClass.class)\n                               .createUnmarshaller()\n                               .unmarshal(new StreamSource(getClass().getClassLoader()\n                                    .getResourceAsStream(&quot;myfile.xml&quot;)), MyClass.class)\n                               .getValue();\n</code></pre>\n<p>It's working well.</p>\n<h1>The issue</h1>\n<p>I'm trying to migrate to the version 4.0.2 of the library:</p>\n<pre><code> &lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n  &lt;version&gt;4.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When running the code, an error occurs:</p>\n<pre><code>Two classes have the same XML type name &quot;someType&quot;. Use @XmlType.name and @XmlType.namespace to assign different names to them.\n</code></pre>\n<h1>The analysis</h1>\n<p>In my class hierarchy has two classes &quot;SomeType&quot; (in different namespace). The two classes are annotated by <code>javax.xml.bind.annotation.XmlType</code>. The class hierarchy is packaged as a library and is shared amongst several applications.</p>\n<p>When running with <code>jaxb-runtime</code> 2.3.1, the JAXB class <code>ClassInfoImpl</code> reads the <code>javax.xml.bind.annotation.XmlType</code> annotation:</p>\n<pre><code>    this.elementName = this.parseElementName(clazz);\n    XmlType t = (XmlType)this.reader().getClassAnnotation(XmlType.class, clazz, this);\n    this.typeName = this.parseTypeName(clazz, t);\n</code></pre>\n<p>But when running with <code>jaxb-runtime</code> 4.0.2, the JAXB class <code>ClassInfoImpl</code> reads the new <code>jakarta.xml.bind.annotation.XmlType</code> (notice the <code>jakarta</code> prefix instead of the <code>javax</code> prefix).</p>\n<p>Of course the <code>XmlType</code> annotation cannot be found (because it's not the same package), so the error occurs.</p>\n<h1>The question</h1>\n<p>Is there another solution than update the classes from my library by changing from <code>javax</code> to <code>jakarta</code> annotations ?</p>\n"},{"tags":["java","algorithm","swing","oop","user-interface"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700278611,"creation_date":1700271906,"answer_id":77505408,"question_id":77505326,"body_markdown":"Make use of `Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)`.  This allows you define the sort order by comparing objects based on your needs.\r\n\r\nFor example...\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            List&lt;Integer&gt; ranks = new ArrayList&lt;&gt;(Arrays.asList(new Integer[] {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}));\r\n            Collections.shuffle(ranks);\r\n\r\n            Guitar[] guitars = new Guitar[10];\r\n            for (int index = 0; index &lt; 10; index++) {\r\n                guitars[index] = new Guitar(&quot;Tab &quot; + Integer.toString(index), ranks.remove(0));\r\n            }\r\n\r\n            System.out.println(&quot;Unsorted = &quot; + Arrays.toString(guitars));\r\n\r\n            Arrays.sort(guitars, new Comparator&lt;Guitar&gt;() {\r\n                @Override\r\n                public int compare(Guitar o1, Guitar o2) {\r\n                    return o1.getRank() - o2.getRank();\r\n                }\r\n            });\r\n\r\n            System.out.println(&quot;Sorted = &quot; + Arrays.toString(guitars));\r\n        }\r\n\r\n        public class Guitar {\r\n\r\n            public String tabName;\r\n            public String eString;\r\n            public String bString;\r\n            public String gString;\r\n            public String dString;\r\n            public String aString;\r\n            public String lowEString;\r\n            public int rank;\r\n\r\n            public Guitar(String tabName, int rank) {\r\n                this.tabName = tabName;\r\n                this.rank = rank;\r\n            }\r\n\r\n            public int getRank() {\r\n                return rank;\r\n            }\r\n\r\n            public void setRank(int r) {\r\n                rank = r;\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                return &quot;[Guitar] &quot; + tabName + &quot; @ &quot; + getRank();\r\n            }\r\n        }\r\n    }\r\n\r\nWhich can output something like...\r\n\r\n    Unsorted = [[Guitar] Tab 0 @ 10, [Guitar] Tab 1 @ 5, [Guitar] Tab 2 @ 2, [Guitar] Tab 3 @ 6, [Guitar] Tab 4 @ 4, [Guitar] Tab 5 @ 1, [Guitar] Tab 6 @ 3, [Guitar] Tab 7 @ 7, [Guitar] Tab 8 @ 9, [Guitar] Tab 9 @ 8]\r\n      Sorted = [[Guitar] Tab 5 @ 1, [Guitar] Tab 2 @ 2, [Guitar] Tab 6 @ 3, [Guitar] Tab 4 @ 4, [Guitar] Tab 1 @ 5, [Guitar] Tab 3 @ 6, [Guitar] Tab 7 @ 7, [Guitar] Tab 9 @ 8, [Guitar] Tab 8 @ 9, [Guitar] Tab 0 @ 10]\r\n\r\nSee: \r\n\r\n* [Comparator Interface in Java with Examples](https://www.geeksforgeeks.org/comparator-interface-java/)\r\n* [Comparator and Comparable in](https://www.baeldung.com/java-comparator-comparable)\r\n* [Arrays.sort() in Java with examples](https://www.geeksforgeeks.org/arrays-sort-in-java-with-examples/)\r\n\r\nfor more details.\r\n\r\nYou may also want to have a look at [How to Use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)\r\n\r\n&gt; Why wouldn&#39;t you just implement `Comparable` directly on the `Guitar` class?\r\n\r\nBecause that locks you into a single use case. What if you want to sort based on the name?  Or the tab scale?  Or some other set of properties?  Personally, I find creating custom `Comparator`s and overall better and cleaner solution, but that&#39;s me","title":"How do I use a algorithm to sort through java objects in a Java GUI program","body":"<p>Make use of <code>Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)</code>.  This allows you define the sort order by comparing objects based on your needs.</p>\n<p>For example...</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        List&lt;Integer&gt; ranks = new ArrayList&lt;&gt;(Arrays.asList(new Integer[] {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}));\n        Collections.shuffle(ranks);\n\n        Guitar[] guitars = new Guitar[10];\n        for (int index = 0; index &lt; 10; index++) {\n            guitars[index] = new Guitar(&quot;Tab &quot; + Integer.toString(index), ranks.remove(0));\n        }\n\n        System.out.println(&quot;Unsorted = &quot; + Arrays.toString(guitars));\n\n        Arrays.sort(guitars, new Comparator&lt;Guitar&gt;() {\n            @Override\n            public int compare(Guitar o1, Guitar o2) {\n                return o1.getRank() - o2.getRank();\n            }\n        });\n\n        System.out.println(&quot;Sorted = &quot; + Arrays.toString(guitars));\n    }\n\n    public class Guitar {\n\n        public String tabName;\n        public String eString;\n        public String bString;\n        public String gString;\n        public String dString;\n        public String aString;\n        public String lowEString;\n        public int rank;\n\n        public Guitar(String tabName, int rank) {\n            this.tabName = tabName;\n            this.rank = rank;\n        }\n\n        public int getRank() {\n            return rank;\n        }\n\n        public void setRank(int r) {\n            rank = r;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;[Guitar] &quot; + tabName + &quot; @ &quot; + getRank();\n        }\n    }\n}\n</code></pre>\n<p>Which can output something like...</p>\n<pre><code>Unsorted = [[Guitar] Tab 0 @ 10, [Guitar] Tab 1 @ 5, [Guitar] Tab 2 @ 2, [Guitar] Tab 3 @ 6, [Guitar] Tab 4 @ 4, [Guitar] Tab 5 @ 1, [Guitar] Tab 6 @ 3, [Guitar] Tab 7 @ 7, [Guitar] Tab 8 @ 9, [Guitar] Tab 9 @ 8]\n  Sorted = [[Guitar] Tab 5 @ 1, [Guitar] Tab 2 @ 2, [Guitar] Tab 6 @ 3, [Guitar] Tab 4 @ 4, [Guitar] Tab 1 @ 5, [Guitar] Tab 3 @ 6, [Guitar] Tab 7 @ 7, [Guitar] Tab 9 @ 8, [Guitar] Tab 8 @ 9, [Guitar] Tab 0 @ 10]\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/comparator-interface-java/\" rel=\"nofollow noreferrer\">Comparator Interface in Java with Examples</a></li>\n<li><a href=\"https://www.baeldung.com/java-comparator-comparable\" rel=\"nofollow noreferrer\">Comparator and Comparable in</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/arrays-sort-in-java-with-examples/\" rel=\"nofollow noreferrer\">Arrays.sort() in Java with examples</a></li>\n</ul>\n<p>for more details.</p>\n<p>You may also want to have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout</a></p>\n<blockquote>\n<p>Why wouldn't you just implement <code>Comparable</code> directly on the <code>Guitar</code> class?</p>\n</blockquote>\n<p>Because that locks you into a single use case. What if you want to sort based on the name?  Or the tab scale?  Or some other set of properties?  Personally, I find creating custom <code>Comparator</code>s and overall better and cleaner solution, but that's me</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700431789,"creation_date":1700281760,"answer_id":77505700,"question_id":77505326,"body_markdown":"&gt; _&quot;... how can I put these guitars tab entries into a algorithm (from lowest to highest rank). ...&quot;_\r\n\r\nBy _&quot;rank&quot;_, I presume you mean the order in which the note, or chord, is played.\r\n\r\nUtilize _[class](https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html) structures_ to define each element, of a piece of _[tablature](https://en.wikipedia.org/wiki/Tablature)_.\\\r\nHere is an example.\r\n\r\nUse an _[enum](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html)_ to define the strings.\\\r\nNote, I&#39;m using _&quot;String&quot;_ as a title, so _&quot;java.lang.String&quot;_ is needed to define any actual _String_ properly.\r\n\r\n```java\r\nenum String {\r\n    e, B, G, D, A, E\r\n}\r\n```\r\n\r\nUse a _class_ to define a _&quot;glyph&quot;_, which will be the fret number, and any appended symbol, e.g., _[hammer-on](https://en.wikipedia.org/wiki/Tablature#Guitar_tablature)_, _bend_, etc.\\\r\nWe&#39;ll use an actual _String_ _object_ here; although we could, even further, define this element.\\\r\nFor now, this will suffice.\r\n\r\n```java\r\nclass Glyph {\r\n    java.lang.String g;\r\n}\r\n```\r\n\r\nSimilarly, use another _class_ to define a _&quot;note&quot;_, effectively a _String_ and a _Glyph_.\r\n\r\n```java\r\nclass Note {\r\n    String s;\r\n    Glyph g;\r\n}\r\n```\r\n\r\nAgain, another _class_ to define a _&quot;step&quot;_; the vertical set of _notes_, plausibly a _chord_.\\\r\nI imagine you can add a _duration_ field here, as well.\r\n\r\n```java\r\nclass Step {\r\n    List&lt;Note&gt; s;\r\n}\r\n```\r\n\r\nAnd finally, a _class_ to define the entire _musical piece_; a _tablature_.\r\n\r\n```java\r\nclass Tablature {\r\n    List&lt;Step&gt; t;\r\n}\r\n```\r\n\r\nFor proper usage, we&#39;ll need to expand these _classes_, providing _[constructor methods](https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html)_, _[accessors methods](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)_, and any other relevant functionality.\r\n\r\nHere is a re-factor.\r\n\r\n```java\r\nenum String {\r\n    e, B, G, D, A, E\r\n}\r\n```\r\n\r\n```java\r\nclass Glyph {\r\n    java.lang.String g;\r\n\r\n    Glyph(java.lang.String g) {\r\n        this.g = g;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Note {\r\n    String s;\r\n    Glyph g;\r\n\r\n    Note(String s, Glyph g) {\r\n        this.s = s;\r\n        this.g = g;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Step {\r\n    List&lt;Note&gt; s = new ArrayList&lt;&gt;();\r\n\r\n    void addNote(String s, java.lang.String g) {\r\n        this.s.add(new Note(s, new Glyph(g)));\r\n    }\r\n\r\n    void addChord(Note... n) {\r\n        s.addAll(Arrays.asList(n));\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Tablature {\r\n    List&lt;Step&gt; t = new ArrayList&lt;&gt;();\r\n\r\n    void append(Step... s) {\r\n        t.addAll(Arrays.asList(s));\r\n    }\r\n\r\n    @Override\r\n    public java.lang.String toString() {\r\n        StringBuilder b = new StringBuilder();\r\n        boolean c;\r\n        for (String s : values()) {\r\n            b.append(&quot;%s|---&quot;.formatted(s));\r\n            for (Step st : t) {\r\n                c = false;\r\n                for (Note n : st.s)\r\n                    if (n.s == s) {\r\n                        b.append(&quot;%s---&quot;.formatted(n.g.g));\r\n                        c = true;\r\n                    }\r\n                if (!c) b.append(&quot;----&quot;);\r\n            }\r\n            b.append(&quot;%n&quot;.formatted());\r\n        }\r\n        return b.toString();\r\n    }\r\n}\r\n```\r\n\r\nFrom here, we can create a _&quot;chord&quot;_, and add it to a _Tablature_ instance.\r\n\r\n```java\r\nTablature t = new Tablature();\r\nStep chordE = new Step();\r\nchordE.addNote(e, &quot;0&quot;);\r\nchordE.addNote(B, &quot;0&quot;);\r\nchordE.addNote(G, &quot;1&quot;);\r\nchordE.addNote(D, &quot;2&quot;);\r\nchordE.addNote(A, &quot;2&quot;);\r\nchordE.addNote(E, &quot;0&quot;);\r\nt.append(chordE);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ne|---0---\r\nB|---0---\r\nG|---1---\r\nD|---2---\r\nA|---2---\r\nE|---0---\r\n```\r\n\r\nHere is some, _&quot;[Smoke on the Water](https://en.wikipedia.org/wiki/Smoke_on_the_Water)&quot;_.\r\n\r\n```java\r\nTablature t = new Tablature();\r\nStep s1, s2, s3;\r\ns1 = new Step();\r\ns1.addNote(D, &quot;5&quot;);\r\ns1.addNote(A, &quot;5&quot;);\r\ns2 = new Step();\r\ns2.addNote(G, &quot;3&quot;);\r\ns2.addNote(D, &quot;3&quot;);\r\ns3 = new Step();\r\ns3.addNote(G, &quot;5&quot;);\r\ns3.addNote(D, &quot;5&quot;);\r\nt.append(s1, s2, s3);\r\n```\r\n\r\n```none\r\ne|---------------\r\nB|---------------\r\nG|-------3---5---\r\nD|---5---3---5---\r\nA|---5-----------\r\nE|---------------\r\n```","title":"How do I use a algorithm to sort through java objects in a Java GUI program","body":"<blockquote>\n<p><em>&quot;... how can I put these guitars tab entries into a algorithm (from lowest to highest rank). ...&quot;</em></p>\n</blockquote>\n<p>By <em>&quot;rank&quot;</em>, I presume you mean the order in which the note, or chord, is played.</p>\n<p>Utilize <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html\" rel=\"nofollow noreferrer\">class</a> structures</em> to define each element, of a piece of <em><a href=\"https://en.wikipedia.org/wiki/Tablature\" rel=\"nofollow noreferrer\">tablature</a></em>.<br />\nHere is an example.</p>\n<p>Use an <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">enum</a></em> to define the strings.<br />\nNote, I'm using <em>&quot;String&quot;</em> as a title, so <em>&quot;java.lang.String&quot;</em> is needed to define any actual <em>String</em> properly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum String {\n    e, B, G, D, A, E\n}\n</code></pre>\n<p>Use a <em>class</em> to define a <em>&quot;glyph&quot;</em>, which will be the fret number, and any appended symbol, e.g., <em><a href=\"https://en.wikipedia.org/wiki/Tablature#Guitar_tablature\" rel=\"nofollow noreferrer\">hammer-on</a></em>, <em>bend</em>, etc.<br />\nWe'll use an actual <em>String</em> <em>object</em> here; although we could, even further, define this element.<br />\nFor now, this will suffice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Glyph {\n    java.lang.String g;\n}\n</code></pre>\n<p>Similarly, use another <em>class</em> to define a <em>&quot;note&quot;</em>, effectively a <em>String</em> and a <em>Glyph</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Note {\n    String s;\n    Glyph g;\n}\n</code></pre>\n<p>Again, another <em>class</em> to define a <em>&quot;step&quot;</em>; the vertical set of <em>notes</em>, plausibly a <em>chord</em>.<br />\nI imagine you can add a <em>duration</em> field here, as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Step {\n    List&lt;Note&gt; s;\n}\n</code></pre>\n<p>And finally, a <em>class</em> to define the entire <em>musical piece</em>; a <em>tablature</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Tablature {\n    List&lt;Step&gt; t;\n}\n</code></pre>\n<p>For proper usage, we'll need to expand these <em>classes</em>, providing <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"nofollow noreferrer\">constructor methods</a></em>, <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">accessors methods</a></em>, and any other relevant functionality.</p>\n<p>Here is a re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum String {\n    e, B, G, D, A, E\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Glyph {\n    java.lang.String g;\n\n    Glyph(java.lang.String g) {\n        this.g = g;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Note {\n    String s;\n    Glyph g;\n\n    Note(String s, Glyph g) {\n        this.s = s;\n        this.g = g;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Step {\n    List&lt;Note&gt; s = new ArrayList&lt;&gt;();\n\n    void addNote(String s, java.lang.String g) {\n        this.s.add(new Note(s, new Glyph(g)));\n    }\n\n    void addChord(Note... n) {\n        s.addAll(Arrays.asList(n));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Tablature {\n    List&lt;Step&gt; t = new ArrayList&lt;&gt;();\n\n    void append(Step... s) {\n        t.addAll(Arrays.asList(s));\n    }\n\n    @Override\n    public java.lang.String toString() {\n        StringBuilder b = new StringBuilder();\n        boolean c;\n        for (String s : values()) {\n            b.append(&quot;%s|---&quot;.formatted(s));\n            for (Step st : t) {\n                c = false;\n                for (Note n : st.s)\n                    if (n.s == s) {\n                        b.append(&quot;%s---&quot;.formatted(n.g.g));\n                        c = true;\n                    }\n                if (!c) b.append(&quot;----&quot;);\n            }\n            b.append(&quot;%n&quot;.formatted());\n        }\n        return b.toString();\n    }\n}\n</code></pre>\n<p>From here, we can create a <em>&quot;chord&quot;</em>, and add it to a <em>Tablature</em> instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Tablature t = new Tablature();\nStep chordE = new Step();\nchordE.addNote(e, &quot;0&quot;);\nchordE.addNote(B, &quot;0&quot;);\nchordE.addNote(G, &quot;1&quot;);\nchordE.addNote(D, &quot;2&quot;);\nchordE.addNote(A, &quot;2&quot;);\nchordE.addNote(E, &quot;0&quot;);\nt.append(chordE);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>e|---0---\nB|---0---\nG|---1---\nD|---2---\nA|---2---\nE|---0---\n</code></pre>\n<p>Here is some, <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Smoke_on_the_Water\" rel=\"nofollow noreferrer\">Smoke on the Water</a>&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Tablature t = new Tablature();\nStep s1, s2, s3;\ns1 = new Step();\ns1.addNote(D, &quot;5&quot;);\ns1.addNote(A, &quot;5&quot;);\ns2 = new Step();\ns2.addNote(G, &quot;3&quot;);\ns2.addNote(D, &quot;3&quot;);\ns3 = new Step();\ns3.addNote(G, &quot;5&quot;);\ns3.addNote(D, &quot;5&quot;);\nt.append(s1, s2, s3);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>e|---------------\nB|---------------\nG|-------3---5---\nD|---5---3---5---\nA|---5-----------\nE|---------------\n</code></pre>\n"}],"owner":{"account_id":25361379,"reputation":23,"user_id":19176566,"display_name":"smouvfox805"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700431789,"creation_date":1700270002,"question_id":77505326,"body_markdown":"how can I put these guitars tab entries into a algorithm (from lowest to \r\n highest rank).Based on the rank that I set them to in that part of the forms textField? The \r\n program takes guitar notes in JTextFields then saves them to a GuitarTab[] array. And, has \r\n Buttons and everything else to navigate through the list though not shown here \r\n (previousBtn, nextBtn, searchBtn, etc). However, how do I navigate through the list with \r\n each &quot;GuitarTab Object&quot; sorted from lowest to highest rank, and then have them in that \r\n order when I press the nextBtn and previosBtn?\r\n It has a JChecked Box to enable the algorithm to happen then a search button to make them \r\n appear. But when I click the search button nothing appears?\r\n\r\n\r\n          public class Guitars  {\r\n\r\n \r\n           \r\n\t\t   public String tabName;\r\n\t       public String eString;\r\n           public String bString;\r\n           public String gString;\r\n           public String dString;\r\n           public String aString;\r\n           public String lowEString;\r\n           public int rank;\r\n\t       \r\n           \r\n           public int getRank( ) {\r\n        \t   return rank;\r\n           }\r\n           \r\n           public void setRank(int r) {\r\n        \t   rank = r;\r\n           };\r\n\r\n\r\n\r\n--------------------------------------------------------\r\n\r\n    public void saveBtnActionPerformed(ActionEvent e) {\r\n           int j;\r\n    \t   int parsedString;\r\n           String rtrvdString;\r\n    \t   numberEntries++ ;\r\n\t\t   currentTabEntry = 1;\r\n\t\t   int i;\r\n\t\t   if (numberEntries != 1) {\r\n\t\t      do {\r\n\t\t if (tabNameFld.getText( ).compareTo(myTablatures[currentTabEntry - 1].tabName) &lt; 0)\r\n\t\t    \t\t  break;\r\n\t\t    \t  currentTabEntry++;\r\n\t\t      }\r\n\t\t    \t\twhile (currentTabEntry &lt; numberEntries);\r\n\t\t   }\r\n\t\t    if (currentTabEntry != numberEntries) {\r\n\t\t    \tfor (i = 0; i &gt;= currentTabEntry + 1; i--) {\r\n\t\t    \t\tmyTablatures[i - 1] = myTablatures[i - 2];\r\n\t\t    \t\tmyTablatures[i - 2] = new GuitarTab( );\r\n\t\t    \t}\r\n\t\t    }\r\n\t\t    \r\n\t\t     myTablatures[currentTabEntry - 1] = new GuitarTab( );\r\n\t\t     myTablatures[currentTabEntry - 1].tabName = tabNameFld.getText( );\r\n\t\t     myTablatures[currentTabEntry - 1].eString = eTxtFld.getText( );\r\n\t\t     myTablatures[currentTabEntry - 1].bString = bTxtFld.getText( );\r\n\t\t     myTablatures[currentTabEntry - 1].gString = gTxtFld.getText( );\r\n\t\t     myTablatures[currentTabEntry - 1].dString = dTxtFld.getText( );\r\n\t\t     myTablatures[currentTabEntry - 1].aString = aTxtFld.getText( );\r\n\t\t     myTablatures[currentTabEntry - 1].lowEString = lowETxtFld.getText( );\r\n\t\t   \r\n\t\t     try {\r\n\t\t    \t rtrvdString = rankFld.getText( );\r\n\t\t    \t parsedString = Integer.valueOf(rtrvdString); \r\n\t\t     gtrTab.setRank(parsedString);\r\n\t\t     myTablatures[currentTabEntry - 1].rank = parsedString;\r\n\t\t     }\r\n\t\t     catch (NumberFormatException ex) {\r\n\t\t    \t ex.printStackTrace( );\r\n\t\t     }\r\n\t\t     //Present Currenty Entry\r\n\t\t     shwEntry(currentTabEntry);\r\n\t   }\r\n\r\n     //Sort Entries Based On Rank From Smallest Rank to Greater\r\n          public void sortRnkLwToHi(GuitarTab[ ] myTablatures) {\r\n        \t  int a;\r\n        \t  int b;\r\n        \t  int i;\r\n        \t  myTablatures = TabEntryWn.myTablatures;\r\n        \t  GuitarTab tab;\r\n        \t  \r\n        \t  int hiSubscript = myTablatures.length - 1;\r\n        \t  for (a = 0; a &lt; hiSubscript; a++) {\r\n        \t\t  for (b = 0; b &lt; hiSubscript; b++);\r\n        \t\t  if (myTablatures[ b ].rank &gt; myTablatures[b + 1].rank) {\r\n        \t\t\t  tab = myTablatures[ b ];\r\n        \t\t\t  myTablatures[ b ] = myTablatures[b + 1];\r\n        \t\t\t  myTablatures[b + 1] = tab;\r\n        \t\t     try {\r\n        \t\t\t        currentTabEntry ++;\r\n        \t\t    \t    shwEntry(currentTabEntry);\r\n        \t\t    \t }\r\n        \t\t    \t \r\n        \t\t     catch (Exception ex) {\r\n        \t\t    \t System.out.println(&quot;Error&quot;);\r\n        \t\t     }\r\n        \t\t  }\r\n        \t  }\r\n          }","title":"How do I use a algorithm to sort through java objects in a Java GUI program","body":"<p>how can I put these guitars tab entries into a algorithm (from lowest to\nhighest rank).Based on the rank that I set them to in that part of the forms textField? The\nprogram takes guitar notes in JTextFields then saves them to a GuitarTab[] array. And, has\nButtons and everything else to navigate through the list though not shown here\n(previousBtn, nextBtn, searchBtn, etc). However, how do I navigate through the list with\neach &quot;GuitarTab Object&quot; sorted from lowest to highest rank, and then have them in that\norder when I press the nextBtn and previosBtn?\nIt has a JChecked Box to enable the algorithm to happen then a search button to make them\nappear. But when I click the search button nothing appears?</p>\n<pre><code>      public class Guitars  {\n\n\n       \n       public String tabName;\n       public String eString;\n       public String bString;\n       public String gString;\n       public String dString;\n       public String aString;\n       public String lowEString;\n       public int rank;\n       \n       \n       public int getRank( ) {\n           return rank;\n       }\n       \n       public void setRank(int r) {\n           rank = r;\n       };\n</code></pre>\n<hr />\n<pre><code>public void saveBtnActionPerformed(ActionEvent e) {\n       int j;\n       int parsedString;\n       String rtrvdString;\n       numberEntries++ ;\n       currentTabEntry = 1;\n       int i;\n       if (numberEntries != 1) {\n          do {\n     if (tabNameFld.getText( ).compareTo(myTablatures[currentTabEntry - 1].tabName) &lt; 0)\n                  break;\n              currentTabEntry++;\n          }\n                while (currentTabEntry &lt; numberEntries);\n       }\n        if (currentTabEntry != numberEntries) {\n            for (i = 0; i &gt;= currentTabEntry + 1; i--) {\n                myTablatures[i - 1] = myTablatures[i - 2];\n                myTablatures[i - 2] = new GuitarTab( );\n            }\n        }\n        \n         myTablatures[currentTabEntry - 1] = new GuitarTab( );\n         myTablatures[currentTabEntry - 1].tabName = tabNameFld.getText( );\n         myTablatures[currentTabEntry - 1].eString = eTxtFld.getText( );\n         myTablatures[currentTabEntry - 1].bString = bTxtFld.getText( );\n         myTablatures[currentTabEntry - 1].gString = gTxtFld.getText( );\n         myTablatures[currentTabEntry - 1].dString = dTxtFld.getText( );\n         myTablatures[currentTabEntry - 1].aString = aTxtFld.getText( );\n         myTablatures[currentTabEntry - 1].lowEString = lowETxtFld.getText( );\n       \n         try {\n             rtrvdString = rankFld.getText( );\n             parsedString = Integer.valueOf(rtrvdString); \n         gtrTab.setRank(parsedString);\n         myTablatures[currentTabEntry - 1].rank = parsedString;\n         }\n         catch (NumberFormatException ex) {\n             ex.printStackTrace( );\n         }\n         //Present Currenty Entry\n         shwEntry(currentTabEntry);\n   }\n\n //Sort Entries Based On Rank From Smallest Rank to Greater\n      public void sortRnkLwToHi(GuitarTab[ ] myTablatures) {\n          int a;\n          int b;\n          int i;\n          myTablatures = TabEntryWn.myTablatures;\n          GuitarTab tab;\n          \n          int hiSubscript = myTablatures.length - 1;\n          for (a = 0; a &lt; hiSubscript; a++) {\n              for (b = 0; b &lt; hiSubscript; b++);\n              if (myTablatures[ b ].rank &gt; myTablatures[b + 1].rank) {\n                  tab = myTablatures[ b ];\n                  myTablatures[ b ] = myTablatures[b + 1];\n                  myTablatures[b + 1] = tab;\n                 try {\n                        currentTabEntry ++;\n                        shwEntry(currentTabEntry);\n                     }\n                     \n                 catch (Exception ex) {\n                     System.out.println(&quot;Error&quot;);\n                 }\n              }\n          }\n      }\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1700431416,"post_id":77512661,"comment_id":136650516,"body_markdown":"If you know the GAV you can check https://central.sonatype.com/","body":"If you know the GAV you can check <a href=\"https://central.sonatype.com/\" rel=\"nofollow noreferrer\">central.sonatype.com</a>"},{"owner":{"account_id":2424647,"reputation":1651,"user_id":2116873,"display_name":"Pedreiro"},"score":0,"creation_date":1700450244,"post_id":77512661,"comment_id":136652015,"body_markdown":"oh. nice! @khmarbaise I might use that\nI can see it is accessible via api too. Awesome","body":"oh. nice! @khmarbaise I might use that I can see it is accessible via api too. Awesome"}],"owner":{"account_id":2424647,"reputation":1651,"user_id":2116873,"display_name":"Pedreiro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700431040,"creation_date":1700431040,"question_id":77512661,"body_markdown":"I&#39;m getting a list of maven dependencies from my java app and I would like to know when each package was released.\r\n\r\nCurrently I&#39;m checking the metadata info (`https://repo1.maven.org/maven2/$groupURL/$artifactID/maven-metadata.xml`), but I&#39;m not sure what those dates in that file means. I was wondering if `lastUpdated` would be the correct field.\r\n\r\nI&#39;m open for more ideas. Thank you.\r\n","title":"How to find the release date of a Maven dependency?","body":"<p>I'm getting a list of maven dependencies from my java app and I would like to know when each package was released.</p>\n<p>Currently I'm checking the metadata info (<code>https://repo1.maven.org/maven2/$groupURL/$artifactID/maven-metadata.xml</code>), but I'm not sure what those dates in that file means. I was wondering if <code>lastUpdated</code> would be the correct field.</p>\n<p>I'm open for more ideas. Thank you.</p>\n"},{"tags":["java","for-loop","break"],"answers":[{"tags":[],"owner":{"account_id":5857532,"reputation":857,"user_id":4614350,"display_name":"Javaluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700415652,"creation_date":1700414134,"answer_id":77511720,"question_id":77511685,"body_markdown":"If I have interpreted good your problem, you should add the item in the list only after the second loop.\r\n\r\n    arr.add(mas[0]);\r\n\touter: for(int i=1;i&lt;mas.length;i++) {\r\n\t   \tif (&quot;&quot;.equals(mas[i])) {\r\n\t   \t\tcontinue;\r\n\t   \t}\r\n\t    for(int j=0;j&lt;arr.size();j++) {\r\n\t        if(mas[i].equals(arr.get(j))){\r\n\t                break outer;\r\n\t            }\r\n\t        }\r\n\t        arr.add(mas[i]);\r\n\t    }\r\n\t    for(int j=0;j&lt;arr.size();j++) { \r\n\t        System.out.print(arr.get(j)+&quot;;&quot;);\r\n\t    }\r\n\r\nI have edited the answer adding a label on the outer loop named &quot;outer&quot; and made some minor changes to make it more readable.","title":"something wrong with my loop where array (String type) where each word is written, if not repeated in a loop, is written to a dynamic array","body":"<p>If I have interpreted good your problem, you should add the item in the list only after the second loop.</p>\n<pre><code>arr.add(mas[0]);\nouter: for(int i=1;i&lt;mas.length;i++) {\n    if (&quot;&quot;.equals(mas[i])) {\n        continue;\n    }\n    for(int j=0;j&lt;arr.size();j++) {\n        if(mas[i].equals(arr.get(j))){\n                break outer;\n            }\n        }\n        arr.add(mas[i]);\n    }\n    for(int j=0;j&lt;arr.size();j++) { \n        System.out.print(arr.get(j)+&quot;;&quot;);\n    }\n</code></pre>\n<p>I have edited the answer adding a label on the outer loop named &quot;outer&quot; and made some minor changes to make it more readable.</p>\n"},{"tags":[],"owner":{"account_id":29942263,"reputation":1,"user_id":22946462,"display_name":"GeorgeAndGuns112"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700416047,"creation_date":1700415992,"answer_id":77511826,"question_id":77511685,"body_markdown":"\t    arr.add(mas[0]);\t\r\n        int raz=0;\r\n        for(String word : mas ) {\r\n\t\t\traz=0;\r\n\t\t    for(int j=0;j&lt;arr.size();j++) {\r\n\t\t        if(word.equals(arr.get(j))||word.equals(&quot;&quot;)){\r\n\t\t            raz--;\r\n\t\t            break;\r\n\t\t        }\r\n\t\t        raz++;\r\n\t\t    }\r\n\t        if(raz==arr.size()){\r\n\t    \t    arr.add(word);\r\n\t        }\r\n\t\t}","title":"something wrong with my loop where array (String type) where each word is written, if not repeated in a loop, is written to a dynamic array","body":"<pre><code>    arr.add(mas[0]);    \n    int raz=0;\n    for(String word : mas ) {\n        raz=0;\n        for(int j=0;j&lt;arr.size();j++) {\n            if(word.equals(arr.get(j))||word.equals(&quot;&quot;)){\n                raz--;\n                break;\n            }\n            raz++;\n        }\n        if(raz==arr.size()){\n            arr.add(word);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700430893,"creation_date":1700425230,"answer_id":77512347,"question_id":77511685,"body_markdown":"Add the value from _mas_, only if the _inner-loop_ does not find a match.\r\n\r\n```java\r\nboolean b;\r\narr.add(mas[0]);\r\nfor(int i=1;i&lt;mas.length;i++) {\r\n    b = false;\r\n    for(int j=0;j&lt;arr.size();j++)\r\n        if(mas[i].equals(arr.get(j))||mas[i].equals(&quot;&quot;)){\r\n            b = true;\r\n            break;\r\n        }\r\n    if (!b) arr.add(mas[i]);\r\n}\r\nfor(int j=0;j&lt;arr.size();j++) {\r\n    System.out.print(arr.get(j)+&quot;;&quot;);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ncar;cycle;bomj;\r\n```\r\n\r\nIdeally, just use the _[List#contains](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#contains(java.lang.Object))_ method.\\\r\nAnd, utilize the _[String#join](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable))_ method to print the concatenated values.\r\n\r\n```java\r\nString s;\r\narr.add(mas[0]);\r\nfor(int i=1;i&lt;mas.length;i++)\r\n    if (!arr.contains(s = mas[i])) arr.add(s);\r\nSystem.out.println(String.join(&quot;;&quot;, arr));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ncar;cycle;bomj\r\n```","title":"something wrong with my loop where array (String type) where each word is written, if not repeated in a loop, is written to a dynamic array","body":"<p>Add the value from <em>mas</em>, only if the <em>inner-loop</em> does not find a match.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean b;\narr.add(mas[0]);\nfor(int i=1;i&lt;mas.length;i++) {\n    b = false;\n    for(int j=0;j&lt;arr.size();j++)\n        if(mas[i].equals(arr.get(j))||mas[i].equals(&quot;&quot;)){\n            b = true;\n            break;\n        }\n    if (!b) arr.add(mas[i]);\n}\nfor(int j=0;j&lt;arr.size();j++) {\n    System.out.print(arr.get(j)+&quot;;&quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>car;cycle;bomj;\n</code></pre>\n<p>Ideally, just use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\">List#contains</a></em> method.<br />\nAnd, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable)\" rel=\"nofollow noreferrer\">String#join</a></em> method to print the concatenated values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s;\narr.add(mas[0]);\nfor(int i=1;i&lt;mas.length;i++)\n    if (!arr.contains(s = mas[i])) arr.add(s);\nSystem.out.println(String.join(&quot;;&quot;, arr));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>car;cycle;bomj\n</code></pre>\n"}],"owner":{"account_id":29942263,"reputation":1,"user_id":22946462,"display_name":"GeorgeAndGuns112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700430893,"creation_date":1700413515,"question_id":77511685,"body_markdown":"\t\tarr.add(mas[0]);\r\n\t\tfor(int i=1;i&lt;mas.length;i++) {\r\n\t\t\tfor(int j=0;j&lt;arr.size();j++) {\r\n\t\t\t\tif(mas[i].equals(arr.get(j))||mas[i].equals(&quot;&quot;)){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tarr.add(mas[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int j=0;j&lt;arr.size();j++) {\t\r\n\t\t\tSystem.out.print(arr.get(j)+&quot;;&quot;);\r\n\t\t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\ni dont understand what is wrong\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mI9dT.png","title":"something wrong with my loop where array (String type) where each word is written, if not repeated in a loop, is written to a dynamic array","body":"<pre><code>    arr.add(mas[0]);\n    for(int i=1;i&lt;mas.length;i++) {\n        for(int j=0;j&lt;arr.size();j++) {\n            if(mas[i].equals(arr.get(j))||mas[i].equals(&quot;&quot;)){\n                break;\n            }\n            arr.add(mas[i]);\n        }\n    }\n    for(int j=0;j&lt;arr.size();j++) { \n        System.out.print(arr.get(j)+&quot;;&quot;);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mI9dT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mI9dT.png\" alt=\"enter image description here\" /></a></p>\n<p>i dont understand what is wrong</p>\n"},{"tags":["java","generics","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700430222,"creation_date":1700430222,"answer_id":77512627,"question_id":77512075,"body_markdown":"You can simply call `AbstractRepositoryMetadata.getMetadata(…)` and call `getDomainType()` etc. on the result.\r\n\r\nIf you&#39;re interested in the reverse lookup, i.e. finding a repository for a domain type, you can create a `Repositories(…)` instance from a `ListableBeanFactory` which would find look up all metadata for repository instances registered in that very `BeanFactory`.","title":"How to retrieve actual type arguments of Spring Data repositories at runtime?","body":"<p>You can simply call <code>AbstractRepositoryMetadata.getMetadata(…)</code> and call <code>getDomainType()</code> etc. on the result.</p>\n<p>If you're interested in the reverse lookup, i.e. finding a repository for a domain type, you can create a <code>Repositories(…)</code> instance from a <code>ListableBeanFactory</code> which would find look up all metadata for repository instances registered in that very <code>BeanFactory</code>.</p>\n"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77512627,"answer_count":1,"score":0,"last_activity_date":1700430294,"creation_date":1700420039,"question_id":77512075,"body_markdown":"Suppose I have this `Repository`:\r\n```java\r\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {}\r\n```\r\nand I want to know at runtime that this repository persists `Product`s, not `Account`s or anything else. So far I only came up with this solution:\r\n```java\r\nClass&lt;?&gt; persistedClass = ((ParameterizedType) repository.getClass() // some Spring proxy\r\n    .getInterfaces()[0] // ProductRepository or the like\r\n    .getGenericInterfaces()[0]) // JpaRepository\r\n    .getActualTypeArguments()[0] // the first type argument\r\n```\r\nLet&#39;s ignore this clumsiness for a moment (isn&#39;t it par for the course with Java Reflection API?). What&#39;s worse, I had to remove the `--release` option which makes the solution a bit less portable (it&#39;s enabled by default in IntelliJ). There&#39;s something that makes `java.base` (it&#39;s where `ParameterizedType` is) and `--release` not compatible which prevents compilation (I don&#39;t understand it very well)\r\n\r\nIs there a better way to retrieve that information at runtime?","title":"How to retrieve actual type arguments of Spring Data repositories at runtime?","body":"<p>Suppose I have this <code>Repository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {}\n</code></pre>\n<p>and I want to know at runtime that this repository persists <code>Product</code>s, not <code>Account</code>s or anything else. So far I only came up with this solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt; persistedClass = ((ParameterizedType) repository.getClass() // some Spring proxy\n    .getInterfaces()[0] // ProductRepository or the like\n    .getGenericInterfaces()[0]) // JpaRepository\n    .getActualTypeArguments()[0] // the first type argument\n</code></pre>\n<p>Let's ignore this clumsiness for a moment (isn't it par for the course with Java Reflection API?). What's worse, I had to remove the <code>--release</code> option which makes the solution a bit less portable (it's enabled by default in IntelliJ). There's something that makes <code>java.base</code> (it's where <code>ParameterizedType</code> is) and <code>--release</code> not compatible which prevents compilation (I don't understand it very well)</p>\n<p>Is there a better way to retrieve that information at runtime?</p>\n"},{"tags":["java","spring","junit","mockito","spring-scheduled"],"answers":[{"tags":[],"owner":{"account_id":1683176,"reputation":1761,"user_id":1546990,"accept_rate":91,"display_name":"GarlicBread"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1545162114,"creation_date":1545162114,"answer_id":53839981,"question_id":53824465,"body_markdown":"The solution was to add in a Mockito verification step with a timeout and a check to ensure that the mocked component&#39;s method had been called the appropriate number of times:\r\n\r\n        Mockito.verify(myComponentAsAMock, Mockito.timeout(1000).times(1)).doOtherStuff(ArgumentMatchers.any(MyClass.class));","title":"JUnit testing an asynchronous method with Mockito","body":"<p>The solution was to add in a Mockito verification step with a timeout and a check to ensure that the mocked component's method had been called the appropriate number of times:</p>\n\n<pre><code>    Mockito.verify(myComponentAsAMock, Mockito.timeout(1000).times(1)).doOtherStuff(ArgumentMatchers.any(MyClass.class));\n</code></pre>\n"}],"owner":{"account_id":1683176,"reputation":1761,"user_id":1546990,"accept_rate":91,"display_name":"GarlicBread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25026,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":53839981,"answer_count":1,"score":10,"last_activity_date":1700430279,"creation_date":1545089585,"question_id":53824465,"body_markdown":"I have implemented an asynchronous method in a Java 1.8 class using Spring Framework (version 5.0.5.RELEASE):\r\n\r\n    public class ClassToBeTested {\r\n        @Autowired\r\n        private MyComponent myComponent;\r\n\r\n        @Async\r\n        public void doStuff(List&lt;MyClass&gt; myObjects) {\r\n            CompletableFuture&lt;MyResponseObject&gt;[] futureList = new CompletableFuture[myObjects.size()];\r\n            int count = 0;\r\n\r\n            for (MyClass myObject : myObjects) {\r\n                futureList[count] = myComponent.doOtherStuff(myObject);\r\n                count++;\r\n            }\r\n\r\n            // Wait until all doOtherStuff() calls have been completed\r\n            CompletableFuture.allOf(futureList).join();\r\n\r\n            ... other stuff ...\r\n        }\r\n    }\r\n\r\nI&#39;m trying to test the class with JUnit and Mockito. I have set it up as follows, with an aim of mocking the doStuff() method&#39;s call to the component:\r\n\r\n    @MockBean\r\n    private MyComponent myComponentAsAMock;\r\n\r\n    @InjectMocks\r\n    @Autowired\r\n    private ClassToBeTested classToBeTested;\r\n\r\n    @Test\r\n    public void myTest() throws Exception {\r\n        // Create object to return when myComponent.doOtherStuff() is called.\r\n        CompletableFuture&lt;MyResponseObject&gt; completableFuture = new CompletableFuture&lt;MyResponseObject&gt;();\r\n        ... populate an instance of MyResponseObject ...\r\n        completableFuture.complete(myResponseObject);\r\n\r\n        // Return object when myComponent.doOtherStuff() is called.\r\n        Mockito.when(\r\n            myComponentAsAMock.doOtherStuff(ArgumentMatchers.any(MyClass.class)))\r\n            .thenReturn(completableFuture);\r\n\r\n        // Test.\r\n        List&lt;MyClass&gt; myObjects = new ArrayList&lt;MyClass&gt;();\r\n        MyClass myObject = new MyClass();\r\n        myObjects.add(myObject);\r\n        classToBeTested.doStuff(myObjects);\r\n    }\r\n\r\nWhilst the unit test seems to be successful when I run it individually in Eclipse,  but doing a Maven build of the whole project I notice NullPointerExceptions are being thrown:\r\n\r\n    [ThreadExecutor2] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected error occurred invoking async method &#39;public void package.ClassToBeTested.doStuff(java.util.List)&#39;.\r\n\r\n    java.lang.NullPointerException: null\r\n\tat java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1306) ~[na:1.8.0_131]\r\n\tat java.util.concurrent.CompletableFuture.allOf(CompletableFuture.java:2225) ~[na:1.8.0_131]\r\n\tat package.ClassToBeTested.doStuff(ClassToBeTested.java:75) ~[classes/:na]\r\n\r\nThe error is being raised on this line of ClassToBeTested.java:\r\n\r\n    CompletableFuture.allOf(completedFutureList).join();\r\n\r\nIt *looks* like the exception message is being displayed in the Maven build output after the test has finished (there are other tests being run whose output occur before the error message is being displayed), so I&#39;m guessing it&#39;s something to do with the fact that the call to doStuff() is asynchronous.\r\n\r\nAny assistance would be appreciated.","title":"JUnit testing an asynchronous method with Mockito","body":"<p>I have implemented an asynchronous method in a Java 1.8 class using Spring Framework (version 5.0.5.RELEASE):</p>\n<pre><code>public class ClassToBeTested {\n    @Autowired\n    private MyComponent myComponent;\n\n    @Async\n    public void doStuff(List&lt;MyClass&gt; myObjects) {\n        CompletableFuture&lt;MyResponseObject&gt;[] futureList = new CompletableFuture[myObjects.size()];\n        int count = 0;\n\n        for (MyClass myObject : myObjects) {\n            futureList[count] = myComponent.doOtherStuff(myObject);\n            count++;\n        }\n\n        // Wait until all doOtherStuff() calls have been completed\n        CompletableFuture.allOf(futureList).join();\n\n        ... other stuff ...\n    }\n}\n</code></pre>\n<p>I'm trying to test the class with JUnit and Mockito. I have set it up as follows, with an aim of mocking the doStuff() method's call to the component:</p>\n<pre><code>@MockBean\nprivate MyComponent myComponentAsAMock;\n\n@InjectMocks\n@Autowired\nprivate ClassToBeTested classToBeTested;\n\n@Test\npublic void myTest() throws Exception {\n    // Create object to return when myComponent.doOtherStuff() is called.\n    CompletableFuture&lt;MyResponseObject&gt; completableFuture = new CompletableFuture&lt;MyResponseObject&gt;();\n    ... populate an instance of MyResponseObject ...\n    completableFuture.complete(myResponseObject);\n\n    // Return object when myComponent.doOtherStuff() is called.\n    Mockito.when(\n        myComponentAsAMock.doOtherStuff(ArgumentMatchers.any(MyClass.class)))\n        .thenReturn(completableFuture);\n\n    // Test.\n    List&lt;MyClass&gt; myObjects = new ArrayList&lt;MyClass&gt;();\n    MyClass myObject = new MyClass();\n    myObjects.add(myObject);\n    classToBeTested.doStuff(myObjects);\n}\n</code></pre>\n<p>Whilst the unit test seems to be successful when I run it individually in Eclipse,  but doing a Maven build of the whole project I notice NullPointerExceptions are being thrown:</p>\n<pre><code>[ThreadExecutor2] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected error occurred invoking async method 'public void package.ClassToBeTested.doStuff(java.util.List)'.\n\njava.lang.NullPointerException: null\nat java.util.concurrent.CompletableFuture.andTree(CompletableFuture.java:1306) ~[na:1.8.0_131]\nat java.util.concurrent.CompletableFuture.allOf(CompletableFuture.java:2225) ~[na:1.8.0_131]\nat package.ClassToBeTested.doStuff(ClassToBeTested.java:75) ~[classes/:na]\n</code></pre>\n<p>The error is being raised on this line of ClassToBeTested.java:</p>\n<pre><code>CompletableFuture.allOf(completedFutureList).join();\n</code></pre>\n<p>It <em>looks</em> like the exception message is being displayed in the Maven build output after the test has finished (there are other tests being run whose output occur before the error message is being displayed), so I'm guessing it's something to do with the fact that the call to doStuff() is asynchronous.</p>\n<p>Any assistance would be appreciated.</p>\n"},{"tags":["java","maven","keycloak","jakarta-migration","keycloak-admin-client"],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700429823,"creation_date":1700429823,"answer_id":77512606,"question_id":77510377,"body_markdown":"Did you try changing from\r\n```xml\r\n&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n    &lt;resource&gt;META-INF/services/javax.ws.rs.ext.Providers&lt;/resource&gt;\r\n&lt;/transformer&gt;\r\n```\r\n\r\nto\r\n\r\n```xml\r\n&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n    &lt;resource&gt;META-INF/services/jakarta.ws.rs.ext.Providers&lt;/resource&gt;\r\n&lt;/transformer&gt;\r\n```\r\n\r\nBoth files were renamed in resteasy-client and resteasy-jackson2-provider from `javax.ws.rs.ext.Providers` to `jakarta.ws.rs.ext.Providers`\r\n\r\nSee [here][1] for resteasy-client and [here][2] for resteasy-jackson2-provider\r\n\r\n  [1]: https://github.com/resteasy/resteasy/blob/main/resteasy-client/src/main/resources/META-INF/services/jakarta.ws.rs.ext.Providers\r\n  [2]: https://github.com/resteasy/resteasy/blob/main/providers/jackson2/src/main/resources/META-INF/services/jakarta.ws.rs.ext.Providers","title":"Keycloak-admin-client nagging resteasy jakarta form error in 22.0.5","body":"<p>Did you try changing from</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n    &lt;resource&gt;META-INF/services/javax.ws.rs.ext.Providers&lt;/resource&gt;\n&lt;/transformer&gt;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n    &lt;resource&gt;META-INF/services/jakarta.ws.rs.ext.Providers&lt;/resource&gt;\n&lt;/transformer&gt;\n</code></pre>\n<p>Both files were renamed in resteasy-client and resteasy-jackson2-provider from <code>javax.ws.rs.ext.Providers</code> to <code>jakarta.ws.rs.ext.Providers</code></p>\n<p>See <a href=\"https://github.com/resteasy/resteasy/blob/main/resteasy-client/src/main/resources/META-INF/services/jakarta.ws.rs.ext.Providers\" rel=\"nofollow noreferrer\">here</a> for resteasy-client and <a href=\"https://github.com/resteasy/resteasy/blob/main/providers/jackson2/src/main/resources/META-INF/services/jakarta.ws.rs.ext.Providers\" rel=\"nofollow noreferrer\">here</a> for resteasy-jackson2-provider</p>\n"}],"owner":{"account_id":16414307,"reputation":99,"user_id":11856842,"display_name":"furion2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700429823,"creation_date":1700388961,"question_id":77510377,"body_markdown":"I am trying to build a jar that can execute simple keycloak configuration. I am using the keycloak-admin-client and newest keycloak version 22.0.5. However after trying many different options in dependecies and even the quarkus-keycloak-admin-client. I constantly get stuck on;\r\n\r\n    Exception in thread &quot;main&quot; jakarta.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: jakarta.ws.rs.ProcessingException: RESTEASY003215: could not find writer for content-type application/x-www-form-urlencoded type: jakarta.ws.rs.core.Form$1\r\n\r\nI know that spring 2 &gt; 3 also has some javax to jakarta migration troubles, but In this I do not have a way to solve this. What is this writer I am looking for and am I understanding it correctly that it goes wrong at the constructor of Form?\r\n   \r\n\r\n     public Form(MultivaluedMap&lt;String, String&gt; store) {\r\n            this.parameters = store;\r\n        }\r\n\r\nThe java version is openjdk 17.0.9 LTS\r\nThe commands I run are simply mvn clean package and java -jar jarfile\r\nThe current pom.xml I have is;\r\n\r\n     &lt;parent&gt;\r\n        &lt;groupId&gt;config.keycloak&lt;/groupId&gt;\r\n        &lt;artifactId&gt;keycloak-config-tryout&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;artifactId&gt;java-configuration&lt;/artifactId&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;resteasy.version&gt;6.2.6.Final&lt;/resteasy.version&gt;\r\n        &lt;keycloak.version&gt;22.0.5&lt;/keycloak.version&gt;\r\n        &lt;maven.jar.plugin.version&gt;3.3.0&lt;/maven.jar.plugin.version&gt;\r\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\r\n    \r\n    \r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!--Tooling--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.jar.plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.shade.plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;config.keycloak.KeycloakConfigurationApplication&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                    &lt;resource&gt;META-INF/services/javax.ws.rs.ext.Providers&lt;/resource&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;outputFile&gt;${project.build.directory}/${project.artifactId}.jar&lt;/outputFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Keycloak-admin-client nagging resteasy jakarta form error in 22.0.5","body":"<p>I am trying to build a jar that can execute simple keycloak configuration. I am using the keycloak-admin-client and newest keycloak version 22.0.5. However after trying many different options in dependecies and even the quarkus-keycloak-admin-client. I constantly get stuck on;</p>\n<pre><code>Exception in thread &quot;main&quot; jakarta.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: jakarta.ws.rs.ProcessingException: RESTEASY003215: could not find writer for content-type application/x-www-form-urlencoded type: jakarta.ws.rs.core.Form$1\n</code></pre>\n<p>I know that spring 2 &gt; 3 also has some javax to jakarta migration troubles, but In this I do not have a way to solve this. What is this writer I am looking for and am I understanding it correctly that it goes wrong at the constructor of Form?</p>\n<pre><code> public Form(MultivaluedMap&lt;String, String&gt; store) {\n        this.parameters = store;\n    }\n</code></pre>\n<p>The java version is openjdk 17.0.9 LTS\nThe commands I run are simply mvn clean package and java -jar jarfile\nThe current pom.xml I have is;</p>\n<pre><code> &lt;parent&gt;\n    &lt;groupId&gt;config.keycloak&lt;/groupId&gt;\n    &lt;artifactId&gt;keycloak-config-tryout&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;java-configuration&lt;/artifactId&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;resteasy.version&gt;6.2.6.Final&lt;/resteasy.version&gt;\n    &lt;keycloak.version&gt;22.0.5&lt;/keycloak.version&gt;\n    &lt;maven.jar.plugin.version&gt;3.3.0&lt;/maven.jar.plugin.version&gt;\n    &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\n\n\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n        &lt;version&gt;${keycloak.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n        &lt;version&gt;${resteasy.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\n        &lt;version&gt;${resteasy.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\n        &lt;version&gt;${keycloak.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\n        &lt;version&gt;${keycloak.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--Tooling--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.jar.plugin.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.shade.plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;config.keycloak.KeycloakConfigurationApplication&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                                &lt;resource&gt;META-INF/services/javax.ws.rs.ext.Providers&lt;/resource&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                        &lt;outputFile&gt;${project.build.directory}/${project.artifactId}.jar&lt;/outputFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","list","class"],"comments":[{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":2,"creation_date":1700429710,"post_id":77512597,"comment_id":136650337,"body_markdown":"Did you forget to override `toString` method in `Task` class?","body":"Did you forget to override <code>toString</code> method in <code>Task</code> class?"},{"owner":{"account_id":1075496,"reputation":22388,"user_id":1073758,"accept_rate":75,"display_name":"moonwave99"},"score":0,"creation_date":1700429866,"post_id":77512597,"comment_id":136650361,"body_markdown":"Btw you don&#39;t save _classes_, you save _instances_ of classes ^^","body":"Btw you don&#39;t save <i>classes</i>, you save <i>instances</i> of classes ^^"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700429881,"post_id":77512597,"comment_id":136650363,"body_markdown":"When writing the content to a file, you might employee a “converter” to take it from an Object to text (and back again). You might also consider making use of a JSON converter","body":"When writing the content to a file, you might employee a “converter” to take it from an Object to text (and back again). You might also consider making use of a JSON converter"}],"owner":{"account_id":28960773,"reputation":3,"user_id":22183285,"display_name":"Valle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700430315,"answer_count":0,"score":0,"last_activity_date":1700429548,"creation_date":1700429548,"question_id":77512597,"body_markdown":"So I would like to code a task managaer as a fun coding project but I&#39;m stuck.\r\n\r\nThe basic idea is that I can create tasks with the following class\r\n\r\n```\r\npublic Task(int id, String title, String description, LocalDate dueDate, boolean status) {\r\n        this.id = id;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.dueDate = dueDate;\r\n        this.status = false;\r\n    }\r\n```\r\n\r\nThen I would like to add the task to a list and save the data to a text file. \r\n\r\nNow, my problem is that when I add a task to the List and try to read it I get this output &quot;Task@1ddc4ec2&quot;.\r\n\r\nI&#39;m not sure if it&#39;s even possible to save a class in a list like this but I don&#39;t know how else I&#39;m supposed to do it.\r\nI&#39;d be happy to hear your ideas also. :D\r\n\r\n\r\nI created a task with this code\r\n\r\n```\r\ntm.addTask(new Task(1, &quot;First Try&quot;,\r\n                  &quot;My first try to add a task&quot;,\r\n                   LocalDate.now(), false));\r\n\r\ntm.addTask(new Task(2, &quot;Second add&quot;,\r\n                  &quot;The second task I&#39;m adding.&quot;,\r\n                   LocalDate.now(), false));\r\n```\r\n\r\nand tried printing it with this one \r\n\r\n\r\n```\r\nSystem.out.println(&quot;All tasks in the list: &quot; + tm.tasks);\r\n```\r\n\r\nI have a seperate class TaskManager (tm) where the list &quot;tasks&quot; is located. I wanted to see every entry with every entered detail but got &quot;All tasks in the list: [Task@9807454, Task@1ddc4ec2]&quot; instead.\r\n\r\n","title":"Save classes in List and read them","body":"<p>So I would like to code a task managaer as a fun coding project but I'm stuck.</p>\n<p>The basic idea is that I can create tasks with the following class</p>\n<pre><code>public Task(int id, String title, String description, LocalDate dueDate, boolean status) {\n        this.id = id;\n        this.title = title;\n        this.description = description;\n        this.dueDate = dueDate;\n        this.status = false;\n    }\n</code></pre>\n<p>Then I would like to add the task to a list and save the data to a text file.</p>\n<p>Now, my problem is that when I add a task to the List and try to read it I get this output &quot;Task@1ddc4ec2&quot;.</p>\n<p>I'm not sure if it's even possible to save a class in a list like this but I don't know how else I'm supposed to do it.\nI'd be happy to hear your ideas also. :D</p>\n<p>I created a task with this code</p>\n<pre><code>tm.addTask(new Task(1, &quot;First Try&quot;,\n                  &quot;My first try to add a task&quot;,\n                   LocalDate.now(), false));\n\ntm.addTask(new Task(2, &quot;Second add&quot;,\n                  &quot;The second task I'm adding.&quot;,\n                   LocalDate.now(), false));\n</code></pre>\n<p>and tried printing it with this one</p>\n<pre><code>System.out.println(&quot;All tasks in the list: &quot; + tm.tasks);\n</code></pre>\n<p>I have a seperate class TaskManager (tm) where the list &quot;tasks&quot; is located. I wanted to see every entry with every entered detail but got &quot;All tasks in the list: [Task@9807454, Task@1ddc4ec2]&quot; instead.</p>\n"},{"tags":["java","android","android-billing","play-billing-library"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1700441331,"post_id":77512546,"comment_id":136651383,"body_markdown":"Do you understand the difference between a warning and an exception? Does your code actually work in spite of the deprecation warnings?","body":"Do you understand the difference between a warning and an exception? Does your code actually work in spite of the deprecation warnings?"},{"owner":{"account_id":15762543,"reputation":11,"user_id":15199221,"display_name":"jesus vallad"},"score":0,"creation_date":1700479746,"post_id":77512546,"comment_id":136655555,"body_markdown":"@MarsAtomic The buttons do nothing, I have tried uploading an internal test version to Google Play and when I press the buttons it does not show me any subscription, as I understood, Google requires that everything be updated when subscriptions are added for the first time.","body":"@MarsAtomic The buttons do nothing, I have tried uploading an internal test version to Google Play and when I press the buttons it does not show me any subscription, as I understood, Google requires that everything be updated when subscriptions are added for the first time."}],"owner":{"account_id":15762543,"reputation":11,"user_id":15199221,"display_name":"jesus vallad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700428547,"creation_date":1700428547,"question_id":77512546,"body_markdown":"let&#39;s see if I explain myself correctly, I am trying to implement subscriptions in an application on android studio for the first time, the structure is this:\r\n\r\nsplash.java -&gt; SubscriptionActivity.java -&gt; MainActivity.java\r\n\r\nThe user opens the app, shows the splashscreen, then the subscription screen with 5 different plans should appear and after paying the subscription they can access MainActivity.java.\r\n\r\nIt&#39;s my first time doing this and I just see that Google asks that subscriptions be with the new api, I have searched everywhere but I can&#39;t do the SubscriptionActivity.java correctly, &quot;is deprecated&quot; appears in several sections and no matter how hard I try To understand the Google guide, I can&#39;t update it, I leave you my code and I hope you can please help me.\r\n\r\nthank you\r\n\r\n\r\n**Build.gradle**\r\n\r\n```\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;org.jetbrains.kotlin.android&#39;\r\n\r\n\r\nandroid {\r\n    compileSdk 34\r\n    defaultConfig {\r\n        applicationId &quot;com.one.two.tree&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 34\r\n        versionCode 96\r\n        versionName &quot;9.6.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        multiDexEnabled true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            shrinkResources true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    dataBinding {\r\n        enabled = true\r\n    }\r\n\r\n    buildFeatures{\r\n        viewBinding = true\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n            apiVersion = &#39;1.1&#39;\r\n            languageVersion = &#39;1.1&#39;\r\n        }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n    namespace &#39;com.one.two.tree&#39;\r\n\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:22.6.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:18.0.2&#39;\r\n    implementation &#39;androidx.core:core-ktx:+&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n    implementation &#39;pl.droidsonroids.gif:android-gif-drawable:1.2.8&#39;\r\n    implementation &#39;com.daimajia.numberprogressbar:library:1.4@aar&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:22.5.0&#39;\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    implementation &#39;com.turki-alkhateeb:materialcolorpicker:1.0.7&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:25.12.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;androidx.work:work-runtime:2.7.1&#39;\r\n\r\n    implementation &#39;com.google.android.ads.consent:consent-library:1.0.8&#39;\r\n\r\n    // Import the BoM for the Firebase platform\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:30.1.0&#39;)\r\n\r\n    // Declare the dependencies for the In-App Messaging and Analytics libraries\r\n    // When using the BoM, you don&#39;t specify versions in Firebase library dependencies\r\n    implementation &#39;com.google.firebase:firebase-inappmessaging-display&#39;\r\n\r\n    def lifecycle_version = &quot;2.0.0&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\r\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n\r\n    implementation &#39;com.google.android.ump:user-messaging-platform:2.0.0&#39;\r\n\r\n    dependencies {\r\n        def billing_version = &quot;6.0.1&quot;\r\n        implementation &quot;com.android.billingclient:billing:$billing_version&quot;\r\n    }\r\n\r\n    implementation &quot;com.android.billingclient:billing-ktx:4.0.0&quot;\r\n\r\n\r\n    //implementation &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n**splash.java**\r\n\r\n```\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.ads.consent.ConsentForm;\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.FullScreenContentCallback;\r\nimport com.google.android.gms.ads.LoadAdError;\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\r\n\r\n\r\npublic class splash extends AppCompatActivity {\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_splash);\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                {\r\n\r\n                    startActivity(new Intent(splash.this,SubscriptionActivity.class));\r\n                    finish();\r\n\r\n                }\r\n\r\n            }\r\n        }, 5000);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n**SubscriptionActivity.java**\r\n\r\n```\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.android.billingclient.api.BillingClient;\r\nimport com.android.billingclient.api.BillingClientStateListener;\r\nimport com.android.billingclient.api.BillingFlowParams;\r\nimport com.android.billingclient.api.BillingResult;\r\nimport com.android.billingclient.api.Purchase;\r\nimport com.android.billingclient.api.PurchasesUpdatedListener;\r\nimport com.android.billingclient.api.SkuDetails;\r\nimport com.android.billingclient.api.SkuDetailsParams;\r\nimport com.android.billingclient.api.SkuDetailsResponseListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SubscriptionActivity extends AppCompatActivity {\r\n\r\n    private BillingClient billingClient;\r\n    private List&lt;SkuDetails&gt; skuDetailsList;\r\n\r\n    private TextView subscriptionTitleTextView;\r\n    private TextView subscriptionPriceTextView;\r\n    private Button[] subscribeButtons = new Button[5]; // Botones para las 5 suscripciones\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_subscription);\r\n\r\n        subscriptionTitleTextView = findViewById(R.id.subscription_title);\r\n        subscriptionPriceTextView = findViewById(R.id.subscription_price);\r\n\r\n        // Encuentra tus botones para las suscripciones\r\n        subscribeButtons[0] = findViewById(R.id.subscribe_button1);\r\n        subscribeButtons[1] = findViewById(R.id.subscribe_button2);\r\n        subscribeButtons[2] = findViewById(R.id.subscribe_button3);\r\n        subscribeButtons[3] = findViewById(R.id.subscribe_button4);\r\n        subscribeButtons[4] = findViewById(R.id.subscribe_button5);\r\n\r\n        setupBillingClient();\r\n        querySkuDetails();\r\n\r\n        // Configura OnClickListener para los botones de suscripci&#243;n\r\n        for (int i = 0; i &lt; subscribeButtons.length; i++) {\r\n            final int index = i;\r\n            subscribeButtons[i].setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    initiatePurchase(index);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void setupBillingClient() {\r\n        billingClient = BillingClient.newBuilder(this)\r\n                .enablePendingPurchases()\r\n                .setListener(purchasesUpdatedListener)\r\n                .build();\r\n\r\n        billingClient.startConnection(new BillingClientStateListener() {\r\n            @Override\r\n            public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                    // El cliente de facturaci&#243;n est&#225; listo\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onBillingServiceDisconnected() {\r\n                // Manejar la desconexi&#243;n del cliente de facturaci&#243;n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void querySkuDetails() {\r\n        List&lt;String&gt; skuList = new ArrayList&lt;&gt;();\r\n        skuList.add(&quot;noads&quot;);\r\n        skuList.add(&quot;bronze&quot;);\r\n        skuList.add(&quot;silver&quot;);\r\n        skuList.add(&quot;gold&quot;);\r\n        skuList.add(&quot;diamond&quot;);\r\n\r\n        SkuDetailsParams.Builder paramsBuilder = SkuDetailsParams.newBuilder();\r\n        paramsBuilder.setSkusList(skuList);\r\n        paramsBuilder.setType(BillingClient.SkuType.SUBS);\r\n        SkuDetailsParams params = paramsBuilder.build();\r\n\r\n        billingClient.querySkuDetailsAsync(params, new SkuDetailsResponseListener() {\r\n            @Override\r\n            public void onSkuDetailsResponse(BillingResult billingResult, List&lt;SkuDetails&gt; detailsList) {\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; detailsList != null) {\r\n                    skuDetailsList = detailsList;\r\n                    // Puedes mostrar las opciones de suscripci&#243;n aqu&#237; si es necesario\r\n                    showSubscriptionOptions();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    private void showSubscriptionOptions() {\r\n        for (int i = 0; i &lt; subscribeButtons.length; i++) {\r\n            if (skuDetailsList.size() &gt; i) {\r\n                subscribeButtons[i].setText(skuDetailsList.get(i).getTitle() + &quot; - &quot; + skuDetailsList.get(i).getPrice());\r\n                subscribeButtons[i].setVisibility(View.VISIBLE);\r\n            } else {\r\n                subscribeButtons[i].setVisibility(View.GONE);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void initiatePurchase(int index) {\r\n        if (skuDetailsList != null &amp;&amp; index &lt; skuDetailsList.size()) {\r\n            BillingFlowParams flowParams = BillingFlowParams.newBuilder()\r\n                    .setSkuDetails(skuDetailsList.get(index))\r\n                    .build();\r\n            billingClient.launchBillingFlow(this, flowParams);\r\n        }\r\n    }\r\n\r\n    private final PurchasesUpdatedListener purchasesUpdatedListener = new PurchasesUpdatedListener() {\r\n        @Override\r\n        public void onPurchasesUpdated(@NonNull BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n            // L&#243;gica para manejar la respuesta de la compra\r\n        }\r\n    };\r\n}\r\n\r\n```\r\n\r\n\r\n**activity_subscription.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SubscriptionActivity&quot;&gt;\r\n\r\n    &lt;!-- Imagen en la parte superior --&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageViewTop&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:src=&quot;@drawable/icono&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;!-- Texto debajo de la imagen --&gt;\r\n\r\n    &lt;!-- Precio de la suscripci&#243;n --&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/subscription_title&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:text=&quot;Subscription Title&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageViewTop&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.184&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/subscription_price&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Subscription Price&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscription_title&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot; /&gt;\r\n\r\n    &lt;!-- Botones para las suscripciones --&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/subscribe_button1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Subscribe 1&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscription_price&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/subscribe_button2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Subscribe 2&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscribe_button1&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/subscribe_button3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Subscribe 3&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscribe_button2&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/subscribe_button4&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Subscribe 4&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscribe_button3&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/subscribe_button5&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Subscribe 5&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscribe_button4&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:visibility=&quot;visible&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n\r\nin SubscriptionActivity.java it tells me &quot;is deprecated&quot; and I don&#39;t know how to fix it, not even by reading the documentation.\r\n\r\nThe error says it in:\r\n\r\n1. private List&lt;SkuDetails&gt; skuDetailsList;\r\n2. SkuDetailsParams.Builder paramsBuilder = SkuDetailsParams.newBuilder();\r\n3. SkuDetailsParams params = paramsBuilder.build();\r\n4. billingClient.querySkuDetailsAsync(params, new SkuDetailsResponseListener()\r\n5. .setSkuDetails(skuDetailsList.get(index))","title":"Problems with subscription implementation | deprecated codes","body":"<p>let's see if I explain myself correctly, I am trying to implement subscriptions in an application on android studio for the first time, the structure is this:</p>\n<p>splash.java -&gt; SubscriptionActivity.java -&gt; MainActivity.java</p>\n<p>The user opens the app, shows the splashscreen, then the subscription screen with 5 different plans should appear and after paying the subscription they can access MainActivity.java.</p>\n<p>It's my first time doing this and I just see that Google asks that subscriptions be with the new api, I have searched everywhere but I can't do the SubscriptionActivity.java correctly, &quot;is deprecated&quot; appears in several sections and no matter how hard I try To understand the Google guide, I can't update it, I leave you my code and I hope you can please help me.</p>\n<p>thank you</p>\n<p><strong>Build.gradle</strong></p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'org.jetbrains.kotlin.android'\n\n\nandroid {\n    compileSdk 34\n    defaultConfig {\n        applicationId &quot;com.one.two.tree&quot;\n        minSdkVersion 24\n        targetSdkVersion 34\n        versionCode 96\n        versionName &quot;9.6.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    dataBinding {\n        enabled = true\n    }\n\n    buildFeatures{\n        viewBinding = true\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n        kotlinOptions {\n            jvmTarget = '1.8'\n            apiVersion = '1.1'\n            languageVersion = '1.1'\n        }\n\n    buildFeatures {\n        viewBinding true\n    }\n    namespace 'com.one.two.tree'\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'com.google.firebase:firebase-messaging:22.6.0'\n    implementation 'com.google.firebase:firebase-core:18.0.2'\n    implementation 'androidx.core:core-ktx:+'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.0.0'\n    testImplementation 'junit:junit:4.13'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'pl.droidsonroids.gif:android-gif-drawable:1.2.8'\n    implementation 'com.daimajia.numberprogressbar:library:1.4@aar'\n    implementation 'com.google.android.gms:play-services-ads:22.5.0'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.turki-alkhateeb:materialcolorpicker:1.0.7'\n    implementation platform('com.google.firebase:firebase-bom:25.12.0')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'androidx.work:work-runtime:2.7.1'\n\n    implementation 'com.google.android.ads.consent:consent-library:1.0.8'\n\n    // Import the BoM for the Firebase platform\n    implementation platform('com.google.firebase:firebase-bom:30.1.0')\n\n    // Declare the dependencies for the In-App Messaging and Analytics libraries\n    // When using the BoM, you don't specify versions in Firebase library dependencies\n    implementation 'com.google.firebase:firebase-inappmessaging-display'\n\n    def lifecycle_version = &quot;2.0.0&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n\n    implementation 'com.google.android.ump:user-messaging-platform:2.0.0'\n\n    dependencies {\n        def billing_version = &quot;6.0.1&quot;\n        implementation &quot;com.android.billingclient:billing:$billing_version&quot;\n    }\n\n    implementation &quot;com.android.billingclient:billing-ktx:4.0.0&quot;\n\n\n    //implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'\n\n}\n</code></pre>\n<p><strong>splash.java</strong></p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.ads.consent.ConsentForm;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.FullScreenContentCallback;\nimport com.google.android.gms.ads.LoadAdError;\nimport com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\n\n\npublic class splash extends AppCompatActivity {\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash);\n\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                {\n\n                    startActivity(new Intent(splash.this,SubscriptionActivity.class));\n                    finish();\n\n                }\n\n            }\n        }, 5000);\n\n    }\n\n\n}\n</code></pre>\n<p><strong>SubscriptionActivity.java</strong></p>\n<pre><code>\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.android.billingclient.api.BillingClient;\nimport com.android.billingclient.api.BillingClientStateListener;\nimport com.android.billingclient.api.BillingFlowParams;\nimport com.android.billingclient.api.BillingResult;\nimport com.android.billingclient.api.Purchase;\nimport com.android.billingclient.api.PurchasesUpdatedListener;\nimport com.android.billingclient.api.SkuDetails;\nimport com.android.billingclient.api.SkuDetailsParams;\nimport com.android.billingclient.api.SkuDetailsResponseListener;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SubscriptionActivity extends AppCompatActivity {\n\n    private BillingClient billingClient;\n    private List&lt;SkuDetails&gt; skuDetailsList;\n\n    private TextView subscriptionTitleTextView;\n    private TextView subscriptionPriceTextView;\n    private Button[] subscribeButtons = new Button[5]; // Botones para las 5 suscripciones\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_subscription);\n\n        subscriptionTitleTextView = findViewById(R.id.subscription_title);\n        subscriptionPriceTextView = findViewById(R.id.subscription_price);\n\n        // Encuentra tus botones para las suscripciones\n        subscribeButtons[0] = findViewById(R.id.subscribe_button1);\n        subscribeButtons[1] = findViewById(R.id.subscribe_button2);\n        subscribeButtons[2] = findViewById(R.id.subscribe_button3);\n        subscribeButtons[3] = findViewById(R.id.subscribe_button4);\n        subscribeButtons[4] = findViewById(R.id.subscribe_button5);\n\n        setupBillingClient();\n        querySkuDetails();\n\n        // Configura OnClickListener para los botones de suscripción\n        for (int i = 0; i &lt; subscribeButtons.length; i++) {\n            final int index = i;\n            subscribeButtons[i].setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    initiatePurchase(index);\n                }\n            });\n        }\n    }\n\n    private void setupBillingClient() {\n        billingClient = BillingClient.newBuilder(this)\n                .enablePendingPurchases()\n                .setListener(purchasesUpdatedListener)\n                .build();\n\n        billingClient.startConnection(new BillingClientStateListener() {\n            @Override\n            public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                    // El cliente de facturación está listo\n                }\n            }\n\n            @Override\n            public void onBillingServiceDisconnected() {\n                // Manejar la desconexión del cliente de facturación\n            }\n        });\n    }\n\n    private void querySkuDetails() {\n        List&lt;String&gt; skuList = new ArrayList&lt;&gt;();\n        skuList.add(&quot;noads&quot;);\n        skuList.add(&quot;bronze&quot;);\n        skuList.add(&quot;silver&quot;);\n        skuList.add(&quot;gold&quot;);\n        skuList.add(&quot;diamond&quot;);\n\n        SkuDetailsParams.Builder paramsBuilder = SkuDetailsParams.newBuilder();\n        paramsBuilder.setSkusList(skuList);\n        paramsBuilder.setType(BillingClient.SkuType.SUBS);\n        SkuDetailsParams params = paramsBuilder.build();\n\n        billingClient.querySkuDetailsAsync(params, new SkuDetailsResponseListener() {\n            @Override\n            public void onSkuDetailsResponse(BillingResult billingResult, List&lt;SkuDetails&gt; detailsList) {\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; detailsList != null) {\n                    skuDetailsList = detailsList;\n                    // Puedes mostrar las opciones de suscripción aquí si es necesario\n                    showSubscriptionOptions();\n                }\n            }\n        });\n    }\n\n\n\n\n    private void showSubscriptionOptions() {\n        for (int i = 0; i &lt; subscribeButtons.length; i++) {\n            if (skuDetailsList.size() &gt; i) {\n                subscribeButtons[i].setText(skuDetailsList.get(i).getTitle() + &quot; - &quot; + skuDetailsList.get(i).getPrice());\n                subscribeButtons[i].setVisibility(View.VISIBLE);\n            } else {\n                subscribeButtons[i].setVisibility(View.GONE);\n            }\n        }\n    }\n\n    private void initiatePurchase(int index) {\n        if (skuDetailsList != null &amp;&amp; index &lt; skuDetailsList.size()) {\n            BillingFlowParams flowParams = BillingFlowParams.newBuilder()\n                    .setSkuDetails(skuDetailsList.get(index))\n                    .build();\n            billingClient.launchBillingFlow(this, flowParams);\n        }\n    }\n\n    private final PurchasesUpdatedListener purchasesUpdatedListener = new PurchasesUpdatedListener() {\n        @Override\n        public void onPurchasesUpdated(@NonNull BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n            // Lógica para manejar la respuesta de la compra\n        }\n    };\n}\n\n</code></pre>\n<p><strong>activity_subscription.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SubscriptionActivity&quot;&gt;\n\n    &lt;!-- Imagen en la parte superior --&gt;\n    &lt;ImageView\n        android:id=&quot;@+id/imageViewTop&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/icono&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;!-- Texto debajo de la imagen --&gt;\n\n    &lt;!-- Precio de la suscripción --&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/subscription_title&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:text=&quot;Subscription Title&quot;\n        android:textSize=&quot;24sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageViewTop&quot;\n        app:layout_constraintVertical_bias=&quot;0.184&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/subscription_price&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Subscription Price&quot;\n        android:textSize=&quot;18sp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscription_title&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot; /&gt;\n\n    &lt;!-- Botones para las suscripciones --&gt;\n    &lt;Button\n        android:id=&quot;@+id/subscribe_button1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Subscribe 1&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscription_price&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/subscribe_button2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Subscribe 2&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscribe_button1&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/subscribe_button3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Subscribe 3&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscribe_button2&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/subscribe_button4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Subscribe 4&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscribe_button3&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/subscribe_button5&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Subscribe 5&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/subscribe_button4&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>in SubscriptionActivity.java it tells me &quot;is deprecated&quot; and I don't know how to fix it, not even by reading the documentation.</p>\n<p>The error says it in:</p>\n<ol>\n<li>private List skuDetailsList;</li>\n<li>SkuDetailsParams.Builder paramsBuilder = SkuDetailsParams.newBuilder();</li>\n<li>SkuDetailsParams params = paramsBuilder.build();</li>\n<li>billingClient.querySkuDetailsAsync(params, new SkuDetailsResponseListener()</li>\n<li>.setSkuDetails(skuDetailsList.get(index))</li>\n</ol>\n"},{"tags":["java","android-studio","android-fragments","android-fragmentactivity"],"owner":{"account_id":29593742,"reputation":1,"user_id":22680678,"display_name":"Kireina Hidayat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700428317,"creation_date":1700392328,"question_id":77510540,"body_markdown":"I have a problem with passing the data from Main Activity to Home Fragment.\r\nIf I click the submit button it will automatically showing the result data in the same page, not transfer to the Home Fragment class interface.\r\n\r\n\r\n```\r\npackage com.example.dummy;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    EditText nameEdit,mobileEdit;\r\n    Button btn;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        nameEdit= findViewById(R.id.nameEdit);\r\n        mobileEdit= findViewById(R.id.mobileEdit);\r\n        btn = findViewById(R.id.submitBtn);\r\n\r\n    btn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n\r\n            sendDatatoFragment();\r\n\r\n        }\r\n    });\r\n\r\n    }\r\n\r\n    private void sendDatatoFragment() {\r\n\r\n        String name,mobile = &quot;&quot;;\r\n\r\n        name = nameEdit.getText().toString();\r\n        mobile = mobileEdit.getText().toString();\r\n\r\n        Fragment frag = new HomeFragment();\r\n\r\n        Bundle bundle = new Bundle();\r\n\r\n        bundle.putString(&quot;username&quot;, name);\r\n        bundle.putString(&quot;usermobile&quot;, mobile);\r\n\r\n        frag.setArguments(bundle);\r\n        FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.container,frag).commit();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.example.dummy;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\npublic class HomeFragment extends Fragment {\r\n\r\n    TextView details;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n    \r\n        View view =  inflater.inflate(R.layout.fragment_home, container, false);\r\n    \r\n        details = view.findViewById(R.id.details);\r\n    \r\n       Bundle bundle= this.getArguments();\r\n    \r\n       details.setText(&quot;Name:&quot; + bundle.getString(&quot;username&quot;) + &quot;\\nMobile:&quot; + bundle.getString(&quot;usermobile&quot;));\r\n    \r\n    \r\n        return view;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI want the result are display in `HomeFragment` class page. Not in the same place, because it makes the Main Activity and Home Fragment layouts pile up","title":"How to send data from activity page to fragment page","body":"<p>I have a problem with passing the data from Main Activity to Home Fragment.\nIf I click the submit button it will automatically showing the result data in the same page, not transfer to the Home Fragment class interface.</p>\n<pre><code>package com.example.dummy;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentTransaction;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText nameEdit,mobileEdit;\n    Button btn;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        nameEdit= findViewById(R.id.nameEdit);\n        mobileEdit= findViewById(R.id.mobileEdit);\n        btn = findViewById(R.id.submitBtn);\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            sendDatatoFragment();\n\n        }\n    });\n\n    }\n\n    private void sendDatatoFragment() {\n\n        String name,mobile = &quot;&quot;;\n\n        name = nameEdit.getText().toString();\n        mobile = mobileEdit.getText().toString();\n\n        Fragment frag = new HomeFragment();\n\n        Bundle bundle = new Bundle();\n\n        bundle.putString(&quot;username&quot;, name);\n        bundle.putString(&quot;usermobile&quot;, mobile);\n\n        frag.setArguments(bundle);\n        FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n        fragmentTransaction.replace(R.id.container,frag).commit();\n    }\n\n}\n</code></pre>\n<pre><code>package com.example.dummy;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\npublic class HomeFragment extends Fragment {\n\n    TextView details;\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n    \n        View view =  inflater.inflate(R.layout.fragment_home, container, false);\n    \n        details = view.findViewById(R.id.details);\n    \n       Bundle bundle= this.getArguments();\n    \n       details.setText(&quot;Name:&quot; + bundle.getString(&quot;username&quot;) + &quot;\\nMobile:&quot; + bundle.getString(&quot;usermobile&quot;));\n    \n    \n        return view;\n    }\n\n}\n\n</code></pre>\n<p>I want the result are display in <code>HomeFragment</code> class page. Not in the same place, because it makes the Main Activity and Home Fragment layouts pile up</p>\n"},{"tags":["java","android-studio","getresource"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1700418033,"post_id":77511945,"comment_id":136649080,"body_markdown":"no screenshots of code. Post the code as text.","body":"no screenshots of code. Post the code as text."}],"owner":{"account_id":15372133,"reputation":1,"user_id":11089888,"display_name":"Sergey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700428159,"creation_date":1700417888,"question_id":77511945,"body_markdown":"I&#39;m facing a problem with connection to Google sheets via my `credentials.json` file (that was created for Android app). I simply can&#39;t read file in Android studio, but can read it in IntelliJ. Here on the images. I just want to understand what I&#39;m doing wrong.[enter image description here](https://i.stack.imgur.com/GGG5o.png)\r\n[enter image description here](https://i.stack.imgur.com/KfFYE.png)\r\n\r\nI used the simple code in both programm:\r\n\r\n    package org.example;\r\n\r\n    public class NewClass {\r\n    public static void execute() {\r\n        System.out.println(NewClass.class\r\n                .getResourceAsStream(&quot;/client_secret.json&quot;));\r\n    }\r\n\r\n    public static void main(String[] args) {execute();}\r\n    }\r\n\r\nI&#39;ve read many posts about this problem. But still I got this error and I don&#39;t understand why.","title":"Android Studio Java Google Sheets","body":"<p>I'm facing a problem with connection to Google sheets via my <code>credentials.json</code> file (that was created for Android app). I simply can't read file in Android studio, but can read it in IntelliJ. Here on the images. I just want to understand what I'm doing wrong.<a href=\"https://i.stack.imgur.com/GGG5o.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/KfFYE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I used the simple code in both programm:</p>\n<pre><code>package org.example;\n\npublic class NewClass {\npublic static void execute() {\n    System.out.println(NewClass.class\n            .getResourceAsStream(&quot;/client_secret.json&quot;));\n}\n\npublic static void main(String[] args) {execute();}\n}\n</code></pre>\n<p>I've read many posts about this problem. But still I got this error and I don't understand why.</p>\n"},{"tags":["java","string","string-length"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1700422435,"post_id":77512160,"comment_id":136649570,"body_markdown":"You did not show the implementation of `Dictionary`. If I had to guess, I would say that `Dictionary` does not have a (public accessible) field `length`.","body":"You did not show the implementation of <code>Dictionary</code>. If I had to guess, I would say that <code>Dictionary</code> does not have a (public accessible) field <code>length</code>."},{"owner":{"account_id":220160,"reputation":99400,"user_id":477420,"display_name":"Alexei Levenkov"},"score":0,"creation_date":1700423422,"post_id":77512160,"comment_id":136649651,"body_markdown":"Looks like typo - I&#39;m pretty sure in hangman you use guess letters of random word (`char[] letters = new char[(randomword.getWord(int_random).length)];` ) and not something like &quot;a letter from each supported word&quot; (as current code fails to do by using length of &quot;Dictionary&quot;). Side note: naming is important - &quot;list of words&quot; should never be named `randomword` to avoid such confusion (if `words` not enough at very least make it plural: `randomwords`).","body":"Looks like typo - I&#39;m pretty sure in hangman you use guess letters of random word (<code>char[] letters = new char[(randomword.getWord(int_random).length)];</code> ) and not something like &quot;a letter from each supported word&quot; (as current code fails to do by using length of &quot;Dictionary&quot;). Side note: naming is important - &quot;list of words&quot; should never be named <code>randomword</code> to avoid such confusion (if <code>words</code> not enough at very least make it plural: <code>randomwords</code>)."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700428108,"post_id":77512160,"comment_id":136650176,"body_markdown":"I fixed some of your code-formatting problems. Study that before your next post.","body":"I fixed some of your code-formatting problems. Study that before your next post."}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700422756,"creation_date":1700422450,"answer_id":77512207,"question_id":77512160,"body_markdown":"A Dictionary does not have a length method.  A  Dictionary can give you a String that has a length method.\r\n\r\nYou call getWord on the Dictionary, which returns a String, which would have a length.  But you didn&#39;t retain the String, so you can&#39;t ask it for its length.\r\n\r\nMaybe you meant\r\n\r\n    Dictionary dict = new Dictionary();\r\n    String randomword = dict.getWord(int_random);   \r\n    char[] letters = new char[randomword.length()];\r\n\r\nNote that the length of a String is fetched by a method call, not as a direct read of a field.  That is, parentheses are required after the name.\r\n\r\nThis has better names, given that a &#39;Dictionary&#39; is not actually a &#39;word&#39;. Good naming is half the battle when it comes to understanding program code.\r\n","title":"The &quot;randomword&quot; can not access the .length method. Why is that?","body":"<p>A Dictionary does not have a length method.  A  Dictionary can give you a String that has a length method.</p>\n<p>You call getWord on the Dictionary, which returns a String, which would have a length.  But you didn't retain the String, so you can't ask it for its length.</p>\n<p>Maybe you meant</p>\n<pre><code>Dictionary dict = new Dictionary();\nString randomword = dict.getWord(int_random);   \nchar[] letters = new char[randomword.length()];\n</code></pre>\n<p>Note that the length of a String is fetched by a method call, not as a direct read of a field.  That is, parentheses are required after the name.</p>\n<p>This has better names, given that a 'Dictionary' is not actually a 'word'. Good naming is half the battle when it comes to understanding program code.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700423455,"creation_date":1700423455,"answer_id":77512257,"question_id":77512160,"body_markdown":"Here is an example.\r\n\r\n```java\r\nclass Dictionary {\r\n    Random r = new Random();\r\n    List&lt;String&gt; l = new ArrayList&lt;&gt;();\r\n\r\n    Dictionary() {\r\n        l.add(&quot;UNIVERSITY&quot;);\r\n        l.add(&quot;COLLEGE&quot;);\r\n        l.add(&quot;ACADEMY&quot;);\r\n    }\r\n\r\n    String randomWord() {\r\n        return l.get(r.nextInt(l.size()));\r\n    }\r\n\r\n    void printInfo() {\r\n        System.out.println(this);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;{ l = %s }&quot;.formatted(l);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nDictionary d = new Dictionary();\r\nString s = d.randomWord();\r\nint n = s.length();\r\n```","title":"The &quot;randomword&quot; can not access the .length method. Why is that?","body":"<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Dictionary {\n    Random r = new Random();\n    List&lt;String&gt; l = new ArrayList&lt;&gt;();\n\n    Dictionary() {\n        l.add(&quot;UNIVERSITY&quot;);\n        l.add(&quot;COLLEGE&quot;);\n        l.add(&quot;ACADEMY&quot;);\n    }\n\n    String randomWord() {\n        return l.get(r.nextInt(l.size()));\n    }\n\n    void printInfo() {\n        System.out.println(this);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;{ l = %s }&quot;.formatted(l);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Dictionary d = new Dictionary();\nString s = d.randomWord();\nint n = s.length();\n</code></pre>\n"}],"owner":{"account_id":29903601,"reputation":1,"user_id":22916716,"display_name":"Smn666x"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700428044,"creation_date":1700421646,"question_id":77512160,"body_markdown":" I am trying to make a hangman game and I have a problem with finding the length of the random word chosen automatically\r\n\r\n```java \r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tRandom rand = new Random(); \r\n\t\tint upperbound = 40; \r\n\t\tint int_random = rand.nextInt(upperbound); \r\n\t\t\r\n\t\tDictionary S1 = new Dictionary();\r\n\t\tS1.printInfo(); \r\n\t\tDictionary randomword = new Dictionary();\r\n\t\trandomword.getWord(int_random); \r\n\t\t\r\n\t\tchar[] letters = new char[(randomword.length)];\r\n\t\tint lives = 8;\r\n        Scanner answer = new Scanner(System.in);\r\n\t\t\r\n\t\twhile (lives &gt; 0) {\r\n\t\t\t\r\n\t\t\t//System.out.println(&quot;The random word is now: &quot; +);\r\n\t\t\tSystem.out.println(&quot;You have&quot; + lives + &quot;guesses left.&quot;);\r\n\t\t\r\n\t\t\tfor(int i= 0; i &lt; lives; i++) {\r\n\t\t\t\tSystem.out.println(&quot;0&quot;) ;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tSystem.out.println(&quot;Your guess:&quot;);\r\n\t\t\tString guess = answer.nextLine();\r\n\t\t\tchar letter = guess.charAt(0);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\npublic class Dictionary {\r\n\r\n\tpublic String getWord(int index) {\r\n\t\tswitch (index) {\r\n\t\tcase 0: return &quot;UNIVERSITY&quot;;\r\n\t\t...\r\n\t\tdefault: return &quot;Illegal index&quot;;\r\n\t\t}\r\n\t}\t\r\n```\r\n\r\n\r\nI was expecting to be able to use .length in &quot;randomword&quot; but i can not","title":"The &quot;randomword&quot; can not access the .length method. Why is that?","body":"<p>I am trying to make a hangman game and I have a problem with finding the length of the random word chosen automatically</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Random rand = new Random(); \n        int upperbound = 40; \n        int int_random = rand.nextInt(upperbound); \n        \n        Dictionary S1 = new Dictionary();\n        S1.printInfo(); \n        Dictionary randomword = new Dictionary();\n        randomword.getWord(int_random); \n        \n        char[] letters = new char[(randomword.length)];\n        int lives = 8;\n        Scanner answer = new Scanner(System.in);\n        \n        while (lives &gt; 0) {\n            \n            //System.out.println(&quot;The random word is now: &quot; +);\n            System.out.println(&quot;You have&quot; + lives + &quot;guesses left.&quot;);\n        \n            for(int i= 0; i &lt; lives; i++) {\n                System.out.println(&quot;0&quot;) ;\n            }\n        \n            System.out.println(&quot;Your guess:&quot;);\n            String guess = answer.nextLine();\n            char letter = guess.charAt(0);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dictionary {\n\n    public String getWord(int index) {\n        switch (index) {\n        case 0: return &quot;UNIVERSITY&quot;;\n        ...\n        default: return &quot;Illegal index&quot;;\n        }\n    }   \n</code></pre>\n<p>I was expecting to be able to use .length in &quot;randomword&quot; but i can not</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":1,"creation_date":1601393442,"post_id":64122437,"comment_id":113391085,"body_markdown":"https://www.usn-it.de/2009/02/20/oracle-11g-jdbc-driver-hangs-blocked-by-devrandom-entropy-pool-empty/ https://stackoverflow.com/a/49775784/836215","body":"<a href=\"https://www.usn-it.de/2009/02/20/oracle-11g-jdbc-driver-hangs-blocked-by-devrandom-entropy-pool-empty/\" rel=\"nofollow noreferrer\">usn-it.de/2009/02/20/&hellip;</a> <a href=\"https://stackoverflow.com/a/49775784/836215\">stackoverflow.com/a/49775784/836215</a>"},{"owner":{"account_id":11844732,"reputation":927,"user_id":8667560,"accept_rate":75,"display_name":"Rafael Ferreira Rocha"},"score":0,"creation_date":1601393580,"post_id":64122437,"comment_id":113391158,"body_markdown":"I&#39;ve alread tried it but it worked for a short period of time no idea why, nobody changed anything. Now it does not work","body":"I&#39;ve alread tried it but it worked for a short period of time no idea why, nobody changed anything. Now it does not work"},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":2,"creation_date":1601393881,"post_id":64122437,"comment_id":113391289,"body_markdown":"When your stack trace contains `oracle.jdbc.driver.T4CConnection.logon` then it usually means that database cut off the TCP connection, because your app could not &quot;encrypt&quot; the password fast enough. It is not a network issue. Try upgrade to Java10, this version does not have that flaw anymore. Otherwise you have set java.security.egd=file:/dev/./urandom(Java bug 6202721). When you use /dev/urandom JVM will intentionally ignore you. You can also play with parameter SQLNET.INBOUND_CONNECT_TIMEOUT on DB server side, if you can.","body":"When your stack trace contains <code>oracle.jdbc.driver.T4CConnection.logon</code> then it usually means that database cut off the TCP connection, because your app could not &quot;encrypt&quot; the password fast enough. It is not a network issue. Try upgrade to Java10, this version does not have that flaw anymore. Otherwise you have set java.security.egd=file:/dev/./urandom(Java bug 6202721). When you use /dev/urandom JVM will intentionally ignore you. You can also play with parameter SQLNET.INBOUND_CONNECT_TIMEOUT on DB server side, if you can."},{"owner":{"account_id":11844732,"reputation":927,"user_id":8667560,"accept_rate":75,"display_name":"Rafael Ferreira Rocha"},"score":0,"creation_date":1601394228,"post_id":64122437,"comment_id":113391452,"body_markdown":"Actually i&#39;m using java 11 Is this bug yet on this version or is there any similar bug?","body":"Actually i&#39;m using java 11 Is this bug yet on this version or is there any similar bug?"}],"answers":[{"tags":[],"owner":{"account_id":343830,"reputation":1025,"user_id":675784,"accept_rate":60,"display_name":"Karl Henselin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686158773,"creation_date":1686158773,"answer_id":76425744,"question_id":64122437,"body_markdown":"I found this Oracle guide for this error, after looking here.\r\n\r\nhttps://support.oracle.com/knowledge/Middleware/2524953_1.html\r\n\r\nThis states that the issue is caused by high shared pool waits in the database.\r\n\r\nThe database alert log might show in this case:\r\n\r\n    ORA-00600: internal error code, arguments: [KGL-heap-size-exceeded], [0x4289C41C0], [0], [524288008], [], [], [], [], [], [], [], [] \r\n    Parse CPU to Parse Elapsed %: 1.20\r\n\r\nThe number shown is not supposed to be low like this according to the article.\r\nTheir given solution is to increase the minimum shared_pool_size in the database, and for more information, to go to For more details, to see [Document:330239.1][1] \r\n \r\n\r\n\r\n  [1]: https://support.oracle.com/epmos/faces/DocumentDisplay?parent=DOCUMENT&amp;sourceId=2524953.1&amp;id=330239.1","title":"java.sql.SQLRecoverableException: IO Error: Connection reset by peer","body":"<p>I found this Oracle guide for this error, after looking here.</p>\n<p><a href=\"https://support.oracle.com/knowledge/Middleware/2524953_1.html\" rel=\"nofollow noreferrer\">https://support.oracle.com/knowledge/Middleware/2524953_1.html</a></p>\n<p>This states that the issue is caused by high shared pool waits in the database.</p>\n<p>The database alert log might show in this case:</p>\n<pre><code>ORA-00600: internal error code, arguments: [KGL-heap-size-exceeded], [0x4289C41C0], [0], [524288008], [], [], [], [], [], [], [], [] \nParse CPU to Parse Elapsed %: 1.20\n</code></pre>\n<p>The number shown is not supposed to be low like this according to the article.\nTheir given solution is to increase the minimum shared_pool_size in the database, and for more information, to go to For more details, to see <a href=\"https://support.oracle.com/epmos/faces/DocumentDisplay?parent=DOCUMENT&amp;sourceId=2524953.1&amp;id=330239.1\" rel=\"nofollow noreferrer\">Document:330239.1</a></p>\n"},{"tags":[],"owner":{"account_id":71791,"reputation":522,"user_id":207546,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697744164,"creation_date":1697744164,"answer_id":77326612,"question_id":64122437,"body_markdown":"I hit the same issue:\r\nFixed it by adding the protocol\r\n\r\n`jdbc:oracle:thin:@tcps://{HOST}:{PORT}/{SERVICE}`\r\n\r\nYou should be able to use the same connection string with SQLPlus\r\n\r\n`sqlplus {USER}/{PASSWORD}@tcps://{HOST}:{PORT}/{SERVICE}`","title":"java.sql.SQLRecoverableException: IO Error: Connection reset by peer","body":"<p>I hit the same issue:\nFixed it by adding the protocol</p>\n<p><code>jdbc:oracle:thin:@tcps://{HOST}:{PORT}/{SERVICE}</code></p>\n<p>You should be able to use the same connection string with SQLPlus</p>\n<p><code>sqlplus {USER}/{PASSWORD}@tcps://{HOST}:{PORT}/{SERVICE}</code></p>\n"}],"owner":{"account_id":11844732,"reputation":927,"user_id":8667560,"accept_rate":75,"display_name":"Rafael Ferreira Rocha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26937,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700427810,"creation_date":1601392070,"question_id":64122437,"body_markdown":"I&#39;m trying to start up my application on k8s using the image Linux 4.14.165-133.209.amzn2.x86_64 and using openjdk 11 with maven, but the application does not start because of the following error\r\n\r\n    java.sql.SQLRecoverableException: IO Error: Connection reset by peer, Authentication lapse 0 ms.\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:874) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.5.jar!/:?]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358) ~[HikariCP-3.4.5.jar!/:?]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-3.4.5.jar!/:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477) ~[HikariCP-3.4.5.jar!/:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560) ~[HikariCP-3.4.5.jar!/:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.4.5.jar!/:?]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.4.5.jar!/:?]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158) ~[spring-jdbc-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116) ~[spring-jdbc-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79) ~[spring-jdbc-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324) ~[spring-jdbc-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:133) ~[spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:136) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:102) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:94) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:133) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) [spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) [spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n    \tat com.b2wdigital.occurrence.service.OccurrenceServiceApplication.main(OccurrenceServiceApplication.java:12) [classes!/:1.0]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [occurrence-service-1.0.jar:1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:107) [occurrence-service-1.0.jar:1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [occurrence-service-1.0.jar:1.0]\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [occurrence-service-1.0.jar:1.0]\r\n    Caused by: java.io.IOException: Connection reset by peer, Authentication lapse 0 ms.\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:870) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \t... 58 more\r\n    Caused by: java.io.IOException: Connection reset by peer\r\n    \tat sun.nio.ch.FileDispatcherImpl.read0(Native Method) ~[?:?]\r\n    \tat sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39) ~[?:?]\r\n    \tat sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276) ~[?:?]\r\n    \tat sun.nio.ch.IOUtil.read(IOUtil.java:245) ~[?:?]\r\n    \tat sun.nio.ch.IOUtil.read(IOUtil.java:223) ~[?:?]\r\n    \tat sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:355) ~[?:?]\r\n    \tat oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:174) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.net.ns.NSProtocolNIO.doSocketRead(NSProtocolNIO.java:555) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.net.ns.NIOPacket.readHeader(NIOPacket.java:258) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.net.ns.NIOPacket.readPacketFromSocketChannel(NIOPacket.java:190) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:132) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:105) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:91) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.net.ano.CryptoNIONSDataChannel.readDataFromSocketChannel(Unknown Source) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CMAREngineNIO.prepareForUnmarshall(T4CMAREngineNIO.java:764) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:429) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4C8TTIdty.receive(T4C8TTIdty.java:736) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4C8TTIdty.doRPC(T4C8TTIdty.java:647) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1702) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\r\n    \t... 58 more\r\n\r\n**What I&#39;ve already tried:**\r\n - telnet, it connected to the port without any trouble.\r\n - Connect by Sqlplus, it worked well but it had to install libaio\r\n - The the steps described on https://stackoverflow.com/questions/6110395/sqlrecoverableexception-i-o-exception-connection-reset\r\n- Start the application on my machine,it worked well\r\n\r\nThe database is on oracle cloud and the range of ips is already allowed. \r\n\r\n**More infos:**\r\n\r\nOjdbc8 version: 19.3.0.0\r\n\r\nDatabase version: Oracle Database 11g EE Extreme Perf Release 11. 2.0.4.0 - 64bit Production","title":"java.sql.SQLRecoverableException: IO Error: Connection reset by peer","body":"<p>I'm trying to start up my application on k8s using the image Linux 4.14.165-133.209.amzn2.x86_64 and using openjdk 11 with maven, but the application does not start because of the following error</p>\n<pre><code>java.sql.SQLRecoverableException: IO Error: Connection reset by peer, Authentication lapse 0 ms.\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:874) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.5.jar!/:?]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358) ~[HikariCP-3.4.5.jar!/:?]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-3.4.5.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477) ~[HikariCP-3.4.5.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560) ~[HikariCP-3.4.5.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.4.5.jar!/:?]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.4.5.jar!/:?]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158) ~[spring-jdbc-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116) ~[spring-jdbc-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79) ~[spring-jdbc-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324) ~[spring-jdbc-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:133) ~[spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:136) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:102) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:94) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:133) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) [spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) [spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n    at com.b2wdigital.occurrence.service.OccurrenceServiceApplication.main(OccurrenceServiceApplication.java:12) [classes!/:1.0]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [occurrence-service-1.0.jar:1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) [occurrence-service-1.0.jar:1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [occurrence-service-1.0.jar:1.0]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [occurrence-service-1.0.jar:1.0]\nCaused by: java.io.IOException: Connection reset by peer, Authentication lapse 0 ms.\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:870) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    ... 58 more\nCaused by: java.io.IOException: Connection reset by peer\n    at sun.nio.ch.FileDispatcherImpl.read0(Native Method) ~[?:?]\n    at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39) ~[?:?]\n    at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276) ~[?:?]\n    at sun.nio.ch.IOUtil.read(IOUtil.java:245) ~[?:?]\n    at sun.nio.ch.IOUtil.read(IOUtil.java:223) ~[?:?]\n    at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:355) ~[?:?]\n    at oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:174) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.net.ns.NSProtocolNIO.doSocketRead(NSProtocolNIO.java:555) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.net.ns.NIOPacket.readHeader(NIOPacket.java:258) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.net.ns.NIOPacket.readPacketFromSocketChannel(NIOPacket.java:190) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:132) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:105) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:91) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.net.ano.CryptoNIONSDataChannel.readDataFromSocketChannel(Unknown Source) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CMAREngineNIO.prepareForUnmarshall(T4CMAREngineNIO.java:764) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:429) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.T4C8TTIdty.receive(T4C8TTIdty.java:736) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.T4C8TTIdty.doRPC(T4C8TTIdty.java:647) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1702) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588) ~[ojdbc8-19.3.0.0.jar!/:19.3.0.0.0]\n    ... 58 more\n</code></pre>\n<p><strong>What I've already tried:</strong></p>\n<ul>\n<li>telnet, it connected to the port without any trouble.</li>\n<li>Connect by Sqlplus, it worked well but it had to install libaio</li>\n<li>The the steps described on <a href=\"https://stackoverflow.com/questions/6110395/sqlrecoverableexception-i-o-exception-connection-reset\">SQLRecoverableException: I/O Exception: Connection reset</a></li>\n<li>Start the application on my machine,it worked well</li>\n</ul>\n<p>The database is on oracle cloud and the range of ips is already allowed.</p>\n<p><strong>More infos:</strong></p>\n<p>Ojdbc8 version: 19.3.0.0</p>\n<p>Database version: Oracle Database 11g EE Extreme Perf Release 11. 2.0.4.0 - 64bit Production</p>\n"},{"tags":["java","spring-boot","http","spring-webflux"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1700227453,"post_id":77501782,"comment_id":136631689,"body_markdown":"Search for _long running http requests_.  Some basic approaches: 1) immediately return an ID from the initial HTTP request, and client itself listens to the topic with message including the ID; 2) immediately return an ID from the initial HTTP request, and the client periodically makes subsequent calls until the results are available (polling) for that ID; 3) as part of the initial request, the client provides a callback URL when the results are available.","body":"Search for <i>long running http requests</i>.  Some basic approaches: 1) immediately return an ID from the initial HTTP request, and client itself listens to the topic with message including the ID; 2) immediately return an ID from the initial HTTP request, and the client periodically makes subsequent calls until the results are available (polling) for that ID; 3) as part of the initial request, the client provides a callback URL when the results are available."},{"owner":{"account_id":13417187,"reputation":1,"user_id":10547915,"display_name":"Alexandr"},"score":0,"creation_date":1700227789,"post_id":77501782,"comment_id":136631747,"body_markdown":"@Andrew S Thanks for your ideas. But the client wants to work via scheme request-response(","body":"@Andrew S Thanks for your ideas. But the client wants to work via scheme request-response("},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1700249663,"post_id":77501782,"comment_id":136635570,"body_markdown":"btw, why `CompletableFuture` if you always convert it to a `Mono`? Did you consider using `Sinks.One`?","body":"btw, why <code>CompletableFuture</code> if you always convert it to a <code>Mono</code>? Did you consider using <code>Sinks.One</code>?"},{"owner":{"account_id":13417187,"reputation":1,"user_id":10547915,"display_name":"Alexandr"},"score":0,"creation_date":1700384784,"post_id":77501782,"comment_id":136646037,"body_markdown":"@IgorArtamonov\nthanks, could you provide an example? I haven&#39;t worked with this yet","body":"@IgorArtamonov thanks, could you provide an example? I haven&#39;t worked with this yet"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1700409464,"post_id":77501782,"comment_id":136648166,"body_markdown":"Like `Sinks.one()` instead of `new CompletableFuture&lt;&gt;()`, and deal that object instead. PS I&#39;m not saying it fixes your problem, but it makes the implementation less complex as it drops an unnecessary intermediary","body":"Like <code>Sinks.one()</code> instead of <code>new CompletableFuture&lt;&gt;()</code>, and deal that object instead. PS I&#39;m not saying it fixes your problem, but it makes the implementation less complex as it drops an unnecessary intermediary"},{"owner":{"account_id":13417187,"reputation":1,"user_id":10547915,"display_name":"Alexandr"},"score":0,"creation_date":1700508276,"post_id":77501782,"comment_id":136660871,"body_markdown":"@IgorArtamonov Thanks, but its working the same like CompletableFuture(","body":"@IgorArtamonov Thanks, but its working the same like CompletableFuture("},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1700516032,"post_id":77501782,"comment_id":136662028,"body_markdown":"right, you use it in the same way as a CompletableFuture. but it fits better the Reactor as it&#39;s a native component and doesn&#39;t need any wrapper","body":"right, you use it in the same way as a CompletableFuture. but it fits better the Reactor as it&#39;s a native component and doesn&#39;t need any wrapper"}],"owner":{"account_id":13417187,"reputation":1,"user_id":10547915,"display_name":"Alexandr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700426961,"creation_date":1700225304,"question_id":77501782,"body_markdown":"We are making a service that should accept HTTP requests.\r\nThis method should send client data to the Kafka “send” topic and forget about it for a little while (but not block)\r\n\r\n\r\n```\r\n@GetMapping(&quot;/comp&quot;)\r\npublic Mono&lt;ShareObj&gt; handleRequest() {\r\n\tCompletableFuture&lt;ShareObj&gt; future = new CompletableFuture&lt;&gt;();\r\n\tShareObj objectC = new ShareObj();\r\n\tobjectC.setReq(UUID.randomUUID().toString());\r\n\tkafkaTemplate.send(&quot;send&quot;, objectC);\r\n\tfutureMap.put(objectC.getReq(), future);\r\n\treturn Mono.fromFuture(future);\r\n}\r\n\r\n```\r\n\r\nThe data from the send topic was read and the response was sent to the &quot;resp&quot; topic. In the method where we have @GetMapping(&quot;/comp&quot;) there will be a @KafkaListener that listens to the topic &quot;resp&quot; from where we need to take data for the client.\r\n\r\n\r\n```\r\n@KafkaListener(topics = &quot;resp&quot;, groupId = &quot;consGroup&quot;)\r\npublic void listen(@Payload ShareObj req) {\r\n\tSystem.out.println(req);\r\n\tvar future = futureMap.get(req.getReq());\r\n\tif (future != null) {\r\n\t\tfuture.complete(req);\r\n\t\tfutureMap.remove(req.getReq());\r\n\t}\r\n}\r\n```\r\n\r\nI couldn&#39;t think of a better way than with CompletableFuture to return the response later. But there is a very bad throughput here.\r\nHow can you solve this problem in another way or in general some other approach?","title":"Async Response HTTP","body":"<p>We are making a service that should accept HTTP requests.\nThis method should send client data to the Kafka “send” topic and forget about it for a little while (but not block)</p>\n<pre><code>@GetMapping(&quot;/comp&quot;)\npublic Mono&lt;ShareObj&gt; handleRequest() {\n    CompletableFuture&lt;ShareObj&gt; future = new CompletableFuture&lt;&gt;();\n    ShareObj objectC = new ShareObj();\n    objectC.setReq(UUID.randomUUID().toString());\n    kafkaTemplate.send(&quot;send&quot;, objectC);\n    futureMap.put(objectC.getReq(), future);\n    return Mono.fromFuture(future);\n}\n\n</code></pre>\n<p>The data from the send topic was read and the response was sent to the &quot;resp&quot; topic. In the method where we have @GetMapping(&quot;/comp&quot;) there will be a @KafkaListener that listens to the topic &quot;resp&quot; from where we need to take data for the client.</p>\n<pre><code>@KafkaListener(topics = &quot;resp&quot;, groupId = &quot;consGroup&quot;)\npublic void listen(@Payload ShareObj req) {\n    System.out.println(req);\n    var future = futureMap.get(req.getReq());\n    if (future != null) {\n        future.complete(req);\n        futureMap.remove(req.getReq());\n    }\n}\n</code></pre>\n<p>I couldn't think of a better way than with CompletableFuture to return the response later. But there is a very bad throughput here.\nHow can you solve this problem in another way or in general some other approach?</p>\n"},{"tags":["java","maven","google-app-engine","cors"],"owner":{"account_id":29928182,"reputation":1,"user_id":22935739,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700426905,"creation_date":1700240406,"question_id":77503417,"body_markdown":"I&#39;m currently working on my first game application. My frontend is built in Angular, and the backend is in Java. Local tests have been successful, but when deploying to Google App Engine, I encounter issues.\r\n\r\nThe problem arises when attempting to have the frontend communicate with the backend on Google App Engine. I receive a 504: Gateway Timeout error when doing an API request to one of the endpoints. Locally, everything works fine.\r\n\r\nI suspect there&#39;s a misconfiguration in Google App Engine, possibly related to the file containing all the endpoints. This file is in a folder called &#39;api&#39;. Locally, I configure this with a file which implements `ResourceConfig` and includes `packages(&quot;dance_game.api&quot;)`. The CORS filters are also registered in this file. This file is passed as parameter to the Jetty createServer method, like so:\r\n\r\n```\r\npackage dance_game;\r\n\r\nimport java.net.URI;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport org.glassfish.jersey.jetty.JettyHttpContainerFactory;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\n\r\nimport dance_game.sources.AppResourceConfig;\r\n\r\npublic class DanceGame {\r\n    public static void main(String[] args) {\r\n        ResourceConfig resourceConfig = new AppResourceConfig();\r\n        String baseUri = &quot;http://imposter-dance-game.ew.r.appspot.com/&quot;;\r\n        JettyHttpContainerFactory.createServer(URI.create(baseUri), resourceConfig);\r\n\r\n        try (Connection connection = DatabaseConnection.getConnection()) {\r\n            System.out.println(&quot;Connected to database :D&quot;);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs I said this works locally, but now that I have deployed the backend using GAE, this will not work anymore. Instead of this, I added this file implementing the `ServletContainerInitializer` , which also refers to the file containing the endpoints and registers the CORS filters:\r\n\r\n```\r\npackage dance_game.sources;\r\n\r\nimport java.util.Set;\r\nimport javax.servlet.ServletContainerInitializer;\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRegistration;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\nimport org.glassfish.jersey.servlet.ServletContainer;\r\n\r\npublic class JerseyServletContainerInitializer implements ServletContainerInitializer {\r\n    @Override\r\n    public void onStartup(Set&lt;Class&lt;?&gt;&gt; c, ServletContext ctx) throws ServletException {\r\n        System.out.println(&quot;JerseyServletContainerInitializer executed&quot;);\r\n        ResourceConfig resourceConfig = new ResourceConfig();\r\n        resourceConfig.packages(&quot;dance_game.api&quot;);\r\n        resourceConfig.register(CorsFilter.class);\r\n\r\n        ServletRegistration.Dynamic registration = ctx.addServlet(&quot;JerseyServlet&quot;, new ServletContainer(resourceConfig));\r\n        registration.setLoadOnStartup(1);\r\n        registration.addMapping(&quot;/*&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t see the logging from the file in GAE, so I suspect it is not executed. I have also added the file `javax.servlet.ServletContainerInitializer`  in resources/META-INF/services and it includes:\r\n\r\n```\r\ndance_game.sources.JerseyServletContainerInitializer\r\n```\r\n\r\nAm I forgetting something to let this work?  Please ask for more information when needed.","title":"Errors when performing api request to java backend deployed with Google App Engine","body":"<p>I'm currently working on my first game application. My frontend is built in Angular, and the backend is in Java. Local tests have been successful, but when deploying to Google App Engine, I encounter issues.</p>\n<p>The problem arises when attempting to have the frontend communicate with the backend on Google App Engine. I receive a 504: Gateway Timeout error when doing an API request to one of the endpoints. Locally, everything works fine.</p>\n<p>I suspect there's a misconfiguration in Google App Engine, possibly related to the file containing all the endpoints. This file is in a folder called 'api'. Locally, I configure this with a file which implements <code>ResourceConfig</code> and includes <code>packages(&quot;dance_game.api&quot;)</code>. The CORS filters are also registered in this file. This file is passed as parameter to the Jetty createServer method, like so:</p>\n<pre><code>package dance_game;\n\nimport java.net.URI;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport org.glassfish.jersey.jetty.JettyHttpContainerFactory;\nimport org.glassfish.jersey.server.ResourceConfig;\n\nimport dance_game.sources.AppResourceConfig;\n\npublic class DanceGame {\n    public static void main(String[] args) {\n        ResourceConfig resourceConfig = new AppResourceConfig();\n        String baseUri = &quot;http://imposter-dance-game.ew.r.appspot.com/&quot;;\n        JettyHttpContainerFactory.createServer(URI.create(baseUri), resourceConfig);\n\n        try (Connection connection = DatabaseConnection.getConnection()) {\n            System.out.println(&quot;Connected to database :D&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>As I said this works locally, but now that I have deployed the backend using GAE, this will not work anymore. Instead of this, I added this file implementing the <code>ServletContainerInitializer</code> , which also refers to the file containing the endpoints and registers the CORS filters:</p>\n<pre><code>package dance_game.sources;\n\nimport java.util.Set;\nimport javax.servlet.ServletContainerInitializer;\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRegistration;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.servlet.ServletContainer;\n\npublic class JerseyServletContainerInitializer implements ServletContainerInitializer {\n    @Override\n    public void onStartup(Set&lt;Class&lt;?&gt;&gt; c, ServletContext ctx) throws ServletException {\n        System.out.println(&quot;JerseyServletContainerInitializer executed&quot;);\n        ResourceConfig resourceConfig = new ResourceConfig();\n        resourceConfig.packages(&quot;dance_game.api&quot;);\n        resourceConfig.register(CorsFilter.class);\n\n        ServletRegistration.Dynamic registration = ctx.addServlet(&quot;JerseyServlet&quot;, new ServletContainer(resourceConfig));\n        registration.setLoadOnStartup(1);\n        registration.addMapping(&quot;/*&quot;);\n    }\n}\n</code></pre>\n<p>I don't see the logging from the file in GAE, so I suspect it is not executed. I have also added the file <code>javax.servlet.ServletContainerInitializer</code>  in resources/META-INF/services and it includes:</p>\n<pre><code>dance_game.sources.JerseyServletContainerInitializer\n</code></pre>\n<p>Am I forgetting something to let this work?  Please ask for more information when needed.</p>\n"},{"tags":["java","algorithm","loops","data-structures","return"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700339971,"post_id":77508555,"comment_id":136643408,"body_markdown":"*&quot;1. 2. 3. 4. 5. ...&quot;*: A question on Stack Overflow should be just one question. Now it is too broad.","body":"<i>&quot;1. 2. 3. 4. 5. ...&quot;</i>: A question on Stack Overflow should be just one question. Now it is too broad."},{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1700340586,"post_id":77508555,"comment_id":136643463,"body_markdown":"Example: 3^9. In the first iteration x=3*3= 3^2. In the second iteration x=9*9 = (3^2)^2. Third iteration x=81*81, etc. Using i/2 tries to get closer to &#39;9&#39; by smaller and smaller steps. `resisual` must be taken into account when the exponent is even because of this rounded `i/2` step.","body":"Example: 3^9. In the first iteration x=3*3= 3^2. In the second iteration x=9*9 = (3^2)^2. Third iteration x=81*81, etc. Using i/2 tries to get closer to &#39;9&#39; by smaller and smaller steps. <code>resisual</code> must be taken into account when the exponent is even because of this rounded <code>i&#47;2</code> step."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700424992,"post_id":77508555,"comment_id":136649806,"body_markdown":"DSA means Digital Signature Algorithm, not the name of your course.","body":"DSA means Digital Signature Algorithm, not the name of your course."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1700427872,"post_id":77508555,"comment_id":136650154,"body_markdown":"&quot;I&#39;m a beginner in DSA&quot;. You shouldn&#39;t MUANWU.","body":"&quot;I&#39;m a beginner in DSA&quot;. You shouldn&#39;t MUANWU."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1700427901,"post_id":77508555,"comment_id":136650156,"body_markdown":"MUANWU?  That&#39;s &quot;Make Up Abbreviations No-one Will Understand&quot;.","body":"MUANWU?  That&#39;s &quot;Make Up Abbreviations No-one Will Understand&quot;."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700433745,"post_id":77508555,"comment_id":136650749,"body_markdown":"Or as I always say &#39;please don&#39;t use TLAs here&#39;. @ArfurNarf","body":"Or as I always say &#39;please don&#39;t use TLAs here&#39;. @ArfurNarf"},{"owner":{"account_id":23657874,"reputation":1,"user_id":17685866,"display_name":"Souvik Roy"},"score":0,"creation_date":1700494850,"post_id":77508555,"comment_id":136658419,"body_markdown":"@user207421 sorry for the confusion . I&#39;m quite new to Stack Overflow so I wasn&#39;t aware of this and here in high school and University level DSA is used as an abbreviation for Data Structures and Algorithms. Thanks for the clarification.","body":"@user207421 sorry for the confusion . I&#39;m quite new to Stack Overflow so I wasn&#39;t aware of this and here in high school and University level DSA is used as an abbreviation for Data Structures and Algorithms. Thanks for the clarification."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700420703,"creation_date":1700420703,"answer_id":77512108,"question_id":77508555,"body_markdown":"Let&#39;s try to break down the problem. You have to find out `x^n`. Now, we can have two scenarios,\r\n1. `n` is even i.e. `n = 2k`\r\n```\r\nx^n = x^2k\r\n    = (x^2)^(2k/2)\r\n    = (x^2)^k\r\n```\r\n2. `n` is odd i.e. `n = 2k + 1`\r\n```\r\nx^n = x^(2k+1)\r\n    = x^(2k) * x\r\n    = (x^2)^(2k/2) * x\r\n    = (x^2)^k * x\r\n```\r\nYou can see, in both cases the problem reduces to finding the `(x^2)^k`. But in case of `n` being odd, you have to multiply the result of `(x^2)^k` with `x` (Q5). This extra `x` is your `residual`. You will start with multiplicative identity `1`, because if there is no residual, the result would remain `(x^2)^k` (Q1). If `n` is odd, you update the `residual` by multiplying with `x` (Q3).  \r\n\r\nNow, to the problem of finding `(x^2)^k`. You can see, this is the same problem you began with except `x` is now `x^2` and `n` is now `k` which is `n/2`. I think you can now understand your Q4. You keep doing this until you reach `k = 1`. (`i` in your example)  \r\n\r\nAs `n` is a `long` and `2` is an `int`, `n/2` is basically an Integer Division. Integer division is division in which the fractional part (remainder) is discarded. So, `5/2 = 2`, not `2.5`. I guess that answers Q2.\r\n\r\n\r\n### **Example-1**: `5^4`\r\nAt the beginning of the loop. \r\n```\r\nresidual = 1,\r\nx = 5,\r\ni = 4\r\n```\r\nAs, `4` is even the `if` condition would be false. So, after first iteration of the loop\r\n```\r\nresidual = 1, \r\nx = 5 * 5 = 25,\r\ni = 4 / 2 = 2\r\n```\r\n`2` is even, `if` condition would be false. After second iteration of the loop \r\n```\r\nresidual = 1, \r\nx = 25 * 25 = 625, \r\ni = 2 / 2 = 1\r\n``` \r\nAs `i &gt; 1` is no longer true, the loop terminates. The return value would be `residual * x = 1 * 625 = 625`\r\n\r\n\r\n### **Example-2**: `2^7`\r\nAt the beginning of the loop. \r\n```\r\nresidual = 1, \r\nx = 2, \r\ni = 7\r\n```\r\nAs, `7` is odd the `if` condition would be true. So, after first iteration of the loop\r\n```\r\nresidual = 1 * 2 = 2, \r\nx = 2 * 2 = 4, \r\ni = 7 / 2 = 3\r\n```\r\n`3` is odd, `if` condition would be true. After second iteration of the loop \r\n```\r\nresidual = 2 * 4 = 8, \r\nx = 4 * 4 = 16, \r\ni = 3 / 2 = 1\r\n``` \r\nAs `i &gt; 1` is no longer true, the loop terminates. The return value would be `residual * x = 8 * 16 = 128`\r\n\r\n\r\n","title":"Understanding why a specific algorithm solution works correctly","body":"<p>Let's try to break down the problem. You have to find out <code>x^n</code>. Now, we can have two scenarios,</p>\n<ol>\n<li><code>n</code> is even i.e. <code>n = 2k</code></li>\n</ol>\n<pre><code>x^n = x^2k\n    = (x^2)^(2k/2)\n    = (x^2)^k\n</code></pre>\n<ol start=\"2\">\n<li><code>n</code> is odd i.e. <code>n = 2k + 1</code></li>\n</ol>\n<pre><code>x^n = x^(2k+1)\n    = x^(2k) * x\n    = (x^2)^(2k/2) * x\n    = (x^2)^k * x\n</code></pre>\n<p>You can see, in both cases the problem reduces to finding the <code>(x^2)^k</code>. But in case of <code>n</code> being odd, you have to multiply the result of <code>(x^2)^k</code> with <code>x</code> (Q5). This extra <code>x</code> is your <code>residual</code>. You will start with multiplicative identity <code>1</code>, because if there is no residual, the result would remain <code>(x^2)^k</code> (Q1). If <code>n</code> is odd, you update the <code>residual</code> by multiplying with <code>x</code> (Q3).</p>\n<p>Now, to the problem of finding <code>(x^2)^k</code>. You can see, this is the same problem you began with except <code>x</code> is now <code>x^2</code> and <code>n</code> is now <code>k</code> which is <code>n/2</code>. I think you can now understand your Q4. You keep doing this until you reach <code>k = 1</code>. (<code>i</code> in your example)</p>\n<p>As <code>n</code> is a <code>long</code> and <code>2</code> is an <code>int</code>, <code>n/2</code> is basically an Integer Division. Integer division is division in which the fractional part (remainder) is discarded. So, <code>5/2 = 2</code>, not <code>2.5</code>. I guess that answers Q2.</p>\n<h3><strong>Example-1</strong>: <code>5^4</code></h3>\n<p>At the beginning of the loop.</p>\n<pre><code>residual = 1,\nx = 5,\ni = 4\n</code></pre>\n<p>As, <code>4</code> is even the <code>if</code> condition would be false. So, after first iteration of the loop</p>\n<pre><code>residual = 1, \nx = 5 * 5 = 25,\ni = 4 / 2 = 2\n</code></pre>\n<p><code>2</code> is even, <code>if</code> condition would be false. After second iteration of the loop</p>\n<pre><code>residual = 1, \nx = 25 * 25 = 625, \ni = 2 / 2 = 1\n</code></pre>\n<p>As <code>i &gt; 1</code> is no longer true, the loop terminates. The return value would be <code>residual * x = 1 * 625 = 625</code></p>\n<h3><strong>Example-2</strong>: <code>2^7</code></h3>\n<p>At the beginning of the loop.</p>\n<pre><code>residual = 1, \nx = 2, \ni = 7\n</code></pre>\n<p>As, <code>7</code> is odd the <code>if</code> condition would be true. So, after first iteration of the loop</p>\n<pre><code>residual = 1 * 2 = 2, \nx = 2 * 2 = 4, \ni = 7 / 2 = 3\n</code></pre>\n<p><code>3</code> is odd, <code>if</code> condition would be true. After second iteration of the loop</p>\n<pre><code>residual = 2 * 4 = 8, \nx = 4 * 4 = 16, \ni = 3 / 2 = 1\n</code></pre>\n<p>As <code>i &gt; 1</code> is no longer true, the loop terminates. The return value would be <code>residual * x = 8 * 16 = 128</code></p>\n"}],"owner":{"account_id":23657874,"reputation":1,"user_id":17685866,"display_name":"Souvik Roy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700426499,"creation_date":1700338476,"question_id":77508555,"body_markdown":"I&#39;m a beginner in DSA. I&#39;m using Java for practising DSA. Recently I tried to solve a medium level question on leetcode and when my solution exceeded time limit I checked out other people&#39;s solutions. However I cannot understand a portion of this solution.\r\n\r\nleetcode Question 50) Pow(x,n)\r\n\r\nProblem Statement :\r\n\r\nImplement pow(x, n), which calculates x raised to the power n (i.e., xn).\r\n\r\nExample 1:\r\n\r\n    Input: x = 2.00000, n = 10\r\n    Output: 1024.00000\r\n\r\nExample 2:\r\n\r\n    Input: x = 2.10000, n = 3\r\n    Output: 9.26100\r\n\r\nExample 3:\r\n\r\n    Input: x = 2.00000, n = -2\r\n    Output: 0.25000\r\n    Explanation: 2-2 = 1/22 = 1/4 = 0.25\r\n\r\n \r\n\r\nConstraints:\r\n\r\n    -100.0 &lt; x &lt; 100.0\r\n    -231 &lt;= n &lt;= 231-1\r\n    n is an integer.\r\n    Either x is not zero or n &gt; 0.\r\n    -104 &lt;= xn &lt;= 104\r\n\r\n\r\n\r\nSolution code (successfully submitted):\r\n\r\n\r\n```\r\nclass Solution \r\n {\r\n     public double myPow(double x, int n) \r\n     {\r\n            //edge case\r\n            if(x == 1 || n == 0)\r\n                return 1;\r\n            if(x == 0) \r\n                return 0;\r\n            if(x == -1) \r\n                if (n % 2 == 0)\r\n                    return 1 ;\r\n                else\r\n                    return -1 ;\r\n            if(n == 1) \r\n                return x;\r\n            \r\n            // use long as -Neg max change to Pos max will overflow\r\n            long N = n;\r\n            if(N &lt; 0) \r\n            {\r\n                N = -N;\r\n                x = 1/x;\r\n            }\r\n            return p(x, N); \r\n        }\r\n\t\t\r\n        // for loop solution\r\n\tdouble p(double x, long n) \r\n        {\r\n\t    double resisual = 1;\r\n\t    for(long i = n; i &gt; 1; i = i/2)\r\n            {\r\n\t\tif(i%2 == 1)\r\n                {\r\n                    resisual = resisual * x;\r\n                } \r\n                x = x * x;\r\n\t    }\r\n            return resisual*x;\r\n\t}\r\n}\r\n```\r\n\r\nI can understand the code inside `public double myPow(double x, int n)` function . But cannot understand the latter function double p(double x,long n) :\r\n\r\n```\r\n// for loop solution\r\n\tdouble p(double x, long n) \r\n        {\r\n\t    double resisual = 1;\r\n\t    for(long i = n; i &gt; 1; i = i/2)\r\n            {\r\n\t\tif(i%2 == 1)\r\n                {\r\n                    resisual = resisual * x;\r\n                } \r\n                x = x * x;\r\n\t    }\r\n            return resisual*x;\r\n\t}\r\n```\r\nMy doubts are:\r\n\r\n1) what is `double resisual = 1;` used for exactly? \r\n2) inside the for loop why is i=i/2 being used and how is it not causing a logical error in calculation?\r\n3) why is this code snippet being used?\r\n```\r\nif(i%2 == 1)\r\n{\r\n    resisual = resisual * x;\r\n} \r\n```\r\n4) `x = x * x` - why is x value changed every time instead of something like ans=ans*x?\r\n5) why are we returning `return resisual*x` ?\r\n","title":"Understanding why a specific algorithm solution works correctly","body":"<p>I'm a beginner in DSA. I'm using Java for practising DSA. Recently I tried to solve a medium level question on leetcode and when my solution exceeded time limit I checked out other people's solutions. However I cannot understand a portion of this solution.</p>\n<p>leetcode Question 50) Pow(x,n)</p>\n<p>Problem Statement :</p>\n<p>Implement pow(x, n), which calculates x raised to the power n (i.e., xn).</p>\n<p>Example 1:</p>\n<pre><code>Input: x = 2.00000, n = 10\nOutput: 1024.00000\n</code></pre>\n<p>Example 2:</p>\n<pre><code>Input: x = 2.10000, n = 3\nOutput: 9.26100\n</code></pre>\n<p>Example 3:</p>\n<pre><code>Input: x = 2.00000, n = -2\nOutput: 0.25000\nExplanation: 2-2 = 1/22 = 1/4 = 0.25\n</code></pre>\n<p>Constraints:</p>\n<pre><code>-100.0 &lt; x &lt; 100.0\n-231 &lt;= n &lt;= 231-1\nn is an integer.\nEither x is not zero or n &gt; 0.\n-104 &lt;= xn &lt;= 104\n</code></pre>\n<p>Solution code (successfully submitted):</p>\n<pre><code>class Solution \n {\n     public double myPow(double x, int n) \n     {\n            //edge case\n            if(x == 1 || n == 0)\n                return 1;\n            if(x == 0) \n                return 0;\n            if(x == -1) \n                if (n % 2 == 0)\n                    return 1 ;\n                else\n                    return -1 ;\n            if(n == 1) \n                return x;\n            \n            // use long as -Neg max change to Pos max will overflow\n            long N = n;\n            if(N &lt; 0) \n            {\n                N = -N;\n                x = 1/x;\n            }\n            return p(x, N); \n        }\n        \n        // for loop solution\n    double p(double x, long n) \n        {\n        double resisual = 1;\n        for(long i = n; i &gt; 1; i = i/2)\n            {\n        if(i%2 == 1)\n                {\n                    resisual = resisual * x;\n                } \n                x = x * x;\n        }\n            return resisual*x;\n    }\n}\n</code></pre>\n<p>I can understand the code inside <code>public double myPow(double x, int n)</code> function . But cannot understand the latter function double p(double x,long n) :</p>\n<pre><code>// for loop solution\n    double p(double x, long n) \n        {\n        double resisual = 1;\n        for(long i = n; i &gt; 1; i = i/2)\n            {\n        if(i%2 == 1)\n                {\n                    resisual = resisual * x;\n                } \n                x = x * x;\n        }\n            return resisual*x;\n    }\n</code></pre>\n<p>My doubts are:</p>\n<ol>\n<li>what is <code>double resisual = 1;</code> used for exactly?</li>\n<li>inside the for loop why is i=i/2 being used and how is it not causing a logical error in calculation?</li>\n<li>why is this code snippet being used?</li>\n</ol>\n<pre><code>if(i%2 == 1)\n{\n    resisual = resisual * x;\n} \n</code></pre>\n<ol start=\"4\">\n<li><code>x = x * x</code> - why is x value changed every time instead of something like ans=ans*x?</li>\n<li>why are we returning <code>return resisual*x</code> ?</li>\n</ol>\n"},{"tags":["java","flutter","zip","export"],"owner":{"account_id":27488817,"reputation":11,"user_id":20974589,"display_name":"Hilay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700425957,"creation_date":1696888207,"question_id":77261953,"body_markdown":"I try to export to zip my flutter file, it&#39;s exporting but I get this exception:\r\n\r\nError: java.nio.file.AccessDeniedException: C:\\Users\\name\\Desktop\\app2\\windows\\flutter\\ephemeral\\.plugin_symlinks\\firebase_core","title":"Error: java.nio.file.AccessDeniedException Flutter","body":"<p>I try to export to zip my flutter file, it's exporting but I get this exception:</p>\n<p>Error: java.nio.file.AccessDeniedException: C:\\Users\\name\\Desktop\\app2\\windows\\flutter\\ephemeral.plugin_symlinks\\firebase_core</p>\n"},{"tags":["java","url","connection"],"owner":{"account_id":29943312,"reputation":1,"user_id":22947241,"display_name":"Egor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700426401,"answer_count":0,"score":0,"last_activity_date":1700425924,"creation_date":1700425924,"question_id":77512383,"body_markdown":"I try to connect to web site. This is my code:\r\n```\r\nURL url = new URL(urlPageStr);\r\nHttpURLConnection http = (HttpURLConnection) url.openConnection();\r\n```\r\nBut sometimes I have a message java.net.SocketException: Conection reset\r\nWhat should I do?\r\n\r\nI managed to solve the problem only when I changed my location. But why can&#39;t I fix this problem otherwise? I tried to reduce the number of requests per second, but it didn&#39;t solve my problem.","title":"why do I have a problem when I try to connect to a url (problem message: reset connection)","body":"<p>I try to connect to web site. This is my code:</p>\n<pre><code>URL url = new URL(urlPageStr);\nHttpURLConnection http = (HttpURLConnection) url.openConnection();\n</code></pre>\n<p>But sometimes I have a message java.net.SocketException: Conection reset\nWhat should I do?</p>\n<p>I managed to solve the problem only when I changed my location. But why can't I fix this problem otherwise? I tried to reduce the number of requests per second, but it didn't solve my problem.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1699866189,"post_id":77472687,"comment_id":136580083,"body_markdown":"so you want a Map of `&lt;String, List&lt;Object&gt;&gt;` or `&lt;String, List&lt;?&gt;&gt;` that maps the name of a field to a list of existing values of that field?","body":"so you want a Map of <code>&lt;String, List&lt;Object&gt;&gt;</code> or <code>&lt;String, List&lt;?&gt;&gt;</code> that maps the name of a field to a list of existing values of that field?"},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1699867223,"post_id":77472687,"comment_id":136580242,"body_markdown":"I need map with 2 keys, one with value of list of string another with value of list of ints","body":"I need map with 2 keys, one with value of list of string another with value of list of ints"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1699958640,"creation_date":1699867482,"answer_id":77472852,"question_id":77472687,"body_markdown":"A simple for loop can solve your problem, instead of using stream, I would suggest using this simple readable solution:\r\n\r\n    Map&lt;String, List&lt;Object&gt;&gt; userMap = new HashMap&lt;&gt;();\r\n    userMap.put(&quot;SSNs&quot;, new ArrayList&lt;&gt;());\r\n    userMap.put(&quot;IDs&quot;, new ArrayList&lt;&gt;());\r\n    for (User user: users) {\r\n        userMap.get(&quot;IDs&quot;).add(user.getId());\r\n        userMap.get(&quot;SSNs&quot;).add(user.getSsn());\r\n    }\r\n\r\n### Result\r\n\r\n    {IDs=[1, 2, 3], SSNs=[ssn1, ssn2, ssn3]}","title":"How to convert list to map with multiple keys and value as list using java stream","body":"<p>A simple for loop can solve your problem, instead of using stream, I would suggest using this simple readable solution:</p>\n<pre><code>Map&lt;String, List&lt;Object&gt;&gt; userMap = new HashMap&lt;&gt;();\nuserMap.put(&quot;SSNs&quot;, new ArrayList&lt;&gt;());\nuserMap.put(&quot;IDs&quot;, new ArrayList&lt;&gt;());\nfor (User user: users) {\n    userMap.get(&quot;IDs&quot;).add(user.getId());\n    userMap.get(&quot;SSNs&quot;).add(user.getSsn());\n}\n</code></pre>\n<h3>Result</h3>\n<pre><code>{IDs=[1, 2, 3], SSNs=[ssn1, ssn2, ssn3]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699869217,"creation_date":1699867812,"answer_id":77472886,"question_id":77472687,"body_markdown":"Definitely consider @Youcef&#39;s solution. Trying to do what you wanted really seems to make a mess of things. See below:\r\n\r\n    public class tester {\r\n        public static void main(String[] args) {\r\n            Map&lt;String, Function&lt;User, Object&gt;&gt; fields = new HashMap&lt;&gt;();\r\n            fields.put(&quot;SSNs&quot;, User::getSsn);\r\n            fields.put(&quot;Ids&quot;, User::getId);\r\n            List&lt;User&gt; users = List.of(new User(1, &quot;ssn1&quot;, &quot;user1&quot;), new User(2, &quot;ssn2&quot;, &quot;user2&quot;),\r\n                    new User(3, &quot;ssn3&quot;, &quot;user3&quot;));\r\n            Map&lt;String, List&lt;Object&gt;&gt; map = fields.entrySet().stream().collect(Collectors.toMap(Map.Entry::getKey, e -&gt; users.stream().map(u -&gt; e.getValue().apply(u)).collect(Collectors.toList())));\r\n            System.out.println(map);\r\n    //        Map&lt;String, List&lt;User&gt;&gt; userMap = users.stream().collect(Collectors.groupingBy(User::getSsn));\r\n        }\r\n    }\r\n    \r\nOutput:\r\n\r\n    {SSNs=[ssn1, ssn2, ssn3], Ids=[1, 2, 3]}","title":"How to convert list to map with multiple keys and value as list using java stream","body":"<p>Definitely consider @Youcef's solution. Trying to do what you wanted really seems to make a mess of things. See below:</p>\n<pre><code>public class tester {\n    public static void main(String[] args) {\n        Map&lt;String, Function&lt;User, Object&gt;&gt; fields = new HashMap&lt;&gt;();\n        fields.put(&quot;SSNs&quot;, User::getSsn);\n        fields.put(&quot;Ids&quot;, User::getId);\n        List&lt;User&gt; users = List.of(new User(1, &quot;ssn1&quot;, &quot;user1&quot;), new User(2, &quot;ssn2&quot;, &quot;user2&quot;),\n                new User(3, &quot;ssn3&quot;, &quot;user3&quot;));\n        Map&lt;String, List&lt;Object&gt;&gt; map = fields.entrySet().stream().collect(Collectors.toMap(Map.Entry::getKey, e -&gt; users.stream().map(u -&gt; e.getValue().apply(u)).collect(Collectors.toList())));\n        System.out.println(map);\n//        Map&lt;String, List&lt;User&gt;&gt; userMap = users.stream().collect(Collectors.groupingBy(User::getSsn));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{SSNs=[ssn1, ssn2, ssn3], Ids=[1, 2, 3]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1699875617,"creation_date":1699874733,"answer_id":77473534,"question_id":77472687,"body_markdown":"It’s not necessarily an improvement over [a loop solution] but you can solve the task using the Stream API like this:\r\n\r\n```java\r\nMap&lt;String, List&lt;Object&gt;&gt; result = users.stream()\r\n    .collect(Collectors.teeing(\r\n        Collectors.mapping(User::getId, Collectors.toList()),\r\n        Collectors.mapping(User::getSsn, Collectors.toList()),\r\n        (id, ssn) -&gt; Map.of(&quot;IDs&quot;, id, &quot;SSNs&quot;, ssn)));\r\n```\r\n\r\nAbove example works with Eclipse. It seems, javac has problems with the type inference. The following works on both:\r\n\r\n```java\r\nMap&lt;String, List&lt;Object&gt;&gt; result = users.stream()\r\n    .collect(Collectors.teeing(\r\n        Collectors.mapping(User::getId, Collectors.&lt;Object&gt;toList()),\r\n        Collectors.mapping(User::getSsn, Collectors.&lt;Object&gt;toList()),\r\n        (id, ssn) -&gt; Map.of(&quot;IDs&quot;, id, &quot;SSNs&quot;, ssn)));\r\n```\r\nAlternatively\r\n\r\n```java\r\nMap&lt;String, List&lt;?&gt;&gt; result = users.stream()\r\n    .collect(Collectors.teeing(\r\n        Collectors.mapping(User::getId, Collectors.toList()),\r\n        Collectors.mapping(User::getSsn, Collectors.toList()),\r\n        (id, ssn) -&gt; Map.of(&quot;IDs&quot;, id, &quot;SSNs&quot;, ssn)));\r\n```\r\n\r\n[a loop solution]: https://stackoverflow.com/a/77472852/2711488","title":"How to convert list to map with multiple keys and value as list using java stream","body":"<p>It’s not necessarily an improvement over <a href=\"https://stackoverflow.com/a/77472852/2711488\">a loop solution</a> but you can solve the task using the Stream API like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Object&gt;&gt; result = users.stream()\n    .collect(Collectors.teeing(\n        Collectors.mapping(User::getId, Collectors.toList()),\n        Collectors.mapping(User::getSsn, Collectors.toList()),\n        (id, ssn) -&gt; Map.of(&quot;IDs&quot;, id, &quot;SSNs&quot;, ssn)));\n</code></pre>\n<p>Above example works with Eclipse. It seems, javac has problems with the type inference. The following works on both:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Object&gt;&gt; result = users.stream()\n    .collect(Collectors.teeing(\n        Collectors.mapping(User::getId, Collectors.&lt;Object&gt;toList()),\n        Collectors.mapping(User::getSsn, Collectors.&lt;Object&gt;toList()),\n        (id, ssn) -&gt; Map.of(&quot;IDs&quot;, id, &quot;SSNs&quot;, ssn)));\n</code></pre>\n<p>Alternatively</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;?&gt;&gt; result = users.stream()\n    .collect(Collectors.teeing(\n        Collectors.mapping(User::getId, Collectors.toList()),\n        Collectors.mapping(User::getSsn, Collectors.toList()),\n        (id, ssn) -&gt; Map.of(&quot;IDs&quot;, id, &quot;SSNs&quot;, ssn)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699875046,"creation_date":1699875046,"answer_id":77473568,"question_id":77472687,"body_markdown":"You are asking for a `Map` that has a known constant number of entries (2), and a known constant set of keys (&quot;SSNs&quot; and &quot;IDs&quot;). That sounds as if your code would be much simpler if you just held the values in two separate variables, instead of trying to cram them into a two-entry Map. However, if you really want that, you have to create your lists as `List&lt;Object&gt;` instead of being the more natural `List&lt;String&gt;` and `List&lt;Integer&gt;`.\r\n\r\n        List&lt;Object&gt; ids = users.stream().map(user -&gt; (Object) user.getId()).toList();\r\n        List&lt;Object&gt; ssns = users.stream().map(user -&gt; (Object) user.getSsn()).toList();\r\n        Map&lt;String, List&lt;Object&gt;&gt; userMap = Map.of(&quot;IDs&quot;, ids, &quot;SSNs&quot;, ssns);\r\n","title":"How to convert list to map with multiple keys and value as list using java stream","body":"<p>You are asking for a <code>Map</code> that has a known constant number of entries (2), and a known constant set of keys (&quot;SSNs&quot; and &quot;IDs&quot;). That sounds as if your code would be much simpler if you just held the values in two separate variables, instead of trying to cram them into a two-entry Map. However, if you really want that, you have to create your lists as <code>List&lt;Object&gt;</code> instead of being the more natural <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code>.</p>\n<pre><code>    List&lt;Object&gt; ids = users.stream().map(user -&gt; (Object) user.getId()).toList();\n    List&lt;Object&gt; ssns = users.stream().map(user -&gt; (Object) user.getSsn()).toList();\n    Map&lt;String, List&lt;Object&gt;&gt; userMap = Map.of(&quot;IDs&quot;, ids, &quot;SSNs&quot;, ssns);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16603262,"reputation":99,"user_id":11998360,"display_name":"Ilian Tetradev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699883261,"creation_date":1699879448,"answer_id":77473985,"question_id":77472687,"body_markdown":"I don&#39;t see what benefit you are getting from creating a `Map` here. If you need to pass in both lists to a function you&#39;d be better off creating an object that holds your 2 lists.\r\n\r\n```\r\nclass UsersList {\r\n\r\n    //... getters\r\n\r\n    List&lt;Integer&gt; ids;\r\n    List&lt;String&gt; ssns;\r\n\r\n    public UsersList(List&lt;User&gt; users) {\r\n        this.ids = new ArrayList&lt;&gt;();\r\n        this.ssns = new ArrayList&lt;&gt;();\r\n        users.forEach((u) -&gt; {\r\n            ids.add(u.getId());\r\n            ssns.add(u.getSsn());\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThen you can pass in your list to the constructor and you can access both lists like this:\r\n```\r\n   UsersList usersList = new UsersList(users);\r\n\r\n   System.out.println(&quot;ids: &quot; + usersList.ids);\r\n   System.out.println(&quot;ssns: &quot; + usersList.ssns);\r\n```\r\n\r\nEdit: Updated the constructor to use 1 stream instead.\r\n","title":"How to convert list to map with multiple keys and value as list using java stream","body":"<p>I don't see what benefit you are getting from creating a <code>Map</code> here. If you need to pass in both lists to a function you'd be better off creating an object that holds your 2 lists.</p>\n<pre><code>class UsersList {\n\n    //... getters\n\n    List&lt;Integer&gt; ids;\n    List&lt;String&gt; ssns;\n\n    public UsersList(List&lt;User&gt; users) {\n        this.ids = new ArrayList&lt;&gt;();\n        this.ssns = new ArrayList&lt;&gt;();\n        users.forEach((u) -&gt; {\n            ids.add(u.getId());\n            ssns.add(u.getSsn());\n        });\n    }\n}\n</code></pre>\n<p>Then you can pass in your list to the constructor and you can access both lists like this:</p>\n<pre><code>   UsersList usersList = new UsersList(users);\n\n   System.out.println(&quot;ids: &quot; + usersList.ids);\n   System.out.println(&quot;ssns: &quot; + usersList.ssns);\n</code></pre>\n<p>Edit: Updated the constructor to use 1 stream instead.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700155639,"creation_date":1700154974,"answer_id":77496814,"question_id":77472687,"body_markdown":"Here is another alternative but not as elegant as [Holgers](https://stackoverflow.com/a/77473534/1552534). At a minimum, the idea can be applied to similar requirements. For example, since teeing is limited to two streams (although I believe this limitation could be overcome), you could also put `consumer.accept(Map.entry(&quot;Names&quot;, user.getName()));` as a third entry to be processed with no additional changes required.\r\n\r\n- First, stream the user instances.\r\n- Then, using [mapMulti](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) (introduced in Java 16) in combinaton with `Map.entry`, create an entry that contains the `Map key` and the associated `value` to put in a list. Then using `consumer.accept`, place each entry on the stream.\r\n- Then group the elements by the entry key and map the entry values to a list.\r\n``` \r\nMap&lt;String, List&lt;Object&gt;&gt; result = users.stream()\r\n   .&lt;Entry&lt;String, Object&gt;&gt;mapMulti((user, consumer) -&gt; {\r\n         consumer.accept(Map.entry(&quot;SSNs&quot;, user.getSsn()));\r\n         consumer.accept(Map.entry(&quot;IDs&quot;, user.getId())); \r\n    }).collect(Collectors.groupingBy(Entry::getKey,\r\n        Collectors.mapping(Entry::getValue, Collectors.toList())));\r\n\r\nresult.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nSSNs=[ssn1, ssn2, ssn3]\r\nIDs=[1, 2, 3]\r\n```\r\nNote the type witnessing `&lt;Entry&lt;String, Object&gt;&gt;` for the `mapMulti` method.  In many cases, it is required as the compiler cannot determine the resulting type to be placed on the stream.","title":"How to convert list to map with multiple keys and value as list using java stream","body":"<p>Here is another alternative but not as elegant as <a href=\"https://stackoverflow.com/a/77473534/1552534\">Holgers</a>. At a minimum, the idea can be applied to similar requirements. For example, since teeing is limited to two streams (although I believe this limitation could be overcome), you could also put <code>consumer.accept(Map.entry(&quot;Names&quot;, user.getName()));</code> as a third entry to be processed with no additional changes required.</p>\n<ul>\n<li>First, stream the user instances.</li>\n<li>Then, using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">mapMulti</a> (introduced in Java 16) in combinaton with <code>Map.entry</code>, create an entry that contains the <code>Map key</code> and the associated <code>value</code> to put in a list. Then using <code>consumer.accept</code>, place each entry on the stream.</li>\n<li>Then group the elements by the entry key and map the entry values to a list.</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;Object&gt;&gt; result = users.stream()\n   .&lt;Entry&lt;String, Object&gt;&gt;mapMulti((user, consumer) -&gt; {\n         consumer.accept(Map.entry(&quot;SSNs&quot;, user.getSsn()));\n         consumer.accept(Map.entry(&quot;IDs&quot;, user.getId())); \n    }).collect(Collectors.groupingBy(Entry::getKey,\n        Collectors.mapping(Entry::getValue, Collectors.toList())));\n\nresult.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>SSNs=[ssn1, ssn2, ssn3]\nIDs=[1, 2, 3]\n</code></pre>\n<p>Note the type witnessing <code>&lt;Entry&lt;String, Object&gt;&gt;</code> for the <code>mapMulti</code> method.  In many cases, it is required as the compiler cannot determine the resulting type to be placed on the stream.</p>\n"}],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77473534,"answer_count":6,"score":-1,"last_activity_date":1700425722,"creation_date":1699865633,"question_id":77472687,"body_markdown":"I have list of `Users(id,ssn,name)` and need to convert as Map of list of ssns and list of ids. Could you help with this?\r\n\r\n    List.of(new User(1, &quot;ssn1&quot;, &quot;user1&quot;), new User(2, &quot;ssn2&quot;, &quot;user2&quot;),\tnew User(3, &quot;ssn3&quot;, &quot;user3&quot;))\r\n\r\n------------------------\r\n\r\n    Map with 2 keys(&quot;SSNs&quot;,&quot;IDs&quot;) and list as value\r\n    &quot;SSNs&quot; -  List(&quot;ssn1&quot;,&quot;ssn2&quot;,&quot;ssn3&quot;)\r\n    &quot;IDs&quot; -  List(1,2,3)\r\n\r\n### Code\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tList&lt;User&gt; users = List.of(new User(1, &quot;ssn1&quot;, &quot;user1&quot;), new User(2, &quot;ssn2&quot;, &quot;user2&quot;),\r\n    \t\t\t\tnew User(3, &quot;ssn3&quot;, &quot;user3&quot;));\r\n    \r\n    \t\tMap&lt;String, List&lt;Object&gt;&gt; userMap = users.stream().collect(Collectors.groupingBy(User::getSsn));\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class User {\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic String getSsn() {\r\n    \t\treturn ssn;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tint id;\r\n    \tString ssn;\r\n    \tString name;\r\n    \r\n    \tpublic User(int id, String ssn, String name) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.ssn = ssn;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n**Update:** Updated `List&lt;User&gt;` to `List&lt;Object&gt;`.","title":"How to convert list to map with multiple keys and value as list using java stream","body":"<p>I have list of <code>Users(id,ssn,name)</code> and need to convert as Map of list of ssns and list of ids. Could you help with this?</p>\n<pre><code>List.of(new User(1, &quot;ssn1&quot;, &quot;user1&quot;), new User(2, &quot;ssn2&quot;, &quot;user2&quot;), new User(3, &quot;ssn3&quot;, &quot;user3&quot;))\n</code></pre>\n<hr />\n<pre><code>Map with 2 keys(&quot;SSNs&quot;,&quot;IDs&quot;) and list as value\n&quot;SSNs&quot; -  List(&quot;ssn1&quot;,&quot;ssn2&quot;,&quot;ssn3&quot;)\n&quot;IDs&quot; -  List(1,2,3)\n</code></pre>\n<h3>Code</h3>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        List&lt;User&gt; users = List.of(new User(1, &quot;ssn1&quot;, &quot;user1&quot;), new User(2, &quot;ssn2&quot;, &quot;user2&quot;),\n                new User(3, &quot;ssn3&quot;, &quot;user3&quot;));\n\n        Map&lt;String, List&lt;Object&gt;&gt; userMap = users.stream().collect(Collectors.groupingBy(User::getSsn));\n    \n    }\n\n}\n\nclass User {\n    public int getId() {\n        return id;\n    }\n\n    public String getSsn() {\n        return ssn;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    int id;\n    String ssn;\n    String name;\n\n    public User(int id, String ssn, String name) {\n        this.id = id;\n        this.ssn = ssn;\n        this.name = name;\n    }\n}\n</code></pre>\n<p><strong>Update:</strong> Updated <code>List&lt;User&gt;</code> to <code>List&lt;Object&gt;</code>.</p>\n"},{"tags":["java","maven","gradle","backwards-compatibility"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1700431603,"post_id":77512359,"comment_id":136650535,"body_markdown":"First use `&lt;maven.compiler.release&gt;..&lt;/maven.compiler.release&gt;` ... the most important one...What do you mean by the `maximum`?","body":"First use <code>&lt;maven.compiler.release&gt;..&lt;&#47;maven.compiler.release&gt;</code> ... the most important one...What do you mean by the <code>maximum</code>?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700438422,"post_id":77512359,"comment_id":136651132,"body_markdown":"Just compile and run your tests with the newest Java version as well - you have tests, right?","body":"Just compile and run your tests with the newest Java version as well - you have tests, right?"},{"owner":{"account_id":408696,"reputation":66310,"user_id":779513,"accept_rate":66,"display_name":"Justin Pihony"},"score":0,"creation_date":1700438570,"post_id":77512359,"comment_id":136651142,"body_markdown":"Maximum, as in we KNOW that it works with Java 11, support Java 8, but cannot guarantee Java 17. So the maximum is Java 11 in that scenario.","body":"Maximum, as in we KNOW that it works with Java 11, support Java 8, but cannot guarantee Java 17. So the maximum is Java 11 in that scenario."},{"owner":{"account_id":408696,"reputation":66310,"user_id":779513,"accept_rate":66,"display_name":"Justin Pihony"},"score":0,"creation_date":1700438771,"post_id":77512359,"comment_id":136651162,"body_markdown":"@dan1st I was trying to avoid the double CPU for builds - having to run the tests across the max on top of the minimum.","body":"@dan1st I was trying to avoid the double CPU for builds - having to run the tests across the max on top of the minimum."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700439320,"post_id":77512359,"comment_id":136651206,"body_markdown":"You can use `--release`/`maven.compiler.release` - but that can miss some stuff. If you want to be sure, you need to run it multiple times.","body":"You can use <code>--release</code>/<code>maven.compiler.release</code> - but that can miss some stuff. If you want to be sure, you need to run it multiple times."}],"owner":{"account_id":408696,"reputation":66310,"user_id":779513,"accept_rate":66,"display_name":"Justin Pihony"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700425518,"creation_date":1700425518,"question_id":77512359,"body_markdown":"I am helping a library upgrade to Java 11 and 17, but the library must still work with Java 8. Is there a way to do this so that the compiler/tests will catch any regressions? It seems that toolchains and source/target compatibility can set a minimum, but I also want to verify the maximum? Currently it seems to me that I would need to have my compile/tests run on the higher version in CI before releasing with the older target.","title":"How to enable backwards compatibility but make sure my library works on a newer version of java","body":"<p>I am helping a library upgrade to Java 11 and 17, but the library must still work with Java 8. Is there a way to do this so that the compiler/tests will catch any regressions? It seems that toolchains and source/target compatibility can set a minimum, but I also want to verify the maximum? Currently it seems to me that I would need to have my compile/tests run on the higher version in CI before releasing with the older target.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":5284809,"reputation":11024,"user_id":4219144,"display_name":"eckig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416726854,"creation_date":1416726854,"answer_id":27086524,"question_id":27085431,"body_markdown":"If you want to remove the button-like optics completely, I would suggest you to remove all existing styles and add your own style class as the only style class:\r\n\r\n    ToggleButton toggleButton = new ToggleButton(&quot;Login&quot;);\r\n    toggleButton.getStyleClass().setAll(&quot;my-custom-button&quot;);\r\n\r\nNow you can apply only the styles you need:\r\n\r\n    .my-custom-button {}\r\n\r\n","title":"JavaFX ToggleButton Shadow","body":"<p>If you want to remove the button-like optics completely, I would suggest you to remove all existing styles and add your own style class as the only style class:</p>\n\n<pre><code>ToggleButton toggleButton = new ToggleButton(\"Login\");\ntoggleButton.getStyleClass().setAll(\"my-custom-button\");\n</code></pre>\n\n<p>Now you can apply only the styles you need:</p>\n\n<pre><code>.my-custom-button {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1416749093,"creation_date":1416740964,"answer_id":27088286,"question_id":27085431,"body_markdown":"I wouldn&#39;t recommend modifing the main color palette (`-fx-base` and others) for just one control. This makes sense if you&#39;re trying to style all of them. \r\n\r\nLooking at how is defined in `modena.css`:\r\n\r\n    .toggle-button {\r\n        -fx-background-color: -fx-shadow-highlight-color, -fx-outer-border, \r\n            -fx-inner-border, -fx-body-color;\r\n        -fx-text-fill: -fx-text-base-color;\r\n    }\r\n    .toggle-button:selected {\r\n        -fx-background-color: -fx-shadow-highlight-color,\r\n            linear-gradient(to bottom, derive(-fx-outer-border, -20%), ...),\r\n            linear-gradient(to bottom, derive(-fx-color, -22%) 0%, ...);\r\n    }\r\n    .toggle-button:selected:focused {\r\n        -fx-background-color: -fx-focus-color, \r\n            linear-gradient(to bottom, derive(-fx-color, -22%) 0%, ...),\r\n            -fx-faint-focus-color, linear-gradient(to bottom, derive(-fx-color, -22%) 0%, ...);\r\n    }\r\n\r\nyou will need to change all of them: `-fx-shadow-highlight-color`, `-fx-outer-border`,...\r\n\r\n\r\nInstead, I&#39;ll just override the style of the toggle button with your requirements:\r\n\r\n    .toggle-button,\r\n    .toggle-button:focused,\r\n    .toggle-button:selected,\r\n    .toggle-button:selected:focused {\r\n        -fx-background-color: transparent;\r\n        -fx-text-fill: black;\r\n    }\r\n\r\n**NOTE** I&#39;ve edited my answer since, as @eckig suggests, it&#39;s redundant to apply the same color to the different comma separated values.","title":"JavaFX ToggleButton Shadow","body":"<p>I wouldn't recommend modifing the main color palette (<code>-fx-base</code> and others) for just one control. This makes sense if you're trying to style all of them. </p>\n\n<p>Looking at how is defined in <code>modena.css</code>:</p>\n\n<pre><code>.toggle-button {\n    -fx-background-color: -fx-shadow-highlight-color, -fx-outer-border, \n        -fx-inner-border, -fx-body-color;\n    -fx-text-fill: -fx-text-base-color;\n}\n.toggle-button:selected {\n    -fx-background-color: -fx-shadow-highlight-color,\n        linear-gradient(to bottom, derive(-fx-outer-border, -20%), ...),\n        linear-gradient(to bottom, derive(-fx-color, -22%) 0%, ...);\n}\n.toggle-button:selected:focused {\n    -fx-background-color: -fx-focus-color, \n        linear-gradient(to bottom, derive(-fx-color, -22%) 0%, ...),\n        -fx-faint-focus-color, linear-gradient(to bottom, derive(-fx-color, -22%) 0%, ...);\n}\n</code></pre>\n\n<p>you will need to change all of them: <code>-fx-shadow-highlight-color</code>, <code>-fx-outer-border</code>,...</p>\n\n<p>Instead, I'll just override the style of the toggle button with your requirements:</p>\n\n<pre><code>.toggle-button,\n.toggle-button:focused,\n.toggle-button:selected,\n.toggle-button:selected:focused {\n    -fx-background-color: transparent;\n    -fx-text-fill: black;\n}\n</code></pre>\n\n<p><strong>NOTE</strong> I've edited my answer since, as @eckig suggests, it's redundant to apply the same color to the different comma separated values.</p>\n"},{"tags":[],"owner":{"account_id":5376865,"reputation":59,"user_id":4283432,"accept_rate":20,"display_name":"Bart"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1416766647,"creation_date":1416766647,"answer_id":27092536,"question_id":27085431,"body_markdown":"Special Thanks to both of you, Jose &amp; Eckig. I managed to edit my code with both your suggestions and it fixed the issue right away!\r\n\r\nHere is a reference for anyone in the future.\r\n\r\nButton Code\r\n\r\n    ToggleButton button= new ToggleButton(&quot;Login&quot;);\r\n    button.getStyleClass().add(&quot;custom&quot;);\r\n\r\nCSS\r\n\r\n    .custom,\r\n\t    custom:selected {\r\n        -fx-background-color: transparent;\r\n        -fx-text-fill: black;\r\n    }","title":"JavaFX ToggleButton Shadow","body":"<p>Special Thanks to both of you, Jose &amp; Eckig. I managed to edit my code with both your suggestions and it fixed the issue right away!</p>\n\n<p>Here is a reference for anyone in the future.</p>\n\n<p>Button Code</p>\n\n<pre><code>ToggleButton button= new ToggleButton(\"Login\");\nbutton.getStyleClass().add(\"custom\");\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>.custom,\n    custom:selected {\n    -fx-background-color: transparent;\n    -fx-text-fill: black;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25882548,"reputation":1,"user_id":19611330,"display_name":"Dima Kmentsynskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700425505,"creation_date":1700227538,"answer_id":77502013,"question_id":27085431,"body_markdown":"Please try this CSS:\r\n\r\n    .toggle-button {\r\n        -fx-text-fill: black;\r\n        -fx-base: transparent;\r\n        -fx-background: transparent;\r\n        -fx-focus-color: transparent;\r\n        -fx-border-color: transparent;\r\n        -fx-effect: null;\r\n        -fx-effect: dropshadow( three-pass-box ,rgba(0,0,0,10) , 20, 0.0 , 0 , 1);\r\n    }\r\n    \r\n    .toggle-button:selected {\r\n        -fx-text-fill: black;\r\n        -fx-base: transparent;\r\n        -fx-background: transparent;\r\n        -fx-focus-color: transparent;\r\n        -fx-border-color: transparent;\r\n        -fx-effect: null;\r\n    }","title":"JavaFX ToggleButton Shadow","body":"<p>Please try this CSS:</p>\n<pre><code>.toggle-button {\n    -fx-text-fill: black;\n    -fx-base: transparent;\n    -fx-background: transparent;\n    -fx-focus-color: transparent;\n    -fx-border-color: transparent;\n    -fx-effect: null;\n    -fx-effect: dropshadow( three-pass-box ,rgba(0,0,0,10) , 20, 0.0 , 0 , 1);\n}\n\n.toggle-button:selected {\n    -fx-text-fill: black;\n    -fx-base: transparent;\n    -fx-background: transparent;\n    -fx-focus-color: transparent;\n    -fx-border-color: transparent;\n    -fx-effect: null;\n}\n</code></pre>\n"}],"owner":{"account_id":5376865,"reputation":59,"user_id":4283432,"accept_rate":20,"display_name":"Bart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13479,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1700425505,"creation_date":1416714940,"question_id":27085431,"body_markdown":"Hello Fellow StackOverflow Users, this is my first post/question and hopefully i&#39;m not violating any rules/ect.\r\n\r\nUnfortunately I am unable to post a picture, but I will put this here for a reference.\r\nhttps://i.stack.imgur.com/nOPAL.jpg (Before Button Click)\r\n\r\nOT: On the picture above, I am attempting to make the button&#39;s background completely transparent besides the text.\r\n\r\nhttps://i.stack.imgur.com/duocU.jpg (After Button Click)\r\n\r\nEverything works out until I click the button then shadows appear on the side.\r\n\r\nHere is what I have tried...\r\n\r\nCSS\r\n\r\n    .toggle-button {\r\n        -fx-text-fill: black;\r\n        -fx-base: transparent;\r\n        -fx-background: transparent;\r\n        -fx-focus-color: transparent;\r\n        -fx-border-color: transparent;\r\n        -fx-effect: null;\r\n    }\r\n    \r\n    .toggle-button:selected {\r\n        -fx-text-fill: black;\r\n        -fx-base: transparent;\r\n        -fx-background: transparent;\r\n        -fx-focus-color: transparent;\r\n        -fx-border-color: transparent;\r\n        -fx-effect: null;\r\n    }\r\n\r\nThe java code is just a plain simple application with a ToggleButton.\r\n\r\nSpecial Thanks in Advance!\r\n- Bart","title":"JavaFX ToggleButton Shadow","body":"<p>Hello Fellow StackOverflow Users, this is my first post/question and hopefully i'm not violating any rules/ect.</p>\n\n<p>Unfortunately I am unable to post a picture, but I will put this here for a reference.\n<a href=\"https://i.stack.imgur.com/nOPAL.jpg\" rel=\"nofollow\">https://i.stack.imgur.com/nOPAL.jpg</a> (Before Button Click)</p>\n\n<p>OT: On the picture above, I am attempting to make the button's background completely transparent besides the text.</p>\n\n<p><a href=\"https://i.stack.imgur.com/duocU.jpg\" rel=\"nofollow\">https://i.stack.imgur.com/duocU.jpg</a> (After Button Click)</p>\n\n<p>Everything works out until I click the button then shadows appear on the side.</p>\n\n<p>Here is what I have tried...</p>\n\n<p>CSS</p>\n\n<pre><code>.toggle-button {\n    -fx-text-fill: black;\n    -fx-base: transparent;\n    -fx-background: transparent;\n    -fx-focus-color: transparent;\n    -fx-border-color: transparent;\n    -fx-effect: null;\n}\n\n.toggle-button:selected {\n    -fx-text-fill: black;\n    -fx-base: transparent;\n    -fx-background: transparent;\n    -fx-focus-color: transparent;\n    -fx-border-color: transparent;\n    -fx-effect: null;\n}\n</code></pre>\n\n<p>The java code is just a plain simple application with a ToggleButton.</p>\n\n<p>Special Thanks in Advance!\n- Bart</p>\n"},{"tags":["java","locking","microservices","distributed","vert.x"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1587215745,"post_id":61289513,"comment_id":108425037,"body_markdown":"`SharedData.Lock()` would let you create a dedicated connection to your legacy api, but of course it won&#39;t forbid create multiple instances of the same verticle.","body":"<code>SharedData.Lock()</code> would let you create a dedicated connection to your legacy api, but of course it won&#39;t forbid create multiple instances of the same verticle."},{"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"score":0,"creation_date":1587291669,"post_id":61289513,"comment_id":108448066,"body_markdown":"I would recommend running this on a separate server/pod, as having &quot;exactly one&quot; is not something Vert.x attempts to solve.","body":"I would recommend running this on a separate server/pod, as having &quot;exactly one&quot; is not something Vert.x attempts to solve."}],"answers":[{"tags":[],"owner":{"account_id":9127694,"reputation":1,"user_id":6790686,"display_name":"Gorgi Georgievski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587374566,"creation_date":1587374566,"answer_id":61319038,"question_id":61289513,"body_markdown":"You don&#39;t need single verticle , leave that verticle to be just stateless and apply your connections in Proxy service - after you can register that service as  HttpEndpoint , Evenbus , Message or JDBC service types and you will have single point of comminication with db or external http source.","title":"Vert.x - limit single instance verticle in all cluster","body":"<p>You don't need single verticle , leave that verticle to be just stateless and apply your connections in Proxy service - after you can register that service as  HttpEndpoint , Evenbus , Message or JDBC service types and you will have single point of comminication with db or external http source.</p>\n"}],"owner":{"account_id":4197289,"reputation":4830,"user_id":5235392,"display_name":"shahaf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700425445,"creation_date":1587214738,"question_id":61289513,"body_markdown":"I have a `Vert.x` application with several verticls to interact with different **buses** and **dbs** (mongo, redis, rabbit, kafka and such)\r\n\r\namong those there is a verticle dedicated for communication with external api (very old) which allow for one persistent connection and from a single (pre defined) source\r\n\r\nI&#39;m deploying mutli instances of vertx with the same code (auto-scale) and make them act as a cluster, using `hazelcast` as a cluster manager\r\n\r\nwhat is the best practice for limiting the creation of the `external-api verticle` to only single instance, I looked at:\r\n\r\n- `SharedData.Lock()` - but I&#39;ll need to wrap it with an async spinning lock logic\r\n- `High Availability` - great for termination and auto-scaling but doesn&#39;t force activity of a single verticle\r\n- `worker verticle` - to create 1 worker verticle in each instance\r\n\r\nI could use a mix of all the above and create the desired functionality, but I seems some what complex...\r\n\r\nshould I separate my verticle to a different server or there is some simpler solution I haven&#39;t thought of yet?","title":"Vert.x - limit single instance verticle in all cluster","body":"<p>I have a <code>Vert.x</code> application with several verticls to interact with different <strong>buses</strong> and <strong>dbs</strong> (mongo, redis, rabbit, kafka and such)</p>\n\n<p>among those there is a verticle dedicated for communication with external api (very old) which allow for one persistent connection and from a single (pre defined) source</p>\n\n<p>I'm deploying mutli instances of vertx with the same code (auto-scale) and make them act as a cluster, using <code>hazelcast</code> as a cluster manager</p>\n\n<p>what is the best practice for limiting the creation of the <code>external-api verticle</code> to only single instance, I looked at:</p>\n\n<ul>\n<li><code>SharedData.Lock()</code> - but I'll need to wrap it with an async spinning lock logic</li>\n<li><code>High Availability</code> - great for termination and auto-scaling but doesn't force activity of a single verticle</li>\n<li><code>worker verticle</code> - to create 1 worker verticle in each instance</li>\n</ul>\n\n<p>I could use a mix of all the above and create the desired functionality, but I seems some what complex...</p>\n\n<p>should I separate my verticle to a different server or there is some simpler solution I haven't thought of yet?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1359375516,"post_id":14560832,"comment_id":20317127,"body_markdown":"Maybe show the .classpath file contents?","body":"Maybe show the .classpath file contents?"},{"owner":{"account_id":162274,"reputation":2898,"user_id":383632,"accept_rate":100,"display_name":"Bartvbl"},"score":0,"creation_date":1359377666,"post_id":14560832,"comment_id":20318228,"body_markdown":"@nitind: I added the .classpath file. I compared it to the classpath files of some other projects, and it looks normal.","body":"@nitind: I added the .classpath file. I compared it to the classpath files of some other projects, and it looks normal."}],"answers":[{"tags":[],"owner":{"account_id":2273309,"reputation":561,"user_id":2000187,"accept_rate":75,"display_name":"vicky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1584017013,"creation_date":1359376545,"answer_id":14562184,"question_id":14560832,"body_markdown":"Try this:\r\n\r\nGo to *Preferences &#187; Java &#187; Editor &#187; Content Assist &#187; Advanced*.\r\n\r\nMake sure *Other Java Proposals* is ticked/checked.\r\n\r\nIf that does not work simply close the project and reopen it.","title":"Eclipse import suggestions have disappeared","body":"<p>Try this:</p>\n\n<p>Go to <em>Preferences » Java » Editor » Content Assist » Advanced</em>.</p>\n\n<p>Make sure <em>Other Java Proposals</em> is ticked/checked.</p>\n\n<p>If that does not work simply close the project and reopen it.</p>\n"},{"tags":[],"owner":{"account_id":11289499,"reputation":11,"user_id":8980121,"display_name":"Mark Macheta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584016220,"creation_date":1584016220,"answer_id":60654192,"question_id":14560832,"body_markdown":"&gt; i have search alot but i think you should try eclipse shortcut to fix all imports, if it works. shortcut is &quot;CTRL+SHIFT+O&quot; – vicky\r\n\r\nI couldn&#39;t find *Other Java Proposals*, however trying the above worked for me.","title":"Eclipse import suggestions have disappeared","body":"<blockquote>\n  <p>i have search alot but i think you should try eclipse shortcut to fix all imports, if it works. shortcut is \"CTRL+SHIFT+O\" – vicky</p>\n</blockquote>\n\n<p>I couldn't find <em>Other Java Proposals</em>, however trying the above worked for me.</p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584679713,"creation_date":1584679713,"answer_id":60768707,"question_id":14560832,"body_markdown":"Updating @vicky&#39;s answer for 2020, in Eclipse, to activate the automatic creation of imports for Alexa skills, make sure on the Windows -&gt; Preferences -&gt; Java -&gt; Editor -&gt; Content Assist -&gt; Advanced, that all of the Java options under the Default Proposal Kinds are checked.\r\n\r\n[![Advanced Content Assist][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cRiGq.png","title":"Eclipse import suggestions have disappeared","body":"<p>Updating @vicky's answer for 2020, in Eclipse, to activate the automatic creation of imports for Alexa skills, make sure on the Windows -> Preferences -> Java -> Editor -> Content Assist -> Advanced, that all of the Java options under the Default Proposal Kinds are checked.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cRiGq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cRiGq.png\" alt=\"Advanced Content Assist\"></a></p>\n"},{"tags":[],"owner":{"account_id":18395086,"reputation":1,"user_id":13399782,"display_name":"Aman Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683522318,"creation_date":1683522318,"answer_id":76197640,"question_id":14560832,"body_markdown":"If the issue arises automatically then just restart the eclipse it will work.","title":"Eclipse import suggestions have disappeared","body":"<p>If the issue arises automatically then just restart the eclipse it will work.</p>\n"},{"tags":[],"owner":{"account_id":29930757,"reputation":1,"user_id":22937664,"display_name":"Wood2Dust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700425429,"creation_date":1700265766,"answer_id":77505178,"question_id":14560832,"body_markdown":"Go to &quot;Preferences &#187; Java &#187; Editor &#187; Content Assist&quot; \r\nUnder &quot;Insertion, Add import instead of qualfied name&quot;:\r\n\r\nUncheck &quot;Use static imports&quot;.\r\n\r\nI was coding:\r\n\r\n    FileInputStream instm = new FileInputStream(configpath);\r\n\r\nNow Eclipse suggests `import java.io.FileInputStream;`.","title":"Eclipse import suggestions have disappeared","body":"<p>Go to &quot;Preferences » Java » Editor » Content Assist&quot;\nUnder &quot;Insertion, Add import instead of qualfied name&quot;:</p>\n<p>Uncheck &quot;Use static imports&quot;.</p>\n<p>I was coding:</p>\n<pre><code>FileInputStream instm = new FileInputStream(configpath);\n</code></pre>\n<p>Now Eclipse suggests <code>import java.io.FileInputStream;</code>.</p>\n"}],"owner":{"account_id":162274,"reputation":2898,"user_id":383632,"accept_rate":100,"display_name":"Bartvbl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15191,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":14562184,"answer_count":5,"score":6,"last_activity_date":1700425429,"creation_date":1359371823,"question_id":14560832,"body_markdown":"I have upgraded a couple of days ago to eclipse 4.2, and am working on a project that is tracked by git using the eGit plugin.\r\n\r\nSuddenly, I think it must have been right after a commit with a push, the automatic import hints have completely forgotten about the classes of my project. All it can give hints for are the java standard library classes. \r\n\r\nI&#39;ve tried restarting eclipse, as well as cleaning the project, validating it, performing a pull, and looking at the .classpath file (which didn&#39;t look particularly odd to me).\r\n\r\nIf you look at the screenshot; in the package explorer you can see a class listed named SceneNode&quot;. On the right there is a file I was working on, which is in the same project, but which is missing the import option, which should be there. \r\n\r\nManually writing the import statement fixes the problem, but since I&#39;m lazy I want my import options back. Has anyone else had this problem?\r\n\r\n![my problem][1]\r\n\r\nedit: here&#39;s my .classpath file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;jars/jinput.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;jars/lwjgl.jar&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY&quot; value=&quot;ORRE-v2/natives&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;jars/lzma.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;jars/slick-util.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;jars/slick.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;jars/xom-1.2.8.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.6&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.junit.JUNIT_CONTAINER/4&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;jars/lwjgl_util.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/w79uT.png","title":"Eclipse import suggestions have disappeared","body":"<p>I have upgraded a couple of days ago to eclipse 4.2, and am working on a project that is tracked by git using the eGit plugin.</p>\n\n<p>Suddenly, I think it must have been right after a commit with a push, the automatic import hints have completely forgotten about the classes of my project. All it can give hints for are the java standard library classes. </p>\n\n<p>I've tried restarting eclipse, as well as cleaning the project, validating it, performing a pull, and looking at the .classpath file (which didn't look particularly odd to me).</p>\n\n<p>If you look at the screenshot; in the package explorer you can see a class listed named SceneNode\". On the right there is a file I was working on, which is in the same project, but which is missing the import option, which should be there. </p>\n\n<p>Manually writing the import statement fixes the problem, but since I'm lazy I want my import options back. Has anyone else had this problem?</p>\n\n<p><img src=\"https://i.stack.imgur.com/w79uT.png\" alt=\"my problem\"></p>\n\n<p>edit: here's my .classpath file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n&lt;classpathentry kind=\"src\" path=\"src\"/&gt;\n&lt;classpathentry kind=\"lib\" path=\"jars/jinput.jar\"/&gt;\n&lt;classpathentry kind=\"lib\" path=\"jars/lwjgl.jar\"&gt;\n    &lt;attributes&gt;\n        &lt;attribute name=\"org.eclipse.jdt.launching.CLASSPATH_ATTR_LIBRARY_PATH_ENTRY\" value=\"ORRE-v2/natives\"/&gt;\n    &lt;/attributes&gt;\n&lt;/classpathentry&gt;\n&lt;classpathentry kind=\"lib\" path=\"jars/lzma.jar\"/&gt;\n&lt;classpathentry kind=\"lib\" path=\"jars/slick-util.jar\"/&gt;\n&lt;classpathentry kind=\"lib\" path=\"jars/slick.jar\"/&gt;\n&lt;classpathentry kind=\"lib\" path=\"jars/xom-1.2.8.jar\"/&gt;\n&lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.6\"/&gt;\n&lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.junit.JUNIT_CONTAINER/4\"/&gt;\n&lt;classpathentry kind=\"lib\" path=\"jars/lwjgl_util.jar\"/&gt;\n&lt;classpathentry kind=\"output\" path=\"bin\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":2,"creation_date":1556781600,"post_id":55947311,"comment_id":98547456,"body_markdown":"`return` in the `catch` is called before the `finally` clause is executed. So you can&#39;t change the reference of the `String` and expect to return it.","body":"<code>return</code> in the <code>catch</code> is called before the <code>finally</code> clause is executed. So you can&#39;t change the reference of the <code>String</code> and expect to return it."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556781628,"creation_date":1556781309,"answer_id":55947363,"question_id":55947311,"body_markdown":"When the finally block performs `buffer=buffer.concat(&quot;vvvv&quot;);`, it assigns a new `String` to the local variable `buffer`, but the method returns the original `String` instance that was referenced by `buffer` when the `return buffer;` statement was evaluated.\r\n\r\nWhen the finally block performs `buffer.append(&quot;vvvv&quot;)`, it mutates the same instance that is returned in the `return buffer` statement, so you see the mutated instance returned from the method.\r\n\r\nThe behavior of the first method is equivalent to:\r\n\r\n    StringBuffer buffer = new StringBuffer();\r\n    buffer.append(&quot;aa&quot;);\r\n    StringBuffer returned = buffer;\r\n    buffer.append(&quot;vvvv&quot;); // mutates the same instance that will be returned\r\n    return returned;\r\n\r\nThe behavior of the second method is equivalent to:\r\n\r\n    String buffer = new String();\r\n    buffer=buffer.concat(&quot;aa&quot;);\r\n    String returned = buffer;\r\n    buffer=buffer.concat(&quot;vvvv&quot;); // doesn&#39;t affect the returned instance\r\n    return returned;\r\n","title":"String - why there are there different return values in both the cases?","body":"<p>When the finally block performs <code>buffer=buffer.concat(\"vvvv\");</code>, it assigns a new <code>String</code> to the local variable <code>buffer</code>, but the method returns the original <code>String</code> instance that was referenced by <code>buffer</code> when the <code>return buffer;</code> statement was evaluated.</p>\n\n<p>When the finally block performs <code>buffer.append(\"vvvv\")</code>, it mutates the same instance that is returned in the <code>return buffer</code> statement, so you see the mutated instance returned from the method.</p>\n\n<p>The behavior of the first method is equivalent to:</p>\n\n<pre><code>StringBuffer buffer = new StringBuffer();\nbuffer.append(\"aa\");\nStringBuffer returned = buffer;\nbuffer.append(\"vvvv\"); // mutates the same instance that will be returned\nreturn returned;\n</code></pre>\n\n<p>The behavior of the second method is equivalent to:</p>\n\n<pre><code>String buffer = new String();\nbuffer=buffer.concat(\"aa\");\nString returned = buffer;\nbuffer=buffer.concat(\"vvvv\"); // doesn't affect the returned instance\nreturn returned;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556781331,"creation_date":1556781331,"answer_id":55947367,"question_id":55947311,"body_markdown":"`return buffer;` remembers instance to return. `buffer=buffer.concat(&quot;vvvv&quot;)` create new instance of string, but it never used.\r\n","title":"String - why there are there different return values in both the cases?","body":"<p><code>return buffer;</code> remembers instance to return. <code>buffer=buffer.concat(\"vvvv\")</code> create new instance of string, but it never used.</p>\n"},{"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556781335,"creation_date":1556781335,"answer_id":55947368,"question_id":55947311,"body_markdown":"The `finally` block gets invoked *after* the value of `buffer` is read in `return buffer;`. Any changes to the variable `buffer` itself are not returned.\r\n\r\nIn the case where `buffer` is a StringBuffer, you are not changing the value of `buffer`, but instead you are changing the *content* of `buffer`, and that can be seen by the caller of the method.\r\n\r\nBut in the case where `buffer` is a String, you cannot do the same. String is immutable.","title":"String - why there are there different return values in both the cases?","body":"<p>The <code>finally</code> block gets invoked <em>after</em> the value of <code>buffer</code> is read in <code>return buffer;</code>. Any changes to the variable <code>buffer</code> itself are not returned.</p>\n\n<p>In the case where <code>buffer</code> is a StringBuffer, you are not changing the value of <code>buffer</code>, but instead you are changing the <em>content</em> of <code>buffer</code>, and that can be seen by the caller of the method.</p>\n\n<p>But in the case where <code>buffer</code> is a String, you cannot do the same. String is immutable.</p>\n"},{"tags":[],"owner":{"account_id":4646436,"reputation":67,"user_id":3764591,"display_name":"Turbo Dynamics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556781995,"creation_date":1556781995,"answer_id":55947543,"question_id":55947311,"body_markdown":"In StringBuffer case it implicitly knows the reference of the object when object value got changed in finally block it understood automatically.\r\nBut in case of String you are pointing to the reference and then concatenating the String, because String is immutable.","title":"String - why there are there different return values in both the cases?","body":"<p>In StringBuffer case it implicitly knows the reference of the object when object value got changed in finally block it understood automatically.\nBut in case of String you are pointing to the reference and then concatenating the String, because String is immutable.</p>\n"}],"owner":{"account_id":11258433,"reputation":11,"user_id":8257428,"display_name":"Manisha Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1700425358,"creation_date":1556781026,"question_id":55947311,"body_markdown":"Why there is a different output for String and String buffer?\r\n\r\n    public class ReturnValueFromTryCatchFinally {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(methodReturningValue());\r\n    \t}\r\n    \r\n    \tstatic StringBuffer methodReturningValue() {\r\n    \t\tStringBuffer buffer = new StringBuffer();\r\n    \t\ttry {\r\n    \t\t\tbuffer.append(&quot;aa&quot;);\r\n    \t\t\treturn buffer;\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\tbuffer.append(&quot;bbb&quot;);\r\n    \t\t\treturn buffer;\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tbuffer.append(&quot;vvvv&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tstatic String methodReturningValue1() {\r\n    \t\tString buffer = new String();\r\n    \t\ttry {\r\n    \t\t\tbuffer=buffer.concat(&quot;aa&quot;);\r\n    \t\t\treturn buffer;\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\tbuffer=buffer.concat(&quot;bbb&quot;);\r\n    \t\t\treturn buffer;\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tbuffer=buffer.concat(&quot;vvvv&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nFor User defined object, it is also behaves same as String.","title":"String - why there are there different return values in both the cases?","body":"<p>Why there is a different output for String and String buffer?</p>\n<pre><code>public class ReturnValueFromTryCatchFinally {\n\n    public static void main(String[] args) {\n        System.out.println(methodReturningValue());\n    }\n\n    static StringBuffer methodReturningValue() {\n        StringBuffer buffer = new StringBuffer();\n        try {\n            buffer.append(&quot;aa&quot;);\n            return buffer;\n        }\n        catch (Exception e) {\n            buffer.append(&quot;bbb&quot;);\n            return buffer;\n        }\n        finally {\n            buffer.append(&quot;vvvv&quot;);\n        }\n        \n    }\n    \n    static String methodReturningValue1() {\n        String buffer = new String();\n        try {\n            buffer=buffer.concat(&quot;aa&quot;);\n            return buffer;\n        }\n        catch (Exception e) {\n            buffer=buffer.concat(&quot;bbb&quot;);\n            return buffer;\n        }\n        finally {\n            buffer=buffer.concat(&quot;vvvv&quot;);\n        }\n        \n    }\n\n}\n</code></pre>\n<p>For User defined object, it is also behaves same as String.</p>\n"},{"tags":["java","spring","spring-boot","spring-jdbc"],"comments":[{"owner":{"account_id":7742705,"reputation":122,"user_id":5861788,"accept_rate":80,"display_name":"MrHutnik"},"score":0,"creation_date":1700423170,"post_id":77512168,"comment_id":136649635,"body_markdown":"I think this might be helpful:\nhttps://stackoverflow.com/questions/39913123/how-to-verify-whether-a-connection-pool-has-beem-set-up-in-spring-mvc-web-app","body":"I think this might be helpful: <a href=\"https://stackoverflow.com/questions/39913123/how-to-verify-whether-a-connection-pool-has-beem-set-up-in-spring-mvc-web-app\" title=\"how to verify whether a connection pool has beem set up in spring mvc web app\">stackoverflow.com/questions/39913123/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700425343,"creation_date":1700425015,"answer_id":77512333,"question_id":77512168,"body_markdown":"For example if you have this dependency in your dependency manager\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe implementation for the `DataSource` interface is going to be `HikariDataSource` and this is the instance Spring is going to use for construction of `JdbcTemplate`. \r\n\r\nNow when you call `jdbcTemplate.getDataSource().getConnection()` in your code `HikariDataSource` gets you a connection from the pool. \r\n\r\nIf you are interested in code:\r\n\r\n       @Override\r\n       public Connection getConnection() throws SQLException\r\n       {\r\n          if (isClosed()) {\r\n             throw new SQLException(&quot;HikariDataSource &quot; + this + &quot; has been closed.&quot;);\r\n          }\r\n    \r\n          if (fastPathPool != null) {\r\n             return fastPathPool.getConnection();\r\n          }\r\n    \r\n          // See http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java\r\n          HikariPool result = pool;\r\n          if (result == null) {\r\n             synchronized (this) {\r\n                result = pool;\r\n                if (result == null) {\r\n                   validate();\r\n                   LOGGER.info(&quot;{} - Starting...&quot;, getPoolName());\r\n                   try {\r\n                      pool = result = new HikariPool(this);\r\n                      this.seal();\r\n                   }\r\n                   catch (PoolInitializationException pie) {\r\n                      if (pie.getCause() instanceof SQLException) {\r\n                         throw (SQLException) pie.getCause();\r\n                      }\r\n                      else {\r\n                         throw pie;\r\n                      }\r\n                   }\r\n                   LOGGER.info(&quot;{} - Start completed.&quot;, getPoolName());\r\n                }\r\n             }\r\n          }\r\n    \r\n          return result.getConnection();\r\n        }\r\n\r\n","title":"How get connection pool from jdbcTemaplate?","body":"<p>For example if you have this dependency in your dependency manager</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n    &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The implementation for the <code>DataSource</code> interface is going to be <code>HikariDataSource</code> and this is the instance Spring is going to use for construction of <code>JdbcTemplate</code>.</p>\n<p>Now when you call <code>jdbcTemplate.getDataSource().getConnection()</code> in your code <code>HikariDataSource</code> gets you a connection from the pool.</p>\n<p>If you are interested in code:</p>\n<pre><code>   @Override\n   public Connection getConnection() throws SQLException\n   {\n      if (isClosed()) {\n         throw new SQLException(&quot;HikariDataSource &quot; + this + &quot; has been closed.&quot;);\n      }\n\n      if (fastPathPool != null) {\n         return fastPathPool.getConnection();\n      }\n\n      // See http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java\n      HikariPool result = pool;\n      if (result == null) {\n         synchronized (this) {\n            result = pool;\n            if (result == null) {\n               validate();\n               LOGGER.info(&quot;{} - Starting...&quot;, getPoolName());\n               try {\n                  pool = result = new HikariPool(this);\n                  this.seal();\n               }\n               catch (PoolInitializationException pie) {\n                  if (pie.getCause() instanceof SQLException) {\n                     throw (SQLException) pie.getCause();\n                  }\n                  else {\n                     throw pie;\n                  }\n               }\n               LOGGER.info(&quot;{} - Start completed.&quot;, getPoolName());\n            }\n         }\n      }\n\n      return result.getConnection();\n    }\n</code></pre>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700425343,"creation_date":1700421794,"question_id":77512168,"body_markdown":"Ok I have ingested `jdbcTemplate` into some class:\r\n\r\n    @Service\r\n    public MyService {\r\n    \r\n        @Autowired\r\n        private JdbcTemplate jdbcTemplate;\r\n       \r\n    }\r\n    \r\nBut how to get connection pool implementation from it? I see `getDataSource()` method but `DataSource` does not have something about conenction pool :(","title":"How get connection pool from jdbcTemaplate?","body":"<p>Ok I have ingested <code>jdbcTemplate</code> into some class:</p>\n<pre><code>@Service\npublic MyService {\n\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n   \n}\n</code></pre>\n<p>But how to get connection pool implementation from it? I see <code>getDataSource()</code> method but <code>DataSource</code> does not have something about conenction pool :(</p>\n"},{"tags":["java","javafx","tree","treeview"],"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700329340,"post_id":77507739,"comment_id":136642302,"body_markdown":"What is createFolder? Can you put a system.out into the method to verify it is executed or not? If it is executed, I would suggest, that you are running into a &quot;if -&gt; return&quot;.","body":"What is createFolder? Can you put a system.out into the method to verify it is executed or not? If it is executed, I would suggest, that you are running into a &quot;if -&gt; return&quot;."},{"owner":{"account_id":16935551,"reputation":3,"user_id":12248643,"display_name":"Duarte Calha"},"score":0,"creation_date":1700331634,"post_id":77507739,"comment_id":136642560,"body_markdown":"createFolder is my method to create folders in the file system. I Have tried putting a sout however it is not even exectued","body":"createFolder is my method to create folders in the file system. I Have tried putting a sout however it is not even exectued"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":1,"creation_date":1700332276,"post_id":77507739,"comment_id":136642619,"body_markdown":"createFolder can&#39;t be a method. If it is a method, how can it execute .setOnAction()?","body":"createFolder can&#39;t be a method. If it is a method, how can it execute .setOnAction()?"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700332361,"post_id":77507739,"comment_id":136642628,"body_markdown":"You have a method createFolder() and a variable &quot;createFolder&quot;. Is everything linked correct?","body":"You have a method createFolder() and a variable &quot;createFolder&quot;. Is everything linked correct?"},{"owner":{"account_id":16935551,"reputation":3,"user_id":12248643,"display_name":"Duarte Calha"},"score":0,"creation_date":1700333501,"post_id":77507739,"comment_id":136642755,"body_markdown":"i have a method createFolder using a setOnAction which by the sound of it it is probably the wrong way to do it, however everything is linked in the contextMenu by the variable variable &quot;createFolder&quot;","body":"i have a method createFolder using a setOnAction which by the sound of it it is probably the wrong way to do it, however everything is linked in the contextMenu by the variable variable &quot;createFolder&quot;"},{"owner":{"account_id":16935551,"reputation":3,"user_id":12248643,"display_name":"Duarte Calha"},"score":0,"creation_date":1700333506,"post_id":77507739,"comment_id":136642758,"body_markdown":"public ContextMenu createContextMenu() {\n\n\t\t\tmenuItems.add(refresh);\n\t\t\tmenuItems.add(createFile);\n\t\t\tmenuItems.add(createFolder);\n\t\t\tmenuItems.add(deleteFile);\n\t\t\tmenuItems.add(renameFile);\n\t\t\tmenuItems.add(editFile);\n\t\t\tmenuItems.add(viewFile);\n\t\t\tmenuItems.add(fucnaoTeste);\n\t\t\tcreateFile();\n\t\t\tcreateFolder();\n\t\t\trefreshTree();\n\t\t\tdeleteFileTree();\n\t\t\trenameFile();\n\t\t\teditFile();\n\t\t\tviewFileContent();\n\t\t\tfucnaoTeste(); //Puramente para debugging e testes\n\n\n\t\t\treturn contextMenu;\n\t}","body":"public ContextMenu createContextMenu() {  \t\t\tmenuItems.add(refresh); \t\t\tmenuItems.add(createFile); \t\t\tmenuItems.add(createFolder); \t\t\tmenuItems.add(deleteFile); \t\t\tmenuItems.add(renameFile); \t\t\tmenuItems.add(editFile); \t\t\tmenuItems.add(viewFile); \t\t\tmenuItems.add(fucnaoTeste); \t\t\tcreateFile(); \t\t\tcreateFolder(); \t\t\trefreshTree(); \t\t\tdeleteFileTree(); \t\t\trenameFile(); \t\t\teditFile(); \t\t\tviewFileContent(); \t\t\tfucnaoTeste(); //Puramente para debugging e testes   \t\t\treturn contextMenu; \t}"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1700338624,"post_id":77507739,"comment_id":136643282,"body_markdown":"Create and post a [mre].","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":1,"creation_date":1700340345,"post_id":77507739,"comment_id":136643440,"body_markdown":"&quot;menuItems.add(createFolder);&quot;: This method has an object as Parameter called createFolder, NOT a method. Your method &quot;public void createFolder()&quot; is never called in that code. Do you need to call the method in your init() to initialize the listener on an object, whose variable is called &quot;createFolder&quot; too?","body":"&quot;menuItems.add(createFolder);&quot;: This method has an object as Parameter called createFolder, NOT a method. Your method &quot;public void createFolder()&quot; is never called in that code. Do you need to call the method in your init() to initialize the listener on an object, whose variable is called &quot;createFolder&quot; too?"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":1,"creation_date":1700340597,"post_id":77507739,"comment_id":136643465,"body_markdown":"I strongly recommend you to refactor your code, including renaming your variables to something &quot;that are something&quot;, and your methods to something &quot;that does something&quot;.","body":"I strongly recommend you to refactor your code, including renaming your variables to something &quot;that are something&quot;, and your methods to something &quot;that does something&quot;."},{"owner":{"account_id":16935551,"reputation":3,"user_id":12248643,"display_name":"Duarte Calha"},"score":0,"creation_date":1700428646,"post_id":77507739,"comment_id":136650228,"body_markdown":"I have solved this issue, I did a major refactor on the code. Thanks for the help.","body":"I have solved this issue, I did a major refactor on the code. Thanks for the help."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700379763,"creation_date":1700379763,"answer_id":77510018,"question_id":77507739,"body_markdown":"**Solution:**\r\n\r\n    // Somewhere in your controller:\r\n    private Class? createFolder;\r\n\r\n    // Somewhere in your initConstructorOrWhatever method:\r\n    public initConstructorOrWhatever(){\r\n        initCreateFolder();\r\n    }\r\n\r\n    public void initCreateFolder() {\r\n        createFolder.setOnAction(event -&gt; {\r\n            File dir = getValue();\r\n            if (!dir.isDirectory()) {\r\n                return;\r\n            }\r\n            // ... Code\r\n        });\r\n    }\r\n\r\n**Note:** \r\n\r\nIf you want to be a good programmer, I recommend you too read this book (no sponsoring):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ut4yb.png","title":"Java FX setOnAction not doing anything","body":"<p><strong>Solution:</strong></p>\n<pre><code>// Somewhere in your controller:\nprivate Class? createFolder;\n\n// Somewhere in your initConstructorOrWhatever method:\npublic initConstructorOrWhatever(){\n    initCreateFolder();\n}\n\npublic void initCreateFolder() {\n    createFolder.setOnAction(event -&gt; {\n        File dir = getValue();\n        if (!dir.isDirectory()) {\n            return;\n        }\n        // ... Code\n    });\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>If you want to be a good programmer, I recommend you too read this book (no sponsoring):</p>\n<p><a href=\"https://i.stack.imgur.com/ut4yb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ut4yb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16935551,"reputation":3,"user_id":12248643,"display_name":"Duarte Calha"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700425316,"creation_date":1700324514,"question_id":77507739,"body_markdown":"I&#39;m developing a project for college where i need to do a Personal File System using a ADT Tree. \r\n\r\nCurrently i can open the folder and all the elements of the folder are added to the tree and displayed in a TreeView in Java FX. I can rename the files, edit the files and display the file content. However, when i try do create a new File or new Folder pressing that option in my context Menu, nothing happens.\r\n\r\nI tried adding the logic of the renameFile inside the createFile and still nothing happens, same the other way around.\r\n\r\nThis is the code of my class.\r\n\r\n```\r\n\tpublic void createFolder() {\r\n\r\n\t\tcreateFolder.setOnAction(event -&gt; {\r\n\t\t\tFile dir = getValue();\r\n\t\t\tif (!dir.isDirectory()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tString dirName = dialogHandler.showTextInputDialog(&quot;Nova Pasta&quot;, &quot;A criar    nova pasta&quot;, &quot;Por favor insira o nome da pasta:&quot;, &quot;pasta&quot;);\r\n\t\t\tif (dirName == null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tFile file = new File(dir, dirName);\r\n\r\n\t\t\tif (file.exists()) {\r\n\t\t\t\tdialogHandler.showAlert(AlertType.WARNING, &quot;Aviso&quot;, &quot;A pasta: &quot; + file.getName() + &quot; j&#225; existe&quot;,\r\n\t\t\t\t\t\t&quot;N&#227;o foi poss&#237;vel criar a pasta pois j&#225; existe uma com o mesmo nome&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tboolean success = file.mkdir();\r\n\t\t\t\tif (!success) {\r\n\t\t\t\t\tdialogHandler.showAlert(AlertType.ERROR, &quot;Erro&quot;,\r\n\t\t\t\t\t\t\t&quot;Erro a criar diret&#243;rio: &quot; + file.getName(),\r\n\t\t\t\t\t\t\t&quot;N&#227;o foi poss&#237;vel criar o diret&#243;rio especificado&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Adicionar &#224; TreeLinked\r\n\t\t\t\t\tPosition&lt;File&gt; parentPosition = treeLinked.isInternal(treeLinked.root()) ? treeLinked.root() : null;\r\n\t\t\t\t\tPosition&lt;File&gt; insertedPosition = treeLinked.insert(parentPosition, file);\r\n\r\n\t\t\t\t\t// Adicionar &#224; TreeView existente\r\n\t\t\t\t\tTreeItem&lt;File&gt; newTreeViewItem = new TreeItem&lt;&gt;(file);\r\n\t\t\t\t\ttreeView.getRoot().getChildren().add(newTreeViewItem);\r\n\r\n\t\t\t\t\t// Expande o n&#243; pai na TreeView para mostrar a nova pasta\r\n\t\t\t\t\ttreeView.getRoot().setExpanded(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```\r\n","title":"Java FX setOnAction not doing anything","body":"<p>I'm developing a project for college where i need to do a Personal File System using a ADT Tree.</p>\n<p>Currently i can open the folder and all the elements of the folder are added to the tree and displayed in a TreeView in Java FX. I can rename the files, edit the files and display the file content. However, when i try do create a new File or new Folder pressing that option in my context Menu, nothing happens.</p>\n<p>I tried adding the logic of the renameFile inside the createFile and still nothing happens, same the other way around.</p>\n<p>This is the code of my class.</p>\n<pre><code>    public void createFolder() {\n\n        createFolder.setOnAction(event -&gt; {\n            File dir = getValue();\n            if (!dir.isDirectory()) {\n                return;\n            }\n\n            String dirName = dialogHandler.showTextInputDialog(&quot;Nova Pasta&quot;, &quot;A criar    nova pasta&quot;, &quot;Por favor insira o nome da pasta:&quot;, &quot;pasta&quot;);\n            if (dirName == null) {\n                return;\n            }\n\n            File file = new File(dir, dirName);\n\n            if (file.exists()) {\n                dialogHandler.showAlert(AlertType.WARNING, &quot;Aviso&quot;, &quot;A pasta: &quot; + file.getName() + &quot; já existe&quot;,\n                        &quot;Não foi possível criar a pasta pois já existe uma com o mesmo nome&quot;);\n            } else {\n                boolean success = file.mkdir();\n                if (!success) {\n                    dialogHandler.showAlert(AlertType.ERROR, &quot;Erro&quot;,\n                            &quot;Erro a criar diretório: &quot; + file.getName(),\n                            &quot;Não foi possível criar o diretório especificado&quot;);\n                } else {\n                    // Adicionar à TreeLinked\n                    Position&lt;File&gt; parentPosition = treeLinked.isInternal(treeLinked.root()) ? treeLinked.root() : null;\n                    Position&lt;File&gt; insertedPosition = treeLinked.insert(parentPosition, file);\n\n                    // Adicionar à TreeView existente\n                    TreeItem&lt;File&gt; newTreeViewItem = new TreeItem&lt;&gt;(file);\n                    treeView.getRoot().getChildren().add(newTreeViewItem);\n\n                    // Expande o nó pai na TreeView para mostrar a nova pasta\n                    treeView.getRoot().setExpanded(true);\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","react-native","visual-studio-code","java-11","java-18"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698916268,"post_id":77403337,"comment_id":136465820,"body_markdown":"Have you tried to switch the environment? How about using the updated version of JDK?","body":"Have you tried to switch the environment? How about using the updated version of JDK?"}],"owner":{"account_id":23860986,"reputation":99,"user_id":17863939,"display_name":"Gabi Mangili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700425307,"creation_date":1698848624,"question_id":77403337,"body_markdown":"I&#39;m programming in React Native and until yesterdar my code works correctly on the physical device, but not in emulator. In a moment I needed to use emulator and I was trying to run app in emulator, but how that I said, it was not founding.I tried every way and in the end it still doesn&#39;t work, but with another error. Today I back to use the device that was working, but due to the changes, now until the device cannot run my code.\r\n\r\nIn the vscode, appears 2 errors in pop up:\r\n1. ``` Invalid runtime for JavaSE-11: Runtime at &#39;C:\\Users\\Interfocus\\AppData\\Local\\jdk-11.0.2&#39; is not compatible with the &#39;JavaSE-11&#39; environment.``` \r\n2. ``` Invalid runtime for JavaSE-1.8: Runtime at &#39;C:\\Program Files\\Java\\jdk-21&#39; is not compatible with the &#39;JavaSE-1.8&#39; environment.``` \r\n\r\nAnd many messages appear in the problems, as shown in the screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd I don&#39;t know if it&#39;s related, but even when the code was working on the physical device, whenever I opened vscode, this pop up appeared:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhen I run &#39;expo run:android&#39; in terminal, the message below is shown, but i this that this inst the real problem because the app runs and when it runs, this is the screen that open (image below):\r\n\r\n```\r\nThe Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build.\r\nThis might happen in subprojects that apply the Kotlin plugins with the Gradle &#39;plugins { ... }&#39; DSL if they specify explicit versions, even if the versions are equal.\r\nPlease add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\r\n``` \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nI just want to solve this, but I don&#39;t know how. Can someone help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wLNDr.png\r\n  [2]: https://i.stack.imgur.com/1b1eV.png\r\n  [3]: https://i.stack.imgur.com/gouh9.png","title":"Invalid runtime for JavaSE-11: Runtime at is not compatible with the &#39;JavaSE-11&#39; environment","body":"<p>I'm programming in React Native and until yesterdar my code works correctly on the physical device, but not in emulator. In a moment I needed to use emulator and I was trying to run app in emulator, but how that I said, it was not founding.I tried every way and in the end it still doesn't work, but with another error. Today I back to use the device that was working, but due to the changes, now until the device cannot run my code.</p>\n<p>In the vscode, appears 2 errors in pop up:</p>\n<ol>\n<li><code> Invalid runtime for JavaSE-11: Runtime at 'C:\\Users\\Interfocus\\AppData\\Local\\jdk-11.0.2' is not compatible with the 'JavaSE-11' environment.</code></li>\n<li><code> Invalid runtime for JavaSE-1.8: Runtime at 'C:\\Program Files\\Java\\jdk-21' is not compatible with the 'JavaSE-1.8' environment.</code></li>\n</ol>\n<p>And many messages appear in the problems, as shown in the screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/wLNDr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wLNDr.png\" alt=\"enter image description here\" /></a></p>\n<p>And I don't know if it's related, but even when the code was working on the physical device, whenever I opened vscode, this pop up appeared:</p>\n<p><a href=\"https://i.stack.imgur.com/1b1eV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1b1eV.png\" alt=\"enter image description here\" /></a></p>\n<p>When I run 'expo run:android' in terminal, the message below is shown, but i this that this inst the real problem because the app runs and when it runs, this is the screen that open (image below):</p>\n<pre><code>The Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build.\nThis might happen in subprojects that apply the Kotlin plugins with the Gradle 'plugins { ... }' DSL if they specify explicit versions, even if the versions are equal.\nPlease add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gouh9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gouh9.png\" alt=\"enter image description here\" /></a></p>\n<p>I just want to solve this, but I don't know how. Can someone help me?</p>\n"},{"tags":["java","rest","calendar","aws-sdk"],"owner":{"account_id":29942470,"reputation":1,"user_id":22946624,"display_name":"LeoPl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700424709,"creation_date":1700415497,"question_id":77511795,"body_markdown":"Is it possible to create calendar meeting via AWS SDK API for WorkMail?\r\nThe goal is to create meeting in a calendar (it is supported by AWS WorkMail Calendar manually)\r\n\r\nI was looking for Java/rest API and cannot find any endpoints.","title":"Is it possible to create calendar meeting via AWS SDK API for WorkMail?","body":"<p>Is it possible to create calendar meeting via AWS SDK API for WorkMail?\nThe goal is to create meeting in a calendar (it is supported by AWS WorkMail Calendar manually)</p>\n<p>I was looking for Java/rest API and cannot find any endpoints.</p>\n"},{"tags":["java","hibernate","collections","orm","hibernate-mapping"],"owner":{"account_id":28767855,"reputation":1,"user_id":22032325,"display_name":"Andro hub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700424451,"creation_date":1700424451,"question_id":77512309,"body_markdown":"I am currently working with **Hibernate-core ORM** version 6.3.1.Final. It appears that when using collections in a class, the `columns` and `type` attributes do not seem to function as expected within the `@CollectionId` annotation.\r\n\r\n\r\n```\r\npackage org.hibernateJavaBrains;\r\n\r\nimport jakarta.persistence.*;\r\nimport org.hibernate.annotations.CollectionId;\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport org.hibernate.annotations.Type;\r\n\r\nimport java.util.*;\r\n\r\n@Entity\r\n@Table(name = &quot;userDetails&quot;)\r\npublic class UserDetails {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int userId;\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    @ElementCollection\r\n    @JoinTable(name = &quot;USER_ADDRESS&quot;, joinColumns = @JoinColumn(name = &quot;USER_ID&quot;))\r\n    @GenericGenerator(name = &quot;sequence_gen&quot;, strategy = &quot;sequence&quot;)\r\n    @CollectionId(columns = @Column(name = &quot;ADDRESS_ID&quot;),type = @Type(type = &quot;long&quot;),generator = &quot;sequence_gen&quot;)\r\n    private Collection&lt;Address&gt; listOfAddress = new ArrayList&lt;Address&gt;();\r\n\r\n\r\n    public int getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(int userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n\r\n    public Collection&lt;Address&gt; getListOfAddress() {\r\n        return listOfAddress;\r\n    }\r\n\r\n    public void setListOfAddress(Collection&lt;Address&gt; listOfAddress) {\r\n        this.listOfAddress = listOfAddress;\r\n    }\r\n}\r\n```\r\n\r\nIn the part\r\n```\r\n @ElementCollection\r\n    @JoinTable(name = &quot;USER_ADDRESS&quot;, joinColumns = @JoinColumn(name = &quot;USER_ID&quot;))\r\n    @GenericGenerator(name = &quot;sequence_gen&quot;, strategy = &quot;sequence&quot;)\r\n    @CollectionId(columns = @Column(name = &quot;ADDRESS_ID&quot;),type = @Type(type = &quot;long&quot;),generator = &quot;sequence_gen&quot;)\r\n    private Collection&lt;Address&gt; listOfAddress = new ArrayList&lt;Address&gt;();\r\n```\r\n\r\ngive me \r\n\r\nCannot resolve method &#39;columns&#39;\r\n\r\nCannot resolve method &#39;type&#39;\r\n\r\n[enter image description here](https://i.stack.imgur.com/cVjIJ.png)\r\n\r\n\r\n&gt; Is it possible to know the cause of this error and what is its solution if I want to create an `Address_id` column in `userdetails_listofaddress` table?\r\n\r\n\r\nI tried to change `columns` to `column` and it did not give an error.\r\nbut when change `type` to `value` The `type` value of `long` will give an error\r\n\r\n[enter image description here](https://i.stack.imgur.com/D4EJK.png)\r\n\r\nI was following the explanation in this video : \r\n\r\n[Hibernate Tutorial 11 - Configuring Collections and Adding Keys - java brains](https://www.youtube.com/watch?v=kk207HAym_I&amp;list=PL4AFF701184976B25&amp;index=16)","title":"columns and type attributes are not functioning as expected in the @CollectionId annotation in Hibernate","body":"<p>I am currently working with <strong>Hibernate-core ORM</strong> version 6.3.1.Final. It appears that when using collections in a class, the <code>columns</code> and <code>type</code> attributes do not seem to function as expected within the <code>@CollectionId</code> annotation.</p>\n<pre><code>package org.hibernateJavaBrains;\n\nimport jakarta.persistence.*;\nimport org.hibernate.annotations.CollectionId;\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Type;\n\nimport java.util.*;\n\n@Entity\n@Table(name = &quot;userDetails&quot;)\npublic class UserDetails {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int userId;\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @ElementCollection\n    @JoinTable(name = &quot;USER_ADDRESS&quot;, joinColumns = @JoinColumn(name = &quot;USER_ID&quot;))\n    @GenericGenerator(name = &quot;sequence_gen&quot;, strategy = &quot;sequence&quot;)\n    @CollectionId(columns = @Column(name = &quot;ADDRESS_ID&quot;),type = @Type(type = &quot;long&quot;),generator = &quot;sequence_gen&quot;)\n    private Collection&lt;Address&gt; listOfAddress = new ArrayList&lt;Address&gt;();\n\n\n    public int getUserId() {\n        return userId;\n    }\n\n    public void setUserId(int userId) {\n        this.userId = userId;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n\n    public Collection&lt;Address&gt; getListOfAddress() {\n        return listOfAddress;\n    }\n\n    public void setListOfAddress(Collection&lt;Address&gt; listOfAddress) {\n        this.listOfAddress = listOfAddress;\n    }\n}\n</code></pre>\n<p>In the part</p>\n<pre><code> @ElementCollection\n    @JoinTable(name = &quot;USER_ADDRESS&quot;, joinColumns = @JoinColumn(name = &quot;USER_ID&quot;))\n    @GenericGenerator(name = &quot;sequence_gen&quot;, strategy = &quot;sequence&quot;)\n    @CollectionId(columns = @Column(name = &quot;ADDRESS_ID&quot;),type = @Type(type = &quot;long&quot;),generator = &quot;sequence_gen&quot;)\n    private Collection&lt;Address&gt; listOfAddress = new ArrayList&lt;Address&gt;();\n</code></pre>\n<p>give me</p>\n<p>Cannot resolve method 'columns'</p>\n<p>Cannot resolve method 'type'</p>\n<p><a href=\"https://i.stack.imgur.com/cVjIJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<blockquote>\n<p>Is it possible to know the cause of this error and what is its solution if I want to create an <code>Address_id</code> column in <code>userdetails_listofaddress</code> table?</p>\n</blockquote>\n<p>I tried to change <code>columns</code> to <code>column</code> and it did not give an error.\nbut when change <code>type</code> to <code>value</code> The <code>type</code> value of <code>long</code> will give an error</p>\n<p><a href=\"https://i.stack.imgur.com/D4EJK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I was following the explanation in this video :</p>\n<p><a href=\"https://www.youtube.com/watch?v=kk207HAym_I&amp;list=PL4AFF701184976B25&amp;index=16\" rel=\"nofollow noreferrer\">Hibernate Tutorial 11 - Configuring Collections and Adding Keys - java brains</a></p>\n"},{"tags":["java","maven","ibm-mq"],"comments":[{"owner":{"account_id":5230400,"reputation":1818,"user_id":4180950,"display_name":"Attila Repasi"},"score":0,"creation_date":1438946896,"post_id":31872069,"comment_id":51670817,"body_markdown":"What repository are you using the get the new MQ JARs from? Do you have the new JARs imported in your local Maven repository?","body":"What repository are you using the get the new MQ JARs from? Do you have the new JARs imported in your local Maven repository?"},{"owner":{"account_id":2913843,"reputation":22675,"user_id":2497492,"accept_rate":37,"display_name":"Christian"},"score":0,"creation_date":1438947023,"post_id":31872069,"comment_id":51670886,"body_markdown":"@AttilaRepasi It&#39;s the nexus repository from my company. Yes the jars are in my local repo.","body":"@AttilaRepasi It&#39;s the nexus repository from my company. Yes the jars are in my local repo."},{"owner":{"account_id":5230400,"reputation":1818,"user_id":4180950,"display_name":"Attila Repasi"},"score":0,"creation_date":1438948611,"post_id":31872069,"comment_id":51671874,"body_markdown":"The class com.ibm.mq.MQEnvironment is in the JAR com.ibm.mq.jar as it comes with the MQ instalaltion. I don&#39;t know what this mq-jms-all artifact is, but I think it does not have all the necessary classes from the JARs. I&#39;m using the following JARs from the MQ installation for JMS connection: com.ibm.mqjms.jar, com.ibm.mq.jar com.ibm.mq.jmqi.jar, com.ibm.mq.pcf.jar, com.ibm.mq.headers.jar, fscontext.jar, providerutil.jar, dhbcore.jar","body":"The class com.ibm.mq.MQEnvironment is in the JAR com.ibm.mq.jar as it comes with the MQ instalaltion. I don&#39;t know what this mq-jms-all artifact is, but I think it does not have all the necessary classes from the JARs. I&#39;m using the following JARs from the MQ installation for JMS connection: com.ibm.mqjms.jar, com.ibm.mq.jar com.ibm.mq.jmqi.jar, com.ibm.mq.pcf.jar, com.ibm.mq.headers.jar, fscontext.jar, providerutil.jar, dhbcore.jar"},{"owner":{"account_id":2913843,"reputation":22675,"user_id":2497492,"accept_rate":37,"display_name":"Christian"},"score":0,"creation_date":1438948696,"post_id":31872069,"comment_id":51671946,"body_markdown":"I know. It&#39;s added to the path.","body":"I know. It&#39;s added to the path."},{"owner":{"account_id":2913843,"reputation":22675,"user_id":2497492,"accept_rate":37,"display_name":"Christian"},"score":0,"creation_date":1438950210,"post_id":31872069,"comment_id":51672852,"body_markdown":"@AttilaRepasi That artifact should contain all necessary files. And I also see the MQEnvironment.class in the jar.","body":"@AttilaRepasi That artifact should contain all necessary files. And I also see the MQEnvironment.class in the jar."},{"owner":{"account_id":160726,"reputation":772,"user_id":381009,"accept_rate":67,"display_name":"Umapathy"},"score":0,"creation_date":1438969246,"post_id":31872069,"comment_id":51684813,"body_markdown":"More details required.  What do you do when you &quot;run your project&quot;.  Is it maven test or running application out of maven or IDE?  The jar is not getting loaded.  I will check the classpath if I were you.  Was there any ClassNotFoundException thrown before this exception?","body":"More details required.  What do you do when you &quot;run your project&quot;.  Is it maven test or running application out of maven or IDE?  The jar is not getting loaded.  I will check the classpath if I were you.  Was there any ClassNotFoundException thrown before this exception?"},{"owner":{"account_id":74767,"reputation":31622,"user_id":214668,"accept_rate":100,"display_name":"T.Rob"},"score":0,"creation_date":1439005182,"post_id":31872069,"comment_id":51696143,"body_markdown":"If you go with the v8.0 client, IBM provides a [jar-only installation](http://www-933.ibm.com/support/fixcentral/swg/doSelectFixes?options.selectedFixes=8.0.0.3-WS-MQ-Install-Java-All&amp;continue=1) that is fully supported.  With all earlier versions of MQ client, installing anything less than the full client runtime is *not* officially supported.","body":"If you go with the v8.0 client, IBM provides a <a href=\"http://www-933.ibm.com/support/fixcentral/swg/doSelectFixes?options.selectedFixes=8.0.0.3-WS-MQ-Install-Java-All&amp;continue=1\" rel=\"nofollow noreferrer\">jar-only installation</a> that is fully supported.  With all earlier versions of MQ client, installing anything less than the full client runtime is <i>not</i> officially supported."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1700424956,"post_id":31872069,"comment_id":136649801,"body_markdown":"@Christian, this question keeps getting bumped by community every 4 months because it has no accepted answer, did any of the answers help you or if not can you self answer it so that it won&#39;t get bumped, or perhaps let me know and I&#39;ll try to provide an answer.","body":"@Christian, this question keeps getting bumped by community every 4 months because it has no accepted answer, did any of the answers help you or if not can you self answer it so that it won&#39;t get bumped, or perhaps let me know and I&#39;ll try to provide an answer."}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439221553,"creation_date":1439221553,"answer_id":31923863,"question_id":31872069,"body_markdown":"&gt; IBM MQ from these(version: 6.0.2.5):\n&gt;\n&gt; To that(version: 7.5.0.5):\n\nIBM moved the MQException to the &#39;com.ibm.mq.jmqi.jar&#39; file.\n\nAs per the the [MQ Knowledge Center][1], you need the following jar files for MQ JMS programming:\n\n - com.ibm.mq.commonservices.jar\n - com.ibm.mq.headers.jar\n - com.ibm.mq.pcf.jar\n - com.ibm.mq.jmqi.jar\n - connector.jar\n - jms.jar\n - dhbcore.jar\n - rmm.jar\n - jndi.jar\n - ldap.jar\n - fscontext.jar\n - providerutil.jar\n - CL3Export.jar\n - CL3Nonexport.jar\n\n  [1]: http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.dev.doc/q120070_.htm","title":"Could not initialize com.ibm.mq.MQEnvironment","body":"<blockquote>\n<p>IBM MQ from these(version: 6.0.2.5):</p>\n<p>To that(version: 7.5.0.5):</p>\n</blockquote>\n<p>IBM moved the MQException to the 'com.ibm.mq.jmqi.jar' file.</p>\n<p>As per the the <a href=\"http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.dev.doc/q120070_.htm\" rel=\"nofollow noreferrer\">MQ Knowledge Center</a>, you need the following jar files for MQ JMS programming:</p>\n<ul>\n<li>com.ibm.mq.commonservices.jar</li>\n<li>com.ibm.mq.headers.jar</li>\n<li>com.ibm.mq.pcf.jar</li>\n<li>com.ibm.mq.jmqi.jar</li>\n<li>connector.jar</li>\n<li>jms.jar</li>\n<li>dhbcore.jar</li>\n<li>rmm.jar</li>\n<li>jndi.jar</li>\n<li>ldap.jar</li>\n<li>fscontext.jar</li>\n<li>providerutil.jar</li>\n<li>CL3Export.jar</li>\n<li>CL3Nonexport.jar</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1626034,"reputation":77,"user_id":6494405,"accept_rate":0,"display_name":"aadhar sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476759472,"creation_date":1476759472,"answer_id":40098799,"question_id":31872069,"body_markdown":"Exactly the same problem and this fixed it \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.resource&lt;/groupId&gt;\r\n        &lt;artifactId&gt;connector&lt;/artifactId&gt;\r\n        &lt;version&gt;${connector-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThese are my dependencies.\r\n\r\n    &lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;com.ibm.mq.commonservices&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;7.0.1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;com.ibm.mq.headers&lt;/artifactId&gt;\r\n      &lt;version&gt;7.0.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;com.ibm.mq.jmqi&lt;/artifactId&gt;\r\n      &lt;version&gt;7.0.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;com.ibm.mq.jms.Nojndi&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;7.0.1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;com.ibm.mqjms&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;7.0.1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;com.ibm.mq.soap&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;7.0.1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;com.ibm.mq&lt;/artifactId&gt;\r\n      &lt;version&gt;7.0.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;com.ibm.mq.headers&lt;/artifactId&gt;\r\n      &lt;version&gt;7.0.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;com.ibm.mq.pcf&lt;/artifactId&gt;\r\n      &lt;version&gt;7.0.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;javax.resource&lt;/groupId&gt;\r\n      &lt;artifactId&gt;connector&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.ibm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;com.ibm.dhbcore&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;CL3Nonexport&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;${webspheremq.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;com.ibm&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;com.ibm.mqetclient&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"Could not initialize com.ibm.mq.MQEnvironment","body":"<p>Exactly the same problem and this fixed it </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.resource&lt;/groupId&gt;\n    &lt;artifactId&gt;connector&lt;/artifactId&gt;\n    &lt;version&gt;${connector-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>These are my dependencies.</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;com.ibm.mq.commonservices&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n  &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n  &lt;artifactId&gt;com.ibm.mq.headers&lt;/artifactId&gt;\n  &lt;version&gt;7.0.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n  &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n  &lt;artifactId&gt;com.ibm.mq.jmqi&lt;/artifactId&gt;\n  &lt;version&gt;7.0.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;com.ibm.mq.jms.Nojndi&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;com.ibm.mqjms&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;com.ibm.mq.soap&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n  &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n  &lt;artifactId&gt;com.ibm.mq&lt;/artifactId&gt;\n  &lt;version&gt;7.0.1.4&lt;/version&gt;\n&lt;/dependency&gt;       \n\n        &lt;dependency&gt;\n  &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n  &lt;artifactId&gt;com.ibm.mq.headers&lt;/artifactId&gt;\n  &lt;version&gt;7.0.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n  &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n  &lt;artifactId&gt;com.ibm.mq.pcf&lt;/artifactId&gt;\n  &lt;version&gt;7.0.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n  &lt;groupId&gt;javax.resource&lt;/groupId&gt;\n  &lt;artifactId&gt;connector&lt;/artifactId&gt;\n  &lt;version&gt;1.5&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm&lt;/groupId&gt;\n            &lt;artifactId&gt;com.ibm.dhbcore&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;CL3Nonexport&lt;/artifactId&gt;\n            &lt;version&gt;${webspheremq.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm&lt;/groupId&gt;\n            &lt;artifactId&gt;com.ibm.mqetclient&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7972776,"reputation":1,"user_id":6016856,"display_name":"Levsha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479888736,"creation_date":1479888736,"answer_id":40759086,"question_id":31872069,"body_markdown":"For Eclipse (Dynamic Web Project (Servlet)) you need copy  files:\r\n\r\n    com.ibm.mq.commomservices.jar\r\n    com.ibm.mq.defaultconfig.jar\r\n    com.ibm.mq.headers.jar\r\n    com.ibm.mq.jar\r\n    com.ibm.mq.jmqi.jar\r\n    com.ibm.mq.jms.Nojndi.jar\r\n    com.ibm.mq.pcf.jar\r\n    com.ibm.mqetclient.jar\r\n    com.ibm.mqjms.jar\r\n    connector.jar\r\n    dhbcode.jar\r\n    fscontext.jar\r\n    jms.jar\r\n\r\nto &lt;your project&gt;/WebContext/WEB-INF/lib, then add them into Project (Project -&gt; Properties -&gt; Java Build Path -&gt;  Add External JARs).\r\n After all, go through these steps:\r\n\r\n - close project \r\n - close Eclipse\r\n - open Eclipse\r\n - open project.\r\n\r\nGood Luck!","title":"Could not initialize com.ibm.mq.MQEnvironment","body":"<p>For Eclipse (Dynamic Web Project (Servlet)) you need copy  files:</p>\n\n<pre><code>com.ibm.mq.commomservices.jar\ncom.ibm.mq.defaultconfig.jar\ncom.ibm.mq.headers.jar\ncom.ibm.mq.jar\ncom.ibm.mq.jmqi.jar\ncom.ibm.mq.jms.Nojndi.jar\ncom.ibm.mq.pcf.jar\ncom.ibm.mqetclient.jar\ncom.ibm.mqjms.jar\nconnector.jar\ndhbcode.jar\nfscontext.jar\njms.jar\n</code></pre>\n\n<p>to /WebContext/WEB-INF/lib, then add them into Project (Project -> Properties -> Java Build Path ->  Add External JARs).\n After all, go through these steps:</p>\n\n<ul>\n<li>close project </li>\n<li>close Eclipse</li>\n<li>open Eclipse</li>\n<li>open project.</li>\n</ul>\n\n<p>Good Luck!</p>\n"}],"owner":{"account_id":2913843,"reputation":22675,"user_id":2497492,"accept_rate":37,"display_name":"Christian"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700424210,"creation_date":1438932891,"question_id":31872069,"body_markdown":"I&#39;ve upgraded my maven dependencies for IBM MQ from these(version: 6.0.2.5):\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.ibm&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mq&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${ibm-mq-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.ibm&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mqjms&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${ibm-mq-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.ibm.disthub2&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;dhbcore&lt;/artifactId&gt;\r\n    \t&lt;version&gt;DH610-Gold&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.ibm&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mqetclient&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${ibm-mq-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo that(version: 7.5.0.5):\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.ibm&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mq-jms-all&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${ibm-mq-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow, everytime I try to run my project, I get the following error:\r\n\r\n    nested exception is java.lang.NoClassDefFoundError: Could not initialize class com.ibm.mq.MQEnvironment\r\n\r\nThe maven-dependency is imported correctly and is also visible in Eclipse in the maven-dependencies-tab. Also i see the com.ibm.mq.jar in the classpath.\r\n\r\nI&#39;ve googled a lot and the only real solution, which worked for some people was, to add the connector.jar. But I&#39;m already using the jar:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javax.resource&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;connector&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${connector-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAm I missing something?","title":"Could not initialize com.ibm.mq.MQEnvironment","body":"<p>I've upgraded my maven dependencies for IBM MQ from these(version: 6.0.2.5):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm&lt;/groupId&gt;\n    &lt;artifactId&gt;mq&lt;/artifactId&gt;\n    &lt;version&gt;${ibm-mq-version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm&lt;/groupId&gt;\n    &lt;artifactId&gt;mqjms&lt;/artifactId&gt;\n    &lt;version&gt;${ibm-mq-version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm.disthub2&lt;/groupId&gt;\n    &lt;artifactId&gt;dhbcore&lt;/artifactId&gt;\n    &lt;version&gt;DH610-Gold&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm&lt;/groupId&gt;\n    &lt;artifactId&gt;mqetclient&lt;/artifactId&gt;\n    &lt;version&gt;${ibm-mq-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>To that(version: 7.5.0.5):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm&lt;/groupId&gt;\n    &lt;artifactId&gt;mq-jms-all&lt;/artifactId&gt;\n    &lt;version&gt;${ibm-mq-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Now, everytime I try to run my project, I get the following error:</p>\n\n<pre><code>nested exception is java.lang.NoClassDefFoundError: Could not initialize class com.ibm.mq.MQEnvironment\n</code></pre>\n\n<p>The maven-dependency is imported correctly and is also visible in Eclipse in the maven-dependencies-tab. Also i see the com.ibm.mq.jar in the classpath.</p>\n\n<p>I've googled a lot and the only real solution, which worked for some people was, to add the connector.jar. But I'm already using the jar:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.resource&lt;/groupId&gt;\n    &lt;artifactId&gt;connector&lt;/artifactId&gt;\n    &lt;version&gt;${connector-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1700412810,"post_id":77511613,"comment_id":136648527,"body_markdown":"&quot;With Android 13 I ran into the problem because this feature stopped working since there WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE permissions are no longer supported&quot; -- you do not need those permissions for `getFilesDir()`.","body":"&quot;With Android 13 I ran into the problem because this feature stopped working since there WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE permissions are no longer supported&quot; -- you do not need those permissions for <code>getFilesDir()</code>."}],"answers":[{"tags":[],"owner":{"account_id":17625913,"reputation":36,"user_id":12790952,"display_name":"Mahdi Farrokhzadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700423854,"creation_date":1700423854,"answer_id":77512275,"question_id":77511613,"body_markdown":"Don&#39;t know if i understand your question correctly or not but here is my opinion...\r\n\r\nAs [this guy][1] mentioned about **getFilesDir()** you **don&#39;t need** any specific permission it&#39;s your own app private directory.\r\n\r\nAnd about the permissions [this link][2] may help you for **deprecated** permissions (in short just **use** **MANAGE_EXTERNAL_STORAGE** for full Access).\r\n\r\nHere is how you can use it in manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\nAnd request in activity:\r\n\r\n    Intent intent = new Intent(ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,\r\n                Uri.parse(&quot;package:&quot; + getApplicationContext().getPackageName()));\r\n    startActivity(intent);\r\n\r\n\r\nIf by any chance you want to access **/Android/data/** it&#39;s a little tricky... you can&#39;t get full directory access and should get user permission for each and every file in that path, that **may not be pleasant** for user.\r\n\r\nHope this may answer your question.\r\n\r\n  [1]: https://stackoverflow.com/users/115145/commonsware\r\n  [2]: https://stackoverflow.com/questions/73620790/android-13-how-to-request-write-external-storage\r\n\r\n\r\n","title":"Which File picker to use for working with getFilesDir()?","body":"<p>Don't know if i understand your question correctly or not but here is my opinion...</p>\n<p>As <a href=\"https://stackoverflow.com/users/115145/commonsware\">this guy</a> mentioned about <strong>getFilesDir()</strong> you <strong>don't need</strong> any specific permission it's your own app private directory.</p>\n<p>And about the permissions <a href=\"https://stackoverflow.com/questions/73620790/android-13-how-to-request-write-external-storage\">this link</a> may help you for <strong>deprecated</strong> permissions (in short just <strong>use</strong> <strong>MANAGE_EXTERNAL_STORAGE</strong> for full Access).</p>\n<p>Here is how you can use it in manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>And request in activity:</p>\n<pre><code>Intent intent = new Intent(ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,\n            Uri.parse(&quot;package:&quot; + getApplicationContext().getPackageName()));\nstartActivity(intent);\n</code></pre>\n<p>If by any chance you want to access <strong>/Android/data/</strong> it's a little tricky... you can't get full directory access and should get user permission for each and every file in that path, that <strong>may not be pleasant</strong> for user.</p>\n<p>Hope this may answer your question.</p>\n"}],"owner":{"account_id":3128352,"reputation":37,"user_id":2646810,"display_name":"bzalar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77512275,"answer_count":1,"score":0,"last_activity_date":1700423854,"creation_date":1700412214,"question_id":77511613,"body_markdown":"My app uses deprecated file picker com.adityak:browsemyfiles for accessing app-specific files for saving and loading those files into the app.\r\nWith Android 13 I ran into the problem because this feature stopped working since there WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE permissions are no longer supported.\r\nI would like to access the same folder with getFilesDir() where users have their files.\r\nWhat is the best way to allow users to save and load files from this location?","title":"Which File picker to use for working with getFilesDir()?","body":"<p>My app uses deprecated file picker com.adityak:browsemyfiles for accessing app-specific files for saving and loading those files into the app.\nWith Android 13 I ran into the problem because this feature stopped working since there WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE permissions are no longer supported.\nI would like to access the same folder with getFilesDir() where users have their files.\nWhat is the best way to allow users to save and load files from this location?</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":5653136,"reputation":1917,"user_id":5162155,"accept_rate":100,"display_name":"abc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700421894,"creation_date":1700421894,"answer_id":77512175,"question_id":77512101,"body_markdown":"If your goal is to take a POJO and serialize to Json, you can configure an ObjectMapper from Jackson to do this for you.\r\n\r\n\r\nHere is a short example,\r\n\r\n```\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nvar jsonString = objectMapper.writeValueToString(obj); \r\n\r\nRequestBody requestBody = RequestBody.create(\r\n    MediaType.parse(&quot;application/json&quot;), jsonString);\r\n\r\n// rest of code here.\r\n```\r\n\r\nYou&#39;ll need to grab the Jackson library depending on what dependency management framework you are using. \r\n\r\nIf you need escaped Json you can accomplish this by a simple string replace to add escaped quotes.\r\n","title":"Convert Java Object to JSON for okhttp body","body":"<p>If your goal is to take a POJO and serialize to Json, you can configure an ObjectMapper from Jackson to do this for you.</p>\n<p>Here is a short example,</p>\n<pre><code>\nObjectMapper objectMapper = new ObjectMapper();\nvar jsonString = objectMapper.writeValueToString(obj); \n\nRequestBody requestBody = RequestBody.create(\n    MediaType.parse(&quot;application/json&quot;), jsonString);\n\n// rest of code here.\n</code></pre>\n<p>You'll need to grab the Jackson library depending on what dependency management framework you are using.</p>\n<p>If you need escaped Json you can accomplish this by a simple string replace to add escaped quotes.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77512175,"answer_count":1,"score":0,"last_activity_date":1700421894,"creation_date":1700420612,"question_id":77512101,"body_markdown":"I have the following code:\r\n\r\n```java\r\nApolloRequestObj obj = ApolloRequestObj.builder()\r\n    .api_key(&quot;3434&quot;)\r\n    .domains(List.of(&quot;test&quot;))\r\n    .build();\r\n\r\n// how to send the object as a request body?\r\nRequestBody requestBody = RequestBody.create(\r\n    MediaType.parse(&quot;application/json&quot;), json);\r\n\r\nRequest request = new Request.Builder()\r\n    .url(&quot;.......&quot;)\r\n    .post(requestBody)\r\n    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    .header(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\r\n    .build();\r\n```\r\n\r\nThe object for request:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Builder\r\nprivate class ApolloRequestObj {\r\n    public String api_key;\r\n    public List &lt; String &gt; domains;\r\n}\r\n```\r\n\r\nWhen I initialize the Object with some data I want to send it with payload data to a remote host. Do you know how I can send the object?","title":"Convert Java Object to JSON for okhttp body","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ApolloRequestObj obj = ApolloRequestObj.builder()\n    .api_key(&quot;3434&quot;)\n    .domains(List.of(&quot;test&quot;))\n    .build();\n\n// how to send the object as a request body?\nRequestBody requestBody = RequestBody.create(\n    MediaType.parse(&quot;application/json&quot;), json);\n\nRequest request = new Request.Builder()\n    .url(&quot;.......&quot;)\n    .post(requestBody)\n    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n    .header(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\n    .build();\n</code></pre>\n<p>The object for request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Builder\nprivate class ApolloRequestObj {\n    public String api_key;\n    public List &lt; String &gt; domains;\n}\n</code></pre>\n<p>When I initialize the Object with some data I want to send it with payload data to a remote host. Do you know how I can send the object?</p>\n"},{"tags":["java","webhooks","git-merge","git-commit","observer-pattern"],"owner":{"account_id":24647929,"reputation":11,"user_id":18545358,"display_name":"Kere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700421257,"creation_date":1700420556,"question_id":77512094,"body_markdown":"I&#39;m writing Git Repository implementation using Observers Pattern, but I&#39;m getting an error. \r\n\r\nI have methods for adding webhook, commit and merge, but somehow it doesn&#39;t retrieve full information, which I think is related to merge method, but can&#39;t figure out exactly what is wrong with it, since it should be displaying whole information. \r\nHere&#39;s the error message I get:\r\n\r\n&gt; org.junit.ComparisonFailure: \r\nExpected :[Event[COMMIT, dev-readme, [Commit[Johnny Mnemonic, [Added README.md, Added project description]]]], Event[COMMIT, dev-readme, [Commit[Johnny Mnemonic, [Added functional requirements]]]], Event[COMMIT, dev-readme, [Commit[Johnny Silverhand, [Added cy ...\r\n\r\n&gt; Actual   :[Event[COMMIT, dev-readme, [Commit[Johnny Mnemonic, [Added README.txt]], Commit[Johnny Mnemonic, [Removed README.txt]], Commit[Johnny Mnemonic, [Added README.md, Added project description]], Commit[Johnny Mnemonic, [Added functional requirements]], C ...\r\n\r\n```\r\nimport java.util.List;\r\n\r\npublic interface WebHook {\r\n    String branch();\r\n    Event.Type type();\r\n    List &lt; Event &gt; caughtEvents();\r\n    void onEvent(Event event);\r\n}\r\npublic interface Repository {\r\n    void addWebHook(WebHook webHook);\r\n    Commit commit(String branch, String author, String[] changes);\r\n    void merge(String sourceBranch, String targetBranch);\r\n}\r\npublic class GitRepoObservers {\r\n    public static Repository newRepository() {\r\n        return new RepositoryImplementation();\r\n    }\r\n\r\n    public static WebHook mergeToBranchWebHook(String branchName) {\r\n        return new MergeToBranchWebHookImplementation(branchName);\r\n    }\r\n\r\n    public static WebHook commitToBranchWebHook(String branchName) {\r\n        return new CommitToBranchWebHookImplementation(branchName);\r\n    }\r\n}\r\npublic class RepositoryImplementation implements Repository {\r\n    private List &lt; WebHook &gt; webHookList;\r\n    private List &lt; Commit &gt; commits;\r\n    public RepositoryImplementation() {\r\n        webHookList = new ArrayList &lt; &gt; ();\r\n        commits = new ArrayList &lt; &gt; ();\r\n    }\r\n    @Override\r\n    public void addWebHook(WebHook webHook) {\r\n        webHookList.add(webHook);\r\n    }\r\n\r\n    @Override\r\n    public Commit commit(String branch, String author, String[] changes) {\r\n        Commit commit = new Commit(author, changes);\r\n        commits.add(commit);\r\n        Event event = new Event(Event.Type.COMMIT, branch, commits);\r\n        updateObserversAboutEvent(event);\r\n        return commit;\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void merge(String sourceBranch, String targetBranch) {\r\n        Event event = new Event(Event.Type.MERGE, targetBranch, new ArrayList &lt; &gt; ());\r\n        updateObserversAboutEvent(event);\r\n    }\r\n\r\n    private void updateObserversAboutEvent(Event event) {\r\n        for (WebHook webHook: webHookList) {\r\n            webHook.onEvent(event);\r\n        }\r\n    }\r\n}\r\n\r\nenter public class MergeToBranchWebHookImplementation implements WebHook {\r\n    private String branchName;\r\n    private List &lt; Event &gt; eventList;\r\n\r\n    public MergeToBranchWebHookImplementation(String branchName) {\r\n        this.branchName = branchName;\r\n        eventList = new ArrayList &lt; &gt; ();\r\n    }\r\n    @Override\r\n    public String branch() {\r\n        return branchName;\r\n    }\r\n\r\n    @Override\r\n    public Event.Type type() {\r\n        return Event.Type.MERGE;\r\n    }\r\n\r\n    @Override\r\n    public List &lt; Event &gt; caughtEvents() {\r\n        return eventList;\r\n    }\r\n\r\n    @Override\r\n    public void onEvent(Event event) {\r\n        if (event.type().equals(Event.Type.MERGE) &amp;&amp; event.branch().equals(branchName)) {\r\n            eventList.add(event);\r\n        }\r\n    }\r\n}\r\n```","title":"Git Repository Implementation with Observers Design Pattern","body":"<p>I'm writing Git Repository implementation using Observers Pattern, but I'm getting an error.</p>\n<p>I have methods for adding webhook, commit and merge, but somehow it doesn't retrieve full information, which I think is related to merge method, but can't figure out exactly what is wrong with it, since it should be displaying whole information.\nHere's the error message I get:</p>\n<blockquote>\n<p>org.junit.ComparisonFailure:\nExpected :[Event[COMMIT, dev-readme, [Commit[Johnny Mnemonic, [Added README.md, Added project description]]]], Event[COMMIT, dev-readme, [Commit[Johnny Mnemonic, [Added functional requirements]]]], Event[COMMIT, dev-readme, [Commit[Johnny Silverhand, [Added cy ...</p>\n</blockquote>\n<blockquote>\n<p>Actual   :[Event[COMMIT, dev-readme, [Commit[Johnny Mnemonic, [Added README.txt]], Commit[Johnny Mnemonic, [Removed README.txt]], Commit[Johnny Mnemonic, [Added README.md, Added project description]], Commit[Johnny Mnemonic, [Added functional requirements]], C ...</p>\n</blockquote>\n<pre><code>import java.util.List;\n\npublic interface WebHook {\n    String branch();\n    Event.Type type();\n    List &lt; Event &gt; caughtEvents();\n    void onEvent(Event event);\n}\npublic interface Repository {\n    void addWebHook(WebHook webHook);\n    Commit commit(String branch, String author, String[] changes);\n    void merge(String sourceBranch, String targetBranch);\n}\npublic class GitRepoObservers {\n    public static Repository newRepository() {\n        return new RepositoryImplementation();\n    }\n\n    public static WebHook mergeToBranchWebHook(String branchName) {\n        return new MergeToBranchWebHookImplementation(branchName);\n    }\n\n    public static WebHook commitToBranchWebHook(String branchName) {\n        return new CommitToBranchWebHookImplementation(branchName);\n    }\n}\npublic class RepositoryImplementation implements Repository {\n    private List &lt; WebHook &gt; webHookList;\n    private List &lt; Commit &gt; commits;\n    public RepositoryImplementation() {\n        webHookList = new ArrayList &lt; &gt; ();\n        commits = new ArrayList &lt; &gt; ();\n    }\n    @Override\n    public void addWebHook(WebHook webHook) {\n        webHookList.add(webHook);\n    }\n\n    @Override\n    public Commit commit(String branch, String author, String[] changes) {\n        Commit commit = new Commit(author, changes);\n        commits.add(commit);\n        Event event = new Event(Event.Type.COMMIT, branch, commits);\n        updateObserversAboutEvent(event);\n        return commit;\n    }\n\n\n\n    @Override\n    public void merge(String sourceBranch, String targetBranch) {\n        Event event = new Event(Event.Type.MERGE, targetBranch, new ArrayList &lt; &gt; ());\n        updateObserversAboutEvent(event);\n    }\n\n    private void updateObserversAboutEvent(Event event) {\n        for (WebHook webHook: webHookList) {\n            webHook.onEvent(event);\n        }\n    }\n}\n\nenter public class MergeToBranchWebHookImplementation implements WebHook {\n    private String branchName;\n    private List &lt; Event &gt; eventList;\n\n    public MergeToBranchWebHookImplementation(String branchName) {\n        this.branchName = branchName;\n        eventList = new ArrayList &lt; &gt; ();\n    }\n    @Override\n    public String branch() {\n        return branchName;\n    }\n\n    @Override\n    public Event.Type type() {\n        return Event.Type.MERGE;\n    }\n\n    @Override\n    public List &lt; Event &gt; caughtEvents() {\n        return eventList;\n    }\n\n    @Override\n    public void onEvent(Event event) {\n        if (event.type().equals(Event.Type.MERGE) &amp;&amp; event.branch().equals(branchName)) {\n            eventList.add(event);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","jtextfield"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700420447,"post_id":77512047,"comment_id":136649355,"body_markdown":"*so I assume I&#39;m just not aware of some limitation with the Layout Manager* - correct. When using a GridBagLayout is there is not enough spaces to display the component at its preferred size you will see this behaviour. It would appear you are using frame.setSize(...) to randomly set the size of the frame. Don&#39;t. Instead use frame.pack() after adding all the components.","body":"<i>so I assume I&#39;m just not aware of some limitation with the Layout Manager</i> - correct. When using a GridBagLayout is there is not enough spaces to display the component at its preferred size you will see this behaviour. It would appear you are using frame.setSize(...) to randomly set the size of the frame. Don&#39;t. Instead use frame.pack() after adding all the components."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700420534,"post_id":77512047,"comment_id":136649369,"body_markdown":"`secondaryDoctor.setPreferredSize(new Dimension(10,20));` - Also, don&#39;t manually set the preferred size. Each Swing component will determine its own preferred size.","body":"<code>secondaryDoctor.setPreferredSize(new Dimension(10,20));</code> - Also, don&#39;t manually set the preferred size. Each Swing component will determine its own preferred size."}],"answers":[{"tags":[],"owner":{"account_id":13664581,"reputation":179,"user_id":9858790,"display_name":"Eugene Trofimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700420287,"creation_date":1700420287,"answer_id":77512082,"question_id":77512047,"body_markdown":"sometimes it&#39;s needed to set size of frame or the panel. also method `pack()` could help: \r\n\r\n     frame.pack();\r\n     frame.setMinimumSize(frame.getSize());","title":"JTextField is too small/ can&#39;t seem to format it","body":"<p>sometimes it's needed to set size of frame or the panel. also method <code>pack()</code> could help:</p>\n<pre><code> frame.pack();\n frame.setMinimumSize(frame.getSize());\n</code></pre>\n"}],"owner":{"account_id":17784773,"reputation":1,"user_id":22946844,"display_name":"yeroc elleros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700420287,"creation_date":1700419485,"question_id":77512047,"body_markdown":"I am trying to format these JTextFields, and they were working fine. Whenever I add the 4th and 5th rows however, the JTextfields become like 1 character long (like in the screenshot). I don&#39;t see any syntax errors or anything since the 1st through 3rd rows work fine on their own -- so I assume I&#39;m just not aware of some limitation with the Layout Manager or something.\r\n\r\n[enter image description here](https://i.stack.imgur.com/B9fXs.jpg)\r\n\r\n\r\n```\r\npublic PatientTab () {\r\n\t\t\r\n\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\tsetLayout(new GridBagLayout());\r\n\t\t\r\n\t\tButtonGroup sexGroup = new ButtonGroup();\r\n                sexGroup.add(maleRadioButton);\r\n                sexGroup.add(femaleRadioButton);\r\n\t\t\r\n\t\t//row 1\r\n\t\tgbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n\t\tadd(new JLabel(&quot;First Name:&quot;), gbc);\r\n\t\tgbc.gridx = 1;\r\n\t\tadd(fName, gbc);\r\n\t\t\r\n\t\tgbc.gridx = 2;\r\n\t\tadd(new JLabel(&quot;Middle Initial:&quot;), gbc);\r\n\t\tgbc.gridx = 3;\r\n\t\tadd(mName, gbc);\r\n\t\t\r\n\t\tgbc.gridx = 4;\r\n\t\tadd(new JLabel(&quot;Last Name:&quot;), gbc);\r\n\t\tgbc.gridx = 5;\r\n\t\tadd(lName, gbc);\r\n\t\t\r\n\t\t// Row 2\r\n\t        gbc.gridx = 0;\r\n\t        gbc.gridy = 1;\r\n\t        add(new JLabel(&quot;Sex:&quot;), gbc);\r\n\r\n\t        gbc.gridx = 1;\r\n\t        add(maleRadioButton, gbc);\r\n\r\n\t        gbc.gridx = 2;\r\n\t        add(femaleRadioButton, gbc);\r\n\t    \r\n\t        // Row 3\r\n\t        gbc.gridx = 0;\r\n\t        gbc.gridy = 2;\r\n\t\tadd(new JLabel(&quot;SSN:&quot;), gbc);\r\n\t\t\r\n\t\tgbc.gridx = 1;\r\n\t\tadd(ssn, gbc);\r\n\t\t\r\n\t\tgbc.gridx = 2;\r\n\t\tadd(new JLabel(&quot;Primarary-care Doctor:&quot;), gbc);\r\n\t\t\r\n\t\tgbc.gridx = 3;\r\n\t\tadd(primaryDoctor, gbc);\r\n\t\t\r\n\t\t// Row 4\r\n\t\tgbc.gridx = 0;\r\n\t        gbc.gridy = 3;\r\n\t\tadd(new JLabel(&quot;Secondary-care Doctor:&quot;), gbc);\r\n\t\t\r\n\t\tgbc.gridx = 1;\r\n\t\tsecondaryDoctor.setPreferredSize(new Dimension(10,20));\r\n\t\tadd(secondaryDoctor, gbc);\r\n\t\t\r\n\t\t\r\n\t\t// Row 5\r\n\t\tgbc.gridx = 0;\r\n\t\tgbc.gridy = 4;\r\n\t\tadd(new JLabel(&quot;Current Phone Number:&quot;), gbc);\r\n\t\t\r\n\t\tgbc.gridx = 1;\r\n\t\tadd(currentPhone, gbc);\r\n\t    \r\n\t    \r\n\t\t/*gbc.gridx = 0;\r\n\t\tgbc.gridy = 1;\r\n\t\tadd(addButton, gbc);*/\r\n\t\t\r\n\t}\r\n```\r\n","title":"JTextField is too small/ can&#39;t seem to format it","body":"<p>I am trying to format these JTextFields, and they were working fine. Whenever I add the 4th and 5th rows however, the JTextfields become like 1 character long (like in the screenshot). I don't see any syntax errors or anything since the 1st through 3rd rows work fine on their own -- so I assume I'm just not aware of some limitation with the Layout Manager or something.</p>\n<p><a href=\"https://i.stack.imgur.com/B9fXs.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public PatientTab () {\n        \n        GridBagConstraints gbc = new GridBagConstraints();\n        setLayout(new GridBagLayout());\n        \n        ButtonGroup sexGroup = new ButtonGroup();\n                sexGroup.add(maleRadioButton);\n                sexGroup.add(femaleRadioButton);\n        \n        //row 1\n        gbc.gridx = 0;\n                gbc.gridy = 0;\n        add(new JLabel(&quot;First Name:&quot;), gbc);\n        gbc.gridx = 1;\n        add(fName, gbc);\n        \n        gbc.gridx = 2;\n        add(new JLabel(&quot;Middle Initial:&quot;), gbc);\n        gbc.gridx = 3;\n        add(mName, gbc);\n        \n        gbc.gridx = 4;\n        add(new JLabel(&quot;Last Name:&quot;), gbc);\n        gbc.gridx = 5;\n        add(lName, gbc);\n        \n        // Row 2\n            gbc.gridx = 0;\n            gbc.gridy = 1;\n            add(new JLabel(&quot;Sex:&quot;), gbc);\n\n            gbc.gridx = 1;\n            add(maleRadioButton, gbc);\n\n            gbc.gridx = 2;\n            add(femaleRadioButton, gbc);\n        \n            // Row 3\n            gbc.gridx = 0;\n            gbc.gridy = 2;\n        add(new JLabel(&quot;SSN:&quot;), gbc);\n        \n        gbc.gridx = 1;\n        add(ssn, gbc);\n        \n        gbc.gridx = 2;\n        add(new JLabel(&quot;Primarary-care Doctor:&quot;), gbc);\n        \n        gbc.gridx = 3;\n        add(primaryDoctor, gbc);\n        \n        // Row 4\n        gbc.gridx = 0;\n            gbc.gridy = 3;\n        add(new JLabel(&quot;Secondary-care Doctor:&quot;), gbc);\n        \n        gbc.gridx = 1;\n        secondaryDoctor.setPreferredSize(new Dimension(10,20));\n        add(secondaryDoctor, gbc);\n        \n        \n        // Row 5\n        gbc.gridx = 0;\n        gbc.gridy = 4;\n        add(new JLabel(&quot;Current Phone Number:&quot;), gbc);\n        \n        gbc.gridx = 1;\n        add(currentPhone, gbc);\n        \n        \n        /*gbc.gridx = 0;\n        gbc.gridy = 1;\n        add(addButton, gbc);*/\n        \n    }\n</code></pre>\n"},{"tags":["javascript","java","html","swing","button"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700411312,"post_id":77511569,"comment_id":136648363,"body_markdown":"You&#39;re trying to open and display a Swing application on a web page, and that is not how you do this. The old way was via applets, such as by creating a JApplet. In 2023, the new way is to not do this, to instead use HTML/JS/CSS along with any JS framework, to create your online GUI.","body":"You&#39;re trying to open and display a Swing application on a web page, and that is not how you do this. The old way was via applets, such as by creating a JApplet. In 2023, the new way is to not do this, to instead use HTML/JS/CSS along with any JS framework, to create your online GUI."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700419927,"post_id":77511569,"comment_id":136649288,"body_markdown":"Also, you are posting some of your code as an image, and you don&#39;t want to do this. No one can easily copy-paste and then try to run and debug code if it is presented as an image. If you&#39;re doing this because the site tells you that you can&#39;t post more code, then you this means that you will want to add more text that tells and describes in greater detail the code, what it&#39;s trying to do, why you&#39;re trying to do this -- what overriding goal you&#39;re trying to achieve, more specifics about any problems, and such. If you have not yet done so, please revie the [ask] and [tour] links.","body":"Also, you are posting some of your code as an image, and you don&#39;t want to do this. No one can easily copy-paste and then try to run and debug code if it is presented as an image. If you&#39;re doing this because the site tells you that you can&#39;t post more code, then you this means that you will want to add more text that tells and describes in greater detail the code, what it&#39;s trying to do, why you&#39;re trying to do this -- what overriding goal you&#39;re trying to achieve, more specifics about any problems, and such. If you have not yet done so, please revie the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> links."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700428630,"post_id":77511569,"comment_id":136650225,"body_markdown":"You might find interesting either the [Flow or Hilla](https://en.wikipedia.org/wiki/Vaadin) frameworks from Vaadin Ltd.","body":"You might find interesting either the <a href=\"https://en.wikipedia.org/wiki/Vaadin\" rel=\"nofollow noreferrer\">Flow or Hilla</a> frameworks from Vaadin Ltd."}],"owner":{"account_id":29736627,"reputation":1,"user_id":22790002,"display_name":"Ven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700415729,"answer_count":0,"score":-1,"last_activity_date":1700419801,"creation_date":1700411075,"question_id":77511569,"body_markdown":"I have created an HTML file and there&#39;s a Javascript function tied to a button that calls on my Java file which opens a login page. What am I missing/ what can I add to make it work so when the website is live when the user clicks the button, the Jframe pops up that ? Thank you for your help and time today!\r\n\r\nHere is the line of code I tried\r\n\r\n***membership.html***\r\n```\r\n&lt;h5&gt;Find Member Status&lt;/h5&gt;\r\n            &lt;button type=&quot;button&quot; onclick=&quot;openloginwindow()&quot;&gt;Business Log In&lt;/button&gt; &lt;! java fucntion to open java login window &gt;\r\n            &lt;/div&gt;\t\t\t\r\n\t\t    &lt;script&gt;\t\r\n\t\t\t\tfunction openloginwindow(){\r\n\t\t\t\t\tvar javaClass = &quot;loginwindow&quot;;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar javaObject = new JavaObject();\r\n\t\t\t\t\t\r\n\t\t\t\t\tjavaObject.openloginwindow();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t&lt;/script&gt;\r\n           \r\n```\r\n\r\n\r\n***loginwindow.java***\r\n\r\n\r\n![Block of code that creates the login page](https://i.stack.imgur.com/HeU0d.png)\r\n\r\n***JavaObject.java***\r\n\r\n```\r\nimport java.util.HashMap;\r\n\r\npublic class JavaObject {\r\n\tpublic void openLoginWindow() {\r\n\t\t\r\n\t\tHashMap&lt;String,String&gt; bakeryLogin = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tloginwindow loginWindow = new loginwindow(bakeryLogin);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nPlease let me know what I did wrong and how to guide me into the right direction!\r\n\r\n","title":"How would I make a button in my HTML file, call on my java file that pops up a login page?","body":"<p>I have created an HTML file and there's a Javascript function tied to a button that calls on my Java file which opens a login page. What am I missing/ what can I add to make it work so when the website is live when the user clicks the button, the Jframe pops up that ? Thank you for your help and time today!</p>\n<p>Here is the line of code I tried</p>\n<p><em><strong>membership.html</strong></em></p>\n<pre><code>&lt;h5&gt;Find Member Status&lt;/h5&gt;\n            &lt;button type=&quot;button&quot; onclick=&quot;openloginwindow()&quot;&gt;Business Log In&lt;/button&gt; &lt;! java fucntion to open java login window &gt;\n            &lt;/div&gt;          \n            &lt;script&gt;    \n                function openloginwindow(){\n                    var javaClass = &quot;loginwindow&quot;;\n                    \n                    var javaObject = new JavaObject();\n                    \n                    javaObject.openloginwindow();\n                                        \n                }\n            &lt;/script&gt;\n           \n</code></pre>\n<p><em><strong>loginwindow.java</strong></em></p>\n<p><img src=\"https://i.stack.imgur.com/HeU0d.png\" alt=\"Block of code that creates the login page\" /></p>\n<p><em><strong>JavaObject.java</strong></em></p>\n<pre><code>import java.util.HashMap;\n\npublic class JavaObject {\n    public void openLoginWindow() {\n        \n        HashMap&lt;String,String&gt; bakeryLogin = new HashMap&lt;&gt;();\n        \n        loginwindow loginWindow = new loginwindow(bakeryLogin);\n        \n    }\n\n}\n\n</code></pre>\n<p>Please let me know what I did wrong and how to guide me into the right direction!</p>\n"},{"tags":["java","eclipse","spring-boot","spring-tool-suite","spring-tools-4"],"comments":[{"owner":{"account_id":4564383,"reputation":372,"user_id":3705777,"accept_rate":80,"display_name":"Xeshan J"},"score":0,"creation_date":1555390508,"post_id":55697670,"comment_id":98083012,"body_markdown":"You are unable to see option for creating spring boot project in Eclipse Luna or STS?","body":"You are unable to see option for creating spring boot project in Eclipse Luna or STS?"},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1555396608,"post_id":55697670,"comment_id":98085111,"body_markdown":"Did you install anything in Eclipse or did you just install the separate stand-alone STS which doesn&#39;t add anything to Eclipse? Eclipse Luna is quite old and the current Spring Tools code probably won&#39;t run on it.","body":"Did you install anything in Eclipse or did you just install the separate stand-alone STS which doesn&#39;t add anything to Eclipse? Eclipse Luna is quite old and the current Spring Tools code probably won&#39;t run on it."},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":1,"creation_date":1555403359,"post_id":55697670,"comment_id":98088495,"body_markdown":"Neither STS 3.9.8 nor Spring Tools 4 are compatible with Eclipse Luna (4.4).","body":"Neither STS 3.9.8 nor Spring Tools 4 are compatible with Eclipse Luna (4.4)."},{"owner":{"account_id":4775778,"reputation":173,"user_id":3858961,"accept_rate":20,"display_name":"Maverick"},"score":0,"creation_date":1555456158,"post_id":55697670,"comment_id":98115818,"body_markdown":"@XeshanJ There are two ways to create spring boot application one by installing STS from eclipse market place. I installed STS as mentioned above but I am unable to create spring boot project(because I am unable to see spring starter project under new option in eclipse ). Meanwhile I am using second option, creat spring boot project from https://start.spring.io and import in eclipse as existing maven project.","body":"@XeshanJ There are two ways to create spring boot application one by installing STS from eclipse market place. I installed STS as mentioned above but I am unable to create spring boot project(because I am unable to see spring starter project under new option in eclipse ). Meanwhile I am using second option, creat spring boot project from <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> and import in eclipse as existing maven project."},{"owner":{"account_id":4775778,"reputation":173,"user_id":3858961,"accept_rate":20,"display_name":"Maverick"},"score":0,"creation_date":1559717936,"post_id":55697670,"comment_id":99503347,"body_markdown":"@MartinLippert I installed new version of eclipse than install STS from eclipse market place. Now I can see Springstarter project in eclipse under new project --&gt; SpringBoot .","body":"@MartinLippert I installed new version of eclipse than install STS from eclipse market place. Now I can see Springstarter project in eclipse under new project --&gt; SpringBoot ."}],"answers":[{"tags":[],"owner":{"account_id":21173197,"reputation":21,"user_id":15569076,"display_name":"Valli Avudaiappan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628241270,"creation_date":1628241270,"answer_id":68679112,"question_id":55697670,"body_markdown":"Restart the eclipse IDE after the spring installation. If it is still not showing then go to file =&gt; new =&gt; other =&gt; expand spring boot in the wizard screen =&gt; able to see &quot;spring starter project&quot;","title":"Unable to see spring starter project in eclipse","body":"<p>Restart the eclipse IDE after the spring installation. If it is still not showing then go to file =&gt; new =&gt; other =&gt; expand spring boot in the wizard screen =&gt; able to see &quot;spring starter project&quot;</p>\n"},{"tags":[],"owner":{"account_id":20993227,"reputation":33,"user_id":15425659,"display_name":"Jessy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645268186,"creation_date":1645268186,"answer_id":71184331,"question_id":55697670,"body_markdown":"I just had the same problem while installing **Spring Tools\r\n3 (Standalone Edition) 3.9.13.RELEASE)**.\r\n\r\nHow I solved? By reinstalling it:\r\n\r\n  1. Uninstall STS: **Help&gt; Eclipse Marketplace &gt; Installed** then on **Spring Tools 3 (Standalone Edition) 3.9.13.RELEASE)** click **change** then uninstall\r\n  2. Then install again and don&#39;t forget to restart Eclipse once finished\r\n\r\nI hope I have helped.","title":"Unable to see spring starter project in eclipse","body":"<p>I just had the same problem while installing <strong>Spring Tools\n3 (Standalone Edition) 3.9.13.RELEASE)</strong>.</p>\n<p>How I solved? By reinstalling it:</p>\n<ol>\n<li>Uninstall STS: <strong>Help&gt; Eclipse Marketplace &gt; Installed</strong> then on <strong>Spring Tools 3 (Standalone Edition) 3.9.13.RELEASE)</strong> click <strong>change</strong> then uninstall</li>\n<li>Then install again and don't forget to restart Eclipse once finished</li>\n</ol>\n<p>I hope I have helped.</p>\n"},{"tags":[],"owner":{"account_id":28888357,"reputation":11,"user_id":22126139,"display_name":"chathudu sahassara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700419737,"creation_date":1700419737,"answer_id":77512063,"question_id":55697670,"body_markdown":"install spring tool4 Help&gt; Eclipse Marketplace &gt; Installed then on Spring Tools 4 ","title":"Unable to see spring starter project in eclipse","body":"<p>install spring tool4 Help&gt; Eclipse Marketplace &gt; Installed then on Spring Tools 4</p>\n"}],"owner":{"account_id":4775778,"reputation":173,"user_id":3858961,"accept_rate":20,"display_name":"Maverick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8086,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1700419737,"creation_date":1555364842,"question_id":55697670,"body_markdown":"I have eclipse IDE luna 4.4.0 installed on my sytsem. I also installed Spring Tool Suite 3(3.9.8.Release) and Spring Tools 4- for spring boot(4.1.0.Release). I am unable to see Springstarter project in eclipse under new project option. ","title":"Unable to see spring starter project in eclipse","body":"<p>I have eclipse IDE luna 4.4.0 installed on my sytsem. I also installed Spring Tool Suite 3(3.9.8.Release) and Spring Tools 4- for spring boot(4.1.0.Release). I am unable to see Springstarter project in eclipse under new project option. </p>\n"},{"tags":["java","javafx","charts","styling"],"answers":[{"tags":[],"owner":{"account_id":16819762,"reputation":286,"user_id":12160558,"display_name":"ptan9o"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700419379,"creation_date":1700419379,"answer_id":77512039,"question_id":77511983,"body_markdown":"Adding this under &#39;.chart&#39; in the &#39;css&#39; file seems to have removed the line.\r\n\r\n```css\r\n    -fx-horizontal-zero-line-visible: false;\r\n    -fx-vertival-zero-line-visible: false;\r\n```","title":"Remove all borders and axis lines from JavaFX AreaChart","body":"<p>Adding this under '.chart' in the 'css' file seems to have removed the line.</p>\n<pre class=\"lang-css prettyprint-override\"><code>    -fx-horizontal-zero-line-visible: false;\n    -fx-vertival-zero-line-visible: false;\n</code></pre>\n"}],"owner":{"account_id":16819762,"reputation":286,"user_id":12160558,"display_name":"ptan9o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1700419403,"creation_date":1700418536,"question_id":77511983,"body_markdown":"\r\nI am trying to get down to a completely unstyled `AreaChart` using `JavaFX`. I want nothing but the actual graph line. So far I think I have achieved this accept for this annoying white line that appears along the bottom of the graph. Does anyone know how to remove this?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```java\r\n        int maxDataPoints = 200;\r\n\r\n        NumberAxis xAxis = new NumberAxis(0, maxDataPoints, 10);\r\n        xAxis.setForceZeroInRange(false);\r\n        xAxis.setAutoRanging(false);\r\n        xAxis.setTickLabelsVisible(false);\r\n        xAxis.setTickMarkVisible(false);\r\n        xAxis.setMinorTickVisible(false);\r\n        xAxis.setVisible(false);\r\n\r\n        NumberAxis yAxis = new NumberAxis(0, 1, 0.1);\r\n        yAxis.setTickLabelsVisible(false);\r\n        yAxis.setTickMarkVisible(false);\r\n        yAxis.setMinorTickVisible(false);\r\n        yAxis.setVisible(false);\r\n\r\n        AreaChart&lt;Number, Number&gt; areaChartAlt = new AreaChart&lt;&gt;(xAxis, yAxis);\r\n\r\n        areaChartAlt.minHeightProperty().bind(stackPane.heightProperty());\r\n\r\n        areaChartAlt.setCreateSymbols(false);\r\n\r\n        areaChartAlt.getXAxis().setVisible(false);\r\n        areaChartAlt.getYAxis().setVisible(false);\r\n\r\n        areaChartAlt.setLegendVisible(false);\r\n\r\n        stackPane.getChildren().add(areaChartAlt);\r\n        StackPane.setAlignment(areaChartAlt, Pos.CENTER);\r\n\r\n        XYChart.Series&lt;Number, Number&gt; series = new XYChart.Series&lt;&gt;();\r\n        for (int i = 0; i &lt; maxDataPoints; i++)\r\n        {\r\n            series.getData().add(new XYChart.Data&lt;&gt;(i, 0));\r\n        }\r\n\r\n        ThreadUtils.run(() -&gt; {\r\n            int counter = maxDataPoints;\r\n            while (true)\r\n            {\r\n                ThreadUtils.safeSleep(samplePeriodMs);\r\n                float value = (float) (counter % 100) * 0.01f;\r\n                int finalCounter = counter;\r\n                Platform.runLater(() -&gt; {\r\n                    var data = series.getData().remove(0);\r\n                    series.getData().add(new XYChart.Data&lt;&gt;(finalCounter, value));\r\n                    xAxis.setLowerBound(data.getXValue().intValue() + 1);\r\n                    xAxis.setUpperBound(finalCounter + 1);\r\n                });\r\n                counter++;\r\n            }\r\n        });\r\n\r\n        areaChartAlt.getData().add(series);\r\n\r\n        stackPane.setPadding(Insets.EMPTY);\r\n\r\n        borderPane.setCenter(stackPane);\r\n        BorderPane.setAlignment(stackPane, Pos.CENTER);\r\n```\r\n\r\n```css\r\n.chart {\r\n    -fx-padding: 0px;\r\n    -fx-background-color: transparent;\r\n    -fx-legend-visible: false;\r\n    -fx-border-color: transparent;\r\n    -fx-grid-lines-visible: false;\r\n    -fx-horizontal-grid-lines-visible: false;\r\n    -fx-vertical-grid-lines-visible: false;\r\n    -fx-minor-tick-visible: false;\r\n}\r\n\r\n.chart-content {\r\n    -fx-padding: 0px;\r\n    -fx-background-color: transparent;\r\n    -fx-border-color: transparent;\r\n    -fx-border-width: 0px;\r\n}\r\n\r\n.chart-plot-background {\r\n    -fx-background-color: transparent;\r\n}\r\n\r\n.axis {\r\n    -fx-side: null;\r\n}\r\n\r\n```\r\n## **Update:**\r\n\r\nAdding this under `.chart` in the `css` file seems to have removed the line. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qLLHA.png","title":"Remove all borders and axis lines from JavaFX AreaChart","body":"<p>I am trying to get down to a completely unstyled <code>AreaChart</code> using <code>JavaFX</code>. I want nothing but the actual graph line. So far I think I have achieved this accept for this annoying white line that appears along the bottom of the graph. Does anyone know how to remove this?</p>\n<p><a href=\"https://i.stack.imgur.com/qLLHA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qLLHA.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>        int maxDataPoints = 200;\n\n        NumberAxis xAxis = new NumberAxis(0, maxDataPoints, 10);\n        xAxis.setForceZeroInRange(false);\n        xAxis.setAutoRanging(false);\n        xAxis.setTickLabelsVisible(false);\n        xAxis.setTickMarkVisible(false);\n        xAxis.setMinorTickVisible(false);\n        xAxis.setVisible(false);\n\n        NumberAxis yAxis = new NumberAxis(0, 1, 0.1);\n        yAxis.setTickLabelsVisible(false);\n        yAxis.setTickMarkVisible(false);\n        yAxis.setMinorTickVisible(false);\n        yAxis.setVisible(false);\n\n        AreaChart&lt;Number, Number&gt; areaChartAlt = new AreaChart&lt;&gt;(xAxis, yAxis);\n\n        areaChartAlt.minHeightProperty().bind(stackPane.heightProperty());\n\n        areaChartAlt.setCreateSymbols(false);\n\n        areaChartAlt.getXAxis().setVisible(false);\n        areaChartAlt.getYAxis().setVisible(false);\n\n        areaChartAlt.setLegendVisible(false);\n\n        stackPane.getChildren().add(areaChartAlt);\n        StackPane.setAlignment(areaChartAlt, Pos.CENTER);\n\n        XYChart.Series&lt;Number, Number&gt; series = new XYChart.Series&lt;&gt;();\n        for (int i = 0; i &lt; maxDataPoints; i++)\n        {\n            series.getData().add(new XYChart.Data&lt;&gt;(i, 0));\n        }\n\n        ThreadUtils.run(() -&gt; {\n            int counter = maxDataPoints;\n            while (true)\n            {\n                ThreadUtils.safeSleep(samplePeriodMs);\n                float value = (float) (counter % 100) * 0.01f;\n                int finalCounter = counter;\n                Platform.runLater(() -&gt; {\n                    var data = series.getData().remove(0);\n                    series.getData().add(new XYChart.Data&lt;&gt;(finalCounter, value));\n                    xAxis.setLowerBound(data.getXValue().intValue() + 1);\n                    xAxis.setUpperBound(finalCounter + 1);\n                });\n                counter++;\n            }\n        });\n\n        areaChartAlt.getData().add(series);\n\n        stackPane.setPadding(Insets.EMPTY);\n\n        borderPane.setCenter(stackPane);\n        BorderPane.setAlignment(stackPane, Pos.CENTER);\n</code></pre>\n<pre class=\"lang-css prettyprint-override\"><code>.chart {\n    -fx-padding: 0px;\n    -fx-background-color: transparent;\n    -fx-legend-visible: false;\n    -fx-border-color: transparent;\n    -fx-grid-lines-visible: false;\n    -fx-horizontal-grid-lines-visible: false;\n    -fx-vertical-grid-lines-visible: false;\n    -fx-minor-tick-visible: false;\n}\n\n.chart-content {\n    -fx-padding: 0px;\n    -fx-background-color: transparent;\n    -fx-border-color: transparent;\n    -fx-border-width: 0px;\n}\n\n.chart-plot-background {\n    -fx-background-color: transparent;\n}\n\n.axis {\n    -fx-side: null;\n}\n\n</code></pre>\n<h2><strong>Update:</strong></h2>\n<p>Adding this under <code>.chart</code> in the <code>css</code> file seems to have removed the line.</p>\n"},{"tags":["java","windows","swt","darkmode"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700448352,"post_id":77511969,"comment_id":136651890,"body_markdown":"you are using an old branch of SWT. Try first with the latest release.","body":"you are using an old branch of SWT. Try first with the latest release."},{"owner":{"account_id":9787909,"reputation":3,"user_id":7253624,"display_name":"Johannes1984"},"score":0,"creation_date":1700638947,"post_id":77511969,"comment_id":136677912,"body_markdown":"@aled: Now I have updated to SWT Maven version 3.124.100 which is the current version of Win32 x86_64. The dark theme is still not used by my SWT application. Do you suppose that Win32 x86_64 is the wrong branch and I should try another one?","body":"@aled: Now I have updated to SWT Maven version 3.124.100 which is the current version of Win32 x86_64. The dark theme is still not used by my SWT application. Do you suppose that Win32 x86_64 is the wrong branch and I should try another one?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700647582,"post_id":77511969,"comment_id":136679354,"body_markdown":"Try SWT 4.x. you are using 3.x which is an older branch.","body":"Try SWT 4.x. you are using 3.x which is an older branch."},{"owner":{"account_id":9787909,"reputation":3,"user_id":7253624,"display_name":"Johannes1984"},"score":0,"creation_date":1700670713,"post_id":77511969,"comment_id":136683898,"body_markdown":"If I follow on the SWT web page (https://www.eclipse.org/swt/) the link for the Maven artifact of Windows, I get only to this branch. Version 3.124.100 has been the current version for two months now. I think, a version 4.x is not available via Maven.\nNow I have integrated SWT 4.29 for Windows (https://download.eclipse.org/eclipse/downloads/drops4/R-4.29-202309031000/) without Maven. Still the dark theme is not working when I start the application.","body":"If I follow on the SWT web page (<a href=\"https://www.eclipse.org/swt/\" rel=\"nofollow noreferrer\">eclipse.org/swt</a>) the link for the Maven artifact of Windows, I get only to this branch. Version 3.124.100 has been the current version for two months now. I think, a version 4.x is not available via Maven. Now I have integrated SWT 4.29 for Windows (<a href=\"https://download.eclipse.org/eclipse/downloads/drops4/R-4.29-202309031000/\" rel=\"nofollow noreferrer\">download.eclipse.org/eclipse/downloads/drops4/&hellip;</a>) without Maven. Still the dark theme is not working when I start the application."},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1700744888,"post_id":77511969,"comment_id":136693811,"body_markdown":"@aled 3.124.100 is the SWT plug-in version in Eclipse 4.29 which corresponds to SWT version 4962r3 which is the current version of SWT.","body":"@aled 3.124.100 is the SWT plug-in version in Eclipse 4.29 which corresponds to SWT version 4962r3 which is the current version of SWT."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700756550,"post_id":77511969,"comment_id":136695937,"body_markdown":"These links maybe useful: https://eclipse.dev/eclipse/news/4.16/platform_isv.php#win-dark-tweaks, https://github.com/eclipse-platform/eclipse.platform.ui/issues/246","body":"These links maybe useful: <a href=\"https://eclipse.dev/eclipse/news/4.16/platform_isv.php#win-dark-tweaks\" rel=\"nofollow noreferrer\">eclipse.dev/eclipse/news/4.16/platform_isv.php#win-dark-twea&zwnj;&#8203;ks</a>, <a href=\"https://github.com/eclipse-platform/eclipse.platform.ui/issues/246\" rel=\"nofollow noreferrer\">github.com/eclipse-platform/eclipse.platform.ui/issues/246</a>"},{"owner":{"account_id":9787909,"reputation":3,"user_id":7253624,"display_name":"Johannes1984"},"score":0,"creation_date":1700910354,"post_id":77511969,"comment_id":136711663,"body_markdown":"@greg-449: Thanks for clarification. Do you know a mapping of SWT maven / plug-in versions and Eclipse SDK versions?","body":"@greg-449: Thanks for clarification. Do you know a mapping of SWT maven / plug-in versions and Eclipse SDK versions?"},{"owner":{"account_id":9787909,"reputation":3,"user_id":7253624,"display_name":"Johannes1984"},"score":0,"creation_date":1700910552,"post_id":77511969,"comment_id":136711674,"body_markdown":"@aled: Thanks, I did not know the news page of Eclipse SDK versions. It seems to be very useful, not only regarding SWT.\nThe dark theme tweaks work. But for example the window background color is kept the same. It confirms to me that dark theme is not completely supported currently. But perhaps it will in the future.","body":"@aled: Thanks, I did not know the news page of Eclipse SDK versions. It seems to be very useful, not only regarding SWT. The dark theme tweaks work. But for example the window background color is kept the same. It confirms to me that dark theme is not completely supported currently. But perhaps it will in the future."},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1700911367,"post_id":77511969,"comment_id":136711734,"body_markdown":"I don&#39;t know of a published table, I am looking at the SWT source code to get the versions.","body":"I don&#39;t know of a published table, I am looking at the SWT source code to get the versions."}],"owner":{"account_id":9787909,"reputation":3,"user_id":7253624,"display_name":"Johannes1984"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700418365,"creation_date":1700418289,"question_id":77511969,"body_markdown":"What do I need to do to make an SWT application use the dark theme / dark mode of system settings in Windows 10 or 11? I couldn&#39;t do it with SWT 3.122.0 (Win32 x86_64) from Maven repository.\r\n\r\nI tried out to set a system property which is recommended here (https://bugs.eclipse.org/bugs/show_bug.cgi?id=540357):\r\n\r\n`System.setProperty(&quot;org.eclipse.swt.display.useSystemTheme&quot;, &quot;true&quot;);`\r\n\r\nBut it didn&#39;t work.\r\n\r\nBut it seems to me that the dark theme under Windows is not supported yet in SWT if I understand the information on these forums correctly:\r\n\r\n- https://github.com/eclipse-platform/eclipse.platform.ui/issues/246\r\n- https://www.eclipse.org/forums/index.php?t=msg&amp;goto=1852115\r\n\r\nCan you confirm that dark theme does not work for SWT under Windows yet or did I confuse anything?","title":"How to activate dark theme of Windows 10/11 system settings in SWT applications?","body":"<p>What do I need to do to make an SWT application use the dark theme / dark mode of system settings in Windows 10 or 11? I couldn't do it with SWT 3.122.0 (Win32 x86_64) from Maven repository.</p>\n<p>I tried out to set a system property which is recommended here (<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=540357\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=540357</a>):</p>\n<p><code>System.setProperty(&quot;org.eclipse.swt.display.useSystemTheme&quot;, &quot;true&quot;);</code></p>\n<p>But it didn't work.</p>\n<p>But it seems to me that the dark theme under Windows is not supported yet in SWT if I understand the information on these forums correctly:</p>\n<ul>\n<li><a href=\"https://github.com/eclipse-platform/eclipse.platform.ui/issues/246\" rel=\"nofollow noreferrer\">https://github.com/eclipse-platform/eclipse.platform.ui/issues/246</a></li>\n<li><a href=\"https://www.eclipse.org/forums/index.php?t=msg&amp;goto=1852115\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php?t=msg&amp;goto=1852115</a></li>\n</ul>\n<p>Can you confirm that dark theme does not work for SWT under Windows yet or did I confuse anything?</p>\n"},{"tags":["java","jaxb","xjc","jakarta-migration"],"comments":[{"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"score":0,"creation_date":1693956250,"post_id":76874356,"comment_id":135827240,"body_markdown":"Replace `xmlns:annox=&quot;http://annox.dev.java.net&quot;` with `xmlns:annox=&quot;http://jvnet.org/basicjaxb/xjc/annox&quot;`. See also [hisrc-hyperjaxb-annox](https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme)","body":"Replace <code>xmlns:annox=&quot;http:&#47;&#47;annox.dev.java.net&quot;</code> with <code>xmlns:annox=&quot;http:&#47;&#47;jvnet.org&#47;basicjaxb&#47;xjc&#47;annox&quot;</code>. See also <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\" rel=\"nofollow noreferrer\">hisrc-hyperjaxb-annox</a>"}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700417712,"creation_date":1700407888,"answer_id":77511367,"question_id":76874356,"body_markdown":"The `http://annox.dev.java.net` namespace is related to the [jaxb2 annotate plugin][1]\r\n\r\nNow the plugin has been merged into [jaxb-tools][2] which was former repository of maven-jaxb2-plugin.\r\n\r\nYou can follow the [migration guide][3] to get the latest version of the plugin. Starting from v3 (jakarta jaxb3 version), the plugin is located under\r\n\r\n```xml\r\n&lt;groupId&gt;org.jvnet.jaxb&lt;/groupId&gt;\r\n&lt;artifactId&gt;jaxb-plugin-annotate&lt;/artifactId&gt;\r\n&lt;version&gt;[3.0.0&#160;/ 4.0.0]&lt;/version&gt;\r\n```\r\n\r\nStarting from v3, the old `http://annox.dev.java.net` namespace was renamed to `urn:jaxb.jvnet.org:annox` with partial backward support (old namespace is still supported where possible but users are encouraged to move to the new one).\r\n\r\n\r\n  [1]: https://github.com/highsource/jaxb2-annotate-plugin\r\n  [2]: https://github.com/highsource/jaxb-tools\r\n  [3]: https://github.com/highsource/jaxb-tools/wiki/JAXB-Tools-Migration-Guide","title":"Converting XSD / XJB to Java Classes with JAXB 3.0 and jaxb2-maven-plugin does not work for Annotations (-Xannotate xjc switch)","body":"<p>The <code>http://annox.dev.java.net</code> namespace is related to the <a href=\"https://github.com/highsource/jaxb2-annotate-plugin\" rel=\"nofollow noreferrer\">jaxb2 annotate plugin</a></p>\n<p>Now the plugin has been merged into <a href=\"https://github.com/highsource/jaxb-tools\" rel=\"nofollow noreferrer\">jaxb-tools</a> which was former repository of maven-jaxb2-plugin.</p>\n<p>You can follow the <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB-Tools-Migration-Guide\" rel=\"nofollow noreferrer\">migration guide</a> to get the latest version of the plugin. Starting from v3 (jakarta jaxb3 version), the plugin is located under</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.jvnet.jaxb&lt;/groupId&gt;\n&lt;artifactId&gt;jaxb-plugin-annotate&lt;/artifactId&gt;\n&lt;version&gt;[3.0.0 / 4.0.0]&lt;/version&gt;\n</code></pre>\n<p>Starting from v3, the old <code>http://annox.dev.java.net</code> namespace was renamed to <code>urn:jaxb.jvnet.org:annox</code> with partial backward support (old namespace is still supported where possible but users are encouraged to move to the new one).</p>\n"}],"owner":{"account_id":19225725,"reputation":11,"user_id":14048667,"display_name":"Ismael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700417712,"creation_date":1691659484,"question_id":76874356,"body_markdown":"I am trying to migrate my Java class generation from the former javax.* to jakarta.* I am using the Maven Plugin\r\n\r\n```\r\n&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;3.1.0&lt;/version&gt;\r\n```\r\n\r\nsetting the target to 3.0 and using the args\r\n\r\n```\r\n&lt;arguments&gt;\r\n    &lt;argument&gt;-Xinject-code&lt;/argument&gt;\r\n    &lt;argument&gt;-Xannotate&lt;/argument&gt;\r\n&lt;/arguments&gt;\r\n```\r\n\r\nIn my xjb I have some annotate bindings (to add Lombok annotations to my classes).\r\n\r\n```\r\n&lt;jxb:bindings version=&quot;3.0&quot;\r\n    xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n    xmlns:annox=&quot;http://annox.dev.java.net&quot;\r\n    jxb:extensionBindingPrefixes=&quot;xjc annox&quot;&gt;\r\n```\r\n\r\nI get the exception: &quot;com.sun.tools.xjc.BadCommandLineException: unrecognized parameter -Xannotate&quot;\r\n\r\nI get, that annotate is a xjc plugin. Is there a new implementation of it, that i can add to the jaxb2-maven-plugin dependencies to make this work?\r\n\r\nI already tried\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    ...\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hisrc-hyperjaxb-annox-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWithout success (still unrecognized parameter)","title":"Converting XSD / XJB to Java Classes with JAXB 3.0 and jaxb2-maven-plugin does not work for Annotations (-Xannotate xjc switch)","body":"<p>I am trying to migrate my Java class generation from the former javax.* to jakarta.* I am using the Maven Plugin</p>\n<pre><code>&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.1.0&lt;/version&gt;\n</code></pre>\n<p>setting the target to 3.0 and using the args</p>\n<pre><code>&lt;arguments&gt;\n    &lt;argument&gt;-Xinject-code&lt;/argument&gt;\n    &lt;argument&gt;-Xannotate&lt;/argument&gt;\n&lt;/arguments&gt;\n</code></pre>\n<p>In my xjb I have some annotate bindings (to add Lombok annotations to my classes).</p>\n<pre><code>&lt;jxb:bindings version=&quot;3.0&quot;\n    xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\n    xmlns:annox=&quot;http://annox.dev.java.net&quot;\n    jxb:extensionBindingPrefixes=&quot;xjc annox&quot;&gt;\n</code></pre>\n<p>I get the exception: &quot;com.sun.tools.xjc.BadCommandLineException: unrecognized parameter -Xannotate&quot;</p>\n<p>I get, that annotate is a xjc plugin. Is there a new implementation of it, that i can add to the jaxb2-maven-plugin dependencies to make this work?</p>\n<p>I already tried</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    ...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n            &lt;artifactId&gt;hisrc-hyperjaxb-annox-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Without success (still unrecognized parameter)</p>\n"},{"tags":["java","firebase","firebase-authentication","firebase-admin"],"answers":[{"tags":[],"owner":{"account_id":6736149,"reputation":7230,"user_id":5190886,"display_name":"Hiranya Jayathilaka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1520533101,"creation_date":1520533101,"answer_id":49179901,"question_id":49174274,"body_markdown":"I believe this is a bug. As you can see [here](https://github.com/firebase/firebase-admin-java/blob/master/src/main/java/com/google/firebase/auth/internal/FirebaseTokenVerifier.java#L53), the token verifier does not use the HTTP transport injected through options. I&#39;d appreciate if you can create an issue for this on GitHub.\r\n\r\nIn the meantime, you might be able to get around this limitation by configuring the HTTP/S proxy for the JVM. Try setting the `https.proxyHost` and `https.proxyPort` system properties when starting the JVM (more details [here](https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html)).","title":"Set up Firebase admin sdk with proxy (Java)","body":"<p>I believe this is a bug. As you can see <a href=\"https://github.com/firebase/firebase-admin-java/blob/master/src/main/java/com/google/firebase/auth/internal/FirebaseTokenVerifier.java#L53\" rel=\"nofollow noreferrer\">here</a>, the token verifier does not use the HTTP transport injected through options. I'd appreciate if you can create an issue for this on GitHub.</p>\n\n<p>In the meantime, you might be able to get around this limitation by configuring the HTTP/S proxy for the JVM. Try setting the <code>https.proxyHost</code> and <code>https.proxyPort</code> system properties when starting the JVM (more details <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">here</a>).</p>\n"},{"tags":[],"owner":{"account_id":4786989,"reputation":501,"user_id":3867154,"display_name":"Brian Sternari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526586815,"creation_date":1526586815,"answer_id":50399566,"question_id":49174274,"body_markdown":"I&#39;ve faced the same problem, and still waiting for a greater solution.\r\n\r\nIn the meantime, I&#39;ve decompiled the WebSocket class (com.google.firebase.database.tubesock.WebSocket), and created an underlying socket by myself, then droped this decompiled class in a new package in my project: com.google.firebase.database.tubesock.\r\n\r\nThe creation of the SSLSocket is around the line 295 of this class.\r\n\r\nI&#39;ve created the socket this way:\r\n\r\n    SSLSocketFactory factory = (SSLSocketFactory)SSLSocketFactory.getDefault();\r\n    \r\n    InetSocketAddress proxyAddr = new InetSocketAddress(&quot;200.5.92.169&quot;, 8080);\r\n    Socket underlying = new Socket(new Proxy(Proxy.Type.HTTP, proxyAddr));\r\n    underlying.connect(new InetSocketAddress(host, port));\r\n    SSLSocket sslSocket  = (SSLSocket) factory.createSocket(underlying, host, port, true);\r\n\r\n","title":"Set up Firebase admin sdk with proxy (Java)","body":"<p>I've faced the same problem, and still waiting for a greater solution.</p>\n\n<p>In the meantime, I've decompiled the WebSocket class (com.google.firebase.database.tubesock.WebSocket), and created an underlying socket by myself, then droped this decompiled class in a new package in my project: com.google.firebase.database.tubesock.</p>\n\n<p>The creation of the SSLSocket is around the line 295 of this class.</p>\n\n<p>I've created the socket this way:</p>\n\n<pre><code>SSLSocketFactory factory = (SSLSocketFactory)SSLSocketFactory.getDefault();\n\nInetSocketAddress proxyAddr = new InetSocketAddress(\"200.5.92.169\", 8080);\nSocket underlying = new Socket(new Proxy(Proxy.Type.HTTP, proxyAddr));\nunderlying.connect(new InetSocketAddress(host, port));\nSSLSocket sslSocket  = (SSLSocket) factory.createSocket(underlying, host, port, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24461654,"reputation":1,"user_id":18382593,"display_name":"Saydali Murodullayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700417623,"creation_date":1700417623,"answer_id":77511930,"question_id":49174274,"body_markdown":"I found your mistake. You are missing one method of FirebaseOptions.Builder, which: \r\n\r\n**.setHttpTransport(transport)**\r\n\r\nthe code should be like this:\r\n\r\n             NetHttpTransport transport = new NetHttpTransport.Builder()\r\n                 .setProxy(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyProps.getHost(), proxyProps.getPort())))\r\n                 .build();\r\n\r\n             FirebaseOptions options = FirebaseOptions.builder()\r\n                 .setCredentials(GoogleCredentials.fromStream(inputStream, () -&gt; transport))\r\n                 .setHttpTransport(transport)\r\n                 .build();\r\n             \r\n             FirebaseApp.initializeApp(options);","title":"Set up Firebase admin sdk with proxy (Java)","body":"<p>I found your mistake. You are missing one method of FirebaseOptions.Builder, which:</p>\n<p><strong>.setHttpTransport(transport)</strong></p>\n<p>the code should be like this:</p>\n<pre><code>         NetHttpTransport transport = new NetHttpTransport.Builder()\n             .setProxy(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyProps.getHost(), proxyProps.getPort())))\n             .build();\n\n         FirebaseOptions options = FirebaseOptions.builder()\n             .setCredentials(GoogleCredentials.fromStream(inputStream, () -&gt; transport))\n             .setHttpTransport(transport)\n             .build();\n         \n         FirebaseApp.initializeApp(options);\n</code></pre>\n"}],"owner":{"account_id":9821753,"reputation":732,"user_id":7276227,"accept_rate":75,"display_name":"Xavier Bauquet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4359,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49179901,"answer_count":3,"score":3,"last_activity_date":1700417623,"creation_date":1520515727,"question_id":49174274,"body_markdown":"I&#39;m trying to use firebase to authenticate my users via Google. On my Java server I&#39;m verifying the validity of the idToken and every time I get this error:\r\n\r\n    com.google.firebase.auth.FirebaseAuthException: Error while verifying token signature.\r\n\r\nI identified the problem as being the proxy of my server that avoid the http requests made by the sdk. I tested my code on my computer and it works so I&#39;m pretty sure the problem is the proxy.\r\n\r\nHere is my code: \r\n\r\n    InputStream serviceAccount = getClass().getClassLoader().getResourceAsStream(&lt;fileName&gt;);\r\n    \r\n    Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&lt;address&gt;, &lt;port&gt;));\r\n    HttpTransport httpTransport = new NetHttpTransport.Builder().setProxy(proxy).build();\r\n    \r\n    HttpTransportFactory httpTransportFactory = () -&gt; httpTransport;\r\n    \r\n    FirebaseOptions options = new FirebaseOptions.Builder()\r\n       .setCredentials(GoogleCredentials.fromStream(serviceAccount, httpTransportFactory))\r\n       .setDatabaseUrl(&lt;adress&gt;)\r\n       .setHttpTransport(httpTransport)\r\n       .build();\r\n    FirebaseApp.initializeApp(options);\r\n    FirebaseToken decodedToken = FirebaseAuth.getInstance().verifyIdTokenAsync(&lt;token&gt;).get();\r\n\r\nWhat am I doing wrong ? \r\n","title":"Set up Firebase admin sdk with proxy (Java)","body":"<p>I'm trying to use firebase to authenticate my users via Google. On my Java server I'm verifying the validity of the idToken and every time I get this error:</p>\n\n<pre><code>com.google.firebase.auth.FirebaseAuthException: Error while verifying token signature.\n</code></pre>\n\n<p>I identified the problem as being the proxy of my server that avoid the http requests made by the sdk. I tested my code on my computer and it works so I'm pretty sure the problem is the proxy.</p>\n\n<p>Here is my code: </p>\n\n<pre><code>InputStream serviceAccount = getClass().getClassLoader().getResourceAsStream(&lt;fileName&gt;);\n\nProxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&lt;address&gt;, &lt;port&gt;));\nHttpTransport httpTransport = new NetHttpTransport.Builder().setProxy(proxy).build();\n\nHttpTransportFactory httpTransportFactory = () -&gt; httpTransport;\n\nFirebaseOptions options = new FirebaseOptions.Builder()\n   .setCredentials(GoogleCredentials.fromStream(serviceAccount, httpTransportFactory))\n   .setDatabaseUrl(&lt;adress&gt;)\n   .setHttpTransport(httpTransport)\n   .build();\nFirebaseApp.initializeApp(options);\nFirebaseToken decodedToken = FirebaseAuth.getInstance().verifyIdTokenAsync(&lt;token&gt;).get();\n</code></pre>\n\n<p>What am I doing wrong ? </p>\n"},{"tags":["java","jetty","jetty-httpclient"],"comments":[{"owner":{"account_id":5201572,"reputation":1143,"user_id":4719725,"display_name":"parlad"},"score":0,"creation_date":1526571786,"post_id":50395175,"comment_id":87806836,"body_markdown":"There is some stuff discusses here. i guess it triggered by end of file .https://docs.oracle.com/javase/tutorial/essential/io/datastreams.html,","body":"There is some stuff discusses here. i guess it triggered by end of file .<a href=\"https://docs.oracle.com/javase/tutorial/essential/io/datastreams.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/io/datastreams.ht&zwnj;&#8203;ml</a>,"},{"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1526753090,"post_id":50395175,"comment_id":87870946,"body_markdown":"@parladneupane I am not reading a file. Further, this happens intermittently.","body":"@parladneupane I am not reading a file. Further, this happens intermittently."},{"owner":{"account_id":75428,"reputation":9496,"user_id":216374,"accept_rate":100,"display_name":"Alex Pakka"},"score":2,"creation_date":1537215207,"post_id":50395175,"comment_id":91694880,"body_markdown":"Did you figure this out? I am debugging it right now with exactly the same cause. Looks like there is a concurrency problem somewhere. `[HttpParser{s=CLOSED,0 of -1}]` means that it tries to read a response from an empty byte buffer at position 0 with content length -1. It further looks like ByteBuffer was released too early by some other thread.","body":"Did you figure this out? I am debugging it right now with exactly the same cause. Looks like there is a concurrency problem somewhere. <code>[HttpParser{s=CLOSED,0 of -1}]</code> means that it tries to read a response from an empty byte buffer at position 0 with content length -1. It further looks like ByteBuffer was released too early by some other thread."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683592592,"post_id":50395175,"comment_id":134387177,"body_markdown":"This is a bug in the server. If it didn&#39;t want to send you a complete reply it should have set an error status code.","body":"This is a bug in the server. If it didn&#39;t want to send you a complete reply it should have set an error status code."}],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3703,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":0,"score":12,"last_activity_date":1700417101,"creation_date":1526570729,"question_id":50395175,"body_markdown":"Using Jetty 9.4.10.v20180503, occasionally my HTTP client fails with the following error.\r\n\r\n    java.io.EOFException: HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]&lt;-DecryptedEndPoint@193ff18c{api.kucoin.com/13.113.121.24:443&lt;-&gt;/192.168.1.100:27497,OPEN,fill=-,flush=-,to=22604/0}-&gt;HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]-&gt;SocketChannelEndPoint@2b50cb15{api.kucoin.com/13.113.121.24:443&lt;-&gt;/192.168.1.100:27497,ISHUT,fill=-,flush=-,to=21603/0}{io=0/0,kio=0,kro=1}-&gt;SslConnection@6de1ad97{NEED_WRAP,eio=-1/-1,di=-1}=&gt;HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]\r\n        \tat java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:326)\r\n        \tat java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:338)\r\n        \tat java.util.concurrent.CompletableFuture.uniRelay(CompletableFuture.java:911)\r\n        \tat java.util.concurrent.CompletableFuture$UniRelay.tryFire(CompletableFuture.java:899)\r\n        \tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\r\n        \tat java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\r\n        \tat com.myapplication.ResponseListener.onComplete(ResponseListener.java:45)\r\n        \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:193)\r\n        \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:185)\r\n        \tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:464)\r\n        \tat org.eclipse.jetty.client.HttpReceiver.abort(HttpReceiver.java:545)\r\n        \tat org.eclipse.jetty.client.HttpReceiver.responseFailure(HttpReceiver.java:436)\r\n        \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.failAndClose(HttpReceiverOverHTTP.java:369)\r\n        \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.earlyEOF(HttpReceiverOverHTTP.java:338)\r\n        \tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1476)\r\n        \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.shutdown(HttpReceiverOverHTTP.java:209)\r\n        \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:147)\r\n        \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\r\n        \tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\r\n        \tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\r\n        \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\r\n        \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n        \tat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:291)\r\n        \tat org.eclipse.jetty.io.ssl.SslConnection$3.succeeded(SslConnection.java:151)\r\n        \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n        \tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\r\n        \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\r\n        \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\r\n        \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\r\n        \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)\r\n        \tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)\r\n        \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:760)\r\n        \tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:678)\r\n        \t... 1 common frames omitted\r\n        Caused by: java.io.EOFException: HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]&lt;-DecryptedEndPoint@193ff18c{api.kucoin.com/13.113.121.24:443&lt;-&gt;/192.168.1.100:27497,OPEN,fill=-,flush=-,to=22604/0}-&gt;HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]-&gt;SocketChannelEndPoint@2b50cb15{api.kucoin.com/13.113.121.24:443&lt;-&gt;/192.168.1.100:27497,ISHUT,fill=-,flush=-,to=21603/0}{io=0/0,kio=0,kro=1}-&gt;SslConnection@6de1ad97{NEED_WRAP,eio=-1/-1,di=-1}=&gt;HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]\r\n\r\nI&#39;m trying to understand how to interpret this error, specifically the `EOFException` which seems to list the steps of the transaction.\r\n\r\n* What is happening at each step?\r\n* At what step of the HTTP request does the error occur?\r\n* Did the client trigger a disconnect or the server?\r\n* Is it safe to automatically retry these kind of failures?","title":"HTTP request failing with EOFException","body":"<p>Using Jetty 9.4.10.v20180503, occasionally my HTTP client fails with the following error.</p>\n\n<pre><code>java.io.EOFException: HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]&lt;-DecryptedEndPoint@193ff18c{api.kucoin.com/13.113.121.24:443&lt;-&gt;/192.168.1.100:27497,OPEN,fill=-,flush=-,to=22604/0}-&gt;HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]-&gt;SocketChannelEndPoint@2b50cb15{api.kucoin.com/13.113.121.24:443&lt;-&gt;/192.168.1.100:27497,ISHUT,fill=-,flush=-,to=21603/0}{io=0/0,kio=0,kro=1}-&gt;SslConnection@6de1ad97{NEED_WRAP,eio=-1/-1,di=-1}=&gt;HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]\n        at java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:326)\n        at java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:338)\n        at java.util.concurrent.CompletableFuture.uniRelay(CompletableFuture.java:911)\n        at java.util.concurrent.CompletableFuture$UniRelay.tryFire(CompletableFuture.java:899)\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\n        at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\n        at com.myapplication.ResponseListener.onComplete(ResponseListener.java:45)\n        at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:193)\n        at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:185)\n        at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:464)\n        at org.eclipse.jetty.client.HttpReceiver.abort(HttpReceiver.java:545)\n        at org.eclipse.jetty.client.HttpReceiver.responseFailure(HttpReceiver.java:436)\n        at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.failAndClose(HttpReceiverOverHTTP.java:369)\n        at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.earlyEOF(HttpReceiverOverHTTP.java:338)\n        at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1476)\n        at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.shutdown(HttpReceiverOverHTTP.java:209)\n        at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:147)\n        at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\n        at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\n        at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n        at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:291)\n        at org.eclipse.jetty.io.ssl.SslConnection$3.succeeded(SslConnection.java:151)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n        at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:760)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:678)\n        ... 1 common frames omitted\n    Caused by: java.io.EOFException: HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]&lt;-DecryptedEndPoint@193ff18c{api.kucoin.com/13.113.121.24:443&lt;-&gt;/192.168.1.100:27497,OPEN,fill=-,flush=-,to=22604/0}-&gt;HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]-&gt;SocketChannelEndPoint@2b50cb15{api.kucoin.com/13.113.121.24:443&lt;-&gt;/192.168.1.100:27497,ISHUT,fill=-,flush=-,to=21603/0}{io=0/0,kio=0,kro=1}-&gt;SslConnection@6de1ad97{NEED_WRAP,eio=-1/-1,di=-1}=&gt;HttpConnectionOverHTTP@571103e6(l:/192.168.1.100:27497 &lt;-&gt; r:api.kucoin.com/13.113.121.24:443,closed=false)=&gt;HttpChannelOverHTTP@a423e61(exchange=HttpExchange@e7dbbf1 req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@4b7f345a(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@61d4e46c{s=START}],recv=HttpReceiverOverHTTP@7a7e7f01(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]\n</code></pre>\n\n<p>I'm trying to understand how to interpret this error, specifically the <code>EOFException</code> which seems to list the steps of the transaction.</p>\n\n<ul>\n<li>What is happening at each step?</li>\n<li>At what step of the HTTP request does the error occur?</li>\n<li>Did the client trigger a disconnect or the server?</li>\n<li>Is it safe to automatically retry these kind of failures?</li>\n</ul>\n"},{"tags":["java","c#","android","unity-game-engine"],"answers":[{"tags":[],"owner":{"account_id":6212130,"reputation":1736,"user_id":4838123,"display_name":"joreldraw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501663375,"creation_date":1501662890,"answer_id":45455635,"question_id":45453605,"body_markdown":"RuninBackgorund is ignored for Android and IOS how you can see [here][1]\r\n\r\nThe only and efficient way to run in background on Android is through a Service. You can use OnApplicationPause method to get notified when the game pauses/unpauses. \r\n\r\n\r\n    public void OnApplicationPause(bool paused) {\r\n    if(paused) {\r\n    // Game is paused, start service to get notifications\r\n    } else {\r\n    // Game is unpaused, stop service notifications. \r\n    }\r\n\r\n\r\n[Here][2] you have a nice tutorial about communication between android and unity\r\n\r\n\r\n  [1]: https://docs.unity3d.com/ScriptReference/Application-runInBackground.html\r\n  [2]: http://jeanmeyblum.weebly.com/scripts--tutorials/communication-between-an-android-app-and-unity","title":"Android Unity App running in background","body":"<p>RuninBackgorund is ignored for Android and IOS how you can see <a href=\"https://docs.unity3d.com/ScriptReference/Application-runInBackground.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>The only and efficient way to run in background on Android is through a Service. You can use OnApplicationPause method to get notified when the game pauses/unpauses. </p>\n\n<pre><code>public void OnApplicationPause(bool paused) {\nif(paused) {\n// Game is paused, start service to get notifications\n} else {\n// Game is unpaused, stop service notifications. \n}\n</code></pre>\n\n<p><a href=\"http://jeanmeyblum.weebly.com/scripts--tutorials/communication-between-an-android-app-and-unity\" rel=\"nofollow noreferrer\">Here</a> you have a nice tutorial about communication between android and unity</p>\n"}],"owner":{"account_id":3540169,"reputation":177,"user_id":2957503,"accept_rate":45,"display_name":"Dalanchoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700416895,"creation_date":1501657025,"question_id":45453605,"body_markdown":"I have a Unity app that runs on Android. It also continues to run when the app is placed into the background. It does not use a service to run in the background. Instead, this app creates a new thread, and this thread continues to run when the app is in the background.\r\n\r\nRecently, I have had to merge in some code from another app into this app. This other app has an activity that I merged into the first app.\r\n\r\nThe activities from the different app have different names. In my Unity app that runs in the background, its activity is &quot;com.unity3d.player.UnityPlayerNativeActivity&quot;  The activity that I am merging in is &quot;com.indotraq.android.rtls.MainActivity&quot; which extends UnityPlayerActivity\r\n\r\nThrough experimentation, it appears that if my activity is not a &quot;com.unity3d.player.UnityPlayerNativeActivity&quot;, my thread that runs in the background no longer executes.\r\n\r\nSo, does anybody have any ideas why my thread in the background will no longer execute and what I could do to get it executing again?\r\n\r\nThe other option that I am aware of it to write a service that will allow my program to process information when it is in the background. The downside of this approach is that I would have to rewrite a bunch of code from C# to Java. And some of this code is not just a simple port. I guess I would have to rewrite some Unity low-level networking code to use sockets.\r\n\r\nSo any advice on how to proceed? It would be great to get my thread running the background again so I don&#39;t have to rewrite a bunch of C# code to Java.\r\n\r\nThanks in advance\r\nJohn Lawrie\r\n\r\n\r\n","title":"Android Unity App running in background","body":"<p>I have a Unity app that runs on Android. It also continues to run when the app is placed into the background. It does not use a service to run in the background. Instead, this app creates a new thread, and this thread continues to run when the app is in the background.</p>\n\n<p>Recently, I have had to merge in some code from another app into this app. This other app has an activity that I merged into the first app.</p>\n\n<p>The activities from the different app have different names. In my Unity app that runs in the background, its activity is \"com.unity3d.player.UnityPlayerNativeActivity\"  The activity that I am merging in is \"com.indotraq.android.rtls.MainActivity\" which extends UnityPlayerActivity</p>\n\n<p>Through experimentation, it appears that if my activity is not a \"com.unity3d.player.UnityPlayerNativeActivity\", my thread that runs in the background no longer executes.</p>\n\n<p>So, does anybody have any ideas why my thread in the background will no longer execute and what I could do to get it executing again?</p>\n\n<p>The other option that I am aware of it to write a service that will allow my program to process information when it is in the background. The downside of this approach is that I would have to rewrite a bunch of code from C# to Java. And some of this code is not just a simple port. I guess I would have to rewrite some Unity low-level networking code to use sockets.</p>\n\n<p>So any advice on how to proceed? It would be great to get my thread running the background again so I don't have to rewrite a bunch of C# code to Java.</p>\n\n<p>Thanks in advance\nJohn Lawrie</p>\n"},{"tags":["java","kubernetes","fabric8","fabric8-kubernetes-client"],"owner":{"account_id":248396,"reputation":4019,"user_id":523725,"accept_rate":69,"display_name":"Lobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700416117,"creation_date":1700416117,"question_id":77511833,"body_markdown":"I&#39;m working with Kubernetes java library `fabric8` and I&#39;m able to react in my code when new Custom Resources for a specific `kind` (like `MyCustomResource`). I&#39;m using an `informer` for this. An example of this is here https://github.com/fabric8io/kubernetes-client/blob/main/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/CustomResourceInformerExample.java\r\n\r\nNow, I want to go one step beyond, and I want to react to any kind of Custom Resources.\r\n\r\nI&#39;ve tried using the `GenericKubernetesResource` like this\r\n\r\n```java\r\nSharedIndexInformer&lt;GenericKubernetesResource&gt; informer = client.resources(GenericKubernetesResource.class)\r\n                .inNamespace(kubernetesClientConfig.getConfig().getNamespace())\r\n                .inform(myHandler, 60 * 1000L);\r\n```\r\nBut at the time of running, I get this error:\r\n\r\n```\r\n18:33:13.563 [main] ERROR io.micronaut.runtime.Micronaut - Error starting Micronaut server: resources cannot be called with a generic type\r\nio.fabric8.kubernetes.client.KubernetesClientException: resources cannot be called with a generic type\r\n        at io.fabric8.kubernetes.client.impl.BaseClient.resources(BaseClient.java:305)\r\n        at io.fabric8.kubernetes.client.Client.resources(Client.java:175)\r\n        at io.fabric8.kubernetes.client.KubernetesClient.resources(KubernetesClient.java:143)\r\n```\r\n\r\nAny help to implement an informer, using Kubernetes fabric8 library, to get a notice about any possible Custom Resource?","title":"fabric8 Informer for all Kubernetes Custom Resources in the cluster","body":"<p>I'm working with Kubernetes java library <code>fabric8</code> and I'm able to react in my code when new Custom Resources for a specific <code>kind</code> (like <code>MyCustomResource</code>). I'm using an <code>informer</code> for this. An example of this is here <a href=\"https://github.com/fabric8io/kubernetes-client/blob/main/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/CustomResourceInformerExample.java\" rel=\"nofollow noreferrer\">https://github.com/fabric8io/kubernetes-client/blob/main/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/CustomResourceInformerExample.java</a></p>\n<p>Now, I want to go one step beyond, and I want to react to any kind of Custom Resources.</p>\n<p>I've tried using the <code>GenericKubernetesResource</code> like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>SharedIndexInformer&lt;GenericKubernetesResource&gt; informer = client.resources(GenericKubernetesResource.class)\n                .inNamespace(kubernetesClientConfig.getConfig().getNamespace())\n                .inform(myHandler, 60 * 1000L);\n</code></pre>\n<p>But at the time of running, I get this error:</p>\n<pre><code>18:33:13.563 [main] ERROR io.micronaut.runtime.Micronaut - Error starting Micronaut server: resources cannot be called with a generic type\nio.fabric8.kubernetes.client.KubernetesClientException: resources cannot be called with a generic type\n        at io.fabric8.kubernetes.client.impl.BaseClient.resources(BaseClient.java:305)\n        at io.fabric8.kubernetes.client.Client.resources(Client.java:175)\n        at io.fabric8.kubernetes.client.KubernetesClient.resources(KubernetesClient.java:143)\n</code></pre>\n<p>Any help to implement an informer, using Kubernetes fabric8 library, to get a notice about any possible Custom Resource?</p>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700417520,"post_id":77511821,"comment_id":136649027,"body_markdown":"have you tried to add `C:\\Program Files\\java\\jdk-17.0.9+9\\bin` directly to the PATH, instead `%JAVA_HOME%\\bin`? Actually, what is the output of the `path` command executed in cmd?","body":"have you tried to add <code>C:\\Program Files\\java\\jdk-17.0.9+9\\bin</code> directly to the PATH, instead <code>%JAVA_HOME%\\bin</code>? Actually, what is the output of the <code>path</code> command executed in cmd?"},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700418751,"post_id":77511821,"comment_id":136649152,"body_markdown":"@user85421 I&#39;ve tried that now as well, didn&#39;t work either unfortunately. The path command returns:\nPATH=C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\","body":"@user85421 I&#39;ve tried that now as well, didn&#39;t work either unfortunately. The path command returns: PATH=C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem&zwnj;&#8203;;C:\\WINDOWS\\System32&zwnj;&#8203;\\WindowsPowerShell\\v&zwnj;&#8203;1.0\\;C:\\WINDOWS\\Syst&zwnj;&#8203;em32\\OpenSSH\\"},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700419339,"post_id":77511821,"comment_id":136649211,"body_markdown":"@user85421 now that you mention it no matter what I put in my path variable, the output of the path function does not change.","body":"@user85421 now that you mention it no matter what I put in my path variable, the output of the path function does not change."},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700420165,"post_id":77511821,"comment_id":136649318,"body_markdown":"@user85421 I close the cmd window and open a new one... is that not enough? I&#39;ve heard this suggested a lot.","body":"@user85421 I close the cmd window and open a new one... is that not enough? I&#39;ve heard this suggested a lot."},{"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"score":0,"creation_date":1700421405,"post_id":77511821,"comment_id":136649455,"body_markdown":"Since the PATH is not updating in cmd regardless, maybe try with some of the suggested ways here: https://stackoverflow.com/questions/9546324/adding-a-directory-to-the-path-environment-variable-in-windows\nspecifically the `setx` command may be helpful.","body":"Since the PATH is not updating in cmd regardless, maybe try with some of the suggested ways here: <a href=\"https://stackoverflow.com/questions/9546324/adding-a-directory-to-the-path-environment-variable-in-windows\" title=\"adding a directory to the path environment variable in windows\">stackoverflow.com/questions/9546324/&hellip;</a> specifically the <code>setx</code> command may be helpful."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1700423383,"post_id":77511821,"comment_id":136649647,"body_markdown":"Yeah, so this doesn&#39;t sound like a Java problem at all, but rather, a systems admin issue. The problem is that you don&#39;t seem to be able set the PATH. Check the control level of the user account you&#39;re using and make sure it has admin.","body":"Yeah, so this doesn&#39;t sound like a Java problem at all, but rather, a systems admin issue. The problem is that you don&#39;t seem to be able set the PATH. Check the control level of the user account you&#39;re using and make sure it has admin."},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700429650,"post_id":77511821,"comment_id":136650328,"body_markdown":"@Greenylie am I misunderstanding that post, it seems to be saying that it only temporarily changes my path for the time of the current cmd session? I don&#39;t think that would solve my issue but I am of course open to being corrected. :)","body":"@Greenylie am I misunderstanding that post, it seems to be saying that it only temporarily changes my path for the time of the current cmd session? I don&#39;t think that would solve my issue but I am of course open to being corrected. :)"},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700429703,"post_id":77511821,"comment_id":136650336,"body_markdown":"@MarsAtomic I have admin access... so seems not that...","body":"@MarsAtomic I have admin access... so seems not that..."}],"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700415960,"creation_date":1700415960,"question_id":77511821,"body_markdown":"I am running a freshly installed Windows 10.\r\n\r\nI&#39;ve been having trouble with installing java properly. I downloaded the JDK-17.9.0.9+9 version zip, extracted it into &quot;c:\\\\Program Files\\\\java&quot; and then went to update my environment variables:\r\n\r\n- I added a new System Variable JAVA_HOME = c:\\\\Program Files\\\\java\\\\jdk-17.0.9+9\r\n\r\n- I added a line to my Path variable reading &quot;%JAVA_HOME%\\\\bin&quot;\r\n\r\nTo check whether it had worked, I started cmd and ran &quot;java -version&quot; and was greeted with the ugly face of the &quot;&#39;java&#39; is not recognized as an internal or external command,\r\noperable program or batch file.&quot; error. \r\n\r\nConfused I decided to copy the System variables I had previously created/edited and do the same process for my user variables, which did not change anything.\r\n\r\nFinally, after looking on StackOF I saw someone recommend testing the location of the installation to make sure the environment variables had the right directory, following their information I opened a fresh cmd and ran:\r\n\r\n&gt;&quot;c:\\Program Files\\java\\jdk-17.0.9+9\\bin\\java&quot; -version\r\n\r\nTo my surprise, this correctly returned my version as:\r\n\r\nopenjdk version &quot;17.0.9&quot; 2023-10-17\r\n\r\nOpenJDK Runtime Environment Temurin-17.0.9+9 (build 17.0.9+9)\r\n\r\nOpenJDK 64-Bit Server VM Temurin-17.0.9+9 (build 17.0.9+9, mixed mode, sharing)\r\n\r\nSo I went back to my environment variable and verified that they contained the exact same directory. I have no idea what else could be wrong in my process.\r\n\r\nI&#39;ve also messed around with the order of my Path file by moving the &quot;%JAVA_HOME%\\bin&quot; element all the way up, to no avail.\r\n\r\n\r\nI&#39;ve tried any and all solutions I could find myself from pre-existing threads:\r\nhttps://stackoverflow.com/questions/15796855/java-is-not-recognized-as-an-internal-or-external-command\r\nhttps://stackoverflow.com/questions/57991159/java-is-not-recognized-even-after-setting-the-path","title":"Can&#39;t get cmd to recognize &#39;java&#39; command even after editing Path files","body":"<p>I am running a freshly installed Windows 10.</p>\n<p>I've been having trouble with installing java properly. I downloaded the JDK-17.9.0.9+9 version zip, extracted it into &quot;c:\\Program Files\\java&quot; and then went to update my environment variables:</p>\n<ul>\n<li><p>I added a new System Variable JAVA_HOME = c:\\Program Files\\java\\jdk-17.0.9+9</p>\n</li>\n<li><p>I added a line to my Path variable reading &quot;%JAVA_HOME%\\bin&quot;</p>\n</li>\n</ul>\n<p>To check whether it had worked, I started cmd and ran &quot;java -version&quot; and was greeted with the ugly face of the &quot;'java' is not recognized as an internal or external command,\noperable program or batch file.&quot; error.</p>\n<p>Confused I decided to copy the System variables I had previously created/edited and do the same process for my user variables, which did not change anything.</p>\n<p>Finally, after looking on StackOF I saw someone recommend testing the location of the installation to make sure the environment variables had the right directory, following their information I opened a fresh cmd and ran:</p>\n<blockquote>\n<p>&quot;c:\\Program Files\\java\\jdk-17.0.9+9\\bin\\java&quot; -version</p>\n</blockquote>\n<p>To my surprise, this correctly returned my version as:</p>\n<p>openjdk version &quot;17.0.9&quot; 2023-10-17</p>\n<p>OpenJDK Runtime Environment Temurin-17.0.9+9 (build 17.0.9+9)</p>\n<p>OpenJDK 64-Bit Server VM Temurin-17.0.9+9 (build 17.0.9+9, mixed mode, sharing)</p>\n<p>So I went back to my environment variable and verified that they contained the exact same directory. I have no idea what else could be wrong in my process.</p>\n<p>I've also messed around with the order of my Path file by moving the &quot;%JAVA_HOME%\\bin&quot; element all the way up, to no avail.</p>\n<p>I've tried any and all solutions I could find myself from pre-existing threads:\n<a href=\"https://stackoverflow.com/questions/15796855/java-is-not-recognized-as-an-internal-or-external-command\">&#39;Java&#39; is not recognized as an internal or external command</a>\n<a href=\"https://stackoverflow.com/questions/57991159/java-is-not-recognized-even-after-setting-the-path\">java is not recognized even after setting the path</a></p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":11889468,"reputation":1750,"user_id":8700809,"display_name":"Jacob"},"score":0,"creation_date":1700403972,"post_id":77510520,"comment_id":136647591,"body_markdown":"Have you looked into creating a custom [Test Fixture](https://www.baeldung.com/spring-dynamicpropertysource#an-alternative-test-fixtures)?","body":"Have you looked into creating a custom <a href=\"https://www.baeldung.com/spring-dynamicpropertysource#an-alternative-test-fixtures\" rel=\"nofollow noreferrer\">Test Fixture</a>?"},{"owner":{"account_id":6577123,"reputation":107,"user_id":5082719,"display_name":"helmi77"},"score":0,"creation_date":1700415243,"post_id":77510520,"comment_id":136648786,"body_markdown":"Yes, but it didn&#39;t work for me. Found a solution using DI","body":"Yes, but it didn&#39;t work for me. Found a solution using DI"}],"answers":[{"tags":[],"owner":{"account_id":6577123,"reputation":107,"user_id":5082719,"display_name":"helmi77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700415461,"creation_date":1700415461,"answer_id":77511792,"question_id":77510520,"body_markdown":"One option is to inject the configuration class annotated with `@ConfigurationProperties` in the `beforeEach` method and update the value there:\r\n\r\n    @DirtiesContext\r\n    @SpringBatchTest\r\n    @SpringBootTest\r\n    @SpringJUnitConfig(classes = ImageBatchJobApplication.class)\r\n    class ImageBatchJobApplicationTests {\r\n\r\n        @TempDir\r\n        private Path imagePath;\r\n    \r\n    \t@BeforeEach\r\n    \tpublic void setup(@Autowired MyConfiguration config) {\r\n    \t\tconfig.setImagePath(imagePath.toString());\r\n    \t}\r\n    }","title":"How to use non-static @TempDir with custom @ConfigurationProperties during testing","body":"<p>One option is to inject the configuration class annotated with <code>@ConfigurationProperties</code> in the <code>beforeEach</code> method and update the value there:</p>\n<pre><code>@DirtiesContext\n@SpringBatchTest\n@SpringBootTest\n@SpringJUnitConfig(classes = ImageBatchJobApplication.class)\nclass ImageBatchJobApplicationTests {\n\n    @TempDir\n    private Path imagePath;\n\n    @BeforeEach\n    public void setup(@Autowired MyConfiguration config) {\n        config.setImagePath(imagePath.toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6577123,"reputation":107,"user_id":5082719,"display_name":"helmi77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77511792,"answer_count":1,"score":0,"last_activity_date":1700415461,"creation_date":1700392032,"question_id":77510520,"body_markdown":"I am working on a Spring Batch application which processes image files, where the path to the images is configurable using `application.yml`:\r\n```\r\nfiles:\r\n    image-path: /var/images\r\n```\r\n\r\nI&#39;m trying to use a **non-static** field annotated with `@TempDir` in one of my Spring Boot integration tests, so that I get a new temporary folder for each test:\r\n\r\n```\r\n@SpringBatchTest\r\n@SpringBootTest\r\n@SpringJUnitConfig(classes = ImageBatchJobApplication.class)\r\nclass ImageBatchJobTests {\r\n\r\n\t@TempDir\r\n\tprivate Path imagePath;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n The problem is that I somehow need to pass this temporary folder path to my custom `@ConfigurationProperties` class:\r\n\r\n```\r\n@ConfigurationProperties(prefix = &quot;files&quot;)\r\npublic record MyConfiguration(String imagePath) { }\r\n```\r\n\r\nI tried to use a `@DynamicPropertySource` where I would add the temporary directory to the registry:\r\n```\r\n@DynamicPropertySource\r\nprivate static void testProperties(DynamicPropertyRegistry registry) {\r\n\tregistry.add(&quot;files.image-path&quot;, imagePath::toString);\r\n}\r\n```\r\nbut of course from within a static method I can not access the non-static `imagePath` field. I thought about using a custom `ApplicationCOntextInitializer`, however there I would run into the same problem of how to access the instance variable. Does anybody have an idea how I could pass my `@TempDir` path to the `MyConfiguration` before each test tun?","title":"How to use non-static @TempDir with custom @ConfigurationProperties during testing","body":"<p>I am working on a Spring Batch application which processes image files, where the path to the images is configurable using <code>application.yml</code>:</p>\n<pre><code>files:\n    image-path: /var/images\n</code></pre>\n<p>I'm trying to use a <strong>non-static</strong> field annotated with <code>@TempDir</code> in one of my Spring Boot integration tests, so that I get a new temporary folder for each test:</p>\n<pre><code>@SpringBatchTest\n@SpringBootTest\n@SpringJUnitConfig(classes = ImageBatchJobApplication.class)\nclass ImageBatchJobTests {\n\n    @TempDir\n    private Path imagePath;\n\n    ...\n}\n</code></pre>\n<p>The problem is that I somehow need to pass this temporary folder path to my custom <code>@ConfigurationProperties</code> class:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;files&quot;)\npublic record MyConfiguration(String imagePath) { }\n</code></pre>\n<p>I tried to use a <code>@DynamicPropertySource</code> where I would add the temporary directory to the registry:</p>\n<pre><code>@DynamicPropertySource\nprivate static void testProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;files.image-path&quot;, imagePath::toString);\n}\n</code></pre>\n<p>but of course from within a static method I can not access the non-static <code>imagePath</code> field. I thought about using a custom <code>ApplicationCOntextInitializer</code>, however there I would run into the same problem of how to access the instance variable. Does anybody have an idea how I could pass my <code>@TempDir</code> path to the <code>MyConfiguration</code> before each test tun?</p>\n"},{"tags":["java","sockets","ssl","network-programming","serversocket"],"comments":[{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":0,"creation_date":1452786422,"post_id":34793660,"comment_id":57330965,"body_markdown":"Which Java version are you using? JDK 8 uses v1.2 by default","body":"Which Java version are you using? JDK 8 uses v1.2 by default"},{"owner":{"account_id":223245,"reputation":5512,"user_id":482317,"accept_rate":100,"display_name":"Andrea Bergia"},"score":0,"creation_date":1452786673,"post_id":34793660,"comment_id":57331133,"body_markdown":"Take a look at [`SSLSocket`](https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/SSLSocket.html).","body":"Take a look at <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/SSLSocket.html\" rel=\"nofollow noreferrer\"><code>SSLSocket</code></a>."},{"owner":{"account_id":4911606,"reputation":579,"user_id":3956771,"accept_rate":46,"display_name":"Argho Chatterjee"},"score":0,"creation_date":1452840812,"post_id":34793660,"comment_id":57353828,"body_markdown":"Hi @Boris, I am using jdk 1.8. Can you post an example of a client server communication using sslsocket classes for reference. I am assuming that if I use sslSocket classes, then I will directly be encrypting using SSL/TLS and sending the encrypted message via the TCP layer, and avoiding the use of HTTPS to do it for me. Is my understanding correct?","body":"Hi @Boris, I am using jdk 1.8. Can you post an example of a client server communication using sslsocket classes for reference. I am assuming that if I use sslSocket classes, then I will directly be encrypting using SSL/TLS and sending the encrypted message via the TCP layer, and avoiding the use of HTTPS to do it for me. Is my understanding correct?"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1452849502,"post_id":34793660,"comment_id":57357715,"body_markdown":"Take a look at the JSSE Reference Guide. Too broad.","body":"Take a look at the JSSE Reference Guide. Too broad."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1452860738,"post_id":34793660,"comment_id":57363900,"body_markdown":"What makes you think the HTTPS layer can possibly get involved in your code? You&#39;re not using it =&gt; it isn&#39;t there.","body":"What makes you think the HTTPS layer can possibly get involved in your code? You&#39;re not using it =&gt; it isn&#39;t there."},{"owner":{"account_id":4911606,"reputation":579,"user_id":3956771,"accept_rate":46,"display_name":"Argho Chatterjee"},"score":0,"creation_date":1452861450,"post_id":34793660,"comment_id":57364331,"body_markdown":"Hey @EJP, ya that is what even I think, but I asked to just make sure my understanding is correct..","body":"Hey @EJP, ya that is what even I think, but I asked to just make sure my understanding is correct.."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1567741759,"post_id":34793660,"comment_id":102061921,"body_markdown":"And you&#39;ve already implemented I what you&#39;re asking for Unclear what you&#39;re asking.","body":"And you&#39;ve already implemented I what you&#39;re asking for Unclear what you&#39;re asking."}],"owner":{"account_id":4911606,"reputation":579,"user_id":3956771,"accept_rate":46,"display_name":"Argho Chatterjee"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29840,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":0,"score":9,"last_activity_date":1700414654,"creation_date":1452786154,"question_id":34793660,"body_markdown":"I want to create commnicate between two systems via TLS v1.2. The information it contains is confidential. I want to avoid an https web service call and diectly want to perform message exchange at the TCP layer.\r\n\r\nCan you suggest how to implement this where I can securely transfer data via TLS v1.2.\r\n\r\nEDIT:\r\n\r\nI have written the following code after reading the below answers\r\n\r\nSSLServer\r\n\r\n            System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;/home/user/.keystore&quot;);\r\n\t\t    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n\t\t    SSLServerSocketFactory ssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\r\n\t\t    ServerSocket ss = ssf.createServerSocket(8362);\r\n\t\t    while (true) {\r\n\t\t    \tSystem.out.println(&quot;awaiting to accept..&quot;);\r\n\t\t      Socket s = ss.accept();\r\n\t\t      SSLSession session = ((SSLSocket) s).getSession();\r\n\t\t      Certificate[] cchain2 = session.getLocalCertificates();\r\n\t\t      for (int i = 0; i &lt; cchain2.length; i++) {\r\n\t\t        System.out.println(((X509Certificate) cchain2[i]).getSubjectDN());\r\n\t\t      }\r\n\t\t      System.out.println(&quot;Peer host is &quot; + session.getPeerHost());\r\n\t\t      System.out.println(&quot;Cipher is &quot; + session.getCipherSuite());\r\n\t\t      System.out.println(&quot;Protocol is &quot; + session.getProtocol());\r\n\t\t      System.out.println(&quot;ID is &quot; + new BigInteger(session.getId()));\r\n\t\t      System.out.println(&quot;Session created in &quot; + session.getCreationTime());\r\n\t\t      System.out.println(&quot;Session accessed in &quot; + session.getLastAccessedTime());\r\n\t\t      \r\n\t\t      \r\n\t\t      PrintStream out = new PrintStream(s.getOutputStream());\r\n\t\t     \r\n\t\t      /*BufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\t\ts.getInputStream()));*/\r\n\t\t      boolean isChatOver = false;\r\n\t\t      System.out.println(&quot;\\n\\n*******************Type Below********************&quot;);\r\n\t\t      System.out.println(&quot;To End Chat Type &#39;Bye&#39;!&quot;);\r\n\t\t      \r\n\t\t      BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t        \r\n\t\t      while(!isChatOver) {\r\n\t\t    \t  String nextChat = br.readLine();\r\n\t\t\t      out.println(nextChat);\r\n\t\t\t      if(&quot;bye&quot;.equalsIgnoreCase(nextChat.trim())) {\r\n\t\t\t    \t  isChatOver = true;\r\n\t\t\t      }\r\n\t\t      }\r\n\t\t\r\n\t\t      out.close();\r\n\t\t      s.close();\r\n\t\t    }\r\n\r\n\r\n\r\n\r\nSSLClient\r\n\r\n\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/home/user/.truststore&quot;);\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n\t\tSSLSocketFactory ssf = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n\t\tSocket s = ssf.createSocket(&quot;127.0.0.1&quot;, 8362);\r\n\r\n\t\tSSLSession session = ((SSLSocket) s).getSession();\r\n\t\tCertificate[] cchain = session.getPeerCertificates();\r\n\t\tSystem.out.println(&quot;The Certificates used by peer&quot;);\r\n\t\tfor (int i = 0; i &lt; cchain.length; i++) {\r\n\t\t\tSystem.out.println(((X509Certificate) cchain[i]).getSubjectDN());\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Peer host is &quot; + session.getPeerHost());\r\n\t\tSystem.out.println(&quot;Cipher is &quot; + session.getCipherSuite());\r\n\t\tSystem.out.println(&quot;Protocol is &quot; + session.getProtocol());\r\n\t\tSystem.out.println(&quot;ID is &quot; + new BigInteger(session.getId()));\r\n\t\tSystem.out.println(&quot;Session created in &quot; + session.getCreationTime());\r\n\t\tSystem.out.println(&quot;Session accessed in &quot;\r\n\t\t\t\t+ session.getLastAccessedTime());\r\n\r\n\t\tBufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\ts.getInputStream()));\r\n\t\tboolean isChatOver = false;\r\n\t\twhile(!isChatOver) {\r\n\t\t\tif(in.ready()) {\r\n\t\t\t\tThread.sleep(5000);\r\n\t\t\t}\r\n\t\t\tString nextChat = in.readLine();\r\n\t\t\tSystem.out.println(&quot;server says : &quot; + nextChat);\r\n\t\t\tif(&quot;bye&quot;.equalsIgnoreCase(nextChat.trim())) {\r\n\t\t\t\tSystem.out.println(&quot;**************************************Closing Session.*********************************************&quot;);\r\n\t\t\t\tisChatOver = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tin.close();\r\n\t\r\n\r\n\r\nIn the above code, is my code directly passing message to TCP Layer after encryption using TLS 1.2 ? I hope it does not call an https internally because I want to avoid application layer at all cost.\r\n\r\nKindly let me know in case of any queries in the question.\r\n\r\nThanks\r\ncheers :))","title":"How to create a secured TCP connection via TLS v.1.2 in Java","body":"<p>I want to create commnicate between two systems via TLS v1.2. The information it contains is confidential. I want to avoid an https web service call and diectly want to perform message exchange at the TCP layer.</p>\n\n<p>Can you suggest how to implement this where I can securely transfer data via TLS v1.2.</p>\n\n<p>EDIT:</p>\n\n<p>I have written the following code after reading the below answers</p>\n\n<p>SSLServer</p>\n\n<pre><code>        System.setProperty(\"javax.net.ssl.keyStore\", \"/home/user/.keystore\");\n        System.setProperty(\"javax.net.ssl.keyStorePassword\", \"changeit\");\n\n        SSLServerSocketFactory ssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\n        ServerSocket ss = ssf.createServerSocket(8362);\n        while (true) {\n            System.out.println(\"awaiting to accept..\");\n          Socket s = ss.accept();\n          SSLSession session = ((SSLSocket) s).getSession();\n          Certificate[] cchain2 = session.getLocalCertificates();\n          for (int i = 0; i &lt; cchain2.length; i++) {\n            System.out.println(((X509Certificate) cchain2[i]).getSubjectDN());\n          }\n          System.out.println(\"Peer host is \" + session.getPeerHost());\n          System.out.println(\"Cipher is \" + session.getCipherSuite());\n          System.out.println(\"Protocol is \" + session.getProtocol());\n          System.out.println(\"ID is \" + new BigInteger(session.getId()));\n          System.out.println(\"Session created in \" + session.getCreationTime());\n          System.out.println(\"Session accessed in \" + session.getLastAccessedTime());\n\n\n          PrintStream out = new PrintStream(s.getOutputStream());\n\n          /*BufferedReader in = new BufferedReader(new InputStreamReader(\n                    s.getInputStream()));*/\n          boolean isChatOver = false;\n          System.out.println(\"\\n\\n*******************Type Below********************\");\n          System.out.println(\"To End Chat Type 'Bye'!\");\n\n          BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n          while(!isChatOver) {\n              String nextChat = br.readLine();\n              out.println(nextChat);\n              if(\"bye\".equalsIgnoreCase(nextChat.trim())) {\n                  isChatOver = true;\n              }\n          }\n\n          out.close();\n          s.close();\n        }\n</code></pre>\n\n<p>SSLClient</p>\n\n<pre><code>    System.setProperty(\"javax.net.ssl.trustStore\", \"/home/user/.truststore\");\n    System.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");\n\n    SSLSocketFactory ssf = (SSLSocketFactory) SSLSocketFactory.getDefault();\n    Socket s = ssf.createSocket(\"127.0.0.1\", 8362);\n\n    SSLSession session = ((SSLSocket) s).getSession();\n    Certificate[] cchain = session.getPeerCertificates();\n    System.out.println(\"The Certificates used by peer\");\n    for (int i = 0; i &lt; cchain.length; i++) {\n        System.out.println(((X509Certificate) cchain[i]).getSubjectDN());\n    }\n    System.out.println(\"Peer host is \" + session.getPeerHost());\n    System.out.println(\"Cipher is \" + session.getCipherSuite());\n    System.out.println(\"Protocol is \" + session.getProtocol());\n    System.out.println(\"ID is \" + new BigInteger(session.getId()));\n    System.out.println(\"Session created in \" + session.getCreationTime());\n    System.out.println(\"Session accessed in \"\n            + session.getLastAccessedTime());\n\n    BufferedReader in = new BufferedReader(new InputStreamReader(\n            s.getInputStream()));\n    boolean isChatOver = false;\n    while(!isChatOver) {\n        if(in.ready()) {\n            Thread.sleep(5000);\n        }\n        String nextChat = in.readLine();\n        System.out.println(\"server says : \" + nextChat);\n        if(\"bye\".equalsIgnoreCase(nextChat.trim())) {\n            System.out.println(\"**************************************Closing Session.*********************************************\");\n            isChatOver = true;\n        }\n    }\n    in.close();\n</code></pre>\n\n<p>In the above code, is my code directly passing message to TCP Layer after encryption using TLS 1.2 ? I hope it does not call an https internally because I want to avoid application layer at all cost.</p>\n\n<p>Kindly let me know in case of any queries in the question.</p>\n\n<p>Thanks\ncheers :))</p>\n"},{"tags":["java","mysql","postgresql","jdbc","timeout"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1412751606,"post_id":26250141,"comment_id":41178991,"body_markdown":"I don&#39;t see any difference, just a poorly chosen name (`loginTimeout`).","body":"I don&#39;t see any difference, just a poorly chosen name (<code>loginTimeout</code>)."},{"owner":{"account_id":1545012,"reputation":1402,"user_id":1438735,"accept_rate":52,"display_name":"Ratatouille"},"score":0,"creation_date":1521703072,"post_id":26250141,"comment_id":85846003,"body_markdown":"Where did you found the timeout in millisecond ?","body":"Where did you found the timeout in millisecond ?"}],"answers":[{"tags":[],"owner":{"account_id":75579,"reputation":759,"user_id":216742,"display_name":"Scott Fines"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472654973,"creation_date":1472654973,"answer_id":39252811,"question_id":26250141,"body_markdown":"MySQL&#39;s `socketConnect` setting determines how long the client will try to attempt to open a network connection; it makes no claims that the database itself will authenticate or function, only that a socket can be established. \r\n\r\nPostgres, by contrast, is indicating a maximum amount of time to connect _to the database_; if your command returns before the timeout, then the database received the network request and responded in an appropriate amount of time.\r\n\r\nSo in one situation, you are only putting constraints on network behavior (i.e. how long you wait to connect a socket to that server at that port); in the other, you are putting constraints on _database_ behavior (i.e. how long to wait for the database itself to connect).\r\n\r\nAs a side note, the interface `javax.sql.CommonDataSource` dictates a JDBC property for `getLoginTimeout` which mimics the behavior of PostgreSQL&#39;s property. When you look at various implementations of a MysqlDataSource([mariadb][1], for example), these methods are not implemented; this generally leads me to believe that there is no direct analogue in MySQL.\r\n\r\n\r\n  [1]: https://github.com/MariaDB/mariadb-connector-j/blob/41910e840323b7b349dc85c0f18e6f0ba89fa9e1/src/main/java/org/mariadb/jdbc/MariaDbDataSource.java","title":"jdbc connectTimeout vs jdbc loginTimeout","body":"<p>MySQL's <code>socketConnect</code> setting determines how long the client will try to attempt to open a network connection; it makes no claims that the database itself will authenticate or function, only that a socket can be established. </p>\n\n<p>Postgres, by contrast, is indicating a maximum amount of time to connect <em>to the database</em>; if your command returns before the timeout, then the database received the network request and responded in an appropriate amount of time.</p>\n\n<p>So in one situation, you are only putting constraints on network behavior (i.e. how long you wait to connect a socket to that server at that port); in the other, you are putting constraints on <em>database</em> behavior (i.e. how long to wait for the database itself to connect).</p>\n\n<p>As a side note, the interface <code>javax.sql.CommonDataSource</code> dictates a JDBC property for <code>getLoginTimeout</code> which mimics the behavior of PostgreSQL's property. When you look at various implementations of a MysqlDataSource(<a href=\"https://github.com/MariaDB/mariadb-connector-j/blob/41910e840323b7b349dc85c0f18e6f0ba89fa9e1/src/main/java/org/mariadb/jdbc/MariaDbDataSource.java\" rel=\"nofollow\">mariadb</a>, for example), these methods are not implemented; this generally leads me to believe that there is no direct analogue in MySQL.</p>\n"}],"owner":{"account_id":982206,"reputation":155,"user_id":1001667,"accept_rate":44,"display_name":"shreyas K N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10805,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700413535,"creation_date":1412748052,"question_id":26250141,"body_markdown":"There is a requirement in our project to support &#39;jdbc timeout&#39; feature for Postgres (Postgresql driver).\r\nwe also support Microsoft SQL (JTDS driver) and MySQl (mysql driver). So i want to introduce the &#39;loginTimeout&#39; as a common feature for all the Databases.\r\n\r\nWhile going through documentation of the drivers, i found there is a jdbc parameter called &#39;loginTimeout&#39; supported from both JTDS and Postgresql drivers but not for Msql\r\n\r\nhttp://jtds.sourceforge.net/faq.html\r\n\r\n&gt; ***loginTimeout** (default - 0 for TCP/IP connections or 20 for named pipe connections) The amount of time to wait (in seconds) for a successful\r\n&gt; connection before timing out. If a TCP/IP connection is used to\r\n&gt; connect to the database and Java 1.4 or newer is being used, the\r\n&gt; loginTimeout parameter is used to set the initial connection timeout\r\n&gt; when initially opening a new socket. A value of zero (the default)\r\n&gt; causes the connection to wait indefinitely, e.g.,until a connection is\r\n&gt; established or an error occurs. See also socketTimeout. If a named\r\n&gt; pipe connection is used (namedPipe is true) and loginTimeout is\r\n&gt; greater than zero, the value of loginTimeout is used for the length of\r\n&gt; the retry period when &quot;All pipe instances are busy&quot; error messages are\r\n&gt; received while attempting to connect to the server. If loginTimeout is\r\n&gt; zero (the default), a value of 20 seconds is used for the named pipe\r\n&gt; retry period.*\r\n\r\nhttp://jdbc.postgresql.org/documentation/84/connect.html\r\n\r\n&gt; **loginTimeout** = int Specify how long to wait for establishment of a\r\n&gt; database connection. The timeout is specified in seconds.\r\n\r\n\r\nbut for Mysql there is nothing like loginTimeout, but has \r\n\r\n&gt; **connectTimeout**: Timeout for socket connect (in milliseconds), with 0\r\n&gt; being no timeout. Only works on JDK-1.4 or newer. Defaults to &#39;0&#39;\r\n\r\n\r\nSo my question is &quot;what is the difference between connectTimeout and loginTimeout&quot; , do they do the same functionality ?","title":"jdbc connectTimeout vs jdbc loginTimeout","body":"<p>There is a requirement in our project to support 'jdbc timeout' feature for Postgres (Postgresql driver).\nwe also support Microsoft SQL (JTDS driver) and MySQl (mysql driver). So i want to introduce the 'loginTimeout' as a common feature for all the Databases.</p>\n\n<p>While going through documentation of the drivers, i found there is a jdbc parameter called 'loginTimeout' supported from both JTDS and Postgresql drivers but not for Msql</p>\n\n<p><a href=\"http://jtds.sourceforge.net/faq.html\" rel=\"nofollow\">http://jtds.sourceforge.net/faq.html</a></p>\n\n<blockquote>\n  <p><strong><em>loginTimeout</strong> (default - 0 for TCP/IP connections or 20 for named pipe connections) The amount of time to wait (in seconds) for a successful\n  connection before timing out. If a TCP/IP connection is used to\n  connect to the database and Java 1.4 or newer is being used, the\n  loginTimeout parameter is used to set the initial connection timeout\n  when initially opening a new socket. A value of zero (the default)\n  causes the connection to wait indefinitely, e.g.,until a connection is\n  established or an error occurs. See also socketTimeout. If a named\n  pipe connection is used (namedPipe is true) and loginTimeout is\n  greater than zero, the value of loginTimeout is used for the length of\n  the retry period when \"All pipe instances are busy\" error messages are\n  received while attempting to connect to the server. If loginTimeout is\n  zero (the default), a value of 20 seconds is used for the named pipe\n  retry period.</em></p>\n</blockquote>\n\n<p><a href=\"http://jdbc.postgresql.org/documentation/84/connect.html\" rel=\"nofollow\">http://jdbc.postgresql.org/documentation/84/connect.html</a></p>\n\n<blockquote>\n  <p><strong>loginTimeout</strong> = int Specify how long to wait for establishment of a\n  database connection. The timeout is specified in seconds.</p>\n</blockquote>\n\n<p>but for Mysql there is nothing like loginTimeout, but has </p>\n\n<blockquote>\n  <p><strong>connectTimeout</strong>: Timeout for socket connect (in milliseconds), with 0\n  being no timeout. Only works on JDK-1.4 or newer. Defaults to '0'</p>\n</blockquote>\n\n<p>So my question is \"what is the difference between connectTimeout and loginTimeout\" , do they do the same functionality ?</p>\n"},{"tags":["java","spring-boot","netbeans","classloader","spring-boot-devtools"],"owner":{"account_id":15424656,"reputation":141,"user_id":12934171,"display_name":"Kerdos Media"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700412470,"creation_date":1700412470,"question_id":77511627,"body_markdown":"I keep getting errors with the RestartClassLoader including\r\n\r\n    java.lang.LinkageError: loader constraint violation: loader &#39;app&#39; wants to load\r\n    interface com.company.core.AnInterface. A different interface with the same name was\r\n    previously loaded by org.springframework.boot.devtools.restart.classloader.RestartClassLoader\r\n    @7ee94bd7. (com.company.core.AnInterface is in unnamed module of loader\r\n    org.springframework.boot.devtools.restart.classloader.RestartClassLoader\r\n    @7ee94bd7, parent loader &#39;app&#39;)\r\n\r\nI&#39;m building a multi-module spring boot project with a structure similar to\r\n\r\n    com.company.parent (to tie everything together)\r\n    com.company.app (dependencies for core and module)\r\n    com.company.core\r\n    com.company.module\r\n\r\nI define an interface in the core project, AnInterface. \r\n\r\n    public interface AnInterface {\r\n    \tString getInterfaceId();\r\n    \tboolean isInterface(AnInterface anInterface);\r\n    }\r\n\r\nI also have an abstract Entity class in module, AbstractEntity.\r\n\r\n    @Data\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class AbstractEntity implements AnInterface {\r\n    \tprivate String interfaceId;\r\n            private abstract boolean isInterface(AnInterface anInterface);\r\n    }\r\n\r\nIn the appplication package I have the SubEntity\r\n\r\n    @Data\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class SubEntity extends AbstractEntity implements Serialiazable {\r\n    \t@Override\r\n    \tpublic boolean isInterface(AnInterface  anInterface) {\r\n    \t\t//check for nulls ommited\r\n    \t\treturn anInterface.getId().equals(getInterfaceId());\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nAs I understand the error, DevTools uses two class loaders. One for the app, and then one for all the dependencies, of which core, and module are. AnInterface gets loaded by both causing 2 different versions of AnInterface.\r\n\r\nFrom what I understand there are ways to have RestartClassLoader include or exclude classes/sources/jars but I&#39;m having issues with the placement and syntax.\r\n\r\nThe only way I can bypass the exception is to add a system property in my main class\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoCOnfiguration\r\n    @CompnentScan(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\r\n    @EnableJpaRepositories(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\r\n    @EntityScan(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    @PropertySource(&quot;classpath:module.properties&quot;)\r\n    @PropertySource(&quot;classpath:core.properties&quot;)\r\n    public class MainClass implements WebMvcConfigurer {\r\n    \tpublic static void main(String[] args) {\r\n    \tSystem.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\r\n    \t}\r\n    }\r\n\r\nIf I put spring.devtools.restart.enabled=false into application.properties it doesn&#39;t appear to do anything. I also tried creating a spring-devtools.properties in the same folder as application.properties which didn&#39;t fix it either.\r\n\r\nWhile this gets me to be able to continue developing, losing the ability for devtools to restart the application is slowing me down. How can I configure devtools restartClassLoader to avoid this collission?\r\n\r\nThe best I could figure out it has something to do with setting in application.properties a property like \r\n\r\n    restart.include.com-company-core=/com-company-core-[\\\\w\\\\d-\\\\.]+\\\\.jar\r\n    restart.include.com-company-module=/com-company-module-[\\\\w\\\\d-\\\\.]+\\\\.jar\r\n\r\nbut that hasn&#39;t worked for me and neither did putting it in the main class as\r\n\r\n    System.setProperty(&quot;spring.devtools.restart.include.com-company-module&quot;, &quot;/com-company-core-[\\\\\\\\w\\\\\\\\d-\\\\\\\\.]+\\\\\\\\.jar]&quot;);\r\n    System.setProperty(&quot;spring.devtools.restart.include.com-company-module&quot;, &quot;/com-company-module-[\\\\\\\\w\\\\\\\\d-\\\\\\\\.]+\\\\\\\\.jar]&quot;);\r\n\r\nIt feels like I&#39;m close, what am I missing to be able to get devtools restart working again?","title":"How to configure spring boot dev tools so it doesn&#39;t fail when an interface is loaded by both classloaders?","body":"<p>I keep getting errors with the RestartClassLoader including</p>\n<pre><code>java.lang.LinkageError: loader constraint violation: loader 'app' wants to load\ninterface com.company.core.AnInterface. A different interface with the same name was\npreviously loaded by org.springframework.boot.devtools.restart.classloader.RestartClassLoader\n@7ee94bd7. (com.company.core.AnInterface is in unnamed module of loader\norg.springframework.boot.devtools.restart.classloader.RestartClassLoader\n@7ee94bd7, parent loader 'app')\n</code></pre>\n<p>I'm building a multi-module spring boot project with a structure similar to</p>\n<pre><code>com.company.parent (to tie everything together)\ncom.company.app (dependencies for core and module)\ncom.company.core\ncom.company.module\n</code></pre>\n<p>I define an interface in the core project, AnInterface.</p>\n<pre><code>public interface AnInterface {\n    String getInterfaceId();\n    boolean isInterface(AnInterface anInterface);\n}\n</code></pre>\n<p>I also have an abstract Entity class in module, AbstractEntity.</p>\n<pre><code>@Data\n@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class AbstractEntity implements AnInterface {\n    private String interfaceId;\n        private abstract boolean isInterface(AnInterface anInterface);\n}\n</code></pre>\n<p>In the appplication package I have the SubEntity</p>\n<pre><code>@Data\n@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class SubEntity extends AbstractEntity implements Serialiazable {\n    @Override\n    public boolean isInterface(AnInterface  anInterface) {\n        //check for nulls ommited\n        return anInterface.getId().equals(getInterfaceId());\n    }\n}\n</code></pre>\n<p>As I understand the error, DevTools uses two class loaders. One for the app, and then one for all the dependencies, of which core, and module are. AnInterface gets loaded by both causing 2 different versions of AnInterface.</p>\n<p>From what I understand there are ways to have RestartClassLoader include or exclude classes/sources/jars but I'm having issues with the placement and syntax.</p>\n<p>The only way I can bypass the exception is to add a system property in my main class</p>\n<pre><code>@SpringBootApplication\n@EnableAutoCOnfiguration\n@CompnentScan(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\n@EnableJpaRepositories(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\n@EntityScan(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\n@PropertySource(&quot;classpath:application.properties&quot;)\n@PropertySource(&quot;classpath:module.properties&quot;)\n@PropertySource(&quot;classpath:core.properties&quot;)\npublic class MainClass implements WebMvcConfigurer {\n    public static void main(String[] args) {\n    System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\n    }\n}\n</code></pre>\n<p>If I put spring.devtools.restart.enabled=false into application.properties it doesn't appear to do anything. I also tried creating a spring-devtools.properties in the same folder as application.properties which didn't fix it either.</p>\n<p>While this gets me to be able to continue developing, losing the ability for devtools to restart the application is slowing me down. How can I configure devtools restartClassLoader to avoid this collission?</p>\n<p>The best I could figure out it has something to do with setting in application.properties a property like</p>\n<pre><code>restart.include.com-company-core=/com-company-core-[\\\\w\\\\d-\\\\.]+\\\\.jar\nrestart.include.com-company-module=/com-company-module-[\\\\w\\\\d-\\\\.]+\\\\.jar\n</code></pre>\n<p>but that hasn't worked for me and neither did putting it in the main class as</p>\n<pre><code>System.setProperty(&quot;spring.devtools.restart.include.com-company-module&quot;, &quot;/com-company-core-[\\\\\\\\w\\\\\\\\d-\\\\\\\\.]+\\\\\\\\.jar]&quot;);\nSystem.setProperty(&quot;spring.devtools.restart.include.com-company-module&quot;, &quot;/com-company-module-[\\\\\\\\w\\\\\\\\d-\\\\\\\\.]+\\\\\\\\.jar]&quot;);\n</code></pre>\n<p>It feels like I'm close, what am I missing to be able to get devtools restart working again?</p>\n"},{"tags":["java","office365","jakarta-mail","imap"],"comments":[{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":1,"creation_date":1700403698,"post_id":77510725,"comment_id":136647564,"body_markdown":"You _cannot_ log in with a password.  Period.  https://learn.microsoft.com/en-us/exchange/clients-and-mobile-in-exchange-online/deprecation-of-basic-authentication-exchange-online : `Basic authentication is now disabled in all tenants. Before December 31 2022, you could re-enable the affected protocols if users and apps in your tenant couldn&#39;t connect. Now no one (you or Microsoft support) can re-enable Basic authentication in your tenant.`","body":"You <i>cannot</i> log in with a password.  Period.  <a href=\"https://learn.microsoft.com/en-us/exchange/clients-and-mobile-in-exchange-online/deprecation-of-basic-authentication-exchange-online\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/exchange/&hellip;</a> : <code>Basic authentication is now disabled in all tenants. Before December 31 2022, you could re-enable the affected protocols if users and apps in your tenant couldn&#39;t connect. Now no one (you or Microsoft support) can re-enable Basic authentication in your tenant.</code>"},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1700403750,"post_id":77510725,"comment_id":136647569,"body_markdown":"You may be able to use certificate based authentication (which is not a password; I don&#39;t know if O365 in the cloud supports this, this is something you will have to specifically setup on the server side), or OAUTH.  Though note, OAUTH supports things like service accounts, etc., if the &quot;logging in with a web browser&quot; part is what styiming you","body":"You may be able to use certificate based authentication (which is not a password; I don&#39;t know if O365 in the cloud supports this, this is something you will have to specifically setup on the server side), or OAUTH.  Though note, OAUTH supports things like service accounts, etc., if the &quot;logging in with a web browser&quot; part is what styiming you"},{"owner":{"account_id":4303446,"reputation":394,"user_id":3516549,"display_name":"luizfelipetx"},"score":0,"creation_date":1700406690,"post_id":77510725,"comment_id":136647871,"body_markdown":"Any Free Mail Box Still is able to login with email and pass ? i can redirect email to there and login programatically there.","body":"Any Free Mail Box Still is able to login with email and pass ? i can redirect email to there and login programatically there."},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1700426136,"post_id":77510725,"comment_id":136649937,"body_markdown":"I believe consumer microsoft accounts (eg hotmail/outlook.com) can still login with a password, but you&#39;ll have to do your own research there.  Or, stand up your own SMTP server!  Push is better than pull!","body":"I believe consumer microsoft accounts (eg hotmail/outlook.com) can still login with a password, but you&#39;ll have to do your own research there.  Or, stand up your own SMTP server!  Push is better than pull!"}],"owner":{"account_id":4303446,"reputation":394,"user_id":3516549,"display_name":"luizfelipetx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700409842,"creation_date":1700396266,"question_id":77510725,"body_markdown":"i need connect in outlook365 just to read email , with login and pass to one integration, and i need to be login and pass without XOAUTH. \r\n\r\nI already tried a lot of codes without success, if anyone can help i will be grateful. \r\nFollow my code Java 17\r\n\r\n===========\r\n\r\nUPDATE 19/11/2023\r\nfrom @MAX\r\nits is impossible.\r\n\r\nSo anyone, use another mail box, with login and pass programaticaly to login  ? And that works still in java ? \r\n\r\ncan i made a rule inside main email to foward to another one. And this new &quot;email&quot; in &quot;new plataform&quot; i can access programatically.\r\n\r\nex/. email received in outlook , automatic redirect, to yahoo , in yahoo i will get this email. and use.\r\n\r\n(i tried yahoo, but the flow to create thirdy party access is disable for now)\r\n\r\n```\r\n\r\nMailConnector.java\r\n\r\npackage br.com.myproject.utils;\r\n\r\nimport java.util.Properties;\r\nimport javax.mail.Folder;\r\nimport javax.mail.Message;\r\nimport javax.mail.Session;\r\nimport javax.mail.Store;\r\n\r\npublic class MailConnector {\r\n\r\n\tstatic String user = &quot;myEmailFromCompanyOffice365Enterprise&quot;;\r\n\tstatic String senha = &quot;password&quot;;\r\n\t\r\n\t\r\n\tpublic  static void connect() throws Exception {\r\n\t\t\r\n\t\r\n\t\tProperties prop = new Properties();\r\n\t\tprop.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprop.setProperty(&quot;ssl.SocketFactory.provider&quot;, &quot;mypackage.utils.ExchangeSSLSocketFactory&quot;);\r\n\t\tprop.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;mypackage.utils.ExchangeSSLSocketFactory&quot;);\r\n\t\tprop.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n\t    prop.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n\t  \r\n          //prop.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\r\n          //Add this line ERROR A3 ,  remove this line ERROR A1\r\n\r\n\t\tSession session = Session.getDefaultInstance(prop, null);\r\n\t\tsession.setDebug(true);\r\n\t\tStore store = session.getStore(&quot;imap&quot;);\r\n\r\n\t\tstore.connect(&quot;outlook.office365.com&quot;, user, senha);\r\n\r\n\t\tFolder folder = store.getFolder(&quot;INBOX&quot;);\r\n\t\tfolder.open(Folder.READ_ONLY);\r\n\r\n\t\tSystem.out.println(&quot;Total Message:&quot; + folder.getMessageCount());\r\n\t\tSystem.out.println(&quot;Unread Message:&quot; + folder.getUnreadMessageCount());\r\n\r\n\t\tMessage messages[] = folder.getMessages();\r\n\r\n\t\tfor (Message mail : messages) {\r\n\r\n\t\t\tSystem.out.println(&quot;*********************************&quot;);\r\n\t\t\tSystem.out.println(&quot;MESSAGE : \\n&quot;);\r\n\r\n\t\t\tSystem.out.println(&quot;Subject: &quot; + mail.getSubject());\r\n\t\t\tSystem.out.println(&quot;From: &quot; + mail.getFrom()[0]);\r\n\t\t\tSystem.out.println(&quot;To: &quot; + mail.getAllRecipients()[0]);\r\n\t\t\tSystem.out.println(&quot;Date: &quot; + mail.getReceivedDate());\r\n\t\t\tSystem.out.println(&quot;Size: &quot; + mail.getSize());\r\n\t\t\tSystem.out.println(&quot;Flags: &quot; + mail.getFlags());\r\n\t\t\tSystem.out.println(&quot;ContentType: &quot; + mail.getContentType());\r\n\t\t\tSystem.out.println(&quot;*******************************&quot;);\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tconnect();\r\n\t}\r\n\t \r\n\t\r\n}\r\n```\r\n\r\nReading some problems about that, i add one class to negotiate credentials with microsoft and add in package , and in props session. \r\n\r\nThis is the class. (i just copy and past this class)\r\n\r\n\r\n```\r\n\r\nExchangeSSLSocketFactory.java\r\n\r\npackage br.com.myproject.utils;\r\n\r\nimport javax.net.SocketFactory;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.*;\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.net.Socket;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.X509Certificate;\r\n\r\npublic class ExchangeSSLSocketFactory extends SSLSocketFactory {\r\n\r\nprivate SSLSocketFactory sslSocketFactory;\r\nprivate SocketFactory socketFactory;\r\n\r\npublic ExchangeSSLSocketFactory() {\r\n    try {\r\n        socketFactory = SocketFactory.getDefault();\r\n\r\n        SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n        context.init(null, new TrustManager[] { new EmptyTrustManager() }, null);\r\n        sslSocketFactory = (SSLSocketFactory)context.getSocketFactory();\r\n    }\r\n    catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n\r\nprivate final class EmptyTrustManager implements X509TrustManager {\r\n    public void checkClientTrusted(X509Certificate[] cert, String authType) throws CertificateException {}\r\n\r\n    public void checkServerTrusted(X509Certificate[] cert, String authType) throws CertificateException {}\r\n\r\n    public X509Certificate[] getAcceptedIssuers() {\r\n        return new java.security.cert.X509Certificate[0];\r\n    }\r\n}\r\n\r\npublic static SocketFactory getDefault() {\r\n    return new ExchangeSSLSocketFactory();\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(Socket socket, String s, int i, boolean flag) throws IOException {\r\n    return sslSocketFactory.createSocket(socket, s, i, flag);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(InetAddress inaddr, int i, InetAddress inaddr1, int j) throws IOException {\r\n    return socketFactory.createSocket(inaddr, i, inaddr1, j);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(InetAddress inaddr, int i) throws IOException {\r\n    return socketFactory.createSocket(inaddr, i);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(String s, int i, InetAddress inaddr, int j) throws IOException {\r\n    return socketFactory.createSocket(s, i, inaddr, j);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(String s, int i) throws IOException {\r\n    return socketFactory.createSocket(s, i);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket() throws IOException {\r\n    return socketFactory.createSocket();\r\n}\r\n\r\n@Override\r\npublic String[] getDefaultCipherSuites() {\r\n    return sslSocketFactory.getSupportedCipherSuites();\r\n}\r\n\r\n@Override\r\npublic String[] getSupportedCipherSuites() {\r\n    return sslSocketFactory.getSupportedCipherSuites();\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\nIf anyone have a solution or understand better about protocols and what i need to do to make the integration works, will be amazing. This solution cannot provide XOAUTH, need to be login and pass. Reading the forum i found lot of people with solutions working but not share the code =/\r\n\r\n\r\n","title":"Connect OutlookMail Fail A1 and A3 Errors JavaMail with simple login and pass to connect in Outlook365 Mail","body":"<p>i need connect in outlook365 just to read email , with login and pass to one integration, and i need to be login and pass without XOAUTH.</p>\n<p>I already tried a lot of codes without success, if anyone can help i will be grateful.\nFollow my code Java 17</p>\n<p>===========</p>\n<p>UPDATE 19/11/2023\nfrom @MAX\nits is impossible.</p>\n<p>So anyone, use another mail box, with login and pass programaticaly to login  ? And that works still in java ?</p>\n<p>can i made a rule inside main email to foward to another one. And this new &quot;email&quot; in &quot;new plataform&quot; i can access programatically.</p>\n<p>ex/. email received in outlook , automatic redirect, to yahoo , in yahoo i will get this email. and use.</p>\n<p>(i tried yahoo, but the flow to create thirdy party access is disable for now)</p>\n<pre><code>\nMailConnector.java\n\npackage br.com.myproject.utils;\n\nimport java.util.Properties;\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.Session;\nimport javax.mail.Store;\n\npublic class MailConnector {\n\n    static String user = &quot;myEmailFromCompanyOffice365Enterprise&quot;;\n    static String senha = &quot;password&quot;;\n    \n    \n    public  static void connect() throws Exception {\n        \n    \n        Properties prop = new Properties();\n        prop.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n        prop.setProperty(&quot;ssl.SocketFactory.provider&quot;, &quot;mypackage.utils.ExchangeSSLSocketFactory&quot;);\n        prop.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;mypackage.utils.ExchangeSSLSocketFactory&quot;);\n        prop.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n        prop.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n      \n          //prop.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\n          //Add this line ERROR A3 ,  remove this line ERROR A1\n\n        Session session = Session.getDefaultInstance(prop, null);\n        session.setDebug(true);\n        Store store = session.getStore(&quot;imap&quot;);\n\n        store.connect(&quot;outlook.office365.com&quot;, user, senha);\n\n        Folder folder = store.getFolder(&quot;INBOX&quot;);\n        folder.open(Folder.READ_ONLY);\n\n        System.out.println(&quot;Total Message:&quot; + folder.getMessageCount());\n        System.out.println(&quot;Unread Message:&quot; + folder.getUnreadMessageCount());\n\n        Message messages[] = folder.getMessages();\n\n        for (Message mail : messages) {\n\n            System.out.println(&quot;*********************************&quot;);\n            System.out.println(&quot;MESSAGE : \\n&quot;);\n\n            System.out.println(&quot;Subject: &quot; + mail.getSubject());\n            System.out.println(&quot;From: &quot; + mail.getFrom()[0]);\n            System.out.println(&quot;To: &quot; + mail.getAllRecipients()[0]);\n            System.out.println(&quot;Date: &quot; + mail.getReceivedDate());\n            System.out.println(&quot;Size: &quot; + mail.getSize());\n            System.out.println(&quot;Flags: &quot; + mail.getFlags());\n            System.out.println(&quot;ContentType: &quot; + mail.getContentType());\n            System.out.println(&quot;*******************************&quot;);\n\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        connect();\n    }\n     \n    \n}\n</code></pre>\n<p>Reading some problems about that, i add one class to negotiate credentials with microsoft and add in package , and in props session.</p>\n<p>This is the class. (i just copy and past this class)</p>\n<pre><code>\nExchangeSSLSocketFactory.java\n\npackage br.com.myproject.utils;\n\nimport javax.net.SocketFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.*;\nimport java.io.IOException;\nimport java.net.InetAddress;\nimport java.net.Socket;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\npublic class ExchangeSSLSocketFactory extends SSLSocketFactory {\n\nprivate SSLSocketFactory sslSocketFactory;\nprivate SocketFactory socketFactory;\n\npublic ExchangeSSLSocketFactory() {\n    try {\n        socketFactory = SocketFactory.getDefault();\n\n        SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n        context.init(null, new TrustManager[] { new EmptyTrustManager() }, null);\n        sslSocketFactory = (SSLSocketFactory)context.getSocketFactory();\n    }\n    catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n\nprivate final class EmptyTrustManager implements X509TrustManager {\n    public void checkClientTrusted(X509Certificate[] cert, String authType) throws CertificateException {}\n\n    public void checkServerTrusted(X509Certificate[] cert, String authType) throws CertificateException {}\n\n    public X509Certificate[] getAcceptedIssuers() {\n        return new java.security.cert.X509Certificate[0];\n    }\n}\n\npublic static SocketFactory getDefault() {\n    return new ExchangeSSLSocketFactory();\n}\n\n@Override\npublic Socket createSocket(Socket socket, String s, int i, boolean flag) throws IOException {\n    return sslSocketFactory.createSocket(socket, s, i, flag);\n}\n\n@Override\npublic Socket createSocket(InetAddress inaddr, int i, InetAddress inaddr1, int j) throws IOException {\n    return socketFactory.createSocket(inaddr, i, inaddr1, j);\n}\n\n@Override\npublic Socket createSocket(InetAddress inaddr, int i) throws IOException {\n    return socketFactory.createSocket(inaddr, i);\n}\n\n@Override\npublic Socket createSocket(String s, int i, InetAddress inaddr, int j) throws IOException {\n    return socketFactory.createSocket(s, i, inaddr, j);\n}\n\n@Override\npublic Socket createSocket(String s, int i) throws IOException {\n    return socketFactory.createSocket(s, i);\n}\n\n@Override\npublic Socket createSocket() throws IOException {\n    return socketFactory.createSocket();\n}\n\n@Override\npublic String[] getDefaultCipherSuites() {\n    return sslSocketFactory.getSupportedCipherSuites();\n}\n\n@Override\npublic String[] getSupportedCipherSuites() {\n    return sslSocketFactory.getSupportedCipherSuites();\n}\n\n}\n</code></pre>\n<p>If anyone have a solution or understand better about protocols and what i need to do to make the integration works, will be amazing. This solution cannot provide XOAUTH, need to be login and pass. Reading the forum i found lot of people with solutions working but not share the code =/</p>\n"},{"tags":["java","java-8","apache-kafka","java-12"],"comments":[{"owner":{"account_id":2429856,"reputation":576,"user_id":2121026,"accept_rate":74,"display_name":"Java Dude"},"score":0,"creation_date":1700409659,"post_id":55531708,"comment_id":136648187,"body_markdown":"Did you fix the issue? If yes, please share the fix.","body":"Did you fix the issue? If yes, please share the fix."}],"answers":[{"tags":[],"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554458737,"creation_date":1554458737,"answer_id":55532989,"question_id":55531708,"body_markdown":"This `javax/xml/bind` API is removed since Java 11. You can refer to https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j for a workaround","title":"Kafka unable to resolve javax/xml/bind/* ClassNotFoundExeption for java 12?","body":"<p>This <code>javax/xml/bind</code> API is removed since Java 11. You can refer to <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9</a> for a workaround</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554478618,"creation_date":1554478618,"answer_id":55538980,"question_id":55531708,"body_markdown":"&gt; I&#39;m learning kafka and just downloaded kafka 0.10.1\r\n\r\nThis version of Kafka does not support versions of Java above 8. \r\n\r\nOnly the newest Kafka 2.2.0 (which very likely will work the same for your learning purposes), added support for Java 11","title":"Kafka unable to resolve javax/xml/bind/* ClassNotFoundExeption for java 12?","body":"<blockquote>\n  <p>I'm learning kafka and just downloaded kafka 0.10.1</p>\n</blockquote>\n\n<p>This version of Kafka does not support versions of Java above 8. </p>\n\n<p>Only the newest Kafka 2.2.0 (which very likely will work the same for your learning purposes), added support for Java 11</p>\n"},{"tags":[],"owner":{"account_id":2260830,"reputation":3,"user_id":1990991,"display_name":"user1990991"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559889143,"creation_date":1559889143,"answer_id":56489063,"question_id":55531708,"body_markdown":"I am  using JDK10. for that I  have added something like below to make it work for me.\r\n1) edit  kafka-run-class.bat\r\n2) the set COMMAND=%JAVA%  **–add-modules java.xml.bind** rest of the lines remain same.\r\n3) Run kafka server","title":"Kafka unable to resolve javax/xml/bind/* ClassNotFoundExeption for java 12?","body":"<p>I am  using JDK10. for that I  have added something like below to make it work for me.\n1) edit  kafka-run-class.bat\n2) the set COMMAND=%JAVA%  <strong>–add-modules java.xml.bind</strong> rest of the lines remain same.\n3) Run kafka server</p>\n"}],"owner":{"display_name":"user11311618"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55538980,"answer_count":3,"score":0,"last_activity_date":1700409643,"creation_date":1554454653,"question_id":55531708,"body_markdown":"I&#39;m learning kafka and  just downloaded kafka 0.10.1 (as it&#39;s the requirement of my project) and whenever i run this command line code\r\n\r\n`bin/kafka-server-start.sh config/server.properties`\r\n\r\ni get this error\r\n\r\n    java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n    \tat kafka.utils.CoreUtils$.urlSafeBase64EncodeNoPadding(CoreUtils.scala:298)\r\n    \tat kafka.utils.CoreUtils$.generateUuidAsBase64(CoreUtils.scala:286)\r\n    \tat kafka.server.KafkaServer$$anonfun$getOrGenerateClusterId$1.apply(KafkaServer.scala:336)\r\n    \tat kafka.server.KafkaServer$$anonfun$getOrGenerateClusterId$1.apply(KafkaServer.scala:336)\r\n    \tat scala.Option.getOrElse(Option.scala:121)\r\n    \tat kafka.server.KafkaServer.getOrGenerateClusterId(KafkaServer.scala:336)\r\n    \tat kafka.server.KafkaServer.startup(KafkaServer.scala:203)\r\n    \tat kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:39)\r\n    \tat kafka.Kafka$.main(Kafka.scala:67)\r\n    \tat kafka.Kafka.main(Kafka.scala)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 10 more\r\n\r\n\r\nI&#39;m actually using java 12 and `javax/xml/bind/*` is removed from java 11 so some suggestion were to add the dependencies in the pom.xml file but i unzipped kafka from a .tar file and not build it using maven so how can i resolve this error in kafka??\r\n\r\nshould i download java-8 for this??","title":"Kafka unable to resolve javax/xml/bind/* ClassNotFoundExeption for java 12?","body":"<p>I'm learning kafka and  just downloaded kafka 0.10.1 (as it's the requirement of my project) and whenever i run this command line code</p>\n\n<p><code>bin/kafka-server-start.sh config/server.properties</code></p>\n\n<p>i get this error</p>\n\n<pre><code>java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\n    at kafka.utils.CoreUtils$.urlSafeBase64EncodeNoPadding(CoreUtils.scala:298)\n    at kafka.utils.CoreUtils$.generateUuidAsBase64(CoreUtils.scala:286)\n    at kafka.server.KafkaServer$$anonfun$getOrGenerateClusterId$1.apply(KafkaServer.scala:336)\n    at kafka.server.KafkaServer$$anonfun$getOrGenerateClusterId$1.apply(KafkaServer.scala:336)\n    at scala.Option.getOrElse(Option.scala:121)\n    at kafka.server.KafkaServer.getOrGenerateClusterId(KafkaServer.scala:336)\n    at kafka.server.KafkaServer.startup(KafkaServer.scala:203)\n    at kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:39)\n    at kafka.Kafka$.main(Kafka.scala:67)\n    at kafka.Kafka.main(Kafka.scala)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 10 more\n</code></pre>\n\n<p>I'm actually using java 12 and <code>javax/xml/bind/*</code> is removed from java 11 so some suggestion were to add the dependencies in the pom.xml file but i unzipped kafka from a .tar file and not build it using maven so how can i resolve this error in kafka??</p>\n\n<p>should i download java-8 for this??</p>\n"},{"tags":["java","performance","affinity","numa","numactl"],"owner":{"account_id":5164133,"reputation":151,"user_id":4134776,"display_name":"Carlos S&#225;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700409580,"creation_date":1495189236,"question_id":44067490,"body_markdown":"I&#39;m studying some codes in Java (*SOR algorithm and LU factorisation*). The main goal is to study the impact of executing such algorithms in a NUMA aware architecture. I already found some tools such as *numactl*, and other affinity environment variables. Such as: **GOMP_CPU_AFFINITY (GCC)** and **KMP_AFFINITY (ICC)** to pin threads to cores using the same algorithms in C. However I don&#39;t know what alternatives I have for studying NUMA in Java. For Java I only use *numactl* with performance gains using **--interleave=all** flag but I don&#39;t really have control about what is happening in a JVM level.\r\n\r\nI found another tool called *numastat* which is supposed to measure &quot;NUMA counters&quot; in a NUMA architecture and know the allocations which were &quot;hit&quot; (numa_hit) and &quot;miss&quot; (numa_miss) in a NUMA-Node. However I&#39;m not sure how can I use it to measure this counters with my Java application.\r\nWhat kind of tests (and programming techniques) should I perform in order to study the impact of NUMA in Java applications?\r\n\r\nThanks for your help.","title":"How to study the impact of NUMA in Java algorithms","body":"<p>I'm studying some codes in Java (<em>SOR algorithm and LU factorisation</em>). The main goal is to study the impact of executing such algorithms in a NUMA aware architecture. I already found some tools such as <em>numactl</em>, and other affinity environment variables. Such as: <strong>GOMP_CPU_AFFINITY (GCC)</strong> and <strong>KMP_AFFINITY (ICC)</strong> to pin threads to cores using the same algorithms in C. However I don't know what alternatives I have for studying NUMA in Java. For Java I only use <em>numactl</em> with performance gains using <strong>--interleave=all</strong> flag but I don't really have control about what is happening in a JVM level.</p>\n<p>I found another tool called <em>numastat</em> which is supposed to measure &quot;NUMA counters&quot; in a NUMA architecture and know the allocations which were &quot;hit&quot; (numa_hit) and &quot;miss&quot; (numa_miss) in a NUMA-Node. However I'm not sure how can I use it to measure this counters with my Java application.\nWhat kind of tests (and programming techniques) should I perform in order to study the impact of NUMA in Java applications?</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","swing","concurrency"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1700403437,"post_id":77511087,"comment_id":136647533,"body_markdown":"For one, you&#39;re using the wrong Timer class. Do not use `java.util.Timer` with Swing GUI&#39;s but rather use `javax.swing.Timer` which is thread-safe. For another, you are not posting the key information required to allow others to be able to help debug a NPE (NullPointerException), one of the most common issues seen on this site. Study the duplicate and consider improving your question if still stuck.","body":"For one, you&#39;re using the wrong Timer class. Do not use <code>java.util.Timer</code> with Swing GUI&#39;s but rather use <code>javax.swing.Timer</code> which is thread-safe. For another, you are not posting the key information required to allow others to be able to help debug a NPE (NullPointerException), one of the most common issues seen on this site. Study the duplicate and consider improving your question if still stuck."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1700404047,"post_id":77511087,"comment_id":136647599,"body_markdown":"So, always include the full stack trace text with your NPE question, and highlight the lines that the stack trace indicates throws the exception (which you may kind of be doing, but without the stack trace, it&#39;s difficult to tell), and also what variable is definitely null when the exception occurs, as per your debugger.  Also, look into posting [mre] code with your question so that we can reproduce the problem ourselves.","body":"So, always include the full stack trace text with your NPE question, and highlight the lines that the stack trace indicates throws the exception (which you may kind of be doing, but without the stack trace, it&#39;s difficult to tell), and also what variable is definitely null when the exception occurs, as per your debugger.  Also, look into posting <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code with your question so that we can reproduce the problem ourselves."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1700404391,"post_id":77511087,"comment_id":136647636,"body_markdown":"and to answer your direct question, yes, it is very possible for a null check, such as written above, to fail in a multi-threading environment if threading isn&#39;t handled correctly. One solution is to use synchronization, but more importantly for this example, simply changing your Timer class to the correct one will likely remove this very risk.","body":"and to answer your direct question, yes, it is very possible for a null check, such as written above, to fail in a multi-threading environment if threading isn&#39;t handled correctly. One solution is to use synchronization, but more importantly for this example, simply changing your Timer class to the correct one will likely remove this very risk."},{"owner":{"account_id":18080104,"reputation":131,"user_id":14575766,"display_name":"Javi"},"score":0,"creation_date":1700406079,"post_id":77511087,"comment_id":136647800,"body_markdown":"Thanks, i will try with the other timer.  i tried with synchornized method but app frezze","body":"Thanks, i will try with the other timer.  i tried with synchornized method but app frezze"},{"owner":{"account_id":18080104,"reputation":131,"user_id":14575766,"display_name":"Javi"},"score":0,"creation_date":1700407491,"post_id":77511087,"comment_id":136647944,"body_markdown":"Thanks. The javax.swing.Timer works fine","body":"Thanks. The javax.swing.Timer works fine"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700409395,"post_id":77511087,"comment_id":136648155,"body_markdown":"You&#39;re welcome. The Swing timer should work because all the key code is called on a single thread, the Swing Event Thread. For more details on this, please review [Lesson: Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)","body":"You&#39;re welcome. The Swing timer should work because all the key code is called on a single thread, the Swing Event Thread. For more details on this, please review <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Lesson: Concurrency in Swing</a>"}],"owner":{"account_id":18080104,"reputation":131,"user_id":14575766,"display_name":"Javi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700403319,"answer_count":0,"score":0,"last_activity_date":1700409280,"creation_date":1700403267,"question_id":77511087,"body_markdown":"//swing class, An object named foo(frame showing time each second)\r\n\r\n        Timer timer = new Timer();\r\n        timer.scheduleAtFixedRate(new TimerTask() {\r\n            \r\n            @Override\r\n            public void  run() {\r\n                \r\n                if(object != null){\r\n                      object.getProperty()... //-&gt;here NullPointerException\r\n                }\r\n            }\r\n         }, 0, 1000);\r\n\r\n      //another class\r\n\r\n      foo.setObject(null)\r\n\r\n\r\n\r\n\r\n\r\nis it possible that foo.setObject(null) happens after if(object!=null) and before object.getproperty()??","title":"NullPointerException on timer","body":"<p>//swing class, An object named foo(frame showing time each second)</p>\n<pre><code>    Timer timer = new Timer();\n    timer.scheduleAtFixedRate(new TimerTask() {\n        \n        @Override\n        public void  run() {\n            \n            if(object != null){\n                  object.getProperty()... //-&gt;here NullPointerException\n            }\n        }\n     }, 0, 1000);\n\n  //another class\n\n  foo.setObject(null)\n</code></pre>\n<p>is it possible that foo.setObject(null) happens after if(object!=null) and before object.getproperty()??</p>\n"},{"tags":["java","spring","rest","spring-boot","http"],"answers":[{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569365701,"creation_date":1569258355,"answer_id":58067128,"question_id":57963597,"body_markdown":"You need to add the content type as multipart along with content disposition. Make sure to import spring classes as there are same classes in Apache Http library.\r\n\r\n    String uri = &quot;http://putmyresults.com&quot;;\r\n    MultiValueMap&lt;String,Object&gt; multipartRequest = new LinkedMultiValueMap&lt;&gt;();\r\n\r\n    ResultObject results = buildResultObject(myData);\r\n    byte[] bytes = results.convertToAvroBytes()\r\n    HttpHeaders fileHeader = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n    headers.setContentDispositionFormData(&quot;file&quot;,&quot;mydata&quot;);\r\n    HttpEntity&lt;byte[]&gt; entity = new HttpEntity&lt;&gt;(bytes,fileHeader);\r\n    multipartRequest.add(&quot;file&quot;,entity);\r\n    \r\n    HttpHeaders header = new HttpHeaders();\r\n    header.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt; requestMap = new HttpEntity&lt;&gt;(multipartRequest,header);\r\n    String response = new RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class);\r\n\r\nReference:[multipart-file-upload-using-spring-rest-template-spring-web-mvc][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26964688/multipart-file-upload-using-spring-rest-template-spring-web-mvc","title":"Making a MultiPart Put request via Spring Rest to call a API with formData (Replace Apache MultipartEntityBuilder with REST)","body":"<p>You need to add the content type as multipart along with content disposition. Make sure to import spring classes as there are same classes in Apache Http library.</p>\n\n<pre><code>String uri = \"http://putmyresults.com\";\nMultiValueMap&lt;String,Object&gt; multipartRequest = new LinkedMultiValueMap&lt;&gt;();\n\nResultObject results = buildResultObject(myData);\nbyte[] bytes = results.convertToAvroBytes()\nHttpHeaders fileHeader = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\nheaders.setContentDispositionFormData(\"file\",\"mydata\");\nHttpEntity&lt;byte[]&gt; entity = new HttpEntity&lt;&gt;(bytes,fileHeader);\nmultipartRequest.add(\"file\",entity);\n\nHttpHeaders header = new HttpHeaders();\nheader.setContentType(MediaType.MULTIPART_FORM_DATA);\n\nHttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt; requestMap = new HttpEntity&lt;&gt;(multipartRequest,header);\nString response = new RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class);\n</code></pre>\n\n<p>Reference:<a href=\"https://stackoverflow.com/questions/26964688/multipart-file-upload-using-spring-rest-template-spring-web-mvc\">multipart-file-upload-using-spring-rest-template-spring-web-mvc</a></p>\n"},{"tags":[],"owner":{"account_id":6288043,"reputation":770,"user_id":4886572,"display_name":"brijesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569263401,"creation_date":1569263401,"answer_id":58068215,"question_id":57963597,"body_markdown":"Try this:\r\n\r\n    MultiValueMap&lt;String, Object&gt; multipartRequest = new LinkedMultiValueMap&lt;&gt;();\r\n \r\n    // creating an HttpEntity for the binary part\r\n    HttpHeaders header = new HttpHeaders();\r\n    pictureHeader.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    HttpEntity&lt;ByteArrayResource&gt; file = new HttpEntity&lt;&gt;(pngPicture, pictureHeader);\r\n    multipartRequest.add(&quot;file&quot;, file);\r\n \r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt; \r\n    (multipartRequest, header);\r\n    ResultObject result = restTemplate.put(UPLOAD_URL, requestEntity);","title":"Making a MultiPart Put request via Spring Rest to call a API with formData (Replace Apache MultipartEntityBuilder with REST)","body":"<p>Try this:</p>\n\n<pre><code>MultiValueMap&lt;String, Object&gt; multipartRequest = new LinkedMultiValueMap&lt;&gt;();\n\n// creating an HttpEntity for the binary part\nHttpHeaders header = new HttpHeaders();\npictureHeader.setContentType(MediaType.MULTIPART_FORM_DATA);\nHttpEntity&lt;ByteArrayResource&gt; file = new HttpEntity&lt;&gt;(pngPicture, pictureHeader);\nmultipartRequest.add(\"file\", file);\n\nHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt; \n(multipartRequest, header);\nResultObject result = restTemplate.put(UPLOAD_URL, requestEntity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700409216,"creation_date":1569517073,"answer_id":58121528,"question_id":57963597,"body_markdown":"With the help of @user2683814 and [this article][1], this is what works for me:\r\n\r\n```Java\r\nimport org.springframework.http.*; //Used with 5.1.9.RELEASE\r\n\r\nUri uri = &quot;http://putmyresults.com&quot;;\r\nbyte[] bytes = results.convertToBytes();\r\n\r\nMultiValueMap&lt;String,String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\r\nContentDisposition cd = ContentDisposition.builder(&quot;form-data&quot;).\r\nname(&quot;file&quot;).filename(&quot;myFile&quot;).build();\r\nfilemap.add(HttpHeaders.CONTENT_DISPOSITION,cd.toString());\r\n\r\nHttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(bytes,fileMap);\r\nMultiValueMap&lt;String,Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\nbody.add(&quot;file&quot;,fileEntity);\r\n\r\n\r\nHttpHeaders tokenHeader = new HttpHeaders();\r\ntokenHeader.set(&quot;Authorization&quot;,&quot;myToken&quot;);\r\ntokenHeader.setContentType(MediaType.MULITPART_FORM_DATA);\r\n\r\nHttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt; requestMap = new HttpEntity&lt;&gt;(body,securedTokenHeaders);\r\n\r\n\r\nnew RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class)\r\n\r\n```\r\n\r\n\r\n  [1]: https://medium.com/red6-es/uploading-a-file-with-a-filename-with-spring-resttemplate-8ec5e7dc52ca","title":"Making a MultiPart Put request via Spring Rest to call a API with formData (Replace Apache MultipartEntityBuilder with REST)","body":"<p>With the help of @user2683814 and <a href=\"https://medium.com/red6-es/uploading-a-file-with-a-filename-with-spring-resttemplate-8ec5e7dc52ca\" rel=\"nofollow noreferrer\">this article</a>, this is what works for me:</p>\n<pre><code>import org.springframework.http.*; //Used with 5.1.9.RELEASE\n\nUri uri = &quot;http://putmyresults.com&quot;;\nbyte[] bytes = results.convertToBytes();\n\nMultiValueMap&lt;String,String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\nContentDisposition cd = ContentDisposition.builder(&quot;form-data&quot;).\nname(&quot;file&quot;).filename(&quot;myFile&quot;).build();\nfilemap.add(HttpHeaders.CONTENT_DISPOSITION,cd.toString());\n\nHttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(bytes,fileMap);\nMultiValueMap&lt;String,Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\nbody.add(&quot;file&quot;,fileEntity);\n\n\nHttpHeaders tokenHeader = new HttpHeaders();\ntokenHeader.set(&quot;Authorization&quot;,&quot;myToken&quot;);\ntokenHeader.setContentType(MediaType.MULITPART_FORM_DATA);\n\nHttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt; requestMap = new HttpEntity&lt;&gt;(body,securedTokenHeaders);\n\n\nnew RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class)\n\n</code></pre>\n"}],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58121528,"answer_count":3,"score":2,"last_activity_date":1700409216,"creation_date":1568663720,"question_id":57963597,"body_markdown":"I have a PUT API to call to send my data that expects a Multipart Request.  (Swagger has the API listed as Paramter Type formData; Data Type file).\r\n\r\nI have this code working fine via Apache&#39;s Http Library, but to match the rest of the program I would like to use Spring Rest Template to make the same call.\r\n\r\n```java\r\n//Via Apache:\r\nUri uri = &quot;http://putmyresults.com&quot;;\r\nResultObject results = buildResultObject(myData);\r\nMultipartEntityBuilder meb = MultipartEntityBuilder.create();\r\nmeb.addBinaryBody(&quot;file&quot;, results.convertToBytes(), ContentType.create(&quot;application/octet-stream&quot;),&quot;MyResultFile&quot;);\r\nHttpEntity entity = meb.build();\r\nput.setEntity(entity);\r\n\r\nput.setHeader(new BasicHeader(&quot;Authorization&quot;,&quot;myToken&quot;));\r\nput.setHeader(&quot;Accept&quot;,&quot;application/json,application,octet-stream&quot;);\r\ngetMyCloseableHttpClient().execute(put);\r\n//process response codes...\r\n\r\n\r\n\r\n//Sample working REST for GET request:\r\nUri uri = &quot;http://getmyresults.com/section5/resultId?sectionId=foo&quot;;\r\nRestTemplate rest = new RestTemplate;\r\n\r\norg.springframework.http.HttpEntity header = new HttpHeaders();\r\nheader.set(&quot;Authorization&quot;,&quot;myToken&quot;);\r\nheader.setContentType(MediaType.APPLICATION_JSON);\r\nheader.setAccept(Arrays.asList(MediaType.APPLICATION_JSON,MediaType.APPLICATION_OCTET_STREAM));\r\n\r\nHttpEntity&lt;String&gt; entity = new HttpEntity(&quot;parameters&quot;, headers);\r\nrest.exchange(uri, HttpMethod.GET, entity, Resource.class);\r\n//process response...\r\n\r\n```\r\n\r\nBut I can&#39;t seem to make the PUT request via REST.  This is what I have so far:\r\n```java\r\nUri uri = &quot;http://putmyresults.com&quot;;\r\nMultiValueMap&lt;String,Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\nResultObject results = buildResultObject(myData);\r\nbyte[] bytes = results.convertToBytes();\r\n\r\nHttpHeaders header = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\norg.springframework.http.HttpEntity&lt;byte[]&gt; entity = new HttpEntity&lt;&gt;(bytes,headers);\r\nmap.add(&quot;MyResultFile&quot;,entity);\r\n\r\nHttpHeaders tokenHeader = new HttpHeaders();\r\ntokenHeader.set(new BasicHeader(&quot;Authorization&quot;,&quot;myToken&quot;));\r\ntokenHeader.setContentType(MediaType.APPLICATION_JSON);\r\nHttpEntity&lt;String&gt; tokenEntity = new HttpEntity(&quot;parameters&quot;, headers);\r\nmap.add(&quot;parameters&quot;,tokenEntity);\r\n\r\norg.springframework.http.HttpEntity&lt;&lt;MultiValueMap&lt;String,Object&gt; requestMap = new org.springframework.http.HttpEntity&lt;&gt;(map);\r\nnew RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class);\r\n```\r\n\r\nServer Header:\r\n```Java\r\n@PutMapping(path = &quot;/xyz&quot;)\r\npublic ResponseEntity putRequest{\r\n    HttpServletRequest request,\r\n    HttpServletResponse response,\r\n    @PathVariable String id,\r\n    @RequestParam(&quot;file&quot;) MultipartFile uploadedFile,\r\n    @RequestParam String sample,\r\n    @RequestParam String sample2 throws Exception  {\r\n        uploadedFile.getBytes(); ...\r\n    }\r\n}\r\n```\r\n\r\nThanks for your help.","title":"Making a MultiPart Put request via Spring Rest to call a API with formData (Replace Apache MultipartEntityBuilder with REST)","body":"<p>I have a PUT API to call to send my data that expects a Multipart Request.  (Swagger has the API listed as Paramter Type formData; Data Type file).</p>\n\n<p>I have this code working fine via Apache's Http Library, but to match the rest of the program I would like to use Spring Rest Template to make the same call.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//Via Apache:\nUri uri = \"http://putmyresults.com\";\nResultObject results = buildResultObject(myData);\nMultipartEntityBuilder meb = MultipartEntityBuilder.create();\nmeb.addBinaryBody(\"file\", results.convertToBytes(), ContentType.create(\"application/octet-stream\"),\"MyResultFile\");\nHttpEntity entity = meb.build();\nput.setEntity(entity);\n\nput.setHeader(new BasicHeader(\"Authorization\",\"myToken\"));\nput.setHeader(\"Accept\",\"application/json,application,octet-stream\");\ngetMyCloseableHttpClient().execute(put);\n//process response codes...\n\n\n\n//Sample working REST for GET request:\nUri uri = \"http://getmyresults.com/section5/resultId?sectionId=foo\";\nRestTemplate rest = new RestTemplate;\n\norg.springframework.http.HttpEntity header = new HttpHeaders();\nheader.set(\"Authorization\",\"myToken\");\nheader.setContentType(MediaType.APPLICATION_JSON);\nheader.setAccept(Arrays.asList(MediaType.APPLICATION_JSON,MediaType.APPLICATION_OCTET_STREAM));\n\nHttpEntity&lt;String&gt; entity = new HttpEntity(\"parameters\", headers);\nrest.exchange(uri, HttpMethod.GET, entity, Resource.class);\n//process response...\n\n</code></pre>\n\n<p>But I can't seem to make the PUT request via REST.  This is what I have so far:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Uri uri = \"http://putmyresults.com\";\nMultiValueMap&lt;String,Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\nResultObject results = buildResultObject(myData);\nbyte[] bytes = results.convertToBytes();\n\nHttpHeaders header = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\norg.springframework.http.HttpEntity&lt;byte[]&gt; entity = new HttpEntity&lt;&gt;(bytes,headers);\nmap.add(\"MyResultFile\",entity);\n\nHttpHeaders tokenHeader = new HttpHeaders();\ntokenHeader.set(new BasicHeader(\"Authorization\",\"myToken\"));\ntokenHeader.setContentType(MediaType.APPLICATION_JSON);\nHttpEntity&lt;String&gt; tokenEntity = new HttpEntity(\"parameters\", headers);\nmap.add(\"parameters\",tokenEntity);\n\norg.springframework.http.HttpEntity&lt;&lt;MultiValueMap&lt;String,Object&gt; requestMap = new org.springframework.http.HttpEntity&lt;&gt;(map);\nnew RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class);\n</code></pre>\n\n<p>Server Header:</p>\n\n<pre><code>@PutMapping(path = \"/xyz\")\npublic ResponseEntity putRequest{\n    HttpServletRequest request,\n    HttpServletResponse response,\n    @PathVariable String id,\n    @RequestParam(\"file\") MultipartFile uploadedFile,\n    @RequestParam String sample,\n    @RequestParam String sample2 throws Exception  {\n        uploadedFile.getBytes(); ...\n    }\n}\n</code></pre>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","linux","centos","cpu-cores"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1534926633,"post_id":51962589,"comment_id":90875643,"body_markdown":"See https://unix.stackexchange.com/questions/326579/how-to-ensure-exclusive-cpu-availability-for-a-running-process","body":"See <a href=\"https://unix.stackexchange.com/questions/326579/how-to-ensure-exclusive-cpu-availability-for-a-running-process\" title=\"how to ensure exclusive cpu availability for a running process\">unix.stackexchange.com/questions/326579/&hellip;</a>"},{"owner":{"account_id":5321680,"reputation":26,"user_id":4244958,"display_name":"Vo Tan Phuc"},"score":0,"creation_date":1535015067,"post_id":51962589,"comment_id":90913693,"body_markdown":"Thank Kayaman ! But in your link, I difficult to get an answer! \nIn this post: https://stackoverflow.com/questions/5479458/is-there-a-way-to-lock-a-process-to-a-cpu\nI found here said no lock. But I&#39;m not sure this process can change CPUcore auto by themself or not. And if no lock, it&#39;s mean can assign another thread into this core (1 core can bear with many thread, I think so).","body":"Thank Kayaman ! But in your link, I difficult to get an answer!  In this post: <a href=\"https://stackoverflow.com/questions/5479458/is-there-a-way-to-lock-a-process-to-a-cpu\" title=\"is there a way to lock a process to a cpu\">stackoverflow.com/questions/5479458/&hellip;</a> I found here said no lock. But I&#39;m not sure this process can change CPUcore auto by themself or not. And if no lock, it&#39;s mean can assign another thread into this core (1 core can bear with many thread, I think so)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1535015256,"post_id":51962589,"comment_id":90913803,"body_markdown":"Your link is about thread affinity, my link is about **exclusive** access to a core by thread. Do you have a real reason why you want a core exclusively for your program?","body":"Your link is about thread affinity, my link is about <b>exclusive</b> access to a core by thread. Do you have a real reason why you want a core exclusively for your program?"},{"owner":{"account_id":5321680,"reputation":26,"user_id":4244958,"display_name":"Vo Tan Phuc"},"score":0,"creation_date":1535017978,"post_id":51962589,"comment_id":90915476,"body_markdown":"Hmm.., About core exclusively for my thread. I want it running in specific core, no round robin, don&#39;t let another thread run in same core. May be in future, my thread increase more resource. So keep it in specific core to easy to maintain and high performance","body":"Hmm.., About core exclusively for my thread. I want it running in specific core, no round robin, don&#39;t let another thread run in same core. May be in future, my thread increase more resource. So keep it in specific core to easy to maintain and high performance"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1535018200,"post_id":51962589,"comment_id":90915598,"body_markdown":"Let the OS handle thread scheduling, it&#39;s a lot better at it than you are, and you don&#39;t seem to have a real need for exclusivity. &quot;Easy to maintain and high performance&quot; are not something you need an exclusive core for.","body":"Let the OS handle thread scheduling, it&#39;s a lot better at it than you are, and you don&#39;t seem to have a real need for exclusivity. &quot;Easy to maintain and high performance&quot; are not something you need an exclusive core for."}],"owner":{"account_id":5321680,"reputation":26,"user_id":4244958,"display_name":"Vo Tan Phuc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700409154,"creation_date":1534925926,"question_id":51962589,"body_markdown":"In Linux, I have a Java program running. \r\nI using `jstack [pid]` to thread dump my Java app. And detect my processID. \r\n\r\nNow I using `taskset` to assign this process for specific CPU core, but beside that, I can assign to another process into that core also, but I don&#39;t want it.\r\n\r\nHow can I lock that core after I assign my process. \r\nThanks for all! ","title":"How can I assign process for 1 CPU core and lock this core in Linux?","body":"<p>In Linux, I have a Java program running. \nI using <code>jstack [pid]</code> to thread dump my Java app. And detect my processID. </p>\n\n<p>Now I using <code>taskset</code> to assign this process for specific CPU core, but beside that, I can assign to another process into that core also, but I don't want it.</p>\n\n<p>How can I lock that core after I assign my process. \nThanks for all! </p>\n"},{"tags":["java","android","multithreading","get"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1700419770,"post_id":77511347,"comment_id":136649265,"body_markdown":"Log messages are not restricted to certain threads, if you don&#39;t get log messages then the code is not executed.","body":"Log messages are not restricted to certain threads, if you don&#39;t get log messages then the code is not executed."}],"answers":[{"tags":[],"owner":{"account_id":3366602,"reputation":611,"user_id":2827025,"display_name":"anemomylos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700407916,"creation_date":1700407916,"answer_id":77511369,"question_id":77511347,"body_markdown":"You forgot to start the thread: in the second-to-last line of the method, replace `});` with `}).start();`\r\n","title":"My android studio new Thread(new Runnable ) didn&#39;t work","body":"<p>You forgot to start the thread: in the second-to-last line of the method, replace <code>});</code> with <code>}).start();</code></p>\n"}],"owner":{"account_id":29928440,"reputation":1,"user_id":22935933,"display_name":"Ikun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700407978,"creation_date":1700407497,"question_id":77511347,"body_markdown":"I want to use GET() connection in android studio.\r\nAnd here is my code in MainActivity.java.\r\n\r\n```\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        data=findViewById(R.id.bright);\r\n\r\n        if (Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\r\n            requestPermissions(new String[]{&quot;android.permission.INTERNET&quot;},1);\r\n            Gushen();\r\n        }\r\n    }\r\n    public void Gushen(){\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    OkHttpClient client = new OkHttpClient();\r\n                    Log.w(&quot;sss&quot;,&quot;gushen&quot;);\r\n                    Request request = new Request.Builder().url(&quot;http://iot-api.heclouds.com/thingmodel/query-thing-model?product_id=w50WLDzGBb&quot;).build();\r\n                    Response response = client.newCall(request).execute();\r\n                    String responseData = response.body().string();\r\n                    Log.w(&quot;sss&quot;,responseData);\r\n                    parseJSONWithGSON(responseData);\r\n\r\n\r\n                    JsonRootBean app = new Gson().fromJson(responseData, JsonRootBean.class);\r\n                    List&lt;Datastreams&gt; streams = app.getData().getDatastreams();\r\n                    List&lt;Datapoints&gt; points = streams.get(0).getDatapoints();\r\n                    value = points.get(0).getValue();\r\n                    data.post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            data.setText(String.format(&quot;Light is:%s&quot;, value));\r\n                        }\r\n                    });\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();}\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI cannot get &quot;                    Log.w(&quot;sss&quot;,&quot;gushen&quot;);\r\n&quot;in my logcat because it is in the new Thread. And I also seem not to get connected to this URL.\r\nhere is the screenshot of my logcat.\r\n[enter image description here](https://i.stack.imgur.com/iiTtS.png)\r\n\r\n\r\nHow can I successfully use my new thread and see the result of Log.w of it in the logcat?\r\nAnd I didn&#39;t know if I get connected to the URL by using GET().","title":"My android studio new Thread(new Runnable ) didn&#39;t work","body":"<p>I want to use GET() connection in android studio.\nAnd here is my code in MainActivity.java.</p>\n<pre><code>    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        data=findViewById(R.id.bright);\n\n        if (Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\n            requestPermissions(new String[]{&quot;android.permission.INTERNET&quot;},1);\n            Gushen();\n        }\n    }\n    public void Gushen(){\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    OkHttpClient client = new OkHttpClient();\n                    Log.w(&quot;sss&quot;,&quot;gushen&quot;);\n                    Request request = new Request.Builder().url(&quot;http://iot-api.heclouds.com/thingmodel/query-thing-model?product_id=w50WLDzGBb&quot;).build();\n                    Response response = client.newCall(request).execute();\n                    String responseData = response.body().string();\n                    Log.w(&quot;sss&quot;,responseData);\n                    parseJSONWithGSON(responseData);\n\n\n                    JsonRootBean app = new Gson().fromJson(responseData, JsonRootBean.class);\n                    List&lt;Datastreams&gt; streams = app.getData().getDatastreams();\n                    List&lt;Datapoints&gt; points = streams.get(0).getDatapoints();\n                    value = points.get(0).getValue();\n                    data.post(new Runnable() {\n                        @Override\n                        public void run() {\n                            data.setText(String.format(&quot;Light is:%s&quot;, value));\n                        }\n                    });\n                } catch (IOException e) {\n                    e.printStackTrace();}\n            }\n        });\n    }\n</code></pre>\n<p>I cannot get &quot;                    Log.w(&quot;sss&quot;,&quot;gushen&quot;);\n&quot;in my logcat because it is in the new Thread. And I also seem not to get connected to this URL.\nhere is the screenshot of my logcat.\n<a href=\"https://i.stack.imgur.com/iiTtS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How can I successfully use my new thread and see the result of Log.w of it in the logcat?\nAnd I didn't know if I get connected to the URL by using GET().</p>\n"},{"tags":["java","intellij-idea","microservices"],"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700407932,"creation_date":1700405559,"question_id":77511226,"body_markdown":"When I see the architecture of this [project](https://github.com/spring-projects/spring-data-examples/tree/main/redis), I want to create it manually.\r\n\r\nI check the pom.xml file, it has a lot of modules. \r\n```java\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;cluster&lt;/module&gt;\r\n\t\t&lt;module&gt;example&lt;/module&gt;\r\n\t\t&lt;module&gt;pubsub&lt;/module&gt;\r\n\t\t&lt;module&gt;reactive&lt;/module&gt;\r\n\t\t&lt;module&gt;repositories&lt;/module&gt;\r\n\t\t&lt;module&gt;sentinel&lt;/module&gt;\r\n\t\t&lt;module&gt;streams&lt;/module&gt;\r\n\t\t&lt;module&gt;util&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n```\r\nAccording to my understanding, to create the structure like this. I need perform the following two steps (IntelliJ Idea)\r\n\r\nStep1: Create one root project by going to FILE|NEW, click Project and choose `Maven` type\r\n\r\nStep2: Create modules by going to FILE|NEW, click Module and choose `Spring Initializr`\r\n\r\nBut I see the results differently:\r\n\r\n- at step1: there is too little information in my pom.yml\r\n\r\n[![enter image description here][1]][1]\r\n \r\n- at step2: when I create the modules, the root pom.yml doesn&#39;t change, I think it automatically add something like this into root pom.yml\r\n```java\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;example&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n```  \r\n\r\nI have tried to search on google and stackoverflow to find some tutorials or guides about the best practice for creating the root project but I can&#39;t find anything. I have found the keywork `Maven archetype` but it&#39;s too hard for me to understand.\r\n\r\nBesides, there are a lot of things in the root pom.xml, I don&#39;t know which one to focus on\r\n\r\nSo, I am looking for a guide on how to create a project architecture like this as well as some important keywords to pay attention to.\r\n\r\nThanks. \r\n\r\n  [1]: https://i.stack.imgur.com/ZgTV1.png","title":"How to create the ROOT project correctly in IntelliJ Idea with Java?","body":"<p>When I see the architecture of this <a href=\"https://github.com/spring-projects/spring-data-examples/tree/main/redis\" rel=\"nofollow noreferrer\">project</a>, I want to create it manually.</p>\n<p>I check the pom.xml file, it has a lot of modules.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    &lt;modules&gt;\n        &lt;module&gt;cluster&lt;/module&gt;\n        &lt;module&gt;example&lt;/module&gt;\n        &lt;module&gt;pubsub&lt;/module&gt;\n        &lt;module&gt;reactive&lt;/module&gt;\n        &lt;module&gt;repositories&lt;/module&gt;\n        &lt;module&gt;sentinel&lt;/module&gt;\n        &lt;module&gt;streams&lt;/module&gt;\n        &lt;module&gt;util&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>According to my understanding, to create the structure like this. I need perform the following two steps (IntelliJ Idea)</p>\n<p>Step1: Create one root project by going to FILE|NEW, click Project and choose <code>Maven</code> type</p>\n<p>Step2: Create modules by going to FILE|NEW, click Module and choose <code>Spring Initializr</code></p>\n<p>But I see the results differently:</p>\n<ul>\n<li>at step1: there is too little information in my pom.yml</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ZgTV1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZgTV1.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>at step2: when I create the modules, the root pom.yml doesn't change, I think it automatically add something like this into root pom.yml</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    &lt;modules&gt;\n        &lt;module&gt;example&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>I have tried to search on google and stackoverflow to find some tutorials or guides about the best practice for creating the root project but I can't find anything. I have found the keywork <code>Maven archetype</code> but it's too hard for me to understand.</p>\n<p>Besides, there are a lot of things in the root pom.xml, I don't know which one to focus on</p>\n<p>So, I am looking for a guide on how to create a project architecture like this as well as some important keywords to pay attention to.</p>\n<p>Thanks.</p>\n"},{"tags":["java","mysql","string","spring-data-jpa"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1700419003,"post_id":77511358,"comment_id":136649174,"body_markdown":"Please don&#39;t post text as pictures, and in particular, don&#39;t post tiny, unreadable pictures of text. Just copying and pasting the text into your question is far easier for you to do and for potential helpers to use.","body":"Please don&#39;t post text as pictures, and in particular, don&#39;t post tiny, unreadable pictures of text. Just copying and pasting the text into your question is far easier for you to do and for potential helpers to use."}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700407670,"creation_date":1700407670,"question_id":77511358,"body_markdown":"I want to store basic text as VARCHAR in MySQL database, and this is how my text looks in debugger when i want to save it \r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is shown that **\\n** is saved . And in database it is also correctly saved with those **\\n** \r\n[![enter image description here][2]][2]\r\n\r\n\r\nbut when i try to get this string from database it looses all the formatting and become just plain string without any **\\n** \r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qyKPb.png\r\n  [2]: https://i.stack.imgur.com/G52xm.png\r\n  [3]: https://i.stack.imgur.com/pYTyo.png\r\n\r\n\r\nHere is a code for this process\r\nSaving text\r\n```\r\npublic Template saveTemplate(Template template){\r\n    return templateRepository.save(template);\r\n}\r\n```\r\nRetrieving text\r\n```\r\npublic interface TemplateRepository extends JpaRepository&lt;Template, Long&gt; {\r\n\r\n    Optional&lt;Template&gt; findByKey(String key);\r\n}\r\n\r\n```\r\n\r\n```\r\nprivate Template findByKeyInternal(String key) {\r\n\r\n        Template text = templateRepository.findByKey(key)\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found templates by key:[&quot;+ key +&quot;]&quot;));\r\n\r\n\r\n        return text;\r\n    }\r\n```\r\n\r\nSo my question is what can cause this error, maybe i need to store in database under a different type or any other possible solutions for this issue","title":"String formatting lost after retrieving from database","body":"<p>I want to store basic text as VARCHAR in MySQL database, and this is how my text looks in debugger when i want to save it\n<a href=\"https://i.stack.imgur.com/qyKPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qyKPb.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is shown that <strong>\\n</strong> is saved . And in database it is also correctly saved with those <strong>\\n</strong>\n<a href=\"https://i.stack.imgur.com/G52xm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G52xm.png\" alt=\"enter image description here\" /></a></p>\n<p>but when i try to get this string from database it looses all the formatting and become just plain string without any <strong>\\n</strong>\n<a href=\"https://i.stack.imgur.com/pYTyo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pYTyo.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a code for this process\nSaving text</p>\n<pre><code>public Template saveTemplate(Template template){\n    return templateRepository.save(template);\n}\n</code></pre>\n<p>Retrieving text</p>\n<pre><code>public interface TemplateRepository extends JpaRepository&lt;Template, Long&gt; {\n\n    Optional&lt;Template&gt; findByKey(String key);\n}\n\n</code></pre>\n<pre><code>private Template findByKeyInternal(String key) {\n\n        Template text = templateRepository.findByKey(key)\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found templates by key:[&quot;+ key +&quot;]&quot;));\n\n\n        return text;\n    }\n</code></pre>\n<p>So my question is what can cause this error, maybe i need to store in database under a different type or any other possible solutions for this issue</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700417936,"post_id":77510587,"comment_id":136649066,"body_markdown":"Unclear what your problem is. Anyhow your app does not need any permission to create files in public Documents directory. So dont ask any.","body":"Unclear what your problem is. Anyhow your app does not need any permission to create files in public Documents directory. So dont ask any."}],"owner":{"account_id":21950303,"reputation":110,"user_id":16229577,"display_name":"Vasil3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700407108,"creation_date":1700393253,"question_id":77510587,"body_markdown":"Now on Android 13+ , it shows the grant permission , i allow it and then when i try to read or write text files from/to:\r\n\r\n\r\n\r\n    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\r\n\r\n\r\n\r\nIt doesn&#39;t work. What I find even more confusing is that i have some code that writes a png image of the application , is working , but not the writing to text file portion.\r\n\r\nAlso another thing that I find difficult to understand is that in android studio if i have a android 13 or 14 emulator , it works , but not on the real phone.\r\n\r\nHere are the 2 types: The image that is saving correctly:\r\n\r\n\r\n\r\n    private void writeScreenShotToFile(ArrayList&lt;Bitmap&gt; bitmapArray)\r\n    {\r\n            askPermissionComponent.askForWritePermission();\r\n            askPermissionComponent.verifyIfFolderExist();\r\n    \r\n            try\r\n            {\r\n                FileOutputStream outputStream = new FileOutputStream(dataComponent.getSavedImage(getLoadedMonth()));\r\n    \r\n                combineImages(bitmapArray).compress(Bitmap.CompressFormat.PNG, 100, outputStream);\r\n                outputStream.flush();\r\n                outputStream.close();\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                errorBuilderComponent.errorConstructor(&quot;error&quot;);\r\n            }\r\n    }\r\n\r\n\r\n\r\nAnd the code that is not working:\r\n\r\n\r\n\r\n    public void loadFromFile()\r\n    {\r\n        askPermissionComponent.askForWritePermission();\r\n        askPermissionComponent.verifyIfFolderExist();\r\n    \r\n        if (dataComponent.getSavedFile(dataComponent.getCurrentMonth()).exists())\r\n        {\r\n    \r\n    writeDataFromFileToTable(dataComponent.getSavedFile(dataComponent.getCurrentMonth()));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nThis gets its data from:\r\n\r\n\r\n\r\n    public File getSavedFile(String month)\r\n    {\r\n        return new File(getSDCardLocation(month) + &quot;.txt&quot;);\r\n    }\r\n    \r\n    public File getSavedImage(String month)\r\n    {\r\n        return new File(getSDCardLocation(month) + &quot;.png&quot;);\r\n    }\r\n    \r\n    private String getSDCardLocation(String month)\r\n    {\r\n        return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)  + &quot;/TEST/&quot; + month;\r\n    }\r\n\r\n\r\n\r\nNow below I will write the class that I use for asking for permission:\r\n\r\n\r\n\r\n    public class AskForWritePermission\r\n    {\r\n        private final MainActivity mainActivityComponent;\r\n        private static final int REQUEST_WRITE_STORAGE = 112;\r\n    \r\n        public AskForWritePermission(MainActivity mainActivityComponent)\r\n        {\r\n            this.mainActivityComponent = mainActivityComponent;\r\n        }\r\n    \r\n        public void askForWritePermission()\r\n        {\r\n            boolean hasPermission = ContextCompat.checkSelfPermission(mainActivityComponent, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\r\n            if (!hasPermission)\r\n            {\r\n                ActivityCompat.requestPermissions(mainActivityComponent, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_WRITE_STORAGE);\r\n            }\r\n        }\r\n    \r\n        public void verifyIfFolderExist()\r\n        {\r\n            File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/TEST&quot;);\r\n    \r\n            if (!dir.exists())\r\n            {\r\n                dir.mkdirs();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nAlso in the manifest I am calling for:\r\n\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n    &lt;!--  File save functions handles this  --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;","title":"Android 13+ problems writing and reading files","body":"<p>Now on Android 13+ , it shows the grant permission , i allow it and then when i try to read or write text files from/to:</p>\n<pre><code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\n</code></pre>\n<p>It doesn't work. What I find even more confusing is that i have some code that writes a png image of the application , is working , but not the writing to text file portion.</p>\n<p>Also another thing that I find difficult to understand is that in android studio if i have a android 13 or 14 emulator , it works , but not on the real phone.</p>\n<p>Here are the 2 types: The image that is saving correctly:</p>\n<pre><code>private void writeScreenShotToFile(ArrayList&lt;Bitmap&gt; bitmapArray)\n{\n        askPermissionComponent.askForWritePermission();\n        askPermissionComponent.verifyIfFolderExist();\n\n        try\n        {\n            FileOutputStream outputStream = new FileOutputStream(dataComponent.getSavedImage(getLoadedMonth()));\n\n            combineImages(bitmapArray).compress(Bitmap.CompressFormat.PNG, 100, outputStream);\n            outputStream.flush();\n            outputStream.close();\n        }\n        catch (IOException e)\n        {\n            errorBuilderComponent.errorConstructor(&quot;error&quot;);\n        }\n}\n</code></pre>\n<p>And the code that is not working:</p>\n<pre><code>public void loadFromFile()\n{\n    askPermissionComponent.askForWritePermission();\n    askPermissionComponent.verifyIfFolderExist();\n\n    if (dataComponent.getSavedFile(dataComponent.getCurrentMonth()).exists())\n    {\n\nwriteDataFromFileToTable(dataComponent.getSavedFile(dataComponent.getCurrentMonth()));\n    }\n\n}\n</code></pre>\n<p>This gets its data from:</p>\n<pre><code>public File getSavedFile(String month)\n{\n    return new File(getSDCardLocation(month) + &quot;.txt&quot;);\n}\n\npublic File getSavedImage(String month)\n{\n    return new File(getSDCardLocation(month) + &quot;.png&quot;);\n}\n\nprivate String getSDCardLocation(String month)\n{\n    return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)  + &quot;/TEST/&quot; + month;\n}\n</code></pre>\n<p>Now below I will write the class that I use for asking for permission:</p>\n<pre><code>public class AskForWritePermission\n{\n    private final MainActivity mainActivityComponent;\n    private static final int REQUEST_WRITE_STORAGE = 112;\n\n    public AskForWritePermission(MainActivity mainActivityComponent)\n    {\n        this.mainActivityComponent = mainActivityComponent;\n    }\n\n    public void askForWritePermission()\n    {\n        boolean hasPermission = ContextCompat.checkSelfPermission(mainActivityComponent, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\n        if (!hasPermission)\n        {\n            ActivityCompat.requestPermissions(mainActivityComponent, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_WRITE_STORAGE);\n        }\n    }\n\n    public void verifyIfFolderExist()\n    {\n        File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/TEST&quot;);\n\n        if (!dir.exists())\n        {\n            dir.mkdirs();\n        }\n    }\n}\n</code></pre>\n<p>Also in the manifest I am calling for:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n&lt;!--  File save functions handles this  --&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n</code></pre>\n"},{"tags":["java","databricks","integration","databricks-sql"],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699693724,"creation_date":1699693724,"answer_id":77464486,"question_id":77462405,"body_markdown":"For Spring, the simplest way is to use [Databricks JDBC driver][1] that provides very good performance, especially when you need to fetch big chunks of the data.  Driver is available on the [Maven Central][2] under following coordinates:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.databricks&lt;/groupId&gt;\r\n    &lt;artifactId&gt;databricks-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.34&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAfter that you can just use it as another JDBC data source via JDBC url like `jdbc:databricks://...` (exact string depends on the configuration).  I have a [small example][3] of using it from Spring (not very idiomatic although).\r\n\r\nAnother way is to use [Databricks SQL Statement Execution REST API][4], but it&#39;s typically requires a bit more work to authenticate, wait for results, decode data, etc.  Although the [Databricks Java SDK][5] simplifies its usage, so you can use it if you don&#39;t want to use JDBC.\r\n\r\n\r\n  [1]: https://docs.databricks.com/en/integrations/jdbc-odbc-bi.html\r\n  [2]: https://mvnrepository.com/artifact/com.databricks/databricks-jdbc\r\n  [3]: https://github.com/alexott/databricks-playground/tree/main/spring-jdbc-dbsql\r\n  [4]: https://docs.databricks.com/api/workspace/statementexecution/executestatement\r\n  [5]: https://github.com/databricks/databricks-sdk-java","title":"What is the best way to consume Databricks database data in Java application?","body":"<p>For Spring, the simplest way is to use <a href=\"https://docs.databricks.com/en/integrations/jdbc-odbc-bi.html\" rel=\"nofollow noreferrer\">Databricks JDBC driver</a> that provides very good performance, especially when you need to fetch big chunks of the data.  Driver is available on the <a href=\"https://mvnrepository.com/artifact/com.databricks/databricks-jdbc\" rel=\"nofollow noreferrer\">Maven Central</a> under following coordinates:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.databricks&lt;/groupId&gt;\n    &lt;artifactId&gt;databricks-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;2.6.34&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After that you can just use it as another JDBC data source via JDBC url like <code>jdbc:databricks://...</code> (exact string depends on the configuration).  I have a <a href=\"https://github.com/alexott/databricks-playground/tree/main/spring-jdbc-dbsql\" rel=\"nofollow noreferrer\">small example</a> of using it from Spring (not very idiomatic although).</p>\n<p>Another way is to use <a href=\"https://docs.databricks.com/api/workspace/statementexecution/executestatement\" rel=\"nofollow noreferrer\">Databricks SQL Statement Execution REST API</a>, but it's typically requires a bit more work to authenticate, wait for results, decode data, etc.  Although the <a href=\"https://github.com/databricks/databricks-sdk-java\" rel=\"nofollow noreferrer\">Databricks Java SDK</a> simplifies its usage, so you can use it if you don't want to use JDBC.</p>\n"}],"owner":{"account_id":1316659,"reputation":37,"user_id":7373817,"display_name":"Ramesh Bathini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1699998117,"answer_count":1,"score":0,"last_activity_date":1700406906,"creation_date":1699644185,"question_id":77462405,"body_markdown":"I need to retrieve data stored in Databricks platform. I could see that it can be achieved using Databricks-SDK as well as Databricks API route but do not see anywhere that best way of getting the data.\r\n\r\nPlease let me know if you could see any other better way.\r\n\r\nAny help/suggestion here is really appreciated.","title":"What is the best way to consume Databricks database data in Java application?","body":"<p>I need to retrieve data stored in Databricks platform. I could see that it can be achieved using Databricks-SDK as well as Databricks API route but do not see anywhere that best way of getting the data.</p>\n<p>Please let me know if you could see any other better way.</p>\n<p>Any help/suggestion here is really appreciated.</p>\n"},{"tags":["java","spring-boot","trace","spring-cloud-sleuth","micrometer-tracing"],"answers":[{"tags":[],"owner":{"account_id":25706203,"reputation":26,"user_id":19465428,"display_name":"user19465428"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700406001,"creation_date":1700406001,"answer_id":77511255,"question_id":77500569,"body_markdown":"(I only speak Chinese, the following is the translation)\r\nI am upgrading from 2.7 to 3.1, and now I have added a bean, you can try it\r\n\r\n```\r\n@Bean\r\nContainerCustomizer&lt;SimpleMessageListenerContainer&gt; containerCustomizer() {\r\n    return container -&gt; container.setObservationEnabled(true);\r\n}\r\n```","title":"Tracing in RabbitListener - observationEnabled","body":"<p>(I only speak Chinese, the following is the translation)\nI am upgrading from 2.7 to 3.1, and now I have added a bean, you can try it</p>\n<pre><code>@Bean\nContainerCustomizer&lt;SimpleMessageListenerContainer&gt; containerCustomizer() {\n    return container -&gt; container.setObservationEnabled(true);\n}\n</code></pre>\n"}],"owner":{"account_id":14473469,"reputation":93,"user_id":10454701,"display_name":"dargui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77511255,"answer_count":1,"score":-1,"last_activity_date":1700406001,"creation_date":1700213471,"question_id":77500569,"body_markdown":"migrating from SpringBoot 2 to SpringBoot 3.1 in an application that uses @RabbitListener the tracing information relating to TraceId and SpanId no longer appears in the logs.\r\n&lt;br/&gt;\r\nI used the new classes also forcing the generation\r\n```\r\n   Tracer tracer = Tracer.NOOP;\r\n    Span span = tracer.currentSpan();\r\n   span = tracer.nextSpan();\r\n```\r\nbut it didn&#39;t help.\r\n\r\nAbout the documentation:\r\n&lt;pre&gt;\r\nUsing Micrometer for observation is now supported, since version 3.0.5, for the RabbitStreamTemplate and the stream listener container. The container now also supports Micrometer timers (when observation is not enabled).\r\n\r\nSet observationEnabled on each component to enable observation; this will disable Micrometer Timers because the timers will now be managed with each observation. When using annotated listeners, set observationEnabled on the container factory.\r\n&lt;/pre&gt;\r\n\r\nHas anyone had a similar problem?\r\n","title":"Tracing in RabbitListener - observationEnabled","body":"<p>migrating from SpringBoot 2 to SpringBoot 3.1 in an application that uses @RabbitListener the tracing information relating to TraceId and SpanId no longer appears in the logs.\n<br/>\nI used the new classes also forcing the generation</p>\n<pre><code>   Tracer tracer = Tracer.NOOP;\n    Span span = tracer.currentSpan();\n   span = tracer.nextSpan();\n</code></pre>\n<p>but it didn't help.</p>\n<p>About the documentation:</p>\n<pre>\nUsing Micrometer for observation is now supported, since version 3.0.5, for the RabbitStreamTemplate and the stream listener container. The container now also supports Micrometer timers (when observation is not enabled).\n\nSet observationEnabled on each component to enable observation; this will disable Micrometer Timers because the timers will now be managed with each observation. When using annotated listeners, set observationEnabled on the container factory.\n</pre>\n<p>Has anyone had a similar problem?</p>\n"},{"tags":["java","user-interface","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700409117,"post_id":77511252,"comment_id":136648125,"body_markdown":"1) Why are you using AWT? You should at least be learning Swing if not newer alternatives. 2) A painting method is for painting only. That is you paint the current state of the class. The rest of you application has logic to change the state. So you should NOT be 1) using Thread.sleep(...). Use a Swing Timer for animation. 2) invoking repaint(). The Timer will invoke repaint() when it is fired. 3) Have game logic to check for end of game etc. You need to rewrite/restrucuture to the cod to remove all logic from the paint method.","body":"1) Why are you using AWT? You should at least be learning Swing if not newer alternatives. 2) A painting method is for painting only. That is you paint the current state of the class. The rest of you application has logic to change the state. So you should NOT be 1) using Thread.sleep(...). Use a Swing Timer for animation. 2) invoking repaint(). The Timer will invoke repaint() when it is fired. 3) Have game logic to check for end of game etc. You need to rewrite/restrucuture to the cod to remove all logic from the paint method."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700409123,"post_id":77511252,"comment_id":136648126,"body_markdown":"4) Don&#39;t use a null layout. Start by reading the [Swing tutotrial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html)","body":"4) Don&#39;t use a null layout. Start by reading the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutotrial</a>"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1700409395,"post_id":77511252,"comment_id":136648156,"body_markdown":"I have to do it without swing and only awt","body":"I have to do it without swing and only awt"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700420302,"post_id":77511252,"comment_id":136649337,"body_markdown":"Whether you use AWT components or Swing components it doesn&#39;t change my suggestions.","body":"Whether you use AWT components or Swing components it doesn&#39;t change my suggestions."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1700453152,"post_id":77511252,"comment_id":136652247,"body_markdown":"I mean I cant use swing timer so i hit a dead end.","body":"I mean I cant use swing timer so i hit a dead end."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700453588,"post_id":77511252,"comment_id":136652270,"body_markdown":"I&#39;ve never used AWT (since its 20 years out of date) but you should be able to use a java.util.Timer.  Not sure if you need to wrap the code in the Timer in an EventQueue.invokeLater(...).","body":"I&#39;ve never used AWT (since its 20 years out of date) but you should be able to use a java.util.Timer.  Not sure if you need to wrap the code in the Timer in an EventQueue.invokeLater(...)."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1700473094,"post_id":77511252,"comment_id":136654456,"body_markdown":"Alright i will look it up. Thanks","body":"Alright i will look it up. Thanks"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700405958,"creation_date":1700405958,"question_id":77511252,"body_markdown":"I made a quiz app and It displays 10 quiz questions. When user clicks next the count increments and next question is displayed from array. The problem is if i click button faster the count exceeds 10 and when the later click events are handled I get Array index out of bounds exceptions as I am loading only 10 questions from database and storing in array. How do I make sure my count variable is only incremented till 10(i.e. 9 for array index) no matter how many times next is clicked. Also I am trying to display timer of 15 seconds and i call repaint every second to update it but I have also added an image and it repaints image ass well every second. I want to avoid repainting image and only update timer value. Any help is appreciated.\r\n\r\n    package com.shivam;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class QuizFrame extends Frame implements ActionListener {\r\n        String[][] questions;\r\n        String[][] answers;\r\n        String[][] useranswers = new String[10][1];\r\n        Label qno, question;\r\n        Checkbox opt1, opt2, opt3, opt4;\r\n        CheckboxGroup groupoptions;\r\n        Button next, submit;\r\n      //QuizRepository quizRepository;\r\n        Image image;\r\n        public static int timer = 15;\r\n        public static int ans_given = 0;\r\n        public static int count = 0;\r\n        public static int score = 0;\r\n        String name;\r\n        QuizFrame(String name,QuizRepository quizRepository) {\r\n            count = 0;\r\n            this.name = name;\r\n            setTitle(&quot;QuizApp - Quiz&quot;);\r\n            setBackground(new Color(42, 20, 66));\r\n            setForeground(Color.WHITE);\r\n            setLayout(null);\r\n    //      quizRepository = new QuizRepository();\r\n    //      quizRepository.loadQuizFromDb();\r\n            questions = quizRepository.getQuestions();\r\n            answers = quizRepository.getAnswers();\r\n    \r\n            qno = new Label();\r\n            qno.setBounds(350, 280, 40, 30);\r\n            qno.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\r\n            add(qno);\r\n    \r\n            question = new Label();\r\n            question.setBounds(410, 280, 850, 30);\r\n            question.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\r\n            add(question);\r\n    \r\n            groupoptions = new CheckboxGroup();\r\n            opt1 = new Checkbox();\r\n            opt1.setCheckboxGroup(groupoptions);\r\n            opt1.setBounds(420, 320, 300, 30);\r\n            opt1.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            add(opt1);\r\n    \r\n            opt2 = new Checkbox();\r\n            opt2.setCheckboxGroup(groupoptions);\r\n            opt2.setBounds(420, 360, 300, 30);\r\n            opt2.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            add(opt2);\r\n    \r\n            opt3 = new Checkbox();\r\n            opt3.setBounds(420, 400, 300, 30);\r\n            opt3.setCheckboxGroup(groupoptions);\r\n            opt3.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            add(opt3);\r\n    \r\n            opt4 = new Checkbox();\r\n            opt4.setBounds(420, 440, 300, 30);\r\n            opt4.setCheckboxGroup(groupoptions);\r\n            opt4.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            add(opt4);\r\n    \r\n            next = new Button(&quot;Next&quot;);\r\n            next.setBounds(550, 500, 150, 40);\r\n            next.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\r\n            next.setBackground(new Color(30, 144, 255));\r\n            next.setForeground(Color.WHITE);\r\n            next.addActionListener(this);\r\n            add(next);\r\n    \r\n            submit = new Button(&quot;Submit&quot;);\r\n            submit.setBounds(800, 500, 150, 40);\r\n            submit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\r\n            submit.setBackground(new Color(129, 131, 129));\r\n            submit.setForeground(Color.WHITE);\r\n            submit.addActionListener(this);\r\n            submit.setEnabled(false);\r\n            add(submit);\r\n    \r\n            start(count);\r\n            setExtendedState(Frame.MAXIMIZED_BOTH);\r\n            image = Toolkit.getDefaultToolkit().getImage(&quot;src/resources/boy.png&quot;);\r\n            //System.out.println(image.getGraphics());\r\n            MediaTracker tracker = new MediaTracker(this);\r\n            tracker.addImage(image,0);\r\n            try {\r\n                tracker.waitForID(0);\r\n            }\r\n            catch(InterruptedException ae){\r\n                System.out.println(&quot;Exception occurred while loading image...&quot;);\r\n            }\r\n            setVisible(true);\r\n        }\r\n    \r\n        public void actionPerformed(ActionEvent ae) {\r\n            if (ae.getSource() == next) {\r\n                repaint();\r\n                opt1.setEnabled(true);\r\n                opt2.setEnabled(true);\r\n                opt3.setEnabled(true);\r\n                opt4.setEnabled(true);\r\n    \r\n                ans_given = 1;\r\n                if (groupoptions.getSelectedCheckbox() == null) {\r\n                    useranswers[count][0] = &quot;&quot;;\r\n                } else {\r\n                    useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\r\n                }\r\n    \r\n                if (count == 8) {\r\n                    next.setEnabled(false);\r\n                    next.setBackground(new Color(129, 131, 129));\r\n                    submit.setEnabled(true);\r\n                    submit.setBackground(new Color(104, 239, 66));\r\n                }\r\n                count++;\r\n                start(count);\r\n            }\r\n             else if (ae.getSource() == submit) {\r\n                ans_given = 1;\r\n                if (groupoptions.getSelectedCheckbox() == null) {\r\n                    useranswers[count][0] = &quot;&quot;;\r\n                } else {\r\n                    useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\r\n                }\r\n    \r\n                for (int i = 0; i &lt; useranswers.length; i++) {\r\n                    if (useranswers[i][0].equals(answers[i][1])) {\r\n                        score += 10;\r\n                    }\r\n                }\r\n                setVisible(false);\r\n                new ResultFrame(name,score);\r\n                System.out.println(&quot;Score : &quot;+score);\r\n            }\r\n        }\r\n    \r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            String time = &quot;Time left - &quot; + timer + &quot; seconds&quot;; // 15\r\n            g.setColor(Color.RED);\r\n            g.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 25));\r\n            g.drawImage(image,950,300,null);\r\n            if (timer &gt; 0) {\r\n                g.drawString(time, 600, 200);\r\n            } else {\r\n                g.drawString(&quot;Times up!!&quot;, 600, 200);\r\n            }\r\n            timer--; // 14\r\n            try {\r\n                Thread.sleep(1000);\r\n                repaint();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (ans_given == 1) {\r\n                ans_given = 0;\r\n                timer = 15;\r\n            } else if (timer &lt; 0) {\r\n                timer = 15;\r\n                opt1.setEnabled(true);\r\n                opt2.setEnabled(true);\r\n                opt3.setEnabled(true);\r\n                opt4.setEnabled(true);\r\n    \r\n                if (count == 8) {\r\n                    next.setEnabled(false);\r\n                    submit.setEnabled(true);\r\n                }\r\n                if (count == 9) { // submit button\r\n                    if (groupoptions.getSelectedCheckbox() == null) {\r\n                        useranswers[count][0] = &quot;&quot;;\r\n                    } else {\r\n                        useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\r\n                    }\r\n                    for (int i = 0; i &lt; useranswers.length; i++) {\r\n                        if (useranswers[i][0].equals(answers[i][1])) {\r\n                            score += 10;\r\n                        }\r\n                    }\r\n                    setVisible(false);\r\n                    new ResultFrame(name,score);\r\n                    System.out.println(&quot;Score : &quot;+score);\r\n                } else { // next button\r\n                    if (groupoptions.getSelectedCheckbox() == null) {\r\n                        useranswers[count][0] = &quot;&quot;;\r\n                    } else {\r\n                        useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\r\n                    }\r\n                    count++; // 0 // 1\r\n                    start(count);\r\n                }\r\n            }\r\n        }\r\n        public void start(int count) {\r\n            if(count&lt;=9) {\r\n                qno.setText((count + 1) + &quot;. &quot;);\r\n                question.setText(questions[count][0]);\r\n                opt1.setLabel(questions[count][1]);\r\n                opt2.setLabel(questions[count][2]);\r\n                opt3.setLabel(questions[count][3]);\r\n                opt4.setLabel(questions[count][4]);\r\n                groupoptions.setSelectedCheckbox(null);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe boy image i have drawn in paint method and it repaints every second. I want to stop that.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3F3DN.png","title":"AWT button clicks exceed the count value beyond expected","body":"<p>I made a quiz app and It displays 10 quiz questions. When user clicks next the count increments and next question is displayed from array. The problem is if i click button faster the count exceeds 10 and when the later click events are handled I get Array index out of bounds exceptions as I am loading only 10 questions from database and storing in array. How do I make sure my count variable is only incremented till 10(i.e. 9 for array index) no matter how many times next is clicked. Also I am trying to display timer of 15 seconds and i call repaint every second to update it but I have also added an image and it repaints image ass well every second. I want to avoid repainting image and only update timer value. Any help is appreciated.</p>\n<pre><code>package com.shivam;\n\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class QuizFrame extends Frame implements ActionListener {\n    String[][] questions;\n    String[][] answers;\n    String[][] useranswers = new String[10][1];\n    Label qno, question;\n    Checkbox opt1, opt2, opt3, opt4;\n    CheckboxGroup groupoptions;\n    Button next, submit;\n  //QuizRepository quizRepository;\n    Image image;\n    public static int timer = 15;\n    public static int ans_given = 0;\n    public static int count = 0;\n    public static int score = 0;\n    String name;\n    QuizFrame(String name,QuizRepository quizRepository) {\n        count = 0;\n        this.name = name;\n        setTitle(&quot;QuizApp - Quiz&quot;);\n        setBackground(new Color(42, 20, 66));\n        setForeground(Color.WHITE);\n        setLayout(null);\n//      quizRepository = new QuizRepository();\n//      quizRepository.loadQuizFromDb();\n        questions = quizRepository.getQuestions();\n        answers = quizRepository.getAnswers();\n\n        qno = new Label();\n        qno.setBounds(350, 280, 40, 30);\n        qno.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\n        add(qno);\n\n        question = new Label();\n        question.setBounds(410, 280, 850, 30);\n        question.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\n        add(question);\n\n        groupoptions = new CheckboxGroup();\n        opt1 = new Checkbox();\n        opt1.setCheckboxGroup(groupoptions);\n        opt1.setBounds(420, 320, 300, 30);\n        opt1.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        add(opt1);\n\n        opt2 = new Checkbox();\n        opt2.setCheckboxGroup(groupoptions);\n        opt2.setBounds(420, 360, 300, 30);\n        opt2.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        add(opt2);\n\n        opt3 = new Checkbox();\n        opt3.setBounds(420, 400, 300, 30);\n        opt3.setCheckboxGroup(groupoptions);\n        opt3.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        add(opt3);\n\n        opt4 = new Checkbox();\n        opt4.setBounds(420, 440, 300, 30);\n        opt4.setCheckboxGroup(groupoptions);\n        opt4.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        add(opt4);\n\n        next = new Button(&quot;Next&quot;);\n        next.setBounds(550, 500, 150, 40);\n        next.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\n        next.setBackground(new Color(30, 144, 255));\n        next.setForeground(Color.WHITE);\n        next.addActionListener(this);\n        add(next);\n\n        submit = new Button(&quot;Submit&quot;);\n        submit.setBounds(800, 500, 150, 40);\n        submit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\n        submit.setBackground(new Color(129, 131, 129));\n        submit.setForeground(Color.WHITE);\n        submit.addActionListener(this);\n        submit.setEnabled(false);\n        add(submit);\n\n        start(count);\n        setExtendedState(Frame.MAXIMIZED_BOTH);\n        image = Toolkit.getDefaultToolkit().getImage(&quot;src/resources/boy.png&quot;);\n        //System.out.println(image.getGraphics());\n        MediaTracker tracker = new MediaTracker(this);\n        tracker.addImage(image,0);\n        try {\n            tracker.waitForID(0);\n        }\n        catch(InterruptedException ae){\n            System.out.println(&quot;Exception occurred while loading image...&quot;);\n        }\n        setVisible(true);\n    }\n\n    public void actionPerformed(ActionEvent ae) {\n        if (ae.getSource() == next) {\n            repaint();\n            opt1.setEnabled(true);\n            opt2.setEnabled(true);\n            opt3.setEnabled(true);\n            opt4.setEnabled(true);\n\n            ans_given = 1;\n            if (groupoptions.getSelectedCheckbox() == null) {\n                useranswers[count][0] = &quot;&quot;;\n            } else {\n                useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\n            }\n\n            if (count == 8) {\n                next.setEnabled(false);\n                next.setBackground(new Color(129, 131, 129));\n                submit.setEnabled(true);\n                submit.setBackground(new Color(104, 239, 66));\n            }\n            count++;\n            start(count);\n        }\n         else if (ae.getSource() == submit) {\n            ans_given = 1;\n            if (groupoptions.getSelectedCheckbox() == null) {\n                useranswers[count][0] = &quot;&quot;;\n            } else {\n                useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\n            }\n\n            for (int i = 0; i &lt; useranswers.length; i++) {\n                if (useranswers[i][0].equals(answers[i][1])) {\n                    score += 10;\n                }\n            }\n            setVisible(false);\n            new ResultFrame(name,score);\n            System.out.println(&quot;Score : &quot;+score);\n        }\n    }\n\n    public void paint(Graphics g) {\n        super.paint(g);\n        String time = &quot;Time left - &quot; + timer + &quot; seconds&quot;; // 15\n        g.setColor(Color.RED);\n        g.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 25));\n        g.drawImage(image,950,300,null);\n        if (timer &gt; 0) {\n            g.drawString(time, 600, 200);\n        } else {\n            g.drawString(&quot;Times up!!&quot;, 600, 200);\n        }\n        timer--; // 14\n        try {\n            Thread.sleep(1000);\n            repaint();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        if (ans_given == 1) {\n            ans_given = 0;\n            timer = 15;\n        } else if (timer &lt; 0) {\n            timer = 15;\n            opt1.setEnabled(true);\n            opt2.setEnabled(true);\n            opt3.setEnabled(true);\n            opt4.setEnabled(true);\n\n            if (count == 8) {\n                next.setEnabled(false);\n                submit.setEnabled(true);\n            }\n            if (count == 9) { // submit button\n                if (groupoptions.getSelectedCheckbox() == null) {\n                    useranswers[count][0] = &quot;&quot;;\n                } else {\n                    useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\n                }\n                for (int i = 0; i &lt; useranswers.length; i++) {\n                    if (useranswers[i][0].equals(answers[i][1])) {\n                        score += 10;\n                    }\n                }\n                setVisible(false);\n                new ResultFrame(name,score);\n                System.out.println(&quot;Score : &quot;+score);\n            } else { // next button\n                if (groupoptions.getSelectedCheckbox() == null) {\n                    useranswers[count][0] = &quot;&quot;;\n                } else {\n                    useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\n                }\n                count++; // 0 // 1\n                start(count);\n            }\n        }\n    }\n    public void start(int count) {\n        if(count&lt;=9) {\n            qno.setText((count + 1) + &quot;. &quot;);\n            question.setText(questions[count][0]);\n            opt1.setLabel(questions[count][1]);\n            opt2.setLabel(questions[count][2]);\n            opt3.setLabel(questions[count][3]);\n            opt4.setLabel(questions[count][4]);\n            groupoptions.setSelectedCheckbox(null);\n        }\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3F3DN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3F3DN.png\" alt=\"enter image description here\" /></a></p>\n<p>The boy image i have drawn in paint method and it repaints every second. I want to stop that.</p>\n"},{"tags":["java","binary-tree","preorder"],"answers":[{"tags":[],"owner":{"account_id":57196,"reputation":448,"user_id":2935160,"display_name":"Praneeth Reddy G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437493399,"creation_date":1437493399,"answer_id":31543737,"question_id":31543361,"body_markdown":"First things first... You should write unit tests to find functional bugs\r\n\r\nHowever you seem to have a bug here... while loop does not execute at all\r\n\r\n`if(p!=null &amp;&amp; prev.successor){\r\n    while(p!=null &amp;&amp; !prev.successor){\r\n       prev=p;\r\n       p=p.right;\r\n    }\r\n }`\r\n\r\nYou may want to replace it with do-while","title":"Threaded tree preorder traversal in java","body":"<p>First things first... You should write unit tests to find functional bugs</p>\n\n<p>However you seem to have a bug here... while loop does not execute at all</p>\n\n<p><code>if(p!=null &amp;&amp; prev.successor){\n    while(p!=null &amp;&amp; !prev.successor){\n       prev=p;\n       p=p.right;\n    }\n }</code></p>\n\n<p>You may want to replace it with do-while</p>\n"},{"tags":[],"owner":{"account_id":29876717,"reputation":1,"user_id":22896733,"display_name":"user22896733"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700057451,"creation_date":1699993725,"answer_id":77483646,"question_id":31543361,"body_markdown":"```java\r\npublic class ParcelBST extends BinarySearchTree&lt;Parcel&gt; implements Iterable&lt;Parcel&gt;  {\r\n\r\n    public ParcelBST(Parcel value, ParcelBST leftNode, ParcelBST rightNode) {\r\n        super(value, leftNode, rightNode);\r\n    }\r\n\r\n    public ParcelBST(BinarySearchTree&lt;Parcel&gt; parcelBST) {\r\n        //这里写了root是value\r\n        super(parcelBST.value,parcelBST.leftNode,parcelBST.rightNode);\r\n    }\r\n\r\n    public ParcelBST(Tree&lt;Parcel&gt; parcelTree) {\r\n        super(parcelTree.value,parcelTree.leftNode,parcelTree.rightNode);\r\n    }\r\n\r\n    public ParcelBST(Parcel value) {\r\n        super(value);\r\n    }\r\n\r\n\r\n    @Override\r\n    public Iterator&lt;Parcel&gt; iterator() {\r\n        return new IteratorPreOrder();\r\n    }\r\n\r\n    class IteratorPreOrder implements Iterator&lt;Parcel&gt; {\r\n        // Hint: value, left/right sub-trees can be accessed by:\r\n        //    ParcelBST.this.value    ParcelBST.this.leftNode   ParcelBST.this.rightNode\r\n        // Or equivalently directly:\r\n        //    value   leftNode    rightNode\r\n\r\n        private Deque&lt;BinarySearchTree&lt;Parcel&gt;&gt; stack = new LinkedList&lt;&gt;();\r\n\r\n        // You may add methods and variables here if you wish\r\n        //这个方法是干什么？\r\n\r\n        public IteratorPreOrder() {\r\n            //初始preorder的迭代器\r\n            // You may add code here if you wish\r\n            //为什么要用外部类?\r\n            //检查的有没有根节点，如果根节点\r\n\r\n            if(ParcelBST.this.value != null){\r\n                stack.push(ParcelBST.this);\r\n            }\r\n        }\r\n\r\n        //在这个迭代器里，再去写方法\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            // TODO\r\n            // START YOUR CODE\r\n            //是用来判断stack里有没有东西的\r\n            if(stack.isEmpty()){\r\n                return false;\r\n            }\r\n            return true;\r\n            // END YOUR CODE\r\n        }\r\n\r\n        @Override\r\n        //这个方法是为了去迭代树\r\n        public Parcel next() {\r\n            // TODO\r\n            // START YOUR CODE\r\n            if (!hasNext()) {\r\n                throw new NoSuchElementException();\r\n            }\r\n\r\n            BinarySearchTree&lt;Parcel&gt; current = stack.pop();\r\n\r\n            //right\r\n            if (current.rightNode != null &amp;&amp; current.rightNode.value != null) {\r\n                stack.push((BinarySearchTree&lt;Parcel&gt;) current.rightNode);\r\n            }\r\n\r\n            //left\r\n            if (current.leftNode != null &amp;&amp; current.leftNode.value != null) {\r\n                stack.push((BinarySearchTree&lt;Parcel&gt;) current.leftNode);\r\n            }\r\n            // END YOUR CODE\r\n            //返回整个curren的value\r\n            return current.value;\r\n        }\r\n    }\r\n}\r\n```","title":"Threaded tree preorder traversal in java","body":"<pre class=\"lang-java prettyprint-override\"><code>public class ParcelBST extends BinarySearchTree&lt;Parcel&gt; implements Iterable&lt;Parcel&gt;  {\n\n    public ParcelBST(Parcel value, ParcelBST leftNode, ParcelBST rightNode) {\n        super(value, leftNode, rightNode);\n    }\n\n    public ParcelBST(BinarySearchTree&lt;Parcel&gt; parcelBST) {\n        //这里写了root是value\n        super(parcelBST.value,parcelBST.leftNode,parcelBST.rightNode);\n    }\n\n    public ParcelBST(Tree&lt;Parcel&gt; parcelTree) {\n        super(parcelTree.value,parcelTree.leftNode,parcelTree.rightNode);\n    }\n\n    public ParcelBST(Parcel value) {\n        super(value);\n    }\n\n\n    @Override\n    public Iterator&lt;Parcel&gt; iterator() {\n        return new IteratorPreOrder();\n    }\n\n    class IteratorPreOrder implements Iterator&lt;Parcel&gt; {\n        // Hint: value, left/right sub-trees can be accessed by:\n        //    ParcelBST.this.value    ParcelBST.this.leftNode   ParcelBST.this.rightNode\n        // Or equivalently directly:\n        //    value   leftNode    rightNode\n\n        private Deque&lt;BinarySearchTree&lt;Parcel&gt;&gt; stack = new LinkedList&lt;&gt;();\n\n        // You may add methods and variables here if you wish\n        //这个方法是干什么？\n\n        public IteratorPreOrder() {\n            //初始preorder的迭代器\n            // You may add code here if you wish\n            //为什么要用外部类?\n            //检查的有没有根节点，如果根节点\n\n            if(ParcelBST.this.value != null){\n                stack.push(ParcelBST.this);\n            }\n        }\n\n        //在这个迭代器里，再去写方法\n\n        @Override\n        public boolean hasNext() {\n            // TODO\n            // START YOUR CODE\n            //是用来判断stack里有没有东西的\n            if(stack.isEmpty()){\n                return false;\n            }\n            return true;\n            // END YOUR CODE\n        }\n\n        @Override\n        //这个方法是为了去迭代树\n        public Parcel next() {\n            // TODO\n            // START YOUR CODE\n            if (!hasNext()) {\n                throw new NoSuchElementException();\n            }\n\n            BinarySearchTree&lt;Parcel&gt; current = stack.pop();\n\n            //right\n            if (current.rightNode != null &amp;&amp; current.rightNode.value != null) {\n                stack.push((BinarySearchTree&lt;Parcel&gt;) current.rightNode);\n            }\n\n            //left\n            if (current.leftNode != null &amp;&amp; current.leftNode.value != null) {\n                stack.push((BinarySearchTree&lt;Parcel&gt;) current.leftNode);\n            }\n            // END YOUR CODE\n            //返回整个curren的value\n            return current.value;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4818688,"reputation":477,"user_id":3889963,"accept_rate":67,"display_name":"user3889963"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700405270,"creation_date":1437492423,"question_id":31543361,"body_markdown":"I&#39;m trying to write a code for the **preorder** traversal of a **Binary Threaded** tree in java. I wrote the following code, and it holds for a few examples, but I&#39;m worried that I&#39;m overlooking some edge scenarios. \r\n\r\n**MORE INFO**\r\nA node has two references *left* and *right* pointing to the left and right child of the node respectively. A boolean field called *successor* determines if the *right* pointer points to a child or the successor according to inorder traversal (if successor==false: *right* points to child, else points to inorder traversal successor)\r\n\r\nIt would be most appreciated if someone could point out the flaws in my logic here...\r\n\r\n    public void threadedPreorder(){\r\n            IntThreadedTreeNode prev, p=root;    //pointers to binary tree nodes\r\n            \r\n            while(p!=null){\r\n                while(p.left!=null){    //traversal to leftmost node\r\n                    visit(p);           //while visiting it\r\n                    p=p.left;\r\n                }\r\n                visit(p);\r\n                prev=p;\r\n                p=p.right;                      //shift to right or successor\r\n                if(p!=null &amp;&amp; prev.successor){    //avoid visiting the same node twice\r\n                    while(p!=null &amp;&amp; prev.successor){\r\n                        prev=p;\r\n                        p=p.right;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nAny help would be appreciated...:)","title":"Threaded tree preorder traversal in java","body":"<p>I'm trying to write a code for the <strong>preorder</strong> traversal of a <strong>Binary Threaded</strong> tree in java. I wrote the following code, and it holds for a few examples, but I'm worried that I'm overlooking some edge scenarios. </p>\n\n<p><strong>MORE INFO</strong>\nA node has two references <em>left</em> and <em>right</em> pointing to the left and right child of the node respectively. A boolean field called <em>successor</em> determines if the <em>right</em> pointer points to a child or the successor according to inorder traversal (if successor==false: <em>right</em> points to child, else points to inorder traversal successor)</p>\n\n<p>It would be most appreciated if someone could point out the flaws in my logic here...</p>\n\n<pre><code>public void threadedPreorder(){\n        IntThreadedTreeNode prev, p=root;    //pointers to binary tree nodes\n\n        while(p!=null){\n            while(p.left!=null){    //traversal to leftmost node\n                visit(p);           //while visiting it\n                p=p.left;\n            }\n            visit(p);\n            prev=p;\n            p=p.right;                      //shift to right or successor\n            if(p!=null &amp;&amp; prev.successor){    //avoid visiting the same node twice\n                while(p!=null &amp;&amp; prev.successor){\n                    prev=p;\n                    p=p.right;\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Any help would be appreciated...:)</p>\n"},{"tags":["java","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533138377,"post_id":51637328,"comment_id":90239237,"body_markdown":"Do you have some custom configuration on the matter in your project? I mean if there is anything what really disables Spring Boot&#39;s auto-configuration for Kafka... Maybe you even can share with us your failing project somewhere on the GitHub...","body":"Do you have some custom configuration on the matter in your project? I mean if there is anything what really disables Spring Boot&#39;s auto-configuration for Kafka... Maybe you even can share with us your failing project somewhere on the GitHub..."},{"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"score":0,"creation_date":1533138555,"post_id":51637328,"comment_id":90239351,"body_markdown":"this is for work so unfortunately I can&#39;t share the project. What kind of configurations would disable the auto-configuration? I think I posted all of the kafka related configs","body":"this is for work so unfortunately I can&#39;t share the project. What kind of configurations would disable the auto-configuration? I think I posted all of the kafka related configs"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533138566,"post_id":51637328,"comment_id":90239361,"body_markdown":"BTW they must be called `key-deserializer` and `value-deserializer` on for the `spring.kafka.consumer.`...","body":"BTW they must be called <code>key-deserializer</code> and <code>value-deserializer</code> on for the <code>spring.kafka.consumer.</code>..."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533138608,"post_id":51637328,"comment_id":90239387,"body_markdown":"OK! So, create some new simple project which exhibits the problem. Otherwise I don&#39;t see how we can help...","body":"OK! So, create some new simple project which exhibits the problem. Otherwise I don&#39;t see how we can help..."},{"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"score":0,"creation_date":1533139169,"post_id":51637328,"comment_id":90239709,"body_markdown":"Fair enough, just posted an update with how I&#39;m consuming the messages, not sure if that sheds any more light on anything or not.","body":"Fair enough, just posted an update with how I&#39;m consuming the messages, not sure if that sheds any more light on anything or not."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533140024,"post_id":51637328,"comment_id":90240165,"body_markdown":"No, that looks OK. I&#39;m pretty sure you can come up with a simple project to share with us...","body":"No, that looks OK. I&#39;m pretty sure you can come up with a simple project to share with us..."},{"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"score":0,"creation_date":1533141036,"post_id":51637328,"comment_id":90240780,"body_markdown":"I made a simple project and it worked. And then I found that there were @Configuration beans elsewhere in the project that were overriding the properties. Not sure how I missed that....\nThank you for your time!","body":"I made a simple project and it worked. And then I found that there were @Configuration beans elsewhere in the project that were overriding the properties. Not sure how I missed that.... Thank you for your time!"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533141104,"post_id":51637328,"comment_id":90240817,"body_markdown":"Cool! Feel free to answer to your own question to let other people do not step to the same rake! ;-)","body":"Cool! Feel free to answer to your own question to let other people do not step to the same rake! ;-)"}],"answers":[{"tags":[],"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1533141236,"creation_date":1533141236,"answer_id":51638268,"question_id":51637328,"body_markdown":"I realized there were @Configuration beans elsewhere in the project that were manually setting the properties. I removed them and everything worked.","title":"Spring boot spring.kafka.bootstrap-servers not getting picked up by consumer config","body":"<p>I realized there were @Configuration beans elsewhere in the project that were manually setting the properties. I removed them and everything worked.</p>\n"},{"tags":[],"owner":{"account_id":7564305,"reputation":109,"user_id":5740547,"display_name":"Ievgen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608471809,"creation_date":1608470107,"answer_id":65380288,"question_id":51637328,"body_markdown":"check out `KafkaProperties` object. It contains standard properties. Acts like a factory.\r\n\r\n```\r\n  @Bean\r\n  public KafkaTemplate&lt;Integer, String&gt; createTemplate(KafkaProperties properties)\r\n  {\r\n    Map&lt;String, Object&gt; props = properties.buildProducerProperties();\r\n    \r\n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n\r\n    KafkaTemplate&lt;Integer, String&gt; template = new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(props));\r\n    return template;\r\n  }\r\n```\r\n\r\nOriginal answer: https://stackoverflow.com/a/60961582/5740547","title":"Spring boot spring.kafka.bootstrap-servers not getting picked up by consumer config","body":"<p>check out <code>KafkaProperties</code> object. It contains standard properties. Acts like a factory.</p>\n<pre><code>  @Bean\n  public KafkaTemplate&lt;Integer, String&gt; createTemplate(KafkaProperties properties)\n  {\n    Map&lt;String, Object&gt; props = properties.buildProducerProperties();\n    \n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n\n    KafkaTemplate&lt;Integer, String&gt; template = new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(props));\n    return template;\n  }\n</code></pre>\n<p>Original answer: <a href=\"https://stackoverflow.com/a/60961582/5740547\">https://stackoverflow.com/a/60961582/5740547</a></p>\n"}],"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25872,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":51638268,"answer_count":2,"score":11,"last_activity_date":1700404857,"creation_date":1533137878,"question_id":51637328,"body_markdown":"I&#39;m trying to use connect a spring boot project to kafka .\r\nIn my application.properties file I have the following configs:\r\n\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n    spring.kafka.consumer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.consumer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n    spring.kafka.template.default-topic=my_default_topic\r\n    spring.kafka.admin.fail-fast=true\r\n    spring.kafka.consumer.auto-offset-reset=latest\r\n    spring.kafka.consumer.group-id=my_group_id\r\n    spring.kafka.listener.concurrency=10\r\n    spring.kafka.bootstrap-servers=kafka:9092\r\n\r\nBut in the logs I see that only some of these values are making it into the consume configs. Configs from the logs are here:\r\n \r\n\r\n    2018-08-01 15:20:34.640  WARN 1 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refr[3/5548]\r\n    mpt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;; nested exception is org.apache.kafka.common.KafkaException: Failed to cons[2/5548]\r\n    fka consumer                                                                                                                                                                                                                           [1/5548]\r\n            isolation.level = read_uncommitted                                                                                                                            [46/5548]\r\n            key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer                                                                             [45/5548]\r\n            max.partition.fetch.bytes = 1048576                                                                                                                           [44/5548]\r\n            max.poll.interval.ms = 300000                                                                                                                                 [43/5548]\r\n            check.crcs = true                                                                                                                                             [58/5548]\r\n            client.id =\r\n            connections.max.idle.ms = 540000\r\n            enable.auto.commit = true\r\n            exclude.internal.topics = true\r\n            fetch.max.bytes = 52428800\r\n            fetch.max.wait.ms = 500\r\n            fetch.min.bytes = 1\r\n            group.id = null\r\n            heartbeat.interval.ms = 3000\r\n            interceptor.classes = null\r\n            internal.leave.group.on.close = true\r\n            isolation.level = read_uncommitted\r\n            key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n            max.partition.fetch.bytes = 1048576\r\n            max.poll.interval.ms = 300000\r\n            max.poll.records = 500\r\n            metadata.max.age.ms = 300000\r\n            metric.reporters = []\r\n            metrics.num.samples = 2\r\n            metrics.recording.level = INFO\r\n            metrics.sample.window.ms = 30000\r\n            partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\r\n            receive.buffer.bytes = 65536\r\n            reconnect.backoff.max.ms = 1000\r\n            reconnect.backoff.ms = 50\r\n            request.timeout.ms = 305000\r\n            retry.backoff.ms = 100\r\n            sasl.jaas.config = null\r\n            sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n            sasl.kerberos.min.time.before.relogin = 60000\r\n            sasl.kerberos.service.name = null\r\n            sasl.kerberos.ticket.renew.jitter = 0.05\r\n            sasl.kerberos.ticket.renew.window.factor = 0.8\r\n            sasl.mechanism = GSSAPI\r\n            security.protocol = PLAINTEXT\r\n            send.buffer.bytes = 131072\r\n            session.timeout.ms = 10000\r\n            ssl.cipher.suites = null\r\n            ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\r\n            ssl.endpoint.identification.algorithm = null\r\n            ssl.key.password = null\r\n            ssl.keymanager.algorithm = SunX509\r\n            ssl.keystore.location = null\r\n            ssl.keystore.password = null\r\n            ssl.keystore.type = JKS\r\n            ssl.protocol = TLS\r\n            ssl.provider = null\r\n            ssl.secure.random.implementation = null\r\n            ssl.trustmanager.algorithm = PKIX\r\n            ssl.truststore.location = null\r\n            ssl.truststore.password = null\r\n            ssl.truststore.type = JKS\r\n            value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer\r\n\r\n\r\n\r\nSpecifically bootstrap.servers and group.id are missing. I then get an exception\r\n\r\n     org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;; nested exception is or\r\n    g.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n\r\nbecause it can&#39;t find the bootstrap servers. I know I can manually pass the properties into a `DefaultKafkaConsumerFactory` bean but I was hoping Spring Boot could handle that automatically. Is there any way to do that?\r\nThank you!\r\n\r\n**EDIT:**\r\nI am trying to consume the messages using a `@KafkaListener` like so...\r\n\r\n     @KafkaListener(topics = &quot;${app-name.inputTopic}&quot;)\r\n        public void handleMessage(CustomMessage message){ \r\n           //my code\r\n        }\r\n\r\n\r\n","title":"Spring boot spring.kafka.bootstrap-servers not getting picked up by consumer config","body":"<p>I'm trying to use connect a spring boot project to kafka .\nIn my application.properties file I have the following configs:</p>\n\n<pre><code>spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\nspring.kafka.consumer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.consumer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\nspring.kafka.template.default-topic=my_default_topic\nspring.kafka.admin.fail-fast=true\nspring.kafka.consumer.auto-offset-reset=latest\nspring.kafka.consumer.group-id=my_group_id\nspring.kafka.listener.concurrency=10\nspring.kafka.bootstrap-servers=kafka:9092\n</code></pre>\n\n<p>But in the logs I see that only some of these values are making it into the consume configs. Configs from the logs are here:</p>\n\n<pre><code>2018-08-01 15:20:34.640  WARN 1 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refr[3/5548]\nmpt: org.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'; nested exception is org.apache.kafka.common.KafkaException: Failed to cons[2/5548]\nfka consumer                                                                                                                                                                                                                           [1/5548]\n        isolation.level = read_uncommitted                                                                                                                            [46/5548]\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer                                                                             [45/5548]\n        max.partition.fetch.bytes = 1048576                                                                                                                           [44/5548]\n        max.poll.interval.ms = 300000                                                                                                                                 [43/5548]\n        check.crcs = true                                                                                                                                             [58/5548]\n        client.id =\n        connections.max.idle.ms = 540000\n        enable.auto.commit = true\n        exclude.internal.topics = true\n        fetch.max.bytes = 52428800\n        fetch.max.wait.ms = 500\n        fetch.min.bytes = 1\n        group.id = null\n        heartbeat.interval.ms = 3000\n        interceptor.classes = null\n        internal.leave.group.on.close = true\n        isolation.level = read_uncommitted\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n        max.partition.fetch.bytes = 1048576\n        max.poll.interval.ms = 300000\n        max.poll.records = 500\n        metadata.max.age.ms = 300000\n        metric.reporters = []\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\n        receive.buffer.bytes = 65536\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 305000\n        retry.backoff.ms = 100\n        sasl.jaas.config = null\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.mechanism = GSSAPI\n        security.protocol = PLAINTEXT\n        send.buffer.bytes = 131072\n        session.timeout.ms = 10000\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\n        ssl.endpoint.identification.algorithm = null\n        ssl.key.password = null\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.location = null\n        ssl.keystore.password = null\n        ssl.keystore.type = JKS\n        ssl.protocol = TLS\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.location = null\n        ssl.truststore.password = null\n        ssl.truststore.type = JKS\n        value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer\n</code></pre>\n\n<p>Specifically bootstrap.servers and group.id are missing. I then get an exception</p>\n\n<pre><code> org.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'; nested exception is or\ng.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n</code></pre>\n\n<p>because it can't find the bootstrap servers. I know I can manually pass the properties into a <code>DefaultKafkaConsumerFactory</code> bean but I was hoping Spring Boot could handle that automatically. Is there any way to do that?\nThank you!</p>\n\n<p><strong>EDIT:</strong>\nI am trying to consume the messages using a <code>@KafkaListener</code> like so...</p>\n\n<pre><code> @KafkaListener(topics = \"${app-name.inputTopic}\")\n    public void handleMessage(CustomMessage message){ \n       //my code\n    }\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700405604,"post_id":77511169,"comment_id":136647756,"body_markdown":"`stick` will be initialized in the controller that is created by the `FXMLLoader` that loads `game-view.fxml`. It won&#39;t be initialized in the controller on which `switchToGame(...)` is invoked (you haven&#39;t shown the code for how that controller is created, but it looks like it is a controller created by some other `FXMLLoader`).","body":"<code>stick</code> will be initialized in the controller that is created by the <code>FXMLLoader</code> that loads <code>game-view.fxml</code>. It won&#39;t be initialized in the controller on which <code>switchToGame(...)</code> is invoked (you haven&#39;t shown the code for how that controller is created, but it looks like it is a controller created by some other <code>FXMLLoader</code>)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1700406502,"post_id":77511169,"comment_id":136647857,"body_markdown":"Consequently, it looks like you are using the same controller class for two different FXML files. This is always a bad idea: use a different controller class for each FXML.","body":"Consequently, it looks like you are using the same controller class for two different FXML files. This is always a bad idea: use a different controller class for each FXML."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1700522591,"post_id":77511169,"comment_id":136662852,"body_markdown":"You should never set anything that has been annotated `@FXML` to another value (e.g. your `pausedLabel`).  You should not annotate objects not defined in FXML as `@FXML` (likely your `scene`, `gameScene` and `stage` objects, and the `gameIsRunning` boolean value).  You don&#39;t need to annotate public methods `@FXML`, though it is usually best to define them as private and annotate them `@FXML` instead.  You can get the scene from the stage, you don&#39;t need to create a new scene every time you set the root node of the scene.  Use the non `ea` versions - `ea` is for unstable early access code.","body":"You should never set anything that has been annotated <code>@FXML</code> to another value (e.g. your <code>pausedLabel</code>).  You should not annotate objects not defined in FXML as <code>@FXML</code> (likely your <code>scene</code>, <code>gameScene</code> and <code>stage</code> objects, and the <code>gameIsRunning</code> boolean value).  You don&#39;t need to annotate public methods <code>@FXML</code>, though it is usually best to define them as private and annotate them <code>@FXML</code> instead.  You can get the scene from the stage, you don&#39;t need to create a new scene every time you set the root node of the scene.  Use the non <code>ea</code> versions - <code>ea</code> is for unstable early access code."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700522654,"post_id":77511169,"comment_id":136662856,"body_markdown":"Abstract your game logic (e.g. `gameIsRunning`) outside of your controllers and [share it with controllers using MVC](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) if needed.","body":"Abstract your game logic (e.g. <code>gameIsRunning</code>) outside of your controllers and <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">share it with controllers using MVC</a> if needed."}],"owner":{"account_id":29116069,"reputation":11,"user_id":22304749,"display_name":"Surat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700404469,"creation_date":1700404469,"question_id":77511169,"body_markdown":"I have a code where I want to increase the height of a stick (basically a rectangle) on detecting a key press.\r\nInitially, on detecting key presses the code was printing out text, which worked perfectly fine\r\nHowever after I created a rectangle object, wrote the code to increase it&#39;s height, and interfaced the rectangle with the corresponding fx:id and ran it, it threw the following error\r\n\r\nSo I went back to the scene builder, and now when I tried to check if the rectangle was associated with the correct fx:id, I simply saw that the id had disappeared. This is a recurring problem. Each time I create a new rectangle, I can see the fx:id there. But right after running the code, the id disappeared.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe Error\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.shape.Rectangle.getHeight()&quot; because &quot;this.this$0.stick&quot; is null\r\n\tat com.example.demo2@1.0-SNAPSHOT/com.example.demo2.SceneController$1.handle(SceneController.java:105)\r\n\tat com.example.demo2@1.0-SNAPSHOT/com.example.demo2.SceneController$1.handle(SceneController.java:83)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene.processKeyEvent(Scene.java:2194)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.keyEvent(Scene.java:2715)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:218)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:150)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleKeyEvent$1(GlassViewEventHandler.java:250)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleKeyEvent(GlassViewEventHandler.java:249)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.handleKeyEvent(View.java:542)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.notifyKey(View.java:966)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n\r\n```\r\n\r\n\r\n\r\nThe bugged controller.java code\r\n```\r\npackage com.example.demo2;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\npublic class SceneController {\r\n\r\n\r\n\r\n    @FXML\r\n    private Rectangle stick;\r\n\r\n    @FXML\r\n    private Stage stage;\r\n\r\n    @FXML\r\n    private boolean gameIsRunning = false;\r\n\r\n    @FXML\r\n    private javafx.scene.control.Label pausedLabel = new Label();\r\n\r\n    @FXML\r\n    private Scene scene;\r\n\r\n    @FXML private Scene gameScene;\r\n\r\n    @FXML\r\n    private Scene pausedScene;\r\n\r\n    @FXML\r\n    private Parent root;\r\n\r\n\r\n    @FXML\r\n    private javafx.scene.control.Button closeButton;\r\n\r\n\r\n    @FXML\r\n    public void switchToMainMenu(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;hello-view.fxml&quot;)));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    public void switchToMainMenuFromGame() throws IOException {\r\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;hello-view.fxml&quot;)));\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    private void createBridge(KeyEvent event){\r\n        switch (event.getCode()){\r\n            case C -&gt; stick.setHeight(stick.getHeight()+10.0);\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    public void switchToGame(ActionEvent event) throws IOException {\r\n        gameIsRunning = true;\r\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;game-view.fxml&quot;)));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        gameScene = scene;\r\n\r\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n            @Override\r\n            public void handle(KeyEvent keyEvent) {\r\n                switch (keyEvent.getCode()){\r\n                    case ESCAPE -&gt; {\r\n                        System.out.println(&quot;paused game&quot;);\r\n                        pauseGame();\r\n                        try {\r\n                            switchToPausedScene();\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                    case Q -&gt; {\r\n                        try {\r\n                            switchToMainMenuFromGame();\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                    case C -&gt; {\r\n                        System.out.println(&quot;creating bridge&quot;);\r\n                        stick.setHeight(stick.getHeight()+10.0);\r\n                    }\r\n                    case X -&gt; System.out.println(&quot;switching sides&quot;);\r\n                }\r\n            }\r\n        });\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    private void switchToPausedScene() throws IOException{\r\n        gameIsRunning = false;\r\n        if(null == pausedScene){\r\n            root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;paused-menu.fxml&quot;)));\r\n            scene = new Scene(root);\r\n            pausedScene = scene;\r\n        }else{\r\n            scene = pausedScene;\r\n        }\r\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n            @Override\r\n            public void handle(KeyEvent keyEvent) {\r\n                if (Objects.requireNonNull(keyEvent.getCode()) == KeyCode.ESCAPE) {\r\n                    try {\r\n                        switchToGameSceneFromPaused();\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    private void switchToGameSceneFromPaused() throws IOException{\r\n        scene = gameScene;\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        gameIsRunning = true;\r\n    }\r\n\r\n\r\n    @FXML\r\n    protected void onExitButtonClick() {\r\n        Stage stage = (Stage) closeButton.getScene().getWindow();\r\n        stage.close();\r\n    }\r\n\r\n\r\n    @FXML\r\n    private void pauseGame(){\r\n        gameIsRunning = false;\r\n    }\r\n\r\n    @FXML\r\n    private void resumeGame(){\r\n        gameIsRunning = true;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nand my game-view.fxml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.shape.Rectangle?&gt;\r\n\r\n\r\n&lt;AnchorPane prefHeight=&quot;966.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo2.SceneController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Rectangle fx:id=&quot;stick&quot; arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; fill=&quot;DODGERBLUE&quot; height=&quot;6.0&quot; layoutX=&quot;287.0&quot; layoutY=&quot;225.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; width=&quot;6.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```","title":"Objects not appearing in SceneBuilder in fx:id post running","body":"<p>I have a code where I want to increase the height of a stick (basically a rectangle) on detecting a key press.\nInitially, on detecting key presses the code was printing out text, which worked perfectly fine\nHowever after I created a rectangle object, wrote the code to increase it's height, and interfaced the rectangle with the corresponding fx:id and ran it, it threw the following error</p>\n<p>So I went back to the scene builder, and now when I tried to check if the rectangle was associated with the correct fx:id, I simply saw that the id had disappeared. This is a recurring problem. Each time I create a new rectangle, I can see the fx:id there. But right after running the code, the id disappeared.</p>\n<p>The Error</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.shape.Rectangle.getHeight()&quot; because &quot;this.this$0.stick&quot; is null\n    at com.example.demo2@1.0-SNAPSHOT/com.example.demo2.SceneController$1.handle(SceneController.java:105)\n    at com.example.demo2@1.0-SNAPSHOT/com.example.demo2.SceneController$1.handle(SceneController.java:83)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21-ea/javafx.scene.Scene.processKeyEvent(Scene.java:2194)\n    at javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.keyEvent(Scene.java:2715)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:218)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:150)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleKeyEvent$1(GlassViewEventHandler.java:250)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleKeyEvent(GlassViewEventHandler.java:249)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.handleKeyEvent(View.java:542)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.notifyKey(View.java:966)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n\n</code></pre>\n<p>The bugged controller.java code</p>\n<pre><code>package com.example.demo2;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class SceneController {\n\n\n\n    @FXML\n    private Rectangle stick;\n\n    @FXML\n    private Stage stage;\n\n    @FXML\n    private boolean gameIsRunning = false;\n\n    @FXML\n    private javafx.scene.control.Label pausedLabel = new Label();\n\n    @FXML\n    private Scene scene;\n\n    @FXML private Scene gameScene;\n\n    @FXML\n    private Scene pausedScene;\n\n    @FXML\n    private Parent root;\n\n\n    @FXML\n    private javafx.scene.control.Button closeButton;\n\n\n    @FXML\n    public void switchToMainMenu(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;hello-view.fxml&quot;)));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @FXML\n    public void switchToMainMenuFromGame() throws IOException {\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;hello-view.fxml&quot;)));\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @FXML\n    private void createBridge(KeyEvent event){\n        switch (event.getCode()){\n            case C -&gt; stick.setHeight(stick.getHeight()+10.0);\n        }\n    }\n\n    @FXML\n    public void switchToGame(ActionEvent event) throws IOException {\n        gameIsRunning = true;\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;game-view.fxml&quot;)));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        gameScene = scene;\n\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n            @Override\n            public void handle(KeyEvent keyEvent) {\n                switch (keyEvent.getCode()){\n                    case ESCAPE -&gt; {\n                        System.out.println(&quot;paused game&quot;);\n                        pauseGame();\n                        try {\n                            switchToPausedScene();\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                    case Q -&gt; {\n                        try {\n                            switchToMainMenuFromGame();\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                    case C -&gt; {\n                        System.out.println(&quot;creating bridge&quot;);\n                        stick.setHeight(stick.getHeight()+10.0);\n                    }\n                    case X -&gt; System.out.println(&quot;switching sides&quot;);\n                }\n            }\n        });\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @FXML\n    private void switchToPausedScene() throws IOException{\n        gameIsRunning = false;\n        if(null == pausedScene){\n            root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;paused-menu.fxml&quot;)));\n            scene = new Scene(root);\n            pausedScene = scene;\n        }else{\n            scene = pausedScene;\n        }\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n            @Override\n            public void handle(KeyEvent keyEvent) {\n                if (Objects.requireNonNull(keyEvent.getCode()) == KeyCode.ESCAPE) {\n                    try {\n                        switchToGameSceneFromPaused();\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        });\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @FXML\n    private void switchToGameSceneFromPaused() throws IOException{\n        scene = gameScene;\n        stage.setScene(scene);\n        stage.show();\n        gameIsRunning = true;\n    }\n\n\n    @FXML\n    protected void onExitButtonClick() {\n        Stage stage = (Stage) closeButton.getScene().getWindow();\n        stage.close();\n    }\n\n\n    @FXML\n    private void pauseGame(){\n        gameIsRunning = false;\n    }\n\n    @FXML\n    private void resumeGame(){\n        gameIsRunning = true;\n    }\n\n\n\n\n}\n\n</code></pre>\n<p>and my game-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.shape.Rectangle?&gt;\n\n\n&lt;AnchorPane prefHeight=&quot;966.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo2.SceneController&quot;&gt;\n   &lt;children&gt;\n      &lt;Rectangle fx:id=&quot;stick&quot; arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; fill=&quot;DODGERBLUE&quot; height=&quot;6.0&quot; layoutX=&quot;287.0&quot; layoutY=&quot;225.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; width=&quot;6.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700403959,"creation_date":1700401565,"answer_id":77510987,"question_id":77510200,"body_markdown":"A problem like this can be approached in a few ways:\r\n\r\n1.  Use multiple threads to make requests in parallel.  This must be done carefully, because if you attempt to submit too many requests (i.e. from too many request threads) you can overload the server and *increase* response times ... or worse.\r\n\r\n    You said that you tried multi-threading, but you gave no details, so we can only speculate as to why it didn&#39;t help, or whether you could address those (presumed) issues.\r\n\r\n2.  Change the API so that you request more information in each request.  In your case, you might request information for multiple owner ids in one request.  But this assumes that you can change the API to do that.\r\n\r\n3.  Get the information another way; e.g. by querying the 3rd-party system&#39;s database.  This is probably impractical.\r\n\r\n----------------------\r\n\r\nIn your context, only approach 1 is likely to be feasible.\r\n\r\nYou could also see if you can reduce the average time taken to perform a single request.  Possible things you could do include:\r\n\r\n  - Optimize / shorten the network path from your app to the 3rd-party server.  (This assumes that network round-trip times or bandwidth limits are a bottleneck.) \r\n\r\n  - Use HTTP 1.0 keep-alives or HTTP 1.1 (or later) persistent connections.  Starting a new connection for each call will slow down requests, not least because multiple client / server round trips are involved in establishing an SSL/TLS connection and authenticating.","title":"Fetch data from db and third party api","body":"<p>A problem like this can be approached in a few ways:</p>\n<ol>\n<li><p>Use multiple threads to make requests in parallel.  This must be done carefully, because if you attempt to submit too many requests (i.e. from too many request threads) you can overload the server and <em>increase</em> response times ... or worse.</p>\n<p>You said that you tried multi-threading, but you gave no details, so we can only speculate as to why it didn't help, or whether you could address those (presumed) issues.</p>\n</li>\n<li><p>Change the API so that you request more information in each request.  In your case, you might request information for multiple owner ids in one request.  But this assumes that you can change the API to do that.</p>\n</li>\n<li><p>Get the information another way; e.g. by querying the 3rd-party system's database.  This is probably impractical.</p>\n</li>\n</ol>\n<hr />\n<p>In your context, only approach 1 is likely to be feasible.</p>\n<p>You could also see if you can reduce the average time taken to perform a single request.  Possible things you could do include:</p>\n<ul>\n<li><p>Optimize / shorten the network path from your app to the 3rd-party server.  (This assumes that network round-trip times or bandwidth limits are a bottleneck.)</p>\n</li>\n<li><p>Use HTTP 1.0 keep-alives or HTTP 1.1 (or later) persistent connections.  Starting a new connection for each call will slow down requests, not least because multiple client / server round trips are involved in establishing an SSL/TLS connection and authenticating.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":19323531,"reputation":107,"user_id":14126714,"display_name":"curious_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77510987,"answer_count":1,"score":-2,"last_activity_date":1700403959,"creation_date":1700384429,"question_id":77510200,"body_markdown":"I need to fetch all the owner ids and names, and their corresponding co-owners in txt file or json format. The owner ids and names are stored in the database but the corresponding co-owners can only be fetched by a third party api. And the third party apis take around 1 sec to fetch the data for a single owner id. I’m using Java 17 and spring boot; and Postgres as the database. I’ve around 10000 rows in the database. \r\n\r\n\r\nFor starters, I&#39;ve used a loop to call the api and fetch data synchronously. But the api is timing out in this case as I have over 10k owner ids and for each owner id is taking around 1 sec. \r\nThen I’ve tried using multithreading in java but it’s still timing out. \r\n\r\nIs there any other approach for these kind of problems statements?","title":"Fetch data from db and third party api","body":"<p>I need to fetch all the owner ids and names, and their corresponding co-owners in txt file or json format. The owner ids and names are stored in the database but the corresponding co-owners can only be fetched by a third party api. And the third party apis take around 1 sec to fetch the data for a single owner id. I’m using Java 17 and spring boot; and Postgres as the database. I’ve around 10000 rows in the database.</p>\n<p>For starters, I've used a loop to call the api and fetch data synchronously. But the api is timing out in this case as I have over 10k owner ids and for each owner id is taking around 1 sec.\nThen I’ve tried using multithreading in java but it’s still timing out.</p>\n<p>Is there any other approach for these kind of problems statements?</p>\n"},{"tags":["java","reactive-programming"],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700403127,"creation_date":1700403127,"question_id":77511077,"body_markdown":"I have this method for which I want to write a unit test using junit5 in java17.\r\n```\r\n    @Override\r\n    public CompletableFuture&lt;HttpResponse&lt;Void&gt;&gt; downloadContentWithSubscriber(String url, ByteSubscriber byteSubscriber) {\r\n        var request = HttpRequest.newBuilder(URI.create(url))\r\n                .timeout(Duration.ofMinutes(2))\r\n                .GET()\r\n                .build();\r\n        return client.sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber))\r\n                .orTimeout(2, TimeUnit.MINUTES);\r\n    }\r\n```\r\n\r\nI have written this test below\r\n```\r\n    @Test\r\n    void givenAValidUrl_whenDownloadIsCalledWithCustomSubscriber_shouldDownloadFileSuccessfully() throws ExecutionException, InterruptedException {\r\n        // Arrange\r\n        String givenUrl = &quot;http://test-domain-not-working-dummy.com/3.90.0/installer_win.msi&quot;;\r\n        var request = HttpRequest.newBuilder(URI.create(givenUrl))\r\n                .timeout(Duration.ofMinutes(2))\r\n                .GET()\r\n                .build();\r\n        var byteSubscriber = mock(ByteSubscriber.class);\r\n        var response = mock(HttpResponse.class);\r\n        when(httpClient.sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber)))\r\n                .thenReturn(CompletableFuture.completedFuture(response));\r\n        // Act\r\n        var httpResponse = webSystemCalls.downloadContentWithSubscriber(givenUrl, byteSubscriber).get();\r\n        // Assert\r\n        verify(httpClient, times(1)).sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber));\r\n    }\r\n```\r\n\r\nBut it fails with below error\r\n```\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;java.util.concurrent.CompletableFuture.orTimeout(long, java.util.concurrent.TimeUnit)&quot; because the return value of &quot;java.net.http.HttpClient.sendAsync(java.net.http.HttpRequest, java.net.http.HttpResponse$BodyHandler)&quot; is null\r\n\tat com.abc.bcd.http.DefaultWebSystemCall.downloadContentWithSubscriber(DefaultWebSystemCall.java:47)\r\n\tat com.abc.bcd.http.DefaultWebSystemCallTest.downloadContentWithSubscriber_shouldReturnCompletedFuture(DefaultWebSystemCallTest.java:127)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\n```\r\n\r\nMy ByteSubscriber Class looks like this\r\n```\r\npublic class ByteSubscriber implements Flow.Subscriber&lt;List&lt;ByteBuffer&gt;&gt; {\r\n    private final CompletableFuture&lt;Void&gt; downloadFuture;\r\n    private final String localFilePath;\r\n    private final Consumer&lt;FileProgress&gt; onProgressChanged;\r\n    private final long totalFileSize;\r\n    private long downloadStartTime;\r\n    private Flow.Subscription subscription;\r\n\r\n    public ByteSubscriber(String localFilePath, long totalFileSize, CompletableFuture&lt;Void&gt; downloadFuture, Consumer&lt;FileProgress&gt; onProgressChanged) {\r\n        this.localFilePath = localFilePath;\r\n        this.totalFileSize = totalFileSize;\r\n        this.downloadFuture = downloadFuture;\r\n        this.onProgressChanged = onProgressChanged;\r\n    }\r\n\r\n    @Override\r\n    public void onSubscribe(Flow.Subscription subscription) {\r\n        if (this.subscription != null) {\r\n            subscription.cancel();\r\n            return;\r\n        }\r\n        this.subscription = subscription;\r\n        this.downloadStartTime = System.nanoTime();\r\n        subscription.request(Long.MAX_VALUE);\r\n    }\r\n\r\n    @Override\r\n    public void onNext(List&lt;ByteBuffer&gt; bytes) {\r\n        int size = remaining(bytes, Integer.MAX_VALUE);\r\n        byte[] res = new byte[size];\r\n        int from = 0;\r\n        for (ByteBuffer b : bytes) {\r\n            int l = b.remaining();\r\n            b.get(res, from, l);\r\n            from += l;\r\n        }         \r\n\r\n    }\r\n\r\n    @Override\r\n    public void onError(Throwable throwable) {\r\n        downloadFuture.completeExceptionally(throwable);\r\n    }\r\n\r\n    @Override\r\n    public void onComplete() {\r\n        downloadFuture.complete(null);\r\n    }\r\n\r\n```\r\n\r\nWhat do I need to change to make it work ?\r\nI have similar tests which works fine but only change there is sendAsync method uses `HttpResponse.BodyHandlers.ofByteArray()` and rest stays same.","title":"Java HttpClient sendAsync Junit Test with Custom Reactive Subscriber","body":"<p>I have this method for which I want to write a unit test using junit5 in java17.</p>\n<pre><code>    @Override\n    public CompletableFuture&lt;HttpResponse&lt;Void&gt;&gt; downloadContentWithSubscriber(String url, ByteSubscriber byteSubscriber) {\n        var request = HttpRequest.newBuilder(URI.create(url))\n                .timeout(Duration.ofMinutes(2))\n                .GET()\n                .build();\n        return client.sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber))\n                .orTimeout(2, TimeUnit.MINUTES);\n    }\n</code></pre>\n<p>I have written this test below</p>\n<pre><code>    @Test\n    void givenAValidUrl_whenDownloadIsCalledWithCustomSubscriber_shouldDownloadFileSuccessfully() throws ExecutionException, InterruptedException {\n        // Arrange\n        String givenUrl = &quot;http://test-domain-not-working-dummy.com/3.90.0/installer_win.msi&quot;;\n        var request = HttpRequest.newBuilder(URI.create(givenUrl))\n                .timeout(Duration.ofMinutes(2))\n                .GET()\n                .build();\n        var byteSubscriber = mock(ByteSubscriber.class);\n        var response = mock(HttpResponse.class);\n        when(httpClient.sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber)))\n                .thenReturn(CompletableFuture.completedFuture(response));\n        // Act\n        var httpResponse = webSystemCalls.downloadContentWithSubscriber(givenUrl, byteSubscriber).get();\n        // Assert\n        verify(httpClient, times(1)).sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber));\n    }\n</code></pre>\n<p>But it fails with below error</p>\n<pre><code>\njava.lang.NullPointerException: Cannot invoke &quot;java.util.concurrent.CompletableFuture.orTimeout(long, java.util.concurrent.TimeUnit)&quot; because the return value of &quot;java.net.http.HttpClient.sendAsync(java.net.http.HttpRequest, java.net.http.HttpResponse$BodyHandler)&quot; is null\n    at com.abc.bcd.http.DefaultWebSystemCall.downloadContentWithSubscriber(DefaultWebSystemCall.java:47)\n    at com.abc.bcd.http.DefaultWebSystemCallTest.downloadContentWithSubscriber_shouldReturnCompletedFuture(DefaultWebSystemCallTest.java:127)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\n</code></pre>\n<p>My ByteSubscriber Class looks like this</p>\n<pre><code>public class ByteSubscriber implements Flow.Subscriber&lt;List&lt;ByteBuffer&gt;&gt; {\n    private final CompletableFuture&lt;Void&gt; downloadFuture;\n    private final String localFilePath;\n    private final Consumer&lt;FileProgress&gt; onProgressChanged;\n    private final long totalFileSize;\n    private long downloadStartTime;\n    private Flow.Subscription subscription;\n\n    public ByteSubscriber(String localFilePath, long totalFileSize, CompletableFuture&lt;Void&gt; downloadFuture, Consumer&lt;FileProgress&gt; onProgressChanged) {\n        this.localFilePath = localFilePath;\n        this.totalFileSize = totalFileSize;\n        this.downloadFuture = downloadFuture;\n        this.onProgressChanged = onProgressChanged;\n    }\n\n    @Override\n    public void onSubscribe(Flow.Subscription subscription) {\n        if (this.subscription != null) {\n            subscription.cancel();\n            return;\n        }\n        this.subscription = subscription;\n        this.downloadStartTime = System.nanoTime();\n        subscription.request(Long.MAX_VALUE);\n    }\n\n    @Override\n    public void onNext(List&lt;ByteBuffer&gt; bytes) {\n        int size = remaining(bytes, Integer.MAX_VALUE);\n        byte[] res = new byte[size];\n        int from = 0;\n        for (ByteBuffer b : bytes) {\n            int l = b.remaining();\n            b.get(res, from, l);\n            from += l;\n        }         \n\n    }\n\n    @Override\n    public void onError(Throwable throwable) {\n        downloadFuture.completeExceptionally(throwable);\n    }\n\n    @Override\n    public void onComplete() {\n        downloadFuture.complete(null);\n    }\n\n</code></pre>\n<p>What do I need to change to make it work ?\nI have similar tests which works fine but only change there is sendAsync method uses <code>HttpResponse.BodyHandlers.ofByteArray()</code> and rest stays same.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23642317,"reputation":777,"user_id":17672403,"display_name":"Faruk Karaca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700402735,"creation_date":1700394193,"answer_id":77510624,"question_id":77510583,"body_markdown":"In `try` you froze the main thread for 3 seconds. This is not recommended. It will not go into `catch` as it works successfully. You can use this `handler` instead. \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.splash_activity);\r\n    \r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        }, 3000);\r\n    }\r\n\r\n","title":"Android studio Splash Error (It&#39;s frozen on the intro screen)","body":"<p>In <code>try</code> you froze the main thread for 3 seconds. This is not recommended. It will not go into <code>catch</code> as it works successfully. You can use this <code>handler</code> instead.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.splash_activity);\n\n    Handler handler = new Handler(Looper.getMainLooper());\n    handler.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\n            startActivity(intent);\n            finish();\n        }\n    }, 3000);\n}\n</code></pre>\n"}],"owner":{"account_id":29760610,"reputation":29,"user_id":22808304,"display_name":"kimzero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700402735,"creation_date":1700393228,"question_id":77510583,"body_markdown":"I was making an intro screen through Splash.\r\nI have to show the intro screen for 3 seconds and go to the login screen afterwards, but it&#39;s still frozen on the intro screen.\r\n\r\nWhat&#39;s the problem?\r\nCorresponding source code:\r\n\r\nSlashActivity.java (splash class)\r\n\r\npublic class SlashActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.splash_activity);\r\n\r\n        try {\r\n            Thread.sleep(3000);\r\n        } catch (Exception e) {\r\n\r\n\r\n            Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }\r\n}\r\n\r\nLoginActivity.java\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        mFirebaseAuth = FirebaseAuth.getInstance();\r\n        mDatabaseRef = FirebaseDatabase.getInstance().getReference();\r\n\r\n        EtEmail = findViewById(R.id.EtEmail);\r\n        EtPwd = findViewById(R.id.EtPwd);\r\n        Btn_Register = findViewById(R.id.Btn_Register);\r\n        Btn_Login = findViewById(R.id.Btn_Login);\r\n\r\n        Btn_Login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(EtEmail.getText().length() &gt; 0 &amp;&amp; EtPwd.getText().length() &gt; 0) {\r\n                    String strEmail = EtEmail.getText().toString();\r\n                    String strPwd = EtPwd.getText().toString();\r\n                    mFirebaseAuth.signInWithEmailAndPassword(strEmail, strPwd).addOnCompleteListener(LoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                // 로그인 성공\r\n                                Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            } else {\r\n                                Toast.makeText(LoginActivity.this, &quot;로그인 실패&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n                } else {\r\n                    Toast.makeText(LoginActivity.this, &quot;아이디와 비밀번호를 확인해주세요.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        Btn_Register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(LoginActivity.this, RegisterActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n            }\r\n        }\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_icon&quot;\r\n        android:label=&quot;HomePet&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_icon&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Project&quot;\r\n        tools:targetApi=&quot;31&quot; &gt;\r\n  \r\n        &lt;activity android:name=&quot;.SlashActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.map.MapsActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:label=&quot;MapsActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.User_Account&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.RegisterActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.LoginActivity&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.Useredit_Activity&quot;/&gt;\r\n        &lt;activity android:name=&quot;.LogoutActivity&quot;/&gt;\r\n        &lt;activity android:name=&quot;.NoticeActivity&quot;/&gt;\r\n        &lt;activity android:name=&quot;.HospitalActivity&quot;\r\n            android:exported=&quot;false&quot;/&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nI would really appreciate your help.\r\n\r\n-------------------------------------------\r\n\r\nwhy error??\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QGn61.png","title":"Android studio Splash Error (It&#39;s frozen on the intro screen)","body":"<p>I was making an intro screen through Splash.\nI have to show the intro screen for 3 seconds and go to the login screen afterwards, but it's still frozen on the intro screen.</p>\n<p>What's the problem?\nCorresponding source code:</p>\n<p>SlashActivity.java (splash class)</p>\n<p>public class SlashActivity extends AppCompatActivity {</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.splash_activity);\n\n    try {\n        Thread.sleep(3000);\n    } catch (Exception e) {\n\n\n        Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>LoginActivity.java</p>\n<p>public class LoginActivity extends AppCompatActivity {</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n\n    mFirebaseAuth = FirebaseAuth.getInstance();\n    mDatabaseRef = FirebaseDatabase.getInstance().getReference();\n\n    EtEmail = findViewById(R.id.EtEmail);\n    EtPwd = findViewById(R.id.EtPwd);\n    Btn_Register = findViewById(R.id.Btn_Register);\n    Btn_Login = findViewById(R.id.Btn_Login);\n\n    Btn_Login.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(EtEmail.getText().length() &gt; 0 &amp;&amp; EtPwd.getText().length() &gt; 0) {\n                String strEmail = EtEmail.getText().toString();\n                String strPwd = EtPwd.getText().toString();\n                mFirebaseAuth.signInWithEmailAndPassword(strEmail, strPwd).addOnCompleteListener(LoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // 로그인 성공\n                            Intent intent = new Intent(LoginActivity.this, MainActivity.class);\n                            startActivity(intent);\n                            finish();\n                        } else {\n                            Toast.makeText(LoginActivity.this, &quot;로그인 실패&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            } else {\n                Toast.makeText(LoginActivity.this, &quot;아이디와 비밀번호를 확인해주세요.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n    Btn_Register.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(LoginActivity.this, RegisterActivity.class);\n            startActivity(intent);\n        }\n    });\n        }\n    }\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n\n&lt;application\n    android:usesCleartextTraffic=&quot;true&quot;\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_icon&quot;\n    android:label=&quot;HomePet&quot;\n    android:roundIcon=&quot;@mipmap/ic_icon&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Project&quot;\n    tools:targetApi=&quot;31&quot; &gt;\n\n    &lt;activity android:name=&quot;.SlashActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:name=&quot;.map.MapsActivity&quot;\n        android:exported=&quot;false&quot;\n        android:label=&quot;MapsActivity&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.User_Account&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.RegisterActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.LoginActivity&quot;\n        android:exported=&quot;true&quot; &gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot; &gt;\n    &lt;/activity&gt;\n\n    &lt;activity android:name=&quot;.Useredit_Activity&quot;/&gt;\n    &lt;activity android:name=&quot;.LogoutActivity&quot;/&gt;\n    &lt;activity android:name=&quot;.NoticeActivity&quot;/&gt;\n    &lt;activity android:name=&quot;.HospitalActivity&quot;\n        android:exported=&quot;false&quot;/&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>I would really appreciate your help.</p>\n<hr />\n<p>why error??</p>\n<p><a href=\"https://i.stack.imgur.com/QGn61.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QGn61.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","casting","css-selectors","shadow-dom"],"comments":[{"owner":{"account_id":8908789,"reputation":5958,"user_id":6649786,"accept_rate":100,"display_name":"Wais Kamal"},"score":1,"creation_date":1642404593,"post_id":70737766,"comment_id":125052362,"body_markdown":"You are getting a java error in javascript?","body":"You are getting a java error in javascript?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642541637,"creation_date":1642541637,"answer_id":70762633,"question_id":70737766,"body_markdown":"You need to take care of a couple of things:\r\n\r\n- Now that Chrome supports shadow root via the driver, `shadowRoot` JS calls are returned per the spec with a shadow root element key (`shadow-6066-11e4-a52e-4f735466cecf`). [tag:selenium4] has a new `ShadowRoot` class to support this, but it didn&#39;t include the translation code that we earlier did when execute script calls return elements. This has been fixed and will be available in [Selenium](https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491) _**v4.1**_. The only difference is that you&#39;ll need to cast to `ShadowRoot` instead of `WebElement`.\r\n- The actual state is that the return value of that JavaScript changed in v96 of ChromeDriver in order to be w3c compliant. Selenium 3.141.59 can not parse this new return value. You can use `getShadowRoot()` in Selenium 4, or you&#39;ll be able to get a `ShadowRoot` instance returned from the JS in Selenium 4.1.\r\n\r\n\r\n----------\r\n\r\n\r\nImplementation\r\n--------------\r\nFrom the [documentation](https://github.com/SeleniumHQ/selenium/blob/78482214e31cddd16f105dd7d7211b34d14efedb/java/src/org/openqa/selenium/remote/ShadowRoot.java#L18)\r\n\r\n\tpackage org.openqa.selenium.remote;\r\n\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.SearchContext;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.WebElement;\r\n\timport org.openqa.selenium.WrapsDriver;\r\n\timport org.openqa.selenium.internal.Require;\r\n\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\r\n\timport static java.util.Collections.singletonMap;\r\n\timport static org.openqa.selenium.remote.Dialect.W3C;\r\n\timport static org.openqa.selenium.remote.DriverCommand.FIND_ELEMENTS_FROM_SHADOW_ROOT;\r\n\timport static org.openqa.selenium.remote.DriverCommand.FIND_ELEMENT_FROM_SHADOW_ROOT;\r\n\r\n\t// Note: we want people to code against the SearchContext API, so we keep this class package private\r\n\tclass ShadowRoot implements SearchContext, WrapsDriver {\r\n\t  private final RemoteWebDriver parent;\r\n\t  private final String id;\r\n\r\n\t  ShadowRoot(RemoteWebDriver parent, String id) {\r\n\t    this.parent = Require.nonNull(&quot;Owning remote webdriver&quot;, parent);\r\n\t    this.id = Require.nonNull(&quot;Shadow root ID&quot;, id);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public List&lt;WebElement&gt; findElements(By by) {\r\n\t    return parent.findElements(\r\n\t      this,\r\n\t      (using, value) -&gt; FIND_ELEMENTS_FROM_SHADOW_ROOT(id, using, String.valueOf(value)),\r\n\t      by);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public WebElement findElement(By by) {\r\n\t    return parent.findElement(\r\n\t      this,\r\n\t      (using, value) -&gt; FIND_ELEMENT_FROM_SHADOW_ROOT(id, using, String.valueOf(value)),\r\n\t      by);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public WebDriver getWrappedDriver() {\r\n\t    return parent;\r\n\t  }\r\n\r\n\t  public String getId() {\r\n\t    return this.id;\r\n\t  }\r\n\r\n\t  private Map&lt;String, Object&gt; toJson() {\r\n\t    return singletonMap(W3C.getShadowRootElementKey(), id);\r\n\t  }\r\n\t}\r\n\r\n\r\n----------\r\n\r\n\r\nExample Code:\r\n\r\n\tWebElement shadowHost = seleniumWebDriver.findElement(By.cssSelector(&quot;#shadowrootcontainer&quot;));\r\n\tJavascriptExecutor javascriptExecutor = (JavascriptExecutor) seleniumWebDriver;\r\n\tSearchContext shadowRoot = (SearchContext) javascriptExecutor.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n\tWebElement shadowContent = shadowRoot.findElement(By.cssSelector(&quot;#shadowcontentcss&quot;));\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nThis Usecase\r\n------------\r\nYour modified code block will be:\r\n\r\n\tWebElement shadowDomHostElement = uiDriver.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version=&#39;12.0.1&#39;]&quot;));\r\n\tJavascriptExecutor execute = (JavascriptExecutor)uiDriver.webDr;\r\n\tSearchContext shadowRoot = (SearchContext) execute.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowDomHostElement);\r\n\tWebElement executeshadow = shadowRoot.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version=&#39;12.0.1&#39;]&quot;));\r\n\r\n\r\n----------\r\n\r\n\r\nTL; DR\r\n------\r\nSome helpful discussions:\r\n\r\n- [[&#128027; Bug]: Confusing JAVA API documentation, failed to cast org.openqa.selenium.remote.ShadowRoot](https://giters.com/SeleniumHQ/selenium/issues/10050)\r\n- [Issue 3958: since ChromeDriver 96. impossible to access a shadowroot-div anymore (fine under 95)](https://bugs.chromium.org/p/chromedriver/issues/detail?id=3958)","title":"java.lang.ClassCastException: cannot be cast to org.openqa.selenium.WebElement using executeScript() to return shadowRoot from shadowHost","body":"<p>You need to take care of a couple of things:</p>\n<ul>\n<li>Now that Chrome supports shadow root via the driver, <code>shadowRoot</code> JS calls are returned per the spec with a shadow root element key (<code>shadow-6066-11e4-a52e-4f735466cecf</code>). <a href=\"/questions/tagged/selenium4\" class=\"post-tag\" title=\"show questions tagged &#39;selenium4&#39;\" rel=\"tag\">selenium4</a> has a new <code>ShadowRoot</code> class to support this, but it didn't include the translation code that we earlier did when execute script calls return elements. This has been fixed and will be available in <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">Selenium</a> <em><strong>v4.1</strong></em>. The only difference is that you'll need to cast to <code>ShadowRoot</code> instead of <code>WebElement</code>.</li>\n<li>The actual state is that the return value of that JavaScript changed in v96 of ChromeDriver in order to be w3c compliant. Selenium 3.141.59 can not parse this new return value. You can use <code>getShadowRoot()</code> in Selenium 4, or you'll be able to get a <code>ShadowRoot</code> instance returned from the JS in Selenium 4.1.</li>\n</ul>\n<hr />\n<h2>Implementation</h2>\n<p>From the <a href=\"https://github.com/SeleniumHQ/selenium/blob/78482214e31cddd16f105dd7d7211b34d14efedb/java/src/org/openqa/selenium/remote/ShadowRoot.java#L18\" rel=\"nofollow noreferrer\">documentation</a></p>\n<pre><code>package org.openqa.selenium.remote;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.SearchContext;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.WrapsDriver;\nimport org.openqa.selenium.internal.Require;\n\nimport java.util.List;\nimport java.util.Map;\n\nimport static java.util.Collections.singletonMap;\nimport static org.openqa.selenium.remote.Dialect.W3C;\nimport static org.openqa.selenium.remote.DriverCommand.FIND_ELEMENTS_FROM_SHADOW_ROOT;\nimport static org.openqa.selenium.remote.DriverCommand.FIND_ELEMENT_FROM_SHADOW_ROOT;\n\n// Note: we want people to code against the SearchContext API, so we keep this class package private\nclass ShadowRoot implements SearchContext, WrapsDriver {\n  private final RemoteWebDriver parent;\n  private final String id;\n\n  ShadowRoot(RemoteWebDriver parent, String id) {\n    this.parent = Require.nonNull(&quot;Owning remote webdriver&quot;, parent);\n    this.id = Require.nonNull(&quot;Shadow root ID&quot;, id);\n  }\n\n  @Override\n  public List&lt;WebElement&gt; findElements(By by) {\n    return parent.findElements(\n      this,\n      (using, value) -&gt; FIND_ELEMENTS_FROM_SHADOW_ROOT(id, using, String.valueOf(value)),\n      by);\n  }\n\n  @Override\n  public WebElement findElement(By by) {\n    return parent.findElement(\n      this,\n      (using, value) -&gt; FIND_ELEMENT_FROM_SHADOW_ROOT(id, using, String.valueOf(value)),\n      by);\n  }\n\n  @Override\n  public WebDriver getWrappedDriver() {\n    return parent;\n  }\n\n  public String getId() {\n    return this.id;\n  }\n\n  private Map&lt;String, Object&gt; toJson() {\n    return singletonMap(W3C.getShadowRootElementKey(), id);\n  }\n}\n</code></pre>\n<hr />\n<p>Example Code:</p>\n<pre><code>WebElement shadowHost = seleniumWebDriver.findElement(By.cssSelector(&quot;#shadowrootcontainer&quot;));\nJavascriptExecutor javascriptExecutor = (JavascriptExecutor) seleniumWebDriver;\nSearchContext shadowRoot = (SearchContext) javascriptExecutor.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\nWebElement shadowContent = shadowRoot.findElement(By.cssSelector(&quot;#shadowcontentcss&quot;));\n</code></pre>\n<hr />\n<h2>This Usecase</h2>\n<p>Your modified code block will be:</p>\n<pre><code>WebElement shadowDomHostElement = uiDriver.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version='12.0.1']&quot;));\nJavascriptExecutor execute = (JavascriptExecutor)uiDriver.webDr;\nSearchContext shadowRoot = (SearchContext) execute.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowDomHostElement);\nWebElement executeshadow = shadowRoot.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version='12.0.1']&quot;));\n</code></pre>\n<hr />\n<h2>TL; DR</h2>\n<p>Some helpful discussions:</p>\n<ul>\n<li><a href=\"https://giters.com/SeleniumHQ/selenium/issues/10050\" rel=\"nofollow noreferrer\">[🐛 Bug]: Confusing JAVA API documentation, failed to cast org.openqa.selenium.remote.ShadowRoot</a></li>\n<li><a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=3958\" rel=\"nofollow noreferrer\">Issue 3958: since ChromeDriver 96. impossible to access a shadowroot-div anymore (fine under 95)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653154180,"creation_date":1653154180,"answer_id":72331830,"question_id":70737766,"body_markdown":"I am using selenium 4, so instead of WebElement , it accept SearchContext.\r\n\r\n    WebElement shadowDomOne = (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n\r\nSo I had to use \r\n \r\n\r\n       SearchContext shadowDomOne = (SearchContext) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n\r\nRefer this for more information-https://www.youtube.com/watch?v=IbjHhi7hcpI&amp;ab_channel=SelectorsHub\r\n\r\nAlso this videos helps to get an idea about shadow DOM.\r\nhttps://www.youtube.com/watch?v=bpzyjNZ0jaw&amp;t=632s&amp;ab_channel=SDET-QAAutomationTechie\r\n\r\nFull code that worked for me is as per below.\r\n\r\n  \r\n\r\n      driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n            // Navigate to the demoqa website\r\n            driver.get(&quot;https://books-pwakit.appspot.com/&quot;);\r\n            //This is th shadow host. Root element\r\n            WebElement shadowHost = driver.findElement(By.tagName(&quot;book-app&quot;));\r\n            JavascriptExecutor js = (JavascriptExecutor) driver;\r\n           // WebElement shadowDomOne = (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n            SearchContext shadowDomOne = (SearchContext) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n           // WebElement appHeader=shadowDomOne.findElement(By.tagName(&quot;app-header&quot;)); because of https://github.com/SeleniumHQ/selenium/issues/10025\r\n    \r\n            WebElement appHeader=shadowDomOne.findElement(By.cssSelector(&quot;app-header&quot;));// So had to use css , here passes tag name.\r\n            WebElement app_toolbar=appHeader.findElement(By.cssSelector(&quot;app-toolbar.toolbar-bottom&quot;));\r\n            WebElement book_input_decorator=app_toolbar.findElement(By.tagName(&quot;book-input-decorator&quot;));\r\n            WebElement search=book_input_decorator.findElement(By.cssSelector(&quot;input#input&quot;));\r\n            search.sendKeys(&quot;At last we made it.&quot;);\r\n\r\n","title":"java.lang.ClassCastException: cannot be cast to org.openqa.selenium.WebElement using executeScript() to return shadowRoot from shadowHost","body":"<p>I am using selenium 4, so instead of WebElement , it accept SearchContext.</p>\n<pre><code>WebElement shadowDomOne = (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n</code></pre>\n<p>So I had to use</p>\n<pre><code>   SearchContext shadowDomOne = (SearchContext) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n</code></pre>\n<p>Refer this for more information-https://www.youtube.com/watch?v=IbjHhi7hcpI&amp;ab_channel=SelectorsHub</p>\n<p>Also this videos helps to get an idea about shadow DOM.\n<a href=\"https://www.youtube.com/watch?v=bpzyjNZ0jaw&amp;t=632s&amp;ab_channel=SDET-QAAutomationTechie\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=bpzyjNZ0jaw&amp;t=632s&amp;ab_channel=SDET-QAAutomationTechie</a></p>\n<p>Full code that worked for me is as per below.</p>\n<pre><code>  driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n        // Navigate to the demoqa website\n        driver.get(&quot;https://books-pwakit.appspot.com/&quot;);\n        //This is th shadow host. Root element\n        WebElement shadowHost = driver.findElement(By.tagName(&quot;book-app&quot;));\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n       // WebElement shadowDomOne = (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n        SearchContext shadowDomOne = (SearchContext) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n       // WebElement appHeader=shadowDomOne.findElement(By.tagName(&quot;app-header&quot;)); because of https://github.com/SeleniumHQ/selenium/issues/10025\n\n        WebElement appHeader=shadowDomOne.findElement(By.cssSelector(&quot;app-header&quot;));// So had to use css , here passes tag name.\n        WebElement app_toolbar=appHeader.findElement(By.cssSelector(&quot;app-toolbar.toolbar-bottom&quot;));\n        WebElement book_input_decorator=app_toolbar.findElement(By.tagName(&quot;book-input-decorator&quot;));\n        WebElement search=book_input_decorator.findElement(By.cssSelector(&quot;input#input&quot;));\n        search.sendKeys(&quot;At last we made it.&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16224731,"reputation":101,"user_id":11715400,"display_name":"Dhawal Kamdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669451811,"creation_date":1669451452,"answer_id":74580746,"question_id":70737766,"body_markdown":"Try using the following `getShadowRootElement()` method to get the WebElement of the Shadow-root.\r\n\r\n    public WebElement getShadowRootElement(WebElement shadowHost) {\r\n    \tWebElement returnObj = null;\r\n    \tObject shadowRoot = ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n    \tif (shadowRoot instanceof WebElement) {\r\n    \t\t// ChromeDriver 95\r\n    \t\treturnObj = (WebElement) shadowRoot;\r\n    \t} else if (shadowRoot instanceof Map) {\r\n    \t\t// ChromeDriver 96+\r\n    \t\tMap&lt;String, Object&gt; shadowRootMap = (Map&lt;String, Object&gt;) shadowRoot;\r\n    \t\tString shadowRootKey = (String) shadowRootMap.keySet().toArray()[0];\r\n    \t\tString id = (String) shadowRootMap.get(shadowRootKey);\r\n    \t\tRemoteWebElement remoteWebElement = new RemoteWebElement();\r\n    \t\tremoteWebElement.setParent((RemoteWebDriver) driver);\r\n    \t\tremoteWebElement.setId(id);\r\n    \t\treturnObj = remoteWebElement;\r\n    \t} else {\r\n    \t\tSystem.out.println(&quot;Unexpected return type for shadowRoot in getShadowRootElement()&quot;);\r\n    \t}\r\n    \treturn returnObj;\r\n    }","title":"java.lang.ClassCastException: cannot be cast to org.openqa.selenium.WebElement using executeScript() to return shadowRoot from shadowHost","body":"<p>Try using the following <code>getShadowRootElement()</code> method to get the WebElement of the Shadow-root.</p>\n<pre><code>public WebElement getShadowRootElement(WebElement shadowHost) {\n    WebElement returnObj = null;\n    Object shadowRoot = ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n    if (shadowRoot instanceof WebElement) {\n        // ChromeDriver 95\n        returnObj = (WebElement) shadowRoot;\n    } else if (shadowRoot instanceof Map) {\n        // ChromeDriver 96+\n        Map&lt;String, Object&gt; shadowRootMap = (Map&lt;String, Object&gt;) shadowRoot;\n        String shadowRootKey = (String) shadowRootMap.keySet().toArray()[0];\n        String id = (String) shadowRootMap.get(shadowRootKey);\n        RemoteWebElement remoteWebElement = new RemoteWebElement();\n        remoteWebElement.setParent((RemoteWebDriver) driver);\n        remoteWebElement.setId(id);\n        returnObj = remoteWebElement;\n    } else {\n        System.out.println(&quot;Unexpected return type for shadowRoot in getShadowRootElement()&quot;);\n    }\n    return returnObj;\n}\n</code></pre>\n"}],"owner":{"account_id":23962875,"reputation":31,"user_id":17952725,"display_name":"Asha Rani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10539,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1700402695,"creation_date":1642404105,"question_id":70737766,"body_markdown":"Getting Issue :\r\n\r\n    java.lang.ClassCastException: com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to org.openqa.selenium.WebElement\r\n\r\nCode trials:\r\n\r\n```java\r\nJavascriptExecutor execute = (JavascriptExecutor)uiDriver.webDr;\r\nWebElement shadowDomHostElement = uiDriver.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version=&#39;12.0.1&#39;]&quot;));\r\nWebElement executeshadow = (WebElement)execute.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowDomHostElement);\r\n```\r\nUnable to cast the `WebElement`, please need help on this","title":"java.lang.ClassCastException: cannot be cast to org.openqa.selenium.WebElement using executeScript() to return shadowRoot from shadowHost","body":"<p>Getting Issue :</p>\n<pre><code>java.lang.ClassCastException: com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to org.openqa.selenium.WebElement\n</code></pre>\n<p>Code trials:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavascriptExecutor execute = (JavascriptExecutor)uiDriver.webDr;\nWebElement shadowDomHostElement = uiDriver.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version='12.0.1']&quot;));\nWebElement executeshadow = (WebElement)execute.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowDomHostElement);\n</code></pre>\n<p>Unable to cast the <code>WebElement</code>, please need help on this</p>\n"},{"tags":["java","android"],"owner":{"account_id":29941210,"reputation":11,"user_id":22945681,"display_name":"Yanivonix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700402402,"creation_date":1700402402,"question_id":77511033,"body_markdown":"``` \r\npublic class MyCanvasView extends View {\r\n\r\n    public final int BRUSH_FREE = 0;\r\n    public final int BRUSH_LINE = 1;\r\n\r\n    private int brush_mode;\r\n    private Paint mPaint;\r\n    private Paint mBackroundPaint;\r\n    private Path mPath;\r\n    private int mDrawColor;\r\n    private int mBackgroundColor;\r\n    private int mTestColor;\r\n    private Canvas mExtraCanvas;\r\n    private Bitmap mExtraBitmap;\r\n    private Rect mFrame;\r\n    private ArrayList&lt;Path&gt; paths = new ArrayList&lt;&gt;();\r\n\r\n    public MyCanvasView(Context context) {\r\n        this(context, null);\r\n    }\r\n\r\n    public MyCanvasView(Context context, AttributeSet attributeSet) {\r\n        super(context, attributeSet);\r\n\r\n        mBackgroundColor = ResourcesCompat.getColor(getResources(),\r\n                R.color.opaque_orange, null);\r\n        mDrawColor = ResourcesCompat.getColor(getResources(),\r\n                R.color.opaque_yellow, null);\r\n        mTestColor = ResourcesCompat.getColor(getResources(),R.color.testColor,null);\r\n\r\n        brush_mode = BRUSH_FREE;\r\n\r\n        mPath = new Path();\r\n\r\n        mPaint = new Paint();\r\n\r\n        mPaint.setColor(mDrawColor);\r\n        mPaint.setAntiAlias(true);\r\n        mPaint.setDither(true);\r\n        mPaint.setStyle(Paint.Style.STROKE);\r\n        mPaint.setStrokeJoin(Paint.Join.ROUND);\r\n        mPaint.setStrokeCap(Paint.Cap.ROUND);\r\n        mPaint.setStrokeWidth(12);\r\n\r\n        mBackroundPaint = new Paint(mPaint);\r\n        mBackroundPaint.setColor(mBackgroundColor);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onSizeChanged(int width, int height,\r\n                                 int oldWidth, int oldHeight) {\r\n        super.onSizeChanged(width, height, oldWidth, oldHeight);\r\n        mExtraBitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n        mExtraCanvas = new Canvas(mExtraBitmap);\r\n        mExtraCanvas.drawColor(mBackgroundColor);\r\n\r\n\r\n        int inset = 40;\r\n        mFrame = new Rect (inset, inset, width - inset, height - inset);\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n\r\n\r\n        canvas.drawBitmap(mExtraBitmap, 0, 0, null);\r\n\r\n\r\n        canvas.drawRect(mFrame, mPaint);\r\n    }\r\n\r\n\r\n    private float mX, mY;\r\n    private float moveLastX = -10000, moveLastY = -10000;\r\n\r\n    private static final float TOUCH_TOLERANCE = 4;\r\n\r\n\r\n\r\n    private void touchStart(float x, float y) {\r\n        mPath.moveTo(x, y);\r\n        mX = x;\r\n        mY = y;\r\n    }\r\n\r\n    private void touchMove(float x, float y) {\r\n        float dx = Math.abs(x - mX);\r\n        float dy = Math.abs(y - mY);\r\n        if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) {\r\n            switch (brush_mode){\r\n                case (BRUSH_FREE):\r\n                    mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\r\n                    mX = x;\r\n                    mY = y;\r\n                    paths.add(mPath);\r\n                    mExtraCanvas.drawPath(mPath, mPaint);\r\n                    break;\r\n                case (BRUSH_LINE):\r\n                    if(x != moveLastX &amp;&amp; y != moveLastY) {\r\n                        mPath.moveTo(moveLastX, moveLastY);\r\n                        mPath.lineTo(mX, mY);\r\n                        mExtraCanvas.drawPath(mPath, mBackroundPaint);\r\n                        mPath.lineTo(x, y);\r\n                        mExtraCanvas.drawPath(mPath, mPaint);\r\n                        break;\r\n                    }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private void touchUp() {\r\n        moveLastX = -10000;\r\n        moveLastY = -10000;\r\n        mPath.reset();\r\n    }\r\n\r\n\r\n\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        float x = event.getX();\r\n        float y = event.getY();\r\n\r\n        switch (event.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                touchStart(x, y);\r\n                break;\r\n            case MotionEvent.ACTION_MOVE:\r\n                if(moveLastY == -10000 &amp;&amp; moveLastX == -10000){\r\n                    moveLastX = x;\r\n                    moveLastY = y;\r\n                }\r\n                touchMove(x, y);\r\n                moveLastY = y;\r\n                moveLastX = x;\r\n                invalidate();\r\n                break;\r\n            case MotionEvent.ACTION_UP:\r\n                touchUp();\r\n                break;\r\n            default:\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static int getScreenWidth() {\r\n        return Resources.getSystem().getDisplayMetrics().widthPixels;\r\n    }\r\n\r\n    public static int getScreenHeight() {\r\n        return Resources.getSystem().getDisplayMetrics().heightPixels;\r\n    }\r\n\r\n    public void clearMyCanvas(){\r\n        mExtraCanvas.drawColor(mBackgroundColor);\r\n        mExtraCanvas.drawRect(mFrame, mPaint);\r\n        invalidate();\r\n        Log.d(&quot;MY ALERTS&quot;,&quot;Path reset supposedly&quot;);\r\n    }\r\n\r\n    public void setBrush_mode(int brushtype){\r\n        switch (brushtype){\r\n            case(BRUSH_FREE):\r\n                brush_mode = BRUSH_FREE;\r\n                break;\r\n            case(BRUSH_LINE):\r\n                brush_mode = BRUSH_LINE;\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI want the finger to drag across the screen, and have a preview of the line show from the fixed start position (of when the finger initially touched the screen) to where it currently is. Problem is I am having trouble getting rid of all the preview lines drawn on screen so I&#39;m getting this &quot;sun-like&quot; figure on the screen, where more and more lines are drawn with each and every move of the finger.\r\nCan you help me organize a certain algorithm to do that properly?","title":"Android studio - Draw a line on a canvas with preview, without having all the former lines drawn on the canvas?","body":"<pre><code>public class MyCanvasView extends View {\n\n    public final int BRUSH_FREE = 0;\n    public final int BRUSH_LINE = 1;\n\n    private int brush_mode;\n    private Paint mPaint;\n    private Paint mBackroundPaint;\n    private Path mPath;\n    private int mDrawColor;\n    private int mBackgroundColor;\n    private int mTestColor;\n    private Canvas mExtraCanvas;\n    private Bitmap mExtraBitmap;\n    private Rect mFrame;\n    private ArrayList&lt;Path&gt; paths = new ArrayList&lt;&gt;();\n\n    public MyCanvasView(Context context) {\n        this(context, null);\n    }\n\n    public MyCanvasView(Context context, AttributeSet attributeSet) {\n        super(context, attributeSet);\n\n        mBackgroundColor = ResourcesCompat.getColor(getResources(),\n                R.color.opaque_orange, null);\n        mDrawColor = ResourcesCompat.getColor(getResources(),\n                R.color.opaque_yellow, null);\n        mTestColor = ResourcesCompat.getColor(getResources(),R.color.testColor,null);\n\n        brush_mode = BRUSH_FREE;\n\n        mPath = new Path();\n\n        mPaint = new Paint();\n\n        mPaint.setColor(mDrawColor);\n        mPaint.setAntiAlias(true);\n        mPaint.setDither(true);\n        mPaint.setStyle(Paint.Style.STROKE);\n        mPaint.setStrokeJoin(Paint.Join.ROUND);\n        mPaint.setStrokeCap(Paint.Cap.ROUND);\n        mPaint.setStrokeWidth(12);\n\n        mBackroundPaint = new Paint(mPaint);\n        mBackroundPaint.setColor(mBackgroundColor);\n    }\n\n\n    @Override\n    protected void onSizeChanged(int width, int height,\n                                 int oldWidth, int oldHeight) {\n        super.onSizeChanged(width, height, oldWidth, oldHeight);\n        mExtraBitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n        mExtraCanvas = new Canvas(mExtraBitmap);\n        mExtraCanvas.drawColor(mBackgroundColor);\n\n\n        int inset = 40;\n        mFrame = new Rect (inset, inset, width - inset, height - inset);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n\n\n        canvas.drawBitmap(mExtraBitmap, 0, 0, null);\n\n\n        canvas.drawRect(mFrame, mPaint);\n    }\n\n\n    private float mX, mY;\n    private float moveLastX = -10000, moveLastY = -10000;\n\n    private static final float TOUCH_TOLERANCE = 4;\n\n\n\n    private void touchStart(float x, float y) {\n        mPath.moveTo(x, y);\n        mX = x;\n        mY = y;\n    }\n\n    private void touchMove(float x, float y) {\n        float dx = Math.abs(x - mX);\n        float dy = Math.abs(y - mY);\n        if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) {\n            switch (brush_mode){\n                case (BRUSH_FREE):\n                    mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\n                    mX = x;\n                    mY = y;\n                    paths.add(mPath);\n                    mExtraCanvas.drawPath(mPath, mPaint);\n                    break;\n                case (BRUSH_LINE):\n                    if(x != moveLastX &amp;&amp; y != moveLastY) {\n                        mPath.moveTo(moveLastX, moveLastY);\n                        mPath.lineTo(mX, mY);\n                        mExtraCanvas.drawPath(mPath, mBackroundPaint);\n                        mPath.lineTo(x, y);\n                        mExtraCanvas.drawPath(mPath, mPaint);\n                        break;\n                    }\n            }\n\n        }\n    }\n\n    private void touchUp() {\n        moveLastX = -10000;\n        moveLastY = -10000;\n        mPath.reset();\n    }\n\n\n\n    public boolean onTouchEvent(MotionEvent event) {\n        float x = event.getX();\n        float y = event.getY();\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                touchStart(x, y);\n                break;\n            case MotionEvent.ACTION_MOVE:\n                if(moveLastY == -10000 &amp;&amp; moveLastX == -10000){\n                    moveLastX = x;\n                    moveLastY = y;\n                }\n                touchMove(x, y);\n                moveLastY = y;\n                moveLastX = x;\n                invalidate();\n                break;\n            case MotionEvent.ACTION_UP:\n                touchUp();\n                break;\n            default:\n\n        }\n        return true;\n    }\n\n    public static int getScreenWidth() {\n        return Resources.getSystem().getDisplayMetrics().widthPixels;\n    }\n\n    public static int getScreenHeight() {\n        return Resources.getSystem().getDisplayMetrics().heightPixels;\n    }\n\n    public void clearMyCanvas(){\n        mExtraCanvas.drawColor(mBackgroundColor);\n        mExtraCanvas.drawRect(mFrame, mPaint);\n        invalidate();\n        Log.d(&quot;MY ALERTS&quot;,&quot;Path reset supposedly&quot;);\n    }\n\n    public void setBrush_mode(int brushtype){\n        switch (brushtype){\n            case(BRUSH_FREE):\n                brush_mode = BRUSH_FREE;\n                break;\n            case(BRUSH_LINE):\n                brush_mode = BRUSH_LINE;\n                break;\n\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>I want the finger to drag across the screen, and have a preview of the line show from the fixed start position (of when the finger initially touched the screen) to where it currently is. Problem is I am having trouble getting rid of all the preview lines drawn on screen so I'm getting this &quot;sun-like&quot; figure on the screen, where more and more lines are drawn with each and every move of the finger.\nCan you help me organize a certain algorithm to do that properly?</p>\n"},{"tags":["java","kotlin","android-studio","mobile","android-inflate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700427064,"post_id":77511013,"comment_id":136650055,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29941159,"reputation":1,"user_id":22945647,"display_name":"Phyo Aung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700402232,"creation_date":1700402004,"question_id":77511013,"body_markdown":"[this is my java file][1]I follow to write this code  with a android development course online, but don&#39;t know why it doesn&#39;t work.\r\n\r\n[[this is my menu.xml file](https://i.stack.imgur.com/iwrvT.png),  (https://i.stack.imgur.com/xyC8G.png)]\r\n\r\nCan anyone help me why is happening with my code?\r\nI also have search a lot online, but don&#39;t find a helpful answer.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/va42z.png","title":"Inflate and menu.xml don&#39;t work as expected","body":"<p><a href=\"https://i.stack.imgur.com/va42z.png\" rel=\"nofollow noreferrer\">this is my java file</a>I follow to write this code  with a android development course online, but don't know why it doesn't work.</p>\n<p>[<a href=\"https://i.stack.imgur.com/iwrvT.png\" rel=\"nofollow noreferrer\">this is my menu.xml file</a>,  (<a href=\"https://i.stack.imgur.com/xyC8G.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xyC8G.png</a>)]</p>\n<p>Can anyone help me why is happening with my code?\nI also have search a lot online, but don't find a helpful answer.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9809,"page":49,"page_size":100}
