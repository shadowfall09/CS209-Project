{"items":[{"tags":["java","oop","equals"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668562571,"post_id":74453990,"comment_id":131434332,"body_markdown":"What&#39;s `cardNum`? You need to show your `Card` class.","body":"What&#39;s <code>cardNum</code>? You need to show your <code>Card</code> class."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668562632,"post_id":74453990,"comment_id":131434344,"body_markdown":"Incidentally, always override `hashCode` when you override `equals` -- but that isn&#39;t causing any problem in this instance.","body":"Incidentally, always override <code>hashCode</code> when you override <code>equals</code> -- but that isn&#39;t causing any problem in this instance."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668562778,"post_id":74453990,"comment_id":131434371,"body_markdown":"Oh: &quot;I need my equals method to be able to correctly tell me if a card has the same rank as another card&quot; If you consider that the Ace of Spades and the Ace of Clubs are the same Card, then your code is behaving as expected.","body":"Oh: &quot;I need my equals method to be able to correctly tell me if a card has the same rank as another card&quot; If you consider that the Ace of Spades and the Ace of Clubs are the same Card, then your code is behaving as expected."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1668563591,"post_id":74453990,"comment_id":131434522,"body_markdown":"Because `equals` is used by `List.remove` to decide which item to remove.","body":"Because <code>equals</code> is used by <code>List.remove</code> to decide which item to remove."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1668563691,"post_id":74453990,"comment_id":131434535,"body_markdown":"Write another method on `Card`: `boolean hasSameRankAs(Card otherCard)` instead of breaking the semantics of `equals`.","body":"Write another method on <code>Card</code>: <code>boolean hasSameRankAs(Card otherCard)</code> instead of breaking the semantics of <code>equals</code>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673594857,"creation_date":1673550860,"answer_id":75101265,"question_id":74453990,"body_markdown":"Here&#39;s how `equals` affects other code:\r\n\r\n    public Card deal() {\r\n        Random rand = new Random();\r\n        Card randomCard;\r\n\r\n        randomCard = m_cards.get(rand.nextInt(m_cards.size()));\r\n        m_cards.remove(randomCard);\r\n\r\n        return randomCard;\r\n    }\r\n\r\n`m_cards.remove(randomCard)` – think how this method is going to know which card to remove from the collection? Exactly, it calls `equals` with the parameter and every item in the collection!\r\n\r\nYou have to decide: is a seven of hearts really _equal_ to a seven of clubs? I don&#39;t think so. They might have the same rank, but for them to be considired equal, I&#39;d expect them to have the same rank _and_ the same suit.\r\n\r\nThe canonical implementation of this method is (more or less):\r\n\r\n    public boolean remove(final Object o) {\r\n        final Iterator&lt;E&gt; it = iterator();\r\n        while (it.hasNext()) {\r\n            if (Objects.equals(o, it.next())) {\r\n                it.remove();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nPS Random instances should be reused, not recreated with `new` every time you need them. If you recreate, you are not getting good random values and might even end up with the same number several times in a row. To reuse, create it once in the constructor or store it in a `static final` field.","title":"Equals method override messes up other code/changes output?","body":"<p>Here's how <code>equals</code> affects other code:</p>\n<pre><code>public Card deal() {\n    Random rand = new Random();\n    Card randomCard;\n\n    randomCard = m_cards.get(rand.nextInt(m_cards.size()));\n    m_cards.remove(randomCard);\n\n    return randomCard;\n}\n</code></pre>\n<p><code>m_cards.remove(randomCard)</code> – think how this method is going to know which card to remove from the collection? Exactly, it calls <code>equals</code> with the parameter and every item in the collection!</p>\n<p>You have to decide: is a seven of hearts really <em>equal</em> to a seven of clubs? I don't think so. They might have the same rank, but for them to be considired equal, I'd expect them to have the same rank <em>and</em> the same suit.</p>\n<p>The canonical implementation of this method is (more or less):</p>\n<pre><code>public boolean remove(final Object o) {\n    final Iterator&lt;E&gt; it = iterator();\n    while (it.hasNext()) {\n        if (Objects.equals(o, it.next())) {\n            it.remove();\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>PS Random instances should be reused, not recreated with <code>new</code> every time you need them. If you recreate, you are not getting good random values and might even end up with the same number several times in a row. To reuse, create it once in the constructor or store it in a <code>static final</code> field.</p>\n"}],"owner":{"account_id":26778822,"reputation":23,"user_id":20374009,"display_name":"Seba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673594857,"creation_date":1668560861,"question_id":74453990,"body_markdown":"I&#39;m making a card game for a school project. I need my equals method to be able to correctly tell me if a card has the same rank as another card. However, I notice that as long as an equals override *exists*, even if I don&#39;t use &quot;.equals()&quot; on anything, it seems to screw up output for other code. Here is a sample of my output with the equals method active:\r\n\r\n```\r\nPlayer 1\r\nHas spoon? false\r\nIs dealer? true\r\nHand: [7 of Clubs, 2 of Clubs, 8 of Spades, 8 of Clubs]\r\nDealer: \r\nYour dealer has a deck of 48 cards: \r\n\r\nCards currently in deck: 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, Queen of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, King of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 6 of Diamonds, 7 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds\r\n```\r\n\r\nI can create multiple players and deal them each a set number of cards.\r\n\r\nOn some occasions players will get dealt duplicate cards, which is an obvious problem. On top of this, it doesn&#39;t remove the right cards from the deck, sometimes removing the right rank but the wrong suit. Notice that some cards in this player&#39;s hand are still in the deck but several Hearts cards are taken out.\r\n\r\nThis is output with the equals method commented out, nothing else changed:\r\n\r\n```\r\nPlayer 1\r\nHas spoon? false\r\nIs dealer? true\r\nHand: [7 of Diamonds, Queen of Hearts, 6 of Diamonds, King of Spades]\r\nDealer: \r\nYour dealer has a deck of 48 cards: \r\n\r\nCards currently in deck: 2 of Hearts, 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 7 of Hearts, 8 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 8 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds, \r\n```\r\n\r\nI am confident that this works perfectly. The player gets their specific cards and those cards are removed from the deck.\r\n\r\nThis is my equals method:\r\n\r\n```\r\npublic boolean equals(Object obj) {\r\n        if (!(obj instanceof Card)){\r\n            return false;\r\n        } else {\r\n            Card card = (Card) obj;\r\n            return card.cardNum == this.cardNum;\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;m guessing this must be happening when the cards are removed from the deck, and not when they are created, because the deck is still made of 52 individual unique card objects even with the equals method.\r\n\r\nSo, I use 2 methods to remove a card from a deck: deal and deals\r\n\r\n```\r\n    /**\r\n     * @return randomCard, the randomly selected card\r\n     */\r\n    public Card deal() {\r\n        Random rand = new Random();\r\n        Card randomCard;\r\n\r\n        randomCard = m_cards.get(rand.nextInt(m_cards.size()));\r\n        m_cards.remove(randomCard);\r\n\r\n        return randomCard;\r\n    }\r\n```\r\n\r\n```\r\n    /**\r\n     * @param n, the number of times deal is called\r\n     * @return cardsDealt, a LinkedList containing the cards removed from the Deck.\r\n     */\r\n    public LinkedList&lt;Card&gt; deals(int n) {\r\n        LinkedList&lt;Card&gt; cardsDealt = new LinkedList&lt;Card&gt;();\r\n\r\n        for(int i = 0; i &lt; n; i++) {\r\n            cardsDealt.add(m_deck.deal());\r\n        }\r\n        // System.out.print(&quot;\\nRemoving: &quot;);\r\n        return cardsDealt;\r\n    }\r\n```\r\n\r\nAnd this is the code I have for the Player class right now:\r\n\r\n```\r\nimport java.util.LinkedList;\r\npublic class Player {\r\n    private int playerNum;\r\n    private boolean hasSpoon;\r\n    private boolean isDealer;\r\n\r\n    static Dealer dealer = new Dealer();\r\n    LinkedList&lt;Card&gt; hand;\r\n\r\n    public Player(int playerNum) {\r\n        this.playerNum = playerNum;\r\n        this.hasSpoon = false;\r\n        if(this.playerNum == 1) {\r\n            this.isDealer = true;\r\n        }\r\n        this.hand = new LinkedList&lt;Card&gt;(dealer.deals(4));\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;\\nPlayer &quot; + playerNum + \r\n               &quot;\\nHas spoon? &quot; + hasSpoon + \r\n               &quot;\\nIs dealer? &quot; + isDealer + \r\n               &quot;\\nHand: &quot; + hand\r\n              + &quot;\\nDealer: &quot; + dealer;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Player player1 = new Player(1);\r\n\r\n        System.out.println(player1);\r\n    }\r\n}\r\n```\r\n\r\nAgain, this is for school so don&#39;t give me the direct answer but I would appreciate to know why this is happening and be pointed in the right direction.","title":"Equals method override messes up other code/changes output?","body":"<p>I'm making a card game for a school project. I need my equals method to be able to correctly tell me if a card has the same rank as another card. However, I notice that as long as an equals override <em>exists</em>, even if I don't use &quot;.equals()&quot; on anything, it seems to screw up output for other code. Here is a sample of my output with the equals method active:</p>\n<pre><code>Player 1\nHas spoon? false\nIs dealer? true\nHand: [7 of Clubs, 2 of Clubs, 8 of Spades, 8 of Clubs]\nDealer: \nYour dealer has a deck of 48 cards: \n\nCards currently in deck: 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, Queen of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, King of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 6 of Diamonds, 7 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds\n</code></pre>\n<p>I can create multiple players and deal them each a set number of cards.</p>\n<p>On some occasions players will get dealt duplicate cards, which is an obvious problem. On top of this, it doesn't remove the right cards from the deck, sometimes removing the right rank but the wrong suit. Notice that some cards in this player's hand are still in the deck but several Hearts cards are taken out.</p>\n<p>This is output with the equals method commented out, nothing else changed:</p>\n<pre><code>Player 1\nHas spoon? false\nIs dealer? true\nHand: [7 of Diamonds, Queen of Hearts, 6 of Diamonds, King of Spades]\nDealer: \nYour dealer has a deck of 48 cards: \n\nCards currently in deck: 2 of Hearts, 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 7 of Hearts, 8 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 8 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds, \n</code></pre>\n<p>I am confident that this works perfectly. The player gets their specific cards and those cards are removed from the deck.</p>\n<p>This is my equals method:</p>\n<pre><code>public boolean equals(Object obj) {\n        if (!(obj instanceof Card)){\n            return false;\n        } else {\n            Card card = (Card) obj;\n            return card.cardNum == this.cardNum;\n        }\n    }\n</code></pre>\n<p>I'm guessing this must be happening when the cards are removed from the deck, and not when they are created, because the deck is still made of 52 individual unique card objects even with the equals method.</p>\n<p>So, I use 2 methods to remove a card from a deck: deal and deals</p>\n<pre><code>    /**\n     * @return randomCard, the randomly selected card\n     */\n    public Card deal() {\n        Random rand = new Random();\n        Card randomCard;\n\n        randomCard = m_cards.get(rand.nextInt(m_cards.size()));\n        m_cards.remove(randomCard);\n\n        return randomCard;\n    }\n</code></pre>\n<pre><code>    /**\n     * @param n, the number of times deal is called\n     * @return cardsDealt, a LinkedList containing the cards removed from the Deck.\n     */\n    public LinkedList&lt;Card&gt; deals(int n) {\n        LinkedList&lt;Card&gt; cardsDealt = new LinkedList&lt;Card&gt;();\n\n        for(int i = 0; i &lt; n; i++) {\n            cardsDealt.add(m_deck.deal());\n        }\n        // System.out.print(&quot;\\nRemoving: &quot;);\n        return cardsDealt;\n    }\n</code></pre>\n<p>And this is the code I have for the Player class right now:</p>\n<pre><code>import java.util.LinkedList;\npublic class Player {\n    private int playerNum;\n    private boolean hasSpoon;\n    private boolean isDealer;\n\n    static Dealer dealer = new Dealer();\n    LinkedList&lt;Card&gt; hand;\n\n    public Player(int playerNum) {\n        this.playerNum = playerNum;\n        this.hasSpoon = false;\n        if(this.playerNum == 1) {\n            this.isDealer = true;\n        }\n        this.hand = new LinkedList&lt;Card&gt;(dealer.deals(4));\n    }\n\n    public String toString() {\n        return &quot;\\nPlayer &quot; + playerNum + \n               &quot;\\nHas spoon? &quot; + hasSpoon + \n               &quot;\\nIs dealer? &quot; + isDealer + \n               &quot;\\nHand: &quot; + hand\n              + &quot;\\nDealer: &quot; + dealer;\n    }\n\n    public static void main(String[] args) {\n        Player player1 = new Player(1);\n\n        System.out.println(player1);\n    }\n}\n</code></pre>\n<p>Again, this is for school so don't give me the direct answer but I would appreciate to know why this is happening and be pointed in the right direction.</p>\n"},{"tags":["java","java-stream","distinct","hashcode"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1670908314,"post_id":74780214,"comment_id":131976150,"body_markdown":"From the _javadoc_ of method [equals](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) in class `java.lang.Object`: _equal objects must have equal hash codes_","body":"From the <i>javadoc</i> of method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">equals</a> in class <code>java.lang.Object</code>: <i>equal objects must have equal hash codes</i>"},{"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"score":0,"creation_date":1670908582,"post_id":74780214,"comment_id":131976186,"body_markdown":"Thanks Abra for helping, can you expand on that a little?","body":"Thanks Abra for helping, can you expand on that a little?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1670908709,"post_id":74780214,"comment_id":131976207,"body_markdown":"[*What issues should be considered when overriding equals and hashCode in Java?*](https://stackoverflow.com/q/27581/642706)","body":"<a href=\"https://stackoverflow.com/q/27581/642706\"><i>What issues should be considered when overriding equals and hashCode in Java?</i></a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1670945350,"post_id":74780214,"comment_id":131987567,"body_markdown":"**Caution:** `if (personId != other.personId)` will fail for most Number instances.  Always compare objects using the `equals` method.  If one or both of them might be null, use [Objects.equals](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Objects.html#equals(java.lang.Object,java.lang.Object)).","body":"<b>Caution:</b> <code>if (personId != other.personId)</code> will fail for most Number instances.  Always compare objects using the <code>equals</code> method.  If one or both of them might be null, use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Objects.html#equals(java.lang.Object,java.lang.Object)\" rel=\"nofollow noreferrer\">Objects.equals</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670955872,"creation_date":1670909642,"answer_id":74780390,"question_id":74780214,"body_markdown":"# `distinct` uses `equals` method\r\n\r\nDid you read the documentation, the Javadoc for [`Stream#distinct`][1]? Programming by documentation usually works better than programming by intuition.\r\n\r\nThe first sentence says:\r\n\r\n&gt;Returns a stream consisting of the distinct elements (according to Object.equals(Object)) of this stream.\r\n\r\nDid you override the `equals` method? An edit to your Question says you did indeed. \r\n\r\nIn your `equals` method, you compare only the member field `personId`, of type `Long`. So why would you expect the list of pet names to be considered? \r\n\r\nSimilarly, if the three `Tim` objects have different ages such as 28, 48, and 98, that too is irrelevant. Your code says to consider them to be the same as long as the `personId` number is the same. \r\n\r\nYou told the JVM to examine only the id field. So if two `Person` objects have the same 64-bit integer number in their `personId` field, they are considered equal. If the two numbers differ, the two `Person` objects are not equal.\r\n\r\nAs to your more general question about which of two or more equal objects encountered in the stream are kept as the result of `distinct`: Again, read [the documentation][1].\r\n\r\n&gt; For ordered streams, the selection of distinct elements is stable (for duplicated elements, the element appearing first in the encounter order is preserved.) For unordered streams, no stability guarantees are made.\r\n\r\nSo:\r\n\r\n - If you have an ordered stream, the first object wins. Any duplicate objects that follow are eliminated. \r\n - If the stream is not ordered, then any of the objects may win. You should not depend on any particular one to win.\r\n\r\nYou do not disclose what kind of stream you are using. So we cannot know if it is ordered or not. So we can provide no further insight.\r\n\r\n# `equals` &amp; `hashCode` must share same logic\r\n\r\nThe implementations of `equals` and `hashCode` should always use the same logic. The  `hashCode` method should always be overridden along with `equals` to maintain the general contract between them, which is: *equal objects must have equal hash codes.*\r\n\r\nIf for equality you compare the `personId` field, then your hash code should be based on the `personId` field value. \r\n\r\nYou did this correctly in your code. But, you could do so more simply by using `Objects.hash( this.id )`. See this alternate implementation of your code.\r\n\r\n```java\r\npackage work.basil.example.distinct;\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic final class Person\r\n{\r\n    private final Long id;\r\n    private final String name;\r\n    private final int age;\r\n    private final List &lt; String &gt; petNames;\r\n\r\n    public Person ( Long id , String name , int age , List &lt; String &gt; petNames )\r\n    {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.age = age;\r\n        this.petNames = petNames;\r\n    }\r\n\r\n    public Long id ( ) { return id; }\r\n\r\n    public String name ( ) { return name; }\r\n\r\n    public int age ( ) { return age; }\r\n\r\n    public List &lt; String &gt; petNames ( ) { return petNames; }\r\n\r\n    @Override\r\n    public boolean equals ( final Object o )\r\n    {\r\n        if ( this == o ) { return true; }\r\n        if ( o == null || getClass() != o.getClass() ) { return false; }\r\n        Person person = ( Person ) o;\r\n        return id.equals( person.id );\r\n    }\r\n\r\n    @Override\r\n    public int hashCode ( )\r\n    {\r\n        return Objects.hash( this.id );\r\n    }\r\n\r\n    @Override\r\n    public String toString ( )\r\n    {\r\n        return &quot;Person[&quot; +\r\n                &quot;id=&quot; + this.id + &quot;, &quot; +\r\n                &quot;name=&quot; + this.name + &quot;, &quot; +\r\n                &quot;age=&quot; + this.age + &quot;, &quot; +\r\n                &quot;petNames=&quot; + this.petNames + &#39;]&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe issue of `equals` and `hashCode` needing to share the same logic is covered in the documentation, in the Java literature, and on Stack Overflow extensively. Search to learn more. Start [here](https://stackoverflow.com/q/27581/642706). \r\n\r\n# Example\r\n\r\nHere is an example app using that class above.\r\n\r\n```java\r\npackage work.basil.example.distinct;\r\n\r\nimport java.util.List;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        List &lt; Person &gt; persons =\r\n                List.of(\r\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; ) ) ,\r\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; , &quot;Cowboy&quot; ) ) ,\r\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; , &quot;Cowboy&quot; , &quot;Fido&quot; ) ) ,\r\n                        new Person( 2L , &quot;Jamie&quot; , 19 , List.of() ) ,\r\n                        new Person( 3L , &quot;Fred&quot; , 23 , List.of() )\r\n                );\r\n        List &lt; Person &gt; personsDistinct = persons.stream().distinct().toList();\r\n\r\n        System.out.println( &quot;persons = &quot; + persons );\r\n        System.out.println( &quot;personsDistinct = &quot; + personsDistinct );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n\r\n&gt;persons = [Person[id=1, name=Tim, age=28, petNames=[Brix]], Person[id=1, name=Tim, age=28, petNames=[Brix, Cowboy]], Person[id=1, name=Tim, age=28, petNames=[Brix, Cowboy, Fido]], Person[id=2, name=Jamie, age=19, petNames=[]], Person[id=3, name=Fred, age=23, petNames=[]]]\r\n&gt;\r\n&gt;personsDistinct = [Person[id=1, name=Tim, age=28, petNames=[Brix]], Person[id=2, name=Jamie, age=19, petNames=[]], Person[id=3, name=Fred, age=23, petNames=[]]]\r\n\r\n\r\n# `record`\r\n\r\nTip: If you want **all the member fields to be considered automatically** for `equals` &amp; `hashCode`, and the main purpose of your class is to **communicate data transparently and immutably,** define your class as a [record][2].\r\n\r\nIn a record, by default, the compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`.\r\n\r\nFurthermore, you can define a record locally as well as define it as a nested class or as a separate class.\r\n\r\n```java\r\nrecord Person( Long id , String name , int age , List &lt; String &gt; petNames ) { }\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()\r\n  [2]: https://openjdk.org/jeps/395","title":"How does Java&#39;s Stream.distinct() select which of the duplicates to use","body":"<h1><code>distinct</code> uses <code>equals</code> method</h1>\n<p>Did you read the documentation, the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()\" rel=\"nofollow noreferrer\"><code>Stream#distinct</code></a>? Programming by documentation usually works better than programming by intuition.</p>\n<p>The first sentence says:</p>\n<blockquote>\n<p>Returns a stream consisting of the distinct elements (according to Object.equals(Object)) of this stream.</p>\n</blockquote>\n<p>Did you override the <code>equals</code> method? An edit to your Question says you did indeed.</p>\n<p>In your <code>equals</code> method, you compare only the member field <code>personId</code>, of type <code>Long</code>. So why would you expect the list of pet names to be considered?</p>\n<p>Similarly, if the three <code>Tim</code> objects have different ages such as 28, 48, and 98, that too is irrelevant. Your code says to consider them to be the same as long as the <code>personId</code> number is the same.</p>\n<p>You told the JVM to examine only the id field. So if two <code>Person</code> objects have the same 64-bit integer number in their <code>personId</code> field, they are considered equal. If the two numbers differ, the two <code>Person</code> objects are not equal.</p>\n<p>As to your more general question about which of two or more equal objects encountered in the stream are kept as the result of <code>distinct</code>: Again, read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<blockquote>\n<p>For ordered streams, the selection of distinct elements is stable (for duplicated elements, the element appearing first in the encounter order is preserved.) For unordered streams, no stability guarantees are made.</p>\n</blockquote>\n<p>So:</p>\n<ul>\n<li>If you have an ordered stream, the first object wins. Any duplicate objects that follow are eliminated.</li>\n<li>If the stream is not ordered, then any of the objects may win. You should not depend on any particular one to win.</li>\n</ul>\n<p>You do not disclose what kind of stream you are using. So we cannot know if it is ordered or not. So we can provide no further insight.</p>\n<h1><code>equals</code> &amp; <code>hashCode</code> must share same logic</h1>\n<p>The implementations of <code>equals</code> and <code>hashCode</code> should always use the same logic. The  <code>hashCode</code> method should always be overridden along with <code>equals</code> to maintain the general contract between them, which is: <em>equal objects must have equal hash codes.</em></p>\n<p>If for equality you compare the <code>personId</code> field, then your hash code should be based on the <code>personId</code> field value.</p>\n<p>You did this correctly in your code. But, you could do so more simply by using <code>Objects.hash( this.id )</code>. See this alternate implementation of your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.distinct;\n\nimport java.util.List;\nimport java.util.Objects;\n\npublic final class Person\n{\n    private final Long id;\n    private final String name;\n    private final int age;\n    private final List &lt; String &gt; petNames;\n\n    public Person ( Long id , String name , int age , List &lt; String &gt; petNames )\n    {\n        this.id = id;\n        this.name = name;\n        this.age = age;\n        this.petNames = petNames;\n    }\n\n    public Long id ( ) { return id; }\n\n    public String name ( ) { return name; }\n\n    public int age ( ) { return age; }\n\n    public List &lt; String &gt; petNames ( ) { return petNames; }\n\n    @Override\n    public boolean equals ( final Object o )\n    {\n        if ( this == o ) { return true; }\n        if ( o == null || getClass() != o.getClass() ) { return false; }\n        Person person = ( Person ) o;\n        return id.equals( person.id );\n    }\n\n    @Override\n    public int hashCode ( )\n    {\n        return Objects.hash( this.id );\n    }\n\n    @Override\n    public String toString ( )\n    {\n        return &quot;Person[&quot; +\n                &quot;id=&quot; + this.id + &quot;, &quot; +\n                &quot;name=&quot; + this.name + &quot;, &quot; +\n                &quot;age=&quot; + this.age + &quot;, &quot; +\n                &quot;petNames=&quot; + this.petNames + ']';\n    }\n}\n</code></pre>\n<p>The issue of <code>equals</code> and <code>hashCode</code> needing to share the same logic is covered in the documentation, in the Java literature, and on Stack Overflow extensively. Search to learn more. Start <a href=\"https://stackoverflow.com/q/27581/642706\">here</a>.</p>\n<h1>Example</h1>\n<p>Here is an example app using that class above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.distinct;\n\nimport java.util.List;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        List &lt; Person &gt; persons =\n                List.of(\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; ) ) ,\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; , &quot;Cowboy&quot; ) ) ,\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; , &quot;Cowboy&quot; , &quot;Fido&quot; ) ) ,\n                        new Person( 2L , &quot;Jamie&quot; , 19 , List.of() ) ,\n                        new Person( 3L , &quot;Fred&quot; , 23 , List.of() )\n                );\n        List &lt; Person &gt; personsDistinct = persons.stream().distinct().toList();\n\n        System.out.println( &quot;persons = &quot; + persons );\n        System.out.println( &quot;personsDistinct = &quot; + personsDistinct );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>persons = [Person[id=1, name=Tim, age=28, petNames=[Brix]], Person[id=1, name=Tim, age=28, petNames=[Brix, Cowboy]], Person[id=1, name=Tim, age=28, petNames=[Brix, Cowboy, Fido]], Person[id=2, name=Jamie, age=19, petNames=[]], Person[id=3, name=Fred, age=23, petNames=[]]]</p>\n<p>personsDistinct = [Person[id=1, name=Tim, age=28, petNames=[Brix]], Person[id=2, name=Jamie, age=19, petNames=[]], Person[id=3, name=Fred, age=23, petNames=[]]]</p>\n</blockquote>\n<h1><code>record</code></h1>\n<p>Tip: If you want <strong>all the member fields to be considered automatically</strong> for <code>equals</code> &amp; <code>hashCode</code>, and the main purpose of your class is to <strong>communicate data transparently and immutably,</strong> define your class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<p>In a record, by default, the compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<p>Furthermore, you can define a record locally as well as define it as a nested class or as a separate class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person( Long id , String name , int age , List &lt; String &gt; petNames ) { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27224286,"reputation":9,"user_id":20753018,"display_name":"ZhenHong Fan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670913668,"creation_date":1670913668,"answer_id":74780881,"question_id":74780214,"body_markdown":"you could try to implement the &#39;Comparable&#39; interface and use `stream.sorted()` to sort the `list.size()` in the first place\r\n\r\nCode Example\r\n\r\n    public class Person implements Comparable&lt;Person&gt;\r\noverride `compareTo` method\r\n\r\n    @Override\r\n    public int compareTo(Person person) {\r\n        if (this.getPersonId().equals(person.getPersonId())) {\r\n            if (person.getPetNames().size() &gt; this.getPetNames().size()) {\r\n                return 1;\r\n            } else{\r\n                return -1;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\nfinally\r\n\r\n    peopleList.stream().sorted().distinct().collect(Collectors.toList())\r\nthanks","title":"How does Java&#39;s Stream.distinct() select which of the duplicates to use","body":"<p>you could try to implement the 'Comparable' interface and use <code>stream.sorted()</code> to sort the <code>list.size()</code> in the first place</p>\n<p>Code Example</p>\n<pre><code>public class Person implements Comparable&lt;Person&gt;\n</code></pre>\n<p>override <code>compareTo</code> method</p>\n<pre><code>@Override\npublic int compareTo(Person person) {\n    if (this.getPersonId().equals(person.getPersonId())) {\n        if (person.getPetNames().size() &gt; this.getPetNames().size()) {\n            return 1;\n        } else{\n            return -1;\n        }\n    }\n    return 0;\n}\n</code></pre>\n<p>finally</p>\n<pre><code>peopleList.stream().sorted().distinct().collect(Collectors.toList())\n</code></pre>\n<p>thanks</p>\n"}],"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673594785,"creation_date":1670907917,"question_id":74780214,"body_markdown":"In Java let&#39;s say I have a class called Person. It has four properties: \r\n\r\n1. Long personId\r\n1. String name\r\n1. int age\r\n1. List\\&lt;String\\&gt; petNames\r\n\r\nLet&#39;s say I have an array list variable of people called peopleList:\r\n\r\n1. personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix]\r\n2. personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix, Cowboy]\r\n3. personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix, Cowboy, Fido]\r\n4. personId: 2, name: &quot;Jamie&quot;, age: 19, petNames: []\r\n5. personId: 3, name: &quot;Fred&quot;, age: 23, petNames: []\r\n\r\nI override hashCode and equals of Person class to be this:\r\n``` java\r\n@Override\r\npublic int hashCode() {\r\n    final int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + personId.intValue();\r\n    return result;\r\n}\r\n\r\n@Override\r\npublic boolean equals(Object obj) {\r\n    System.out.println(&quot;Person equals method&quot;);\r\n    if (this == obj)\r\n        return true;\r\n    if (obj == null)\r\n        return false;\r\n    if (getClass() != obj.getClass())\r\n        return false;\r\n    Person other = (Person) obj;\r\n    if (personId != other.personId)\r\n        return false;\r\n    return true;\r\n}\r\n```\r\nAnd then I use `peopleList.stream().distinct().collect(Collectors.toList());` to remove duplicates. I was originally wrong, turns out it selects the first occurrence of Tim which is having only one pet and not the instance with all three pets. My original question though is: **Which instance does distinct() choose?** And that has been answered below.","title":"How does Java&#39;s Stream.distinct() select which of the duplicates to use","body":"<p>In Java let's say I have a class called Person. It has four properties:</p>\n<ol>\n<li>Long personId</li>\n<li>String name</li>\n<li>int age</li>\n<li>List&lt;String&gt; petNames</li>\n</ol>\n<p>Let's say I have an array list variable of people called peopleList:</p>\n<ol>\n<li>personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix]</li>\n<li>personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix, Cowboy]</li>\n<li>personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix, Cowboy, Fido]</li>\n<li>personId: 2, name: &quot;Jamie&quot;, age: 19, petNames: []</li>\n<li>personId: 3, name: &quot;Fred&quot;, age: 23, petNames: []</li>\n</ol>\n<p>I override hashCode and equals of Person class to be this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + personId.intValue();\n    return result;\n}\n\n@Override\npublic boolean equals(Object obj) {\n    System.out.println(&quot;Person equals method&quot;);\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    Person other = (Person) obj;\n    if (personId != other.personId)\n        return false;\n    return true;\n}\n</code></pre>\n<p>And then I use <code>peopleList.stream().distinct().collect(Collectors.toList());</code> to remove duplicates. I was originally wrong, turns out it selects the first occurrence of Tim which is having only one pet and not the instance with all three pets. My original question though is: <strong>Which instance does distinct() choose?</strong> And that has been answered below.</p>\n"},{"tags":["java","spring-boot","keycloak"],"answers":[{"tags":[],"owner":{"account_id":20672368,"reputation":108,"user_id":15177824,"display_name":"JustM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673594619,"creation_date":1673594619,"answer_id":75105991,"question_id":75097335,"body_markdown":"Check https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3 or https://www.baeldung.com/spring-boot-keycloak both resolved My problem with same issue ","title":"@KeycloakConfiguration implementing method missing","body":"<p>Check <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\">Use Keycloak Spring Adapter with Spring Boot 3</a> or <a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-keycloak</a> both resolved My problem with same issue</p>\n"}],"owner":{"account_id":27509229,"reputation":1,"user_id":20991445,"display_name":"fulvio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673642646,"answer_count":1,"score":0,"last_activity_date":1673594619,"creation_date":1673531440,"question_id":75097335,"body_markdown":"I&#39;m having issue about setting @KeycloakConfiguration, I watched keycloak&#39;s docs and it say that i have to create a class and set all the methods that are set in the documentation\r\n\r\nDocumentation Keycloak:\r\n\r\n```\r\n@KeycloakConfiguration\r\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter\r\n{\r\n    /**\r\n     * Registers the KeycloakAuthenticationProvider with the authentication manager.\r\n     */\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(keycloakAuthenticationProvider());\r\n    }\r\n\r\n    /**\r\n     * Defines the session authentication strategy.\r\n     */\r\n    @Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        return new RegisterSessionAuthenticationStrategy(buildSessionRegistry());\r\n    }\r\n\r\n    @Bean\r\n    protected SessionRegistry buildSessionRegistry() {\r\n        return new SessionRegistryImpl();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n        super.configure(http);\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/customers*&quot;).hasRole(&quot;USER&quot;)\r\n                .antMatchers(&quot;/admin*&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().permitAll();\r\n    }\r\n}\r\n```\r\n\r\nso i did, but when i copy and paste that in my class it says that i have to implements two more method of security configurer that are init(Builder:B) void and configure (Builder:B) void, other than that i already have a configure method.\r\n\r\nI saw in the Docs but doesn&#39;t specify what i have to do with these two methods, i would like to know if I&#39;m missing something or if is a feature of the last version of keycloak, the keycloak version that i&#39;m using is the 20.0.2\r\n\r\nmy dependecies are this:\r\n\r\n\r\n```\r\n &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;[enter image description here](https://i.stack.imgur.com/v2En6.png)\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\r\n            &lt;version&gt;20.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;20.0.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;```\r\n\r\n\r\n\r\n \r\n\r\n\r\nAs i say i would like to know what i have to do with these two methods","title":"@KeycloakConfiguration implementing method missing","body":"<p>I'm having issue about setting @KeycloakConfiguration, I watched keycloak's docs and it say that i have to create a class and set all the methods that are set in the documentation</p>\n<p>Documentation Keycloak:</p>\n<pre><code>@KeycloakConfiguration\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter\n{\n    /**\n     * Registers the KeycloakAuthenticationProvider with the authentication manager.\n     */\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(keycloakAuthenticationProvider());\n    }\n\n    /**\n     * Defines the session authentication strategy.\n     */\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(buildSessionRegistry());\n    }\n\n    @Bean\n    protected SessionRegistry buildSessionRegistry() {\n        return new SessionRegistryImpl();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        super.configure(http);\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/customers*&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/admin*&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().permitAll();\n    }\n}\n</code></pre>\n<p>so i did, but when i copy and paste that in my class it says that i have to implements two more method of security configurer that are init(Builder:B) void and configure (Builder:B) void, other than that i already have a configure method.</p>\n<p>I saw in the Docs but doesn't specify what i have to do with these two methods, i would like to know if I'm missing something or if is a feature of the last version of keycloak, the keycloak version that i'm using is the 20.0.2</p>\n<p>my dependecies are this:</p>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;[enter image description here](https://i.stack.imgur.com/v2En6.png)\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\n            &lt;version&gt;20.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;20.0.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;```\n\n\n\n \n\n\nAs i say i would like to know what i have to do with these two methods\n</code></pre>\n"},{"tags":["java","jasper-reports","jfreechart","ireport"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1673639062,"post_id":75101590,"comment_id":132552346,"body_markdown":"What requires `jcommon`? `jfreechart-1.5.4` does not.","body":"What requires <code>jcommon</code>? <code>jfreechart-1.5.4</code> does not."}],"owner":{"account_id":13509087,"reputation":103,"user_id":10441922,"display_name":"Markos Tzetzis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673594599,"creation_date":1673552983,"question_id":75101590,"body_markdown":"I am trying to customize the space between bars my BarChart with a customizer class.\r\nFollowing the documentation i created a customizer class \r\n\r\n**ChartCustomizer.java**\r\n\r\n    package com.example.jasper;\r\n\r\n    import net.sf.jasperreports.engine.JRChart;\r\n    import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.plot.CategoryPlot;\r\n    import org.jfree.chart.renderer.category.*;\r\n\r\n\r\n    public class ChartCustomizer extends JRAbstractChartCustomizer {\r\n\r\n        @Override\r\n        public void customize(JFreeChart chart, JRChart jasperChart){\r\n\r\n            CategoryPlot categoryPlot = chart.getCategoryPlot();\r\n            BarRenderer br = (BarRenderer) categoryPlot.getRenderer();\r\n\r\n            br.setItemMargin(2.0);\r\n        }\r\n    }\r\n\r\nI extracted the .jar of this on intellij including the needed libs\r\n\r\n 1. jfreechart-1.5.4 \r\n 2. jasperreports-5.6.1\r\n 3. jcommon-1.0.24\r\n\r\nI included the .jar file to the JasperReport classpath\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand i am using the full path name for the class \r\n[![enter image description here][2]][2]\r\n\r\nBUT still i get this error: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nI am missing something? \r\nThanks for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QJSJU.png\r\n  [2]: https://i.stack.imgur.com/smlys.png\r\n  [3]: https://i.stack.imgur.com/bG2G2.png","title":"Jasper Report: BarChart - ERROR Could not create chart customizer instance","body":"<p>I am trying to customize the space between bars my BarChart with a customizer class.\nFollowing the documentation i created a customizer class</p>\n<p><strong>ChartCustomizer.java</strong></p>\n<pre><code>package com.example.jasper;\n\nimport net.sf.jasperreports.engine.JRChart;\nimport net.sf.jasperreports.engine.JRAbstractChartCustomizer;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.renderer.category.*;\n\n\npublic class ChartCustomizer extends JRAbstractChartCustomizer {\n\n    @Override\n    public void customize(JFreeChart chart, JRChart jasperChart){\n\n        CategoryPlot categoryPlot = chart.getCategoryPlot();\n        BarRenderer br = (BarRenderer) categoryPlot.getRenderer();\n\n        br.setItemMargin(2.0);\n    }\n}\n</code></pre>\n<p>I extracted the .jar of this on intellij including the needed libs</p>\n<ol>\n<li>jfreechart-1.5.4</li>\n<li>jasperreports-5.6.1</li>\n<li>jcommon-1.0.24</li>\n</ol>\n<p>I included the .jar file to the JasperReport classpath</p>\n<p><a href=\"https://i.stack.imgur.com/QJSJU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QJSJU.png\" alt=\"enter image description here\" /></a></p>\n<p>and i am using the full path name for the class\n<a href=\"https://i.stack.imgur.com/smlys.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smlys.png\" alt=\"enter image description here\" /></a></p>\n<p>BUT still i get this error:</p>\n<p><a href=\"https://i.stack.imgur.com/bG2G2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bG2G2.png\" alt=\"enter image description here\" /></a></p>\n<p>I am missing something?\nThanks for your help.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1673594277,"post_id":75105909,"comment_id":132538419,"body_markdown":"There is no point to joining the same thread twice. `join()`ing a thread that is no longer running does nothing and returns immediately. Also, that code is invalid (`exception` isn&#39;t a type).","body":"There is no point to joining the same thread twice. <code>join()</code>ing a thread that is no longer running does nothing and returns immediately. Also, that code is invalid (<code>exception</code> isn&#39;t a type)."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1673594291,"post_id":75105909,"comment_id":132538420,"body_markdown":"For sure the empty catch block is a bad programming pattern and will hide if the second call to join fails.","body":"For sure the empty catch block is a bad programming pattern and will hide if the second call to join fails."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673595113,"post_id":75105909,"comment_id":132538613,"body_markdown":"What do you _expect_ `join` to do?","body":"What do you <i>expect</i> <code>join</code> to do?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1673615123,"post_id":75105909,"comment_id":132544663,"body_markdown":"@dan1st, OP is coming from C++ background. C++ requires that every `std::thread` instance must either be `join`ed exactly one time or it must be `detach`ed exactly one time.","body":"@dan1st, OP is coming from C++ background. C++ requires that every <code>std::thread</code> instance must either be <code>join</code>ed exactly one time or it must be <code>detach</code>ed exactly one time."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1673615312,"post_id":75105909,"comment_id":132544722,"body_markdown":"@web_zai, The best way to think about Java `join` is: It does _nothing._ It does absolutely nothing at all until the thread is finished, and then it returns. If the thread was already finished, then join does absolutely nothing at all.","body":"@web_zai, The best way to think about Java <code>join</code> is: It does <i>nothing.</i> It does absolutely nothing at all until the thread is finished, and then it returns. If the thread was already finished, then join does absolutely nothing at all."}],"owner":{"account_id":27505174,"reputation":1,"user_id":20988060,"display_name":"web_zai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673595608,"answer_count":0,"score":0,"last_activity_date":1673594498,"creation_date":1673594001,"question_id":75105909,"body_markdown":"I am new to java.\r\nWhen I review the codebase of my company, I see it do the thread join twice.\r\nSomething like this:\r\n\r\n```\r\nif (timeout) {\r\n    try {\r\n        this.join();\r\n        this.join();\r\n    } catch(exception e) {}\r\n }\r\n```\r\n\r\nAs I learned c/c++, thread will become unjoinable after joined.\r\nDoes anyone know what&#39;s the purpose of this ?\r\n\r\nThanks for help!!\r\n\r\n\r\nI tried ask somebody in my team, but they do not know for sure.","title":"Can thread join twice in java?","body":"<p>I am new to java.\nWhen I review the codebase of my company, I see it do the thread join twice.\nSomething like this:</p>\n<pre><code>if (timeout) {\n    try {\n        this.join();\n        this.join();\n    } catch(exception e) {}\n }\n</code></pre>\n<p>As I learned c/c++, thread will become unjoinable after joined.\nDoes anyone know what's the purpose of this ?</p>\n<p>Thanks for help!!</p>\n<p>I tried ask somebody in my team, but they do not know for sure.</p>\n"},{"tags":["java","android","coordinates","google-maps-android-api-2","point-in-polygon"],"comments":[{"owner":{"account_id":301127,"reputation":5471,"user_id":608667,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1358535239,"post_id":14405593,"comment_id":20045230,"body_markdown":"So to clarify, are you trying to figure out whether or not your touch occurred inside the geographic bounds of the polygon?","body":"So to clarify, are you trying to figure out whether or not your touch occurred inside the geographic bounds of the polygon?"}],"answers":[{"tags":[],"owner":{"account_id":301127,"reputation":5471,"user_id":608667,"accept_rate":75,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1358537720,"creation_date":1358536343,"answer_id":14405940,"question_id":14405593,"body_markdown":"The problem you&#39;re trying to solve is the [Point in Polygon][1] test.\r\n    \r\n&lt;blockquote&gt;\r\nTo help visualize the concept of Ray Casting:&lt;br&gt;&lt;br&gt;\r\nDraw a Polygon on a piece of paper.  Then, starting at any random point, draw a straight line to the right of the page.  If your line intersected with your polygon an odd number of times, this means your starting point was inside the Polygon.\r\n&lt;/blockquote&gt;\r\n&lt;br&gt;\r\nSo, how do you do that in code?\r\n\r\nYour polygon is comprised of a list of vertices:  `ArrayList&lt;Geopoint&gt; vertices`.  You need to look at each `Line Segment` individually, and see if your `Ray` intersects it\r\n\r\n    private boolean isPointInPolygon(Geopoint tap, ArrayList&lt;Geopoint&gt; vertices) {\r\n        int intersectCount = 0;\r\n        for(int j=0; j&lt;vertices.size()-1; j++) {\r\n            if( rayCastIntersect(tap, vertices.get(j), vertices.get(j+1)) ) {\r\n                intersectCount++;\r\n            }\r\n        }\r\n        \t\r\n        return (intersectCount%2) == 1); // odd = inside, even = outside;\r\n    }\r\n\r\n    private boolean rayCastIntersect(Geopoint tap, Geopoint vertA, Geopoint vertB) {\r\n    \t\r\n    \tdouble aY = vertA.getLatitude();\r\n    \tdouble bY = vertB.getLatitude();\r\n    \tdouble aX = vertA.getLongitude();\r\n    \tdouble bX = vertB.getLongitude();\r\n    \tdouble pY = tap.getLatitude();\r\n    \tdouble pX = tap.getLongitude();\r\n    \t\r\n    \tif ( (aY&gt;pY &amp;&amp; bY&gt;pY) || (aY&lt;pY &amp;&amp; bY&lt;pY) || (aX&lt;pX &amp;&amp; bX&lt;pX) ) {\r\n    \t\treturn false; // a and b can&#39;t both be above or below pt.y, and a or b must be east of pt.x\r\n    \t}\r\n    \t\r\n    \tdouble m = (aY-bY) / (aX-bX); \t\t\t\t// Rise over run\r\n    \tdouble bee = (-aX) * m + aY;  \t\t\t\t// y = mx + b\r\n    \tdouble x = (pY - bee) / m; \t                // algebra is neat!\r\n    \t\r\n    \treturn x &gt; pX;\r\n    }\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Point_in_polygon","title":"Polygon Touch detection Google Map API V2","body":"<p>The problem you're trying to solve is the <a href=\"http://en.wikipedia.org/wiki/Point_in_polygon\" rel=\"noreferrer\">Point in Polygon</a> test.</p>\n\n<blockquote>\nTo help visualize the concept of Ray Casting:<br><br>\nDraw a Polygon on a piece of paper.  Then, starting at any random point, draw a straight line to the right of the page.  If your line intersected with your polygon an odd number of times, this means your starting point was inside the Polygon.\n</blockquote>\n\n<p><br>\nSo, how do you do that in code?</p>\n\n<p>Your polygon is comprised of a list of vertices:  <code>ArrayList&lt;Geopoint&gt; vertices</code>.  You need to look at each <code>Line Segment</code> individually, and see if your <code>Ray</code> intersects it</p>\n\n<pre><code>private boolean isPointInPolygon(Geopoint tap, ArrayList&lt;Geopoint&gt; vertices) {\n    int intersectCount = 0;\n    for(int j=0; j&lt;vertices.size()-1; j++) {\n        if( rayCastIntersect(tap, vertices.get(j), vertices.get(j+1)) ) {\n            intersectCount++;\n        }\n    }\n\n    return (intersectCount%2) == 1); // odd = inside, even = outside;\n}\n\nprivate boolean rayCastIntersect(Geopoint tap, Geopoint vertA, Geopoint vertB) {\n\n    double aY = vertA.getLatitude();\n    double bY = vertB.getLatitude();\n    double aX = vertA.getLongitude();\n    double bX = vertB.getLongitude();\n    double pY = tap.getLatitude();\n    double pX = tap.getLongitude();\n\n    if ( (aY&gt;pY &amp;&amp; bY&gt;pY) || (aY&lt;pY &amp;&amp; bY&lt;pY) || (aX&lt;pX &amp;&amp; bX&lt;pX) ) {\n        return false; // a and b can't both be above or below pt.y, and a or b must be east of pt.x\n    }\n\n    double m = (aY-bY) / (aX-bX);               // Rise over run\n    double bee = (-aX) * m + aY;                // y = mx + b\n    double x = (pY - bee) / m;                  // algebra is neat!\n\n    return x &gt; pX;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1016877,"reputation":4098,"user_id":1028256,"accept_rate":43,"display_name":"Mixaz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1378379831,"creation_date":1378379831,"answer_id":18634895,"question_id":14405593,"body_markdown":"Just for consistency - onMapClick is not called when user taps on a polygon (or other overlay), and it&#39;s mentioned in javadoc.\r\n\r\nI made a workaround to intercept taps events before MapFragment handles them, and project point to map coordinates and check if the point is inside any polygon, as suggested in other answer.\r\n\r\nSee more details [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18445191/android-google-map-polygon-click-event","title":"Polygon Touch detection Google Map API V2","body":"<p>Just for consistency - onMapClick is not called when user taps on a polygon (or other overlay), and it's mentioned in javadoc.</p>\n\n<p>I made a workaround to intercept taps events before MapFragment handles them, and project point to map coordinates and check if the point is inside any polygon, as suggested in other answer.</p>\n\n<p>See more details <a href=\"https://stackoverflow.com/questions/18445191/android-google-map-polygon-click-event\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1629667,"reputation":666,"user_id":1504495,"accept_rate":86,"display_name":"user1504495"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1431355690,"creation_date":1431355690,"answer_id":30170825,"question_id":14405593,"body_markdown":"The Google Maps Support library now has a static method that does this check for you:\r\n\r\n    PolyUtil.containsLocation(LatLng point, List&lt;LatLng&gt;polygon, boolean geodesic);\r\n\r\nAlthough the docs don&#39;t mention it explicitly in the guide the method is there\r\n\r\n[Maps Support Library docs][1]\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android/utility/","title":"Polygon Touch detection Google Map API V2","body":"<p>The Google Maps Support library now has a static method that does this check for you:</p>\n\n<pre><code>PolyUtil.containsLocation(LatLng point, List&lt;LatLng&gt;polygon, boolean geodesic);\n</code></pre>\n\n<p>Although the docs don't mention it explicitly in the guide the method is there</p>\n\n<p><a href=\"https://developers.google.com/maps/documentation/android/utility/\">Maps Support Library docs</a></p>\n"},{"tags":[],"owner":{"account_id":1862982,"reputation":2053,"user_id":1687169,"display_name":"whizzle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436483392,"creation_date":1436483392,"answer_id":31329842,"question_id":14405593,"body_markdown":"Here&#39;s a full working example to know if a touch happened on a polygon. Some of the answers are more complicated than they need to be. This solution uses the &quot;android-maps-utils&quot; \r\n\r\n\r\n\r\n    // compile &#39;com.google.maps.android:android-maps-utils:0.3.4&#39;\r\n    private ArrayList&lt;Polygon&gt; polygonList = new ArrayList&lt;&gt;();\r\n\r\n    private void addMyPolygons() {\r\n        PolygonOptions options = new PolygonOptions();\r\n        // TODO: make your polygon&#39;s however you want\r\n        Polygon polygon = googleMap.addPolygon(options);\r\n        polygonList.add(polygon);\r\n    }\r\n\r\n    @Override\r\n\tpublic void onMapClick(LatLng point) {\r\n\t\tboolean contains = false;\r\n\t\tfor (Polygon p : polygonList) {\r\n\t\t\tcontains = PolyUtil.containsLocation(point, p.getPoints(), false);\r\n\t\t\tif (contains) break;\r\n\t\t}\r\n\t\tToast.makeText(getActivity(), &quot;Click in polygon? &quot;\r\n\t\t\t\t+ contains, Toast.LENGTH_SHORT).show();\r\n\t}\r\n\r\n    @Override\r\n\tprotected void onMapReady(View view, Bundle savedInstanceState) {\r\n\t\tgoogleMap.setOnMapClickListener(this);\r\n\t\taddMyPolygons();\r\n\t}","title":"Polygon Touch detection Google Map API V2","body":"<p>Here's a full working example to know if a touch happened on a polygon. Some of the answers are more complicated than they need to be. This solution uses the \"android-maps-utils\" </p>\n\n<pre><code>// compile 'com.google.maps.android:android-maps-utils:0.3.4'\nprivate ArrayList&lt;Polygon&gt; polygonList = new ArrayList&lt;&gt;();\n\nprivate void addMyPolygons() {\n    PolygonOptions options = new PolygonOptions();\n    // TODO: make your polygon's however you want\n    Polygon polygon = googleMap.addPolygon(options);\n    polygonList.add(polygon);\n}\n\n@Override\npublic void onMapClick(LatLng point) {\n    boolean contains = false;\n    for (Polygon p : polygonList) {\n        contains = PolyUtil.containsLocation(point, p.getPoints(), false);\n        if (contains) break;\n    }\n    Toast.makeText(getActivity(), \"Click in polygon? \"\n            + contains, Toast.LENGTH_SHORT).show();\n}\n\n@Override\nprotected void onMapReady(View view, Bundle savedInstanceState) {\n    googleMap.setOnMapClickListener(this);\n    addMyPolygons();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2343554,"reputation":4272,"user_id":2054348,"accept_rate":50,"display_name":"Sagar Shah"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439470720,"creation_date":1439469424,"answer_id":31988461,"question_id":14405593,"body_markdown":"Though user1504495 has answered in short as I have used it. But instead of using whole [Map Utility Library][1] Use this methods.\r\n\r\nFrom your activity class pass params accordingly:\r\n\r\n    if (area.containsLocation(Touchablelatlong, listLatlong, true))\r\n                    isMarkerINSide = true;\r\n                else\r\n                    isMarkerINSide = false;\r\n\r\n and put following  in a Separate class :\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android/utility/\r\n\r\n\r\n    /**\r\n         * Computes whether the given point lies inside the specified polygon.\r\n         * The polygon is always cosidered closed, regardless of whether the last point equals\r\n         * the first or not.\r\n         * Inside is defined as not containing the South Pole -- the South Pole is always outside.\r\n         * The polygon is formed of great circle segments if geodesic is true, and of rhumb\r\n         * (loxodromic) segments otherwise.\r\n         */\r\n        public static boolean containsLocation(LatLng point, List&lt;LatLng&gt; polygon, boolean geodesic) {\r\n            final int size = polygon.size();\r\n            if (size == 0) {\r\n                return false;\r\n            }\r\n            double lat3 = toRadians(point.latitude);\r\n            double lng3 = toRadians(point.longitude);\r\n            LatLng prev = polygon.get(size - 1);\r\n            double lat1 = toRadians(prev.latitude);\r\n            double lng1 = toRadians(prev.longitude);\r\n            int nIntersect = 0;\r\n            for (LatLng point2 : polygon) {\r\n                double dLng3 = wrap(lng3 - lng1, -PI, PI);\r\n                // Special case: point equal to vertex is inside.\r\n                if (lat3 == lat1 &amp;&amp; dLng3 == 0) {\r\n                    return true;\r\n                }\r\n                double lat2 = toRadians(point2.latitude);\r\n                double lng2 = toRadians(point2.longitude);\r\n                // Offset longitudes by -lng1.\r\n                if (intersects(lat1, lat2, wrap(lng2 - lng1, -PI, PI), lat3, dLng3, geodesic)) {\r\n                    ++nIntersect;\r\n                }\r\n                lat1 = lat2;\r\n                lng1 = lng2;\r\n            }\r\n            return (nIntersect &amp; 1) != 0;\r\n        }\r\n    \r\n        /**\r\n         * Wraps the given value into the inclusive-exclusive interval between min and max.\r\n         * @param n   The value to wrap.\r\n         * @param min The minimum.\r\n         * @param max The maximum.\r\n         */\r\n        static double wrap(double n, double min, double max) {\r\n            return (n &gt;= min &amp;&amp; n &lt; max) ? n : (mod(n - min, max - min) + min);\r\n        }\r\n    \r\n        /**\r\n         * Returns the non-negative remainder of x / m.\r\n         * @param x The operand.\r\n         * @param m The modulus.\r\n         */\r\n        static double mod(double x, double m) {\r\n            return ((x % m) + m) % m;\r\n        }\r\n    \r\n        /**\r\n         * Computes whether the vertical segment (lat3, lng3) to South Pole intersects the segment\r\n         * (lat1, lng1) to (lat2, lng2).\r\n         * Longitudes are offset by -lng1; the implicit lng1 becomes 0.\r\n         */\r\n        private static boolean intersects(double lat1, double lat2, double lng2,\r\n                                          double lat3, double lng3, boolean geodesic) {\r\n            // Both ends on the same side of lng3.\r\n            if ((lng3 &gt;= 0 &amp;&amp; lng3 &gt;= lng2) || (lng3 &lt; 0 &amp;&amp; lng3 &lt; lng2)) {\r\n                return false;\r\n            }\r\n            // Point is South Pole.\r\n            if (lat3 &lt;= -PI/2) {\r\n                return false;\r\n            }\r\n            // Any segment end is a pole.\r\n            if (lat1 &lt;= -PI/2 || lat2 &lt;= -PI/2 || lat1 &gt;= PI/2 || lat2 &gt;= PI/2) {\r\n                return false;\r\n            }\r\n            if (lng2 &lt;= -PI) {\r\n                return false;\r\n            }\r\n            double linearLat = (lat1 * (lng2 - lng3) + lat2 * lng3) / lng2;\r\n            // Northern hemisphere and point under lat-lng line.\r\n            if (lat1 &gt;= 0 &amp;&amp; lat2 &gt;= 0 &amp;&amp; lat3 &lt; linearLat) {\r\n                return false;\r\n            }\r\n            // Southern hemisphere and point above lat-lng line.\r\n            if (lat1 &lt;= 0 &amp;&amp; lat2 &lt;= 0 &amp;&amp; lat3 &gt;= linearLat) {\r\n                return true;\r\n            }\r\n            // North Pole.\r\n            if (lat3 &gt;= PI/2) {\r\n                return true;\r\n            }\r\n            // Compare lat3 with latitude on the GC/Rhumb segment corresponding to lng3.\r\n            // Compare through a strictly-increasing function (tan() or mercator()) as convenient.\r\n            return geodesic ?\r\n                    tan(lat3) &gt;= tanLatGC(lat1, lat2, lng2, lng3) :\r\n                    mercator(lat3) &gt;= mercatorLatRhumb(lat1, lat2, lng2, lng3);\r\n        }\r\n    \r\n        /**\r\n         * Returns tan(latitude-at-lng3) on the great circle (lat1, lng1) to (lat2, lng2). lng1==0.\r\n         * See http://williams.best.vwh.net/avform.htm .\r\n         */\r\n        private static double tanLatGC(double lat1, double lat2, double lng2, double lng3) {\r\n            return (tan(lat1) * sin(lng2 - lng3) + tan(lat2) * sin(lng3)) / sin(lng2);\r\n        }\r\n    \r\n        /**\r\n         * Returns mercator Y corresponding to latitude.\r\n         * See http://en.wikipedia.org/wiki/Mercator_projection .\r\n         */\r\n        static double mercator(double lat) {\r\n            return log(tan(lat * 0.5 + PI/4));\r\n        }\r\n    \r\n        /**\r\n         * Returns mercator(latitude-at-lng3) on the Rhumb line (lat1, lng1) to (lat2, lng2). lng1==0.\r\n         */\r\n        private static double mercatorLatRhumb(double lat1, double lat2, double lng2, double lng3) {\r\n            return (mercator(lat1) * (lng2 - lng3) + mercator(lat2) * lng3) / lng2;\r\n        } \r\n\r\n","title":"Polygon Touch detection Google Map API V2","body":"<p>Though user1504495 has answered in short as I have used it. But instead of using whole <a href=\"https://developers.google.com/maps/documentation/android/utility/\" rel=\"nofollow\">Map Utility Library</a> Use this methods.</p>\n\n<p>From your activity class pass params accordingly:</p>\n\n<pre><code>if (area.containsLocation(Touchablelatlong, listLatlong, true))\n                isMarkerINSide = true;\n            else\n                isMarkerINSide = false;\n</code></pre>\n\n<p>and put following  in a Separate class :</p>\n\n<pre><code>/**\n     * Computes whether the given point lies inside the specified polygon.\n     * The polygon is always cosidered closed, regardless of whether the last point equals\n     * the first or not.\n     * Inside is defined as not containing the South Pole -- the South Pole is always outside.\n     * The polygon is formed of great circle segments if geodesic is true, and of rhumb\n     * (loxodromic) segments otherwise.\n     */\n    public static boolean containsLocation(LatLng point, List&lt;LatLng&gt; polygon, boolean geodesic) {\n        final int size = polygon.size();\n        if (size == 0) {\n            return false;\n        }\n        double lat3 = toRadians(point.latitude);\n        double lng3 = toRadians(point.longitude);\n        LatLng prev = polygon.get(size - 1);\n        double lat1 = toRadians(prev.latitude);\n        double lng1 = toRadians(prev.longitude);\n        int nIntersect = 0;\n        for (LatLng point2 : polygon) {\n            double dLng3 = wrap(lng3 - lng1, -PI, PI);\n            // Special case: point equal to vertex is inside.\n            if (lat3 == lat1 &amp;&amp; dLng3 == 0) {\n                return true;\n            }\n            double lat2 = toRadians(point2.latitude);\n            double lng2 = toRadians(point2.longitude);\n            // Offset longitudes by -lng1.\n            if (intersects(lat1, lat2, wrap(lng2 - lng1, -PI, PI), lat3, dLng3, geodesic)) {\n                ++nIntersect;\n            }\n            lat1 = lat2;\n            lng1 = lng2;\n        }\n        return (nIntersect &amp; 1) != 0;\n    }\n\n    /**\n     * Wraps the given value into the inclusive-exclusive interval between min and max.\n     * @param n   The value to wrap.\n     * @param min The minimum.\n     * @param max The maximum.\n     */\n    static double wrap(double n, double min, double max) {\n        return (n &gt;= min &amp;&amp; n &lt; max) ? n : (mod(n - min, max - min) + min);\n    }\n\n    /**\n     * Returns the non-negative remainder of x / m.\n     * @param x The operand.\n     * @param m The modulus.\n     */\n    static double mod(double x, double m) {\n        return ((x % m) + m) % m;\n    }\n\n    /**\n     * Computes whether the vertical segment (lat3, lng3) to South Pole intersects the segment\n     * (lat1, lng1) to (lat2, lng2).\n     * Longitudes are offset by -lng1; the implicit lng1 becomes 0.\n     */\n    private static boolean intersects(double lat1, double lat2, double lng2,\n                                      double lat3, double lng3, boolean geodesic) {\n        // Both ends on the same side of lng3.\n        if ((lng3 &gt;= 0 &amp;&amp; lng3 &gt;= lng2) || (lng3 &lt; 0 &amp;&amp; lng3 &lt; lng2)) {\n            return false;\n        }\n        // Point is South Pole.\n        if (lat3 &lt;= -PI/2) {\n            return false;\n        }\n        // Any segment end is a pole.\n        if (lat1 &lt;= -PI/2 || lat2 &lt;= -PI/2 || lat1 &gt;= PI/2 || lat2 &gt;= PI/2) {\n            return false;\n        }\n        if (lng2 &lt;= -PI) {\n            return false;\n        }\n        double linearLat = (lat1 * (lng2 - lng3) + lat2 * lng3) / lng2;\n        // Northern hemisphere and point under lat-lng line.\n        if (lat1 &gt;= 0 &amp;&amp; lat2 &gt;= 0 &amp;&amp; lat3 &lt; linearLat) {\n            return false;\n        }\n        // Southern hemisphere and point above lat-lng line.\n        if (lat1 &lt;= 0 &amp;&amp; lat2 &lt;= 0 &amp;&amp; lat3 &gt;= linearLat) {\n            return true;\n        }\n        // North Pole.\n        if (lat3 &gt;= PI/2) {\n            return true;\n        }\n        // Compare lat3 with latitude on the GC/Rhumb segment corresponding to lng3.\n        // Compare through a strictly-increasing function (tan() or mercator()) as convenient.\n        return geodesic ?\n                tan(lat3) &gt;= tanLatGC(lat1, lat2, lng2, lng3) :\n                mercator(lat3) &gt;= mercatorLatRhumb(lat1, lat2, lng2, lng3);\n    }\n\n    /**\n     * Returns tan(latitude-at-lng3) on the great circle (lat1, lng1) to (lat2, lng2). lng1==0.\n     * See http://williams.best.vwh.net/avform.htm .\n     */\n    private static double tanLatGC(double lat1, double lat2, double lng2, double lng3) {\n        return (tan(lat1) * sin(lng2 - lng3) + tan(lat2) * sin(lng3)) / sin(lng2);\n    }\n\n    /**\n     * Returns mercator Y corresponding to latitude.\n     * See http://en.wikipedia.org/wiki/Mercator_projection .\n     */\n    static double mercator(double lat) {\n        return log(tan(lat * 0.5 + PI/4));\n    }\n\n    /**\n     * Returns mercator(latitude-at-lng3) on the Rhumb line (lat1, lng1) to (lat2, lng2). lng1==0.\n     */\n    private static double mercatorLatRhumb(double lat1, double lat2, double lng2, double lng3) {\n        return (mercator(lat1) * (lng2 - lng3) + mercator(lat2) * lng3) / lng2;\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1450796989,"creation_date":1450796664,"answer_id":34418732,"question_id":14405593,"body_markdown":"With the [release of Google Play Services 8.4.0][1], the Maps API has included support for adding an [`OnPolygonClickListener`][2] to Polygons. Both [polygons][3], [polylines][4] and [overlays][5] support similar events.\r\n\r\nYou just need to call [`GoogleMap.setOnPolygonClickListener(OnPolygonClickListener listener)`][6] to set it up, and correspondingly for the other listeners (`setOnPolylineClickListener`, &amp;c):\r\n\r\n    map.setOnPolygonClickListener(new GoogleMap.OnPolygonClickListener() {  \r\n        @Override  \r\n        public void onPolygonClick(Polygon polygon) {  \r\n            // Handle click ...  \r\n        }  \r\n    });  \r\n\r\nAlthough a bit late, it solves this use case quite nicely.\r\n\r\n\r\n  [1]: http://android-developers.blogspot.com/2015/12/google-play-services-84-sdk-is-available_18.html\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnPolygonClickListener\r\n  [3]: https://developers.google.com/maps/documentation/android-api/shapes#polygon_events\r\n  [4]: https://developers.google.com/maps/documentation/android-api/shapes#polyline_events\r\n  [5]: https://developers.google.com/maps/documentation/android-api/groundoverlay#handle_ground_overlay_events\r\n  [6]: https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.html#setOnPolygonClickListener%28com.google.android.gms.maps.GoogleMap.OnPolygonClickListener%29","title":"Polygon Touch detection Google Map API V2","body":"<p>With the <a href=\"http://android-developers.blogspot.com/2015/12/google-play-services-84-sdk-is-available_18.html\" rel=\"noreferrer\">release of Google Play Services 8.4.0</a>, the Maps API has included support for adding an <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnPolygonClickListener\" rel=\"noreferrer\"><code>OnPolygonClickListener</code></a> to Polygons. Both <a href=\"https://developers.google.com/maps/documentation/android-api/shapes#polygon_events\" rel=\"noreferrer\">polygons</a>, <a href=\"https://developers.google.com/maps/documentation/android-api/shapes#polyline_events\" rel=\"noreferrer\">polylines</a> and <a href=\"https://developers.google.com/maps/documentation/android-api/groundoverlay#handle_ground_overlay_events\" rel=\"noreferrer\">overlays</a> support similar events.</p>\n\n<p>You just need to call <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.html#setOnPolygonClickListener%28com.google.android.gms.maps.GoogleMap.OnPolygonClickListener%29\" rel=\"noreferrer\"><code>GoogleMap.setOnPolygonClickListener(OnPolygonClickListener listener)</code></a> to set it up, and correspondingly for the other listeners (<code>setOnPolylineClickListener</code>, &amp;c):</p>\n\n<pre><code>map.setOnPolygonClickListener(new GoogleMap.OnPolygonClickListener() {  \n    @Override  \n    public void onPolygonClick(Polygon polygon) {  \n        // Handle click ...  \n    }  \n});  \n</code></pre>\n\n<p>Although a bit late, it solves this use case quite nicely.</p>\n"},{"tags":[],"owner":{"account_id":27517294,"reputation":1,"user_id":20998016,"display_name":"kshitiz_s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673594297,"creation_date":1673594297,"answer_id":75105950,"question_id":14405593,"body_markdown":"I know I am posting this very late but I had some issue with the answer posted here, so I studied both the top answers and an [article](https://www.geeksforgeeks.org/how-to-check-if-a-given-point-lies-inside-a-polygon/) (which I think is the origin of this method) and modified [Matt Answer](https://stackoverflow.com/a/14405940) to compile something that works best for me.\r\n\r\nProblem with [Matt Answer](https://stackoverflow.com/a/14405940): It doesn&#39;t calculate the last line of polygon (i.e. one created by the last vertex and the first vertex)\r\n\r\nProblem with [Dwill Answer](https://stackoverflow.com/q/14405593): It seems complex and daunting especially when you are already frustrated on how to make things work\r\n\r\nOther checks I have added:\r\n - Checked if a polygon is actually created\r\n - Checked if any side of polygon is parallel to y-axis\r\n\r\nI have tried to comment and explain as much I as I could hope this would be helpful for someone\r\n\r\nOne more thing, this is written in Dart and mainly focused on finding if current position is inside a geofence.\r\n\r\n```dart\r\nFuture&lt;bool&gt; checkIfLocationIsInsideBoundary({\r\n  required LatLng positionToCheck,\r\n  required List&lt;LatLng&gt; boundaryVertices,\r\n}) async {\r\n\r\n  // If there are less than 3 points then there will be no polygon\r\n  if (boundaryVertices.length &lt; 3) return false;\r\n\r\n  int intersectCount = 0;\r\n  // Check Ray-cast for lines created by all the vertices in our List\r\n  for (int j = 0; j &lt; boundaryVertices.length - 1; j++) {\r\n    if (_rayCastIntersect(\r\n      positionToCheck,\r\n      boundaryVertices[j],\r\n      boundaryVertices[j + 1],\r\n    )) {\r\n      intersectCount++;\r\n    }\r\n  }\r\n  // Check for line created by the last vertex and the first vertex of the List\r\n  if (_rayCastIntersect(\r\n    positionToCheck,\r\n    boundaryVertices.last,\r\n    boundaryVertices.first,\r\n  )) {\r\n    intersectCount++;\r\n  }\r\n\r\n  // If our point is inside the polygon they will always intersect odd number of\r\n  // times, else they will intersect even number of times\r\n  return (intersectCount % 2) == 1; // odd = inside, even = outside\r\n}\r\n\r\nbool _rayCastIntersect(LatLng point, LatLng vertA, LatLng vertB) {\r\n  final double aY = vertA.latitude;\r\n  final double bY = vertB.latitude;\r\n  final double aX = vertA.longitude;\r\n  final double bX = vertB.longitude;\r\n  final double pY = point.latitude;\r\n  final double pX = point.longitude;\r\n\r\n  // If vertices A and B are both above our point P then obviously the line made\r\n  // by A and B cannot intersect with ray-cast of P. Note: Only y-coordinates of\r\n  // each points can be used to check this.\r\n  if (aY &gt; pY &amp;&amp; bY &gt; pY) return false;\r\n\r\n  // If vertices A and B are both below our point P then obviously the line made\r\n  // by A and B cannot intersect with ray-cast of P. Note: Only y-coordinates of\r\n  // each points can be used to check this.\r\n  if (aY &lt; pY &amp;&amp; bY &lt; pY) return false;\r\n\r\n  // Since we will be casting ray on east side from our point P, at least one of\r\n  // the vertex (either A or B) must be east of P else line made by A nd B\r\n  // cannot intersect with ray-cast of P. Note: Only x-coordinates of each\r\n  // points can be used to check this.\r\n  if (aY &lt; pY &amp;&amp; bY &lt; pY) return false;\r\n\r\n  // If line made by vertices is parallel to Y-axis then we will get\r\n  // &#39;Divided by zero` exception when calculating slope. In such case we can\r\n  // only check if the line is on the east or the west relative to our point. If\r\n  // it is on the east we count is as intersection. Note: we can be sure our\r\n  // ray-cast will intersect the line because it is a vertical line, our\r\n  // ray-cast is horizontal and finally we already made sure that both the\r\n  // vertices are neither above nor below our point. Finally, since `aX == bX`\r\n  // we can check if either aX or bX is on the right/east of pX\r\n  if (aX == bX) return aX &gt; pX;\r\n\r\n  // Calculate slope of the line `m` made by vertices A and B using the formula\r\n  // `m = (y2-y1) / (x2-x1)`\r\n  final double m = (aY - bY) / (aX - bX); // Rise over run\r\n\r\n  // Calculate the value of y-intersect `b` using the equation of line\r\n  final double b = aY - (aX * m); // y = mx + b =&gt; b = y - mx\r\n\r\n  // Now we translate our point P along X-axis such that it intersects our line.\r\n  // This means we can pluck y-coordinate of our point P into the equation of\r\n  // our line and calculate a new x-coordinate\r\n  final double x = (pY - b) / m; // y = mx + b =&gt; x = (y - b) / m\r\n\r\n  // Till now we have only calculated this new translated point but we don&#39;t\r\n  // know if this point was translated towards west(left) of towards\r\n  // east(right). This can be determined in the same way as we have done above,\r\n  // if the x-coordinate of this new point is greater than x-coordinate of our\r\n  // original point then it has shifted east, which means it has intersected our\r\n  // line\r\n  return x &gt; pX;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Polygon Touch detection Google Map API V2","body":"<p>I know I am posting this very late but I had some issue with the answer posted here, so I studied both the top answers and an <a href=\"https://www.geeksforgeeks.org/how-to-check-if-a-given-point-lies-inside-a-polygon/\" rel=\"nofollow noreferrer\">article</a> (which I think is the origin of this method) and modified <a href=\"https://stackoverflow.com/a/14405940\">Matt Answer</a> to compile something that works best for me.</p>\n<p>Problem with <a href=\"https://stackoverflow.com/a/14405940\">Matt Answer</a>: It doesn't calculate the last line of polygon (i.e. one created by the last vertex and the first vertex)</p>\n<p>Problem with <a href=\"https://stackoverflow.com/q/14405593\">Dwill Answer</a>: It seems complex and daunting especially when you are already frustrated on how to make things work</p>\n<p>Other checks I have added:</p>\n<ul>\n<li>Checked if a polygon is actually created</li>\n<li>Checked if any side of polygon is parallel to y-axis</li>\n</ul>\n<p>I have tried to comment and explain as much I as I could hope this would be helpful for someone</p>\n<p>One more thing, this is written in Dart and mainly focused on finding if current position is inside a geofence.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;bool&gt; checkIfLocationIsInsideBoundary({\n  required LatLng positionToCheck,\n  required List&lt;LatLng&gt; boundaryVertices,\n}) async {\n\n  // If there are less than 3 points then there will be no polygon\n  if (boundaryVertices.length &lt; 3) return false;\n\n  int intersectCount = 0;\n  // Check Ray-cast for lines created by all the vertices in our List\n  for (int j = 0; j &lt; boundaryVertices.length - 1; j++) {\n    if (_rayCastIntersect(\n      positionToCheck,\n      boundaryVertices[j],\n      boundaryVertices[j + 1],\n    )) {\n      intersectCount++;\n    }\n  }\n  // Check for line created by the last vertex and the first vertex of the List\n  if (_rayCastIntersect(\n    positionToCheck,\n    boundaryVertices.last,\n    boundaryVertices.first,\n  )) {\n    intersectCount++;\n  }\n\n  // If our point is inside the polygon they will always intersect odd number of\n  // times, else they will intersect even number of times\n  return (intersectCount % 2) == 1; // odd = inside, even = outside\n}\n\nbool _rayCastIntersect(LatLng point, LatLng vertA, LatLng vertB) {\n  final double aY = vertA.latitude;\n  final double bY = vertB.latitude;\n  final double aX = vertA.longitude;\n  final double bX = vertB.longitude;\n  final double pY = point.latitude;\n  final double pX = point.longitude;\n\n  // If vertices A and B are both above our point P then obviously the line made\n  // by A and B cannot intersect with ray-cast of P. Note: Only y-coordinates of\n  // each points can be used to check this.\n  if (aY &gt; pY &amp;&amp; bY &gt; pY) return false;\n\n  // If vertices A and B are both below our point P then obviously the line made\n  // by A and B cannot intersect with ray-cast of P. Note: Only y-coordinates of\n  // each points can be used to check this.\n  if (aY &lt; pY &amp;&amp; bY &lt; pY) return false;\n\n  // Since we will be casting ray on east side from our point P, at least one of\n  // the vertex (either A or B) must be east of P else line made by A nd B\n  // cannot intersect with ray-cast of P. Note: Only x-coordinates of each\n  // points can be used to check this.\n  if (aY &lt; pY &amp;&amp; bY &lt; pY) return false;\n\n  // If line made by vertices is parallel to Y-axis then we will get\n  // 'Divided by zero` exception when calculating slope. In such case we can\n  // only check if the line is on the east or the west relative to our point. If\n  // it is on the east we count is as intersection. Note: we can be sure our\n  // ray-cast will intersect the line because it is a vertical line, our\n  // ray-cast is horizontal and finally we already made sure that both the\n  // vertices are neither above nor below our point. Finally, since `aX == bX`\n  // we can check if either aX or bX is on the right/east of pX\n  if (aX == bX) return aX &gt; pX;\n\n  // Calculate slope of the line `m` made by vertices A and B using the formula\n  // `m = (y2-y1) / (x2-x1)`\n  final double m = (aY - bY) / (aX - bX); // Rise over run\n\n  // Calculate the value of y-intersect `b` using the equation of line\n  final double b = aY - (aX * m); // y = mx + b =&gt; b = y - mx\n\n  // Now we translate our point P along X-axis such that it intersects our line.\n  // This means we can pluck y-coordinate of our point P into the equation of\n  // our line and calculate a new x-coordinate\n  final double x = (pY - b) / m; // y = mx + b =&gt; x = (y - b) / m\n\n  // Till now we have only calculated this new translated point but we don't\n  // know if this point was translated towards west(left) of towards\n  // east(right). This can be determined in the same way as we have done above,\n  // if the x-coordinate of this new point is greater than x-coordinate of our\n  // original point then it has shifted east, which means it has intersected our\n  // line\n  return x &gt; pX;\n}\n</code></pre>\n"}],"owner":{"account_id":1715225,"reputation":506,"user_id":1572452,"accept_rate":74,"display_name":"Dwill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16859,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":14405940,"answer_count":7,"score":15,"last_activity_date":1673594297,"creation_date":1358534922,"question_id":14405593,"body_markdown":"I&#39;m trying to figure out how best to do this, I have a map with one `Polygon` drawn on it. Since it doesn&#39;t seem as though the Google Maps API V2 has a touch detection on a Polygon. I was wonder if it is possible to detect whether the touch point is inside the Polygon? If so then how, my main goal is to outline a state on a map and when the user taps that state it will show more details inside a custom view. As of now I am able to capture the `MapOnClick` of the map but when the user taps inside the `Polygon` I want the `polygon.getID()` set on the `Toast`. I am a newbie so I apologize if I am not clear enough.\r\n \r\n\r\n    googleMap.setOnMapClickListener(new OnMapClickListener() \r\n        {\r\n            public void onMapClick(LatLng point) \r\n            {\r\n            boolean checkPoly = true;\r\n              \r\n            Toast.makeText(MainActivity.this,&quot;The Location is outside of the Area&quot;, Toast.LENGTH_LONG).show();\r\n            }    \r\n         });\r\n         }\r\n         }\r\n       catch (Exception e) {\r\n             Log.e(&quot;APP&quot;,&quot;Failed&quot;, e);\r\n         }    \r\n\r\nOk this is what I have semi-working so far\r\n\r\n    \tprivate boolean rayCastIntersect(LatLng tap, LatLng vertA, LatLng vertB) {\r\n\r\n\t\tdouble aY = vertA.latitude;\r\n\t\tdouble bY = vertB.latitude;\r\n\t\tdouble aX = vertA.longitude;\r\n\t\tdouble bX = vertB.longitude;\r\n\t\tdouble pY = tap.latitude;\r\n\t\tdouble pX = tap.longitude;\r\n\t\t if (aY &gt; bY) {\r\n\t\t        aX = vertB.longitude;\r\n\t\t        aY = vertB.latitude;\r\n\t\t        bX = vertA.longitude;\r\n\t\t        bX = vertA.latitude;\r\n\t\t    }\r\n\t\tSystem.out.println(&quot;aY: &quot;+aY+&quot; aX : &quot;+aX);\r\n\t\tSystem.out.println(&quot;bY: &quot;+bY+&quot; bX : &quot;+bX);\r\n\t\t\r\n\t\t if (pX &lt; 0) pX += 360;\r\n\t        if (aX &lt; 0) aX += 360;\r\n\t        if (bX &lt; 0) bX += 360;\r\n\t        \r\n\t        if (pY == aY || pY == bY) pY += 0.00000001;\r\n\t        if ((pY &gt; bY || pY &lt; aY) || (pX &gt; Math.max(aX, bX))) return false;\r\n\t        if (pX &lt; Math.min(aX, bX))\r\n\t        \t\r\n\t        \treturn true;\r\n\t//\t}\r\n\r\n\t\tdouble m = (aX != bX) ? ((bY - aY) / (bX - aX)) : aX;\r\n\t\tdouble bee = (aX != pX) ? ((pY - aY) / (pX - aX)) : aX;\r\n\t\tdouble x = (pY - bee) / m;\r\n\r\n\t\treturn x &gt; pX;\r\n\t}\r\n\r\n }\r\n\r\nThe issue that I am having is the touch is true to the left of each polygon until it reaches another one. What&#39;s wrong with my algorithm that would cause this issue? Any help would be appreciated.","title":"Polygon Touch detection Google Map API V2","body":"<p>I'm trying to figure out how best to do this, I have a map with one <code>Polygon</code> drawn on it. Since it doesn't seem as though the Google Maps API V2 has a touch detection on a Polygon. I was wonder if it is possible to detect whether the touch point is inside the Polygon? If so then how, my main goal is to outline a state on a map and when the user taps that state it will show more details inside a custom view. As of now I am able to capture the <code>MapOnClick</code> of the map but when the user taps inside the <code>Polygon</code> I want the <code>polygon.getID()</code> set on the <code>Toast</code>. I am a newbie so I apologize if I am not clear enough.</p>\n\n<pre><code>googleMap.setOnMapClickListener(new OnMapClickListener() \n    {\n        public void onMapClick(LatLng point) \n        {\n        boolean checkPoly = true;\n\n        Toast.makeText(MainActivity.this,\"The Location is outside of the Area\", Toast.LENGTH_LONG).show();\n        }    \n     });\n     }\n     }\n   catch (Exception e) {\n         Log.e(\"APP\",\"Failed\", e);\n     }    \n</code></pre>\n\n<p>Ok this is what I have semi-working so far</p>\n\n<pre><code>    private boolean rayCastIntersect(LatLng tap, LatLng vertA, LatLng vertB) {\n\n    double aY = vertA.latitude;\n    double bY = vertB.latitude;\n    double aX = vertA.longitude;\n    double bX = vertB.longitude;\n    double pY = tap.latitude;\n    double pX = tap.longitude;\n     if (aY &gt; bY) {\n            aX = vertB.longitude;\n            aY = vertB.latitude;\n            bX = vertA.longitude;\n            bX = vertA.latitude;\n        }\n    System.out.println(\"aY: \"+aY+\" aX : \"+aX);\n    System.out.println(\"bY: \"+bY+\" bX : \"+bX);\n\n     if (pX &lt; 0) pX += 360;\n        if (aX &lt; 0) aX += 360;\n        if (bX &lt; 0) bX += 360;\n\n        if (pY == aY || pY == bY) pY += 0.00000001;\n        if ((pY &gt; bY || pY &lt; aY) || (pX &gt; Math.max(aX, bX))) return false;\n        if (pX &lt; Math.min(aX, bX))\n\n            return true;\n//  }\n\n    double m = (aX != bX) ? ((bY - aY) / (bX - aX)) : aX;\n    double bee = (aX != pX) ? ((pY - aY) / (pX - aX)) : aX;\n    double x = (pY - bee) / m;\n\n    return x &gt; pX;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The issue that I am having is the touch is true to the left of each polygon until it reaches another one. What's wrong with my algorithm that would cause this issue? Any help would be appreciated.</p>\n"},{"tags":["java","sql","rest","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1486855631,"post_id":42182426,"comment_id":71527610,"body_markdown":"Looks like you don&#39;t have JPA autoconfiguration running. Make sure you have the starter and a database connection.","body":"Looks like you don&#39;t have JPA autoconfiguration running. Make sure you have the starter and a database connection."},{"owner":{"account_id":3336440,"reputation":313,"user_id":2803884,"accept_rate":46,"display_name":"Dheeraj"},"score":0,"creation_date":1486856021,"post_id":42182426,"comment_id":71527695,"body_markdown":"@chrylis - How do I get a JPA autoconfiguration running? I have established a connection to mysql database in application.properties","body":"@chrylis - How do I get a JPA autoconfiguration running? I have established a connection to mysql database in application.properties"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":9,"creation_date":1486856133,"post_id":42182426,"comment_id":71527716,"body_markdown":"You have mismatched Hibernate dependencies. Just drop the version numbers and let Boot manage them.","body":"You have mismatched Hibernate dependencies. Just drop the version numbers and let Boot manage them."}],"answers":[{"tags":[],"owner":{"account_id":283914,"reputation":1031,"user_id":581702,"display_name":"kyleus"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1491947873,"creation_date":1491947873,"answer_id":43356888,"question_id":42182426,"body_markdown":"**spring-boot-starter-data-jpa** will pull in all the hibernate dependencies you need.  Using spring boot release 1.5.1, it will pull in **hibernate-core:5.0.11** and **hibernate-entitymanager:5.0.11**.  In addition to being unnecessary, your hibernate dependency versions are mismatched which is what I&#39;m guessing is causing the error.\r\n\r\nTry removing these dependencies from your pom.xml.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p><strong>spring-boot-starter-data-jpa</strong> will pull in all the hibernate dependencies you need.  Using spring boot release 1.5.1, it will pull in <strong>hibernate-core:5.0.11</strong> and <strong>hibernate-entitymanager:5.0.11</strong>.  In addition to being unnecessary, your hibernate dependency versions are mismatched which is what I'm guessing is causing the error.</p>\n\n<p>Try removing these dependencies from your pom.xml.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;4.1.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7552759,"reputation":171,"user_id":5733586,"display_name":"Jules S."},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1609857440,"creation_date":1511047854,"answer_id":47372196,"question_id":42182426,"body_markdown":"Try these dependencies\r\n==\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;   \r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n    \r\n\r\ninstead of:\r\n=\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n       &lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n       &lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<h1>Try these dependencies</h1>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n  &lt;/dependency&gt;   \n  &lt;dependency&gt;\n     &lt;groupId&gt;mysql&lt;/groupId&gt;\n     &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<h1>instead of:</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n   &lt;version&gt;4.1.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n   &lt;version&gt;5.2.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4972065,"reputation":3372,"user_id":3999482,"display_name":"malvadao"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1527080207,"creation_date":1526930611,"answer_id":50455396,"question_id":42182426,"body_markdown":"Try deleting your dependencies from \r\n\r\n - ~/.m2/repository (Linux)\r\n - C:/Users/**your_user**/.m2/repository (Windows)\r\n\r\nand further updating your project dependencies either through your IDE&#39;s **update dependencies** functionality, or by running **mvn install** from your project&#39;s folder.\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>Try deleting your dependencies from </p>\n\n<ul>\n<li>~/.m2/repository (Linux)</li>\n<li>C:/Users/<strong>your_user</strong>/.m2/repository (Windows)</li>\n</ul>\n\n<p>and further updating your project dependencies either through your IDE's <strong>update dependencies</strong> functionality, or by running <strong>mvn install</strong> from your project's folder.</p>\n"},{"tags":[],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1535297748,"creation_date":1535297748,"answer_id":52027772,"question_id":42182426,"body_markdown":"Hibernate-core 5.2.0 have problem with Spring Data JPA while process collection. \r\nHibernate-core 5.2.1 and above is ok with Spring Data JPA when you use Spring Data JPA.\r\n\r\nFrom hibernate onwards 5.2.0. hibernate-entitymanager is no longer needed.\r\n\r\n**So try to change:**\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n     &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n     &lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**To this version:**\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n     &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n     &lt;version&gt; 5.2.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis fixed it for me.","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>Hibernate-core 5.2.0 have problem with Spring Data JPA while process collection. \nHibernate-core 5.2.1 and above is ok with Spring Data JPA when you use Spring Data JPA.</p>\n\n<p>From hibernate onwards 5.2.0. hibernate-entitymanager is no longer needed.</p>\n\n<p><strong>So try to change:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n &lt;version&gt;4.1.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>To this version:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n &lt;version&gt; 5.2.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":5445447,"reputation":1726,"user_id":4332176,"accept_rate":25,"display_name":"Dila Gurung"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560392451,"creation_date":1560392451,"answer_id":56572550,"question_id":42182426,"body_markdown":"The problem might be due to version mismatch. Problem can be solve by specifying the dependency like this (since version is not mentioned, its auto managed)\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>The problem might be due to version mismatch. Problem can be solve by specifying the dependency like this (since version is not mentioned, its auto managed)</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8105684,"reputation":137,"user_id":6107304,"accept_rate":60,"display_name":"FrancisGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637475242,"creation_date":1637475242,"answer_id":70052275,"question_id":42182426,"body_markdown":"I came across the problem again. What I did is to change pom dependecy.\r\n\r\nFrom **spring-data-jpa**\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nTo **spring-boot-starter-data-jpa**\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**No extra hibernate related dependency.**\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>I came across the problem again. What I did is to change pom dependecy.</p>\n<p>From <strong>spring-data-jpa</strong></p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To <strong>spring-boot-starter-data-jpa</strong></p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>No extra hibernate related dependency.</strong></p>\n"},{"tags":[],"owner":{"account_id":13963769,"reputation":31,"user_id":10084172,"display_name":"Pankaj kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673594143,"creation_date":1673594143,"answer_id":75105928,"question_id":42182426,"body_markdown":"For those having two datasources, just add @Primary at one of the datasources.","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>For those having two datasources, just add @Primary at one of the datasources.</p>\n"}],"owner":{"account_id":3336440,"reputation":313,"user_id":2803884,"accept_rate":46,"display_name":"Dheeraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103756,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":7,"score":28,"last_activity_date":1673594143,"creation_date":1486855465,"question_id":42182426,"body_markdown":"I am in the process of developing a Spring Boot application and came across this error when starting the server. I am not sure if I am incorrectly defining any annotations or missing any dependencies. Any help would be appreciated.\r\n\r\n\r\nMain class:\r\n\r\n    @SpringBootApplication\r\n    public class FantasyManagerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(FantasyManagerApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nLeagueService.java:\r\n\r\n    @Service\r\n    public class LeagueService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate LeagueRepository leagueRepository;\r\n    \t@Autowired\r\n    \tprivate PlayerRepository playerRepository;\r\n    \t@Autowired\r\n    \tprivate TeamRepository teamRepository;\r\n    \t\r\n    \t/**\r\n    \t * Returns a list of all the leagues in the database \r\n    \t * @return List&lt;League&gt;\r\n    \t */\r\n    \tpublic List&lt;League&gt; getAllLeagues(){\r\n    \t\tList&lt;League&gt; leagues = new ArrayList&lt;&gt;();\r\n    \t\tleagueRepository.findAll()\r\n    \t\t.forEach(leagues::add);\r\n    \t\treturn leagues;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Find details for a particular League\r\n    \t * @param leagueId\r\n    \t * @return League\r\n    \t */\r\n    \tpublic League getLeagueById(long leagueId){\r\n    \t\treturn leagueRepository.findOne(leagueId);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Find the leagueSettings for a particular League\t\r\n    \t * @param leagueId\r\n    \t * @return LeagueSettings\r\n    \t */\r\n    \tpublic LeagueSettings getLeagueSettingsById(long leagueId){\r\n    \t\treturn leagueRepository.findOne(leagueId).getLeagueSettings();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Returns a list of all the Team&#39;s in the League\r\n    \t * @param leagueId\r\n    \t * @return List&lt;Team&gt;\r\n    \t */\r\n    \tpublic List&lt;Team&gt; getTeamsInLeague(long leagueId){\r\n    \t\tList&lt;Team&gt; teams = new ArrayList&lt;&gt;();\r\n    \t\tleagueRepository.findOne(leagueId).getTeams()\r\n    \t\t.forEach(teams::add);\r\n    \t\treturn teams;\r\n    \t\t\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Returns a list of all the Player&#39;s in the League\r\n    \t * @param leagueId\r\n    \t * @return List&lt;Player&gt;\r\n    \t */\r\n    \tpublic List&lt;Player&gt; getPlayersInLeague(long leagueId){\r\n    \t\tList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n    \t\tleagueRepository.findOne(leagueId).getPlayers()\r\n    \t\t.forEach(players::add);\r\n    \t\treturn players;\t\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Returns a list of all the User&#39;s in the League\r\n    \t * @param leagueId\r\n    \t * @return List&lt;User&gt;\r\n    \t */\r\n    \tpublic List&lt;User&gt; getUsersInLeague(long leagueId){\r\n    \t\tList&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    \t\tleagueRepository.findOne(leagueId).getUsers()\r\n    \t\t.forEach(users::add);\r\n    \t\treturn users;\t\t\r\n    \t}\r\n    \t\r\n    \t\t\t\r\n    \t/**\r\n    \t * Add League to database\r\n    \t * @param league\r\n    \t */\r\n    \tpublic void addLeague(League league){\r\n    \t\tleagueRepository.save(league);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Assign LeagueSettings for a League\r\n    \t * @param userId\r\n    \t * @param leagueSettings\r\n    \t */\r\n    \tpublic void assignLeagueSettings(long leagueId, LeagueSettings leagueSettings){\r\n    \t\tLeague league = leagueRepository.findOne(leagueId);\r\n    \t\tleague.setLeagueSettings(leagueSettings);\r\n    \t\tleagueRepository.save(league);\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Assign a Player to a League and vice versa\r\n    \t * @param leagueId\r\n    \t * @param playerId\r\n    \t */\r\n    \tpublic void assignPlayerToLeague(long leagueId, long playerId){\r\n    \t\t//Find the league and player from the database\r\n    \t\tLeague league = leagueRepository.findOne(leagueId);\r\n    \t\tPlayer player = playerRepository.findOne(playerId);\r\n    \t\t\r\n    \t\t//Get the players that the league already has\r\n    \t\tList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n    \t\tplayers = league.getPlayers();\r\n    \t\t\r\n    \t\t//Get the leagues that the player is part of\r\n    \t\tList&lt;League&gt; leagues = new ArrayList&lt;&gt;();\r\n    \t\tleagues = player.getLeagues();\r\n    \t\t\r\n    \t\t//Assign player to this league and vice versa\r\n    \t\tleagues.add(league);\r\n    \t\tplayers.add(player);\r\n    \t\tleague.setPlayers(players);\r\n    \t\tplayer.setLeagues(leagues);\r\n    \t\t\r\n    \t\t//Update changes in database\r\n    \t\tplayerRepository.save(player);\r\n    \t\tleagueRepository.save(league);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Assign a Team to a League and vice versa\r\n    \t * @param leagueId\r\n    \t * @param teamId\r\n    \t */\r\n    \tpublic void assignTeamToLeague(long leagueId, long teamId){\r\n    \t\t//Find the league and player from the database\r\n    \t\tLeague league = leagueRepository.findOne(leagueId);\r\n    \t\tTeam team = teamRepository.findOne(teamId);\r\n    \t\t\r\n    \t\t//Get the teams that are already in the league\r\n    \t\tList&lt;Team&gt; teams = new ArrayList&lt;&gt;();\r\n    \t\tteams = league.getTeams();\r\n    \t\t\r\n    \t\t//Assign team to this league and vice versa\r\n    \t\tteams.add(team);\r\n    \t\tleague.setTeams(teams);\r\n    \t\tteam.setLeague(league);\r\n    \t\t\r\n    \t\t//Update changes in database\r\n    \t\tteamRepository.save(team);\r\n    \t\tleagueRepository.save(league);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Edit the details for a particular League\r\n    \t * @param league\r\n    \t */\r\n    \tpublic void updateLeague(League league, long leagueId){\r\n    \t\tleagueRepository.save(league);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Delete the League from the database\r\n    \t * @param leagueId\r\n    \t */\r\n    \tpublic void deleteLeague(long leagueId){\r\n    \t\tleagueRepository.delete(leagueId);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nLeagueRepository.java\r\n\r\n    public interface LeagueRepository extends CrudRepository&lt;League, Long&gt; {\r\n    \t\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.dheeraj&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;fantasy-manager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;fantasy-manager&lt;/name&gt;\r\n    \t&lt;description&gt;Fantasy Manager Application&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nError:\r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field leagueRepository in com.dheeraj.service.LeagueService required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>I am in the process of developing a Spring Boot application and came across this error when starting the server. I am not sure if I am incorrectly defining any annotations or missing any dependencies. Any help would be appreciated.</p>\n\n<p>Main class:</p>\n\n<pre><code>@SpringBootApplication\npublic class FantasyManagerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FantasyManagerApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>LeagueService.java:</p>\n\n<pre><code>@Service\npublic class LeagueService {\n\n    @Autowired\n    private LeagueRepository leagueRepository;\n    @Autowired\n    private PlayerRepository playerRepository;\n    @Autowired\n    private TeamRepository teamRepository;\n\n    /**\n     * Returns a list of all the leagues in the database \n     * @return List&lt;League&gt;\n     */\n    public List&lt;League&gt; getAllLeagues(){\n        List&lt;League&gt; leagues = new ArrayList&lt;&gt;();\n        leagueRepository.findAll()\n        .forEach(leagues::add);\n        return leagues;\n    }\n\n    /**\n     * Find details for a particular League\n     * @param leagueId\n     * @return League\n     */\n    public League getLeagueById(long leagueId){\n        return leagueRepository.findOne(leagueId);\n    }\n\n    /**\n     * Find the leagueSettings for a particular League  \n     * @param leagueId\n     * @return LeagueSettings\n     */\n    public LeagueSettings getLeagueSettingsById(long leagueId){\n        return leagueRepository.findOne(leagueId).getLeagueSettings();\n    }\n\n\n    /**\n     * Returns a list of all the Team's in the League\n     * @param leagueId\n     * @return List&lt;Team&gt;\n     */\n    public List&lt;Team&gt; getTeamsInLeague(long leagueId){\n        List&lt;Team&gt; teams = new ArrayList&lt;&gt;();\n        leagueRepository.findOne(leagueId).getTeams()\n        .forEach(teams::add);\n        return teams;\n\n    }\n\n    /**\n     * Returns a list of all the Player's in the League\n     * @param leagueId\n     * @return List&lt;Player&gt;\n     */\n    public List&lt;Player&gt; getPlayersInLeague(long leagueId){\n        List&lt;Player&gt; players = new ArrayList&lt;&gt;();\n        leagueRepository.findOne(leagueId).getPlayers()\n        .forEach(players::add);\n        return players;     \n    }\n\n    /**\n     * Returns a list of all the User's in the League\n     * @param leagueId\n     * @return List&lt;User&gt;\n     */\n    public List&lt;User&gt; getUsersInLeague(long leagueId){\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\n        leagueRepository.findOne(leagueId).getUsers()\n        .forEach(users::add);\n        return users;       \n    }\n\n\n    /**\n     * Add League to database\n     * @param league\n     */\n    public void addLeague(League league){\n        leagueRepository.save(league);\n    }\n\n    /**\n     * Assign LeagueSettings for a League\n     * @param userId\n     * @param leagueSettings\n     */\n    public void assignLeagueSettings(long leagueId, LeagueSettings leagueSettings){\n        League league = leagueRepository.findOne(leagueId);\n        league.setLeagueSettings(leagueSettings);\n        leagueRepository.save(league);  \n    }\n\n    /**\n     * Assign a Player to a League and vice versa\n     * @param leagueId\n     * @param playerId\n     */\n    public void assignPlayerToLeague(long leagueId, long playerId){\n        //Find the league and player from the database\n        League league = leagueRepository.findOne(leagueId);\n        Player player = playerRepository.findOne(playerId);\n\n        //Get the players that the league already has\n        List&lt;Player&gt; players = new ArrayList&lt;&gt;();\n        players = league.getPlayers();\n\n        //Get the leagues that the player is part of\n        List&lt;League&gt; leagues = new ArrayList&lt;&gt;();\n        leagues = player.getLeagues();\n\n        //Assign player to this league and vice versa\n        leagues.add(league);\n        players.add(player);\n        league.setPlayers(players);\n        player.setLeagues(leagues);\n\n        //Update changes in database\n        playerRepository.save(player);\n        leagueRepository.save(league);\n    }\n\n    /**\n     * Assign a Team to a League and vice versa\n     * @param leagueId\n     * @param teamId\n     */\n    public void assignTeamToLeague(long leagueId, long teamId){\n        //Find the league and player from the database\n        League league = leagueRepository.findOne(leagueId);\n        Team team = teamRepository.findOne(teamId);\n\n        //Get the teams that are already in the league\n        List&lt;Team&gt; teams = new ArrayList&lt;&gt;();\n        teams = league.getTeams();\n\n        //Assign team to this league and vice versa\n        teams.add(team);\n        league.setTeams(teams);\n        team.setLeague(league);\n\n        //Update changes in database\n        teamRepository.save(team);\n        leagueRepository.save(league);\n    }\n\n\n    /**\n     * Edit the details for a particular League\n     * @param league\n     */\n    public void updateLeague(League league, long leagueId){\n        leagueRepository.save(league);\n    }\n\n\n    /**\n     * Delete the League from the database\n     * @param leagueId\n     */\n    public void deleteLeague(long leagueId){\n        leagueRepository.delete(leagueId);\n    }\n\n}\n</code></pre>\n\n<p>LeagueRepository.java</p>\n\n<pre><code>public interface LeagueRepository extends CrudRepository&lt;League, Long&gt; {\n\n}\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.dheeraj&lt;/groupId&gt;\n    &lt;artifactId&gt;fantasy-manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;fantasy-manager&lt;/name&gt;\n    &lt;description&gt;Fantasy Manager Application&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField leagueRepository in com.dheeraj.service.LeagueService required a bean named 'entityManagerFactory' that could not be found.\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n</code></pre>\n"},{"tags":["java","apache-poi"],"owner":{"account_id":27506734,"reputation":1,"user_id":20989350,"display_name":"user20989350"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1673544872,"answer_count":0,"score":-2,"last_activity_date":1673593328,"creation_date":1673526331,"question_id":75096309,"body_markdown":"How to read ppt data and any image data it contains using java and apache poi\r\n\r\n","title":"How to read ppt data using java and apache poi","body":"<p>How to read ppt data and any image data it contains using java and apache poi</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2038932,"reputation":3052,"user_id":1820599,"accept_rate":58,"display_name":"adalpari"},"score":0,"creation_date":1468231950,"post_id":38304249,"comment_id":64025134,"body_markdown":"Why you don&#39;t use SimpleDateFormat. It&#39;s what I use in Android and it workd fine.","body":"Why you don&#39;t use SimpleDateFormat. It&#39;s what I use in Android and it workd fine."},{"owner":{"account_id":8794967,"reputation":611,"user_id":6573127,"accept_rate":67,"display_name":"Slartibartfast"},"score":0,"creation_date":1530863838,"post_id":38304249,"comment_id":89392077,"body_markdown":"SimpleDateFormat is what I am using in Android and it is not working fine. In particular it is unable to parse the time zone AEST (Australian Eastern Standard Time) which DateTimeFormatter apparently does: https://stackoverflow.com/questions/36473928/parse-date-with-aedt-and-aest-time-zone-in-java","body":"SimpleDateFormat is what I am using in Android and it is not working fine. In particular it is unable to parse the time zone AEST (Australian Eastern Standard Time) which DateTimeFormatter apparently does: <a href=\"https://stackoverflow.com/questions/36473928/parse-date-with-aedt-and-aest-time-zone-in-java\" title=\"parse date with aedt and aest time zone in java\">stackoverflow.com/questions/36473928/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673701570,"post_id":38304249,"comment_id":132559240,"body_markdown":"I believe that when the question was asked, the answer was to use ThreeTenABP, the Android adaptation of the backport of java.time. Today core API desugaring seems a more attractive option. See the linked original question (which is later than this one).","body":"I believe that when the question was asked, the answer was to use ThreeTenABP, the Android adaptation of the backport of java.time. Today core API desugaring seems a more attractive option. See the linked original question (which is later than this one)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673701756,"post_id":38304249,"comment_id":132559268,"body_markdown":"@adalpari and Slartibartfas:t Please not. That would be a sizeable step backward. `SimpleDateFormat` was a notorious troublemaker of a class. The OP is wise in asking how to use its clearly better replacement, `DateTimeFormatter` from java.time.","body":"@adalpari and Slartibartfas:t Please not. That would be a sizeable step backward. <code>SimpleDateFormat</code> was a notorious troublemaker of a class. The OP is wise in asking how to use its clearly better replacement, <code>DateTimeFormatter</code> from java.time."}],"answers":[{"tags":[],"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468231926,"creation_date":1468231926,"answer_id":38304332,"question_id":38304249,"body_markdown":"From [official documentation][1] about this class:\r\n\r\n&gt; Since:\r\n&gt; 1.8\r\n\r\n`Android SDK` is working over `jvm 1.6`\r\n\r\nRelated answer:\r\nhttps://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"How to include DateTimeFormatter to project","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">official documentation</a> about this class:</p>\n\n<blockquote>\n  <p>Since:\n  1.8</p>\n</blockquote>\n\n<p><code>Android SDK</code> is working over <code>jvm 1.6</code></p>\n\n<p>Related answer:\n<a href=\"https://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development\">Is it possible to use Java 8 for Android development?</a></p>\n"},{"tags":[],"owner":{"account_id":2038932,"reputation":3052,"user_id":1820599,"accept_rate":58,"display_name":"adalpari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1468232095,"creation_date":1468232095,"answer_id":38304396,"question_id":38304249,"body_markdown":"In Android, actually you are ussing *Android SDK*, not JDK directly.\r\nYou could use SimpleDateFormat:\r\n\r\n    import java.text.SimpleDateFormat;\r\n\r\n    Date myDate = new Date();\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.ZZZZ&quot;);\r\n    String date = dateFormat.format(myDate);","title":"How to include DateTimeFormatter to project","body":"<p>In Android, actually you are ussing <em>Android SDK</em>, not JDK directly.\nYou could use SimpleDateFormat:</p>\n\n<pre><code>import java.text.SimpleDateFormat;\n\nDate myDate = new Date();\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.ZZZZ\");\nString date = dateFormat.format(myDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673593306,"creation_date":1673593306,"answer_id":75105835,"question_id":38304249,"body_markdown":"**Date time formatter**\r\n**Java**\r\nDate time formatter to convert simple date it&#39;s very easy in utils class\r\njust like that please check and used this program.\r\n\r\n    public static String getApiSurveyResponseDateConvertToLocal(String date) {\r\n\r\n        try {\r\n            SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;, Locale.US);\r\n            SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\r\n           Date datee = inputFormat.parse(date);\r\n            return outputFormat.format(datee);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }","title":"How to include DateTimeFormatter to project","body":"<p><strong>Date time formatter</strong>\n<strong>Java</strong>\nDate time formatter to convert simple date it's very easy in utils class\njust like that please check and used this program.</p>\n<pre><code>public static String getApiSurveyResponseDateConvertToLocal(String date) {\n\n    try {\n        SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;, Locale.US);\n        SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\n       Date datee = inputFormat.parse(date);\n        return outputFormat.format(datee);\n    } catch (ParseException e) {\n        e.printStackTrace();\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7304890,"reputation":141,"user_id":5566137,"accept_rate":100,"display_name":"Stephan Leila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1673690922,"accepted_answer_id":38304396,"answer_count":3,"score":2,"last_activity_date":1673593306,"creation_date":1468231671,"question_id":38304249,"body_markdown":"I&#39;m trying to use [DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) in my project, but Android Studio can&#39;t find `java.time.format.DateTimeFormatter` package.&lt;br&gt;\r\nI downloaded [Java SE Development Kit 8u92](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) and in settings of my project I also set &quot;use jdk8&quot;.&lt;br&gt;What am I missing?","title":"How to include DateTimeFormatter to project","body":"<p>I'm trying to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow\">DateTimeFormatter</a> in my project, but Android Studio can't find <code>java.time.format.DateTimeFormatter</code> package.<br>\nI downloaded <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow\">Java SE Development Kit 8u92</a> and in settings of my project I also set \"use jdk8\".<br>What am I missing?</p>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673542917,"post_id":75099814,"comment_id":132528014,"body_markdown":"Do not use the Entity classes at controller level. It is very bad architecture","body":"Do not use the Entity classes at controller level. It is very bad architecture"},{"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"score":0,"creation_date":1673543686,"post_id":75099814,"comment_id":132528306,"body_markdown":"the bad request means your request does not arrive to you controller method and the request stop from servlet  `filter.chain`, and the recommended architecture use `dto` inside the controller and check validation using `LOMBOK` validation, and all of the business logic will process inside the service class","body":"the bad request means your request does not arrive to you controller method and the request stop from servlet  <code>filter.chain</code>, and the recommended architecture use <code>dto</code> inside the controller and check validation using <code>LOMBOK</code> validation, and all of the business logic will process inside the service class"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1673544853,"post_id":75099814,"comment_id":132528692,"body_markdown":"whats the error that spring boot gives you after you click send?","body":"whats the error that spring boot gives you after you click send?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673549170,"post_id":75099814,"comment_id":132530110,"body_markdown":"Is that your full customer? The `@Valid` seems to indicate otherwise, I would expect you to have some validation annotations on there.","body":"Is that your full customer? The <code>@Valid</code> seems to indicate otherwise, I would expect you to have some validation annotations on there."}],"answers":[{"tags":[],"owner":{"account_id":6233666,"reputation":29,"user_id":4849599,"display_name":"Robert"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673543249,"creation_date":1673543249,"answer_id":75099923,"question_id":75099814,"body_markdown":"The validation of `Customer` seems to fail.\r\nI would\r\n 1. look at the logs to error details\r\n 2. think about having a separate class for the request object. You do not really want to mix database related and request related concerns.","title":"Bad request in RestController spring boot 2.7","body":"<p>The validation of <code>Customer</code> seems to fail.\nI would</p>\n<ol>\n<li>look at the logs to error details</li>\n<li>think about having a separate class for the request object. You do not really want to mix database related and request related concerns.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4475864,"reputation":457,"user_id":3641003,"accept_rate":83,"display_name":"Roe hit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673544243,"creation_date":1673544243,"answer_id":75100111,"question_id":75099814,"body_markdown":"@Valid lets the framework check against the parameter on the method invocation and, if the validation fails, an HTTP 400 Bad Request status is thrown. You are having a complex type and that type requires a validation too. Here&#39;s a link: \r\nhttps://medium.com/javarevisited/are-you-using-valid-and-validated-annotations-wrong-b4a35ac1bca4 \r\n\r\nTry removing the @Valid just to see the difference and the above article gives you an example implementation.\r\n\r\nAlso, using an Entity as a Request object is a highly discouraged paradigm. You are encouraged to make a DTO object specific to your request as a start. There are situations where you have to inherit, but this question&#39;s scope is not that.\r\n\r\n\r\n","title":"Bad request in RestController spring boot 2.7","body":"<p>@Valid lets the framework check against the parameter on the method invocation and, if the validation fails, an HTTP 400 Bad Request status is thrown. You are having a complex type and that type requires a validation too. Here's a link:\n<a href=\"https://medium.com/javarevisited/are-you-using-valid-and-validated-annotations-wrong-b4a35ac1bca4\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/are-you-using-valid-and-validated-annotations-wrong-b4a35ac1bca4</a></p>\n<p>Try removing the @Valid just to see the difference and the above article gives you an example implementation.</p>\n<p>Also, using an Entity as a Request object is a highly discouraged paradigm. You are encouraged to make a DTO object specific to your request as a start. There are situations where you have to inherit, but this question's scope is not that.</p>\n"}],"owner":{"account_id":24280012,"reputation":123,"user_id":18226690,"display_name":"ln3106"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673592561,"creation_date":1673542709,"question_id":75099814,"body_markdown":"I checked in several different ways to check where is bug but I still do not know the answer.\r\n\r\nThat is my RestController\r\n\r\n    @RestController\r\n    public class CustomerController {\r\n        @PostMapping(value = &quot;/customer&quot;)\r\n        public ResponseEntity&lt;CustomerResponse&gt; addCustomer(@RequestBody @Valid Customer custRequest) throws Exception {\r\n            ModelMapper modelMapper = new ModelMapper();\r\n            CustomerDto customerDto = modelMapper.map(custRequest, CustomerDto.class);\r\n            CustomerDto addCust = customer.addCustomer(customerDto);\r\n            CustomerResponse custResponse = modelMapper.map(addCust, CustomerResponse.class);\r\n            return new ResponseEntity&lt;CustomerResponse&gt;(custResponse, HttpStatus.CREATED);\r\n        }\r\n    }\r\n\r\n\r\n\r\nThat is my Model\r\n\r\n    @Entity\r\n    @Table(name = &quot;customers&quot;)\r\n    public class Customer {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String idCustomer;\r\n        private String email;\r\n        @OneToMany(mappedBy = &quot;customer&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n        private List&lt;Choice&gt; choices;\r\n    \t// Getter and setter and constructor\r\n    }\r\n\r\nmaven dependencies \r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nresponse of postman\r\n[![enter image description here][1]][1]\r\n\r\nHow can i resolve this problem to post a new customer .\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y4DyO.png","title":"Bad request in RestController spring boot 2.7","body":"<p>I checked in several different ways to check where is bug but I still do not know the answer.</p>\n<p>That is my RestController</p>\n<pre><code>@RestController\npublic class CustomerController {\n    @PostMapping(value = &quot;/customer&quot;)\n    public ResponseEntity&lt;CustomerResponse&gt; addCustomer(@RequestBody @Valid Customer custRequest) throws Exception {\n        ModelMapper modelMapper = new ModelMapper();\n        CustomerDto customerDto = modelMapper.map(custRequest, CustomerDto.class);\n        CustomerDto addCust = customer.addCustomer(customerDto);\n        CustomerResponse custResponse = modelMapper.map(addCust, CustomerResponse.class);\n        return new ResponseEntity&lt;CustomerResponse&gt;(custResponse, HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>That is my Model</p>\n<pre><code>@Entity\n@Table(name = &quot;customers&quot;)\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String idCustomer;\n    private String email;\n    @OneToMany(mappedBy = &quot;customer&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\n    private List&lt;Choice&gt; choices;\n    // Getter and setter and constructor\n}\n</code></pre>\n<p>maven dependencies</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>response of postman\n<a href=\"https://i.stack.imgur.com/y4DyO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y4DyO.png\" alt=\"enter image description here\" /></a></p>\n<p>How can i resolve this problem to post a new customer .</p>\n"},{"tags":["java","datetime","java-8","java-time"],"comments":[{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1464341719,"post_id":23215299,"comment_id":62456848,"body_markdown":"Because a `LocalDate` doesn&#39;t include a time.","body":"Because a <code>LocalDate</code> doesn&#39;t include a time."}],"answers":[{"tags":[],"owner":{"account_id":229476,"reputation":6991,"user_id":492462,"accept_rate":80,"display_name":"mdo"},"down_vote_count":2,"up_vote_count":180,"is_accepted":false,"score":178,"last_activity_date":1398158437,"creation_date":1398158437,"answer_id":23215426,"question_id":23215299,"body_markdown":"In order to convert it to an instant you need to have a LocalDateTime instance, e.g.:\r\n\r\n    LocalDate.now().atStartOfDay().toInstant(ZoneOffset.UTC)","title":"How to convert a LocalDate to an Instant?","body":"<p>In order to convert it to an instant you need to have a LocalDateTime instance, e.g.:</p>\n\n<pre><code>LocalDate.now().atStartOfDay().toInstant(ZoneOffset.UTC)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":5,"up_vote_count":214,"is_accepted":true,"score":209,"last_activity_date":1546337113,"creation_date":1401184102,"answer_id":23886207,"question_id":23215299,"body_markdown":"The `Instant` class represents an instantaneous point on the time-line. Conversion to and from a `LocalDate` requires a time-zone. Unlike some other date and time libraries, JSR-310 will not select the time-zone for you automatically, so you must provide it.\r\n\r\n    LocalDate date = LocalDate.now();\r\n    Instant instant = date.atStartOfDay(ZoneId.systemDefault()).toInstant();\r\n\r\nThis example uses the default time-zone of the JVM - `ZoneId.systemDefault()` - to perform the conversion. See here for a [longer answer][1] to a related question.\r\n\r\n---\r\n\r\nUpdate: The accepted answer uses `LocalDateTime::toInstant(ZoneOffset)` which only accepts `ZoneOffset`. This answer uses `LocalDate::atStartOfDay(ZoneId)` which accepts any `ZoneId`. As such, this answer is generally more useful (and probably should be the accepted one).\r\n\r\nPS. I was the main author of the API\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21242111/38896","title":"How to convert a LocalDate to an Instant?","body":"<p>The <code>Instant</code> class represents an instantaneous point on the time-line. Conversion to and from a <code>LocalDate</code> requires a time-zone. Unlike some other date and time libraries, JSR-310 will not select the time-zone for you automatically, so you must provide it.</p>\n\n<pre><code>LocalDate date = LocalDate.now();\nInstant instant = date.atStartOfDay(ZoneId.systemDefault()).toInstant();\n</code></pre>\n\n<p>This example uses the default time-zone of the JVM - <code>ZoneId.systemDefault()</code> - to perform the conversion. See here for a <a href=\"https://stackoverflow.com/a/21242111/38896\">longer answer</a> to a related question.</p>\n\n<hr>\n\n<p>Update: The accepted answer uses <code>LocalDateTime::toInstant(ZoneOffset)</code> which only accepts <code>ZoneOffset</code>. This answer uses <code>LocalDate::atStartOfDay(ZoneId)</code> which accepts any <code>ZoneId</code>. As such, this answer is generally more useful (and probably should be the accepted one).</p>\n\n<p>PS. I was the main author of the API</p>\n"},{"tags":[],"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673592532,"creation_date":1673592532,"answer_id":75105725,"question_id":23215299,"body_markdown":"Using this I&#39;m able to get the local datetime Instance:\r\n\r\n    LocalDateTime.now().toInstant(ZoneOffset.UTC)\r\n\r\n\r\n","title":"How to convert a LocalDate to an Instant?","body":"<p>Using this I'm able to get the local datetime Instance:</p>\n<pre><code>LocalDateTime.now().toInstant(ZoneOffset.UTC)\n</code></pre>\n"}],"owner":{"account_id":1806309,"reputation":2695,"user_id":1643352,"accept_rate":73,"display_name":"user1643352"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176276,"favorite_count":0,"down_vote_count":0,"up_vote_count":180,"accepted_answer_id":23886207,"answer_count":3,"score":180,"last_activity_date":1673592532,"creation_date":1398158109,"question_id":23215299,"body_markdown":"I work with the new DateTime API of Java 8.\r\n\r\nHow to convert a LocalDate to an Instant?\r\nI get an exception with\r\n\r\n    LocalDate date = LocalDate.of(2012, 2, 2);\r\n    Instant instant = Instant.from(date);\r\n\r\nand I don&#39;t understand why.","title":"How to convert a LocalDate to an Instant?","body":"<p>I work with the new DateTime API of Java 8.</p>\n\n<p>How to convert a LocalDate to an Instant?\nI get an exception with</p>\n\n<pre><code>LocalDate date = LocalDate.of(2012, 2, 2);\nInstant instant = Instant.from(date);\n</code></pre>\n\n<p>and I don't understand why.</p>\n"},{"tags":["java","mysql","jpa","spring-boot"],"comments":[{"owner":{"account_id":2887481,"reputation":1735,"user_id":2476976,"display_name":"Kenneth Clark"},"score":1,"creation_date":1432625221,"post_id":30451470,"comment_id":48985227,"body_markdown":"Take a look at the following post. http://hibernatedb.blogspot.in/2009/05/automatic-reconnect-from-hibernate-to.html , this was a comment link which was intriguing from http://stackoverflow.com/questions/2077081/connection-with-mysql-is-being-aborted-automaticly-how-to-configure-connector-j","body":"Take a look at the following post. <a href=\"http://hibernatedb.blogspot.in/2009/05/automatic-reconnect-from-hibernate-to.html\" rel=\"nofollow noreferrer\">hibernatedb.blogspot.in/2009/05/&hellip;</a> , this was a comment link which was intriguing from <a href=\"http://stackoverflow.com/questions/2077081/connection-with-mysql-is-being-aborted-automaticly-how-to-configure-connector-j\" title=\"connection with mysql is being aborted automaticly how to configure connector j\">stackoverflow.com/questions/2077081/&hellip;</a>"},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432625679,"post_id":30451470,"comment_id":48985497,"body_markdown":"@KennethClark I am using spring-boot not spring so these wouldn&#39;t helped me much.And I don&#39;t know much about spring also.","body":"@KennethClark I am using spring-boot not spring so these wouldn&#39;t helped me much.And I don&#39;t know much about spring also."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1432627500,"post_id":30451470,"comment_id":48986612,"body_markdown":"Spring Boot is based on Spring, so if you use Spring Boot, of course you are also using Spring. You should read more about the basics of Spring Boot, if you don&#39;t know that.","body":"Spring Boot is based on Spring, so if you use Spring Boot, of course you are also using Spring. You should read more about the basics of Spring Boot, if you don&#39;t know that."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1432627880,"post_id":30451470,"comment_id":48986816,"body_markdown":"Why wouldn&#39;t it be recommended to validate the connection? The `autoReconnect` property isn&#39;t recommended.","body":"Why wouldn&#39;t it be recommended to validate the connection? The <code>autoReconnect</code> property isn&#39;t recommended."},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432628885,"post_id":30451470,"comment_id":48987448,"body_markdown":"@M.Deinum I have given the link above for the reason . It has side effects related to session state and data consistency when applications don&#39;t handle SQLExceptions properly.","body":"@M.Deinum I have given the link above for the reason . It has side effects related to session state and data consistency when applications don&#39;t handle SQLExceptions properly."},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432629042,"post_id":30451470,"comment_id":48987571,"body_markdown":"@dunni ,yes i agree with you but I haven&#39;t found any solution for the above error,maybe I missed that.It would be better if you can guide me to the solution.","body":"@dunni ,yes i agree with you but I haven&#39;t found any solution for the above error,maybe I missed that.It would be better if you can guide me to the solution."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1432630973,"post_id":30451470,"comment_id":48988841,"body_markdown":"@Soham I strongly suggest a read again as that is for the `autoReconnect` property NOT for those 2 properties you are specifying...","body":"@Soham I strongly suggest a read again as that is for the <code>autoReconnect</code> property NOT for those 2 properties you are specifying..."},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432632562,"post_id":30451470,"comment_id":48989974,"body_markdown":"@M.Deinum  sorry my mistake,it&#39;s written here http://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect","body":"@M.Deinum  sorry my mistake,it&#39;s written here <a href=\"http://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect\" title=\"spring boot jpa configuring auto reconnect\">stackoverflow.com/questions/22684807/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1432632624,"post_id":30451470,"comment_id":48990012,"body_markdown":"No it is not, that is also about the `autoReconnect` property.","body":"No it is not, that is also about the <code>autoReconnect</code> property."},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432634323,"post_id":30451470,"comment_id":48991248,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/78781/discussion-between-soham-and-m-deinum).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/78781/discussion-between-soham-and-m-deinum\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":1,"up_vote_count":114,"is_accepted":true,"score":113,"last_activity_date":1619765995,"creation_date":1432634587,"answer_id":30455408,"question_id":30451470,"body_markdown":"The easiest way is to specify the `autoReconnect` property in the JDBC url, although this isn&#39;t the recommended approach.\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/test?autoReconnect=true\r\n\r\nThis can give issues when you have an active connection and during a transaction something happens and a reconnect is going to happen. It will not give issues when the connection is validated at the start of the transaction and a new connection is acquired at the start. \r\n\r\nHowever it is probably better to enable validation of your connections during the lifetime of your application. For this you can specify [several properties][1].\r\n\r\nFirst start by specifying  maximum number of connections you allow for the pool. (For a read on determining the max poolsize read [this][2]).\r\n\r\n    spring.datasource.max-active=10\r\n\r\nYou also might want to specify the number of initial connections\r\n\r\n    spring.datasource.initial-size=5\r\n\r\nNext you want to specify the min and max number of idle connections.\r\n\r\n    spring.datasource.max-idle=5\r\n    spring.datasource.min-idle=1\r\n\r\nTo validate connection you need to specify a validation-query and when to validate. As you want to validate periodically, instead of when a connection is retrieved from the pool (this to prevent broken connections in your pool). \r\n\r\n    spring.datasource.test-while-idle=true\r\n    spring.datasource.test-on-borrow=true\r\n    spring.datasource.validation-query=SELECT 1\r\n\r\n**NOTE:** The usage of a `validation-query` is actually discouraged with as JDBC4 has a better/different way of doing connection validation. HikariCP will automatically call the JDBC validation method when available. \r\n\r\nNow that you are also validating while a connection is idle you need to specify how often you want to run this query for the connections and when a connection is considered idle.\r\n\r\n    spring.datasource.time-between-eviction-runs-millis=5000 (this is the default)\r\n    spring.datasource.min-evictable-idle-time-millis=60000 (this is also default)\r\n\r\nThis all should trigger validation of your (idle) connections and when an exception occurs or the idle period has passed your connections will be removed from the pool.\r\n\r\nAssuming you are using Tomcat JDBC as the connection pool [this][3] is a nice read of what and how to configure. \r\n\r\n**UPDATE:** Spring Boot 2.x switched the default connection pool to HikariCP instead of Tomcat JDBC. \r\n\r\n[1]: http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n[2]: https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\r\n[3]: http://www.tomcatexpert.com/blog/2010/04/01/configuring-jdbc-pool-high-concurrency","title":"Connection to Db dies after &gt;4&lt;24 in spring-boot jpa hibernate","body":"<p>The easiest way is to specify the <code>autoReconnect</code> property in the JDBC url, although this isn't the recommended approach.</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/test?autoReconnect=true\n</code></pre>\n<p>This can give issues when you have an active connection and during a transaction something happens and a reconnect is going to happen. It will not give issues when the connection is validated at the start of the transaction and a new connection is acquired at the start.</p>\n<p>However it is probably better to enable validation of your connections during the lifetime of your application. For this you can specify <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">several properties</a>.</p>\n<p>First start by specifying  maximum number of connections you allow for the pool. (For a read on determining the max poolsize read <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\" rel=\"nofollow noreferrer\">this</a>).</p>\n<pre><code>spring.datasource.max-active=10\n</code></pre>\n<p>You also might want to specify the number of initial connections</p>\n<pre><code>spring.datasource.initial-size=5\n</code></pre>\n<p>Next you want to specify the min and max number of idle connections.</p>\n<pre><code>spring.datasource.max-idle=5\nspring.datasource.min-idle=1\n</code></pre>\n<p>To validate connection you need to specify a validation-query and when to validate. As you want to validate periodically, instead of when a connection is retrieved from the pool (this to prevent broken connections in your pool).</p>\n<pre><code>spring.datasource.test-while-idle=true\nspring.datasource.test-on-borrow=true\nspring.datasource.validation-query=SELECT 1\n</code></pre>\n<p><strong>NOTE:</strong> The usage of a <code>validation-query</code> is actually discouraged with as JDBC4 has a better/different way of doing connection validation. HikariCP will automatically call the JDBC validation method when available.</p>\n<p>Now that you are also validating while a connection is idle you need to specify how often you want to run this query for the connections and when a connection is considered idle.</p>\n<pre><code>spring.datasource.time-between-eviction-runs-millis=5000 (this is the default)\nspring.datasource.min-evictable-idle-time-millis=60000 (this is also default)\n</code></pre>\n<p>This all should trigger validation of your (idle) connections and when an exception occurs or the idle period has passed your connections will be removed from the pool.</p>\n<p>Assuming you are using Tomcat JDBC as the connection pool <a href=\"http://www.tomcatexpert.com/blog/2010/04/01/configuring-jdbc-pool-high-concurrency\" rel=\"nofollow noreferrer\">this</a> is a nice read of what and how to configure.</p>\n<p><strong>UPDATE:</strong> Spring Boot 2.x switched the default connection pool to HikariCP instead of Tomcat JDBC.</p>\n"}],"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43117,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":30455408,"answer_count":1,"score":48,"last_activity_date":1673591729,"creation_date":1432623274,"question_id":30451470,"body_markdown":"I have an app that uses spring-boot,jpa-hiberanate with mysql.I am getting this error log\r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 56,006,037 milliseconds ago.  The last packet sent successfully to the server was 56,006,037 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n\r\nHere is my application.properties\r\n\r\n    # DataSource settings: set here configurations for the database connection\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username = test\r\n    spring.datasource.password = test\r\n    spring.datasource.driverClassName = com.mysql.jdbc.Driver\r\n    \r\n    # Specify the DBMS\r\n    spring.jpa.database = MYSQL\r\n    \r\n    # Show or not log for each sql query\r\n    spring.jpa.show-sql = true\r\n    \r\n    # Hibernate settings are prefixed with spring.jpa.hibernate.*\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\n**To solve this issue I can use**\r\n\r\n    spring.datasource.testOnBorrow=true\r\n    spring.datasource.validationQuery=SELECT 1\r\n\r\nBut I checked that it&#39;s not [recommended][1] .So can anyone suggest me what should I do to overcome this error\r\n\r\n  [1]: http://dev.mysql.com/doc/connector-j/en/connector-j-reference-configuration-properties.html","title":"Connection to Db dies after &gt;4&lt;24 in spring-boot jpa hibernate","body":"<p>I have an app that uses spring-boot,jpa-hiberanate with mysql.I am getting this error log</p>\n\n<pre><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 56,006,037 milliseconds ago.  The last packet sent successfully to the server was 56,006,037 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n</code></pre>\n\n<p>Here is my application.properties</p>\n\n<pre><code># DataSource settings: set here configurations for the database connection\nspring.datasource.url = jdbc:mysql://localhost:3306/test\nspring.datasource.username = test\nspring.datasource.password = test\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\n\n# Specify the DBMS\nspring.jpa.database = MYSQL\n\n# Show or not log for each sql query\nspring.jpa.show-sql = true\n\n# Hibernate settings are prefixed with spring.jpa.hibernate.*\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\n</code></pre>\n\n<p><strong>To solve this issue I can use</strong></p>\n\n<pre><code>spring.datasource.testOnBorrow=true\nspring.datasource.validationQuery=SELECT 1\n</code></pre>\n\n<p>But I checked that it's not <a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-configuration-properties.html\" rel=\"noreferrer\">recommended</a> .So can anyone suggest me what should I do to overcome this error</p>\n"},{"tags":["java","spring-boot","event-listener","completable-future","threadpoolexecutor"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672950693,"post_id":75021789,"comment_id":132394718,"body_markdown":"&quot;When method calls using @EventListener(ApplicationReadyEvent.class) all is good&quot; what is this supposed to mean?","body":"&quot;When method calls using @EventListener(ApplicationReadyEvent.class) all is good&quot; what is this supposed to mean?"},{"owner":{"account_id":12332598,"reputation":1,"user_id":8998027,"display_name":"ordinary user"},"score":0,"creation_date":1672992922,"post_id":75021789,"comment_id":132402105,"body_markdown":"Thank you, the question body was edited for clear","body":"Thank you, the question body was edited for clear"}],"answers":[{"tags":[],"owner":{"account_id":12332598,"reputation":1,"user_id":8998027,"display_name":"ordinary user"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673591670,"creation_date":1673090015,"answer_id":75039864,"question_id":75021789,"body_markdown":"Problem was solved by deleting Completablefuture. I mistakenly believed reuse thread when asyncThreadPool complete its task. In my case I decide don&#39;t pass DB operation in another thread and make task inside main thread. ","title":"Method called using annotation &#39;@EventListener(ApplicationReadyEvent.class)&#39; working as expected, but direct call falls","body":"<p>Problem was solved by deleting Completablefuture. I mistakenly believed reuse thread when asyncThreadPool complete its task. In my case I decide don't pass DB operation in another thread and make task inside main thread.</p>\n"}],"owner":{"account_id":12332598,"reputation":1,"user_id":8998027,"display_name":"ordinary user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75039864,"answer_count":1,"score":-1,"last_activity_date":1673591670,"creation_date":1672937344,"question_id":75021789,"body_markdown":"When the method is called by `@EventListener(ApplicationReadyEvent.class)`, the expected behavior eventually occurs. But when a direct method call occurs, then the loop inside CompletableFuture repeats only once\r\n\r\n\r\n```\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void method1() {\r\n\r\n        List&lt;CompletableFuture&lt;Void&gt;&gt; pool = new ArrayList&lt;&gt;();\r\n        IntStream.range(0, configproperty.getPipelinethreads()).forEach(i -&gt; pool.add(method2()));\r\n        CompletableFuture.allOf(pool.toArray(CompletableFuture[]::new))\r\n                .thenRun(() -&gt; {\r\n                    log.info(&quot;Delta time - &quot; + calcDeltaTime(timeBegin));\r\n                });\r\n    }\r\n\r\n    private CompletableFuture&lt;Void&gt; method2() {\r\n\r\n        return CompletableFuture.runAsync(() -&gt; {\r\n            do {\r\n                List&lt;Entity&gt; entityList = facility.fetchEntityList();\r\n\r\n                entityList.forEach(entity -&gt; {\r\n\r\n                    performStore(entity);\r\n                });\r\n            } while (proceed.get());\r\n        }, asyncThreadPool);//ThreadPoolTaskExecutor\r\n    }\r\n```\r\n`asyncThreadPool` pool got a capacity also from `configproperty.getPipelinethreads()`\r\n\r\nI have tried run it using `@EventListener(ApplicationReadyEvent.class)` in controller&#39;s method and it working properly, but direct call the controller make it motionless after few iterations in CompletableFuture. Where should I look to find the essence of the problem?","title":"Method called using annotation &#39;@EventListener(ApplicationReadyEvent.class)&#39; working as expected, but direct call falls","body":"<p>When the method is called by <code>@EventListener(ApplicationReadyEvent.class)</code>, the expected behavior eventually occurs. But when a direct method call occurs, then the loop inside CompletableFuture repeats only once</p>\n<pre><code>    @EventListener(ApplicationReadyEvent.class)\n    public void method1() {\n\n        List&lt;CompletableFuture&lt;Void&gt;&gt; pool = new ArrayList&lt;&gt;();\n        IntStream.range(0, configproperty.getPipelinethreads()).forEach(i -&gt; pool.add(method2()));\n        CompletableFuture.allOf(pool.toArray(CompletableFuture[]::new))\n                .thenRun(() -&gt; {\n                    log.info(&quot;Delta time - &quot; + calcDeltaTime(timeBegin));\n                });\n    }\n\n    private CompletableFuture&lt;Void&gt; method2() {\n\n        return CompletableFuture.runAsync(() -&gt; {\n            do {\n                List&lt;Entity&gt; entityList = facility.fetchEntityList();\n\n                entityList.forEach(entity -&gt; {\n\n                    performStore(entity);\n                });\n            } while (proceed.get());\n        }, asyncThreadPool);//ThreadPoolTaskExecutor\n    }\n</code></pre>\n<p><code>asyncThreadPool</code> pool got a capacity also from <code>configproperty.getPipelinethreads()</code></p>\n<p>I have tried run it using <code>@EventListener(ApplicationReadyEvent.class)</code> in controller's method and it working properly, but direct call the controller make it motionless after few iterations in CompletableFuture. Where should I look to find the essence of the problem?</p>\n"},{"tags":["java","decode","encode"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":2,"creation_date":1673516465,"post_id":75094091,"comment_id":132518447,"body_markdown":"Spaces are perfectly valid in filenames on many platforms. Do you have a specific error?","body":"Spaces are perfectly valid in filenames on many platforms. Do you have a specific error?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673516012,"creation_date":1673516012,"answer_id":75094157,"question_id":75094091,"body_markdown":"`+` in a URL _means_ space. If you want `+` to mean +, that&#39;s bizarre, and no tool exists to do that, because that&#39;s not what URL decoding means. Note that `+` and `%20` in a URL are identical and are both turned into a space, as per spec. If you want `+` to remain `+`, but `%20` to turn into space, you&#39;d have to write your own URL decoder. If you don&#39;t care about `%20`, you can always take the string that the url decoder gives you, and call `.replace(&quot; &quot;, &quot;+&quot;)` on it.","title":"Replacement of URLDecoder","body":"<p><code>+</code> in a URL <em>means</em> space. If you want <code>+</code> to mean +, that's bizarre, and no tool exists to do that, because that's not what URL decoding means. Note that <code>+</code> and <code>%20</code> in a URL are identical and are both turned into a space, as per spec. If you want <code>+</code> to remain <code>+</code>, but <code>%20</code> to turn into space, you'd have to write your own URL decoder. If you don't care about <code>%20</code>, you can always take the string that the url decoder gives you, and call <code>.replace(&quot; &quot;, &quot;+&quot;)</code> on it.</p>\n"},{"tags":[],"owner":{"account_id":792027,"reputation":2645,"user_id":869368,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673516531,"creation_date":1673516531,"answer_id":75094275,"question_id":75094091,"body_markdown":"if you&#39;re talking about parsing the `Content-Disposition` header, which looks like this here for example: \r\n\r\n    Content-Disposition: attachment; filename=&quot;file+name.txt&quot;; \r\n\r\nthen you don&#39;t need to decode what&#39;s written in the quotes using url encoding. What&#39;s inside the quotes is going to be the right filename without encoding necessary. Therefore, the plus represents an actual plus. If it were a space, the header would look like this: \r\n\r\n    Content-Disposition: attachment; filename=&quot;file name.txt&quot;; \r\n\r\nfor some more theory behind this: \r\n\r\nThis [RFC 6266, section 4.1][1] specifies the Content-Disposition header with how the filename should be formatted. They losely mention that the filename is just &quot;as is&quot; and not encoded, but they also reference that details on the encoding can be found in[RFC 2616, Section 3.6][2] that section however does not really detail out the specific encoding. \r\n\r\nSo my suggestion: assume the filename parameter is &quot;right as is&quot;. That is unless you&#39;re expecting to deal with filenames that contain non-ascii characters. in which case, details can also be found in the two mentioned RFCs. \r\n\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6266#section-4.1\r\n  [2]: https://www.rfc-editor.org/rfc/rfc2616#section-3.6","title":"Replacement of URLDecoder","body":"<p>if you're talking about parsing the <code>Content-Disposition</code> header, which looks like this here for example:</p>\n<pre><code>Content-Disposition: attachment; filename=&quot;file+name.txt&quot;; \n</code></pre>\n<p>then you don't need to decode what's written in the quotes using url encoding. What's inside the quotes is going to be the right filename without encoding necessary. Therefore, the plus represents an actual plus. If it were a space, the header would look like this:</p>\n<pre><code>Content-Disposition: attachment; filename=&quot;file name.txt&quot;; \n</code></pre>\n<p>for some more theory behind this:</p>\n<p>This <a href=\"https://www.rfc-editor.org/rfc/rfc6266#section-4.1\" rel=\"nofollow noreferrer\">RFC 6266, section 4.1</a> specifies the Content-Disposition header with how the filename should be formatted. They losely mention that the filename is just &quot;as is&quot; and not encoded, but they also reference that details on the encoding can be found in<a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-3.6\" rel=\"nofollow noreferrer\">RFC 2616, Section 3.6</a> that section however does not really detail out the specific encoding.</p>\n<p>So my suggestion: assume the filename parameter is &quot;right as is&quot;. That is unless you're expecting to deal with filenames that contain non-ascii characters. in which case, details can also be found in the two mentioned RFCs.</p>\n"}],"owner":{"account_id":20291390,"reputation":21,"user_id":14882983,"display_name":"varen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1673547107,"answer_count":2,"score":-2,"last_activity_date":1673591417,"creation_date":1673515705,"question_id":75094091,"body_markdown":"Sorry, I edit question again to make it clearly.\r\n\r\nIf there is a filename called ```abc你好+```.\r\n\r\nWhen this filename pasre in Content-Disposition header as ```abc%E4%BD%A0%E5%A5%BD+```.\r\n\r\nI decode ```abc%E4%BD%A0%E5%A5%BD+``` through java.net.URLDecoder.decode() but it turned to be ```abc你好```, the plus sign is replaced with space, thus the filename is not the original one.\r\n\r\nI wonder if there is build-in method or other 3rd party package to decode and avoid plus pattern to be space. Because I just want to decode the string which had been percentage encoding. Thank you.","title":"Replacement of URLDecoder","body":"<p>Sorry, I edit question again to make it clearly.</p>\n<p>If there is a filename called <code>abc你好+</code>.</p>\n<p>When this filename pasre in Content-Disposition header as <code>abc%E4%BD%A0%E5%A5%BD+</code>.</p>\n<p>I decode <code>abc%E4%BD%A0%E5%A5%BD+</code> through java.net.URLDecoder.decode() but it turned to be <code>abc你好</code>, the plus sign is replaced with space, thus the filename is not the original one.</p>\n<p>I wonder if there is build-in method or other 3rd party package to decode and avoid plus pattern to be space. Because I just want to decode the string which had been percentage encoding. Thank you.</p>\n"},{"tags":["java","spring","apache-camel","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1604493233,"creation_date":1604493233,"answer_id":64680190,"question_id":64680085,"body_markdown":"You should certainly NOT delete the message as soon as you consume it if you are not finished processing it because you will lose the message if your application crashes.  \r\n\r\nWhat you should do instead is **extend the visibility timeout manually** if you realize that your processing time gets close to the original visibility timeout. Not sure how you would implement it in Camel but we previously integrated into the default `springframework.cloud.aws.messaging`: https://github.com/Mercateo/sqs-utils","title":"Apache Camel immediate read from SQS","body":"<p>You should certainly NOT delete the message as soon as you consume it if you are not finished processing it because you will lose the message if your application crashes.</p>\n<p>What you should do instead is <strong>extend the visibility timeout manually</strong> if you realize that your processing time gets close to the original visibility timeout. Not sure how you would implement it in Camel but we previously integrated into the default <code>springframework.cloud.aws.messaging</code>: <a href=\"https://github.com/Mercateo/sqs-utils\" rel=\"nofollow noreferrer\">https://github.com/Mercateo/sqs-utils</a></p>\n"},{"tags":[],"owner":{"account_id":1735496,"reputation":1778,"user_id":1588163,"accept_rate":74,"display_name":"clapas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673590901,"creation_date":1673532733,"answer_id":75097622,"question_id":64680085,"body_markdown":"If, like the OP has stated, you don&#39;t mind about losing the messages in case e.g. of a server crash, there is a workaround consisting in sending the message to a `wireTap` and doing your processing there. This allows the main route to end early and a `deleteMessage` to be sent to the queue.\r\n\r\nAnother interesting, realted situation is that of an exception: if you have an exception handler in place and mark the exception as handled calling `handled(true)` on the `OnExceptionDefinition`, your message will be deleted too.","title":"Apache Camel immediate read from SQS","body":"<p>If, like the OP has stated, you don't mind about losing the messages in case e.g. of a server crash, there is a workaround consisting in sending the message to a <code>wireTap</code> and doing your processing there. This allows the main route to end early and a <code>deleteMessage</code> to be sent to the queue.</p>\n<p>Another interesting, realted situation is that of an exception: if you have an exception handler in place and mark the exception as handled calling <code>handled(true)</code> on the <code>OnExceptionDefinition</code>, your message will be deleted too.</p>\n"}],"owner":{"account_id":15536363,"reputation":209,"user_id":11208460,"display_name":"Alex Faster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673590901,"creation_date":1604492832,"question_id":64680085,"body_markdown":"I have very huge camel pipeline which starts from consuming message from SQS.\r\nThe time requires for whole process is vary. From 5 sec to 30 min, it is hard to guess here.\r\n\r\nWhat I want to achieve: \r\n1) Do not guess visibility timeout size, and just delete message from SQS as soon as message is consumed.\r\n\r\nWhat I already tried: \r\n1) Tried Camel option deleteAfterRead=true -&gt; doesn&#39;t help, because as stated in the doc: **Delete message from SQS after it has been read (and processed by the route).** And I have huge pipeline. So processed requirement fails here.\r\n2) Tried to increase visibility timeout, but as I stated, it is just a guessing game, and I want to develop more reliable solution.\r\n\r\nThank you for help!","title":"Apache Camel immediate read from SQS","body":"<p>I have very huge camel pipeline which starts from consuming message from SQS.\nThe time requires for whole process is vary. From 5 sec to 30 min, it is hard to guess here.</p>\n<p>What I want to achieve:</p>\n<ol>\n<li>Do not guess visibility timeout size, and just delete message from SQS as soon as message is consumed.</li>\n</ol>\n<p>What I already tried:</p>\n<ol>\n<li>Tried Camel option deleteAfterRead=true -&gt; doesn't help, because as stated in the doc: <strong>Delete message from SQS after it has been read (and processed by the route).</strong> And I have huge pipeline. So processed requirement fails here.</li>\n<li>Tried to increase visibility timeout, but as I stated, it is just a guessing game, and I want to develop more reliable solution.</li>\n</ol>\n<p>Thank you for help!</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":18851191,"reputation":14,"user_id":13750298,"display_name":"HIMANSHU RANJAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673590233,"creation_date":1673590233,"answer_id":75105463,"question_id":75100213,"body_markdown":"You can use a @RequestParam annotation for passing a parameter which is not related to the same entity class in this case. \r\nI am adding a code snippet. you can take a reference from it. \r\n```\r\n@PostMapping(&quot;/users&quot;)public String saveUser(@RequestBody User user, @RequestParam(&quot;role_ids&quot;) String roleIds) {\r\n        user.setId(0);\r\n        userservice.saveUser(user, roleIds);\r\n        return &quot;blog saved&quot;;\r\n}\r\n```\r\n\r\nYou&#39;ll need to separate the roleIds and convert it to integer or long in the service layer before saving it. ","title":"How to make a post request when it has a @ManyToMany relationship?","body":"<p>You can use a @RequestParam annotation for passing a parameter which is not related to the same entity class in this case.\nI am adding a code snippet. you can take a reference from it.</p>\n<pre><code>@PostMapping(&quot;/users&quot;)public String saveUser(@RequestBody User user, @RequestParam(&quot;role_ids&quot;) String roleIds) {\n        user.setId(0);\n        userservice.saveUser(user, roleIds);\n        return &quot;blog saved&quot;;\n}\n</code></pre>\n<p>You'll need to separate the roleIds and convert it to integer or long in the service layer before saving it.</p>\n"}],"owner":{"account_id":27329336,"reputation":15,"user_id":20849092,"display_name":"KratosWithoutAtreus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75105463,"answer_count":1,"score":0,"last_activity_date":1673590233,"creation_date":1673544792,"question_id":75100213,"body_markdown":"I have the following tables in my database: **RoleModel** and **UserModel**. The UserModel table has a **@ManyToMany** relationship with RoleModel, where a user can be assigned one or more roles. How should I pass the role_id in the POST request body when registering a user?\r\n\r\n**UserModel**\r\n\r\n    public class UserModel {\r\n    \r\n    \tprivate Long id;\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \t@ManyToMany\r\n    \t@JoinTable(name = &quot;users_roles&quot;,\r\n    \t\t\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n    \t\t\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    \tprivate List&lt;RoleModel&gt; roles;\r\n    }\r\n\r\n**RoleModel**\r\n\r\n    public class RoleModel {\r\n    \r\n    \tprivate Long id;\r\n    \t@Enumerated(EnumType.STRING)\r\n    \tprivate RoleName roleName;\r\n\r\n\r\n**UserDtoRequest** Here is my problem!\r\n\r\n    public class UserDtoRequest {\r\n    \t\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tprivate List&lt;Long&gt; roleModelIds;\r\n    \r\n    }\r\n\r\n\r\nI tried to assemble the request this way in the POSTMAN.\r\n\r\n    {\r\n        &quot;username&quot;: &quot;joao&quot;,\r\n        &quot;password&quot;: &quot;test&quot;,\r\n        &quot;roleModelId&quot;: [\r\n            {\r\n                &quot;id&quot;: 1\r\n            },\r\n            {\r\n                &quot;id&quot;: 2\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n","title":"How to make a post request when it has a @ManyToMany relationship?","body":"<p>I have the following tables in my database: <strong>RoleModel</strong> and <strong>UserModel</strong>. The UserModel table has a <strong>@ManyToMany</strong> relationship with RoleModel, where a user can be assigned one or more roles. How should I pass the role_id in the POST request body when registering a user?</p>\n<p><strong>UserModel</strong></p>\n<pre><code>public class UserModel {\n\n    private Long id;\n    private String username;\n    private String password;\n    @ManyToMany\n    @JoinTable(name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private List&lt;RoleModel&gt; roles;\n}\n</code></pre>\n<p><strong>RoleModel</strong></p>\n<pre><code>public class RoleModel {\n\n    private Long id;\n    @Enumerated(EnumType.STRING)\n    private RoleName roleName;\n</code></pre>\n<p><strong>UserDtoRequest</strong> Here is my problem!</p>\n<pre><code>public class UserDtoRequest {\n    \n    private String username;\n    private String password;\n    private List&lt;Long&gt; roleModelIds;\n\n}\n</code></pre>\n<p>I tried to assemble the request this way in the POSTMAN.</p>\n<pre><code>{\n    &quot;username&quot;: &quot;joao&quot;,\n    &quot;password&quot;: &quot;test&quot;,\n    &quot;roleModelId&quot;: [\n        {\n            &quot;id&quot;: 1\n        },\n        {\n            &quot;id&quot;: 2\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","text-files"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1673518990,"post_id":75094767,"comment_id":132519323,"body_markdown":"The question is where the files is actually located relative to the java file, the jar, the project, etc.","body":"The question is where the files is actually located relative to the java file, the jar, the project, etc."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673519013,"post_id":75094767,"comment_id":132519331,"body_markdown":"It&#39;s not VSCode or the .txt extension that&#39;s causing the problem. When you start the java vm your program opens a file, the vm looks for that file in the process&#39;s working directory. The file obviously is not there. How do you start your program?","body":"It&#39;s not VSCode or the .txt extension that&#39;s causing the problem. When you start the java vm your program opens a file, the vm looks for that file in the process&#39;s working directory. The file obviously is not there. How do you start your program?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1673519266,"post_id":75094767,"comment_id":132519415,"body_markdown":"Don’t post pictures of your source code. Insert the relevant part as text. That’s actually easier than making a screenshot.","body":"Don’t post pictures of your source code. Insert the relevant part as text. That’s actually easier than making a screenshot."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":2,"creation_date":1673519270,"post_id":75094767,"comment_id":132519417,"body_markdown":"Either use absolute addressing, like `C:\\Data\\Integers.txt`, or put the File in the directory where the VM is running the java/jar file. Hint: use `System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));` in your code, it will tell you the execution location.","body":"Either use absolute addressing, like <code>C:\\Data\\Integers.txt</code>, or put the File in the directory where the VM is running the java/jar file. Hint: use <code>System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));</code> in your code, it will tell you the execution location."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673589866,"creation_date":1673589866,"answer_id":75105422,"question_id":75094767,"body_markdown":"Place the `.txt` file in the project root directory so that the code reads to the file location. As shown below\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf the file is not with the project, use absolute paths in the code.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iuIOz.png\r\n  [2]: https://i.stack.imgur.com/lQOer.png","title":"can I use .txt files in JAVA using VS code?","body":"<p>Place the <code>.txt</code> file in the project root directory so that the code reads to the file location. As shown below</p>\n<p><a href=\"https://i.stack.imgur.com/iuIOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iuIOz.png\" alt=\"enter image description here\" /></a></p>\n<p>If the file is not with the project, use absolute paths in the code.</p>\n<p><a href=\"https://i.stack.imgur.com/lQOer.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lQOer.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27508098,"reputation":1,"user_id":20990511,"display_name":"Lama84"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673589866,"creation_date":1673518907,"question_id":75094767,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/6euij.png)](https://i.stack.imgur.com/6euij.png)\r\n\r\nI am trying to access the text file in java and the code I have works in other IDEs but in VS code it keeps saying `File Not Found` - (produced from my exception handling)\r\n\r\nI can&#39;t find anything about how to access text files with VScode. Is this possible please and does anyone know how? \r\n\r\nI have tried to create the file in VScode with the `new text file` option and also by loading a pre-existing file and get the same result each time ","title":"can I use .txt files in JAVA using VS code?","body":"<p><a href=\"https://i.stack.imgur.com/6euij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6euij.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to access the text file in java and the code I have works in other IDEs but in VS code it keeps saying <code>File Not Found</code> - (produced from my exception handling)</p>\n<p>I can't find anything about how to access text files with VScode. Is this possible please and does anyone know how?</p>\n<p>I have tried to create the file in VScode with the <code>new text file</code> option and also by loading a pre-existing file and get the same result each time</p>\n"},{"tags":["java","reactjs","spring"],"comments":[{"owner":{"account_id":1020929,"reputation":3574,"user_id":1031296,"display_name":"vicpermir"},"score":0,"creation_date":1652128532,"post_id":72177926,"comment_id":127526887,"body_markdown":"Does this answer your question? [origin has been blocked by CORS policy Spring boot and React](https://stackoverflow.com/questions/59775325/origin-has-been-blocked-by-cors-policy-spring-boot-and-react)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59775325/origin-has-been-blocked-by-cors-policy-spring-boot-and-react\">origin has been blocked by CORS policy Spring boot and React</a>"},{"owner":{"account_id":21043492,"reputation":1,"user_id":15465335,"display_name":"Fatih Uyanık"},"score":0,"creation_date":1652130939,"post_id":72177926,"comment_id":127527574,"body_markdown":"I tried but it didn&#39;t solve my problem","body":"I tried but it didn&#39;t solve my problem"}],"answers":[{"tags":[],"owner":{"account_id":6638877,"reputation":131,"user_id":5125255,"display_name":"&#199;ağlar YILMAZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673588208,"creation_date":1673588208,"answer_id":75105256,"question_id":72177926,"body_markdown":"Use @CrossOrigin(origins = &quot;*&quot;) annotation Above your controller class\r\n","title":"Java Spring-Boot Access-Control-Allow-Origin Error","body":"<p>Use @CrossOrigin(origins = &quot;*&quot;) annotation Above your controller class</p>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673589621,"creation_date":1673589621,"answer_id":75105399,"question_id":72177926,"body_markdown":"Anotate your spring boot controller class with this:\r\n\r\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;, maxAge = 3600)\r\n\r\n**Set the localhost port number as react listens**","title":"Java Spring-Boot Access-Control-Allow-Origin Error","body":"<p>Anotate your spring boot controller class with this:</p>\n<pre><code>@CrossOrigin(origins = &quot;http://localhost:4200&quot;, maxAge = 3600)\n</code></pre>\n<p><strong>Set the localhost port number as react listens</strong></p>\n"}],"owner":{"account_id":21043492,"reputation":1,"user_id":15465335,"display_name":"Fatih Uyanık"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673589621,"creation_date":1652128320,"question_id":72177926,"body_markdown":"I want to connect react with spring boot application but when I open security settings\r\n&gt; Access to XMLHttpRequest at &#39;http://localhost:8080/sporcu/all&#39; from origin &#39;http://localhost:3000/&#39; has been blocked by CORS policy: No &#39;Access- Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\n i get the error","title":"Java Spring-Boot Access-Control-Allow-Origin Error","body":"<p>I want to connect react with spring boot application but when I open security settings</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'http://localhost:8080/sporcu/all' from origin 'http://localhost:3000/' has been blocked by CORS policy: No 'Access- Control-Allow-Origin' header is present on the requested resource.</p>\n</blockquote>\n<p>i get the error</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10922123,"reputation":563,"user_id":8028034,"display_name":"lxg95"},"score":0,"creation_date":1673535972,"post_id":75098373,"comment_id":132525407,"body_markdown":"ok nice, and what is the question?","body":"ok nice, and what is the question?"},{"owner":{"account_id":27276396,"reputation":11,"user_id":20796942,"display_name":"n0thing1993"},"score":0,"creation_date":1673536130,"post_id":75098373,"comment_id":132525475,"body_markdown":"jpg image in resources directory cannot be accessed in browser","body":"jpg image in resources directory cannot be accessed in browser"},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1673537047,"post_id":75098373,"comment_id":132525882,"body_markdown":"Please [edit] your question and include how you&#39;ve set up the application, what you are attempting and what you expect to happen. Consider reading [ask] or taking the [tour]","body":"Please <a href=\"https://stackoverflow.com/posts/75098373/edit\">edit</a> your question and include how you&#39;ve set up the application, what you are attempting and what you expect to happen. Consider reading <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> or taking the <a href=\"https://stackoverflow.com/tour\">tour</a>"}],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673589416,"creation_date":1673589416,"answer_id":75105384,"question_id":75098373,"body_markdown":"\r\nUnlike what the spring-boot states, to get your spring-boot jar to serve the content: you had to add specifically register my src/main/resources/static content through this config class:\r\n\r\n       @Configuration\r\n       public class StaticResourceConfiguration implements WebMvcConfigurer {\r\n\r\n        private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {\r\n            &quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;,\r\n            &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; };\r\n\r\n       @Override\r\n       public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/**&quot;)\r\n            .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\r\n       }\r\n      }","title":"springboot fails to access static resources","body":"<p>Unlike what the spring-boot states, to get your spring-boot jar to serve the content: you had to add specifically register my src/main/resources/static content through this config class:</p>\n<pre><code>   @Configuration\n   public class StaticResourceConfiguration implements WebMvcConfigurer {\n\n    private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {\n        &quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;,\n        &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; };\n\n   @Override\n   public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/**&quot;)\n        .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\n   }\n  }\n</code></pre>\n"}],"owner":{"account_id":27276396,"reputation":11,"user_id":20796942,"display_name":"n0thing1993"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673589416,"creation_date":1673535866,"question_id":75098373,"body_markdown":"2023-01-12 22:58:37.869  WARN 6052 --- [nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /2.jpg\r\n2023-01-12 22:58:37.952  WARN 6052 --- [nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /2.jpg\r\n\r\n\r\nSetting the profile still does not solve the problem","title":"springboot fails to access static resources","body":"<p>2023-01-12 22:58:37.869  WARN 6052 --- [nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /2.jpg\n2023-01-12 22:58:37.952  WARN 6052 --- [nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /2.jpg</p>\n<p>Setting the profile still does not solve the problem</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","alias","nativequery"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673518545,"post_id":75094671,"comment_id":132519159,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1673518607,"post_id":75094671,"comment_id":132519182,"body_markdown":"What is `countDistanceQuery` in the native query? I&#39;m not sure you can do that there.","body":"What is <code>countDistanceQuery</code> in the native query? I&#39;m not sure you can do that there."},{"owner":{"account_id":27228501,"reputation":1,"user_id":20756611,"display_name":"Narender Singh"},"score":0,"creation_date":1673518667,"post_id":75094671,"comment_id":132519207,"body_markdown":"This will calculate shortest distance between two locations","body":"This will calculate shortest distance between two locations"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673519786,"post_id":75094671,"comment_id":132519587,"body_markdown":"What exactly is the issue? Both images have a distance?","body":"What exactly is the issue? Both images have a distance?"},{"owner":{"account_id":27228501,"reputation":1,"user_id":20756611,"display_name":"Narender Singh"},"score":0,"creation_date":1673520328,"post_id":75094671,"comment_id":132519767,"body_markdown":"I want to print alias distance in my result like this :  https://i.stack.imgur.com/Jx8gD.png","body":"I want to print alias distance in my result like this :  <a href=\"https://i.stack.imgur.com/Jx8gD.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/Jx8gD.png</a>"},{"owner":{"account_id":27228501,"reputation":1,"user_id":20756611,"display_name":"Narender Singh"},"score":0,"creation_date":1673520390,"post_id":75094671,"comment_id":132519784,"body_markdown":"Here distance column value not getting.","body":"Here distance column value not getting."}],"answers":[{"tags":[],"owner":{"account_id":18177897,"reputation":1,"user_id":13226272,"display_name":"PRRASANTHI VS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673520394,"creation_date":1673520394,"answer_id":75095096,"question_id":75094671,"body_markdown":"**@Transient** annotation is used to mark a field to be transient for the mapping framework, which means the field marked with **@Transient** is ignored by mapping framework and the field not mapped to any database column.\r\n\r\nTherefore try representing the distance property with **@Formula** annotation, and apply the distance calculation so that we can obtain the calculated value(I can see that you are calculating the distance based upon the image you have shared).\r\n\r\nWith **@Formula**, we can call native database functions and stored procedures and basically do anything that does not break the syntax of an SQL select clause for this field.\r\n\r\n\r\n\r\nReference: [https://www.concretepage.com/hibernate/formula_hibernate_annotation]","title":"How to show alias column in spring data jpa using native query?","body":"<p><strong>@Transient</strong> annotation is used to mark a field to be transient for the mapping framework, which means the field marked with <strong>@Transient</strong> is ignored by mapping framework and the field not mapped to any database column.</p>\n<p>Therefore try representing the distance property with <strong>@Formula</strong> annotation, and apply the distance calculation so that we can obtain the calculated value(I can see that you are calculating the distance based upon the image you have shared).</p>\n<p>With <strong>@Formula</strong>, we can call native database functions and stored procedures and basically do anything that does not break the syntax of an SQL select clause for this field.</p>\n<p>Reference: [https://www.concretepage.com/hibernate/formula_hibernate_annotation]</p>\n"}],"owner":{"account_id":27228501,"reputation":1,"user_id":20756611,"display_name":"Narender Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673589226,"creation_date":1673518361,"question_id":75094671,"body_markdown":"I want to show it in my response distance field, but I am not able to do it please help.\r\n\r\nHere is my repo class in alias name (distance) I need to attach this distance column with my list of user results.\r\n\r\nRepository\r\n```\r\nString countDistanceQuery = &quot;(3959 * ACOS(COS(RADIANS(:latitude)) * COS(RADIANS(latitude)) * COS(RADIANS(longitude) - RADIANS(:longitude)) + SIN(RADIANS(:latitude)) * SIN(RADIANS(latitude))))&quot;;\r\n\r\n\r\n@Query(value = &quot;SELECT a.* , &quot; + countDistanceQuery + &quot; AS distance FROM user a WHERE a.address LIKE %:address% HAVING distance &lt; 25 ORDER BY distance LIMIT 0, 20&quot; , nativeQuery = true)\r\npublic List&lt;User&gt; getNearsetLoactionOfSitter(String address, String latitude, String longitude);\r\n```\r\n\r\nModel\r\n\r\nHere I will take the distance attribute as a @Transient to know the JPA does not present in the database.\r\n\r\n```\r\npackage com.misha.model;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.ToString;\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@ToString\r\n@Table(name = &quot;user&quot;,uniqueConstraints = { \r\n\t\t@UniqueConstraint(columnNames = &quot;email&quot;) \r\n\t})\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer id;\r\n\r\n\tprivate String contactname;\r\n\t\r\n\t@Column(unique=true)\r\n\tprivate String email;\r\n\r\n\tprivate String password;\r\n\r\n\tprivate String company;\r\n\t\r\n\tprivate String location;\r\n\r\n\tprivate String address;\r\n\r\n\tprivate String latitude;\r\n\r\n\tprivate String longitude;\r\n\r\n\tprivate String open;\r\n\r\n\tprivate String close;\r\n\r\n\tprivate float chargesperhour;\r\n\r\n\tprivate String logo;\r\n\r\n\tprivate boolean enabled;\r\n\t\r\n\t@Transient\r\n\tprivate double distance;\r\n\t\r\n\t@Column(name = &quot;reset_password_token&quot;)\r\n    private String resetPasswordToken;\r\n\t\r\n\t@ManyToMany(fetch = FetchType.EAGER)\r\n\t@JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n\tprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n\tpublic User() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic User(Integer id, String contactname, String email, String password, String company, String location, String address,\r\n\t\t\tString latitude, String longitude, String open, String close, float chargesperhour, String logo,\r\n\t\t\tboolean enabled, String resetPasswordToken) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.contactname = contactname;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.company = company;\r\n\t\tthis.location = location;\r\n\t\tthis.address = address;\r\n\t\tthis.latitude = latitude;\r\n\t\tthis.longitude = longitude;\r\n\t\tthis.open = open;\r\n\t\tthis.close = close;\r\n\t\tthis.chargesperhour = chargesperhour;\r\n\t\tthis.logo = logo;\r\n\t\tthis.enabled = enabled;\r\n\t\tthis.resetPasswordToken = resetPasswordToken;\r\n\t}\r\n\r\n\r\n\tpublic User(Integer id, String contactname, String email, String password, String company, String location,\r\n\t\t\tString address, String latitude, String longitude, String open, String close, float chargesperhour,\r\n\t\t\tString logo, boolean enabled, double distance, String resetPasswordToken, Set&lt;Role&gt; roles) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.contactname = contactname;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.company = company;\r\n\t\tthis.location = location;\r\n\t\tthis.address = address;\r\n\t\tthis.latitude = latitude;\r\n\t\tthis.longitude = longitude;\r\n\t\tthis.open = open;\r\n\t\tthis.close = close;\r\n\t\tthis.chargesperhour = chargesperhour;\r\n\t\tthis.logo = logo;\r\n\t\tthis.enabled = enabled;\r\n\t\tthis.distance = distance;\r\n\t\tthis.resetPasswordToken = resetPasswordToken;\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getContactname() {\r\n\t\treturn contactname;\r\n\t}\r\n\r\n\tpublic void setContactname(String contactname) {\r\n\t\tthis.contactname = contactname;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getCompany() {\r\n\t\treturn company;\r\n\t}\r\n\r\n\tpublic void setCompany(String company) {\r\n\t\tthis.company = company;\r\n\t}\r\n\t\r\n\r\n\tpublic String getLocation() {\r\n\t\treturn location;\r\n\t}\r\n\r\n\tpublic void setLocation(String location) {\r\n\t\tthis.location = location;\r\n\t}\r\n\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\r\n\tpublic void setAddress(String address) {\r\n\t\tthis.address = address;\r\n\t}\r\n\r\n\tpublic String getLatitude() {\r\n\t\treturn latitude;\r\n\t}\r\n\r\n\tpublic void setLatitude(String latitude) {\r\n\t\tthis.latitude = latitude;\r\n\t}\r\n\r\n\tpublic String getLongitude() {\r\n\t\treturn longitude;\r\n\t}\r\n\r\n\tpublic void setLongitude(String longitude) {\r\n\t\tthis.longitude = longitude;\r\n\t}\r\n\r\n\tpublic String getOpen() {\r\n\t\treturn open;\r\n\t}\r\n\r\n\tpublic void setOpen(String open) {\r\n\t\tthis.open = open;\r\n\t}\r\n\r\n\tpublic String getClose() {\r\n\t\treturn close;\r\n\t}\r\n\r\n\tpublic void setClose(String close) {\r\n\t\tthis.close = close;\r\n\t}\r\n\r\n\tpublic float getChargesperhour() {\r\n\t\treturn chargesperhour;\r\n\t}\r\n\r\n\tpublic void setChargesperhour(float chargesperhour) {\r\n\t\tthis.chargesperhour = chargesperhour;\r\n\t}\r\n\r\n\tpublic String getLogo() {\r\n\t\treturn logo;\r\n\t}\r\n\r\n\tpublic void setLogo(String logo) {\r\n\t\tthis.logo = logo;\r\n\t}\r\n\r\n\tpublic boolean isEnabled() {\r\n\t\treturn enabled;\r\n\t}\r\n\r\n\tpublic void setEnabled(boolean enabled) {\r\n\t\tthis.enabled = enabled;\r\n\t}\r\n\t\r\n\tpublic String getResetPasswordToken() {\r\n\t\treturn resetPasswordToken;\r\n\t}\r\n\r\n\tpublic void setResetPasswordToken(String resetPasswordToken) {\r\n\t\tthis.resetPasswordToken = resetPasswordToken;\r\n\t}\r\n\t\r\n\tpublic double getDistance() {\r\n\t\treturn distance;\r\n\t}\r\n\r\n\tpublic void setDistance(double distance) {\r\n\t\tthis.distance = distance;\r\n\t}\r\n\r\n\tpublic Set&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(Set&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nController\r\n\r\n\r\n```\r\n@GetMapping(&quot;/users/search&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;User&gt;&gt; searchNearestLocation(@RequestParam String address, @RequestParam String latitude, @RequestParam String longitude){\r\n\t\t\tif(!address.isEmpty() &amp;&amp; !latitude.isEmpty() &amp;&amp; !longitude.isEmpty()) {\t\t\t\t\r\n\t\ttry {\r\n\t\tList&lt;User&gt; list = userService.getNearsetLoactionOfSitter(address, latitude, longitude);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\tif( list.isEmpty() || list.size() == 0 ) {\r\n\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n\t\t\t}\t\t\r\n\t\t\treturn new ResponseEntity&lt;&gt;(list, HttpStatus.OK);\t\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t\t\t}\t\t\t\r\n\t\t\t}else {\r\n\t\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n\t\t\t}\t\t\r\n\t}\r\n\t\r\n```\r\n\r\n\r\n\r\n[I need to add Distance column in my response](https://i.stack.imgur.com/UcQvV.png)\r\n\r\n[I need to show calculated distance in response][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jx8gD.png","title":"How to show alias column in spring data jpa using native query?","body":"<p>I want to show it in my response distance field, but I am not able to do it please help.</p>\n<p>Here is my repo class in alias name (distance) I need to attach this distance column with my list of user results.</p>\n<p>Repository</p>\n<pre><code>String countDistanceQuery = &quot;(3959 * ACOS(COS(RADIANS(:latitude)) * COS(RADIANS(latitude)) * COS(RADIANS(longitude) - RADIANS(:longitude)) + SIN(RADIANS(:latitude)) * SIN(RADIANS(latitude))))&quot;;\n\n\n@Query(value = &quot;SELECT a.* , &quot; + countDistanceQuery + &quot; AS distance FROM user a WHERE a.address LIKE %:address% HAVING distance &lt; 25 ORDER BY distance LIMIT 0, 20&quot; , nativeQuery = true)\npublic List&lt;User&gt; getNearsetLoactionOfSitter(String address, String latitude, String longitude);\n</code></pre>\n<p>Model</p>\n<p>Here I will take the distance attribute as a @Transient to know the JPA does not present in the database.</p>\n<pre><code>package com.misha.model;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\n\nimport lombok.ToString;\nimport javax.persistence.*;\n\n@Entity\n@ToString\n@Table(name = &quot;user&quot;,uniqueConstraints = { \n        @UniqueConstraint(columnNames = &quot;email&quot;) \n    })\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String contactname;\n    \n    @Column(unique=true)\n    private String email;\n\n    private String password;\n\n    private String company;\n    \n    private String location;\n\n    private String address;\n\n    private String latitude;\n\n    private String longitude;\n\n    private String open;\n\n    private String close;\n\n    private float chargesperhour;\n\n    private String logo;\n\n    private boolean enabled;\n    \n    @Transient\n    private double distance;\n    \n    @Column(name = &quot;reset_password_token&quot;)\n    private String resetPasswordToken;\n    \n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    public User() {\n        super();\n    }\n\n    public User(Integer id, String contactname, String email, String password, String company, String location, String address,\n            String latitude, String longitude, String open, String close, float chargesperhour, String logo,\n            boolean enabled, String resetPasswordToken) {\n        super();\n        this.id = id;\n        this.contactname = contactname;\n        this.email = email;\n        this.password = password;\n        this.company = company;\n        this.location = location;\n        this.address = address;\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.open = open;\n        this.close = close;\n        this.chargesperhour = chargesperhour;\n        this.logo = logo;\n        this.enabled = enabled;\n        this.resetPasswordToken = resetPasswordToken;\n    }\n\n\n    public User(Integer id, String contactname, String email, String password, String company, String location,\n            String address, String latitude, String longitude, String open, String close, float chargesperhour,\n            String logo, boolean enabled, double distance, String resetPasswordToken, Set&lt;Role&gt; roles) {\n        super();\n        this.id = id;\n        this.contactname = contactname;\n        this.email = email;\n        this.password = password;\n        this.company = company;\n        this.location = location;\n        this.address = address;\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.open = open;\n        this.close = close;\n        this.chargesperhour = chargesperhour;\n        this.logo = logo;\n        this.enabled = enabled;\n        this.distance = distance;\n        this.resetPasswordToken = resetPasswordToken;\n        this.roles = roles;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getContactname() {\n        return contactname;\n    }\n\n    public void setContactname(String contactname) {\n        this.contactname = contactname;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getCompany() {\n        return company;\n    }\n\n    public void setCompany(String company) {\n        this.company = company;\n    }\n    \n\n    public String getLocation() {\n        return location;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(String latitude) {\n        this.latitude = latitude;\n    }\n\n    public String getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(String longitude) {\n        this.longitude = longitude;\n    }\n\n    public String getOpen() {\n        return open;\n    }\n\n    public void setOpen(String open) {\n        this.open = open;\n    }\n\n    public String getClose() {\n        return close;\n    }\n\n    public void setClose(String close) {\n        this.close = close;\n    }\n\n    public float getChargesperhour() {\n        return chargesperhour;\n    }\n\n    public void setChargesperhour(float chargesperhour) {\n        this.chargesperhour = chargesperhour;\n    }\n\n    public String getLogo() {\n        return logo;\n    }\n\n    public void setLogo(String logo) {\n        this.logo = logo;\n    }\n\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n    }\n    \n    public String getResetPasswordToken() {\n        return resetPasswordToken;\n    }\n\n    public void setResetPasswordToken(String resetPasswordToken) {\n        this.resetPasswordToken = resetPasswordToken;\n    }\n    \n    public double getDistance() {\n        return distance;\n    }\n\n    public void setDistance(double distance) {\n        this.distance = distance;\n    }\n\n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@GetMapping(&quot;/users/search&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; searchNearestLocation(@RequestParam String address, @RequestParam String latitude, @RequestParam String longitude){\n            if(!address.isEmpty() &amp;&amp; !latitude.isEmpty() &amp;&amp; !longitude.isEmpty()) {             \n        try {\n        List&lt;User&gt; list = userService.getNearsetLoactionOfSitter(address, latitude, longitude);\n                    \n                    \n        if( list.isEmpty() || list.size() == 0 ) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n            }       \n            return new ResponseEntity&lt;&gt;(list, HttpStatus.OK);           \n        }catch(Exception e) {\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n                }           \n            }else {\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n            }       \n    }\n    \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UcQvV.png\" rel=\"nofollow noreferrer\">I need to add Distance column in my response</a></p>\n<p><a href=\"https://i.stack.imgur.com/Jx8gD.png\" rel=\"nofollow noreferrer\">I need to show calculated distance in response</a></p>\n"},{"tags":["java","arrays","algorithm","binary","decimal"],"answers":[{"tags":[],"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1417616047,"creation_date":1417616047,"answer_id":27273905,"question_id":27273849,"body_markdown":"Should be\r\n\r\n    randombanana = a[x] + b[x] + carryover;\r\n\r\n","title":"Adding binary numbers in Java","body":"<p>Should be</p>\n\n<pre><code>randombanana = a[x] + b[x] + carryover;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5419198,"reputation":1,"user_id":4313439,"display_name":"agreene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417616216,"creation_date":1417616216,"answer_id":27273971,"question_id":27273849,"body_markdown":"Your for loop isn&#39;t handling the 0th bit\r\n\r\n    for(x = 7; x &gt;= 0; x--){","title":"Adding binary numbers in Java","body":"<p>Your for loop isn't handling the 0th bit</p>\n\n<pre><code>for(x = 7; x &gt;= 0; x--){\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4418840,"reputation":7587,"user_id":3599535,"accept_rate":39,"display_name":"Riyafa Abdul Hameed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558350279,"creation_date":1558350279,"answer_id":56219659,"question_id":27273849,"body_markdown":"Assuming the two numbers are of the same length the numbers could be added as follows:\r\n\r\n \r\n\r\n    public static int[] addNumbers(int[] firstNum, int[] secondNum) {\r\n            int[] result = new int[firstNum.length + 1];\r\n            int digitSum, carry = 0, i;\r\n            for (i = firstNum.length - 1; i &gt;= 0; i--) {\r\n                digitSum = firstNum[i] + secondNum[i] + carry;\r\n                result[i + 1] = digitSum % 2;\r\n                carry = digitSum / 2;\r\n            }\r\n            result[0] = carry;\r\n            return result;\r\n        }","title":"Adding binary numbers in Java","body":"<p>Assuming the two numbers are of the same length the numbers could be added as follows:</p>\n\n<pre><code>public static int[] addNumbers(int[] firstNum, int[] secondNum) {\n        int[] result = new int[firstNum.length + 1];\n        int digitSum, carry = 0, i;\n        for (i = firstNum.length - 1; i &gt;= 0; i--) {\n            digitSum = firstNum[i] + secondNum[i] + carry;\n            result[i + 1] = digitSum % 2;\n            carry = digitSum / 2;\n        }\n        result[0] = carry;\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20266675,"reputation":3,"user_id":14863691,"display_name":"Mites97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673588815,"creation_date":1673587752,"answer_id":75105206,"question_id":27273849,"body_markdown":"Here is a short and crisp solution.\r\n\r\n     public static int [] addBinaryNumbers(int a[],int b[])\r\n        {\r\n            int n =Integer.max(a.length, b.length);\r\n            int c[]=new int[n+1];\r\n            int carry =0;\r\n            for(int i=0;i&lt;n;i++)\r\n            {\r\n                c[n-i]=(a[i]+b[i]+carry)%2;\r\n                carry= (a[i]+b[i]+carry) /2;\r\n            }\r\n            c[n]=carry;\r\n            return c;\r\n        }","title":"Adding binary numbers in Java","body":"<p>Here is a short and crisp solution.</p>\n<pre><code> public static int [] addBinaryNumbers(int a[],int b[])\n    {\n        int n =Integer.max(a.length, b.length);\n        int c[]=new int[n+1];\n        int carry =0;\n        for(int i=0;i&lt;n;i++)\n        {\n            c[n-i]=(a[i]+b[i]+carry)%2;\n            carry= (a[i]+b[i]+carry) /2;\n        }\n        c[n]=carry;\n        return c;\n    }\n</code></pre>\n"}],"owner":{"account_id":2707308,"reputation":246,"user_id":2336634,"accept_rate":50,"display_name":"KC McLaughlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27273905,"answer_count":4,"score":0,"last_activity_date":1673588815,"creation_date":1417615894,"question_id":27273849,"body_markdown":"I have a function which takes two binary numbers as an array of integers, adds the numbers, then returns the sum as a new array of integers.\r\n\r\n    public static int[] addBin(int a[], int b[]){\r\n          int[] sum = {0, 0, 0, 0, 0, 0, 0, 0};\r\n          int carryover = 0;\r\n          int randombanana = 0;\r\n          int x = 7;\r\n          for(x = 7; x &gt; 0; x--){\r\n            randombanana = a[x] + a[x] + carryover;\r\n            if(randombanana == 1){\r\n              sum[x] = 1;\r\n              carryover = 0;\r\n            }\r\n            else if(randombanana == 2){\r\n              sum[x] = 0;\r\n              carryover = 1;\r\n            }\r\n            else if(randombanana == 3){\r\n              sum[x] = 1;\r\n              carryover = 1;\r\n            }\r\n            else if(randombanana == 0){\r\n              sum[x] = 0;\r\n              carryover = 0;\r\n            }\r\n            else{\r\n              System.out.println(&quot;Either I [censored] up, or you [censored] up.  I&#39;m a genius so I&#39;m going to assume you [censored] up&quot;);\r\n            }\r\n          }\r\n              if(carryover == 1){\r\n                sum[x] = 1;\r\n          }\r\n          return sum;\r\n        }\r\n\r\nThe code works fine on single digit numbers, including numbers that require carrying a digit, but on double or triple digit numbers it works when a number is added to itself, but not when different multiple digit numbers are added.","title":"Adding binary numbers in Java","body":"<p>I have a function which takes two binary numbers as an array of integers, adds the numbers, then returns the sum as a new array of integers.</p>\n\n<pre><code>public static int[] addBin(int a[], int b[]){\n      int[] sum = {0, 0, 0, 0, 0, 0, 0, 0};\n      int carryover = 0;\n      int randombanana = 0;\n      int x = 7;\n      for(x = 7; x &gt; 0; x--){\n        randombanana = a[x] + a[x] + carryover;\n        if(randombanana == 1){\n          sum[x] = 1;\n          carryover = 0;\n        }\n        else if(randombanana == 2){\n          sum[x] = 0;\n          carryover = 1;\n        }\n        else if(randombanana == 3){\n          sum[x] = 1;\n          carryover = 1;\n        }\n        else if(randombanana == 0){\n          sum[x] = 0;\n          carryover = 0;\n        }\n        else{\n          System.out.println(\"Either I [censored] up, or you [censored] up.  I'm a genius so I'm going to assume you [censored] up\");\n        }\n      }\n          if(carryover == 1){\n            sum[x] = 1;\n      }\n      return sum;\n    }\n</code></pre>\n\n<p>The code works fine on single digit numbers, including numbers that require carrying a digit, but on double or triple digit numbers it works when a number is added to itself, but not when different multiple digit numbers are added.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"score":0,"creation_date":1673580503,"post_id":75104561,"comment_id":132536400,"body_markdown":"tried that and no that still does not work","body":"tried that and no that still does not work"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673580596,"post_id":75104561,"comment_id":132536406,"body_markdown":"Then i expect you would need to use the Wrapper classes Boolean. This [link](https://stackoverflow.com/q/36507509/16034206) is somewhat similar. I think its because streams dont work with primitives?","body":"Then i expect you would need to use the Wrapper classes Boolean. This <a href=\"https://stackoverflow.com/q/36507509/16034206\">link</a> is somewhat similar. I think its because streams dont work with primitives?"},{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1673581156,"post_id":75104561,"comment_id":132536491,"body_markdown":"The stream in your code and in general is only capable of producing an Object[] if you attempt to collect it into an array. Using a list will at least allow you to maintain the type you want to convert it into.","body":"The stream in your code and in general is only capable of producing an Object[] if you attempt to collect it into an array. Using a list will at least allow you to maintain the type you want to convert it into."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1673581523,"post_id":75104561,"comment_id":132536528,"body_markdown":"`Boolean[] isAvailableArray =  class1List.stream().map(e -&gt; e.isAvailable()).toArray(Boolean[]::new);`","body":"<code>Boolean[] isAvailableArray =  class1List.stream().map(e -&gt; e.isAvailable()).toArray(Boolean[]::new);</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673596765,"post_id":75104561,"comment_id":132539079,"body_markdown":"Why do you even want a `boolean[]`? It’s very likely that whatever you want to do with the boolean array afterwards, can be done directly or at least, with an alternative way not requiring the boolean array.","body":"Why do you even want a <code>boolean[]</code>? It’s very likely that whatever you want to do with the boolean array afterwards, can be done directly or at least, with an alternative way not requiring the boolean array."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1673621258,"post_id":75104561,"comment_id":132546835,"body_markdown":"Does this answer your question? [Convert a Object\\[\\] of booleans to a boolean\\[\\] using streams](https://stackoverflow.com/questions/36507509/convert-a-object-of-booleans-to-a-boolean-using-streams)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36507509/convert-a-object-of-booleans-to-a-boolean-using-streams\">Convert a Object&#91;&#93; of booleans to a boolean&#91;&#93; using streams</a>"}],"answers":[{"tags":[],"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673585971,"creation_date":1673585971,"answer_id":75105016,"question_id":75104561,"body_markdown":"As you can see in the following example, the stream handles the primitive boolean values correctly (it creates Boolean objects). However, when `toArray` is used without a `generator` param (constructor), it falls back to an `Object` array.\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    public class BooleanStream {\r\n        public static class SomeClass {\r\n            public boolean isAvailable() {\r\n                return true;\r\n            }\r\n        }\r\n        @Test\r\n        public void testBoolean() {\r\n            List&lt;ByteArray.SomeClass&gt; list = new ArrayList&lt;&gt;();\r\n            ByteArray.SomeClass someClass = new ByteArray.SomeClass();\r\n            list.add(someClass);\r\n    \r\n            Object[] isAvailableArray = list.stream().map(e -&gt; e.isAvailable()).toArray();\r\n            assertTrue(isAvailableArray[0] instanceof Boolean);\r\n        }\r\n    }\r\n\r\nAs [experiment-unit-1998x][1] pointed out, the best solution is probably the generator param.\r\n\r\n  [1]: https://stackoverflow.com/users/16034206/experiment-unit-1998x","title":"how to create boolean array from stream","body":"<p>As you can see in the following example, the stream handles the primitive boolean values correctly (it creates Boolean objects). However, when <code>toArray</code> is used without a <code>generator</code> param (constructor), it falls back to an <code>Object</code> array.</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\npublic class BooleanStream {\n    public static class SomeClass {\n        public boolean isAvailable() {\n            return true;\n        }\n    }\n    @Test\n    public void testBoolean() {\n        List&lt;ByteArray.SomeClass&gt; list = new ArrayList&lt;&gt;();\n        ByteArray.SomeClass someClass = new ByteArray.SomeClass();\n        list.add(someClass);\n\n        Object[] isAvailableArray = list.stream().map(e -&gt; e.isAvailable()).toArray();\n        assertTrue(isAvailableArray[0] instanceof Boolean);\n    }\n}\n</code></pre>\n<p>As <a href=\"https://stackoverflow.com/users/16034206/experiment-unit-1998x\">experiment-unit-1998x</a> pointed out, the best solution is probably the generator param.</p>\n"}],"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673588497,"creation_date":1673580242,"question_id":75104561,"body_markdown":"I have a list of `Class1`, which has a method `isAvailable()` which returns a boolean.\r\n\r\nI am trying to create an array of boolean from this.\r\n\r\nSo far I have tried the below:\r\n\r\n    List&lt;Class1&gt; class1List;\r\n    boolean[] isAvailableArray =  class1List.stream()\r\n\t\t\t\t\t\t\t                .map(e -&gt; e.isAvailable())\r\n                                            .toArray();\r\n\r\nHowever this is throwing  a ___can&#39;t convert from `Object[]` to `boolean[]`___ error.\r\n\r\nWhat is the reason for this. \r\n","title":"how to create boolean array from stream","body":"<p>I have a list of <code>Class1</code>, which has a method <code>isAvailable()</code> which returns a boolean.</p>\n<p>I am trying to create an array of boolean from this.</p>\n<p>So far I have tried the below:</p>\n<pre><code>List&lt;Class1&gt; class1List;\nboolean[] isAvailableArray =  class1List.stream()\n                                        .map(e -&gt; e.isAvailable())\n                                        .toArray();\n</code></pre>\n<p>However this is throwing  a <em><strong>can't convert from <code>Object[]</code> to <code>boolean[]</code></strong></em> error.</p>\n<p>What is the reason for this.</p>\n"},{"tags":["python","java","ubuntu","conda"],"answers":[{"tags":[],"owner":{"account_id":20724483,"reputation":113838,"user_id":15239951,"display_name":"Corralien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673588444,"creation_date":1673588444,"answer_id":75105274,"question_id":75105205,"body_markdown":"I recommend you to install Python3.9 from PPA:\r\n\r\n```\r\n$ sudo add-apt-repository ppa:deadsnakes/ppa\r\n$ sudo apt install python3.9\r\n```\r\n\r\nNow you can use `python3.9`:\r\n```\r\n$ python3.9 --version\r\n$ python3.9 -m pip install -r requirements.txt\r\n```","title":"Use an older python version in Ubuntu when executing a binary from Java using ProcessBuilder","body":"<p>I recommend you to install Python3.9 from PPA:</p>\n<pre><code>$ sudo add-apt-repository ppa:deadsnakes/ppa\n$ sudo apt install python3.9\n</code></pre>\n<p>Now you can use <code>python3.9</code>:</p>\n<pre><code>$ python3.9 --version\n$ python3.9 -m pip install -r requirements.txt\n</code></pre>\n"}],"owner":{"account_id":432990,"reputation":1632,"user_id":818072,"accept_rate":82,"display_name":"Egor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673588444,"creation_date":1673587734,"question_id":75105205,"body_markdown":"I have a Java SpringBoot app that does audio processing and builds to a docker container based on Ubuntu. The app uses a third-party binary tool (https://github.com/shaka-project/shaka-packager) like \r\n```\r\nProcessBuilder pb = new ProcessBuilder();\r\npb.command(&quot;shaka-packager&quot;, &quot;-input foo&quot;, &quot;-output bar&quot;);\r\npb.start().waitFor();\r\n```\r\n\r\nProblem:\r\nWe started updating versions of Java, etc, and are using a newer version of Ubuntu 22.04, which comes with Python 3.10. This broke shaka-packager, because it has some python component that does `from collections import Mapping`, which has been deprecated and moved to `collections.abc`.\r\n\r\nI&#39;m trying to figure out if there is a way I can run the shaka packager in a virtual 3.9 python environment. I messed around with conda for a bit, but can&#39;t seem to get it to work with Java&#39;s `ProcessBuilder` calls. `conda activate` works in interactive shells, but `ProcessBuilder` creates a new shell for every invocation. I thought `conda run` would do it, but it seems to only work with python scripts and not compiled binaries. \r\n\r\nAny suggestions on how to approach this? I could fork shaka packager and fix the python script that&#39;s failing (and submit a PR), but I would prefer not maintaining our own fork long-term if the owner doesn&#39;t merge it. I would also love to move away from a binary and use a Java library instead, but haven&#39;t found one that does everything shaka can do and I don&#39;t think I have the time to experiment with a mix of different libraries to get full feature parity.","title":"Use an older python version in Ubuntu when executing a binary from Java using ProcessBuilder","body":"<p>I have a Java SpringBoot app that does audio processing and builds to a docker container based on Ubuntu. The app uses a third-party binary tool (<a href=\"https://github.com/shaka-project/shaka-packager\" rel=\"nofollow noreferrer\">https://github.com/shaka-project/shaka-packager</a>) like</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder();\npb.command(&quot;shaka-packager&quot;, &quot;-input foo&quot;, &quot;-output bar&quot;);\npb.start().waitFor();\n</code></pre>\n<p>Problem:\nWe started updating versions of Java, etc, and are using a newer version of Ubuntu 22.04, which comes with Python 3.10. This broke shaka-packager, because it has some python component that does <code>from collections import Mapping</code>, which has been deprecated and moved to <code>collections.abc</code>.</p>\n<p>I'm trying to figure out if there is a way I can run the shaka packager in a virtual 3.9 python environment. I messed around with conda for a bit, but can't seem to get it to work with Java's <code>ProcessBuilder</code> calls. <code>conda activate</code> works in interactive shells, but <code>ProcessBuilder</code> creates a new shell for every invocation. I thought <code>conda run</code> would do it, but it seems to only work with python scripts and not compiled binaries.</p>\n<p>Any suggestions on how to approach this? I could fork shaka packager and fix the python script that's failing (and submit a PR), but I would prefer not maintaining our own fork long-term if the owner doesn't merge it. I would also love to move away from a binary and use a Java library instead, but haven't found one that does everything shaka can do and I don't think I have the time to experiment with a mix of different libraries to get full feature parity.</p>\n"},{"tags":["java","spring-security","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1582545258,"post_id":60375346,"comment_id":106802013,"body_markdown":"Remove the `findOne` method or add an `@Query` to add the query. That simply doesn&#39;t work.","body":"Remove the <code>findOne</code> method or add an <code>@Query</code> to add the query. That simply doesn&#39;t work."},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1582546934,"post_id":60375346,"comment_id":106802868,"body_markdown":"how are the methods `findById(Long id);` and `Message findOne(Long id);` different? what are you expecting from those two methods? seems same for me.(finding Message by its Id)","body":"how are the methods <code>findById(Long id);</code> and <code>Message findOne(Long id);</code> different? what are you expecting from those two methods? seems same for me.(finding Message by its Id)"}],"answers":[{"tags":[],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673588381,"creation_date":1582548318,"answer_id":60376233,"question_id":60375346,"body_markdown":"Spring data will convert your method names to actual database queries. But this doesn&#39;t happen magically. Of course spring does magic, But you have to follow the syntax.\r\n\r\nIn your first method, `Message findById(Long id);` Spring understands that you need Message object and you need to find that by message_id. This is converted it to somewhat like the following.\r\n\r\n`select msg from Message msg where msg.id = ?1`;\r\n \r\n`?1` will be replaced by your method argument.\r\n\r\nIf you do not wish Spring to generate the query for you, then you have to use `@Query` and provide your own custom query.(Method name does not matter in this case.)\r\n\r\nyou can achieve this as mentioned [here][1].\r\n\r\nNow, coming back to your error,\r\nSpring is not able to understand your method `Message findOne(Long id);`. \r\nBecause it is expecting the syntax `findBy`.\r\n\r\nYou can find the valid method names from  [spring documentations][2].\r\n\r\nWhat I don&#39;t understand is, how are methods ` Message findById(Long id);` and `Message findOne(Long id);` different. I suppose they both try to get Message from messageId.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53374883/query-annotation-with-custom-class-spring-boot-java\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","title":"findById(ID) in CrudRepository - attempting to use incompatible return type","body":"<p>Spring data will convert your method names to actual database queries. But this doesn't happen magically. Of course spring does magic, But you have to follow the syntax.</p>\n<p>In your first method, <code>Message findById(Long id);</code> Spring understands that you need Message object and you need to find that by message_id. This is converted it to somewhat like the following.</p>\n<p><code>select msg from Message msg where msg.id = ?1</code>;</p>\n<p><code>?1</code> will be replaced by your method argument.</p>\n<p>If you do not wish Spring to generate the query for you, then you have to use <code>@Query</code> and provide your own custom query.(Method name does not matter in this case.)</p>\n<p>you can achieve this as mentioned <a href=\"https://stackoverflow.com/questions/53374883/query-annotation-with-custom-class-spring-boot-java\">here</a>.</p>\n<p>Now, coming back to your error,\nSpring is not able to understand your method <code>Message findOne(Long id);</code>.\nBecause it is expecting the syntax <code>findBy</code>.</p>\n<p>You can find the valid method names from  <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">spring documentations</a>.</p>\n<p>What I don't understand is, how are methods <code> Message findById(Long id);</code> and <code>Message findOne(Long id);</code> different. I suppose they both try to get Message from messageId.</p>\n"}],"owner":{"account_id":17833749,"reputation":33,"user_id":12953201,"display_name":"Ion Efrem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7620,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60376233,"answer_count":1,"score":3,"last_activity_date":1673588381,"creation_date":1582545085,"question_id":60375346,"body_markdown":"I have defined message entity\r\n\r\n```java\r\n@Entity\r\npublic class Message {\r\n    @Id\r\n    @GeneratedValue()\r\n    private long id;\r\n\r\n    @OneToOne\r\n    @NotNull\r\n    private User user;\r\n\r\n    @NotEmpty(message = &quot;text is required&quot;)\r\n    private String text;\r\n\r\n    @NotEmpty(message = &quot;title is required&quot;)\r\n    private String title;\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n\r\n```\r\n\r\nand CrudRepository\r\n\r\n```java\r\npublic interface MessageRepository extends CrudRepository&lt;Message, Long&gt; {\r\n\r\n\r\n    @PostAuthorize(&quot;hasPermission(returnObject, &#39;message&#39;)&quot;)\r\n    Message findById(Long id);\r\n\r\n    Iterable&lt;Message&gt; findByUserId(Long id);\r\n\r\n    @PostAuthorize(&quot;hasPermission(returnObject, &#39;privateMessage&#39;)&quot;)\r\n    Message findOne(Long id);\r\n\r\n}\r\n\r\n```\r\nI get the following error\r\n[Error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WFC5e.png\r\n\r\nWhen I use\r\n```java\r\n @PostAuthorize(&quot;hasPermission(returnObject, &#39;message&#39;)&quot;)\r\n  Optional&lt;Message&gt; findById(Long id);\r\n```\r\nstill doesn&#39;t work.\r\nI get, that the &quot;Message message = messageRepository.findById(id);&quot; cannot be converted and i should change  variable &quot;message&quot; type to the &quot;Optional&lt;&quot;Message&gt;&quot;\r\n\r\nWhen I do that, I get following error:\r\n```error\r\nError creating bean with name &#39;defaultController&#39;: Unsatisfied dependency expressed through field &#39;messageRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.chapter5.data.Message com.example.chapter5.data.MessageRepository.findOne(java.lang.Long)! No property findOne found for type Message!\r\n``` \r\n\r\nCan someone suggest an alternative solution?\r\nThanks\r\n","title":"findById(ID) in CrudRepository - attempting to use incompatible return type","body":"<p>I have defined message entity</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Message {\n    @Id\n    @GeneratedValue()\n    private long id;\n\n    @OneToOne\n    @NotNull\n    private User user;\n\n    @NotEmpty(message = \"text is required\")\n    private String text;\n\n    @NotEmpty(message = \"title is required\")\n    private String title;\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n}\n\n</code></pre>\n\n<p>and CrudRepository</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface MessageRepository extends CrudRepository&lt;Message, Long&gt; {\n\n\n    @PostAuthorize(\"hasPermission(returnObject, 'message')\")\n    Message findById(Long id);\n\n    Iterable&lt;Message&gt; findByUserId(Long id);\n\n    @PostAuthorize(\"hasPermission(returnObject, 'privateMessage')\")\n    Message findOne(Long id);\n\n}\n\n</code></pre>\n\n<p>I get the following error\n<a href=\"https://i.stack.imgur.com/WFC5e.png\" rel=\"nofollow noreferrer\">Error</a></p>\n\n<p>When I use</p>\n\n<pre class=\"lang-java prettyprint-override\"><code> @PostAuthorize(\"hasPermission(returnObject, 'message')\")\n  Optional&lt;Message&gt; findById(Long id);\n</code></pre>\n\n<p>still doesn't work.\nI get, that the \"Message message = messageRepository.findById(id);\" cannot be converted and i should change  variable \"message\" type to the \"Optional&lt;\"Message>\"</p>\n\n<p>When I do that, I get following error:</p>\n\n<pre><code>Error creating bean with name 'defaultController': Unsatisfied dependency expressed through field 'messageRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.chapter5.data.Message com.example.chapter5.data.MessageRepository.findOne(java.lang.Long)! No property findOne found for type Message!\n</code></pre>\n\n<p>Can someone suggest an alternative solution?\nThanks</p>\n"},{"tags":["java","spring-boot","cors"],"comments":[{"owner":{"account_id":18115590,"reputation":131,"user_id":13172277,"display_name":"Dunick"},"score":0,"creation_date":1667580303,"post_id":74320296,"comment_id":131207884,"body_markdown":"See the error message from the console. Have you tried to place the same request from the client side without credentials included?","body":"See the error message from the console. Have you tried to place the same request from the client side without credentials included?"}],"answers":[{"tags":[],"owner":{"account_id":2460702,"reputation":171,"user_id":2144940,"display_name":"Eduardo Felipe Zambom Santana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667595236,"creation_date":1667595236,"answer_id":74322863,"question_id":74320296,"body_markdown":"I had the same issue in my application, and my solution was configure it in the HttpSecurity. The code is:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\r\n            CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\r\n            corsConfiguration.addAllowedMethod(&quot;*&quot;);\r\n            httpSecurity\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/**&quot;).permitAll()\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .cors().configurationSource(request -&gt; corsConfiguration)\r\n                .and()\r\n                .csrf().disable();\r\n        }\r\n\r\n    }","title":"CORS error is not fixed despite allowing all origins, all methods, and all headers","body":"<p>I had the same issue in my application, and my solution was configure it in the HttpSecurity. The code is:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n\n        CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\n        corsConfiguration.addAllowedMethod(&quot;*&quot;);\n        httpSecurity\n            .authorizeRequests()\n            .antMatchers(&quot;/**&quot;).permitAll()\n            .anyRequest().permitAll()\n            .and()\n            .cors().configurationSource(request -&gt; corsConfiguration)\n            .and()\n            .csrf().disable();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26678684,"reputation":11,"user_id":20288956,"display_name":"serin-B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673588123,"creation_date":1667579967,"question_id":74320296,"body_markdown":"We used Java-Spring boot, and React - CRA. we deployed a server using AWS EC2 and a client using AWS S3.\r\n\r\nBut the website does not work properly due to a CORS error. \r\n\r\nHere is the error I see in my console:\r\n\r\n`GET http://ec2-13-125-208-244.ap-northeast-2.compute.amazonaws.com:8080/api/questions/1/answers net::ERR_FAILED 200`\r\n\r\nWe try.....\r\n\r\n\\&lt; In Client \\&gt; \r\n\r\nwe used &#39;http-proxy-middleware&#39; in the development phase and put the server address deployed to EC2 using the `.env.development/.env.production` environment variable. (Put the EC2 server address in `.env.production` and an empty string (&quot;&quot;) in `.env.development` to solve the local problem.)\r\n\r\nAlso, we are using axios and tried putting {withCredentials: true} in the request header\r\n\r\nBefore using environment variables, set the baseUrl using an instance.\r\n\r\n`const instance = axios.create({baseURL: &#39;``https://http``://~~.s3-website.ap-northeast-2.amazonaws.com/&#39;});`\r\n\r\nIn &#39;localhost: 3000&#39;, it works fine. But it doesn&#39;t work with a static website using Amazon S3.\r\n\r\n\\&lt;In Sever\\&gt;\r\n\r\nWe wrote code related to CORS like this, but it didn&#39;t work.\r\n\r\n```\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n}\r\n```\r\n\r\n```\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://pre-project-038-client.s3-website.ap-northeast-2.amazonaws.com/questions&quot;));\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n}\r\n```\r\n\r\nI know it is vulnerable to security, but I wrote the following code to solve the CORS error in Java.\r\n\r\n```\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.addAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n    configuration.addAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n    configuration.addAllowedHeader(Arrays.asList(&quot;*&quot;));\r\n    configuration.setAllowCredentials(true);\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n}\r\n```\r\n\r\nThe response status is 200, but still, no data is loaded on the screen due to a CORS error.\r\n\r\nWhat can we try on the client or server side?","title":"CORS error is not fixed despite allowing all origins, all methods, and all headers","body":"<p>We used Java-Spring boot, and React - CRA. we deployed a server using AWS EC2 and a client using AWS S3.</p>\n<p>But the website does not work properly due to a CORS error.</p>\n<p>Here is the error I see in my console:</p>\n<p><code>GET http://ec2-13-125-208-244.ap-northeast-2.compute.amazonaws.com:8080/api/questions/1/answers net::ERR_FAILED 200</code></p>\n<p>We try.....</p>\n<p>&lt; In Client &gt;</p>\n<p>we used 'http-proxy-middleware' in the development phase and put the server address deployed to EC2 using the <code>.env.development/.env.production</code> environment variable. (Put the EC2 server address in <code>.env.production</code> and an empty string (&quot;&quot;) in <code>.env.development</code> to solve the local problem.)</p>\n<p>Also, we are using axios and tried putting {withCredentials: true} in the request header</p>\n<p>Before using environment variables, set the baseUrl using an instance.</p>\n<p><code>const instance = axios.create({baseURL: '``https://http``://~~.s3-website.ap-northeast-2.amazonaws.com/'});</code></p>\n<p>In 'localhost: 3000', it works fine. But it doesn't work with a static website using Amazon S3.</p>\n<p>&lt;In Sever&gt;</p>\n<p>We wrote code related to CORS like this, but it didn't work.</p>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://pre-project-038-client.s3-website.ap-northeast-2.amazonaws.com/questions&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>I know it is vulnerable to security, but I wrote the following code to solve the CORS error in Java.</p>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.addAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    configuration.addAllowedMethods(Arrays.asList(&quot;*&quot;));\n    configuration.addAllowedHeader(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowCredentials(true);\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>The response status is 200, but still, no data is loaded on the screen due to a CORS error.</p>\n<p>What can we try on the client or server side?</p>\n"},{"tags":["java","spring","cors","xmlhttprequest"],"answers":[{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666039293,"creation_date":1666039293,"answer_id":74103020,"question_id":74102251,"body_markdown":"You can try to create the class as described below. Then, you would not need this manual configuration within spring-security\r\n\r\n```java\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\r\n    }\r\n}\r\n\r\n```\r\n*Name of the class (WebConfiguration) is up to you*","title":"No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. I have tried looking at other solutions on here but so far unsuccessful","body":"<p>You can try to create the class as described below. Then, you would not need this manual configuration within spring-security</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\n    }\n}\n\n</code></pre>\n<p><em>Name of the class (WebConfiguration) is up to you</em></p>\n"}],"owner":{"account_id":5462244,"reputation":62,"user_id":15446557,"display_name":"Rav Singh Sandhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673588066,"creation_date":1666034726,"question_id":74102251,"body_markdown":"Hi I am getting following error: \r\n```  \r\nAccess to XMLHttpRequest at &#39;https:xyztest.com/as/authorization.oauth2?client_id=newpeteGAQA&amp;redirect_uri=http://localhost:8080/login&amp;response_type=code&amp;scope=openid%20profile&amp;state=B2Rig4&#39; \r\n(redirected from &#39;http://localhost:8080/health-incidents&#39;) from origin &#39;http://localhost:8081&#39; has been blocked by CORS policy: \r\nNo &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\nnewrelic.js:1          GET https://testxyz.com/as/authorization.oauth2?client_id=newpeteGAQA&amp;redirect_uri=http://localhost:8080/login&amp;response_type=code&amp; ```\r\n\r\n\r\n\r\n\r\n```\r\n I have tried adding following headers to fix the error but it still keeps giving me above error,any input how to fix this issue, am I am suppose to look for anything elese where I need to make changes ?:\r\n```\r\nProtected void configure(HttpSecurity http) throws Exception {\r\n        if (enableAuthentication &amp;&amp; !unsecured) {\r\n            http\r\n                    .csrf().disable()\r\n                    .headers(headers -&gt;\r\n                            headers\r\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Origin&quot;,&quot;http://localhost:8081&quot;))\r\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Methods&quot;,&quot;POST, PUT, GET, OPTIONS, DELETE&quot;))\r\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Credentials&quot;,&quot;true&quot;))\r\n                                   // .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Headers&quot;,&quot;Authorization, Content-Type&quot;))\r\n                                    .addHeaderWriter( new StaticHeadersWriter(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Content-Type, Accept, X-Requested-With, remember-me&quot;))\r\n                               //     .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;))\r\n                    )\r\n                    .antMatcher(ANY_PATH).authorizeRequests()\r\n\r\n                    .antMatchers(whitelist).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and().addFilterAfter(oauth2SsoFilter(), HeaderWriterFilter.class)\r\n                    .logout()\r\n                    .logoutSuccessUrl(&quot;/login&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;SESSION&quot;);\r\n            addAuthenticationEntryPoint(http);\r\n        } else {\r\n            http\r\n                    .csrf().disable()\r\n                    .antMatcher(ANY_PATH).authorizeRequests()\r\n                    .antMatchers(ANY_PATH).permitAll();\r\n        }\r\n    }\r\n\r\n\r\n```\r\n\r\n","title":"No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. I have tried looking at other solutions on here but so far unsuccessful","body":"<p>Hi I am getting following error:</p>\n<pre><code>Access to XMLHttpRequest at 'https:xyztest.com/as/authorization.oauth2?client_id=newpeteGAQA&amp;redirect_uri=http://localhost:8080/login&amp;response_type=code&amp;scope=openid%20profile&amp;state=B2Rig4' \n(redirected from 'http://localhost:8080/health-incidents') from origin 'http://localhost:8081' has been blocked by CORS policy: \nNo 'Access-Control-Allow-Origin' header is present on the requested resource.\nnewrelic.js:1          GET https://testxyz.com/as/authorization.oauth2?client_id=newpeteGAQA&amp;redirect_uri=http://localhost:8080/login&amp;response_type=code&amp; ```\n\n\n\n\n</code></pre>\n<p>I have tried adding following headers to fix the error but it still keeps giving me above error,any input how to fix this issue, am I am suppose to look for anything elese where I need to make changes ?:</p>\n<pre><code>Protected void configure(HttpSecurity http) throws Exception {\n        if (enableAuthentication &amp;&amp; !unsecured) {\n            http\n                    .csrf().disable()\n                    .headers(headers -&gt;\n                            headers\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Origin&quot;,&quot;http://localhost:8081&quot;))\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Methods&quot;,&quot;POST, PUT, GET, OPTIONS, DELETE&quot;))\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Credentials&quot;,&quot;true&quot;))\n                                   // .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Headers&quot;,&quot;Authorization, Content-Type&quot;))\n                                    .addHeaderWriter( new StaticHeadersWriter(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Content-Type, Accept, X-Requested-With, remember-me&quot;))\n                               //     .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;))\n                    )\n                    .antMatcher(ANY_PATH).authorizeRequests()\n\n                    .antMatchers(whitelist).permitAll()\n                    .anyRequest().authenticated()\n                    .and().addFilterAfter(oauth2SsoFilter(), HeaderWriterFilter.class)\n                    .logout()\n                    .logoutSuccessUrl(&quot;/login&quot;)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;SESSION&quot;);\n            addAuthenticationEntryPoint(http);\n        } else {\n            http\n                    .csrf().disable()\n                    .antMatcher(ANY_PATH).authorizeRequests()\n                    .antMatchers(ANY_PATH).permitAll();\n        }\n    }\n\n\n</code></pre>\n"},{"tags":["java","json","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":27495247,"reputation":156,"user_id":20979858,"display_name":"Harsha Gandikota"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673587301,"creation_date":1673587301,"answer_id":75105165,"question_id":75104993,"body_markdown":"The reason you are getting the infinite recursion is because, the question is mapped in the campaign class and the campaign is mapped in the question class. This bi-directional relation causes the infinite recursion. This can be solved by using `@JsonManagedReference`, and `@JsonBackReference` annotations on the mappings. You can use the `@JsonManagedRefernce` annotation on the one to many relation and `@JsonBackReference` annotation on the Many to one relation. This should solve the recursion problem. You can get more info from [here][1]  . Let me know if this helps.\r\n\r\n  [1]: https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","title":"Triple nested JPA Entity to JSON - Spring Boot Project","body":"<p>The reason you are getting the infinite recursion is because, the question is mapped in the campaign class and the campaign is mapped in the question class. This bi-directional relation causes the infinite recursion. This can be solved by using <code>@JsonManagedReference</code>, and <code>@JsonBackReference</code> annotations on the mappings. You can use the <code>@JsonManagedRefernce</code> annotation on the one to many relation and <code>@JsonBackReference</code> annotation on the Many to one relation. This should solve the recursion problem. You can get more info from <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">here</a>  . Let me know if this helps.</p>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673587707,"creation_date":1673587707,"answer_id":75105200,"question_id":75104993,"body_markdown":"**Here you need to add @JsonIgnore Anotation like this:**\r\n\r\n    class Question{\r\n    @Id\r\n    private long questionId;\r\n\r\n    //Other fields\r\n    @OneToMany(mappedBy = &quot;question&quot;,cascade=CascadeType.ALL)\r\n    private Set&lt;Choices&gt; choices;\r\n\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;CAMPAIGN_ID&quot;)\r\n    @JsonIgnore\r\n    private Campaign campaign;\r\n    }\r\n\r\n \r\n","title":"Triple nested JPA Entity to JSON - Spring Boot Project","body":"<p><strong>Here you need to add @JsonIgnore Anotation like this:</strong></p>\n<pre><code>class Question{\n@Id\nprivate long questionId;\n\n//Other fields\n@OneToMany(mappedBy = &quot;question&quot;,cascade=CascadeType.ALL)\nprivate Set&lt;Choices&gt; choices;\n\n@ManyToOne(fetch=FetchType.LAZY)\n@JoinColumn(name=&quot;CAMPAIGN_ID&quot;)\n@JsonIgnore\nprivate Campaign campaign;\n}\n</code></pre>\n"}],"owner":{"account_id":15518998,"reputation":149,"user_id":11195677,"display_name":"Thomas A Mathew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75105165,"answer_count":2,"score":1,"last_activity_date":1673587707,"creation_date":1673585733,"question_id":75104993,"body_markdown":"So, \r\nI have 3 @Entity classes\r\n```\r\nclass Campaign\r\n{\r\n  @Id\r\n  private long campaignId;\r\n  //Other fields\r\n\r\n  @OneToMany(mappedBy = &quot;campaign&quot;,cascade=CascadeType.ALL)\r\n\tprivate Set&lt;Question&gt; questions;\r\n}\r\n\r\nclass Question\r\n{\r\n  @Id\r\n  private long questionId;\r\n\r\n  //Other fields\r\n  @OneToMany(mappedBy = &quot;question&quot;,cascade=CascadeType.ALL)\r\n\tprivate Set&lt;Choices&gt; choices;\r\n\r\n  @ManyToOne(fetch=FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;CAMPAIGN_ID&quot;)\r\n\tprivate Campaign campaign;\r\n}\r\n\r\nclass Choices\r\n{\r\n  @Id\r\n  private long choiceId;\r\n\r\n  //Other fields\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;QUESTION_ID&quot;)\r\n\tprivate Question question;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhen I create and send a JSON\r\n```\r\n{\r\n\t&quot;campaignName&quot; : &quot;Dummy Quiz Campaign&quot;,\r\n\t&quot;campaignDescription&quot; : &quot;This is a dummy quiz campaign for testing&quot;,\r\n\t&quot;noOfQuestions&quot;:2,\r\n\t&quot;noOfChoices&quot;:3,\r\n\t&quot;lastUpdatedTime&quot;:&quot;2012-04-23T18:25:43.511Z&quot;,\r\n\t&quot;createdTime&quot;:&quot;2012-04-23T18:25:43.511Z&quot;,\r\n\t&quot;questions&quot;:[\r\n\t\t{\r\n\t\t\t&quot;question&quot;:&quot;Question 1&quot;,\r\n\t\t\t&quot;choices&quot;:[\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 1&quot;},\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 2&quot;},\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 3&quot;}\r\n\t\t\t\t],\r\n\t\t\t&quot;correctAnswer&quot;:&quot;Choice 2&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;question&quot;:&quot;Question 2&quot;,\r\n\t\t\t&quot;choices&quot;:[\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 4&quot;},\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 5&quot;},\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 6&quot;}\r\n\t\t\t\t],\r\n\t\t\t&quot;correctAnswer&quot;:&quot;Choice 2&quot;\r\n\t\t}\r\n\t]\r\n}\r\n\r\n```\r\n\r\nIt is being created and mapped accurately. It is also being deleted accurately.\r\n\r\nBut when I am trying to getAllCampaigns()\r\n\r\n```\r\n@GetMapping(&quot;/api/campaign/all&quot;)\r\n\tpublic List&lt;Campaign&gt; getAllCampaigns() throws Exception \r\n\t{\r\n\t\treturn campaignService.getAllCampaigns();\r\n\t}\r\n```\r\n\r\n\r\nIt is showing a jackson.bind error, when I tried to write the JSON to a file, it ended up having an infinitely nested JSON.\r\n\r\nWhat I can do to retrieve the Campaigns and there mapped entities like in the format I have send it.\r\n\r\nAs for the tables,\r\n3 Tables\r\nCampaign Table\r\nQuestion Table with Campaign_Id\r\nChoices Table with Question_Id\r\n\r\nThanks in advance.","title":"Triple nested JPA Entity to JSON - Spring Boot Project","body":"<p>So,\nI have 3 @Entity classes</p>\n<pre><code>class Campaign\n{\n  @Id\n  private long campaignId;\n  //Other fields\n\n  @OneToMany(mappedBy = &quot;campaign&quot;,cascade=CascadeType.ALL)\n    private Set&lt;Question&gt; questions;\n}\n\nclass Question\n{\n  @Id\n  private long questionId;\n\n  //Other fields\n  @OneToMany(mappedBy = &quot;question&quot;,cascade=CascadeType.ALL)\n    private Set&lt;Choices&gt; choices;\n\n  @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;CAMPAIGN_ID&quot;)\n    private Campaign campaign;\n}\n\nclass Choices\n{\n  @Id\n  private long choiceId;\n\n  //Other fields\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;QUESTION_ID&quot;)\n    private Question question;\n}\n</code></pre>\n<p>When I create and send a JSON</p>\n<pre><code>{\n    &quot;campaignName&quot; : &quot;Dummy Quiz Campaign&quot;,\n    &quot;campaignDescription&quot; : &quot;This is a dummy quiz campaign for testing&quot;,\n    &quot;noOfQuestions&quot;:2,\n    &quot;noOfChoices&quot;:3,\n    &quot;lastUpdatedTime&quot;:&quot;2012-04-23T18:25:43.511Z&quot;,\n    &quot;createdTime&quot;:&quot;2012-04-23T18:25:43.511Z&quot;,\n    &quot;questions&quot;:[\n        {\n            &quot;question&quot;:&quot;Question 1&quot;,\n            &quot;choices&quot;:[\n                {&quot;choice&quot;:&quot;Choice 1&quot;},\n                {&quot;choice&quot;:&quot;Choice 2&quot;},\n                {&quot;choice&quot;:&quot;Choice 3&quot;}\n                ],\n            &quot;correctAnswer&quot;:&quot;Choice 2&quot;\n        },\n        {\n            &quot;question&quot;:&quot;Question 2&quot;,\n            &quot;choices&quot;:[\n                {&quot;choice&quot;:&quot;Choice 4&quot;},\n                {&quot;choice&quot;:&quot;Choice 5&quot;},\n                {&quot;choice&quot;:&quot;Choice 6&quot;}\n                ],\n            &quot;correctAnswer&quot;:&quot;Choice 2&quot;\n        }\n    ]\n}\n\n</code></pre>\n<p>It is being created and mapped accurately. It is also being deleted accurately.</p>\n<p>But when I am trying to getAllCampaigns()</p>\n<pre><code>@GetMapping(&quot;/api/campaign/all&quot;)\n    public List&lt;Campaign&gt; getAllCampaigns() throws Exception \n    {\n        return campaignService.getAllCampaigns();\n    }\n</code></pre>\n<p>It is showing a jackson.bind error, when I tried to write the JSON to a file, it ended up having an infinitely nested JSON.</p>\n<p>What I can do to retrieve the Campaigns and there mapped entities like in the format I have send it.</p>\n<p>As for the tables,\n3 Tables\nCampaign Table\nQuestion Table with Campaign_Id\nChoices Table with Question_Id</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1427190605,"post_id":29229373,"comment_id":46665373,"body_markdown":"I really don&#39;t get your problem. why should it behave differnt?","body":"I really don&#39;t get your problem. why should it behave differnt?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":11,"creation_date":1427190729,"post_id":29229373,"comment_id":46665456,"body_markdown":"@PhilippSander: Because if it behaved lazily - as it does in the first case - it would only evaluate the filter once.","body":"@PhilippSander: Because if it behaved lazily - as it does in the first case - it would only evaluate the filter once."},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1427191436,"post_id":29229373,"comment_id":46665862,"body_markdown":"ah.... it clicked when I read markos answer","body":"ah.... it clicked when I read markos answer"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":4,"creation_date":1427192107,"post_id":29229373,"comment_id":46666284,"body_markdown":"Note that you could also use `peek` :  `Stream.of(1, 2, 3).peek(System.out::println).filter(i -&gt; true)...`","body":"Note that you could also use <code>peek</code> :  <code>Stream.of(1, 2, 3).peek(System.out::println).filter(i -&gt; true)...</code>"},{"owner":{"account_id":2052845,"reputation":15850,"user_id":2074608,"accept_rate":100,"display_name":"Qantas 94 Heavy"},"score":0,"creation_date":1429356444,"post_id":29229373,"comment_id":47567901,"body_markdown":"@Asieh: when editing, please note that inline code spans (`like this`) [shouldn&#39;t be used for highlighting](http://meta.stackoverflow.com/q/254990), only for code in sentences. Also, please try and improve the post as much as possible when editing to save the reviewers time. Thanks!","body":"@Asieh: when editing, please note that inline code spans (<code>like this</code>) <a href=\"http://meta.stackoverflow.com/q/254990\">shouldn&#39;t be used for highlighting</a>, only for code in sentences. Also, please try and improve the post as much as possible when editing to save the reviewers time. Thanks!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1443115309,"post_id":29229373,"comment_id":53373906,"body_markdown":"Note that I created a general [workaround](http://stackoverflow.com/a/32767282/2711488)","body":"Note that I created a general <a href=\"http://stackoverflow.com/a/32767282/2711488\">workaround</a>"},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":10,"creation_date":1456762272,"post_id":29229373,"comment_id":59084977,"body_markdown":"An OpenJDK bug was raised for this on the day this question was asked: https://bugs.openjdk.java.net/browse/JDK-8075939 . It has been assigned, but still not fixed, almost a year later :(","body":"An OpenJDK bug was raised for this on the day this question was asked: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8075939</a> . It has been assigned, but still not fixed, almost a year later :("},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":6,"creation_date":1513947103,"post_id":29229373,"comment_id":82853124,"body_markdown":"@MikeFHay [JDK-8075939](https://bugs.openjdk.java.net/browse/JDK-8075939) is targeted for Java 10. Cf. http://mail.openjdk.java.net/pipermail/core-libs-dev/2017-December/050763.html for the core-libs-dev review thread and a link to the first webrev.","body":"@MikeFHay <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">JDK-8075939</a> is targeted for Java 10. Cf. <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2017-December/050763.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/core-libs-dev/2017-December/&zwnj;&#8203;&hellip;</a> for the core-libs-dev review thread and a link to the first webrev."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":1,"creation_date":1572359307,"post_id":29229373,"comment_id":103529515,"body_markdown":"Update: this issue was fixed in Java 10 and backported to Java 8u66. You should no longer encounter this issue - if you do, you should upgrade to the latest minor version of Java.","body":"Update: this issue was fixed in Java 10 and backported to Java 8u66. You should no longer encounter this issue - if you do, you should upgrade to the latest minor version of Java."},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1597893867,"post_id":29229373,"comment_id":112282750,"body_markdown":"@MikeFHay It was [backported](https://bugs.openjdk.java.net/browse/JDK-8225328) to Java 8u222, not 8u66.","body":"@MikeFHay It was <a href=\"https://bugs.openjdk.java.net/browse/JDK-8225328\" rel=\"nofollow noreferrer\">backported</a> to Java 8u222, not 8u66."}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1584846878,"creation_date":1427190925,"answer_id":29229513,"question_id":29229373,"body_markdown":"The elements of the input stream are consumed lazily one by one. The first element, `1`, is transformed by the two `flatMap`s into the stream `-1, 0, 1, 0, 1, 2, 1, 2, 3`, so that entire stream corresponds to just the first input element. The nested streams are eagerly materialized by the pipeline, then flattened, then fed to the `filter` stage. This explains your output.\r\n\r\nThe above does not stem from a fundamental limitation, but it would probably make things much more complicated to get full-blown laziness for nested streams. I suspect it would be an even greater challenge to make it performant. \r\n\r\nFor comparison, Clojure&#39;s lazy seqs get another layer of wrapping for each such level of nesting. Due to this design, the operations may even fail with `StackOverflowError` when nesting is exercised to the extreme.","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>The elements of the input stream are consumed lazily one by one. The first element, <code>1</code>, is transformed by the two <code>flatMap</code>s into the stream <code>-1, 0, 1, 0, 1, 2, 1, 2, 3</code>, so that entire stream corresponds to just the first input element. The nested streams are eagerly materialized by the pipeline, then flattened, then fed to the <code>filter</code> stage. This explains your output.</p>\n\n<p>The above does not stem from a fundamental limitation, but it would probably make things much more complicated to get full-blown laziness for nested streams. I suspect it would be an even greater challenge to make it performant. </p>\n\n<p>For comparison, Clojure's lazy seqs get another layer of wrapping for each such level of nesting. Due to this design, the operations may even fail with <code>StackOverflowError</code> when nesting is exercised to the extreme.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1563781971,"creation_date":1427195089,"answer_id":29230939,"question_id":29229373,"body_markdown":"TL;DR, this has been addressed in [JDK-8075939](https://bugs.openjdk.java.net/browse/JDK-8075939) and fixed in Java&#160;10 (and backported to **Java 8** in [JDK-8225328](https://bugs.openjdk.java.net/browse/JDK-8225328)).\n\n\nWhen looking into the implementation (`ReferencePipeline.java`) we see the method [[link](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/ReferencePipeline.java#l124)]\n\n    @Override\n    final void forEachWithCancel(Spliterator&lt;P_OUT&gt; spliterator, Sink&lt;P_OUT&gt; sink) {\n        do { } while (!sink.cancellationRequested() &amp;&amp; spliterator.tryAdvance(sink));\n    }\n\nwhich will be invoke for `findFirst` operation. The special thing to take care about is the `sink.cancellationRequested()` which allows to end the loop on the first match. Compare to [[link](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/ReferencePipeline.java#l252)]\n\n    @Override\n    public final &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super P_OUT, ? extends Stream&lt;? extends R&gt;&gt; mapper) {\n        Objects.requireNonNull(mapper);\n        // We can do better than this, by polling cancellationRequested when stream is infinite\n        return new StatelessOp&lt;P_OUT, R&gt;(this, StreamShape.REFERENCE,\n                                     StreamOpFlag.NOT_SORTED | StreamOpFlag.NOT_DISTINCT | StreamOpFlag.NOT_SIZED) {\n            @Override\n            Sink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;R&gt; sink) {\n                return new Sink.ChainedReference&lt;P_OUT, R&gt;(sink) {\n                    @Override\n                    public void begin(long size) {\n                        downstream.begin(-1);\n                    }\n\n                    @Override\n                    public void accept(P_OUT u) {\n                        try (Stream&lt;? extends R&gt; result = mapper.apply(u)) {\n                            // We can do better that this too; optimize for depth=0 case and just grab spliterator and forEach it\n                            if (result != null)\n                                result.sequential().forEach(downstream);\n                        }\n                    }\n                };\n            }\n        };\n    }\n\nThe method for advancing one item ends up calling `forEach` on the sub-stream without any possibility for earlier termination and the comment at the beginning of the `flatMap` method even tells about this absent feature.\n\nSince this is more than just an optimization thing as it implies that the code simply breaks when the sub-stream is infinite, I hope that the developers soon prove that they “can do better than this”…\n\n---\nTo illustrate the implications, while `Stream.iterate(0, i-&gt;i+1).findFirst()` works as expected, `Stream.of(&quot;&quot;).flatMap(x-&gt;Stream.iterate(0, i-&gt;i+1)).findFirst()` will end up in an infinite loop.\n\nRegarding the specification, most of it can be found in the\n\n[chapter “Stream operations and pipelines” of the package specification](http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps):\n\n&gt; …\n&gt;\n&gt; Intermediate operations return a new stream. They are always *lazy*;\n&gt;\n&gt; …\n&gt;\n&gt; … Laziness also allows avoiding examining all the data when it is not necessary; for operations such as &quot;find the first string longer than 1000 characters&quot;, it is only necessary to examine just enough strings to find one that has the desired characteristics without examining all of the strings available from the source. (This behavior becomes even more important when the input stream is infinite and not merely large.)\n&gt;\n&gt; …\n&gt;\n&gt; Further, some operations are deemed *short-circuiting* operations. An intermediate operation is short-circuiting if, when presented with infinite input, it may produce a finite stream as a result. A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time.\n\nIt’s clear that a short-circuiting operation doesn’t guaranty a finite time termination, e.g. when a filter doesn’t match any item the processing can’t complete, but an implementation which doesn’t support any termination in finite time by simply ignoring the short-circuiting nature of an operation is far off the specification.\n","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>TL;DR, this has been addressed in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"noreferrer\">JDK-8075939</a> and fixed in Java 10 (and backported to <strong>Java 8</strong> in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8225328\" rel=\"noreferrer\">JDK-8225328</a>).</p>\n<p>When looking into the implementation (<code>ReferencePipeline.java</code>) we see the method [<a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/ReferencePipeline.java#l124\" rel=\"noreferrer\">link</a>]</p>\n<pre><code>@Override\nfinal void forEachWithCancel(Spliterator&lt;P_OUT&gt; spliterator, Sink&lt;P_OUT&gt; sink) {\n    do { } while (!sink.cancellationRequested() &amp;&amp; spliterator.tryAdvance(sink));\n}\n</code></pre>\n<p>which will be invoke for <code>findFirst</code> operation. The special thing to take care about is the <code>sink.cancellationRequested()</code> which allows to end the loop on the first match. Compare to [<a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/ReferencePipeline.java#l252\" rel=\"noreferrer\">link</a>]</p>\n<pre><code>@Override\npublic final &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super P_OUT, ? extends Stream&lt;? extends R&gt;&gt; mapper) {\n    Objects.requireNonNull(mapper);\n    // We can do better than this, by polling cancellationRequested when stream is infinite\n    return new StatelessOp&lt;P_OUT, R&gt;(this, StreamShape.REFERENCE,\n                                 StreamOpFlag.NOT_SORTED | StreamOpFlag.NOT_DISTINCT | StreamOpFlag.NOT_SIZED) {\n        @Override\n        Sink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;R&gt; sink) {\n            return new Sink.ChainedReference&lt;P_OUT, R&gt;(sink) {\n                @Override\n                public void begin(long size) {\n                    downstream.begin(-1);\n                }\n\n                @Override\n                public void accept(P_OUT u) {\n                    try (Stream&lt;? extends R&gt; result = mapper.apply(u)) {\n                        // We can do better that this too; optimize for depth=0 case and just grab spliterator and forEach it\n                        if (result != null)\n                            result.sequential().forEach(downstream);\n                    }\n                }\n            };\n        }\n    };\n}\n</code></pre>\n<p>The method for advancing one item ends up calling <code>forEach</code> on the sub-stream without any possibility for earlier termination and the comment at the beginning of the <code>flatMap</code> method even tells about this absent feature.</p>\n<p>Since this is more than just an optimization thing as it implies that the code simply breaks when the sub-stream is infinite, I hope that the developers soon prove that they “can do better than this”…</p>\n<hr />\n<p>To illustrate the implications, while <code>Stream.iterate(0, i-&gt;i+1).findFirst()</code> works as expected, <code>Stream.of(&quot;&quot;).flatMap(x-&gt;Stream.iterate(0, i-&gt;i+1)).findFirst()</code> will end up in an infinite loop.</p>\n<p>Regarding the specification, most of it can be found in the</p>\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">chapter “Stream operations and pipelines” of the package specification</a>:</p>\n<blockquote>\n<p>…</p>\n<p>Intermediate operations return a new stream. They are always <em>lazy</em>;</p>\n<p>…</p>\n<p>… Laziness also allows avoiding examining all the data when it is not necessary; for operations such as &quot;find the first string longer than 1000 characters&quot;, it is only necessary to examine just enough strings to find one that has the desired characteristics without examining all of the strings available from the source. (This behavior becomes even more important when the input stream is infinite and not merely large.)</p>\n<p>…</p>\n<p>Further, some operations are deemed <em>short-circuiting</em> operations. An intermediate operation is short-circuiting if, when presented with infinite input, it may produce a finite stream as a result. A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time.</p>\n</blockquote>\n<p>It’s clear that a short-circuiting operation doesn’t guaranty a finite time termination, e.g. when a filter doesn’t match any item the processing can’t complete, but an implementation which doesn’t support any termination in finite time by simply ignoring the short-circuiting nature of an operation is far off the specification.</p>\n"},{"tags":[],"owner":{"account_id":6230916,"reputation":315,"user_id":4847731,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430479728,"creation_date":1430479728,"answer_id":29986041,"question_id":29229373,"body_markdown":"With regard to breakage with infinite sub-streams, the behavior of flatMap becomes still more surprising when one throws in an **intermediate** (as opposed to terminal) short-circuiting operation.\r\n\r\nWhile the following works as expected, printing out the infinite sequence of integers\r\n\r\n    Stream.of(&quot;x&quot;).flatMap(_x -&gt; Stream.iterate(1, i -&gt; i + 1)).forEach(System.out::println);\r\n\r\nthe  following code prints out only the &quot;1&quot;, but still does **not** terminate:\r\n\r\n    Stream.of(&quot;x&quot;).flatMap(_x -&gt; Stream.iterate(1, i -&gt; i + 1)).limit(1).forEach(System.out::println);\r\n\r\nI cannot imagine a reading of the spec in which that were not a bug.","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>With regard to breakage with infinite sub-streams, the behavior of flatMap becomes still more surprising when one throws in an <strong>intermediate</strong> (as opposed to terminal) short-circuiting operation.</p>\n\n<p>While the following works as expected, printing out the infinite sequence of integers</p>\n\n<pre><code>Stream.of(\"x\").flatMap(_x -&gt; Stream.iterate(1, i -&gt; i + 1)).forEach(System.out::println);\n</code></pre>\n\n<p>the  following code prints out only the \"1\", but still does <strong>not</strong> terminate:</p>\n\n<pre><code>Stream.of(\"x\").flatMap(_x -&gt; Stream.iterate(1, i -&gt; i + 1)).limit(1).forEach(System.out::println);\n</code></pre>\n\n<p>I cannot imagine a reading of the spec in which that were not a bug.</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1448078296,"creation_date":1448078296,"answer_id":33839551,"question_id":29229373,"body_markdown":"In my free [StreamEx](https://github.com/amaembo/streamex) library I introduced the short-circuiting collectors. When collecting sequential stream with short-circuiting collector (like [`MoreCollectors.first()`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/MoreCollectors.html#first--)) exactly one element is consumed from the source. Internally it&#39;s implemented in quite dirty way: using a custom exception to break the control flow. Using my library your sample could be rewritten in this way:\r\n\r\n\tSystem.out.println(\r\n\t\t\t&quot;Result: &quot; +\r\n\t\t\t\t\tStreamEx.of(1, 2, 3)\r\n\t\t\t\t\t.flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n\t\t\t\t\t.flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n\t\t\t\t\t.filter(i -&gt; {\r\n\t\t\t\t\t\tSystem.out.println(i);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.collect(MoreCollectors.first())\r\n\t\t\t\t\t.get()\r\n\t\t\t);\r\n\r\nThe result is the following:\r\n\r\n    -1\r\n    Result: -1\r\n","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>In my free <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> library I introduced the short-circuiting collectors. When collecting sequential stream with short-circuiting collector (like <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/MoreCollectors.html#first--\" rel=\"noreferrer\"><code>MoreCollectors.first()</code></a>) exactly one element is consumed from the source. Internally it's implemented in quite dirty way: using a custom exception to break the control flow. Using my library your sample could be rewritten in this way:</p>\n\n<pre><code>System.out.println(\n        \"Result: \" +\n                StreamEx.of(1, 2, 3)\n                .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                .filter(i -&gt; {\n                    System.out.println(i);\n                    return true;\n                })\n                .collect(MoreCollectors.first())\n                .get()\n        );\n</code></pre>\n\n<p>The result is the following:</p>\n\n<pre><code>-1\nResult: -1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587289,"creation_date":1481138272,"answer_id":41025588,"question_id":29229373,"body_markdown":"I agree with other people this is a bug opened at [JDK-8075939][2]. And since it&#39;s still not fixed more than one year later. I would like to recommend you: [abacus-common][1]\r\n    \r\n    N.println(&quot;Result: &quot; + Stream.of(1, 2, 3).peek(N::println).first().get());\r\n\r\n    N.println(&quot;-----------&quot;);\r\n\r\n    N.println(&quot;Result: &quot; + Stream.of(1, 2, 3)\r\n                            .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n                            .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n                            .peek(N::println).first().get());\r\n\r\n    // output:\r\n    // 1\r\n    // Result: 1\r\n    // -----------\r\n    // -1\r\n    // Result: -1\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8075939","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>I agree with other people this is a bug opened at <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">JDK-8075939</a>. And since it's still not fixed more than one year later. I would like to recommend you: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>N.println(&quot;Result: &quot; + Stream.of(1, 2, 3).peek(N::println).first().get());\n\nN.println(&quot;-----------&quot;);\n\nN.println(&quot;Result: &quot; + Stream.of(1, 2, 3)\n                        .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                        .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                        .peek(N::println).first().get());\n\n// output:\n// 1\n// Result: 1\n// -----------\n// -1\n// Result: -1\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":11914266,"reputation":1155,"user_id":8718583,"accept_rate":75,"display_name":"Tet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507668408,"creation_date":1507668408,"answer_id":46675717,"question_id":29229373,"body_markdown":"Unfortunately `.flatMap()` is not lazy. However, a custom `flatMap` workaround is available here: https://stackoverflow.com/questions/46661232/why-flatmap-is-so-inefficient-non-lazy-in-java-8-and-java-9","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>Unfortunately <code>.flatMap()</code> is not lazy. However, a custom <code>flatMap</code> workaround is available here: <a href=\"https://stackoverflow.com/questions/46661232/why-flatmap-is-so-inefficient-non-lazy-in-java-8-and-java-9\">Why .flatMap() is so inefficient (non lazy) in java 8 and java 9</a></p>\n"},{"tags":[],"owner":{"account_id":138148,"reputation":5659,"user_id":342882,"accept_rate":34,"display_name":"Daniil Iaitskov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573166452,"creation_date":1573166452,"answer_id":58757902,"question_id":29229373,"body_markdown":"Today I also stumbled up on this bug. Behavior is not so strait forward, cause simple case, like below, is working fine, but similar production code doesn&#39;t work.\r\n\r\n```\r\n stream(spliterator).map(o -&gt; o).flatMap(Stream::of).flatMap(Stream::of).findAny()\r\n```\r\n\r\nFor guys who cannot wait another couple years for migration to JDK-10 there is a alternative true lazy stream. It doesn&#39;t support parallel. It was dedicated for JavaScript translation, but it worked out for me, cause interface is the same.\r\n\r\nStreamHelper is collection based, but it is easy to adapt Spliterator.\r\n\r\nhttps://github.com/yaitskov/j4ts/blob/stream/src/main/java/javaemul/internal/stream/StreamHelper.java","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>Today I also stumbled up on this bug. Behavior is not so strait forward, cause simple case, like below, is working fine, but similar production code doesn't work.</p>\n\n<pre><code> stream(spliterator).map(o -&gt; o).flatMap(Stream::of).flatMap(Stream::of).findAny()\n</code></pre>\n\n<p>For guys who cannot wait another couple years for migration to JDK-10 there is a alternative true lazy stream. It doesn't support parallel. It was dedicated for JavaScript translation, but it worked out for me, cause interface is the same.</p>\n\n<p>StreamHelper is collection based, but it is easy to adapt Spliterator.</p>\n\n<p><a href=\"https://github.com/yaitskov/j4ts/blob/stream/src/main/java/javaemul/internal/stream/StreamHelper.java\" rel=\"nofollow noreferrer\">https://github.com/yaitskov/j4ts/blob/stream/src/main/java/javaemul/internal/stream/StreamHelper.java</a></p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621408128,"creation_date":1621408128,"answer_id":67598458,"question_id":29229373,"body_markdown":"While [JDK-8075939][1] has been fixed in Java 11 and backported to 10 and 8u222, there&#39;s still an edge case of `flatMap()` not being truly lazy when using `Stream.iterator()`: [JDK-8267359][2], still present in Java 17.\r\n\r\nThis\r\n```java\r\nIterator&lt;Integer&gt; it =\r\n    Stream.of(&quot;a&quot;, &quot;b&quot;)\r\n        .flatMap(s -&gt; Stream\r\n            .of(1, 2, 3, 4)\r\n            .filter(i -&gt; { System.out.println(i); return true; }))\r\n        .iterator();\r\n\r\nit.hasNext(); // This consumes the entire flatmapped stream\r\nit.next();\r\n```\r\n\r\nPrints\r\n\r\n```none\r\n1\r\n2\r\n3\r\n4\r\n```\r\n\r\nWhile this:\r\n\r\n```java\r\nIterator&lt;Integer&gt; it =\r\n    Stream.of(&quot;a&quot;, &quot;b&quot;)\r\n        .flatMap(s -&gt; Stream\r\n            .iterate(1, i -&gt; i)\r\n            .filter(i -&gt; { System.out.println(i); return true; }))\r\n        .iterator();\r\n\r\nit.hasNext();\r\nit.next();\r\n```\r\n\r\nNever terminates\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8075939\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8267359","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>While <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">JDK-8075939</a> has been fixed in Java 11 and backported to 10 and 8u222, there's still an edge case of <code>flatMap()</code> not being truly lazy when using <code>Stream.iterator()</code>: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8267359\" rel=\"nofollow noreferrer\">JDK-8267359</a>, still present in Java 17.</p>\n<p>This</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterator&lt;Integer&gt; it =\n    Stream.of(&quot;a&quot;, &quot;b&quot;)\n        .flatMap(s -&gt; Stream\n            .of(1, 2, 3, 4)\n            .filter(i -&gt; { System.out.println(i); return true; }))\n        .iterator();\n\nit.hasNext(); // This consumes the entire flatmapped stream\nit.next();\n</code></pre>\n<p>Prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n2\n3\n4\n</code></pre>\n<p>While this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterator&lt;Integer&gt; it =\n    Stream.of(&quot;a&quot;, &quot;b&quot;)\n        .flatMap(s -&gt; Stream\n            .iterate(1, i -&gt; i)\n            .filter(i -&gt; { System.out.println(i); return true; }))\n        .iterator();\n\nit.hasNext();\nit.next();\n</code></pre>\n<p>Never terminates</p>\n"}],"owner":{"account_id":1246473,"reputation":1428,"user_id":1207816,"display_name":"Vadym S. Khondar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10822,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":29230939,"answer_count":8,"score":81,"last_activity_date":1673587289,"creation_date":1427190414,"question_id":29229373,"body_markdown":"I have the following sample code:\r\n\r\n    System.out.println(\r\n           &quot;Result: &quot; +\r\n            Stream.of(1, 2, 3)\r\n                    .filter(i -&gt; {\r\n                        System.out.println(i);\r\n                        return true;\r\n                    })\r\n                    .findFirst()\r\n                    .get()\r\n    );\r\n    System.out.println(&quot;-----------&quot;);\r\n    System.out.println(\r\n           &quot;Result: &quot; +\r\n            Stream.of(1, 2, 3)\r\n                    .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n                    .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n                    .filter(i -&gt; {\r\n                        System.out.println(i);\r\n                        return true;\r\n                    })\r\n                    .findFirst()\r\n                    .get()\r\n    );\r\n\r\nThe output is as follows:\r\n\r\n    1\r\n    Result: 1\r\n    -----------\r\n    -1\r\n    0\r\n    1\r\n    0\r\n    1\r\n    2\r\n    1\r\n    2\r\n    3\r\n    Result: -1\r\n\r\nFrom here I see that in first case `stream` really behaves lazily - we use `findFirst()` so once we have first element our filtering lambda is not invoked.\r\nHowever, in second case which uses `flatMap`s we see that despite first element which fulfils the filter condition is found (it&#39;s just any first element as lambda always returns true) further contents of the stream are still being fed through filtering function.\r\n\r\nI am trying to understand why it behaves like this rather than giving up after first element is calculated as in the first case.\r\nAny helpful information would be appreciated.\r\n\r\n","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>I have the following sample code:</p>\n\n<pre><code>System.out.println(\n       \"Result: \" +\n        Stream.of(1, 2, 3)\n                .filter(i -&gt; {\n                    System.out.println(i);\n                    return true;\n                })\n                .findFirst()\n                .get()\n);\nSystem.out.println(\"-----------\");\nSystem.out.println(\n       \"Result: \" +\n        Stream.of(1, 2, 3)\n                .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                .filter(i -&gt; {\n                    System.out.println(i);\n                    return true;\n                })\n                .findFirst()\n                .get()\n);\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>1\nResult: 1\n-----------\n-1\n0\n1\n0\n1\n2\n1\n2\n3\nResult: -1\n</code></pre>\n\n<p>From here I see that in first case <code>stream</code> really behaves lazily - we use <code>findFirst()</code> so once we have first element our filtering lambda is not invoked.\nHowever, in second case which uses <code>flatMap</code>s we see that despite first element which fulfils the filter condition is found (it's just any first element as lambda always returns true) further contents of the stream are still being fed through filtering function.</p>\n\n<p>I am trying to understand why it behaves like this rather than giving up after first element is calculated as in the first case.\nAny helpful information would be appreciated.</p>\n"},{"tags":["java","algorithm","functional-programming","java-8","reduce"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1469321128,"post_id":38547580,"comment_id":64487143,"body_markdown":"You may want to use mutable objects instead of primitives but this is not really the goal while using lambda expressions","body":"You may want to use mutable objects instead of primitives but this is not really the goal while using lambda expressions"}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1469322659,"creation_date":1469321809,"answer_id":38547754,"question_id":38547580,"body_markdown":"So just like I told you within my comment, it is not ok to use mutable objects within your lambda expressions. But in your case, if you really want to apply the same algorithm, it&#39;ll be difficult.\r\n\r\nHere&#39;s one that will do the same as what you want, if no majority is found, it returns `-1`\r\n\r\n\tpublic static int findCandidate(int ... nums) {\r\n\t\tMap&lt;Integer, List&lt;Integer&gt;&gt; map =\r\n\t    Arrays.stream(nums)\r\n\t          .boxed()\r\n\t          .collect(Collectors.groupingBy(x -&gt; x));\r\n\t\tint value = \r\n\t\t\t  map\r\n\t          .entrySet().stream()\r\n\t          .max((e1, e2) -&gt; Integer.compare(e1.getValue().size(), e2.getValue().size()))\r\n\t          .map(e -&gt; e.getKey())\r\n\t          .get();\r\n\t\tint result = map.get(value).size();\r\n\t    return result &gt; nums.length / 2 ? value : -1;\r\n\t}","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p>So just like I told you within my comment, it is not ok to use mutable objects within your lambda expressions. But in your case, if you really want to apply the same algorithm, it'll be difficult.</p>\n\n<p>Here's one that will do the same as what you want, if no majority is found, it returns <code>-1</code></p>\n\n<pre><code>public static int findCandidate(int ... nums) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map =\n    Arrays.stream(nums)\n          .boxed()\n          .collect(Collectors.groupingBy(x -&gt; x));\n    int value = \n          map\n          .entrySet().stream()\n          .max((e1, e2) -&gt; Integer.compare(e1.getValue().size(), e2.getValue().size()))\n          .map(e -&gt; e.getKey())\n          .get();\n    int result = map.get(value).size();\n    return result &gt; nums.length / 2 ? value : -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1469335349,"creation_date":1469335349,"answer_id":38548821,"question_id":38547580,"body_markdown":"[Yassin Hajaj&#39;s answer][1] shows some pretty good streams techniques. (+1) Fundamentally I think it&#39;s using the right approach. There are a couple of minor improvements that can be made to it, though.\r\n\r\nThe first change is use the `counting()` collector to count the items in each group instead of accumulating them into a list. Since we&#39;re looking for a majority, all we need is the count, not the actual elements, and we avoid having to compare the lengths of the lists.\r\n\r\nThe second change is to filter the list looking for a group whose count is a majority. By definition there can be at most one, so we just filter the map entries using this predicate and terminate the stream with `findAny` instead of `max`.\r\n\r\nThe third change is to have the function return `OptionalInt` which more closely matches its intent. The `OptionalInt` either contains the majority value, or it&#39;s empty if there isn&#39;t a majority value. This avoids having to use a sentinel value such as `-1` that might actually occur in the data. Since `findAny` returns an `OptionalInt`, we&#39;re done.\r\n\r\nFinally, I&#39;ve relied on static imports in several places. This is mainly a matter of style, but I think it cleans up the code a bit.\r\n\r\nHere&#39;s my variation:\r\n\r\n    static OptionalInt majority(int... nums) {\r\n        Map&lt;Integer, Long&gt; map =\r\n            Arrays.stream(nums)\r\n                  .boxed()\r\n                  .collect(groupingBy(x -&gt; x, counting()));\r\n        \r\n        return map.entrySet().stream()\r\n                  .filter(e -&gt; e.getValue() &gt; nums.length / 2)\r\n                  .mapToInt(Entry::getKey)\r\n                  .findAny();\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38547754/1441122","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p><a href=\"https://stackoverflow.com/a/38547754/1441122\">Yassin Hajaj's answer</a> shows some pretty good streams techniques. (+1) Fundamentally I think it's using the right approach. There are a couple of minor improvements that can be made to it, though.</p>\n\n<p>The first change is use the <code>counting()</code> collector to count the items in each group instead of accumulating them into a list. Since we're looking for a majority, all we need is the count, not the actual elements, and we avoid having to compare the lengths of the lists.</p>\n\n<p>The second change is to filter the list looking for a group whose count is a majority. By definition there can be at most one, so we just filter the map entries using this predicate and terminate the stream with <code>findAny</code> instead of <code>max</code>.</p>\n\n<p>The third change is to have the function return <code>OptionalInt</code> which more closely matches its intent. The <code>OptionalInt</code> either contains the majority value, or it's empty if there isn't a majority value. This avoids having to use a sentinel value such as <code>-1</code> that might actually occur in the data. Since <code>findAny</code> returns an <code>OptionalInt</code>, we're done.</p>\n\n<p>Finally, I've relied on static imports in several places. This is mainly a matter of style, but I think it cleans up the code a bit.</p>\n\n<p>Here's my variation:</p>\n\n<pre><code>static OptionalInt majority(int... nums) {\n    Map&lt;Integer, Long&gt; map =\n        Arrays.stream(nums)\n              .boxed()\n              .collect(groupingBy(x -&gt; x, counting()));\n\n    return map.entrySet().stream()\n              .filter(e -&gt; e.getValue() &gt; nums.length / 2)\n              .mapToInt(Entry::getKey)\n              .findAny();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1102249,"reputation":29917,"user_id":1094403,"accept_rate":83,"display_name":"Luis Casillas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469497028,"creation_date":1469496178,"answer_id":38579740,"question_id":38547580,"body_markdown":"Your problem here is that Java streams don&#39;t have a true [list fold operation](https://en.wikipedia.org/wiki/Fold_(higher-order_function)).  With a true fold operation it&#39;s not too difficult to write the function as a left fold.  For example, in Haskell:\r\n\r\n    import Data.List (foldl&#39;)\r\n    \r\n    -- A custom struct to represent the state of the fold.\r\n    data MooreState a = MooreState { candidate :: a, count :: !Int }\r\n    \r\n    findCandidate :: Eq a =&gt; [a] -&gt; Maybe a\r\n    findCandidate (first:rest) = Just result\r\n        where \r\n          Moore result _ = foldl&#39; combiner (MooreState first 1) rest                       \r\n\r\n          combiner :: Eq a =&gt; MooreState a -&gt; a -&gt; MooreState a\r\n          combiner (Moore candidate count) current\r\n              | count == 0           = MooreState current 1\r\n              | candidate == current = MooreState candidate (count + 1)\r\n              | otherwise            = MooreState candidate (count - 1)\r\n\r\n    -- The empty list has no candidates.\r\n    findCandidate [] = Nothing\r\n\r\n\r\nJava&#39;s `reduce()` methods are the closest it has to a true left fold, but if you look at [the Javadoc for the `reduce()` method that you&#39;re using](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-), you&#39;ll note that it says that:\r\n\r\n1. It &quot;is not constrained to execute sequentially&quot;;\r\n2. It requires the accumulation function to be **associative**.\r\n\r\nThis documentation is really hard to interpret, but the way I read it is this.  Even though it might process elements out of order:\r\n\r\n* **If** your accumulation function is associative **then** it is guaranteed to produce the same result as if you processed the stream sequentially;\r\n* If your accumulation function is not associative, then it may produce results different from the simple sequential process.\r\n\r\nWhy is this important?  Well, first of all, the fact that you are mutating an external variable means that the way you&#39;re using the `count` is broken.  Element #7 of the stream may be processed before element #5, for all you know.\r\n\r\nMore insidiously, the `combine` operation in the Haskell version above combines inputs of different types (`Moore a` and `a`), but the Java `reduce` method that you use is based on a `BinaryOperator&lt;T&gt;`, which combines two objects of the same type.  There&#39;s [another overload of `reduce` that uses a `BiFunction&lt;U, T, U&gt;`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-), but that requires you to supply a `BinaryOperator&lt;U&gt; combiner` and its `U identity` as well.  This is because Java&#39;s `reduce` methods are designed so that they can:\r\n\r\n1. Split the input stream into contiguous chunks;\r\n2. Process multiple chunks in parallel;\r\n3. Combine the results of adjacent chunks in order when they finish.\r\n\r\nSo the associativity and identity requirements are there to guarantee that this parallel processing produces the same result as if you did it sequentially.  But this means that while there&#39;s a straightforward functional implementation of the algorithm, there is no straightforward way to write it with Java&#39;s `Stream` type.  (There is a non-straightforward way, but that gets into a bit of wizardry that would be (a) really convoluted and (b) really slow in Java.)  \r\n\r\nSo I personally would just accept that Java&#39;s not a great functional programming language, leave good enough alone and use the imperative version as-is.  But if for some weird reason I really insisted on doing it functionally, I&#39;d go for a library like [jOOλ](https://github.com/jOOQ/jOOL) which provides [true left folds in Java](http://www.jooq.org/products/jOO%CE%BB/javadoc/0.9.7/index.html?overview-summary.html).  Then you can do the same as the Haskell solution (untested pseudocode):\r\n\r\n    import org.jooq.lambda.Seq;\r\n    import org.jooq.lambda.tuple.Tuple2;\r\n\r\n    class MooreState&lt;A&gt; {\r\n        private final A candidate;\r\n        private final int count;\r\n        // ...constructors and getters...\r\n    }\r\n\r\n    public static Optional&lt;A&gt; findCandidate(Seq&lt;A&gt; elements) {\r\n        Tuple2&lt;Optional&lt;A&gt;, Seq&lt;A&gt;&gt; split = elements.splitAtHead();\r\n        return split.v1().map(first -&gt; {\r\n            Seq&lt;A&gt; rest = split.v2();\r\n            return rest.foldLeft(\r\n                new MooreState&lt;&gt;(first, 1),\r\n                (state, current) -&gt; {\r\n                    if (state.getCount() == 0) {\r\n                        return new MooreState&lt;&gt;(current, 1);\r\n                    } else if (state.getCandidate().equals(current) {\r\n                        return new MooreState&lt;&gt;(state.getCandidate(),\r\n                                                state.getCount() + 1);\r\n                    } else {\r\n                        return new MooreState&lt;&gt;(state.getCandidate(),\r\n                                                state.getCount() - 1);\r\n                    }\r\n                }\r\n            );\r\n        });\r\n    }\r\n\r\n...which is probably terrifyingly slow.  ","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p>Your problem here is that Java streams don't have a true <a href=\"https://en.wikipedia.org/wiki/Fold_(higher-order_function)\" rel=\"nofollow\">list fold operation</a>.  With a true fold operation it's not too difficult to write the function as a left fold.  For example, in Haskell:</p>\n\n<pre><code>import Data.List (foldl')\n\n-- A custom struct to represent the state of the fold.\ndata MooreState a = MooreState { candidate :: a, count :: !Int }\n\nfindCandidate :: Eq a =&gt; [a] -&gt; Maybe a\nfindCandidate (first:rest) = Just result\n    where \n      Moore result _ = foldl' combiner (MooreState first 1) rest                       \n\n      combiner :: Eq a =&gt; MooreState a -&gt; a -&gt; MooreState a\n      combiner (Moore candidate count) current\n          | count == 0           = MooreState current 1\n          | candidate == current = MooreState candidate (count + 1)\n          | otherwise            = MooreState candidate (count - 1)\n\n-- The empty list has no candidates.\nfindCandidate [] = Nothing\n</code></pre>\n\n<p>Java's <code>reduce()</code> methods are the closest it has to a true left fold, but if you look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-\" rel=\"nofollow\">the Javadoc for the <code>reduce()</code> method that you're using</a>, you'll note that it says that:</p>\n\n<ol>\n<li>It \"is not constrained to execute sequentially\";</li>\n<li>It requires the accumulation function to be <strong>associative</strong>.</li>\n</ol>\n\n<p>This documentation is really hard to interpret, but the way I read it is this.  Even though it might process elements out of order:</p>\n\n<ul>\n<li><strong>If</strong> your accumulation function is associative <strong>then</strong> it is guaranteed to produce the same result as if you processed the stream sequentially;</li>\n<li>If your accumulation function is not associative, then it may produce results different from the simple sequential process.</li>\n</ul>\n\n<p>Why is this important?  Well, first of all, the fact that you are mutating an external variable means that the way you're using the <code>count</code> is broken.  Element #7 of the stream may be processed before element #5, for all you know.</p>\n\n<p>More insidiously, the <code>combine</code> operation in the Haskell version above combines inputs of different types (<code>Moore a</code> and <code>a</code>), but the Java <code>reduce</code> method that you use is based on a <code>BinaryOperator&lt;T&gt;</code>, which combines two objects of the same type.  There's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow\">another overload of <code>reduce</code> that uses a <code>BiFunction&lt;U, T, U&gt;</code></a>, but that requires you to supply a <code>BinaryOperator&lt;U&gt; combiner</code> and its <code>U identity</code> as well.  This is because Java's <code>reduce</code> methods are designed so that they can:</p>\n\n<ol>\n<li>Split the input stream into contiguous chunks;</li>\n<li>Process multiple chunks in parallel;</li>\n<li>Combine the results of adjacent chunks in order when they finish.</li>\n</ol>\n\n<p>So the associativity and identity requirements are there to guarantee that this parallel processing produces the same result as if you did it sequentially.  But this means that while there's a straightforward functional implementation of the algorithm, there is no straightforward way to write it with Java's <code>Stream</code> type.  (There is a non-straightforward way, but that gets into a bit of wizardry that would be (a) really convoluted and (b) really slow in Java.)  </p>\n\n<p>So I personally would just accept that Java's not a great functional programming language, leave good enough alone and use the imperative version as-is.  But if for some weird reason I really insisted on doing it functionally, I'd go for a library like <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOOλ</a> which provides <a href=\"http://www.jooq.org/products/jOO%CE%BB/javadoc/0.9.7/index.html?overview-summary.html\" rel=\"nofollow\">true left folds in Java</a>.  Then you can do the same as the Haskell solution (untested pseudocode):</p>\n\n<pre><code>import org.jooq.lambda.Seq;\nimport org.jooq.lambda.tuple.Tuple2;\n\nclass MooreState&lt;A&gt; {\n    private final A candidate;\n    private final int count;\n    // ...constructors and getters...\n}\n\npublic static Optional&lt;A&gt; findCandidate(Seq&lt;A&gt; elements) {\n    Tuple2&lt;Optional&lt;A&gt;, Seq&lt;A&gt;&gt; split = elements.splitAtHead();\n    return split.v1().map(first -&gt; {\n        Seq&lt;A&gt; rest = split.v2();\n        return rest.foldLeft(\n            new MooreState&lt;&gt;(first, 1),\n            (state, current) -&gt; {\n                if (state.getCount() == 0) {\n                    return new MooreState&lt;&gt;(current, 1);\n                } else if (state.getCandidate().equals(current) {\n                    return new MooreState&lt;&gt;(state.getCandidate(),\n                                            state.getCount() + 1);\n                } else {\n                    return new MooreState&lt;&gt;(state.getCandidate(),\n                                            state.getCount() - 1);\n                }\n            }\n        );\n    });\n}\n</code></pre>\n\n<p>...which is probably terrifyingly slow.  </p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587261,"creation_date":1480730665,"answer_id":40943509,"question_id":38547580,"body_markdown":"@Stuart Marks wrote the concise code. however it&#39;s still can simplified by [abacus-common][1]\r\n    \r\n    Stream.from(nums).groupBy(Function.identity(), Collectors.counting())\r\n         .findAny(e -&gt; e.getValue() &gt; nums.length / 2)\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p>@Stuart Marks wrote the concise code. however it's still can simplified by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.from(nums).groupBy(Function.identity(), Collectors.counting())\n     .findAny(e -&gt; e.getValue() &gt; nums.length / 2)\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":2997690,"reputation":53,"user_id":2543880,"display_name":"Vic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3012,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38547754,"answer_count":4,"score":5,"last_activity_date":1673587261,"creation_date":1469319760,"question_id":38547580,"body_markdown":"I am trying to use Java 8 to rewrite the implementation of [Moore’s Voting Algorithm](http://www.geeksforgeeks.org/majority-element/) to find the Majority Element in an array.\r\n\r\nThe Java 7 implementation will be something like this:\r\n\r\n    public int findCandidate(int[] nums) {\r\n\r\n        int maj_index = 0, count = 1;\r\n        for(int i=1; i&lt;nums.length;i++){\r\n            if(count==0){\r\n                count++;\r\n                maj_index=i;\r\n            }else if(nums[maj_index]==nums[i]){\r\n                count++;\r\n            } else {\r\n                count--;\r\n            }\r\n        }\r\n        return nums[maj_index];\r\n    }\r\n\r\nThe method I can think of is using stream reduce to get the final result\r\n\r\n    public int findCandidate(int[] nums) {\r\n        int count = 1;\r\n        Arrays\r\n                .asList(nums)\r\n                .stream()\r\n                .reduce(0, (result, cur) -&gt; {\r\n                    if (count == 0) {\r\n                        result = cur;\r\n                        count++;\r\n                    } else if (result == cur){\r\n                        count++;\r\n                    } else {\r\n                        count --;\r\n                    }\r\n                });\r\n        return result;\r\n    }\r\n\r\nBut this method have compile error, besides, it also break the functional purist, I encounter this situation many times, so what is the best way to deal with the global variable inside the lambda expression. ","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p>I am trying to use Java 8 to rewrite the implementation of <a href=\"http://www.geeksforgeeks.org/majority-element/\" rel=\"noreferrer\">Moore’s Voting Algorithm</a> to find the Majority Element in an array.</p>\n\n<p>The Java 7 implementation will be something like this:</p>\n\n<pre><code>public int findCandidate(int[] nums) {\n\n    int maj_index = 0, count = 1;\n    for(int i=1; i&lt;nums.length;i++){\n        if(count==0){\n            count++;\n            maj_index=i;\n        }else if(nums[maj_index]==nums[i]){\n            count++;\n        } else {\n            count--;\n        }\n    }\n    return nums[maj_index];\n}\n</code></pre>\n\n<p>The method I can think of is using stream reduce to get the final result</p>\n\n<pre><code>public int findCandidate(int[] nums) {\n    int count = 1;\n    Arrays\n            .asList(nums)\n            .stream()\n            .reduce(0, (result, cur) -&gt; {\n                if (count == 0) {\n                    result = cur;\n                    count++;\n                } else if (result == cur){\n                    count++;\n                } else {\n                    count --;\n                }\n            });\n    return result;\n}\n</code></pre>\n\n<p>But this method have compile error, besides, it also break the functional purist, I encounter this situation many times, so what is the best way to deal with the global variable inside the lambda expression. </p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1474053051,"creation_date":1474053051,"answer_id":39538622,"question_id":39538089,"body_markdown":"You could have the following:\r\n\r\n\tfinal Map&lt;String, String&gt; mostFrequentCities =\r\n\t  records.stream()\r\n\t\t\t .collect(Collectors.groupingBy(\r\n\t\t\t    Record::getZip,\r\n\t\t\t    Collectors.collectingAndThen(\r\n\t\t\t\t  Collectors.groupingBy(Record::getCity, Collectors.counting()),\r\n\t\t\t\t  map -&gt; map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getKey()\r\n\t\t        )\r\n\t\t\t ));\r\n\r\nThis groups each records by their zip, and by their cities, counting the number of cities for each zip. Then, the map of the number of cities by zip is post-processed to keep only the city having the maximum count.","title":"Get object with max frequency from Java 8 stream","body":"<p>You could have the following:</p>\n\n<pre><code>final Map&lt;String, String&gt; mostFrequentCities =\n  records.stream()\n         .collect(Collectors.groupingBy(\n            Record::getZip,\n            Collectors.collectingAndThen(\n              Collectors.groupingBy(Record::getCity, Collectors.counting()),\n              map -&gt; map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getKey()\n            )\n         ));\n</code></pre>\n\n<p>This groups each records by their zip, and by their cities, counting the number of cities for each zip. Then, the map of the number of cities by zip is post-processed to keep only the city having the maximum count.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673587244,"creation_date":1480728482,"answer_id":40943322,"question_id":39538089,"body_markdown":"I think Multiset is a good choice for this kind of question. Here is code by [abacus-common][1]\r\n    \r\n    Stream.of(records).map(e -&gt; e.getCity()).filter(N::notNullOrEmpty)\r\n          .toMultiset().maxOccurrences().get().getKey();\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Get object with max frequency from Java 8 stream","body":"<p>I think Multiset is a good choice for this kind of question. Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(records).map(e -&gt; e.getCity()).filter(N::notNullOrEmpty)\n      .toMultiset().maxOccurrences().get().getKey();\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6159,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":39538622,"answer_count":2,"score":9,"last_activity_date":1673587244,"creation_date":1474050969,"question_id":39538089,"body_markdown":"I have an object with `city` and `zip` fields, let&#39;s call it `Record`.\r\n\r\n    public class Record() {\r\n        private String zip;\r\n        private String city;\r\n        \r\n        //getters and setters\r\n    }\r\n\r\nNow, I have a collection of these objects, and I group them by `zip` using the following code:\r\n\r\n    final Collection&lt;Record&gt; records; //populated collection of records\r\n    final Map&lt;String, List&lt;Record&gt;&gt; recordsByZip = records.stream()\r\n        .collect(Collectors.groupingBy(Record::getZip));\r\n\r\nSo, now I have a map where the key is the `zip` and the value is a list of `Record` objects with that `zip`.\r\n\r\nWhat I want to get now is the most common `city` for each `zip`.\r\n\r\n    recordsByZip.forEach((zip, records) -&gt; {\r\n        final String mostCommonCity = //get most common city for these records\r\n    });\r\n\r\nI would like to do this with all stream operations. For example, I am able to get a map of the frequency for each `city` by doing this:\r\n\r\n    recordsByZip.forEach((zip, entries) -&gt; {\r\n        final Map&lt;String, Long&gt; frequencyMap = entries.stream()\r\n            .map(GisSectorFileRecord::getCity)\r\n            .filter(StringUtils::isNotBlank)\r\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n    });\r\n\r\nBut I would like to be able to do a single-line stream operation that will just return the most frequent `city`.\r\n\r\nAre there any Java 8 stream gurus out there that can work some magic on this?\r\n\r\nHere is an [ideone sandbox](https://ideone.com/IhL5te) if you&#39;d like to play around with it.","title":"Get object with max frequency from Java 8 stream","body":"<p>I have an object with <code>city</code> and <code>zip</code> fields, let's call it <code>Record</code>.</p>\n\n<pre><code>public class Record() {\n    private String zip;\n    private String city;\n\n    //getters and setters\n}\n</code></pre>\n\n<p>Now, I have a collection of these objects, and I group them by <code>zip</code> using the following code:</p>\n\n<pre><code>final Collection&lt;Record&gt; records; //populated collection of records\nfinal Map&lt;String, List&lt;Record&gt;&gt; recordsByZip = records.stream()\n    .collect(Collectors.groupingBy(Record::getZip));\n</code></pre>\n\n<p>So, now I have a map where the key is the <code>zip</code> and the value is a list of <code>Record</code> objects with that <code>zip</code>.</p>\n\n<p>What I want to get now is the most common <code>city</code> for each <code>zip</code>.</p>\n\n<pre><code>recordsByZip.forEach((zip, records) -&gt; {\n    final String mostCommonCity = //get most common city for these records\n});\n</code></pre>\n\n<p>I would like to do this with all stream operations. For example, I am able to get a map of the frequency for each <code>city</code> by doing this:</p>\n\n<pre><code>recordsByZip.forEach((zip, entries) -&gt; {\n    final Map&lt;String, Long&gt; frequencyMap = entries.stream()\n        .map(GisSectorFileRecord::getCity)\n        .filter(StringUtils::isNotBlank)\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n});\n</code></pre>\n\n<p>But I would like to be able to do a single-line stream operation that will just return the most frequent <code>city</code>.</p>\n\n<p>Are there any Java 8 stream gurus out there that can work some magic on this?</p>\n\n<p>Here is an <a href=\"https://ideone.com/IhL5te\" rel=\"noreferrer\">ideone sandbox</a> if you'd like to play around with it.</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1432729206,"post_id":30482083,"comment_id":49043125,"body_markdown":"Note: you should close the file: `try(Stream&lt;String&gt; lines = Files.lines(...)) { lines.map(xxx).collect(...) };`","body":"Note: you should close the file: <code>try(Stream&lt;String&gt; lines = Files.lines(...)) { lines.map(xxx).collect(...) };</code>"}],"answers":[{"tags":[],"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1432738882,"creation_date":1432729040,"answer_id":30482204,"question_id":30482083,"body_markdown":"You need to use [`map()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-) to transform the data as it comes past.\r\n\r\n    Files.lines(Paths.get(&quot;resources/planes.txt&quot;))\r\n         .map(line -&gt; createAirport(line));\r\n\r\nThis will return a `Stream&lt;Airport&gt;` - if you want to return a `List`, then you&#39;ll need to use the `collect` method at the end.\r\n\r\nThis approach is also stateless, which means you won&#39;t need the instance-level `airports` value.\r\n\r\nYou&#39;ll need to update your createAirport method to return something:\r\n\r\n    public Airport createAirport(String line) {\r\n\r\n        String airport = line.substring(0, line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(airport + &quot;;&quot;, &quot;&quot;);\r\n        String country = line.substring(0,line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(country + &quot;;&quot;, &quot;&quot;);\r\n        String continent = line.substring(0,line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(continent + &quot;;&quot;, &quot;&quot;);\r\n        int length = Integer.parseInt(line.substring(0,line.indexOf(&#39;;&#39;)).trim());\r\n        return new Airport(airport, country, continent, length);\r\n    }\r\n\r\nIf you&#39;re looking for a more functional approach to your code, you may want to consider a rewrite of `createAirport` so it doesn&#39;t mutate line.  Builders are also nice for this kind of thing.\r\n\r\n    public Airport createAirport(final String line) {\r\n        final String[] fields = line.split(&quot;;&quot;);\r\n        return new Airport(fields[0].trim(), \r\n                           fields[1].trim(), \r\n                           fields[2].trim(), \r\n                           Integer.parseInt(fields[3].trim()));\r\n    }\r\n\r\nThrowing it all together, your class now looks like this.\r\n\r\n    public class AirportConsumer implements AirportAPI {\r\n\r\n        @Override\r\n        public Stream&lt;Airport&gt; getAirports() {\r\n            Stream&lt;String&gt; stream = null;\r\n            try {\r\n                stream = Files.lines(Paths.get(&quot;resources/planes.txt&quot;))\r\n                                       .map(line -&gt; createAirport(line));\r\n            } catch (IOException e) {\r\n                stream = Stream.empty();\r\n                e.printStackTrace();\r\n            }\r\n            return stream;\r\n        }\r\n\r\n        private Airport createAirport(final String line) {\r\n            final String[] fields = line.split(&quot;;&quot;);\r\n            return new Airport(fields[0].trim(), \r\n                               fields[1].trim(), \r\n                               fields[2].trim(), \r\n                               Integer.parseInt(fields[3].trim()));\r\n        }\r\n    }","title":"Java 8 streams, lambdas","body":"<p>You need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"noreferrer\"><code>map()</code></a> to transform the data as it comes past.</p>\n\n<pre><code>Files.lines(Paths.get(\"resources/planes.txt\"))\n     .map(line -&gt; createAirport(line));\n</code></pre>\n\n<p>This will return a <code>Stream&lt;Airport&gt;</code> - if you want to return a <code>List</code>, then you'll need to use the <code>collect</code> method at the end.</p>\n\n<p>This approach is also stateless, which means you won't need the instance-level <code>airports</code> value.</p>\n\n<p>You'll need to update your createAirport method to return something:</p>\n\n<pre><code>public Airport createAirport(String line) {\n\n    String airport = line.substring(0, line.indexOf(';')).trim();\n    line = line.replace(airport + \";\", \"\");\n    String country = line.substring(0,line.indexOf(';')).trim();\n    line = line.replace(country + \";\", \"\");\n    String continent = line.substring(0,line.indexOf(';')).trim();\n    line = line.replace(continent + \";\", \"\");\n    int length = Integer.parseInt(line.substring(0,line.indexOf(';')).trim());\n    return new Airport(airport, country, continent, length);\n}\n</code></pre>\n\n<p>If you're looking for a more functional approach to your code, you may want to consider a rewrite of <code>createAirport</code> so it doesn't mutate line.  Builders are also nice for this kind of thing.</p>\n\n<pre><code>public Airport createAirport(final String line) {\n    final String[] fields = line.split(\";\");\n    return new Airport(fields[0].trim(), \n                       fields[1].trim(), \n                       fields[2].trim(), \n                       Integer.parseInt(fields[3].trim()));\n}\n</code></pre>\n\n<p>Throwing it all together, your class now looks like this.</p>\n\n<pre><code>public class AirportConsumer implements AirportAPI {\n\n    @Override\n    public Stream&lt;Airport&gt; getAirports() {\n        Stream&lt;String&gt; stream = null;\n        try {\n            stream = Files.lines(Paths.get(\"resources/planes.txt\"))\n                                   .map(line -&gt; createAirport(line));\n        } catch (IOException e) {\n            stream = Stream.empty();\n            e.printStackTrace();\n        }\n        return stream;\n    }\n\n    private Airport createAirport(final String line) {\n        final String[] fields = line.split(\";\");\n        return new Airport(fields[0].trim(), \n                           fields[1].trim(), \n                           fields[2].trim(), \n                           Integer.parseInt(fields[3].trim()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587228,"creation_date":1480710388,"answer_id":40940320,"question_id":30482083,"body_markdown":"The code posted by Steve looks great. But there are still two places can be improved:\r\n1, How to split a string.\r\n2, It may cause issue if the people forget or don&#39;t know to close the stream created by calling getAirports() method. So it&#39;s better to finish the task(toList() or whatever) in place.\r\nHere is code by [abacus-common][1]\r\n\r\n    try(Reader reader = IOUtil.createBufferedReader(file)) {\r\n        List&lt;Airport&gt; airportList = Stream.of(reader).map(line -&gt; {\r\n            String[] strs = Splitter.with(&quot;;&quot;).trim(true).splitToArray(line);\r\n            return Airport(strs[0], strs[1], strs[2], Integer.valueOf(strs[3]));\r\n        }).toList();\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n// Or By the [Try][2]:\r\n\r\n    List&lt;Airport&gt; airportList = Try.stream(file).call(s -&gt; s.map(line -&gt; {\r\n        String[] strs = Splitter.with(&quot;;&quot;).trim(true).splitToArray(line);\r\n        return Airport(strs[0], strs[1], strs[2], Integer.valueOf(strs[3]));\r\n    }).toList())\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common\r\n  [2]: https://cdn.rawgit.com/landawn/AbacusUtil/master/docs/Try_view.html","title":"Java 8 streams, lambdas","body":"<p>The code posted by Steve looks great. But there are still two places can be improved:\n1, How to split a string.\n2, It may cause issue if the people forget or don't know to close the stream created by calling getAirports() method. So it's better to finish the task(toList() or whatever) in place.\nHere is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>try(Reader reader = IOUtil.createBufferedReader(file)) {\n    List&lt;Airport&gt; airportList = Stream.of(reader).map(line -&gt; {\n        String[] strs = Splitter.with(&quot;;&quot;).trim(true).splitToArray(line);\n        return Airport(strs[0], strs[1], strs[2], Integer.valueOf(strs[3]));\n    }).toList();\n} catch (IOException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>// Or By the <a href=\"https://cdn.rawgit.com/landawn/AbacusUtil/master/docs/Try_view.html\" rel=\"nofollow noreferrer\">Try</a>:</p>\n<pre><code>List&lt;Airport&gt; airportList = Try.stream(file).call(s -&gt; s.map(line -&gt; {\n    String[] strs = Splitter.with(&quot;;&quot;).trim(true).splitToArray(line);\n    return Airport(strs[0], strs[1], strs[2], Integer.valueOf(strs[3]));\n}).toList())\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":5172676,"reputation":297,"user_id":4140728,"display_name":"Venraey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4339,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":30482204,"answer_count":2,"score":11,"last_activity_date":1673587228,"creation_date":1432728771,"question_id":30482083,"body_markdown":"I am trying to learn how to utilize Java 8 features(such as lambdas and streams) in my daily programming, since it makes for much cleaner code.\r\n\r\nHere&#39;s what I am currently working on:\r\nI get a string stream from a local file with some data which I turn into objects later. The input file structure looks something like this:\r\n\r\n    Airport name; Country; Continent; some number;\r\n\r\nAnd my code looks like this:\r\n\r\n    public class AirportConsumer implements AirportAPI {\r\n\r\n    List&lt;Airport&gt; airports = new ArrayList&lt;Airport&gt;();\r\n\r\n    @Override\r\n    public Stream&lt;Airport&gt; getAirports() {\r\n        Stream&lt;String&gt; stream = null;\r\n        try {\r\n            stream = Files.lines(Paths.get(&quot;resources/planes.txt&quot;));\r\n            stream.forEach(line -&gt; createAirport(line));\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return airports.stream();\r\n    }\r\n\r\n    public void createAirport(String line) {\r\n        String airport, country, continent;\r\n        int length;\r\n\r\n\r\n        airport = line.substring(0, line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(airport + &quot;;&quot;, &quot;&quot;);\r\n        country = line.substring(0,line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(country + &quot;;&quot;, &quot;&quot;);\r\n        continent = line.substring(0,line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(continent + &quot;;&quot;, &quot;&quot;);\r\n        length = Integer.parseInt(line.substring(0,line.indexOf(&#39;;&#39;)).trim());\r\n        airports.add(new Airport(airport, country, continent, length));\r\n        }\r\n    }\r\n\r\nAnd in my main class I iterate over the object stream and print out the results:\r\n\r\n    public class Main {\r\n\r\n\r\n\r\n    public void toString(Airport t){\r\n      System.out.println(t.getName() + &quot; &quot; + t.getContinent());\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Main m = new Main();\r\n        m.whatever();\r\n\r\n    }\r\n\r\n    private void whatever() throws IOException {\r\n        AirportAPI k = new AirportConsumer();\r\n        Stream&lt;Airport&gt; s;\r\n        s = k.getAirports();\r\n        s.forEach(this::toString);\r\n\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\nMy question is this: How can I optimize this code, so I don&#39;t have to parse the lines from the file separately, but instead create a stream of objects Airport straight from the source file? Or is this the extent in which I can do this?","title":"Java 8 streams, lambdas","body":"<p>I am trying to learn how to utilize Java 8 features(such as lambdas and streams) in my daily programming, since it makes for much cleaner code.</p>\n\n<p>Here's what I am currently working on:\nI get a string stream from a local file with some data which I turn into objects later. The input file structure looks something like this:</p>\n\n<pre><code>Airport name; Country; Continent; some number;\n</code></pre>\n\n<p>And my code looks like this:</p>\n\n<pre><code>public class AirportConsumer implements AirportAPI {\n\nList&lt;Airport&gt; airports = new ArrayList&lt;Airport&gt;();\n\n@Override\npublic Stream&lt;Airport&gt; getAirports() {\n    Stream&lt;String&gt; stream = null;\n    try {\n        stream = Files.lines(Paths.get(\"resources/planes.txt\"));\n        stream.forEach(line -&gt; createAirport(line));\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return airports.stream();\n}\n\npublic void createAirport(String line) {\n    String airport, country, continent;\n    int length;\n\n\n    airport = line.substring(0, line.indexOf(';')).trim();\n    line = line.replace(airport + \";\", \"\");\n    country = line.substring(0,line.indexOf(';')).trim();\n    line = line.replace(country + \";\", \"\");\n    continent = line.substring(0,line.indexOf(';')).trim();\n    line = line.replace(continent + \";\", \"\");\n    length = Integer.parseInt(line.substring(0,line.indexOf(';')).trim());\n    airports.add(new Airport(airport, country, continent, length));\n    }\n}\n</code></pre>\n\n<p>And in my main class I iterate over the object stream and print out the results:</p>\n\n<pre><code>public class Main {\n\n\n\npublic void toString(Airport t){\n  System.out.println(t.getName() + \" \" + t.getContinent());\n}\n\npublic static void main(String[] args) throws IOException {\n    Main m = new Main();\n    m.whatever();\n\n}\n\nprivate void whatever() throws IOException {\n    AirportAPI k = new AirportConsumer();\n    Stream&lt;Airport&gt; s;\n    s = k.getAirports();\n    s.forEach(this::toString);\n\n}\n\n\n}\n</code></pre>\n\n<p>My question is this: How can I optimize this code, so I don't have to parse the lines from the file separately, but instead create a stream of objects Airport straight from the source file? Or is this the extent in which I can do this?</p>\n"},{"tags":["java","scala","java-8","java-stream","sieve"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1383706446,"post_id":19803058,"comment_id":29441280,"body_markdown":"If you want to operate over the stream that way, the best you&#39;ll be able to do is probably to wrap its `iterator()`.  (To say nothing of the fact that your implementation isn&#39;t actually a proper prime sieve; see e.g. [this paper](http://www.cs.hmc.edu/~oneill/papers/Sieve-JFP.pdf).)","body":"If you want to operate over the stream that way, the best you&#39;ll be able to do is probably to wrap its <code>iterator()</code>.  (To say nothing of the fact that your implementation isn&#39;t actually a proper prime sieve; see e.g. <a href=\"http://www.cs.hmc.edu/~oneill/papers/Sieve-JFP.pdf\" rel=\"nofollow noreferrer\">this paper</a>.)"},{"owner":{"account_id":187693,"reputation":4250,"user_id":425943,"accept_rate":91,"display_name":"lyomi"},"score":0,"creation_date":1383709441,"post_id":19803058,"comment_id":29442015,"body_markdown":"I have tried extracting the first number and reconstructing another stream like `IntStream.generate(() -&gt; it.next())`, but the iterator&#39;s `hasNext()` works eagerly and leads to an infinite recursion.","body":"I have tried extracting the first number and reconstructing another stream like <code>IntStream.generate(() -&gt; it.next())</code>, but the iterator&#39;s <code>hasNext()</code> works eagerly and leads to an infinite recursion."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1383717834,"post_id":19803058,"comment_id":29444237,"body_markdown":"Yeah, that&#39;s not going to work.  Really, this isn&#39;t going to work cleanly with `Stream`s at all.","body":"Yeah, that&#39;s not going to work.  Really, this isn&#39;t going to work cleanly with <code>Stream</code>s at all."},{"owner":{"account_id":212470,"reputation":53057,"user_id":2621536,"accept_rate":88,"display_name":"kiritsuku"},"score":0,"creation_date":1383732172,"post_id":19803058,"comment_id":29450382,"body_markdown":"See this [blog post](http://java.dzone.com/articles/lazy-sequences-implementation) for an explanation on how to build a lazy sequence by yourself in Java.","body":"See this <a href=\"http://java.dzone.com/articles/lazy-sequences-implementation\" rel=\"nofollow noreferrer\">blog post</a> for an explanation on how to build a lazy sequence by yourself in Java."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1383779433,"post_id":19803058,"comment_id":29477667,"body_markdown":"I [programmed this recently](https://gist.github.com/edalorzo/5135612) with JDK8, but I built my own stream, since I do not think JDK 8 streams are exactly the same thing as the scala&#39;s lazy streams.","body":"I <a href=\"https://gist.github.com/edalorzo/5135612\" rel=\"nofollow noreferrer\">programmed this recently</a> with JDK8, but I built my own stream, since I do not think JDK 8 streams are exactly the same thing as the scala&#39;s lazy streams."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1453213323,"creation_date":1384537219,"answer_id":20007272,"question_id":19803058,"body_markdown":"Even if you hadn’t the problem that you can’t split an `IntStream`, you code didn’t work because you are invoking your `sieve` method recursively instead of lazily. So you had an infinity recursion before you could query your resulting stream for the first value.\r\n\r\nSplitting an `IntStream s` into a head and a tail `IntStream` (which has not yet consumed) is possible:\r\n\r\n    PrimitiveIterator.OfInt it = s.iterator();\r\n    int head = it.nextInt();\r\n    IntStream tail = IntStream.generate(it::next).filter(i -&gt; i % head != 0);\r\n\r\nAt this place you need a construct of invoking `sieve` on the tail lazily. `Stream` does not provide that; `concat` expects existing stream instances as arguments and you can’t construct a stream invoking `sieve` lazily with a lambda expression as lazy creation works with mutable state only which lambda expressions do not support. If you don’t have a library implementation hiding the mutable state you have to use a mutable object. But once you accept the requirement of mutable state, the solution can be even easier than your first approach:\r\n\r\n    IntStream primes = from(2).filter(i -&gt; p.test(i)).peek(i -&gt; p = p.and(v -&gt; v % i != 0));\r\n\r\n    IntPredicate p = x -&gt; true;\r\n\r\n    IntStream from(int n)\r\n    {\r\n      return IntStream.iterate(n, m -&gt; m + 1);\r\n    }\r\n\r\nThis will recursively create a filter but in the end it doesn’t matter whether you create a tree of `IntPredicate`s or a tree of `IntStream`s (like with your `IntStream.concat` approach if it did work). If you don’t like the mutable instance field for the filter you can hide it in an inner class (but not in a lambda expression…).","title":"Java 8 Stream, getting head and tail","body":"<p>Even if you hadn’t the problem that you can’t split an <code>IntStream</code>, you code didn’t work because you are invoking your <code>sieve</code> method recursively instead of lazily. So you had an infinity recursion before you could query your resulting stream for the first value.</p>\n\n<p>Splitting an <code>IntStream s</code> into a head and a tail <code>IntStream</code> (which has not yet consumed) is possible:</p>\n\n<pre><code>PrimitiveIterator.OfInt it = s.iterator();\nint head = it.nextInt();\nIntStream tail = IntStream.generate(it::next).filter(i -&gt; i % head != 0);\n</code></pre>\n\n<p>At this place you need a construct of invoking <code>sieve</code> on the tail lazily. <code>Stream</code> does not provide that; <code>concat</code> expects existing stream instances as arguments and you can’t construct a stream invoking <code>sieve</code> lazily with a lambda expression as lazy creation works with mutable state only which lambda expressions do not support. If you don’t have a library implementation hiding the mutable state you have to use a mutable object. But once you accept the requirement of mutable state, the solution can be even easier than your first approach:</p>\n\n<pre><code>IntStream primes = from(2).filter(i -&gt; p.test(i)).peek(i -&gt; p = p.and(v -&gt; v % i != 0));\n\nIntPredicate p = x -&gt; true;\n\nIntStream from(int n)\n{\n  return IntStream.iterate(n, m -&gt; m + 1);\n}\n</code></pre>\n\n<p>This will recursively create a filter but in the end it doesn’t matter whether you create a tree of <code>IntPredicate</code>s or a tree of <code>IntStream</code>s (like with your <code>IntStream.concat</code> approach if it did work). If you don’t like the mutable instance field for the filter you can hide it in an inner class (but not in a lambda expression…).</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411396126,"creation_date":1411396126,"answer_id":25976558,"question_id":19803058,"body_markdown":"You can essentially implement it like this:\r\n\r\n    static &lt;T&gt; Tuple2&lt;Optional&lt;T&gt;, Seq&lt;T&gt;&gt; splitAtHead(Stream&lt;T&gt; stream) {\r\n        Iterator&lt;T&gt; it = stream.iterator();\r\n        return tuple(it.hasNext() ? Optional.of(it.next()) : Optional.empty(), seq(it));\r\n    }\r\n\r\nIn the above example, `Tuple2` and `Seq` are types borrowed from [jOOλ][2], a library that we developed for [jOOQ][3] integration tests. If you don&#39;t want any additional dependencies, you might as well implement them yourself:\r\n\r\n    class Tuple2&lt;T1, T2&gt; {\r\n        final T1 v1;\r\n        final T2 v2;\r\n\r\n        Tuple2(T1 v1, T2 v2) {\r\n            this.v1 = v1;\r\n            this.v2 = v2;\r\n        }\r\n\r\n        static &lt;T1, T2&gt; Tuple2&lt;T1, T2&gt; tuple(T1 v1, T2 v2) {\r\n            return new Tuple&lt;&gt;(v1, v2);\r\n        }\r\n    }\r\n\r\n    static &lt;T&gt; Tuple2&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; splitAtHead(Stream&lt;T&gt; stream) {\r\n        Iterator&lt;T&gt; it = stream.iterator();\r\n        return tuple(\r\n            it.hasNext() ? Optional.of(it.next()) : Optional.empty,\r\n            StreamSupport.stream(Spliterators.spliteratorUnknownSize(\r\n                it, Spliterator.ORDERED\r\n            ), false)\r\n        );\r\n    }\r\n\r\n\r\n  [2]: https://github.com/jOOQ/jOOL\r\n  [3]: http://www.jooq.org","title":"Java 8 Stream, getting head and tail","body":"<p>You can essentially implement it like this:</p>\n\n<pre><code>static &lt;T&gt; Tuple2&lt;Optional&lt;T&gt;, Seq&lt;T&gt;&gt; splitAtHead(Stream&lt;T&gt; stream) {\n    Iterator&lt;T&gt; it = stream.iterator();\n    return tuple(it.hasNext() ? Optional.of(it.next()) : Optional.empty(), seq(it));\n}\n</code></pre>\n\n<p>In the above example, <code>Tuple2</code> and <code>Seq</code> are types borrowed from <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOOλ</a>, a library that we developed for <a href=\"http://www.jooq.org\" rel=\"nofollow\">jOOQ</a> integration tests. If you don't want any additional dependencies, you might as well implement them yourself:</p>\n\n<pre><code>class Tuple2&lt;T1, T2&gt; {\n    final T1 v1;\n    final T2 v2;\n\n    Tuple2(T1 v1, T2 v2) {\n        this.v1 = v1;\n        this.v2 = v2;\n    }\n\n    static &lt;T1, T2&gt; Tuple2&lt;T1, T2&gt; tuple(T1 v1, T2 v2) {\n        return new Tuple&lt;&gt;(v1, v2);\n    }\n}\n\nstatic &lt;T&gt; Tuple2&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; splitAtHead(Stream&lt;T&gt; stream) {\n    Iterator&lt;T&gt; it = stream.iterator();\n    return tuple(\n        it.hasNext() ? Optional.of(it.next()) : Optional.empty,\n        StreamSupport.stream(Spliterators.spliteratorUnknownSize(\n            it, Spliterator.ORDERED\n        ), false)\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433588883,"creation_date":1433586207,"answer_id":30681661,"question_id":19803058,"body_markdown":"To get head and tail you need a Lazy Stream implementation. Java 8 stream or RxJava are not suitable.\r\n\r\nYou can use for example [LazySeq][1] as follows.\r\n\r\n\r\n&gt; Lazy sequence is always traversed from the beginning using very cheap\r\n&gt; first/rest decomposition (head() and tail())\r\n&gt; \r\n&gt; LazySeq implements java.util.List interface, thus can be used in\r\n&gt; variety of places. Moreover it also implements Java 8 enhancements to\r\n&gt; collections, namely streams and collectors\r\n\r\n---\r\n\r\n    package com.company;\r\n    \r\n    import com.nurkiewicz.lazyseq.LazySeq;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            LazySeq&lt;Integer&gt; ints = integers(2);\r\n            LazySeq primes = sieve(ints);\r\n            primes.take(10).forEach(p -&gt; System.out.println(p));\r\n    \r\n        }\r\n    \r\n        private static LazySeq&lt;Integer&gt; sieve(LazySeq&lt;Integer&gt; s) {\r\n            return LazySeq.cons(s.head(), () -&gt; sieve(s.filter(x -&gt; x % s.head() != 0)));\r\n        }\r\n    \r\n        private static LazySeq&lt;Integer&gt; integers(int from) {\r\n            return LazySeq.cons(from, () -&gt; integers(from + 1));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/nurkiewicz/LazySeq","title":"Java 8 Stream, getting head and tail","body":"<p>To get head and tail you need a Lazy Stream implementation. Java 8 stream or RxJava are not suitable.</p>\n\n<p>You can use for example <a href=\"https://github.com/nurkiewicz/LazySeq\" rel=\"nofollow\">LazySeq</a> as follows.</p>\n\n<blockquote>\n  <p>Lazy sequence is always traversed from the beginning using very cheap\n  first/rest decomposition (head() and tail())</p>\n  \n  <p>LazySeq implements java.util.List interface, thus can be used in\n  variety of places. Moreover it also implements Java 8 enhancements to\n  collections, namely streams and collectors</p>\n</blockquote>\n\n<hr>\n\n<pre><code>package com.company;\n\nimport com.nurkiewicz.lazyseq.LazySeq;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        LazySeq&lt;Integer&gt; ints = integers(2);\n        LazySeq primes = sieve(ints);\n        primes.take(10).forEach(p -&gt; System.out.println(p));\n\n    }\n\n    private static LazySeq&lt;Integer&gt; sieve(LazySeq&lt;Integer&gt; s) {\n        return LazySeq.cons(s.head(), () -&gt; sieve(s.filter(x -&gt; x % s.head() != 0)));\n    }\n\n    private static LazySeq&lt;Integer&gt; integers(int from) {\n        return LazySeq.cons(from, () -&gt; integers(from + 1));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433589115,"creation_date":1433589115,"answer_id":30682096,"question_id":19803058,"body_markdown":"Here is another recipe using the way suggested by Holger.\r\nIt use RxJava just to add the possibility to use the take(int) method and many others.\r\n\r\n\r\n    package com.company;\r\n    \r\n    import rx.Observable;\r\n    \r\n    import java.util.function.IntPredicate;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final IntPredicate[] p={(x)-&gt;true};\r\n            IntStream primesStream=IntStream.iterate(2,n-&gt;n+1).filter(i -&gt; p[0].test(i)).peek(i-&gt;p[0]=p[0].and(v-&gt;v%i!=0)   );\r\n    \r\n            Observable primes = Observable.from(()-&gt;primesStream.iterator());\r\n    \r\n            primes.take(10).forEach((x) -&gt; System.out.println(x.toString()));\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>Here is another recipe using the way suggested by Holger.\nIt use RxJava just to add the possibility to use the take(int) method and many others.</p>\n\n<pre><code>package com.company;\n\nimport rx.Observable;\n\nimport java.util.function.IntPredicate;\nimport java.util.stream.IntStream;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        final IntPredicate[] p={(x)-&gt;true};\n        IntStream primesStream=IntStream.iterate(2,n-&gt;n+1).filter(i -&gt; p[0].test(i)).peek(i-&gt;p[0]=p[0].and(v-&gt;v%i!=0)   );\n\n        Observable primes = Observable.from(()-&gt;primesStream.iterator());\n\n        primes.take(10).forEach((x) -&gt; System.out.println(x.toString()));\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1743153,"reputation":2076,"user_id":1593986,"accept_rate":95,"display_name":"vidi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442503219,"creation_date":1442503219,"answer_id":32634130,"question_id":19803058,"body_markdown":"The solution below does not do state mutations, except for the head/tail deconstruction of the stream.\r\n\r\nThe lazyness is obtained using IntStream.iterate. The class Prime is used to keep the generator state\r\n\r\n        import java.util.PrimitiveIterator;\r\n        import java.util.stream.IntStream;\r\n        import java.util.stream.Stream;\r\n    \r\n        public class Prime {\r\n            private final IntStream candidates;\r\n            private final int current;\r\n    \r\n            private Prime(int current, IntStream candidates)\r\n            {\r\n                this.current = current;\r\n                this.candidates = candidates;\r\n            }\r\n    \r\n            private Prime next()\r\n            {\r\n                PrimitiveIterator.OfInt it = candidates.filter(n -&gt; n % current != 0).iterator();\r\n    \r\n                int head = it.next();\r\n                IntStream tail = IntStream.generate(it::next);\r\n    \r\n                return new Prime(head, tail);\r\n            }\r\n    \r\n            public static Stream&lt;Integer&gt; stream() {\r\n                IntStream possiblePrimes = IntStream.iterate(3, i -&gt; i + 1);\r\n    \r\n                return Stream.iterate(new Prime(2, possiblePrimes), Prime::next)\r\n                             .map(p -&gt; p.current);\r\n            }\r\n        }\r\n\r\nThe usage would be this:\r\n\r\n    Stream&lt;Integer&gt; first10Primes = Prime.stream().limit(10)\r\n\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>The solution below does not do state mutations, except for the head/tail deconstruction of the stream.</p>\n\n<p>The lazyness is obtained using IntStream.iterate. The class Prime is used to keep the generator state</p>\n\n<pre><code>    import java.util.PrimitiveIterator;\n    import java.util.stream.IntStream;\n    import java.util.stream.Stream;\n\n    public class Prime {\n        private final IntStream candidates;\n        private final int current;\n\n        private Prime(int current, IntStream candidates)\n        {\n            this.current = current;\n            this.candidates = candidates;\n        }\n\n        private Prime next()\n        {\n            PrimitiveIterator.OfInt it = candidates.filter(n -&gt; n % current != 0).iterator();\n\n            int head = it.next();\n            IntStream tail = IntStream.generate(it::next);\n\n            return new Prime(head, tail);\n        }\n\n        public static Stream&lt;Integer&gt; stream() {\n            IntStream possiblePrimes = IntStream.iterate(3, i -&gt; i + 1);\n\n            return Stream.iterate(new Prime(2, possiblePrimes), Prime::next)\n                         .map(p -&gt; p.current);\n        }\n    }\n</code></pre>\n\n<p>The usage would be this:</p>\n\n<pre><code>Stream&lt;Integer&gt; first10Primes = Prime.stream().limit(10)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453212694,"creation_date":1452492046,"answer_id":34715087,"question_id":19803058,"body_markdown":"If you don&#39;t mind using 3rd party libraries [cyclops-streams](https://github.com/aol/cyclops/tree/master/cyclops-streams), I library I wrote has a number of potential solutions.\r\n\r\nThe [StreamUtils](http://static.javadoc.io/com.aol.cyclops/cyclops-streams/7.1.0/com/aol/cyclops/streams/StreamUtils.html) class has large number of static methods for working directly with `java.util.stream.Streams` including `headAndTail`.\r\n\r\n    HeadAndTail&lt;Integer&gt; headAndTail = StreamUtils.headAndTail(Stream.of(1,2,3,4));\r\n    int head = headAndTail.head(); //1\r\n    Stream&lt;Integer&gt; tail = headAndTail.tail(); //Stream[2,3,4]\r\n\r\nThe [Streamable](http://static.javadoc.io/com.aol.cyclops/cyclops-sequence-api/7.1.0/com/aol/cyclops/sequence/streamable/Streamable.html) class represents a replayable `Stream` and works by building a lazy, caching intermediate data-structure. Because it is caching and repayable - head and tail can be implemented directly and separately.\r\n\r\n    Streamable&lt;Integer&gt; replayable=  Streamable.fromStream(Stream.of(1,2,3,4));\r\n    int head = repayable.head(); //1\r\n    Stream&lt;Integer&gt; tail = replayable.tail(); //Stream[2,3,4]\r\n\r\n[cyclops-streams](https://github.com/aol/cyclops/tree/master/cyclops-streams) also provides a sequential `Stream` extension that in turn extends [jOOλ][1] and has both `Tuple` based (from jOOλ)  and domain object (HeadAndTail) solutions for head and tail extraction.\r\n \r\n    SequenceM.of(1,2,3,4)\r\n             .splitAtHead(); //Tuple[1,SequenceM[2,3,4]\r\n\r\n    SequenceM.of(1,2,3,4)\r\n             .headAndTail();\r\n\r\nUpdate per Tagir&#39;s request -&gt; A Java version of the Scala sieve using `SequenceM`\r\n\r\n    public void sieveTest(){\r\n\t\tsieve(SequenceM.range(2, 1_000)).forEach(System.out::println);\r\n\t}\r\n\t\r\n\tSequenceM&lt;Integer&gt; sieve(SequenceM&lt;Integer&gt; s){\r\n\t\t\r\n\t\treturn s.headAndTailOptional().map(ht -&gt;SequenceM.of(ht.head())\r\n\t    \t\t\t\t\t\t.appendStream(sieve(ht.tail().filter(n -&gt; n % ht.head() != 0))))\r\n\t    \t\t\t\t.orElse(SequenceM.of());\r\n\t}\r\n\r\nAnd another version via `Streamable`\r\n\r\n    public void sieveTest2(){\r\n\t\tsieve(Streamable.range(2, 1_000)).forEach(System.out::println);\r\n\t}\r\n\t\r\n\tStreamable&lt;Integer&gt; sieve(Streamable&lt;Integer&gt; s){\r\n\t\t\r\n\t\treturn s.size()==0? Streamable.of() : Streamable.of(s.head())\r\n\t    \t\t\t\t\t\t\t\t\t\t\t\t.appendStreamable(sieve(s.tail()\r\n\t    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(n -&gt; n % s.head() != 0)));\r\n\t}\r\n\r\nNote - neither `Streamable` of `SequenceM` have an Empty implementation - hence the size check for `Streamable` and the use of `headAndTailOptional`.\r\n\r\nFinally a version using plain `java.util.stream.Stream`\r\n\r\n    import static com.aol.cyclops.streams.StreamUtils.headAndTailOptional;\r\n\r\n    public void sieveTest(){\r\n\t\tsieve(IntStream.range(2, 1_000).boxed()).forEach(System.out::println);\r\n\t}\r\n\t\r\n\tStream&lt;Integer&gt; sieve(Stream&lt;Integer&gt; s){\r\n\t\r\n\t\treturn headAndTailOptional(s).map(ht -&gt;Stream.concat(Stream.of(ht.head())\r\n\t    \t\t\t\t\t\t,sieve(ht.tail().filter(n -&gt; n % ht.head() != 0))))\r\n\t    \t\t\t\t.orElse(Stream.of());\r\n\t}\r\n\r\n\r\nAnother update - a lazy iterative based on @Holger&#39;s version using objects rather than primitives (note a primitive version is also possible)\r\n\r\n      final Mutable&lt;Predicate&lt;Integer&gt;&gt; predicate = Mutable.of(x-&gt;true);\r\n\t  SequenceM.iterate(2, n-&gt;n+1)\r\n\t    \t   .filter(i-&gt;predicate.get().test(i))\r\n\t    \t   .peek(i-&gt;predicate.mutate(p-&gt; p.and(v -&gt; v%i!=0)))\r\n\t    \t   .limit(100000)\r\n\t    \t   .forEach(System.out::println);\r\n\r\n  [1]: https://github.com/jOOQ/jOOL","title":"Java 8 Stream, getting head and tail","body":"<p>If you don't mind using 3rd party libraries <a href=\"https://github.com/aol/cyclops/tree/master/cyclops-streams\" rel=\"nofollow\">cyclops-streams</a>, I library I wrote has a number of potential solutions.</p>\n\n<p>The <a href=\"http://static.javadoc.io/com.aol.cyclops/cyclops-streams/7.1.0/com/aol/cyclops/streams/StreamUtils.html\" rel=\"nofollow\">StreamUtils</a> class has large number of static methods for working directly with <code>java.util.stream.Streams</code> including <code>headAndTail</code>.</p>\n\n<pre><code>HeadAndTail&lt;Integer&gt; headAndTail = StreamUtils.headAndTail(Stream.of(1,2,3,4));\nint head = headAndTail.head(); //1\nStream&lt;Integer&gt; tail = headAndTail.tail(); //Stream[2,3,4]\n</code></pre>\n\n<p>The <a href=\"http://static.javadoc.io/com.aol.cyclops/cyclops-sequence-api/7.1.0/com/aol/cyclops/sequence/streamable/Streamable.html\" rel=\"nofollow\">Streamable</a> class represents a replayable <code>Stream</code> and works by building a lazy, caching intermediate data-structure. Because it is caching and repayable - head and tail can be implemented directly and separately.</p>\n\n<pre><code>Streamable&lt;Integer&gt; replayable=  Streamable.fromStream(Stream.of(1,2,3,4));\nint head = repayable.head(); //1\nStream&lt;Integer&gt; tail = replayable.tail(); //Stream[2,3,4]\n</code></pre>\n\n<p><a href=\"https://github.com/aol/cyclops/tree/master/cyclops-streams\" rel=\"nofollow\">cyclops-streams</a> also provides a sequential <code>Stream</code> extension that in turn extends <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOOλ</a> and has both <code>Tuple</code> based (from jOOλ)  and domain object (HeadAndTail) solutions for head and tail extraction.</p>\n\n<pre><code>SequenceM.of(1,2,3,4)\n         .splitAtHead(); //Tuple[1,SequenceM[2,3,4]\n\nSequenceM.of(1,2,3,4)\n         .headAndTail();\n</code></pre>\n\n<p>Update per Tagir's request -> A Java version of the Scala sieve using <code>SequenceM</code></p>\n\n<pre><code>public void sieveTest(){\n    sieve(SequenceM.range(2, 1_000)).forEach(System.out::println);\n}\n\nSequenceM&lt;Integer&gt; sieve(SequenceM&lt;Integer&gt; s){\n\n    return s.headAndTailOptional().map(ht -&gt;SequenceM.of(ht.head())\n                            .appendStream(sieve(ht.tail().filter(n -&gt; n % ht.head() != 0))))\n                    .orElse(SequenceM.of());\n}\n</code></pre>\n\n<p>And another version via <code>Streamable</code></p>\n\n<pre><code>public void sieveTest2(){\n    sieve(Streamable.range(2, 1_000)).forEach(System.out::println);\n}\n\nStreamable&lt;Integer&gt; sieve(Streamable&lt;Integer&gt; s){\n\n    return s.size()==0? Streamable.of() : Streamable.of(s.head())\n                                                    .appendStreamable(sieve(s.tail()\n                                                                    .filter(n -&gt; n % s.head() != 0)));\n}\n</code></pre>\n\n<p>Note - neither <code>Streamable</code> of <code>SequenceM</code> have an Empty implementation - hence the size check for <code>Streamable</code> and the use of <code>headAndTailOptional</code>.</p>\n\n<p>Finally a version using plain <code>java.util.stream.Stream</code></p>\n\n<pre><code>import static com.aol.cyclops.streams.StreamUtils.headAndTailOptional;\n\npublic void sieveTest(){\n    sieve(IntStream.range(2, 1_000).boxed()).forEach(System.out::println);\n}\n\nStream&lt;Integer&gt; sieve(Stream&lt;Integer&gt; s){\n\n    return headAndTailOptional(s).map(ht -&gt;Stream.concat(Stream.of(ht.head())\n                            ,sieve(ht.tail().filter(n -&gt; n % ht.head() != 0))))\n                    .orElse(Stream.of());\n}\n</code></pre>\n\n<p>Another update - a lazy iterative based on @Holger's version using objects rather than primitives (note a primitive version is also possible)</p>\n\n<pre><code>  final Mutable&lt;Predicate&lt;Integer&gt;&gt; predicate = Mutable.of(x-&gt;true);\n  SequenceM.iterate(2, n-&gt;n+1)\n           .filter(i-&gt;predicate.get().test(i))\n           .peek(i-&gt;predicate.mutate(p-&gt; p.and(v -&gt; v%i!=0)))\n           .limit(100000)\n           .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475552453,"creation_date":1453199584,"answer_id":34874466,"question_id":19803058,"body_markdown":"My [StreamEx](https://github.com/amaembo/streamex/) library has now [`headTail()`](http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#headTail-java.util.function.BiFunction-) operation which solves the problem:\r\n\r\n    public static StreamEx&lt;Integer&gt; sieve(StreamEx&lt;Integer&gt; input) {\r\n        return input.headTail((head, tail) -&gt; \r\n            sieve(tail.filter(n -&gt; n % head != 0)).prepend(head));\r\n    }\r\n\r\nThe `headTail` method takes a `BiFunction` which will be executed at most once during the stream terminal operation execution. So this implementation is lazy: it does not compute anything until traversal starts and computes only as much prime numbers as requested. The `BiFunction` receives a first stream element `head` and the stream of the rest elements `tail` and can modify the `tail` in any way it wants. You may use it with predefined input:\r\n\r\n    sieve(IntStreamEx.range(2, 1000).boxed()).forEach(System.out::println);\r\n\r\nBut infinite stream work as well\r\n\r\n    sieve(StreamEx.iterate(2, x -&gt; x+1)).takeWhile(x -&gt; x &lt; 1000)\r\n         .forEach(System.out::println);\r\n    // Not the primes till 1000, but 1000 first primes\r\n    sieve(StreamEx.iterate(2, x -&gt; x+1)).limit(1000).forEach(System.out::println);\r\n\r\nThere&#39;s also alternative solution using `headTail` and predicate concatenation:\r\n\r\n\tpublic static StreamEx&lt;Integer&gt; sieve(StreamEx&lt;Integer&gt; input, IntPredicate isPrime) {\r\n\t\treturn input.headTail((head, tail) -&gt; isPrime.test(head) \r\n\t\t\t\t? sieve(tail, isPrime.and(n -&gt; n % head != 0)).prepend(head)\r\n\t\t\t\t: sieve(tail, isPrime));\r\n\t}\r\n\r\n\tsieve(StreamEx.iterate(2, x -&gt; x+1), i -&gt; true).limit(1000).forEach(System.out::println);\r\n\r\n\r\n----\r\n\r\nIt interesting to compare recursive solutions: how many primes they capable to generate.\r\n\r\n**@John McClean solution (`StreamUtils`)**\r\n\r\nJohn McClean solutions are not lazy: you cannot feed them with infinite stream. So I just found by trial-and-error the maximal allowed upper bound (`17793`) (after that StackOverflowError occurs):\r\n\r\n\tpublic void sieveTest(){\r\n\t    sieve(IntStream.range(2, 17793).boxed()).forEach(System.out::println);\r\n\t}\r\n\r\n**@John McClean solution (`Streamable`)**\r\n\r\n\tpublic void sieveTest2(){\r\n\t    sieve(Streamable.range(2, 39990)).forEach(System.out::println);\r\n\t}\r\n\r\nIncreasing upper limit above `39990` results in StackOverflowError.\r\n\r\n\r\n**@frhack solution (`LazySeq`)**\r\n\r\n    LazySeq&lt;Integer&gt; ints = integers(2);\r\n    LazySeq primes = sieve(ints); // sieve method from @frhack answer\r\n    primes.forEach(p -&gt; System.out.println(p));\r\n\r\nResult: stuck after prime number = `53327` with enormous heap allocation and garbage collection taking more than 90%. It took several minutes to advance from 53323 to 53327, so waiting more seems impractical.\r\n\r\n**@vidi solution**\r\n\r\n    Prime.stream().forEach(System.out::println);\r\n\r\nResult: StackOverflowError after prime number = `134417`.\r\n\r\n**My solution (StreamEx)**\r\n\r\n    sieve(StreamEx.iterate(2, x -&gt; x+1)).forEach(System.out::println);\r\n\r\nResult: StackOverflowError after prime number = `236167`.\r\n\r\n**@frhack solution (`rxjava`)**\r\n\r\n    Observable&lt;Integer&gt; primes = Observable.from(()-&gt;primesStream.iterator());\r\n    primes.forEach((x) -&gt; System.out.println(x.toString()));\t\t\t\r\n\r\nResult: StackOverflowError after prime number = `367663`.\r\n\r\n**@Holger solution**\r\n\r\n\tIntStream primes=from(2).filter(i-&gt;p.test(i)).peek(i-&gt;p=p.and(v-&gt;v%i!=0));\r\n\tprimes.forEach(System.out::println);\r\n\r\nResult: StackOverflowError after prime number = `368089`.\r\n\r\n**My solution (StreamEx with predicate concatenation)**\r\n\r\n    sieve(StreamEx.iterate(2, x -&gt; x+1), i -&gt; true).forEach(System.out::println);\r\n\r\nResult: StackOverflowError after prime number = `368287`.\r\n\r\n---\r\n\r\nSo three solutions involving predicate concatenation win, because each new condition adds only 2 more stack frames. I think, the difference between them is marginal and should not be considered to define a winner. However I like my first StreamEx solution more as it more similar to Scala code.","title":"Java 8 Stream, getting head and tail","body":"<p>My <a href=\"https://github.com/amaembo/streamex/\" rel=\"nofollow\">StreamEx</a> library has now <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#headTail-java.util.function.BiFunction-\" rel=\"nofollow\"><code>headTail()</code></a> operation which solves the problem:</p>\n\n<pre><code>public static StreamEx&lt;Integer&gt; sieve(StreamEx&lt;Integer&gt; input) {\n    return input.headTail((head, tail) -&gt; \n        sieve(tail.filter(n -&gt; n % head != 0)).prepend(head));\n}\n</code></pre>\n\n<p>The <code>headTail</code> method takes a <code>BiFunction</code> which will be executed at most once during the stream terminal operation execution. So this implementation is lazy: it does not compute anything until traversal starts and computes only as much prime numbers as requested. The <code>BiFunction</code> receives a first stream element <code>head</code> and the stream of the rest elements <code>tail</code> and can modify the <code>tail</code> in any way it wants. You may use it with predefined input:</p>\n\n<pre><code>sieve(IntStreamEx.range(2, 1000).boxed()).forEach(System.out::println);\n</code></pre>\n\n<p>But infinite stream work as well</p>\n\n<pre><code>sieve(StreamEx.iterate(2, x -&gt; x+1)).takeWhile(x -&gt; x &lt; 1000)\n     .forEach(System.out::println);\n// Not the primes till 1000, but 1000 first primes\nsieve(StreamEx.iterate(2, x -&gt; x+1)).limit(1000).forEach(System.out::println);\n</code></pre>\n\n<p>There's also alternative solution using <code>headTail</code> and predicate concatenation:</p>\n\n<pre><code>public static StreamEx&lt;Integer&gt; sieve(StreamEx&lt;Integer&gt; input, IntPredicate isPrime) {\n    return input.headTail((head, tail) -&gt; isPrime.test(head) \n            ? sieve(tail, isPrime.and(n -&gt; n % head != 0)).prepend(head)\n            : sieve(tail, isPrime));\n}\n\nsieve(StreamEx.iterate(2, x -&gt; x+1), i -&gt; true).limit(1000).forEach(System.out::println);\n</code></pre>\n\n<hr>\n\n<p>It interesting to compare recursive solutions: how many primes they capable to generate.</p>\n\n<p><strong>@John McClean solution (<code>StreamUtils</code>)</strong></p>\n\n<p>John McClean solutions are not lazy: you cannot feed them with infinite stream. So I just found by trial-and-error the maximal allowed upper bound (<code>17793</code>) (after that StackOverflowError occurs):</p>\n\n<pre><code>public void sieveTest(){\n    sieve(IntStream.range(2, 17793).boxed()).forEach(System.out::println);\n}\n</code></pre>\n\n<p><strong>@John McClean solution (<code>Streamable</code>)</strong></p>\n\n<pre><code>public void sieveTest2(){\n    sieve(Streamable.range(2, 39990)).forEach(System.out::println);\n}\n</code></pre>\n\n<p>Increasing upper limit above <code>39990</code> results in StackOverflowError.</p>\n\n<p><strong>@frhack solution (<code>LazySeq</code>)</strong></p>\n\n<pre><code>LazySeq&lt;Integer&gt; ints = integers(2);\nLazySeq primes = sieve(ints); // sieve method from @frhack answer\nprimes.forEach(p -&gt; System.out.println(p));\n</code></pre>\n\n<p>Result: stuck after prime number = <code>53327</code> with enormous heap allocation and garbage collection taking more than 90%. It took several minutes to advance from 53323 to 53327, so waiting more seems impractical.</p>\n\n<p><strong>@vidi solution</strong></p>\n\n<pre><code>Prime.stream().forEach(System.out::println);\n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>134417</code>.</p>\n\n<p><strong>My solution (StreamEx)</strong></p>\n\n<pre><code>sieve(StreamEx.iterate(2, x -&gt; x+1)).forEach(System.out::println);\n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>236167</code>.</p>\n\n<p><strong>@frhack solution (<code>rxjava</code>)</strong></p>\n\n<pre><code>Observable&lt;Integer&gt; primes = Observable.from(()-&gt;primesStream.iterator());\nprimes.forEach((x) -&gt; System.out.println(x.toString()));            \n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>367663</code>.</p>\n\n<p><strong>@Holger solution</strong></p>\n\n<pre><code>IntStream primes=from(2).filter(i-&gt;p.test(i)).peek(i-&gt;p=p.and(v-&gt;v%i!=0));\nprimes.forEach(System.out::println);\n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>368089</code>.</p>\n\n<p><strong>My solution (StreamEx with predicate concatenation)</strong></p>\n\n<pre><code>sieve(StreamEx.iterate(2, x -&gt; x+1), i -&gt; true).forEach(System.out::println);\n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>368287</code>.</p>\n\n<hr>\n\n<p>So three solutions involving predicate concatenation win, because each new condition adds only 2 more stack frames. I think, the difference between them is marginal and should not be considered to define a winner. However I like my first StreamEx solution more as it more similar to Scala code.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673587167,"creation_date":1480621387,"answer_id":40919102,"question_id":19803058,"body_markdown":"If you want to get head of a stream, just:\r\n\r\n    IntStream.range(1, 5).first();\r\n\r\nIf you want to get tail of a stream, just:\r\n\r\n    IntStream.range(1, 5).skip(1);\r\n\r\nIf you want to get both head and tail of a stream, just:\r\n\r\n    IntStream s = IntStream.range(1, 5);\r\n\tint head = s.head();\r\n\tIntStream tail = s.tail();\r\n\r\nIf you want to find the prime, just:\r\n\r\n    LongStream.range(2, n)\r\n       .filter(i -&gt; LongStream.range(2, (long) Math.sqrt(i) + 1).noneMatch(j -&gt; i % j == 0))\r\n       .forEach(N::println);\r\n\r\nIf you want to know more, go to get [abacus-common][1]\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>If you want to get head of a stream, just:</p>\n<pre><code>IntStream.range(1, 5).first();\n</code></pre>\n<p>If you want to get tail of a stream, just:</p>\n<pre><code>IntStream.range(1, 5).skip(1);\n</code></pre>\n<p>If you want to get both head and tail of a stream, just:</p>\n<pre><code>IntStream s = IntStream.range(1, 5);\nint head = s.head();\nIntStream tail = s.tail();\n</code></pre>\n<p>If you want to find the prime, just:</p>\n<pre><code>LongStream.range(2, n)\n   .filter(i -&gt; LongStream.range(2, (long) Math.sqrt(i) + 1).noneMatch(j -&gt; i % j == 0))\n   .forEach(N::println);\n</code></pre>\n<p>If you want to know more, go to get <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":357752,"reputation":1292,"user_id":698121,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541938974,"creation_date":1541938974,"answer_id":53248719,"question_id":19803058,"body_markdown":"There are many interesting suggestions provided here, but if someone needs a solution without dependencies to third party libraries I came up with this:\r\n\r\n        import java.util.AbstractMap;\r\n        import java.util.Optional;\r\n        import java.util.Spliterators;\r\n        import java.util.stream.StreamSupport;\r\n    \r\n        /**\r\n         * Splits a stream in the head element and a tail stream.\r\n    \t * Parallel streams are not supported.\r\n    \t * \r\n         * @param stream Stream to split.\r\n    \t * @param &lt;T&gt; Type of the input stream.\r\n    \t * @return A map entry where {@link Map.Entry#getKey()} contains an\r\n    \t *    optional with the first element (head) of the original stream\r\n    \t *    and {@link Map.Entry#getValue()} the tail of the original stream.\r\n    \t * @throws IllegalArgumentException for parallel streams.\r\n    \t */\r\n    \tpublic static &lt;T&gt; Map.Entry&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; headAndTail(final Stream&lt;T&gt; stream) {\r\n    \t\tif (stream.isParallel()) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;parallel streams are not supported&quot;);\r\n    \t\t}\r\n    \t\tfinal Iterator&lt;T&gt; iterator = stream.iterator();\r\n    \t\treturn new AbstractMap.SimpleImmutableEntry&lt;&gt;(\r\n    \t\t\t\titerator.hasNext() ? Optional.of(iterator.next()) : Optional.empty(),\r\n    \t\t\t\tStreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, 0), false)\r\n    \t\t);\r\n    \t}\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>There are many interesting suggestions provided here, but if someone needs a solution without dependencies to third party libraries I came up with this:</p>\n\n<pre><code>    import java.util.AbstractMap;\n    import java.util.Optional;\n    import java.util.Spliterators;\n    import java.util.stream.StreamSupport;\n\n    /**\n     * Splits a stream in the head element and a tail stream.\n     * Parallel streams are not supported.\n     * \n     * @param stream Stream to split.\n     * @param &lt;T&gt; Type of the input stream.\n     * @return A map entry where {@link Map.Entry#getKey()} contains an\n     *    optional with the first element (head) of the original stream\n     *    and {@link Map.Entry#getValue()} the tail of the original stream.\n     * @throws IllegalArgumentException for parallel streams.\n     */\n    public static &lt;T&gt; Map.Entry&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; headAndTail(final Stream&lt;T&gt; stream) {\n        if (stream.isParallel()) {\n            throw new IllegalArgumentException(\"parallel streams are not supported\");\n        }\n        final Iterator&lt;T&gt; iterator = stream.iterator();\n        return new AbstractMap.SimpleImmutableEntry&lt;&gt;(\n                iterator.hasNext() ? Optional.of(iterator.next()) : Optional.empty(),\n                StreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, 0), false)\n        );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8241122,"reputation":391,"user_id":6198746,"display_name":"Brixomatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625217480,"creation_date":1625217480,"answer_id":68222635,"question_id":19803058,"body_markdown":"This should work with parallel streams as well:\r\n\r\n\r\n```java\r\npublic static &lt;T&gt; Map.Entry&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; headAndTail(final Stream&lt;T&gt; stream) {\r\n\tfinal AtomicReference&lt;Optional&lt;T&gt;&gt; head = new AtomicReference&lt;&gt;(Optional.empty());\r\n\tfinal var spliterator = stream.spliterator();\r\n\tspliterator.tryAdvance(x -&gt; head.set(Optional.of(x)));\r\n\treturn Map.entry(head.get(), StreamSupport.stream(spliterator, stream.isParallel()));\r\n}\r\n```\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>This should work with parallel streams as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Map.Entry&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; headAndTail(final Stream&lt;T&gt; stream) {\n    final AtomicReference&lt;Optional&lt;T&gt;&gt; head = new AtomicReference&lt;&gt;(Optional.empty());\n    final var spliterator = stream.spliterator();\n    spliterator.tryAdvance(x -&gt; head.set(Optional.of(x)));\n    return Map.entry(head.get(), StreamSupport.stream(spliterator, stream.isParallel()));\n}\n</code></pre>\n"}],"owner":{"account_id":187693,"reputation":4250,"user_id":425943,"accept_rate":91,"display_name":"lyomi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15353,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":20007272,"answer_count":10,"score":24,"last_activity_date":1673587167,"creation_date":1383705461,"question_id":19803058,"body_markdown":"Java 8 introduced a [Stream][1] class that resembles Scala&#39;s [Stream][2], a powerful lazy construct using which it is possible to do something like this very concisely:\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    def from(n: Int): Stream[Int] = n #:: from(n+1)\r\n     \r\n    def sieve(s: Stream[Int]): Stream[Int] = {\r\n      s.head #:: sieve(s.tail filter (_ % s.head != 0))\r\n    }\r\n     \r\n    val primes = sieve(from(2))\r\n     \r\n    primes takeWhile(_ &lt; 1000) print  // prints all primes less than 1000\r\n\r\nI wondered if it is possible to do this in Java 8, so I wrote something like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n\tIntStream from(int n) {\r\n\t\treturn IntStream.iterate(n, m -&gt; m + 1);\r\n\t}\r\n\r\n\tIntStream sieve(IntStream s) {\r\n\t\tint head = s.findFirst().getAsInt();\r\n\t\treturn IntStream.concat(IntStream.of(head), sieve(s.skip(1).filter(n -&gt; n % head != 0)));\r\n\t}\r\n\r\n\tIntStream primes = sieve(from(2));\r\n\r\n\r\nFairly simple, but it produces `java.lang.IllegalStateException: stream has already been operated upon or closed` because both `findFirst()` and `skip()` are terminal operations on `Stream` which can be done only once.\r\n\r\nI don&#39;t really have to use up the stream twice since all I need is the first number in the stream and the rest as another stream, i.e. equivalent of Scala&#39;s `Stream.head` and `Stream.tail`. Is there a method in Java 8 `Stream` that I can use to achieve this?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: http://download.java.net/jdk8/docs/api/java/util/stream/Stream.html\r\n  [2]: http://www.scala-lang.org/files/archive/nightly/docs/library/scala/collection/immutable/Stream.html","title":"Java 8 Stream, getting head and tail","body":"<p>Java 8 introduced a <a href=\"http://download.java.net/jdk8/docs/api/java/util/stream/Stream.html\">Stream</a> class that resembles Scala's <a href=\"http://www.scala-lang.org/files/archive/nightly/docs/library/scala/collection/immutable/Stream.html\">Stream</a>, a powerful lazy construct using which it is possible to do something like this very concisely:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>def from(n: Int): Stream[Int] = n #:: from(n+1)\n\ndef sieve(s: Stream[Int]): Stream[Int] = {\n  s.head #:: sieve(s.tail filter (_ % s.head != 0))\n}\n\nval primes = sieve(from(2))\n\nprimes takeWhile(_ &lt; 1000) print  // prints all primes less than 1000\n</code></pre>\n\n<p>I wondered if it is possible to do this in Java 8, so I wrote something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>IntStream from(int n) {\n    return IntStream.iterate(n, m -&gt; m + 1);\n}\n\nIntStream sieve(IntStream s) {\n    int head = s.findFirst().getAsInt();\n    return IntStream.concat(IntStream.of(head), sieve(s.skip(1).filter(n -&gt; n % head != 0)));\n}\n\nIntStream primes = sieve(from(2));\n</code></pre>\n\n<p>Fairly simple, but it produces <code>java.lang.IllegalStateException: stream has already been operated upon or closed</code> because both <code>findFirst()</code> and <code>skip()</code> are terminal operations on <code>Stream</code> which can be done only once.</p>\n\n<p>I don't really have to use up the stream twice since all I need is the first number in the stream and the rest as another stream, i.e. equivalent of Scala's <code>Stream.head</code> and <code>Stream.tail</code>. Is there a method in Java 8 <code>Stream</code> that I can use to achieve this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","functional-programming","java-8","java-stream"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1441616298,"post_id":32434592,"comment_id":52734181,"body_markdown":"Making partitions lazily evaluated is generally infeasible in my experience - what would you expect to happen if you maintained references to several partitions, and then accessed them out of order?","body":"Making partitions lazily evaluated is generally infeasible in my experience - what would you expect to happen if you maintained references to several partitions, and then accessed them out of order?"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":3,"creation_date":1441616636,"post_id":32434592,"comment_id":52734363,"body_markdown":"@JonSkeet - Especially if they are parallel.","body":"@JonSkeet - Especially if they are parallel."},{"owner":{"account_id":226458,"reputation":974,"user_id":487516,"display_name":"Trader001"},"score":0,"creation_date":1441617467,"post_id":32434592,"comment_id":52734850,"body_markdown":"Thanks for your point, Jon, I suspected that. Do you think non-lazy implementation in my own answer below is optimal?","body":"Thanks for your point, Jon, I suspected that. Do you think non-lazy implementation in my own answer below is optimal?"},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1543431237,"post_id":32434592,"comment_id":93921307,"body_markdown":"I think that if I&#39;m more concerned about memory than parallelism, I&#39;d want to work with a stream of &quot;lazy evaluated streams&quot;.","body":"I think that if I&#39;m more concerned about memory than parallelism, I&#39;d want to work with a stream of &quot;lazy evaluated streams&quot;."}],"answers":[{"tags":[],"owner":{"account_id":226458,"reputation":974,"user_id":487516,"display_name":"Trader001"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1441617307,"creation_date":1441617307,"answer_id":32435046,"question_id":32434592,"body_markdown":"It seem like, as Jon Skeet has shown in his [comment][1], it&#39;s not possible to make partitions lazy. For non-lazy partitions, I already have this code:\r\n\r\n    public static &lt;T&gt; Stream&lt;Stream&lt;T&gt;&gt; partition(Stream&lt;T&gt; source, int size) {\r\n        final Iterator&lt;T&gt; it = source.iterator();\r\n        final Iterator&lt;Stream&lt;T&gt;&gt; partIt = Iterators.transform(Iterators.partition(it, size), List::stream);\r\n        final Iterable&lt;Stream&lt;T&gt;&gt; iterable = () -&gt; partIt;\r\n\r\n        return StreamSupport.stream(iterable.spliterator(), false);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32434592/partition-a-java-8-stream#comment52734181_32434592","title":"Partition a Java 8 Stream","body":"<p>It seem like, as Jon Skeet has shown in his <a href=\"https://stackoverflow.com/questions/32434592/partition-a-java-8-stream#comment52734181_32434592\">comment</a>, it's not possible to make partitions lazy. For non-lazy partitions, I already have this code:</p>\n\n<pre><code>public static &lt;T&gt; Stream&lt;Stream&lt;T&gt;&gt; partition(Stream&lt;T&gt; source, int size) {\n    final Iterator&lt;T&gt; it = source.iterator();\n    final Iterator&lt;Stream&lt;T&gt;&gt; partIt = Iterators.transform(Iterators.partition(it, size), List::stream);\n    final Iterable&lt;Stream&lt;T&gt;&gt; iterable = () -&gt; partIt;\n\n    return StreamSupport.stream(iterable.spliterator(), false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":2,"up_vote_count":60,"is_accepted":true,"score":58,"last_activity_date":1450755733,"creation_date":1441618468,"answer_id":32435407,"question_id":32434592,"body_markdown":"It&#39;s impossible to partition the arbitrary source stream to the fixed size batches, because this will screw up the parallel processing. When processing in parallel you may not know how many elements in the first sub-task after the split, so you cannot create the partitions for the next sub-task until the first is fully processed.\r\n\r\nHowever it is possible to create the stream of partitions from the random access `List`. Such feature is available, for example, in my [`StreamEx`](https://github.com/amaembo/streamex) library:\r\n\r\n    List&lt;Type&gt; input = Arrays.asList(...);\r\n\r\n    Stream&lt;List&lt;Type&gt;&gt; stream = StreamEx.ofSubLists(input, partitionSize);\r\n\r\nOr if you really want the stream of streams:\r\n\r\n    Stream&lt;Stream&lt;Type&gt;&gt; stream = StreamEx.ofSubLists(input, partitionSize).map(List::stream);\r\n\r\nIf you don&#39;t want to depend on third-party libraries, you can implement such `ofSubLists` method manually:\r\n\r\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofSubLists(List&lt;T&gt; source, int length) {\r\n        if (length &lt;= 0)\r\n            throw new IllegalArgumentException(&quot;length = &quot; + length);\r\n        int size = source.size();\r\n        if (size &lt;= 0)\r\n            return Stream.empty();\r\n        int fullChunks = (size - 1) / length;\r\n        return IntStream.range(0, fullChunks + 1).mapToObj(\r\n            n -&gt; source.subList(n * length, n == fullChunks ? size : (n + 1) * length));\r\n    }\r\n\r\nThis implementation looks a little bit long, but it takes into account some corner cases like close-to-MAX_VALUE list size.\r\n\r\n----\r\n\r\nIf you want parallel-friendly solution for unordered stream (so you don&#39;t care which stream elements will be combined in single batch), you may use the collector like this (thanks to @sibnick for inspiration):\r\n\r\n\tpublic static &lt;T, A, R&gt; Collector&lt;T, ?, R&gt; unorderedBatches(int batchSize, \r\n                       Collector&lt;List&lt;T&gt;, A, R&gt; downstream) {\r\n\t\tclass Acc {\r\n\t\t\tList&lt;T&gt; cur = new ArrayList&lt;&gt;();\r\n\t\t\tA acc = downstream.supplier().get();\r\n\t\t}\r\n\t\tBiConsumer&lt;Acc, T&gt; accumulator = (acc, t) -&gt; {\r\n\t\t\tacc.cur.add(t);\r\n\t\t\tif(acc.cur.size() == batchSize) {\r\n\t\t\t\tdownstream.accumulator().accept(acc.acc, acc.cur);\r\n\t\t\t\tacc.cur = new ArrayList&lt;&gt;();\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn Collector.of(Acc::new, accumulator,\r\n\t\t\t\t(acc1, acc2) -&gt; {\r\n\t\t\t\t\tacc1.acc = downstream.combiner().apply(acc1.acc, acc2.acc);\r\n\t\t\t\t\tfor(T t : acc2.cur) accumulator.accept(acc1, t);\r\n\t\t\t\t\treturn acc1;\r\n\t\t\t\t}, acc -&gt; {\r\n                    if(!acc.cur.isEmpty())\r\n\t\t\t\t\t    downstream.accumulator().accept(acc.acc, acc.cur);\r\n\t\t\t\t\treturn downstream.finisher().apply(acc.acc);\r\n\t\t\t\t}, Collector.Characteristics.UNORDERED);\r\n\t}\r\n\r\nUsage example:\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = IntStream.range(0,20)\r\n                                        .boxed().parallel()\r\n                                        .collect(unorderedBatches(3, Collectors.toList()));\r\n\r\nResult:\r\n\r\n    [[2, 3, 4], [7, 8, 9], [0, 1, 5], [12, 13, 14], [17, 18, 19], [10, 11, 15], [6, 16]]\r\n\r\nSuch collector is perfectly thread-safe and produces ordered batches for sequential stream.\r\n\r\nIf you want to apply an intermediate transformation for every batch, you may use the following version:\r\n\r\n\tpublic static &lt;T, AA, A, B, R&gt; Collector&lt;T, ?, R&gt; unorderedBatches(int batchSize,\r\n\t\t\tCollector&lt;T, AA, B&gt; batchCollector,\r\n\t\t\tCollector&lt;B, A, R&gt; downstream) {\r\n\t\treturn unorderedBatches(batchSize, \r\n\t\t\t\tCollectors.mapping(list -&gt; list.stream().collect(batchCollector), downstream));\r\n\t}\r\n\r\nFor example, this way you can sum the numbers in every batch on the fly:\r\n\r\n\tList&lt;Integer&gt; list = IntStream.range(0,20)\r\n            .boxed().parallel()\r\n            .collect(unorderedBatches(3, Collectors.summingInt(Integer::intValue), \r\n                Collectors.toList()));\r\n","title":"Partition a Java 8 Stream","body":"<p>It's impossible to partition the arbitrary source stream to the fixed size batches, because this will screw up the parallel processing. When processing in parallel you may not know how many elements in the first sub-task after the split, so you cannot create the partitions for the next sub-task until the first is fully processed.</p>\n\n<p>However it is possible to create the stream of partitions from the random access <code>List</code>. Such feature is available, for example, in my <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\"><code>StreamEx</code></a> library:</p>\n\n<pre><code>List&lt;Type&gt; input = Arrays.asList(...);\n\nStream&lt;List&lt;Type&gt;&gt; stream = StreamEx.ofSubLists(input, partitionSize);\n</code></pre>\n\n<p>Or if you really want the stream of streams:</p>\n\n<pre><code>Stream&lt;Stream&lt;Type&gt;&gt; stream = StreamEx.ofSubLists(input, partitionSize).map(List::stream);\n</code></pre>\n\n<p>If you don't want to depend on third-party libraries, you can implement such <code>ofSubLists</code> method manually:</p>\n\n<pre><code>public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofSubLists(List&lt;T&gt; source, int length) {\n    if (length &lt;= 0)\n        throw new IllegalArgumentException(\"length = \" + length);\n    int size = source.size();\n    if (size &lt;= 0)\n        return Stream.empty();\n    int fullChunks = (size - 1) / length;\n    return IntStream.range(0, fullChunks + 1).mapToObj(\n        n -&gt; source.subList(n * length, n == fullChunks ? size : (n + 1) * length));\n}\n</code></pre>\n\n<p>This implementation looks a little bit long, but it takes into account some corner cases like close-to-MAX_VALUE list size.</p>\n\n<hr>\n\n<p>If you want parallel-friendly solution for unordered stream (so you don't care which stream elements will be combined in single batch), you may use the collector like this (thanks to @sibnick for inspiration):</p>\n\n<pre><code>public static &lt;T, A, R&gt; Collector&lt;T, ?, R&gt; unorderedBatches(int batchSize, \n                   Collector&lt;List&lt;T&gt;, A, R&gt; downstream) {\n    class Acc {\n        List&lt;T&gt; cur = new ArrayList&lt;&gt;();\n        A acc = downstream.supplier().get();\n    }\n    BiConsumer&lt;Acc, T&gt; accumulator = (acc, t) -&gt; {\n        acc.cur.add(t);\n        if(acc.cur.size() == batchSize) {\n            downstream.accumulator().accept(acc.acc, acc.cur);\n            acc.cur = new ArrayList&lt;&gt;();\n        }\n    };\n    return Collector.of(Acc::new, accumulator,\n            (acc1, acc2) -&gt; {\n                acc1.acc = downstream.combiner().apply(acc1.acc, acc2.acc);\n                for(T t : acc2.cur) accumulator.accept(acc1, t);\n                return acc1;\n            }, acc -&gt; {\n                if(!acc.cur.isEmpty())\n                    downstream.accumulator().accept(acc.acc, acc.cur);\n                return downstream.finisher().apply(acc.acc);\n            }, Collector.Characteristics.UNORDERED);\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = IntStream.range(0,20)\n                                    .boxed().parallel()\n                                    .collect(unorderedBatches(3, Collectors.toList()));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[[2, 3, 4], [7, 8, 9], [0, 1, 5], [12, 13, 14], [17, 18, 19], [10, 11, 15], [6, 16]]\n</code></pre>\n\n<p>Such collector is perfectly thread-safe and produces ordered batches for sequential stream.</p>\n\n<p>If you want to apply an intermediate transformation for every batch, you may use the following version:</p>\n\n<pre><code>public static &lt;T, AA, A, B, R&gt; Collector&lt;T, ?, R&gt; unorderedBatches(int batchSize,\n        Collector&lt;T, AA, B&gt; batchCollector,\n        Collector&lt;B, A, R&gt; downstream) {\n    return unorderedBatches(batchSize, \n            Collectors.mapping(list -&gt; list.stream().collect(batchCollector), downstream));\n}\n</code></pre>\n\n<p>For example, this way you can sum the numbers in every batch on the fly:</p>\n\n<pre><code>List&lt;Integer&gt; list = IntStream.range(0,20)\n        .boxed().parallel()\n        .collect(unorderedBatches(3, Collectors.summingInt(Integer::intValue), \n            Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53490,"reputation":4005,"user_id":159923,"display_name":"sibnick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441631964,"creation_date":1441628362,"answer_id":32438624,"question_id":32434592,"body_markdown":"I think it is possible with some sort of hack inside:\r\n\r\n\r\ncreate utility class for batch:\r\n\r\n\r\n    public static class ConcurrentBatch {\r\n        private AtomicLong id = new AtomicLong();\r\n        private int batchSize;\r\n\r\n        public ConcurrentBatch(int batchSize) {\r\n            this.batchSize = batchSize;\r\n        }\r\n\r\n        public long next() {\r\n            return (id.getAndIncrement()) / batchSize;\r\n        }\r\n\r\n        public int getBatchSize() {\r\n            return batchSize;\r\n        }\r\n    }\r\n\r\nand method:\r\n\r\n    public static &lt;T&gt; void applyConcurrentBatchToStream(Consumer&lt;List&lt;T&gt;&gt; batchFunc, Stream&lt;T&gt; stream, int batchSize){\r\n        ConcurrentBatch batch = new ConcurrentBatch(batchSize);\r\n        //hack java map: extends and override computeIfAbsent\r\n        Supplier&lt;ConcurrentMap&lt;Long, List&lt;T&gt;&gt;&gt; mapFactory = () -&gt; new ConcurrentHashMap&lt;Long, List&lt;T&gt;&gt;() {\r\n            @Override\r\n            public List&lt;T&gt; computeIfAbsent(Long key, Function&lt;? super Long, ? extends List&lt;T&gt;&gt; mappingFunction) {\r\n                List&lt;T&gt; rs = super.computeIfAbsent(key, mappingFunction);\r\n                //apply batchFunc to old lists, when new batch list is created\r\n                if(rs.isEmpty()){\r\n                    for(Entry&lt;Long, List&lt;T&gt;&gt; e : entrySet()) {\r\n                        List&lt;T&gt; batchList = e.getValue();\r\n                        //todo: need to improve\r\n                        synchronized (batchList) {\r\n                            if (batchList.size() == batch.getBatchSize()){\r\n                                batchFunc.accept(batchList);\r\n                                remove(e.getKey());\r\n                                batchList.clear();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return rs;\r\n            }\r\n        };\r\n        stream.map(s -&gt; new AbstractMap.SimpleEntry&lt;&gt;(batch.next(), s))\r\n                .collect(groupingByConcurrent(AbstractMap.SimpleEntry::getKey, mapFactory, mapping(AbstractMap.SimpleEntry::getValue, toList())))\r\n                .entrySet()\r\n                .stream()\r\n                //map contains only unprocessed lists (size&lt;batchSize)\r\n                .forEach(e -&gt; batchFunc.accept(e.getValue()));\r\n    }","title":"Partition a Java 8 Stream","body":"<p>I think it is possible with some sort of hack inside:</p>\n\n<p>create utility class for batch:</p>\n\n<pre><code>public static class ConcurrentBatch {\n    private AtomicLong id = new AtomicLong();\n    private int batchSize;\n\n    public ConcurrentBatch(int batchSize) {\n        this.batchSize = batchSize;\n    }\n\n    public long next() {\n        return (id.getAndIncrement()) / batchSize;\n    }\n\n    public int getBatchSize() {\n        return batchSize;\n    }\n}\n</code></pre>\n\n<p>and method:</p>\n\n<pre><code>public static &lt;T&gt; void applyConcurrentBatchToStream(Consumer&lt;List&lt;T&gt;&gt; batchFunc, Stream&lt;T&gt; stream, int batchSize){\n    ConcurrentBatch batch = new ConcurrentBatch(batchSize);\n    //hack java map: extends and override computeIfAbsent\n    Supplier&lt;ConcurrentMap&lt;Long, List&lt;T&gt;&gt;&gt; mapFactory = () -&gt; new ConcurrentHashMap&lt;Long, List&lt;T&gt;&gt;() {\n        @Override\n        public List&lt;T&gt; computeIfAbsent(Long key, Function&lt;? super Long, ? extends List&lt;T&gt;&gt; mappingFunction) {\n            List&lt;T&gt; rs = super.computeIfAbsent(key, mappingFunction);\n            //apply batchFunc to old lists, when new batch list is created\n            if(rs.isEmpty()){\n                for(Entry&lt;Long, List&lt;T&gt;&gt; e : entrySet()) {\n                    List&lt;T&gt; batchList = e.getValue();\n                    //todo: need to improve\n                    synchronized (batchList) {\n                        if (batchList.size() == batch.getBatchSize()){\n                            batchFunc.accept(batchList);\n                            remove(e.getKey());\n                            batchList.clear();\n                        }\n                    }\n                }\n            }\n            return rs;\n        }\n    };\n    stream.map(s -&gt; new AbstractMap.SimpleEntry&lt;&gt;(batch.next(), s))\n            .collect(groupingByConcurrent(AbstractMap.SimpleEntry::getKey, mapFactory, mapping(AbstractMap.SimpleEntry::getValue, toList())))\n            .entrySet()\n            .stream()\n            //map contains only unprocessed lists (size&lt;batchSize)\n            .forEach(e -&gt; batchFunc.accept(e.getValue()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1476092448,"creation_date":1442664642,"answer_id":32668057,"question_id":32434592,"body_markdown":"Provided you want to use the Stream sequentially, it is possible to partition a Stream (as well as perform related functions such as windowing - which I think is what you really want in this case). \r\nTwo libraries that will support partitoning for standard Streams are [cyclops-react](https://github.com/aol/cyclops-react) (I am the author) and [jOOλ](https://github.com/jOOQ/jOOL) which cyclops-react extends (to add functionality such as Windowing).\r\n\r\n cyclops-streams has a collection of static functions [StreamUtils](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-FINAL/com/aol/cyclops/control/StreamUtils.html) for operating on Java Streams, and a series of functions such as splitAt, headAndTail, splitBy, partition for partitioning. \r\n\r\nTo window a Stream into a Stream of nested Streams of size 30 you can use the window method.\r\n\r\nTo the OPs point, in Streaming terms, splitting a Stream into multiple Streams of a given size is a Windowing operation (rather than a Partitioning operation). \r\n\r\n      Stream&lt;Streamable&lt;Integer&gt;&gt; streamOfStreams = StreamUtils.window(stream,30);\r\n\r\nThere is a Stream extension class called [ReactiveSeq](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-FINAL/com/aol/cyclops/control/ReactiveSeq.html) that extends [jool.Seq](http://www.jooq.org/products/jOO%CE%BB/javadoc/0.9.7/org/jooq/lambda/Seq.html) and adds Windowing functionality, that may make the code a little cleaner.\r\n\r\n      ReactiveSeq&lt;Integer&gt; seq;\r\n      ReactiveSeq&lt;ListX&lt;Integer&gt;&gt; streamOfLists = seq.grouped(30);\r\n\r\n\r\n\r\nAs Tagir points out above though, this isn&#39;t suitable for parallel Streams. If you want to window or batch a Stream you wish to executed in a multithreaded fashion. LazyFutureStream in [cyclops-react](https://github.com/aol/cyclops-react)might be useful (Windowing is on the to-do list, but plain old batching is available now).\r\n\r\nIn this case data will be passed from the multiple threads executing the Stream to a Multi-Producer/Single-Consumer wait-free Queue and the sequential data from that queue can be windowed before being distributed to threads again. \r\n\r\n      Stream&lt;List&lt;Data&gt;&gt; batched = new LazyReact().range(0,1000)\r\n                                                  .grouped(30)\r\n                                                  .map(this::process);\r\n                                      \r\n","title":"Partition a Java 8 Stream","body":"<p>Provided you want to use the Stream sequentially, it is possible to partition a Stream (as well as perform related functions such as windowing - which I think is what you really want in this case). \nTwo libraries that will support partitoning for standard Streams are <a href=\"https://github.com/aol/cyclops-react\" rel=\"noreferrer\">cyclops-react</a> (I am the author) and <a href=\"https://github.com/jOOQ/jOOL\" rel=\"noreferrer\">jOOλ</a> which cyclops-react extends (to add functionality such as Windowing).</p>\n\n<p>cyclops-streams has a collection of static functions <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-FINAL/com/aol/cyclops/control/StreamUtils.html\" rel=\"noreferrer\">StreamUtils</a> for operating on Java Streams, and a series of functions such as splitAt, headAndTail, splitBy, partition for partitioning. </p>\n\n<p>To window a Stream into a Stream of nested Streams of size 30 you can use the window method.</p>\n\n<p>To the OPs point, in Streaming terms, splitting a Stream into multiple Streams of a given size is a Windowing operation (rather than a Partitioning operation). </p>\n\n<pre><code>  Stream&lt;Streamable&lt;Integer&gt;&gt; streamOfStreams = StreamUtils.window(stream,30);\n</code></pre>\n\n<p>There is a Stream extension class called <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-FINAL/com/aol/cyclops/control/ReactiveSeq.html\" rel=\"noreferrer\">ReactiveSeq</a> that extends <a href=\"http://www.jooq.org/products/jOO%CE%BB/javadoc/0.9.7/org/jooq/lambda/Seq.html\" rel=\"noreferrer\">jool.Seq</a> and adds Windowing functionality, that may make the code a little cleaner.</p>\n\n<pre><code>  ReactiveSeq&lt;Integer&gt; seq;\n  ReactiveSeq&lt;ListX&lt;Integer&gt;&gt; streamOfLists = seq.grouped(30);\n</code></pre>\n\n<p>As Tagir points out above though, this isn't suitable for parallel Streams. If you want to window or batch a Stream you wish to executed in a multithreaded fashion. LazyFutureStream in <a href=\"https://github.com/aol/cyclops-react\" rel=\"noreferrer\">cyclops-react</a>might be useful (Windowing is on the to-do list, but plain old batching is available now).</p>\n\n<p>In this case data will be passed from the multiple threads executing the Stream to a Multi-Producer/Single-Consumer wait-free Queue and the sequential data from that queue can be windowed before being distributed to threads again. </p>\n\n<pre><code>  Stream&lt;List&lt;Data&gt;&gt; batched = new LazyReact().range(0,1000)\n                                              .grouped(30)\n                                              .map(this::process);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587145,"creation_date":1480576511,"answer_id":40904641,"question_id":32434592,"body_markdown":"Here is quick solution by [abacus-common][1]\r\n\r\n    \r\n    IntStream.range(0, Integer.MAX_VALUE).split(size).forEach(s -&gt; N.println(s.toArray()));\r\n\r\nDisclaimer：I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Partition a Java 8 Stream","body":"<p>Here is quick solution by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>IntStream.range(0, Integer.MAX_VALUE).split(size).forEach(s -&gt; N.println(s.toArray()));\n</code></pre>\n<p>Disclaimer：I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":12931671,"reputation":144,"user_id":9350512,"display_name":"rloeffel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518688987,"creation_date":1518688987,"answer_id":48804437,"question_id":32434592,"body_markdown":"The most elegant and pure java 8 solution for this problem i found:\r\n\r\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partition(final List&lt;T&gt; list, int batchSize) {\r\n    return IntStream.range(0, getNumberOfPartitions(list, batchSize))\r\n                    .mapToObj(i -&gt; list.subList(i * batchSize, Math.min((i + 1) * batchSize, list.size())))\r\n                    .collect(toList());\r\n    }\r\n\r\n    //https://stackoverflow.com/questions/23246983/get-the-next-higher-integer-value-in-java\r\n    private static &lt;T&gt; int getNumberOfPartitions(List&lt;T&gt; list, int batchSize) {\r\n        return (list.size() + batchSize- 1) / batchSize;\r\n    }","title":"Partition a Java 8 Stream","body":"<p>The most elegant and pure java 8 solution for this problem i found:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partition(final List&lt;T&gt; list, int batchSize) {\nreturn IntStream.range(0, getNumberOfPartitions(list, batchSize))\n                .mapToObj(i -&gt; list.subList(i * batchSize, Math.min((i + 1) * batchSize, list.size())))\n                .collect(toList());\n}\n\n//https://stackoverflow.com/questions/23246983/get-the-next-higher-integer-value-in-java\nprivate static &lt;T&gt; int getNumberOfPartitions(List&lt;T&gt; list, int batchSize) {\n    return (list.size() + batchSize- 1) / batchSize;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14519142,"reputation":61,"user_id":10487274,"display_name":"Hei"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539227195,"creation_date":1539226750,"answer_id":52751502,"question_id":32434592,"body_markdown":"This is a pure Java solution that&#39;s evaluated lazily instead of using List.\r\n\r\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; partition(Stream&lt;T&gt; stream, int batchSize){\r\n        List&lt;List&lt;T&gt;&gt; currentBatch = new ArrayList&lt;List&lt;T&gt;&gt;(); //just to make it mutable \r\n        currentBatch.add(new ArrayList&lt;T&gt;(batchSize));\r\n        return Stream.concat(stream\r\n          .sequential()                   \r\n          .map(new Function&lt;T, List&lt;T&gt;&gt;(){\r\n              public List&lt;T&gt; apply(T t){\r\n                  currentBatch.get(0).add(t);\r\n                  return currentBatch.get(0).size() == batchSize ? currentBatch.set(0,new ArrayList&lt;&gt;(batchSize)): null;\r\n                }\r\n          }), Stream.generate(()-&gt;currentBatch.get(0).isEmpty()?null:currentBatch.get(0))\r\n                    .limit(1)\r\n        ).filter(Objects::nonNull);\r\n    }\r\n\r\nThe method returns `Stream&lt;List&lt;T&gt;&gt;` for flexibility. You can convert it to `Stream&lt;Stream&lt;T&gt;&gt;` easily by `partition(something, 10).map(List::stream)`.","title":"Partition a Java 8 Stream","body":"<p>This is a pure Java solution that's evaluated lazily instead of using List.</p>\n\n<pre><code>public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; partition(Stream&lt;T&gt; stream, int batchSize){\n    List&lt;List&lt;T&gt;&gt; currentBatch = new ArrayList&lt;List&lt;T&gt;&gt;(); //just to make it mutable \n    currentBatch.add(new ArrayList&lt;T&gt;(batchSize));\n    return Stream.concat(stream\n      .sequential()                   \n      .map(new Function&lt;T, List&lt;T&gt;&gt;(){\n          public List&lt;T&gt; apply(T t){\n              currentBatch.get(0).add(t);\n              return currentBatch.get(0).size() == batchSize ? currentBatch.set(0,new ArrayList&lt;&gt;(batchSize)): null;\n            }\n      }), Stream.generate(()-&gt;currentBatch.get(0).isEmpty()?null:currentBatch.get(0))\n                .limit(1)\n    ).filter(Objects::nonNull);\n}\n</code></pre>\n\n<p>The method returns <code>Stream&lt;List&lt;T&gt;&gt;</code> for flexibility. You can convert it to <code>Stream&lt;Stream&lt;T&gt;&gt;</code> easily by <code>partition(something, 10).map(List::stream)</code>.</p>\n"},{"tags":[],"owner":{"account_id":131311,"reputation":638,"user_id":331212,"accept_rate":75,"display_name":"WarGoth"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1567362977,"creation_date":1553121207,"answer_id":55271147,"question_id":32434592,"body_markdown":"I found an elegant solution: `Iterable parts = Iterables.partition(stream::iterator, size)`","title":"Partition a Java 8 Stream","body":"<p>I found an elegant solution: <code>Iterable parts = Iterables.partition(stream::iterator, size)</code></p>\n"},{"tags":[],"owner":{"account_id":1379443,"reputation":649,"user_id":1312780,"display_name":"domax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590096585,"creation_date":1590096585,"answer_id":61944157,"question_id":32434592,"body_markdown":"Here is a pure Java 8 solution - both sequential and parallel:\r\n\r\n```java\r\n  public &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; chunk(Collection&lt;T&gt; collection, int chunkSize) {\r\n    final AtomicInteger index = new AtomicInteger();\r\n    return collection.stream()\r\n        .map(v -&gt; new SimpleImmutableEntry&lt;&gt;(index.getAndIncrement() / chunkSize, v))\r\n        // LinkedHashMap is used here just to preserve order\r\n        .collect(groupingBy(Entry::getKey, LinkedHashMap::new, mapping(Entry::getValue, toList())))\r\n        .values();\r\n  }\r\n\r\n  public &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; chunkParallel(Collection&lt;T&gt; collection, int chunkSize) {\r\n    final AtomicInteger index = new AtomicInteger();\r\n    return collection.parallelStream()\r\n        .map(v -&gt; new SimpleImmutableEntry&lt;&gt;(index.getAndIncrement() / chunkSize, v))\r\n        // So far it is parallel processing ordering cannot be preserved,\r\n        // but we have to make it thread safe - using e.g. ConcurrentHashMap\r\n        .collect(groupingBy(Entry::getKey, ConcurrentHashMap::new, mapping(Entry::getValue, toList())))\r\n        .values();\r\n  }\r\n```\r\n","title":"Partition a Java 8 Stream","body":"<p>Here is a pure Java 8 solution - both sequential and parallel:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  public &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; chunk(Collection&lt;T&gt; collection, int chunkSize) {\n    final AtomicInteger index = new AtomicInteger();\n    return collection.stream()\n        .map(v -&gt; new SimpleImmutableEntry&lt;&gt;(index.getAndIncrement() / chunkSize, v))\n        // LinkedHashMap is used here just to preserve order\n        .collect(groupingBy(Entry::getKey, LinkedHashMap::new, mapping(Entry::getValue, toList())))\n        .values();\n  }\n\n  public &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; chunkParallel(Collection&lt;T&gt; collection, int chunkSize) {\n    final AtomicInteger index = new AtomicInteger();\n    return collection.parallelStream()\n        .map(v -&gt; new SimpleImmutableEntry&lt;&gt;(index.getAndIncrement() / chunkSize, v))\n        // So far it is parallel processing ordering cannot be preserved,\n        // but we have to make it thread safe - using e.g. ConcurrentHashMap\n        .collect(groupingBy(Entry::getKey, ConcurrentHashMap::new, mapping(Entry::getValue, toList())))\n        .values();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8807027,"reputation":242,"user_id":6581303,"display_name":"ModHu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612428976,"creation_date":1612428976,"answer_id":66042276,"question_id":32434592,"body_markdown":"   This is a performant way\r\n\r\n\r\n\r\n    import java.util.AbstractList;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public final class Partition&lt;T&gt; extends AbstractList&lt;List&lt;T&gt;&gt; {\r\n\r\n    private final List&lt;T&gt; list;\r\n    private final int chunkSize;\r\n\r\n    public Partition(List&lt;T&gt; list, int chunkSize) {\r\n        this.list = new ArrayList&lt;&gt;(list);\r\n        this.chunkSize = chunkSize;\r\n    }\r\n\r\n    public static &lt;T&gt; Partition&lt;T&gt; ofSize(List&lt;T&gt; list, int chunkSize) {\r\n        return new Partition&lt;&gt;(list, chunkSize);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;T&gt; get(int index) {\r\n        int start = index * chunkSize;\r\n        int end = Math.min(start + chunkSize, list.size());\r\n\r\n        if (start &gt; end) {\r\n            throw new IndexOutOfBoundsException(&quot;Index &quot; + index + &quot; is out of the list range &lt;0,&quot; + (size() - 1) + &quot;&gt;&quot;);\r\n        }\r\n\r\n        return new ArrayList&lt;&gt;(list.subList(start, end));\r\n    }\r\n\r\n    @Override\r\n    public int size() {\r\n        return (int) Math.ceil((double) list.size() / (double) chunkSize);\r\n    }\r\n}\r\n\r\n\r\nUsage \r\n\r\n    Partition&lt;String&gt; partition = Partition.ofSize(paCustomerCodes, chunkSize);\r\n    \r\n    for (List&lt;String&gt; strings : partition) {\r\n    }","title":"Partition a Java 8 Stream","body":"<p>This is a performant way</p>\n<pre><code>import java.util.AbstractList;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic final class Partition&lt;T&gt; extends AbstractList&lt;List&lt;T&gt;&gt; {\n\nprivate final List&lt;T&gt; list;\nprivate final int chunkSize;\n\npublic Partition(List&lt;T&gt; list, int chunkSize) {\n    this.list = new ArrayList&lt;&gt;(list);\n    this.chunkSize = chunkSize;\n}\n\npublic static &lt;T&gt; Partition&lt;T&gt; ofSize(List&lt;T&gt; list, int chunkSize) {\n    return new Partition&lt;&gt;(list, chunkSize);\n}\n\n@Override\npublic List&lt;T&gt; get(int index) {\n    int start = index * chunkSize;\n    int end = Math.min(start + chunkSize, list.size());\n\n    if (start &gt; end) {\n        throw new IndexOutOfBoundsException(&quot;Index &quot; + index + &quot; is out of the list range &lt;0,&quot; + (size() - 1) + &quot;&gt;&quot;);\n    }\n\n    return new ArrayList&lt;&gt;(list.subList(start, end));\n}\n\n@Override\npublic int size() {\n    return (int) Math.ceil((double) list.size() / (double) chunkSize);\n}\n</code></pre>\n<p>}</p>\n<p>Usage</p>\n<pre><code>Partition&lt;String&gt; partition = Partition.ofSize(paCustomerCodes, chunkSize);\n\nfor (List&lt;String&gt; strings : partition) {\n}\n</code></pre>\n"}],"owner":{"account_id":226458,"reputation":974,"user_id":487516,"display_name":"Trader001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61205,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":32435407,"answer_count":10,"score":74,"last_activity_date":1673587145,"creation_date":1441615858,"question_id":32434592,"body_markdown":"How to implement &quot;partition&quot; operation on Java 8 Stream? By partition I mean, divide a stream into sub-streams of a given size. Somehow it will be identical to Guava [Iterators.partition()][1] method, just it&#39;s desirable that the partitions are lazily-evaluated Streams rather than List&#39;s.\r\n\r\n\r\n  [1]:https://google.github.io/guava/releases/20.0/api/docs/com/google/common/collect/Iterators.html#partition-java.util.Iterator-int-","title":"Partition a Java 8 Stream","body":"<p>How to implement \"partition\" operation on Java 8 Stream? By partition I mean, divide a stream into sub-streams of a given size. Somehow it will be identical to Guava <a href=\"https://google.github.io/guava/releases/20.0/api/docs/com/google/common/collect/Iterators.html#partition-java.util.Iterator-int-\" rel=\"noreferrer\">Iterators.partition()</a> method, just it's desirable that the partitions are lazily-evaluated Streams rather than List's.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"score":0,"creation_date":1480551747,"post_id":40900567,"comment_id":69015011,"body_markdown":"Your question is how to get the values from the arraylist? Use [`ArrayList#get(int index)`](https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#get(int)). For example `System.out.print(myArray.get(0).name);`.","body":"Your question is how to get the values from the arraylist? Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#get(int)\" rel=\"nofollow noreferrer\"><code>ArrayList#get(int index)</code></a>. For example <code>System.out.print(myArray.get(0).name);</code>."},{"owner":{"account_id":9717033,"reputation":33,"user_id":7207042,"accept_rate":100,"display_name":"Marwan El Sharkawy"},"score":0,"creation_date":1480551873,"post_id":40900567,"comment_id":69015045,"body_markdown":"I tried it and it prints out only the last name in the list","body":"I tried it and it prints out only the last name in the list"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1480552451,"post_id":40900567,"comment_id":69015204,"body_markdown":"so the printing code that you have tried.  Also why is `st` static?","body":"so the printing code that you have tried.  Also why is <code>st</code> static?"},{"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"score":0,"creation_date":1480552506,"post_id":40900567,"comment_id":69015220,"body_markdown":"It prints out the name of the first student in the list. Obviously I can&#39;t solve your problem, because you haven&#39;t explained exactly what the problem is. Your question is unclear.","body":"It prints out the name of the first student in the list. Obviously I can&#39;t solve your problem, because you haven&#39;t explained exactly what the problem is. Your question is unclear."}],"answers":[{"tags":[],"owner":{"account_id":7412110,"reputation":237,"user_id":5639169,"accept_rate":50,"display_name":"recurf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480559145,"creation_date":1480558797,"answer_id":40901580,"question_id":40900567,"body_markdown":"I would do it like this    \r\n\r\n   \r\n\r\n     for(st s: myArray){\r\n             System.out.println(s.gender+&quot; &quot;+s.name)}\r\n         ","title":"How to get certain string from custom ArrayList in Java?","body":"<p>I would do it like this    </p>\n\n<pre><code> for(st s: myArray){\n         System.out.println(s.gender+\" \"+s.name)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673587134,"creation_date":1480574940,"answer_id":40904247,"question_id":40900567,"body_markdown":"Here is code by [abacus-common][1]\r\n\r\n    \r\n    Stream.of(IOUtil.readLines(new File(filePath)))\r\n        .map(line -&gt; Splitter.with(&quot; &quot;).trim(true).splitToArray(line))\r\n        .groupBy(a -&gt; a[1], a -&gt; a[0], (a, b) -&gt; a + &quot;, &quot; + b)\r\n        .forEach(N::println);\r\n    // output:\r\n    // female=Julia, Mia\r\n    // male=Marwan, John, William\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to get certain string from custom ArrayList in Java?","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(IOUtil.readLines(new File(filePath)))\n    .map(line -&gt; Splitter.with(&quot; &quot;).trim(true).splitToArray(line))\n    .groupBy(a -&gt; a[1], a -&gt; a[0], (a, b) -&gt; a + &quot;, &quot; + b)\n    .forEach(N::println);\n// output:\n// female=Julia, Mia\n// male=Marwan, John, William\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":9717033,"reputation":33,"user_id":7207042,"accept_rate":100,"display_name":"Marwan El Sharkawy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":40904247,"answer_count":2,"score":-1,"last_activity_date":1673587134,"creation_date":1480551457,"question_id":40900567,"body_markdown":"I want to read the content of a file and store each line of the file into a custom ArrayList. The content of the file is like:\r\n\r\n\t1 Marwan male 22\r\n\t\r\n\t2 Julia female 18\r\n\r\n\t3 John male 19\r\n\r\n\t4 William male 21\r\n\r\n\t5 Mia female 20\r\n\r\nThis is what I did so far:\r\n\r\n\tpublic static ArrayList&lt;st&gt; myArray = new ArrayList&lt;st&gt;();\r\n\tpublic static st s = new st();\r\n\r\n\ts.id=lineScan.next();\r\n\ts.name=lineScan.next();\r\n\ts.gender=lineScan.next();\r\n\ts.age=lineScan.nextInt();\r\n\tmyArray.add(s);\r\n\r\n    class st {\r\n        String id;\r\n    \tString name; \r\n    \tString gender; \r\n    \tint age; \r\n    }\r\n\r\nI want to get the s.name string for every time the gender is male and print them out together, and do the same with the female gender, but I don&#39;t know how to get certain strings from the array list.","title":"How to get certain string from custom ArrayList in Java?","body":"<p>I want to read the content of a file and store each line of the file into a custom ArrayList. The content of the file is like:</p>\n\n<pre><code>1 Marwan male 22\n\n2 Julia female 18\n\n3 John male 19\n\n4 William male 21\n\n5 Mia female 20\n</code></pre>\n\n<p>This is what I did so far:</p>\n\n<pre><code>public static ArrayList&lt;st&gt; myArray = new ArrayList&lt;st&gt;();\npublic static st s = new st();\n\ns.id=lineScan.next();\ns.name=lineScan.next();\ns.gender=lineScan.next();\ns.age=lineScan.nextInt();\nmyArray.add(s);\n\nclass st {\n    String id;\n    String name; \n    String gender; \n    int age; \n}\n</code></pre>\n\n<p>I want to get the s.name string for every time the gender is male and print them out together, and do the same with the female gender, but I don't know how to get certain strings from the array list.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1480555027,"post_id":40901017,"comment_id":69015835,"body_markdown":"seems pointless to have threads and then try to block it from running due to `synchronized`. although what is `this` in this case?  If you want to prevent it from re-processing already found lines, then maybe remove it from the `map`","body":"seems pointless to have threads and then try to block it from running due to <code>synchronized</code>. although what is <code>this</code> in this case?  If you want to prevent it from re-processing already found lines, then maybe remove it from the <code>map</code>"},{"owner":{"account_id":424533,"reputation":3280,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"score":0,"creation_date":1480555547,"post_id":40901017,"comment_id":69015975,"body_markdown":"It is not clear to me what you mean by simple thread.  Java Threads do not have indexes (such as you see in OpenCL/Cuda) so you would need to extend the functionality of threads if you want to give them indexes though your runable COULD hold the index. Your logic in this application is also flawed since the number of threads you are creating won&#39;t always match the number of items you are processing. Minimally I would change your for loop from `x&lt;n` to `x &lt; n &amp;&amp; x &lt; fileMap.size()`","body":"It is not clear to me what you mean by simple thread.  Java Threads do not have indexes (such as you see in OpenCL/Cuda) so you would need to extend the functionality of threads if you want to give them indexes though your runable COULD hold the index. Your logic in this application is also flawed since the number of threads you are creating won&#39;t always match the number of items you are processing. Minimally I would change your for loop from <code>x&lt;n</code> to <code>x &lt; n &amp;&amp; x &lt; fileMap.size()</code>"},{"owner":{"account_id":2192403,"reputation":113,"user_id":1939042,"accept_rate":100,"display_name":"Tao"},"score":0,"creation_date":1480626163,"post_id":40901017,"comment_id":69052850,"body_markdown":"@RalphRitoch Excuse my English. I meant &#39;do this using simply threads&#39; and not through ExecutorService or any other package. Just threads along with maybe Maps/ConcurrentHashMaps","body":"@RalphRitoch Excuse my English. I meant &#39;do this using simply threads&#39; and not through ExecutorService or any other package. Just threads along with maybe Maps/ConcurrentHashMaps"}],"answers":[{"tags":[],"owner":{"account_id":424533,"reputation":3280,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1480559095,"creation_date":1480558298,"answer_id":40901505,"question_id":40901017,"body_markdown":"Here is a solution to your problem. This parses the thread name to provide the index and uses final arrays to handle passing data into the threads.\r\n\r\n\r\n    Map&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\r\n    fileMap.put(&quot;Age&quot;, &quot;Age is not remotely associated with it.&quot;);\r\n    fileMap.put(&quot;Gender&quot;, &quot;Gender plays a role but not that important.&quot;);\r\n    fileMap.put(&quot;Money&quot;, &quot;People do not believe but this is the only factor that matters.&quot;);\r\n    \r\n    \r\n    final int[] tgSize = new int[]{0};\r\n    final Map.Entry[][] entryArr = new Map.Entry[1][];\r\n    \r\n    Runnable myRunnable = new Runnable(){\r\n        public void run(){\r\n    \t\tInteger index = Integer.valueOf(Thread.currentThread().getName().substring(8));\r\n    \t\t\r\n    \t\tfor(int i = index; i &lt; fileMap.size(); i += tgSize[0]) {\r\n                int counter = 0;\r\n    \t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\t\tMap.Entry&lt;String, String&gt; entry = entryArr[0][i];\r\n                Pattern p = Pattern.compile(&quot;not&quot;);\r\n                Matcher m = p.matcher(entry.getValue());\r\n                while (m.find()) {\r\n    \t\t\t\tcounter++;\r\n                }\r\n    \t\t\tsynchronized(this) {\r\n    \t\t\t\tSystem.out.println(&quot;File Name: &quot; + entry.getKey());\r\n    \t\t\t\tSystem.out.println(&quot;Count: &quot; + counter);\r\n    \t\t\t\tSystem.out.println(Thread.currentThread().getName());            \r\n    \t\t\t}\r\n            }\r\n        }    \r\n    };\r\n    \r\n    int n = Integer.parseInt(args[0]);\r\n    \r\n    tgSize[0] = n &lt; fileMap.size() ? n : fileMap.size();\r\n    entryArr[0] = fileMap.entrySet().toArray(new Map.Entry[fileMap.size()]);\r\n    \r\n    \r\n    for (int x=0; x&lt;n &amp;&amp; x &lt; fileMap.size(); x++)\r\n    {\r\n        Thread temp= new Thread(myRunnable, &quot;Thread #&quot; + x);\r\n        temp.start();\r\n        System.out.println(&quot;Started Thread:&quot; + x);\r\n    }","title":"Multithreading/Parallelizing each item of for loop JAVA","body":"<p>Here is a solution to your problem. This parses the thread name to provide the index and uses final arrays to handle passing data into the threads.</p>\n\n<pre><code>Map&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\nfileMap.put(\"Age\", \"Age is not remotely associated with it.\");\nfileMap.put(\"Gender\", \"Gender plays a role but not that important.\");\nfileMap.put(\"Money\", \"People do not believe but this is the only factor that matters.\");\n\n\nfinal int[] tgSize = new int[]{0};\nfinal Map.Entry[][] entryArr = new Map.Entry[1][];\n\nRunnable myRunnable = new Runnable(){\n    public void run(){\n        Integer index = Integer.valueOf(Thread.currentThread().getName().substring(8));\n\n        for(int i = index; i &lt; fileMap.size(); i += tgSize[0]) {\n            int counter = 0;\n            @SuppressWarnings(\"unchecked\")\n            Map.Entry&lt;String, String&gt; entry = entryArr[0][i];\n            Pattern p = Pattern.compile(\"not\");\n            Matcher m = p.matcher(entry.getValue());\n            while (m.find()) {\n                counter++;\n            }\n            synchronized(this) {\n                System.out.println(\"File Name: \" + entry.getKey());\n                System.out.println(\"Count: \" + counter);\n                System.out.println(Thread.currentThread().getName());            \n            }\n        }\n    }    \n};\n\nint n = Integer.parseInt(args[0]);\n\ntgSize[0] = n &lt; fileMap.size() ? n : fileMap.size();\nentryArr[0] = fileMap.entrySet().toArray(new Map.Entry[fileMap.size()]);\n\n\nfor (int x=0; x&lt;n &amp;&amp; x &lt; fileMap.size(); x++)\n{\n    Thread temp= new Thread(myRunnable, \"Thread #\" + x);\n    temp.start();\n    System.out.println(\"Started Thread:\" + x);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673587120,"creation_date":1480559304,"answer_id":40901650,"question_id":40901017,"body_markdown":"It can be achieved by paralledStream by [abacus-common][1]\r\n\r\n    \r\n    final Pattern p = Pattern.compile(&quot;not&quot;);\r\n    \r\n    Stream.of(fileMap).parallel(threadNum).map(entry -&gt; {\r\n        Matcher m = p.matcher(entry.getValue());\r\n        int count = 0;\r\n        while (m.find()) {\r\n            count++;\r\n        }\r\n        return Pair.of(entry.getKey(), count);\r\n    }).forEach(entry -&gt; {\r\n        N.println(&quot;File Name: &quot; + entry.getKey() + &quot;, Count: &quot; + entry.getValue());\r\n    });\r\n\r\nIf you want to learn how to write multi-thread code by yourself. here is a simple sample:\r\n\r\n    final int threadNum = 3;\r\n    final ExecutorService executorService = Executors.newFixedThreadPool(threadNum);\r\n    final Iterator&lt;Entry&lt;String, String&gt;&gt; iter = fileMap.entrySet().iterator();\r\n\r\n    for (int i = 0; i &lt; threadNum; i++) {\r\n        executorService.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Entry&lt;String, String&gt; entry = null;\r\n                while (true) {\r\n                    synchronized (iter) {\r\n                        if (iter.hasNext() == false) {\r\n                            break;\r\n                        }\r\n                        entry = iter.next();\r\n                    }\r\n\r\n                    final Matcher m = p.matcher(entry.getValue());\r\n                    int count = 0;\r\n                    while (m.find()) {\r\n                        count++;\r\n                    }\r\n\r\n                    System.out.println(&quot;File Name: &quot; + entry.getKey() + &quot;, Count: &quot; + count + &quot;, thread: &quot; + Thread.currentThread().getName());\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Multithreading/Parallelizing each item of for loop JAVA","body":"<p>It can be achieved by paralledStream by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>final Pattern p = Pattern.compile(&quot;not&quot;);\n\nStream.of(fileMap).parallel(threadNum).map(entry -&gt; {\n    Matcher m = p.matcher(entry.getValue());\n    int count = 0;\n    while (m.find()) {\n        count++;\n    }\n    return Pair.of(entry.getKey(), count);\n}).forEach(entry -&gt; {\n    N.println(&quot;File Name: &quot; + entry.getKey() + &quot;, Count: &quot; + entry.getValue());\n});\n</code></pre>\n<p>If you want to learn how to write multi-thread code by yourself. here is a simple sample:</p>\n<pre><code>final int threadNum = 3;\nfinal ExecutorService executorService = Executors.newFixedThreadPool(threadNum);\nfinal Iterator&lt;Entry&lt;String, String&gt;&gt; iter = fileMap.entrySet().iterator();\n\nfor (int i = 0; i &lt; threadNum; i++) {\n    executorService.execute(new Runnable() {\n        @Override\n        public void run() {\n            Entry&lt;String, String&gt; entry = null;\n            while (true) {\n                synchronized (iter) {\n                    if (iter.hasNext() == false) {\n                        break;\n                    }\n                    entry = iter.next();\n                }\n\n                final Matcher m = p.matcher(entry.getValue());\n                int count = 0;\n                while (m.find()) {\n                    count++;\n                }\n\n                System.out.println(&quot;File Name: &quot; + entry.getKey() + &quot;, Count: &quot; + count + &quot;, thread: &quot; + Thread.currentThread().getName());\n            }\n        }\n    });\n}\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":9757161,"reputation":805,"user_id":7233489,"display_name":"Paul Buis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480563075,"creation_date":1480563075,"answer_id":40902168,"question_id":40901017,"body_markdown":"The standard way to parallelize a loop using raw threads iterating over an array is illustrated below using your problem.\r\n\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n\r\n    public class MyClass {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\r\n\t\tfileMap.put(&quot;Age&quot;, &quot;Age is not remotely associated with it.&quot;);\r\n\t\tfileMap.put(&quot;Gender&quot;, &quot;Gender plays a role but not that important.&quot;);\r\n\t\tfileMap.put(&quot;Money&quot;, &quot;People do not believe but this is the only factor that matters.&quot;);\r\n\t\tString[] keys = fileMap.keySet().toArray(new String[fileMap.size()]);\r\n\t\t\r\n\t\tint n = 2; //Integer.parseInt(args[0]);\r\n\t\tfor (int x=0; x&lt;n; x++)\r\n\t\t{\r\n\t\t\tRunnable myRunnable = new MyRunnable(fileMap, keys, x, n);\r\n\t\t\tThread temp= new Thread(myRunnable);\r\n\t\t\ttemp.start();\r\n\t\t\t//System.out.println(&quot;Started Thread:&quot; + x);\r\n\t\t}\r\n\t}\r\n\r\n\t    private static class MyRunnable implements Runnable {\r\n\t\t    private Map&lt;String, String&gt; fileMap;\r\n\t\t    private String[] keys;\r\n\t\t    private int threadID;\r\n\t\t    private int threadCount;\r\n\t\t    Pattern p = Pattern.compile(&quot;not&quot;);\r\n\t\t    public MyRunnable(Map&lt;String, String&gt; fileMap, String[] keys, int threadID, int threadCount) {\r\n\t\t\t    this.fileMap = fileMap;\r\n\t\t\t    this.keys = keys;\r\n\t\t\t    this.threadID = threadID;\r\n\t\t\t    this.threadCount = threadCount;\r\n\t\t    }\r\n\t\t    public void run(){\r\n\t\t\t    for (int i=threadID; i&lt;keys.length; i+= threadCount) {\r\n\t\t\t\t    int counter = 0;\r\n\t\t\t\t    Matcher m = p.matcher(fileMap.get(keys[i]));\r\n\t\t\t\t    while (m.find()) {\r\n\t\t\t\t\t    counter++;\r\n\t\t\t\t    }\r\n\t\t\t\t    synchronized(MyClass.class){\r\n\t\t\t\t\t    System.out.println(&quot;File Name: &quot; + keys[i]);\r\n\t\t\t\t\t    System.out.println(&quot;Count: &quot; + counter);\r\n\t\t\t\t\t    System.out.println(&quot;ThreadID: &quot; + threadID);\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    }    \r\n\t    }\r\n        }","title":"Multithreading/Parallelizing each item of for loop JAVA","body":"<p>The standard way to parallelize a loop using raw threads iterating over an array is illustrated below using your problem.</p>\n\n<pre><code>import java.util.*;\nimport java.util.regex.*;\n\npublic class MyClass {\n\npublic static void main(String[] args) {\n    Map&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\n    fileMap.put(\"Age\", \"Age is not remotely associated with it.\");\n    fileMap.put(\"Gender\", \"Gender plays a role but not that important.\");\n    fileMap.put(\"Money\", \"People do not believe but this is the only factor that matters.\");\n    String[] keys = fileMap.keySet().toArray(new String[fileMap.size()]);\n\n    int n = 2; //Integer.parseInt(args[0]);\n    for (int x=0; x&lt;n; x++)\n    {\n        Runnable myRunnable = new MyRunnable(fileMap, keys, x, n);\n        Thread temp= new Thread(myRunnable);\n        temp.start();\n        //System.out.println(\"Started Thread:\" + x);\n    }\n}\n\n    private static class MyRunnable implements Runnable {\n        private Map&lt;String, String&gt; fileMap;\n        private String[] keys;\n        private int threadID;\n        private int threadCount;\n        Pattern p = Pattern.compile(\"not\");\n        public MyRunnable(Map&lt;String, String&gt; fileMap, String[] keys, int threadID, int threadCount) {\n            this.fileMap = fileMap;\n            this.keys = keys;\n            this.threadID = threadID;\n            this.threadCount = threadCount;\n        }\n        public void run(){\n            for (int i=threadID; i&lt;keys.length; i+= threadCount) {\n                int counter = 0;\n                Matcher m = p.matcher(fileMap.get(keys[i]));\n                while (m.find()) {\n                    counter++;\n                }\n                synchronized(MyClass.class){\n                    System.out.println(\"File Name: \" + keys[i]);\n                    System.out.println(\"Count: \" + counter);\n                    System.out.println(\"ThreadID: \" + threadID);\n                }\n            }\n        }    \n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":2192403,"reputation":113,"user_id":1939042,"accept_rate":100,"display_name":"Tao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2990,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40901505,"answer_count":3,"score":4,"last_activity_date":1673587120,"creation_date":1480554617,"question_id":40901017,"body_markdown":"I am trying to have each thread access a single item of for loop while another thread accesses the next item. I want to do this using multiple threads and number of multiple threads created will be input by the user. I have done this using executorservice and streams. I want to do this using simple threads. Is the below correct? Is there a better way? \r\n\r\n\tMap&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\r\n\tfileMap.put(&quot;Age&quot;, &quot;Age is not remotely associated with it.&quot;);\r\n\tfileMap.put(&quot;Gender&quot;, &quot;Gender plays a role but not that important.&quot;);\r\n\tfileMap.put(&quot;Money&quot;, &quot;People do not believe but this is the only factor that matters.&quot;);\r\n\r\n\tRunnable myRunnable = new Runnable(){\r\n\t\tpublic void run(){\r\n\t\t\tfor (Map.Entry&lt;String, String&gt; entry : fileMap.entrySet()) {\r\n\t\t\t\tsynchronized(this){\r\n\t\t\t\t\tint counter = 0;\r\n\t\t\t\t\tPattern p = Pattern.compile(&quot;not&quot;);\r\n\t\t\t\t\tMatcher m = p.matcher(entry.getValue());\r\n\t\t\t\t\twhile (m.find()) {\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;File Name: &quot; + entry.getKey());\r\n\t\t\t\t\tSystem.out.println(&quot;Count: &quot; + counter);\r\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t \r\n\t};\r\n \r\n\tint n = Integer.parseInt(args[0]);\r\n\tfor (int x=0; x&lt;n; x++)\r\n    {\r\n        Thread temp= new Thread(myRunnable, &quot;Thread #&quot; + x);\r\n        temp.start();\r\n        System.out.println(&quot;Started Thread:&quot; + x);\r\n    }\r\n\t\r\nAlso, is it possible to have a thread not to go back to previous item since a previous thread has already computed the value? \r\nAny help would be appreciated. Thanks","title":"Multithreading/Parallelizing each item of for loop JAVA","body":"<p>I am trying to have each thread access a single item of for loop while another thread accesses the next item. I want to do this using multiple threads and number of multiple threads created will be input by the user. I have done this using executorservice and streams. I want to do this using simple threads. Is the below correct? Is there a better way? </p>\n\n<pre><code>Map&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\nfileMap.put(\"Age\", \"Age is not remotely associated with it.\");\nfileMap.put(\"Gender\", \"Gender plays a role but not that important.\");\nfileMap.put(\"Money\", \"People do not believe but this is the only factor that matters.\");\n\nRunnable myRunnable = new Runnable(){\n    public void run(){\n        for (Map.Entry&lt;String, String&gt; entry : fileMap.entrySet()) {\n            synchronized(this){\n                int counter = 0;\n                Pattern p = Pattern.compile(\"not\");\n                Matcher m = p.matcher(entry.getValue());\n                while (m.find()) {\n                    counter++;\n                }\n                System.out.println(\"File Name: \" + entry.getKey());\n                System.out.println(\"Count: \" + counter);\n                System.out.println(Thread.currentThread().getName());\n            }\n        }\n    }    \n};\n\nint n = Integer.parseInt(args[0]);\nfor (int x=0; x&lt;n; x++)\n{\n    Thread temp= new Thread(myRunnable, \"Thread #\" + x);\n    temp.start();\n    System.out.println(\"Started Thread:\" + x);\n}\n</code></pre>\n\n<p>Also, is it possible to have a thread not to go back to previous item since a previous thread has already computed the value? \nAny help would be appreciated. Thanks</p>\n"},{"tags":["java","html","image","web-scraping"],"owner":{"account_id":20536370,"reputation":83,"user_id":15072365,"display_name":"madmonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673586246,"creation_date":1673586246,"question_id":75105056,"body_markdown":"I&#39;m building a scraper to grab some Yugioh card images from the official Konami card database. The HTML surrounding card images is as such: `&lt;img id=&quot;card_image_0_1&quot; alt=&quot;Rescue-ACE Impulse&quot; title=&quot;Rescue-ACE Impulse&quot; class=&quot;none ui-draggable ui-draggable-handle&quot; style=&quot;position: relative; display: inline;&quot; src=&quot;/yugiohdb/get_image.action?type=1&amp;osplang=1&amp;cid=17991&amp;ciid=1&amp;;enc=_eYdjsTOl-_0X1rcfo6YwA&quot;&gt;`\r\n\r\nThe base url is: `https://www.db.yugioh-card.com`\r\n\r\nHowever, if I visit: `https://www.db.yugioh-card.com/yugiohdb/get_image.action?type=1&amp;osplang=1&amp;cid=17991&amp;ciid=1&amp;;enc=_eYdjsTOl-_0X1rcfo6YwA`, I get no image. It seems that this type of url is related to a Java framework, but regardless, I should be able to access the images since they are obvioulsy rendering client side, no? Forgive me, I haven&#39;t encountered this when scraping before.\r\n\r\nCould anyone shed some light on these types of urls, and if possible, how to access the image directly?\r\n\r\nThanks,\r\n","title":"Explain HTML img src urls","body":"<p>I'm building a scraper to grab some Yugioh card images from the official Konami card database. The HTML surrounding card images is as such: <code>&lt;img id=&quot;card_image_0_1&quot; alt=&quot;Rescue-ACE Impulse&quot; title=&quot;Rescue-ACE Impulse&quot; class=&quot;none ui-draggable ui-draggable-handle&quot; style=&quot;position: relative; display: inline;&quot; src=&quot;/yugiohdb/get_image.action?type=1&amp;osplang=1&amp;cid=17991&amp;ciid=1&amp;;enc=_eYdjsTOl-_0X1rcfo6YwA&quot;&gt;</code></p>\n<p>The base url is: <code>https://www.db.yugioh-card.com</code></p>\n<p>However, if I visit: <code>https://www.db.yugioh-card.com/yugiohdb/get_image.action?type=1&amp;osplang=1&amp;cid=17991&amp;ciid=1&amp;;enc=_eYdjsTOl-_0X1rcfo6YwA</code>, I get no image. It seems that this type of url is related to a Java framework, but regardless, I should be able to access the images since they are obvioulsy rendering client side, no? Forgive me, I haven't encountered this when scraping before.</p>\n<p>Could anyone shed some light on these types of urls, and if possible, how to access the image directly?</p>\n<p>Thanks,</p>\n"},{"tags":["java","arrays","math","proof","equation-solving"],"comments":[{"owner":{"account_id":2396163,"reputation":675,"user_id":2094911,"display_name":"Dorota Kadłubowska"},"score":0,"creation_date":1673601589,"post_id":75104990,"comment_id":132540444,"body_markdown":"Have You referenced any math books/publications about it?","body":"Have You referenced any math books/publications about it?"}],"owner":{"account_id":27516373,"reputation":1,"user_id":20997247,"display_name":"champ2291"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673585705,"creation_date":1673585705,"question_id":75104990,"body_markdown":"For leetcode problem https://leetcode.com/problems/walls-and-gates/solution/ \r\n\r\nThe BFS solution has \r\n```\r\n.......\r\nprivate static final List&lt;int[]&gt; DIRECTIONS = Arrays.asList(\r\n        new int[] { 1,  0},\r\n        new int[] {-1,  0},\r\n        new int[] { 0,  1},\r\n        new int[] { 0, -1}\r\n);\r\n.....\r\n```\r\nThis is to take turn right while traversing the matrix.  Does anyone know how to derive these vectors without memorizing them?  \r\n\r\nMy understanding is you do a cross product with (x,y,0) X (0,0,1) which gives R = yX -xY + 0Z.\r\nI think you take a partial derivative here but I&#39;m unsure of the math proof which gives the directions.\r\n\r\nPlease explain mathematically how to get vectors ```{1,0} , {-1, 0}, {0,1} , {0,-1}```\r\n\r\n\r\nMy understanding is you do a cross product with (x,y,0) X (0,0,1) which gives R = yX -xY + 0Z.\r\nI think you take a partial derivative here but I&#39;m unsure of the math proof which gives the directions.\r\n","title":"How to derive multidimensional array direction vectors?","body":"<p>For leetcode problem <a href=\"https://leetcode.com/problems/walls-and-gates/solution/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/walls-and-gates/solution/</a></p>\n<p>The BFS solution has</p>\n<pre><code>.......\nprivate static final List&lt;int[]&gt; DIRECTIONS = Arrays.asList(\n        new int[] { 1,  0},\n        new int[] {-1,  0},\n        new int[] { 0,  1},\n        new int[] { 0, -1}\n);\n.....\n</code></pre>\n<p>This is to take turn right while traversing the matrix.  Does anyone know how to derive these vectors without memorizing them?</p>\n<p>My understanding is you do a cross product with (x,y,0) X (0,0,1) which gives R = yX -xY + 0Z.\nI think you take a partial derivative here but I'm unsure of the math proof which gives the directions.</p>\n<p>Please explain mathematically how to get vectors <code>{1,0} , {-1, 0}, {0,1} , {0,-1}</code></p>\n<p>My understanding is you do a cross product with (x,y,0) X (0,0,1) which gives R = yX -xY + 0Z.\nI think you take a partial derivative here but I'm unsure of the math proof which gives the directions.</p>\n"},{"tags":["java","spring-boot","rest","intellij-idea","backend"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1673576692,"post_id":75104261,"comment_id":132535964,"body_markdown":"So which part of it do you not understand: the produce/consume part, or the application/json part? Actually, take a step back first: in your own words, what **is** an API, and how do you use it? Also, please read [How much research effort is expected of Stack Overflow users?](https://meta.stackoverflow.com/questions/261592).","body":"So which part of it do you not understand: the produce/consume part, or the application/json part? Actually, take a step back first: in your own words, what <b>is</b> an API, and how do you use it? Also, please read <a href=\"https://meta.stackoverflow.com/questions/261592\">How much research effort is expected of Stack Overflow users?</a>."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1673576860,"post_id":75104261,"comment_id":132535985,"body_markdown":"Does https://stackoverflow.com/questions/24661302/ answer your question? I found it by copying and pasting your question title into a search engine.","body":"Does <a href=\"https://stackoverflow.com/questions/24661302/\">stackoverflow.com/questions/24661302</a> answer your question? I found it by copying and pasting your question title into a search engine."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673587256,"post_id":75104261,"comment_id":132537215,"body_markdown":"The duplink is slightly different in that it is asking about &quot;consuming an API&quot; versus an &quot;API that consumes something&quot;.  But the meaning of the words &quot;produce&quot; and &quot;consume&quot; are (respectively) almost identical in the two contexts.  (Looking them up in an English dictionary would probably help you too.)","body":"The duplink is slightly different in that it is asking about &quot;consuming an API&quot; versus an &quot;API that consumes something&quot;.  But the meaning of the words &quot;produce&quot; and &quot;consume&quot; are (respectively) almost identical in the two contexts.  (Looking them up in an English dictionary would probably help you too.)"}],"answers":[{"tags":[],"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673585570,"creation_date":1673585570,"answer_id":75104976,"question_id":75104261,"body_markdown":"I&#39;d like to explain what consume means, it means if you send a POST request with JSON as the content type, your service should be able to accept it and doesn&#39;t reject it.\r\n\r\nThe service sample code is here:\r\n\r\n```java\r\n\r\nimport com.fishpro.restcontroller.domain.UserDO;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@RestController\r\n@RequestMapping(&quot;user2&quot;)\r\npublic class UserRestController {\r\n\r\n    @PostMapping(&quot;/update&quot;)\r\n    @ResponseBody\r\n    public Object update(@RequestBody User user){\r\n        Map&lt;String,Object&gt; map=new HashMap&lt;&gt;();\r\n        if(null==user){\r\n\r\n            map.put(&quot;status&quot;,3);\r\n            map.put(&quot;message&quot;,&quot;Empty Content&quot;);\r\n            return  map;\r\n        }\r\n        //更新逻辑\r\n        map.put(&quot;status&quot;,0);\r\n        return  map;\r\n    }\r\n}\r\n\r\n// The entity class\r\npublic class User {\r\n    private Integer userId;\r\n    private String userName;\r\n\r\n    public Integer getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(Integer userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nLet&#39;s take look at an example(you can use IDEA HTTP Client to execute it https://www.jetbrains.com/help/idea/2022.3/http-client-in-product-code-editor.html#open-requests-collection ) :\r\n\r\nDo post to a Restful Service:\r\n\r\nPOST http://localhost:8087/user2/update, the request:\r\n\r\n```\r\nPOST /user2/update HTTP/1.1\r\nContent-Type: application/json\r\nHost: localhost:8087\r\n\r\n{\r\n  &quot;userId&quot;: 1,\r\n  &quot;userName&quot;: &quot;userName_txxhs&quot;\r\n}\r\n\r\n```\r\n\r\nAnd the response:\r\n```http request\r\nHTTP/1.1 200 \r\nContent-Type: application/json;charset=UTF-8\r\nTransfer-Encoding: chunked\r\nDate: Fri, 13 Jan 2023 04:09:57 GMT\r\n\r\n{&quot;status&quot;:0}\r\n\r\n```\r\n\r\nIt works because the HTTP client sends the correct content type and the server accepts it and produces the right one.\r\n\r\nSo in case we change the service annotation and force the client to use another Content-Type: application/text:\r\n\r\n```\r\n// ...\r\n    @PostMapping(value=&quot;/update&quot;, consumes = {&quot;application/text&quot;}, produces = {&quot;application/json&quot;})\r\n    @ResponseBody\r\n    public Object update(@ModelAttribute User user){\r\n// ...\r\n\r\n```\r\n\r\nThen the response will say that it can&#39;t consume (support) this content type:\r\n\r\n```http request\r\nHTTP/1.1 415\r\nContent-Type: application/json;charset=UTF-8\r\nTransfer-Encoding: chunked\r\nDate: Fri, 13 Jan 2023 04:41:46 GMT\r\nConnection: close\r\n\r\n{&quot;timestamp&quot;:&quot;2023-01-13T04:41:46.278+0000&quot;,&quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media Type&quot;,&quot;message&quot;:&quot;Content type &#39;application/json&#39; not supported&quot;,&quot;path&quot;:&quot;/user2/update&quot;}\r\n\r\n```\r\n\r\nSo the request has to change the `content type` and then the response will work:\r\n\r\n```http request\r\nPOST /user2/update HTTP/1.1\r\nContent-Type: application/text\r\nHost: localhost:8087\r\nConnection: close\r\nUser-Agent: RapidAPI/4.1.1 (Macintosh; OS X/13.1.0) GCDHTTPRequest\r\nContent-Length: 50\r\n\r\n{\r\n  &quot;userId&quot;: 1,\r\n  &quot;userName&quot;: &quot;userName_txxhs&quot;\r\n}\r\n\r\n```\r\n\r\nIt&#39;s much simple for the annotation `produces`,  just simply change the `Content-Type` header of the response, and yes that your Spring boot application should provide logic to convert any object to that content type.\r\n\r\nI hope this will help you to understand it, and you may find the HTTP resources and specifications helpful:\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Resources_and_specifications\r\n\r\n","title":"What does it mean to say &#39;API should be implemented which is consuming and producing “application/json”&#39;?","body":"<p>I'd like to explain what consume means, it means if you send a POST request with JSON as the content type, your service should be able to accept it and doesn't reject it.</p>\n<p>The service sample code is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport com.fishpro.restcontroller.domain.UserDO;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@RestController\n@RequestMapping(&quot;user2&quot;)\npublic class UserRestController {\n\n    @PostMapping(&quot;/update&quot;)\n    @ResponseBody\n    public Object update(@RequestBody User user){\n        Map&lt;String,Object&gt; map=new HashMap&lt;&gt;();\n        if(null==user){\n\n            map.put(&quot;status&quot;,3);\n            map.put(&quot;message&quot;,&quot;Empty Content&quot;);\n            return  map;\n        }\n        //更新逻辑\n        map.put(&quot;status&quot;,0);\n        return  map;\n    }\n}\n\n// The entity class\npublic class User {\n    private Integer userId;\n    private String userName;\n\n    public Integer getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Integer userId) {\n        this.userId = userId;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n}\n\n\n</code></pre>\n<p>Let's take look at an example(you can use IDEA HTTP Client to execute it <a href=\"https://www.jetbrains.com/help/idea/2022.3/http-client-in-product-code-editor.html#open-requests-collection\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/2022.3/http-client-in-product-code-editor.html#open-requests-collection</a> ) :</p>\n<p>Do post to a Restful Service:</p>\n<p>POST http://localhost:8087/user2/update, the request:</p>\n<pre><code>POST /user2/update HTTP/1.1\nContent-Type: application/json\nHost: localhost:8087\n\n{\n  &quot;userId&quot;: 1,\n  &quot;userName&quot;: &quot;userName_txxhs&quot;\n}\n\n</code></pre>\n<p>And the response:</p>\n<pre class=\"lang-http prettyprint-override\"><code>HTTP/1.1 200 \nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\nDate: Fri, 13 Jan 2023 04:09:57 GMT\n\n{&quot;status&quot;:0}\n\n</code></pre>\n<p>It works because the HTTP client sends the correct content type and the server accepts it and produces the right one.</p>\n<p>So in case we change the service annotation and force the client to use another Content-Type: application/text:</p>\n<pre><code>// ...\n    @PostMapping(value=&quot;/update&quot;, consumes = {&quot;application/text&quot;}, produces = {&quot;application/json&quot;})\n    @ResponseBody\n    public Object update(@ModelAttribute User user){\n// ...\n\n</code></pre>\n<p>Then the response will say that it can't consume (support) this content type:</p>\n<pre class=\"lang-http prettyprint-override\"><code>HTTP/1.1 415\nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\nDate: Fri, 13 Jan 2023 04:41:46 GMT\nConnection: close\n\n{&quot;timestamp&quot;:&quot;2023-01-13T04:41:46.278+0000&quot;,&quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media Type&quot;,&quot;message&quot;:&quot;Content type 'application/json' not supported&quot;,&quot;path&quot;:&quot;/user2/update&quot;}\n\n</code></pre>\n<p>So the request has to change the <code>content type</code> and then the response will work:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST /user2/update HTTP/1.1\nContent-Type: application/text\nHost: localhost:8087\nConnection: close\nUser-Agent: RapidAPI/4.1.1 (Macintosh; OS X/13.1.0) GCDHTTPRequest\nContent-Length: 50\n\n{\n  &quot;userId&quot;: 1,\n  &quot;userName&quot;: &quot;userName_txxhs&quot;\n}\n\n</code></pre>\n<p>It's much simple for the annotation <code>produces</code>,  just simply change the <code>Content-Type</code> header of the response, and yes that your Spring boot application should provide logic to convert any object to that content type.</p>\n<p>I hope this will help you to understand it, and you may find the HTTP resources and specifications helpful:</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Resources_and_specifications\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Resources_and_specifications</a></p>\n"}],"owner":{"account_id":17774746,"reputation":128,"user_id":12907379,"display_name":"mdaabis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673587070,"accepted_answer_id":75104976,"answer_count":1,"score":0,"last_activity_date":1673585570,"creation_date":1673576493,"question_id":75104261,"body_markdown":"I am aware what an API is but I do not actually understand what it means when we say consumes or produces application/json in the context of a REST API. I have found several sources explaining how to do it but not what it actually is. I am using Java with SpringBoot in IntelliJ, so any examples relevant to that would be greatly appreciated.","title":"What does it mean to say &#39;API should be implemented which is consuming and producing “application/json”&#39;?","body":"<p>I am aware what an API is but I do not actually understand what it means when we say consumes or produces application/json in the context of a REST API. I have found several sources explaining how to do it but not what it actually is. I am using Java with SpringBoot in IntelliJ, so any examples relevant to that would be greatly appreciated.</p>\n"},{"tags":["java","floating-point","precision","floating-accuracy"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1673538135,"post_id":75098720,"comment_id":132526275,"body_markdown":"What is the result of `(1+sqrt(5))/2`.... is it an `int`? And is that `int` in fact `1`?","body":"What is the result of <code>(1+sqrt(5))&#47;2</code>.... is it an <code>int</code>? And is that <code>int</code> in fact <code>1</code>?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1673538396,"post_id":75098720,"comment_id":132526358,"body_markdown":"@ElliottFrisch, no of course not, it&#39;s defined to be a `double` by the Java specification. Java&#39;s `Math.sqrt` always returns `double`, and every other number gets promoted to double because it takes part in an operation involving a `double`.","body":"@ElliottFrisch, no of course not, it&#39;s defined to be a <code>double</code> by the Java specification. Java&#39;s <code>Math.sqrt</code> always returns <code>double</code>, and every other number gets promoted to double because it takes part in an operation involving a <code>double</code>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1673538451,"post_id":75098720,"comment_id":132526377,"body_markdown":"So `sqrt` is `Math.sqrt`? Some reason you aren&#39;t logging the values?","body":"So <code>sqrt</code> is <code>Math.sqrt</code>? Some reason you aren&#39;t logging the values?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1673538621,"post_id":75098720,"comment_id":132526434,"body_markdown":"@ElliottFrisch I wrote this test after printing out the values returned by `f(variety_of_doubles)` and seeing that it always completes (never goes into infinite loop) and always returns 1.618....","body":"@ElliottFrisch I wrote this test after printing out the values returned by <code>f(variety_of_doubles)</code> and seeing that it always completes (never goes into infinite loop) and always returns 1.618...."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":1,"creation_date":1673538654,"post_id":75098720,"comment_id":132526456,"body_markdown":"This is a great example of the sad paradox of floating-point arithmetic.  It&#39;s not perfect, meaning it does have some problems, and people always notice problems, so they loom large, and plenty of people get the — rather badly mistaken — impression that floating point arithmetic is &quot;always inaccurate&quot; or &quot;terrible&quot; or &quot;broken&quot;.  But in fact, the IEEE-754 standard was written very carefully, and it&#39;s designed to always  give you the best possible results you can, within certain immovable constraints.  And it *does* often work very well, as your code demonstrates!","body":"This is a great example of the sad paradox of floating-point arithmetic.  It&#39;s not perfect, meaning it does have some problems, and people always notice problems, so they loom large, and plenty of people get the — rather badly mistaken — impression that floating point arithmetic is &quot;always inaccurate&quot; or &quot;terrible&quot; or &quot;broken&quot;.  But in fact, the IEEE-754 standard was written very carefully, and it&#39;s designed to always  give you the best possible results you can, within certain immovable constraints.  And it <i>does</i> often work very well, as your code demonstrates!"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":1,"creation_date":1673538658,"post_id":75098720,"comment_id":132526459,"body_markdown":"Although, with that said, it doesn&#39;t *always* work perfectly, which is why you can&#39;t always expect an exactly-equal result such as you get here.  (Also I think Java isn&#39;t exactly defined to use strict IEEE-754, so my argument breaks down a little.)","body":"Although, with that said, it doesn&#39;t <i>always</i> work perfectly, which is why you can&#39;t always expect an exactly-equal result such as you get here.  (Also I think Java isn&#39;t exactly defined to use strict IEEE-754, so my argument breaks down a little.)"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":3,"creation_date":1673538778,"post_id":75098720,"comment_id":132526507,"body_markdown":"I think the bottom line is that you — perhaps accidentally — picked a good algorithm, that was guaranteed to converge, and that never ended up oscillating.  Most of the time, when you&#39;re computing a result via an infinite sequence like this, you do need to use an approximately-equal termination test, otherwise your loop may run forever if it ends up oscillating through values that are alternately a little above and a little below the &quot;true&quot; result.","body":"I think the bottom line is that you — perhaps accidentally — picked a good algorithm, that was guaranteed to converge, and that never ended up oscillating.  Most of the time, when you&#39;re computing a result via an infinite sequence like this, you do need to use an approximately-equal termination test, otherwise your loop may run forever if it ends up oscillating through values that are alternately a little above and a little below the &quot;true&quot; result."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1673538948,"post_id":75098720,"comment_id":132526576,"body_markdown":"@SteveSummit As of JEP-306 and Java 17, Java is back to using strict IEEE-754 even on Intel. https://howtodoinjava.com/java/new-features/","body":"@SteveSummit As of JEP-306 and Java 17, Java is back to using strict IEEE-754 even on Intel. <a href=\"https://howtodoinjava.com/java/new-features/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/new-features</a>"},{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1673597687,"post_id":75098720,"comment_id":132539300,"body_markdown":"@SteveSummit Could you put an answer out of your comments. I would love to upvote.","body":"@SteveSummit Could you put an answer out of your comments. I would love to upvote."}],"answers":[{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673539558,"creation_date":1673538655,"answer_id":75098968,"question_id":75098720,"body_markdown":"You were just lucky, in general you don&#39;t get exact equality. Try this for example:\r\n\r\n    public static void main(String[] args) {\r\n        var s = 0.0;\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            s += 0.1;\r\n        }\r\n        System.out.println(s == 1.0);\r\n    }\r\n\r\nIn your concrete example one would have to do a careful analysis to prove that your iteration always converges to the floating point number closest to phi. If sqrt also returns the closest floating point number to the exact root we would get exact equality.","title":"Floating-point equality unexpectedly working","body":"<p>You were just lucky, in general you don't get exact equality. Try this for example:</p>\n<pre><code>public static void main(String[] args) {\n    var s = 0.0;\n    for (int i = 0; i &lt; 10; i++) {\n        s += 0.1;\n    }\n    System.out.println(s == 1.0);\n}\n</code></pre>\n<p>In your concrete example one would have to do a careful analysis to prove that your iteration always converges to the floating point number closest to phi. If sqrt also returns the closest floating point number to the exact root we would get exact equality.</p>\n"},{"tags":[],"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673585546,"creation_date":1673584773,"answer_id":75104901,"question_id":75098720,"body_markdown":"&gt; ... and to my surprise it seems to always work:\r\n\r\nNot _always_.\r\n\r\nWhen I tried `f(-1/1.6180339887498949)`, the `x` and `y` values oscillated between two floating point values that differed in the last few bits [@Steve Summit](https://stackoverflow.com/questions/75098720/floating-point-equality-unexpectedly-working/75104901#comment132526507_75098720). Thus an infinite loop.\r\n\r\n    x:-0.61803398874989490  y:-0.61803398874989468   // Decimal notation\r\n    x:-0x1.3c6ef372fe950p-1 y:-0x1.3c6ef372fe94ep-1  // Hex notation\r\n    \r\n    x:-0.61803398874989479  y:-0.6180339887498949\r\n    x:-0x1.3c6ef372fe94fp-1 y:-0x1.3c6ef372fe950p-1\r\n    \r\n    x:-0.61803398874989490  y:-0.61803398874989468\r\n    x:-0x1.3c6ef372fe950p-1 y:-0x1.3c6ef372fe94ep-1\r\n\r\n`f(some_starting_x)` generally converges to render an `x`, such that `1 + 1 / x` is `x` again and so meeting the stopping condition.\r\n\r\nBetter routines can prove that if `x` is reasonably close, the `while` loop will eventually get close to the desired answer, yet even then, an oscillation, as shown above is possible.  Thus using an **iteration limit** or **close enough test** is needed.  Usually the 2 oscillation values, when close, they are _massaged_ (e.g. averaged)  to form the best answer.  If not close, the looping simply failed to find a stable answer.\r\n\r\n----\r\n\r\n&gt; Can anyone tell me why I never come across a situation where the two floating-point numbers are different by a very small amount?\r\n\r\nInadequate testing.\r\n\r\n----\r\n\r\n**Morale of the story**:\r\n\r\nDo not rely on only floating point equality, except in select cases.  \r\n`f()` was not a select case and deserved additional stopping code.\r\n\r\n----\r\n\r\nRef: Two `x` with math property: `x = 1 + 1/x`: \r\n\r\n    x1 = 1.6180339887498948482045868343656...\r\n    x2 = -0.61803398874989484820458683436564...\r\n\r\nNote `x1*x2 == -1`.  `x1` is the [Golden_ratio φ](https://en.wikipedia.org/wiki/Golden_ratio).","title":"Floating-point equality unexpectedly working","body":"<blockquote>\n<p>... and to my surprise it seems to always work:</p>\n</blockquote>\n<p>Not <em>always</em>.</p>\n<p>When I tried <code>f(-1/1.6180339887498949)</code>, the <code>x</code> and <code>y</code> values oscillated between two floating point values that differed in the last few bits <a href=\"https://stackoverflow.com/questions/75098720/floating-point-equality-unexpectedly-working/75104901#comment132526507_75098720\">@Steve Summit</a>. Thus an infinite loop.</p>\n<pre><code>x:-0.61803398874989490  y:-0.61803398874989468   // Decimal notation\nx:-0x1.3c6ef372fe950p-1 y:-0x1.3c6ef372fe94ep-1  // Hex notation\n\nx:-0.61803398874989479  y:-0.6180339887498949\nx:-0x1.3c6ef372fe94fp-1 y:-0x1.3c6ef372fe950p-1\n\nx:-0.61803398874989490  y:-0.61803398874989468\nx:-0x1.3c6ef372fe950p-1 y:-0x1.3c6ef372fe94ep-1\n</code></pre>\n<p><code>f(some_starting_x)</code> generally converges to render an <code>x</code>, such that <code>1 + 1 / x</code> is <code>x</code> again and so meeting the stopping condition.</p>\n<p>Better routines can prove that if <code>x</code> is reasonably close, the <code>while</code> loop will eventually get close to the desired answer, yet even then, an oscillation, as shown above is possible.  Thus using an <strong>iteration limit</strong> or <strong>close enough test</strong> is needed.  Usually the 2 oscillation values, when close, they are <em>massaged</em> (e.g. averaged)  to form the best answer.  If not close, the looping simply failed to find a stable answer.</p>\n<hr />\n<blockquote>\n<p>Can anyone tell me why I never come across a situation where the two floating-point numbers are different by a very small amount?</p>\n</blockquote>\n<p>Inadequate testing.</p>\n<hr />\n<p><strong>Morale of the story</strong>:</p>\n<p>Do not rely on only floating point equality, except in select cases.<br />\n<code>f()</code> was not a select case and deserved additional stopping code.</p>\n<hr />\n<p>Ref: Two <code>x</code> with math property: <code>x = 1 + 1/x</code>:</p>\n<pre><code>x1 = 1.6180339887498948482045868343656...\nx2 = -0.61803398874989484820458683436564...\n</code></pre>\n<p>Note <code>x1*x2 == -1</code>.  <code>x1</code> is the <a href=\"https://en.wikipedia.org/wiki/Golden_ratio\" rel=\"nofollow noreferrer\">Golden_ratio φ</a>.</p>\n"}],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75104901,"answer_count":2,"score":3,"last_activity_date":1673585546,"creation_date":1673537462,"question_id":75098720,"body_markdown":"We are often taught that floating-point numbers should not be compared for exact equality. However, the following function, which returns the Golden Ratio when passed any positive number, does in fact compare doubles for equality and to my surprise it seems to always work:\r\n\r\n    public static double f(double x) {\r\n        double y;\r\n        while ((y = 1 + 1 / x) != x)\r\n            x = (x + y) / 2;\r\n        return x;\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        assertEquals((1 + sqrt(5)) / 2, f(1.0));  // Passes!\r\n    }\r\n\r\n\r\nI thought that maybe it works for some input arguments but not others. But even if I use JQwik&#39;s property testing, it still works!\r\n\r\n    @Property\r\n    void test2(@ForAll @Positive double x) {\r\n        assertEquals((1 + sqrt(5)) / 2, f(x));  // Always passes!\r\n    }\r\n\r\nCan anyone tell me why I never come across a situation where the two floating-point numbers are different by a very small amount?","title":"Floating-point equality unexpectedly working","body":"<p>We are often taught that floating-point numbers should not be compared for exact equality. However, the following function, which returns the Golden Ratio when passed any positive number, does in fact compare doubles for equality and to my surprise it seems to always work:</p>\n<pre><code>public static double f(double x) {\n    double y;\n    while ((y = 1 + 1 / x) != x)\n        x = (x + y) / 2;\n    return x;\n}\n\n@Test\nvoid test() {\n    assertEquals((1 + sqrt(5)) / 2, f(1.0));  // Passes!\n}\n</code></pre>\n<p>I thought that maybe it works for some input arguments but not others. But even if I use JQwik's property testing, it still works!</p>\n<pre><code>@Property\nvoid test2(@ForAll @Positive double x) {\n    assertEquals((1 + sqrt(5)) / 2, f(x));  // Always passes!\n}\n</code></pre>\n<p>Can anyone tell me why I never come across a situation where the two floating-point numbers are different by a very small amount?</p>\n"},{"tags":["java","asynchronous","concurrency","nonblocking"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673576845,"post_id":75104229,"comment_id":132535980,"body_markdown":"do something akin to multithreading non-blocking I/O, I think it&#39;s high performance.","body":"do something akin to multithreading non-blocking I/O, I think it&#39;s high performance."},{"owner":{"account_id":23533277,"reputation":1,"user_id":17578581,"display_name":"Andrew Law"},"score":0,"creation_date":1673577126,"post_id":75104229,"comment_id":132536003,"body_markdown":"But the time for a single calling is so short. Multithreading needs context switch, and it&#39;s high overhead right?","body":"But the time for a single calling is so short. Multithreading needs context switch, and it&#39;s high overhead right?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1673613454,"post_id":75104229,"comment_id":132544131,"body_markdown":"*But the time for a single calling is so short.* - If this means that the workload is not heavy that it is worth to create multiple threads, then you can consider using a single thread with a task queue such as single thread `ExecutorService` or you have tried it?","body":"<i>But the time for a single calling is so short.</i> - If this means that the workload is not heavy that it is worth to create multiple threads, then you can consider using a single thread with a task queue such as single thread <code>ExecutorService</code> or you have tried it?"}],"owner":{"account_id":23533277,"reputation":1,"user_id":17578581,"display_name":"Andrew Law"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673585084,"creation_date":1673576111,"question_id":75104229,"body_markdown":"Suppose I&#39;ve got a RESTful API `/getDivision/dID=?`, the **?** need to be replaced with the actual division ID. \r\n\r\nAssuming the dID=1, it return a JSON like below:\r\n\r\n```JSON\r\n{\r\n    &quot;division&quot;: 1\r\n    &quot;subdivisions&quot;: &quot;2,3,4,5&quot;,\r\n    &quot;status&quot;: true\r\n}\r\n```\r\n\r\n\r\nThe return JSON contains the subdivision IDs of the dID=1 split by commas. \r\n\r\nNote that a subdivision also has its own subdivisions and the top division id is 1. So it is a hierarchical API calling.\r\n\r\n\r\nNow, in Java, I want to collect all the division IDs in a thread-safe collection. How can I run the routine concurrently and efficiently?\r\n\r\nI&#39;ve tried multithreading, but I think it&#39;s high performance overhead. Can I do something akin to non-blocking I/O?","title":"How to call plenty of hierarchical RESTful APIs simultaneously and efficiently in Java","body":"<p>Suppose I've got a RESTful API <code>/getDivision/dID=?</code>, the <strong>?</strong> need to be replaced with the actual division ID.</p>\n<p>Assuming the dID=1, it return a JSON like below:</p>\n<pre><code>{\n    &quot;division&quot;: 1\n    &quot;subdivisions&quot;: &quot;2,3,4,5&quot;,\n    &quot;status&quot;: true\n}\n</code></pre>\n<p>The return JSON contains the subdivision IDs of the dID=1 split by commas.</p>\n<p>Note that a subdivision also has its own subdivisions and the top division id is 1. So it is a hierarchical API calling.</p>\n<p>Now, in Java, I want to collect all the division IDs in a thread-safe collection. How can I run the routine concurrently and efficiently?</p>\n<p>I've tried multithreading, but I think it's high performance overhead. Can I do something akin to non-blocking I/O?</p>\n"},{"tags":["java","spring-boot","concurrency","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":7023209,"reputation":980,"user_id":5381672,"display_name":"Sridhar Patnaik"},"score":0,"creation_date":1673583574,"post_id":75103005,"comment_id":132536755,"body_markdown":"Did you tried using cyclic barrier?","body":"Did you tried using cyclic barrier?"}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673571869,"creation_date":1673571492,"answer_id":75103832,"question_id":75103005,"body_markdown":"I think you are best off creating a service layer with an async method.\r\n```Java\r\nimport org.springframework.data.repository.Repository;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.scheduling.annotation.AsyncResult;\r\n\r\n@Service\r\npublic class MyPojoPersister {\r\n\r\n  @Async\r\n  @CompletableFuture&lt;MyPojo&gt; savePojo(Repository repo, MyPojo pojo) {\r\n    return CompletableFuture.completedFuture(repo.save(pojo));\r\n  }\r\n}\r\n```\r\nThen your controller would look something like this:\r\n```Java\r\n@RestController\r\npublic class SaveController {\r\n\r\n    @Autowired\r\n    MyElasticRepository myElasticRepository;\r\n    @Autowired\r\n    MyMongoRepository myMongoRepository;\r\n    @Autowired\r\n    MyAARepository myAARepository;\r\n    \r\n    //@Autowired MyBBRepository, MyCCRepository, ... MyYYRepository\r\n    \r\n    @Autowired\r\n    MyZZRepository myZZRepository;\r\n\r\n    @Autowired MyPojoPersister myPojoPersister;\r\n\r\n    @GetMapping(&quot;/saveSequential&quot;)\r\n    public String saveSequential(@RequestBody MyPojo myPojo) {\r\n        var futureList = Stream.of(myElasticRepository, myMongoRepository, myAARepository, myZZRepository)\r\n          .map(repo -&gt; myPojoPersister.savePojo(repo, myPojo))\r\n          .collect(Collectors.toList());\r\n        CompletableFuture.allOf(futureList.toArray(new CompletableFuture[list.size()])).join();\r\n\r\n        var someString = futureList.stream()\r\n          .map(CompletableFuture::get())\r\n          .map(MyPojo::getId())\r\n          .collect(Collectors.joining(&quot;,&quot;));      \r\n  \r\n        return someString;\r\n    }\r\n}\r\n```\r\nI added some assumptions that you want to return a comma separated list of the ids of the pojos since they would presumably be different for each repo. But do whatever you need to with the values of the futures.\r\n\r\nDon&#39;t forget to enable asynchronicity!\r\n```Java\r\n@SpringBootApplication\r\n@EnableAsync\r\npublic class MyPojoApplication {\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(AsyncMethodApplication.class, args).close();\r\n  }\r\n}\r\n```","title":"Spring Boot + Spring Data: Concurrent/parallel save/insert into databases","body":"<p>I think you are best off creating a service layer with an async method.</p>\n<pre><code>import org.springframework.data.repository.Repository;\nimport java.util.concurrent.CompletableFuture;\nimport org.springframework.stereotype.Service;\nimport org.springframework.scheduling.annotation.AsyncResult;\n\n@Service\npublic class MyPojoPersister {\n\n  @Async\n  @CompletableFuture&lt;MyPojo&gt; savePojo(Repository repo, MyPojo pojo) {\n    return CompletableFuture.completedFuture(repo.save(pojo));\n  }\n}\n</code></pre>\n<p>Then your controller would look something like this:</p>\n<pre><code>@RestController\npublic class SaveController {\n\n    @Autowired\n    MyElasticRepository myElasticRepository;\n    @Autowired\n    MyMongoRepository myMongoRepository;\n    @Autowired\n    MyAARepository myAARepository;\n    \n    //@Autowired MyBBRepository, MyCCRepository, ... MyYYRepository\n    \n    @Autowired\n    MyZZRepository myZZRepository;\n\n    @Autowired MyPojoPersister myPojoPersister;\n\n    @GetMapping(&quot;/saveSequential&quot;)\n    public String saveSequential(@RequestBody MyPojo myPojo) {\n        var futureList = Stream.of(myElasticRepository, myMongoRepository, myAARepository, myZZRepository)\n          .map(repo -&gt; myPojoPersister.savePojo(repo, myPojo))\n          .collect(Collectors.toList());\n        CompletableFuture.allOf(futureList.toArray(new CompletableFuture[list.size()])).join();\n\n        var someString = futureList.stream()\n          .map(CompletableFuture::get())\n          .map(MyPojo::getId())\n          .collect(Collectors.joining(&quot;,&quot;));      \n  \n        return someString;\n    }\n}\n</code></pre>\n<p>I added some assumptions that you want to return a comma separated list of the ids of the pojos since they would presumably be different for each repo. But do whatever you need to with the values of the futures.</p>\n<p>Don't forget to enable asynchronicity!</p>\n<pre><code>@SpringBootApplication\n@EnableAsync\npublic class MyPojoApplication {\n  public static void main(String[] args) {\n    SpringApplication.run(AsyncMethodApplication.class, args).close();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673584793,"creation_date":1673562999,"question_id":75103005,"body_markdown":"Small question regarding SpringBoot and SpringData, and how to save a pojo into many databases concurrently, in parallel please.\r\n\r\nI have a very simple SpringBoot application which does nothing but expose a rest endpoint to save a pojo:\r\n\r\n```\r\n@RestController\r\npublic class SaveController {\r\n\r\n    @Autowired\r\n    MyElasticRepository myElasticRepository;\r\n    @Autowired\r\n    MyMongoRepository myMongoRepository;\r\n    @Autowired\r\n    MyAARepository myAARepository;\r\n    \r\n    //@Autowired MyBBRepository, MyCCRepository, ... MyYYRepository\r\n    \r\n    @Autowired\r\n    MyZZRepository myZZRepository;\r\n\r\n    @GetMapping(&quot;/saveSequential&quot;)\r\n    public String saveSequential(@RequestBody MyPojo myPojo) {\r\n        MyPojo myPojoFromElastic = myElasticRepository.save(myPojo);\r\n        MyPojo myPojoFromMongo = myMongoRepository.save(myPojo);\r\n        MyPojo myPojoFromAA = myAARepository.save(myPojo);\r\n        // myBBRepository.save(myPojo) myCCRepository.save(myPojo) ... myYYRepository.save(myPojo)\r\n        MyPojo myPojoFromZZ = myZZRepository.save(myPojo);\r\n        return ...;\r\n    }\r\n}\r\n```\r\n\r\nHowever, the pojo needs to be saved in many databases, by many, imagine a good dozens of different databases.\r\n\r\nAs of now, as you can see from the code, the pojo is saved in each of the databases sequentially. I timed the application, as well as monitoring the DBs, the inserts come one after another.\r\n\r\nHypothetically, if one save takes one second, and I have 20 DB, the rest endpoints takes 20ish seconds to complete.\r\n\r\nSince the operation is not dependent of any others, i.e. saving the pojo in Mongo, has no dependency on the data saved in Oracle, etc... I would like to optimize the performance by doing the operation in parallel. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI.e, if each save takes one second, and I have 20 DBs, to parallel the save, which should still take something like oneish second. (I am exaggerating)\r\n\r\nFor the sake of the question, let us imagine the machine doing the save has many cores, is a very good machine, etc.\r\n\r\n\r\nWhat I tried:\r\n\r\nI tried using the ```@Async``` annotation on the repository, such as:\r\n\r\n```\r\n@Async\r\n@Repository\r\npublic interface MyElasticRepository extends ElasticsearchRepository&lt;MyPojo, String&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\nBut unfortunately, timing the endpoint, it still takes a sequential time.\r\n\r\nMay I ask how to achieve this parallel, concurrent save please?\r\nIf possible, I would like to leverage existing features of Spring Framework, and not having to rewrite boiler plate concurrency code.\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vKObd.png","title":"Spring Boot + Spring Data: Concurrent/parallel save/insert into databases","body":"<p>Small question regarding SpringBoot and SpringData, and how to save a pojo into many databases concurrently, in parallel please.</p>\n<p>I have a very simple SpringBoot application which does nothing but expose a rest endpoint to save a pojo:</p>\n<pre><code>@RestController\npublic class SaveController {\n\n    @Autowired\n    MyElasticRepository myElasticRepository;\n    @Autowired\n    MyMongoRepository myMongoRepository;\n    @Autowired\n    MyAARepository myAARepository;\n    \n    //@Autowired MyBBRepository, MyCCRepository, ... MyYYRepository\n    \n    @Autowired\n    MyZZRepository myZZRepository;\n\n    @GetMapping(&quot;/saveSequential&quot;)\n    public String saveSequential(@RequestBody MyPojo myPojo) {\n        MyPojo myPojoFromElastic = myElasticRepository.save(myPojo);\n        MyPojo myPojoFromMongo = myMongoRepository.save(myPojo);\n        MyPojo myPojoFromAA = myAARepository.save(myPojo);\n        // myBBRepository.save(myPojo) myCCRepository.save(myPojo) ... myYYRepository.save(myPojo)\n        MyPojo myPojoFromZZ = myZZRepository.save(myPojo);\n        return ...;\n    }\n}\n</code></pre>\n<p>However, the pojo needs to be saved in many databases, by many, imagine a good dozens of different databases.</p>\n<p>As of now, as you can see from the code, the pojo is saved in each of the databases sequentially. I timed the application, as well as monitoring the DBs, the inserts come one after another.</p>\n<p>Hypothetically, if one save takes one second, and I have 20 DB, the rest endpoints takes 20ish seconds to complete.</p>\n<p>Since the operation is not dependent of any others, i.e. saving the pojo in Mongo, has no dependency on the data saved in Oracle, etc... I would like to optimize the performance by doing the operation in parallel.</p>\n<p><a href=\"https://i.stack.imgur.com/vKObd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKObd.png\" alt=\"enter image description here\" /></a></p>\n<p>I.e, if each save takes one second, and I have 20 DBs, to parallel the save, which should still take something like oneish second. (I am exaggerating)</p>\n<p>For the sake of the question, let us imagine the machine doing the save has many cores, is a very good machine, etc.</p>\n<p>What I tried:</p>\n<p>I tried using the <code>@Async</code> annotation on the repository, such as:</p>\n<pre><code>@Async\n@Repository\npublic interface MyElasticRepository extends ElasticsearchRepository&lt;MyPojo, String&gt; {\n\n}\n\n</code></pre>\n<p>But unfortunately, timing the endpoint, it still takes a sequential time.</p>\n<p>May I ask how to achieve this parallel, concurrent save please?\nIf possible, I would like to leverage existing features of Spring Framework, and not having to rewrite boiler plate concurrency code.</p>\n<p>Thank you!</p>\n"},{"tags":["java","maven","pom.xml","versioning","cicd"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673593891,"post_id":75103540,"comment_id":132538332,"body_markdown":"On the consuming side you should go and do automatically upgrading those dependencies like Dependabot/Renovate do... that will remove the burden to upgrade manually ...","body":"On the consuming side you should go and do automatically upgrading those dependencies like Dependabot/Renovate do... that will remove the burden to upgrade manually ..."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673583360,"creation_date":1673583360,"answer_id":75104805,"question_id":75103540,"body_markdown":"In general, what you are asking/talking about sounds so obvious, that there is nothing to discuss. My two cents:\r\n\r\n1. most probably, the idea about releasing new version upon integrating pull request into branch won&#39;t work, the reasoning is following:\r\n\r\n   in order to release new version you need to change the value `&lt;version&gt;` of element in `pom.xml`, `maven-release-plugin` performs that in two commits: first one changes `-SNAPSHOT` (current development version) to &quot;release&quot; and the second one changes &quot;release&quot; to `-SNAPSHOT` (next development version), such behaviour of `maven-release-plugin` is reasonable, however, you may face with the following &quot;issues&quot;:\r\n   - a lot of noise in commit history from `maven-release-plugin`\r\n   - `maven-release-plugin` will conflict with simultaneous integrations, basically it will fail to commit into stale branch \r\n\r\n   we prefer to release intermediate versions (`pre-release`/`build` in semver terms) for such cases (either automatically or on demand), something like:\r\n\r\n```shell\r\n mvn -e --batch-mode -Prelease release:clean release:prepare \\\r\n  -Darguments=&#39;-DaltReleaseDeploymentRepository=... -DaltSnapshotDeploymentRepository=... -DskipTests=true&#39; \\ \r\n  -DreleaseVersion=X.Y.Z-BUILDNO \\\r\n  -DdevelopmentVersion=X.Y.Z-SNAPSHOT \\\r\n  -DpushChanges=false \\\r\n  -DpreparationGoals=&quot;clean deploy&quot;\r\n```\r\n\r\n2. the most challenging part is actually a branching strategy: say, the current development version in `develop`/`main` branch is `X.Y.Z-SNAPSHOT`, the question is: &quot;if we are going to release new version of our software what would be the next development version?&quot; (`maven-release-plugin` by default suggests `X.Y.(Z+1)-SNAPSHOT`, however in that case you will fail to release `bugfix` release due to other (possibly conflicting/undesirable) changes in `develop`/`main` branch)","title":"Maven dependency versioning for internal java dependencies","body":"<p>In general, what you are asking/talking about sounds so obvious, that there is nothing to discuss. My two cents:</p>\n<ol>\n<li><p>most probably, the idea about releasing new version upon integrating pull request into branch won't work, the reasoning is following:</p>\n<p>in order to release new version you need to change the value <code>&lt;version&gt;</code> of element in <code>pom.xml</code>, <code>maven-release-plugin</code> performs that in two commits: first one changes <code>-SNAPSHOT</code> (current development version) to &quot;release&quot; and the second one changes &quot;release&quot; to <code>-SNAPSHOT</code> (next development version), such behaviour of <code>maven-release-plugin</code> is reasonable, however, you may face with the following &quot;issues&quot;:</p>\n<ul>\n<li>a lot of noise in commit history from <code>maven-release-plugin</code></li>\n<li><code>maven-release-plugin</code> will conflict with simultaneous integrations, basically it will fail to commit into stale branch</li>\n</ul>\n<p>we prefer to release intermediate versions (<code>pre-release</code>/<code>build</code> in semver terms) for such cases (either automatically or on demand), something like:</p>\n</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code> mvn -e --batch-mode -Prelease release:clean release:prepare \\\n  -Darguments='-DaltReleaseDeploymentRepository=... -DaltSnapshotDeploymentRepository=... -DskipTests=true' \\ \n  -DreleaseVersion=X.Y.Z-BUILDNO \\\n  -DdevelopmentVersion=X.Y.Z-SNAPSHOT \\\n  -DpushChanges=false \\\n  -DpreparationGoals=&quot;clean deploy&quot;\n</code></pre>\n<ol start=\"2\">\n<li>the most challenging part is actually a branching strategy: say, the current development version in <code>develop</code>/<code>main</code> branch is <code>X.Y.Z-SNAPSHOT</code>, the question is: &quot;if we are going to release new version of our software what would be the next development version?&quot; (<code>maven-release-plugin</code> by default suggests <code>X.Y.(Z+1)-SNAPSHOT</code>, however in that case you will fail to release <code>bugfix</code> release due to other (possibly conflicting/undesirable) changes in <code>develop</code>/<code>main</code> branch)</li>\n</ol>\n"}],"owner":{"account_id":27514822,"reputation":11,"user_id":20995981,"display_name":"Dave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673583360,"creation_date":1673567903,"question_id":75103540,"body_markdown":"# Versioning of Internally Developed Dependencies\r\n\r\nI&#39;m looking for some examples/ best practices of how other teams are covering this in their projects. \r\n\r\nI have a medium sized development team/s who are developing Java applications using Maven as a build tool.\r\n\r\nWe have a number of dependencies developed in house used by one or more other applications; all using a CI tool to do all the good stuff of running tests and building etc.\r\n\r\nMy question is around the best practice of the versioning of the internal dependencies in the application POM files. \r\n\r\nMy instinct is that the CI should build the dependency and tag the git repo when a change has been merged into its main branch and the semver of the package bumped, and if a developer and their application requires that version, then the POM file should be updated as such and the application built with that baked in, using the CI.\r\n\r\nThat of course would add a greater overhead, rather than just using the latest version of dependencies each time the application build but at least you&#39;re targeting exactly what you want for each application; albeit they all may be running different versions of the dependency.\r\n\r\nAside from pushing out security updates, that may not be too undesirable?\r\n\r\nMy fear is that if two developers are independently developing a feature on the same application and a dependency that there may be a possibility of introducing a regression of a version. Though I imagine this would be caught as a conflict in git or at least should be visible as a change, and it would be the developers responsibility to check the version they are merging isn&#39;t older than the current one in the main branch.\r\n\r\n\r\nI guess I&#39;m just after some pointers on what others are doing with multiple devs changing apps and their devs concurrently.\r\n\r\n\r\nGenerally after some examples of what others are doing. ","title":"Maven dependency versioning for internal java dependencies","body":"<h1>Versioning of Internally Developed Dependencies</h1>\n<p>I'm looking for some examples/ best practices of how other teams are covering this in their projects.</p>\n<p>I have a medium sized development team/s who are developing Java applications using Maven as a build tool.</p>\n<p>We have a number of dependencies developed in house used by one or more other applications; all using a CI tool to do all the good stuff of running tests and building etc.</p>\n<p>My question is around the best practice of the versioning of the internal dependencies in the application POM files.</p>\n<p>My instinct is that the CI should build the dependency and tag the git repo when a change has been merged into its main branch and the semver of the package bumped, and if a developer and their application requires that version, then the POM file should be updated as such and the application built with that baked in, using the CI.</p>\n<p>That of course would add a greater overhead, rather than just using the latest version of dependencies each time the application build but at least you're targeting exactly what you want for each application; albeit they all may be running different versions of the dependency.</p>\n<p>Aside from pushing out security updates, that may not be too undesirable?</p>\n<p>My fear is that if two developers are independently developing a feature on the same application and a dependency that there may be a possibility of introducing a regression of a version. Though I imagine this would be caught as a conflict in git or at least should be visible as a change, and it would be the developers responsibility to check the version they are merging isn't older than the current one in the main branch.</p>\n<p>I guess I'm just after some pointers on what others are doing with multiple devs changing apps and their devs concurrently.</p>\n<p>Generally after some examples of what others are doing.</p>\n"},{"tags":["java","amazon-web-services","sdk","queue","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":33299,"reputation":12487,"user_id":93161,"accept_rate":89,"display_name":"Robert Love"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673581322,"creation_date":1673581322,"answer_id":75104658,"question_id":75100693,"body_markdown":"Then you need to use java try catch block, to hide the other errors.   Although this concept does seem risky as ANY coding error you could lose data. \r\n\r\nSince the deletion policy is on success it will automatically remove message from SQS.\r\n\r\n\r\n```\r\n@SqsListener(value = &quot;/MyQueueURL&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS )\r\npublic void getMessageFromSqs(MyMessage message) {\r\n  try {      \r\n    log.info(&quot;message: {}&quot;, message);\r\n\r\n        // Ignore other exceptions\r\n\r\n        if(somecondition) {\r\n            throw new MyCustomException(&quot;Retry it&quot;); //&lt;--- Fail only on this exception\r\n        }\r\n        \r\n        log.info(&quot;Success&quot;);\r\n    } catch(Exception e) {\r\n        log.info(&quot;error&quot;)\r\n        if (e instanceOf MyCustomException) {\r\n          throw e\r\n        }\r\n    }\r\n}\r\n```","title":"AWS - SQS deletionPolicy on specific custom exception","body":"<p>Then you need to use java try catch block, to hide the other errors.   Although this concept does seem risky as ANY coding error you could lose data.</p>\n<p>Since the deletion policy is on success it will automatically remove message from SQS.</p>\n<pre><code>@SqsListener(value = &quot;/MyQueueURL&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS )\npublic void getMessageFromSqs(MyMessage message) {\n  try {      \n    log.info(&quot;message: {}&quot;, message);\n\n        // Ignore other exceptions\n\n        if(somecondition) {\n            throw new MyCustomException(&quot;Retry it&quot;); //&lt;--- Fail only on this exception\n        }\n        \n        log.info(&quot;Success&quot;);\n    } catch(Exception e) {\n        log.info(&quot;error&quot;)\n        if (e instanceOf MyCustomException) {\n          throw e\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25115804,"reputation":85,"user_id":18964853,"display_name":"Madan Chaudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673581322,"creation_date":1673547413,"question_id":75100693,"body_markdown":"In AWS sqs i need to consider message as failed and retry it only on specific custom exception rather than on all runtime exception\r\n\r\n```\r\n    @SqsListener(value = &quot;/MyQueueURL&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS )\r\n    public void getMessageFromSqs(MyMessage message) {\r\n        \r\n        log.info(&quot;message: {}&quot;, message);\r\n\r\n        // Ignore other exceptions\r\n\r\n        if(somecondition) {\r\n            throw new MyCustomException(&quot;Retry it&quot;); //&lt;--- Fail only on this exception\r\n        }\r\n        \r\n        log.info(&quot;Success&quot;);\r\n    }\r\n```","title":"AWS - SQS deletionPolicy on specific custom exception","body":"<p>In AWS sqs i need to consider message as failed and retry it only on specific custom exception rather than on all runtime exception</p>\n<pre><code>    @SqsListener(value = &quot;/MyQueueURL&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS )\n    public void getMessageFromSqs(MyMessage message) {\n        \n        log.info(&quot;message: {}&quot;, message);\n\n        // Ignore other exceptions\n\n        if(somecondition) {\n            throw new MyCustomException(&quot;Retry it&quot;); //&lt;--- Fail only on this exception\n        }\n        \n        log.info(&quot;Success&quot;);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","saml-2.0"],"answers":[{"tags":[],"owner":{"account_id":951604,"reputation":3220,"user_id":977649,"display_name":"schtever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673580642,"creation_date":1673580642,"answer_id":75104604,"question_id":75101421,"body_markdown":"The SAML stack can be difficult to debug!  Look at the last Exception in the stack trace: \r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke \r\n      &quot;java.net.URL.getFile()&quot; because the return value of \r\n      &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\r\nLooks like an error locating `classpath:saml-certificate/cond2fa_256.xml`.  \r\n1. Check that the path `saml-certificate/cond2fa_256.xml` is spelled right.\r\n2. Check that the file `cond2fa_256.xml` does really appear within a directory named `saml-certificate` either in your file system or in a JAR file.\r\n    - If in your file system, `saml-certificate` should be a sub-directory of one of the entries in your CLASSPATH.\r\n    - If in a JAR file, then `saml-certificate` should be a top-level directory in that JAR file.\r\n","title":"Spring Security + SAML 2.0 Configuration --&gt; WebServerException: Unable to start embedded Tomcat","body":"<p>The SAML stack can be difficult to debug!  Look at the last Exception in the stack trace:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke \n  &quot;java.net.URL.getFile()&quot; because the return value of \n  &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n</code></pre>\n<p>Looks like an error locating <code>classpath:saml-certificate/cond2fa_256.xml</code>.</p>\n<ol>\n<li>Check that the path <code>saml-certificate/cond2fa_256.xml</code> is spelled right.</li>\n<li>Check that the file <code>cond2fa_256.xml</code> does really appear within a directory named <code>saml-certificate</code> either in your file system or in a JAR file.\n<ul>\n<li>If in your file system, <code>saml-certificate</code> should be a sub-directory of one of the entries in your CLASSPATH.</li>\n<li>If in a JAR file, then <code>saml-certificate</code> should be a top-level directory in that JAR file.</li>\n</ul>\n</li>\n</ol>\n"}],"owner":{"account_id":16436502,"reputation":47,"user_id":11873958,"display_name":"ma66ot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673580642,"creation_date":1673551845,"question_id":75101421,"body_markdown":"Trying to configure Spring Security + Saml 2.0 for our app. Without the Spring Security config the app runs fine. As soon as we activate Spring Security we get a Tomcat exception as follows:\r\n\r\n\r\n```\r\n2023-01-12 19:53:21.191  INFO 31028 --- [  restartedMain] com.atos.AerApp                          : Starting AerApp using Java 17.0.5 on LAPTOP-FRSNQQSJ with PID 31028 (C:\\Projects local\\AER-Backend\\backend\\build\\classes\\java\\main started by a882102 in C:\\Projects local\\AER-Backend\\backend)\r\n2023-01-12 19:53:21.192  INFO 31028 --- [  restartedMain] com.atos.AerApp                          : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-01-12 19:53:21.223  INFO 31028 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-01-12 19:53:21.223  INFO 31028 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-01-12 19:53:21.776  INFO 31028 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-01-12 19:53:21.813  INFO 31028 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.\r\n2023-01-12 19:53:22.254  INFO 31028 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-01-12 19:53:22.260  INFO 31028 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-01-12 19:53:22.260  INFO 31028 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]\r\n2023-01-12 19:53:22.325  INFO 31028 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-01-12 19:53:22.325  INFO 31028 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1102 ms\r\n2023-01-12 19:53:22.334 ERROR 31028 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;metadata&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;metadata&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;relyingPartyRegistrationResolver&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;relyingPartyRegistrationResolver&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;repository&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n2023-01-12 19:53:22.362  INFO 31028 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-01-12 19:53:22.368  WARN 31028 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2023-01-12 19:53:22.373  INFO 31028 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-01-12 19:53:22.389 ERROR 31028 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat com.atos.AerApp.main(AerApp.java:18) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\t... 13 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;metadata&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;metadata&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;relyingPartyRegistrationResolver&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;relyingPartyRegistrationResolver&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;repository&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:203) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:97) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5211) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\t... 18 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;relyingPartyRegistrationResolver&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;relyingPartyRegistrationResolver&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;repository&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 58 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;repository&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 72 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 86 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat com.atos.config.SecurityConfig.repository(SecurityConfig.java:64) ~[main/:na]\r\n\tat com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de.CGLIB$repository$1(&lt;generated&gt;) ~[main/:na]\r\n\tat com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de$$FastClassBySpringCGLIB$$66e06ba2.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de.repository(&lt;generated&gt;) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 87 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nSpring Security + Saml Config\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    SecurityFilterChain app(HttpSecurity http) throws Exception {\r\n        // @formatter:off\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .saml2Login(Customizer.withDefaults())\r\n                .saml2Logout(Customizer.withDefaults());\r\n        // @formatter:on\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    RelyingPartyRegistrationResolver relyingPartyRegistrationResolver(\r\n            RelyingPartyRegistrationRepository registrations) {\r\n        return new DefaultRelyingPartyRegistrationResolver((id) -&gt; registrations.findByRegistrationId(&quot;wac&quot;));\r\n    }\r\n\r\n    @Bean\r\n    Saml2AuthenticationTokenConverter authentication(RelyingPartyRegistrationResolver registrations) {\r\n        return new Saml2AuthenticationTokenConverter(registrations);\r\n    }\r\n\r\n    @Bean\r\n    FilterRegistrationBean&lt;Saml2MetadataFilter&gt; metadata(RelyingPartyRegistrationResolver registrations) {\r\n        Saml2MetadataFilter metadata = new Saml2MetadataFilter(registrations, new OpenSamlMetadataResolver());\r\n        FilterRegistrationBean&lt;Saml2MetadataFilter&gt; filter = new FilterRegistrationBean&lt;&gt;(metadata);\r\n        filter.setOrder(-101);\r\n        return filter;\r\n    }\r\n\r\n    @Bean\r\n    RelyingPartyRegistrationRepository repository() throws Exception{\r\n        ClassLoader classLoader = getClass().getClassLoader();\r\n        File verificationKey = new File(classLoader.getResource(&quot;saml-certificate/saml.crt&quot;).getFile());\r\n        X509Certificate certificate = X509Support.decodeCertificate(verificationKey);\r\n        Saml2X509Credential credential= Saml2X509Credential.verification(certificate);\r\n\r\n        RelyingPartyRegistration wac = RelyingPartyRegistrations\r\n                .fromMetadataLocation(&quot;classpath:saml-certificate/cond2fa_256.xml&quot;)\r\n                .registrationId(&quot;wac&quot;).assertingPartyDetails((details) -&gt; details.verificationX509Credentials(\r\n                        (c) -&gt; c.add(credential)\r\n                ).wantAuthnRequestsSigned(false))\r\n                .singleLogoutServiceLocation(&quot;http://localhost:8080/logout/saml2/slo&quot;).build();\r\n        return new InMemoryRelyingPartyRegistrationRepository(wac);\r\n    }\r\n\r\n}\r\n\r\n```\r\napplication.properties\r\n\r\n```\r\n# Configure connection pooling if needed\r\nspring.datasource.hikari.maximum-pool-size=10\r\n\r\n#H2\r\nspring.jpa.show-sql=false\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2-console\r\nspring.datasource.username=sa\r\nspring.datasource.password=pass\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\n#spring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.generate-ddl=false\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\n\r\n```\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.7&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.atos&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\n\r\ndependencies {\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\timplementation group: &#39;org.modelmapper&#39;, name: &#39;modelmapper&#39;, version: &#39;3.1.1&#39;\r\n\timplementation &#39;org.springframework.security:spring-security-core:6.0.1&#39;\r\n\timplementation &#39;org.springframework.security:spring-security-saml2-service-provider&#39;\r\n\r\n\r\n\t//Swagger\r\n\timplementation &#39;io.springfox:springfox-swagger-ui:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger2:3.0.0&#39;\r\n\r\n\r\n\t// H2\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\ntasks.withType(Jar).all {\r\n\tduplicatesStrategy &#39;exclude&#39;\r\n}\r\n\r\n```\r\n\r\n\r\nTried a bunch of dependencies suggested on stackoverflow for similar problems, changing the tomcat port, changing project jdk from 17 to 11 nothing helped. I&#39;m still a junior dev btw.\r\n\r\nAppreciate your feedback.","title":"Spring Security + SAML 2.0 Configuration --&gt; WebServerException: Unable to start embedded Tomcat","body":"<p>Trying to configure Spring Security + Saml 2.0 for our app. Without the Spring Security config the app runs fine. As soon as we activate Spring Security we get a Tomcat exception as follows:</p>\n<pre><code>2023-01-12 19:53:21.191  INFO 31028 --- [  restartedMain] com.atos.AerApp                          : Starting AerApp using Java 17.0.5 on LAPTOP-FRSNQQSJ with PID 31028 (C:\\Projects local\\AER-Backend\\backend\\build\\classes\\java\\main started by a882102 in C:\\Projects local\\AER-Backend\\backend)\n2023-01-12 19:53:21.192  INFO 31028 --- [  restartedMain] com.atos.AerApp                          : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-12 19:53:21.223  INFO 31028 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-01-12 19:53:21.223  INFO 31028 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-01-12 19:53:21.776  INFO 31028 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-01-12 19:53:21.813  INFO 31028 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.\n2023-01-12 19:53:22.254  INFO 31028 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-01-12 19:53:22.260  INFO 31028 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-01-12 19:53:22.260  INFO 31028 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]\n2023-01-12 19:53:22.325  INFO 31028 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-01-12 19:53:22.325  INFO 31028 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1102 ms\n2023-01-12 19:53:22.334 ERROR 31028 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'metadata' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'metadata' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'relyingPartyRegistrationResolver' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'relyingPartyRegistrationResolver' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repository' defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n2023-01-12 19:53:22.362  INFO 31028 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-01-12 19:53:22.368  WARN 31028 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2023-01-12 19:53:22.373  INFO 31028 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-01-12 19:53:22.389 ERROR 31028 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\n    at com.atos.AerApp.main(AerApp.java:18) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.7.jar:2.7.7]\n    ... 13 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'metadata' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'metadata' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'relyingPartyRegistrationResolver' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'relyingPartyRegistrationResolver' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repository' defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:203) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:97) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5211) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.7.jar:2.7.7]\n    ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'relyingPartyRegistrationResolver' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'relyingPartyRegistrationResolver' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repository' defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 58 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repository' defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 72 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 86 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at com.atos.config.SecurityConfig.repository(SecurityConfig.java:64) ~[main/:na]\n    at com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de.CGLIB$repository$1(&lt;generated&gt;) ~[main/:na]\n    at com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de$$FastClassBySpringCGLIB$$66e06ba2.invoke(&lt;generated&gt;) ~[main/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.24.jar:5.3.24]\n    at com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de.repository(&lt;generated&gt;) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 87 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>Spring Security + Saml Config</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain app(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .anyRequest().authenticated()\n                )\n                .saml2Login(Customizer.withDefaults())\n                .saml2Logout(Customizer.withDefaults());\n        // @formatter:on\n\n        return http.build();\n    }\n\n    @Bean\n    RelyingPartyRegistrationResolver relyingPartyRegistrationResolver(\n            RelyingPartyRegistrationRepository registrations) {\n        return new DefaultRelyingPartyRegistrationResolver((id) -&gt; registrations.findByRegistrationId(&quot;wac&quot;));\n    }\n\n    @Bean\n    Saml2AuthenticationTokenConverter authentication(RelyingPartyRegistrationResolver registrations) {\n        return new Saml2AuthenticationTokenConverter(registrations);\n    }\n\n    @Bean\n    FilterRegistrationBean&lt;Saml2MetadataFilter&gt; metadata(RelyingPartyRegistrationResolver registrations) {\n        Saml2MetadataFilter metadata = new Saml2MetadataFilter(registrations, new OpenSamlMetadataResolver());\n        FilterRegistrationBean&lt;Saml2MetadataFilter&gt; filter = new FilterRegistrationBean&lt;&gt;(metadata);\n        filter.setOrder(-101);\n        return filter;\n    }\n\n    @Bean\n    RelyingPartyRegistrationRepository repository() throws Exception{\n        ClassLoader classLoader = getClass().getClassLoader();\n        File verificationKey = new File(classLoader.getResource(&quot;saml-certificate/saml.crt&quot;).getFile());\n        X509Certificate certificate = X509Support.decodeCertificate(verificationKey);\n        Saml2X509Credential credential= Saml2X509Credential.verification(certificate);\n\n        RelyingPartyRegistration wac = RelyingPartyRegistrations\n                .fromMetadataLocation(&quot;classpath:saml-certificate/cond2fa_256.xml&quot;)\n                .registrationId(&quot;wac&quot;).assertingPartyDetails((details) -&gt; details.verificationX509Credentials(\n                        (c) -&gt; c.add(credential)\n                ).wantAuthnRequestsSigned(false))\n                .singleLogoutServiceLocation(&quot;http://localhost:8080/logout/saml2/slo&quot;).build();\n        return new InMemoryRelyingPartyRegistrationRepository(wac);\n    }\n\n}\n\n</code></pre>\n<p>application.properties</p>\n<pre><code># Configure connection pooling if needed\nspring.datasource.hikari.maximum-pool-size=10\n\n#H2\nspring.jpa.show-sql=false\nspring.jpa.properties.hibernate.format_sql=true\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\nspring.datasource.username=sa\nspring.datasource.password=pass\nspring.datasource.url=jdbc:h2:mem:testdb\n#spring.jpa.hibernate.ddl-auto=none\nspring.jpa.generate-ddl=false\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n\n\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.7'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.atos'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n        implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n    implementation group: 'org.modelmapper', name: 'modelmapper', version: '3.1.1'\n    implementation 'org.springframework.security:spring-security-core:6.0.1'\n    implementation 'org.springframework.security:spring-security-saml2-service-provider'\n\n\n    //Swagger\n    implementation 'io.springfox:springfox-swagger-ui:3.0.0'\n    implementation 'io.springfox:springfox-boot-starter:3.0.0'\n    implementation 'io.springfox:springfox-swagger2:3.0.0'\n\n\n    // H2\n    runtimeOnly 'com.h2database:h2'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ntasks.withType(Jar).all {\n    duplicatesStrategy 'exclude'\n}\n\n</code></pre>\n<p>Tried a bunch of dependencies suggested on stackoverflow for similar problems, changing the tomcat port, changing project jdk from 17 to 11 nothing helped. I'm still a junior dev btw.</p>\n<p>Appreciate your feedback.</p>\n"},{"tags":["java","user-interface","combobox","rendering","zk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667578898,"post_id":74318292,"comment_id":131207364,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673580416,"creation_date":1667803433,"answer_id":74342845,"question_id":74318292,"body_markdown":"\r\nThe behavior you want &quot;clicking &#39;show more&#39; and keep the popup open&quot; is not supported by default. \r\nSo you have to override its js widget&#39;s `doClick_()`, please read \r\nhttps://www.zkoss.org/wiki/ZK_Client-side_Reference/General_Control/Widget_Customization\r\n\r\nhere is an example.\r\n\r\n    &lt;zscript&gt;&lt;![CDATA[\r\n    ListModelList fullModel = new ListModelList(Locale.getAvailableLocales());\r\n    ListModelList model1 = new ListModelList(fullModel.subList(0, 2));\r\n    model1.add(&quot;show more&quot;);\r\n    \r\n        ]]&gt;&lt;/zscript&gt;\r\n    &lt;combobox id=&quot;box&quot; model=&quot;${model1}&quot; readonly=&quot;true&quot; onSelect=&quot;loadAll()&quot;/&gt;\r\n    &lt;script src=&quot;comboitem-doclick.js&quot;/&gt;\r\n        &lt;zscript&gt;&lt;![CDATA[\r\n        public void loadAll(){\r\n            if (model1.getSelection().iterator().next().equals(&quot;show more&quot;)){\r\n                box.setModel(fullModel);\r\n                box.setValue(&quot;&quot;);\r\n            }\r\n        }\r\n        ]]&gt;&lt;/zscript&gt;\r\n\r\n\r\n\r\n```javascript\r\n/**\r\n * Purpose: when a user selects a specific item, keep the popup open.\r\n * Based on version: 9.6.3\r\n */\r\nzk.afterLoad(&#39;zul.inp&#39;, function() {\r\n    var exWidget = {};\r\n    zk.override(zul.inp.Comboitem.prototype, exWidget, {\r\n        doClick_: function doClick_(evt) {\r\n            if (!this._disabled) {\r\n                var cb = this.parent;\r\n\r\n                cb._select(this, {\r\n                  sendOnSelect: true,\r\n                  sendOnChange: true\r\n                });\r\n\r\n                this._updateHoverImage();\r\n                if (this.getLabel() != &#39;show more&#39;){\r\n                    cb.close({\r\n                      sendOnOpen: true,\r\n                      focus: true\r\n                    }); // Fixed the onFocus event is triggered too late in IE.\r\n                }\r\n\r\n                cb._shallClose = true;\r\n                if (zul.inp.InputCtrl.isPreservedFocus(this)) zk(cb.getInputNode()).focus();\r\n                evt.stop();\r\n            }\r\n        },\r\n    });\r\n});\r\n```","title":"ZK Combobox disable closing","body":"<p>The behavior you want &quot;clicking 'show more' and keep the popup open&quot; is not supported by default.\nSo you have to override its js widget's <code>doClick_()</code>, please read\n<a href=\"https://www.zkoss.org/wiki/ZK_Client-side_Reference/General_Control/Widget_Customization\" rel=\"nofollow noreferrer\">https://www.zkoss.org/wiki/ZK_Client-side_Reference/General_Control/Widget_Customization</a></p>\n<p>here is an example.</p>\n<pre><code>&lt;zscript&gt;&lt;![CDATA[\nListModelList fullModel = new ListModelList(Locale.getAvailableLocales());\nListModelList model1 = new ListModelList(fullModel.subList(0, 2));\nmodel1.add(&quot;show more&quot;);\n\n    ]]&gt;&lt;/zscript&gt;\n&lt;combobox id=&quot;box&quot; model=&quot;${model1}&quot; readonly=&quot;true&quot; onSelect=&quot;loadAll()&quot;/&gt;\n&lt;script src=&quot;comboitem-doclick.js&quot;/&gt;\n    &lt;zscript&gt;&lt;![CDATA[\n    public void loadAll(){\n        if (model1.getSelection().iterator().next().equals(&quot;show more&quot;)){\n            box.setModel(fullModel);\n            box.setValue(&quot;&quot;);\n        }\n    }\n    ]]&gt;&lt;/zscript&gt;\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * Purpose: when a user selects a specific item, keep the popup open.\n * Based on version: 9.6.3\n */\nzk.afterLoad('zul.inp', function() {\n    var exWidget = {};\n    zk.override(zul.inp.Comboitem.prototype, exWidget, {\n        doClick_: function doClick_(evt) {\n            if (!this._disabled) {\n                var cb = this.parent;\n\n                cb._select(this, {\n                  sendOnSelect: true,\n                  sendOnChange: true\n                });\n\n                this._updateHoverImage();\n                if (this.getLabel() != 'show more'){\n                    cb.close({\n                      sendOnOpen: true,\n                      focus: true\n                    }); // Fixed the onFocus event is triggered too late in IE.\n                }\n\n                cb._shallClose = true;\n                if (zul.inp.InputCtrl.isPreservedFocus(this)) zk(cb.getInputNode()).focus();\n                evt.stop();\n            }\n        },\n    });\n});\n</code></pre>\n"}],"owner":{"account_id":25908430,"reputation":13,"user_id":19633126,"display_name":"danyashes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74342845,"answer_count":1,"score":0,"last_activity_date":1673580416,"creation_date":1667570694,"question_id":74318292,"body_markdown":"I&#39;m struggling with ZK Framework Combobox UI rendering. I have a combobox with **2 logical lists** (1 is a short version of 2, with &quot;Show more&quot; option, and 2 is a list with all entries and no &quot;Show more&quot; option). I&#39;ve done some list swapping logic tracked by onClick event of &quot;Show more&quot; option. And when I click this option combobox **closes** and than I need to re-open it to see the full list. So my question is do anyone know a way how to keep combobox opened when I click this specific option (and furthermore, dynamically populate model by another list)? Maybe there are any other best practices of how to do the task more efficiently? Thanks everyone for help\r\n\r\nI have a thought about combobox that enables multiple choice — it doesn&#39;t close when some option is clicked, but I haven&#39;t found any related information. Maybe you could make your suggestions about it","title":"ZK Combobox disable closing","body":"<p>I'm struggling with ZK Framework Combobox UI rendering. I have a combobox with <strong>2 logical lists</strong> (1 is a short version of 2, with &quot;Show more&quot; option, and 2 is a list with all entries and no &quot;Show more&quot; option). I've done some list swapping logic tracked by onClick event of &quot;Show more&quot; option. And when I click this option combobox <strong>closes</strong> and than I need to re-open it to see the full list. So my question is do anyone know a way how to keep combobox opened when I click this specific option (and furthermore, dynamically populate model by another list)? Maybe there are any other best practices of how to do the task more efficiently? Thanks everyone for help</p>\n<p>I have a thought about combobox that enables multiple choice — it doesn't close when some option is clicked, but I haven't found any related information. Maybe you could make your suggestions about it</p>\n"},{"tags":["java","automation","appium"],"owner":{"account_id":11943898,"reputation":1,"user_id":8739724,"display_name":"Nagakiranmai Kumbha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673579426,"creation_date":1673579272,"question_id":75104477,"body_markdown":"I am new to Appium and i have to validate End user agreement content to make sure its typo free.\r\n\r\nbelow is the logic to get the list of element text from current view\r\n\r\nList&lt;WebElement&gt; listOfElements = driver.findElements(AppiumBy.className(&quot;android.widget.xxx&quot;));\r\n\t\t{\r\n\r\n\t\t\tfor (WebElement element : listOfElements) {\r\n\t\t\t\tString ActualContent = element.getText();\r\n\t\t\t\tSystem.out.println(ActualContent);\r\n\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\nafter getting the actual content for each element one by one, i want to validate the content whether is type free or not \r\n\r\nwhat is the best way to approach it.","title":"I have to validate the user agreement content for a mobile application using selenium java","body":"<p>I am new to Appium and i have to validate End user agreement content to make sure its typo free.</p>\n<p>below is the logic to get the list of element text from current view</p>\n<p>List listOfElements = driver.findElements(AppiumBy.className(&quot;android.widget.xxx&quot;));\n{</p>\n<pre><code>        for (WebElement element : listOfElements) {\n            String ActualContent = element.getText();\n            System.out.println(ActualContent);\n\n        }\n</code></pre>\n<p>after getting the actual content for each element one by one, i want to validate the content whether is type free or not</p>\n<p>what is the best way to approach it.</p>\n"},{"tags":["java","naming-conventions"],"owner":{"account_id":18318740,"reputation":75,"user_id":13339986,"display_name":"BlockyPenguin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673579876,"answer_count":1,"score":0,"last_activity_date":1673579376,"creation_date":1673458066,"question_id":75086873,"body_markdown":"After Hard Forking a Java GitHub repo, should I keep the original package names, or change them to be under my own domain? What would be best practice?","title":"Java Package Naming Conventions after Hard Fork","body":"<p>After Hard Forking a Java GitHub repo, should I keep the original package names, or change them to be under my own domain? What would be best practice?</p>\n"},{"tags":["java","jtextfield","jtextarea"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1673467738,"post_id":75088113,"comment_id":132508478,"body_markdown":"Please show enough code as a minimum reproducible example.","body":"Please show enough code as a minimum reproducible example."},{"owner":{"account_id":26141365,"reputation":19,"user_id":19830690,"display_name":"Allan Murimi"},"score":0,"creation_date":1673543057,"post_id":75088113,"comment_id":132528064,"body_markdown":"hey I have added more code","body":"hey I have added more code"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673543419,"post_id":75088113,"comment_id":132528207,"body_markdown":"hey next time format it as code instead of a quote","body":"hey next time format it as code instead of a quote"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1673561114,"post_id":75088113,"comment_id":132533461,"body_markdown":"Have you tested your code? It breaks far from where setText/getText could come into play. You need to initialize your components and properly add them to the UI.","body":"Have you tested your code? It breaks far from where setText/getText could come into play. You need to initialize your components and properly add them to the UI."},{"owner":{"account_id":26141365,"reputation":19,"user_id":19830690,"display_name":"Allan Murimi"},"score":0,"creation_date":1673629347,"post_id":75088113,"comment_id":132549646,"body_markdown":"Am new in java do you mind explain a little bit more I would really appreciate","body":"Am new in java do you mind explain a little bit more I would really appreciate"}],"owner":{"account_id":26141365,"reputation":19,"user_id":19830690,"display_name":"Allan Murimi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1673579284,"creation_date":1673465388,"question_id":75088113,"body_markdown":"[this the GUI](https://i.stack.imgur.com/hA5U5.png)\r\nI am trying to display the the inputs of my Jtextfield onto the text area but the contents are not displaying\r\nthis is my code\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*; \r\nimport java.awt.event.ActionEvent; \r\nimport java.awt.event.ActionListener;\r\n \r\npublic class FUEL1 extends JDialog {\r\n    private JPanel panel1;\r\n    private JTextArea tADIS;\r\n    private JTextField TFcom;\r\n    private JTextField TFid;\r\n    private JTextField TFfuel;\r\n    private JButton btnAPP;\r\n    private JButton bTNPRINT;\r\n    private JPanel panel2;\r\n\r\n    String cid;\r\n    int amount;\r\n    int tax;\r\n\r\n    public void print() {\r\n        String name = TFcom.getText();\r\n        String cid = TFid.getText();\r\n        String amount = TFfuel.getText();\r\n\r\n        tADIS.setText(tADIS.getText() + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;TAX EXEMPTION REPORT&quot; + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;Customer id:&quot; + cid + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;Company name:&quot; + name + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;AMount in liters:&quot; + amount + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;tax exempted:&quot; + tax + &quot;\\n&quot;);\r\n    }\r\n\r\n    public FUEL1(JFrame parent) {\r\n        super(parent);\r\n        setTitle(&quot;home page&quot;);\r\n        setContentPane(panel1);\r\n        setMinimumSize(new Dimension(450, 450));\r\n        setModal(true);\r\n        setLocationRelativeTo(parent);\r\n        setVisible(true);\r\n        btnAPP.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                cid = TFid.getText();\r\n                amount = Integer.parseInt(TFfuel.getText());\r\n\r\n                if (amount&lt;100000) {\r\n                    tax = 10000;\r\n                } else if (amount &gt; 100000 &amp;&amp; amount &lt; 500000) {\r\n                    tax = 110000;\r\n                } else {\r\n                    tax = 200000;\r\n                }\r\n                print();\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[]args) {\r\n        FUEL1 h = new FUEL1(null);\r\n    } \r\n}\r\n```\r\n\r\nI tried using settext and gettext expecting that the contents of the textfield will be displayed in the text area","title":"How to display jtextfield content on jtextarea","body":"<p><a href=\"https://i.stack.imgur.com/hA5U5.png\" rel=\"nofollow noreferrer\">this the GUI</a>\nI am trying to display the the inputs of my Jtextfield onto the text area but the contents are not displaying\nthis is my code</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*; \nimport java.awt.event.ActionEvent; \nimport java.awt.event.ActionListener;\n \npublic class FUEL1 extends JDialog {\n    private JPanel panel1;\n    private JTextArea tADIS;\n    private JTextField TFcom;\n    private JTextField TFid;\n    private JTextField TFfuel;\n    private JButton btnAPP;\n    private JButton bTNPRINT;\n    private JPanel panel2;\n\n    String cid;\n    int amount;\n    int tax;\n\n    public void print() {\n        String name = TFcom.getText();\n        String cid = TFid.getText();\n        String amount = TFfuel.getText();\n\n        tADIS.setText(tADIS.getText() + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;TAX EXEMPTION REPORT&quot; + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;Customer id:&quot; + cid + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;Company name:&quot; + name + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;AMount in liters:&quot; + amount + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;tax exempted:&quot; + tax + &quot;\\n&quot;);\n    }\n\n    public FUEL1(JFrame parent) {\n        super(parent);\n        setTitle(&quot;home page&quot;);\n        setContentPane(panel1);\n        setMinimumSize(new Dimension(450, 450));\n        setModal(true);\n        setLocationRelativeTo(parent);\n        setVisible(true);\n        btnAPP.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                cid = TFid.getText();\n                amount = Integer.parseInt(TFfuel.getText());\n\n                if (amount&lt;100000) {\n                    tax = 10000;\n                } else if (amount &gt; 100000 &amp;&amp; amount &lt; 500000) {\n                    tax = 110000;\n                } else {\n                    tax = 200000;\n                }\n                print();\n            }\n        });\n    }\n\n    public static void main(String[]args) {\n        FUEL1 h = new FUEL1(null);\n    } \n}\n</code></pre>\n<p>I tried using settext and gettext expecting that the contents of the textfield will be displayed in the text area</p>\n"},{"tags":["java","date","java-time","date-parsing","datetimeformatter"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1565179157,"post_id":57393902,"comment_id":101269525,"body_markdown":"What pattern did you try? When you tested it, what happened?","body":"What pattern did you try? When you tested it, what happened?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1565179244,"post_id":57393902,"comment_id":101269575,"body_markdown":"I _think_ it should be possible with `DateTimeFormatterBuilder.appendValue()` and explicitely setting the min length of the field to 1 and maxlength to 2","body":"I <i>think</i> it should be possible with <code>DateTimeFormatterBuilder.appendValue()</code> and explicitely setting the min length of the field to 1 and maxlength to 2"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1565180026,"creation_date":1565179550,"answer_id":57394132,"question_id":57393902,"body_markdown":"This is trivial when you know it. One pattern letter, for example `d` or `M`, will accept either one or two digits (or for year up to 9 digits).\r\n\r\n\t\tDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;d.M.u&quot;);\r\n\t\tSystem.out.println(LocalDate.parse(&quot;02.05.2019&quot;, dateFormatter));\r\n\t\tSystem.out.println(LocalDate.parse(&quot;3.5.2019&quot;, dateFormatter));\r\n\t\tSystem.out.println(LocalDate.parse(&quot;4.05.2019&quot;, dateFormatter));\r\n\t\tSystem.out.println(LocalDate.parse(&quot;06.5.2019&quot;, dateFormatter));\r\n\t\tSystem.out.println(LocalDate.parse(&quot;15.12.2019&quot;, dateFormatter));\r\n\r\nOutput:\r\n\r\n&gt;     2019-05-02\r\n&gt;     2019-05-03\r\n&gt;     2019-05-04\r\n&gt;     2019-05-06\r\n&gt;     2019-12-15\r\n\r\nI searched for this information in the documentation and didn’t find it readily. I don’t think it is well documented.","title":"How can I make a leading zero in DateTime-Pattern optional","body":"<p>This is trivial when you know it. One pattern letter, for example <code>d</code> or <code>M</code>, will accept either one or two digits (or for year up to 9 digits).</p>\n\n<pre><code>    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(\"d.M.u\");\n    System.out.println(LocalDate.parse(\"02.05.2019\", dateFormatter));\n    System.out.println(LocalDate.parse(\"3.5.2019\", dateFormatter));\n    System.out.println(LocalDate.parse(\"4.05.2019\", dateFormatter));\n    System.out.println(LocalDate.parse(\"06.5.2019\", dateFormatter));\n    System.out.println(LocalDate.parse(\"15.12.2019\", dateFormatter));\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n<pre><code>2019-05-02\n2019-05-03\n2019-05-04\n2019-05-06\n2019-12-15\n</code></pre>\n</blockquote>\n\n<p>I searched for this information in the documentation and didn’t find it readily. I don’t think it is well documented.</p>\n"},{"tags":[],"owner":{"account_id":13995571,"reputation":334,"user_id":10108444,"display_name":"Clint Munden"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565179678,"creation_date":1565179678,"answer_id":57394158,"question_id":57393902,"body_markdown":"You can create a DateTimeFormatter with a custom format like this\r\n\r\n    DateTimeFormatter.ofPattern(&quot;d.M.yyyy&quot;)\r\n\r\nThen you can parse dates if they provide 1 or 2 digits for the day and month.\r\n\r\n    String input = &quot;02.5.2019&quot;;\r\n    LocalDate date = LocalDate.parse(input, DateTimeFormatter.ofPattern(&quot;d.M.yyyy&quot;));\r\n\r\nI&#39;ve used LocalDate here from the new java.time package so I&#39;m assuming that your java version is recent.","title":"How can I make a leading zero in DateTime-Pattern optional","body":"<p>You can create a DateTimeFormatter with a custom format like this</p>\n\n<pre><code>DateTimeFormatter.ofPattern(\"d.M.yyyy\")\n</code></pre>\n\n<p>Then you can parse dates if they provide 1 or 2 digits for the day and month.</p>\n\n<pre><code>String input = \"02.5.2019\";\nLocalDate date = LocalDate.parse(input, DateTimeFormatter.ofPattern(\"d.M.yyyy\"));\n</code></pre>\n\n<p>I've used LocalDate here from the new java.time package so I'm assuming that your java version is recent.</p>\n"},{"tags":[],"owner":{"account_id":8258676,"reputation":973,"user_id":6210973,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565181133,"creation_date":1565179842,"answer_id":57394204,"question_id":57393902,"body_markdown":"Your suggested date format should work - just as this test:\r\n \r\n    @Test\r\n\tpublic void test() throws ParseException {\r\n\t\tSimpleDateFormat f = new SimpleDateFormat(&quot;d.M.yyyy&quot;);\r\n\t\tf.parse(&quot;7.8.2019&quot;);\r\n\t\tf.parse(&quot;07.08.2019&quot;);\r\n\t\tf.parse(&quot;007.008.002019&quot;);\r\n\t}\r\n\r\nThe DateTimeFormatter will not accept leading zeros for year in comparison, but leading zeros for day and month are not an issue:\r\n\r\n    @Test\r\n\tpublic void test2() throws ParseException {\r\n\t\tDateTimeFormatterBuilder builder = new DateTimeFormatterBuilder();\r\n\t\tDateTimeFormatter f = builder.appendPattern(&quot;d.M.yyyy&quot;).toFormatter();\r\n\t\tf.parse(&quot;7.8.2019&quot;);\r\n\t\tf.parse(&quot;07.08.2019&quot;);\r\n\t\tf.parse(&quot;007.008.2019&quot;);\r\n\t}","title":"How can I make a leading zero in DateTime-Pattern optional","body":"<p>Your suggested date format should work - just as this test:</p>\n\n<pre><code>@Test\npublic void test() throws ParseException {\n    SimpleDateFormat f = new SimpleDateFormat(\"d.M.yyyy\");\n    f.parse(\"7.8.2019\");\n    f.parse(\"07.08.2019\");\n    f.parse(\"007.008.002019\");\n}\n</code></pre>\n\n<p>The DateTimeFormatter will not accept leading zeros for year in comparison, but leading zeros for day and month are not an issue:</p>\n\n<pre><code>@Test\npublic void test2() throws ParseException {\n    DateTimeFormatterBuilder builder = new DateTimeFormatterBuilder();\n    DateTimeFormatter f = builder.appendPattern(\"d.M.yyyy\").toFormatter();\n    f.parse(\"7.8.2019\");\n    f.parse(\"07.08.2019\");\n    f.parse(\"007.008.2019\");\n}\n</code></pre>\n"}],"owner":{"account_id":14871720,"reputation":247,"user_id":10739055,"display_name":"John Du"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11195,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":57394132,"answer_count":3,"score":13,"last_activity_date":1673579161,"creation_date":1565178867,"question_id":57393902,"body_markdown":"I have a user input field and would like to parse his date, whatever he puts in.\r\n\r\nThe user might provide his date with a leading zero or without one, so I wanna be able to parse an input like this \r\n```\r\n02.05.2019\r\n```\r\nand also this\r\n```\r\n2.5.2019\r\n```\r\n\r\nBut as far as I can tell there is no way to make the leading zero optional, either always have 2 digits like 01, 03, 12 and so on, or only have the necessary digits like 1, 3, 12.\r\n\r\nSo apparently I have to decide whether to allow leading zeros or not, but is there seriously no way to make the leading zero optional ?\r\n\r\n\r\n---\r\nWell, I tested a pattern that included a leading zero dd.MM.uuuu and I tested a pattern that did not include a leading zero d.M.uuuu and when I parsed the wrong input with the wrong pattern exceptions were thrown.\r\n\r\nTherefore my question is if there is a way to make the leading zero optional.","title":"How can I make a leading zero in DateTime-Pattern optional","body":"<p>I have a user input field and would like to parse his date, whatever he puts in.</p>\n\n<p>The user might provide his date with a leading zero or without one, so I wanna be able to parse an input like this </p>\n\n<pre><code>02.05.2019\n</code></pre>\n\n<p>and also this</p>\n\n<pre><code>2.5.2019\n</code></pre>\n\n<p>But as far as I can tell there is no way to make the leading zero optional, either always have 2 digits like 01, 03, 12 and so on, or only have the necessary digits like 1, 3, 12.</p>\n\n<p>So apparently I have to decide whether to allow leading zeros or not, but is there seriously no way to make the leading zero optional ?</p>\n\n<hr>\n\n<p>Well, I tested a pattern that included a leading zero dd.MM.uuuu and I tested a pattern that did not include a leading zero d.M.uuuu and when I parsed the wrong input with the wrong pattern exceptions were thrown.</p>\n\n<p>Therefore my question is if there is a way to make the leading zero optional.</p>\n"},{"tags":["java","documentum"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673500544,"post_id":75091870,"comment_id":132514384,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4243441,"reputation":2491,"user_id":3472757,"accept_rate":47,"display_name":"Miki"},"score":0,"creation_date":1673518456,"post_id":75091870,"comment_id":132519129,"body_markdown":"use https://www.serfish.com/jar/ or similar sites for this kind of problems","body":"use <a href=\"https://www.serfish.com/jar/\" rel=\"nofollow noreferrer\">serfish.com/jar</a> or similar sites for this kind of problems"}],"owner":{"account_id":6062771,"reputation":1,"user_id":4734080,"display_name":"Sergey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673579135,"creation_date":1673500257,"question_id":75091870,"body_markdown":"I cannot load my page in browser. \r\nLog in application server show this: \r\n```\r\n12.01.23 09:56:03.149 ERROR [[ACTIVE] ExecuteThread: &#39;0&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] [com.documentum.web.common.Trace] - Errorhandler threw the following error\r\njava.lang.NoClassDefFoundError: com/documentum/web/security/exceptions/SecurityWrapperRuntimeException\r\n        at jsp_servlet._wdk.__errorhandler._jspService(__errorhandler.java:190)\r\n        at weblogic.servlet.jsp.JspBase.service(JspBase.java:34)\r\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\r\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\r\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\r\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:341)\r\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:238)\r\n        at weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:573)\r\n        at weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:272)\r\n        at weblogic.servlet.jsp.PageContextImpl.forward(PageContextImpl.java:158)\r\n        at weblogic.servlet.jsp.PageContextImpl.handlePageException(PageContextImpl.java:402)\r\n        at jsp_servlet._wdk.__redirect._jspService(__redirect.java:168)\r\n        at weblogic.servlet.jsp.JspBase.service(JspBase.java:34)\r\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\r\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\r\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\r\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:341)\r\n        at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\r\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n        at com.documentum.web.servlet.ResponseHeaderControlFilter.doFilter(Unknown Source)\r\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n        at com.documentum.web.servlet.CompressionFilter.doFilter(CompressionFilter.java:84)\r\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n        at com.documentum.web.env.WDKController.processRequest(Unknown Source)\r\n        at com.documentum.web.env.WDKController.doFilter(Unknown Source)\r\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3367)\r\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3333)\r\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\r\n        at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:57)\r\n        at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2220)\r\n        at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2146)\r\n        at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2124)\r\n        at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1564)\r\n        at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:254)\r\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:295)\r\n```\r\n\r\nI didn&#39;t find this class SecurityWrapperRuntimeException in the folder /WEB-INF/lib. What kind jar is it and where I can find it?\r\n\r\n\r\nStart application in browser. ","title":"Documentum 6.7: class not found exception","body":"<p>I cannot load my page in browser.\nLog in application server show this:</p>\n<pre><code>12.01.23 09:56:03.149 ERROR [[ACTIVE] ExecuteThread: '0' for queue: 'weblogic.kernel.Default (self-tuning)'] [com.documentum.web.common.Trace] - Errorhandler threw the following error\njava.lang.NoClassDefFoundError: com/documentum/web/security/exceptions/SecurityWrapperRuntimeException\n        at jsp_servlet._wdk.__errorhandler._jspService(__errorhandler.java:190)\n        at weblogic.servlet.jsp.JspBase.service(JspBase.java:34)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:341)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:238)\n        at weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:573)\n        at weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:272)\n        at weblogic.servlet.jsp.PageContextImpl.forward(PageContextImpl.java:158)\n        at weblogic.servlet.jsp.PageContextImpl.handlePageException(PageContextImpl.java:402)\n        at jsp_servlet._wdk.__redirect._jspService(__redirect.java:168)\n        at weblogic.servlet.jsp.JspBase.service(JspBase.java:34)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:341)\n        at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n        at com.documentum.web.servlet.ResponseHeaderControlFilter.doFilter(Unknown Source)\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n        at com.documentum.web.servlet.CompressionFilter.doFilter(CompressionFilter.java:84)\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n        at com.documentum.web.env.WDKController.processRequest(Unknown Source)\n        at com.documentum.web.env.WDKController.doFilter(Unknown Source)\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3367)\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3333)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n        at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:57)\n        at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2220)\n        at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2146)\n        at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2124)\n        at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1564)\n        at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:254)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:295)\n</code></pre>\n<p>I didn't find this class SecurityWrapperRuntimeException in the folder /WEB-INF/lib. What kind jar is it and where I can find it?</p>\n<p>Start application in browser.</p>\n"},{"tags":["java","java-stream","google-directory-api"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":3,"creation_date":1673502442,"post_id":75092015,"comment_id":132514729,"body_markdown":"Streams are not a good usecase for pagination","body":"Streams are not a good usecase for pagination"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1673504631,"post_id":75092015,"comment_id":132515146,"body_markdown":"Avoiding imperative loops is not a sensible goal.  The goal should be to maximize readability ... and some tasks are not more readable (or efficient) if you try to shoe-horn them into a solution using the Stream&#39;s API.  Just because you have bought a new hammer doesn&#39;t mean you should use it for *all* of your woodworking tasks.","body":"Avoiding imperative loops is not a sensible goal.  The goal should be to maximize readability ... and some tasks are not more readable (or efficient) if you try to shoe-horn them into a solution using the Stream&#39;s API.  Just because you have bought a new hammer doesn&#39;t mean you should use it for <i>all</i> of your woodworking tasks."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1673505264,"post_id":75092015,"comment_id":132515276,"body_markdown":"Maybe I&#39;m wrong about this ... but shouldn&#39;t your code be using `setNextPageToken()` to advance to the next page?   As per https://stackoverflow.com/a/31260400/139985 ?","body":"Maybe I&#39;m wrong about this ... but shouldn&#39;t your code be using <code>setNextPageToken()</code> to advance to the next page?   As per <a href=\"https://stackoverflow.com/a/31260400/139985\">stackoverflow.com/a/31260400/139985</a> ?"},{"owner":{"account_id":20886137,"reputation":63,"user_id":15342690,"display_name":"Anjula Paulus"},"score":0,"creation_date":1673506560,"post_id":75092015,"comment_id":132515555,"body_markdown":"@StephenC You are right on this. Thanks for pointing that out.","body":"@StephenC You are right on this. Thanks for pointing that out."}],"owner":{"account_id":20886137,"reputation":63,"user_id":15342690,"display_name":"Anjula Paulus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673579010,"creation_date":1673501787,"question_id":75092015,"body_markdown":"How to avoid imperative loops and use the Java&#39;s Streaming API for the below mentioned implementation for the google directory API?\r\n\r\n```\r\nList&lt;GroupMember&gt; groupMemberList = new ArrayList&lt;&gt;();\r\nDirectory.Members.List listRequest = getDirectoryApi().members().list(groupEmailAddress);\r\nMembers members;\r\ndo {\r\n    members = listRequest.execute();\r\n    members.getMembers().forEach(member -&gt; groupMemberList.add(new\r\n        GroupMember(member.getId(), member.getEmail())));\r\n} while (null != members.getNextPageToken());\r\nreturn groupMemberList;\r\n```","title":"How to use Streams instead of do while loop?","body":"<p>How to avoid imperative loops and use the Java's Streaming API for the below mentioned implementation for the google directory API?</p>\n<pre><code>List&lt;GroupMember&gt; groupMemberList = new ArrayList&lt;&gt;();\nDirectory.Members.List listRequest = getDirectoryApi().members().list(groupEmailAddress);\nMembers members;\ndo {\n    members = listRequest.execute();\n    members.getMembers().forEach(member -&gt; groupMemberList.add(new\n        GroupMember(member.getId(), member.getEmail())));\n} while (null != members.getNextPageToken());\nreturn groupMemberList;\n</code></pre>\n"},{"tags":["java","maven","gradle","dependencies"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673548608,"post_id":75096897,"comment_id":132529928,"body_markdown":"If libs do a relocation correctly... you would get a warning during the build which shows the issue... And no there is no way to integrate Gradle with Maven... Either you do full or simply you don&#39;t...","body":"If libs do a relocation correctly... you would get a warning during the build which shows the issue... And no there is no way to integrate Gradle with Maven... Either you do full or simply you don&#39;t..."}],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673578733,"creation_date":1673529398,"question_id":75096897,"body_markdown":"[Gradle][1] has a concept called [capabilities][2]. In a nutshell, libraries can declare the capabilities they provide (e.g. logging). Gradle will then detect when a project&#39;s dependencies contain conflicting dependencies and attempt to resolve them or fail the build. \r\nOne use case for this is to mediate between libraries whose coordinates changed (e.g. Java EE 8 vs. Jakarta EE 8). Gradle even offers a [plugin][3] for dealing with the the whole EE situation. \r\n\r\nNow I wonder how I can get similar functionality for my Maven builds:\r\n* does Maven offer something comparable out of the box? \r\n* is there a plugin or extension for Maven providing such functionality?\r\n* is there a way to integrate Gradle with Maven without having to migrate fully? \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/userguide.html\r\n  [2]: https://docs.gradle.org/current/userguide/component_capabilities.html#capabilities_as_first_level_concept\r\n  [3]: https://github.com/gradlex-org/java-ecosystem-capabilities","title":"Capabilities and detecting capability conflicts with Maven","body":"<p><a href=\"https://docs.gradle.org/current/userguide/userguide.html\" rel=\"nofollow noreferrer\">Gradle</a> has a concept called <a href=\"https://docs.gradle.org/current/userguide/component_capabilities.html#capabilities_as_first_level_concept\" rel=\"nofollow noreferrer\">capabilities</a>. In a nutshell, libraries can declare the capabilities they provide (e.g. logging). Gradle will then detect when a project's dependencies contain conflicting dependencies and attempt to resolve them or fail the build.\nOne use case for this is to mediate between libraries whose coordinates changed (e.g. Java EE 8 vs. Jakarta EE 8). Gradle even offers a <a href=\"https://github.com/gradlex-org/java-ecosystem-capabilities\" rel=\"nofollow noreferrer\">plugin</a> for dealing with the the whole EE situation.</p>\n<p>Now I wonder how I can get similar functionality for my Maven builds:</p>\n<ul>\n<li>does Maven offer something comparable out of the box?</li>\n<li>is there a plugin or extension for Maven providing such functionality?</li>\n<li>is there a way to integrate Gradle with Maven without having to migrate fully?</li>\n</ul>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673557868,"post_id":75102227,"comment_id":132532672,"body_markdown":"It&#39;s a bad idea to have types that don&#39;t match, but see https://stackoverflow.com/questions/38719133/whats-the-equivalent-of-convert-in-hibernate-hbm-file","body":"It&#39;s a bad idea to have types that don&#39;t match, but see <a href=\"https://stackoverflow.com/questions/38719133/whats-the-equivalent-of-convert-in-hibernate-hbm-file\" title=\"whats the equivalent of convert in hibernate hbm file\">stackoverflow.com/questions/38719133/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":951604,"reputation":3220,"user_id":977649,"display_name":"schtever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673578112,"creation_date":1673578112,"answer_id":75104385,"question_id":75102227,"body_markdown":"Untested, but from https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-column-read-and-write\r\n\r\n    &lt;property name=&quot;year&quot;&gt;\r\n        &lt;column \r\n          name=&quot;year&quot;\r\n          read=&quot;cast(year as varchar(8))&quot;\r\n          write=&quot;cast(? as smallint)&quot;\r\n        /&gt;\r\n    &lt;/property&gt;\r\n\r\nI picked 8 for the `varchar` size because it&#39;s a smallint.","title":"How to map a Java string to a PostgreSQL smallint column in hibernate XML?","body":"<p>Untested, but from <a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-column-read-and-write\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-column-read-and-write</a></p>\n<pre><code>&lt;property name=&quot;year&quot;&gt;\n    &lt;column \n      name=&quot;year&quot;\n      read=&quot;cast(year as varchar(8))&quot;\n      write=&quot;cast(? as smallint)&quot;\n    /&gt;\n&lt;/property&gt;\n</code></pre>\n<p>I picked 8 for the <code>varchar</code> size because it's a smallint.</p>\n"}],"owner":{"account_id":19251788,"reputation":3,"user_id":14069569,"display_name":"dunnofizzbuzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75104385,"answer_count":1,"score":0,"last_activity_date":1673578112,"creation_date":1673557091,"question_id":75102227,"body_markdown":"I currently have a Java object that I am using HBM XML file to map to. The Java datatype of the property &quot;year&quot; is String, while the postgres column it corresponds to is of type smallint. I would like to map it to each other in my HBM XML, but am facing issues.\r\n\r\n\r\n```\r\n&lt;property name=&quot;year&quot; type=&quot;string&quot;&gt;\r\n   &lt;column name=&quot;year&quot; sql-type=&quot;short&quot; /&gt;\r\n&lt;/property&gt;\r\n\r\n```\r\n\r\nThis is what I was expecting to work, but I am getting an error when persisting a record into this table that says:\r\n\r\n\r\n```\r\nSqlExceptionHelper ERROR: column &quot;year&quot; is of type smallint but expression is of type character varying\r\n```\r\n\r\nI have also tried putting &quot;smallint&quot; in sql-type, but with same error.","title":"How to map a Java string to a PostgreSQL smallint column in hibernate XML?","body":"<p>I currently have a Java object that I am using HBM XML file to map to. The Java datatype of the property &quot;year&quot; is String, while the postgres column it corresponds to is of type smallint. I would like to map it to each other in my HBM XML, but am facing issues.</p>\n<pre><code>&lt;property name=&quot;year&quot; type=&quot;string&quot;&gt;\n   &lt;column name=&quot;year&quot; sql-type=&quot;short&quot; /&gt;\n&lt;/property&gt;\n\n</code></pre>\n<p>This is what I was expecting to work, but I am getting an error when persisting a record into this table that says:</p>\n<pre><code>SqlExceptionHelper ERROR: column &quot;year&quot; is of type smallint but expression is of type character varying\n</code></pre>\n<p>I have also tried putting &quot;smallint&quot; in sql-type, but with same error.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","gson"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1673561644,"post_id":75102773,"comment_id":132533598,"body_markdown":"How are you supplying the name on the request when you invoke the function URL? Do you know for sure that the custom serialization variant of the Lambda function RequestHandler is actually supported for function URL invocation (vs. regular Lambda function invocation)?","body":"How are you supplying the name on the request when you invoke the function URL? Do you know for sure that the custom serialization variant of the Lambda function RequestHandler is actually supported for function URL invocation (vs. regular Lambda function invocation)?"},{"owner":{"account_id":11407057,"reputation":387,"user_id":8362224,"display_name":"LagSurfer"},"score":0,"creation_date":1673562913,"post_id":75102773,"comment_id":132533886,"body_markdown":"AFAIK it should work this way. I&#39;m sending the request from postman and have it set to JSON for request body.","body":"AFAIK it should work this way. I&#39;m sending the request from postman and have it set to JSON for request body."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1673573268,"post_id":75102773,"comment_id":132535498,"body_markdown":"Could the problem be as simple as the fact that your `Request` POJO doesn&#39;t have a usable, non-default constructor or setName method?","body":"Could the problem be as simple as the fact that your <code>Request</code> POJO doesn&#39;t have a usable, non-default constructor or setName method?"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1673828200,"post_id":75102773,"comment_id":132578698,"body_markdown":"What do you mean by &quot;empty object&quot;? Is the `logging.log` call executed and is the result `Request{name=&#39;&#39;}`? For debugging you could first read the request to a String and log that as well to see what you are actually receiving before passing it to Gson. Not sure if that is relevant here, but in case you are using ProGuard or R8 or similar you also have to configure them to not remove fields from your classes or rename the fields.","body":"What do you mean by &quot;empty object&quot;? Is the <code>logging.log</code> call executed and is the result <code>Request{name=&#39;&#39;}</code>? For debugging you could first read the request to a String and log that as well to see what you are actually receiving before passing it to Gson. Not sure if that is relevant here, but in case you are using ProGuard or R8 or similar you also have to configure them to not remove fields from your classes or rename the fields."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1673828277,"post_id":75102773,"comment_id":132578706,"body_markdown":"As side note: When constructing the `InputStreamReader` you should also explicitly specify `UTF_8` as charset. And instead of `writer.write(gson.toJson(...))` you can directly call `gson.toJson(..., writer)`.","body":"As side note: When constructing the <code>InputStreamReader</code> you should also explicitly specify <code>UTF_8</code> as charset. And instead of <code>writer.write(gson.toJson(...))</code> you can directly call <code>gson.toJson(..., writer)</code>."}],"owner":{"account_id":11407057,"reputation":387,"user_id":8362224,"display_name":"LagSurfer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673577589,"creation_date":1673561106,"question_id":75102773,"body_markdown":"I&#39;m trying to convert InputStream to JSON and parse it to POJO object. But there pojo is always an empty object. Do you see any issue with my method? I&#39;m using AWS lambda with function URL. Is there a better way to create a REST API in AWS lambda?\r\n\r\n\r\n    public class MyHandler implements RequestStreamHandler {\r\n\r\n    private final Gson gson = new Gson();\r\n\r\n    @Override\r\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\r\n\r\n        // reading json input\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n        Request request = gson.fromJson(reader, Request.class);\r\n\r\n        // getting logger\r\n        LambdaLogger logger = context.getLogger();\r\n\r\n        // logging input\r\n        logger.log(request.toString());\r\n\r\n        Response response = new Response(999);\r\n\r\n        // creating response\r\n        OutputStreamWriter writer = new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\r\n        writer.write(gson.toJson(response));\r\n        writer.close();\r\n       }\r\n    }\r\n\r\n\r\n    public class Request {\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Request() {\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Request{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n       }\r\n     }","title":"AWS lambda with JSON input","body":"<p>I'm trying to convert InputStream to JSON and parse it to POJO object. But there pojo is always an empty object. Do you see any issue with my method? I'm using AWS lambda with function URL. Is there a better way to create a REST API in AWS lambda?</p>\n<pre><code>public class MyHandler implements RequestStreamHandler {\n\nprivate final Gson gson = new Gson();\n\n@Override\npublic void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\n\n    // reading json input\n    BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n    Request request = gson.fromJson(reader, Request.class);\n\n    // getting logger\n    LambdaLogger logger = context.getLogger();\n\n    // logging input\n    logger.log(request.toString());\n\n    Response response = new Response(999);\n\n    // creating response\n    OutputStreamWriter writer = new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\n    writer.write(gson.toJson(response));\n    writer.close();\n   }\n}\n\n\npublic class Request {\nprivate String name;\n\npublic String getName() {\n    return name;\n}\n\npublic Request() {\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\n@Override\npublic String toString() {\n    return &quot;Request{&quot; +\n            &quot;name='&quot; + name + '\\'' +\n            '}';\n   }\n }\n</code></pre>\n"},{"tags":["java","api","automation","cucumber","rest-assured"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1673683261,"post_id":75100592,"comment_id":132556773,"body_markdown":"You can have a look at [this](https://ghchirp.online/4199/)","body":"You can have a look at <a href=\"https://ghchirp.online/4199/\" rel=\"nofollow noreferrer\">this</a>"}],"owner":{"account_id":27512601,"reputation":1,"user_id":20994216,"display_name":"samson rajkumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673577007,"creation_date":1673546877,"question_id":75100592,"body_markdown":"I have created a API automation framework and using cucumber extent report I could generate the HTML report with result status\r\n\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features=&quot;postrequest.feature&quot;,plugin=&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;,glue={&quot;st&quot;},monochrome = true)\r\n```\r\n\r\nI have created a log file to capture request and response payload data in stepdef\r\n\r\n```java\r\nPrintStream log = new PrintStream(new FileOutputStream(&quot;payloadlog.txt&quot;));\r\n```\r\n\r\nQuestion \r\n\r\nit&#39;s possible tp  capture request and response payload data in cucumber HTML extent report 7?\r\n\r\n\r\n","title":"API automation - Cucumber extent report 7 - capture request and response log in HTML report","body":"<p>I have created a API automation framework and using cucumber extent report I could generate the HTML report with result status</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(features=&quot;postrequest.feature&quot;,plugin=&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;,glue={&quot;st&quot;},monochrome = true)\n</code></pre>\n<p>I have created a log file to capture request and response payload data in stepdef</p>\n<pre class=\"lang-java prettyprint-override\"><code>PrintStream log = new PrintStream(new FileOutputStream(&quot;payloadlog.txt&quot;));\n</code></pre>\n<p>Question</p>\n<p>it's possible tp  capture request and response payload data in cucumber HTML extent report 7?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":27515609,"reputation":1,"user_id":20996626,"display_name":"최범진"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673576743,"creation_date":1673576743,"question_id":75104278,"body_markdown":"```java\r\npublic class SSLConfig {\r\n\r\n    @Value(&quot;${server.port.http}&quot;)\r\n    private int httpPort;\r\n\r\n    @Value(&quot;${server.port}&quot;)\r\n    private int httpsPort;\r\n\r\n    @Bean\r\n    public ServletWebServerFactory serverFactory(){\r\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n            @Override\r\n            protected void postProcessContext(Context context) {\r\n                SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                SecurityCollection collection = new SecurityCollection();\r\n                collection.addPattern(&quot;/*&quot;);\r\n                securityConstraint.addCollection(collection);\r\n                context.addConstraint(securityConstraint);\r\n            }\r\n        };\r\n\r\n        tomcat.addAdditionalTomcatConnectors(createSslConnector());\r\n        return tomcat;\r\n    }\r\n\r\n    private Connector createSslConnector(){\r\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n        connector.setPort(httpPort);\r\n        connector.setScheme(&quot;http&quot;);\r\n        connector.setSecure(false);\r\n        connector.setRedirectPort(httpsPort);\r\n        return connector;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe http to https redirect solution you are currently using. I&#39;d like to exclude certain url, for example, /member/\\* patterns that go in this way. Is there a way?\r\n\r\nA new context was added to exclude the URL, but it worked locally and did not work on the server.\r\nThe server will continue to be redirected to https.\r\n\r\n```java\r\n    SecurityConstraint ignoreConstraint = new SecurityConstraint();\r\n    SecurityCollection ignoreCollection = new SecurityCollection();\r\n    ignoreCollection.addPattern(&quot;/admin/*&quot;);\r\n    ignoreConstraint.addCollection(ignoreCollection);\r\n    context.addConstraint(ignoreConstraint);\r\n```","title":"Spring https redirect solution wants to exclude redirecting only certain URLs","body":"<pre class=\"lang-java prettyprint-override\"><code>public class SSLConfig {\n\n    @Value(&quot;${server.port.http}&quot;)\n    private int httpPort;\n\n    @Value(&quot;${server.port}&quot;)\n    private int httpsPort;\n\n    @Bean\n    public ServletWebServerFactory serverFactory(){\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n\n        tomcat.addAdditionalTomcatConnectors(createSslConnector());\n        return tomcat;\n    }\n\n    private Connector createSslConnector(){\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n        connector.setPort(httpPort);\n        connector.setScheme(&quot;http&quot;);\n        connector.setSecure(false);\n        connector.setRedirectPort(httpsPort);\n        return connector;\n    }\n\n}\n</code></pre>\n<p>The http to https redirect solution you are currently using. I'd like to exclude certain url, for example, /member/* patterns that go in this way. Is there a way?</p>\n<p>A new context was added to exclude the URL, but it worked locally and did not work on the server.\nThe server will continue to be redirected to https.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    SecurityConstraint ignoreConstraint = new SecurityConstraint();\n    SecurityCollection ignoreCollection = new SecurityCollection();\n    ignoreCollection.addPattern(&quot;/admin/*&quot;);\n    ignoreConstraint.addCollection(ignoreCollection);\n    context.addConstraint(ignoreConstraint);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673505249,"post_id":75092363,"comment_id":132515270,"body_markdown":"*NoSuchMethodError* if you use incompatible libraries","body":"<i>NoSuchMethodError</i> if you use incompatible libraries"}],"answers":[{"tags":[],"owner":{"account_id":24393192,"reputation":201,"user_id":18322863,"display_name":"Madray Haven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673576222,"creation_date":1673576222,"answer_id":75104239,"question_id":75092363,"body_markdown":"https://issuetracker.google.com/issues/140508065?pli=1\r\n\r\nSolution: add this line to `gradle.properties`\r\n\r\n```\r\nandroid.enableDexingArtifactTransform.desugaring=false\r\n```","title":"java.lang.NoSuchMethodError occurs when submodule access the static method in interface of dependences","body":"<p><a href=\"https://issuetracker.google.com/issues/140508065?pli=1\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/140508065?pli=1</a></p>\n<p>Solution: add this line to <code>gradle.properties</code></p>\n<pre><code>android.enableDexingArtifactTransform.desugaring=false\n</code></pre>\n"}],"owner":{"account_id":24393192,"reputation":201,"user_id":18322863,"display_name":"Madray Haven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75104239,"answer_count":1,"score":0,"last_activity_date":1673576222,"creation_date":1673504837,"question_id":75092363,"body_markdown":"I&#39;m doing something like this:\r\n\r\n+ Create a new Java Library, add an interface, which contains a static method, and package it as a jar.\r\n```java\r\npublic interface InterfaceTest {\r\n    static int test() {\r\n        return 0x16;\r\n    }\r\n}\r\n```\r\n+ Create a new Android Library and name it `sdk`, refer to the jar in step 1: `api files(&#39;libs/lib.jar&#39;)`.\r\n```\r\npublic class Main {\r\n    public static int create() {\r\n        return InterfaceTest.test();\r\n    }\r\n}\r\n```\r\n+ Create a new Android Application and directly reference the module in step 2: `implementation project(&#39;:sdk&#39;)`.\r\n```kotlin\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        Toast.makeText(this, Main.create().toString(), Toast.LENGTH_SHORT).show()\r\n    }\r\n}\r\n```\r\n+ Use `assembleDebug` to package step 3, get `app-debug.apk`, install and start, the application crashes, and the error log is as follows:\r\n```\r\nFATAL EXCEPTION: main\r\n\tProcess: io.github.sgpublic.jartest, PID: 18931\r\n\tjava.lang.NoSuchMethodError: No static method test()I in class Lio/github/sgpublic/lib/InterfaceTest; or its super classes (declaration of &#39;io.github.sgpublic.lib.InterfaceTest&#39; appears in /data/app/~~YvfX66D6YZcRxdFMHi5zSg==/io.github.sgpublic.jartest-FIbOhcbOzGnvL9VwL_K9UA==/base.apk)\r\n\tat io.github.sgpublic.sdk.Main.create(Main.java:12)\r\n\tat io.github.sgpublic.jartest.MainActivity.onCreate(MainActivity.kt:12)\r\n\tat android.app.Activity.performCreate(Activity.java:8143)\r\n\tat android.app.Activity.performCreate(Activity.java:8114)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3513)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3700)\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2136)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loop(Looper.java:236)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8060)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\r\n```\r\n\r\nI simplified the code to get this sample project: [sgpublic/JarTestApplication](https://github.com/sgpublic/JarTestApplication)，and I also post this question on [Google Issue tracker](https://issuetracker.google.com/issues/265195801)\r\n\r\nI&#39;m wondering if there is a temporary solution that will allow me to circumvent this problem temporarily, thank you!","title":"java.lang.NoSuchMethodError occurs when submodule access the static method in interface of dependences","body":"<p>I'm doing something like this:</p>\n<ul>\n<li>Create a new Java Library, add an interface, which contains a static method, and package it as a jar.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public interface InterfaceTest {\n    static int test() {\n        return 0x16;\n    }\n}\n</code></pre>\n<ul>\n<li>Create a new Android Library and name it <code>sdk</code>, refer to the jar in step 1: <code>api files('libs/lib.jar')</code>.</li>\n</ul>\n<pre><code>public class Main {\n    public static int create() {\n        return InterfaceTest.test();\n    }\n}\n</code></pre>\n<ul>\n<li>Create a new Android Application and directly reference the module in step 2: <code>implementation project(':sdk')</code>.</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        Toast.makeText(this, Main.create().toString(), Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n<ul>\n<li>Use <code>assembleDebug</code> to package step 3, get <code>app-debug.apk</code>, install and start, the application crashes, and the error log is as follows:</li>\n</ul>\n<pre><code>FATAL EXCEPTION: main\n    Process: io.github.sgpublic.jartest, PID: 18931\n    java.lang.NoSuchMethodError: No static method test()I in class Lio/github/sgpublic/lib/InterfaceTest; or its super classes (declaration of 'io.github.sgpublic.lib.InterfaceTest' appears in /data/app/~~YvfX66D6YZcRxdFMHi5zSg==/io.github.sgpublic.jartest-FIbOhcbOzGnvL9VwL_K9UA==/base.apk)\n    at io.github.sgpublic.sdk.Main.create(Main.java:12)\n    at io.github.sgpublic.jartest.MainActivity.onCreate(MainActivity.kt:12)\n    at android.app.Activity.performCreate(Activity.java:8143)\n    at android.app.Activity.performCreate(Activity.java:8114)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3513)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3700)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2136)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:236)\n    at android.app.ActivityThread.main(ActivityThread.java:8060)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\n</code></pre>\n<p>I simplified the code to get this sample project: <a href=\"https://github.com/sgpublic/JarTestApplication\" rel=\"nofollow noreferrer\">sgpublic/JarTestApplication</a>，and I also post this question on <a href=\"https://issuetracker.google.com/issues/265195801\" rel=\"nofollow noreferrer\">Google Issue tracker</a></p>\n<p>I'm wondering if there is a temporary solution that will allow me to circumvent this problem temporarily, thank you!</p>\n"},{"tags":["java","spring","spring-boot","enums"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1672746181,"post_id":74992881,"comment_id":132339758,"body_markdown":"&quot;*I am looking for any alternate within the code (like loading from yaml file)*&quot; My suggestion is load from yaml file. Sorry but this question too broad. Stack Overflow is for *specific* programming questions (&quot;why does this code throw this exception?&quot; etc.). This basically boils down to &quot;recommend me an architecture&quot;. There are many, equally viable solutions, and different people will have different opinions about what&#39;s best.","body":"&quot;<i>I am looking for any alternate within the code (like loading from yaml file)</i>&quot; My suggestion is load from yaml file. Sorry but this question too broad. Stack Overflow is for <i>specific</i> programming questions (&quot;why does this code throw this exception?&quot; etc.). This basically boils down to &quot;recommend me an architecture&quot;. There are many, equally viable solutions, and different people will have different opinions about what&#39;s best."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672746382,"post_id":74992881,"comment_id":132339821,"body_markdown":"Sure, you can add that mapping through code or configuration files. I&#39;d suggest providing a mapping of enum + system to system-specific status and maybe vice versa. Since this may be some complex code maybe try to move that to a separate class for separation of concerns: enum to represent the status and the other class to do the mapping/config loading.","body":"Sure, you can add that mapping through code or configuration files. I&#39;d suggest providing a mapping of enum + system to system-specific status and maybe vice versa. Since this may be some complex code maybe try to move that to a separate class for separation of concerns: enum to represent the status and the other class to do the mapping/config loading."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1672746388,"post_id":74992881,"comment_id":132339825,"body_markdown":"Exactly which aspect of the complexity of the enum do you hope to simplify?","body":"Exactly which aspect of the complexity of the enum do you hope to simplify?"},{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":1,"creation_date":1672749148,"post_id":74992881,"comment_id":132340721,"body_markdown":"[1/2]\nThe concern about the `enum` getting more and more complex is only valid if that complexity is accidental, not inherent.\nOtherwise, switching to a different approach would just move that complexity elsewhere (which kind of seems to be the case in your example).\n\nI think it makes sense keep the `enum` (even if it grows complex) iif the following conditions are met:\n- There is no reasonable scenario in which you would want/need to account for new statuses or new mappings (or drop existing ones) without changing the code.","body":"[1/2] The concern about the <code>enum</code> getting more and more complex is only valid if that complexity is accidental, not inherent. Otherwise, switching to a different approach would just move that complexity elsewhere (which kind of seems to be the case in your example).  I think it makes sense keep the <code>enum</code> (even if it grows complex) iif the following conditions are met: - There is no reasonable scenario in which you would want/need to account for new statuses or new mappings (or drop existing ones) without changing the code."},{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":1,"creation_date":1672749169,"post_id":74992881,"comment_id":132340725,"body_markdown":"[2/2]\n- You rely on at least some `enum` features available out of the box, so you would have to reimplement those by hand. E.g. `values()` listed in a determinate order, `valueOf()` used with canonical String labels, `ordinal()` to infer position, `compareTo()`, `name()`, serialization, etc..\n- You use the enum constants polymorphically (and maybe you need to alter the behavior for some of them without a full-fledged class hierarchy) or you want to leverage the compiler check for exhaustive case branches in switch expressions (with newer java versions).","body":"[2/2] - You rely on at least some <code>enum</code> features available out of the box, so you would have to reimplement those by hand. E.g. <code>values()</code> listed in a determinate order, <code>valueOf()</code> used with canonical String labels, <code>ordinal()</code> to infer position, <code>compareTo()</code>, <code>name()</code>, serialization, etc.. - You use the enum constants polymorphically (and maybe you need to alter the behavior for some of them without a full-fledged class hierarchy) or you want to leverage the compiler check for exhaustive case branches in switch expressions (with newer java versions)."},{"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"score":0,"creation_date":1672755298,"post_id":74992881,"comment_id":132342703,"body_markdown":"@Michael How is this question broader? I am asking for an alternate solution for the given use case. I have came across many such question within the community. This is very specific question which is to get the alternate/replace a complex enum in java.","body":"@Michael How is this question broader? I am asking for an alternate solution for the given use case. I have came across many such question within the community. This is very specific question which is to get the alternate/replace a complex enum in java."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1672756531,"post_id":74992881,"comment_id":132343168,"body_markdown":"@DarkCrow &quot;*I have came across many such question*&quot; Yep, you&#39;re right; there are many off-topic questions asked here. &quot;*This is very specific question*&quot; Nope. It isn&#39;t. This is a system design question, and there&#39;s an infinite number of possible solutions /answers. How to implement this is purely a matter of personal opinion. Opinion-based questions are specifically off-topic.","body":"@DarkCrow &quot;<i>I have came across many such question</i>&quot; Yep, you&#39;re right; there are many off-topic questions asked here. &quot;<i>This is very specific question</i>&quot; Nope. It isn&#39;t. This is a system design question, and there&#39;s an infinite number of possible solutions /answers. How to implement this is purely a matter of personal opinion. Opinion-based questions are specifically off-topic."}],"answers":[{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673575385,"creation_date":1673575385,"answer_id":75104164,"question_id":74992881,"body_markdown":"The concern about the enum getting more and more complex is only valid if that complexity is accidental, not inherent. Otherwise, switching to a different approach would just move that complexity elsewhere (which kind of seems to be the case in your example). I think it makes sense to keep the enum (even if it grows complex) iif the following conditions are met:\r\n\r\n- There is no reasonable scenario in which you would want/need to account for new statuses or new mappings (or drop existing ones) without changing the code.\r\n- You rely on at least some enum features available out of the box, so you would have to reimplement those by hand. E.g. values() listed in a determinate order, valueOf() used with canonical String labels, ordinal() to infer position, compareTo(), name(), serialization, etc.\r\n- You use the enum constants polymorphically (and maybe you need to alter the behavior for some of them without a full-fledged class hierarchy) or you want to leverage the compiler check for exhaustive case branches in switch expressions (with newer java versions).\r\n","title":"Is there any alternate way to replace complex enum?","body":"<p>The concern about the enum getting more and more complex is only valid if that complexity is accidental, not inherent. Otherwise, switching to a different approach would just move that complexity elsewhere (which kind of seems to be the case in your example). I think it makes sense to keep the enum (even if it grows complex) iif the following conditions are met:</p>\n<ul>\n<li>There is no reasonable scenario in which you would want/need to account for new statuses or new mappings (or drop existing ones) without changing the code.</li>\n<li>You rely on at least some enum features available out of the box, so you would have to reimplement those by hand. E.g. values() listed in a determinate order, valueOf() used with canonical String labels, ordinal() to infer position, compareTo(), name(), serialization, etc.</li>\n<li>You use the enum constants polymorphically (and maybe you need to alter the behavior for some of them without a full-fledged class hierarchy) or you want to leverage the compiler check for exhaustive case branches in switch expressions (with newer java versions).</li>\n</ul>\n"}],"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673575385,"creation_date":1672746088,"question_id":74992881,"body_markdown":"I have a complex enum class in my spring boot application which holds different status values for different systems.\r\n\r\n```\r\npackage com.foo;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\npublic enum Status {\r\n    FOO_STATUS(&quot;Status1&quot; ,&quot;status_1&quot;, &quot;STATUS_1&quot;, &quot;stat1&quot;),\r\n    BAR_STATUS(&quot;Status2&quot; ,&quot;status_2&quot;, &quot;STATUS_2&quot;, &quot;stat2&quot; ),\r\n    FOO1_STATUS(&quot;Status3&quot; ,&quot;status_3&quot;, &quot;STATUS_3&quot;, &quot;stat3&quot; ),\r\n    BAR1_STATUS(&quot;Status4&quot; ,&quot;status_4&quot;, &quot;STATUS_4&quot;, &quot;stat4&quot; ),\r\n    ....\r\n\t....\r\n\t....\r\n\r\n    private final String system1Status;\r\n    private final String system2Status;\r\n    private final String system3Status;\r\n    private final String system4Status;\r\n    private static Map&lt;String, String&gt; statusMap;\r\n\r\n    Status(String system1Status, String system2Status, String system3Status, String system4Status) {\r\n        this.system1Status = system1Status;\r\n        this.system2Status = system2Status;\r\n        this.system3Status = system3Status;\r\n        this.system4Status = system4Status;\r\n    }\r\n\r\n\r\n    public String getSystem1Status() {\r\n        return system1Status;\r\n    }\r\n\r\n    public String getSystem2Status() {\r\n        return system2Status;\r\n    }\r\n\r\n    public String getSystem3Status() { \r\n\t    return system3Status;\r\n    }\r\n\r\n    public String getSystem4Status() {\r\n        return system4Status;\r\n    }\r\n\r\n    private static void initializeMapping() {\r\n        statusMap = new HashMap&lt;&gt;();\r\n        for (Status map : Status.values()) {\r\n            statusMap.put(map.getSystem1Status(), map.getSystem2Status());\r\n        }\r\n    }\r\n\r\n    public static String getSystem2StatusForSytem1Status(String status) {\r\n        if (statusMap == null) {\r\n            initializeMapping();\r\n        }\r\n        if (statusMap.containsKey(status)) {\r\n            return statusMap.get(status);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static String getSystem3StatusForSytem1Status(String status) {\r\n        ....\r\n    }\r\n\r\n    public static String getSystem4StatusForSytem2Status(String status) {\r\n        ....\r\n    }\r\n\r\n    public static String getSystem3StatusForSytem2Status(String status) {\r\n        ....\r\n    }\r\n\t\r\n\t....\r\n\t\r\n\t....\r\n\r\n}\r\n```\r\n\r\nThe enum holds status string mapping for various systems. It also has methods to get different system status by supplying the current system status.\r\n\r\nEx: We can get System1 status by sending the System 2 status value.\r\n\r\nAs the enum is getting more complex , is there any alternate way to hold this static data?\r\n\r\nPS: I know this can be moved to a reference table in DB, But I am looking for any alternate within the code (like loading from yaml file).\r\n\r\n","title":"Is there any alternate way to replace complex enum?","body":"<p>I have a complex enum class in my spring boot application which holds different status values for different systems.</p>\n<pre><code>package com.foo;\n\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\npublic enum Status {\n    FOO_STATUS(&quot;Status1&quot; ,&quot;status_1&quot;, &quot;STATUS_1&quot;, &quot;stat1&quot;),\n    BAR_STATUS(&quot;Status2&quot; ,&quot;status_2&quot;, &quot;STATUS_2&quot;, &quot;stat2&quot; ),\n    FOO1_STATUS(&quot;Status3&quot; ,&quot;status_3&quot;, &quot;STATUS_3&quot;, &quot;stat3&quot; ),\n    BAR1_STATUS(&quot;Status4&quot; ,&quot;status_4&quot;, &quot;STATUS_4&quot;, &quot;stat4&quot; ),\n    ....\n    ....\n    ....\n\n    private final String system1Status;\n    private final String system2Status;\n    private final String system3Status;\n    private final String system4Status;\n    private static Map&lt;String, String&gt; statusMap;\n\n    Status(String system1Status, String system2Status, String system3Status, String system4Status) {\n        this.system1Status = system1Status;\n        this.system2Status = system2Status;\n        this.system3Status = system3Status;\n        this.system4Status = system4Status;\n    }\n\n\n    public String getSystem1Status() {\n        return system1Status;\n    }\n\n    public String getSystem2Status() {\n        return system2Status;\n    }\n\n    public String getSystem3Status() { \n        return system3Status;\n    }\n\n    public String getSystem4Status() {\n        return system4Status;\n    }\n\n    private static void initializeMapping() {\n        statusMap = new HashMap&lt;&gt;();\n        for (Status map : Status.values()) {\n            statusMap.put(map.getSystem1Status(), map.getSystem2Status());\n        }\n    }\n\n    public static String getSystem2StatusForSytem1Status(String status) {\n        if (statusMap == null) {\n            initializeMapping();\n        }\n        if (statusMap.containsKey(status)) {\n            return statusMap.get(status);\n        }\n        return null;\n    }\n\n    public static String getSystem3StatusForSytem1Status(String status) {\n        ....\n    }\n\n    public static String getSystem4StatusForSytem2Status(String status) {\n        ....\n    }\n\n    public static String getSystem3StatusForSytem2Status(String status) {\n        ....\n    }\n    \n    ....\n    \n    ....\n\n}\n</code></pre>\n<p>The enum holds status string mapping for various systems. It also has methods to get different system status by supplying the current system status.</p>\n<p>Ex: We can get System1 status by sending the System 2 status value.</p>\n<p>As the enum is getting more complex , is there any alternate way to hold this static data?</p>\n<p>PS: I know this can be moved to a reference table in DB, But I am looking for any alternate within the code (like loading from yaml file).</p>\n"},{"tags":["java","freemarker"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":1,"creation_date":1323250364,"post_id":8400123,"comment_id":10391330,"body_markdown":"What `cache_storage` and what `TemplateLoader` are you using? What does `${.version}` print? As of the question in bold, I distinctly remember a user had such issue, but I can&#39;t find the thread, and anyway AFAIR he was just gone and I couldn&#39;t reproduce this myself.","body":"What <code>cache_storage</code> and what <code>TemplateLoader</code> are you using? What does <code>${.version}</code> print? As of the question in bold, I distinctly remember a user had such issue, but I can&#39;t find the thread, and anyway AFAIR he was just gone and I couldn&#39;t reproduce this myself."},{"owner":{"account_id":26276,"reputation":1364,"user_id":68217,"accept_rate":71,"display_name":"Aaron Chambers"},"score":0,"creation_date":1326375444,"post_id":8400123,"comment_id":11032571,"body_markdown":"Not sure about the `cache_storage` mate, but using the standard Freemarker `TemplateLoader`.  Haven&#39;t experienced this issue again since I posted this question but it would be nice to find out what the issue was.","body":"Not sure about the <code>cache_storage</code> mate, but using the standard Freemarker <code>TemplateLoader</code>.  Haven&#39;t experienced this issue again since I posted this question but it would be nice to find out what the issue was."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":1,"creation_date":1326474341,"post_id":8400123,"comment_id":11060686,"body_markdown":"There&#39;s no standard `TemplateLoader`. Anyway, if the VM starts to run out of heap space, depending on the cache used, it starts to discard templates from the cache, so they need to be reloaded from the file system when they are next needed. Would that fail, because of some resource shortage (like, even, running out of file handles), I can imagine it ends up like this. Nothing suspicious in the logs around the time of the failure?","body":"There&#39;s no standard <code>TemplateLoader</code>. Anyway, if the VM starts to run out of heap space, depending on the cache used, it starts to discard templates from the cache, so they need to be reloaded from the file system when they are next needed. Would that fail, because of some resource shortage (like, even, running out of file handles), I can imagine it ends up like this. Nothing suspicious in the logs around the time of the failure?"},{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1380191610,"post_id":8400123,"comment_id":28112493,"body_markdown":"I noticed the class freemarker.cache.TemplateCache synchronizes accesses on some storages and does not on other ones but clear() method is always synchronized. That might be a bug since clear might be designed to be atomical but it might actually run concurrently with other non-synchronized accesses.","body":"I noticed the class freemarker.cache.TemplateCache synchronizes accesses on some storages and does not on other ones but clear() method is always synchronized. That might be a bug since clear might be designed to be atomical but it might actually run concurrently with other non-synchronized accesses."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1391282392,"post_id":8400123,"comment_id":32460498,"body_markdown":"If this is due to a bug in Freemarker, knowing thd precise version of Freemarker will be important.","body":"If this is due to a bug in Freemarker, knowing thd precise version of Freemarker will be important."}],"owner":{"account_id":26276,"reputation":1364,"user_id":68217,"accept_rate":71,"display_name":"Aaron Chambers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1673575049,"creation_date":1323175716,"question_id":8400123,"body_markdown":"We&#39;ve just rolled out some changes to our application and we experienced some Freemarker exceptions intermittently this morning.\r\n\r\nOur Freemarker template called `monitoring.ftl` includes `header.ftl` which in turn includes `header_setup.ftl`\r\n\r\nIn both dev and testing, we have not experienced this exception and since about 9:30 this morning, the exception has not occured in Prod (ie, the template exists and does work for the most part), but before that there was a number of times when the exception below was logged.  And this seemed to be during our peak load time.\r\n\r\nSo my question is, **has anyone experienced Freemarker intermittently not being able to find a template when under load?**\r\n\r\n\r\n    06-Dec-2011 08:10:11 freemarker.log.JDK14LoggerFactory$JDK14Logger error\r\n    SEVERE: Template processing error: &quot;Error reading included file WEB-INF/templates/includes/header_setup.ftl&quot;\r\n    \r\n    Error reading included file WEB-INF/templates/includes/header_setup.ftl\r\n    The problematic instruction:\r\n    ----------\r\n    ==&gt; include &quot;/WEB-INF/templates/includes/header_setup.ftl&quot; [on line 5, column 17 in WEB-INF/templates/includes/header.ftl]\r\n     in include &quot;/WEB-INF/templates/includes/header.ftl&quot; [on line 13, column 5 in WEB-INF/templates/monitoring/monitoring.ftl]\r\n    ----------\r\n    \r\n    Java backtrace for programmers:\r\n    ----------\r\n    freemarker.template.TemplateException: Error reading included file WEB-INF/templates/includes/header_setup.ftl\r\n            at freemarker.core.Include.accept(Include.java:167)\r\n            at freemarker.core.Environment.visit(Environment.java:221)\r\n            at freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n            at freemarker.core.Environment.visit(Environment.java:221)\r\n            at freemarker.core.Environment.include(Environment.java:1508)\r\n            at freemarker.core.Include.accept(Include.java:169)\r\n            at freemarker.core.Environment.visit(Environment.java:221)\r\n            at freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n            at freemarker.core.Environment.visit(Environment.java:221)\r\n            at freemarker.core.Environment.process(Environment.java:199)\r\n            at freemarker.template.Template.process(Template.java:237)\r\n            at com.gorkana.gdm.jersey.viewprocessors.FreemarkerViewProcessor.writeTo(FreemarkerViewProcessor.java:96)\r\n            at com.gorkana.gdm.jersey.viewprocessors.FreemarkerViewProcessor.writeTo(FreemarkerViewProcessor.java:28)\r\n            at com.sun.jersey.spi.template.ResolvedViewable.writeTo(ResolvedViewable.java:103)\r\n            at com.sun.jersey.server.impl.template.ViewableMessageBodyWriter.writeTo(ViewableMessageBodyWriter.java:83)\r\n            at com.sun.jersey.server.impl.template.ViewableMessageBodyWriter.writeTo(ViewableMessageBodyWriter.java:62)\r\n            at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)\r\n            at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1437)\r\n            at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\r\n            at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\r\n            at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n            at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\r\n            at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n            at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:263)\r\n            at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:178)\r\n            at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:91)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:62)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.gorkana.gdm.guice.filters.MonitoringSecurityFilter.doFilter(MonitoringSecurityFilter.java:25)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n    at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.gorkana.gdm.guice.filters.PermissionsAndPreferencesFilter.doFilter(PermissionsAndPreferencesFilter.java:27)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.gorkana.gdm.guice.filters.LoggedInUserRequiredFilter.doFilter(LoggedInUserRequiredFilter.java:30)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:118)\r\n            at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:113)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n            at com.blacksunplc.durrants.dmm.servlets.ExceptionAlerterFilter.doFilter(ExceptionAlerterFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:185)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n            at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\r\n            at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:269)\r\n            at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\r\n            at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n            at java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.io.FileNotFoundException: Template WEB-INF/templates/includes/header_setup.ftl not found.\r\n            at freemarker.template.Configuration.getTemplate(Configuration.java:495)\r\n    \r\n    at freemarker.core.Environment.getTemplateForInclusion(Environment.java:1490)\r\n            at freemarker.core.Include.accept(Include.java:157)\r\n            ... 83 more\r\n\r\n","title":"Intermittent Freemarker Template Exception, seemingly when under load","body":"<p>We've just rolled out some changes to our application and we experienced some Freemarker exceptions intermittently this morning.</p>\n\n<p>Our Freemarker template called <code>monitoring.ftl</code> includes <code>header.ftl</code> which in turn includes <code>header_setup.ftl</code></p>\n\n<p>In both dev and testing, we have not experienced this exception and since about 9:30 this morning, the exception has not occured in Prod (ie, the template exists and does work for the most part), but before that there was a number of times when the exception below was logged.  And this seemed to be during our peak load time.</p>\n\n<p>So my question is, <strong>has anyone experienced Freemarker intermittently not being able to find a template when under load?</strong></p>\n\n<pre><code>06-Dec-2011 08:10:11 freemarker.log.JDK14LoggerFactory$JDK14Logger error\nSEVERE: Template processing error: \"Error reading included file WEB-INF/templates/includes/header_setup.ftl\"\n\nError reading included file WEB-INF/templates/includes/header_setup.ftl\nThe problematic instruction:\n----------\n==&gt; include \"/WEB-INF/templates/includes/header_setup.ftl\" [on line 5, column 17 in WEB-INF/templates/includes/header.ftl]\n in include \"/WEB-INF/templates/includes/header.ftl\" [on line 13, column 5 in WEB-INF/templates/monitoring/monitoring.ftl]\n----------\n\nJava backtrace for programmers:\n----------\nfreemarker.template.TemplateException: Error reading included file WEB-INF/templates/includes/header_setup.ftl\n        at freemarker.core.Include.accept(Include.java:167)\n        at freemarker.core.Environment.visit(Environment.java:221)\n        at freemarker.core.MixedContent.accept(MixedContent.java:92)\n        at freemarker.core.Environment.visit(Environment.java:221)\n        at freemarker.core.Environment.include(Environment.java:1508)\n        at freemarker.core.Include.accept(Include.java:169)\n        at freemarker.core.Environment.visit(Environment.java:221)\n        at freemarker.core.MixedContent.accept(MixedContent.java:92)\n        at freemarker.core.Environment.visit(Environment.java:221)\n        at freemarker.core.Environment.process(Environment.java:199)\n        at freemarker.template.Template.process(Template.java:237)\n        at com.gorkana.gdm.jersey.viewprocessors.FreemarkerViewProcessor.writeTo(FreemarkerViewProcessor.java:96)\n        at com.gorkana.gdm.jersey.viewprocessors.FreemarkerViewProcessor.writeTo(FreemarkerViewProcessor.java:28)\n        at com.sun.jersey.spi.template.ResolvedViewable.writeTo(ResolvedViewable.java:103)\n        at com.sun.jersey.server.impl.template.ViewableMessageBodyWriter.writeTo(ViewableMessageBodyWriter.java:83)\n        at com.sun.jersey.server.impl.template.ViewableMessageBodyWriter.writeTo(ViewableMessageBodyWriter.java:62)\n        at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)\n        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1437)\n        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\n        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\n        at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n        at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:263)\n        at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:178)\n        at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:91)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:62)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.gorkana.gdm.guice.filters.MonitoringSecurityFilter.doFilter(MonitoringSecurityFilter.java:25)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\nat com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.gorkana.gdm.guice.filters.PermissionsAndPreferencesFilter.doFilter(PermissionsAndPreferencesFilter.java:27)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.gorkana.gdm.guice.filters.LoggedInUserRequiredFilter.doFilter(LoggedInUserRequiredFilter.java:30)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:118)\n        at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:113)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n        at com.blacksunplc.durrants.dmm.servlets.ExceptionAlerterFilter.doFilter(ExceptionAlerterFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:185)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:269)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:662)\nCaused by: java.io.FileNotFoundException: Template WEB-INF/templates/includes/header_setup.ftl not found.\n        at freemarker.template.Configuration.getTemplate(Configuration.java:495)\n\nat freemarker.core.Environment.getTemplateForInclusion(Environment.java:1490)\n        at freemarker.core.Include.accept(Include.java:157)\n        ... 83 more\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1422458535,"post_id":28195677,"comment_id":44758402,"body_markdown":"`ExtendedModelMap` is extending `ModelMap` and implementing `ModelMap`. When using the `Model` you can chain method calls as most methods return `Model` with a `Map` or `ModelMap` this isn&#39;t the case.","body":"<code>ExtendedModelMap</code> is extending <code>ModelMap</code> and implementing <code>ModelMap</code>. When using the <code>Model</code> you can chain method calls as most methods return <code>Model</code> with a <code>Map</code> or <code>ModelMap</code> this isn&#39;t the case."},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1422459342,"post_id":28195677,"comment_id":44759012,"body_markdown":"thanks for `ExtendedModelMap`. AFAIK you can chain calls with `ModelMap` as well (in difference to `Map` that I have already noticed).","body":"thanks for <code>ExtendedModelMap</code>. AFAIK you can chain calls with <code>ModelMap</code> as well (in difference to <code>Map</code> that I have already noticed)."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1422466962,"post_id":28195677,"comment_id":44764087,"body_markdown":"Ah yes you are right. `ModelMap` also predates the `Model` interface. For that interface there are basically 2 implementations, the `ExtendedModelMap` and the `RedirectAttributesModelMap` (there is also the `BindingAwareModelMap` which is an extension the the `ExtendedModelMap`). For the usage in the request mapping methods it doesn&#39;t really matter which one to use, although I would probably suggest to use the `Model` interface instead one of the implementations. But that is highly opinionated :).","body":"Ah yes you are right. <code>ModelMap</code> also predates the <code>Model</code> interface. For that interface there are basically 2 implementations, the <code>ExtendedModelMap</code> and the <code>RedirectAttributesModelMap</code> (there is also the <code>BindingAwareModelMap</code> which is an extension the the <code>ExtendedModelMap</code>). For the usage in the request mapping methods it doesn&#39;t really matter which one to use, although I would probably suggest to use the <code>Model</code> interface instead one of the implementations. But that is highly opinionated :)."},{"owner":{"account_id":332757,"reputation":632,"user_id":658226,"display_name":"Laky"},"score":0,"creation_date":1518076844,"post_id":28195677,"comment_id":84357748,"body_markdown":"answer for a similar question can be found at https://stackoverflow.com/questions/18486660/what-are-the-differences-between-model-modelmap-and-modelandview","body":"answer for a similar question can be found at <a href=\"https://stackoverflow.com/questions/18486660/what-are-the-differences-between-model-modelmap-and-modelandview\" title=\"what are the differences between model modelmap and modelandview\">stackoverflow.com/questions/18486660/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":332757,"reputation":632,"user_id":658226,"display_name":"Laky"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1518077278,"creation_date":1518077278,"answer_id":48680506,"question_id":28195677,"body_markdown":"`Model` - Java-5-specific interface that defines a holder for model attributes. Primarily designed for adding attributes to the model. Allows for accessing the overall model as a java.util.Map.\r\n\r\nSimply put, the model can supply attributes used for rendering views.\r\n\r\n\r\n----------\r\n\r\n\r\n`ModelMap` -  ModelMap class is basically a LinkedHashMap. It add some methods for convenience. Just like the **Model** interface above, **ModelMap** is also used to pass values to render a view.\r\n\r\nThe advantage of ModelMap is it gives us the ability to pass a collection of values and treat these values as if they were within a Map:\r\n\r\n    @GetMapping(&quot;/printViewPage&quot;)\r\n    public String passParametersWithModelMap(ModelMap map) {\r\n        map.addAttribute(&quot;welcomeMessage&quot;, &quot;welcome&quot;);\r\n        map.addAttribute(&quot;message&quot;, &quot;Baeldung&quot;);\r\n        return &quot;viewPage&quot;;\r\n    }\r\n\r\nreference;\r\n\r\n - https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html\r\n - https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html","title":"ModelMap vs Model in Spring MVC","body":"<p><code>Model</code> - Java-5-specific interface that defines a holder for model attributes. Primarily designed for adding attributes to the model. Allows for accessing the overall model as a java.util.Map.</p>\n\n<p>Simply put, the model can supply attributes used for rendering views.</p>\n\n<hr>\n\n<p><code>ModelMap</code> -  ModelMap class is basically a LinkedHashMap. It add some methods for convenience. Just like the <strong>Model</strong> interface above, <strong>ModelMap</strong> is also used to pass values to render a view.</p>\n\n<p>The advantage of ModelMap is it gives us the ability to pass a collection of values and treat these values as if they were within a Map:</p>\n\n<pre><code>@GetMapping(\"/printViewPage\")\npublic String passParametersWithModelMap(ModelMap map) {\n    map.addAttribute(\"welcomeMessage\", \"welcome\");\n    map.addAttribute(\"message\", \"Baeldung\");\n    return \"viewPage\";\n}\n</code></pre>\n\n<p>reference;</p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html</a></li>\n</ul>\n"}],"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4708,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1673574272,"creation_date":1422457916,"question_id":28195677,"body_markdown":"I am comparing [ModelMap][1] and [Model][2] from Spring MVC. Apart from obvious difference that first is a class and second an interface **is there any difference that make a usage of one or another preferable in different situations?**\r\n\r\nPrimarily they are used for same purpose (as from [spring MVC][3] documentation):\r\n\r\n&gt; java.util.Map / org.springframework.ui.Model /\r\n&gt; org.springframework.ui.ModelMap for enriching the implicit model that\r\n&gt; is exposed to the web view.\r\n\r\nOnly I have found out there it that `ModelMap` is enhanced `Map`, however difference to `Model` is still unclear.\r\n\r\nCan I conclude from ModelMap javadoc that &#39;Model&#39; is preferred for java 5?\r\n\r\n&gt; Check out the Model interface for a Java-5-based interface variant\r\n&gt; that serves the same purpose.\r\n\r\nHowever it does not seem that `ModelMap` would be deprecated or something. But why does `ModelMap` does not implement `Model`?\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html\r\n  [3]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html","title":"ModelMap vs Model in Spring MVC","body":"<p>I am comparing <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html\" rel=\"noreferrer\">ModelMap</a> and <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html\" rel=\"noreferrer\">Model</a> from Spring MVC. Apart from obvious difference that first is a class and second an interface <strong>is there any difference that make a usage of one or another preferable in different situations?</strong></p>\n\n<p>Primarily they are used for same purpose (as from <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html\" rel=\"noreferrer\">spring MVC</a> documentation):</p>\n\n<blockquote>\n  <p>java.util.Map / org.springframework.ui.Model /\n  org.springframework.ui.ModelMap for enriching the implicit model that\n  is exposed to the web view.</p>\n</blockquote>\n\n<p>Only I have found out there it that <code>ModelMap</code> is enhanced <code>Map</code>, however difference to <code>Model</code> is still unclear.</p>\n\n<p>Can I conclude from ModelMap javadoc that 'Model' is preferred for java 5?</p>\n\n<blockquote>\n  <p>Check out the Model interface for a Java-5-based interface variant\n  that serves the same purpose.</p>\n</blockquote>\n\n<p>However it does not seem that <code>ModelMap</code> would be deprecated or something. But why does <code>ModelMap</code> does not implement <code>Model</code>?</p>\n"},{"tags":["java","spring","spring-mvc","asynchronous","timeout"],"comments":[{"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"score":2,"creation_date":1644682081,"post_id":64817390,"comment_id":125673591,"body_markdown":"Show us some code. What annotation did you use on your Controller?","body":"Show us some code. What annotation did you use on your Controller?"},{"owner":{"account_id":211446,"reputation":12681,"user_id":463623,"accept_rate":47,"display_name":"Euphoric"},"score":0,"creation_date":1644684062,"post_id":64817390,"comment_id":125674021,"body_markdown":"@Manuel Sorry, this was so long ago I neither remember, nor have access to the code anymore. If you know about annotation that would make this work, then please post an answer.","body":"@Manuel Sorry, this was so long ago I neither remember, nor have access to the code anymore. If you know about annotation that would make this work, then please post an answer."}],"owner":{"account_id":211446,"reputation":12681,"user_id":463623,"accept_rate":47,"display_name":"Euphoric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":0,"score":11,"last_activity_date":1673574140,"creation_date":1605254683,"question_id":64817390,"body_markdown":"I have a spring MVC endpoint returning `StreamingResponseBody` so I can stream big file instead of keeping it in memory.\r\n\r\nThe request can take a while to download so it is timing out. I can fix it by setting `spring.mvc.async.request-timeout=360000`, but I don&#39;t want this setting to apply globally to all endpoints.\r\n\r\nIs there way to set request-timeout only for this specific endpoint?\r\n\r\nI did find https://stackoverflow.com/questions/47025525/set-timeout-for-specific-async-request-in-spring-boot, but I don&#39;t think that applies to my code using `StreamingResponseBody`.\r\n\r\nI have also found https://stackoverflow.com/questions/61030650/spring-rest-endpoint-returning-streamingresponsebody-asyncrequesttimeoutexcepti, which doesn&#39;t have the desired effect.","title":"Request timeout for endpoint using StreamingResponseBody in Spring","body":"<p>I have a spring MVC endpoint returning <code>StreamingResponseBody</code> so I can stream big file instead of keeping it in memory.</p>\n<p>The request can take a while to download so it is timing out. I can fix it by setting <code>spring.mvc.async.request-timeout=360000</code>, but I don't want this setting to apply globally to all endpoints.</p>\n<p>Is there way to set request-timeout only for this specific endpoint?</p>\n<p>I did find <a href=\"https://stackoverflow.com/questions/47025525/set-timeout-for-specific-async-request-in-spring-boot\">Set timeout for specific async request in Spring-boot</a>, but I don't think that applies to my code using <code>StreamingResponseBody</code>.</p>\n<p>I have also found <a href=\"https://stackoverflow.com/questions/61030650/spring-rest-endpoint-returning-streamingresponsebody-asyncrequesttimeoutexcepti\">Spring REST endpoint returning StreamingResponseBody: AsyncRequestTimeoutException after 30 seconds</a>, which doesn't have the desired effect.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673572685,"post_id":75103903,"comment_id":132535411,"body_markdown":"No. What ends up in `Object value` is whatever `foo.bar()` evaluated to.","body":"No. What ends up in <code>Object value</code> is whatever <code>foo.bar()</code> evaluated to."},{"owner":{"account_id":21033286,"reputation":92,"user_id":15457175,"display_name":"Zhiqiang Guo"},"score":0,"creation_date":1673573796,"post_id":75103903,"comment_id":132535584,"body_markdown":"Does ```Thread.currentThread().getStackTrace()``` meet your demand?","body":"Does <code>Thread.currentThread().getStackTrace()</code> meet your demand?"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673573990,"creation_date":1673573990,"answer_id":75104049,"question_id":75103903,"body_markdown":"You can log where `capture` was called:\r\n```\r\npublic class Test {\r\n    public static void capture(Object value) {\r\n        Exception e = new Exception();\r\n        System.out.println(&quot;captured value &quot; + value + &quot; at &quot; + e.getStackTrace()[1]);\r\n    }\r\n\r\n    public static void someFunc() {\r\n        capture(&quot;alice&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        capture(&quot;fred&quot;);\r\n        someFunc();\r\n    }\r\n}\r\n```\r\n\r\nwhich prints:\r\n```\r\ncaptured value fred at Test.main(Test.java:25)\r\ncaptured value alice at Test.someFunc(Test.java:21)\r\n```\r\n","title":"How to get the method&#39;s parameter expression stack or string representation?","body":"<p>You can log where <code>capture</code> was called:</p>\n<pre><code>public class Test {\n    public static void capture(Object value) {\n        Exception e = new Exception();\n        System.out.println(&quot;captured value &quot; + value + &quot; at &quot; + e.getStackTrace()[1]);\n    }\n\n    public static void someFunc() {\n        capture(&quot;alice&quot;);\n    }\n\n    public static void main(String[] args) {\n        capture(&quot;fred&quot;);\n        someFunc();\n    }\n}\n</code></pre>\n<p>which prints:</p>\n<pre><code>captured value fred at Test.main(Test.java:25)\ncaptured value alice at Test.someFunc(Test.java:21)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673573992,"creation_date":1673573992,"answer_id":75104051,"question_id":75103903,"body_markdown":"The only way you could use the stack to figure out something about the `foo.bar()` call is to run that `capture()` code from within the `bar()` method itself, i.e. some AOP framework or some `java.lang.reflect.Proxy`-based approach to inject your code into `bar()` itself.\r\n\r\nThe stack of `capture()` in your example can never hint at `foo.bar()`, but to whatever method called `capture`. If you make `foo.bar()` invoke it, you can get the `TypeOfFoo.bar()` information from `Thread.currentThread().getStackTrace()[1]`.\r\n\r\nHowever, there&#39;s no way to figure out the name `foo` (in your example), so you would have to live with `captured TypeOfFoo.bar() with value ...`","title":"How to get the method&#39;s parameter expression stack or string representation?","body":"<p>The only way you could use the stack to figure out something about the <code>foo.bar()</code> call is to run that <code>capture()</code> code from within the <code>bar()</code> method itself, i.e. some AOP framework or some <code>java.lang.reflect.Proxy</code>-based approach to inject your code into <code>bar()</code> itself.</p>\n<p>The stack of <code>capture()</code> in your example can never hint at <code>foo.bar()</code>, but to whatever method called <code>capture</code>. If you make <code>foo.bar()</code> invoke it, you can get the <code>TypeOfFoo.bar()</code> information from <code>Thread.currentThread().getStackTrace()[1]</code>.</p>\n<p>However, there's no way to figure out the name <code>foo</code> (in your example), so you would have to live with <code>captured TypeOfFoo.bar() with value ...</code></p>\n"}],"owner":{"account_id":1324957,"reputation":15152,"user_id":1270003,"accept_rate":87,"display_name":"SwiftMango"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75104051,"answer_count":2,"score":0,"last_activity_date":1673573992,"creation_date":1673572263,"question_id":75103903,"body_markdown":"I am writing a method for debugging and metrics capturing, such that:\r\n\r\n    void capture(Object value, String debugName) {\r\n      System.out.println(&quot;captured &quot; + debugName + &quot; with value &quot; + value);\r\n    }\r\n\r\nand calling it with:\r\n\r\n    capture(foo.bar(), &quot;foo.bar&quot;);\r\n\r\nIs there any way to get the value expression string directly, so I don&#39;t need to pass the debugName? Something like:\r\n\r\n    void capture(Object value) {\r\n      System.out.println(&quot;captured &quot; + getStack(value) + &quot; with value &quot; + value);\r\n    }","title":"How to get the method&#39;s parameter expression stack or string representation?","body":"<p>I am writing a method for debugging and metrics capturing, such that:</p>\n<pre><code>void capture(Object value, String debugName) {\n  System.out.println(&quot;captured &quot; + debugName + &quot; with value &quot; + value);\n}\n</code></pre>\n<p>and calling it with:</p>\n<pre><code>capture(foo.bar(), &quot;foo.bar&quot;);\n</code></pre>\n<p>Is there any way to get the value expression string directly, so I don't need to pass the debugName? Something like:</p>\n<pre><code>void capture(Object value) {\n  System.out.println(&quot;captured &quot; + getStack(value) + &quot; with value &quot; + value);\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1589716461,"post_id":61851166,"comment_id":109397759,"body_markdown":"`ComponentScan` will not pick up any of your classes. Move the classes/packages under the root package `com.example.demo` . eg : `com.example.demo.controller` . `@SpringBootApplication` annotation does a component scan considering the current package as the root package , unless otherwise specified.","body":"<code>ComponentScan</code> will not pick up any of your classes. Move the classes/packages under the root package <code>com.example.demo</code> . eg : <code>com.example.demo.controller</code> . <code>@SpringBootApplication</code> annotation does a component scan considering the current package as the root package , unless otherwise specified."},{"owner":{"account_id":966321,"reputation":803,"user_id":4573580,"display_name":"Dmitry Ionash"},"score":0,"creation_date":1589719097,"post_id":61851166,"comment_id":109398672,"body_markdown":"Or you can add all these beans in @ComponentScan(basePackageClasses = {model.Sample.class, repository.SampleRepository.clas, ...}). But it&#39;s not a good solution, project hierarchy much better.","body":"Or you can add all these beans in @ComponentScan(basePackageClasses = {model.Sample.class, repository.SampleRepository.clas, ...}). But it&#39;s not a good solution, project hierarchy much better."}],"answers":[{"tags":[],"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589721151,"creation_date":1589721151,"answer_id":61852351,"question_id":61851166,"body_markdown":"You have to place the ```SampleController.java``` in ```com.example.demo.controller``` &amp; ```SampleRepository.java``` in ```com.example.demo.repository```. Or all the files should be in ```com.example.demo``` folder. \r\n\r\nBecause ```@SpringBootApplication``` has to scan all the components. Go through this doc for better understanding https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/html/using-boot-structuring-your-code.html.","title":"cant connect to mysql databse using spring boot","body":"<p>You have to place the <code>SampleController.java</code> in <code>com.example.demo.controller</code> &amp; <code>SampleRepository.java</code> in <code>com.example.demo.repository</code>. Or all the files should be in <code>com.example.demo</code> folder. </p>\n\n<p>Because <code>@SpringBootApplication</code> has to scan all the components. Go through this doc for better understanding <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/html/using-boot-structuring-your-code.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/html/using-boot-structuring-your-code.html</a>.</p>\n"}],"owner":{"account_id":18606972,"reputation":1,"user_id":13560363,"display_name":"dali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673573607,"creation_date":1589715553,"question_id":61851166,"body_markdown":"When I am hitting url(*http://localhost:8080/pjt/samples*) in Postman for json data,it shows the following error.\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2020-05-17T10:54:26.705+0000&quot;,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;message&quot;: &quot;No message available&quot;,\r\n        &quot;path&quot;: &quot;/pjt/samples&quot;\r\n    }\r\n\r\n\r\n1)pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;samplepjt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;samplepjt&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n2)model:\r\n\r\n    package model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;samples&quot;)\r\n    public class Sample {\r\n    \tprivate Long id ;\r\n    \tprivate String  name;\r\n    \tprivate String city;\r\n    \t\r\n    \tpublic Sample(String name, String city) {\r\n    \t\t\r\n    \t\tthis.name = name;\r\n    \t\tthis.city = city;\r\n    \t}\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \t\r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\r\n    \t@Column(name = &quot;city&quot;, nullable = false)\r\n    \tpublic String getCity() {\r\n    \t\treturn city;\r\n    \t}\r\n    \tpublic void setCity(String city) {\r\n    \t\tthis.city = city;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n        public String toString() {\r\n            return &quot;Sample [id=&quot; + id + &quot;,name=&quot; + name + &quot;, city=&quot; + city +  &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n3)repository\r\n\r\n    package repository;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import model.Sample;\r\n    \r\n    @Repository\r\n    public interface SampleRepository  extends JpaRepository&lt;Sample,Long&gt;{\r\n    \r\n    }\r\n\r\n4)controller\r\n\r\n    package controller;\r\n    \r\n    import java.util.List;\r\n    import javax.validation.Valid;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import model.Sample;\r\n    import repository.SampleRepository;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/pjt&quot;)\r\n    public class SampleController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SampleRepository sampleRepository;\r\n    \t\r\n       \t @PostMapping(&quot;/samples&quot;)\r\n    \t    public Sample createSample(@Valid @RequestBody Sample sample) {\r\n    \t        return sampleRepository.save(sample);\r\n    \t    }\r\n    \t \r\n    \t @GetMapping(&quot;/samples&quot;)\r\n    \t    public List&lt;Sample&gt; getAllSample() {\r\n    \t        return sampleRepository.findAll();\r\n    \t    }\r\n        }\r\n\r\n5)main function\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class SamplepjtApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SamplepjtApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n6)application.properties\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/sampledb?useSSL=false\r\n    spring.datasource.username = root\r\n    spring.datasource.password = dali\r\n    \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.hibernate.ddl-auto = update\r\n\r\n .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.7.RELEASE)\r\n\r\n\r\n2020-05-17 16:47:56.159  INFO 3688 --- [           main] com.example.demo.SamplepjtApplication    : No active profile set, falling back to default profiles: default&lt;br /&gt;\r\n2020-05-17 16:47:58.395  INFO 3688 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.&lt;br /&gt;\r\n2020-05-17 16:47:58.476  INFO 3688 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49ms. Found 0 JPA repository interfaces.&lt;br /&gt;\r\n2020-05-17 16:48:00.119  INFO 3688 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)&lt;br /&gt;\r\n2020-05-17 16:48:00.142  INFO 3688 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]&lt;br /&gt;\r\n2020-05-17 16:48:00.143  INFO 3688 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.34]&lt;br /&gt;\r\n2020-05-17 16:48:00.496  INFO 3688 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext&lt;br /&gt;\r\n2020-05-17 16:48:00.497  INFO 3688 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4199 ms&lt;br /&gt;\r\n2020-05-17 16:48:00.980  INFO 3688 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]&lt;br /&gt;\r\n2020-05-17 16:48:01.156  INFO 3688 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final&lt;br /&gt;\r\n2020-05-17 16:48:01.579  INFO 3688 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}&lt;br /&gt;\r\n2020-05-17 16:48:01.898  INFO 3688 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...&lt;br /&gt;\r\n2020-05-17 16:48:02.714  INFO 3688 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.&lt;br /&gt;\r\n2020-05-17 16:48:02.771  INFO 3688 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect&lt;br /&gt;\r\n2020-05-17 16:48:03.635  INFO 3688 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation:[org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]&lt;br /&gt;\r\n2020-05-17 16:48:03.660  INFO 3688 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;&lt;br /&gt;\r\n2020-05-17 16:48:04.042  WARN 3688 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning&lt;br /&gt;\r\n2020-05-17 16:48:04.388  INFO 3688 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;&lt;br /&gt;\r\n2020-05-17 16:48:04.845  INFO 3688 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path &#39;&#39;&lt;br /&gt;\r\n2020-05-17 16:48:04.849  INFO 3688 --- [           main] com.example.demo.SamplepjtApplication    : Started SamplepjtApplication in 9.906 seconds (JVM running for 12.757)&lt;br /&gt;\r\n2020-05-17 16:48:13.367  INFO 3688 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;&lt;br /&gt;\r\n2020-05-17 16:48:13.369  INFO 3688 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;&lt;br /&gt;\r\n2020-05-17 16:48:13.395  INFO 3688 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 25 ms&lt;br /&gt;\r\n\r\nCan anyone help me to fix this issue?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"cant connect to mysql databse using spring boot","body":"<p>When I am hitting url(<em><a href=\"http://localhost:8080/pjt/samples\" rel=\"nofollow noreferrer\">http://localhost:8080/pjt/samples</a></em>) in Postman for json data,it shows the following error.</p>\n\n<pre><code>{\n    \"timestamp\": \"2020-05-17T10:54:26.705+0000\",\n    \"status\": 404,\n    \"error\": \"Not Found\",\n    \"message\": \"No message available\",\n    \"path\": \"/pjt/samples\"\n}\n</code></pre>\n\n<p>1)pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;samplepjt&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;samplepjt&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>2)model:</p>\n\n<pre><code>package model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"samples\")\npublic class Sample {\n    private Long id ;\n    private String  name;\n    private String city;\n\n    public Sample(String name, String city) {\n\n        this.name = name;\n        this.city = city;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Column(name = \"name\", nullable = false)\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Column(name = \"city\", nullable = false)\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    @Override\n    public String toString() {\n        return \"Sample [id=\" + id + \",name=\" + name + \", city=\" + city +  \"]\";\n    }\n}\n</code></pre>\n\n<p>3)repository</p>\n\n<pre><code>package repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport model.Sample;\n\n@Repository\npublic interface SampleRepository  extends JpaRepository&lt;Sample,Long&gt;{\n\n}\n</code></pre>\n\n<p>4)controller</p>\n\n<pre><code>package controller;\n\nimport java.util.List;\nimport javax.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport model.Sample;\nimport repository.SampleRepository;\n\n@RestController\n@RequestMapping(\"/pjt\")\npublic class SampleController {\n\n    @Autowired\n    private SampleRepository sampleRepository;\n\n     @PostMapping(\"/samples\")\n        public Sample createSample(@Valid @RequestBody Sample sample) {\n            return sampleRepository.save(sample);\n        }\n\n     @GetMapping(\"/samples\")\n        public List&lt;Sample&gt; getAllSample() {\n            return sampleRepository.findAll();\n        }\n    }\n</code></pre>\n\n<p>5)main function</p>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SamplepjtApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SamplepjtApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>6)application.properties</p>\n\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/sampledb?useSSL=false\nspring.datasource.username = root\nspring.datasource.password = dali\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n\n<p>.   ____          _            __ _ _\n /\\ / <strong><em>'</em> __ _ <em>(</em>)_ __  __ _ \\ \\ \\ \\\n( ( )_</strong> | '_ | '<em>| | '</em> / <em>` | \\ \\ \\ \\\n \\/  <strong></em>)| |<em>)| | | | | || (</em>| |  ) ) ) )\n  '  |____| .</strong>|<em>| |</em>|<em>| |</em>__, | / / / /\n =========|_|==============|___/=/<em>/</em>/_/\n :: Spring Boot ::        (v2.2.7.RELEASE)</p>\n\n<p>2020-05-17 16:47:56.159  INFO 3688 --- [           main] com.example.demo.SamplepjtApplication    : No active profile set, falling back to default profiles: default<br />\n2020-05-17 16:47:58.395  INFO 3688 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.<br />\n2020-05-17 16:47:58.476  INFO 3688 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49ms. Found 0 JPA repository interfaces.<br />\n2020-05-17 16:48:00.119  INFO 3688 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)<br />\n2020-05-17 16:48:00.142  INFO 3688 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]<br />\n2020-05-17 16:48:00.143  INFO 3688 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.34]<br />\n2020-05-17 16:48:00.496  INFO 3688 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext<br />\n2020-05-17 16:48:00.497  INFO 3688 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4199 ms<br />\n2020-05-17 16:48:00.980  INFO 3688 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]<br />\n2020-05-17 16:48:01.156  INFO 3688 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final<br />\n2020-05-17 16:48:01.579  INFO 3688 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}<br />\n2020-05-17 16:48:01.898  INFO 3688 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...<br />\n2020-05-17 16:48:02.714  INFO 3688 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.<br />\n2020-05-17 16:48:02.771  INFO 3688 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect<br />\n2020-05-17 16:48:03.635  INFO 3688 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation:[org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]<br />\n2020-05-17 16:48:03.660  INFO 3688 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'<br />\n2020-05-17 16:48:04.042  WARN 3688 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning<br />\n2020-05-17 16:48:04.388  INFO 3688 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'<br />\n2020-05-17 16:48:04.845  INFO 3688 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''<br />\n2020-05-17 16:48:04.849  INFO 3688 --- [           main] com.example.demo.SamplepjtApplication    : Started SamplepjtApplication in 9.906 seconds (JVM running for 12.757)<br />\n2020-05-17 16:48:13.367  INFO 3688 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'<br />\n2020-05-17 16:48:13.369  INFO 3688 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'<br />\n2020-05-17 16:48:13.395  INFO 3688 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 25 ms<br /></p>\n\n<p>Can anyone help me to fix this issue?</p>\n"},{"tags":["java","azure","apache-kafka","azure-functions","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673272603,"post_id":75057071,"comment_id":132454807,"body_markdown":"You&#39;d seen some pre-initialization function or an external Spring library that downloads the values from Azure. Spring-kafka alone doesn&#39;t do this. Otherwise, Azure functions would maybe pass them through environment variables but you still need to download files.","body":"You&#39;d seen some pre-initialization function or an external Spring library that downloads the values from Azure. Spring-kafka alone doesn&#39;t do this. Otherwise, Azure functions would maybe pass them through environment variables but you still need to download files."},{"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"score":0,"creation_date":1673330501,"post_id":75057071,"comment_id":132468595,"body_markdown":"Hi @OneCricketeer, Thanks for the suggestion but we can not use spring library because spring container will start after the function is triggered. I will check any pre initialization function functionality.","body":"Hi @OneCricketeer, Thanks for the suggestion but we can not use spring library because spring container will start after the function is triggered. I will check any pre initialization function functionality."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673330634,"post_id":75057071,"comment_id":132468617,"body_markdown":"You have full control over when Kafka containers get started.","body":"You have full control over when Kafka containers get started."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673330747,"post_id":75057071,"comment_id":132468634,"body_markdown":"You might want to see https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-key-vault","body":"You might want to see <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-key-vault\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/developer/java/spring-framew&zwnj;&#8203;ork/&hellip;</a>"},{"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"score":0,"creation_date":1673332780,"post_id":75057071,"comment_id":132469010,"body_markdown":"Yeah..but to start kafka itself I need the certificate properties in @Kafkatrigger iannotation..so If connection to kafka is possible then the function will get triggered and the function will invoke spring app.","body":"Yeah..but to start kafka itself I need the certificate properties in @Kafkatrigger iannotation..so If connection to kafka is possible then the function will get triggered and the function will invoke spring app."},{"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"score":0,"creation_date":1673332823,"post_id":75057071,"comment_id":132469013,"body_markdown":"Once spring app started we have full control to keyvault but it will start only after the successful connection with kafka.","body":"Once spring app started we have full control to keyvault but it will start only after the successful connection with kafka."},{"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"score":0,"creation_date":1673332850,"post_id":75057071,"comment_id":132469022,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250993/discussion-between-nilesh-and-onecricketeer).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250993/discussion-between-nilesh-and-onecricketeer\">continue this discussion in chat</a>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673371352,"post_id":75057071,"comment_id":132481860,"body_markdown":"I dont use Azure. I&#39;m just saying you need to connect to the key vault before you even attempt to connect to Kafka (start the trigger as disabled) since you are requiring secrets to be injected into your app. You would then use SPEL expressions with `${someSecret}` syntax, not `%value%`","body":"I dont use Azure. I&#39;m just saying you need to connect to the key vault before you even attempt to connect to Kafka (start the trigger as disabled) since you are requiring secrets to be injected into your app. You would then use SPEL expressions with <code>${someSecret}</code> syntax, not <code>%value%</code>"}],"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1673572956,"creation_date":1673266152,"question_id":75057071,"body_markdown":"I am developing kafka trigger based azure functions in JAVA where the function uses below configuration for connection:\r\n\r\n    @KafkaTrigger(name = &quot;kafkatrigger&quot;, topic = &quot;kafka.topic&quot;, brokerList = &quot;%BrokerList%&quot;,\r\n                        consumerGroup = &quot;default-consumer&quot;, protocol = BrokerProtocol.SSL,\r\n                        sslCertificateLocation = &quot;%sslCertificateLocation%&quot;, sslCaLocation = &quot;%sslCaLocation%&quot;,\r\n                        sslKeyLocation = &quot;%sslKeyLocation%&quot;, sslKeyPassword = &quot;%keyStorePassword%&quot;,\r\n                        cardinality = Cardinality.ONE, dataType = &quot;string&quot;)\r\n\r\nSo, In above configuration I do not want to upload the `client private key, client public key and ca certificate` through artifact on the container for security purpose. So, I want to keep the certificates at secure location like `key vault, secret management` and use their reference location in @KafkaTrigger annotation. How can I achieve that?","title":"SSL Certificates location in Kafka trigger Azure Functions","body":"<p>I am developing kafka trigger based azure functions in JAVA where the function uses below configuration for connection:</p>\n<pre><code>@KafkaTrigger(name = &quot;kafkatrigger&quot;, topic = &quot;kafka.topic&quot;, brokerList = &quot;%BrokerList%&quot;,\n                    consumerGroup = &quot;default-consumer&quot;, protocol = BrokerProtocol.SSL,\n                    sslCertificateLocation = &quot;%sslCertificateLocation%&quot;, sslCaLocation = &quot;%sslCaLocation%&quot;,\n                    sslKeyLocation = &quot;%sslKeyLocation%&quot;, sslKeyPassword = &quot;%keyStorePassword%&quot;,\n                    cardinality = Cardinality.ONE, dataType = &quot;string&quot;)\n</code></pre>\n<p>So, In above configuration I do not want to upload the <code>client private key, client public key and ca certificate</code> through artifact on the container for security purpose. So, I want to keep the certificates at secure location like <code>key vault, secret management</code> and use their reference location in @KafkaTrigger annotation. How can I achieve that?</p>\n"},{"tags":["java","android","streaming","media","recorder"],"owner":{"account_id":26104704,"reputation":21,"user_id":19799567,"display_name":"asdf9797"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673572529,"creation_date":1673572529,"question_id":75103923,"body_markdown":"\r\nI want to implement a function that simply records what is currently being viewed on my phone, rather than using the camera.\r\n\r\nBut most of the samples use MediaRecorder and camera in parallel, I don&#39;t think this is what I need at the moment.\r\n\r\nI&#39;ve seen the MediaProjection API, but it runs in an Activity . I want to implement a screen recording function for a live streaming app I am currently developing. And this should work inside a Service.\r\n\r\nCan someone give me some help?\r\n","title":"How to Record Current Screen In Android, Not using Camera","body":"<p>I want to implement a function that simply records what is currently being viewed on my phone, rather than using the camera.</p>\n<p>But most of the samples use MediaRecorder and camera in parallel, I don't think this is what I need at the moment.</p>\n<p>I've seen the MediaProjection API, but it runs in an Activity . I want to implement a screen recording function for a live streaming app I am currently developing. And this should work inside a Service.</p>\n<p>Can someone give me some help?</p>\n"},{"tags":["java","smb"],"comments":[{"owner":{"account_id":1420915,"reputation":10082,"user_id":1345535,"accept_rate":61,"display_name":"David W"},"score":1,"creation_date":1476882663,"post_id":40029231,"comment_id":67534622,"body_markdown":"Not sure I can provide much help, but I would suggest that the first curiosity to explore is why JLan (which I know nothing about) sees your Win10 box as NTLM1. Unless you&#39;ve specifically disabled later versions of it, W10 should be negotiating the later version by default. I&#39;d also wonder about any assumptions JLan makes about the connection itself, eg signed, secured, etc (SMB rules).  As I said, not much direct help, but some suggestions of where to look. Lastly, you might peruse some of the SAMBA project&#39;s work in this area to see if any similar issues on that side might inspire some ideas","body":"Not sure I can provide much help, but I would suggest that the first curiosity to explore is why JLan (which I know nothing about) sees your Win10 box as NTLM1. Unless you&#39;ve specifically disabled later versions of it, W10 should be negotiating the later version by default. I&#39;d also wonder about any assumptions JLan makes about the connection itself, eg signed, secured, etc (SMB rules).  As I said, not much direct help, but some suggestions of where to look. Lastly, you might peruse some of the SAMBA project&#39;s work in this area to see if any similar issues on that side might inspire some ideas"},{"owner":{"account_id":3293773,"reputation":3947,"user_id":2771469,"accept_rate":32,"display_name":"MojoJojo"},"score":3,"creation_date":1476928070,"post_id":40029231,"comment_id":67558122,"body_markdown":"Do you receive any errors when authenticating? Can you perhaps share your customizations on GitHub?","body":"Do you receive any errors when authenticating? Can you perhaps share your customizations on GitHub?"},{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":0,"creation_date":1477051284,"post_id":40029231,"comment_id":67619297,"body_markdown":"@DavidW didn&#39;t disable or force anything, and I&#39;m not sure whether it&#39;s really trying to do NTLM1 auth or if it&#39;s just jlan that gets it like this. I did try to google all of that, but didn&#39;t come up with something useful yet. Thanks for your input anyway.","body":"@DavidW didn&#39;t disable or force anything, and I&#39;m not sure whether it&#39;s really trying to do NTLM1 auth or if it&#39;s just jlan that gets it like this. I did try to google all of that, but didn&#39;t come up with something useful yet. Thanks for your input anyway."},{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":0,"creation_date":1477051380,"post_id":40029231,"comment_id":67619366,"body_markdown":"@MojoJojo https://github.com/Valuya/javadance . It just pretends that authentication failed, and putting breakpoints, I can see that it expectes a 24 bytes hash when it&#39;s really 74.","body":"@MojoJojo <a href=\"https://github.com/Valuya/javadance\" rel=\"nofollow noreferrer\">github.com/Valuya/javadance</a> . It just pretends that authentication failed, and putting breakpoints, I can see that it expectes a 24 bytes hash when it&#39;s really 74."},{"owner":{"account_id":1420915,"reputation":10082,"user_id":1345535,"accept_rate":61,"display_name":"David W"},"score":0,"creation_date":1477088204,"post_id":40029231,"comment_id":67639985,"body_markdown":"Isn&#39;t there part of OLD NTLM that expects a 24-byte padded hash? If so, could it be that 74-byte value hasn&#39;t been hashed correctly?","body":"Isn&#39;t there part of OLD NTLM that expects a 24-byte padded hash? If so, could it be that 74-byte value hasn&#39;t been hashed correctly?"},{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":0,"creation_date":1477147006,"post_id":40029231,"comment_id":67652654,"body_markdown":"@DavidW sure, looking for something like that","body":"@DavidW sure, looking for something like that"},{"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"score":1,"creation_date":1483385116,"post_id":40029231,"comment_id":70070242,"body_markdown":"Is there any reason why you&#39;re not using JCIFS? JCIFS is and has always been the defacto Java implementation of SMB. I don&#39;t think that alfresco thing every really took off.","body":"Is there any reason why you&#39;re not using JCIFS? JCIFS is and has always been the defacto Java implementation of SMB. I don&#39;t think that alfresco thing every really took off."},{"owner":{"account_id":243931,"reputation":588,"user_id":516418,"display_name":"stuchl4n3k"},"score":0,"creation_date":1543399486,"post_id":40029231,"comment_id":93902438,"body_markdown":"I would look directly on those SMB packets, can you share a PCAP file?","body":"I would look directly on those SMB packets, can you share a PCAP file?"},{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":0,"creation_date":1546437345,"post_id":40029231,"comment_id":94851774,"body_markdown":"@squarewav JCIFS is a client library. I needed a server lib.","body":"@squarewav JCIFS is a client library. I needed a server lib."},{"owner":{"display_name":"user10762593"},"score":0,"creation_date":1565840342,"post_id":40029231,"comment_id":101477561,"body_markdown":"From ancient memory cells, I recall something about NTLMv1 challenge responses in NTLMv2 session protocol (this is more secure than NTLMv1 by itself).  On the client side there are some forced minimum settings. In LocalSecurityPolicy, see &#39;Network Security: minimum session security for NTLM SSP based clients&#39;.","body":"From ancient memory cells, I recall something about NTLMv1 challenge responses in NTLMv2 session protocol (this is more secure than NTLMv1 by itself).  On the client side there are some forced minimum settings. In LocalSecurityPolicy, see &#39;Network Security: minimum session security for NTLM SSP based clients&#39;."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640694037,"creation_date":1640693624,"answer_id":70506912,"question_id":40029231,"body_markdown":"I have used these two libraries with great success. I was able to authenticate to a Synology NAS providing SMB shares.\r\n\r\nNote that the versions I used need not be the latest ones.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-vfs2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;eu.agno3.jcifs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jcifs-ng&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe code for authentication can look like this:\r\n\r\n    final String smburl = ...;\r\n    final String username = ...;\r\n    final String password = ...;\r\n\r\n    final URI uri = new URI(smburl);\r\n\r\n    StaticUserAuthenticator auth = new StaticUserAuthenticator(null, username, password);\r\n\r\n    Properties jcifsProperties = new Properties();\r\n\r\n    // these settings are needed for 2.0.x to use anything but SMB1, 2.1.x enables by default and will ignore\r\n    jcifsProperties.setProperty(&quot;jcifs.smb.client.enableSMB2&quot;, &quot;true&quot;);\r\n    jcifsProperties.setProperty(&quot;jcifs.smb.client.useSMB2Negotiation&quot;, &quot;true&quot;);\r\n    CIFSContext jcifsContext = new BaseContext(new PropertyConfiguration(jcifsProperties));\r\n\r\n    FileSystemOptions options = new FileSystemOptions();\r\n    DefaultFileSystemConfigBuilder.getInstance().setUserAuthenticator(options, auth);\r\n    SmbFileSystemConfigBuilder.getInstance().setCIFSContext(options, jcifsContext);\r\n\r\n    fsManager = VFS.getManager();\r\n\r\nFinally use the fsManager to resolve URIs to FileObjects and do the needful.\r\n","title":"smb authentication (74 bytes vs 24?)","body":"<p>I have used these two libraries with great success. I was able to authenticate to a Synology NAS providing SMB shares.</p>\n<p>Note that the versions I used need not be the latest ones.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-vfs2&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;eu.agno3.jcifs&lt;/groupId&gt;\n    &lt;artifactId&gt;jcifs-ng&lt;/artifactId&gt;\n    &lt;version&gt;2.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The code for authentication can look like this:</p>\n<pre><code>final String smburl = ...;\nfinal String username = ...;\nfinal String password = ...;\n\nfinal URI uri = new URI(smburl);\n\nStaticUserAuthenticator auth = new StaticUserAuthenticator(null, username, password);\n\nProperties jcifsProperties = new Properties();\n\n// these settings are needed for 2.0.x to use anything but SMB1, 2.1.x enables by default and will ignore\njcifsProperties.setProperty(&quot;jcifs.smb.client.enableSMB2&quot;, &quot;true&quot;);\njcifsProperties.setProperty(&quot;jcifs.smb.client.useSMB2Negotiation&quot;, &quot;true&quot;);\nCIFSContext jcifsContext = new BaseContext(new PropertyConfiguration(jcifsProperties));\n\nFileSystemOptions options = new FileSystemOptions();\nDefaultFileSystemConfigBuilder.getInstance().setUserAuthenticator(options, auth);\nSmbFileSystemConfigBuilder.getInstance().setCIFSContext(options, jcifsContext);\n\nfsManager = VFS.getManager();\n</code></pre>\n<p>Finally use the fsManager to resolve URIs to FileObjects and do the needful.</p>\n"}],"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":790,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"answer_count":1,"score":24,"last_activity_date":1673572305,"creation_date":1476386358,"question_id":40029231,"body_markdown":"I need to implement a virtual filesystem that will be accessed as a Windows share.\r\n\r\nIt seems Alfresco JLan is doing the job. So far, I have some promising results starting from this answer: https://stackoverflow.com/questions/26631989/how-to-setup-alfresco-jlan-file-server-as-a-standalone-java-package\r\n\r\nNow, I can&#39;t seem to actually authenticate. My dummy implementation always succeeds, but as soon as I try to validate the password, it just fails.\r\n\r\nSome information:\r\n\r\n* It runs on a windows machine with port 445 not being used by Windows itself (Server services disabled etc.)\r\n* From same Windows 10 client, it seems JLan sees it as ntlmv1 authentication, which looks strange to me (I&#39;d at least expect ntlmv2). alg == NTLM1 in JLan&#39;s `CifsAuthenticator::validatePassword`.\r\n* It seems the encrypted used password is 74 bytes, vs the 24 it expects, and it fails at that.\r\n* Had to remove CryptixCrypto that doesn&#39;t seem to exist anymore, and replaced `getInstance(&quot;MD4&quot;)` by `MD4.getInstance()` in JLan, as it seems to be the way to go on modern Java platforms (MD4 is not registered by default, as documented in MD4 class itself).\r\n\r\nHow can I check my password again some plain-text one?","title":"smb authentication (74 bytes vs 24?)","body":"<p>I need to implement a virtual filesystem that will be accessed as a Windows share.</p>\n\n<p>It seems Alfresco JLan is doing the job. So far, I have some promising results starting from this answer: <a href=\"https://stackoverflow.com/questions/26631989/how-to-setup-alfresco-jlan-file-server-as-a-standalone-java-package\">How to setup alfresco jlan file server as a standalone java package?</a></p>\n\n<p>Now, I can't seem to actually authenticate. My dummy implementation always succeeds, but as soon as I try to validate the password, it just fails.</p>\n\n<p>Some information:</p>\n\n<ul>\n<li>It runs on a windows machine with port 445 not being used by Windows itself (Server services disabled etc.)</li>\n<li>From same Windows 10 client, it seems JLan sees it as ntlmv1 authentication, which looks strange to me (I'd at least expect ntlmv2). alg == NTLM1 in JLan's <code>CifsAuthenticator::validatePassword</code>.</li>\n<li>It seems the encrypted used password is 74 bytes, vs the 24 it expects, and it fails at that.</li>\n<li>Had to remove CryptixCrypto that doesn't seem to exist anymore, and replaced <code>getInstance(\"MD4\")</code> by <code>MD4.getInstance()</code> in JLan, as it seems to be the way to go on modern Java platforms (MD4 is not registered by default, as documented in MD4 class itself).</li>\n</ul>\n\n<p>How can I check my password again some plain-text one?</p>\n"},{"tags":["java","oop","if-statement","inheritance","abstract-class"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1673601705,"post_id":75103702,"comment_id":132540475,"body_markdown":"Some questions: (1) Is the hierarchy of `Vehicle` - `Car` - `Bike` important, or are you using the base class just to share some methods? If you only want to share some methods, you could use composition instead of inheritance, and *maybe* make the problem easier. (1a) If the inheritance is important, are you going to have deeper inheritance (e.g. Taxi extends Car extends Vehicle), or is it going to stay 1 level deep forever? (2) How many entities do you anticipate to have? Will this number change frequently? (I am asking because this could be a candidate for applying the visitor pattern)","body":"Some questions: (1) Is the hierarchy of <code>Vehicle</code> - <code>Car</code> - <code>Bike</code> important, or are you using the base class just to share some methods? If you only want to share some methods, you could use composition instead of inheritance, and <i>maybe</i> make the problem easier. (1a) If the inheritance is important, are you going to have deeper inheritance (e.g. Taxi extends Car extends Vehicle), or is it going to stay 1 level deep forever? (2) How many entities do you anticipate to have? Will this number change frequently? (I am asking because this could be a candidate for applying the visitor pattern)"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1673601787,"post_id":75103702,"comment_id":132540510,"body_markdown":"Also: (3) Are validators fixed for the entire hierarchy or could they change? E.g. different validator for different business cases or for different entities.","body":"Also: (3) Are validators fixed for the entire hierarchy or could they change? E.g. different validator for different business cases or for different entities."},{"owner":{"account_id":7584258,"reputation":5985,"user_id":5753968,"display_name":"Pardhu"},"score":1,"creation_date":1673623085,"post_id":75103702,"comment_id":132547501,"body_markdown":"@NikosParaskevopoulos\n(1) Currently there are 3 subclasses such as `Car` and `Bike` and may increase upto 5. (1a) Currently only one level deep `Car`. In six months, more fields may have to be added to `Car`. So at that point, I am planning to extend it to `Taxi` following open/closed principle. In another six months might be extended to `Uber`. So 4 levels deep in the future. \n\n(2) What do you mean by entities? `car`, `Bike` etc? More may more in the future.\n\n(3) Validators are very diverse; both number of validators and implementations vary widely.","body":"@NikosParaskevopoulos (1) Currently there are 3 subclasses such as <code>Car</code> and <code>Bike</code> and may increase upto 5. (1a) Currently only one level deep <code>Car</code>. In six months, more fields may have to be added to <code>Car</code>. So at that point, I am planning to extend it to <code>Taxi</code> following open/closed principle. In another six months might be extended to <code>Uber</code>. So 4 levels deep in the future.   (2) What do you mean by entities? <code>car</code>, <code>Bike</code> etc? More may more in the future.  (3) Validators are very diverse; both number of validators and implementations vary widely."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673572257,"creation_date":1673571639,"answer_id":75103848,"question_id":75103702,"body_markdown":"If you just have a variable of type `Vehicle`, you cannot know what kind of validation it needs except by checking what type it actually stores. If you *do* know what validations the vehicle needs for whatever reason, then you don&#39;t need the abstract method in `Vehicle` - create an interface for each kind of validation, like `BrakeAndTireValidatable` and `GasAndTireValidatable`, and cast to the appropriate interface.\r\n\r\nSo how about assigning the validators to the vehicles when you *do* know the type? The classes would have validator fields, and `runAllValidations` would be parameterless.\r\n\r\n```\r\nabstract class Vehicle {\r\n  \r\n  private Tire tire;\r\n  private TireValidator tireValidator;\r\n  \r\n  public void checkTire() {\r\n    tireValidator.check(tire);\r\n  }\r\n\r\n  public void setTireValidator(TireValidator tireValidator) {\r\n    this.tireValidator = tireValidator;\r\n  }\r\n\r\n  public abstract void runAllValidations();\r\n}\r\n\r\nclass Bike extends vehicle {\r\n  \r\n  private Brakes brakes;\r\n  private BrakeValidator;\r\n  \r\n  void checkBrakes() {\r\n    brakeValidator.check(brakes);\r\n  }\r\n\r\n  public void setBrakeValidator(BrakeValidator brakeValidator) {\r\n    this.brakeValidator = brakeValidator;\r\n  }\r\n  \r\n  @Override\r\n  public void runAllValidations() {\r\n     checkTire();\r\n     checkBrakes();\r\n  }\r\n}\r\n\r\nclass Car extends vehicle {\r\n  \r\n  private Gas brakes;\r\n  private GasValidator;\r\n  \r\n  void checkGas() {\r\n    gasValidator.check(gas);\r\n  }\r\n\r\n  public void setGasValidator(GasValidator gasValidator) {\r\n    this.gasValidator = gasValidator;\r\n  }\r\n  \r\n  @Override\r\n  public void runAllValidations() {\r\n     checkTire();\r\n     checkGas();\r\n  }\r\n}\r\n```\r\n\r\nThen in `main`, you can do:\r\n\r\n```\r\nTireValidator tireValidator = ...;\r\nBrakeValidator brakeValidator = ...;\r\nGasValidator gasValidator = ...;\r\n\r\nCar car = new Car(...);\r\nBike bike = new Bike(...);\r\ncar.setTireValidator(tireValidator);\r\nbike.setTireValidator(tireValidator);\r\ncar.setGasValidator(gasValidator);\r\nbike.setBrakeValidator(brakeValidator);\r\n\r\n// it is still possible to put car and bike into &quot;Vehicle&quot;-typed variables\r\n// and call runAllValidations\r\n// here I&#39;ll demonstrate this by putting them in a list and iterate over the list\r\nList.of(car, bike).forEach(Vehicle::runAllValidations);\r\n```\r\n","title":"How to invoke different methods in sub-classes with different parameters by calling a single method in super class object without using if condition?","body":"<p>If you just have a variable of type <code>Vehicle</code>, you cannot know what kind of validation it needs except by checking what type it actually stores. If you <em>do</em> know what validations the vehicle needs for whatever reason, then you don't need the abstract method in <code>Vehicle</code> - create an interface for each kind of validation, like <code>BrakeAndTireValidatable</code> and <code>GasAndTireValidatable</code>, and cast to the appropriate interface.</p>\n<p>So how about assigning the validators to the vehicles when you <em>do</em> know the type? The classes would have validator fields, and <code>runAllValidations</code> would be parameterless.</p>\n<pre><code>abstract class Vehicle {\n  \n  private Tire tire;\n  private TireValidator tireValidator;\n  \n  public void checkTire() {\n    tireValidator.check(tire);\n  }\n\n  public void setTireValidator(TireValidator tireValidator) {\n    this.tireValidator = tireValidator;\n  }\n\n  public abstract void runAllValidations();\n}\n\nclass Bike extends vehicle {\n  \n  private Brakes brakes;\n  private BrakeValidator;\n  \n  void checkBrakes() {\n    brakeValidator.check(brakes);\n  }\n\n  public void setBrakeValidator(BrakeValidator brakeValidator) {\n    this.brakeValidator = brakeValidator;\n  }\n  \n  @Override\n  public void runAllValidations() {\n     checkTire();\n     checkBrakes();\n  }\n}\n\nclass Car extends vehicle {\n  \n  private Gas brakes;\n  private GasValidator;\n  \n  void checkGas() {\n    gasValidator.check(gas);\n  }\n\n  public void setGasValidator(GasValidator gasValidator) {\n    this.gasValidator = gasValidator;\n  }\n  \n  @Override\n  public void runAllValidations() {\n     checkTire();\n     checkGas();\n  }\n}\n</code></pre>\n<p>Then in <code>main</code>, you can do:</p>\n<pre><code>TireValidator tireValidator = ...;\nBrakeValidator brakeValidator = ...;\nGasValidator gasValidator = ...;\n\nCar car = new Car(...);\nBike bike = new Bike(...);\ncar.setTireValidator(tireValidator);\nbike.setTireValidator(tireValidator);\ncar.setGasValidator(gasValidator);\nbike.setBrakeValidator(brakeValidator);\n\n// it is still possible to put car and bike into &quot;Vehicle&quot;-typed variables\n// and call runAllValidations\n// here I'll demonstrate this by putting them in a list and iterate over the list\nList.of(car, bike).forEach(Vehicle::runAllValidations);\n</code></pre>\n"}],"owner":{"account_id":7584258,"reputation":5985,"user_id":5753968,"display_name":"Pardhu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673572257,"creation_date":1673570019,"question_id":75103702,"body_markdown":"I have a `Vehicle` abstract class and two subclasses `Bike` and `Car`, which has 1 common method and 2 different methods. I want to execute all methods from my main class method by invoking only a single method on the input object.\r\n\r\n\r\n```java\r\nabstract class Vehicle {\r\n  \r\n  Tire tire;\r\n  \r\n  // a common method\r\n  void checkTire (TireValidator tireValidator) {\r\n    tireValidator.check(tire);\r\n  }\r\n\r\n  // How to design this abstract method to invoke all validations\r\n  abstract void runAllValidations();\r\n}\r\n```\r\n\r\nNow `Bike` class has to check brakes in addition to tire\r\n\r\n```java\r\nclass Bike extends vehicle {\r\n  \r\n  Brakes brakes;\r\n  \r\n  void checkBrakes (BrakeValidator brakeValidator) {\r\n    brakeValidator.check(brakes);\r\n  }\r\n\r\n  // How to override runAllValidations method here?\r\n  \r\n}\r\n```\r\n\r\n`Car` class has to check gas in addition to tire\r\n\r\n```java\r\nclass Car extends vehicle {\r\n  \r\n  Gas gas;\r\n  \r\n  void checkGas (GasValidator gasValidator) {\r\n    gasValidator.check(gas);\r\n  }\r\n\r\n  // How to override runAllValidations method here?\r\n  \r\n}\r\n```\r\n\r\nHow can I design my `runAllValidations` method and override it in my subclasses so that both the checks - tire &amp; brakes for bike, and tire &amp; gas for car, will run **WITHOUT using any if conditions? **\r\n\r\n```java\r\nvoid main() {\r\n  \r\n  TireValidator TireValidator;\r\n  \r\n  BrakeValidator brakeValidator;\r\n\r\n  GasValidator gasValidator;\r\n\r\n\r\n  Vehicle car = new car(...);\r\n\r\n  vehicle bike = new Bike(...);\r\n\r\n  \r\n  // how to call runAllValidations method? What to pass as parameters?\r\n  car.runAllValidations(...);\r\n  bike.runAllValidations(...);\r\n  \r\n} \r\n```\r\n\r\n\r\n\r\n  \r\n\r\n# First way (but with unnecessary parameters)\r\n\r\nOne way to do this design my abstract method to accept all three validators as parameters.\r\n\r\nVehicle:\r\n\r\n```java\r\nabstract void runAllValidations(TireValidator TireValidator, BrakeValidator brakeValidator, GasValidator gasValidator);\r\n```\r\n\r\nBike:\r\n\r\n```java\r\nvoid runAllValidations(TireValidator tireValidator, BrakeValidator brakeValidator, GasValidator gasValidator) {\r\n  \r\n  checkTire(tireValidator);\r\n  \r\n  checkBrakes(brakeValidator);\r\n\r\n}\r\n```\r\n\r\nCar:\r\n\r\n```java\r\nvoid runAllValidations(TireValidator tireValidator, BrakeValidator brakeValidator, GasValidator gasValidator) {\r\n  \r\n  checkTire(tireValidator);\r\n  \r\n  checkGas(GasValidator);\r\n\r\n}\r\n```\r\n\r\nHere, the biggest problem is that I&#39;m passing unnecessary validators to these methods.\r\n\r\n# Second way (but we are using if conditions)\r\n\r\n```java\r\nvoid main() {}\r\n\r\nvoid checkAllvalidationsForVehicle(Vehicle v) {\r\n  \r\n  if (v instanceof Bike) {\r\n    Bike b = (Bike) v;\r\n\r\n    b.checkTire(tireValidator);\r\n    b.checkBrakes(brakeValidator);\r\n\r\n  } else if (v instanceof Car) {\r\n    Car c = (Car) v;\r\n\r\n    c.checkTire(tireValidator);\r\n    c.checkGas(gasValidator);\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nHere there are if - else conditions, which I&#39;m trying to avoid in my code.\r\n\r\n**What is the best possible way to solve these issues?**","title":"How to invoke different methods in sub-classes with different parameters by calling a single method in super class object without using if condition?","body":"<p>I have a <code>Vehicle</code> abstract class and two subclasses <code>Bike</code> and <code>Car</code>, which has 1 common method and 2 different methods. I want to execute all methods from my main class method by invoking only a single method on the input object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Vehicle {\n  \n  Tire tire;\n  \n  // a common method\n  void checkTire (TireValidator tireValidator) {\n    tireValidator.check(tire);\n  }\n\n  // How to design this abstract method to invoke all validations\n  abstract void runAllValidations();\n}\n</code></pre>\n<p>Now <code>Bike</code> class has to check brakes in addition to tire</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Bike extends vehicle {\n  \n  Brakes brakes;\n  \n  void checkBrakes (BrakeValidator brakeValidator) {\n    brakeValidator.check(brakes);\n  }\n\n  // How to override runAllValidations method here?\n  \n}\n</code></pre>\n<p><code>Car</code> class has to check gas in addition to tire</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Car extends vehicle {\n  \n  Gas gas;\n  \n  void checkGas (GasValidator gasValidator) {\n    gasValidator.check(gas);\n  }\n\n  // How to override runAllValidations method here?\n  \n}\n</code></pre>\n<p>How can I design my <code>runAllValidations</code> method and override it in my subclasses so that both the checks - tire &amp; brakes for bike, and tire &amp; gas for car, will run **WITHOUT using any if conditions? **</p>\n<pre class=\"lang-java prettyprint-override\"><code>void main() {\n  \n  TireValidator TireValidator;\n  \n  BrakeValidator brakeValidator;\n\n  GasValidator gasValidator;\n\n\n  Vehicle car = new car(...);\n\n  vehicle bike = new Bike(...);\n\n  \n  // how to call runAllValidations method? What to pass as parameters?\n  car.runAllValidations(...);\n  bike.runAllValidations(...);\n  \n} \n</code></pre>\n<h1>First way (but with unnecessary parameters)</h1>\n<p>One way to do this design my abstract method to accept all three validators as parameters.</p>\n<p>Vehicle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract void runAllValidations(TireValidator TireValidator, BrakeValidator brakeValidator, GasValidator gasValidator);\n</code></pre>\n<p>Bike:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void runAllValidations(TireValidator tireValidator, BrakeValidator brakeValidator, GasValidator gasValidator) {\n  \n  checkTire(tireValidator);\n  \n  checkBrakes(brakeValidator);\n\n}\n</code></pre>\n<p>Car:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void runAllValidations(TireValidator tireValidator, BrakeValidator brakeValidator, GasValidator gasValidator) {\n  \n  checkTire(tireValidator);\n  \n  checkGas(GasValidator);\n\n}\n</code></pre>\n<p>Here, the biggest problem is that I'm passing unnecessary validators to these methods.</p>\n<h1>Second way (but we are using if conditions)</h1>\n<pre class=\"lang-java prettyprint-override\"><code>void main() {}\n\nvoid checkAllvalidationsForVehicle(Vehicle v) {\n  \n  if (v instanceof Bike) {\n    Bike b = (Bike) v;\n\n    b.checkTire(tireValidator);\n    b.checkBrakes(brakeValidator);\n\n  } else if (v instanceof Car) {\n    Car c = (Car) v;\n\n    c.checkTire(tireValidator);\n    c.checkGas(gasValidator);\n\n  }\n\n}\n</code></pre>\n<p>Here there are if - else conditions, which I'm trying to avoid in my code.</p>\n<p><strong>What is the best possible way to solve these issues?</strong></p>\n"},{"tags":["java","spring","google-calendar-api","google-hangouts"],"comments":[{"owner":{"account_id":14694206,"reputation":18740,"user_id":10612011,"display_name":"Iamblichus"},"score":1,"creation_date":1586766978,"post_id":61152718,"comment_id":108238877,"body_markdown":"Can&#39;t you add the users to the event at the moment the meeting link is supposed to be sent, via [Events: patch](https://developers.google.com/calendar/v3/reference/events/patch)? By the way, there is no open Meet API.","body":"Can&#39;t you add the users to the event at the moment the meeting link is supposed to be sent, via <a href=\"https://developers.google.com/calendar/v3/reference/events/patch\" rel=\"nofollow noreferrer\">Events: patch</a>? By the way, there is no open Meet API."},{"owner":{"account_id":296872,"reputation":333,"user_id":602091,"accept_rate":78,"display_name":"David Gra&#231;a"},"score":0,"creation_date":1596583111,"post_id":61152718,"comment_id":111856430,"body_markdown":"Any news on this?","body":"Any news on this?"},{"owner":{"account_id":9787782,"reputation":1259,"user_id":7253534,"accept_rate":100,"display_name":"MathieuAuclair"},"score":0,"creation_date":1628174291,"post_id":61152718,"comment_id":121355336,"body_markdown":"Does it have to be a private meeting? From what I understand, you want to create a private meeting scheduler basically where you have a platform that already does something and you want to embed google meetings in there, right?","body":"Does it have to be a private meeting? From what I understand, you want to create a private meeting scheduler basically where you have a platform that already does something and you want to embed google meetings in there, right?"},{"owner":{"account_id":6837963,"reputation":848,"user_id":5259214,"display_name":"Prakash Boda"},"score":0,"creation_date":1638283865,"post_id":61152718,"comment_id":124043886,"body_markdown":"I think for security reason google is not allowing any random person to join using link. So you can use http://meet.google.com/new API but person whose credentials is used might need to escort other members to join using generated link. You can not let anyone in without host&#39;s permission.","body":"I think for security reason google is not allowing any random person to join using link. So you can use <a href=\"http://meet.google.com/new\" rel=\"nofollow noreferrer\">meet.google.com/new</a> API but person whose credentials is used might need to escort other members to join using generated link. You can not let anyone in without host&#39;s permission."}],"answers":[{"tags":[],"owner":{"account_id":23154670,"reputation":159,"user_id":17256101,"display_name":"Amir Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639768631,"creation_date":1639768631,"answer_id":70397938,"question_id":61152718,"body_markdown":"**There Is No SDK OR Direct API For Google Meet.**","title":"Send Meeting URL using Google Meet API","body":"<p><strong>There Is No SDK OR Direct API For Google Meet.</strong></p>\n"},{"tags":[],"owner":{"account_id":3385949,"reputation":4061,"user_id":2841903,"accept_rate":64,"display_name":"Bart Bergmans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644577003,"creation_date":1644577003,"answer_id":71078954,"question_id":61152718,"body_markdown":"You could maybe create a Google Calendar Event and associate it with Google Meet (hangoutsMeet).\r\nhttps://developers.google.com/calendar/api/guides/create-events","title":"Send Meeting URL using Google Meet API","body":"<p>You could maybe create a Google Calendar Event and associate it with Google Meet (hangoutsMeet).\n<a href=\"https://developers.google.com/calendar/api/guides/create-events\" rel=\"nofollow noreferrer\">https://developers.google.com/calendar/api/guides/create-events</a></p>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652627887,"creation_date":1652627887,"answer_id":72249579,"question_id":61152718,"body_markdown":"As mentioned in following link you can create meeting, add attendees and get meeting link\r\n[https://developers.google.com/calendar/api/guides/create-events#java][1]\r\n\r\n            Event event = new Event()\r\n        .setSummary(&quot;Google I/O 2015&quot;)\r\n        .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\r\n        .setDescription(&quot;A chance to hear more about Google&#39;s developer products.&quot;);\r\n    DateTime startDateTime = new DateTime(&quot;2015-05-28T09:00:00-07:00&quot;);\r\n    EventDateTime start = new EventDateTime()\r\n        .setDateTime(startDateTime)\r\n        .setTimeZone(&quot;America/Los_Angeles&quot;);\r\n    event.setStart(start);\r\n    DateTime endDateTime = new DateTime(&quot;2015-05-28T17:00:00-07:00&quot;);\r\n    EventDateTime end = new EventDateTime()\r\n        .setDateTime(endDateTime)\r\n        .setTimeZone(&quot;America/Los_Angeles&quot;);\r\n    event.setEnd(end);\r\n    String[] recurrence = new String[] {&quot;RRULE:FREQ=DAILY;COUNT=2&quot;};\r\n    event.setRecurrence(Arrays.asList(recurrence));\r\n    EventAttendee[] attendees = new EventAttendee[] {\r\n        new EventAttendee().setEmail(&quot;lpage@example.com&quot;),\r\n        new EventAttendee().setEmail(&quot;sbrin@example.com&quot;),\r\n    };\r\n    event.setAttendees(Arrays.asList(attendees));\r\n    EventReminder[] reminderOverrides = new EventReminder[] {\r\n        new EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\r\n        new EventReminder().setMethod(&quot;popup&quot;).setMinutes(10),\r\n    };\r\n    Event.Reminders reminders = new Event.Reminders()\r\n        .setUseDefault(false)\r\n        .setOverrides(Arrays.asList(reminderOverrides));\r\n    event.setReminders(reminders);\r\n    String calendarId = &quot;primary&quot;;\r\n    event = service.events().insert(calendarId, event).execute();\r\n    System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\r\n\r\n  [1]: https://developers.google.com/calendar/api/guides/create-events#java\r\nAs you see in snippet `event.getHtmlLink()` gives the meeting URL.\r\n","title":"Send Meeting URL using Google Meet API","body":"<p>As mentioned in following link you can create meeting, add attendees and get meeting link\n<a href=\"https://developers.google.com/calendar/api/guides/create-events#java\" rel=\"nofollow noreferrer\">https://developers.google.com/calendar/api/guides/create-events#java</a></p>\n<pre><code>        Event event = new Event()\n    .setSummary(&quot;Google I/O 2015&quot;)\n    .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\n    .setDescription(&quot;A chance to hear more about Google's developer products.&quot;);\nDateTime startDateTime = new DateTime(&quot;2015-05-28T09:00:00-07:00&quot;);\nEventDateTime start = new EventDateTime()\n    .setDateTime(startDateTime)\n    .setTimeZone(&quot;America/Los_Angeles&quot;);\nevent.setStart(start);\nDateTime endDateTime = new DateTime(&quot;2015-05-28T17:00:00-07:00&quot;);\nEventDateTime end = new EventDateTime()\n    .setDateTime(endDateTime)\n    .setTimeZone(&quot;America/Los_Angeles&quot;);\nevent.setEnd(end);\nString[] recurrence = new String[] {&quot;RRULE:FREQ=DAILY;COUNT=2&quot;};\nevent.setRecurrence(Arrays.asList(recurrence));\nEventAttendee[] attendees = new EventAttendee[] {\n    new EventAttendee().setEmail(&quot;lpage@example.com&quot;),\n    new EventAttendee().setEmail(&quot;sbrin@example.com&quot;),\n};\nevent.setAttendees(Arrays.asList(attendees));\nEventReminder[] reminderOverrides = new EventReminder[] {\n    new EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\n    new EventReminder().setMethod(&quot;popup&quot;).setMinutes(10),\n};\nEvent.Reminders reminders = new Event.Reminders()\n    .setUseDefault(false)\n    .setOverrides(Arrays.asList(reminderOverrides));\nevent.setReminders(reminders);\nString calendarId = &quot;primary&quot;;\nevent = service.events().insert(calendarId, event).execute();\nSystem.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\n</code></pre>\n<p>As you see in snippet <code>event.getHtmlLink()</code> gives the meeting URL.</p>\n"}],"owner":{"account_id":1020556,"reputation":688,"user_id":1031013,"accept_rate":29,"display_name":"Himanshu Arora"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13436,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"closed_date":1675784503,"answer_count":3,"score":28,"last_activity_date":1673572179,"creation_date":1586584810,"question_id":61152718,"body_markdown":"I want to create Java Spring application using google meet api where I&#39;ll generate a meeting link using which two people could join. Basically, it&#39;s like creating an event for two attendees (user could be of any domain) and send them meeting link using which they can join at some scheduled time using google hangout.\r\n\r\nI tried this example here: https://developers.google.com/calendar/v3/reference/events#resource\r\n\r\nBut I think this is not the right one since want to generate meeting invite link where two random users can join using a link and in their response there&#39;s a hangout link which can only be used by domain users.\r\n\r\nAlso, in this [link][1], it is mentioned that we can generate meeting URLs with no API calls but then guests who aren&#39;t part of my domain won&#39;t be able to join and I wanted to have an independent meeting link.\r\n\r\nCan someone please point me in the right direction?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35669781/generating-a-google-hanghouts-meeting-url","title":"Send Meeting URL using Google Meet API","body":"<p>I want to create Java Spring application using google meet api where I'll generate a meeting link using which two people could join. Basically, it's like creating an event for two attendees (user could be of any domain) and send them meeting link using which they can join at some scheduled time using google hangout.</p>\n\n<p>I tried this example here: <a href=\"https://developers.google.com/calendar/v3/reference/events#resource\" rel=\"noreferrer\">https://developers.google.com/calendar/v3/reference/events#resource</a></p>\n\n<p>But I think this is not the right one since want to generate meeting invite link where two random users can join using a link and in their response there's a hangout link which can only be used by domain users.</p>\n\n<p>Also, in this <a href=\"https://stackoverflow.com/questions/35669781/generating-a-google-hanghouts-meeting-url\">link</a>, it is mentioned that we can generate meeting URLs with no API calls but then guests who aren't part of my domain won't be able to join and I wanted to have an independent meeting link.</p>\n\n<p>Can someone please point me in the right direction?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":25,"creation_date":1629493635,"post_id":68867895,"comment_id":121710169,"body_markdown":"You stop upgrading to the latest versions of Java faster than popular Java software can support.","body":"You stop upgrading to the latest versions of Java faster than popular Java software can support."},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1629494337,"post_id":68867895,"comment_id":121710330,"body_markdown":"@GilbertLeBlanc it&#39;s a fair point and you could be right. It&#39;s my concern/suspicion that yet another `--add-opens` will be the prescription long term though. These frameworks need to do some cheeky things I&#39;m not sure there are alternatives for.","body":"@GilbertLeBlanc it&#39;s a fair point and you could be right. It&#39;s my concern/suspicion that yet another <code>--add-opens</code> will be the prescription long term though. These frameworks need to do some cheeky things I&#39;m not sure there are alternatives for."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":13,"creation_date":1629551691,"post_id":68867895,"comment_id":121718961,"body_markdown":"it is pretty much the same. People from jdk say - &quot;don&#39;t use Unsafe, really.&quot; people still do. &quot;we will deprecate it its usage&quot;, people still use it. &quot;that&#39;s it, it has been 10 years already&quot;. but you are breaking our frameworks!!! I do not know exactly who is to blame, but the fact is there. We personally stopped upgrading at jdk-16 and can&#39;t move to jdk-17 for multiple libraries. We slowly either remove them, or work fixing the defects, or watch closely when that happens. It&#39;s complicated, I agree with you.","body":"it is pretty much the same. People from jdk say - &quot;don&#39;t use Unsafe, really.&quot; people still do. &quot;we will deprecate it its usage&quot;, people still use it. &quot;that&#39;s it, it has been 10 years already&quot;. but you are breaking our frameworks!!! I do not know exactly who is to blame, but the fact is there. We personally stopped upgrading at jdk-16 and can&#39;t move to jdk-17 for multiple libraries. We slowly either remove them, or work fixing the defects, or watch closely when that happens. It&#39;s complicated, I agree with you."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":5,"creation_date":1629552058,"post_id":68867895,"comment_id":121719028,"body_markdown":"there is a good discussion [here](https://www.reddit.com/r/java/comments/n2j9pw/a_peek_into_java_17_continuing_the_drive_to/) also","body":"there is a good discussion <a href=\"https://www.reddit.com/r/java/comments/n2j9pw/a_peek_into_java_17_continuing_the_drive_to/\" rel=\"nofollow noreferrer\">here</a> also"},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":1,"creation_date":1631727239,"post_id":68867895,"comment_id":122303028,"body_markdown":"There exists a terrible hack that allows to open arbitrary packages from code to the calling module at runtime. It uses `sun.misc.Unsafe` and some implementation-dependent knowledge. It still works on Java 17 GA but may break at any time in the future. I can give you a hint if you are nonetheless interested.","body":"There exists a terrible hack that allows to open arbitrary packages from code to the calling module at runtime. It uses <code>sun.misc.Unsafe</code> and some implementation-dependent knowledge. It still works on Java 17 GA but may break at any time in the future. I can give you a hint if you are nonetheless interested."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1631996691,"post_id":68867895,"comment_id":122376070,"body_markdown":"I&#39;ve yet to see widespread adoption of JPMS. I suspect the only software it helped is the JDK itself. @GilbertLeBlanc `--add-opens` flag has been around since Java 9 (Sep 2017); if &quot;popular Java s/w&quot; don&#39;t support it by now, they have no burning incentive to support ever.","body":"I&#39;ve yet to see widespread adoption of JPMS. I suspect the only software it helped is the JDK itself. @GilbertLeBlanc <code>--add-opens</code> flag has been around since Java 9 (Sep 2017); if &quot;popular Java s/w&quot; don&#39;t support it by now, they have no burning incentive to support ever."},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1659130729,"post_id":68867895,"comment_id":129228475,"body_markdown":"@StefanZobel looking at unsafe, I don&#39;t really see how that allows access... hint definitely needed","body":"@StefanZobel looking at unsafe, I don&#39;t really see how that allows access... hint definitely needed"},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":2,"creation_date":1659178776,"post_id":68867895,"comment_id":129234896,"body_markdown":"@JonathanS.Fisher See for example https://github.com/stefan-zobel/wip/blob/master/src/main/java/misc/AddOpens.java I believe the idea originated in Project Lombok but I don&#39;t have a reference at the moment.","body":"@JonathanS.Fisher See for example <a href=\"https://github.com/stefan-zobel/wip/blob/master/src/main/java/misc/AddOpens.java\" rel=\"nofollow noreferrer\">github.com/stefan-zobel/wip/blob/master/src/main/java/misc/&hellip;</a> I believe the idea originated in Project Lombok but I don&#39;t have a reference at the moment."},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1659229132,"post_id":68867895,"comment_id":129244452,"body_markdown":"Thanks. That got me to the finish line. Appreciate it","body":"Thanks. That got me to the finish line. Appreciate it"}],"answers":[{"tags":[],"owner":{"account_id":8656822,"reputation":91,"user_id":6480805,"display_name":"Juan Pablo Medina Adame"},"down_vote_count":8,"up_vote_count":10,"is_accepted":false,"score":2,"last_activity_date":1657895624,"creation_date":1654533322,"answer_id":72520789,"question_id":68867895,"body_markdown":"From [this article](https://dzone.com/articles/how-to-export-all-modules-to-all-modules-at-runtime-in-java?preview=true) it seems that you can avoid resorting to `--add-opens` by exporting the modules at runtime through the methods of the Burningwave Core library:\r\n* `org.burningwave.core.assembler.StaticComponentContainer.Modules.exportAllToAll()`\r\n* `org.burningwave.core.assembler.StaticComponentContainer.Modules.exportPackageToAllUnnamed(&quot;java.base&quot;,&quot;java.lang&quot;)`","title":"In Java 17 how do I avoid resorting to --add-opens?","body":"<p>From <a href=\"https://dzone.com/articles/how-to-export-all-modules-to-all-modules-at-runtime-in-java?preview=true\" rel=\"nofollow noreferrer\">this article</a> it seems that you can avoid resorting to <code>--add-opens</code> by exporting the modules at runtime through the methods of the Burningwave Core library:</p>\n<ul>\n<li><code>org.burningwave.core.assembler.StaticComponentContainer.Modules.exportAllToAll()</code></li>\n<li><code>org.burningwave.core.assembler.StaticComponentContainer.Modules.exportPackageToAllUnnamed(&quot;java.base&quot;,&quot;java.lang&quot;)</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16320840,"reputation":71,"user_id":11786683,"display_name":"bluelhf"},"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1656529325,"creation_date":1656529325,"answer_id":72806558,"question_id":68867895,"body_markdown":"You don&#39;t, JDK internals are encapsulated for a reason.\r\n\r\n...\r\n\r\n...\r\n\r\nOkay, are they gone now?\r\n\r\n\r\nYou can use [Overlord](https://github.com/Moderocky/Overlord) by Mackenzie Scott to do various incredibly dangerous things nobody should ever do, including but not limited to:\r\n- Creating objects without calling their constructors\r\n- Casting values to incompatible types\r\n- Managing memory directly, and indeed,\r\n- Forcibly accessing JDK internals.\r\n\r\nSpecifically, see (or, rather, don&#39;t see) `Overlord.breakEncapsulation(Class, Class, boolean)` and `Overlord.allowAccess(Class, Class, boolean)`.","title":"In Java 17 how do I avoid resorting to --add-opens?","body":"<p>You don't, JDK internals are encapsulated for a reason.</p>\n<p>...</p>\n<p>...</p>\n<p>Okay, are they gone now?</p>\n<p>You can use <a href=\"https://github.com/Moderocky/Overlord\" rel=\"nofollow noreferrer\">Overlord</a> by Mackenzie Scott to do various incredibly dangerous things nobody should ever do, including but not limited to:</p>\n<ul>\n<li>Creating objects without calling their constructors</li>\n<li>Casting values to incompatible types</li>\n<li>Managing memory directly, and indeed,</li>\n<li>Forcibly accessing JDK internals.</li>\n</ul>\n<p>Specifically, see (or, rather, don't see) <code>Overlord.breakEncapsulation(Class, Class, boolean)</code> and <code>Overlord.allowAccess(Class, Class, boolean)</code>.</p>\n"}],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21963,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"answer_count":2,"score":39,"last_activity_date":1673572071,"creation_date":1629492388,"question_id":68867895,"body_markdown":"As of Java 17 `--illegal-access` is effectively obsolete https://openjdk.java.net/jeps/403\r\n\r\n&gt; Any use of this option, whether with permit, warn, debug, or deny,\r\n&gt; will have no effect other than to issue a warning message. We expect\r\n&gt; to remove the --illegal-access option entirely in a future release.\r\n\r\nBecause of this, using openjdk17 early access builds, I&#39;m seeing an issue with `jackson` https://github.com/FasterXML/jackson-databind/issues/3168. It seems to me that they&#39;re advocating `--add-opens` usage and struggle to envisage a holistic &quot;fix&quot;.\r\n\r\nI&#39;d like to avoid adding `--add-opens` because if it&#39;s not `jackson`, it&#39;s the next dependency. I don&#39;t want to have to change JVM args across environments because of dependency changes. How do I avoid this?","title":"In Java 17 how do I avoid resorting to --add-opens?","body":"<p>As of Java 17 <code>--illegal-access</code> is effectively obsolete <a href=\"https://openjdk.java.net/jeps/403\" rel=\"noreferrer\">https://openjdk.java.net/jeps/403</a></p>\n<blockquote>\n<p>Any use of this option, whether with permit, warn, debug, or deny,\nwill have no effect other than to issue a warning message. We expect\nto remove the --illegal-access option entirely in a future release.</p>\n</blockquote>\n<p>Because of this, using openjdk17 early access builds, I'm seeing an issue with <code>jackson</code> <a href=\"https://github.com/FasterXML/jackson-databind/issues/3168\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/issues/3168</a>. It seems to me that they're advocating <code>--add-opens</code> usage and struggle to envisage a holistic &quot;fix&quot;.</p>\n<p>I'd like to avoid adding <code>--add-opens</code> because if it's not <code>jackson</code>, it's the next dependency. I don't want to have to change JVM args across environments because of dependency changes. How do I avoid this?</p>\n"},{"tags":["java","json","timestamp","format","transformer-model"],"owner":{"account_id":27496692,"reputation":39,"user_id":20981101,"display_name":"TheCrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1673571758,"creation_date":1673564511,"question_id":75103200,"body_markdown":"i will try to be more clear as possible. My project uses 2 containers to execute a service and get data from my DB2 . The first container passes input data through an IRestRequestTransformer that convert my data to be readable by the second container. The second container execute a query on my DB2 and extract the data I need. This data returns to the first container through an IRestResponseTransformer. In my case the data i&#39;m trying to get is a Timestamp with microseconds precision that for example will be &quot;2022-09-23 11.25.52.660135&quot; . I can see that this Timestamp is correct when the query is executed on the second container :\r\n\r\n[![The parameter is called timestampInsB03 in this case][1]][1] \r\n\r\nbut when it passes through the IRestResponseTransformer it gets cut and on my first container i only get &quot;2022-09-23 11.25.52.660&quot; without microseconds: \r\n\r\n[![timestampInsB03 here too][2]][2]\r\n\r\nThe model of the table contains the mapping of all the columns with getter and setter like this :\r\n\r\n```\r\n@Column(name = &quot;TIMESTAMP_INS_B03&quot;)\r\nprivate Timestamp timestampB03;\r\n\r\npublic Timestamp getTimestampInsB03() {\r\n\t\treturn timestampInsB03;\r\n\t}\r\n\r\n\tpublic void setTimestampInsB03(Timestamp timestampInsB03) {\r\n\t\tthis.timestampInsB03 = timestampInsB03;\r\n\t}\r\n\r\n```\r\n\r\nI work with json and I wonder if exist an annotation like JsonFormat to specify that I need to keep microseconds or something similar. If you need more informations tell me and I will answer.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ETmeG.png\r\n  [2]: https://i.stack.imgur.com/vHr4i.png","title":"I lose microseconds when Timestamp passes through my IRestResponseTransformer in Java SpringBoot","body":"<p>i will try to be more clear as possible. My project uses 2 containers to execute a service and get data from my DB2 . The first container passes input data through an IRestRequestTransformer that convert my data to be readable by the second container. The second container execute a query on my DB2 and extract the data I need. This data returns to the first container through an IRestResponseTransformer. In my case the data i'm trying to get is a Timestamp with microseconds precision that for example will be &quot;2022-09-23 11.25.52.660135&quot; . I can see that this Timestamp is correct when the query is executed on the second container :</p>\n<p><a href=\"https://i.stack.imgur.com/ETmeG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETmeG.png\" alt=\"The parameter is called timestampInsB03 in this case\" /></a></p>\n<p>but when it passes through the IRestResponseTransformer it gets cut and on my first container i only get &quot;2022-09-23 11.25.52.660&quot; without microseconds:</p>\n<p><a href=\"https://i.stack.imgur.com/vHr4i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vHr4i.png\" alt=\"timestampInsB03 here too\" /></a></p>\n<p>The model of the table contains the mapping of all the columns with getter and setter like this :</p>\n<pre><code>@Column(name = &quot;TIMESTAMP_INS_B03&quot;)\nprivate Timestamp timestampB03;\n\npublic Timestamp getTimestampInsB03() {\n        return timestampInsB03;\n    }\n\n    public void setTimestampInsB03(Timestamp timestampInsB03) {\n        this.timestampInsB03 = timestampInsB03;\n    }\n\n</code></pre>\n<p>I work with json and I wonder if exist an annotation like JsonFormat to specify that I need to keep microseconds or something similar. If you need more informations tell me and I will answer.</p>\n"},{"tags":["java","2d","processing"],"answers":[{"tags":[],"owner":{"account_id":26126806,"reputation":156,"user_id":20940969,"display_name":"Claudio Guti&#233;rrez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673571741,"creation_date":1673571428,"answer_id":75103825,"question_id":75103706,"body_markdown":"You can use/create some attribute in your Enemy object to know/check if is alive or death.\r\n\r\nFor example in your check collision you can add\r\n\r\n    if (distance &lt; e.x / 2) { \r\n     // assuming enemy.size is the radius of the\r\n     e.alive = false \r\n    }\r\n\r\nEdit: I dont know how your manage the Enemy object and if it can be modified directly in the check collision method if this is not possible then you need to find a way to have access inside the method or use a return and manage that return outside.","title":"Remove enemy when bullet hits them","body":"<p>You can use/create some attribute in your Enemy object to know/check if is alive or death.</p>\n<p>For example in your check collision you can add</p>\n<pre><code>if (distance &lt; e.x / 2) { \n // assuming enemy.size is the radius of the\n e.alive = false \n}\n</code></pre>\n<p>Edit: I dont know how your manage the Enemy object and if it can be modified directly in the check collision method if this is not possible then you need to find a way to have access inside the method or use a return and manage that return outside.</p>\n"}],"owner":{"account_id":27322156,"reputation":1,"user_id":20835668,"display_name":"Tauruie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673571741,"creation_date":1673570050,"question_id":75103706,"body_markdown":"```\r\nclass Bullet {\r\n  float bulletX, bulletY;\r\n  float angle;\r\n  int x; \r\n  int y;\r\n  int score;  // add a score variable\r\n  static final float BULLET_SPEED = 5;  // define a constant for the bullet&#39;s speed\r\n\r\n\r\n\r\n  Bullet(float x, float y, float angle) {\r\n    this.bulletX = x;\r\n    this.bulletY = y;\r\n    this.angle = angle;\r\n  }\r\n\r\n\r\n  // Updates the position of the bullet based on its angle and speed.\r\n  void update() {\r\n    bulletX += cos(angle) * BULLET_SPEED;\r\n    bulletY += sin(angle) * BULLET_SPEED;\r\n  }\r\n\r\n\r\n  // Draws the bullet image on the screen.\r\n\r\n  void show() {\r\n    drawBullet();\r\n  }\r\n\r\n\r\n  // Draws the bullet image on the screen.\r\n\r\n  void drawBullet() {\r\n    image(Bulletimg, bulletX, bulletY);\r\n    Bulletimg.resize(30, 30);\r\n    \r\n    \r\n    \r\n  }\r\n\r\n\r\n  //Returns true if the bullet is off screen, false otherwise.\r\n\r\n  boolean offScreen() {\r\n    return bulletX &lt; 0 || bulletX &gt; width || bulletY &lt; 0 || bulletY &gt; height;\r\n  }\r\n\r\n\r\n  //Checks if the bullet hits the enemy, and updates the score and enemy position accordingly.\r\n  // check for collision\r\n\r\n  void checkCollision(Enemy e) {\r\n    float distance = dist(bulletX, bulletY, e.x, e.y);\r\n    if (distance &lt; e.x / 2) { \r\n     // assuming enemy.size is the radius of the\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI tried changing around the  check collision(enemy e) block and I&#39;m not sure how i would go about removing an enemy object and also updating my score. i&#39;ve tried messing about with the draw(); method but i cant seem to figure it out without breaking my entire game. any help with this class would be much appreciated.","title":"Remove enemy when bullet hits them","body":"<pre><code>class Bullet {\n  float bulletX, bulletY;\n  float angle;\n  int x; \n  int y;\n  int score;  // add a score variable\n  static final float BULLET_SPEED = 5;  // define a constant for the bullet's speed\n\n\n\n  Bullet(float x, float y, float angle) {\n    this.bulletX = x;\n    this.bulletY = y;\n    this.angle = angle;\n  }\n\n\n  // Updates the position of the bullet based on its angle and speed.\n  void update() {\n    bulletX += cos(angle) * BULLET_SPEED;\n    bulletY += sin(angle) * BULLET_SPEED;\n  }\n\n\n  // Draws the bullet image on the screen.\n\n  void show() {\n    drawBullet();\n  }\n\n\n  // Draws the bullet image on the screen.\n\n  void drawBullet() {\n    image(Bulletimg, bulletX, bulletY);\n    Bulletimg.resize(30, 30);\n    \n    \n    \n  }\n\n\n  //Returns true if the bullet is off screen, false otherwise.\n\n  boolean offScreen() {\n    return bulletX &lt; 0 || bulletX &gt; width || bulletY &lt; 0 || bulletY &gt; height;\n  }\n\n\n  //Checks if the bullet hits the enemy, and updates the score and enemy position accordingly.\n  // check for collision\n\n  void checkCollision(Enemy e) {\n    float distance = dist(bulletX, bulletY, e.x, e.y);\n    if (distance &lt; e.x / 2) { \n     // assuming enemy.size is the radius of the\n    }\n  }\n}\n</code></pre>\n<p>I tried changing around the  check collision(enemy e) block and I'm not sure how i would go about removing an enemy object and also updating my score. i've tried messing about with the draw(); method but i cant seem to figure it out without breaking my entire game. any help with this class would be much appreciated.</p>\n"},{"tags":["java","android","android-studio","button"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673588031,"post_id":75103669,"comment_id":132537303,"body_markdown":"what is the current output and what exactly is the problem you have?","body":"what is the current output and what exactly is the problem you have?"},{"owner":{"account_id":23188436,"reputation":1,"user_id":17285155,"display_name":"ahsdsgfc"},"score":0,"creation_date":1673591795,"post_id":75103669,"comment_id":132537895,"body_markdown":"When I click the shuffle button it went to another other set of word, then when I type the correct answer it say it&#39;s wrong.","body":"When I click the shuffle button it went to another other set of word, then when I type the correct answer it say it&#39;s wrong."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673595309,"post_id":75103669,"comment_id":132538657,"body_markdown":"isn&#39;t it because you increment `j` and `setText` only after that in the `onClick` method?","body":"isn&#39;t it because you increment <code>j</code> and <code>setText</code> only after that in the <code>onClick</code> method?"},{"owner":{"account_id":23188436,"reputation":1,"user_id":17285155,"display_name":"ahsdsgfc"},"score":0,"creation_date":1673597438,"post_id":75103669,"comment_id":132539238,"body_markdown":"Can you help me. What can I do to fix it? I&#39;m not really familiar in this.","body":"Can you help me. What can I do to fix it? I&#39;m not really familiar in this."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673677828,"post_id":75103669,"comment_id":132556335,"body_markdown":"what is `j` variable in the `onClick` method representing and why are you incrementing it?","body":"what is <code>j</code> variable in the <code>onClick</code> method representing and why are you incrementing it?"}],"owner":{"account_id":23188436,"reputation":1,"user_id":17285155,"display_name":"ahsdsgfc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673571723,"creation_date":1673569529,"question_id":75103669,"body_markdown":"How can I make a button that scrambles the letter every time I click it? When I try to make another button and then click it, it will scramble the letter. Then, when I got another word, when I clicked again on the scramble button, it was back to the first word I answered. (I&#39;m just new. I&#39;m sorry for my code).\r\n\r\n\r\n     public static String wordJumble(String word )\r\n    {\r\n        Random random = new Random();\r\n        char wordArray[] = word.toCharArray();\r\n        for(int i=0; i&lt; wordArray.length; i++ )\r\n        {\r\n            int j = random.nextInt(wordArray.length);\r\n            char temp = wordArray[i];\r\n            wordArray[i] = wordArray[j];\r\n            wordArray[j] = temp;\r\n        }\r\n        if(wordArray.toString().equals(word)){\r\n            wordJumble(word);\r\n        }\r\n        return new String(wordArray);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        final String [] str=quesWord.toArray(new String[quesWord.size()]);\r\n        attemptsLeft.setText(&quot;Attempts left: &quot;+chances);\r\n        points.setText(&quot;Score: &quot;+score);        \r\n        jumbleWord.setText(wordJumble(str[0]));\r\n        b.setOnClickListener(new OnClickListener() {\r\n            int j=0;\r\n            int len=str.length;\r\n            @Override\r\n            public void onClick(View v) {\r\n                try{\r\n                    if(answerText.getText().toString().trim().equalsIgnoreCase(str[j])){\r\n                        score++;\r\n                        if(score==len){\r\n                            dbHandler.addScore2(&quot;JL&quot;,score);\r\n                            countDownTimer.cancel();\r\n\r\n                            adb.setTitle(&quot;You Won!&quot;);\r\n                            adb.setMessage(&quot;Score: &quot;+score);\r\n                            adb.setPositiveButton(&quot;Okay&quot;, new DialogInterface.OnClickListener() {\r\n\r\n                                @Override\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    finish();\r\n                                }\r\n                            });\r\n                            adb.show();\r\n                        }\r\n                        j++;\r\n                        points.setText(&quot;Score: &quot;+score);\r\n                        jumbleWord.setText((wordJumble(str[j])));\r\n                    }\r\n\r\n&gt; My shuffle Button\r\n\r\n      shuffle.setOnClickListener(new View.OnClickListener() {\r\n            int j=0;\r\n            @Override\r\n            public void onClick(View v) {\r\n                j++;\r\n                jumbleWord.setText((wordJumble(str[j])));\r\n            }\r\n    });\r\n\r\n ","title":"how to scrumble the word if i click a button","body":"<p>How can I make a button that scrambles the letter every time I click it? When I try to make another button and then click it, it will scramble the letter. Then, when I got another word, when I clicked again on the scramble button, it was back to the first word I answered. (I'm just new. I'm sorry for my code).</p>\n<pre><code> public static String wordJumble(String word )\n{\n    Random random = new Random();\n    char wordArray[] = word.toCharArray();\n    for(int i=0; i&lt; wordArray.length; i++ )\n    {\n        int j = random.nextInt(wordArray.length);\n        char temp = wordArray[i];\n        wordArray[i] = wordArray[j];\n        wordArray[j] = temp;\n    }\n    if(wordArray.toString().equals(word)){\n        wordJumble(word);\n    }\n    return new String(wordArray);\n}\n\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    final String [] str=quesWord.toArray(new String[quesWord.size()]);\n    attemptsLeft.setText(&quot;Attempts left: &quot;+chances);\n    points.setText(&quot;Score: &quot;+score);        \n    jumbleWord.setText(wordJumble(str[0]));\n    b.setOnClickListener(new OnClickListener() {\n        int j=0;\n        int len=str.length;\n        @Override\n        public void onClick(View v) {\n            try{\n                if(answerText.getText().toString().trim().equalsIgnoreCase(str[j])){\n                    score++;\n                    if(score==len){\n                        dbHandler.addScore2(&quot;JL&quot;,score);\n                        countDownTimer.cancel();\n\n                        adb.setTitle(&quot;You Won!&quot;);\n                        adb.setMessage(&quot;Score: &quot;+score);\n                        adb.setPositiveButton(&quot;Okay&quot;, new DialogInterface.OnClickListener() {\n\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                finish();\n                            }\n                        });\n                        adb.show();\n                    }\n                    j++;\n                    points.setText(&quot;Score: &quot;+score);\n                    jumbleWord.setText((wordJumble(str[j])));\n                }\n</code></pre>\n<blockquote>\n<p>My shuffle Button</p>\n</blockquote>\n<pre><code>  shuffle.setOnClickListener(new View.OnClickListener() {\n        int j=0;\n        @Override\n        public void onClick(View v) {\n            j++;\n            jumbleWord.setText((wordJumble(str[j])));\n        }\n});\n</code></pre>\n"},{"tags":["java","maven","spring-boot","jpa","mariadb"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1532859861,"post_id":51579317,"comment_id":90123963,"body_markdown":"either your db is not running or it is not accepting connections from the host where your program is running on","body":"either your db is not running or it is not accepting connections from the host where your program is running on"},{"owner":{"account_id":11267945,"reputation":147,"user_id":8264221,"display_name":"H. Gybels"},"score":0,"creation_date":1532861619,"post_id":51579317,"comment_id":90124423,"body_markdown":"it&#39;s running for sure with this user, do you know how could I check if it accepts connections from my host ?","body":"it&#39;s running for sure with this user, do you know how could I check if it accepts connections from my host ?"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1532862281,"post_id":51579317,"comment_id":90124579,"body_markdown":"Have you tried using `localhost` instead of the full IP?","body":"Have you tried using <code>localhost</code> instead of the full IP?"},{"owner":{"account_id":11267945,"reputation":147,"user_id":8264221,"display_name":"H. Gybels"},"score":0,"creation_date":1532862852,"post_id":51579317,"comment_id":90124732,"body_markdown":"The db I want to use is actually not on the same device as the application is running","body":"The db I want to use is actually not on the same device as the application is running"},{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":1,"creation_date":1532863196,"post_id":51579317,"comment_id":90124809,"body_markdown":"You have to configure mariaDB to allow remote connections.","body":"You have to configure mariaDB to allow remote connections."},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":1,"creation_date":1532864035,"post_id":51579317,"comment_id":90124993,"body_markdown":"You might also need to look at your firewall configuration. There is a very good chance that the `connection refused` you&#39;re getting is due to this (aside from the db not accepting remote connections).","body":"You might also need to look at your firewall configuration. There is a very good chance that the <code>connection refused</code> you&#39;re getting is due to this (aside from the db not accepting remote connections)."},{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1532864421,"post_id":51579317,"comment_id":90125107,"body_markdown":"What happen if you do `telnet 192.168.1.25 3306`","body":"What happen if you do <code>telnet 192.168.1.25 3306</code>"},{"owner":{"account_id":11267945,"reputation":147,"user_id":8264221,"display_name":"H. Gybels"},"score":0,"creation_date":1532973983,"post_id":51579317,"comment_id":90165799,"body_markdown":"@Rcordoval here is the telnet result : ```telnet 192.168.1.25 3306\nConnexion &#224; 192.168.1.25...Impossible d’ouvrir une connexion &#224; l’h&#244;te, sur le port 3306: &#201;chec lors de la connexion``` , I guess you were right about allowing remote connections I&#39;m looking for more informations !","body":"@Rcordoval here is the telnet result : <code>telnet 192.168.1.25 3306 Connexion &#224; 192.168.1.25...Impossible d’ouvrir une connexion &#224; l’h&#244;te, sur le port 3306: &#201;chec lors de la connexion</code> , I guess you were right about allowing remote connections I&#39;m looking for more informations !"}],"owner":{"account_id":11267945,"reputation":147,"user_id":8264221,"display_name":"H. Gybels"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13440,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673571680,"creation_date":1532859553,"question_id":51579317,"body_markdown":"I&#39;m trying to set up a **Spring Boot backend** with a **MariaDB database** on my raspberry pi.\r\n\r\nI generated a Spring Boot project from https://start.spring.io, but I cannot configure my datasource connection. \r\n\r\nHere&#39;s my **maven dependencies**: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy **`application.properties`**:\r\n\r\n    spring.datasource.url=jdbc:mariadb://192.168.1.25:3306/mydb\r\n    spring.datasource.username=myuser\r\n    spring.datasource.password=mypwd\r\n    spring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nAnd the **error** I am encountering:\r\n\r\n    java.sql.SQLNonTransientConnectionException: Could not connect to address=(host=192.168.1.25)(port=3306)(type=master) : Connection refused: connect\r\n    \tat org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:175) ~[mariadb-java-client-2.2.5.jar:na]\r\n    \tat org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.connException(ExceptionMapper.java:83) ~[mariadb-java-client-2.2.5.jar:na]\r\n    \tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1111) ~[mariadb-java-client-2.2.5.jar:na]\r\n    \tat org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:502) ~[mariadb-java-client-2.2.5.jar:na]\r\n    \tat org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:155) ~[mariadb-java-client-2.2.5.jar:na]\r\n    \tat org.mariadb.jdbc.Driver.connect(Driver.java:86) ~[mariadb-java-client-2.2.5.jar:na]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:117) ~[HikariCP-2.7.9.jar:na]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:123) ~[HikariCP-2.7.9.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:365) ~[HikariCP-2.7.9.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:194) ~[HikariCP-2.7.9.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:460) [HikariCP-2.7.9.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:534) [HikariCP-2.7.9.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-2.7.9.jar:na]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-2.7.9.jar:na]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:319) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:356) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.DatabaseLookup.getDatabase(DatabaseLookup.java:72) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.JpaProperties.determineDatabase(JpaProperties.java:166) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.jpaVendorAdapter(JpaBaseConfiguration.java:111) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration$$EnhancerBySpringCGLIB$$dcdb9630.CGLIB$jpaVendorAdapter$4(&lt;generated&gt;) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration$$EnhancerBySpringCGLIB$$dcdb9630$$FastClassBySpringCGLIB$$3781dea6.invoke(&lt;generated&gt;) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361) [spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration$$EnhancerBySpringCGLIB$$dcdb9630.jpaVendorAdapter(&lt;generated&gt;) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_181]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_181]\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_181]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1105) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1105) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1105) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat com.hugo.gybelsphotoback.GybelsphotobackApplication.main(GybelsphotobackApplication.java:10) ~[classes/:na]\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_181]\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) ~[na:1.8.0_181]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[na:1.8.0_181]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[na:1.8.0_181]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_181]\r\n    \tat java.net.PlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_181]\r\n    \tat java.net.SocksSocketImpl.connect(Unknown Source) ~[na:1.8.0_181]\r\n    \tat java.net.Socket.connect(Unknown Source) ~[na:1.8.0_181]\r\n    \tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:445) ~[mariadb-java-client-2.2.5.jar:na]\r\n    \tat org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1103) ~[mariadb-java-client-2.2.5.jar:na]\r\n    \t... 76 common frames omitted\r\n\r\n\r\nAny help is appreciated.\r\n\r\n\r\n----------\r\n\r\n\r\n# Edit\r\n\r\nI added my local network in remote connections for the database: \r\n\r\n    MariaDB [(none)]&gt; SELECT User, Host FROM mysql.user WHERE Host &lt;&gt; &#39;localhost&#39;;\r\n\r\n        +------------------+-------------+\r\n        | User             | Host        |\r\n        +------------------+-------------+\r\n        | dbuser@localhost | %           |\r\n        | projetApp        | %           |\r\n        | myuser           | 192.168.1.% |\r\n        +------------------+-------------+\r\n\r\nAnd tried a telnet connection but I still couldn&#39;t connect: \r\n\r\n    telnet 192.168.1.25 3306\r\n    Connexion &#224; 192.168.1.25...Impossible d’ouvrir une connexion &#224; l’h&#244;te, sur le port 3306: &#201;chec lors de la connexion\r\n\r\n\r\n----------\r\n\r\n\r\n# Solution\r\n\r\nI forgot to disable the line `bind-address = 127.0.0.1` in the file: `50-server.cnf`. After doing that, it&#39;s now working just fine! \r\n","title":"Spring boot datasource MariaDB","body":"<p>I'm trying to set up a <strong>Spring Boot backend</strong> with a <strong>MariaDB database</strong> on my raspberry pi.</p>\n<p>I generated a Spring Boot project from <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a>, but I cannot configure my datasource connection.</p>\n<p>Here's my <strong>maven dependencies</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My <strong><code>application.properties</code></strong>:</p>\n<pre><code>spring.datasource.url=jdbc:mariadb://192.168.1.25:3306/mydb\nspring.datasource.username=myuser\nspring.datasource.password=mypwd\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n<p>And the <strong>error</strong> I am encountering:</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Could not connect to address=(host=192.168.1.25)(port=3306)(type=master) : Connection refused: connect\n    at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:175) ~[mariadb-java-client-2.2.5.jar:na]\n    at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.connException(ExceptionMapper.java:83) ~[mariadb-java-client-2.2.5.jar:na]\n    at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1111) ~[mariadb-java-client-2.2.5.jar:na]\n    at org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:502) ~[mariadb-java-client-2.2.5.jar:na]\n    at org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:155) ~[mariadb-java-client-2.2.5.jar:na]\n    at org.mariadb.jdbc.Driver.connect(Driver.java:86) ~[mariadb-java-client-2.2.5.jar:na]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:117) ~[HikariCP-2.7.9.jar:na]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:123) ~[HikariCP-2.7.9.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:365) ~[HikariCP-2.7.9.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:194) ~[HikariCP-2.7.9.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:460) [HikariCP-2.7.9.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:534) [HikariCP-2.7.9.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-2.7.9.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-2.7.9.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:319) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:356) [spring-jdbc-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.DatabaseLookup.getDatabase(DatabaseLookup.java:72) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaProperties.determineDatabase(JpaProperties.java:166) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.jpaVendorAdapter(JpaBaseConfiguration.java:111) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration$$EnhancerBySpringCGLIB$$dcdb9630.CGLIB$jpaVendorAdapter$4(&lt;generated&gt;) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration$$EnhancerBySpringCGLIB$$dcdb9630$$FastClassBySpringCGLIB$$3781dea6.invoke(&lt;generated&gt;) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361) [spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration$$EnhancerBySpringCGLIB$$dcdb9630.jpaVendorAdapter(&lt;generated&gt;) [spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_181]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_181]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_181]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1105) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1105) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1105) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at com.hugo.gybelsphotoback.GybelsphotobackApplication.main(GybelsphotobackApplication.java:10) ~[classes/:na]\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_181]\n    at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) ~[na:1.8.0_181]\n    at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[na:1.8.0_181]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[na:1.8.0_181]\n    at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_181]\n    at java.net.PlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_181]\n    at java.net.SocksSocketImpl.connect(Unknown Source) ~[na:1.8.0_181]\n    at java.net.Socket.connect(Unknown Source) ~[na:1.8.0_181]\n    at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connect(AbstractConnectProtocol.java:445) ~[mariadb-java-client-2.2.5.jar:na]\n    at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1103) ~[mariadb-java-client-2.2.5.jar:na]\n    ... 76 common frames omitted\n</code></pre>\n<p>Any help is appreciated.</p>\n<hr />\n<h1>Edit</h1>\n<p>I added my local network in remote connections for the database:</p>\n<pre><code>MariaDB [(none)]&gt; SELECT User, Host FROM mysql.user WHERE Host &lt;&gt; 'localhost';\n\n    +------------------+-------------+\n    | User             | Host        |\n    +------------------+-------------+\n    | dbuser@localhost | %           |\n    | projetApp        | %           |\n    | myuser           | 192.168.1.% |\n    +------------------+-------------+\n</code></pre>\n<p>And tried a telnet connection but I still couldn't connect:</p>\n<pre><code>telnet 192.168.1.25 3306\nConnexion à 192.168.1.25...Impossible d’ouvrir une connexion à l’hôte, sur le port 3306: Échec lors de la connexion\n</code></pre>\n<hr />\n<h1>Solution</h1>\n<p>I forgot to disable the line <code>bind-address = 127.0.0.1</code> in the file: <code>50-server.cnf</code>. After doing that, it's now working just fine!</p>\n"},{"tags":["java","mongodb","in-memory-database"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1659074720,"post_id":73162164,"comment_id":129213096,"body_markdown":"This may be useful in your case: https://www.mongodb.com/docs/v5.0/core/inmemory/","body":"This may be useful in your case: <a href=\"https://www.mongodb.com/docs/v5.0/core/inmemory/\" rel=\"nofollow noreferrer\">mongodb.com/docs/v5.0/core/inmemory</a>"},{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1659363283,"post_id":73162164,"comment_id":129270571,"body_markdown":"Is this for testing? Or do you want an actual in memory DB with a mongo interface?","body":"Is this for testing? Or do you want an actual in memory DB with a mongo interface?"}],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673570524,"creation_date":1673570524,"answer_id":75103742,"question_id":73162164,"body_markdown":"I think now the only option is Embedded MongoDB.\r\n\r\n[Here](https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo) is the github project.  \r\nAnd [here](https://mvnrepository.com/artifact/de.flapdoodle.embed/de.flapdoodle.embed.mongo) the maven repository.\r\n\r\nAnd a [Baeldung guide](https://www.baeldung.com/spring-boot-embedded-mongodb) where show this example:\r\n\r\n```java\r\n@DataMongoTest\r\n@ExtendWith(SpringExtension.class)\r\npublic class MongoDbSpringIntegrationTest {\r\n    @DisplayName(&quot;given object to save&quot;\r\n        + &quot; when save object using MongoDB template&quot;\r\n        + &quot; then object is saved&quot;)\r\n    @Test\r\n    public void test(@Autowired MongoTemplate mongoTemplate) {\r\n        // given\r\n        DBObject objectToSave = BasicDBObjectBuilder.start()\r\n            .add(&quot;key&quot;, &quot;value&quot;)\r\n            .get();\r\n\r\n        // when\r\n        mongoTemplate.save(objectToSave, &quot;collection&quot;);\r\n\r\n        // then\r\n        assertThat(mongoTemplate.findAll(DBObject.class, &quot;collection&quot;)).extracting(&quot;key&quot;)\r\n            .containsOnly(&quot;value&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd another example is in [this question](https://stackoverflow.com/a/54244131/13464279) updated in 2022.\r\n\r\n```java\r\n@Test\r\npublic void shouldCreateNewObjectInEmbeddedMongoDb() {\r\n\t// given\r\n\tMongoDatabase db = mongo.getDatabase(DATABASE_NAME);\r\n\tdb.createCollection(&quot;testCollection&quot;);\r\n\tMongoCollection&lt;BasicDBObject&gt; col = db.getCollection(&quot;testCollection&quot;, BasicDBObject.class);\r\n\r\n\t// when\r\n\tcol.insertOne(new BasicDBObject(&quot;testDoc&quot;, new Date()));\r\n\r\n\t// then\r\n\tassertEquals(1L, col.countDocuments());\r\n}\r\n```","title":"Java - In memory MongoDb for testing","body":"<p>I think now the only option is Embedded MongoDB.</p>\n<p><a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo\" rel=\"nofollow noreferrer\">Here</a> is the github project.<br />\nAnd <a href=\"https://mvnrepository.com/artifact/de.flapdoodle.embed/de.flapdoodle.embed.mongo\" rel=\"nofollow noreferrer\">here</a> the maven repository.</p>\n<p>And a <a href=\"https://www.baeldung.com/spring-boot-embedded-mongodb\" rel=\"nofollow noreferrer\">Baeldung guide</a> where show this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataMongoTest\n@ExtendWith(SpringExtension.class)\npublic class MongoDbSpringIntegrationTest {\n    @DisplayName(&quot;given object to save&quot;\n        + &quot; when save object using MongoDB template&quot;\n        + &quot; then object is saved&quot;)\n    @Test\n    public void test(@Autowired MongoTemplate mongoTemplate) {\n        // given\n        DBObject objectToSave = BasicDBObjectBuilder.start()\n            .add(&quot;key&quot;, &quot;value&quot;)\n            .get();\n\n        // when\n        mongoTemplate.save(objectToSave, &quot;collection&quot;);\n\n        // then\n        assertThat(mongoTemplate.findAll(DBObject.class, &quot;collection&quot;)).extracting(&quot;key&quot;)\n            .containsOnly(&quot;value&quot;);\n    }\n}\n</code></pre>\n<p>And another example is in <a href=\"https://stackoverflow.com/a/54244131/13464279\">this question</a> updated in 2022.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void shouldCreateNewObjectInEmbeddedMongoDb() {\n    // given\n    MongoDatabase db = mongo.getDatabase(DATABASE_NAME);\n    db.createCollection(&quot;testCollection&quot;);\n    MongoCollection&lt;BasicDBObject&gt; col = db.getCollection(&quot;testCollection&quot;, BasicDBObject.class);\n\n    // when\n    col.insertOne(new BasicDBObject(&quot;testDoc&quot;, new Date()));\n\n    // then\n    assertEquals(1L, col.countDocuments());\n}\n</code></pre>\n"}],"owner":{"account_id":1076262,"reputation":1745,"user_id":1074341,"accept_rate":79,"display_name":"SharonBL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1721,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1673570524,"creation_date":1659074050,"question_id":73162164,"body_markdown":"I&#39;m trying to find the best solution for running and querying an in-memory MongoDb in Java.\r\n\r\nI looked around for the right solution, and found [Fongo](https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo), which is no longer developed/supported.\r\n\r\nMy needs are:\r\n1. Support MongoDb 4.2 and future releases.\r\n2. Be able to fast insert a document and query it in memory.\r\n3. Stable in a matter of staying in memory for long periods.\r\n4. Relatively small memory consumption. \r\n\r\nI&#39;ll be glad to hear about recommended projects.","title":"Java - In memory MongoDb for testing","body":"<p>I'm trying to find the best solution for running and querying an in-memory MongoDb in Java.</p>\n<p>I looked around for the right solution, and found <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo\" rel=\"nofollow noreferrer\">Fongo</a>, which is no longer developed/supported.</p>\n<p>My needs are:</p>\n<ol>\n<li>Support MongoDb 4.2 and future releases.</li>\n<li>Be able to fast insert a document and query it in memory.</li>\n<li>Stable in a matter of staying in memory for long periods.</li>\n<li>Relatively small memory consumption.</li>\n</ol>\n<p>I'll be glad to hear about recommended projects.</p>\n"},{"tags":["java","javafx","textfield","numeric","formatter"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1673570500,"creation_date":1478546041,"answer_id":40472822,"question_id":40472668,"body_markdown":"The converter is different to the filter: the converter specifies how to convert the text to a value, and the filter filters changes the user may make. It sounds like here you want both, but you want the filter to more accurately filter the changes that are allowed.\r\n\r\nI usually find it easiest to check the new value of the text if the change were accepted. You want to optionally have a `-`, followed by `1-9` with any number of digits after it. It&#39;s important to allow an empty string, else the user won&#39;t be able to delete everything.\r\n\r\nSo you probably need something like\r\n\r\n    UnaryOperator&lt;Change&gt; integerFilter = change -&gt; {\r\n        String newText = change.getControlNewText();\r\n        if (newText.matches(&quot;-?([1-9][0-9]*)?&quot;)) { \r\n            return change;\r\n        }\r\n        return null;\r\n    };\r\n    \r\n    myNumericField.setTextFormatter(\r\n        new TextFormatter&lt;Integer&gt;(new IntegerStringConverter(), 0, integerFilter));\r\n\r\nYou can even add more functionality to the filter to let it process `-` in a smarter way, e.g.\r\n\r\n\tUnaryOperator&lt;Change&gt; integerFilter = change -&gt; {\r\n\t    String newText = change.getControlNewText();\r\n        // if proposed change results in a valid value, return change as-is:\r\n\t    if (newText.matches(&quot;-?([1-9][0-9]*)?&quot;)) { \r\n\t        return change;\r\n\t    } else if (&quot;-&quot;.equals(change.getText()) ) {\r\n\r\n            // if user types or pastes a &quot;-&quot; in middle of current text,\r\n            // toggle sign of value:\r\n\r\n\t    \tif (change.getControlText().startsWith(&quot;-&quot;)) {\r\n                // if we currently start with a &quot;-&quot;, remove first character:\r\n\t    \t\tchange.setText(&quot;&quot;);\r\n\t    \t\tchange.setRange(0, 1);\r\n                // since we&#39;re deleting a character instead of adding one,\r\n                // the caret position needs to move back one, instead of \r\n                // moving forward one, so we modify the proposed change to\r\n                // move the caret two places earlier than the proposed change:\r\n\t    \t\tchange.setCaretPosition(change.getCaretPosition()-2);\r\n\t    \t\tchange.setAnchor(change.getAnchor()-2);\r\n\t    \t} else {\r\n                // otherwise just insert at the beginning of the text:\r\n\t\t    \tchange.setRange(0, 0);\r\n\t    \t}\r\n        \treturn change ;\r\n\t    }\r\n        // invalid change, veto it by returning null:\r\n\t    return null;\r\n\t};\r\n\r\nThis will let the user press `-` at any point and it will toggle the sign of the integer. \r\n\r\nSSCCE:\r\n\r\n\r\n    import java.util.function.UnaryOperator;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.TextFormatter;\r\n    import javafx.scene.control.TextFormatter.Change;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.StringConverter;\r\n    import javafx.util.converter.IntegerStringConverter;\r\n    \r\n    public class IntegerFieldExample extends Application {\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\tTextField integerField = new TextField();\r\n    \t\tUnaryOperator&lt;Change&gt; integerFilter = change -&gt; {\r\n    \t\t    String newText = change.getControlNewText();\r\n    \t\t    if (newText.matches(&quot;-?([1-9][0-9]*)?&quot;)) { \r\n    \t\t        return change;\r\n    \t\t    } else if (&quot;-&quot;.equals(change.getText()) ) {\r\n    \t\t    \tif (change.getControlText().startsWith(&quot;-&quot;)) {\r\n    \t\t    \t\tchange.setText(&quot;&quot;);\r\n    \t\t    \t\tchange.setRange(0, 1);\r\n    \t\t    \t\tchange.setCaretPosition(change.getCaretPosition()-2);\r\n    \t\t    \t\tchange.setAnchor(change.getAnchor()-2);\r\n    \t\t    \t\treturn change ;\r\n    \t\t    \t} else {\r\n    \t\t\t    \tchange.setRange(0, 0);\r\n    \t\t\t    \treturn change ;\r\n    \t\t    \t}\r\n    \t\t    }\r\n    \t\t    return null;\r\n    \t\t};\r\n    \t\t\r\n    \t\t// modified version of standard converter that evaluates an empty string \r\n    \t\t// as zero instead of null:\r\n    \t\tStringConverter&lt;Integer&gt; converter = new IntegerStringConverter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic Integer fromString(String s) {\r\n    \t\t\t\tif (s.isEmpty()) return 0 ;\r\n    \t\t\t\treturn super.fromString(s);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tTextFormatter&lt;Integer&gt; textFormatter = \r\n    \t\t\t\tnew TextFormatter&lt;Integer&gt;(converter, 0, integerFilter);\r\n    \t\tintegerField.setTextFormatter(textFormatter);\r\n    \t\t\r\n    \t\t// demo listener:\r\n    \t\ttextFormatter.valueProperty().addListener((obs, oldValue, newValue) -&gt; System.out.println(newValue));\r\n    \t\t\r\n    \t\tVBox root = new VBox(5, integerField, new Button(&quot;Click Me&quot;));\r\n    \t\troot.setAlignment(Pos.CENTER);\r\n    \t\tScene scene = new Scene(root, 300, 120);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n**Tutorial**\r\n\r\nA comprehensive tutorial guide on using a `TextFormatter`:\r\n\r\n * [Pragmatic coding JavaFX TextFormatter tutorial][1].\r\n\r\n\r\n  [1]: https://www.pragmaticcoding.ca/javafx/elements/textformatter/","title":"Numeric TextField for Integers in JavaFX 8 with TextFormatter and/or UnaryOperator","body":"<p>The converter is different to the filter: the converter specifies how to convert the text to a value, and the filter filters changes the user may make. It sounds like here you want both, but you want the filter to more accurately filter the changes that are allowed.</p>\n<p>I usually find it easiest to check the new value of the text if the change were accepted. You want to optionally have a <code>-</code>, followed by <code>1-9</code> with any number of digits after it. It's important to allow an empty string, else the user won't be able to delete everything.</p>\n<p>So you probably need something like</p>\n<pre><code>UnaryOperator&lt;Change&gt; integerFilter = change -&gt; {\n    String newText = change.getControlNewText();\n    if (newText.matches(&quot;-?([1-9][0-9]*)?&quot;)) { \n        return change;\n    }\n    return null;\n};\n\nmyNumericField.setTextFormatter(\n    new TextFormatter&lt;Integer&gt;(new IntegerStringConverter(), 0, integerFilter));\n</code></pre>\n<p>You can even add more functionality to the filter to let it process <code>-</code> in a smarter way, e.g.</p>\n<pre><code>UnaryOperator&lt;Change&gt; integerFilter = change -&gt; {\n    String newText = change.getControlNewText();\n    // if proposed change results in a valid value, return change as-is:\n    if (newText.matches(&quot;-?([1-9][0-9]*)?&quot;)) { \n        return change;\n    } else if (&quot;-&quot;.equals(change.getText()) ) {\n\n        // if user types or pastes a &quot;-&quot; in middle of current text,\n        // toggle sign of value:\n\n        if (change.getControlText().startsWith(&quot;-&quot;)) {\n            // if we currently start with a &quot;-&quot;, remove first character:\n            change.setText(&quot;&quot;);\n            change.setRange(0, 1);\n            // since we're deleting a character instead of adding one,\n            // the caret position needs to move back one, instead of \n            // moving forward one, so we modify the proposed change to\n            // move the caret two places earlier than the proposed change:\n            change.setCaretPosition(change.getCaretPosition()-2);\n            change.setAnchor(change.getAnchor()-2);\n        } else {\n            // otherwise just insert at the beginning of the text:\n            change.setRange(0, 0);\n        }\n        return change ;\n    }\n    // invalid change, veto it by returning null:\n    return null;\n};\n</code></pre>\n<p>This will let the user press <code>-</code> at any point and it will toggle the sign of the integer.</p>\n<p>SSCCE:</p>\n<pre><code>import java.util.function.UnaryOperator;\n\nimport javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TextFormatter;\nimport javafx.scene.control.TextFormatter.Change;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.util.StringConverter;\nimport javafx.util.converter.IntegerStringConverter;\n\npublic class IntegerFieldExample extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        TextField integerField = new TextField();\n        UnaryOperator&lt;Change&gt; integerFilter = change -&gt; {\n            String newText = change.getControlNewText();\n            if (newText.matches(&quot;-?([1-9][0-9]*)?&quot;)) { \n                return change;\n            } else if (&quot;-&quot;.equals(change.getText()) ) {\n                if (change.getControlText().startsWith(&quot;-&quot;)) {\n                    change.setText(&quot;&quot;);\n                    change.setRange(0, 1);\n                    change.setCaretPosition(change.getCaretPosition()-2);\n                    change.setAnchor(change.getAnchor()-2);\n                    return change ;\n                } else {\n                    change.setRange(0, 0);\n                    return change ;\n                }\n            }\n            return null;\n        };\n        \n        // modified version of standard converter that evaluates an empty string \n        // as zero instead of null:\n        StringConverter&lt;Integer&gt; converter = new IntegerStringConverter() {\n            @Override\n            public Integer fromString(String s) {\n                if (s.isEmpty()) return 0 ;\n                return super.fromString(s);\n            }\n        };\n\n        TextFormatter&lt;Integer&gt; textFormatter = \n                new TextFormatter&lt;Integer&gt;(converter, 0, integerFilter);\n        integerField.setTextFormatter(textFormatter);\n        \n        // demo listener:\n        textFormatter.valueProperty().addListener((obs, oldValue, newValue) -&gt; System.out.println(newValue));\n        \n        VBox root = new VBox(5, integerField, new Button(&quot;Click Me&quot;));\n        root.setAlignment(Pos.CENTER);\n        Scene scene = new Scene(root, 300, 120);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><strong>Tutorial</strong></p>\n<p>A comprehensive tutorial guide on using a <code>TextFormatter</code>:</p>\n<ul>\n<li><a href=\"https://www.pragmaticcoding.ca/javafx/elements/textformatter/\" rel=\"nofollow noreferrer\">Pragmatic coding JavaFX TextFormatter tutorial</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11601871,"reputation":17,"user_id":8498734,"display_name":"user8498734"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1503385378,"creation_date":1503385378,"answer_id":45810951,"question_id":40472668,"body_markdown":"     TextField txtpoint = new TextField();\r\n        txtpoint.textProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\r\n                if (!newValue.isEmpty()) {\r\n                    try {\r\n                        long pointI = Integer.parseInt(newValue);\r\n                        txtpoint.setText(String.valueOf(pointI));\r\n                    } catch (Exception e) {\r\n                        txtpoint.clear();\r\n                        txtpoint.setText(getNumber(oldValue));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    private String getNumber(String value) {\r\n        String n = &quot;&quot;;\r\n        try {\r\n            return String.valueOf(Integer.parseInt(value));\r\n        } catch (Exception e) {\r\n            String[] array = value.split(&quot;&quot;);\r\n            for (String tab : array) {\r\n                try {\r\n                    System.out.println(tab);\r\n                    n = n.concat(String.valueOf(Integer.parseInt(String.valueOf(tab))));\r\n                } catch (Exception ex) {\r\n                    System.out.println(&quot;not nomber&quot;);\r\n                }\r\n            }\r\n            return n;\r\n        }\r\n    }","title":"Numeric TextField for Integers in JavaFX 8 with TextFormatter and/or UnaryOperator","body":"<pre><code> TextField txtpoint = new TextField();\n    txtpoint.textProperty().addListener(new ChangeListener&lt;String&gt;() {\n        @Override\n        public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\n            if (!newValue.isEmpty()) {\n                try {\n                    long pointI = Integer.parseInt(newValue);\n                    txtpoint.setText(String.valueOf(pointI));\n                } catch (Exception e) {\n                    txtpoint.clear();\n                    txtpoint.setText(getNumber(oldValue));\n                }\n            }\n        }\n    });\n\n\nprivate String getNumber(String value) {\n    String n = \"\";\n    try {\n        return String.valueOf(Integer.parseInt(value));\n    } catch (Exception e) {\n        String[] array = value.split(\"\");\n        for (String tab : array) {\n            try {\n                System.out.println(tab);\n                n = n.concat(String.valueOf(Integer.parseInt(String.valueOf(tab))));\n            } catch (Exception ex) {\n                System.out.println(\"not nomber\");\n            }\n        }\n        return n;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8497210,"reputation":173,"user_id":6371453,"display_name":"Caranown"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628267626,"creation_date":1628267042,"answer_id":68684810,"question_id":40472668,"body_markdown":"&gt; Is there a way to enforce the conversion of the second method with the IntegerStringConverter every time the value of the TextField is updated?\r\n\r\nAlthough the answer by @James_D gives you what you want, I would like to add a different perspective also.\r\nYour idea is to hold the hand of the user, with every single keypress. This can be helpful, but it can also be frustrating to the user. Actions like copy pasting into the text field, or editing an existing input at different positions, do not work well with the hand-holding approach.\r\n\r\nA reason why you might want to apply the conversion/filtering immediately is because the user may not be aware of the input being invalid, and perhaps missing the correction when tabbing to the next field.\r\nSo how about instead of restricting what the user can input, you visualize whether the current input is valid or not, without changing the text contents. So for instance, you could add a red border to the text field while the contents are invalid. You could still use a StringConverter in addition to this.\r\n\r\nFor example\r\n```java\r\nmyNumericField.setTextFormatter(new TextFormatter&lt;&gt;(new IntegerStringConverter()));\r\nmyNumericField.textProperty().addListener((obs,oldv,newv) -&gt; {\r\n\ttry {\r\n\t\tmyNumericField.getTextFormatter().getValueConverter().fromString(newv);\r\n\t\t// no exception above means valid\r\n\t\tmyNumericField.setBorder(null);\r\n\t} catch (NumberFormatException e) {\r\n\t\tmyNumericField.setBorder(new Border(new BorderStroke(Color.RED, BorderStrokeStyle.SOLID, new CornerRadii(3), new BorderWidths(2), new Insets(-2))));\r\n\t}\r\n});\r\n```\r\n[![text field with red border][1]][1]\r\n\r\nThe converter can also easily be extended to limit the valid number range.\r\n\r\n[1]: https://i.stack.imgur.com/CKrRS.png","title":"Numeric TextField for Integers in JavaFX 8 with TextFormatter and/or UnaryOperator","body":"<blockquote>\n<p>Is there a way to enforce the conversion of the second method with the IntegerStringConverter every time the value of the TextField is updated?</p>\n</blockquote>\n<p>Although the answer by @James_D gives you what you want, I would like to add a different perspective also.\nYour idea is to hold the hand of the user, with every single keypress. This can be helpful, but it can also be frustrating to the user. Actions like copy pasting into the text field, or editing an existing input at different positions, do not work well with the hand-holding approach.</p>\n<p>A reason why you might want to apply the conversion/filtering immediately is because the user may not be aware of the input being invalid, and perhaps missing the correction when tabbing to the next field.\nSo how about instead of restricting what the user can input, you visualize whether the current input is valid or not, without changing the text contents. So for instance, you could add a red border to the text field while the contents are invalid. You could still use a StringConverter in addition to this.</p>\n<p>For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>myNumericField.setTextFormatter(new TextFormatter&lt;&gt;(new IntegerStringConverter()));\nmyNumericField.textProperty().addListener((obs,oldv,newv) -&gt; {\n    try {\n        myNumericField.getTextFormatter().getValueConverter().fromString(newv);\n        // no exception above means valid\n        myNumericField.setBorder(null);\n    } catch (NumberFormatException e) {\n        myNumericField.setBorder(new Border(new BorderStroke(Color.RED, BorderStrokeStyle.SOLID, new CornerRadii(3), new BorderWidths(2), new Insets(-2))));\n    }\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CKrRS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKrRS.png\" alt=\"text field with red border\" /></a></p>\n<p>The converter can also easily be extended to limit the valid number range.</p>\n"},{"tags":[],"owner":{"account_id":22208181,"reputation":11,"user_id":16447807,"display_name":"Ahmed Al Mashaikhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657807210,"creation_date":1657807210,"answer_id":72981782,"question_id":40472668,"body_markdown":"Here is my solution :\r\n\r\n        integerText.setTextFormatter(new TextFormatter&lt;&gt;(new IntegerStringConverter(), 0, new UnaryOperator&lt;TextFormatter.Change&gt;() {\r\n            @Override\r\n            public TextFormatter.Change apply(TextFormatter.Change change) {\r\n                NumberFormat numberFormat = NumberFormat.getIntegerInstance();\r\n                ParsePosition position = new ParsePosition(0);\r\n                Object obj = numberFormat.parseObject(change.getControlNewText(),position);\r\n                if(obj != null &amp;&amp; position.getIndex() == change.getControlNewText().length()){\r\n                    return change;\r\n                }\r\n                return null;\r\n            }\r\n        }));","title":"Numeric TextField for Integers in JavaFX 8 with TextFormatter and/or UnaryOperator","body":"<p>Here is my solution :</p>\n<pre><code>    integerText.setTextFormatter(new TextFormatter&lt;&gt;(new IntegerStringConverter(), 0, new UnaryOperator&lt;TextFormatter.Change&gt;() {\n        @Override\n        public TextFormatter.Change apply(TextFormatter.Change change) {\n            NumberFormat numberFormat = NumberFormat.getIntegerInstance();\n            ParsePosition position = new ParsePosition(0);\n            Object obj = numberFormat.parseObject(change.getControlNewText(),position);\n            if(obj != null &amp;&amp; position.getIndex() == change.getControlNewText().length()){\n                return change;\n            }\n            return null;\n        }\n    }));\n</code></pre>\n"}],"owner":{"account_id":8591621,"reputation":490,"user_id":6436041,"display_name":"ShadowEagle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35468,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":40472822,"answer_count":4,"score":18,"last_activity_date":1673570500,"creation_date":1478545556,"question_id":40472668,"body_markdown":"I am trying to create a numeric TextField for Integers by using the TextFormatter of JavaFX 8.\r\n\r\n**Solution with UnaryOperator:**\r\n\r\n    UnaryOperator&lt;Change&gt; integerFilter = change -&gt; {\r\n        String input = change.getText();\r\n        if (input.matches(&quot;[0-9]*&quot;)) { \r\n            return change;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    myNumericField.setTextFormatter(new TextFormatter&lt;String&gt;(integerFilter));\r\n\r\n**Solution with IntegerStringConverter:**\r\n    \r\n    myNumericField.setTextFormatter(new TextFormatter&lt;&gt;(new IntegerStringConverter()));  \r\n\r\nBoth solutions have their own problems. With the UnaryOperator, I can only enter digits from 0 to 9 like intended, but I also need to enter negative values like &quot;-512&quot;, where the sign is only allowed at the first position. Also I don&#39;t want numbers like &quot;00016&quot; which is still possible.\r\n\r\nThe IntegerStringConverter method works way better: Every invalid number like &quot;-16-123&quot; is not accepted and numbers like &quot;0123&quot; get converted to &quot;123&quot;. But the conversion only happens when the text is commited (via pressing enter) or when the TextField loses its focus.\r\n\r\nIs there a way to enforce the conversion of the second method with the IntegerStringConverter every time the value of the TextField is updated?","title":"Numeric TextField for Integers in JavaFX 8 with TextFormatter and/or UnaryOperator","body":"<p>I am trying to create a numeric TextField for Integers by using the TextFormatter of JavaFX 8.</p>\n\n<p><strong>Solution with UnaryOperator:</strong></p>\n\n<pre><code>UnaryOperator&lt;Change&gt; integerFilter = change -&gt; {\n    String input = change.getText();\n    if (input.matches(\"[0-9]*\")) { \n        return change;\n    }\n    return null;\n};\n\nmyNumericField.setTextFormatter(new TextFormatter&lt;String&gt;(integerFilter));\n</code></pre>\n\n<p><strong>Solution with IntegerStringConverter:</strong></p>\n\n<pre><code>myNumericField.setTextFormatter(new TextFormatter&lt;&gt;(new IntegerStringConverter()));  \n</code></pre>\n\n<p>Both solutions have their own problems. With the UnaryOperator, I can only enter digits from 0 to 9 like intended, but I also need to enter negative values like \"-512\", where the sign is only allowed at the first position. Also I don't want numbers like \"00016\" which is still possible.</p>\n\n<p>The IntegerStringConverter method works way better: Every invalid number like \"-16-123\" is not accepted and numbers like \"0123\" get converted to \"123\". But the conversion only happens when the text is commited (via pressing enter) or when the TextField loses its focus.</p>\n\n<p>Is there a way to enforce the conversion of the second method with the IntegerStringConverter every time the value of the TextField is updated?</p>\n"},{"tags":["java","android","android-studio","webview","google-chrome-webview"],"owner":{"account_id":24034005,"reputation":11,"user_id":20996113,"display_name":"guto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673569421,"creation_date":1673569421,"question_id":75103663,"body_markdown":"I&#39;m trying to use Android WebView, but my app can&#39;t upload an image! Basically speaking, he manages to take a picture (asks for all the permissions normally), but when he clicks to send, the sending is not carried out and the field is &quot;blank&quot;! Below I will leave my code. Thanks in advance to anyone who can help me!\r\n\r\n# Java\r\n```java\r\npackage com.example.app_android_5;\r\n\r\nimport android.os.Bundle;\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.content.res.Configuration;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Environment;\r\nimport android.provider.MediaStore;\r\nimport android.support.annotation.NonNull;\r\nimport android.support.v4.app.ActivityCompat;\r\nimport android.support.v4.content.ContextCompat;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.util.Log;\r\nimport android.view.KeyEvent;\r\nimport android.view.View;\r\nimport android.webkit.ValueCallback;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Toast;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    WebView webView;\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n    private String mCM;\r\n    private ValueCallback&lt;Uri&gt; mUM;\r\n    private ValueCallback&lt;Uri[]&gt; mUMA;\r\n    private final static int FCR=1;\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent){\r\n        super.onActivityResult(requestCode, resultCode, intent);\r\n        if(Build.VERSION.SDK_INT &gt;= 21){\r\n            Uri[] results = null;\r\n            //Check if response is positive\r\n            if(resultCode== Activity.RESULT_OK){\r\n                if(requestCode == FCR){\r\n                    if(null == mUMA){\r\n                        return;\r\n                    }\r\n                    if(intent == null){\r\n                        //Capture Photo if no image available\r\n                        if(mCM != null){\r\n                            results = new Uri[]{Uri.parse(mCM)};\r\n                        }\r\n                    }else{\r\n                        String dataString = intent.getDataString();\r\n                        if(dataString != null){\r\n                            results = new Uri[]{Uri.parse(dataString)};\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            mUMA.onReceiveValue(results);\r\n            mUMA = null;\r\n        }else{\r\n            if(requestCode == FCR){\r\n                if(null == mUM) return;\r\n                Uri result = intent == null || resultCode != RESULT_OK ? null : intent.getData();\r\n                mUM.onReceiveValue(result);\r\n                mUM = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuppressLint({&quot;SetJavaScriptEnabled&quot;, &quot;WrongViewCast&quot;})\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        if(Build.VERSION.SDK_INT &gt;=23 &amp;&amp; (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED || ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)) {\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.CAMERA}, 1);\r\n        }\r\n\r\n        webView = (WebView) findViewById(R.id.webView);\r\n        assert webView != null;\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setAllowFileAccess(true);\r\n\r\n        if(Build.VERSION.SDK_INT &gt;= 21){\r\n            webSettings.setMixedContentMode(0);\r\n            webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\r\n        }else if(Build.VERSION.SDK_INT &gt;= 19){\r\n            webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\r\n        }else if(Build.VERSION.SDK_INT &lt; 19){\r\n            webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\r\n        }\r\n        webView.setWebViewClient(new Callback());\r\n        webView.loadUrl(&quot;https://google.com/&quot;);\r\n        webView.setWebChromeClient(new WebChromeClient(){\r\n\r\n            //For Android 5.0+\r\n            public boolean onShowFileChooser(\r\n                    WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\r\n                    WebChromeClient.FileChooserParams fileChooserParams){\r\n                if(mUMA != null){\r\n                    mUMA.onReceiveValue(null);\r\n                }\r\n                mUMA = filePathCallback;\r\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                if(takePictureIntent.resolveActivity(MainActivity.this.getPackageManager()) != null){\r\n                    File photoFile = null;\r\n                    try{\r\n                        photoFile = createImageFile();\r\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\r\n                    }catch(IOException ex){\r\n                        Log.e(TAG, &quot;Image file creation failed&quot;, ex);\r\n                    }\r\n                    if(photoFile != null){\r\n                        mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\r\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\r\n                    }else{\r\n                        takePictureIntent = null;\r\n                    }\r\n                }\r\n                Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                contentSelectionIntent.setType(&quot;*/*&quot;);\r\n                Intent[] intentArray;\r\n                if(takePictureIntent != null){\r\n                    intentArray = new Intent[]{takePictureIntent};\r\n                }else{\r\n                    intentArray = new Intent[0];\r\n                }\r\n\r\n                Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\r\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\r\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\r\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\r\n                startActivityForResult(chooserIntent, FCR);\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    public class Callback extends WebViewClient{\r\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl){\r\n            Toast.makeText(getApplicationContext(), &quot;Failed loading app!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    // Create an image file\r\n    private File createImageFile() throws IOException{\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;img_&quot;+timeStamp+&quot;_&quot;;\r\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n        return File.createTempFile(imageFileName,&quot;.jpg&quot;,storageDir);\r\n    }\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, @NonNull KeyEvent event){\r\n        if(event.getAction() == KeyEvent.ACTION_DOWN){\r\n            switch(keyCode){\r\n                case KeyEvent.KEYCODE_BACK:\r\n                    if(webView.canGoBack()){\r\n                        webView.goBack();\r\n                    }else{\r\n                        finish();\r\n                    }\r\n                    return true;\r\n            }\r\n        }\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(Configuration newConfig){\r\n        super.onConfigurationChanged(newConfig);\r\n    }\r\n}\r\n```\r\n\r\n# AndroidManifest\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.App_android_5&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI&#39;ve already looked in different forums and publications, but, as I still don&#39;t know very well how development using Android works, I couldn&#39;t reach this answer. Currently I&#39;ve tested it with Android 5.0, 5.1, 8, 11 and 12, but it still doesn&#39;t work!","title":"Input type &quot;file&quot; not working in Android WebView","body":"<p>I'm trying to use Android WebView, but my app can't upload an image! Basically speaking, he manages to take a picture (asks for all the permissions normally), but when he clicks to send, the sending is not carried out and the field is &quot;blank&quot;! Below I will leave my code. Thanks in advance to anyone who can help me!</p>\n<h1>Java</h1>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.app_android_5;\n\nimport android.os.Bundle;\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.content.res.Configuration;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Environment;\nimport android.provider.MediaStore;\nimport android.support.annotation.NonNull;\nimport android.support.v4.app.ActivityCompat;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.webkit.ValueCallback;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\nimport java.io.File;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\n    WebView webView;\n    private static final String TAG = MainActivity.class.getSimpleName();\n    private String mCM;\n    private ValueCallback&lt;Uri&gt; mUM;\n    private ValueCallback&lt;Uri[]&gt; mUMA;\n    private final static int FCR=1;\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent){\n        super.onActivityResult(requestCode, resultCode, intent);\n        if(Build.VERSION.SDK_INT &gt;= 21){\n            Uri[] results = null;\n            //Check if response is positive\n            if(resultCode== Activity.RESULT_OK){\n                if(requestCode == FCR){\n                    if(null == mUMA){\n                        return;\n                    }\n                    if(intent == null){\n                        //Capture Photo if no image available\n                        if(mCM != null){\n                            results = new Uri[]{Uri.parse(mCM)};\n                        }\n                    }else{\n                        String dataString = intent.getDataString();\n                        if(dataString != null){\n                            results = new Uri[]{Uri.parse(dataString)};\n                        }\n                    }\n                }\n            }\n            mUMA.onReceiveValue(results);\n            mUMA = null;\n        }else{\n            if(requestCode == FCR){\n                if(null == mUM) return;\n                Uri result = intent == null || resultCode != RESULT_OK ? null : intent.getData();\n                mUM.onReceiveValue(result);\n                mUM = null;\n            }\n        }\n    }\n\n    @SuppressLint({&quot;SetJavaScriptEnabled&quot;, &quot;WrongViewCast&quot;})\n    @Override\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if(Build.VERSION.SDK_INT &gt;=23 &amp;&amp; (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED || ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)) {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.CAMERA}, 1);\n        }\n\n        webView = (WebView) findViewById(R.id.webView);\n        assert webView != null;\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setAllowFileAccess(true);\n\n        if(Build.VERSION.SDK_INT &gt;= 21){\n            webSettings.setMixedContentMode(0);\n            webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\n        }else if(Build.VERSION.SDK_INT &gt;= 19){\n            webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\n        }else if(Build.VERSION.SDK_INT &lt; 19){\n            webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\n        }\n        webView.setWebViewClient(new Callback());\n        webView.loadUrl(&quot;https://google.com/&quot;);\n        webView.setWebChromeClient(new WebChromeClient(){\n\n            //For Android 5.0+\n            public boolean onShowFileChooser(\n                    WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\n                    WebChromeClient.FileChooserParams fileChooserParams){\n                if(mUMA != null){\n                    mUMA.onReceiveValue(null);\n                }\n                mUMA = filePathCallback;\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                if(takePictureIntent.resolveActivity(MainActivity.this.getPackageManager()) != null){\n                    File photoFile = null;\n                    try{\n                        photoFile = createImageFile();\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\n                    }catch(IOException ex){\n                        Log.e(TAG, &quot;Image file creation failed&quot;, ex);\n                    }\n                    if(photoFile != null){\n                        mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\n                    }else{\n                        takePictureIntent = null;\n                    }\n                }\n                Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\n                contentSelectionIntent.setType(&quot;*/*&quot;);\n                Intent[] intentArray;\n                if(takePictureIntent != null){\n                    intentArray = new Intent[]{takePictureIntent};\n                }else{\n                    intentArray = new Intent[0];\n                }\n\n                Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\n                startActivityForResult(chooserIntent, FCR);\n                return true;\n            }\n        });\n    }\n    public class Callback extends WebViewClient{\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl){\n            Toast.makeText(getApplicationContext(), &quot;Failed loading app!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n    // Create an image file\n    private File createImageFile() throws IOException{\n        @SuppressLint(&quot;SimpleDateFormat&quot;) String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;img_&quot;+timeStamp+&quot;_&quot;;\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n        return File.createTempFile(imageFileName,&quot;.jpg&quot;,storageDir);\n    }\n    @Override\n    public boolean onKeyDown(int keyCode, @NonNull KeyEvent event){\n        if(event.getAction() == KeyEvent.ACTION_DOWN){\n            switch(keyCode){\n                case KeyEvent.KEYCODE_BACK:\n                    if(webView.canGoBack()){\n                        webView.goBack();\n                    }else{\n                        finish();\n                    }\n                    return true;\n            }\n        }\n        return super.onKeyDown(keyCode, event);\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig){\n        super.onConfigurationChanged(newConfig);\n    }\n}\n</code></pre>\n<h1>AndroidManifest</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.App_android_5&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I've already looked in different forums and publications, but, as I still don't know very well how development using Android works, I couldn't reach this answer. Currently I've tested it with Android 5.0, 5.1, 8, 11 and 12, but it still doesn't work!</p>\n"},{"tags":["java","variables","enums","byte","key-value"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673564900,"post_id":75103201,"comment_id":132534263,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1673565029,"post_id":75103201,"comment_id":132534290,"body_markdown":"You could make an enum where one of the fields is a `Predicate&lt;Byte&gt;` then put whatever conditions you like in there.","body":"You could make an enum where one of the fields is a <code>Predicate&lt;Byte&gt;</code> then put whatever conditions you like in there."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1673565302,"post_id":75103201,"comment_id":132534337,"body_markdown":"Those &#39;byte&#39; casts are going to just throw away the two high-order digits of the constant, so you probably don&#39;t want them.","body":"Those &#39;byte&#39; casts are going to just throw away the two high-order digits of the constant, so you probably don&#39;t want them."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673565753,"post_id":75103201,"comment_id":132534411,"body_markdown":"you could also define a high and low value to match, like `ERR_DATA(0x8300, 0x83FF)` and then check for those boundaries.","body":"you could also define a high and low value to match, like <code>ERR_DATA(0x8300, 0x83FF)</code> and then check for those boundaries."}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1673565897,"creation_date":1673565041,"answer_id":75103248,"question_id":75103201,"body_markdown":"Write a method which, given 0x83NN as input, returns ERR_DATA.  Done.\r\n\r\n    ErrorCode errorCode(int n) {\r\n        if (n == 0x9000)\r\n            return ERR_NONE;\r\n        else if (n == 0x8200) \r\n            return ERR_PARAM;\r\n        else if (n &gt;= 0x8300 &amp;&amp; n &lt;= 0x83ff)\r\n            return ERR_DATA;\r\n        else\r\n            throw new IllegalArgumentException();\r\n    }\r\n\r\nYou have to write code to look up the value in any case.  There&#39;s no intrinsic &#39;associate this integer value with this enum constant, and provide a lookup for enum constant given an integer value&#39;.\r\n\r\nNote that, for this, there&#39;s no need to store the numeric value inside each member of the enum.  And also note that your constructor calls like ERR_NONE(0x9000) are not valid unless you&#39;ve defined a suitable constructor. And if you do define a suitable constructor, you&#39;ll need to decide on a single value for the argument of ERR_DATA.\r\n\r\n","title":"java enum with value between x and y","body":"<p>Write a method which, given 0x83NN as input, returns ERR_DATA.  Done.</p>\n<pre><code>ErrorCode errorCode(int n) {\n    if (n == 0x9000)\n        return ERR_NONE;\n    else if (n == 0x8200) \n        return ERR_PARAM;\n    else if (n &gt;= 0x8300 &amp;&amp; n &lt;= 0x83ff)\n        return ERR_DATA;\n    else\n        throw new IllegalArgumentException();\n}\n</code></pre>\n<p>You have to write code to look up the value in any case.  There's no intrinsic 'associate this integer value with this enum constant, and provide a lookup for enum constant given an integer value'.</p>\n<p>Note that, for this, there's no need to store the numeric value inside each member of the enum.  And also note that your constructor calls like ERR_NONE(0x9000) are not valid unless you've defined a suitable constructor. And if you do define a suitable constructor, you'll need to decide on a single value for the argument of ERR_DATA.</p>\n"},{"tags":[],"owner":{"account_id":25953622,"reputation":129,"user_id":19671276,"display_name":"ILoveET"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673565142,"creation_date":1673565142,"answer_id":75103260,"question_id":75103201,"body_markdown":"I believe it cannot be the case. According to [Oracle Doc][1], \r\n\r\n&gt; An enum type is a special data type that enables for a variable to be a set of predefined constants. The variable must be equal to one of the values that have been predefined for it. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html#:~:text=An%20enum%20type%20is%20a,the%20days%20of%20the%20week.","title":"java enum with value between x and y","body":"<p>I believe it cannot be the case. According to <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html#:%7E:text=An%20enum%20type%20is%20a,the%20days%20of%20the%20week.\" rel=\"nofollow noreferrer\">Oracle Doc</a>,</p>\n<blockquote>\n<p>An enum type is a special data type that enables for a variable to be a set of predefined constants. The variable must be equal to one of the values that have been predefined for it.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673568811,"creation_date":1673566713,"answer_id":75103414,"question_id":75103201,"body_markdown":"Here&#39;s an implementation following Dawood ibn Kareem&#39;s suggestion in comments above.\r\n\r\nSome points:\r\n- This implementation throws an exception if a code matches two enum values. You would need to decide whether you wanted that behaviour, or just return the first match. In that case the ordering of the enum values becomes significant.\r\n- You can add new constructors for common cases, e.g. I have one for a value which matches a single code. You could add one for a value which matches a range of codes.\r\n- You might also want to throw an exception if no `ErrorCode` matches the  integer code. This implementation returns `null` in that case, so you&#39;ll get an NPE if the caller doesn&#39;t check for `null`, but you won&#39;t know what value triggered it.\r\n\r\n```java\r\nimport java.util.function.Predicate;\r\n\r\npublic enum ErrorCode {\r\n    ERR_NONE      (0x9000),        // No error\r\n    ERR_PARAM     (0x8200),     // Parameter error\r\n    ERR_DATA (n -&gt; (n &gt;= 0x8300 &amp;&amp; n &lt;= 0x83FF)),    // 0x83XX\r\n    ERR_ANOTHER_83 (0x8377);\r\n    private final Predicate&lt;Integer&gt; forValue;\r\n\r\n    ErrorCode(Predicate&lt;Integer&gt; matches) {\r\n        this.forValue = matches;\r\n    }\r\n\r\n    ErrorCode(int singleValue) {\r\n        this(n -&gt; n == singleValue);\r\n    }\r\n\r\n    public static ErrorCode forInt(int code) {\r\n        ErrorCode matchingCode = null;\r\n        for (ErrorCode c : ErrorCode.values()) {\r\n            if (c.forValue.test(code)) {\r\n                if (matchingCode != null) {\r\n                    throw new RuntimeException(&quot;ErrorCodes &quot; + matchingCode.name() \r\n                       + &quot; and &quot; + c.name() + &quot; both match 0x&quot; \r\n                       + Integer.toHexString(code));\r\n                } else {\r\n                    matchingCode = c;\r\n                }\r\n            }\r\n        }\r\n        return matchingCode;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(ErrorCode.forInt(0x8312));\r\n        System.out.println(ErrorCode.forInt(0x9000));\r\n        System.out.println(ErrorCode.forInt(0x8377));\r\n    }\r\n}\r\n```","title":"java enum with value between x and y","body":"<p>Here's an implementation following Dawood ibn Kareem's suggestion in comments above.</p>\n<p>Some points:</p>\n<ul>\n<li>This implementation throws an exception if a code matches two enum values. You would need to decide whether you wanted that behaviour, or just return the first match. In that case the ordering of the enum values becomes significant.</li>\n<li>You can add new constructors for common cases, e.g. I have one for a value which matches a single code. You could add one for a value which matches a range of codes.</li>\n<li>You might also want to throw an exception if no <code>ErrorCode</code> matches the  integer code. This implementation returns <code>null</code> in that case, so you'll get an NPE if the caller doesn't check for <code>null</code>, but you won't know what value triggered it.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Predicate;\n\npublic enum ErrorCode {\n    ERR_NONE      (0x9000),        // No error\n    ERR_PARAM     (0x8200),     // Parameter error\n    ERR_DATA (n -&gt; (n &gt;= 0x8300 &amp;&amp; n &lt;= 0x83FF)),    // 0x83XX\n    ERR_ANOTHER_83 (0x8377);\n    private final Predicate&lt;Integer&gt; forValue;\n\n    ErrorCode(Predicate&lt;Integer&gt; matches) {\n        this.forValue = matches;\n    }\n\n    ErrorCode(int singleValue) {\n        this(n -&gt; n == singleValue);\n    }\n\n    public static ErrorCode forInt(int code) {\n        ErrorCode matchingCode = null;\n        for (ErrorCode c : ErrorCode.values()) {\n            if (c.forValue.test(code)) {\n                if (matchingCode != null) {\n                    throw new RuntimeException(&quot;ErrorCodes &quot; + matchingCode.name() \n                       + &quot; and &quot; + c.name() + &quot; both match 0x&quot; \n                       + Integer.toHexString(code));\n                } else {\n                    matchingCode = c;\n                }\n            }\n        }\n        return matchingCode;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(ErrorCode.forInt(0x8312));\n        System.out.println(ErrorCode.forInt(0x9000));\n        System.out.println(ErrorCode.forInt(0x8377));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26822911,"reputation":15,"user_id":20411977,"display_name":"guiguietben"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1673568811,"creation_date":1673564544,"question_id":75103201,"body_markdown":"This is a simple question:\r\n\r\nIs it possible to have an enum with a variable value ?\r\n\r\nTo be clear i would like to create an enum corresponding to an error code returned by a function which is two bytes, so i would like to do something like\r\n\r\n    public enum ErrorCode {\r\n    \t\r\n    \tERR_NONE      ((byte)0x9000),        // No error\r\n    \tERR_PARAM     ((byte)0x8200),     // Parameter error\r\n    \tERR_DATA ((byte)0x83XX),    // XX could be any value\r\n    \r\n    }\r\n\r\nhow to return ERR_DATA for all values beginning by 0x83 ?\r\n\r\nIs it possible ?\r\n\r\nThanks\r\n","title":"java enum with value between x and y","body":"<p>This is a simple question:</p>\n<p>Is it possible to have an enum with a variable value ?</p>\n<p>To be clear i would like to create an enum corresponding to an error code returned by a function which is two bytes, so i would like to do something like</p>\n<pre><code>public enum ErrorCode {\n    \n    ERR_NONE      ((byte)0x9000),        // No error\n    ERR_PARAM     ((byte)0x8200),     // Parameter error\n    ERR_DATA ((byte)0x83XX),    // XX could be any value\n\n}\n</code></pre>\n<p>how to return ERR_DATA for all values beginning by 0x83 ?</p>\n<p>Is it possible ?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","api","rest","backend"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673528798,"post_id":75096639,"comment_id":132522658,"body_markdown":"you maybe want to check on spring security roles and privileges","body":"you maybe want to check on spring security roles and privileges"}],"owner":{"account_id":27509280,"reputation":1,"user_id":20991488,"display_name":"Skate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673567782,"creation_date":1673528106,"question_id":75096639,"body_markdown":"In an Interview, Interviewer asked this..\r\n\r\n**Admin should be able to access viewData API as well as update API but non-admin should be able to access only  viewData API and not update API, how will you implement this in the backend?**\r\n\r\nThat&#39;s all the info he provided.\r\nI am novice in Web development, REST API in Spring Boot. I couldn&#39;t figure out what exactly he is expecting.\r\nIf anyone knows about this, please help.","title":"How to restrict update API and allow only viewData API to non-admin whereas allow both these to Admin in the backend(Spring Boot)","body":"<p>In an Interview, Interviewer asked this..</p>\n<p><strong>Admin should be able to access viewData API as well as update API but non-admin should be able to access only  viewData API and not update API, how will you implement this in the backend?</strong></p>\n<p>That's all the info he provided.\nI am novice in Web development, REST API in Spring Boot. I couldn't figure out what exactly he is expecting.\nIf anyone knows about this, please help.</p>\n"},{"tags":["java","mapping"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673544263,"post_id":75100017,"comment_id":132528505,"body_markdown":"What is `allObjects`? Please add a [mcve]","body":"What is <code>allObjects</code>? Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673544454,"creation_date":1673543834,"answer_id":75100039,"question_id":75100017,"body_markdown":"```java\r\nvar allObjectNames = allObjects.stream().map(o -&gt; o.name).collect(Collectors.toList());\r\n```","title":"Java map function","body":"<pre class=\"lang-java prettyprint-override\"><code>var allObjectNames = allObjects.stream().map(o -&gt; o.name).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":17392377,"reputation":43,"user_id":12602653,"display_name":"Imker Warze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75100039,"answer_count":1,"score":0,"last_activity_date":1673567711,"creation_date":1673543721,"question_id":75100017,"body_markdown":"I want to use the map function (or stream function ?) to make this code this tighter.\r\n```\r\nvar allObjectNames = new ArrayList&lt;String&gt;();\r\nfor (Object object : allObjects) {\r\n     allObjectNames.add(object.name);\r\n}\r\n```\r\nI thought about:\r\n \r\n```\r\nvar allObjectNames = new ArrayList&lt;String&gt;();\r\nallObjectsNames.addAll(map(allObjects.name));\r\n```\r\nOr something like this.\r\n\r\nMinimalistic Example:\r\n```\r\npackage Mapping;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class FunctionMapping {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tvar output1 = new Output(&quot;start&quot;);\r\n\t\tvar output2 = new Output(&quot;success&quot;);\r\n\t\tvar output3 = new Output(&quot;failure&quot;);\r\n\t\tArrayList&lt;Output&gt; rootOutput = new ArrayList&lt;&gt;();\r\n\t\trootOutput.add(output1);\r\n\t\trootOutput.add(output2);\r\n\t\trootOutput.add(output3);\r\n\t\t\r\n\t\tvar outputNames = rootOutput.stream().map(o -&gt; o.outputName).collect(Collectors.toList());\r\n\t}\r\n\t\r\n\tstatic class Output {\r\n\t\tString outputName;\r\n\t\tOutput (String name) {\r\n\t\t\tthis.outputName = name;\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\n```","title":"Java map function","body":"<p>I want to use the map function (or stream function ?) to make this code this tighter.</p>\n<pre><code>var allObjectNames = new ArrayList&lt;String&gt;();\nfor (Object object : allObjects) {\n     allObjectNames.add(object.name);\n}\n</code></pre>\n<p>I thought about:</p>\n<pre><code>var allObjectNames = new ArrayList&lt;String&gt;();\nallObjectsNames.addAll(map(allObjects.name));\n</code></pre>\n<p>Or something like this.</p>\n<p>Minimalistic Example:</p>\n<pre><code>package Mapping;\n\nimport java.util.ArrayList;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class FunctionMapping {\n    \n    public static void main(String[] args) {\n        var output1 = new Output(&quot;start&quot;);\n        var output2 = new Output(&quot;success&quot;);\n        var output3 = new Output(&quot;failure&quot;);\n        ArrayList&lt;Output&gt; rootOutput = new ArrayList&lt;&gt;();\n        rootOutput.add(output1);\n        rootOutput.add(output2);\n        rootOutput.add(output3);\n        \n        var outputNames = rootOutput.stream().map(o -&gt; o.outputName).collect(Collectors.toList());\n    }\n    \n    static class Output {\n        String outputName;\n        Output (String name) {\n            this.outputName = name;\n        }\n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","angular","typescript","spring-boot"],"owner":{"account_id":20851443,"reputation":381,"user_id":15315878,"display_name":"Luigi Woodhouse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673567156,"creation_date":1673567156,"question_id":75103462,"body_markdown":"I can change the role of a user just fine in postman but when I am reading to change the role of a user in my frontend angular app, I am getting an error(title of the post) in the console of my spring boot project. What am I doing wrong?\r\n\r\n&gt; HTML - This is the code am using to change the current role of the user\r\n\r\n      &lt;mat-select #selectRole [value]=&quot;roles&quot; [(ngModel)]=&quot;roles&quot;&gt;\r\n            &lt;mat-select-filter *ngIf=&quot;selectRole.focused&quot; [array]=&quot;roleInfo&quot; [displayMember]=&quot;&#39;roleName&#39;&quot;\r\n              (filteredReturn)=&quot;filterRoles =$event&quot;&gt;\r\n            &lt;/mat-select-filter&gt;\r\n            &lt;mat-option *ngFor=&quot;let item of filterRoles&quot; [value]=&quot;item.roleName&quot;&gt;\r\n              {{item.roleName}}\r\n            &lt;/mat-option&gt;\r\n      &lt;/mat-select&gt; \r\n\r\n\r\n&gt; TS\r\n\r\n     \r\n        roles: object[] = []; \r\n        userId!: number;\r\n\r\n        //This opens a modal so I can change the role of a user\r\n       openEditUserMenu(template: TemplateRef&lt;any&gt;, userId: number, roles: []) {\r\n               this.modalRef = this.modalService.show(template, this.config);\r\n               this.userId = userId;\r\n               this.roles = roles;\r\n               console.log(this.roles, &quot;roles&quot;)\r\n      }\r\n\r\n\r\n","title":"JSON parse error: Cannot deserialize value of type `java.util.HashSet&lt;packagename.Role&gt;` from String value (token `JsonToken.VALUE_STRING`)]","body":"<p>I can change the role of a user just fine in postman but when I am reading to change the role of a user in my frontend angular app, I am getting an error(title of the post) in the console of my spring boot project. What am I doing wrong?</p>\n<blockquote>\n<p>HTML - This is the code am using to change the current role of the user</p>\n</blockquote>\n<pre><code>  &lt;mat-select #selectRole [value]=&quot;roles&quot; [(ngModel)]=&quot;roles&quot;&gt;\n        &lt;mat-select-filter *ngIf=&quot;selectRole.focused&quot; [array]=&quot;roleInfo&quot; [displayMember]=&quot;'roleName'&quot;\n          (filteredReturn)=&quot;filterRoles =$event&quot;&gt;\n        &lt;/mat-select-filter&gt;\n        &lt;mat-option *ngFor=&quot;let item of filterRoles&quot; [value]=&quot;item.roleName&quot;&gt;\n          {{item.roleName}}\n        &lt;/mat-option&gt;\n  &lt;/mat-select&gt; \n</code></pre>\n<blockquote>\n<p>TS</p>\n</blockquote>\n<pre><code>    roles: object[] = []; \n    userId!: number;\n\n    //This opens a modal so I can change the role of a user\n   openEditUserMenu(template: TemplateRef&lt;any&gt;, userId: number, roles: []) {\n           this.modalRef = this.modalService.show(template, this.config);\n           this.userId = userId;\n           this.roles = roles;\n           console.log(this.roles, &quot;roles&quot;)\n  }\n</code></pre>\n"},{"tags":["java","html","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":2229243,"reputation":399,"user_id":1967280,"accept_rate":75,"display_name":"ElPysCampeador"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1451405641,"creation_date":1451405641,"answer_id":34514831,"question_id":34394364,"body_markdown":"You can try to create an utility service for building the params part of your URL. The utility method will get input from a List&lt;String&gt; and build a String through StringBuffer. The result will be a String written as when you write param manually. Now you can use the Pre-Parser syntax built in thymeleaf to call the utility and build your final url.\r\nHere the example:\r\n\r\nUtility Service\r\n\r\n    @Service(&quot;thymeleafUtilsService&quot;)\r\n    public class ThymeleafUtilsService\r\n    {\r\n    \r\n        public String buildMultiParamPartUrl(List&lt;String&gt; paramNames)\r\n        {\r\n            StringBuffer sb = new StringBuffer(0);\r\n    \r\n            for ( String paramName : paramNames )\r\n            {\r\n                if ( sb.length() &gt;= 0 )\r\n                {\r\n                    sb.append(&quot;,&quot;);\r\n                }\r\n                sb.append(paramName).append(&quot;=${&quot;).append(paramName).append(&quot;}&quot;);\r\n            }\r\n    \r\n            return sb.toString();\r\n        }\r\n    \r\n    }\r\n\r\nController for testing it\r\n\r\n    @Controller(&quot;multiParamLinkController&quot;)\r\n    @RequestMapping(value = &quot;/multiParamLink&quot;)\r\n    public class MultiParamLinkController\r\n    {\r\n    \r\n        @RequestMapping(value =\r\n        { &quot;/&quot;,\r\n          &quot;&quot; }, method = RequestMethod.GET)\r\n        public String testMultiParamsGenerator(Model model)\r\n        {\r\n            List&lt;String&gt; paramNames = new ArrayList&lt;&gt;();\r\n            paramNames.add(&quot;fooValue&quot;);\r\n            paramNames.add(&quot;barValue&quot;);\r\n            paramNames.add(&quot;lang&quot;);\r\n    \r\n            model.addAttribute(&quot;fooValue&quot;, &quot;foo&quot;);\r\n            model.addAttribute(&quot;barValue&quot;, &quot;bar&quot;);\r\n            model.addAttribute(&quot;lang&quot;, &quot;US_us&quot;);\r\n    \r\n            model.addAttribute(&quot;paramNames&quot;, paramNames);\r\n    \r\n            return &quot;multiParamLink/multiParamLink.html&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nHtmlTemplate for Test:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n      &lt;a th:href=&quot;@{${currentUrl}(__${@thymeleafUtilsService.buildMultiParamPartUrl(paramNames)}__)}&quot;&gt;myLink&lt;/a&gt;\r\n      &lt;h1&gt;Result&lt;/h1&gt;\r\n      &lt;pre th:inline=&quot;text&quot;&gt;[[@{${currentUrl}(__${@thymeleafUtilsService.buildMultiParamPartUrl(paramNames)}__)}]]&lt;/pre&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\nthis is what you get with the example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can now customize this example to suit your code, like parsing a Map instead of List or String... \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6CQJX.png","title":"Get full current url thymeleaf with all parameters","body":"<p>You can try to create an utility service for building the params part of your URL. The utility method will get input from a List and build a String through StringBuffer. The result will be a String written as when you write param manually. Now you can use the Pre-Parser syntax built in thymeleaf to call the utility and build your final url.\nHere the example:</p>\n\n<p>Utility Service</p>\n\n<pre><code>@Service(\"thymeleafUtilsService\")\npublic class ThymeleafUtilsService\n{\n\n    public String buildMultiParamPartUrl(List&lt;String&gt; paramNames)\n    {\n        StringBuffer sb = new StringBuffer(0);\n\n        for ( String paramName : paramNames )\n        {\n            if ( sb.length() &gt;= 0 )\n            {\n                sb.append(\",\");\n            }\n            sb.append(paramName).append(\"=${\").append(paramName).append(\"}\");\n        }\n\n        return sb.toString();\n    }\n\n}\n</code></pre>\n\n<p>Controller for testing it</p>\n\n<pre><code>@Controller(\"multiParamLinkController\")\n@RequestMapping(value = \"/multiParamLink\")\npublic class MultiParamLinkController\n{\n\n    @RequestMapping(value =\n    { \"/\",\n      \"\" }, method = RequestMethod.GET)\n    public String testMultiParamsGenerator(Model model)\n    {\n        List&lt;String&gt; paramNames = new ArrayList&lt;&gt;();\n        paramNames.add(\"fooValue\");\n        paramNames.add(\"barValue\");\n        paramNames.add(\"lang\");\n\n        model.addAttribute(\"fooValue\", \"foo\");\n        model.addAttribute(\"barValue\", \"bar\");\n        model.addAttribute(\"lang\", \"US_us\");\n\n        model.addAttribute(\"paramNames\", paramNames);\n\n        return \"multiParamLink/multiParamLink.html\";\n    }\n\n}\n</code></pre>\n\n<p>HtmlTemplate for Test:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;a th:href=\"@{${currentUrl}(__${@thymeleafUtilsService.buildMultiParamPartUrl(paramNames)}__)}\"&gt;myLink&lt;/a&gt;\n  &lt;h1&gt;Result&lt;/h1&gt;\n  &lt;pre th:inline=\"text\"&gt;[[@{${currentUrl}(__${@thymeleafUtilsService.buildMultiParamPartUrl(paramNames)}__)}]]&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>this is what you get with the example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6CQJX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6CQJX.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can now customize this example to suit your code, like parsing a Map instead of List or String... </p>\n"},{"tags":[],"owner":{"account_id":3057250,"reputation":2207,"user_id":2590616,"display_name":"RiZKiT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673567126,"creation_date":1673567126,"answer_id":75103457,"question_id":34394364,"body_markdown":"If you are looking for a *thymeleaf template only version*, you can use  `${#request.getRequestURI()}` with `${#request.getQueryString()}` and add your additional parameters via concatenation: \r\n\r\n```html \r\n&lt;a th:href=&quot;@{${url}}&quot; th:with=&quot;url=${#request.getRequestURI()+&#39;?&#39;+#request.getQueryString()+&#39;&amp;foo=bar&#39;}&quot;&gt;Link&lt;/a&gt;\r\n```\r\n\r\nFor more details, see https://stackoverflow.com/a/75103428/2590616","title":"Get full current url thymeleaf with all parameters","body":"<p>If you are looking for a <em>thymeleaf template only version</em>, you can use  <code>${#request.getRequestURI()}</code> with <code>${#request.getQueryString()}</code> and add your additional parameters via concatenation:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a th:href=&quot;@{${url}}&quot; th:with=&quot;url=${#request.getRequestURI()+'?'+#request.getQueryString()+'&amp;foo=bar'}&quot;&gt;Link&lt;/a&gt;\n</code></pre>\n<p>For more details, see <a href=\"https://stackoverflow.com/a/75103428/2590616\">https://stackoverflow.com/a/75103428/2590616</a></p>\n"}],"owner":{"account_id":2470850,"reputation":1666,"user_id":2152752,"accept_rate":43,"display_name":"oscar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34514831,"answer_count":2,"score":1,"last_activity_date":1673567126,"creation_date":1450696460,"question_id":34394364,"body_markdown":"Im using thymeleaf with spring mvc. I want add a language param to change locale. I did it this way:\r\n\r\n    &lt;a th:href=&quot;@{${currentUrl}(lang=&#39;es_ES&#39;)}&quot; th:if=&quot;__${#locale}__ != &#39;es_ES&#39;&quot; &gt;Sp&lt;/a&gt;\r\n    &lt;a th:href=&quot;@{${currentUrl}(lang=&#39;en_US&#39;)}&quot; th:if=&quot;__${#locale}__ != &#39;en_US&#39;&quot; &gt;Eng&lt;/a&gt;\r\n\r\nBut in some views I have params in the URL. How I can add the parameters?\r\nI know how to add when I meet the specific parameter:\r\n\r\n    &lt;a th:href=&quot;@{${currentUrl}(fooParam = ${fooValue}, lang=&#39;es_ES&#39;)}&quot; th:if=&quot;__${#locale}__ != &#39;es_ES&#39;&quot; &gt;Sp&lt;/a&gt;\r\n\r\nBut I know neither the number and name of all parameters in all views. How I can get all the parameters of the current url?","title":"Get full current url thymeleaf with all parameters","body":"<p>Im using thymeleaf with spring mvc. I want add a language param to change locale. I did it this way:</p>\n\n<pre><code>&lt;a th:href=\"@{${currentUrl}(lang='es_ES')}\" th:if=\"__${#locale}__ != 'es_ES'\" &gt;Sp&lt;/a&gt;\n&lt;a th:href=\"@{${currentUrl}(lang='en_US')}\" th:if=\"__${#locale}__ != 'en_US'\" &gt;Eng&lt;/a&gt;\n</code></pre>\n\n<p>But in some views I have params in the URL. How I can add the parameters?\nI know how to add when I meet the specific parameter:</p>\n\n<pre><code>&lt;a th:href=\"@{${currentUrl}(fooParam = ${fooValue}, lang='es_ES')}\" th:if=\"__${#locale}__ != 'es_ES'\" &gt;Sp&lt;/a&gt;\n</code></pre>\n\n<p>But I know neither the number and name of all parameters in all views. How I can get all the parameters of the current url?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673136840,"creation_date":1673136840,"answer_id":75044680,"question_id":75040871,"body_markdown":"To solve your issue, you need to get the value inside the [ValueProvider](https://cloud.google.com/dataflow/docs/guides/templates/creating-templates#using-valueprovider-in-your-functions) : \r\n\r\n```java\r\nPCollection&lt;Row&gt; rows1 = rows.apply(SqlTransform.query(options.getQuery().get()))\r\n```\r\n\r\nThe `query` method takes a `String` as parameter, that&#39;s why you need to get the `String` value of the `ValueProvider` option.","title":"How to pass Runtime query to SqlTransform in apache beam?","body":"<p>To solve your issue, you need to get the value inside the <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/creating-templates#using-valueprovider-in-your-functions\" rel=\"nofollow noreferrer\">ValueProvider</a> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>PCollection&lt;Row&gt; rows1 = rows.apply(SqlTransform.query(options.getQuery().get()))\n</code></pre>\n<p>The <code>query</code> method takes a <code>String</code> as parameter, that's why you need to get the <code>String</code> value of the <code>ValueProvider</code> option.</p>\n"},{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673566634,"creation_date":1673566634,"answer_id":75103405,"question_id":75040871,"body_markdown":"You should use [FlexTemplates][1] which allow dynamic graph construction (such as SqlTransform) uses based on template parameters. \r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates","title":"How to pass Runtime query to SqlTransform in apache beam?","body":"<p>You should use <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates\" rel=\"nofollow noreferrer\">FlexTemplates</a> which allow dynamic graph construction (such as SqlTransform) uses based on template parameters.</p>\n"}],"owner":{"account_id":16061689,"reputation":2319,"user_id":11592386,"display_name":"Nikhil Suthar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673566634,"creation_date":1673099848,"question_id":75040871,"body_markdown":"I want to pass the Query dynamically while running the Dataflow job. I am using SQLTransform which works fine when I pass Query within code.\r\n\r\nMy use case requires passing the Query at Runtime, is it possible with `SqlTransform` in Apache Beam?\r\n\r\nThis works if I hard-code it in code.\r\n\r\n    String PQuery = &quot;SELECT col1, max(col2) as max_watermark FROM PCOLLECTION GROUP BY col1&quot;;\r\n    PCollection&lt;Row&gt; rows1 =   rows.apply(SqlTransform.query(PQuery));\r\n\r\nBut with `valueProvider` input, it gives compile time error.\r\n\r\n    PCollection&lt;Row&gt; rows1 =   rows.apply(SqlTransform.query(options.getQuery()))\r\n\r\n**Error**\r\n\r\n    The method query(String) in the type SqlTransform is not applicable for the arguments (ValueProvider&lt;String&gt;)","title":"How to pass Runtime query to SqlTransform in apache beam?","body":"<p>I want to pass the Query dynamically while running the Dataflow job. I am using SQLTransform which works fine when I pass Query within code.</p>\n<p>My use case requires passing the Query at Runtime, is it possible with <code>SqlTransform</code> in Apache Beam?</p>\n<p>This works if I hard-code it in code.</p>\n<pre><code>String PQuery = &quot;SELECT col1, max(col2) as max_watermark FROM PCOLLECTION GROUP BY col1&quot;;\nPCollection&lt;Row&gt; rows1 =   rows.apply(SqlTransform.query(PQuery));\n</code></pre>\n<p>But with <code>valueProvider</code> input, it gives compile time error.</p>\n<pre><code>PCollection&lt;Row&gt; rows1 =   rows.apply(SqlTransform.query(options.getQuery()))\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>The method query(String) in the type SqlTransform is not applicable for the arguments (ValueProvider&lt;String&gt;)\n</code></pre>\n"},{"tags":["java","rest","usda-fooddata-central-api"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1673562444,"post_id":75102832,"comment_id":132533784,"body_markdown":"The code you&#39;ve posted just retrieves the JSON object from the API.  To convert it to usable data, you need a JSON parser.  [This post](https://dzone.com/articles/how-to-parse-json-data-from-a-rest-api-using-simpl) describes the process in detail.","body":"The code you&#39;ve posted just retrieves the JSON object from the API.  To convert it to usable data, you need a JSON parser.  <a href=\"https://dzone.com/articles/how-to-parse-json-data-from-a-rest-api-using-simpl\" rel=\"nofollow noreferrer\">This post</a> describes the process in detail."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1673562491,"post_id":75102832,"comment_id":132533790,"body_markdown":"Does this answer your question? [How to parse JSON in Java](https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">How to parse JSON in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673562408,"creation_date":1673562408,"answer_id":75102928,"question_id":75102832,"body_markdown":"You need to look how to parse Json in Java. This way you can take any data you need from that Json file. [Some explanations for the similar question are here.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java","title":"How can I get specific data from a REST API in?","body":"<p>You need to look how to parse Json in Java. This way you can take any data you need from that Json file. <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">Some explanations for the similar question are here.</a></p>\n"},{"tags":[],"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673563253,"creation_date":1673563253,"answer_id":75103042,"question_id":75102832,"body_markdown":"Usually Spring or other frameworks used for this purposes. In your example you can save JSON response to string like this:\r\n```\r\nString reponse = &quot;&quot;;\r\nString line;\r\nwhile ((line = br.readLine()) != null) {\r\n    reponse += line;\r\n}\r\n```\r\nAnd than parse this JSON, f.e. using Jackson ObjectMapper convert it into your dto.  \r\nThere is an example here: https://www.baeldung.com/jackson-object-mapper-tutorial","title":"How can I get specific data from a REST API in?","body":"<p>Usually Spring or other frameworks used for this purposes. In your example you can save JSON response to string like this:</p>\n<pre><code>String reponse = &quot;&quot;;\nString line;\nwhile ((line = br.readLine()) != null) {\n    reponse += line;\n}\n</code></pre>\n<p>And than parse this JSON, f.e. using Jackson ObjectMapper convert it into your dto.<br />\nThere is an example here: <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-object-mapper-tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673566378,"creation_date":1673566077,"answer_id":75103342,"question_id":75102832,"body_markdown":"Your question should be divided in two parts: \r\n\r\n 1. How to read info from API\r\n 2. How to parse it.\r\n\r\nThe first part you already did. But you can do it with less code by far. You can use 3d party HTTP clients. The most popular are [Apache Http Client][1] with good tutorial - [Apache HttpClient Tutorial][2] and [OK Http client][3] with good tutorial - [A Guide to OkHttp][4]. However, I wrote my own Http client that is not widely known but very simple to use. &lt;br&gt;\r\n&lt;br&gt; The second part is how to parse Json. And for that you can use also 3d party Json parsers. The most popular ones would be [Json Jackson][5] or [Gson][6] (of Google). And again I also wrote my own thin wrapper over Json-Jackson that allows you to parse Json very simply. Here is the code example that uses my own utilities:\r\n\r\n    HttpClient httpClient = new HttpClient();\r\n    try {\r\n        httpClient.setConnectionUrl(&quot;https://api.nal.usda.gov/fdc/v1/food/1750339?api_key=DEMO_KEY&quot;);\r\n        httpClient.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        String jsonResponse = httpClient.sendHttpRequest(HttpClient.HttpMethod.GET);\r\n        Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(jsonResponse, Map.class);\r\n        System.out.println(&quot;fdcid: &quot; + map.get(&quot;fdcId&quot;));\r\n        System.out.println(&quot;description: &quot; + map.get(&quot;description&quot;));\r\n    } catch (Exception e) {\r\n        System.out.println(httpClient.getLastResponseCode() + &quot; &quot;\r\n                + httpClient.getLastResponseMessage() + TextUtils.getStacktrace(e, false));\r\n    }\r\n\r\nIf you run this code this would be the output:\r\n\r\n    fdcid: 1750339\r\n    description: Apples, red delicious, with skin, raw\r\n\r\nThe classes `HttpClient`, `JsonUtils`  and `TextUtils` all come as part of MgntUtils Open Source library written and maintained by me. Here is [Javadoc][7] for the library If you want the source code of the whole library you can get it on Github [here][8], and just the library as Maven artifact is available from Maven Central [here][9]\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.2.x/\r\n  [2]: https://www.baeldung.com/httpclient-guide\r\n  [3]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\r\n  [4]: https://www.baeldung.com/guide-to-okhttp\r\n  [5]: https://github.com/FasterXML/jackson\r\n  [6]: https://github.com/google/gson\r\n  [7]: http://michaelgantman.github.io/Mgnt/docs/\r\n  [8]: https://github.com/michaelgantman/Mgnt/releases\r\n  [9]: https://central.sonatype.dev/artifact/com.github.michaelgantman/MgntUtils/1.6.0.5\r\n\r\n\r\n\r\n\r\n","title":"How can I get specific data from a REST API in?","body":"<p>Your question should be divided in two parts:</p>\n<ol>\n<li>How to read info from API</li>\n<li>How to parse it.</li>\n</ol>\n<p>The first part you already did. But you can do it with less code by far. You can use 3d party HTTP clients. The most popular are <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/\" rel=\"nofollow noreferrer\">Apache Http Client</a> with good tutorial - <a href=\"https://www.baeldung.com/httpclient-guide\" rel=\"nofollow noreferrer\">Apache HttpClient Tutorial</a> and <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\">OK Http client</a> with good tutorial - <a href=\"https://www.baeldung.com/guide-to-okhttp\" rel=\"nofollow noreferrer\">A Guide to OkHttp</a>. However, I wrote my own Http client that is not widely known but very simple to use. <br>\n<br> The second part is how to parse Json. And for that you can use also 3d party Json parsers. The most popular ones would be <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Json Jackson</a> or <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> (of Google). And again I also wrote my own thin wrapper over Json-Jackson that allows you to parse Json very simply. Here is the code example that uses my own utilities:</p>\n<pre><code>HttpClient httpClient = new HttpClient();\ntry {\n    httpClient.setConnectionUrl(&quot;https://api.nal.usda.gov/fdc/v1/food/1750339?api_key=DEMO_KEY&quot;);\n    httpClient.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n    String jsonResponse = httpClient.sendHttpRequest(HttpClient.HttpMethod.GET);\n    Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(jsonResponse, Map.class);\n    System.out.println(&quot;fdcid: &quot; + map.get(&quot;fdcId&quot;));\n    System.out.println(&quot;description: &quot; + map.get(&quot;description&quot;));\n} catch (Exception e) {\n    System.out.println(httpClient.getLastResponseCode() + &quot; &quot;\n            + httpClient.getLastResponseMessage() + TextUtils.getStacktrace(e, false));\n}\n</code></pre>\n<p>If you run this code this would be the output:</p>\n<pre><code>fdcid: 1750339\ndescription: Apples, red delicious, with skin, raw\n</code></pre>\n<p>The classes <code>HttpClient</code>, <code>JsonUtils</code>  and <code>TextUtils</code> all come as part of MgntUtils Open Source library written and maintained by me. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/\" rel=\"nofollow noreferrer\">Javadoc</a> for the library If you want the source code of the whole library you can get it on Github <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a>, and just the library as Maven artifact is available from Maven Central <a href=\"https://central.sonatype.dev/artifact/com.github.michaelgantman/MgntUtils/1.6.0.5\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":27513338,"reputation":13,"user_id":20994805,"display_name":"Quibbs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75102928,"answer_count":3,"score":0,"last_activity_date":1673566378,"creation_date":1673561606,"question_id":75102832,"body_markdown":"So I&#39;m trying to access data frim a rest api using java code and I&#39;m not very experienced in getting data from an api using java. I had found the code below on another question. This code was able to output all the data from the link but I&#39;m a bit confused on how to get specific values from the link. The link in the code below shows the nutrition info for an apple and what I&#39;m looking for is being able to output specific values such as the fdcId or the description.\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try {\r\n\r\n            URL url = new URL(&quot;https://api.nal.usda.gov/fdc/v1/food/1750339?api_key=DEMO_KEY&quot;);//your url i.e fetch data from .\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestMethod(&quot;GET&quot;);\r\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            if (conn.getResponseCode() != 200) {\r\n                throw new RuntimeException(&quot;Failed : HTTP Error code : &quot;\r\n                        + conn.getResponseCode());\r\n            }\r\n            InputStreamReader in = new InputStreamReader(conn.getInputStream());\r\n            BufferedReader br = new BufferedReader(in);\r\n            String output;\r\n            while ((output = br.readLine()) != null) {\r\n                System.out.println(output);\r\n            }\r\n            conn.disconnect();\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception in NetClientGet:- &quot; + e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI haven&#39;t really tried much with the code. I tried looking for the answer for this online and didn&#39;t find much","title":"How can I get specific data from a REST API in?","body":"<p>So I'm trying to access data frim a rest api using java code and I'm not very experienced in getting data from an api using java. I had found the code below on another question. This code was able to output all the data from the link but I'm a bit confused on how to get specific values from the link. The link in the code below shows the nutrition info for an apple and what I'm looking for is being able to output specific values such as the fdcId or the description.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\npublic class Main {\n    public static void main(String[] args) {\n        try {\n\n            URL url = new URL(&quot;https://api.nal.usda.gov/fdc/v1/food/1750339?api_key=DEMO_KEY&quot;);//your url i.e fetch data from .\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            if (conn.getResponseCode() != 200) {\n                throw new RuntimeException(&quot;Failed : HTTP Error code : &quot;\n                        + conn.getResponseCode());\n            }\n            InputStreamReader in = new InputStreamReader(conn.getInputStream());\n            BufferedReader br = new BufferedReader(in);\n            String output;\n            while ((output = br.readLine()) != null) {\n                System.out.println(output);\n            }\n            conn.disconnect();\n\n        } catch (Exception e) {\n            System.out.println(&quot;Exception in NetClientGet:- &quot; + e);\n        }\n    }\n}\n</code></pre>\n<p>I haven't really tried much with the code. I tried looking for the answer for this online and didn't find much</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1673247707,"post_id":75048125,"comment_id":132446874,"body_markdown":"Hi @Nikhil Suthar, did the below answer resolve your issue?","body":"Hi @Nikhil Suthar, did the below answer resolve your issue?"},{"owner":{"account_id":16061689,"reputation":2319,"user_id":11592386,"display_name":"Nikhil Suthar"},"score":0,"creation_date":1673269515,"post_id":75048125,"comment_id":132453516,"body_markdown":"I am aware about get and that will not work, I want ValueProvider&lt;Srting&gt; not String","body":"I am aware about get and that will not work, I want ValueProvider&lt;Srting&gt; not String"}],"answers":[{"tags":[],"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673187782,"creation_date":1673187782,"answer_id":75048489,"question_id":75048125,"body_markdown":"The ValueProvider provides a get() method (see [Apache Beam][1]). So you can do sth like this:\r\n\r\n    ValueProvider&lt;String&gt; a; \r\n    ValueProvider&lt;String&gt; b; \r\n    String c = a.get() + b.get();\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/options/ValueProvider.html","title":"How to concate Two ValueProvider and assign it to new ValueProvider?","body":"<p>The ValueProvider provides a get() method (see <a href=\"https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/options/ValueProvider.html\" rel=\"nofollow noreferrer\">Apache Beam</a>). So you can do sth like this:</p>\n<pre><code>ValueProvider&lt;String&gt; a; \nValueProvider&lt;String&gt; b; \nString c = a.get() + b.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673276298,"creation_date":1673276298,"answer_id":75059100,"question_id":75048125,"body_markdown":"This question comes up from time to time (see https://stackoverflow.com/questions/67977956/dataflow-valueprovider-how-to-create-from-several-options for example) but there is not currently support for combining ValueProviders in the Beam Java SDK. `NestedValueProvider` is available for transforming a runtime parameter, but it doesn&#39;t support multiple inputs.","title":"How to concate Two ValueProvider and assign it to new ValueProvider?","body":"<p>This question comes up from time to time (see <a href=\"https://stackoverflow.com/questions/67977956/dataflow-valueprovider-how-to-create-from-several-options\">Dataflow. ValueProvider. How to create from several options?</a> for example) but there is not currently support for combining ValueProviders in the Beam Java SDK. <code>NestedValueProvider</code> is available for transforming a runtime parameter, but it doesn't support multiple inputs.</p>\n"},{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673285602,"creation_date":1673285602,"answer_id":75060976,"question_id":75048125,"body_markdown":"You can combine different providers into one, see this as an example: https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/util/DualInputNestedValueProvider.java.\r\n","title":"How to concate Two ValueProvider and assign it to new ValueProvider?","body":"<p>You can combine different providers into one, see this as an example: <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/util/DualInputNestedValueProvider.java\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/util/DualInputNestedValueProvider.java</a>.</p>\n"},{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673566094,"creation_date":1673566094,"answer_id":75103345,"question_id":75048125,"body_markdown":"You could also look into using [flex templates][1] instead, which avoid having to worry about ValueProviders at all. \r\n\r\n\r\n  [1]: https://dataintegration.info/why-you-should-be-using-flex-templates-for-your-dataflow-deployments","title":"How to concate Two ValueProvider and assign it to new ValueProvider?","body":"<p>You could also look into using <a href=\"https://dataintegration.info/why-you-should-be-using-flex-templates-for-your-dataflow-deployments\" rel=\"nofollow noreferrer\">flex templates</a> instead, which avoid having to worry about ValueProviders at all.</p>\n"}],"owner":{"account_id":16061689,"reputation":2319,"user_id":11592386,"display_name":"Nikhil Suthar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75060976,"answer_count":4,"score":0,"last_activity_date":1673566094,"creation_date":1673184475,"question_id":75048125,"body_markdown":"I want to concatenate the value of two `ValueProvider&lt;String&gt;` and assign it to a new `ValueProvider&lt;String&gt;`\r\nHow I can achieve it?\r\n\r\n    ValueProvider&lt;String&gt; A; //if A = Nikhil;\r\n    ValueProvider&lt;String&gt; B; //if B = Suthar;\r\n    ValueProvider&lt;String&gt; C = A + B; //Then C = Nikhil Suthar;","title":"How to concate Two ValueProvider and assign it to new ValueProvider?","body":"<p>I want to concatenate the value of two <code>ValueProvider&lt;String&gt;</code> and assign it to a new <code>ValueProvider&lt;String&gt;</code>\nHow I can achieve it?</p>\n<pre><code>ValueProvider&lt;String&gt; A; //if A = Nikhil;\nValueProvider&lt;String&gt; B; //if B = Suthar;\nValueProvider&lt;String&gt; C = A + B; //Then C = Nikhil Suthar;\n</code></pre>\n"},{"tags":["java","android-studio","alarmmanager","repeatingalarm"],"owner":{"account_id":27115120,"reputation":1,"user_id":20659600,"display_name":"Eida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673565666,"creation_date":1673565666,"question_id":75103311,"body_markdown":"I am attempting to set daily notifications in my app, but they only seem to be working one time. Additionally, I am attempting to make it work also on API 31 and higher.\r\n\r\n\r\n\r\n```\r\n                int hourOfDay = timePicker.getHour();\r\n                int minute = timePicker.getMinute();\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.set(Calendar.HOUR_OF_DAY, hourOfDay);\r\n                calendar.set(Calendar.MINUTE, minute);\r\n                calendar.set(Calendar.SECOND, 0);\r\n                if(calendar.getTimeInMillis() &lt; System.currentTimeMillis())\r\n                    calendar.add(Calendar.DATE, 1);\r\n                AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n                Intent intent = new Intent(TimerPickerAct.this, MyBroadcastReceiver.class);\r\n                PendingIntent pendingIntent = PendingIntent.getBroadcast(TimerPickerAct.this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n                alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n              \r\n```\r\n\r\n\r\nI tried to do it this way but in this way I don&#39;t get any notification.\r\n```\r\nalarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP,calendar.getTimeInMillis(),AlarmManager.INTERVAL_DAY, pendingIntent)\r\n\r\n```","title":"Android Studio daily notification API 31+","body":"<p>I am attempting to set daily notifications in my app, but they only seem to be working one time. Additionally, I am attempting to make it work also on API 31 and higher.</p>\n<pre><code>                int hourOfDay = timePicker.getHour();\n                int minute = timePicker.getMinute();\n                Calendar calendar = Calendar.getInstance();\n                calendar.set(Calendar.HOUR_OF_DAY, hourOfDay);\n                calendar.set(Calendar.MINUTE, minute);\n                calendar.set(Calendar.SECOND, 0);\n                if(calendar.getTimeInMillis() &lt; System.currentTimeMillis())\n                    calendar.add(Calendar.DATE, 1);\n                AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n                Intent intent = new Intent(TimerPickerAct.this, MyBroadcastReceiver.class);\n                PendingIntent pendingIntent = PendingIntent.getBroadcast(TimerPickerAct.this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n                alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n              \n</code></pre>\n<p>I tried to do it this way but in this way I don't get any notification.</p>\n<pre><code>alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP,calendar.getTimeInMillis(),AlarmManager.INTERVAL_DAY, pendingIntent)\n\n</code></pre>\n"},{"tags":["java","android","json","networking","android-volley"],"answers":[{"tags":[],"owner":{"account_id":5271912,"reputation":55,"user_id":4209925,"display_name":"rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647241896,"creation_date":1647241896,"answer_id":71464117,"question_id":71463172,"body_markdown":"You should double check the link &quot;https://api.gofile.io/getFolder?folderId=XuxRGg&quot;.  Typing it in chrome also return 404. \r\n","title":"How to fix NetworkUtility.shouldRetryException: Unexpected response code 404","body":"<p>You should double check the link &quot;https://api.gofile.io/getFolder?folderId=XuxRGg&quot;.  Typing it in chrome also return 404.</p>\n"},{"tags":[],"owner":{"account_id":10997121,"reputation":9,"user_id":8078909,"display_name":"tedi 1700"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673565651,"creation_date":1673565651,"answer_id":75103309,"question_id":71463172,"body_markdown":"say 404_Not Found response code -\r\ncheck api link and find    http_response_code(404)(in php) - probably there isn&#39;t response in database","title":"How to fix NetworkUtility.shouldRetryException: Unexpected response code 404","body":"<p>say 404_Not Found response code -\ncheck api link and find    http_response_code(404)(in php) - probably there isn't response in database</p>\n"}],"owner":{"account_id":22825454,"reputation":45,"user_id":16974785,"display_name":"windowssolution"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673565651,"creation_date":1647234074,"question_id":71463172,"body_markdown":"i am using gofile link but when i call it i get  this error \r\n\r\n \r\n\r\n     E/Volley: [4463] NetworkUtility.shouldRetryException: Unexpected response code 404 for https://api.gofile.io/getFolder?folderId=XuxRGg\r\n\r\n\r\ni also attach the code part\r\n\r\n    public class GoFile {\r\n        public interface goFileCallback {\r\n            void onSuccess(String result);\r\n            void onError(VolleyError error);\r\n        }\r\n    \r\n        public static void getStreamLink(Context context, String url, final goFileCallback callback) {\r\n            String[] parts = url.split(&quot;/&quot;);\r\n            String id = parts[4];\r\n            RequestQueue queue = Volley.newRequestQueue(context);\r\n            StringRequest sr = new StringRequest(com.android.volley.Request.Method.GET, &quot;https://api.gofile.io/getFolder?folderId=&quot;+id, response -&gt; {\r\n                JsonObject jsonObject = new Gson().fromJson(response, JsonObject.class);\r\n                JsonObject data = jsonObject.get(&quot;data&quot;).getAsJsonObject();\r\n                JsonObject contents = data.get(&quot;contents&quot;).getAsJsonObject();\r\n                for (String keyStr : contents.keySet()) {\r\n                    JsonObject md5 = contents.get(keyStr).getAsJsonObject();\r\n                    String link = md5.get(&quot;link&quot;).getAsString();\r\n                    callback.onSuccess(link);\r\n                }\r\n            }, error -&gt; callback.onError(error));\r\n            queue.add(sr);\r\n        }\r\n    }\r\ni would be glad if some one help me to solve this\r\n","title":"How to fix NetworkUtility.shouldRetryException: Unexpected response code 404","body":"<p>i am using gofile link but when i call it i get  this error</p>\n<pre><code> E/Volley: [4463] NetworkUtility.shouldRetryException: Unexpected response code 404 for https://api.gofile.io/getFolder?folderId=XuxRGg\n</code></pre>\n<p>i also attach the code part</p>\n<pre><code>public class GoFile {\n    public interface goFileCallback {\n        void onSuccess(String result);\n        void onError(VolleyError error);\n    }\n\n    public static void getStreamLink(Context context, String url, final goFileCallback callback) {\n        String[] parts = url.split(&quot;/&quot;);\n        String id = parts[4];\n        RequestQueue queue = Volley.newRequestQueue(context);\n        StringRequest sr = new StringRequest(com.android.volley.Request.Method.GET, &quot;https://api.gofile.io/getFolder?folderId=&quot;+id, response -&gt; {\n            JsonObject jsonObject = new Gson().fromJson(response, JsonObject.class);\n            JsonObject data = jsonObject.get(&quot;data&quot;).getAsJsonObject();\n            JsonObject contents = data.get(&quot;contents&quot;).getAsJsonObject();\n            for (String keyStr : contents.keySet()) {\n                JsonObject md5 = contents.get(keyStr).getAsJsonObject();\n                String link = md5.get(&quot;link&quot;).getAsString();\n                callback.onSuccess(link);\n            }\n        }, error -&gt; callback.onError(error));\n        queue.add(sr);\n    }\n}\n</code></pre>\n<p>i would be glad if some one help me to solve this</p>\n"},{"tags":["java","spring-boot","keycloak","netflix-eureka","netflix-zuul"],"comments":[{"owner":{"account_id":16543667,"reputation":548,"user_id":11953783,"display_name":"Joe"},"score":0,"creation_date":1568039008,"post_id":57855221,"comment_id":102138128,"body_markdown":"Why are you using such an old library? Take a look at the [docs](https://www.keycloak.org/docs/latest/securing_apps/index.html#_spring_boot_adapter) for the latest version.","body":"Why are you using such an old library? Take a look at the <a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#_spring_boot_adapter\" rel=\"nofollow noreferrer\">docs</a> for the latest version."}],"answers":[{"tags":[],"owner":{"account_id":10419346,"reputation":31,"user_id":7682425,"display_name":"GIPC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579617176,"creation_date":1579617176,"answer_id":59843350,"question_id":57855221,"body_markdown":"I think your problem is in the dependencies declaration, as you can see in [keycloak documentation][1], the liobrary that you have use is org.keycloak:keycloak-spring-boot-starter. This package include all you need to use keycloak, also include keycloak-authz-client which is required for authorization token. If you include this library, you would remove all dependecies that you tokd above:\r\n```\r\ncompile &quot;org.keycloak:keycloak-spring-boot-starter:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-spring-boot-adapter:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-authz-client:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-spring-security-adapter:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-spring-boot-adapter:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-core:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-adapter-spi:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-adapter-core:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-common:3.3.0.Final&quot;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/securing_apps/index.html#_spring_boot_adapter","title":"Spring-boot and Keycloak Integration","body":"<p>I think your problem is in the dependencies declaration, as you can see in <a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#_spring_boot_adapter\" rel=\"nofollow noreferrer\">keycloak documentation</a>, the liobrary that you have use is org.keycloak:keycloak-spring-boot-starter. This package include all you need to use keycloak, also include keycloak-authz-client which is required for authorization token. If you include this library, you would remove all dependecies that you tokd above:</p>\n\n<pre><code>compile \"org.keycloak:keycloak-spring-boot-starter:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-spring-boot-adapter:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-authz-client:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-spring-security-adapter:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-spring-boot-adapter:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-core:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-adapter-spi:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-adapter-core:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-common:3.3.0.Final\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673564893,"creation_date":1661497368,"answer_id":73497240,"question_id":57855221,"body_markdown":"## 2022 update\r\nKeycloak adapters are no longer supported: https://www.keycloak.org/2022/02/adapter-deprecation.html\r\n\r\nI have detailed an alternative for spring-boot 3 there:\r\n[Use Keycloak Spring Adapter with Spring Boot 3][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732","title":"Spring-boot and Keycloak Integration","body":"<h2>2022 update</h2>\n<p>Keycloak adapters are no longer supported: <a href=\"https://www.keycloak.org/2022/02/adapter-deprecation.html\" rel=\"nofollow noreferrer\">https://www.keycloak.org/2022/02/adapter-deprecation.html</a></p>\n<p>I have detailed an alternative for spring-boot 3 there:\n<a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\">Use Keycloak Spring Adapter with Spring Boot 3</a></p>\n"}],"owner":{"account_id":7057485,"reputation":45,"user_id":5404201,"display_name":"Shreekanth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673564893,"creation_date":1568036394,"question_id":57855221,"body_markdown":"I am using spring boot 2.1.7 Release and keycloak-spring-boot-2-starter:4.0.0.Final version.\r\nThis keycloak-spring-boot-2-starter automatically downloads required keycloak adapter dependencies corresponding to 4.0.0.Final release of keycloak adapter dependencies.\r\nNow when I am calling the keycloak protected resource(The rest api which needs to be authorized by keycloak server), I am getting the following error :-\r\n\r\n```\r\njava.lang.RuntimeException: Could not obtain configuration from server [http://localhost:8180/auth/realms/mint/.well-known/uma2-configuration].\r\n\tat org.keycloak.authorization.client.AuthzClient.&lt;init&gt;(AuthzClient.java:242) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.authorization.client.AuthzClient.create(AuthzClient.java:85) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.adapters.authorization.PolicyEnforcer.&lt;init&gt;(PolicyEnforcer.java:66) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:143) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:169) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:37) ~[keycloak-spring-boot-adapter-core-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:88) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:107) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:79) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177) ~[spring-boot-container-bundle-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_221]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_221]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_221]\r\nCaused by: java.lang.RuntimeException: Error executing http method [RequestBuilder [method=GET, charset=UTF-8, version=null, uri=http://localhost:8180/auth/realms/mint/.well-known/uma2-configuration, headerGroup=null, entity=null, parameters=null, config=null]]. Response : [B@1aa5d283\r\n\tat org.keycloak.authorization.client.util.HttpMethod.execute(HttpMethod.java:106) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.authorization.client.util.HttpMethodResponse$2.execute(HttpMethodResponse.java:50) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.authorization.client.AuthzClient.&lt;init&gt;(AuthzClient.java:240) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\r\n\t... 22 common frames omitted\r\nCaused by: java.lang.RuntimeException: Error parsing JSON response.\r\n\tat org.keycloak.authorization.client.util.HttpMethodResponse$2$1.process(HttpMethodResponse.java:56) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.authorization.client.util.HttpMethod.execute(HttpMethod.java:102) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\r\n\t... 24 common frames omitted\r\nCaused by: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;introspection_endpoint&quot; (class org.keycloak.authorization.client.representation.ServerConfiguration), not marked as ignorable (27 known properties: &quot;end_session_endpoint&quot;, &quot;check_session_iframe&quot;, &quot;grant_types_supported&quot;, &quot;scopes_supported&quot;, &quot;claims_parameter_supported&quot;, &quot;userinfo_signing_alg_values_supported&quot;, &quot;subject_types_supported&quot;, &quot;authorization_endpoint&quot;, &quot;request_object_signing_alg_values_supported&quot;, &quot;token_introspection_endpoint&quot;, &quot;response_modes_supported&quot;, &quot;jwks_uri&quot;, &quot;claim_types_supported&quot;, &quot;claims_supported&quot;, &quot;request_parameter_supported&quot;, &quot;response_types_supported&quot;, &quot;token_endpoint_auth_methods_supported&quot;, &quot;id_token_signing_alg_values_supported&quot;, &quot;issuer&quot;, &quot;policy_endpoint&quot;, &quot;permission_endpoint&quot;, &quot;request_uri_parameter_supported&quot;, &quot;token_endpoint&quot;, &quot;token_endpoint_auth_signing_alg_values_supported&quot;, &quot;resource_registration_endpoint&quot;, &quot;userinfo_endpoint&quot;, &quot;registration_endpoint&quot;])\r\n at [Source: (byte[])&quot;{&quot;issuer&quot;:&quot;http://localhost:8180/auth/realms/mint&quot;,&quot;authorization_endpoint&quot;:&quot;http://localhost:8180/auth/realms/mint/protocol/openid-connect/auth&quot;,&quot;token_endpoint&quot;:&quot;http://localhost:8180/auth/realms/mint/protocol/openid-connect/token&quot;,&quot;token_introspection_endpoint&quot;:&quot;http://localhost:8180/auth/realms/mint/protocol/openid-connect/token/introspect&quot;,&quot;end_session_endpoint&quot;:&quot;http://localhost:8180/auth/realms/mint/protocol/openid-connect/logout&quot;,&quot;jwks_uri&quot;:&quot;http://localhost:8180/auth/realms/mint/protoco&quot;[truncated 1119 bytes]; line: 1, column: 1539] (through reference chain: org.keycloak.authorization.client.representation.ServerConfiguration[&quot;introspection_endpoint&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61) ~[jackson-databind-2.9.8.jar:2.9.8]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:823) ~[jackson-databind-2.9.8.jar:2.9.8]\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1153) ~[jackson-databind-2.9.8.jar:2.9.8]\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1589) ~[jackson-databind-2.9.8.jar:2.9.8]\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1567) ~[jackson-databind-2.9.8.jar:2.9.8]\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:294) ~[jackson-databind-2.9.8.jar:2.9.8]\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151) ~[jackson-databind-2.9.8.jar:2.9.8]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013) ~[jackson-databind-2.9.8.jar:2.9.8]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3091) ~[jackson-databind-2.9.8.jar:2.9.8]\r\n\tat org.keycloak.util.JsonSerialization.readValue(JsonSerialization.java:69) ~[keycloak-core-4.0.0.Final.jar:4.0.0.Final]\r\n\tat org.keycloak.authorization.client.util.HttpMethodResponse$2$1.process(HttpMethodResponse.java:54) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\r\n\t... 25 common frames omitted\r\n```\r\n\r\nWhen I decompiled the ServerConfiguration.class from the keycloak-authz-client-4.0.0.Final.jar jar, I could see that there is no such property as &quot;introspection_endpoint&quot; which is why the application is throwing the error of &#39;Unrecognized field &quot;introspection_endpoint&quot;&#39;.\r\n\r\nWhen I looked into the relatively lower version of keycloak-authz-client i.e keycloak-authz-client-3.3.0.Final.jar, I could see that &quot;introspection_endpoint&quot; property is present. So it appears that this property was dropped somewhere in the upper versions such as keycloak-authz-client-4.0.0.Final.jar, keycloak-authz-client-4.0.0.Beta2.jar .etc.\r\n\r\n\r\nSo I thought of using keycloak-spring-boot-starter rather than keycloak-spring-boot-2- and inject the respective version of keycloak adapter BOM. I manually included the following dependencies:-\r\n\r\n```\r\ncompile &quot;org.keycloak:keycloak-spring-boot-starter:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-spring-boot-adapter:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-authz-client:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-spring-security-adapter:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-spring-boot-adapter:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-core:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-adapter-spi:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-adapter-core:3.3.0.Final&quot;\r\ncompile &quot;org.keycloak:keycloak-common:3.3.0.Final&quot;\r\n```\r\n\r\nBut now when I am trying to run the spring boot application, it exits with the following error:-\r\n\r\n```\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration$AuditEventRepositoryConfiguration\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:447) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:128) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:743) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:390) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat com.azilen.micro.api.gateway.MintApiGateway.main(MintApiGateway.java:19) [main/:na]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.keycloak.adapters.springboot.KeycloakAutoConfiguration] from ClassLoader [sun.misc.Launcher$AppClassLoader@764c12b6]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:447) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660) ~[na:1.8.0_221]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:738) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:679) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:647) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1518) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1023) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:189) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:156) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanType(BeanTypeRegistry.java:149) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.updateTypesIfNecessary(BeanTypeRegistry.java:137) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:116) ~[na:1.8.0_221]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.updateTypesIfNecessary(BeanTypeRegistry.java:132) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:96) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:269) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:262) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:251) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:171) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:145) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\t... 17 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/embedded/EmbeddedServletContainerCustomizer\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_221]\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701) ~[na:1.8.0_221]\r\n\tat java.lang.Class.getDeclaredMethods(Class.java:1975) ~[na:1.8.0_221]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\t... 39 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.embedded.EmbeddedServletContainerCustomizer\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[na:1.8.0_221]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_221]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[na:1.8.0_221]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_221]\r\n\t... 43 common frames omitted\r\n\r\n2019-09-09 18:13:24.553  WARN 28792 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n\r\njava.lang.IllegalStateException: Failed to introspect Class [org.keycloak.adapters.springboot.KeycloakAutoConfiguration] from ClassLoader [sun.misc.Launcher$AppClassLoader@764c12b6]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:447) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660) ~[na:1.8.0_221]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:738) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:679) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:647) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1518) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:511) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:481) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:602) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:594) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1226) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:865) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:853) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:840) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:791) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:322) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat com.azilen.micro.api.gateway.MintApiGateway.main(MintApiGateway.java:19) [main/:na]\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/embedded/EmbeddedServletContainerCustomizer\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_221]\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701) ~[na:1.8.0_221]\r\n\tat java.lang.Class.getDeclaredMethods(Class.java:1975) ~[na:1.8.0_221]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.embedded.EmbeddedServletContainerCustomizer\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[na:1.8.0_221]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_221]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[na:1.8.0_221]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_221]\r\n\t... 25 common frames omitted\r\n\r\n```\r\n\r\n\tNote:- It appears that the spring boot version and keycloak adapter are not compatible to each other.\r\n\r\n\tHas anyone faced this issue before?\r\n\r\n\tOne solution/workaround that I can think off is to edit the ServerConfiguration.class of keycloak-authz-client-4.0.0.Final.jar and add the &quot;introspection_endpoint&quot;.\r\n\r\n\tRequest you to please advise if anyone has faced a similar issue.\r\n\r\n\r\nI am using the following versions:-\r\noracle jdk - 1.8\r\nSpring-boot - 2.1.7.RELEASE\r\nspring-cloud-dependencies:Greenwich.SR2\r\nKeycloak - 7.0.0\r\n\r\nThank You\r\n","title":"Spring-boot and Keycloak Integration","body":"<p>I am using spring boot 2.1.7 Release and keycloak-spring-boot-2-starter:4.0.0.Final version.\nThis keycloak-spring-boot-2-starter automatically downloads required keycloak adapter dependencies corresponding to 4.0.0.Final release of keycloak adapter dependencies.\nNow when I am calling the keycloak protected resource(The rest api which needs to be authorized by keycloak server), I am getting the following error :-</p>\n\n<pre><code>java.lang.RuntimeException: Could not obtain configuration from server [http://localhost:8180/auth/realms/mint/.well-known/uma2-configuration].\n    at org.keycloak.authorization.client.AuthzClient.&lt;init&gt;(AuthzClient.java:242) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.authorization.client.AuthzClient.create(AuthzClient.java:85) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.adapters.authorization.PolicyEnforcer.&lt;init&gt;(PolicyEnforcer.java:66) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:143) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:169) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:37) ~[keycloak-spring-boot-adapter-core-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:88) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:107) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:79) ~[keycloak-adapter-core-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177) ~[spring-boot-container-bundle-4.0.0.Final.jar:4.0.0.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_221]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_221]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_221]\nCaused by: java.lang.RuntimeException: Error executing http method [RequestBuilder [method=GET, charset=UTF-8, version=null, uri=http://localhost:8180/auth/realms/mint/.well-known/uma2-configuration, headerGroup=null, entity=null, parameters=null, config=null]]. Response : [B@1aa5d283\n    at org.keycloak.authorization.client.util.HttpMethod.execute(HttpMethod.java:106) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.authorization.client.util.HttpMethodResponse$2.execute(HttpMethodResponse.java:50) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.authorization.client.AuthzClient.&lt;init&gt;(AuthzClient.java:240) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\n    ... 22 common frames omitted\nCaused by: java.lang.RuntimeException: Error parsing JSON response.\n    at org.keycloak.authorization.client.util.HttpMethodResponse$2$1.process(HttpMethodResponse.java:56) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.authorization.client.util.HttpMethod.execute(HttpMethod.java:102) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\n    ... 24 common frames omitted\nCaused by: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field \"introspection_endpoint\" (class org.keycloak.authorization.client.representation.ServerConfiguration), not marked as ignorable (27 known properties: \"end_session_endpoint\", \"check_session_iframe\", \"grant_types_supported\", \"scopes_supported\", \"claims_parameter_supported\", \"userinfo_signing_alg_values_supported\", \"subject_types_supported\", \"authorization_endpoint\", \"request_object_signing_alg_values_supported\", \"token_introspection_endpoint\", \"response_modes_supported\", \"jwks_uri\", \"claim_types_supported\", \"claims_supported\", \"request_parameter_supported\", \"response_types_supported\", \"token_endpoint_auth_methods_supported\", \"id_token_signing_alg_values_supported\", \"issuer\", \"policy_endpoint\", \"permission_endpoint\", \"request_uri_parameter_supported\", \"token_endpoint\", \"token_endpoint_auth_signing_alg_values_supported\", \"resource_registration_endpoint\", \"userinfo_endpoint\", \"registration_endpoint\"])\n at [Source: (byte[])\"{\"issuer\":\"http://localhost:8180/auth/realms/mint\",\"authorization_endpoint\":\"http://localhost:8180/auth/realms/mint/protocol/openid-connect/auth\",\"token_endpoint\":\"http://localhost:8180/auth/realms/mint/protocol/openid-connect/token\",\"token_introspection_endpoint\":\"http://localhost:8180/auth/realms/mint/protocol/openid-connect/token/introspect\",\"end_session_endpoint\":\"http://localhost:8180/auth/realms/mint/protocol/openid-connect/logout\",\"jwks_uri\":\"http://localhost:8180/auth/realms/mint/protoco\"[truncated 1119 bytes]; line: 1, column: 1539] (through reference chain: org.keycloak.authorization.client.representation.ServerConfiguration[\"introspection_endpoint\"])\n    at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61) ~[jackson-databind-2.9.8.jar:2.9.8]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:823) ~[jackson-databind-2.9.8.jar:2.9.8]\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1153) ~[jackson-databind-2.9.8.jar:2.9.8]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1589) ~[jackson-databind-2.9.8.jar:2.9.8]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1567) ~[jackson-databind-2.9.8.jar:2.9.8]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:294) ~[jackson-databind-2.9.8.jar:2.9.8]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151) ~[jackson-databind-2.9.8.jar:2.9.8]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013) ~[jackson-databind-2.9.8.jar:2.9.8]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3091) ~[jackson-databind-2.9.8.jar:2.9.8]\n    at org.keycloak.util.JsonSerialization.readValue(JsonSerialization.java:69) ~[keycloak-core-4.0.0.Final.jar:4.0.0.Final]\n    at org.keycloak.authorization.client.util.HttpMethodResponse$2$1.process(HttpMethodResponse.java:54) ~[keycloak-authz-client-4.0.0.Final.jar:4.0.0.Final]\n    ... 25 common frames omitted\n</code></pre>\n\n<p>When I decompiled the ServerConfiguration.class from the keycloak-authz-client-4.0.0.Final.jar jar, I could see that there is no such property as \"introspection_endpoint\" which is why the application is throwing the error of 'Unrecognized field \"introspection_endpoint\"'.</p>\n\n<p>When I looked into the relatively lower version of keycloak-authz-client i.e keycloak-authz-client-3.3.0.Final.jar, I could see that \"introspection_endpoint\" property is present. So it appears that this property was dropped somewhere in the upper versions such as keycloak-authz-client-4.0.0.Final.jar, keycloak-authz-client-4.0.0.Beta2.jar .etc.</p>\n\n<p>So I thought of using keycloak-spring-boot-starter rather than keycloak-spring-boot-2- and inject the respective version of keycloak adapter BOM. I manually included the following dependencies:-</p>\n\n<pre><code>compile \"org.keycloak:keycloak-spring-boot-starter:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-spring-boot-adapter:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-authz-client:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-spring-security-adapter:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-spring-boot-adapter:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-core:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-adapter-spi:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-adapter-core:3.3.0.Final\"\ncompile \"org.keycloak:keycloak-common:3.3.0.Final\"\n</code></pre>\n\n<p>But now when I am trying to run the spring boot application, it exits with the following error:-</p>\n\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.actuate.autoconfigure.audit.AuditAutoConfiguration$AuditEventRepositoryConfiguration\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:447) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:128) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:743) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:390) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at com.azilen.micro.api.gateway.MintApiGateway.main(MintApiGateway.java:19) [main/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.keycloak.adapters.springboot.KeycloakAutoConfiguration] from ClassLoader [sun.misc.Launcher$AppClassLoader@764c12b6]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:447) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660) ~[na:1.8.0_221]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:738) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:679) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:647) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1518) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1023) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:189) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:156) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanType(BeanTypeRegistry.java:149) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.updateTypesIfNecessary(BeanTypeRegistry.java:137) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at java.util.Iterator.forEachRemaining(Iterator.java:116) ~[na:1.8.0_221]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.updateTypesIfNecessary(BeanTypeRegistry.java:132) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:96) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:269) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:262) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:251) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:171) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:145) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    ... 17 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/embedded/EmbeddedServletContainerCustomizer\n    at java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_221]\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701) ~[na:1.8.0_221]\n    at java.lang.Class.getDeclaredMethods(Class.java:1975) ~[na:1.8.0_221]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    ... 39 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.embedded.EmbeddedServletContainerCustomizer\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[na:1.8.0_221]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_221]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[na:1.8.0_221]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_221]\n    ... 43 common frames omitted\n\n2019-09-09 18:13:24.553  WARN 28792 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [org.keycloak.adapters.springboot.KeycloakAutoConfiguration] from ClassLoader [sun.misc.Launcher$AppClassLoader@764c12b6]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:447) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660) ~[na:1.8.0_221]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:738) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:679) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:647) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1518) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:511) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:481) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:602) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:594) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1226) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:865) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:853) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:840) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:791) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at com.azilen.micro.api.gateway.MintApiGateway.main(MintApiGateway.java:19) [main/:na]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/embedded/EmbeddedServletContainerCustomizer\n    at java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_221]\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701) ~[na:1.8.0_221]\n    at java.lang.Class.getDeclaredMethods(Class.java:1975) ~[na:1.8.0_221]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.embedded.EmbeddedServletContainerCustomizer\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[na:1.8.0_221]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_221]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) ~[na:1.8.0_221]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_221]\n    ... 25 common frames omitted\n\n</code></pre>\n\n<pre><code>Note:- It appears that the spring boot version and keycloak adapter are not compatible to each other.\n\nHas anyone faced this issue before?\n\nOne solution/workaround that I can think off is to edit the ServerConfiguration.class of keycloak-authz-client-4.0.0.Final.jar and add the \"introspection_endpoint\".\n\nRequest you to please advise if anyone has faced a similar issue.\n</code></pre>\n\n<p>I am using the following versions:-\noracle jdk - 1.8\nSpring-boot - 2.1.7.RELEASE\nspring-cloud-dependencies:Greenwich.SR2\nKeycloak - 7.0.0</p>\n\n<p>Thank You</p>\n"},{"tags":["java","ssh","sftp","jsch","public-key"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443595285,"creation_date":1443572022,"answer_id":32855758,"question_id":32852906,"body_markdown":"Aside: by &quot;Cygwin&quot; I assume you mean sshd or sftpd, because Cygwin itself doesn&#39;t do SSH.\r\n\r\nAnyway, if you want Jsch client to accept any key from the host, move the `.setConfig` calls that sets `StrictHostKeyChecking no` so it is **before** `session.connect()`. Alternatively you must provide access to a store containing the correct key(s) for your hosts(s) as @Martin explains -- and you should always do that when connecting to anything other than &quot;localhost&quot; or possibly a machine certain to be on the same, physically-secure network segment (such as a wired LAN hub within a single room).\r\n","title":"How to resolve Java UnknownHostKey, while using JSch SFTP library?","body":"<p>Aside: by \"Cygwin\" I assume you mean sshd or sftpd, because Cygwin itself doesn't do SSH.</p>\n\n<p>Anyway, if you want Jsch client to accept any key from the host, move the <code>.setConfig</code> calls that sets <code>StrictHostKeyChecking no</code> so it is <strong>before</strong> <code>session.connect()</code>. Alternatively you must provide access to a store containing the correct key(s) for your hosts(s) as @Martin explains -- and you should always do that when connecting to anything other than \"localhost\" or possibly a machine certain to be on the same, physically-secure network segment (such as a wired LAN hub within a single room).</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1544704688,"creation_date":1443593253,"answer_id":32858953,"question_id":32852906,"body_markdown":"You are trying to skip a host key checking by setting `StrictHostKeyChecking` to `no`.\r\n\r\nBut you have to do that before the checking, i.e. before the `session.connect()`.\r\n\r\n---\r\n\r\nAnyway, you should never do this, unless you do not care about security. The host key checking is there to protect you from [man-in-the-middle attacks](https://en.wikipedia.org/wiki/Man-in-the-middle_attack).\r\n\r\nInstead, set up an expected host key to let JSch verify it.\r\n\r\nFor example:\r\n\r\n- Call [`JSch.setKnownHosts`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setKnownHosts-java.lang.String-) providing a path to a `.ssh/known_hosts`-like file.\r\n\r\n    To generate the `.ssh/known_hosts`-like file, you can use an `ssh-keyscan` command from OpenSSH. If you are connecting from a *nix server, you should have the command available, just run\r\n\r\n        ssh-keyscan example.com &gt; known_hosts\r\n\r\n    It will have a format like:\r\n\r\n        example.com ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA0hVqZOvZ7yWgie9OHdTORJVI5fJJoH1yEGamAd5G3werH0z7e9ybtq1mGUeRkJtea7bzru0ISR0EZ9HIONoGYrDmI7S+BiwpDBUKjva4mAsvzzvsy6Ogy/apkxm6Kbcml8u4wjxaOw3NKzKqeBvR3pc+nQVA+SJUZq8D2XBRd4EDUFXeLzwqwen9G7gSLGB1hJkSuRtGRfOHbLUuCKNR8RV82i3JvlSnAwb3MwN0m3WGdlJA8J+5YAg4e6JgSKrsCObZK7W1R6iuyuH1zA+dtAHyDyYVHB4FnYZPL0hgz2PSb9c+iDEiFcT/lT4/dQ+kRW6DYn66lS8peS8zCJ9CSQ==\r\n\r\n    And reference the generated `known_hosts` file in your JSch code.\r\n\r\n    If you are on Windows, you can get a Windows build of `ssh-keyscan` from [Win32-OpenSSH project](https://github.com/PowerShell/Win32-OpenSSH/releases) or Git for Windows.\r\n\r\n- Call `JSch.getHostKeyRepository().add()` to provide the expected host key (e.g. hard-coded, as your other credentials).\r\n\r\n    See https://stackoverflow.com/q/29604333/850848.","title":"How to resolve Java UnknownHostKey, while using JSch SFTP library?","body":"<p>You are trying to skip a host key checking by setting <code>StrictHostKeyChecking</code> to <code>no</code>.</p>\n\n<p>But you have to do that before the checking, i.e. before the <code>session.connect()</code>.</p>\n\n<hr>\n\n<p>Anyway, you should never do this, unless you do not care about security. The host key checking is there to protect you from <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"noreferrer\">man-in-the-middle attacks</a>.</p>\n\n<p>Instead, set up an expected host key to let JSch verify it.</p>\n\n<p>For example:</p>\n\n<ul>\n<li><p>Call <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setKnownHosts-java.lang.String-\" rel=\"noreferrer\"><code>JSch.setKnownHosts</code></a> providing a path to a <code>.ssh/known_hosts</code>-like file.</p>\n\n<p>To generate the <code>.ssh/known_hosts</code>-like file, you can use an <code>ssh-keyscan</code> command from OpenSSH. If you are connecting from a *nix server, you should have the command available, just run</p>\n\n<pre><code>ssh-keyscan example.com &gt; known_hosts\n</code></pre>\n\n<p>It will have a format like:</p>\n\n<pre><code>example.com ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA0hVqZOvZ7yWgie9OHdTORJVI5fJJoH1yEGamAd5G3werH0z7e9ybtq1mGUeRkJtea7bzru0ISR0EZ9HIONoGYrDmI7S+BiwpDBUKjva4mAsvzzvsy6Ogy/apkxm6Kbcml8u4wjxaOw3NKzKqeBvR3pc+nQVA+SJUZq8D2XBRd4EDUFXeLzwqwen9G7gSLGB1hJkSuRtGRfOHbLUuCKNR8RV82i3JvlSnAwb3MwN0m3WGdlJA8J+5YAg4e6JgSKrsCObZK7W1R6iuyuH1zA+dtAHyDyYVHB4FnYZPL0hgz2PSb9c+iDEiFcT/lT4/dQ+kRW6DYn66lS8peS8zCJ9CSQ==\n</code></pre>\n\n<p>And reference the generated <code>known_hosts</code> file in your JSch code.</p>\n\n<p>If you are on Windows, you can get a Windows build of <code>ssh-keyscan</code> from <a href=\"https://github.com/PowerShell/Win32-OpenSSH/releases\" rel=\"noreferrer\">Win32-OpenSSH project</a> or Git for Windows.</p></li>\n<li><p>Call <code>JSch.getHostKeyRepository().add()</code> to provide the expected host key (e.g. hard-coded, as your other credentials).</p>\n\n<p>See <a href=\"https://stackoverflow.com/q/29604333/850848\">Creating JSch HostKey instance from a public key in .pub format</a>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6822324,"reputation":321,"user_id":5249090,"display_name":"swaz"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1544795838,"creation_date":1544536169,"answer_id":53725504,"question_id":32852906,"body_markdown":"jsch version : 0.1.55\r\n\r\nmy problem solved by running :\r\n\r\n    ssh-keyscan -t rsa &lt;HOST_NAME&gt; &gt;&gt; ~/.ssh/known_hosts\r\n    ssh-keyscan -t rsa &lt;IP_ADDRESS_OF_HOST_NAME&gt; &gt;&gt; ~/.ssh/known_hosts\r\n\r\n**in my case  jsch was  looking  for ip address in known_hosts file\r\n\r\n    jsch.setKnownHosts(System.getProperty(&quot;user.home&quot;)+&quot;/.ssh/known_hosts&quot;);","title":"How to resolve Java UnknownHostKey, while using JSch SFTP library?","body":"<p>jsch version : 0.1.55</p>\n\n<p>my problem solved by running :</p>\n\n<pre><code>ssh-keyscan -t rsa &lt;HOST_NAME&gt; &gt;&gt; ~/.ssh/known_hosts\nssh-keyscan -t rsa &lt;IP_ADDRESS_OF_HOST_NAME&gt; &gt;&gt; ~/.ssh/known_hosts\n</code></pre>\n\n<p>**in my case  jsch was  looking  for ip address in known_hosts file</p>\n\n<pre><code>jsch.setKnownHosts(System.getProperty(\"user.home\")+\"/.ssh/known_hosts\");\n</code></pre>\n"}],"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47899,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":32858953,"answer_count":3,"score":22,"last_activity_date":1673564470,"creation_date":1443557416,"question_id":32852906,"body_markdown":"I&#39;m running a java program where I transfer a file from one folder to another, using Java SFTP. The problem I&#39;m having is that  I&#39;m getting the following error in  my Java SFTP (using JSch) :\r\n\r\n\r\n&gt; C:\\Oracle\\Middleware\\Oracle_Home\\oracle_common\\jdk\\bin\\javaw.exe\r\n&gt; -server -classpath C:\\JDeveloper\\mywork\\Java_Hello_World\\.adf;C:\\JDeveloper\\mywork\\Java_Hello_World\\Client\\classes;C:\\Users\\ADMIN\\Downloads\\jsch-0.1.53.jar\r\n&gt; -Djavax.net.ssl.trustStore=C:\\Users\\IBM_AD~1\\AppData\\Local\\Temp\\trustStore5840796204189742395.jks\r\n&gt; FileTransfer com.jcraft.jsch.JSchException: UnknownHostKey: 127.0.0.1.\r\n&gt; RSA key fingerprint is a2:39:3f:44:88:e9:1f:d7:d1:71:f4:85:98:fb:90:dc\r\n&gt; \tat com.jcraft.jsch.Session.checkHost(Session.java:797) \tat\r\n&gt; com.jcraft.jsch.Session.connect(Session.java:342) \tat\r\n&gt; com.jcraft.jsch.Session.connect(Session.java:183) \tat\r\n&gt; FileTransfer.main(FileTransfer.java:33) Process exited with exit code\r\n&gt; 0.\r\n\r\n\r\nThe following is my code so far:\r\n\r\n    FileTransfer fileTransfer = new FileTransfer();              \r\n          \r\n    JSch jsch = new JSch();\r\n    \r\n    try {\r\n          \r\n        String host = &quot;127.0.0.1&quot;;\r\n        int port = 22;\r\n          \r\n        String user = &quot;user&quot;;\r\n        Session session = jsch.getSession(user, host, port);      \r\n        session = jsch.getSession(&quot;username&quot;, &quot;127.0.0.1&quot;, 22);\r\n        session.connect();  // bug here , java.net.ConnectException\r\n\r\n        ChannelSftp sftp = null;\r\n        sftp = (ChannelSftp)session.openChannel(&quot;sftp&quot;) ; //channel;\r\n          \r\n        //extra config code\r\n        java.util.Properties config = new java.util.Properties(); \r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        session.setConfig(config);\r\n        // end extra config code\r\n          \r\n        sftp.rename(&quot;C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Work\\\\ConnectOne_Bancorp\\\\Java_Work\\\\SFTP_1\\\\house.bmp&quot;, &quot;C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Work\\\\ConnectOne_Bancorp\\\\Java_Work\\\\SFTP_2\\\\house.bmp&quot;);  \r\n        session.disconnect();\r\n                               \r\n    } catch (JSchException e) {\r\n        e.printStackTrace();  \r\n    } catch (SftpException e) {\r\n        e.printStackTrace();\r\n    } //end-catch\r\n\r\nMy Cygwin is set up, and I checked (with `netstat -a -b` ) that it&#39;s running.\r\n","title":"How to resolve Java UnknownHostKey, while using JSch SFTP library?","body":"<p>I'm running a java program where I transfer a file from one folder to another, using Java SFTP. The problem I'm having is that  I'm getting the following error in  my Java SFTP (using JSch) :</p>\n\n<blockquote>\n  <p>C:\\Oracle\\Middleware\\Oracle_Home\\oracle_common\\jdk\\bin\\javaw.exe\n  -server -classpath C:\\JDeveloper\\mywork\\Java_Hello_World.adf;C:\\JDeveloper\\mywork\\Java_Hello_World\\Client\\classes;C:\\Users\\ADMIN\\Downloads\\jsch-0.1.53.jar\n  -Djavax.net.ssl.trustStore=C:\\Users\\IBM_AD~1\\AppData\\Local\\Temp\\trustStore5840796204189742395.jks\n  FileTransfer com.jcraft.jsch.JSchException: UnknownHostKey: 127.0.0.1.\n  RSA key fingerprint is a2:39:3f:44:88:e9:1f:d7:d1:71:f4:85:98:fb:90:dc\n    at com.jcraft.jsch.Session.checkHost(Session.java:797)  at\n  com.jcraft.jsch.Session.connect(Session.java:342)     at\n  com.jcraft.jsch.Session.connect(Session.java:183)     at\n  FileTransfer.main(FileTransfer.java:33) Process exited with exit code\n  0.</p>\n</blockquote>\n\n<p>The following is my code so far:</p>\n\n<pre><code>FileTransfer fileTransfer = new FileTransfer();              \n\nJSch jsch = new JSch();\n\ntry {\n\n    String host = \"127.0.0.1\";\n    int port = 22;\n\n    String user = \"user\";\n    Session session = jsch.getSession(user, host, port);      \n    session = jsch.getSession(\"username\", \"127.0.0.1\", 22);\n    session.connect();  // bug here , java.net.ConnectException\n\n    ChannelSftp sftp = null;\n    sftp = (ChannelSftp)session.openChannel(\"sftp\") ; //channel;\n\n    //extra config code\n    java.util.Properties config = new java.util.Properties(); \n    config.put(\"StrictHostKeyChecking\", \"no\");\n    session.setConfig(config);\n    // end extra config code\n\n    sftp.rename(\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Work\\\\ConnectOne_Bancorp\\\\Java_Work\\\\SFTP_1\\\\house.bmp\", \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Work\\\\ConnectOne_Bancorp\\\\Java_Work\\\\SFTP_2\\\\house.bmp\");  \n    session.disconnect();\n\n} catch (JSchException e) {\n    e.printStackTrace();  \n} catch (SftpException e) {\n    e.printStackTrace();\n} //end-catch\n</code></pre>\n\n<p>My Cygwin is set up, and I checked (with <code>netstat -a -b</code> ) that it's running.</p>\n"},{"tags":["java","javafx","controller"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668244854,"post_id":74410217,"comment_id":131362076,"body_markdown":"You seem to assume that the cause of your performance issue is a reference to a listener.  It is not.  On the other hand styling the background position using css every frame may be suspect.   So your actual problem and required solution are likely unrelated to the question.  In short, it is an [xy problem](https://xyproblem.info/). Understand this and take action accordingly.","body":"You seem to assume that the cause of your performance issue is a reference to a listener.  It is not.  On the other hand styling the background position using css every frame may be suspect.   So your actual problem and required solution are likely unrelated to the question.  In short, it is an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>. Understand this and take action accordingly."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1668246547,"post_id":74410217,"comment_id":131362325,"body_markdown":"The `SimpleDoubleProperty` will be garbage collected some time after the `Timeline` finishes, because only the `Timeline` has a strong reference to it (the `Timeline` never escapes the method, and so it will only be strongly referenced while it is running). And given the only strong reference to that listener is by the property, when the property is GC&#39;d so will the listener be GC&#39;d. In other words, this is unlikely to be the source of your issue, at least not based on the code in the question. I suggest profiling your application to find where the slowdown is coming from.","body":"The <code>SimpleDoubleProperty</code> will be garbage collected some time after the <code>Timeline</code> finishes, because only the <code>Timeline</code> has a strong reference to it (the <code>Timeline</code> never escapes the method, and so it will only be strongly referenced while it is running). And given the only strong reference to that listener is by the property, when the property is GC&#39;d so will the listener be GC&#39;d. In other words, this is unlikely to be the source of your issue, at least not based on the code in the question. I suggest profiling your application to find where the slowdown is coming from."},{"owner":{"display_name":"user20482809"},"score":0,"creation_date":1668310925,"post_id":74410217,"comment_id":131373093,"body_markdown":"@jewelsea actually it looks like that was the problem. I used setOnCloseRequest to manually run garbage collector each time the app closes and it works perfectly now no slow start ups. Thanks anyway.","body":"@jewelsea actually it looks like that was the problem. I used setOnCloseRequest to manually run garbage collector each time the app closes and it works perfectly now no slow start ups. Thanks anyway."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1668316930,"post_id":74410217,"comment_id":131373601,"body_markdown":"&quot;no slow start ups&quot; -- I missed that your problem was during the start up of your application. In that case, it makes _even less sense_ that this listener could be your problem. Likely something else is going on. All memory is released when the process terminates. And even if you had two instances of your application running simultaneously, let alone starting a new instance after the previous one terminates, they wouldn&#39;t share memory. Also, you can&#39;t force the GC to run. If you&#39;re calling `System.gc()` then that&#39;s only a _request_; the GC may or may not honor that request.","body":"&quot;no slow start ups&quot; -- I missed that your problem was during the start up of your application. In that case, it makes <i>even less sense</i> that this listener could be your problem. Likely something else is going on. All memory is released when the process terminates. And even if you had two instances of your application running simultaneously, let alone starting a new instance after the previous one terminates, they wouldn&#39;t share memory. Also, you can&#39;t force the GC to run. If you&#39;re calling <code>System.gc()</code> then that&#39;s only a <i>request</i>; the GC may or may not honor that request."},{"owner":{"display_name":"user20482809"},"score":0,"creation_date":1668395541,"post_id":74410217,"comment_id":131387062,"body_markdown":"@slaw Really? That&#39;s weird because ever since I requested &quot;System.gc()&quot; on close of the app it hasn&#39;t had a problem since then. It was taking longer to open each launch. At one point it was over 5 min and running but window hadn&#39;t opened yet. Now it pops open in less than 5 seconds each time. Could this be coincidence or my hardware? The only change I made was the garbage collection.","body":"@slaw Really? That&#39;s weird because ever since I requested &quot;System.gc()&quot; on close of the app it hasn&#39;t had a problem since then. It was taking longer to open each launch. At one point it was over 5 min and running but window hadn&#39;t opened yet. Now it pops open in less than 5 seconds each time. Could this be coincidence or my hardware? The only change I made was the garbage collection."}],"owner":{"display_name":"user20482809"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1673563574,"creation_date":1668224358,"question_id":74410217,"body_markdown":"I have a simple JavaFX app that has a scrolling animation of an image but after running the program a few times it begins to take longer and longer to launch. I figured there was a memory leak or something clogging up my JVM. `SimpleDoubleProperty`Oracle docs gave me this tidbit which I think is my problem.\r\n\r\n&gt; The ObservableValue stores a strong reference to the listener which will prevent the listener from being garbage collected and may result in a memory leak. It is recommended to either unregister a listener by calling removeListener after use or to use an instance of WeakChangeListener avoid this situation.\r\n\r\nHow can I implement this fix into my current code?\r\n\r\nI&#39;m a little rusty with lambda expressions and am kind of lost on where I would need to make this adjustment.\r\n\r\n```\r\npublic class LoginController {\r\n\tpublic Region content;\r\n    \r\n    public void initialize() {\r\n        DoubleProperty xPosition = new SimpleDoubleProperty(0);\r\n        xPosition.addListener((observable, oldValue, newValue) -&gt; setBackgroundPositions(content, xPosition.get()));\r\n        Timeline timeline = new Timeline(\r\n                new KeyFrame(Duration.ZERO, new KeyValue(xPosition, 0)),\r\n                new KeyFrame(Duration.seconds(200), new KeyValue(xPosition, -15000))\r\n        );\r\n        timeline.play();\r\n    }\r\n    void setBackgroundPositions(Region region, double xPosition) {\r\n        String style = &quot;-fx-background-position: &quot; +\r\n                &quot;left &quot; + xPosition/6 + &quot;px bottom,&quot; +\r\n                &quot;left &quot; + xPosition/5 + &quot;px bottom,&quot; +\r\n                &quot;left &quot; + xPosition/4 + &quot;px bottom,&quot; +\r\n                &quot;left &quot; + xPosition/3 + &quot;px bottom,&quot; +\r\n                &quot;left &quot; + xPosition/2 + &quot;px bottom,&quot; +\r\n                &quot;left &quot; + xPosition + &quot;px bottom;&quot;;\r\n        region.setStyle(style);\r\n    }\r\n}\r\n```\r\n```\r\npublic class Main extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\ttry {\r\n\t\t\r\n\t\t\tVBox root = (VBox)FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\r\n\t\t\tScene scene = new Scene(root,600,600);\r\n\t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t\tSystem.out.println(&quot;launch&quot;);\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tprimaryStage.setOnCloseRequest(e -&gt; {\r\n\t\t\tSystem.out.println(&quot;Program closed&quot;);\r\n\t\t});\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.net.URL?&gt;\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.Cursor?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.PasswordField?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;VBox fx:id=&quot;content&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;456.0&quot; prefWidth=&quot;600.0&quot; styleClass=&quot;root&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.LoginController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;BorderPane prefHeight=&quot;453.0&quot; prefWidth=&quot;600.0&quot;&gt;\r\n         &lt;center&gt;\r\n            &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;TextField id=&quot;e&quot; layoutX=&quot;226.0&quot; layoutY=&quot;129.0&quot; /&gt;\r\n                  &lt;PasswordField layoutX=&quot;226.0&quot; layoutY=&quot;161.0&quot; /&gt;\r\n                  &lt;Label id=&quot;userNameLabel&quot; layoutX=&quot;115.0&quot; layoutY=&quot;130.0&quot; styleClass=&quot;userNameLabel&quot; stylesheets=&quot;@Moving.css&quot; text=&quot;Username : &quot; textFill=&quot;#ff0101&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font name=&quot;OCR A Extended&quot; size=&quot;18.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                  &lt;/Label&gt;\r\n                  &lt;Label id=&quot;passWordLabel&quot; layoutX=&quot;115.0&quot; layoutY=&quot;163.0&quot; styleClass=&quot;passWordLabel&quot; stylesheets=&quot;@Moving.css&quot; text=&quot;Password : &quot; textFill=&quot;#ff0101&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font name=&quot;OCR A Extended&quot; size=&quot;18.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                  &lt;/Label&gt;\r\n                  &lt;HBox alignment=&quot;TOP_CENTER&quot; layoutY=&quot;209.0&quot; prefHeight=&quot;101.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-spacing: 10;&quot;&gt;\r\n                     &lt;cursor&gt;\r\n                        &lt;Cursor fx:constant=&quot;DEFAULT&quot; /&gt;\r\n                     &lt;/cursor&gt;\r\n                     &lt;children&gt;\r\n                        &lt;Button id=&quot;loginBtn&quot; fx:id=&quot;loginBtn&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#buttonPressed&quot; prefWidth=&quot;80.0&quot; styleClass=&quot;loginBtn&quot; stylesheets=&quot;@Moving.css&quot; text=&quot;Log In&quot; /&gt;\r\n                        \r\n                        &lt;Button id=&quot;registerBtn&quot; fx:id=&quot;registerBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#buttonPressed&quot; prefWidth=&quot;80.0&quot; styleClass=&quot;registerBtn&quot; stylesheets=&quot;@Moving.css&quot; text=&quot;Register&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/HBox&gt;\r\n               &lt;/children&gt;\r\n            &lt;/AnchorPane&gt;\r\n         &lt;/center&gt;\r\n         &lt;cursor&gt;\r\n            &lt;Cursor fx:constant=&quot;DEFAULT&quot; /&gt;\r\n         &lt;/cursor&gt;\r\n         &lt;opaqueInsets&gt;\r\n            &lt;Insets /&gt;\r\n         &lt;/opaqueInsets&gt;\r\n      &lt;/BorderPane&gt;\r\n   &lt;/children&gt;\r\n   &lt;stylesheets&gt;\r\n      &lt;URL value=&quot;@application.css&quot; /&gt;\r\n      &lt;URL value=&quot;@Moving.css&quot; /&gt;\r\n   &lt;/stylesheets&gt;\r\n   &lt;cursor&gt;\r\n      &lt;Cursor fx:constant=&quot;DEFAULT&quot; /&gt;\r\n   &lt;/cursor&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n\r\n\r\n\r\nTried replacing xPosition.addlistener functions with a WeakChangeListener but it was not compatible with the current code configuration.","title":"How can I stop a Timeline running an observable listener from leaking memory?","body":"<p>I have a simple JavaFX app that has a scrolling animation of an image but after running the program a few times it begins to take longer and longer to launch. I figured there was a memory leak or something clogging up my JVM. <code>SimpleDoubleProperty</code>Oracle docs gave me this tidbit which I think is my problem.</p>\n<blockquote>\n<p>The ObservableValue stores a strong reference to the listener which will prevent the listener from being garbage collected and may result in a memory leak. It is recommended to either unregister a listener by calling removeListener after use or to use an instance of WeakChangeListener avoid this situation.</p>\n</blockquote>\n<p>How can I implement this fix into my current code?</p>\n<p>I'm a little rusty with lambda expressions and am kind of lost on where I would need to make this adjustment.</p>\n<pre><code>public class LoginController {\n    public Region content;\n    \n    public void initialize() {\n        DoubleProperty xPosition = new SimpleDoubleProperty(0);\n        xPosition.addListener((observable, oldValue, newValue) -&gt; setBackgroundPositions(content, xPosition.get()));\n        Timeline timeline = new Timeline(\n                new KeyFrame(Duration.ZERO, new KeyValue(xPosition, 0)),\n                new KeyFrame(Duration.seconds(200), new KeyValue(xPosition, -15000))\n        );\n        timeline.play();\n    }\n    void setBackgroundPositions(Region region, double xPosition) {\n        String style = &quot;-fx-background-position: &quot; +\n                &quot;left &quot; + xPosition/6 + &quot;px bottom,&quot; +\n                &quot;left &quot; + xPosition/5 + &quot;px bottom,&quot; +\n                &quot;left &quot; + xPosition/4 + &quot;px bottom,&quot; +\n                &quot;left &quot; + xPosition/3 + &quot;px bottom,&quot; +\n                &quot;left &quot; + xPosition/2 + &quot;px bottom,&quot; +\n                &quot;left &quot; + xPosition + &quot;px bottom;&quot;;\n        region.setStyle(style);\n    }\n}\n</code></pre>\n<pre><code>public class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n        \n            VBox root = (VBox)FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\n            Scene scene = new Scene(root,600,600);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n            System.out.println(&quot;launch&quot;);\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n        \n        primaryStage.setOnCloseRequest(e -&gt; {\n            System.out.println(&quot;Program closed&quot;);\n        });\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.net.URL?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.Cursor?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;VBox fx:id=&quot;content&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;456.0&quot; prefWidth=&quot;600.0&quot; styleClass=&quot;root&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.LoginController&quot;&gt;\n   &lt;children&gt;\n      &lt;BorderPane prefHeight=&quot;453.0&quot; prefWidth=&quot;600.0&quot;&gt;\n         &lt;center&gt;\n            &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n               &lt;children&gt;\n                  &lt;TextField id=&quot;e&quot; layoutX=&quot;226.0&quot; layoutY=&quot;129.0&quot; /&gt;\n                  &lt;PasswordField layoutX=&quot;226.0&quot; layoutY=&quot;161.0&quot; /&gt;\n                  &lt;Label id=&quot;userNameLabel&quot; layoutX=&quot;115.0&quot; layoutY=&quot;130.0&quot; styleClass=&quot;userNameLabel&quot; stylesheets=&quot;@Moving.css&quot; text=&quot;Username : &quot; textFill=&quot;#ff0101&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font name=&quot;OCR A Extended&quot; size=&quot;18.0&quot; /&gt;\n                     &lt;/font&gt;\n                  &lt;/Label&gt;\n                  &lt;Label id=&quot;passWordLabel&quot; layoutX=&quot;115.0&quot; layoutY=&quot;163.0&quot; styleClass=&quot;passWordLabel&quot; stylesheets=&quot;@Moving.css&quot; text=&quot;Password : &quot; textFill=&quot;#ff0101&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font name=&quot;OCR A Extended&quot; size=&quot;18.0&quot; /&gt;\n                     &lt;/font&gt;\n                  &lt;/Label&gt;\n                  &lt;HBox alignment=&quot;TOP_CENTER&quot; layoutY=&quot;209.0&quot; prefHeight=&quot;101.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-spacing: 10;&quot;&gt;\n                     &lt;cursor&gt;\n                        &lt;Cursor fx:constant=&quot;DEFAULT&quot; /&gt;\n                     &lt;/cursor&gt;\n                     &lt;children&gt;\n                        &lt;Button id=&quot;loginBtn&quot; fx:id=&quot;loginBtn&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#buttonPressed&quot; prefWidth=&quot;80.0&quot; styleClass=&quot;loginBtn&quot; stylesheets=&quot;@Moving.css&quot; text=&quot;Log In&quot; /&gt;\n                        \n                        &lt;Button id=&quot;registerBtn&quot; fx:id=&quot;registerBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#buttonPressed&quot; prefWidth=&quot;80.0&quot; styleClass=&quot;registerBtn&quot; stylesheets=&quot;@Moving.css&quot; text=&quot;Register&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/HBox&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n         &lt;/center&gt;\n         &lt;cursor&gt;\n            &lt;Cursor fx:constant=&quot;DEFAULT&quot; /&gt;\n         &lt;/cursor&gt;\n         &lt;opaqueInsets&gt;\n            &lt;Insets /&gt;\n         &lt;/opaqueInsets&gt;\n      &lt;/BorderPane&gt;\n   &lt;/children&gt;\n   &lt;stylesheets&gt;\n      &lt;URL value=&quot;@application.css&quot; /&gt;\n      &lt;URL value=&quot;@Moving.css&quot; /&gt;\n   &lt;/stylesheets&gt;\n   &lt;cursor&gt;\n      &lt;Cursor fx:constant=&quot;DEFAULT&quot; /&gt;\n   &lt;/cursor&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>Tried replacing xPosition.addlistener functions with a WeakChangeListener but it was not compatible with the current code configuration.</p>\n"},{"tags":["java","android","android-studio","android-fragments","android-viewpager"],"answers":[{"tags":[],"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654549691,"creation_date":1654549691,"answer_id":72523492,"question_id":72479739,"body_markdown":"Using the `androidx.viewpager.widget.ViewPager` you have to set also the `ViewPager.OnPageChangeListener` with `TabLayout.TabLayoutOnPageChangeListener` like the below:\r\n\r\n     pager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tl));\r\n\r\nBy doing the above you should be able to change the Tab focus when swiping the ViewPager left or right.","title":"TabLayout swiping does not change Tab focus","body":"<p>Using the <code>androidx.viewpager.widget.ViewPager</code> you have to set also the <code>ViewPager.OnPageChangeListener</code> with <code>TabLayout.TabLayoutOnPageChangeListener</code> like the below:</p>\n<pre><code> pager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tl));\n</code></pre>\n<p>By doing the above you should be able to change the Tab focus when swiping the ViewPager left or right.</p>\n"},{"tags":[],"owner":{"account_id":8042363,"reputation":41,"user_id":6063653,"display_name":"Ahmed Matem Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673563160,"creation_date":1673563160,"answer_id":75103026,"question_id":72479739,"body_markdown":"onViewCreated() use\r\n\r\n    TabLayoutMediator(tabLayout, viewPager){ tab, position -&gt;\r\n        // set tab text by given *position*\r\n        tab.text = &quot;Tab_{position}&quot; // for example\r\n    }.atach()\r\n\r\nto link TabLayout and ViewPager and atach it\r\n\r\n","title":"TabLayout swiping does not change Tab focus","body":"<p>onViewCreated() use</p>\n<pre><code>TabLayoutMediator(tabLayout, viewPager){ tab, position -&gt;\n    // set tab text by given *position*\n    tab.text = &quot;Tab_{position}&quot; // for example\n}.atach()\n</code></pre>\n<p>to link TabLayout and ViewPager and atach it</p>\n"}],"owner":{"account_id":25090019,"reputation":31,"user_id":18941766,"display_name":"shiho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72523492,"answer_count":2,"score":1,"last_activity_date":1673563160,"creation_date":1654188876,"question_id":72479739,"body_markdown":"I have a `tabLayout` and a `viewPager` underneath it. When I click on the tab, it switches tabs perfectly fine. However, when I swipe, the viewPage swipes over, but the tab does not change focus. I have to manually click on the corresponding tab in order to change the focus (viewPager does not change).\r\n\r\nFor example, if I&#39;m on the 4th slide, and I swipe left, the viewPage goes to the 3rd slide, but the tab isn&#39;t focused over. I have to manually tap on the 3rd tab in order to change the focus.\r\n\r\nI&#39;m wondering how I can let the tabs follow the swiping when I swipe from view to view in the viewPager.\r\n\r\n**fragment XML:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.tabs.TabLayout\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/tab_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/pager&quot;/&gt;\r\n    \r\n        &lt;androidx.viewpager.widget.ViewPager\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:id=&quot;@+id/pager&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/tab_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nPagerFragment:\r\n    \r\n    public class PagerFragment extends Fragment {\r\n       \r\n        ViewPagerAdapter pagerAdapter;\r\n    \r\n        ViewPager pager;\r\n        TabLayout tl;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            pagerAdapter = new ViewPagerAdapter(this.getContext(), getChildFragmentManager(), 4, getActivity());\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            final View view = super.onCreateView(inflater, container, savedInstanceState);\r\n            ViewGroup root = (ViewGroup) inflater.inflate(R.layout.fragment_pager, null);\r\n            pager = root.findViewById(R.id.pager);\r\n            pager.setAdapter(pagerAdapter);\r\n            tl = root.findViewById(R.id.tab_layout);\r\n            tl.addTab(tl.newTab().setText(&quot;1&quot;));\r\n            tl.addTab(tl.newTab().setText(&quot;2&quot;));\r\n            tl.addTab(tl.newTab().setText(&quot;3&quot;));\r\n            tl.addTab(tl.newTab().setText(&quot;4&quot;));\r\n    \r\n            tl.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n                @Override\r\n                public void onTabSelected(TabLayout.Tab tab) {\r\n                    pager.setCurrentItem(tab.getPosition());\r\n                }\r\n    \r\n                @Override\r\n                public void onTabUnselected(TabLayout.Tab tab) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTabReselected(TabLayout.Tab tab) {\r\n    \r\n                }\r\n            });\r\n            tl.addOnTabSelectedListener(new TabLayout.ViewPagerOnTabSelectedListener(pager));\r\n    \r\n            return root;\r\n        }\r\n    }\r\n\r\n**Adapter**:\r\n\r\n    public class ViewPagerAdapter extends FragmentPagerAdapter {\r\n    \r\n        private Context myContext;\r\n        int totalTabs;\r\n    \r\n        public ViewPagerAdapter(Context context, FragmentManager fm, int totalTabs, FragmentActivity fa) {\r\n            super(fm);\r\n            myContext = context;\r\n            this.totalTabs = totalTabs;\r\n        }\r\n    \r\n        public Fragment getItem(int position) {\r\n            graph_test gt = new graph_test(String.valueOf(position), position);\r\n            return gt;\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return totalTabs;\r\n        }\r\n    }\r\n\r\nNote: I know that FragmentPagerAdapter is deprecated. I was asked to do it this way.\r\n\r\nThanks.","title":"TabLayout swiping does not change Tab focus","body":"<p>I have a <code>tabLayout</code> and a <code>viewPager</code> underneath it. When I click on the tab, it switches tabs perfectly fine. However, when I swipe, the viewPage swipes over, but the tab does not change focus. I have to manually click on the corresponding tab in order to change the focus (viewPager does not change).</p>\n<p>For example, if I'm on the 4th slide, and I swipe left, the viewPage goes to the 3rd slide, but the tab isn't focused over. I have to manually tap on the 3rd tab in order to change the focus.</p>\n<p>I'm wondering how I can let the tabs follow the swiping when I swipe from view to view in the viewPager.</p>\n<p><strong>fragment XML:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/tab_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/pager&quot;/&gt;\n\n    &lt;androidx.viewpager.widget.ViewPager\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:id=&quot;@+id/pager&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/tab_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>PagerFragment:</p>\n<pre><code>public class PagerFragment extends Fragment {\n   \n    ViewPagerAdapter pagerAdapter;\n\n    ViewPager pager;\n    TabLayout tl;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        pagerAdapter = new ViewPagerAdapter(this.getContext(), getChildFragmentManager(), 4, getActivity());\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        final View view = super.onCreateView(inflater, container, savedInstanceState);\n        ViewGroup root = (ViewGroup) inflater.inflate(R.layout.fragment_pager, null);\n        pager = root.findViewById(R.id.pager);\n        pager.setAdapter(pagerAdapter);\n        tl = root.findViewById(R.id.tab_layout);\n        tl.addTab(tl.newTab().setText(&quot;1&quot;));\n        tl.addTab(tl.newTab().setText(&quot;2&quot;));\n        tl.addTab(tl.newTab().setText(&quot;3&quot;));\n        tl.addTab(tl.newTab().setText(&quot;4&quot;));\n\n        tl.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n                pager.setCurrentItem(tab.getPosition());\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n        tl.addOnTabSelectedListener(new TabLayout.ViewPagerOnTabSelectedListener(pager));\n\n        return root;\n    }\n}\n</code></pre>\n<p><strong>Adapter</strong>:</p>\n<pre><code>public class ViewPagerAdapter extends FragmentPagerAdapter {\n\n    private Context myContext;\n    int totalTabs;\n\n    public ViewPagerAdapter(Context context, FragmentManager fm, int totalTabs, FragmentActivity fa) {\n        super(fm);\n        myContext = context;\n        this.totalTabs = totalTabs;\n    }\n\n    public Fragment getItem(int position) {\n        graph_test gt = new graph_test(String.valueOf(position), position);\n        return gt;\n    }\n\n    @Override\n    public int getCount() {\n        return totalTabs;\n    }\n}\n</code></pre>\n<p>Note: I know that FragmentPagerAdapter is deprecated. I was asked to do it this way.</p>\n<p>Thanks.</p>\n"},{"tags":["java","rest","ssl","error-handling","response"],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673562998,"creation_date":1673562998,"question_id":75103004,"body_markdown":"I have the following code snippet to call a web service with SSL:\r\n\r\n```\r\nHttpsURLConnection httpsURLCon = null;\r\nString webServiceResponse = null;\r\nString endPointURLwithToken = &quot;https://some.end.point.com/path/to/token&quot;;\r\nString client_id = &quot;client-id-value&quot;;\r\nString client_secret = &quot;client-secret-value&quot;;\r\nString grant_type = &quot;client_credentials&quot;;\r\nString scope = &quot;scope-value&quot;;\r\nURL url = new URL(endPointURLwithToken);\r\nhttpsURLCon = (HttpsURLConnection) url.openConnection();\r\nString securedProtocol = &quot;TLSv1.2&quot;;\r\nSSLContext sc = SSLContext.getInstance(securedProtocol);\r\nsc.init(null, null, new xxx.security.SecureRandom()); //replacee xxx with java\r\nhttpsURLCon.setSSLSocketFactory(sc.getSocketFactory());\r\nhttpsURLCon.setDoOutput(true);\r\nhttpsURLCon.setRequestMethod(requestMethod);\r\nhttpsURLCon.setRequestProperty(&quot;Content-Type&quot;, contentType);\r\nString strClient_Key_Secret = client_id+&quot;:&quot;+client_secret;\r\nString strAuthBasic = &quot;Basic &quot;+new String(Base64Encoder.encode(strClient_Key_Secret.getBytes()));\r\nhttpsURLCon.setRequestProperty(&quot;Authorization&quot;, strAuthBasic);\r\nString urlParameters = &quot;grant_type=&quot; + grant_type + &quot;&amp;scope=&quot; + scope;\r\nDataOutputStream wr = new DataOutputStream(httpsURLCon.getOutputStream());\r\nwr.writeBytes(urlParameters);\r\nwr.flush();\r\nwr.close();\r\nif (httpsURLCon.getResponseCode() == HttpsURLConnection.HTTP_OK) {\r\n\twebServiceResponse = getWSResponse(httpsURLCon); //uses stream reader ...etc.\r\n\tSystem.out.println(&quot;Success - Web service reposne = &quot; + webServiceResponse);\r\n}\r\n```\r\n\r\nI am trying to access the response content (json string) even if the response code is an error like `400`, but I am unable to do so. In postman, I can see the response json even if there is an error.\r\n\r\nI am trying to access the response using this function:\r\n\r\n```\r\n\tprivate String getWSResponse(HttpsURLConnection httpsURLCon) throws Exception {\r\n\t\tInputStream responseInputStr = httpsURLCon.getInputStream();\r\n\t\tString tokenResponse = null;\r\n\t\tif (responseInputStr != null) {\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(responseInputStr));\r\n\t\t\tString output;\r\n\t\t\tStringBuffer responseStrBuf = new StringBuffer();\r\n\t\t\twhile ((output = br.readLine()) != null) {\r\n\t\t\t\t// System.out.println(output);\r\n\t\t\t\tresponseStrBuf.append(output);\r\n\t\t\t}\r\n\t\t\tbr.close();\r\n\t\t\ttokenResponse= responseStrBuf.toString();\r\n\t\t}\r\n\t\treturn tokenResponse;\r\n\t}\r\n```\r\n\r\nWhen I tried accessing the response json and if the response code is not `200` it will throw an exception.\r\n\r\nIs it possible to retrieve the web service response even if the response code is not `200`?\r\n","title":"How to retrieve the response content from java HttpsURLConnection if there response code is an error","body":"<p>I have the following code snippet to call a web service with SSL:</p>\n<pre><code>HttpsURLConnection httpsURLCon = null;\nString webServiceResponse = null;\nString endPointURLwithToken = &quot;https://some.end.point.com/path/to/token&quot;;\nString client_id = &quot;client-id-value&quot;;\nString client_secret = &quot;client-secret-value&quot;;\nString grant_type = &quot;client_credentials&quot;;\nString scope = &quot;scope-value&quot;;\nURL url = new URL(endPointURLwithToken);\nhttpsURLCon = (HttpsURLConnection) url.openConnection();\nString securedProtocol = &quot;TLSv1.2&quot;;\nSSLContext sc = SSLContext.getInstance(securedProtocol);\nsc.init(null, null, new xxx.security.SecureRandom()); //replacee xxx with java\nhttpsURLCon.setSSLSocketFactory(sc.getSocketFactory());\nhttpsURLCon.setDoOutput(true);\nhttpsURLCon.setRequestMethod(requestMethod);\nhttpsURLCon.setRequestProperty(&quot;Content-Type&quot;, contentType);\nString strClient_Key_Secret = client_id+&quot;:&quot;+client_secret;\nString strAuthBasic = &quot;Basic &quot;+new String(Base64Encoder.encode(strClient_Key_Secret.getBytes()));\nhttpsURLCon.setRequestProperty(&quot;Authorization&quot;, strAuthBasic);\nString urlParameters = &quot;grant_type=&quot; + grant_type + &quot;&amp;scope=&quot; + scope;\nDataOutputStream wr = new DataOutputStream(httpsURLCon.getOutputStream());\nwr.writeBytes(urlParameters);\nwr.flush();\nwr.close();\nif (httpsURLCon.getResponseCode() == HttpsURLConnection.HTTP_OK) {\n    webServiceResponse = getWSResponse(httpsURLCon); //uses stream reader ...etc.\n    System.out.println(&quot;Success - Web service reposne = &quot; + webServiceResponse);\n}\n</code></pre>\n<p>I am trying to access the response content (json string) even if the response code is an error like <code>400</code>, but I am unable to do so. In postman, I can see the response json even if there is an error.</p>\n<p>I am trying to access the response using this function:</p>\n<pre><code>    private String getWSResponse(HttpsURLConnection httpsURLCon) throws Exception {\n        InputStream responseInputStr = httpsURLCon.getInputStream();\n        String tokenResponse = null;\n        if (responseInputStr != null) {\n            BufferedReader br = new BufferedReader(new InputStreamReader(responseInputStr));\n            String output;\n            StringBuffer responseStrBuf = new StringBuffer();\n            while ((output = br.readLine()) != null) {\n                // System.out.println(output);\n                responseStrBuf.append(output);\n            }\n            br.close();\n            tokenResponse= responseStrBuf.toString();\n        }\n        return tokenResponse;\n    }\n</code></pre>\n<p>When I tried accessing the response json and if the response code is not <code>200</code> it will throw an exception.</p>\n<p>Is it possible to retrieve the web service response even if the response code is not <code>200</code>?</p>\n"},{"tags":["java","date","time","format","formatter"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1673433539,"post_id":75081467,"comment_id":132496341,"body_markdown":"`DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH.mm.ss.SSSSSS&quot;).parse(&quot;2022-09-23-11.25.52.660135&quot;);` use the new classes for representing instances in time","body":"<code>DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH.mm.ss.SSSSSS&quot;).pa&zwnj;&#8203;rse(&quot;2022-09-23-11.2&zwnj;&#8203;5.52.660135&quot;);</code> use the new classes for representing instances in time"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1673437348,"post_id":75081467,"comment_id":132497787,"body_markdown":"Stay far away from `Date`, `DateFormat` and `SimpleDateFormat`. They give you nothing but trouble and are fortunately long outdated. Use java.time, the modern Java date and time API.","body":"Stay far away from <code>Date</code>, <code>DateFormat</code> and <code>SimpleDateFormat</code>. They give you nothing but trouble and are fortunately long outdated. Use java.time, the modern Java date and time API."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673437489,"post_id":75081467,"comment_id":132497833,"body_markdown":"What data type has the value got in your database? And why would you need a string for your query? Prefer a datetime type (from java.time, as I said).","body":"What data type has the value got in your database? And why would you need a string for your query? Prefer a datetime type (from java.time, as I said)."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1673437971,"post_id":75081467,"comment_id":132498001,"body_markdown":"Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC. It your case, it will be `LocalDateTime`.","body":"Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC. It your case, it will be <code>LocalDateTime</code>."},{"owner":{"account_id":27496692,"reputation":39,"user_id":20981101,"display_name":"TheCrow"},"score":1,"creation_date":1673444207,"post_id":75081467,"comment_id":132500120,"body_markdown":"I checked the info about this column and it is a Timestamp on DB not a Date. I tried to get the date as LocalDateTime and now i get the entire date correctly","body":"I checked the info about this column and it is a Timestamp on DB not a Date. I tried to get the date as LocalDateTime and now i get the entire date correctly"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1673445698,"post_id":75081467,"comment_id":132500739,"body_markdown":"Great! Wish you more success!","body":"Great! Wish you more success!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673458436,"post_id":75081467,"comment_id":132505648,"body_markdown":"@TheCrow Would you write an answer to your own question based on what you got to work with `LocalDateTime`? I am sure it will be very helpful to future readers, and if it is, I will be happy to upvote it.","body":"@TheCrow Would you write an answer to your own question based on what you got to work with <code>LocalDateTime</code>? I am sure it will be very helpful to future readers, and if it is, I will be happy to upvote it."}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673434368,"creation_date":1673433114,"answer_id":75081625,"question_id":75081467,"body_markdown":"Not only I do not know of any such format, but ***there exists no such format,*** because:\r\n\r\n- the available formats are listed exhaustively [in the documentation of the class](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html), and no such format is included in that list. If someone knew of some format which magically works even though it is not listed, you should not use it because this would constitute ***documentation by divine revelation*** and ***programming by magic***.\r\n\r\n- both `SimpleDateFormat` and `DateFormat` were built to work with `Date`, which is defined [by its documentation](https://docs.oracle.com/javase/7/docs/api/java/util/Date.html) as having *millisecond precision.* Thus, there is no way to format microseconds because `Date` does not have microseconds.\r\n\r\nIn light of the above, your statement that you &#39;lose the &quot;135&quot;&#39; is suspicious: what makes you believe that you had a 135 in the first place? Come to think of it, you have completely failed to explain something very important: are you trying to print a date, or to parse a date? If you are trying to parse a date, then what makes you believe that you can have that 135 in a date? That&#39;s why ***showing your code is always very important on StackOverflow***.\r\n\r\nTo answer the &quot;how do you do it&quot; part:\r\n\r\n- If you really like `SimpleDateFormat`, you can use it to output the time coordinate without microseconds, then append a &#39;.&#39; to it, and then convert the microseconds to string by yourself, left-padding with zeros.\r\n\r\n- However, if you are using `Instant`, then you should be using the `DateTimeFormatter` class, which offers a format specifier for describing fractions of a second with precisions greater than milliseconds.","title":"How to format a date without losing any microsecond","body":"<p>Not only I do not know of any such format, but <em><strong>there exists no such format,</strong></em> because:</p>\n<ul>\n<li><p>the available formats are listed exhaustively <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">in the documentation of the class</a>, and no such format is included in that list. If someone knew of some format which magically works even though it is not listed, you should not use it because this would constitute <em><strong>documentation by divine revelation</strong></em> and <em><strong>programming by magic</strong></em>.</p>\n</li>\n<li><p>both <code>SimpleDateFormat</code> and <code>DateFormat</code> were built to work with <code>Date</code>, which is defined <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">by its documentation</a> as having <em>millisecond precision.</em> Thus, there is no way to format microseconds because <code>Date</code> does not have microseconds.</p>\n</li>\n</ul>\n<p>In light of the above, your statement that you 'lose the &quot;135&quot;' is suspicious: what makes you believe that you had a 135 in the first place? Come to think of it, you have completely failed to explain something very important: are you trying to print a date, or to parse a date? If you are trying to parse a date, then what makes you believe that you can have that 135 in a date? That's why <em><strong>showing your code is always very important on StackOverflow</strong></em>.</p>\n<p>To answer the &quot;how do you do it&quot; part:</p>\n<ul>\n<li><p>If you really like <code>SimpleDateFormat</code>, you can use it to output the time coordinate without microseconds, then append a '.' to it, and then convert the microseconds to string by yourself, left-padding with zeros.</p>\n</li>\n<li><p>However, if you are using <code>Instant</code>, then you should be using the <code>DateTimeFormatter</code> class, which offers a format specifier for describing fractions of a second with precisions greater than milliseconds.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7908530,"reputation":29,"user_id":5973244,"display_name":"jayaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673435938,"creation_date":1673435938,"answer_id":75082203,"question_id":75081467,"body_markdown":"try this\r\n DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd-HH.mm.ssssss&quot;);\r\n\r\n","title":"How to format a date without losing any microsecond","body":"<p>try this\nDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd-HH.mm.ssssss&quot;);</p>\n"}],"owner":{"account_id":27496692,"reputation":39,"user_id":20981101,"display_name":"TheCrow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1673488235,"answer_count":2,"score":2,"last_activity_date":1673562973,"creation_date":1673432375,"question_id":75081467,"body_markdown":"Do you know a format for this kind of date without losing the last 3 numbers? \r\n\r\nI used a select query in my project to extract a date from a table and I need to use this date for a second query and extract other information on another table. The Date I got from the first query has this structure and the value is only an example:\r\n\r\n&quot;2022-09-23-11.25.52.660135&quot;\r\n\r\nI need to use this Date as String in order to do the second query, but when I use the format, I lose the last 3 numbers ( 135 ) and obviously the select returns nothing because the date is wrong.\r\n\r\nI used this DateFormat for the first try:\r\n\r\n```java\r\nDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd-HH.mm.ss.SS&quot;);\r\n```\r\n\r\nFormats like yyyy-MM-dd-HH.mm.ss.SSS and yyyy-MM-dd-HH.mm.ss.SSSSSS don&#39;t work because it will just add zeroes and I need the exact same Date.\r\n\r\nTo solve this issue i had to edit the format of the column in the model class of the desired table. In my case for example \r\n\r\n\r\n`@Column(name = &quot;TIMESTAMP_B_B03&quot;)\r\nprivate Timestamp timestampB03;`\r\n\r\nI had to change Timestamp and use LocalDateTime to get microseconds\r\n\r\nps: the real format of the column on DB is Timestamp but you need to use LocalDateFormat in java.\r\n","title":"How to format a date without losing any microsecond","body":"<p>Do you know a format for this kind of date without losing the last 3 numbers?</p>\n<p>I used a select query in my project to extract a date from a table and I need to use this date for a second query and extract other information on another table. The Date I got from the first query has this structure and the value is only an example:</p>\n<p>&quot;2022-09-23-11.25.52.660135&quot;</p>\n<p>I need to use this Date as String in order to do the second query, but when I use the format, I lose the last 3 numbers ( 135 ) and obviously the select returns nothing because the date is wrong.</p>\n<p>I used this DateFormat for the first try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd-HH.mm.ss.SS&quot;);\n</code></pre>\n<p>Formats like yyyy-MM-dd-HH.mm.ss.SSS and yyyy-MM-dd-HH.mm.ss.SSSSSS don't work because it will just add zeroes and I need the exact same Date.</p>\n<p>To solve this issue i had to edit the format of the column in the model class of the desired table. In my case for example</p>\n<p><code>@Column(name = &quot;TIMESTAMP_B_B03&quot;) private Timestamp timestampB03;</code></p>\n<p>I had to change Timestamp and use LocalDateTime to get microseconds</p>\n<p>ps: the real format of the column on DB is Timestamp but you need to use LocalDateFormat in java.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","avro","spring-messaging"],"comments":[{"owner":{"account_id":1222246,"reputation":495,"user_id":1188659,"display_name":"Nic Pegg"},"score":0,"creation_date":1673377008,"post_id":75068301,"comment_id":132483578,"body_markdown":"How is the Java class generated?","body":"How is the Java class generated?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673377411,"post_id":75068301,"comment_id":132483695,"body_markdown":"What do you mean &quot;different package&quot;? `com.exmple.service` can import from `com.example.dto` just fine. Your error isn&#39;t a compilation one, only runtime deserialization, so the imports are fine.","body":"What do you mean &quot;different package&quot;? <code>com.exmple.service</code> can import from <code>com.example.dto</code> just fine. Your error isn&#39;t a compilation one, only runtime deserialization, so the imports are fine."},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1673432055,"post_id":75068301,"comment_id":132495818,"body_markdown":"@OneCricketeer i was reading some other threads they mentioned that it could be class loader issue or the way the class is being created. But im still not sure why its causing an issue","body":"@OneCricketeer i was reading some other threads they mentioned that it could be class loader issue or the way the class is being created. But im still not sure why its causing an issue"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1673432080,"post_id":75068301,"comment_id":132495830,"body_markdown":"@NicPegg via gradle plugin.. it auto generates the class.","body":"@NicPegg via gradle plugin.. it auto generates the class."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673451665,"post_id":75068301,"comment_id":132503074,"body_markdown":"I don&#39;t think that&#39;s the case. You could rewrite the same consumer without spring, and packages would be fine. Please show a [mcve] of your Spring app","body":"I don&#39;t think that&#39;s the case. You could rewrite the same consumer without spring, and packages would be fine. Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your Spring app"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1673454166,"post_id":75068301,"comment_id":132504110,"body_markdown":"@OneCricketeer hi i have added my configuration for consumer","body":"@OneCricketeer hi i have added my configuration for consumer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673455918,"post_id":75068301,"comment_id":132504805,"body_markdown":"You seem to be missing `KafkaAvroDeserializer&lt;CarDto&gt;` types","body":"You seem to be missing <code>KafkaAvroDeserializer&lt;CarDto&gt;</code> types"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1673457013,"post_id":75068301,"comment_id":132505214,"body_markdown":"@OneCricketeer how do i create one... i have the final KafkaAvroDeserializer deserializer = getAvroDeserializer(); .. how do i add the types?","body":"@OneCricketeer how do i create one... i have the final KafkaAvroDeserializer deserializer = getAvroDeserializer(); .. how do i add the types?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673534756,"post_id":75068301,"comment_id":132524898,"body_markdown":"Add the angle brackets, as shown","body":"Add the angle brackets, as shown"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1673538504,"post_id":75068301,"comment_id":132526391,"body_markdown":"@OneCricketeer dont think thats possible .. Type &#39;io.confluent.kafka.serializers.KafkaAvroDeserializer&#39; does not have type parameters","body":"@OneCricketeer dont think thats possible .. Type &#39;io.confluent.kafka.serializers.KafkaAvroDeserializer&#39; does not have type parameters"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1673548944,"post_id":75068301,"comment_id":132530030,"body_markdown":"I also noticed should i have my data consumer named &quot;kafkaListenerContainerFactory&quot; should that be right?","body":"I also noticed should i have my data consumer named &quot;kafkaListenerContainerFactory&quot; should that be right?"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1673549271,"post_id":75068301,"comment_id":132530145,"body_markdown":"`@Bean(&quot;kafkaListenerContainerFactory&quot;)` - the consumer factory should not have that name. You can&#39;t have 2 beans with the same name; it collides with the proper name for the container factory. You can use a different name for the container factory, as long as you specify it on the `@KafkaListener`.","body":"<code>@Bean(&quot;kafkaListenerContainerFactory&quot;)</code> - the consumer factory should not have that name. You can&#39;t have 2 beans with the same name; it collides with the proper name for the container factory. You can use a different name for the container factory, as long as you specify it on the <code>@KafkaListener</code>."},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1673554094,"post_id":75068301,"comment_id":132531602,"body_markdown":"@GaryRussell i have made the change and still the same error persists. Im kinda lost as to how to get around this.","body":"@GaryRussell i have made the change and still the same error persists. Im kinda lost as to how to get around this."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1673554587,"post_id":75068301,"comment_id":132531724,"body_markdown":"I can&#39;t help with the avro stuff; I was just pointing out that your bean names were messed up. You still seem to be calling the consumer factory `kafkaListenerContainerFactory` which makes no sense. But now your container factory matches the name in the `@KafkaListener`, so that should be ok - but this has nothing to do with the avro deserializer creating a `GenericData$Record` - maybe run it in a debugger?","body":"I can&#39;t help with the avro stuff; I was just pointing out that your bean names were messed up. You still seem to be calling the consumer factory <code>kafkaListenerContainerFactory</code> which makes no sense. But now your container factory matches the name in the <code>@KafkaListener</code>, so that should be ok - but this has nothing to do with the avro deserializer creating a <code>GenericData$Record</code> - maybe run it in a debugger?"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1673562470,"post_id":75068301,"comment_id":132533788,"body_markdown":"@GaryRussell Thanks, so i did some clean up and now its working. Im still not sure why i needed all those additional properties, but its all working now. Im new to kafka so not 100%, but i was reading other example configs which had all these set.","body":"@GaryRussell Thanks, so i did some clean up and now its working. Im still not sure why i needed all those additional properties, but its all working now. Im new to kafka so not 100%, but i was reading other example configs which had all these set."}],"answers":[{"tags":[],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673562927,"creation_date":1673562927,"answer_id":75102996,"question_id":75068301,"body_markdown":"edited the config\r\n\r\n     private Map&lt;String, Object&gt; getProps() {\r\n         final var props = new HashMap&lt;String, Object&gt;();\r\n     ……. existing props\r\n    \r\n         props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, Integer.class);\r\n         props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\r\n         props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n         props.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, KafkaAvroDeserializer.class);\r\n    \r\n    \r\n         return props;\r\n     }\r\n    \r\n     @Bean\r\n     public ConcurrentKafkaListenerContainerFactory&lt;Integer, CarDto&gt; myKafkaContainerFactory() {\r\n         final ConcurrentKafkaListenerContainerFactory&lt;Integer, CarDto&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n         factory.setConsumerFactory(kafkaConsumerFactory());\r\n         factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n         return factory;\r\n     }\r\n    \r\n     public ConsumerFactory&lt;Integer, CarDto&gt; kafkaConsumerFactory() {\r\n         final Map&lt;String, Object&gt; props = getProps();\r\n         final KafkaAvroDeserializer deserializer = new KafkaAvroDeserializer();\r\n    \r\n         return new DefaultKafkaConsumerFactory&lt;&gt;(props, new IntegerDeserializer(), new ErrorHandlingDeserializer(deserializer));\r\n     }","title":"Kafka throwing error after updating Avro spring boot","body":"<p>edited the config</p>\n<pre><code> private Map&lt;String, Object&gt; getProps() {\n     final var props = new HashMap&lt;String, Object&gt;();\n ……. existing props\n\n     props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, Integer.class);\n     props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\n     props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n     props.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, KafkaAvroDeserializer.class);\n\n\n     return props;\n }\n\n @Bean\n public ConcurrentKafkaListenerContainerFactory&lt;Integer, CarDto&gt; myKafkaContainerFactory() {\n     final ConcurrentKafkaListenerContainerFactory&lt;Integer, CarDto&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n     factory.setConsumerFactory(kafkaConsumerFactory());\n     factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n     return factory;\n }\n\n public ConsumerFactory&lt;Integer, CarDto&gt; kafkaConsumerFactory() {\n     final Map&lt;String, Object&gt; props = getProps();\n     final KafkaAvroDeserializer deserializer = new KafkaAvroDeserializer();\n\n     return new DefaultKafkaConsumerFactory&lt;&gt;(props, new IntegerDeserializer(), new ErrorHandlingDeserializer(deserializer));\n }\n</code></pre>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75102996,"answer_count":1,"score":0,"last_activity_date":1673562927,"creation_date":1673344945,"question_id":75068301,"body_markdown":"So i updated my avro with a default int attribute\r\n\r\n    {\r\n      &quot;name&quot;: &quot;minimum&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;int&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    }\r\n\r\nOn the schema registry i have it set to forward compatibility.\r\n\r\nMy consumer exists in the same project as the producer so is using the same generated avro. while testing i noticed now the consumer is throwing the following error :\r\n\r\n    org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [org.apache.avro.generic.GenericData$Record] to [com.example.dto.CarDto] for GenericMessage [payload={....}\r\n\r\nI have checked the config and it has the followng set:\r\n\r\n    spring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    spring.kafka.consumer.properties.specific.avro.reader=true\r\n\r\n\r\nThere are no dev tools, and im using spring boot 2.5\r\n\r\nUPDATE:\r\nThis has nothing to do with updating the avro file, i didnt notice but the exception was being suppressed. And i change i made now logs this.\r\nSo my question still stands, some threads have said its because the avro class is in a different package?\r\n\r\nmy structure is:\r\n\r\nsrc-&gt;main-&gt;avro-&gt;Car.avsc\r\n\r\nsrc-&gt;main-&gt;java-&gt;com-&gt;example-&gt;dto-&gt;CarDto.java\r\n\r\nsrc-&gt;main-&gt;java-&gt;com-&gt;example-&gt;configs-&gt;producer/consumer\r\n\r\nsrc-&gt;main-&gt;java-&gt;com-&gt;example-&gt;service-&gt;ConsumerProcessor.java\r\n\r\n\r\nmy config \r\n\r\n        @Slf4j\r\n    @Configuration\r\n    public class ConsumerConfig {\r\n    \r\n        @Value(&quot;${kafka.bootstrapAddress}&quot;)\r\n        private String bootstrapAddress;\r\n    \r\n    \r\n        @Value(&quot;${kafka.schemaRegistryUrl}&quot;)\r\n        private String schemaRegistryUrl;\r\n    \r\n        // Consumers Configs\r\n    \r\n        private Map&lt;String, Object&gt; getConsumerProps() {\r\n            final var props = new HashMap&lt;String, Object&gt;();\r\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;topic-a&quot;);\r\n            props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\r\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n            props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n    \r\n            return props;\r\n        }\r\n    \r\n        private &lt;T, K&gt; ConcurrentKafkaListenerContainerFactory&lt;K, T&gt; getConcurrentKafkaListenerContainerFactory(final ConsumerFactory&lt;K, T&gt; kafkaConsumerFactory, final KafkaTemplate&lt;K, T&gt; template) {\r\n            final ConcurrentKafkaListenerContainerFactory&lt;K, T&gt; factory =\r\n                    new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(kafkaConsumerFactory);\r\n    \r\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n            return factory;\r\n        }\r\n    \r\n        private KafkaAvroDeserializer getAvroDeserializer() {\r\n            final var deserializerProps = new HashMap&lt;String, Object&gt;();\r\n            deserializerProps.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\r\n            deserializerProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, &quot;true&quot;);\r\n            final var deserializer = new KafkaAvroDeserializer();\r\n            deserializer.configure(deserializerProps, false);\r\n            return deserializer;\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;Integer, com.exmaple.dto.CarDto&gt; dataKafkaListenerContainerFactory(\r\n                final ConsumerFactory&lt;Integer, com.example.dto.CarDto&gt; kafkaConsumerFactory,\r\n                final KafkaTemplate&lt;Integer, com.example.dto.CarDto&gt; template) {\r\n            return getConcurrentKafkaListenerContainerFactory(kafkaConsumerFactory, template);\r\n        }\r\n    \r\n        @Bean(&quot;kafkaListenerContainerFactory&quot;)\r\n        public ConsumerFactory&lt;Integer, com.example.dto.CarDto&gt; dataConsumerFactory() {\r\n            final Map&lt;String, Object&gt; props = getConsumerProps();\r\n            final KafkaAvroDeserializer deserializer = getAvroDeserializer();\r\n    \r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(props, new IntegerDeserializer(), new ErrorHandlingDeserializer(deserializer));\r\n        }\r\n    }\r\n\r\n\r\nHere is my avro\r\n\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: “CarDto”,\r\n      &quot;namespace&quot;: &quot;com.example.dto&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: “id”,\r\n          &quot;type&quot;: [\r\n            &quot;null&quot;,\r\n            &quot;int&quot;\r\n          ],\r\n          &quot;default&quot;: null\r\n        },   \r\n           {\r\n          &quot;name&quot;: &quot;minimum&quot;,\r\n          &quot;type&quot;: [&quot;null&quot;, {&quot;type&quot;: &quot;int&quot;, &quot;logicalType&quot;: &quot;date&quot;}],\r\n          &quot;default&quot;: null\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\nmy consumer\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class dataConsumer implements AvroKafkaConsumer&lt;CarDto&gt; {\r\n    \r\n        Integer counter = 0;\r\n    \r\n        @Override\r\n        @KafkaListener(topics = “topic-a”, containerFactory = “dataKafkaListenerContainerFactory&quot;)\r\n        public void listen(final CarDto carDto, final Acknowledgment acknowledgment) {\r\n    \r\n            acknowledgment.acknowledge();\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return “data”;\r\n        }\r\n    }\r\n\r\n\r\nSo i noticed that the containerFactory is named something different to in the consumer service. &quot;dataKafkaListenerContainerFactory&quot; does that matter?\r\n\r\nwhile in the config its \r\n```java\r\n@Bean(&quot;kafkaListenerContainerFactory&quot;)\r\n    public ConsumerFactory&lt;Integer, com.example.dto.CarDto&gt; dataConsumerFactory() {\r\n```\r\n\r\n\r\nSO i did some clean up and removed methods and added the following\r\n\r\n     private Map&lt;String, Object&gt; getProps() {\r\n         final var props = new HashMap&lt;String, Object&gt;();\r\n     ……. existing props\r\n    \r\n         props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, Integer.class);\r\n         props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\r\n         props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n         props.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, KafkaAvroDeserializer.class);\r\n    \r\n    \r\n         return props;\r\n     }\r\n    \r\n     @Bean\r\n     public ConcurrentKafkaListenerContainerFactory&lt;Integer, CarDto&gt; myKafkaContainerFactory() {\r\n         final ConcurrentKafkaListenerContainerFactory&lt;Integer, CarDto&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n         factory.setConsumerFactory(kafkaConsumerFactory());\r\n         factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n         return factory;\r\n     }\r\n    \r\n     public ConsumerFactory&lt;Integer, CarDto&gt; kafkaConsumerFactory() {\r\n         final Map&lt;String, Object&gt; props = getProps();\r\n         final KafkaAvroDeserializer deserializer = new KafkaAvroDeserializer();\r\n    \r\n         return new DefaultKafkaConsumerFactory&lt;&gt;(props, new IntegerDeserializer(), new ErrorHandlingDeserializer(deserializer));\r\n     }\r\n\r\n","title":"Kafka throwing error after updating Avro spring boot","body":"<p>So i updated my avro with a default int attribute</p>\n<pre><code>{\n  &quot;name&quot;: &quot;minimum&quot;,\n  &quot;type&quot;: [\n    &quot;null&quot;,\n    &quot;int&quot;\n  ],\n  &quot;default&quot;: null\n}\n</code></pre>\n<p>On the schema registry i have it set to forward compatibility.</p>\n<p>My consumer exists in the same project as the producer so is using the same generated avro. while testing i noticed now the consumer is throwing the following error :</p>\n<pre><code>org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [org.apache.avro.generic.GenericData$Record] to [com.example.dto.CarDto] for GenericMessage [payload={....}\n</code></pre>\n<p>I have checked the config and it has the followng set:</p>\n<pre><code>spring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\nspring.kafka.consumer.properties.specific.avro.reader=true\n</code></pre>\n<p>There are no dev tools, and im using spring boot 2.5</p>\n<p>UPDATE:\nThis has nothing to do with updating the avro file, i didnt notice but the exception was being suppressed. And i change i made now logs this.\nSo my question still stands, some threads have said its because the avro class is in a different package?</p>\n<p>my structure is:</p>\n<p>src-&gt;main-&gt;avro-&gt;Car.avsc</p>\n<p>src-&gt;main-&gt;java-&gt;com-&gt;example-&gt;dto-&gt;CarDto.java</p>\n<p>src-&gt;main-&gt;java-&gt;com-&gt;example-&gt;configs-&gt;producer/consumer</p>\n<p>src-&gt;main-&gt;java-&gt;com-&gt;example-&gt;service-&gt;ConsumerProcessor.java</p>\n<p>my config</p>\n<pre><code>    @Slf4j\n@Configuration\npublic class ConsumerConfig {\n\n    @Value(&quot;${kafka.bootstrapAddress}&quot;)\n    private String bootstrapAddress;\n\n\n    @Value(&quot;${kafka.schemaRegistryUrl}&quot;)\n    private String schemaRegistryUrl;\n\n    // Consumers Configs\n\n    private Map&lt;String, Object&gt; getConsumerProps() {\n        final var props = new HashMap&lt;String, Object&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;topic-a&quot;);\n        props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n\n        return props;\n    }\n\n    private &lt;T, K&gt; ConcurrentKafkaListenerContainerFactory&lt;K, T&gt; getConcurrentKafkaListenerContainerFactory(final ConsumerFactory&lt;K, T&gt; kafkaConsumerFactory, final KafkaTemplate&lt;K, T&gt; template) {\n        final ConcurrentKafkaListenerContainerFactory&lt;K, T&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(kafkaConsumerFactory);\n\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n        return factory;\n    }\n\n    private KafkaAvroDeserializer getAvroDeserializer() {\n        final var deserializerProps = new HashMap&lt;String, Object&gt;();\n        deserializerProps.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\n        deserializerProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, &quot;true&quot;);\n        final var deserializer = new KafkaAvroDeserializer();\n        deserializer.configure(deserializerProps, false);\n        return deserializer;\n    }\n\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;Integer, com.exmaple.dto.CarDto&gt; dataKafkaListenerContainerFactory(\n            final ConsumerFactory&lt;Integer, com.example.dto.CarDto&gt; kafkaConsumerFactory,\n            final KafkaTemplate&lt;Integer, com.example.dto.CarDto&gt; template) {\n        return getConcurrentKafkaListenerContainerFactory(kafkaConsumerFactory, template);\n    }\n\n    @Bean(&quot;kafkaListenerContainerFactory&quot;)\n    public ConsumerFactory&lt;Integer, com.example.dto.CarDto&gt; dataConsumerFactory() {\n        final Map&lt;String, Object&gt; props = getConsumerProps();\n        final KafkaAvroDeserializer deserializer = getAvroDeserializer();\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new IntegerDeserializer(), new ErrorHandlingDeserializer(deserializer));\n    }\n}\n</code></pre>\n<p>Here is my avro</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: “CarDto”,\n  &quot;namespace&quot;: &quot;com.example.dto&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: “id”,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;int&quot;\n      ],\n      &quot;default&quot;: null\n    },   \n       {\n      &quot;name&quot;: &quot;minimum&quot;,\n      &quot;type&quot;: [&quot;null&quot;, {&quot;type&quot;: &quot;int&quot;, &quot;logicalType&quot;: &quot;date&quot;}],\n      &quot;default&quot;: null\n    }\n  ]\n}\n</code></pre>\n<p>my consumer</p>\n<pre><code>@Slf4j\n@Service\npublic class dataConsumer implements AvroKafkaConsumer&lt;CarDto&gt; {\n\n    Integer counter = 0;\n\n    @Override\n    @KafkaListener(topics = “topic-a”, containerFactory = “dataKafkaListenerContainerFactory&quot;)\n    public void listen(final CarDto carDto, final Acknowledgment acknowledgment) {\n\n        acknowledgment.acknowledge();\n    }\n\n    @Override\n    public String getName() {\n        return “data”;\n    }\n}\n</code></pre>\n<p>So i noticed that the containerFactory is named something different to in the consumer service. &quot;dataKafkaListenerContainerFactory&quot; does that matter?</p>\n<p>while in the config its</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(&quot;kafkaListenerContainerFactory&quot;)\n    public ConsumerFactory&lt;Integer, com.example.dto.CarDto&gt; dataConsumerFactory() {\n</code></pre>\n<p>SO i did some clean up and removed methods and added the following</p>\n<pre><code> private Map&lt;String, Object&gt; getProps() {\n     final var props = new HashMap&lt;String, Object&gt;();\n ……. existing props\n\n     props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, Integer.class);\n     props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\n     props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n     props.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, KafkaAvroDeserializer.class);\n\n\n     return props;\n }\n\n @Bean\n public ConcurrentKafkaListenerContainerFactory&lt;Integer, CarDto&gt; myKafkaContainerFactory() {\n     final ConcurrentKafkaListenerContainerFactory&lt;Integer, CarDto&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n     factory.setConsumerFactory(kafkaConsumerFactory());\n     factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n     return factory;\n }\n\n public ConsumerFactory&lt;Integer, CarDto&gt; kafkaConsumerFactory() {\n     final Map&lt;String, Object&gt; props = getProps();\n     final KafkaAvroDeserializer deserializer = new KafkaAvroDeserializer();\n\n     return new DefaultKafkaConsumerFactory&lt;&gt;(props, new IntegerDeserializer(), new ErrorHandlingDeserializer(deserializer));\n }\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"owner":{"account_id":18733935,"reputation":1,"user_id":13658719,"display_name":"ThunderGlove"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1673591340,"answer_count":4,"score":-1,"last_activity_date":1673562861,"creation_date":1672830313,"question_id":75004491,"body_markdown":"I have been trying to use the scanner class on Java and I keep getting the error given in the output here.\r\n\r\nINPUT : \r\n\r\n```\r\nimport java.util.*;\r\nclass Numbers {\r\n    public static void main(String args[]) {\r\n        System.out.println(&quot;enter the number : &quot;);\r\n        Scanner sc = new Scanner(&quot;System.in&quot;);\r\n        int num = sc.nextInt();\r\n        System.out.println(&quot;the number is &quot;+num);\r\n    }\r\n}\r\n```\r\n\r\nOUTPUT:\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:943)\r\n        at java.base/java.util.Scanner.next(Scanner.java:1598)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2263)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2217)\r\n        at Numbers.main(Numbers.java:8)\r\n```\r\n\r\nI was trying to get the user input, store it in a variable and then print it out.","title":"InputMismatchException while using the Scanner class","body":"<p>I have been trying to use the scanner class on Java and I keep getting the error given in the output here.</p>\n<p>INPUT :</p>\n<pre><code>import java.util.*;\nclass Numbers {\n    public static void main(String args[]) {\n        System.out.println(&quot;enter the number : &quot;);\n        Scanner sc = new Scanner(&quot;System.in&quot;);\n        int num = sc.nextInt();\n        System.out.println(&quot;the number is &quot;+num);\n    }\n}\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:943)\n        at java.base/java.util.Scanner.next(Scanner.java:1598)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2263)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2217)\n        at Numbers.main(Numbers.java:8)\n</code></pre>\n<p>I was trying to get the user input, store it in a variable and then print it out.</p>\n"},{"tags":["java","timeout","httpresponse","hystrix","http-response-codes"],"owner":{"account_id":27514475,"reputation":1,"user_id":20995700,"display_name":"RATATATA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673562812,"creation_date":1673562812,"question_id":75102981,"body_markdown":"If we use the annotation @HystrixCommand with just 4 properties, namely, timeoutInMilliseconds, requestVolumeThreshold, errorThresholdPercentage and sleepWindowInMilliSeconds, then what HTTP response codes are considered by hystrix by default to trigger the timeout?\r\n\r\nIs it possible to mention the HTTP response codes in any of the hystrix command properties on which you want to trigger the timeout?","title":"What http codes are by default considered if we use @HystrixCommand","body":"<p>If we use the annotation @HystrixCommand with just 4 properties, namely, timeoutInMilliseconds, requestVolumeThreshold, errorThresholdPercentage and sleepWindowInMilliSeconds, then what HTTP response codes are considered by hystrix by default to trigger the timeout?</p>\n<p>Is it possible to mention the HTTP response codes in any of the hystrix command properties on which you want to trigger the timeout?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1673532520,"post_id":75097518,"comment_id":132524036,"body_markdown":"it&#39;s waiting for your input.","body":"it&#39;s waiting for your input."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1673562022,"post_id":75097518,"comment_id":132533670,"body_markdown":"You may need to mouse click on the line in the output window containing &quot;Enter number: &quot; to set focus before entering a number, or did you already do that?","body":"You may need to mouse click on the line in the output window containing &quot;Enter number: &quot; to set focus before entering a number, or did you already do that?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1673562619,"post_id":75097518,"comment_id":132533815,"body_markdown":"It seems strange that your **Projects** window is showing _&quot;No Project Open&quot;_ in your screen shot. How did you manage to run your project if it was closed? Also, I copied your code and ran it, and it worked fine for me; this seems to be an issue with the way you are using NetBeans.","body":"It seems strange that your <b>Projects</b> window is showing <i>&quot;No Project Open&quot;</i> in your screen shot. How did you manage to run your project if it was closed? Also, I copied your code and ran it, and it worked fine for me; this seems to be an issue with the way you are using NetBeans."}],"owner":{"account_id":27510081,"reputation":1,"user_id":20992143,"display_name":"marshall_wong_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673561853,"creation_date":1673532298,"question_id":75097518,"body_markdown":"I am using JDK19 on NetBeans IDE.\r\n \r\nAfter I run the code with scanner the NetBeans IDE is not accepting any input from me, so I could not continue the code &quot;but before I used jcreator and I could input numbers into the console&quot; \r\n\r\n[![Screen shot][1]][1]\r\n\r\nI keep googling and YouTube on how people run the code, and even google how to run code in netbeans so I learn I can right click to run a single code, but the code ran but I could not type in any numbers &quot;integer&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mNlF2.png","title":"NetBeans IDE is not accepting any input after I run code scanner","body":"<p>I am using JDK19 on NetBeans IDE.</p>\n<p>After I run the code with scanner the NetBeans IDE is not accepting any input from me, so I could not continue the code &quot;but before I used jcreator and I could input numbers into the console&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/mNlF2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mNlF2.png\" alt=\"Screen shot\" /></a></p>\n<p>I keep googling and YouTube on how people run the code, and even google how to run code in netbeans so I learn I can right click to run a single code, but the code ran but I could not type in any numbers &quot;integer&quot;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1672604878,"post_id":74977177,"comment_id":132312352,"body_markdown":"Anyway, `import` doesn&#39;t care where the package/class you import is in the filesystem, just that it&#39;s in the classpath, so no, you can&#39;t give an absolute path with `import`, but you can when you pass the classpath through the command line when compiling/running.","body":"Anyway, <code>import</code> doesn&#39;t care where the package/class you import is in the filesystem, just that it&#39;s in the classpath, so no, you can&#39;t give an absolute path with <code>import</code>, but you can when you pass the classpath through the command line when compiling/running."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1672605447,"post_id":74977177,"comment_id":132312443,"body_markdown":"&quot;Can I make Java recognize a particular folder without using classpath&quot; is akin to asking &quot;can I make a smoothie without a blender&quot;. You have a problem and know the tool that&#39;s used to solve the problem. Why do you not want to use the tool that&#39;s very clearly designed for this specific purpose?","body":"&quot;Can I make Java recognize a particular folder without using classpath&quot; is akin to asking &quot;can I make a smoothie without a blender&quot;. You have a problem and know the tool that&#39;s used to solve the problem. Why do you not want to use the tool that&#39;s very clearly designed for this specific purpose?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1672605948,"post_id":74977177,"comment_id":132312513,"body_markdown":"@Camy07 so is Example.java in package `A.B` and Main.java in package `A`? Then `Main` just has to `import A.B.Example`. I&#39;m not sure I understand whether that&#39;s what you mean.","body":"@Camy07 so is Example.java in package <code>A.B</code> and Main.java in package <code>A</code>? Then <code>Main</code> just has to <code>import A.B.Example</code>. I&#39;m not sure I understand whether that&#39;s what you mean."},{"owner":{"account_id":26642828,"reputation":53,"user_id":20258209,"display_name":"Camy07"},"score":0,"creation_date":1673559147,"post_id":74977177,"comment_id":132533029,"body_markdown":"@Fererico-klez-Culloca In fact, you are right, only I was confused because I didn&#39;t know that in order to compile it properly I had to do it in the parent of the &quot;Folder a&quot;, instead of inside of it, because it gave me the error of &quot;The declared package does not match the expected package&quot;","body":"@Fererico-klez-Culloca In fact, you are right, only I was confused because I didn&#39;t know that in order to compile it properly I had to do it in the parent of the &quot;Folder a&quot;, instead of inside of it, because it gave me the error of &quot;The declared package does not match the expected package&quot;"}],"answers":[{"tags":[],"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672609481,"creation_date":1672609481,"answer_id":74977572,"question_id":74977177,"body_markdown":"For your first question: Java packages are used to do just that, but the CLASSPATH is still in use. The default class loader will look under the CLASSPATH for classes and expect them to be located based on their package names. (There are other class loaders that have different behaviors, but mostly you will use the default one.)\r\n\r\nFor your second question: No you cannot. As explained above, the default class loader will look under the CLASSPATH for any class you import, and will try to locate based on the package name of classes. (Again, assuming you use the default class loader.)\r\n\r\nJava packages are the standard way of structuring your code, and for most cases this structure is also replicated on the file system (for both source and class files).","title":"How can the Java compiler know were are the packages I create?","body":"<p>For your first question: Java packages are used to do just that, but the CLASSPATH is still in use. The default class loader will look under the CLASSPATH for classes and expect them to be located based on their package names. (There are other class loaders that have different behaviors, but mostly you will use the default one.)</p>\n<p>For your second question: No you cannot. As explained above, the default class loader will look under the CLASSPATH for any class you import, and will try to locate based on the package name of classes. (Again, assuming you use the default class loader.)</p>\n<p>Java packages are the standard way of structuring your code, and for most cases this structure is also replicated on the file system (for both source and class files).</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672614465,"creation_date":1672612238,"answer_id":74977775,"question_id":74977177,"body_markdown":"&gt; I was wondering if there is any way that allow us to import packages in a class using a relative path.\r\n\r\nNo.  Java doesn&#39;t support that.  Package names are fully qualified when you define them and fully qualified when you use them.\r\n\r\n--------------------\r\n\r\n&gt; My question is: Could I create a package for example in folder &quot;B&quot; and import the class from that folder &quot;B&quot; in a java file which would be in folder &quot;A&quot;?\r\n\r\nFor the OpenJDK Java tool chain, and anything else that uses the same class resolution mechanisms&lt;sup&gt;1&lt;/sup&gt;, the folder name structure must map to the package structure.  So assuming that the folder above `A` is the root of your (source or binary) class folder tree, then your `Main.java` file needs a `package` declaration\r\n\r\n    package A;\r\n\r\nand your `Example.java` file needs a `package` declaration:\r\n\r\n    package A.B;\r\n\r\n(Note that case is significant, and package names `A` and `B` are a Java style violation.)\r\n\r\nClass `Example` can import `Main` and vice versa, but they **must** use the fully qualified package names to do that; i.e. \r\n\r\n    import A.Main;\r\n    import A.B.Example;\r\n\r\nQ: Can you trick the compiler / runtime by having a class / package naming scheme that doesn&#39;t correspond to the file / folder structure?\r\n\r\nA: No.  Either the Java compiler or runtime will fail to find classes or it will detect that there is a mismatch a class&#39;s fully qualified and the place where it was found.  In both cases you will get an error.\r\n\r\nQ:  Can you import by file pathname?\r\n\r\nA:  No.  The Java language doesn&#39;t permit this. Just ... no.\r\n\r\n--------------------\r\n\r\n&gt; I mean without using &quot;classpath&quot; (I don&#39;t say without using &quot;sourcepath&quot; too, because I&#39;m not sure about how it works).\r\n\r\nThat doesn&#39;t make sense.  You cannot &quot;not use&quot; a classpath.  If there is no classpath, the Java tools cannot find your code.  There is always a classpath ... even if it is just the current directory; i.e. &quot;.&quot;.\r\n\r\n---------------------------\r\n\r\n&lt;sup&gt;1 - As far as I am aware, this covers all current practical Java implementations.  However, it is technically possible (and permitted by the Java **Language** Specification) for a Java implementation to use some other mechanism for organizing and locating source code or binary code &quot;entities&quot;.&lt;/sup&gt;","title":"How can the Java compiler know were are the packages I create?","body":"<blockquote>\n<p>I was wondering if there is any way that allow us to import packages in a class using a relative path.</p>\n</blockquote>\n<p>No.  Java doesn't support that.  Package names are fully qualified when you define them and fully qualified when you use them.</p>\n<hr />\n<blockquote>\n<p>My question is: Could I create a package for example in folder &quot;B&quot; and import the class from that folder &quot;B&quot; in a java file which would be in folder &quot;A&quot;?</p>\n</blockquote>\n<p>For the OpenJDK Java tool chain, and anything else that uses the same class resolution mechanisms<sup>1</sup>, the folder name structure must map to the package structure.  So assuming that the folder above <code>A</code> is the root of your (source or binary) class folder tree, then your <code>Main.java</code> file needs a <code>package</code> declaration</p>\n<pre><code>package A;\n</code></pre>\n<p>and your <code>Example.java</code> file needs a <code>package</code> declaration:</p>\n<pre><code>package A.B;\n</code></pre>\n<p>(Note that case is significant, and package names <code>A</code> and <code>B</code> are a Java style violation.)</p>\n<p>Class <code>Example</code> can import <code>Main</code> and vice versa, but they <strong>must</strong> use the fully qualified package names to do that; i.e.</p>\n<pre><code>import A.Main;\nimport A.B.Example;\n</code></pre>\n<p>Q: Can you trick the compiler / runtime by having a class / package naming scheme that doesn't correspond to the file / folder structure?</p>\n<p>A: No.  Either the Java compiler or runtime will fail to find classes or it will detect that there is a mismatch a class's fully qualified and the place where it was found.  In both cases you will get an error.</p>\n<p>Q:  Can you import by file pathname?</p>\n<p>A:  No.  The Java language doesn't permit this. Just ... no.</p>\n<hr />\n<blockquote>\n<p>I mean without using &quot;classpath&quot; (I don't say without using &quot;sourcepath&quot; too, because I'm not sure about how it works).</p>\n</blockquote>\n<p>That doesn't make sense.  You cannot &quot;not use&quot; a classpath.  If there is no classpath, the Java tools cannot find your code.  There is always a classpath ... even if it is just the current directory; i.e. &quot;.&quot;.</p>\n<hr />\n<p><sup>1 - As far as I am aware, this covers all current practical Java implementations.  However, it is technically possible (and permitted by the Java <strong>Language</strong> Specification) for a Java implementation to use some other mechanism for organizing and locating source code or binary code &quot;entities&quot;.</sup></p>\n"},{"tags":[],"owner":{"account_id":26642828,"reputation":53,"user_id":20258209,"display_name":"Camy07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673560994,"creation_date":1673560675,"answer_id":75102723,"question_id":74977177,"body_markdown":"I&#39;m answering myself because I don&#39;t want to confused anyone else.\r\n\r\nAs far as I&#39;ve understood:\r\nThe &quot;Relative path&quot; I was looking for were in fact java packages.\r\n\r\nAs @Fererico-klez-Culloca said, having this example:\r\n\r\n```\r\n Folder: &quot;A&quot;\r\n          |\r\n          |____________ Folder: &quot;B&quot;\r\n          |            |\r\n          |            |\r\n          |            |\r\n          |            |_________  File Java: &quot;Example.java&quot;\r\n          | \r\n          |   \r\n          |\r\n          |________ File Java: &quot;Main.Java&quot;\r\n```\r\n\r\nMain just has to import A.B.Example.\r\n\r\nHowever, there are 2 things that must be considered:\r\n\r\n1. Main has to have &quot;package A&quot;, Example.java has to have &quot;package A.B&quot;.\r\n2. Supposing I&#39;m using visual studio, in order to compile it I can&#39;t do it opening the folder &quot;a&quot; directly as it will give me an error. As I still have to understand more in depth how this works, I&#39;ll quote another person words:\r\n\r\n&quot;In Visual Studio, you need the &quot;source folder&quot; to be the folder above a, not a itself, because package names are resolved relative to the source folder. &quot;\r\n\r\nA way to resolve this would be creating another folder, so the files schema could be something like this:\r\n\r\n```\r\nFolder: &quot;Project_Folder&quot;\r\n        |\r\n        |\r\n    Folder: &quot;A&quot;\r\n            |\r\n            |____________ Folder: &quot;B&quot;\r\n            |            |\r\n            |            |\r\n            |            |\r\n            |            |_________  File Java: &quot;Example.java&quot;\r\n            | \r\n            |   \r\n            |\r\n            |________ File Java: &quot;Main.Java&quot;\r\n```\r\n\r\nHaving that, I have to open the folder (project) in &quot;Project_Folder&quot;, so that the compiler can find the folder &quot;a&quot;, and identify it as a package.\r\n\r\nAlthough &quot;absolute path&quot; doesn&#39;t really exist in java, It&#39;s true that &quot;classpath&quot; can act similar to it, nevertheless classpath and &quot;absolute path&quot; (of html) are not exactly the same. \r\n","title":"How can the Java compiler know were are the packages I create?","body":"<p>I'm answering myself because I don't want to confused anyone else.</p>\n<p>As far as I've understood:\nThe &quot;Relative path&quot; I was looking for were in fact java packages.</p>\n<p>As @Fererico-klez-Culloca said, having this example:</p>\n<pre><code> Folder: &quot;A&quot;\n          |\n          |____________ Folder: &quot;B&quot;\n          |            |\n          |            |\n          |            |\n          |            |_________  File Java: &quot;Example.java&quot;\n          | \n          |   \n          |\n          |________ File Java: &quot;Main.Java&quot;\n</code></pre>\n<p>Main just has to import A.B.Example.</p>\n<p>However, there are 2 things that must be considered:</p>\n<ol>\n<li>Main has to have &quot;package A&quot;, Example.java has to have &quot;package A.B&quot;.</li>\n<li>Supposing I'm using visual studio, in order to compile it I can't do it opening the folder &quot;a&quot; directly as it will give me an error. As I still have to understand more in depth how this works, I'll quote another person words:</li>\n</ol>\n<p>&quot;In Visual Studio, you need the &quot;source folder&quot; to be the folder above a, not a itself, because package names are resolved relative to the source folder. &quot;</p>\n<p>A way to resolve this would be creating another folder, so the files schema could be something like this:</p>\n<pre><code>Folder: &quot;Project_Folder&quot;\n        |\n        |\n    Folder: &quot;A&quot;\n            |\n            |____________ Folder: &quot;B&quot;\n            |            |\n            |            |\n            |            |\n            |            |_________  File Java: &quot;Example.java&quot;\n            | \n            |   \n            |\n            |________ File Java: &quot;Main.Java&quot;\n</code></pre>\n<p>Having that, I have to open the folder (project) in &quot;Project_Folder&quot;, so that the compiler can find the folder &quot;a&quot;, and identify it as a package.</p>\n<p>Although &quot;absolute path&quot; doesn't really exist in java, It's true that &quot;classpath&quot; can act similar to it, nevertheless classpath and &quot;absolute path&quot; (of html) are not exactly the same.</p>\n"}],"owner":{"account_id":26642828,"reputation":53,"user_id":20258209,"display_name":"Camy07"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1673560994,"creation_date":1672604609,"question_id":74977177,"body_markdown":"I was wondering if there is any way that allow us to import packages in a class using a relative path.\r\n\r\nTo set an analogy, in html you can use a relative path to set an hyperlink.\r\n\r\nFor example, given this Files Structure:\r\n```\r\n    Folder: &quot;A&quot;\r\n          |\r\n          |____________ Folder: &quot;B&quot;\r\n          |            |\r\n          |            |\r\n          |            |\r\n          |            |_________  File html: &quot;Link.html&quot;\r\n          | \r\n          |   \r\n          |\r\n          |________ File html: &quot;Index.html&quot;\r\n```\r\nSo, in the file &quot;Link.html&quot; I can set this Hyperlink:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n      &lt;head&gt;\r\n           &lt;title&gt;Link&lt;/title&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n           &lt;main&gt;\r\n             &lt;h1&gt;You are in the file &quot;Link&quot;&lt;/h1&gt;\r\n\r\n               &lt;!--This would be the hyperlink--&gt;\r\n               &lt;a href=&quot;../Index.html&quot;&gt; Go to Index &lt;/a&gt;\r\n\r\n          &lt;/main&gt;\r\n      &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nMy question is: \r\nCould I create a package for example in folder &quot;B&quot; and import the class from that folder &quot;B&quot; in a java file which would be in folder &quot;A&quot;?\r\nI mean without using &quot;classpath&quot; (I don&#39;t say without using &quot;sourcepath&quot; too, because I&#39;m not sure about how it works).\r\n\r\n```\r\n    Folder: &quot;A&quot;\r\n          |\r\n          |____________ Folder: &quot;B&quot;\r\n          |            |\r\n          |            |\r\n          |            |\r\n          |            |_________  File Java: &quot;Example.java&quot;\r\n          | \r\n          |   \r\n          |\r\n          |________ File Java: &quot;Main.Java&quot;\r\n```\r\n  \r\nMoreover, could I set an absolute path in a java file directly to import a package without having to tell the compiler, manually, where the packages are through classpath? (Like in html?)\r\n\r\nI mean something like this example but when importing a package in java:\r\n\r\n```\r\n &lt;a href=&quot;C:\\Users\\Pc2\\Desktop\\A\\Index.html&quot;&gt; Go to Index &lt;/a&gt;\r\n```\r\n\r\nThanks in advance ;)","title":"How can the Java compiler know were are the packages I create?","body":"<p>I was wondering if there is any way that allow us to import packages in a class using a relative path.</p>\n<p>To set an analogy, in html you can use a relative path to set an hyperlink.</p>\n<p>For example, given this Files Structure:</p>\n<pre><code>    Folder: &quot;A&quot;\n          |\n          |____________ Folder: &quot;B&quot;\n          |            |\n          |            |\n          |            |\n          |            |_________  File html: &quot;Link.html&quot;\n          | \n          |   \n          |\n          |________ File html: &quot;Index.html&quot;\n</code></pre>\n<p>So, in the file &quot;Link.html&quot; I can set this Hyperlink:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n      &lt;head&gt;\n           &lt;title&gt;Link&lt;/title&gt;\n      &lt;/head&gt;\n      &lt;body&gt;\n           &lt;main&gt;\n             &lt;h1&gt;You are in the file &quot;Link&quot;&lt;/h1&gt;\n\n               &lt;!--This would be the hyperlink--&gt;\n               &lt;a href=&quot;../Index.html&quot;&gt; Go to Index &lt;/a&gt;\n\n          &lt;/main&gt;\n      &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My question is:\nCould I create a package for example in folder &quot;B&quot; and import the class from that folder &quot;B&quot; in a java file which would be in folder &quot;A&quot;?\nI mean without using &quot;classpath&quot; (I don't say without using &quot;sourcepath&quot; too, because I'm not sure about how it works).</p>\n<pre><code>    Folder: &quot;A&quot;\n          |\n          |____________ Folder: &quot;B&quot;\n          |            |\n          |            |\n          |            |\n          |            |_________  File Java: &quot;Example.java&quot;\n          | \n          |   \n          |\n          |________ File Java: &quot;Main.Java&quot;\n</code></pre>\n<p>Moreover, could I set an absolute path in a java file directly to import a package without having to tell the compiler, manually, where the packages are through classpath? (Like in html?)</p>\n<p>I mean something like this example but when importing a package in java:</p>\n<pre><code> &lt;a href=&quot;C:\\Users\\Pc2\\Desktop\\A\\Index.html&quot;&gt; Go to Index &lt;/a&gt;\n</code></pre>\n<p>Thanks in advance ;)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1673560713,"post_id":75102673,"comment_id":132533378,"body_markdown":"You&#39;re calling `Arrays.binarySearch(Q, ...)`, but `Q` is a `double[][]`. A two-dimensional array is an array of arrays. And `double[]` does not implement `Comparable`. Perhaps you mean to pass `Q[state]`?","body":"You&#39;re calling <code>Arrays.binarySearch(Q, ...)</code>, but <code>Q</code> is a <code>double[][]</code>. A two-dimensional array is an array of arrays. And <code>double[]</code> does not implement <code>Comparable</code>. Perhaps you mean to pass <code>Q[state]</code>?"},{"owner":{"account_id":24653804,"reputation":1,"user_id":18550654,"display_name":"Kyotiq"},"score":0,"creation_date":1673562878,"post_id":75102673,"comment_id":132533876,"body_markdown":"I just have one more question.  This value always returns 31.  WDo you know why this is?","body":"I just have one more question.  This value always returns 31.  WDo you know why this is?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673563293,"post_id":75102673,"comment_id":132533960,"body_markdown":"I would assume it&#39;s because every element in each array is `0`. I don&#39;t see where you assign new values to the arrays. Though also note that binary search only works on a sorted array.","body":"I would assume it&#39;s because every element in each array is <code>0</code>. I don&#39;t see where you assign new values to the arrays. Though also note that binary search only works on a sorted array."}],"owner":{"account_id":24653804,"reputation":1,"user_id":18550654,"display_name":"Kyotiq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673560268,"creation_date":1673560268,"question_id":75102673,"body_markdown":"I ran out of room in the title, so I will explain more here.  In my code, I am trying to find where the highest value lies in the array.  I get an exception on the binary search.  Can anybody help me figure out why this is happening?\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.*;\r\n\r\npublic class Q {\r\n\r\n\tstatic double [][] Q = {\r\n\t\t\t{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},\r\n\t\t\t{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},\r\n\t\t\t{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},\r\n\t\t\t{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}\r\n\t};\r\n\tstatic int state = 0 - 0;\r\n\tstatic int next = 0; \r\n\tstatic int reward = 0; \r\n\tstatic int action = 0; \r\n\tpublic static void main(String[] args) {\r\n\t\t//System.out.println(state);\r\n\t\t// TODO Auto-generated method stub\r\n\t\tfor(int i = 0; i &lt; 100000   ; i++) {\r\n\t\t\tSystem.out.println(&quot;new&quot;);\r\n\t\tint rand = (int) (Math.random()* 4) + 1;\r\n\t\trand = rand - 1;\r\n\t\tif(((int)Math.random() *2) + 1 == 1) {\r\n\t\tif(Q[state][0] == Q[state][1] &amp;&amp; \r\n\t\t\t\tQ[state][1] == Q[state][2] &amp;&amp; \r\n\t\t\t\tQ[state][2] == Q[state][3]//0 &amp;&amp; \r\n\t\t\t\t\t\t) {\r\n\t\t\t//\tQ[state][3]);\r\n\t\taction = rand;\r\n\t\t} else {\r\n\t\t\taction = Arrays.binarySearch(Q,\r\n\t\t\t\t\tMath.max(Q[state][0], Math.max(Q[state][1], Math.max(Q[state][2], Q[state][3]))));\r\n\t\t}\r\n\t\t}//\r\n\t\t//\r\n\t\t//\r\n\t//\tM////\r\n\t\telse {\r\n\t\t\taction = rand;\r\n\t\t}\r\n\t\t \r\n```\r\n\r\n\r\nI have no idea why this error randomely started happening.  ","title":"Java error class [D cannot be cast to class java.lang.Comparable ([D and java.lang.Comparable are in module java.base of loader &#39;bootstrap&#39;). why?","body":"<p>I ran out of room in the title, so I will explain more here.  In my code, I am trying to find where the highest value lies in the array.  I get an exception on the binary search.  Can anybody help me figure out why this is happening?</p>\n<pre><code>import java.util.Arrays;\nimport java.util.*;\n\npublic class Q {\n\n    static double [][] Q = {\n            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},\n            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,},\n            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},\n            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}\n    };\n    static int state = 0 - 0;\n    static int next = 0; \n    static int reward = 0; \n    static int action = 0; \n    public static void main(String[] args) {\n        //System.out.println(state);\n        // TODO Auto-generated method stub\n        for(int i = 0; i &lt; 100000   ; i++) {\n            System.out.println(&quot;new&quot;);\n        int rand = (int) (Math.random()* 4) + 1;\n        rand = rand - 1;\n        if(((int)Math.random() *2) + 1 == 1) {\n        if(Q[state][0] == Q[state][1] &amp;&amp; \n                Q[state][1] == Q[state][2] &amp;&amp; \n                Q[state][2] == Q[state][3]//0 &amp;&amp; \n                        ) {\n            //  Q[state][3]);\n        action = rand;\n        } else {\n            action = Arrays.binarySearch(Q,\n                    Math.max(Q[state][0], Math.max(Q[state][1], Math.max(Q[state][2], Q[state][3]))));\n        }\n        }//\n        //\n        //\n    //  M////\n        else {\n            action = rand;\n        }\n         \n</code></pre>\n<p>I have no idea why this error randomely started happening.</p>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1480642438,"post_id":40923237,"comment_id":69058651,"body_markdown":"Are you asking us how to configure the PostgreSQL *Server* for SSL? Did you read and follow the [PostgreSQL manual](https://www.postgresql.org/docs/current/static/ssl-tcp.html) on the topic?","body":"Are you asking us how to configure the PostgreSQL <i>Server</i> for SSL? Did you read and follow the <a href=\"https://www.postgresql.org/docs/current/static/ssl-tcp.html\" rel=\"nofollow noreferrer\">PostgreSQL manual</a> on the topic?"},{"owner":{"account_id":9765334,"reputation":677,"user_id":7238979,"accept_rate":100,"display_name":"RKR"},"score":0,"creation_date":1480643317,"post_id":40923237,"comment_id":69058828,"body_markdown":"@Andreas No I am asking why is it not allowing to use the IP instead of localhost?Even though I changed  parameter ssl to on in postgresql.conf","body":"@Andreas No I am asking why is it not allowing to use the IP instead of localhost?Even though I changed  parameter ssl to on in postgresql.conf"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1480649076,"post_id":40923237,"comment_id":69060210,"body_markdown":"So you&#39;re saying that SSL worked when accessed as localhost, but SSL doesn&#39;t work when accessed as server name? To check if this is a Java issue or a server issue, can you access with SSL using `pgAdmin` tool?","body":"So you&#39;re saying that SSL worked when accessed as localhost, but SSL doesn&#39;t work when accessed as server name? To check if this is a Java issue or a server issue, can you access with SSL using <code>pgAdmin</code> tool?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1480649397,"post_id":40923237,"comment_id":69060297,"body_markdown":"Possible duplicate of [Unable to add SSL support for database](http://stackoverflow.com/q/16980551/5221149)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/q/16980551/5221149\">Unable to add SSL support for database</a>"}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1480655142,"creation_date":1480655142,"answer_id":40925161,"question_id":40923237,"body_markdown":"Here is how to proceed:\r\n\r\n- Make sure you are connecting to the correct server. This may sound trivial, but is often the cause of problems.\r\n\r\n- Set `log_connections = on` on the PostgreSQL server and check the PostgreSQL log file after the failed connection attempt. This should tell you more about the problem.\r\n\r\n- Make sure that the correct line in `pg_hba.conf` is used. In recent PostgreSQL versions, the server log entry will tell you which line was used, which can help you to spot configuration issues in `pg_hba.conf`.\r\n\r\n- Make sure that OpenSSL is of a reasonably recent version on the PostgreSQL server and you are using a recent JDBC driver. New SSL implementations will refuse to communicate with very old SSL implementation to avoid security flaws in the protocol. The PostgreSQL log line should give you a clue.","title":"org.postgresql.util.PSQLException: The server does not support SSL","body":"<p>Here is how to proceed:</p>\n\n<ul>\n<li><p>Make sure you are connecting to the correct server. This may sound trivial, but is often the cause of problems.</p></li>\n<li><p>Set <code>log_connections = on</code> on the PostgreSQL server and check the PostgreSQL log file after the failed connection attempt. This should tell you more about the problem.</p></li>\n<li><p>Make sure that the correct line in <code>pg_hba.conf</code> is used. In recent PostgreSQL versions, the server log entry will tell you which line was used, which can help you to spot configuration issues in <code>pg_hba.conf</code>.</p></li>\n<li><p>Make sure that OpenSSL is of a reasonably recent version on the PostgreSQL server and you are using a recent JDBC driver. New SSL implementations will refuse to communicate with very old SSL implementation to avoid security flaws in the protocol. The PostgreSQL log line should give you a clue.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21764534,"reputation":1,"user_id":16068633,"display_name":"amb0u"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673560162,"creation_date":1673131189,"answer_id":75044272,"question_id":40923237,"body_markdown":"The easiest way to avoid this is to disable ssl when connecting to Postgres database by using the following parameter: ***?sslmode=disable***\r\n\r\n    jdbc:postgresql://${{db_host}}:${{db_port}}/${{your_db_name}}?sslmode=disable&amp;amp;\r\n\r\n\r\nHope it helps !","title":"org.postgresql.util.PSQLException: The server does not support SSL","body":"<p>The easiest way to avoid this is to disable ssl when connecting to Postgres database by using the following parameter: <em><strong>?sslmode=disable</strong></em></p>\n<pre><code>jdbc:postgresql://${{db_host}}:${{db_port}}/${{your_db_name}}?sslmode=disable&amp;amp;\n</code></pre>\n<p>Hope it helps !</p>\n"}],"owner":{"account_id":9765334,"reputation":677,"user_id":7238979,"accept_rate":100,"display_name":"RKR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12707,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":40925161,"answer_count":2,"score":5,"last_activity_date":1673560162,"creation_date":1480641483,"question_id":40923237,"body_markdown":"I am newbie who is just creating a web application and while working with it instead of localhost I put the IP addresss of the computer and changed in every place.I also follwed the below solution [Followed Solution][1] and then also set ssl=on in my postgresql.config.Could anyone tell me where am I should configure to allow ssl? Any help is appreciated.\r\n\r\n\r\n\r\n    org.postgresql.util.PSQLException: The server does not support SSL.\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:349)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:148)\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:215)\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:404)\r\n    \tat org.postgresql.Driver.connect(Driver.java:272)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat com.dmmsmulta.TaxiVis.dao.mydata.connectToDatabaseOrDie(mydata.java:223)\r\n    \tat com.dmmsmulta.TaxiVis.dao.mydata.&lt;init&gt;(mydata.java:63)\r\n    \tat com.dmmsmulta.TaxiVis.controller.HomeController.getDummy(HomeController.java:130)\r\n    \tat com.dmmsmulta.TaxiVis.controller.HomeController.getCool(HomeController.java:123)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25641047/org-postgresql-util-psqlexception-fatal-no-pg-hba-conf-entry-for-host","title":"org.postgresql.util.PSQLException: The server does not support SSL","body":"<p>I am newbie who is just creating a web application and while working with it instead of localhost I put the IP addresss of the computer and changed in every place.I also follwed the below solution <a href=\"https://stackoverflow.com/questions/25641047/org-postgresql-util-psqlexception-fatal-no-pg-hba-conf-entry-for-host\">Followed Solution</a> and then also set ssl=on in my postgresql.config.Could anyone tell me where am I should configure to allow ssl? Any help is appreciated.</p>\n\n<pre><code>org.postgresql.util.PSQLException: The server does not support SSL.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:349)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:148)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:215)\n    at org.postgresql.Driver.makeConnection(Driver.java:404)\n    at org.postgresql.Driver.connect(Driver.java:272)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at com.dmmsmulta.TaxiVis.dao.mydata.connectToDatabaseOrDie(mydata.java:223)\n    at com.dmmsmulta.TaxiVis.dao.mydata.&lt;init&gt;(mydata.java:63)\n    at com.dmmsmulta.TaxiVis.controller.HomeController.getDummy(HomeController.java:130)\n    at com.dmmsmulta.TaxiVis.controller.HomeController.getCool(HomeController.java:123)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1673483941,"post_id":26615355,"comment_id":132512213,"body_markdown":"The link to the picture is dead.","body":"The link to the picture is dead."}],"answers":[{"tags":[],"owner":{"account_id":4917292,"reputation":51,"user_id":3960905,"display_name":"Garrison Wesley LeRock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414521317,"creation_date":1414520504,"answer_id":26615683,"question_id":26615355,"body_markdown":"I would highly recommend using a `FileReader`:\r\n\r\n    File file = new File(&quot;/filePath&quot;);\r\n    FileReader fr = new FileReader(file);\r\n    Scanner scanner = new Scanner(fr);\r\n    //and so on...","title":"Having some trouble with File I/O","body":"<p>I would highly recommend using a <code>FileReader</code>:</p>\n\n<pre><code>File file = new File(\"/filePath\");\nFileReader fr = new FileReader(file);\nScanner scanner = new Scanner(fr);\n//and so on...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1255287,"reputation":1130,"user_id":1214885,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414520790,"creation_date":1414520790,"answer_id":26615772,"question_id":26615355,"body_markdown":"Try\r\n\r\n    avg = ((double)totalScore/(double)games);\r\n\r\nand replace \\n with \\r\\n:\r\n\r\n    System.out.printf(&quot;%14s%.2f\\r\\n&quot;, &quot;Average of &quot;, avg);","title":"Having some trouble with File I/O","body":"<p>Try</p>\n\n<pre><code>avg = ((double)totalScore/(double)games);\n</code></pre>\n\n<p>and replace \\n with \\r\\n:</p>\n\n<pre><code>System.out.printf(\"%14s%.2f\\r\\n\", \"Average of \", avg);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1414521539,"creation_date":1414520892,"answer_id":26615812,"question_id":26615355,"body_markdown":"    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    \r\n    public class BasketballTeam\r\n    {\r\n        public static void main(String[] args) throws IOException\r\n        {\r\n            File f = new File(&quot;BasketballData.txt&quot;);\r\n    \r\n            if (f.exists())\r\n            {\r\n                Scanner input = new Scanner(f);\r\n                int games = 0;\r\n                int totalScore = 0;\r\n                double avg = 0.0;\r\n    \r\n                while (input.hasNext())\r\n                {\r\n                    String s = input.next();\r\n                    System.out.printf(&quot;%-9s&quot;, s);\r\n                    while (input.hasNextInt())\r\n                    {\r\n                    \tint a = input.nextInt();\r\n                    \tif(a != -1)\r\n                    \t{\r\n                    \t\tSystem.out.printf(&quot;%5s&quot;, a);\r\n                    \t\tgames++;\r\n                    \t\ttotalScore = totalScore + a;\r\n                    \t}\r\n                    }\r\n                    avg = (double)totalScore/games;\r\n                    System.out.printf(&quot;%14s%.2f\\n&quot;, &quot;Average of &quot;, avg);\r\n                    games = 0;\r\n                    totalScore = 0;\r\n                    System.out.println();\r\n                }\r\n                input.close();\r\n            }\r\n        }\r\n    }\r\n\r\nThis is what you are looking for.  You don&#39;t even need the -1 at the end of each line in the file you can get rid of that if you want unless it is part of the specification.  It will work without the -1.  Your inner loop you just want to add up your totals then outside of the inner loop get your average and display.  Then reset your variables.  You were pretty close just needed to change a couple things.  If you have any questions on how this works just ask away.  Hope this helps!","title":"Having some trouble with File I/O","body":"<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class BasketballTeam\n{\n    public static void main(String[] args) throws IOException\n    {\n        File f = new File(\"BasketballData.txt\");\n\n        if (f.exists())\n        {\n            Scanner input = new Scanner(f);\n            int games = 0;\n            int totalScore = 0;\n            double avg = 0.0;\n\n            while (input.hasNext())\n            {\n                String s = input.next();\n                System.out.printf(\"%-9s\", s);\n                while (input.hasNextInt())\n                {\n                    int a = input.nextInt();\n                    if(a != -1)\n                    {\n                        System.out.printf(\"%5s\", a);\n                        games++;\n                        totalScore = totalScore + a;\n                    }\n                }\n                avg = (double)totalScore/games;\n                System.out.printf(\"%14s%.2f\\n\", \"Average of \", avg);\n                games = 0;\n                totalScore = 0;\n                System.out.println();\n            }\n            input.close();\n        }\n    }\n}\n</code></pre>\n\n<p>This is what you are looking for.  You don't even need the -1 at the end of each line in the file you can get rid of that if you want unless it is part of the specification.  It will work without the -1.  Your inner loop you just want to add up your totals then outside of the inner loop get your average and display.  Then reset your variables.  You were pretty close just needed to change a couple things.  If you have any questions on how this works just ask away.  Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":5220196,"reputation":2212,"user_id":4173903,"display_name":"Khalid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414521704,"creation_date":1414521197,"answer_id":26615896,"question_id":26615355,"body_markdown":"In this line `a = input.nextInt()`, you already advance to the next int, so the test `input.hasNextInt()` will be false when you reach -1.\r\n\r\nOne possible solution is to change the loop to:\r\n\r\n    while (input.hasNext()) {\r\n        String s = input.next();\r\n        System.out.printf(&quot;%-9s&quot;, s);\r\n        int a = 0;\r\n        while (input.hasNextInt()) {\r\n            a = input.nextInt();\r\n            if (a == -1) {\r\n                avg = (double) totalScore / games;\r\n                System.out.printf(&quot;%14s%.2f\\n&quot;, &quot;Average of &quot;, avg);\r\n                games = 0;\r\n                totalScore = 0;\r\n            } else {\r\n                System.out.printf(&quot;%5s&quot;, a);\r\n                games++;\r\n                totalScore = totalScore + a;\r\n            }\r\n        }\r\n    }","title":"Having some trouble with File I/O","body":"<p>In this line <code>a = input.nextInt()</code>, you already advance to the next int, so the test <code>input.hasNextInt()</code> will be false when you reach -1.</p>\n\n<p>One possible solution is to change the loop to:</p>\n\n<pre><code>while (input.hasNext()) {\n    String s = input.next();\n    System.out.printf(\"%-9s\", s);\n    int a = 0;\n    while (input.hasNextInt()) {\n        a = input.nextInt();\n        if (a == -1) {\n            avg = (double) totalScore / games;\n            System.out.printf(\"%14s%.2f\\n\", \"Average of \", avg);\n            games = 0;\n            totalScore = 0;\n        } else {\n            System.out.printf(\"%5s\", a);\n            games++;\n            totalScore = totalScore + a;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5136002,"reputation":25,"user_id":4114750,"display_name":"Ryan Jensen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26615812,"answer_count":4,"score":1,"last_activity_date":1673559514,"creation_date":1414519422,"question_id":26615355,"body_markdown":"I have a homework assignment to read data from a file which contains names and scores per game of basketball players. The program is supposed to output the names and scores of the players, as well as tally each player&#39;s average score per game, and finally display the player with the highest average. I am currently stuck on trying to get the average and a newline character for each player. \r\n\r\n[Here is a pic](https://fbcdn-sphotos-b-a.akamaihd.net/hphotos-ak-xap1/v/t1.0-9/1379989_10152478294323932_1931326649055391994_n.jpg?oh=4a127d414fbb7afaf7488d4531e7664f&amp;oe=54E4B520&amp;__gda__=1424190489_e403443c6287d05db6f9b9967238ac20) of the input file I am reading the data from.\r\n \r\nand here is my code:\r\n```lang-java\r\n    import java.util.Scanner;\r\n    import java.io.File;\r\n    import java.io.PrintWriter;\r\n    import java.io.IOException;\r\n\r\n    public class BasketballTeam\r\n    {\r\n\t    public static void main(String[] args) throws IOException\r\n\t    {\r\n\t\t    File f = new File(&quot;BasketballData.txt&quot;);\r\n\t\t\r\n\t\t    if (f.exists())\r\n\t\t    {\r\n\t\t\t    Scanner input = new Scanner(f);\r\n\t\t\t    int games = 0;\r\n\t\t\t    int totalScore = 0;\r\n\t\t\t    double avg = 0.0;\r\n\t\t\t\r\n\t\t\t    while (input.hasNext())\r\n\t\t\t    {\r\n\t\t\t\t    String s = input.next();\r\n\t\t\t\t    System.out.printf(&quot;%-9s&quot;, s);\r\n\t\t\t\t    int a = input.nextInt();\r\n\t\t\t\t    while (input.hasNextInt())\r\n\t\t\t\t    {\r\n\t\t\t\t\t    if (a == -1)\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t\t    avg = (double)totalScore/games;\r\n\t\t\t\t\t\t    System.out.printf(&quot;%14s%.2f\\n&quot;, &quot;Average of &quot;, avg);\r\n\t\t\t\t\t\t    games = 0;\r\n\t\t\t\t\t\t    totalScore = 0;\r\n\t\t\t\t\t\t    s = input.next();\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    else\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t\t    System.out.printf(&quot;%5s&quot;, a);\r\n\t\t\t\t\t\t    games++;\r\n\t\t\t\t\t\t    totalScore = totalScore + a;\r\n\t\t\t\t\t\t    a = input.nextInt();\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\t\t\t\t\t\t\r\n\t            }\r\n\t\t    }\r\n\t    }\r\n    }\r\n```\r\nWhen I run the program, my output is just a single line that looks like:\r\n\r\n    Smith       13   19    8   12Badgley      5Burch       15   18   16Watson......and so on\r\n\r\nWhy am I not getting any newline characters or my average? I want my output to look like this:\r\n\r\n    Smith       13   19    8   12   Average of 13\r\n    Badgley      5   Average of 5\r\n    Burch       15   18   16   Average of 16.33\r\n    .....and so on\r\n\r\nThanks in advanced for any suggestions/corrections.","title":"Having some trouble with File I/O","body":"<p>I have a homework assignment to read data from a file which contains names and scores per game of basketball players. The program is supposed to output the names and scores of the players, as well as tally each player's average score per game, and finally display the player with the highest average. I am currently stuck on trying to get the average and a newline character for each player.</p>\n<p><a href=\"https://fbcdn-sphotos-b-a.akamaihd.net/hphotos-ak-xap1/v/t1.0-9/1379989_10152478294323932_1931326649055391994_n.jpg?oh=4a127d414fbb7afaf7488d4531e7664f&amp;oe=54E4B520&amp;__gda__=1424190489_e403443c6287d05db6f9b9967238ac20\" rel=\"nofollow noreferrer\">Here is a pic</a> of the input file I am reading the data from.</p>\n<p>and here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.Scanner;\n    import java.io.File;\n    import java.io.PrintWriter;\n    import java.io.IOException;\n\n    public class BasketballTeam\n    {\n        public static void main(String[] args) throws IOException\n        {\n            File f = new File(&quot;BasketballData.txt&quot;);\n        \n            if (f.exists())\n            {\n                Scanner input = new Scanner(f);\n                int games = 0;\n                int totalScore = 0;\n                double avg = 0.0;\n            \n                while (input.hasNext())\n                {\n                    String s = input.next();\n                    System.out.printf(&quot;%-9s&quot;, s);\n                    int a = input.nextInt();\n                    while (input.hasNextInt())\n                    {\n                        if (a == -1)\n                        {\n                            avg = (double)totalScore/games;\n                            System.out.printf(&quot;%14s%.2f\\n&quot;, &quot;Average of &quot;, avg);\n                            games = 0;\n                            totalScore = 0;\n                            s = input.next();\n                        }\n                        else\n                        {\n                            System.out.printf(&quot;%5s&quot;, a);\n                            games++;\n                            totalScore = totalScore + a;\n                            a = input.nextInt();\n                        }\n                    }                       \n                }\n            }\n        }\n    }\n</code></pre>\n<p>When I run the program, my output is just a single line that looks like:</p>\n<pre><code>Smith       13   19    8   12Badgley      5Burch       15   18   16Watson......and so on\n</code></pre>\n<p>Why am I not getting any newline characters or my average? I want my output to look like this:</p>\n<pre><code>Smith       13   19    8   12   Average of 13\nBadgley      5   Average of 5\nBurch       15   18   16   Average of 16.33\n.....and so on\n</code></pre>\n<p>Thanks in advanced for any suggestions/corrections.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9260,"page":732,"page_size":100}
