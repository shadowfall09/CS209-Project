{"items":[{"tags":["java","string","hex","byte"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":2,"creation_date":1365786614,"post_id":15977137,"comment_id":22775063,"body_markdown":"A byte is not a character. What do you want the string to start and end as, and given what &quot;byte&quot; input?","body":"A byte is not a character. What do you want the string to start and end as, and given what &quot;byte&quot; input?"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":2,"creation_date":1365786750,"post_id":15977137,"comment_id":22775129,"body_markdown":"0x10 is not a displayable character in any ASCII compatible encoding. Why would you want a Data Link Escape in your string?","body":"0x10 is not a displayable character in any ASCII compatible encoding. Why would you want a Data Link Escape in your string?"},{"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"score":0,"creation_date":1365786879,"post_id":15977137,"comment_id":22775195,"body_markdown":"We know the variables, we have a hard time comprehending the desired output. What do you want to get? `&quot;HELLO WORLD 0x10&quot;`?","body":"We know the variables, we have a hard time comprehending the desired output. What do you want to get? <code>&quot;HELLO WORLD 0x10&quot;</code>?"},{"owner":{"account_id":197685,"reputation":4628,"user_id":441907,"accept_rate":100,"display_name":"Nick Russler"},"score":1,"creation_date":1365786929,"post_id":15977137,"comment_id":22775215,"body_markdown":"It sounds as he wants to append the name of the byte variable to the string, in this case &quot;someByte&quot; ;)","body":"It sounds as he wants to append the name of the byte variable to the string, in this case &quot;someByte&quot; ;)"}],"answers":[{"tags":[],"owner":{"account_id":197685,"reputation":4628,"user_id":441907,"accept_rate":100,"display_name":"Nick Russler"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365787187,"creation_date":1365786748,"answer_id":15977180,"question_id":15977137,"body_markdown":"If you want to have the String representation of the byte as ascii char then try this:\r\n\r\n    public static void main(String[] args) {\r\n    \tString a = &quot;bla&quot;;\r\n    \t\r\n    \tbyte x = 0x21; // Ascii code for &#39;!&#39;\r\n    \t\r\n    \ta += (char)x;\r\n    \t\r\n    \tSystem.out.println(a); // Will print out &#39;bla!&#39;\r\n    }\r\n\r\n\r\nIf you want to convert the byte value into it&#39;s hex representation as String then take a look at [Integer.toHexString][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#toHexString%28int%29\r\n","title":"How to append a byte to a string in Java?","body":"<p>If you want to have the String representation of the byte as ascii char then try this:</p>\n\n<pre><code>public static void main(String[] args) {\n    String a = \"bla\";\n\n    byte x = 0x21; // Ascii code for '!'\n\n    a += (char)x;\n\n    System.out.println(a); // Will print out 'bla!'\n}\n</code></pre>\n\n<p>If you want to convert the byte value into it's hex representation as String then take a look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#toHexString%28int%29\" rel=\"nofollow\">Integer.toHexString</a></p>\n"},{"tags":[],"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1365787086,"creation_date":1365787086,"answer_id":15977262,"question_id":15977137,"body_markdown":"If you want to concatenate the actual value of a `byte` to a `String` use the `Byte` wrapper and its `toString()` method, like this:\r\n\r\n    String someString = &quot;STRING&quot;;\r\n    byte someByte = 0x10;\r\n    someString += Byte.toString(someByte);","title":"How to append a byte to a string in Java?","body":"<p>If you want to concatenate the actual value of a <code>byte</code> to a <code>String</code> use the <code>Byte</code> wrapper and its <code>toString()</code> method, like this:</p>\n\n<pre><code>String someString = \"STRING\";\nbyte someByte = 0x10;\nsomeString += Byte.toString(someByte);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":911998,"reputation":64395,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365787283,"creation_date":1365787283,"answer_id":15977320,"question_id":15977137,"body_markdown":"If you just want to extend a String literal, then use this one:\r\n    \r\n    System.out.println(&quot;Hello World\\u0010&quot;);\r\n\r\notherwise:\r\n\r\n    String s1 = &quot;Hello World&quot;;\r\n    String s2 = s1 + &#39;\\u0010&#39;;\r\n\r\nAnd no - character are not bytes and vice versa. But here the approximation is close enough :-)","title":"How to append a byte to a string in Java?","body":"<p>If you just want to extend a String literal, then use this one:</p>\n\n<pre><code>System.out.println(\"Hello World\\u0010\");\n</code></pre>\n\n<p>otherwise:</p>\n\n<pre><code>String s1 = \"Hello World\";\nString s2 = s1 + '\\u0010';\n</code></pre>\n\n<p>And no - character are not bytes and vice versa. But here the approximation is close enough :-)</p>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695634695,"creation_date":1695634695,"answer_id":77171502,"question_id":15977137,"body_markdown":"I have restructured the [answer code provided by @Fritz][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    public class Post15977262 {\r\n        public static String appendByteToString(String originalString, byte byteToAppend) {\r\n            originalString += Byte.toString(byteToAppend);\r\n            return originalString;\r\n        }\r\n    }\r\n\r\n\r\n[1]: https://stackoverflow.com/a/15977262\r\n","title":"How to append a byte to a string in Java?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/15977262\">answer code provided by @Fritz</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>public class Post15977262 {\n    public static String appendByteToString(String originalString, byte byteToAppend) {\n        originalString += Byte.toString(byteToAppend);\n        return originalString;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1528641,"reputation":742,"user_id":1426436,"accept_rate":62,"display_name":"Justin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15977262,"answer_count":4,"score":2,"last_activity_date":1695634695,"creation_date":1365786553,"question_id":15977137,"body_markdown":"I have this operation I need to perform where I need to append a byte such as 0x10 to some String in Java. I was wondering how I could go about doing this?\r\n\r\nFor example:\r\n\r\n    String someString = &quot;HELLO WORLD&quot;;\r\n    byte someByte = 0x10;\r\n\r\nIn this example, how would I go about appending someByte to someString?\r\n\r\nThe reason why I am asking this question is because the application I am developing is supposed to send commands to some server. The server is able to accept commands (base64 encoded), decode the command, and parse out these bytes that are not necessarily compatible with any sort of ASCII encoding standard for performing some special function.","title":"How to append a byte to a string in Java?","body":"<p>I have this operation I need to perform where I need to append a byte such as 0x10 to some String in Java. I was wondering how I could go about doing this?</p>\n\n<p>For example:</p>\n\n<pre><code>String someString = \"HELLO WORLD\";\nbyte someByte = 0x10;\n</code></pre>\n\n<p>In this example, how would I go about appending someByte to someString?</p>\n\n<p>The reason why I am asking this question is because the application I am developing is supposed to send commands to some server. The server is able to accept commands (base64 encoded), decode the command, and parse out these bytes that are not necessarily compatible with any sort of ASCII encoding standard for performing some special function.</p>\n"},{"tags":["java","android","usermanager"],"comments":[{"owner":{"account_id":176486,"reputation":23009,"user_id":407213,"accept_rate":74,"display_name":"Dorian"},"score":9,"creation_date":1352926397,"post_id":13375357,"comment_id":18284328,"body_markdown":"If can be used to avoid some Java warning, as an easter egg, and as a test to see who read the API. And it&#39;s a reference to an easter egg in Chrome.","body":"If can be used to avoid some Java warning, as an easter egg, and as a test to see who read the API. And it&#39;s a reference to an easter egg in Chrome."},{"owner":{"account_id":525721,"reputation":5308,"user_id":1115937,"accept_rate":82,"display_name":"John Isaiah Carmona"},"score":17,"creation_date":1352955522,"post_id":13375357,"comment_id":18292088,"body_markdown":"This might be related to when [Google use goats](http://googleblog.blogspot.com/2010/04/goats-are-baaaahk.html) [as a mower](http://googleblog.blogspot.com/2009/05/mowing-with-goats.html) in their [Mountain View Headquarters](https://maps.google.com/?q=Google+Inc.%4037.423156,-122.084917&amp;hl=en).","body":"This might be related to when <a href=\"http://googleblog.blogspot.com/2010/04/goats-are-baaaahk.html\" rel=\"nofollow noreferrer\">Google use goats</a> <a href=\"http://googleblog.blogspot.com/2009/05/mowing-with-goats.html\" rel=\"nofollow noreferrer\">as a mower</a> in their <a href=\"https://maps.google.com/?q=Google+Inc.%4037.423156,-122.084917&amp;hl=en\" rel=\"nofollow noreferrer\">Mountain View Headquarters</a>."},{"owner":{"account_id":1474322,"reputation":11871,"user_id":1385119,"accept_rate":84,"display_name":"none"},"score":5,"creation_date":1352974901,"post_id":13375357,"comment_id":18302467,"body_markdown":"_googlers_ seem to like goats for some reason, no wonder they made an easter egg out of it. there is also a serious (__!__) investment in goats: - as blogged in googleblog - [mowing with goats](http://googleblog.blogspot.com/2009/05/mowing-with-goats.html) - [goats are baaaahk](http://googleblog.blogspot.com/2010/04/goats-are-baaaahk.html)\n- and recorded in [youtube](http://www.youtube.com/watch?v=Jw_XI0WVZBg) after all they are native lawn movers, efficient as well..","body":"<i>googlers</i> seem to like goats for some reason, no wonder they made an easter egg out of it. there is also a serious (<b>!</b>) investment in goats: - as blogged in googleblog - <a href=\"http://googleblog.blogspot.com/2009/05/mowing-with-goats.html\" rel=\"nofollow noreferrer\">mowing with goats</a> - <a href=\"http://googleblog.blogspot.com/2010/04/goats-are-baaaahk.html\" rel=\"nofollow noreferrer\">goats are baaaahk</a> - and recorded in <a href=\"http://www.youtube.com/watch?v=Jw_XI0WVZBg\" rel=\"nofollow noreferrer\">youtube</a> after all they are native lawn movers, efficient as well.."},{"owner":{"account_id":152022,"reputation":4063,"user_id":366253,"accept_rate":57,"display_name":"Fernando Gallego"},"score":31,"creation_date":1364594996,"post_id":13375357,"comment_id":22483920,"body_markdown":"There are also constants for the gravity on the first death star http://developer.android.com/reference/android/hardware/SensorManager.html#GRAVITY_DEATH_STAR_I and on the island of the tv show Lost http://developer.android.com/reference/android/hardware/SensorManager.html#GRAVITY_THE_ISLAND which is of course, the numbers.","body":"There are also constants for the gravity on the first death star <a href=\"http://developer.android.com/reference/android/hardware/SensorManager.html#GRAVITY_DEATH_STAR_I\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/hardware/&hellip;</a> and on the island of the tv show Lost <a href=\"http://developer.android.com/reference/android/hardware/SensorManager.html#GRAVITY_THE_ISLAND\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/hardware/&hellip;</a> which is of course, the numbers."},{"owner":{"account_id":3589788,"reputation":1045,"user_id":2996119,"display_name":"Patrick"},"score":15,"creation_date":1461570591,"post_id":13375357,"comment_id":61240128,"body_markdown":"They even updated the documentation after Lollipop: [&quot;As of LOLLIPOP, this method can now automatically identify goats using advanced goat recognition technology.&quot;](http://developer.android.com/reference/android/os/UserManager.html#isUserAGoat())","body":"They even updated the documentation after Lollipop: <a href=\"http://developer.android.com/reference/android/os/UserManager.html#isUserAGoat()\" rel=\"nofollow noreferrer\">&quot;As of LOLLIPOP, this method can now automatically identify goats using advanced goat recognition technology.&quot;</a>"},{"owner":{"account_id":7455189,"reputation":158,"user_id":5668661,"display_name":"HelloWorld"},"score":3,"creation_date":1651767738,"post_id":13375357,"comment_id":127446984,"body_markdown":"&quot;As of Build.VERSION_CODES.R, this method always returns false in order to protect goat privacy.&quot;","body":"&quot;As of Build.VERSION_CODES.R, this method always returns false in order to protect goat privacy.&quot;"},{"owner":{"account_id":11083708,"reputation":568,"user_id":8138184,"display_name":"NSaran"},"score":0,"creation_date":1654190340,"post_id":13375357,"comment_id":128037824,"body_markdown":"Maybe to track how many times a user ended up in an unexpected/unhandled situation by calling this method.","body":"Maybe to track how many times a user ended up in an unexpected/unhandled situation by calling this method."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1669542616,"post_id":13375357,"comment_id":131660831,"body_markdown":"This has become even funnier since &quot;goat&quot; started to be used as a short for &quot;Greatest of all time&quot;! :D","body":"This has become even funnier since &quot;goat&quot; started to be used as a short for &quot;Greatest of all time&quot;! :D"}],"answers":[{"comments":[{"owner":{"account_id":112981,"reputation":1022,"user_id":297807,"accept_rate":100,"display_name":"tedders"},"score":116,"creation_date":1352897916,"post_id":13375461,"comment_id":18275126,"body_markdown":"Theory: Goats are found in all kinds of precarious places, like sheer cliffs, possibly bucking location trends they get from regular non-goat users. Might explain &quot;teleportations&quot;, which could be goats appearing to wildly relocate as the software tries to determine their location with algos designed for non-goats.","body":"Theory: Goats are found in all kinds of precarious places, like sheer cliffs, possibly bucking location trends they get from regular non-goat users. Might explain &quot;teleportations&quot;, which could be goats appearing to wildly relocate as the software tries to determine their location with algos designed for non-goats."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":3,"creation_date":1352913424,"post_id":13375461,"comment_id":18278304,"body_markdown":"How does this answer add anything to the info that the question already showed?","body":"How does this answer add anything to the info that the question already showed?"},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":13,"creation_date":1352923621,"post_id":13375461,"comment_id":18283074,"body_markdown":"@LarsH - the source for one.","body":"@LarsH - the source for one."},{"owner":{"account_id":21018,"reputation":73866,"user_id":50776,"accept_rate":84,"display_name":"casperOne"},"score":63,"creation_date":1352924797,"post_id":13375461,"comment_id":18283610,"body_markdown":"This is a history lesson, not an answer.  Even if it is an Easter egg, is there a valid use case for it?  Being an Easter egg doesn&#39;t preclude it from being useful, and you&#39;ve not shown whether it is or is not useful.","body":"This is a history lesson, not an answer.  Even if it is an Easter egg, is there a valid use case for it?  Being an Easter egg doesn&#39;t preclude it from being useful, and you&#39;ve not shown whether it is or is not useful."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":3,"creation_date":1352926331,"post_id":13375461,"comment_id":18284304,"body_markdown":"@djechlin, one aspect of the source is informative, and now that the answer has been edited, it&#39;s far more obvious: (this implementation of) this method always returns false.","body":"@djechlin, one aspect of the source is informative, and now that the answer has been edited, it&#39;s far more obvious: (this implementation of) this method always returns false."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1377411185,"post_id":13375461,"comment_id":27070930,"body_markdown":"The method could be overridden in a test scenario.","body":"The method could be overridden in a test scenario."},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":2,"creation_date":1392789782,"post_id":13375461,"comment_id":33115558,"body_markdown":"It&#39;s also a reference to http://en.wikipedia.org/wiki/The_Men_Who_Stare_at_Goats , about a U.S. military project involving goats.","body":"It&#39;s also a reference to <a href=\"http://en.wikipedia.org/wiki/The_Men_Who_Stare_at_Goats\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/The_Men_Who_Stare_at_Goats</a> , about a U.S. military project involving goats."},{"owner":{"account_id":194730,"reputation":1485,"user_id":437244,"display_name":"logain"},"score":7,"creation_date":1396212558,"post_id":13375461,"comment_id":34676901,"body_markdown":"The monkey function is to detect the MonkeyRunner debug tool as specified in another answer.","body":"The monkey function is to detect the MonkeyRunner debug tool as specified in another answer."},{"owner":{"account_id":1042649,"reputation":37922,"user_id":1048340,"accept_rate":100,"display_name":"Jared Rummler"},"score":9,"creation_date":1423128322,"post_id":13375461,"comment_id":45025583,"body_markdown":"They need to add `canPigsFly()`. `while (!canPigsFly()) { /* code */ }`","body":"They need to add <code>canPigsFly()</code>. <code>while (!canPigsFly()) { &#47;* code *&#47; }</code>"},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":48,"creation_date":1424506065,"post_id":13375461,"comment_id":45585392,"body_markdown":"That&#39;s a [real app](https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator).","body":"That&#39;s a <a href=\"https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator\" rel=\"nofollow noreferrer\">real app</a>."},{"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"score":233,"creation_date":1430111505,"post_id":13375461,"comment_id":47899032,"body_markdown":"I feel bad for anyone who cheekily used this function, expecting it to return `false` forever.","body":"I feel bad for anyone who cheekily used this function, expecting it to return <code>false</code> forever."},{"owner":{"account_id":8252,"reputation":41559,"user_id":14768,"accept_rate":82,"display_name":"Joshua"},"score":1,"creation_date":1641788641,"post_id":13375461,"comment_id":124889565,"body_markdown":"@MartinKonecny: That would simply make the developer the goat.","body":"@MartinKonecny: That would simply make the developer the goat."}],"tags":[],"owner":{"account_id":1748119,"reputation":22240,"user_id":1597833,"accept_rate":76,"display_name":"meh"},"comment_count":12,"down_vote_count":5,"up_vote_count":1997,"is_accepted":true,"score":1992,"last_activity_date":1608224168,"creation_date":1352882430,"answer_id":13375461,"question_id":13375357,"body_markdown":"### Android R Update:\r\n\r\nFrom Android R, this method always returns false. Google says that this is done &quot;to protect goat privacy&quot;:\r\n\r\n    /**\r\n     * Used to determine whether the user making this call is subject to\r\n     * teleportations.\r\n     *\r\n     * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\r\n     * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\r\n     *\r\n     * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#R}, this method always returns\r\n     * {@code false} in order to protect goat privacy.&lt;/p&gt;\r\n     *\r\n     * @return Returns whether the user making this call is a goat.\r\n     */\r\n    public boolean isUserAGoat() {\r\n        if (mContext.getApplicationInfo().targetSdkVersion &gt;= Build.VERSION_CODES.R) {\r\n            return false;\r\n        }\r\n        return mContext.getPackageManager()\r\n                .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\r\n    }\r\n------\r\n### Previous answer:\r\n\r\nFrom their **[source][1]**, the method used to return `false` until it was changed in API 21.\r\n\r\n    /**\r\n     * Used to determine whether the user making this call is subject to\r\n     * teleportations.\r\n     * @return whether the user making this call is a goat \r\n     */\r\n    public boolean isUserAGoat() {\r\n        return false;\r\n    }\r\n\r\nIt looks like the method has no real use for us as developers. Someone has previously stated that it might be an **[Easter egg][2]**.\r\n\r\n\r\nIn API 21 the implementation was changed to check if there is an installed app with the package `com.coffeestainstudios.goatsimulator`\r\n\r\n    /**\r\n     * Used to determine whether the user making this call is subject to\r\n     * teleportations.\r\n     *\r\n     * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\r\n     * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\r\n     *\r\n     * @return Returns true if the user making this call is a goat.\r\n     */\r\n    public boolean isUserAGoat() {\r\n        return mContext.getPackageManager()\r\n                .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\r\n    }\r\n\r\nHere is the [source][3] and the [change][4].\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#433\r\n  [2]: http://en.wikipedia.org/wiki/Easter_egg_(media)\r\n  [3]: https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#442\r\n  [4]: https://android.googlesource.com/platform/frameworks/base/+/e4ab16ad98b183afbf7a21ad7314372de41a8b57%5E%21/#F1","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<h3>Android R Update:</h3>\n<p>From Android R, this method always returns false. Google says that this is done &quot;to protect goat privacy&quot;:</p>\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#R}, this method always returns\n * {@code false} in order to protect goat privacy.&lt;/p&gt;\n *\n * @return Returns whether the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    if (mContext.getApplicationInfo().targetSdkVersion &gt;= Build.VERSION_CODES.R) {\n        return false;\n    }\n    return mContext.getPackageManager()\n            .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\n}\n</code></pre>\n<hr />\n<h3>Previous answer:</h3>\n<p>From their <strong><a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#433\" rel=\"noreferrer\">source</a></strong>, the method used to return <code>false</code> until it was changed in API 21.</p>\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n * @return whether the user making this call is a goat \n */\npublic boolean isUserAGoat() {\n    return false;\n}\n</code></pre>\n<p>It looks like the method has no real use for us as developers. Someone has previously stated that it might be an <strong><a href=\"http://en.wikipedia.org/wiki/Easter_egg_(media)\" rel=\"noreferrer\">Easter egg</a></strong>.</p>\n<p>In API 21 the implementation was changed to check if there is an installed app with the package <code>com.coffeestainstudios.goatsimulator</code></p>\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\n}\n</code></pre>\n<p>Here is the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#442\" rel=\"noreferrer\">source</a> and the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/e4ab16ad98b183afbf7a21ad7314372de41a8b57%5E%21/#F1\" rel=\"noreferrer\">change</a>.</p>\n"},{"comments":[{"owner":{"account_id":496815,"reputation":27747,"user_id":1163019,"accept_rate":57,"display_name":"auselen"},"score":55,"creation_date":1352886449,"post_id":13375746,"comment_id":18265510,"body_markdown":"Windows XP + latest Chrome = it isn&#39;t there, on Ubuntu I see it.","body":"Windows XP + latest Chrome = it isn&#39;t there, on Ubuntu I see it."}],"tags":[],"owner":{"display_name":"user479870"},"comment_count":1,"down_vote_count":2,"up_vote_count":806,"is_accepted":false,"score":804,"last_activity_date":1352941607,"creation_date":1352883787,"answer_id":13375746,"question_id":13375357,"body_markdown":"This appears to be an inside joke at Google. It&#39;s also featured in the Google Chrome task manager. It has no purpose, other than some engineers finding it amusing. Which is a purpose by itself, if you will.\r\n\r\n1. In Chrome, open the Task Manager with &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Esc&lt;/kbd&gt;. \r\n2. Right click to add the  `Goats Teleported` column.\r\n3. Wonder.\r\n\r\nThere is even a huge Chromium bug report about [too many teleported goats][1].\r\n\r\n![chrome][2]  \r\n\r\nThe following Chromium [source code snippet][3] is stolen from the [HN][4] comments.\r\n\r\n\r\n    int TaskManagerModel::GetGoatsTeleported(int index) const {\r\n      int seed = goat_salt_ * (index + 1);\r\n      return (seed &gt;&gt; 16) &amp; 255;\r\n    }\r\n\r\n  [1]: http://code.google.com/p/chromium/issues/detail?id=31482\r\n  [2]: http://i.stack.imgur.com/1nwdC.png\r\n  [3]: http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\r\n  [4]: http://news.ycombinator.com/item?id=4782574","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>This appears to be an inside joke at Google. It's also featured in the Google Chrome task manager. It has no purpose, other than some engineers finding it amusing. Which is a purpose by itself, if you will.</p>\n\n<ol>\n<li>In Chrome, open the Task Manager with <kbd>Shift</kbd>+<kbd>Esc</kbd>. </li>\n<li>Right click to add the  <code>Goats Teleported</code> column.</li>\n<li>Wonder.</li>\n</ol>\n\n<p>There is even a huge Chromium bug report about <a href=\"http://code.google.com/p/chromium/issues/detail?id=31482\">too many teleported goats</a>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/1nwdC.png\" alt=\"chrome\">  </p>\n\n<p>The following Chromium <a href=\"http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\">source code snippet</a> is stolen from the <a href=\"http://news.ycombinator.com/item?id=4782574\">HN</a> comments.</p>\n\n<pre><code>int TaskManagerModel::GetGoatsTeleported(int index) const {\n  int seed = goat_salt_ * (index + 1);\n  return (seed &gt;&gt; 16) &amp; 255;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":2,"creation_date":1352905559,"post_id":13381101,"comment_id":18274173,"body_markdown":"My bad - those are warnings, however they often lead to actual compile errors if you are returning from a block that control flow is now forced down.","body":"My bad - those are warnings, however they often lead to actual compile errors if you are returning from a block that control flow is now forced down."},{"owner":{"account_id":140783,"reputation":8472,"user_id":347348,"accept_rate":78,"display_name":"Andy"},"score":3,"creation_date":1352916819,"post_id":13381101,"comment_id":18279795,"body_markdown":"Wouldn&#39;t compiler directive be a better use for conditions you want to compile out?","body":"Wouldn&#39;t compiler directive be a better use for conditions you want to compile out?"},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":12,"creation_date":1352924677,"post_id":13381101,"comment_id":18283561,"body_markdown":"@djechlin I do not know if this is android only, in standard java ` if(false){...}` compiles just fine (open jdk javac 1.6 and 1.7)","body":"@djechlin I do not know if this is android only, in standard java ` if(false){...}` compiles just fine (open jdk javac 1.6 and 1.7)"},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":3,"creation_date":1352924807,"post_id":13381101,"comment_id":18283615,"body_markdown":"@josefx - compiler warnings and can lead to errors if the branch the code is forced down has a `return` statement as this produces unreachable code.  This is a useful compiler error; e.g. if you forget `break;` statements in a switch and your `default` case throws an exception, you will get this error.","body":"@josefx - compiler warnings and can lead to errors if the branch the code is forced down has a <code>return</code> statement as this produces unreachable code.  This is a useful compiler error; e.g. if you forget <code>break;</code> statements in a switch and your <code>default</code> case throws an exception, you will get this error."},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":0,"creation_date":1352925380,"post_id":13381101,"comment_id":18283868,"body_markdown":"@djechlin sorry, I somehow failed to read your first sentence after seeing your (1==2) example - that if(false) is handled by the compiler is a downside in this case (and I should get some sleep to avoid more of these mistakes :-)).","body":"@djechlin sorry, I somehow failed to read your first sentence after seeing your (1==2) example - that if(false) is handled by the compiler is a downside in this case (and I should get some sleep to avoid more of these mistakes :-))."},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":11,"creation_date":1352944898,"post_id":13381101,"comment_id":18290052,"body_markdown":"@PeterOlson - if you are specifically trying to test a code branch where an if goes false or true, this is the most precise and obvious way to simulate that - commenting out the block could be less accurate if you don&#39;t match to the proper end of the block (perhaps you didn&#39;t notice a discreet if/else block immediately following), it will lead to a compile error if you&#39;re forcing to the following `else` block, etc.","body":"@PeterOlson - if you are specifically trying to test a code branch where an if goes false or true, this is the most precise and obvious way to simulate that - commenting out the block could be less accurate if you don&#39;t match to the proper end of the block (perhaps you didn&#39;t notice a discreet if/else block immediately following), it will lead to a compile error if you&#39;re forcing to the following <code>else</code> block, etc."},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":3,"creation_date":1381333384,"post_id":13381101,"comment_id":28540524,"body_markdown":"@Vadzim nope, compiler will detect that always evaluates to true.","body":"@Vadzim nope, compiler will detect that always evaluates to true."},{"owner":{"account_id":197086,"reputation":8475,"user_id":440921,"accept_rate":83,"display_name":"Mark Whitaker"},"score":201,"creation_date":1415190596,"post_id":13381101,"comment_id":42096314,"body_markdown":"**&quot;provided the implementation doesn&#39;t change&quot;** - and there&#39;s the problem. This is a disastrous way to implement a warning-free &quot;if (false)&quot; because the implementation can and does change. See my answer to this question: as of API21 `isUserAGoat()` returns true if a user has a specific app installed. Good luck diagnosing that when your code suddenly starts behaving oddly on &quot;random&quot; devices!","body":"<b>&quot;provided the implementation doesn&#39;t change&quot;</b> - and there&#39;s the problem. This is a disastrous way to implement a warning-free &quot;if (false)&quot; because the implementation can and does change. See my answer to this question: as of API21 <code>isUserAGoat()</code> returns true if a user has a specific app installed. Good luck diagnosing that when your code suddenly starts behaving oddly on &quot;random&quot; devices!"},{"owner":{"account_id":51162,"reputation":9973,"user_id":152796,"accept_rate":77,"display_name":"thedayturns"},"score":22,"creation_date":1455760318,"post_id":13381101,"comment_id":58638067,"body_markdown":"@MarkWhitaker Or if goats start using devices.","body":"@MarkWhitaker Or if goats start using devices."},{"owner":{"account_id":2178072,"reputation":469,"user_id":1928271,"accept_rate":60,"display_name":"Szymon Drosdzol"},"score":19,"creation_date":1456751790,"post_id":13381101,"comment_id":59077314,"body_markdown":"@thedayturns If goats start using Android devices this will be the least of our problems.","body":"@thedayturns If goats start using Android devices this will be the least of our problems."},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1682461738,"post_id":13381101,"comment_id":134219082,"body_markdown":"```if(!false)``` works for me ;-)","body":"<code>if(!false)</code> works for me ;-)"}],"tags":[],"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"comment_count":11,"down_vote_count":21,"up_vote_count":1060,"is_accepted":false,"score":1039,"last_activity_date":1518470024,"creation_date":1352904449,"answer_id":13381101,"question_id":13375357,"body_markdown":"I don&#39;t know if this was &quot;the&quot; official use case, but the following produces a warning in Java (that can further produce compile errors if mixed with `return` statements, leading to unreachable code):\r\n\r\n    while (1 == 2) { // Note that &quot;if&quot; is treated differently\r\n        System.out.println(&quot;Unreachable code&quot;);\r\n    }\r\n\r\nHowever this is legal:\r\n\r\n    while (isUserAGoat()) {\r\n        System.out.println(&quot;Unreachable but determined at runtime, not at compile time&quot;);\r\n    }\r\n\r\nSo I often find myself writing a silly utility method for the quickest way to dummy out a code block, then in completing debugging find all calls to it, so provided the implementation doesn&#39;t change this can be used for that.\r\n\r\n[JLS](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21) points out `if (false)` does not trigger &quot;unreachable code&quot; for the specific reason that this would break support for debug flags, i.e., basically this use case (h/t @auselen). (`static final boolean DEBUG = false;` for instance).\r\n\r\nI replaced `while` for `if`, producing a more obscure use case. I *believe* you can trip up your IDE, like Eclipse, with this behavior, but this edit is 4 years into the future, and I don&#39;t have an Eclipse environment to play with.\r\n\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>I don't know if this was \"the\" official use case, but the following produces a warning in Java (that can further produce compile errors if mixed with <code>return</code> statements, leading to unreachable code):</p>\n\n<pre><code>while (1 == 2) { // Note that \"if\" is treated differently\n    System.out.println(\"Unreachable code\");\n}\n</code></pre>\n\n<p>However this is legal:</p>\n\n<pre><code>while (isUserAGoat()) {\n    System.out.println(\"Unreachable but determined at runtime, not at compile time\");\n}\n</code></pre>\n\n<p>So I often find myself writing a silly utility method for the quickest way to dummy out a code block, then in completing debugging find all calls to it, so provided the implementation doesn't change this can be used for that.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21\" rel=\"noreferrer\">JLS</a> points out <code>if (false)</code> does not trigger \"unreachable code\" for the specific reason that this would break support for debug flags, i.e., basically this use case (h/t @auselen). (<code>static final boolean DEBUG = false;</code> for instance).</p>\n\n<p>I replaced <code>while</code> for <code>if</code>, producing a more obscure use case. I <em>believe</em> you can trip up your IDE, like Eclipse, with this behavior, but this edit is 4 years into the future, and I don't have an Eclipse environment to play with.</p>\n"},{"comments":[{"owner":{"account_id":1601433,"reputation":1729,"user_id":1482388,"accept_rate":76,"display_name":"Angelo.Hannes"},"score":12,"creation_date":1352968243,"post_id":13383962,"comment_id":18295353,"body_markdown":"&quot;There&#39;s a funny named method/constant/whatever in each version of Android.&quot; Could you name some?","body":"&quot;There&#39;s a funny named method/constant/whatever in each version of Android.&quot; Could you name some?"},{"owner":{"account_id":313680,"reputation":7227,"user_id":628447,"accept_rate":92,"display_name":"Aracem"},"score":50,"creation_date":1352976111,"post_id":13383962,"comment_id":18298551,"body_markdown":"For example, there are a nivel of log called Log.wtf that they call What a Terrible Failure :P","body":"For example, there are a nivel of log called Log.wtf that they call What a Terrible Failure :P"},{"owner":{"account_id":11645,"reputation":5897,"user_id":22545,"display_name":"Gerry Coll"},"score":8,"creation_date":1352976764,"post_id":13383962,"comment_id":18298874,"body_markdown":"A bit like Delphi&#39;s EProgrammerNotFound? http://stackoverflow.com/questions/2084120/eprogrammernotfound-exception-in-delphi","body":"A bit like Delphi&#39;s EProgrammerNotFound? <a href=\"http://stackoverflow.com/questions/2084120/eprogrammernotfound-exception-in-delphi\" title=\"eprogrammernotfound exception in delphi\">stackoverflow.com/questions/2084120/&hellip;</a>"},{"owner":{"account_id":88398,"reputation":6387,"user_id":244521,"accept_rate":75,"display_name":"Lance Nanek"},"score":12,"creation_date":1352988665,"post_id":13383962,"comment_id":18304344,"body_markdown":"HoneyComb is AdapterViewAnimator#fyiWillBeAdvancedByHostKThx()","body":"HoneyComb is AdapterViewAnimator#fyiWillBeAdvancedByHostKThx()"},{"owner":{"account_id":75493,"reputation":33415,"user_id":216517,"accept_rate":76,"display_name":"st0le"},"score":19,"creation_date":1352991491,"post_id":13383962,"comment_id":18305932,"body_markdown":"@Angelo.Hannes, In the Sensor Constants for Gravity there&#39;s one for Death Star (Star Wars)","body":"@Angelo.Hannes, In the Sensor Constants for Gravity there&#39;s one for Death Star (Star Wars)"},{"owner":{"account_id":40319,"reputation":402,"user_id":116853,"display_name":"peejaybee"},"score":5,"creation_date":1362493436,"post_id":13383962,"comment_id":21463504,"body_markdown":"In 1.5 there was a &quot;Tricorder&quot; sensor type.","body":"In 1.5 there was a &quot;Tricorder&quot; sensor type."},{"owner":{"account_id":5178656,"reputation":422,"user_id":4144974,"display_name":"Emil S."},"score":3,"creation_date":1542300164,"post_id":13383962,"comment_id":93528712,"body_markdown":"@Aracem That one is actually useful and not so much an easter egg. I&#39;ve used that one quite a lot for errors that break functionality but shouldn&#39;t happen (i.e. for if Exceptions get thrown that I prevent with a previous check). It is a far better solution than just ignoring the error.","body":"@Aracem That one is actually useful and not so much an easter egg. I&#39;ve used that one quite a lot for errors that break functionality but shouldn&#39;t happen (i.e. for if Exceptions get thrown that I prevent with a previous check). It is a far better solution than just ignoring the error."}],"tags":[],"owner":{"account_id":88398,"reputation":6387,"user_id":244521,"accept_rate":75,"display_name":"Lance Nanek"},"comment_count":7,"down_vote_count":0,"up_vote_count":164,"is_accepted":false,"score":164,"last_activity_date":1355107585,"creation_date":1352913964,"answer_id":13383962,"question_id":13375357,"body_markdown":"There&#39;s a funny named method/constant/whatever in each version of Android. \r\n\r\nThe only practical use I ever saw was in the Last Call for [Google I/O][1] Contest where they asked what it was for a particular version, to see if contestants read the API diff report for each release. The contest had programming problems too, but generally some trivia that could be graded automatically first to get the number of submissions down to reasonable amounts that would be easier to check.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Google_I/O\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>There's a funny named method/constant/whatever in each version of Android. </p>\n\n<p>The only practical use I ever saw was in the Last Call for <a href=\"http://en.wikipedia.org/wiki/Google_I/O\">Google I/O</a> Contest where they asked what it was for a particular version, to see if contestants read the API diff report for each release. The contest had programming problems too, but generally some trivia that could be graded automatically first to get the number of submissions down to reasonable amounts that would be easier to check.</p>\n"},{"comments":[{"owner":{"account_id":90694,"reputation":31596,"user_id":249538,"accept_rate":91,"display_name":"goat"},"score":9,"creation_date":1410928192,"post_id":13395669,"comment_id":40505613,"body_markdown":"ibm is also rumored to have goat references throughout various internal software.","body":"ibm is also rumored to have goat references throughout various internal software."}],"tags":[],"owner":{"account_id":236661,"reputation":4048,"user_id":504299,"accept_rate":83,"display_name":"rickyduck"},"comment_count":1,"down_vote_count":1,"up_vote_count":136,"is_accepted":false,"score":135,"last_activity_date":1461238707,"creation_date":1352975623,"answer_id":13395669,"question_id":13375357,"body_markdown":"Google has a serious liking for goats and goat based [Easter eggs][1]. There has even been [previous Stack&amp;nbsp;Overflow posts about it][2]. \r\n\r\nAs has been mentioned in previous posts, it also exists within the Chrome task manager ([it first appeared in the wild in 2009][3]):\r\n\r\n    &lt;message name=&quot;IDS_TASK_MANAGER_GOATS_TELEPORTED_COLUMN&quot; desc=&quot;The goats teleported column&quot;&gt;\r\n        Goats Teleported\r\n    &lt;/message&gt;\r\n\r\n[And then in Windows, Linux and Mac versions of Chrome early 2010][4]). The number of &quot;Goats Teleported&quot; is in fact [random][5]:\r\n\r\n     int TaskManagerModel::GetGoatsTeleported(int index) const {\r\n         int seed = goat_salt_ * (index + 1);\r\n         return (seed &gt;&gt; 16) &amp; 255;\r\n     }\r\n\r\nOther Google references to goats include:\r\n\r\n- [Mowing with goats][6]\r\n- [The goats are baaaahk][7]\r\n\r\nThe earliest correlation of goats and Google belongs in the original &quot;Mowing with goats&quot; blog post, as far as I can tell.\r\n\r\nWe can safely assume that it&#39;s merely an Easter egg and has no real-world use, except for returning `false`.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Easter_egg_%28media%29#Software\r\n  [2]: https://stackoverflow.com/questions/3350892/graph-goat-teleportation-data-with-google-vis-api-via-chrome-extension\r\n  [3]: http://src.chromium.org/viewvc/chrome/trunk/src/chrome/app/generated_resources.grd?r1=27169&amp;r2=27216\r\n  [4]: http://techie-buzz.com/featured/google-chrome-goats-teleported-easter-egg.html\r\n  [5]: http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\r\n  [6]: http://googleblog.blogspot.co.uk/2009/05/mowing-with-goats.html\r\n  [7]: http://googleblog.blogspot.co.uk/2010/04/goats-are-baaaahk.html\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>Google has a serious liking for goats and goat based <a href=\"http://en.wikipedia.org/wiki/Easter_egg_%28media%29#Software\" rel=\"noreferrer\">Easter eggs</a>. There has even been <a href=\"https://stackoverflow.com/questions/3350892/graph-goat-teleportation-data-with-google-vis-api-via-chrome-extension\">previous Stack&nbsp;Overflow posts about it</a>. </p>\n\n<p>As has been mentioned in previous posts, it also exists within the Chrome task manager (<a href=\"http://src.chromium.org/viewvc/chrome/trunk/src/chrome/app/generated_resources.grd?r1=27169&amp;r2=27216\" rel=\"noreferrer\">it first appeared in the wild in 2009</a>):</p>\n\n<pre><code>&lt;message name=\"IDS_TASK_MANAGER_GOATS_TELEPORTED_COLUMN\" desc=\"The goats teleported column\"&gt;\n    Goats Teleported\n&lt;/message&gt;\n</code></pre>\n\n<p><a href=\"http://techie-buzz.com/featured/google-chrome-goats-teleported-easter-egg.html\" rel=\"noreferrer\">And then in Windows, Linux and Mac versions of Chrome early 2010</a>). The number of \"Goats Teleported\" is in fact <a href=\"http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\" rel=\"noreferrer\">random</a>:</p>\n\n<pre><code> int TaskManagerModel::GetGoatsTeleported(int index) const {\n     int seed = goat_salt_ * (index + 1);\n     return (seed &gt;&gt; 16) &amp; 255;\n }\n</code></pre>\n\n<p>Other Google references to goats include:</p>\n\n<ul>\n<li><a href=\"http://googleblog.blogspot.co.uk/2009/05/mowing-with-goats.html\" rel=\"noreferrer\">Mowing with goats</a></li>\n<li><a href=\"http://googleblog.blogspot.co.uk/2010/04/goats-are-baaaahk.html\" rel=\"noreferrer\">The goats are baaaahk</a></li>\n</ul>\n\n<p>The earliest correlation of goats and Google belongs in the original \"Mowing with goats\" blog post, as far as I can tell.</p>\n\n<p>We can safely assume that it's merely an Easter egg and has no real-world use, except for returning <code>false</code>.</p>\n"},{"comments":[{"owner":{"account_id":1011679,"reputation":674,"user_id":1024129,"accept_rate":83,"display_name":"CtrlF"},"score":4,"creation_date":1390896988,"post_id":13424726,"comment_id":32279530,"body_markdown":"My assumption with this one is it allows the `ActivityManager` to report if it has been invoked by the `monkey` ui stress testing tool, but i have never confirmed this.","body":"My assumption with this one is it allows the <code>ActivityManager</code> to report if it has been invoked by the <code>monkey</code> ui stress testing tool, but i have never confirmed this."}],"tags":[],"owner":{"account_id":1164918,"reputation":3515,"user_id":1143639,"accept_rate":89,"display_name":"KDEx"},"comment_count":1,"down_vote_count":1,"up_vote_count":117,"is_accepted":false,"score":116,"last_activity_date":1456064714,"creation_date":1353101623,"answer_id":13424726,"question_id":13375357,"body_markdown":"There is a similar call, `isUserAMonkey()`, that returns true if the [MonkeyRunner tool][1] is being used. The SDK explanation is just as curious as this one. \r\n\r\n&gt;     public static boolean isUserAMonkey(){}     \r\n&gt; Returns `true` if the user interface is currently being messed with by a monkey.\r\n\r\n[Here][2] is the source. \r\n\r\nI expect that this was added in anticipation of a new [SDK][3] tool named something with a goat and will *actually* be functional to test for the presence of that tool.  \r\n\r\nAlso see a similar question, **[Strange function in ActivityManager: isUserAMonkey. What does this mean, what is its use?][4]**.\r\n\r\n  [1]: http://developer.android.com/tools/help/monkeyrunner_concepts.html\r\n  [2]: http://developer.android.com/reference/android/app/ActivityManager.html\r\n  [3]: http://en.wikipedia.org/wiki/Software_development_kit\r\n  [4]: https://stackoverflow.com/questions/7792123/strange-function-in-activitymanager-isuseramonkey-what-does-this-mean-what-i\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>There is a similar call, <code>isUserAMonkey()</code>, that returns true if the <a href=\"http://developer.android.com/tools/help/monkeyrunner_concepts.html\" rel=\"noreferrer\">MonkeyRunner tool</a> is being used. The SDK explanation is just as curious as this one. </p>\n\n<blockquote>\n<pre><code>public static boolean isUserAMonkey(){}     \n</code></pre>\n  \n  <p>Returns <code>true</code> if the user interface is currently being messed with by a monkey.</p>\n</blockquote>\n\n<p><a href=\"http://developer.android.com/reference/android/app/ActivityManager.html\" rel=\"noreferrer\">Here</a> is the source. </p>\n\n<p>I expect that this was added in anticipation of a new <a href=\"http://en.wikipedia.org/wiki/Software_development_kit\" rel=\"noreferrer\">SDK</a> tool named something with a goat and will <em>actually</em> be functional to test for the presence of that tool.  </p>\n\n<p>Also see a similar question, <strong><a href=\"https://stackoverflow.com/questions/7792123/strange-function-in-activitymanager-isuseramonkey-what-does-this-mean-what-i\">Strange function in ActivityManager: isUserAMonkey. What does this mean, what is its use?</a></strong>.</p>\n"},{"comments":[{"owner":{"account_id":181548,"reputation":3476,"user_id":415625,"display_name":"Tomasz"},"score":15,"creation_date":1367353017,"post_id":13498177,"comment_id":23349740,"body_markdown":"If you are writing &quot;dummy&quot; code just to quickly test something, what is the problem with an Eclipse warning?? I think this is actually great as you can find it in case you&#39;ve forgotten","body":"If you are writing &quot;dummy&quot; code just to quickly test something, what is the problem with an Eclipse warning?? I think this is actually great as you can find it in case you&#39;ve forgotten"},{"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"score":25,"creation_date":1368051519,"post_id":13498177,"comment_id":23598472,"body_markdown":"@Tomasz the problem is that, in Eclipse, the warning mark clutters the breakpoint, and you have to open the breakpoint view to either deactivate or remove it","body":"@Tomasz the problem is that, in Eclipse, the warning mark clutters the breakpoint, and you have to open the breakpoint view to either deactivate or remove it"},{"owner":{"account_id":181548,"reputation":3476,"user_id":415625,"display_name":"Tomasz"},"score":4,"creation_date":1368063638,"post_id":13498177,"comment_id":23601641,"body_markdown":"Yeah, I have a solution for that. You can right click on the warning symbol and select &quot;Toggle Breakpoint&quot;. If the following line/option is enabled it means the breakpoint is created. My point was, dummy code is bad and it should be a warning so yo don&#39;t forget ;)","body":"Yeah, I have a solution for that. You can right click on the warning symbol and select &quot;Toggle Breakpoint&quot;. If the following line/option is enabled it means the breakpoint is created. My point was, dummy code is bad and it should be a warning so yo don&#39;t forget ;)"},{"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"score":10,"creation_date":1368715903,"post_id":13498177,"comment_id":23844506,"body_markdown":"@Tomasz The problem with that solution is that you have know beforehand where the breakpoint is, so a simple visual inspection won&#39;t let you know that the warning hides a breakpoint, an even better solution though, is to use conditional breakpoints, with them you can forget about dummy code (and convention methods) altogether, but those differ between IDE&#39;s and can&#39;t be automatically shared among workstations","body":"@Tomasz The problem with that solution is that you have know beforehand where the breakpoint is, so a simple visual inspection won&#39;t let you know that the warning hides a breakpoint, an even better solution though, is to use conditional breakpoints, with them you can forget about dummy code (and convention methods) altogether, but those differ between IDE&#39;s and can&#39;t be automatically shared among workstations"}],"tags":[],"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"comment_count":4,"down_vote_count":4,"up_vote_count":315,"is_accepted":false,"score":311,"last_activity_date":1353927350,"creation_date":1353516912,"answer_id":13498177,"question_id":13375357,"body_markdown":"Complementing the @djechlin [answer][1] (good answer by the way!), this function call could be **also** used as dummy code to hold a breakpoint in an IDE when you want to stop in some specific iteration or a particular recursive call, for example:\r\n\r\n![enter image description here][2]\r\n\r\n\r\n`isUserAGoat()` could be used instead of a dummy variable declaration that will be shown in the IDE as a warning and, in Eclipse particular case, will clog the breakpoint mark, making it difficult to enable/disable it. If the method is used as a convention, all the invocations could be later filtered by some script (during commit phase maybe?).\r\n\r\n![enter image description here][3]\r\n\r\n\r\nGoogle guys are heavy Eclipse users (they provide several of their projects as Eclipse plugins: Android SDK, GAE, etc), so the @djechlin answer and this complementary answer make a lot of sense (at least for me).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13381101/956397\r\n  [2]: http://i.stack.imgur.com/mW1Lf.png\r\n  [3]: http://i.stack.imgur.com/MFIBa.png","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>Complementing the @djechlin <a href=\"https://stackoverflow.com/a/13381101/956397\">answer</a> (good answer by the way!), this function call could be <strong>also</strong> used as dummy code to hold a breakpoint in an IDE when you want to stop in some specific iteration or a particular recursive call, for example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/mW1Lf.png\" alt=\"enter image description here\"></p>\n\n<p><code>isUserAGoat()</code> could be used instead of a dummy variable declaration that will be shown in the IDE as a warning and, in Eclipse particular case, will clog the breakpoint mark, making it difficult to enable/disable it. If the method is used as a convention, all the invocations could be later filtered by some script (during commit phase maybe?).</p>\n\n<p><img src=\"https://i.stack.imgur.com/MFIBa.png\" alt=\"enter image description here\"></p>\n\n<p>Google guys are heavy Eclipse users (they provide several of their projects as Eclipse plugins: Android SDK, GAE, etc), so the @djechlin answer and this complementary answer make a lot of sense (at least for me).</p>\n"},{"tags":[],"owner":{"account_id":297370,"reputation":3213,"user_id":602856,"accept_rate":40,"display_name":"rainer198"},"comment_count":0,"down_vote_count":1,"up_vote_count":159,"is_accepted":false,"score":158,"last_activity_date":1518470195,"creation_date":1369992824,"answer_id":16854187,"question_id":13375357,"body_markdown":"In the discipline of speech recognition, users are divided into _goats_ and _sheeps_. \r\n\r\nFor instance, here **[on page 89][1]**:\r\n\r\n&gt; Sheeps are people for whom speech recognition works exceptionally well, and goats are people for whom it works exceptionally poorly. Only the voice recognizer knows what separates them. People can&#39;t predict whose voice will be recognized easily and whose won&#39;t. The best policy is to design the interface so it can handle all kinds of voices in all kinds of environments\r\n\r\nMaybe, it is planned to mark Android users as goats in the future to be able to configure the speech recognition engine for goats&#39; needs. ;-)\r\n\r\n  [1]: http://books.google.de/books?id=QWJ7KVMQk0cC&amp;lpg=PR1&amp;dq=voice%20enabling%20web&amp;hl=de&amp;pg=PA89#v=onepage&amp;q=voice%20enabling%20web&amp;f=false\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>In the discipline of speech recognition, users are divided into <em>goats</em> and <em>sheeps</em>. </p>\n\n<p>For instance, here <strong><a href=\"http://books.google.de/books?id=QWJ7KVMQk0cC&amp;lpg=PR1&amp;dq=voice%20enabling%20web&amp;hl=de&amp;pg=PA89#v=onepage&amp;q=voice%20enabling%20web&amp;f=false\" rel=\"noreferrer\">on page 89</a></strong>:</p>\n\n<blockquote>\n  <p>Sheeps are people for whom speech recognition works exceptionally well, and goats are people for whom it works exceptionally poorly. Only the voice recognizer knows what separates them. People can't predict whose voice will be recognized easily and whose won't. The best policy is to design the interface so it can handle all kinds of voices in all kinds of environments</p>\n</blockquote>\n\n<p>Maybe, it is planned to mark Android users as goats in the future to be able to configure the speech recognition engine for goats' needs. ;-)</p>\n"},{"tags":[],"owner":{"account_id":3094126,"reputation":2835,"user_id":2619679,"accept_rate":53,"display_name":"j.c"},"comment_count":0,"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1461238728,"creation_date":1391682913,"answer_id":21600378,"question_id":13375357,"body_markdown":"Funny Easter Egg.&lt;br/&gt; \r\nIn Ubuntu version of Chrome, in Task Manager (&lt;kbd&gt;shift&lt;/kbd&gt;+&lt;kbd&gt;esc&lt;/kbd&gt;), with right-click you can add a sci-fi column that in italian version is &quot;Capre Teletrasportate&quot; (Teleported Goats).\r\n\r\nA funny theory about it is [here][1].\r\n\r\n\r\n  [1]: http://news.softpedia.com/news/Chrome-s-quot-Goats-Teleported-quot-Easter-Egg-Hints-at-a-Wonderful-Future-323197.shtml","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>Funny Easter Egg.<br/> \nIn Ubuntu version of Chrome, in Task Manager (<kbd>shift</kbd>+<kbd>esc</kbd>), with right-click you can add a sci-fi column that in italian version is \"Capre Teletrasportate\" (Teleported Goats).</p>\n\n<p>A funny theory about it is <a href=\"http://news.softpedia.com/news/Chrome-s-quot-Goats-Teleported-quot-Easter-Egg-Hints-at-a-Wonderful-Future-323197.shtml\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":23,"creation_date":1415203019,"post_id":26462960,"comment_id":42104292,"body_markdown":"Why would anyone ever put any kind of `if(false)` in production? Come on here. If that&#39;s what your code looks like then this implementation changing is the *least* of your problems.","body":"Why would anyone ever put any kind of <code>if(false)</code> in production? Come on here. If that&#39;s what your code looks like then this implementation changing is the <i>least</i> of your problems."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":2,"creation_date":1601048237,"post_id":26462960,"comment_id":113292495,"body_markdown":"@djechlin &quot;do we need this feature? *changes to if(false)*, *tests feature* nope. *checks in*&quot;","body":"@djechlin &quot;do we need this feature? <i>changes to if(false)</i>, <i>tests feature</i> nope. <i>checks in</i>&quot;"}],"tags":[],"owner":{"account_id":197086,"reputation":8475,"user_id":440921,"accept_rate":83,"display_name":"Mark Whitaker"},"comment_count":2,"down_vote_count":0,"up_vote_count":143,"is_accepted":false,"score":143,"last_activity_date":1505903407,"creation_date":1413799229,"answer_id":26462960,"question_id":13375357,"body_markdown":"[As of API 21 (the first Android 5.0/Lollipop SDK)](https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r1/core/java/android/os/UserManager.java#433), this detects whether the [Goat Simulator][1] app is installed:\r\n\r\n    /**\r\n     * Used to determine whether the user making this call is subject to\r\n     * teleportations.\r\n     *\r\n     * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\r\n     * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\r\n     *\r\n     * @return Returns true if the user making this call is a goat.\r\n     */\r\n    public boolean isUserAGoat() {\r\n        return mContext.getPackageManager()\r\n                .isPackageAvailable(&quot;com.coffeestainstudios.goatsimulator&quot;);\r\n    }\r\n\r\nThis should make it clear that [djechlin&#39;s suggestion][2] of using it as a warning-free `if (false)` is a potentially disastrous strategy. What previously returned `false` for every device now returns a seemingly random value: if this was buried deep enough in your code it could take a *long* time to figure out where your new bugs are coming from.\r\n\r\nBottom line: if you don&#39;t control the implementation of a method and decide to use it for purposes other than stated in the API documentation, you&#39;re heading for trouble.\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator&amp;hl=en\r\n  [2]: https://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13381101#13381101","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p><a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r1/core/java/android/os/UserManager.java#433\" rel=\"noreferrer\">As of API 21 (the first Android 5.0/Lollipop SDK)</a>, this detects whether the <a href=\"https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator&amp;hl=en\" rel=\"noreferrer\">Goat Simulator</a> app is installed:</p>\n\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(\"com.coffeestainstudios.goatsimulator\");\n}\n</code></pre>\n\n<p>This should make it clear that <a href=\"https://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13381101#13381101\">djechlin's suggestion</a> of using it as a warning-free <code>if (false)</code> is a potentially disastrous strategy. What previously returned <code>false</code> for every device now returns a seemingly random value: if this was buried deep enough in your code it could take a <em>long</em> time to figure out where your new bugs are coming from.</p>\n\n<p>Bottom line: if you don't control the implementation of a method and decide to use it for purposes other than stated in the API documentation, you're heading for trouble.</p>\n"},{"comments":[{"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"score":18,"creation_date":1559650032,"post_id":53354608,"comment_id":99480554,"body_markdown":"The method was created before the goat simulator. Although it checks if the app is installed now, it didn&#39;t do anything before. And it&#39;s a joke anyway.","body":"The method was created before the goat simulator. Although it checks if the app is installed now, it didn&#39;t do anything before. And it&#39;s a joke anyway."},{"owner":{"account_id":232352,"reputation":16522,"user_id":497132,"accept_rate":75,"display_name":"artem"},"score":2,"creation_date":1597693305,"post_id":53354608,"comment_id":112211884,"body_markdown":"Google Chrome&#39;s tab monitor had an easter egg column &#171;goats teleported&#187; (and `isUserAGoat` docs refers to goats teleportation too. So it&#39;s definitely an internal joke.","body":"Google Chrome&#39;s tab monitor had an easter egg column &#171;goats teleported&#187; (and <code>isUserAGoat</code> docs refers to goats teleportation too. So it&#39;s definitely an internal joke."}],"tags":[],"owner":{"account_id":8115232,"reputation":588,"user_id":6116090,"display_name":"Empire of E"},"comment_count":2,"down_vote_count":10,"up_vote_count":19,"is_accepted":false,"score":9,"last_activity_date":1575456561,"creation_date":1542481902,"answer_id":53354608,"question_id":13375357,"body_markdown":"**It&#39;s not an inside joke**\r\n\r\nApparently it&#39;s just an application checker for\r\n[Goat Simulator - by Coffee Stain Studios][1]\r\n\r\nIf you have Goat Simulator installed, you&#39;re a goat.\r\nIf you don&#39;t have it installed, you&#39;re not a goat.\r\n\r\nI imagine it was more of a personal experiment by one of the developers, most likely to find people with a common interest.\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p><strong>It's not an inside joke</strong></p>\n\n<p>Apparently it's just an application checker for\n<a href=\"https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator\" rel=\"noreferrer\">Goat Simulator - by Coffee Stain Studios</a></p>\n\n<p>If you have Goat Simulator installed, you're a goat.\nIf you don't have it installed, you're not a goat.</p>\n\n<p>I imagine it was more of a personal experiment by one of the developers, most likely to find people with a common interest.</p>\n"},{"tags":[],"owner":{"account_id":19033212,"reputation":301,"user_id":13894858,"display_name":"Nobody Tells The Truth"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1652137541,"creation_date":1652137541,"answer_id":72179060,"question_id":13375357,"body_markdown":"It&#39;s important from a usability and accessibility angle to know whether or not your user is a Goat.\r\n\r\nGoats actually have very different needs from their software if they are going to truly benefit from all the information age has to offer.\r\n\r\nI think it wonderful that some kind developer was concerned about ALL of us users, not just the fashionable ones.\r\n","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>It's important from a usability and accessibility angle to know whether or not your user is a Goat.</p>\n<p>Goats actually have very different needs from their software if they are going to truly benefit from all the information age has to offer.</p>\n<p>I think it wonderful that some kind developer was concerned about ALL of us users, not just the fashionable ones.</p>\n"}],"owner":{"account_id":259304,"reputation":71887,"user_id":542091,"accept_rate":92,"display_name":"Ovidiu Latcu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364378,"favorite_count":0,"down_vote_count":20,"up_vote_count":4030,"accepted_answer_id":13375461,"answer_count":12,"score":4010,"last_activity_date":1695634584,"creation_date":1352882041,"question_id":13375357,"body_markdown":"I was looking at the new APIs introduced in [Android 4.2][1].\r\nWhile looking at the [`UserManager`][2] class I came across the following method:\r\n\r\n&gt;     public boolean isUserAGoat()\r\n&gt; \r\n&gt; Used to determine whether the user making this call is subject to teleportations.\r\n&gt; \r\n&gt; Returns whether the user making this call is a goat.\r\n\r\nHow and when should this be used?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Android_version_history#Android_4.1.2F4.2_Jelly_Bean\r\n  [2]: http://developer.android.com/reference/android/os/UserManager.html","title":"Proper use cases for Android UserManager.isUserAGoat()?","body":"<p>I was looking at the new APIs introduced in <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_4.1.2F4.2_Jelly_Bean\" rel=\"noreferrer\">Android 4.2</a>.\nWhile looking at the <a href=\"http://developer.android.com/reference/android/os/UserManager.html\" rel=\"noreferrer\"><code>UserManager</code></a> class I came across the following method:</p>\n\n<blockquote>\n<pre><code>public boolean isUserAGoat()\n</code></pre>\n  \n  <p>Used to determine whether the user making this call is subject to teleportations.</p>\n  \n  <p>Returns whether the user making this call is a goat.</p>\n</blockquote>\n\n<p>How and when should this be used?</p>\n"},{"tags":["java","rest","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":29293095,"reputation":840,"user_id":22443070,"display_name":"xPetersue"},"score":0,"creation_date":1695229228,"post_id":77134100,"comment_id":135997696,"body_markdown":"Could you please share the complete errors in code format? It would make it easier for others to help you with your question.","body":"Could you please share the complete errors in code format? It would make it easier for others to help you with your question."}],"owner":{"account_id":9379654,"reputation":1,"user_id":8189472,"display_name":"Gaurav Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695634501,"creation_date":1695122565,"question_id":77134100,"body_markdown":"I am running a performance test on some of my api&#39;s which runs 25 threads in parallel for 300 secs. \r\n\r\nWith HttpClient 4.x the average response time ~300ms\r\nWith all resources and environment same and HttpClient 5.X the average response time ~900ms\r\n\r\nI took a threadDump and Observed that with HttpClient 4.x i see all 25 threads in Runnable state at a time,\r\nbut the same threadDump of HttpClient 5.x shows ~10 threads in Runnable state and rest ~15 in TIMED_WAIT state :\r\n\r\n```\r\nhttp-nio-8087-exec-3&quot; #30 daemon prio=5 os_prio=0 cpu=687.50ms elapsed=250.17s tid=0x00000276c0ccced0 nid=0x57ec in Object.wait()  [0x000000db766f8000]\r\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\r\nat java.lang.Object.wait(java.base@17.0.5/Native Method)\r\nwaiting on &lt;no object reference available&gt;\r\nat org.apache.hc.core5.concurrent.BasicFuture.get(BasicFuture.java:101)\r\nlocked &lt;0x000000060ed18060&gt; (a org.apache.hc.core5.pool.StrictConnPool$1)\r\nat org.apache.hc.core5.pool.StrictConnPool$1.get(StrictConnPool.java:184)\r\nlocked &lt;0x000000060ed18060&gt; (a org.apache.hc.core5.pool.StrictConnPool$1)\r\nat org.apache.hc.core5.pool.StrictConnPool$1.get(StrictConnPool.java:178)\r\nat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$3.get(PoolingHttpClientConnectionManager.java:312)\r\nlocked &lt;0x000000060ed180f0&gt; (a org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$3) at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:109) at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n```\r\n  \r\nMy Questions:\r\n1. With all resources and environment same with 25 parallel threads why with HttpClient 4.x are Runnable\r\nand with HttpClient 5.x show only ~10 odd runnable and rest in TIME_WAIT state.\r\n2. Though i did not initialized a async requests why i see a BasicFuture in the TIMED_WAIT thread in httpClient 5 stack trace?","title":"Observing increased latency in api response after migration to httpClient 5","body":"<p>I am running a performance test on some of my api's which runs 25 threads in parallel for 300 secs.</p>\n<p>With HttpClient 4.x the average response time ~300ms\nWith all resources and environment same and HttpClient 5.X the average response time ~900ms</p>\n<p>I took a threadDump and Observed that with HttpClient 4.x i see all 25 threads in Runnable state at a time,\nbut the same threadDump of HttpClient 5.x shows ~10 threads in Runnable state and rest ~15 in TIMED_WAIT state :</p>\n<pre><code>http-nio-8087-exec-3&quot; #30 daemon prio=5 os_prio=0 cpu=687.50ms elapsed=250.17s tid=0x00000276c0ccced0 nid=0x57ec in Object.wait()  [0x000000db766f8000]\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\nat java.lang.Object.wait(java.base@17.0.5/Native Method)\nwaiting on &lt;no object reference available&gt;\nat org.apache.hc.core5.concurrent.BasicFuture.get(BasicFuture.java:101)\nlocked &lt;0x000000060ed18060&gt; (a org.apache.hc.core5.pool.StrictConnPool$1)\nat org.apache.hc.core5.pool.StrictConnPool$1.get(StrictConnPool.java:184)\nlocked &lt;0x000000060ed18060&gt; (a org.apache.hc.core5.pool.StrictConnPool$1)\nat org.apache.hc.core5.pool.StrictConnPool$1.get(StrictConnPool.java:178)\nat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$3.get(PoolingHttpClientConnectionManager.java:312)\nlocked &lt;0x000000060ed180f0&gt; (a org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$3) at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:109) at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)at org.apache.hc.client5.http.impl.classic.ExecChainElement$$Lambda$2730/0x00000008019530b0.proceed(Unknown Source)at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n</code></pre>\n<p>My Questions:</p>\n<ol>\n<li>With all resources and environment same with 25 parallel threads why with HttpClient 4.x are Runnable\nand with HttpClient 5.x show only ~10 odd runnable and rest in TIME_WAIT state.</li>\n<li>Though i did not initialized a async requests why i see a BasicFuture in the TIMED_WAIT thread in httpClient 5 stack trace?</li>\n</ol>\n"},{"tags":["java","hibernate","sonarqube"],"answers":[{"comments":[{"owner":{"account_id":4949667,"reputation":79,"user_id":3984058,"display_name":"Z4N4TI"},"score":0,"creation_date":1695634954,"post_id":77171465,"comment_id":136045834,"body_markdown":"Yes it is getAllMasterProductsByNomenclatureCode method which causes the problem, but I used hibernate parameter binding, can you precise me what to restrict?","body":"Yes it is getAllMasterProductsByNomenclatureCode method which causes the problem, but I used hibernate parameter binding, can you precise me what to restrict?"},{"owner":{"account_id":3837639,"reputation":56,"user_id":3181598,"display_name":"n-n-nebbl"},"score":0,"creation_date":1695636412,"post_id":77171465,"comment_id":136046149,"body_markdown":"change the method access modifier to **private** Query createQuery(String query).","body":"change the method access modifier to <b>private</b> Query createQuery(String query)."},{"owner":{"account_id":4949667,"reputation":79,"user_id":3984058,"display_name":"Z4N4TI"},"score":0,"creation_date":1695637648,"post_id":77171465,"comment_id":136046411,"body_markdown":"for the metyod createQuery, it is public within my Dao just to show its content, however, it is a method within parent Dao.","body":"for the metyod createQuery, it is public within my Dao just to show its content, however, it is a method within parent Dao."},{"owner":{"account_id":3837639,"reputation":56,"user_id":3181598,"display_name":"n-n-nebbl"},"score":0,"creation_date":1695639422,"post_id":77171465,"comment_id":136046726,"body_markdown":"but that&#39;s exactly what the issue is about. there is a public accessible method which takes an arbitrary String and using it directly as query. it was also not clear that it is in the interface defined, because it does not have the @Override annotation.","body":"but that&#39;s exactly what the issue is about. there is a public accessible method which takes an arbitrary String and using it directly as query. it was also not clear that it is in the interface defined, because it does not have the @Override annotation."},{"owner":{"account_id":4949667,"reputation":79,"user_id":3984058,"display_name":"Z4N4TI"},"score":0,"creation_date":1695640936,"post_id":77171465,"comment_id":136047017,"body_markdown":"you just misunderstanding what I&#39;ve said, the method is within parent interface, I&#39;ve just copied it their to let people see its content, I see nothing wrong on it","body":"you just misunderstanding what I&#39;ve said, the method is within parent interface, I&#39;ve just copied it their to let people see its content, I see nothing wrong on it"}],"tags":[],"owner":{"account_id":3837639,"reputation":56,"user_id":3181598,"display_name":"n-n-nebbl"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695634394,"creation_date":1695634394,"answer_id":77171465,"question_id":77171214,"body_markdown":"It is a public method which takes the String parameter as query, that&#39;s why it is complaining.\r\n\r\nYou need to restrict the query to be something which is not freely to choose from the outside.","title":"How to fix: This use of org/hibernate/Session.createQuery(Ljava/lang/String;)Lorg/hibernate/Query; can be vulnerable to SQL/HQL injection","body":"<p>It is a public method which takes the String parameter as query, that's why it is complaining.</p>\n<p>You need to restrict the query to be something which is not freely to choose from the outside.</p>\n"}],"owner":{"account_id":4949667,"reputation":79,"user_id":3984058,"display_name":"Z4N4TI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695634394,"creation_date":1695632250,"question_id":77171214,"body_markdown":"I have this ProductDao.java class:\r\n\r\n    @Repository(value = &quot;ProductDao&quot;)\r\n    public class ProductDao implements IProductDao {\r\n    \t\r\n    \tpublic static final String LABEL_LIKE = &quot;labellike&quot;;\r\n    \t\r\n    \tpublic static final String NUM_CODE = &quot;n_code&quot;;\r\n    \t\r\n    \tpublic static final String LABEL = &quot;label&quot;;\r\n    \t\r\n    \tpublic static final String STATUS = &quot;status&quot;;\r\n    \t\r\n    \tpublic Query createQuery(String query) {\r\n    \t\treturn sessionFactory.getCurrentSession().createQuery(query);\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductSelectQuery() {\r\n    \t\tStringBuilder select = new StringBuilder();\r\n    \t\tselect.append(&quot;SELECT distinct mp &quot;);\r\n    \t\t\r\n    \t\treturn select;\r\n    \t}\r\n    \r\n    \tprivate StringBuilder paginatedListMasterProductCountQuery() {\r\n    \t\tStringBuilder count = new StringBuilder();\r\n    \t\tcount.append(&quot;SELECT Count (distinct mp) &quot;);\r\n    \t\t\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tprivate StringBuilder paginatedListMasterProductJoinQuery(CatalogFilterVO catalogFilter) {\r\n    \t\tStringBuilder join = new StringBuilder();\r\n    \r\n    \t\tjoin.append(&quot; FROM MasterProduct AS mp&quot;);\r\n    \t\tjoin.append(&quot; JOIN mp.products AS p&quot;);\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode())\r\n    \t\t\t\t|| getSortFieldLevel(catalogFilter.getSortField()) != 0) {\r\n    \t\t\tjoin.append(&quot; JOIN mp.nomenclature AS n&quot;);\r\n    \t\t}\r\n    \t\tjoin.append(&quot; LEFT JOIN p.family AS f&quot;);\r\n    \t\tif (&quot;productLifeVO&quot;.equals(catalogFilter.getSortField())) {\r\n    \t\t\tjoin.append(&quot; LEFT JOIN mp.productLife AS pl &quot;);\r\n    \t\t}\r\n    \t\treturn join;\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductClauseQuery(CatalogFilterVO catalogFilter) {\r\n    \t\tStringBuilder clause = new StringBuilder();\t\t\r\n    \t\t// WHERE\r\n    \t\t\t\tclause.append(&quot; WHERE 1=1&quot;);\r\n    \t\t\t\tif(StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode()) ){\r\n    \t\t\t\t\tclause.append(&quot; AND n.value LIKE :n_code&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tif (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\r\n    \t\t\t\t\tclause.append(&quot; AND (mp.partnerProductReference like :labellike&quot;);\r\n    \t\t\t\t\tclause.append(&quot; OR mp.name like :labellike&quot;);\r\n    \t\t\t\t\tclause.append(&quot; OR mp.shortDescription like :labellike&quot;);\r\n    \t\t\t\t\tclause.append(&quot; OR f.keywords like :labellike&quot;);\r\n    \t\t\t\t\tclause.append(&quot;)&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tif(StringUtils.isNotEmpty(catalogFilter.getProductStatus()) ) {\r\n    \t\t\t\tclause.append(&quot; AND p.status = :status &quot;);\r\n    \t\t\t\t}\r\n    \t\t\r\n    \t\treturn clause;\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductOrderByNomenClature(CatalogFilterVO catalogFilter) {\r\n    \t\t\r\n    \t\tStringBuilder orderByP2 = new StringBuilder();\r\n    \t\tif (NOMENCLATURE_ONE.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY n.parent.parent.parent.parent.label&quot;);\r\n    \t\t}\r\n    \t\tif (NOMENCLATURE_TWO.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY n.parent.parent.parent.label&quot;);\r\n    \r\n    \t\t}\r\n    \t\tif (NOMENCLATURE_THREE.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY  n.parent.parent.label&quot;);\r\n    \r\n    \t\t}\r\n    \t\tif (NOMENCLATURE_FOUR.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY  n.parent.label&quot;);\r\n    \r\n    \t\t}\r\n    \t\tif (NOMENCLATURE_FIVE.equalsIgnoreCase(catalogFilter.getSortField())) {\r\n    \t\t\torderByP2.append(&quot; ORDER BY  n.label&quot;);\r\n    \r\n    \t\t}\r\n    \t\torderByP2.append(&quot; &quot;).append(catalogFilter.getSortOrder());\r\n    \t\t\tif (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\r\n    \t\t\t\torderByP2.append(&quot;, &quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\treturn orderByP2;\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductOrderByTextSearch(CatalogFilterVO catalogFilter) {\r\n    \t\t\r\n    \t\tStringBuilder orderByTxtSearch = new StringBuilder();\r\n    \t\tif (StringUtils.isEmpty(catalogFilter.getSortField())) {\r\n    \t\t\torderByTxtSearch.append(&quot; ORDER BY &quot;);\r\n    \t\t}\r\n    \t\torderByTxtSearch.append(&quot; CASE WHEN (mp.partnerProductReference like :labellike) THEN 1&quot;);\r\n    \t\torderByTxtSearch.append(&quot; WHEN (mp.name like :labellike) THEN 2&quot;);\r\n    \t\torderByTxtSearch.append(&quot; WHEN (f.keywords like :labellike) THEN 3&quot;);\r\n    \t\torderByTxtSearch.append(&quot; WHEN (mp.shortDescription like :labellike) THEN 4&quot;);\r\n    \t\torderByTxtSearch.append(&quot; END&quot;);\r\n    \t\torderByTxtSearch.append(&quot; , CASE WHEN (instr(mp.name, :label)&gt;0) THEN instr(mp.name, :label) END &quot;);\r\n    \r\n    \t\treturn orderByTxtSearch;\r\n    \t}\r\n    \t\r\n    \tprivate StringBuilder paginatedListMasterProductOrderByAllFieldQuery(CatalogFilterVO catalogFilter) {\r\n    \r\n    \t\tStringBuilder orderBy = new StringBuilder();\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getSortField())) {\r\n    \t\t\tif (get(catalogFilter.getSortField()) != null) {\r\n    \t\t\t\torderBy.append(paginatedListMasterProductOrderByNameAndPubliStock(catalogFilter));\r\n    \t\t\t} else if (getSortFieldLevel(catalogFilter.getSortField()) != 0) {\r\n    \t\t\t\torderBy.append(paginatedListMasterProductOrderByNomenClature(catalogFilter));\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\r\n    \t\t\torderBy.append(paginatedListMasterProductOrderByTextSearch(catalogFilter));\r\n    \t\t}\r\n    \r\n    \t\treturn orderBy;\r\n    \t}\r\n    \t\r\n    \tprivate void setParameterQuery(Query query, Query countQuery,CatalogFilterVO catalogFilter) {\r\n    \t\t// SET PARAMETERS\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\r\n    \t\t\tquery.setParameter(LABEL_LIKE, &#39;%&#39; + catalogFilter.getTextSearch() + &#39;%&#39;);\r\n    \t\t\tquery.setParameter(LABEL, catalogFilter.getTextSearch());\r\n    \t\t\tcountQuery.setParameter(LABEL_LIKE, &#39;%&#39; + catalogFilter.getTextSearch() + &#39;%&#39;);\r\n    \t\t}\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode())) {\r\n    \t\t\tquery.setParameter(NUM_CODE, catalogFilter.getNomenclatureCode() + &quot;%&quot;);\r\n    \t\t\tcountQuery.setParameter(NUM_CODE, catalogFilter.getNomenclatureCode() + &quot;%&quot;);\r\n    \t\t}\r\n    \t\tif (StringUtils.isNotEmpty(catalogFilter.getProductStatus())) {\r\n    \t\t\tif (catalogFilter.getProductStatus().equals(Product.ProductStatus.ACTIVE.toString())) {\r\n    \t\t\t\tquery.setParameter(STATUS, Product.ProductStatus.ACTIVE);\r\n    \t\t\t\tcountQuery.setParameter(STATUS, Product.ProductStatus.ACTIVE);\r\n    \t\t\t}else {\r\n    \t\t\t\tquery.setParameter(STATUS, Product.ProductStatus.INACTIVE);\r\n    \t\t\t\tcountQuery.setParameter(STATUS, Product.ProductStatus.INACTIVE);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic MasterProduct checkDuplicateOrangeReference(String orangeReference) {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tsb.append(&quot;SELECT mp &quot;);\r\n    \t\tsb.append(&quot;FROM MasterProduct As mp &quot;);\r\n    \t\tsb.append(&quot;WHERE mp.orangeProductReference =:orangeReference &quot;);\r\n    \r\n    \t\tQuery query = createQuery(sb.toString());\r\n    \t\tquery.setParameter(&quot;orangeReference&quot;, orangeReference);\r\n    \t\treturn find(query);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;MasterProduct&gt; getAllMasterProductsByNomenclatureCode(CatalogFilterVO catalogFilter) {\r\n    \t\tStringBuilder select = paginatedListMasterProductSelectQuery();\r\n    \t\tStringBuilder join = paginatedListMasterProductJoinQuery(catalogFilter);\r\n    \t\tStringBuilder clause = paginatedListMasterProductClauseQuery(catalogFilter);\r\n    \t\tStringBuilder orderBy = paginatedListMasterProductOrderByAllFieldQuery(catalogFilter);\r\n    \t\tStringBuilder count = paginatedListMasterProductCountQuery();\r\n    \r\n    \t\tString queryString = new StringBuilder().append(select).append(join).append(clause).append(orderBy).toString();\r\n    \t\tQuery query = getSessionFactory().getCurrentSession().createQuery(queryString);\r\n    \t\tQuery countQuery = createQuery(new StringBuffer().append(count).append(join).append(clause).toString());\r\n    \r\n    \t\tsetParameterQuery(query, countQuery, catalogFilter);\r\n    \r\n    \t\treturn query.list();\r\n    \t}\r\n    }\r\n    \r\n    On line Query query = getSessionFactory().getCurrentSession().createQuery(queryString);\r\n\r\nI got this sonarqube vulnerability issue:  This use of org/hibernate/Session.createQuery(Ljava/lang/String;)Lorg/hibernate/Query; can be vulnerable to SQL/HQL injection (with Hibernate)\r\n\r\nhow to fix my vulnerability ? I am using hibernate parameter binding and set values within setParameterQuery. \r\n\r\nWhat&#39;s wrong ? ","title":"How to fix: This use of org/hibernate/Session.createQuery(Ljava/lang/String;)Lorg/hibernate/Query; can be vulnerable to SQL/HQL injection","body":"<p>I have this ProductDao.java class:</p>\n<pre><code>@Repository(value = &quot;ProductDao&quot;)\npublic class ProductDao implements IProductDao {\n    \n    public static final String LABEL_LIKE = &quot;labellike&quot;;\n    \n    public static final String NUM_CODE = &quot;n_code&quot;;\n    \n    public static final String LABEL = &quot;label&quot;;\n    \n    public static final String STATUS = &quot;status&quot;;\n    \n    public Query createQuery(String query) {\n        return sessionFactory.getCurrentSession().createQuery(query);\n    }\n    \n    private StringBuilder paginatedListMasterProductSelectQuery() {\n        StringBuilder select = new StringBuilder();\n        select.append(&quot;SELECT distinct mp &quot;);\n        \n        return select;\n    }\n\n    private StringBuilder paginatedListMasterProductCountQuery() {\n        StringBuilder count = new StringBuilder();\n        count.append(&quot;SELECT Count (distinct mp) &quot;);\n        \n        return count;\n    }\n\n    private StringBuilder paginatedListMasterProductJoinQuery(CatalogFilterVO catalogFilter) {\n        StringBuilder join = new StringBuilder();\n\n        join.append(&quot; FROM MasterProduct AS mp&quot;);\n        join.append(&quot; JOIN mp.products AS p&quot;);\n        if (StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode())\n                || getSortFieldLevel(catalogFilter.getSortField()) != 0) {\n            join.append(&quot; JOIN mp.nomenclature AS n&quot;);\n        }\n        join.append(&quot; LEFT JOIN p.family AS f&quot;);\n        if (&quot;productLifeVO&quot;.equals(catalogFilter.getSortField())) {\n            join.append(&quot; LEFT JOIN mp.productLife AS pl &quot;);\n        }\n        return join;\n    }\n    \n    private StringBuilder paginatedListMasterProductClauseQuery(CatalogFilterVO catalogFilter) {\n        StringBuilder clause = new StringBuilder();     \n        // WHERE\n                clause.append(&quot; WHERE 1=1&quot;);\n                if(StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode()) ){\n                    clause.append(&quot; AND n.value LIKE :n_code&quot;);\n                }\n                if (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\n                    clause.append(&quot; AND (mp.partnerProductReference like :labellike&quot;);\n                    clause.append(&quot; OR mp.name like :labellike&quot;);\n                    clause.append(&quot; OR mp.shortDescription like :labellike&quot;);\n                    clause.append(&quot; OR f.keywords like :labellike&quot;);\n                    clause.append(&quot;)&quot;);\n                }\n                if(StringUtils.isNotEmpty(catalogFilter.getProductStatus()) ) {\n                clause.append(&quot; AND p.status = :status &quot;);\n                }\n        \n        return clause;\n    }\n    \n    private StringBuilder paginatedListMasterProductOrderByNomenClature(CatalogFilterVO catalogFilter) {\n        \n        StringBuilder orderByP2 = new StringBuilder();\n        if (NOMENCLATURE_ONE.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY n.parent.parent.parent.parent.label&quot;);\n        }\n        if (NOMENCLATURE_TWO.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY n.parent.parent.parent.label&quot;);\n\n        }\n        if (NOMENCLATURE_THREE.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY  n.parent.parent.label&quot;);\n\n        }\n        if (NOMENCLATURE_FOUR.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY  n.parent.label&quot;);\n\n        }\n        if (NOMENCLATURE_FIVE.equalsIgnoreCase(catalogFilter.getSortField())) {\n            orderByP2.append(&quot; ORDER BY  n.label&quot;);\n\n        }\n        orderByP2.append(&quot; &quot;).append(catalogFilter.getSortOrder());\n            if (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\n                orderByP2.append(&quot;, &quot;);\n            }\n            \n        return orderByP2;\n    }\n    \n    private StringBuilder paginatedListMasterProductOrderByTextSearch(CatalogFilterVO catalogFilter) {\n        \n        StringBuilder orderByTxtSearch = new StringBuilder();\n        if (StringUtils.isEmpty(catalogFilter.getSortField())) {\n            orderByTxtSearch.append(&quot; ORDER BY &quot;);\n        }\n        orderByTxtSearch.append(&quot; CASE WHEN (mp.partnerProductReference like :labellike) THEN 1&quot;);\n        orderByTxtSearch.append(&quot; WHEN (mp.name like :labellike) THEN 2&quot;);\n        orderByTxtSearch.append(&quot; WHEN (f.keywords like :labellike) THEN 3&quot;);\n        orderByTxtSearch.append(&quot; WHEN (mp.shortDescription like :labellike) THEN 4&quot;);\n        orderByTxtSearch.append(&quot; END&quot;);\n        orderByTxtSearch.append(&quot; , CASE WHEN (instr(mp.name, :label)&gt;0) THEN instr(mp.name, :label) END &quot;);\n\n        return orderByTxtSearch;\n    }\n    \n    private StringBuilder paginatedListMasterProductOrderByAllFieldQuery(CatalogFilterVO catalogFilter) {\n\n        StringBuilder orderBy = new StringBuilder();\n        if (StringUtils.isNotEmpty(catalogFilter.getSortField())) {\n            if (get(catalogFilter.getSortField()) != null) {\n                orderBy.append(paginatedListMasterProductOrderByNameAndPubliStock(catalogFilter));\n            } else if (getSortFieldLevel(catalogFilter.getSortField()) != 0) {\n                orderBy.append(paginatedListMasterProductOrderByNomenClature(catalogFilter));\n            }\n\n        }\n\n        if (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\n            orderBy.append(paginatedListMasterProductOrderByTextSearch(catalogFilter));\n        }\n\n        return orderBy;\n    }\n    \n    private void setParameterQuery(Query query, Query countQuery,CatalogFilterVO catalogFilter) {\n        // SET PARAMETERS\n        if (StringUtils.isNotEmpty(catalogFilter.getTextSearch())) {\n            query.setParameter(LABEL_LIKE, '%' + catalogFilter.getTextSearch() + '%');\n            query.setParameter(LABEL, catalogFilter.getTextSearch());\n            countQuery.setParameter(LABEL_LIKE, '%' + catalogFilter.getTextSearch() + '%');\n        }\n        if (StringUtils.isNotEmpty(catalogFilter.getNomenclatureCode())) {\n            query.setParameter(NUM_CODE, catalogFilter.getNomenclatureCode() + &quot;%&quot;);\n            countQuery.setParameter(NUM_CODE, catalogFilter.getNomenclatureCode() + &quot;%&quot;);\n        }\n        if (StringUtils.isNotEmpty(catalogFilter.getProductStatus())) {\n            if (catalogFilter.getProductStatus().equals(Product.ProductStatus.ACTIVE.toString())) {\n                query.setParameter(STATUS, Product.ProductStatus.ACTIVE);\n                countQuery.setParameter(STATUS, Product.ProductStatus.ACTIVE);\n            }else {\n                query.setParameter(STATUS, Product.ProductStatus.INACTIVE);\n                countQuery.setParameter(STATUS, Product.ProductStatus.INACTIVE);\n            }\n        }\n    }\n    \n    public MasterProduct checkDuplicateOrangeReference(String orangeReference) {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;SELECT mp &quot;);\n        sb.append(&quot;FROM MasterProduct As mp &quot;);\n        sb.append(&quot;WHERE mp.orangeProductReference =:orangeReference &quot;);\n\n        Query query = createQuery(sb.toString());\n        query.setParameter(&quot;orangeReference&quot;, orangeReference);\n        return find(query);\n    }\n\n    @Override\n    public List&lt;MasterProduct&gt; getAllMasterProductsByNomenclatureCode(CatalogFilterVO catalogFilter) {\n        StringBuilder select = paginatedListMasterProductSelectQuery();\n        StringBuilder join = paginatedListMasterProductJoinQuery(catalogFilter);\n        StringBuilder clause = paginatedListMasterProductClauseQuery(catalogFilter);\n        StringBuilder orderBy = paginatedListMasterProductOrderByAllFieldQuery(catalogFilter);\n        StringBuilder count = paginatedListMasterProductCountQuery();\n\n        String queryString = new StringBuilder().append(select).append(join).append(clause).append(orderBy).toString();\n        Query query = getSessionFactory().getCurrentSession().createQuery(queryString);\n        Query countQuery = createQuery(new StringBuffer().append(count).append(join).append(clause).toString());\n\n        setParameterQuery(query, countQuery, catalogFilter);\n\n        return query.list();\n    }\n}\n\nOn line Query query = getSessionFactory().getCurrentSession().createQuery(queryString);\n</code></pre>\n<p>I got this sonarqube vulnerability issue:  This use of org/hibernate/Session.createQuery(Ljava/lang/String;)Lorg/hibernate/Query; can be vulnerable to SQL/HQL injection (with Hibernate)</p>\n<p>how to fix my vulnerability ? I am using hibernate parameter binding and set values within setParameterQuery.</p>\n<p>What's wrong ?</p>\n"},{"tags":["java","google-play","android-app-signing"],"comments":[{"owner":{"account_id":3504522,"reputation":173,"user_id":2930359,"display_name":"ikool"},"score":2,"creation_date":1687339191,"post_id":76515499,"comment_id":134921713,"body_markdown":"Resolved! using openjdk 11+ instead. https://www.openlogic.com/openjdk-downloads?page=1","body":"Resolved! using openjdk 11+ instead. <a href=\"https://www.openlogic.com/openjdk-downloads?page=1\" rel=\"nofollow noreferrer\">openlogic.com/openjdk-downloads?page=1</a>"},{"owner":{"account_id":1105003,"reputation":130,"user_id":1096590,"display_name":"choster"},"score":0,"creation_date":1692934834,"post_id":76515499,"comment_id":135694942,"body_markdown":"Does this answer your question? [&#39;Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding&#39; when trying to enroll to &#39;Let Google Play manage your app signing key&#39;](https://stackoverflow.com/questions/76516045/cannot-find-any-provider-supporting-rsa-none-oaepwithsha1andmgf1padding-when-t)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76516045/cannot-find-any-provider-supporting-rsa-none-oaepwithsha1andmgf1padding-when-t\">&#39;Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding&#39; when trying to enroll to &#39;Let Google Play manage your app signing key&#39;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24747728,"reputation":1,"user_id":18633692,"display_name":"Jean de Montcheuil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695634090,"creation_date":1695634090,"answer_id":77171439,"question_id":76515499,"body_markdown":"Problem is solved using openJDK 15 or higher.\r\nBut it remain to install openJDK. On openJdk website I find many openJDK versions but I do not find any installer tool.\r\nAs I am working with Windows, I find openJDK 17 on Microsoft site https://learn.microsoft.com/en-us/java/openjdk/install\r\nIt can be installed with standard Windows installers (msi or winget). msi failed on my computer, but winget has installed openJDK 17 with success.","title":"Google play pepk.jar exporting private key error","body":"<p>Problem is solved using openJDK 15 or higher.\nBut it remain to install openJDK. On openJdk website I find many openJDK versions but I do not find any installer tool.\nAs I am working with Windows, I find openJDK 17 on Microsoft site <a href=\"https://learn.microsoft.com/en-us/java/openjdk/install\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/openjdk/install</a>\nIt can be installed with standard Windows installers (msi or winget). msi failed on my computer, but winget has installed openJDK 17 with success.</p>\n"}],"owner":{"account_id":3504522,"reputation":173,"user_id":2930359,"display_name":"ikool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695634090,"creation_date":1687269398,"question_id":76515499,"body_markdown":"PEPK - Play Encrypt Private Key\r\npepk (Play Encrypt Private Key) is a tool for exporting private keys from a Java Keystore and encrypting them for transfer to Google Play as part of enrolling in App Signing by Google Play.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/bwsw8.png\r\n\r\n\r\nWhen i am run the command line, error occurred:\r\n\r\n    java -jar pepk.jar --keystore=huoshanbox.jks --alias=huoshanbox --output=output.zip --include-cert --rsa-aes-encryption --encryption-key-path=encryption_public_key.pem\r\n        \r\n    Enter password for store &#39;huoshanbox.jks&#39;:\r\n    Enter password for key &#39;huoshanbox&#39;:\r\n    Error: Unable to export or encrypt the private key\r\n    java.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding\r\n    \tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:563)\r\n    \tat com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.encryptPrivateKeyWithCkmRsaAesKeyWrapEncryption(ExportEncryptedPrivateKeyTool.java:284)\r\n    \tat com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.run(ExportEncryptedPrivateKeyTool.java:213)\r\n    \tat com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.main(ExportEncryptedPrivateKeyTool.java:165)\r\n\r\nThis tool requires jdk 11+,i am tried JDK 11, JDK 17, JDK 20, but got the same error.\r\nWhich version of jdk should I use?","title":"Google play pepk.jar exporting private key error","body":"<p>PEPK - Play Encrypt Private Key\npepk (Play Encrypt Private Key) is a tool for exporting private keys from a Java Keystore and encrypting them for transfer to Google Play as part of enrolling in App Signing by Google Play.</p>\n<p><a href=\"https://i.stack.imgur.com/bwsw8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bwsw8.png\" alt=\"enter image description here\" /></a></p>\n<p>When i am run the command line, error occurred:</p>\n<pre><code>java -jar pepk.jar --keystore=huoshanbox.jks --alias=huoshanbox --output=output.zip --include-cert --rsa-aes-encryption --encryption-key-path=encryption_public_key.pem\n    \nEnter password for store 'huoshanbox.jks':\nEnter password for key 'huoshanbox':\nError: Unable to export or encrypt the private key\njava.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding\n    at java.base/javax.crypto.Cipher.getInstance(Cipher.java:563)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.encryptPrivateKeyWithCkmRsaAesKeyWrapEncryption(ExportEncryptedPrivateKeyTool.java:284)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.run(ExportEncryptedPrivateKeyTool.java:213)\n    at com.google.wireless.android.vending.developer.signing.tools.extern.export.ExportEncryptedPrivateKeyTool.main(ExportEncryptedPrivateKeyTool.java:165)\n</code></pre>\n<p>This tool requires jdk 11+,i am tried JDK 11, JDK 17, JDK 20, but got the same error.\nWhich version of jdk should I use?</p>\n"},{"tags":["java","compareto"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1695535702,"post_id":77165889,"comment_id":136035829,"body_markdown":"I would suggest printing the values of `fir` and `sec`, to see if they are actually the same string somehow. `String.compareTo` is a built-in method, and definitely works.","body":"I would suggest printing the values of <code>fir</code> and <code>sec</code>, to see if they are actually the same string somehow. <code>String.compareTo</code> is a built-in method, and definitely works."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1695535763,"post_id":77165889,"comment_id":136035834,"body_markdown":"The problem is in `isValidString()`. The method returns `&quot;&quot;`. Which is a valid string. And empty. And since you call it twice, `fir` does in fact equal `sec`. That&#39;s my **guess** anyway. If I&#39;m wrong, post that method and tell us what input you are using. So we can actually reproduce the problem. Instead of guessing. Thank you.","body":"The problem is in <code>isValidString()</code>. The method returns <code>&quot;&quot;</code>. Which is a valid string. And empty. And since you call it twice, <code>fir</code> does in fact equal <code>sec</code>. That&#39;s my <b>guess</b> anyway. If I&#39;m wrong, post that method and tell us what input you are using. So we can actually reproduce the problem. Instead of guessing. Thank you."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1695536831,"post_id":77165889,"comment_id":136035920,"body_markdown":"Please read: [How to debug small programs (`https://ericlippert.com/`)](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (<code>https:&#47;&#47;ericlippert.com&#47;</code>)</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":5,"creation_date":1695536841,"post_id":77165889,"comment_id":136035923,"body_markdown":"I see that you have the &quot;informed&quot; badge so I assume that you read [ask] and saw the part about posting a [mcve]. Unfortunately, your question only contains part of your code where you think the problem is. In order for me to help you debug your code, I need you to post code that reproduces your problem. I suggest that you [edit] your question and post a reproducible example.","body":"I see that you have the &quot;informed&quot; badge so I assume that you read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and saw the part about posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Unfortunately, your question only contains part of your code where you think the problem is. In order for me to help you debug your code, I need you to post code that reproduces your problem. I suggest that you <a href=\"https://stackoverflow.com/posts/77165889/edit\">edit</a> your question and post a reproducible example."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1695544561,"post_id":77165889,"comment_id":136036520,"body_markdown":"“the isValidString() is another method I have that works perfectly for other methods in this class, so I don&#39;t think that is the problem” try replacing the calls to `isValidString` with hardcoded string literals and see if the problem still happens. If not, then the problem is in `isValidString`.","body":"“the isValidString() is another method I have that works perfectly for other methods in this class, so I don&#39;t think that is the problem” try replacing the calls to <code>isValidString</code> with hardcoded string literals and see if the problem still happens. If not, then the problem is in <code>isValidString</code>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1695590686,"post_id":77165889,"comment_id":136041160,"body_markdown":"https://stackoverflow.com/a/13102066/29470","body":"<a href=\"https://stackoverflow.com/a/13102066/29470\">stackoverflow.com/a/13102066/29470</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1695631306,"post_id":77165889,"comment_id":136045100,"body_markdown":"Refer to this SO question (and answers): [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo) After calling method [nextDouble](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#nextDouble()) and before calling method `nextLine`, you need an extra call to method `nextLine`. The linked question will explain why.","body":"Refer to this SO question (and answers): <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> After calling method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#nextDouble()\" rel=\"nofollow noreferrer\">nextDouble</a> and before calling method <code>nextLine</code>, you need an extra call to method <code>nextLine</code>. The linked question will explain why."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1695548207,"post_id":77166414,"comment_id":136036833,"body_markdown":"Probably a good idea to indicate to a beginning Java student that the code in your answer uses [switch expressions](https://docs.oracle.com/en/java/javase/20/language/pattern-matching-switch-expressions-and-statements.html#GUID-E69EEA63-E204-41B4-AA7F-D58B26A3B232) as I doubt that he has learned them yet.","body":"Probably a good idea to indicate to a beginning Java student that the code in your answer uses <a href=\"https://docs.oracle.com/en/java/javase/20/language/pattern-matching-switch-expressions-and-statements.html#GUID-E69EEA63-E204-41B4-AA7F-D58B26A3B232\" rel=\"nofollow noreferrer\">switch expressions</a> as I doubt that he has learned them yet."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1695630424,"post_id":77166414,"comment_id":136044925,"body_markdown":"A switch **expression** is not exactly the same as a `switch` statement - as far as syntax is concerned.","body":"A switch <b>expression</b> is not exactly the same as a <code>switch</code> statement - as far as syntax is concerned."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695752736,"post_id":77166414,"comment_id":136065665,"body_markdown":"@Abra, I imagine a _Java_ student knows what a _switch statement_ is, lol.","body":"@Abra, I imagine a <i>Java</i> student knows what a <i>switch statement</i> is, lol."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1695546849,"creation_date":1695546849,"answer_id":77166414,"question_id":77165889,"body_markdown":"&gt; _&quot;... compare the user&#39;s first name and last name, and output which comes first alphabetically. I am able to write the code and make everything lowercase and use the .compareTo to get an integer ...&quot;_\r\n\r\nUse the _[compareToIgnoreCase](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#compareToIgnoreCase(java.lang.String))_ instead.\r\n\r\n```java\r\nString a = &quot;789&quot;, b = &quot;123&quot;;\r\nint i = Integer.compare(a.compareToIgnoreCase(b), 0);\r\nString s = a + switch (i) {\r\n    case -1 -&gt; &#39;&lt;&#39;;\r\n    case 0 -&gt; &#39;=&#39;;\r\n    default -&gt; &#39;&gt;&#39;;\r\n} + b;\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabc&lt;xyz\r\n```","title":"Why does the validation on my compareTo method make the output wrong?","body":"<blockquote>\n<p><em>&quot;... compare the user's first name and last name, and output which comes first alphabetically. I am able to write the code and make everything lowercase and use the .compareTo to get an integer ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#compareToIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">compareToIgnoreCase</a></em> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String a = &quot;789&quot;, b = &quot;123&quot;;\nint i = Integer.compare(a.compareToIgnoreCase(b), 0);\nString s = a + switch (i) {\n    case -1 -&gt; '&lt;';\n    case 0 -&gt; '=';\n    default -&gt; '&gt;';\n} + b;\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abc&lt;xyz\n</code></pre>\n"}],"owner":{"account_id":29462540,"reputation":9,"user_id":22577001,"display_name":"Topy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1695632835,"answer_count":1,"score":-2,"last_activity_date":1695632827,"creation_date":1695535441,"question_id":77165889,"body_markdown":"For homework one of my methods has to compare the user&#39;s first name and last name, and output which comes first alphabetically. I am able to write the code and make everything lowercase and use the `compareTo` to get an integer, and it works just fine. But when I purposely input a number, the validation somehow makes the output always go to &quot;they both equal each other&quot; when they do not equal each other.\r\n\r\n    public static void alpha() {\r\n        //takes two names, makes them lowercase, and sorts them using uniCode\r\n        System.out.println(&quot;Please input the first name you want me to organize.&quot;);\r\n        String firstC = isValidString();\r\n        String fir = firstC.toLowerCase();\r\n        \r\n        System.out.println(&quot;Please input the second name you want me to organize.&quot;);\r\n        String secondC = isValidString();\r\n        String sec = secondC.toLowerCase();\r\n        \r\n        int uniOut = fir.compareTo(sec);\r\n        if (uniOut &gt; 0) {\r\n            System.out.printf(&quot;%s is first alphabetically&quot;, secondC);\r\n        } else if (uniOut &lt; 0) {\r\n            System.out.printf(&quot;%s is first alphabetically&quot;, firstC);\r\n        } else {\r\n            System.out.println(&quot;Those names are the same.&quot;);\r\n        }\r\n    }\r\n\r\n    public static String isValidString() {\r\n        //validates input as a string and has the user continue to input until it is a string\r\n        Scanner in = new Scanner(System.in);\r\n        while (in.hasNextDouble()) {\r\n            double input = in.nextDouble();\r\n            System.out.printf(&quot;%f is not a valid input, please try again.\\n&quot;, input);\r\n        }\r\n        String s = in.nextLine();\r\n        return s;\r\n    }\r\n\r\nThe `isValidString()` is another method I have that works perfectly for the other methods in this class, so I don&#39;t think that is the problem.\r\n\r\nI have tried changing the  `}else{`  to an  `}else if{`  to specify that both strings equal each other and I had a &#39;buffer&#39; else, and the output still said that the strings were equal.\r\n\r\nI tried to input one string correctly the first time, and try the validation on the other (in both ways), but that also gave a weird output, where it would say &quot; is first alphabetically&quot;. I do not know why the validation is making the variables act weird, but I cannot think of a way to fix this.\r\n","title":"Why does the validation on my compareTo method make the output wrong?","body":"<p>For homework one of my methods has to compare the user's first name and last name, and output which comes first alphabetically. I am able to write the code and make everything lowercase and use the <code>compareTo</code> to get an integer, and it works just fine. But when I purposely input a number, the validation somehow makes the output always go to &quot;they both equal each other&quot; when they do not equal each other.</p>\n<pre><code>public static void alpha() {\n    //takes two names, makes them lowercase, and sorts them using uniCode\n    System.out.println(&quot;Please input the first name you want me to organize.&quot;);\n    String firstC = isValidString();\n    String fir = firstC.toLowerCase();\n    \n    System.out.println(&quot;Please input the second name you want me to organize.&quot;);\n    String secondC = isValidString();\n    String sec = secondC.toLowerCase();\n    \n    int uniOut = fir.compareTo(sec);\n    if (uniOut &gt; 0) {\n        System.out.printf(&quot;%s is first alphabetically&quot;, secondC);\n    } else if (uniOut &lt; 0) {\n        System.out.printf(&quot;%s is first alphabetically&quot;, firstC);\n    } else {\n        System.out.println(&quot;Those names are the same.&quot;);\n    }\n}\n\npublic static String isValidString() {\n    //validates input as a string and has the user continue to input until it is a string\n    Scanner in = new Scanner(System.in);\n    while (in.hasNextDouble()) {\n        double input = in.nextDouble();\n        System.out.printf(&quot;%f is not a valid input, please try again.\\n&quot;, input);\n    }\n    String s = in.nextLine();\n    return s;\n}\n</code></pre>\n<p>The <code>isValidString()</code> is another method I have that works perfectly for the other methods in this class, so I don't think that is the problem.</p>\n<p>I have tried changing the  <code>}else{</code>  to an  <code>}else if{</code>  to specify that both strings equal each other and I had a 'buffer' else, and the output still said that the strings were equal.</p>\n<p>I tried to input one string correctly the first time, and try the validation on the other (in both ways), but that also gave a weird output, where it would say &quot; is first alphabetically&quot;. I do not know why the validation is making the variables act weird, but I cannot think of a way to fix this.</p>\n"},{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":1183049,"reputation":5081,"user_id":1157544,"accept_rate":100,"display_name":"Lucas"},"score":1,"creation_date":1332394546,"post_id":9816965,"comment_id":12505907,"body_markdown":"Can you put some error checking prints in the two while loops and tell me which one it gets stuck in?","body":"Can you put some error checking prints in the two while loops and tell me which one it gets stuck in?"},{"owner":{"account_id":1340915,"reputation":61,"user_id":1282579,"display_name":"mPierce"},"score":0,"creation_date":1332485208,"post_id":9816965,"comment_id":12532414,"body_markdown":"I tried putting prints in each loop, but it doesn&#39;t seem to loop infinitely, instead its more like the outer while loop is waiting infinitely for more input","body":"I tried putting prints in each loop, but it doesn&#39;t seem to loop infinitely, instead its more like the outer while loop is waiting infinitely for more input"},{"owner":{"account_id":1183049,"reputation":5081,"user_id":1157544,"accept_rate":100,"display_name":"Lucas"},"score":0,"creation_date":1332518913,"post_id":9816965,"comment_id":12543332,"body_markdown":"someone figured that out below.","body":"someone figured that out below."},{"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"score":2,"creation_date":1410016024,"post_id":9816965,"comment_id":40173380,"body_markdown":"possible duplicate of [How to terminate Scanner when input is complete?](http://stackoverflow.com/questions/16206813/how-to-terminate-scanner-when-input-is-complete)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16206813/how-to-terminate-scanner-when-input-is-complete\">How to terminate Scanner when input is complete?</a>"}],"answers":[{"comments":[{"owner":{"account_id":1340915,"reputation":61,"user_id":1282579,"display_name":"mPierce"},"score":0,"creation_date":1332478608,"post_id":9817094,"comment_id":12531346,"body_markdown":"so is there any way to programatically stop it from reading once all the input has been read?","body":"so is there any way to programatically stop it from reading once all the input has been read?"},{"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"score":0,"creation_date":1332480774,"post_id":9817094,"comment_id":12531698,"body_markdown":"How your program will come to know that it should stop now?","body":"How your program will come to know that it should stop now?"},{"owner":{"account_id":1340915,"reputation":61,"user_id":1282579,"display_name":"mPierce"},"score":0,"creation_date":1332483600,"post_id":9817094,"comment_id":12532125,"body_markdown":"It doesn&#39;t know, that&#39;s the problem. It just keeps waiting for another line of input when I want it to output after all input has been read.","body":"It doesn&#39;t know, that&#39;s the problem. It just keeps waiting for another line of input when I want it to output after all input has been read."},{"owner":{"account_id":1340915,"reputation":61,"user_id":1282579,"display_name":"mPierce"},"score":0,"creation_date":1332484755,"post_id":9817094,"comment_id":12532323,"body_markdown":"If I have a block of input, say 3 lines of text, I want it to stop after it reads the third line","body":"If I have a block of input, say 3 lines of text, I want it to stop after it reads the third line"}],"tags":[],"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332485350,"creation_date":1332395264,"answer_id":9817094,"question_id":9816965,"body_markdown":"You are reading from an Infinite stream in this case. `hasNextLine()` will keep returning true if there is another line in the input of this scanner. As its a `System.in`, it will keep reading from the Keyboard, unless you terminate it or tell the stream to stop.\r\n\r\nPress &quot;ctrl+Z&quot; in the end, you will see that it works.\r\n\r\n**Edit** : You could do something like this...\r\n\r\n    Scanner scanner = new Scanner(System.in);   //scanner reads block of input\r\n    \t    int BLOCK_SIZE  =3,count=1;\r\n    \t\twhile(scanner.hasNextLine()){    \r\n    \t        //body of loop goes here\r\n    \t        String s = scanner.nextLine();\r\n    \t        Scanner ls = new Scanner(s);   //scanner to parse a line of input\r\n    \t        while(ls.hasNext()){\r\n    \t        //body of nested loop goes here\r\n    \t        ls.next();\r\n    \t        }\r\n    \t        if(count++==BLOCK_SIZE)\r\n    \t        {\r\n    \t        \tbreak;\r\n    \t        }\r\n    \t    }\r\n    \t    System.out.println(&quot;Fin&quot;);\r\n    \t\t\r\n    \t}","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>You are reading from an Infinite stream in this case. <code>hasNextLine()</code> will keep returning true if there is another line in the input of this scanner. As its a <code>System.in</code>, it will keep reading from the Keyboard, unless you terminate it or tell the stream to stop.</p>\n\n<p>Press \"ctrl+Z\" in the end, you will see that it works.</p>\n\n<p><strong>Edit</strong> : You could do something like this...</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);   //scanner reads block of input\n        int BLOCK_SIZE  =3,count=1;\n        while(scanner.hasNextLine()){    \n            //body of loop goes here\n            String s = scanner.nextLine();\n            Scanner ls = new Scanner(s);   //scanner to parse a line of input\n            while(ls.hasNext()){\n            //body of nested loop goes here\n            ls.next();\n            }\n            if(count++==BLOCK_SIZE)\n            {\n                break;\n            }\n        }\n        System.out.println(\"Fin\");\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1340915,"reputation":61,"user_id":1282579,"display_name":"mPierce"},"score":1,"creation_date":1332485119,"post_id":9817111,"comment_id":12532397,"body_markdown":"But what would I store in the string variable? The program must read from the console, and if I save the line of input to a string, wont the program will still wait for a new line of input?","body":"But what would I store in the string variable? The program must read from the console, and if I save the line of input to a string, wont the program will still wait for a new line of input?"}],"tags":[],"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332395393,"creation_date":1332395393,"answer_id":9817111,"question_id":9816965,"body_markdown":"As I can see in your outer while loop you have used\r\n\r\n    scanner.hasNextLine();\r\nmethod. This method gets blocked if it has to wait for the input. Also you have \r\n\r\n    Scanner scanner = new Scanner(System.in);\r\nstatement. So the system.in will be waiting for input all the time, hence the hasNextLine() method has to wait for the input.\r\nThat is why the control gets stuck in the loop and can&#39;t proceed further.\r\n\r\nTo fix it you can first store input in a string variable and the call the scanner constructor on it.","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>As I can see in your outer while loop you have used</p>\n\n<pre><code>scanner.hasNextLine();\n</code></pre>\n\n<p>method. This method gets blocked if it has to wait for the input. Also you have </p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\n</code></pre>\n\n<p>statement. So the system.in will be waiting for input all the time, hence the hasNextLine() method has to wait for the input.\nThat is why the control gets stuck in the loop and can't proceed further.</p>\n\n<p>To fix it you can first store input in a string variable and the call the scanner constructor on it.</p>\n"},{"tags":[],"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332487670,"creation_date":1332487670,"answer_id":9835489,"question_id":9816965,"body_markdown":"You need to tell the program that there is going to be no more input. This is done by appending an EOF character. This can be done manually on Linux by pressing Ctrl-D in the console. I think on Windows you can press Ctrl-Z. The stream will be automatically closed if you are piping input from one program to another.\r\n\r\neg.\r\n\r\n    cat filename | java MyJavaProgram","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>You need to tell the program that there is going to be no more input. This is done by appending an EOF character. This can be done manually on Linux by pressing Ctrl-D in the console. I think on Windows you can press Ctrl-Z. The stream will be automatically closed if you are piping input from one program to another.</p>\n\n<p>eg.</p>\n\n<pre><code>cat filename | java MyJavaProgram\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"score":0,"creation_date":1605036128,"post_id":16071887,"comment_id":114528507,"body_markdown":"This makes no sense. What is the point of a Boolean property that _always_ evaluates to true. Something isn&#39;t adding up. What am I missing?","body":"This makes no sense. What is the point of a Boolean property that <i>always</i> evaluates to true. Something isn&#39;t adding up. What am I missing?"},{"owner":{"account_id":1521044,"reputation":12075,"user_id":1420684,"accept_rate":66,"display_name":"Mirror318"},"score":0,"creation_date":1605041706,"post_id":16071887,"comment_id":114530548,"body_markdown":"@NathanToulbert You&#39;re right, I wrote this answer 7 years ago and I was caught up following the asker&#39;s existing code. You&#39;d only want the `hasNextLine` if you plan on terminating system input.","body":"@NathanToulbert You&#39;re right, I wrote this answer 7 years ago and I was caught up following the asker&#39;s existing code. You&#39;d only want the <code>hasNextLine</code> if you plan on terminating system input."}],"tags":[],"owner":{"account_id":1521044,"reputation":12075,"user_id":1420684,"accept_rate":66,"display_name":"Mirror318"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366240679,"creation_date":1366240679,"answer_id":16071887,"question_id":9816965,"body_markdown":"The magic of\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n        while(scanner.hasNextLine()){ \r\n\r\nIs that there will never stop being input from System (unless you close the input with ctrl+d (for macs)).\r\n\r\nTo stop the loop, I suggest throw something more in the condition than just hasNextLine().\r\n\r\nE.g.\r\n\r\n    Scanner scanner = new Scanner(System.in);   //scanner reads block of input\r\n        int BLOCK_SIZE  =3,count=1;\r\n        while(scanner.hasNextLine() &amp;&amp; count++ &lt;= BLOCK_SIZE){   //&lt;- Use count here.\r\n            //body of loop goes here\r\n            String s = scanner.nextLine();\r\n            Scanner ls = new Scanner(s);   //scanner to parse a line of input\r\n            while(ls.hasNext()){\r\n            //body of nested loop goes here\r\n            ls.next();\r\n            }\r\n        }\r\n        System.out.println(&quot;Fin&quot;);\r\n\r\n    }","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>The magic of</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\n    while(scanner.hasNextLine()){ \n</code></pre>\n\n<p>Is that there will never stop being input from System (unless you close the input with ctrl+d (for macs)).</p>\n\n<p>To stop the loop, I suggest throw something more in the condition than just hasNextLine().</p>\n\n<p>E.g.</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);   //scanner reads block of input\n    int BLOCK_SIZE  =3,count=1;\n    while(scanner.hasNextLine() &amp;&amp; count++ &lt;= BLOCK_SIZE){   //&lt;- Use count here.\n        //body of loop goes here\n        String s = scanner.nextLine();\n        Scanner ls = new Scanner(s);   //scanner to parse a line of input\n        while(ls.hasNext()){\n        //body of nested loop goes here\n        ls.next();\n        }\n    }\n    System.out.println(\"Fin\");\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12490223,"reputation":11,"user_id":9092024,"display_name":"Senozoid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682493477,"creation_date":1682493477,"answer_id":76108102,"question_id":9816965,"body_markdown":"How do you know when the user has finished with the inputs and the next &quot;Enter&quot; is supposed to not signify a new line of input, but the end of the inputs? \\\r\nYou can try counting the number of lines and breaking out of the loop after a maximum. Or you can look for a specific input like &quot;submit&quot; to break out of the loop.\r\nOtherwise, with `scanner.hasNextLine()`, the program considers every carriage return to be a new line, hence the condition never fails.\r\n\r\n","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>How do you know when the user has finished with the inputs and the next &quot;Enter&quot; is supposed to not signify a new line of input, but the end of the inputs? <br />\nYou can try counting the number of lines and breaking out of the loop after a maximum. Or you can look for a specific input like &quot;submit&quot; to break out of the loop.\nOtherwise, with <code>scanner.hasNextLine()</code>, the program considers every carriage return to be a new line, hence the condition never fails.</p>\n"}],"owner":{"account_id":1340915,"reputation":61,"user_id":1282579,"display_name":"mPierce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20920,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1695632555,"creation_date":1332394376,"question_id":9816965,"body_markdown":"I&#39;ve been having trouble using java&#39;s Scanner class. I can get it to read my input just fine, but the problem is when I want to output something. Given multiple lines of input, I want to print just ONE line when all the input has been read completely. Here&#39;s the code I use for reading input:\r\n        \r\n        public static void main(String[] args){\r\n\t    Scanner scanner = new Scanner(System.in);   //scanner reads block of input\r\n        while(scanner.hasNextLine()){    \r\n            //body of loop goes here\r\n            String s = scanner.nextLine();\r\n            Scanner ls = new Scanner(s);   //scanner to parse a line of input\r\n            while(ls.hasNext()){\r\n            //body of nested loop goes here\r\n            ls.next();\r\n            }\r\n        }\r\n        System.out.println(&quot;Fin&quot;);\r\n        }\r\n\r\n\r\nEven when all lines of input have been read, the program doesn&#39;t reach the System.out.println message. (Note that the message can&#39;t go anywhere else or it will output as many times as the loop is run). How do I fix this? Any help would be greatly appreciated.","title":"Java Scanner won&#39;t &quot;finish&quot; reading input","body":"<p>I've been having trouble using java's Scanner class. I can get it to read my input just fine, but the problem is when I want to output something. Given multiple lines of input, I want to print just ONE line when all the input has been read completely. Here's the code I use for reading input:</p>\n\n<pre><code>    public static void main(String[] args){\n    Scanner scanner = new Scanner(System.in);   //scanner reads block of input\n    while(scanner.hasNextLine()){    \n        //body of loop goes here\n        String s = scanner.nextLine();\n        Scanner ls = new Scanner(s);   //scanner to parse a line of input\n        while(ls.hasNext()){\n        //body of nested loop goes here\n        ls.next();\n        }\n    }\n    System.out.println(\"Fin\");\n    }\n</code></pre>\n\n<p>Even when all lines of input have been read, the program doesn't reach the System.out.println message. (Note that the message can't go anywhere else or it will output as many times as the loop is run). How do I fix this? Any help would be greatly appreciated.</p>\n"},{"tags":["java","selenium-webdriver","accessibility","deque","axe"],"comments":[{"owner":{"account_id":29522323,"reputation":1,"user_id":22624811,"display_name":"Asadrazamahmood"},"score":0,"creation_date":1695566517,"post_id":77167547,"comment_id":136038572,"body_markdown":"The only way to save myself from this error is disableIframeTesting() .so please tell me the solution with out disableIframeTesting().","body":"The only way to save myself from this error is disableIframeTesting() .so please tell me the solution with out disableIframeTesting()."},{"owner":{"account_id":29522323,"reputation":1,"user_id":22624811,"display_name":"Asadrazamahmood"},"score":0,"creation_date":1695566582,"post_id":77167547,"comment_id":136038577,"body_markdown":"Results axeResult = new AxeBuilder().analyze(driver);\nThis line gives me below error  &quot;Error when enabling iframe communication&quot;","body":"Results axeResult = new AxeBuilder().analyze(driver); This line gives me below error  &quot;Error when enabling iframe communication&quot;"}],"owner":{"account_id":29522323,"reputation":1,"user_id":22624811,"display_name":"Asadrazamahmood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695632142,"creation_date":1695566342,"question_id":77167547,"body_markdown":"```\r\npublic void anyAccessibilityWithCustomReport() throws InterruptedException {\r\n       \r\n    Results axeResult = new AxeBuilder().disableIframeTesting().analyze(driver);\r\n    \r\n    Assertions.assertTrue(axeResult.violationFree(), buildCustomReport(axeResult));\r\n}\r\n```\r\n\r\nThe error is on this line.\r\n\r\n```\r\nResults axeResult = new AxeBuilder().analyze(driver);\r\n```\r\n\r\nAnd the error says the following.\r\n\r\n```\r\nError when enabling iframe communication\r\n```\r\n\r\nI am using the above code, but sometimes my test cases become quite flaky. When that happens, I get the above error. I am using the latest version of axe core 4.7.0 . Can anyone give me any suggestions on how to remove this error?","title":"I am getting this error &quot;Error when enabling iframe communication&quot; when try to run accessibility script","body":"<pre><code>public void anyAccessibilityWithCustomReport() throws InterruptedException {\n       \n    Results axeResult = new AxeBuilder().disableIframeTesting().analyze(driver);\n    \n    Assertions.assertTrue(axeResult.violationFree(), buildCustomReport(axeResult));\n}\n</code></pre>\n<p>The error is on this line.</p>\n<pre><code>Results axeResult = new AxeBuilder().analyze(driver);\n</code></pre>\n<p>And the error says the following.</p>\n<pre><code>Error when enabling iframe communication\n</code></pre>\n<p>I am using the above code, but sometimes my test cases become quite flaky. When that happens, I get the above error. I am using the latest version of axe core 4.7.0 . Can anyone give me any suggestions on how to remove this error?</p>\n"},{"tags":["java","hibernate","jpa","keycloak","quarkus"],"answers":[{"tags":[],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695632113,"creation_date":1695632113,"answer_id":77171204,"question_id":77153094,"body_markdown":"The solution is quite obvious but sometimes one  does not to see the wood for the trees:\r\n\r\nThe config metadata has to be configured with and to be returned from the\r\n`public List&lt;ProviderConfigProperty&gt; getConfigProperties()` Method within the `UserStorageProviderFactory`\r\n\r\nThen the name of the datasource (persistent unit) e.g. my-user-store which must be filled when the instance of the Provider is created/configured. The name then can be passed to the constructor of the `UserStorageProvider` which then can initialize the entity manager with\r\n\r\n`em = session.getProvider(JpaConnectionProvider.class, datasourceName).getEntityManager();`\r\n\r\nWithin quarkus.properties and persistence.xml all datasources that should be used are configured.\r\nThe schema is set with `quarkus.datasource.my-user-store.jdbc.new-connection-sql=SET search_path TO my-schema`\r\n\r\n\r\n","title":"How to use a configurable schema name in Keycloak User Storage SPI / Quarkus","body":"<p>The solution is quite obvious but sometimes one  does not to see the wood for the trees:</p>\n<p>The config metadata has to be configured with and to be returned from the\n<code>public List&lt;ProviderConfigProperty&gt; getConfigProperties()</code> Method within the <code>UserStorageProviderFactory</code></p>\n<p>Then the name of the datasource (persistent unit) e.g. my-user-store which must be filled when the instance of the Provider is created/configured. The name then can be passed to the constructor of the <code>UserStorageProvider</code> which then can initialize the entity manager with</p>\n<p><code>em = session.getProvider(JpaConnectionProvider.class, datasourceName).getEntityManager();</code></p>\n<p>Within quarkus.properties and persistence.xml all datasources that should be used are configured.\nThe schema is set with <code>quarkus.datasource.my-user-store.jdbc.new-connection-sql=SET search_path TO my-schema</code></p>\n"}],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77171204,"answer_count":1,"score":0,"last_activity_date":1695632113,"creation_date":1695324133,"question_id":77153094,"body_markdown":"I am implementing a custom user storage provider which gets the user data from an external PostgreSQL database. Since I have several schemas I want to create 2 instances of that provider where I am using the schema name to query the database. \r\n\r\nI am about to use [this][1] example which is using quarkus and JPA(Hibernate) to encapsulate the database access. \r\n\r\nHow can I set the schema (within UserEntity?) programmatically to achieve that.  \r\n\r\nThanks and Regards\r\nmatt\r\n\r\n  [1]: https://github.com/keycloak/keycloak-quickstarts/tree/latest/extension/user-storage-jpa","title":"How to use a configurable schema name in Keycloak User Storage SPI / Quarkus","body":"<p>I am implementing a custom user storage provider which gets the user data from an external PostgreSQL database. Since I have several schemas I want to create 2 instances of that provider where I am using the schema name to query the database.</p>\n<p>I am about to use <a href=\"https://github.com/keycloak/keycloak-quickstarts/tree/latest/extension/user-storage-jpa\" rel=\"nofollow noreferrer\">this</a> example which is using quarkus and JPA(Hibernate) to encapsulate the database access.</p>\n<p>How can I set the schema (within UserEntity?) programmatically to achieve that.</p>\n<p>Thanks and Regards\nmatt</p>\n"},{"tags":["java","android-view"],"comments":[{"owner":{"account_id":21866301,"reputation":3729,"user_id":16217248,"display_name":"user16217248"},"score":0,"creation_date":1686879186,"post_id":76486138,"comment_id":134862348,"body_markdown":"Does this answer your question? [Java: instanceof Generic](https://stackoverflow.com/questions/4704902/java-instanceof-generic)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4704902/java-instanceof-generic\">Java: instanceof Generic</a>"},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1686927667,"post_id":76486138,"comment_id":134870337,"body_markdown":"see the edits..","body":"see the edits.."},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1687041789,"post_id":76486138,"comment_id":134882293,"body_markdown":"also I think someone declared this a duplicate without trying it. This version has no object of type T. They do.","body":"also I think someone declared this a duplicate without trying it. This version has no object of type T. They do."},{"owner":{"account_id":340590,"reputation":985,"user_id":670693,"display_name":"justhecuke"},"score":0,"creation_date":1687050999,"post_id":76486138,"comment_id":134882838,"body_markdown":"It&#39;s usually a red flag in your question when you state that you&#39;ve hit an error but then don&#39;t provide what that error is.","body":"It&#39;s usually a red flag in your question when you state that you&#39;ve hit an error but then don&#39;t provide what that error is."}],"answers":[{"comments":[{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1687038669,"post_id":76492708,"comment_id":134882058,"body_markdown":"`Class&lt;? extends T&gt;` on the what? Trying it now","body":"<code>Class&lt;? extends T&gt;</code> on the what? Trying it now"},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1687045658,"post_id":76492708,"comment_id":134882533,"body_markdown":"You would pass the class as an argument: `static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup viewGroup, @NonNull Consumer&lt;T&gt; viewAdjusterVisitor, @NonNull Class&lt;T extends View&gt; clazz)`.","body":"You would pass the class as an argument: <code>static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup viewGroup, @NonNull Consumer&lt;T&gt; viewAdjusterVisitor, @NonNull Class&lt;T extends View&gt; clazz)</code>."},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1687045669,"post_id":76492708,"comment_id":134882535,"body_markdown":"I&#39;m Java 1.8. unexpected bounds\n\non `Class&lt;T extends View&gt;`\n\nit can&#39;t handle the extends View part","body":"I&#39;m Java 1.8. unexpected bounds  on <code>Class&lt;T extends View&gt;</code>  it can&#39;t handle the extends View part"}],"tags":[],"owner":{"account_id":3480738,"reputation":1361,"user_id":2912870,"display_name":"John Spong"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686939308,"creation_date":1686939308,"answer_id":76492708,"question_id":76486138,"body_markdown":"Java works using type erasure for generics, so the bytecode representation of the class has `java.lang.Object` as the type for `T`, so the instanceof will be true for any object and the compiler rejects.\r\n\r\nSimplest fix is to add a `Class&lt;? extends T&gt;` argument and use runtime reflection using the class object directly","title":"generic function to traverse a View hierarchy and find contained Views of a specific type","body":"<p>Java works using type erasure for generics, so the bytecode representation of the class has <code>java.lang.Object</code> as the type for <code>T</code>, so the instanceof will be true for any object and the compiler rejects.</p>\n<p>Simplest fix is to add a <code>Class&lt;? extends T&gt;</code> argument and use runtime reflection using the class object directly</p>\n"},{"tags":[],"owner":{"account_id":340590,"reputation":985,"user_id":670693,"display_name":"justhecuke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695583706,"creation_date":1687057650,"answer_id":76498892,"question_id":76486138,"body_markdown":"I think you&#39;re making this more complicated than it needs to be. The simplest solution is just to pass in the class that you&#39;re looking for.\r\n\r\nAs a general rule, if you find that you need type information that isn&#39;t available, then pass it in. Much like you would do for any other information that a method needs.\r\n\r\nWorking with generic type information is always tricky because of type erasure, as others have stated. It&#39;s generally best to pass in the class explicitly in these situations. If you absolutely need to know what the generic type of something is, then you can do what GSON does and use a subclass wrapper to access the superclass&#39;s generic information via `SubClass.class.getGenericSuperclass()`. But this is a bad idea which introduces bloat and is non-intuitive.\r\n\r\nI would also suggest that checking runtime type information is a code smell. You should do what you can to avoid this stuff since it makes it harder to optimize (cannot merge classes, for example) and is inherently fragile. Try to see if you can accomplish the same work with an interface default method, an abstract base class, or something similar. If at all possible, use standard OOP methods to do the work and avoid explicitly relying on runtime type information.\r\n\r\n```java\r\n// Aim for something like this which is common in Android-land.\r\nfindEachView(main.popupForm, EditText.class, (EditText v) -&gt; { ... });\r\n\r\nstatic &lt;T extends View&gt; void findEachView(\r\n         @NonNull ViewGroup viewGroup,\r\n         @NonNull Class&lt;T&gt; clz,\r\n         @NonNull Consumer&lt;? super T&gt; visitor) {\r\n  ...\r\n  if (clz.isInstance(v)) {\r\n    // do stuff\r\n  }\r\n  ...\r\n}\r\n\r\n```\r\n\r\n----\r\n\r\nThanks! I&#39;m going to add my working code to your answer so you get the experience points.\r\n\r\nMy previous code used string surgery to match the class name, so I was trying to take that argument out:\r\n\r\n        findEachView(\r\n                viewGroup,\r\n                &quot;EditText&quot;,\r\n                (view) -&gt; ((EditText) view).setError(null));\r\n\r\nYour fix allows a call like this, which is indeed cleaner because it has one fewer typecast:\r\n\r\n        findEachView(\r\n                viewGroup,\r\n                EditText.class,\r\n                (view) -&gt; view.setError(null));\r\n\r\nSo the winning code is:\r\n\r\n    static &lt;T extends View&gt; void findEachView(\r\n                                     @NonNull ViewGroup view,\r\n                                     Class&lt;T&gt; clz,\r\n                                     @NonNull Consumer&lt;? super T&gt; visitor) {\r\n        for (int i = 0; i &lt; view.getChildCount(); i++) {\r\n            View v = view.getChildAt(i);\r\n\r\n            if (clz.isInstance(v))\r\n                visitor.accept((T) v);  //  this cast gives a warning that the committee will ignore\r\n\r\n            if (v instanceof ViewGroup)\r\n                findEachView((ViewGroup) v, clz, visitor);\r\n        }\r\n    }  //  note this does not visit the top level item\r\n\r\nOne last edit: The lambda call is too clever; we should just return a list. ChatGPT offered this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; List&lt;T&gt; findViewDescendants(ViewGroup root, Class&lt;T&gt; targetClass) {\r\n        List&lt;T&gt; descendants = new ArrayList&lt;&gt;();\r\n        int childCount = root.getChildCount();\r\n\r\n        for (int i = 0; i &lt; childCount; i++) {\r\n            View child = root.getChildAt(i);\r\n\r\n            if (targetClass.isInstance(child))\r\n                descendants.add((T) child);  //  this cast gives a warning that the committee will ignore\r\n\r\n            if (child instanceof ViewGroup)\r\n                descendants.addAll(findViewDescendants((ViewGroup) child, targetClass));\r\n        }\r\n\r\n        return descendants;\r\n    }","title":"generic function to traverse a View hierarchy and find contained Views of a specific type","body":"<p>I think you're making this more complicated than it needs to be. The simplest solution is just to pass in the class that you're looking for.</p>\n<p>As a general rule, if you find that you need type information that isn't available, then pass it in. Much like you would do for any other information that a method needs.</p>\n<p>Working with generic type information is always tricky because of type erasure, as others have stated. It's generally best to pass in the class explicitly in these situations. If you absolutely need to know what the generic type of something is, then you can do what GSON does and use a subclass wrapper to access the superclass's generic information via <code>SubClass.class.getGenericSuperclass()</code>. But this is a bad idea which introduces bloat and is non-intuitive.</p>\n<p>I would also suggest that checking runtime type information is a code smell. You should do what you can to avoid this stuff since it makes it harder to optimize (cannot merge classes, for example) and is inherently fragile. Try to see if you can accomplish the same work with an interface default method, an abstract base class, or something similar. If at all possible, use standard OOP methods to do the work and avoid explicitly relying on runtime type information.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Aim for something like this which is common in Android-land.\nfindEachView(main.popupForm, EditText.class, (EditText v) -&gt; { ... });\n\nstatic &lt;T extends View&gt; void findEachView(\n         @NonNull ViewGroup viewGroup,\n         @NonNull Class&lt;T&gt; clz,\n         @NonNull Consumer&lt;? super T&gt; visitor) {\n  ...\n  if (clz.isInstance(v)) {\n    // do stuff\n  }\n  ...\n}\n\n</code></pre>\n<hr />\n<p>Thanks! I'm going to add my working code to your answer so you get the experience points.</p>\n<p>My previous code used string surgery to match the class name, so I was trying to take that argument out:</p>\n<pre><code>    findEachView(\n            viewGroup,\n            &quot;EditText&quot;,\n            (view) -&gt; ((EditText) view).setError(null));\n</code></pre>\n<p>Your fix allows a call like this, which is indeed cleaner because it has one fewer typecast:</p>\n<pre><code>    findEachView(\n            viewGroup,\n            EditText.class,\n            (view) -&gt; view.setError(null));\n</code></pre>\n<p>So the winning code is:</p>\n<pre><code>static &lt;T extends View&gt; void findEachView(\n                                 @NonNull ViewGroup view,\n                                 Class&lt;T&gt; clz,\n                                 @NonNull Consumer&lt;? super T&gt; visitor) {\n    for (int i = 0; i &lt; view.getChildCount(); i++) {\n        View v = view.getChildAt(i);\n\n        if (clz.isInstance(v))\n            visitor.accept((T) v);  //  this cast gives a warning that the committee will ignore\n\n        if (v instanceof ViewGroup)\n            findEachView((ViewGroup) v, clz, visitor);\n    }\n}  //  note this does not visit the top level item\n</code></pre>\n<p>One last edit: The lambda call is too clever; we should just return a list. ChatGPT offered this:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T&gt; List&lt;T&gt; findViewDescendants(ViewGroup root, Class&lt;T&gt; targetClass) {\n    List&lt;T&gt; descendants = new ArrayList&lt;&gt;();\n    int childCount = root.getChildCount();\n\n    for (int i = 0; i &lt; childCount; i++) {\n        View child = root.getChildAt(i);\n\n        if (targetClass.isInstance(child))\n            descendants.add((T) child);  //  this cast gives a warning that the committee will ignore\n\n        if (child instanceof ViewGroup)\n            descendants.addAll(findViewDescendants((ViewGroup) child, targetClass));\n    }\n\n    return descendants;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695631804,"creation_date":1695631804,"answer_id":77171163,"question_id":76486138,"body_markdown":"In Java, due to type erasure, you cannot use instanceof with generic types directly because the generic type information is not available at runtime\r\n\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport java.util.function.Consumer;\r\n\r\nclass YourClass {\r\n\r\n    static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup view, Class&lt;T&gt; viewType, @NonNull Consumer&lt;T&gt; viewAdjustorVisitor) {\r\n        for (int i = 0; i &lt; view.getChildCount(); i++) {\r\n            View v = view.getChildAt(i);\r\n\r\n            if (viewType.isInstance(v)) {\r\n                viewAdjustorVisitor.accept(viewType.cast(v));\r\n            }\r\n\r\n            if (v instanceof ViewGroup) {\r\n                findEachView((ViewGroup) v, viewType, viewAdjustorVisitor);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ncall it \r\n\r\n    findEachView(main.popupForm, EditText.class, (EditText v) -&gt; {\r\n        CharSequence error = v.getError();\r\n        if (error != null)\r\n            assertNull((String) v.getTag(), error.toString());\r\n    });\r\n\r\n","title":"generic function to traverse a View hierarchy and find contained Views of a specific type","body":"<p>In Java, due to type erasure, you cannot use instanceof with generic types directly because the generic type information is not available at runtime</p>\n<p>import android.view.View;\nimport android.view.ViewGroup;\nimport java.util.function.Consumer;</p>\n<p>class YourClass {</p>\n<pre><code>static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup view, Class&lt;T&gt; viewType, @NonNull Consumer&lt;T&gt; viewAdjustorVisitor) {\n    for (int i = 0; i &lt; view.getChildCount(); i++) {\n        View v = view.getChildAt(i);\n\n        if (viewType.isInstance(v)) {\n            viewAdjustorVisitor.accept(viewType.cast(v));\n        }\n\n        if (v instanceof ViewGroup) {\n            findEachView((ViewGroup) v, viewType, viewAdjustorVisitor);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>call it</p>\n<pre><code>findEachView(main.popupForm, EditText.class, (EditText v) -&gt; {\n    CharSequence error = v.getError();\n    if (error != null)\n        assertNull((String) v.getTag(), error.toString());\n});\n</code></pre>\n"}],"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76498892,"answer_count":3,"score":1,"last_activity_date":1695631804,"creation_date":1686872892,"question_id":76486138,"body_markdown":"My outer problem, in Java 1.8, is I want to traverse (or spider) a tree of View objects and call a callback on each one of a specific type. Here&#39;s an example caller:\r\n\r\n            findEachView(main.popupForm, (EditText v) -&gt; {\r\n                CharSequence error = v.getError();\r\n\r\n                if (error != null)\r\n                    assertNull((String) v.getTag(), error.toString());\r\n            });\r\n\r\nThat is supposed to traverse all the controls on the popupForm and, for each one that is an EditText, call my callback which asserts that it does not have an error.\r\n\r\nThe inner problem is my generic method to do it has a syntax error:\r\n\r\n    static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup view, @NonNull Consumer&lt;T&gt; viewAdjustorVisitor) {\r\n        for (int i = 0; i &lt; view.getChildCount(); i++) {\r\n            View v = view.getChildAt(i);\r\n\r\n            if (v instanceof T)  // ERROR:  reifiable types in instanceof are not supported in -source 8\r\n                viewAdjustorVisitor.accept((T) v);\r\n\r\n            if (v instanceof ViewGroup)\r\n                findEachView((ViewGroup) v, viewAdjustorVisitor);\r\n        }\r\n    }\r\n\r\nSo my outer question is: How to efficiently and typesafely rip every View of the given type?\r\n\r\nAnd my inner question is: How to get the generics to not throw away type information and let me call `instanceof` on a type that _I_ know is reified?\r\n\r\n----\r\n\r\nWe can&#39;t use `isAssignableFrom()` because it takes an object of type `T` and my template doesn&#39;t have one. Its point is to downcast a `View` into a `T`, not mess with a `T` object that already exists. And I can&#39;t create a `new` object because `T` is &quot;not reified&quot;:\r\n\r\n`if (v.getClass().isAssignableFrom(new T()))`\r\n\r\nSo maybe someone could answer the outer question?\r\n\r\n----\r\n\r\nwhen I add the `?` we get this, with the next syntax error. I think this is an unanswered question in Java 1.8 template theory\r\n\r\n    static &lt;T extends View&gt; void findEachView(@NonNull\r\n             ViewGroup viewGroup, @NonNull\r\n             Consumer&lt;Class&lt;? extends View&gt;&gt; visitor) {\r\n        for (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\r\n            View v = viewGroup.getChildAt(i);\r\n\r\n            if (null != (Class &lt;? extends android.view.View&gt;) v)  // ERROR:  incompatible types: View cannot be converted to Class&lt;? extends View&gt;\r\n                visitor.accept((Class &lt;? extends android.view.View&gt;) v);\r\n\r\n            if (v instanceof ViewGroup)\r\n                findEachView((ViewGroup) v, visitor);\r\n        }\r\n    }\r\n\r\n","title":"generic function to traverse a View hierarchy and find contained Views of a specific type","body":"<p>My outer problem, in Java 1.8, is I want to traverse (or spider) a tree of View objects and call a callback on each one of a specific type. Here's an example caller:</p>\n<pre><code>        findEachView(main.popupForm, (EditText v) -&gt; {\n            CharSequence error = v.getError();\n\n            if (error != null)\n                assertNull((String) v.getTag(), error.toString());\n        });\n</code></pre>\n<p>That is supposed to traverse all the controls on the popupForm and, for each one that is an EditText, call my callback which asserts that it does not have an error.</p>\n<p>The inner problem is my generic method to do it has a syntax error:</p>\n<pre><code>static &lt;T extends View&gt; void findEachView(@NonNull ViewGroup view, @NonNull Consumer&lt;T&gt; viewAdjustorVisitor) {\n    for (int i = 0; i &lt; view.getChildCount(); i++) {\n        View v = view.getChildAt(i);\n\n        if (v instanceof T)  // ERROR:  reifiable types in instanceof are not supported in -source 8\n            viewAdjustorVisitor.accept((T) v);\n\n        if (v instanceof ViewGroup)\n            findEachView((ViewGroup) v, viewAdjustorVisitor);\n    }\n}\n</code></pre>\n<p>So my outer question is: How to efficiently and typesafely rip every View of the given type?</p>\n<p>And my inner question is: How to get the generics to not throw away type information and let me call <code>instanceof</code> on a type that <em>I</em> know is reified?</p>\n<hr />\n<p>We can't use <code>isAssignableFrom()</code> because it takes an object of type <code>T</code> and my template doesn't have one. Its point is to downcast a <code>View</code> into a <code>T</code>, not mess with a <code>T</code> object that already exists. And I can't create a <code>new</code> object because <code>T</code> is &quot;not reified&quot;:</p>\n<p><code>if (v.getClass().isAssignableFrom(new T()))</code></p>\n<p>So maybe someone could answer the outer question?</p>\n<hr />\n<p>when I add the <code>?</code> we get this, with the next syntax error. I think this is an unanswered question in Java 1.8 template theory</p>\n<pre><code>static &lt;T extends View&gt; void findEachView(@NonNull\n         ViewGroup viewGroup, @NonNull\n         Consumer&lt;Class&lt;? extends View&gt;&gt; visitor) {\n    for (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\n        View v = viewGroup.getChildAt(i);\n\n        if (null != (Class &lt;? extends android.view.View&gt;) v)  // ERROR:  incompatible types: View cannot be converted to Class&lt;? extends View&gt;\n            visitor.accept((Class &lt;? extends android.view.View&gt;) v);\n\n        if (v instanceof ViewGroup)\n            findEachView((ViewGroup) v, visitor);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":11941592,"reputation":1007,"user_id":8738231,"display_name":"mostafa3dmax"},"score":0,"creation_date":1695630959,"post_id":77170622,"comment_id":136045029,"body_markdown":"Maybe you have two launcher activity in the manifest file .","body":"Maybe you have two launcher activity in the manifest file ."},{"owner":{"account_id":29251271,"reputation":1,"user_id":22410580,"display_name":"Sam"},"score":0,"creation_date":1695725666,"post_id":77170622,"comment_id":136059970,"body_markdown":"Yes, I had two launcher activities in my manifest file. \nThank You, this solved my problem","body":"Yes, I had two launcher activities in my manifest file.  Thank You, this solved my problem"}],"answers":[{"comments":[{"owner":{"account_id":29251271,"reputation":1,"user_id":22410580,"display_name":"Sam"},"score":0,"creation_date":1695723015,"post_id":77171122,"comment_id":136059457,"body_markdown":"I have verified. The package name is same. And also settings is also showing only 1 app installed. But icons are 2.","body":"I have verified. The package name is same. And also settings is also showing only 1 app installed. But icons are 2."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695781347,"post_id":77171122,"comment_id":136069024,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77171122/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28573012,"reputation":1,"user_id":21874977,"display_name":"Mahmoud Ewida"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695631396,"creation_date":1695631396,"answer_id":77171122,"question_id":77170622,"body_markdown":"It may happens because the package name of each app is not the same check the package name of them in your android device","title":"Two icons of same app visible in the device when running using ADB or wireless debugging from android studio","body":"<p>It may happens because the package name of each app is not the same check the package name of them in your android device</p>\n"}],"owner":{"account_id":29251271,"reputation":1,"user_id":22410580,"display_name":"Sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695631396,"creation_date":1695627041,"question_id":77170622,"body_markdown":"I have a android project. It was running smoothly before but suddenly when I run the project using ADB or wireless debugging on physical device I am getting two icons of the same app. I am not able to find the cause. ","title":"Two icons of same app visible in the device when running using ADB or wireless debugging from android studio","body":"<p>I have a android project. It was running smoothly before but suddenly when I run the project using ADB or wireless debugging on physical device I am getting two icons of the same app. I am not able to find the cause.</p>\n"},{"tags":["java","android","screenshot","shakebug"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1694692457,"post_id":77104430,"comment_id":135926324,"body_markdown":"Use the media projection API.","body":"Use the media projection API."},{"owner":{"account_id":1189104,"reputation":1548,"user_id":1162402,"accept_rate":26,"display_name":"Chirag Lukhi"},"score":0,"creation_date":1694760263,"post_id":77104430,"comment_id":135936083,"body_markdown":"@CommonsWare don&#39;t you think every time it will ask permission whenever I will try to take screenshot?","body":"@CommonsWare don&#39;t you think every time it will ask permission whenever I will try to take screenshot?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1694774500,"post_id":77104430,"comment_id":135938677,"body_markdown":"Last I knew, you only need to ask once per process invocation, not on every screenshot.","body":"Last I knew, you only need to ask once per process invocation, not on every screenshot."},{"owner":{"account_id":9150719,"reputation":3547,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"score":0,"creation_date":1695036049,"post_id":77104430,"comment_id":135965834,"body_markdown":"Do you want to capture your app&#39;s ui or any screen you see at the moment?","body":"Do you want to capture your app&#39;s ui or any screen you see at the moment?"},{"owner":{"account_id":9150719,"reputation":3547,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"score":0,"creation_date":1695037023,"post_id":77104430,"comment_id":135966038,"body_markdown":"I asked between two, I could not guess...","body":"I asked between two, I could not guess..."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1695037178,"post_id":77104430,"comment_id":135966070,"body_markdown":"@F.Mysir I want to capture app&#39;s UI","body":"@F.Mysir I want to capture app&#39;s UI"},{"owner":{"account_id":9150719,"reputation":3547,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"score":0,"creation_date":1695037486,"post_id":77104430,"comment_id":135966127,"body_markdown":"Unfortunatly with Java and XML Ui I can not help. With this library I had great success with my app I am designing https://github.com/PatilShreyas/Capturable but is for jetpack compose","body":"Unfortunatly with Java and XML Ui I can not help. With this library I had great success with my app I am designing <a href=\"https://github.com/PatilShreyas/Capturable\" rel=\"nofollow noreferrer\">github.com/PatilShreyas/Capturable</a> but is for jetpack compose"},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1695037784,"post_id":77104430,"comment_id":135966187,"body_markdown":"Android app UI: https://www.linkpicture.com/q/1695037303949.jpeg\nwhen User shake then SDK will appear : https://www.linkpicture.com/q/1695037394422.jpeg\nto Report Bug .  this is the example how currently screenshot is taken .","body":"Android app UI: <a href=\"https://www.linkpicture.com/q/1695037303949.jpeg\" rel=\"nofollow noreferrer\">linkpicture.com/q/1695037303949.jpeg</a> when User shake then SDK will appear : <a href=\"https://www.linkpicture.com/q/1695037394422.jpeg\" rel=\"nofollow noreferrer\">linkpicture.com/q/1695037394422.jpeg</a> to Report Bug .  this is the example how currently screenshot is taken ."}],"answers":[{"tags":[],"owner":{"account_id":29520193,"reputation":932,"user_id":22623172,"display_name":"Vlad Guriev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695555933,"creation_date":1695555933,"answer_id":77166949,"question_id":77104430,"body_markdown":"For API level 26 and above, you can use [PixelCopy][1] as follows:\r\n\r\n    val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n    val listener = PixelCopy.OnPixelCopyFinishedListener { copyResult -&gt;\r\n        when (copyResult) {\r\n            PixelCopy.SUCCESS -&gt; //use bitmap as a screenshot\r\n            else -&gt; //handle error\r\n        }\r\n    }\r\n    PixelCopy.request(window, bitmap, listener, handler)\r\n\r\nOr in Java:\r\n\r\n    Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n    PixelCopy.OnPixelCopyFinishedListener listener = copyResult -&gt; {\r\n        switch (copyResult) {\r\n            case PixelCopy.SUCCESS:\r\n                //use bitmap as a screenshot\r\n                break;\r\n            default:\r\n                //handle error\r\n                break;\r\n        }\r\n    };\r\n    PixelCopy.request(window, bitmap, listener, handler);\r\n\r\nFor `SurfaceView` (i.e. if you pass it as a parameter instead of `Window`) the lower bound is 24, not 26.\r\n\r\n  [1]: https://developer.android.com/reference/android/view/PixelCopy","title":"Alternative way to take screenshot without android.View in Android","body":"<p>For API level 26 and above, you can use <a href=\"https://developer.android.com/reference/android/view/PixelCopy\" rel=\"nofollow noreferrer\">PixelCopy</a> as follows:</p>\n<pre><code>val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\nval listener = PixelCopy.OnPixelCopyFinishedListener { copyResult -&gt;\n    when (copyResult) {\n        PixelCopy.SUCCESS -&gt; //use bitmap as a screenshot\n        else -&gt; //handle error\n    }\n}\nPixelCopy.request(window, bitmap, listener, handler)\n</code></pre>\n<p>Or in Java:</p>\n<pre><code>Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\nPixelCopy.OnPixelCopyFinishedListener listener = copyResult -&gt; {\n    switch (copyResult) {\n        case PixelCopy.SUCCESS:\n            //use bitmap as a screenshot\n            break;\n        default:\n            //handle error\n            break;\n    }\n};\nPixelCopy.request(window, bitmap, listener, handler);\n</code></pre>\n<p>For <code>SurfaceView</code> (i.e. if you pass it as a parameter instead of <code>Window</code>) the lower bound is 24, not 26.</p>\n"},{"tags":[],"owner":{"account_id":12694317,"reputation":1,"user_id":9223264,"display_name":"Jaspalsinh Gohil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695626975,"creation_date":1695626975,"answer_id":77170613,"question_id":77104430,"body_markdown":"To capture the UI with a transparent background and treat it like a UI surface or a render UI texture view, you can use below code example\r\n\r\n    public Bitmap captureUIWithTransparentBackground() {\r\n    SurfaceView surfaceView = new SurfaceView(getCActivity());\r\n    surfaceView.setBackgroundColor(Color.TRANSPARENT);\r\n    \r\n    SurfaceTexture surfaceTexture = new SurfaceTexture(1);\r\n    surfaceView.setSurfaceTexture(surfaceTexture);\r\n    \r\n    Canvas canvas = surfaceTexture.lockCanvas(null);\r\n    canvas.drawColor(Color.TRANSPARENT);\r\n    View mView = getCActivity().getWindow().getDecorView();\r\n    mView.draw(canvas);\r\n    canvas.unlockCanvasAndPost(surfaceTexture);\r\n    \r\n    surfaceTexture.updateTexImage();\r\n    \r\n    Bitmap bitmap = new Bitmap(surfaceView.getWidth(), surfaceView.getHeight(), Bitmap.Config.ARGB_8888);\r\n    surfaceTexture.getBitmap(bitmap);\r\n    \r\n    return bitmap;\r\n    }\r\n\r\n","title":"Alternative way to take screenshot without android.View in Android","body":"<p>To capture the UI with a transparent background and treat it like a UI surface or a render UI texture view, you can use below code example</p>\n<pre><code>public Bitmap captureUIWithTransparentBackground() {\nSurfaceView surfaceView = new SurfaceView(getCActivity());\nsurfaceView.setBackgroundColor(Color.TRANSPARENT);\n\nSurfaceTexture surfaceTexture = new SurfaceTexture(1);\nsurfaceView.setSurfaceTexture(surfaceTexture);\n\nCanvas canvas = surfaceTexture.lockCanvas(null);\ncanvas.drawColor(Color.TRANSPARENT);\nView mView = getCActivity().getWindow().getDecorView();\nmView.draw(canvas);\ncanvas.unlockCanvasAndPost(surfaceTexture);\n\nsurfaceTexture.updateTexImage();\n\nBitmap bitmap = new Bitmap(surfaceView.getWidth(), surfaceView.getHeight(), Bitmap.Config.ARGB_8888);\nsurfaceTexture.getBitmap(bitmap);\n\nreturn bitmap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695631186,"creation_date":1695631186,"answer_id":77171093,"question_id":77104430,"body_markdown":"Use a custom SurfaceView or TextureView to render your UI and then capture the content of that view as an image\r\n\r\n    public class CustomSurfaceView extends SurfaceView implements SurfaceHolder.Callback {\r\n        private SurfaceHolder surfaceHolder;\r\n    \r\n        public CustomSurfaceView(Context context) {\r\n            super(context);\r\n            surfaceHolder = getHolder();\r\n            surfaceHolder.addCallback(this);\r\n        }\r\n    \r\n        @Override\r\n        public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n            // Handle surface changes, if necessary\r\n        }\r\n    \r\n        @Override\r\n        public void surfaceCreated(SurfaceHolder holder) {\r\n            // Render your UI on the surface\r\n            drawUI(holder.getSurface());\r\n    \r\n            // Capture the content of the surface as a Bitmap with a transparent background\r\n            Bitmap capturedBitmap = captureTransparentBitmap();\r\n            \r\n            // Now, you have the capturedBitmap with a transparent background\r\n        }\r\n    \r\n        @Override\r\n        public void surfaceDestroyed(SurfaceHolder holder) {\r\n            // Handle surface destruction, if necessary\r\n        }\r\n    \r\n        private void drawUI(Surface surface) {\r\n            // Implement your UI rendering logic here using Canvas and Surface\r\n            // This is where you render your UI elements onto the surface\r\n        }\r\n    \r\n        private Bitmap captureTransparentBitmap() {\r\n            // Capture the content of the SurfaceView as a Bitmap with a transparent background\r\n            Bitmap capturedBitmap = Bitmap.createBitmap(getWidth(), getHeight(), Bitmap.Config.ARGB_8888);\r\n            Canvas canvas = new Canvas(capturedBitmap);\r\n            draw(canvas);\r\n            return capturedBitmap;\r\n        }\r\n    }\r\n\r\n","title":"Alternative way to take screenshot without android.View in Android","body":"<p>Use a custom SurfaceView or TextureView to render your UI and then capture the content of that view as an image</p>\n<pre><code>public class CustomSurfaceView extends SurfaceView implements SurfaceHolder.Callback {\n    private SurfaceHolder surfaceHolder;\n\n    public CustomSurfaceView(Context context) {\n        super(context);\n        surfaceHolder = getHolder();\n        surfaceHolder.addCallback(this);\n    }\n\n    @Override\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n        // Handle surface changes, if necessary\n    }\n\n    @Override\n    public void surfaceCreated(SurfaceHolder holder) {\n        // Render your UI on the surface\n        drawUI(holder.getSurface());\n\n        // Capture the content of the surface as a Bitmap with a transparent background\n        Bitmap capturedBitmap = captureTransparentBitmap();\n        \n        // Now, you have the capturedBitmap with a transparent background\n    }\n\n    @Override\n    public void surfaceDestroyed(SurfaceHolder holder) {\n        // Handle surface destruction, if necessary\n    }\n\n    private void drawUI(Surface surface) {\n        // Implement your UI rendering logic here using Canvas and Surface\n        // This is where you render your UI elements onto the surface\n    }\n\n    private Bitmap captureTransparentBitmap() {\n        // Capture the content of the SurfaceView as a Bitmap with a transparent background\n        Bitmap capturedBitmap = Bitmap.createBitmap(getWidth(), getHeight(), Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(capturedBitmap);\n        draw(canvas);\n        return capturedBitmap;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1189104,"reputation":1548,"user_id":1162402,"accept_rate":26,"display_name":"Chirag Lukhi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695631186,"creation_date":1694690763,"question_id":77104430,"body_markdown":"I&#39;m currently developing on an Android Dependency/SDK that allows users to capture a screenshot. I&#39;ve implemented the following code, which is working fine for capturing screenshots of the visible UI:\r\n\r\n    View mView = getCActivity().getWindow().getDecorView();\r\n    mView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\r\n    mView .buildDrawingCache();\r\n    Bitmap mBitmap = mView.getDrawingCache();\r\n    Window window = getCActivity().getWindow();\r\n\r\nHowever, the issue I&#39;m facing is that I want to capture the UI with a transparent background and treat it like a UI surface or a render UI texture view. In other words, *I want to be capture view in surface view, texture view, background transparent (Likely Flutter UI)*\r\n\r\n    android.view.SurfaceView\r\n    android.graphics.SurfaceTexture\r\n\r\n\r\nIs there a way to modify my existing code or implement additional features so that I can capture the UI with a surface view, texture view or transparent background? Any guidance, code examples, or suggestions would be greatly appreciated.","title":"Alternative way to take screenshot without android.View in Android","body":"<p>I'm currently developing on an Android Dependency/SDK that allows users to capture a screenshot. I've implemented the following code, which is working fine for capturing screenshots of the visible UI:</p>\n<pre><code>View mView = getCActivity().getWindow().getDecorView();\nmView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\nmView .buildDrawingCache();\nBitmap mBitmap = mView.getDrawingCache();\nWindow window = getCActivity().getWindow();\n</code></pre>\n<p>However, the issue I'm facing is that I want to capture the UI with a transparent background and treat it like a UI surface or a render UI texture view. In other words, <em>I want to be capture view in surface view, texture view, background transparent (Likely Flutter UI)</em></p>\n<pre><code>android.view.SurfaceView\nandroid.graphics.SurfaceTexture\n</code></pre>\n<p>Is there a way to modify my existing code or implement additional features so that I can capture the UI with a surface view, texture view or transparent background? Any guidance, code examples, or suggestions would be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695277991,"post_id":77147683,"comment_id":136003484,"body_markdown":"Recreate it if you detect that `lastname` is being used.","body":"Recreate it if you detect that <code>lastname</code> is being used."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1695278162,"post_id":77147683,"comment_id":136003505,"body_markdown":"Why don&#39;t you put a request interceptor to replace sort=lastname with sort=surname ?","body":"Why don&#39;t you put a request interceptor to replace sort=lastname with sort=surname ?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695278252,"post_id":77147683,"comment_id":136003523,"body_markdown":"@GauravJeswani could you give an example? I mean, at which stage has the rewrite to happen?","body":"@GauravJeswani could you give an example? I mean, at which stage has the rewrite to happen?"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1695278272,"post_id":77147683,"comment_id":136003530,"body_markdown":"Are you using SpringBoot?","body":"Are you using SpringBoot?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695278290,"post_id":77147683,"comment_id":136003533,"body_markdown":"yes that&#39;s why I added the tag `spring-boot` ;)","body":"yes that&#39;s why I added the tag <code>spring-boot</code> ;)"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695278333,"post_id":77147683,"comment_id":136003538,"body_markdown":"@M.Deinum but there might be some more sort parameters in the query. I will lose them then?","body":"@M.Deinum but there might be some more sort parameters in the query. I will lose them then?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695278730,"post_id":77147683,"comment_id":136003594,"body_markdown":"Of course I could rewrite the Sort query entirely, like I added code above. But is this really the solution so such a common usecase? I mean, it&#39;s not unusual to provide backwards compatibility.","body":"Of course I could rewrite the Sort query entirely, like I added code above. But is this really the solution so such a common usecase? I mean, it&#39;s not unusual to provide backwards compatibility."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695281522,"post_id":77147683,"comment_id":136004063,"body_markdown":"You can create a `Pageable` based of another pageable and reconfigure. Just replace the `lastname` with `surname` everything else will be kept.","body":"You can create a <code>Pageable</code> based of another pageable and reconfigure. Just replace the <code>lastname</code> with <code>surname</code> everything else will be kept."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1695359800,"post_id":77147683,"comment_id":136016491,"body_markdown":"https://stackoverflow.com/questions/57534344/how-can-i-modify-request-in-spring-mvc-filter-or-interceptor","body":"<a href=\"https://stackoverflow.com/questions/57534344/how-can-i-modify-request-in-spring-mvc-filter-or-interceptor\" title=\"how can i modify request in spring mvc filter or interceptor\">stackoverflow.com/questions/57534344/&hellip;</a>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695630780,"post_id":77147683,"comment_id":136044986,"body_markdown":"@M.Deinum could you give an example on how to &quot;create a pageable pased on another and reconfigure&quot;? Is this different from what I posted in the question?","body":"@M.Deinum could you give an example on how to &quot;create a pageable pased on another and reconfigure&quot;? Is this different from what I posted in the question?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695631041,"post_id":77147683,"comment_id":136045043,"body_markdown":"That should work what you have, or use `pageable.withSort` to simply pass the modified sort to the existing `Pageable`.","body":"That should work what you have, or use <code>pageable.withSort</code> to simply pass the modified sort to the existing <code>Pageable</code>."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695631155,"post_id":77147683,"comment_id":136045067,"body_markdown":"Also if this is JPA, why not keep the JPA model the same and simply add an `@Column(name=&quot;surname&quot;)` to the JPA field `lastname`? Then you don&#39;t need any of this.","body":"Also if this is JPA, why not keep the JPA model the same and simply add an <code>@Column(name=&quot;surname&quot;)</code> to the JPA field <code>lastname</code>? Then you don&#39;t need any of this."}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695630914,"creation_date":1695277848,"question_id":77147683,"body_markdown":"I want to rewrite a sort query:\r\n\r\nSo far the query was: `?sort=lastname&amp;sort=...`\r\n\r\n    @GetMapping\r\n    public void getPersons(..., Pageable pageable) {\r\n       pageable.getSort().getOrderFor(&quot;lastname&quot;); //TODO replace with &#39;surname&#39;\r\n    }\r\n\r\n    @Entity\r\n    class PersonEntity {\r\n         String lastname;\r\n         //String surname;\r\n    }\r\n  \r\nNow database fields changed from `lastname` to `surname`. Thus I have to rewrite the sort query, but without having API users to change their bookmarks. So that `?sort=lastname` acts the same as `?sort=surname`.\r\n\r\nHow could I achieve that, because neither `Pageable` nor `Sort` has *setters*?\r\n\r\nOf course, as suggested by @M. Deinum, I could rewrite the entire Pageable.Sort as follows. But is this really the solution?\r\n\r\n\t\tif (pageable != null\r\n\t\t\t\t&amp;&amp; pageable.getSort() != null\r\n\t\t\t\t&amp;&amp; pageable.getSort().isSorted()\r\n\t\t\t\t&amp;&amp; pageable.getSort().getOrderFor(&quot;lastname&quot;) != null) {\r\n\t\t\tList&lt;Sort.Order&gt; orders = pageable.getSort().stream()\r\n\t\t\t\t\t.map(order -&gt; {\r\n\t\t\t\t\t\tString property = order.getProperty();\r\n\t\t\t\t\t\tif (StringUtils.equals(property, &quot;lastname&quot;)) \r\n                               property = &quot;surname&quot;;\r\n\t\t\t\t\t\treturn new Sort.Order(order.getDirection(), property, order.getNullHandling());\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n            PageRequest.of(pageable.getPageNumber(), pageable.getPageSize(), Sort.by(orders));\r\n       }","title":"How to rewrite Sort.Order parameters for Spring JPA?","body":"<p>I want to rewrite a sort query:</p>\n<p>So far the query was: <code>?sort=lastname&amp;sort=...</code></p>\n<pre><code>@GetMapping\npublic void getPersons(..., Pageable pageable) {\n   pageable.getSort().getOrderFor(&quot;lastname&quot;); //TODO replace with 'surname'\n}\n\n@Entity\nclass PersonEntity {\n     String lastname;\n     //String surname;\n}\n</code></pre>\n<p>Now database fields changed from <code>lastname</code> to <code>surname</code>. Thus I have to rewrite the sort query, but without having API users to change their bookmarks. So that <code>?sort=lastname</code> acts the same as <code>?sort=surname</code>.</p>\n<p>How could I achieve that, because neither <code>Pageable</code> nor <code>Sort</code> has <em>setters</em>?</p>\n<p>Of course, as suggested by @M. Deinum, I could rewrite the entire Pageable.Sort as follows. But is this really the solution?</p>\n<pre><code>    if (pageable != null\n            &amp;&amp; pageable.getSort() != null\n            &amp;&amp; pageable.getSort().isSorted()\n            &amp;&amp; pageable.getSort().getOrderFor(&quot;lastname&quot;) != null) {\n        List&lt;Sort.Order&gt; orders = pageable.getSort().stream()\n                .map(order -&gt; {\n                    String property = order.getProperty();\n                    if (StringUtils.equals(property, &quot;lastname&quot;)) \n                           property = &quot;surname&quot;;\n                    return new Sort.Order(order.getDirection(), property, order.getNullHandling());\n                })\n                .collect(Collectors.toList());\n        PageRequest.of(pageable.getPageNumber(), pageable.getPageSize(), Sort.by(orders));\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3837639,"reputation":56,"user_id":3181598,"display_name":"n-n-nebbl"},"score":0,"creation_date":1695635223,"post_id":77171035,"comment_id":136045889,"body_markdown":"it is a guessing game from the outside. it could be something like the web-client used in cloud-gateway using a connection pool and the connections are dead but it doesn&#39;t know --&gt; it waits until a timeout, creates a new connection and then it works. This can happen e.g. if there is something in between like a load-balancer which kills the connection or the receiving system has lower values for keep alive than your cloud gateway.","body":"it is a guessing game from the outside. it could be something like the web-client used in cloud-gateway using a connection pool and the connections are dead but it doesn&#39;t know --&gt; it waits until a timeout, creates a new connection and then it works. This can happen e.g. if there is something in between like a load-balancer which kills the connection or the receiving system has lower values for keep alive than your cloud gateway."}],"owner":{"account_id":8535093,"reputation":81,"user_id":8011714,"display_name":"Bharti Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695630601,"creation_date":1695630601,"question_id":77171035,"body_markdown":"We are using Spring cloud Gateway which uses Netty dependency running on Apache Tomcat, Linux server. API gateway using Redis for token mechanism.\r\nWe observed that requests coming from client are forwared from API gateway server which are recieved after 8-12 secs at other application server.\r\n\r\nWe tested the same API direct from the gateway application server via two ways\r\n1. through API gateway \r\n2. through direct curl \r\n\r\nand checked their response received time on the other microservice application server. We found that we received response within mini-sec in 2nd case, and in 1st case it takes a lag of 8-12 sec. **API Gateway is slow at the network level** not at the application level since we saw the gateway response logs within a sec after gateway logic\r\n\r\nAPI gateway sent the request forward at 14:09:34\r\n[![API gateway sent the request forward at 14:09:34][1]][1]\r\n\r\nApp server received it at 14:09:50\r\n[![App server received it at 14:09:50][2]][2]\r\n\r\nHere, API gateway evaluates everything on the expected time and gives responses but received after a lag of few seconds in other microservice.\r\n\r\nAPI Gateway used - Spring cloud API Gateway which uses Netty dependency\r\nServer - Apache Tomcat, Linux\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZlxqR.png\r\n  [2]: https://i.stack.imgur.com/2Kcjg.png","title":"Spring Cloud Gateway bottleneck at network, requests taking time to reach the destination server","body":"<p>We are using Spring cloud Gateway which uses Netty dependency running on Apache Tomcat, Linux server. API gateway using Redis for token mechanism.\nWe observed that requests coming from client are forwared from API gateway server which are recieved after 8-12 secs at other application server.</p>\n<p>We tested the same API direct from the gateway application server via two ways</p>\n<ol>\n<li>through API gateway</li>\n<li>through direct curl</li>\n</ol>\n<p>and checked their response received time on the other microservice application server. We found that we received response within mini-sec in 2nd case, and in 1st case it takes a lag of 8-12 sec. <strong>API Gateway is slow at the network level</strong> not at the application level since we saw the gateway response logs within a sec after gateway logic</p>\n<p>API gateway sent the request forward at 14:09:34\n<a href=\"https://i.stack.imgur.com/ZlxqR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZlxqR.png\" alt=\"API gateway sent the request forward at 14:09:34\" /></a></p>\n<p>App server received it at 14:09:50\n<a href=\"https://i.stack.imgur.com/2Kcjg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Kcjg.png\" alt=\"App server received it at 14:09:50\" /></a></p>\n<p>Here, API gateway evaluates everything on the expected time and gives responses but received after a lag of few seconds in other microservice.</p>\n<p>API Gateway used - Spring cloud API Gateway which uses Netty dependency\nServer - Apache Tomcat, Linux</p>\n"},{"tags":["java","android","smartcard","sim-card","samsung"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1695155502,"post_id":77136092,"comment_id":135985475,"body_markdown":"Smart cards require different voltage levels. Modern SIM cards have a reduced voltage and I am not sure what voltage the NXP JCOP 4 card requires and if a modern phone is still able to provide it. This is what I would check first.","body":"Smart cards require different voltage levels. Modern SIM cards have a reduced voltage and I am not sure what voltage the NXP JCOP 4 card requires and if a modern phone is still able to provide it. This is what I would check first."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695199034,"post_id":77136092,"comment_id":135990754,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":29483255,"reputation":1,"user_id":22593711,"display_name":"DushaD"},"score":0,"creation_date":1695200909,"post_id":77136092,"comment_id":135991128,"body_markdown":"@Robert yeah, this could be an issue, this card surely works at 3V and 5V voltages, not sure about 1.8V, I will get myself a better card reader and give it a check. I don&#39;t want to disassemble the phone yet to measure at the pins. Hopefully this isn&#39;t the case and it&#39;s just a matter of software control though.","body":"@Robert yeah, this could be an issue, this card surely works at 3V and 5V voltages, not sure about 1.8V, I will get myself a better card reader and give it a check. I don&#39;t want to disassemble the phone yet to measure at the pins. Hopefully this isn&#39;t the case and it&#39;s just a matter of software control though."}],"answers":[{"comments":[{"owner":{"account_id":29483255,"reputation":1,"user_id":22593711,"display_name":"DushaD"},"score":0,"creation_date":1695482484,"post_id":77161142,"comment_id":136031705,"body_markdown":"Indeed, but I wonder if there is a technical possibility to use SIM reader in a non-intended way (as a SAM reader) - or do they have a specific firmware which won&#39;t allow this.","body":"Indeed, but I wonder if there is a technical possibility to use SIM reader in a non-intended way (as a SAM reader) - or do they have a specific firmware which won&#39;t allow this."},{"owner":{"account_id":29512983,"reputation":1,"user_id":22617602,"display_name":"Nick S."},"score":0,"creation_date":1702159272,"post_id":77161142,"comment_id":136863532,"body_markdown":"I believe that is a software limitation of the device, technically a SAM or Smart Card follows the ISO 7816 protocol, so communication wise it the reader/writer can communicate, the issue is whether the software of the device will allow you to  SAM/SIM/Smart card slot in the way you want to. Technically, a SAM or SIM slot is the same, it&#39;s just about how it is used and how the manufacturer wants you to use it based off of security concerns.","body":"I believe that is a software limitation of the device, technically a SAM or Smart Card follows the ISO 7816 protocol, so communication wise it the reader/writer can communicate, the issue is whether the software of the device will allow you to  SAM/SIM/Smart card slot in the way you want to. Technically, a SAM or SIM slot is the same, it&#39;s just about how it is used and how the manufacturer wants you to use it based off of security concerns."}],"tags":[],"owner":{"account_id":29512983,"reputation":1,"user_id":22617602,"display_name":"Nick S."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695426464,"creation_date":1695426464,"answer_id":77161142,"question_id":77136092,"body_markdown":"The voltage shouldn&#39;t be an issue, the JCOP 4 P71 supports voltage classes A, B, extended B, and C (1.62 - 5.5 V). Usually the second SIM slots in phones are for inserting SIM&#39;s from multiple carriers when traveling international, I don&#39;t think it will function as a Secure Access Module slot. I do know in Android tablets and POS terminals I&#39;ve worked with that they typically have a slot/s for SIM and a dedicated one for a SAM. ","title":"Is it possible to use a sim slot in a Samsung phone as a generic PSAM reader?","body":"<p>The voltage shouldn't be an issue, the JCOP 4 P71 supports voltage classes A, B, extended B, and C (1.62 - 5.5 V). Usually the second SIM slots in phones are for inserting SIM's from multiple carriers when traveling international, I don't think it will function as a Secure Access Module slot. I do know in Android tablets and POS terminals I've worked with that they typically have a slot/s for SIM and a dedicated one for a SAM.</p>\n"},{"tags":[],"owner":{"account_id":1608748,"reputation":1014,"user_id":1488274,"accept_rate":91,"display_name":"MJay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695630578,"creation_date":1695630578,"answer_id":77171031,"question_id":77136092,"body_markdown":"This is a matter of OS. According to my own experience, some Android phones support OMAPI or TelephonyManager which can be used to send APDUs to the card in the SIM slot. Try to check if either OMAPI or TelephonyManager is supported on your OS.","title":"Is it possible to use a sim slot in a Samsung phone as a generic PSAM reader?","body":"<p>This is a matter of OS. According to my own experience, some Android phones support OMAPI or TelephonyManager which can be used to send APDUs to the card in the SIM slot. Try to check if either OMAPI or TelephonyManager is supported on your OS.</p>\n"}],"owner":{"account_id":29483255,"reputation":1,"user_id":22593711,"display_name":"DushaD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695630578,"creation_date":1695138440,"question_id":77136092,"body_markdown":"There is an NXP JCOP 4 smart card with java applet on it (https://www.cardlogix.com/product/nxp-jcop-4-java-card-3-0-5-classic/), there is also an Android phone with dual sim and Android 13 (Samsung S23 Ultra). Considering the card is properly cut the way it still works and pinout matches the contacts of nano-SIM card slot, is it possible to send APDU commands to it? \r\n\r\nI&#39;m aware of UICC option (issuing a Java card which complies to SIM card standards) - but sadly this smart card is provided by third party and we can&#39;t modify it. \r\n\r\nSo, maybe it&#39;s possible to reuse the SIM card reader in Samsung as a generic PSAM reader instead?\r\n\r\n\r\nI&#39;ve tried OMAPI so far, obviously no luck - openSession returns &quot;Secure element is not present&quot; for the reader with inserted card.\r\n\r\nBut Samsung has more libraries in their framework, maybe there is other way?\r\n\r\nThanks","title":"Is it possible to use a sim slot in a Samsung phone as a generic PSAM reader?","body":"<p>There is an NXP JCOP 4 smart card with java applet on it (<a href=\"https://www.cardlogix.com/product/nxp-jcop-4-java-card-3-0-5-classic/\" rel=\"nofollow noreferrer\">https://www.cardlogix.com/product/nxp-jcop-4-java-card-3-0-5-classic/</a>), there is also an Android phone with dual sim and Android 13 (Samsung S23 Ultra). Considering the card is properly cut the way it still works and pinout matches the contacts of nano-SIM card slot, is it possible to send APDU commands to it?</p>\n<p>I'm aware of UICC option (issuing a Java card which complies to SIM card standards) - but sadly this smart card is provided by third party and we can't modify it.</p>\n<p>So, maybe it's possible to reuse the SIM card reader in Samsung as a generic PSAM reader instead?</p>\n<p>I've tried OMAPI so far, obviously no luck - openSession returns &quot;Secure element is not present&quot; for the reader with inserted card.</p>\n<p>But Samsung has more libraries in their framework, maybe there is other way?</p>\n<p>Thanks</p>\n"},{"tags":["java","performance","file-io","io","text-files"],"comments":[{"owner":{"account_id":221524,"reputation":8654,"user_id":479567,"accept_rate":86,"display_name":"Patrick Cullen"},"score":97,"creation_date":1360122471,"post_id":5868369,"comment_id":20593915,"body_markdown":"@kamaci et. al.  This question should not be marked as a duplicate.  &quot;Quickly read the last line&quot; is not an alternative, and its debatable whether &quot;Quickest way to read text-file line by line&quot; is.  The quickest way to do something is not necessarily the common way.  Furthermore, the answers below include code, the most relevant alternative you list does not.  This question is useful.  It is  currently the top google search result for &quot;java read file line by line&quot;.  Finally, its off putting to arrive at stack overflow and find that 1 in every 2 question is flagged for disposal.","body":"@kamaci et. al.  This question should not be marked as a duplicate.  &quot;Quickly read the last line&quot; is not an alternative, and its debatable whether &quot;Quickest way to read text-file line by line&quot; is.  The quickest way to do something is not necessarily the common way.  Furthermore, the answers below include code, the most relevant alternative you list does not.  This question is useful.  It is  currently the top google search result for &quot;java read file line by line&quot;.  Finally, its off putting to arrive at stack overflow and find that 1 in every 2 question is flagged for disposal."},{"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"score":5,"creation_date":1479203480,"post_id":5868369,"comment_id":68448052,"body_markdown":"[Here](http://stackoverflow.com/a/40597140/3867574) is a comparison of speed for six possible implementations.","body":"<a href=\"http://stackoverflow.com/a/40597140/3867574\">Here</a> is a comparison of speed for six possible implementations."},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":5,"creation_date":1507025953,"post_id":5868369,"comment_id":80038555,"body_markdown":"Event though I have been reading comments arguing that SO&#39;s close policy sucks, SO persists in it. It&#39;s such a narrow minded developer perspective to want to avoid redundancy at all costs! Just let it be! The cream will rise to the top and the sh*t will sink to the bottom just fine all by itself. Even though a question may have been asked before (which question isn&#39;t??), that does not mean that a new question may not be able to phrase it better, get better answers, rank higher in search engines etc. Interestingly, this question is now &#39;protected&#39;....","body":"Event though I have been reading comments arguing that SO&#39;s close policy sucks, SO persists in it. It&#39;s such a narrow minded developer perspective to want to avoid redundancy at all costs! Just let it be! The cream will rise to the top and the sh*t will sink to the bottom just fine all by itself. Even though a question may have been asked before (which question isn&#39;t??), that does not mean that a new question may not be able to phrase it better, get better answers, rank higher in search engines etc. Interestingly, this question is now &#39;protected&#39;...."},{"owner":{"account_id":5351617,"reputation":1633,"user_id":4265610,"accept_rate":58,"display_name":"Luke"},"score":4,"creation_date":1540457289,"post_id":5868369,"comment_id":92875726,"body_markdown":"It&#39;s incredible how questions get marked as duplicate by just reading the title.","body":"It&#39;s incredible how questions get marked as duplicate by just reading the title."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":0,"creation_date":1625079110,"post_id":5868369,"comment_id":120535011,"body_markdown":"After Shog&#39;s edit this is indeed a duplicate of https://stackoverflow.com/q/5800361/103167 but this one has gotten far more activity.","body":"After Shog&#39;s edit this is indeed a duplicate of <a href=\"https://stackoverflow.com/q/5800361/103167\">stackoverflow.com/q/5800361/103167</a> but this one has gotten far more activity."}],"answers":[{"comments":[{"owner":{"account_id":5064496,"reputation":1703,"user_id":4064922,"accept_rate":36,"display_name":"Aboozar Rajabi"},"score":8,"creation_date":1478780684,"post_id":5868412,"comment_id":68295235,"body_markdown":"My file is 1.5 Gig and it&#39;s not possible to read the file using your answer!","body":"My file is 1.5 Gig and it&#39;s not possible to read the file using your answer!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1494142638,"post_id":5868412,"comment_id":74695317,"body_markdown":"@AboozarRajabi Of course it is possible. This code can read any text file.","body":"@AboozarRajabi Of course it is possible. This code can read any text file."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":12,"creation_date":1494142913,"post_id":5868412,"comment_id":74695389,"body_markdown":"Downvoted for poor quality link. There is a completely pointless `DataInputStream`, and the wrong stream is closed. Nothing wrong with the Java Tutorial, and no need to cite arbitrary third-party Internet rubbish like this.","body":"Downvoted for poor quality link. There is a completely pointless <code>DataInputStream</code>, and the wrong stream is closed. Nothing wrong with the Java Tutorial, and no need to cite arbitrary third-party Internet rubbish like this."},{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":6,"creation_date":1571904112,"post_id":5868412,"comment_id":103396061,"body_markdown":"I&#39;d ditch the comments, you have 4 lines of 100% redundant comments for 6 lines of code.","body":"I&#39;d ditch the comments, you have 4 lines of 100% redundant comments for 6 lines of code."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695630078,"post_id":5868412,"comment_id":136044869,"body_markdown":"Edits reverted. It is not acceptable to silently correct a wrong answer.","body":"Edits reverted. It is not acceptable to silently correct a wrong answer."}],"tags":[],"owner":{"account_id":50060,"reputation":41687,"user_id":149206,"accept_rate":100,"display_name":"Naveed"},"comment_count":5,"down_vote_count":4,"up_vote_count":191,"is_accepted":false,"score":187,"last_activity_date":1695630006,"creation_date":1304420230,"answer_id":5868412,"question_id":5868369,"body_markdown":"Look at this blog:\r\n\r\n- [Java Read File Line by Line - Java Tutorial][1]\r\n\r\n&gt; The buffer size may be specified, or\r\n&gt; the default size may be used. The\r\n&gt; default is large enough for most\r\n&gt; purposes.\r\n\r\n    // Open the file\r\n    FileInputStream fstream = new FileInputStream(&quot;textfile.txt&quot;);\r\n    \r\n    // Get the object of DataInputStream\r\n    DataInputStream in = new DataInputStream(fstream);\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n    \r\n    String strLine;\r\n    \r\n    //Read File Line By Line\r\n    while ((strLine = br.readLine()) != null)   {\r\n      // Print the content on the console\r\n      System.out.println (strLine);\r\n    }\r\n    \r\n    //Close the input stream\r\n    in.close();\r\n\r\n\r\n\r\n  [1]: http://www.roseindia.net/java/beginners/java-read-file-line-by-line.shtml\r\n  [2]: http://www.coderanch.com/t/488611/java/java/Reading-Writing-Large-File-OutOfMemory","title":"How can I read a large text file line by line using Java?","body":"<p>Look at this blog:</p>\n<ul>\n<li><a href=\"http://www.roseindia.net/java/beginners/java-read-file-line-by-line.shtml\" rel=\"nofollow noreferrer\">Java Read File Line by Line - Java Tutorial</a></li>\n</ul>\n<blockquote>\n<p>The buffer size may be specified, or\nthe default size may be used. The\ndefault is large enough for most\npurposes.</p>\n</blockquote>\n<pre><code>// Open the file\nFileInputStream fstream = new FileInputStream(&quot;textfile.txt&quot;);\n\n// Get the object of DataInputStream\nDataInputStream in = new DataInputStream(fstream);\nBufferedReader br = new BufferedReader(new InputStreamReader(in));\n\nString strLine;\n\n//Read File Line By Line\nwhile ((strLine = br.readLine()) != null)   {\n  // Print the content on the console\n  System.out.println (strLine);\n}\n\n//Close the input stream\nin.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370941,"reputation":1536,"user_id":719178,"accept_rate":71,"display_name":"Master C"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1494143083,"creation_date":1304420449,"answer_id":5868454,"question_id":5868369,"body_markdown":"You need to use the `readLine()` method in `class BufferedReader`.\r\nCreate a new object from that class and operate this method on him and save it to a string.\r\n\r\n[BufferReader Javadoc][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html","title":"How can I read a large text file line by line using Java?","body":"<p>You need to use the <code>readLine()</code> method in <code>class BufferedReader</code>.\nCreate a new object from that class and operate this method on him and save it to a string.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">BufferReader Javadoc</a></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1384721439,"post_id":5868455,"comment_id":29839015,"body_markdown":"@Tim &#39;Bomb horribly&#39; is not a term I recognize in CS. What exactly do you mean?","body":"@Tim &#39;Bomb horribly&#39; is not a term I recognize in CS. What exactly do you mean?"},{"owner":{"account_id":743405,"reputation":1858,"user_id":719397,"display_name":"Tim"},"score":0,"creation_date":1384786379,"post_id":5868455,"comment_id":29863082,"body_markdown":"Bog down, execute very slowly, most likely crash. I probably should avoid idioms on this site ;)","body":"Bog down, execute very slowly, most likely crash. I probably should avoid idioms on this site ;)"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":4,"creation_date":1424632722,"post_id":5868455,"comment_id":45619328,"body_markdown":"@Tim Why would it do so?","body":"@Tim Why would it do so?"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1425826705,"post_id":5868455,"comment_id":46111596,"body_markdown":"Using `Scanner` is fine, but this answer does not include the full code to use it properly.","body":"Using <code>Scanner</code> is fine, but this answer does not include the full code to use it properly."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1438577530,"post_id":5868455,"comment_id":51489011,"body_markdown":"@Tim This code will neither &#39;bomb horribly&#39; nor &#39;bog down&#39; nor &#39;execute very slowly&#39; nor &#39;most likely crash&#39;. As a matter of fact as written it will only read one line, almost instaneously. You can read megabytes per second this way, although `BufferedReader.readLine()` is certainly several times as fast. If you think otherwise please provide your reasons.","body":"@Tim This code will neither &#39;bomb horribly&#39; nor &#39;bog down&#39; nor &#39;execute very slowly&#39; nor &#39;most likely crash&#39;. As a matter of fact as written it will only read one line, almost instaneously. You can read megabytes per second this way, although <code>BufferedReader.readLine()</code> is certainly several times as fast. If you think otherwise please provide your reasons."}],"tags":[],"owner":{"account_id":286235,"reputation":458,"user_id":585388,"display_name":"Abhilash"},"comment_count":5,"down_vote_count":8,"up_vote_count":18,"is_accepted":false,"score":10,"last_activity_date":1304420449,"creation_date":1304420449,"answer_id":5868455,"question_id":5868369,"body_markdown":"You can use Scanner class\r\n\r\n    Scanner sc=new Scanner(file);\r\n    sc.nextLine();\r\n\r\n\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>You can use Scanner class</p>\n\n<pre><code>Scanner sc=new Scanner(file);\nsc.nextLine();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":488110,"reputation":1472,"user_id":1858241,"accept_rate":25,"display_name":"MikeB"},"score":6,"creation_date":1363378574,"post_id":5868528,"comment_id":21843558,"body_markdown":"What does this pattern look like with proper exception handling? I note that br.close() throws IOException, which seems surprising -- what could happen when closing a file that is opened for read, anyway? FileReader&#39;s constructor might throw a FileNotFound exception.","body":"What does this pattern look like with proper exception handling? I note that br.close() throws IOException, which seems surprising -- what could happen when closing a file that is opened for read, anyway? FileReader&#39;s constructor might throw a FileNotFound exception."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1363469102,"post_id":5868528,"comment_id":21867105,"body_markdown":"@MikeB In Java 7 you would add a try-with-resource block.  Close is not expected to throw an exception, but some implementations might.  I wouldn&#39;t expect BufferedReader is on of them.  It is very rare to see developers add special handling for `close();`","body":"@MikeB In Java 7 you would add a try-with-resource block.  Close is not expected to throw an exception, but some implementations might.  I wouldn&#39;t expect BufferedReader is on of them.  It is very rare to see developers add special handling for <code>close();</code>"},{"owner":{"account_id":110463,"reputation":85077,"user_id":292291,"accept_rate":86,"display_name":"Jiew Meng"},"score":0,"creation_date":1383818103,"post_id":5868528,"comment_id":29490745,"body_markdown":"Is this the fastest Java can go? I have a ~200MB file I am reading with this method and its really slow ... is it possible to use something faster? Read in multiple lines or something?","body":"Is this the fastest Java can go? I have a ~200MB file I am reading with this method and its really slow ... is it possible to use something faster? Read in multiple lines or something?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1383860327,"post_id":5868528,"comment_id":29516215,"body_markdown":"@JiewMeng There is much faster ways to do it, however you can read 90 MB/s this way so you might save two seconds by changing the way you read it. If it is much longer than that, its not the speed of reading that is taking the time.","body":"@JiewMeng There is much faster ways to do it, however you can read 90 MB/s this way so you might save two seconds by changing the way you read it. If it is much longer than that, its not the speed of reading that is taking the time."},{"owner":{"account_id":110463,"reputation":85077,"user_id":292291,"accept_rate":86,"display_name":"Jiew Meng"},"score":3,"creation_date":1383869173,"post_id":5868528,"comment_id":29519840,"body_markdown":"If I have a 200MB file and it can read at 90MB/s then I expect it to take ~3s? Mine seem to take minutes, with this &quot;slow&quot; way of reading. I am on an SSD so read speeds should not be a problem?","body":"If I have a 200MB file and it can read at 90MB/s then I expect it to take ~3s? Mine seem to take minutes, with this &quot;slow&quot; way of reading. I am on an SSD so read speeds should not be a problem?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":5,"creation_date":1383870142,"post_id":5868528,"comment_id":29520149,"body_markdown":"@JiewMeng SO I would suspect something else you are doing is taking time. Can you try just reading the lines of the file and *nothing* else.","body":"@JiewMeng SO I would suspect something else you are doing is taking time. Can you try just reading the lines of the file and <i>nothing</i> else."},{"owner":{"account_id":110463,"reputation":85077,"user_id":292291,"accept_rate":86,"display_name":"Jiew Meng"},"score":3,"creation_date":1383871849,"post_id":5868528,"comment_id":29520625,"body_markdown":"@PeterLawrey, looks like validating the format of each line with regex is a bad idea ... I had something like `if (line.matches(regexLineFormat))` removing that sped things up alot. I still need to use `StringTokenizer` to tokenize the string. But its alot faster  now thanks!","body":"@PeterLawrey, looks like validating the format of each line with regex is a bad idea ... I had something like <code>if (line.matches(regexLineFormat))</code> removing that sped things up alot. I still need to use <code>StringTokenizer</code> to tokenize the string. But its alot faster  now thanks!"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1383896750,"post_id":5868528,"comment_id":29527489,"body_markdown":"@JiewMeng You can use Scanner or your own parser possibly, but I don&#39;t use regex in any performance sensitive code.","body":"@JiewMeng You can use Scanner or your own parser possibly, but I don&#39;t use regex in any performance sensitive code."},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1386672169,"post_id":5868528,"comment_id":30628287,"body_markdown":"I always dislike this common pattern because of the while condition: `((line = br.readLine()) != null)`. This condition is *not* clear.","body":"I always dislike this common pattern because of the while condition: <code>((line = br.readLine()) != null)</code>. This condition is <i>not</i> clear."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1386672281,"post_id":5868528,"comment_id":30628358,"body_markdown":"@Alex in that case I wouldn&#39;t use it if you don&#39;t think it is clear.  You may find the alternative is no more clear however. ;)","body":"@Alex in that case I wouldn&#39;t use it if you don&#39;t think it is clear.  You may find the alternative is no more clear however. ;)"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":53,"creation_date":1387099063,"post_id":5868528,"comment_id":30809938,"body_markdown":"Why not `for(String line = br.readLine(); line != null; line = br.readLine())` Btw, in Java 8 you can do `try( Stream&lt;String&gt; lines = Files.lines(...) ){ for( String line : (Iterable&lt;String&gt;) lines::iterator ) { ... } }` Which is hard not to hate.","body":"Why not <code>for(String line = br.readLine(); line != null; line = br.readLine())</code> Btw, in Java 8 you can do <code>try( Stream&lt;String&gt; lines = Files.lines(...) ){ for( String line : (Iterable&lt;String&gt;) lines::iterator ) { ... } }</code> Which is hard not to hate."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":33,"creation_date":1387103604,"post_id":5868528,"comment_id":30810943,"body_markdown":"@AleksandrDubinsky The problem I have with closures in Java 8 is that it very easily makes the code more complicated to read (as well as being slower) I can see lots of developers overusing it because it is &quot;cool&quot;.","body":"@AleksandrDubinsky The problem I have with closures in Java 8 is that it very easily makes the code more complicated to read (as well as being slower) I can see lots of developers overusing it because it is &quot;cool&quot;."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":3,"creation_date":1387134794,"post_id":5868528,"comment_id":30820333,"body_markdown":"You did catch the &quot;hate&quot; part, right? :) Although in fact I didn&#39;t use closures/lambdas.","body":"You did catch the &quot;hate&quot; part, right? :) Although in fact I didn&#39;t use closures/lambdas."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1387147325,"post_id":5868528,"comment_id":30824666,"body_markdown":"@AleksandrDubinsky I am happy to use closures where they make sense.  Most examples I see for closures are so trivial, it would be better, simpler to not use closures.","body":"@AleksandrDubinsky I am happy to use closures where they make sense.  Most examples I see for closures are so trivial, it would be better, simpler to not use closures."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1470231414,"post_id":5868528,"comment_id":64864179,"body_markdown":"@PeterLawrey Hi Peter, it&#39;d be fun to add the new [tag:java-8] functionalities to read a file quick and clean :)","body":"@PeterLawrey Hi Peter, it&#39;d be fun to add the new <a href=\"https://stackoverflow.com/questions/tagged/java-8\">java-8</a> functionalities to read a file quick and clean :)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1470389446,"post_id":5868528,"comment_id":64941998,"body_markdown":"@YassinHajaj agreed, provided lambdas are used to make the code easier to read.  They can make it harder to read if over used.  We put our first major application written in Java 8 in 2014 (26,000 lines of code, much of it using Streams) and we found in some cases, using a traditional loop was cleaner when you are mutating data as you go, or producing/updating more than one collections for example.","body":"@YassinHajaj agreed, provided lambdas are used to make the code easier to read.  They can make it harder to read if over used.  We put our first major application written in Java 8 in 2014 (26,000 lines of code, much of it using Streams) and we found in some cases, using a traditional loop was cleaner when you are mutating data as you go, or producing/updating more than one collections for example."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1470389726,"post_id":5868528,"comment_id":64942214,"body_markdown":"@YassinHajaj it&#39;s a good suggestion and I have added an example for Java 8. It&#39;s not as simple it it might appear. ;) +1","body":"@YassinHajaj it&#39;s a good suggestion and I have added an example for Java 8. It&#39;s not as simple it it might appear. ;) +1"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1470401142,"post_id":5868528,"comment_id":64949285,"body_markdown":"@PeterLawrey Yep, thanks for the edit and the info. Well I actually meant quick in the terms of writing it :) But I can trust you if you&#39;ve experienced some performance issues :)","body":"@PeterLawrey Yep, thanks for the edit and the info. Well I actually meant quick in the terms of writing it :) But I can trust you if you&#39;ve experienced some performance issues :)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1470503611,"post_id":5868528,"comment_id":64981912,"body_markdown":"@YassinHajaj I meant, there is a gotcha in needing the try with resource","body":"@YassinHajaj I meant, there is a gotcha in needing the try with resource"},{"owner":{"account_id":2805293,"reputation":1166,"user_id":2412663,"accept_rate":90,"display_name":"Albert"},"score":0,"creation_date":1470645847,"post_id":5868528,"comment_id":65015447,"body_markdown":"@PeterLawrey, it&#39;s a good answer, but in my opinion as most voted answer by far, you should note that your solution will only work for Java 7 or later. There are still a lot of people working with Java 5 (or worst), that can&#39;t benefit from try-with-resource feature.","body":"@PeterLawrey, it&#39;s a good answer, but in my opinion as most voted answer by far, you should note that your solution will only work for Java 7 or later. There are still a lot of people working with Java 5 (or worst), that can&#39;t benefit from try-with-resource feature."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1470677260,"post_id":5868528,"comment_id":65035725,"body_markdown":"@Albert I assume that even those who can&#39;t write Java 7 can read Java 7 and know how to close a file when finished with it. I *wouldn&#39;t* assume people know how to read Java 8 however and retro fit stream/lambdas. ;)","body":"@Albert I assume that even those who can&#39;t write Java 7 can read Java 7 and know how to close a file when finished with it. I <i>wouldn&#39;t</i> assume people know how to read Java 8 however and retro fit stream/lambdas. ;)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1478775497,"post_id":5868528,"comment_id":68292048,"body_markdown":"@AboozarRajabi what do you mean by &quot;doesn&#39;t work&quot; and what is the problem you still have?","body":"@AboozarRajabi what do you mean by &quot;doesn&#39;t work&quot; and what is the problem you still have?"},{"owner":{"account_id":5064496,"reputation":1703,"user_id":4064922,"accept_rate":36,"display_name":"Aboozar Rajabi"},"score":0,"creation_date":1478776576,"post_id":5868528,"comment_id":68292748,"body_markdown":"java.lang.OutOfMemoryError: Java heap space","body":"java.lang.OutOfMemoryError: Java heap space"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1478777147,"post_id":5868528,"comment_id":68293100,"body_markdown":"@AboozarRajabi if you have very long lines and very small amount of memory you may need to process just one line at a time, or a portion of a line at a time. If you run the example above do you get OOME, or is it when you process those lines? i.e. is the OOME occurring in your code of in this library?","body":"@AboozarRajabi if you have very long lines and very small amount of memory you may need to process just one line at a time, or a portion of a line at a time. If you run the example above do you get OOME, or is it when you process those lines? i.e. is the OOME occurring in your code of in this library?"},{"owner":{"account_id":5064496,"reputation":1703,"user_id":4064922,"accept_rate":36,"display_name":"Aboozar Rajabi"},"score":1,"creation_date":1478778169,"post_id":5868528,"comment_id":68293716,"body_markdown":"There&#39;re so many lines, the file is about 1 Gig, but each line is short. I get OOME when I tried to read the file using this code and just printing each of them.","body":"There&#39;re so many lines, the file is about 1 Gig, but each line is short. I get OOME when I tried to read the file using this code and just printing each of them."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1478778347,"post_id":5868528,"comment_id":68293818,"body_markdown":"@AboozarRajabi in that case I would use the BufferedReader loop.","body":"@AboozarRajabi in that case I would use the BufferedReader loop."},{"owner":{"account_id":5064496,"reputation":1703,"user_id":4064922,"accept_rate":36,"display_name":"Aboozar Rajabi"},"score":0,"creation_date":1478778416,"post_id":5868528,"comment_id":68293865,"body_markdown":"like the below answer?","body":"like the below answer?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1478785308,"post_id":5868528,"comment_id":68298143,"body_markdown":"@AboozarRajabi I think my answer is clearer as it uses try-with-resource. See the second line of my answer.","body":"@AboozarRajabi I think my answer is clearer as it uses try-with-resource. See the second line of my answer."},{"owner":{"account_id":5064496,"reputation":1703,"user_id":4064922,"accept_rate":36,"display_name":"Aboozar Rajabi"},"score":0,"creation_date":1478786713,"post_id":5868528,"comment_id":68299037,"body_markdown":"Still the same problem even when I increase the Java heap size!","body":"Still the same problem even when I increase the Java heap size!"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1478786941,"post_id":5868528,"comment_id":68299182,"body_markdown":"@AboozarRajabi This is only holding one line at a time so if you have an OOME you have a really long line because that is all that is being retained.","body":"@AboozarRajabi This is only holding one line at a time so if you have an OOME you have a really long line because that is all that is being retained."},{"owner":{"account_id":5064496,"reputation":1703,"user_id":4064922,"accept_rate":36,"display_name":"Aboozar Rajabi"},"score":0,"creation_date":1478787140,"post_id":5868528,"comment_id":68299307,"body_markdown":"When I use it for shorter files (300 Mb), it&#39;s Ok but for 1.5 G file, I get OOME error.","body":"When I use it for shorter files (300 Mb), it&#39;s Ok but for 1.5 G file, I get OOME error."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1478788120,"post_id":5868528,"comment_id":68299966,"body_markdown":"@AboozarRajabi for this to happen with BufferedReader you must be retaining data somewhere as only the line length matters otherwise.","body":"@AboozarRajabi for this to happen with BufferedReader you must be retaining data somewhere as only the line length matters otherwise."},{"owner":{"account_id":194286,"reputation":4147,"user_id":436527,"display_name":"Umi"},"score":1,"creation_date":1533795350,"post_id":5868528,"comment_id":90479022,"body_markdown":"Be careful using the Java 8 Files.lines() method. It handles char encoding differently. The BufferedReader is lenient and will handle non-utf8 chars without fuss, but File.lines() will throw an exception if it encounters a non-utf8 char. You must specify the char encoding you expect with Files.lines() if it is not the default utf-8.","body":"Be careful using the Java 8 Files.lines() method. It handles char encoding differently. The BufferedReader is lenient and will handle non-utf8 chars without fuss, but File.lines() will throw an exception if it encounters a non-utf8 char. You must specify the char encoding you expect with Files.lines() if it is not the default utf-8."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1615844034,"post_id":5868528,"comment_id":117813324,"body_markdown":"BufferedReader is from Java 1.1. How on earth did we use to read a line from a file in Java 1.0? Just feeling a bit retro.","body":"BufferedReader is from Java 1.1. How on earth did we use to read a line from a file in Java 1.0? Just feeling a bit retro."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1615970500,"post_id":5868528,"comment_id":117853776,"body_markdown":"@k314159 Probably DataInputStream.readLine() which has been deprecated.","body":"@k314159 Probably DataInputStream.readLine() which has been deprecated."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":35,"down_vote_count":1,"up_vote_count":1238,"is_accepted":false,"score":1237,"last_activity_date":1539643537,"creation_date":1304420834,"answer_id":5868528,"question_id":5868369,"body_markdown":"A common pattern is to use\r\n\r\n    try (BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n           // process the line.\r\n        }\r\n    }\r\n\r\nYou can read the data faster if you assume there is no character encoding. e.g. ASCII-7 but it won&#39;t make much difference.  It is highly likely that what you do with the data will take much longer.\r\n\r\nEDIT: A less common pattern to use which avoids the scope of `line` leaking.\r\n\r\n    try(BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n        for(String line; (line = br.readLine()) != null; ) {\r\n            // process the line.\r\n        }\r\n        // line is not visible here.\r\n    }\r\n\r\n---\r\n\r\nUPDATE: In Java 8 you can do\r\n\r\n    try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\r\n\t\t\tstream.forEach(System.out::println);\r\n    }\r\n\r\nNOTE: You have to place the Stream in a [try-with-resource][1] block to ensure the #close method is called on it, otherwise the underlying file handle is never closed until GC does it much later.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How can I read a large text file line by line using Java?","body":"<p>A common pattern is to use</p>\n\n<pre><code>try (BufferedReader br = new BufferedReader(new FileReader(file))) {\n    String line;\n    while ((line = br.readLine()) != null) {\n       // process the line.\n    }\n}\n</code></pre>\n\n<p>You can read the data faster if you assume there is no character encoding. e.g. ASCII-7 but it won't make much difference.  It is highly likely that what you do with the data will take much longer.</p>\n\n<p>EDIT: A less common pattern to use which avoids the scope of <code>line</code> leaking.</p>\n\n<pre><code>try(BufferedReader br = new BufferedReader(new FileReader(file))) {\n    for(String line; (line = br.readLine()) != null; ) {\n        // process the line.\n    }\n    // line is not visible here.\n}\n</code></pre>\n\n<hr>\n\n<p>UPDATE: In Java 8 you can do</p>\n\n<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\n        stream.forEach(System.out::println);\n}\n</code></pre>\n\n<p>NOTE: You have to place the Stream in a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resource</a> block to ensure the #close method is called on it, otherwise the underlying file handle is never closed until GC does it much later.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1494142962,"post_id":15651884,"comment_id":74695400,"body_markdown":"What does a `ByteArrayInputStream` fed by a string literal have to do with reading a large text file?","body":"What does a <code>ByteArrayInputStream</code> fed by a string literal have to do with reading a large text file?"},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":1,"creation_date":1560936821,"post_id":15651884,"comment_id":99897202,"body_markdown":"absolutely useless closes. There is zero reason to close every stream. If you close any of those streams you automatically close all other streams...","body":"absolutely useless closes. There is zero reason to close every stream. If you close any of those streams you automatically close all other streams..."}],"tags":[],"owner":{"account_id":1377732,"reputation":575,"user_id":1311387,"display_name":"DarkStar"},"comment_count":2,"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1661940033,"creation_date":1364358284,"answer_id":15651884,"question_id":5868369,"body_markdown":"Here is a sample with full error handling and supporting charset specification for pre-Java 7.  With Java 7 you can use try-with-resources syntax, which makes the code cleaner.\r\n\r\nIf you just want the default charset you can skip the InputStream and use FileReader.\r\n\r\n    InputStream ins = null; // raw byte-stream\r\n    Reader r = null; // cooked reader\r\n    BufferedReader br = null; // buffered for readLine()\r\n    try {\r\n        String s;\r\n        if (true) {\r\n            String data = &quot;#foobar\\t1234\\n#xyz\\t5678\\none\\ttwo\\n&quot;;\r\n            ins = new ByteArrayInputStream(data.getBytes());\r\n        } else {\r\n            ins = new FileInputStream(&quot;textfile.txt&quot;);\r\n        }\r\n        r = new InputStreamReader(ins, &quot;UTF-8&quot;); // leave charset out for default\r\n        br = new BufferedReader(r);\r\n        while ((s = br.readLine()) != null) {\r\n            System.out.println(s);\r\n        }\r\n    }\r\n    catch (Exception e)\r\n    {\r\n        System.err.println(e.getMessage()); // handle exception\r\n    }\r\n    finally {\r\n        if (br != null) { try { br.close(); } catch(Throwable t) { /* ensure close happens */ } }\r\n        if (r != null) { try { r.close(); } catch(Throwable t) { /* ensure close happens */ } }\r\n        if (ins != null) { try { ins.close(); } catch(Throwable t) { /* ensure close happens */ } }\r\n    }\r\n\r\nHere is the Groovy version, with full error handling:\r\n\r\n    File f = new File(&quot;textfile.txt&quot;);\r\n    f.withReader(&quot;UTF-8&quot;) { br -&gt;\r\n        br.eachLine { line -&gt;\r\n            println line;\r\n        }\r\n    }\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>Here is a sample with full error handling and supporting charset specification for pre-Java 7.  With Java 7 you can use try-with-resources syntax, which makes the code cleaner.</p>\n<p>If you just want the default charset you can skip the InputStream and use FileReader.</p>\n<pre><code>InputStream ins = null; // raw byte-stream\nReader r = null; // cooked reader\nBufferedReader br = null; // buffered for readLine()\ntry {\n    String s;\n    if (true) {\n        String data = &quot;#foobar\\t1234\\n#xyz\\t5678\\none\\ttwo\\n&quot;;\n        ins = new ByteArrayInputStream(data.getBytes());\n    } else {\n        ins = new FileInputStream(&quot;textfile.txt&quot;);\n    }\n    r = new InputStreamReader(ins, &quot;UTF-8&quot;); // leave charset out for default\n    br = new BufferedReader(r);\n    while ((s = br.readLine()) != null) {\n        System.out.println(s);\n    }\n}\ncatch (Exception e)\n{\n    System.err.println(e.getMessage()); // handle exception\n}\nfinally {\n    if (br != null) { try { br.close(); } catch(Throwable t) { /* ensure close happens */ } }\n    if (r != null) { try { r.close(); } catch(Throwable t) { /* ensure close happens */ } }\n    if (ins != null) { try { ins.close(); } catch(Throwable t) { /* ensure close happens */ } }\n}\n</code></pre>\n<p>Here is the Groovy version, with full error handling:</p>\n<pre><code>File f = new File(&quot;textfile.txt&quot;);\nf.withReader(&quot;UTF-8&quot;) { br -&gt;\n    br.eachLine { line -&gt;\n        println line;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1387099753,"post_id":17866514,"comment_id":30810100,"body_markdown":"Use `StandardCharsets.UTF_8`, use `Stream&lt;String&gt;` for conciseness, and avoid using `forEach()` and especially `forEachOrdered()` unless there&#39;s a reason.","body":"Use <code>StandardCharsets.UTF_8</code>, use <code>Stream&lt;String&gt;</code> for conciseness, and avoid using <code>forEach()</code> and especially <code>forEachOrdered()</code> unless there&#39;s a reason."},{"owner":{"account_id":935274,"reputation":6801,"user_id":1150995,"display_name":"steventrouble"},"score":3,"creation_date":1395190462,"post_id":17866514,"comment_id":34222129,"body_markdown":"Why avoid forEach()? Is it bad?","body":"Why avoid forEach()? Is it bad?"},{"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"score":1,"creation_date":1395304114,"post_id":17866514,"comment_id":34279421,"body_markdown":"If I us forEach instead of forEachOrdered, the lines might be printed out of order, aren&#39;t they?","body":"If I us forEach instead of forEachOrdered, the lines might be printed out of order, aren&#39;t they?"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1425826481,"post_id":17866514,"comment_id":46111526,"body_markdown":"@steventrouble Take a look at: http://stackoverflow.com/questions/16635398/java-8-iterable-foreach-vs-foreach-loop It&#39;s not bad if you pass a short function reference like `forEach(this::process)`, but it gets ugly if you write blocks of code as lambdas inside `forEach()`.","body":"@steventrouble Take a look at: <a href=\"http://stackoverflow.com/questions/16635398/java-8-iterable-foreach-vs-foreach-loop\" title=\"java 8 iterable foreach vs foreach loop\">stackoverflow.com/questions/16635398/&hellip;</a> It&#39;s not bad if you pass a short function reference like <code>forEach(this::process)</code>, but it gets ugly if you write blocks of code as lambdas inside <code>forEach()</code>."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1425826933,"post_id":17866514,"comment_id":46111677,"body_markdown":"@msayag, You&#39;re right, you need `forEachOrdered` in order to execute in-order. Be aware that you won&#39;t be able to parallelize the stream in that case, although I&#39;ve found that parallelization doesn&#39;t turn on unless the file has thousands of lines.","body":"@msayag, You&#39;re right, you need <code>forEachOrdered</code> in order to execute in-order. Be aware that you won&#39;t be able to parallelize the stream in that case, although I&#39;ve found that parallelization doesn&#39;t turn on unless the file has thousands of lines."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1599840121,"post_id":17866514,"comment_id":112909213,"body_markdown":"`file` is misleading in `Files.lines(file, Charset.defaultCharset())`. I like `file.toPath()` or `path`.","body":"<code>file</code> is misleading in <code>Files.lines(file, Charset.defaultCharset())</code>. I like <code>file.toPath()</code> or <code>path</code>."}],"tags":[],"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"comment_count":6,"down_vote_count":1,"up_vote_count":133,"is_accepted":false,"score":132,"last_activity_date":1586393764,"creation_date":1374778718,"answer_id":17866514,"question_id":5868369,"body_markdown":"Once Java 8 is out (March 2014) you&#39;ll be able to use streams:\r\n\r\n    try (Stream&lt;String&gt; lines = Files.lines(Paths.get(filename), Charset.defaultCharset())) {\r\n      lines.forEachOrdered(line -&gt; process(line));\r\n    }\r\n\r\nPrinting all the lines in the file:\r\n\r\n    try (Stream&lt;String&gt; lines = Files.lines(file, Charset.defaultCharset())) {\r\n      lines.forEachOrdered(System.out::println);\r\n    }\r\n\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>Once Java 8 is out (March 2014) you'll be able to use streams:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines(Paths.get(filename), Charset.defaultCharset())) {\n  lines.forEachOrdered(line -&gt; process(line));\n}\n</code></pre>\n\n<p>Printing all the lines in the file:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines(file, Charset.defaultCharset())) {\n  lines.forEachOrdered(System.out::println);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1387110269,"post_id":20593147,"comment_id":30812603,"body_markdown":"By not implementing `Iterable` this code is definitively **ugly** although useful. It needs a cast (ie `(Iterable&lt;String&gt;)`) to work.","body":"By not implementing <code>Iterable</code> this code is definitively <b>ugly</b> although useful. It needs a cast (ie <code>(Iterable&lt;String&gt;)</code>) to work."},{"owner":{"account_id":271602,"reputation":22478,"user_id":562222,"accept_rate":57,"display_name":"qed"},"score":0,"creation_date":1415221510,"post_id":20593147,"comment_id":42114993,"body_markdown":"How can I skip the first line with this method?","body":"How can I skip the first line with this method?"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1415753306,"post_id":20593147,"comment_id":42311792,"body_markdown":"@qed `for(String line : (Iterable&lt;String&gt;) lines.skip(1)::iterator)`","body":"@qed <code>for(String line : (Iterable&lt;String&gt;) lines.skip(1)::iterator)</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1501240445,"post_id":20593147,"comment_id":77704658,"body_markdown":"If you’re not intending to actually use `Stream` features, using `Files.newBufferedReader` instead of `Files.lines` and repeatedly calling `readLine()` until `null` instead of using constructs like `(Iterable&lt;String&gt;) lines::iterator` seems to be much simpler…","body":"If you’re not intending to actually use <code>Stream</code> features, using <code>Files.newBufferedReader</code> instead of <code>Files.lines</code> and repeatedly calling <code>readLine()</code> until <code>null</code> instead of using constructs like <code>(Iterable&lt;String&gt;) lines::iterator</code> seems to be much simpler…"},{"owner":{"account_id":1198561,"reputation":3841,"user_id":1169741,"accept_rate":48,"display_name":"Trismegistos"},"score":0,"creation_date":1507115378,"post_id":20593147,"comment_id":80080117,"body_markdown":"Why do you use :: in lines::iterator? Only usage I know for :: is to package method name into lambda function. In for loop parameter after : should be variable while you get some lambda method using ::","body":"Why do you use :: in lines::iterator? Only usage I know for :: is to package method name into lambda function. In for loop parameter after : should be variable while you get some lambda method using ::"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1507200136,"post_id":20593147,"comment_id":80120109,"body_markdown":"@Trismegistos the code indeed creates a lambda. The lambda is then cast into an `Iterable` (this is possible because `Iterable` is a functional interface). The for loop then iterates over this new object. All this is necessary because interface `Stream` does not inherit from `Iterable` despite satisfying its contract.","body":"@Trismegistos the code indeed creates a lambda. The lambda is then cast into an <code>Iterable</code> (this is possible because <code>Iterable</code> is a functional interface). The for loop then iterates over this new object. All this is necessary because interface <code>Stream</code> does not inherit from <code>Iterable</code> despite satisfying its contract."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1569244591,"post_id":20593147,"comment_id":102522947,"body_markdown":"@user207421 Why do you say it reads the file into memory? The javadoc says, `Unlike readAllLines, [File.lines] does not read all lines into a List, but instead populates lazily as the stream is consumed... The returned stream encapsulates a Reader.`","body":"@user207421 Why do you say it reads the file into memory? The javadoc says, <code>Unlike readAllLines, [File.lines] does not read all lines into a List, but instead populates lazily as the stream is consumed... The returned stream encapsulates a Reader.</code>"}],"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"comment_count":7,"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1425826655,"creation_date":1387100328,"answer_id":20593147,"question_id":5868369,"body_markdown":"In Java 8, you could do:\r\n\r\n    try (Stream&lt;String&gt; lines = Files.lines (file, StandardCharsets.UTF_8))\r\n    {\r\n        for (String line : (Iterable&lt;String&gt;) lines::iterator)\r\n        {\r\n            ;\r\n        }\r\n    }\r\n\r\nSome notes: The stream returned by `Files.lines` (unlike most streams) needs to be closed. For the reasons [mentioned here](https://stackoverflow.com/a/20177092/1151521) I avoid using `forEach()`. The strange code `(Iterable&lt;String&gt;) lines::iterator` casts a Stream to an Iterable.","title":"How can I read a large text file line by line using Java?","body":"<p>In Java 8, you could do:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines (file, StandardCharsets.UTF_8))\n{\n    for (String line : (Iterable&lt;String&gt;) lines::iterator)\n    {\n        ;\n    }\n}\n</code></pre>\n\n<p>Some notes: The stream returned by <code>Files.lines</code> (unlike most streams) needs to be closed. For the reasons <a href=\"https://stackoverflow.com/a/20177092/1151521\">mentioned here</a> I avoid using <code>forEach()</code>. The strange code <code>(Iterable&lt;String&gt;) lines::iterator</code> casts a Stream to an Iterable.</p>\n"},{"comments":[{"owner":{"account_id":975099,"reputation":150,"user_id":996605,"display_name":"Marcelo Finki"},"score":9,"creation_date":1413213799,"post_id":22950921,"comment_id":41348621,"body_markdown":"be aware! using line.split this way will NOT parse properly if a field contains a comma and it is surrounded by quotes.  This split will ignore that and just separate the field in chunks using the internal comma.  HTH, Marcelo.","body":"be aware! using line.split this way will NOT parse properly if a field contains a comma and it is surrounded by quotes.  This split will ignore that and just separate the field in chunks using the internal comma.  HTH, Marcelo."},{"owner":{"account_id":1345711,"reputation":477,"user_id":1286522,"display_name":"Diego Duarte"},"score":0,"creation_date":1424356384,"post_id":22950921,"comment_id":45521727,"body_markdown":"CSV: Comma Separated Values file, thus you shouldn&#39;t use comma in a csv field, unless you mean to add another field. So, use split for comma token in java when parsing a CSV file is perfectly fine and right","body":"CSV: Comma Separated Values file, thus you shouldn&#39;t use comma in a csv field, unless you mean to add another field. So, use split for comma token in java when parsing a CSV file is perfectly fine and right"},{"owner":{"account_id":330901,"reputation":1323,"user_id":655249,"accept_rate":100,"display_name":"serg.nechaev"},"score":7,"creation_date":1425002812,"post_id":22950921,"comment_id":45793753,"body_markdown":"Diego, this is not correct. The only CSV standard (RFC 4180) specifically says &quot;Fields containing line breaks (CRLF), double quotes, and commas should be enclosed in double-quotes.&quot;","body":"Diego, this is not correct. The only CSV standard (RFC 4180) specifically says &quot;Fields containing line breaks (CRLF), double quotes, and commas should be enclosed in double-quotes.&quot;"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1425828005,"post_id":22950921,"comment_id":46111983,"body_markdown":"Use `StandardCharsets.UTF_8` to avoid the checked exception in `Charset.forName(&quot;UTF-8&quot;)`","body":"Use <code>StandardCharsets.UTF_8</code> to avoid the checked exception in <code>Charset.forName(&quot;UTF-8&quot;)</code>"},{"owner":{"account_id":975099,"reputation":150,"user_id":996605,"display_name":"Marcelo Finki"},"score":2,"creation_date":1426259380,"post_id":22950921,"comment_id":46312097,"body_markdown":"Thank you &quot;Diego Duarte&quot; for your comment; i must say i agree with what &quot;serg.nechaev&quot; replies.    I see commas embedded in csv files &#39;all the time&#39;.  People expect that this will be accepted.  with all due respect.  also a big thanks to &quot;serg.nechaev&quot;.  IMHO you are right.   Cheerse Everyone.","body":"Thank you &quot;Diego Duarte&quot; for your comment; i must say i agree with what &quot;serg.nechaev&quot; replies.    I see commas embedded in csv files &#39;all the time&#39;.  People expect that this will be accepted.  with all due respect.  also a big thanks to &quot;serg.nechaev&quot;.  IMHO you are right.   Cheerse Everyone."}],"tags":[],"owner":{"account_id":1345711,"reputation":477,"user_id":1286522,"display_name":"Diego Duarte"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1412175117,"creation_date":1397004735,"answer_id":22950921,"question_id":5868369,"body_markdown":"In Java 7:\r\n\r\n    String folderPath = &quot;C:/folderOfMyFile&quot;;\r\n    Path path = Paths.get(folderPath, &quot;myFileName.csv&quot;); //or any text file eg.: txt, bat, etc\r\n    Charset charset = Charset.forName(&quot;UTF-8&quot;);\r\n    \r\n    try (BufferedReader reader = Files.newBufferedReader(path , charset)) {\r\n      while ((line = reader.readLine()) != null ) {\r\n        //separate all csv fields into string array\r\n        String[] lineVariables = line.split(&quot;,&quot;); \r\n      }\r\n    } catch (IOException e) {\r\n        System.err.println(e);\r\n    }\r\n      ","title":"How can I read a large text file line by line using Java?","body":"<p>In Java 7:</p>\n\n<pre><code>String folderPath = \"C:/folderOfMyFile\";\nPath path = Paths.get(folderPath, \"myFileName.csv\"); //or any text file eg.: txt, bat, etc\nCharset charset = Charset.forName(\"UTF-8\");\n\ntry (BufferedReader reader = Files.newBufferedReader(path , charset)) {\n  while ((line = reader.readLine()) != null ) {\n    //separate all csv fields into string array\n    String[] lineVariables = line.split(\",\"); \n  }\n} catch (IOException e) {\n    System.err.println(e);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":2,"creation_date":1436425607,"post_id":23759788,"comment_id":50609242,"body_markdown":"I think you have to `System.getProperty(&quot;os.name&quot;).equals(&quot;Linux&quot;)`","body":"I think you have to <code>System.getProperty(&quot;os.name&quot;).equals(&quot;Linux&quot;)</code>"},{"owner":{"account_id":5588540,"reputation":12118,"user_id":4428462,"accept_rate":86,"display_name":"Jonas Czech"},"score":5,"creation_date":1465294929,"post_id":23759788,"comment_id":62830355,"body_markdown":"Don&#39;t compare strings with `==` !","body":"Don&#39;t compare strings with <code>==</code> !"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":11,"creation_date":1501240680,"post_id":23759788,"comment_id":77704835,"body_markdown":"This is the canonical Java&#160;8 example, as already posted by others. Why do you claim that this is “Java-9”?","body":"This is the canonical Java 8 example, as already posted by others. Why do you claim that this is “Java-9”?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1501275148,"post_id":23759788,"comment_id":77725845,"body_markdown":"@Holger memory mapped files that he forgot to mention may be?","body":"@Holger memory mapped files that he forgot to mention may be?"},{"owner":{"account_id":2417032,"reputation":2316,"user_id":2110865,"accept_rate":50,"display_name":"thanos.a"},"score":0,"creation_date":1572549472,"post_id":23759788,"comment_id":103604665,"body_markdown":"to process it line by line you can do \n        try (Stream&lt;String&gt; stream = Files.lines(Paths.get(inputFile)))\n        {\n            stream.forEach((line) -&gt; {\n            \n                System.out.println(line);\n            });\n        }","body":"to process it line by line you can do          try (Stream&lt;String&gt; stream = Files.lines(Paths.get(inputFile)))         {             stream.forEach((line) -&gt; {                              System.out.println(line);             });         }"}],"tags":[],"owner":{"account_id":388570,"reputation":88656,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"comment_count":5,"down_vote_count":6,"up_vote_count":14,"is_accepted":false,"score":8,"last_activity_date":1586393679,"creation_date":1400588698,"answer_id":23759788,"question_id":5868369,"body_markdown":"### Java 9:\n\n    try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\n        stream.forEach(System.out::println);\n    }\n\n\n\n\n\n","title":"How can I read a large text file line by line using Java?","body":"<h3>Java 9:</h3>\n<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\n    stream.forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49728,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1500523454,"creation_date":1422305034,"answer_id":28158401,"question_id":5868369,"body_markdown":"FileReader won&#39;t let you specify the encoding, use `InputStreamReader `instead if you need to specify it:\r\n\r\n    try {\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(filePath), &quot;Cp1252&quot;));\t\t\t\r\n\t\t\t\r\n\t\tString line;\r\n\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t// process the line.\r\n\t\t}\r\n\t\tbr.close();\r\n\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nIf you imported this file from Windows, it might have ANSI encoding (Cp1252), so you have to specify the encoding. \r\n","title":"How can I read a large text file line by line using Java?","body":"<p>FileReader won't let you specify the encoding, use <code>InputStreamReader</code>instead if you need to specify it:</p>\n\n<pre><code>try {\n    BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(filePath), \"Cp1252\"));         \n\n    String line;\n    while ((line = br.readLine()) != null) {\n        // process the line.\n    }\n    br.close();\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>If you imported this file from Windows, it might have ANSI encoding (Cp1252), so you have to specify the encoding. </p>\n"},{"comments":[{"owner":{"account_id":2369743,"reputation":7285,"user_id":2074605,"accept_rate":100,"display_name":"Parker"},"score":6,"creation_date":1434927130,"post_id":29792319,"comment_id":49971746,"body_markdown":"`FileUtils.readLines(file)` is a deprecated method. Additionally, the method invokes [`IOUtils.readLines`](http://grepcode.com/file/repo1.maven.org/maven2/commons-io/commons-io/1.4/org/apache/commons/io/IOUtils.java#IOUtils.readLines%28java.io.Reader%29), which uses a BufferedReader and ArrayList. This is not a line-by-line method, and certainly not one that would be practical for reading several GB.","body":"<code>FileUtils.readLines(file)</code> is a deprecated method. Additionally, the method invokes <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/commons-io/commons-io/1.4/org/apache/commons/io/IOUtils.java#IOUtils.readLines%28java.io.Reader%29\" rel=\"nofollow noreferrer\"><code>IOUtils.readLines</code></a>, which uses a BufferedReader and ArrayList. This is not a line-by-line method, and certainly not one that would be practical for reading several GB."}],"tags":[],"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1586393328,"creation_date":1429692661,"answer_id":29792319,"question_id":5868369,"body_markdown":"You can also use [Apache Commons IO][1]:\r\n    \r\n    File file = new File(&quot;/home/user/file.txt&quot;);\r\n\ttry {\r\n\t\tList&lt;String&gt; lines = FileUtils.readLines(file);\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>You can also use <a href=\"https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\" rel=\"nofollow noreferrer\">Apache Commons IO</a>:</p>\n\n<pre><code>File file = new File(\"/home/user/file.txt\");\ntry {\n    List&lt;String&gt; lines = FileUtils.readLines(file);\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3688787,"reputation":3018,"user_id":3071928,"accept_rate":57,"display_name":"Binkan Salaryman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432282121,"creation_date":1432282121,"answer_id":30391507,"question_id":5868369,"body_markdown":"I usually do the reading routine straightforward: \r\n\r\n    void readResource(InputStream source) throws IOException {\r\n    \tBufferedReader stream = null;\r\n    \ttry {\r\n    \t\tstream = new BufferedReader(new InputStreamReader(source));\r\n    \t\twhile (true) {\r\n    \t\t\tString line = stream.readLine();\r\n    \t\t\tif(line == null) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\t//process line\r\n    \t\t\tSystem.out.println(line)\r\n    \t\t}\r\n    \t} finally {\r\n    \t\tcloseQuiet(stream);\r\n    \t}\r\n    }\r\n    \r\n    static void closeQuiet(Closeable closeable) {\r\n    \tif (closeable != null) {\r\n    \t\ttry {\r\n    \t\t\tcloseable.close();\r\n    \t\t} catch (IOException ignore) {\r\n    \t\t}\r\n    \t}\r\n    }","title":"How can I read a large text file line by line using Java?","body":"<p>I usually do the reading routine straightforward: </p>\n\n<pre><code>void readResource(InputStream source) throws IOException {\n    BufferedReader stream = null;\n    try {\n        stream = new BufferedReader(new InputStreamReader(source));\n        while (true) {\n            String line = stream.readLine();\n            if(line == null) {\n                break;\n            }\n            //process line\n            System.out.println(line)\n        }\n    } finally {\n        closeQuiet(stream);\n    }\n}\n\nstatic void closeQuiet(Closeable closeable) {\n    if (closeable != null) {\n        try {\n            closeable.close();\n        } catch (IOException ignore) {\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1572607736,"creation_date":1436263981,"answer_id":31265714,"question_id":5868369,"body_markdown":"In Java 8, there is also an alternative to using [`Files.lines()`](https://stackoverflow.com/a/17866514/2986905). If your input source isn&#39;t a file but something more abstract like a `Reader` or an `InputStream`, you can _stream_ the lines via the `BufferedReader`s `lines()` method.\r\n\r\nFor example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    try (BufferedReader reader = new BufferedReader(...)) {\r\n      reader.lines().forEach(line -&gt; processLine(line));\r\n    }\r\n\r\nwill call `processLine()` for each input line read by the `BufferedReader`.\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>In Java 8, there is also an alternative to using <a href=\"https://stackoverflow.com/a/17866514/2986905\"><code>Files.lines()</code></a>. If your input source isn't a file but something more abstract like a <code>Reader</code> or an <code>InputStream</code>, you can <em>stream</em> the lines via the <code>BufferedReader</code>s <code>lines()</code> method.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader reader = new BufferedReader(...)) {\n  reader.lines().forEach(line -&gt; processLine(line));\n}\n</code></pre>\n\n<p>will call <code>processLine()</code> for each input line read by the <code>BufferedReader</code>.</p>\n"},{"comments":[{"owner":{"account_id":3745435,"reputation":434,"user_id":3343130,"accept_rate":73,"display_name":"Ketcomp"},"score":0,"creation_date":1453824805,"post_id":32542424,"comment_id":57763682,"body_markdown":"Shouldn&#39;t the method declaration look instead of this:  &#180;public static void readText throws FileNotFoundException(){&#180; \n\nLike:  &#180;public static void readText() throws FileNotFoundException{&#180;","body":"Shouldn&#39;t the method declaration look instead of this:  &#180;public static void readText throws FileNotFoundException(){&#180;   Like:  &#180;public static void readText() throws FileNotFoundException{&#180;"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1494143001,"post_id":32542424,"comment_id":74695408,"body_markdown":"This is considerably slower than `BufferedReader.readLine()`, and he asked for the best-performing method.","body":"This is considerably slower than <code>BufferedReader.readLine()</code>, and he asked for the best-performing method."}],"tags":[],"owner":{"account_id":6939057,"reputation":358,"user_id":5326059,"display_name":"iskandarchacra"},"comment_count":2,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1460635259,"creation_date":1442083386,"answer_id":32542424,"question_id":5868369,"body_markdown":"What you can do is scan the entire text using Scanner and go through the text line by line.\r\nOf course you should import the following:\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    public static void readText throws FileNotFoundException {\r\n\t\tScanner scan = new Scanner(new File(&quot;samplefilename.txt&quot;));\r\n\t\twhile(scan.hasNextLine()){\r\n\t\t\tString line = scan.nextLine();\r\n\t\t\t//Here you can manipulate the string the way you want\r\n\t\t}\r\n\t}\r\n\t\r\nScanner basically scans all the text. The while loop is used to traverse through the entire text.\r\n\r\nThe `.hasNextLine()` function is a boolean that returns true if there are still more lines in the text. The `.nextLine()` function gives you an entire line as a String which you can then use the way you want. Try `System.out.println(line)` to print the text.\r\n\r\nSide Note: .txt is the file type text.","title":"How can I read a large text file line by line using Java?","body":"<p>What you can do is scan the entire text using Scanner and go through the text line by line.\nOf course you should import the following:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\npublic static void readText throws FileNotFoundException {\n    Scanner scan = new Scanner(new File(\"samplefilename.txt\"));\n    while(scan.hasNextLine()){\n        String line = scan.nextLine();\n        //Here you can manipulate the string the way you want\n    }\n}\n</code></pre>\n\n<p>Scanner basically scans all the text. The while loop is used to traverse through the entire text.</p>\n\n<p>The <code>.hasNextLine()</code> function is a boolean that returns true if there are still more lines in the text. The <code>.nextLine()</code> function gives you an entire line as a String which you can then use the way you want. Try <code>System.out.println(line)</code> to print the text.</p>\n\n<p>Side Note: .txt is the file type text.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1477622997,"post_id":39055850,"comment_id":67852644,"body_markdown":"Why is it clearer? And don&#39;t post pictures of text here. Post the text.","body":"Why is it clearer? And don&#39;t post pictures of text here. Post the text."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1494143171,"post_id":39055850,"comment_id":74695453,"body_markdown":"You posted a picture. It is a picture of text. You could have cut and pasted the text directly into this page. Nobody said anything about posting programs. Posting pictures of text is a waste of your time, which I don&#39;t care about, and oyur bandwidth, which I do.","body":"You posted a picture. It is a picture of text. You could have cut and pasted the text directly into this page. Nobody said anything about posting programs. Posting pictures of text is a waste of your time, which I don&#39;t care about, and oyur bandwidth, which I do."}],"tags":[],"owner":{"account_id":8654966,"reputation":7229,"user_id":6479530,"accept_rate":100,"display_name":"Rajamohan S"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1473298968,"creation_date":1471707217,"answer_id":39055850,"question_id":5868369,"body_markdown":"The clear way to achieve this,\r\n\r\nFor example:\r\n\r\nIf you have `dataFile.txt` on your current directory\r\n\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    public class readByLine\r\n    {\r\n    \tpublic readByLine() throws FileNotFoundException\r\n    \t{\r\n    \t\tScanner linReader = new Scanner(new File(&quot;dataFile.txt&quot;));\r\n    \t\t\r\n    \t\twhile (linReader.hasNext())\r\n    \t\t{\r\n    \t\t\tString line = linReader.nextLine();\r\n    \t\t\tSystem.out.println(line);\r\n    \t\t}\r\n    \t\tlinReader.close();\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[])  throws FileNotFoundException\r\n    \t{\r\n    \t\tnew readByLine();\r\n    \t}\r\n    }\r\n\r\nThe output like as below,\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/W3xLx.jpg","title":"How can I read a large text file line by line using Java?","body":"<p>The clear way to achieve this,</p>\n\n<p>For example:</p>\n\n<p>If you have <code>dataFile.txt</code> on your current directory</p>\n\n<pre><code>import java.io.*;\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\npublic class readByLine\n{\n    public readByLine() throws FileNotFoundException\n    {\n        Scanner linReader = new Scanner(new File(\"dataFile.txt\"));\n\n        while (linReader.hasNext())\n        {\n            String line = linReader.nextLine();\n            System.out.println(line);\n        }\n        linReader.close();\n\n    }\n\n    public static void main(String args[])  throws FileNotFoundException\n    {\n        new readByLine();\n    }\n}\n</code></pre>\n\n<p>The output like as below,\n<a href=\"https://i.stack.imgur.com/W3xLx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W3xLx.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5440948,"reputation":257,"user_id":4329067,"display_name":"Ankit Sood"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1586393205,"creation_date":1492681548,"answer_id":43515927,"question_id":5868369,"body_markdown":"For **reading a file** with Java 8\r\n\r\n    package com.java.java8;\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.stream.Stream;\r\n\r\n    /**\r\n     * The Class ReadLargeFile.\r\n     *\r\n     * @author Ankit Sood Apr 20, 2017\r\n     */\r\n    public class ReadLargeFile {\r\n\r\n        /**\r\n         * The main method.\r\n         *\r\n         * @param args\r\n         *            the arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            try {\r\n                Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;C:\\\\Users\\\\System\\\\Desktop\\\\demoData.txt&quot;));\r\n                stream.forEach(System.out::println);\r\n            }\r\n            catch (Exception e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>For <strong>reading a file</strong> with Java 8</p>\n\n<pre><code>package com.java.java8;\n\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.stream.Stream;\n\n/**\n * The Class ReadLargeFile.\n *\n * @author Ankit Sood Apr 20, 2017\n */\npublic class ReadLargeFile {\n\n    /**\n     * The main method.\n     *\n     * @param args\n     *            the arguments\n     */\n    public static void main(String[] args) {\n        try {\n            Stream&lt;String&gt; stream = Files.lines(Paths.get(\"C:\\\\Users\\\\System\\\\Desktop\\\\demoData.txt\"));\n            stream.forEach(System.out::println);\n        }\n        catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6658805,"reputation":121,"user_id":5138517,"display_name":"Dipendra Ghatal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505644322,"creation_date":1505642836,"answer_id":46262860,"question_id":5868369,"body_markdown":"\tBufferedReader br;\r\n\tFileInputStream fin;\r\n\ttry {\r\n\t\tfin = new FileInputStream(fileName);\r\n\t\tbr = new BufferedReader(new InputStreamReader(fin));\r\n\t\t\t\r\n\t\t/*Path pathToFile = Paths.get(fileName);\r\n\t\tbr = Files.newBufferedReader(pathToFile,StandardCharsets.US_ASCII);*/\r\n\t\t\t\r\n\t\tString line = br.readLine();\r\n\t\twhile (line != null) {\r\n\t\t\tString[] attributes = line.split(&quot;,&quot;);\r\n\t\t\tMovie movie = createMovie(attributes);\r\n\t\t\tmovies.add(movie);\r\n\t\t\tline = br.readLine();\r\n\t\t}\r\n\t\tfin.close();\r\n\t\tbr.close();\r\n\t} catch (FileNotFoundException e) {\r\n\t\tSystem.out.println(&quot;Your Message&quot;);\r\n\t} catch (IOException e) {\r\n\t\tSystem.out.println(&quot;Your Message&quot;);\r\n\t}\r\n\r\nIt works for me. Hope It will help you too.","title":"How can I read a large text file line by line using Java?","body":"<pre><code>BufferedReader br;\nFileInputStream fin;\ntry {\n    fin = new FileInputStream(fileName);\n    br = new BufferedReader(new InputStreamReader(fin));\n\n    /*Path pathToFile = Paths.get(fileName);\n    br = Files.newBufferedReader(pathToFile,StandardCharsets.US_ASCII);*/\n\n    String line = br.readLine();\n    while (line != null) {\n        String[] attributes = line.split(\",\");\n        Movie movie = createMovie(attributes);\n        movies.add(movie);\n        line = br.readLine();\n    }\n    fin.close();\n    br.close();\n} catch (FileNotFoundException e) {\n    System.out.println(\"Your Message\");\n} catch (IOException e) {\n    System.out.println(\"Your Message\");\n}\n</code></pre>\n\n<p>It works for me. Hope It will help you too.</p>\n"},{"comments":[{"owner":{"account_id":1692181,"reputation":524,"user_id":1554326,"display_name":"Andrii Rubtsov"},"score":2,"creation_date":1524223211,"post_id":46363708,"comment_id":86896531,"body_markdown":"I agree that it is actually fine. Aguess, people dislike it because of strange StringBuffer choice (StringBuilder is generally preferred, even though it might just be a bad name for variable). Also because it is already mentioned above.","body":"I agree that it is actually fine. Aguess, people dislike it because of strange StringBuffer choice (StringBuilder is generally preferred, even though it might just be a bad name for variable). Also because it is already mentioned above."}],"tags":[],"owner":{"account_id":1880699,"reputation":65,"user_id":1700966,"display_name":"spidy"},"comment_count":1,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1506586547,"creation_date":1506079705,"answer_id":46363708,"question_id":5868369,"body_markdown":"You can use streams to do it more precisely:\r\n\r\n    Files.lines(Paths.get(&quot;input.txt&quot;)).forEach(s -&gt; stringBuffer.append(s);\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>You can use streams to do it more precisely:</p>\n\n<pre><code>Files.lines(Paths.get(\"input.txt\")).forEach(s -&gt; stringBuffer.append(s);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1586393116,"post_id":46962549,"comment_id":108115118,"body_markdown":"An explanation would be in order.","body":"An explanation would be in order."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661940380,"post_id":46962549,"comment_id":129889526,"body_markdown":"Specifically an explanation of why this constitutes &#39;quickly&#39;, as opposed to all the other ways of doing it. You don&#39;t need to initialize the `readLine` variable.","body":"Specifically an explanation of why this constitutes &#39;quickly&#39;, as opposed to all the other ways of doing it. You don&#39;t need to initialize the <code>readLine</code> variable."}],"tags":[],"owner":{"account_id":2527555,"reputation":535,"user_id":2196607,"display_name":"Usman"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509046974,"creation_date":1509046974,"answer_id":46962549,"question_id":5868369,"body_markdown":"You can use this code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class ReadTextFile {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            try {\r\n    \r\n                File f = new File(&quot;src/com/data.txt&quot;);\r\n    \r\n                BufferedReader b = new BufferedReader(new FileReader(f));\r\n    \r\n                String readLine = &quot;&quot;;\r\n    \r\n                System.out.println(&quot;Reading file using Buffered Reader&quot;);\r\n    \r\n                while ((readLine = b.readLine()) != null) {\r\n                    System.out.println(readLine);\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n    }","title":"How can I read a large text file line by line using Java?","body":"<p>You can use this code:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class ReadTextFile {\n\n    public static void main(String[] args) throws IOException {\n\n        try {\n\n            File f = new File(\"src/com/data.txt\");\n\n            BufferedReader b = new BufferedReader(new FileReader(f));\n\n            String readLine = \"\";\n\n            System.out.println(\"Reading file using Buffered Reader\");\n\n            while ((readLine = b.readLine()) != null) {\n                System.out.println(readLine);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8980383,"reputation":388,"user_id":6695807,"display_name":"Faisal Julaidan"},"score":2,"creation_date":1527017740,"post_id":49713184,"comment_id":87963998,"body_markdown":"Your guide is amazing :)","body":"Your guide is amazing :)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1568274079,"post_id":49713184,"comment_id":102224156,"body_markdown":"You are mostly timing `System.out.print/println()` here; you are also assuming the file will fit into memory in your first two cases.","body":"You are mostly timing <code>System.out.print&#47;println()</code> here; you are also assuming the file will fit into memory in your first two cases."},{"owner":{"account_id":7531567,"reputation":2637,"user_id":5719544,"display_name":"gomisha"},"score":0,"creation_date":1568307989,"post_id":49713184,"comment_id":102242435,"body_markdown":"Fair enough. Maybe I could&#39;ve made those assumptions more explicit in my answer.","body":"Fair enough. Maybe I could&#39;ve made those assumptions more explicit in my answer."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":3,"creation_date":1603866363,"post_id":49713184,"comment_id":114168465,"body_markdown":"the question asked for reading line by line, only last method qualifies...","body":"the question asked for reading line by line, only last method qualifies..."},{"owner":{"account_id":12573569,"reputation":142,"user_id":9146825,"display_name":"Blue Dev"},"score":0,"creation_date":1658238452,"post_id":49713184,"comment_id":128998480,"body_markdown":"@eis Given that he tested 10 ways to read a file and the third fastest is line-by-line, it can be assumed reasonably that the third method shown here is also the fastest way to read a file line-by-line. I would argue then that he not only fully answered the question, but gave additional information as well which is quite useful to know.","body":"@eis Given that he tested 10 ways to read a file and the third fastest is line-by-line, it can be assumed reasonably that the third method shown here is also the fastest way to read a file line-by-line. I would argue then that he not only fully answered the question, but gave additional information as well which is quite useful to know."}],"tags":[],"owner":{"account_id":7531567,"reputation":2637,"user_id":5719544,"display_name":"gomisha"},"comment_count":5,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1523146200,"creation_date":1523146200,"answer_id":49713184,"question_id":5868369,"body_markdown":"I documented and tested [10 different ways to read a file in Java][1] and then ran them against each other by making them read in test files from 1KB to 1GB. Here are the fastest 3 file reading methods for reading a 1GB test file.\r\n\r\nNote that when running the performance tests I didn&#39;t output anything to the console since that would really slow down the test. I just wanted to test the raw reading speed.\r\n\r\n1) java.nio.file.Files.readAllBytes()\r\n\r\nTested in Java 7, 8, 9. This was overall the fastest method. Reading a 1GB file was consistently just under 1 second.\r\n\r\n    import java.io..File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n     \r\n    public class ReadFile_Files_ReadAllBytes {\r\n      public static void main(String [] pArgs) throws IOException {\r\n        String fileName = &quot;c:\\\\temp\\\\sample-1GB.txt&quot;;\r\n        File file = new File(fileName);\r\n     \r\n        byte [] fileBytes = Files.readAllBytes(file.toPath());\r\n        char singleChar;\r\n        for(byte b : fileBytes) {\r\n          singleChar = (char) b;\r\n          System.out.print(singleChar);\r\n        }\r\n      }\r\n    }\r\n\r\n2) java.nio.file.Files.lines()\r\n\r\nThis was tested successfully in Java 8 and 9 but it won&#39;t work in Java 7 because of the lack of support for lambda expressions. It took about 3.5 seconds to read in a 1GB file which put it in second place as far as reading larger files.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.util.stream.Stream;\r\n     \r\n    public class ReadFile_Files_Lines {\r\n      public static void main(String[] pArgs) throws IOException {\r\n        String fileName = &quot;c:\\\\temp\\\\sample-1GB.txt&quot;;\r\n        File file = new File(fileName);\r\n     \r\n        try (Stream linesStream = Files.lines(file.toPath())) {\r\n          linesStream.forEach(line -&gt; {\r\n            System.out.println(line);\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n3) BufferedReader\r\n\r\nTested to work in Java 7, 8, 9. This took about 4.5 seconds to read in a 1GB test file.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n     \r\n    public class ReadFile_BufferedReader_ReadLine {\r\n      public static void main(String [] args) throws IOException {\r\n        String fileName = &quot;c:\\\\temp\\\\sample-1GB.txt&quot;;\r\n        FileReader fileReader = new FileReader(fileName);\r\n     \r\n        try (BufferedReader bufferedReader = new BufferedReader(fileReader)) {\r\n          String line;\r\n          while((line = bufferedReader.readLine()) != null) {\r\n            System.out.println(line);\r\n          }\r\n        }\r\n      }\r\n\r\nYou can find the complete rankings for all 10 file reading methods [here][2].\r\n\r\n\r\n  [1]: https://funnelgarden.com/java_read_file/\r\n  [2]: https://funnelgarden.com/java_read_file/#Performance_Rankings","title":"How can I read a large text file line by line using Java?","body":"<p>I documented and tested <a href=\"https://funnelgarden.com/java_read_file/\" rel=\"noreferrer\">10 different ways to read a file in Java</a> and then ran them against each other by making them read in test files from 1KB to 1GB. Here are the fastest 3 file reading methods for reading a 1GB test file.</p>\n\n<p>Note that when running the performance tests I didn't output anything to the console since that would really slow down the test. I just wanted to test the raw reading speed.</p>\n\n<p>1) java.nio.file.Files.readAllBytes()</p>\n\n<p>Tested in Java 7, 8, 9. This was overall the fastest method. Reading a 1GB file was consistently just under 1 second.</p>\n\n<pre><code>import java.io..File;\nimport java.io.IOException;\nimport java.nio.file.Files;\n\npublic class ReadFile_Files_ReadAllBytes {\n  public static void main(String [] pArgs) throws IOException {\n    String fileName = \"c:\\\\temp\\\\sample-1GB.txt\";\n    File file = new File(fileName);\n\n    byte [] fileBytes = Files.readAllBytes(file.toPath());\n    char singleChar;\n    for(byte b : fileBytes) {\n      singleChar = (char) b;\n      System.out.print(singleChar);\n    }\n  }\n}\n</code></pre>\n\n<p>2) java.nio.file.Files.lines()</p>\n\n<p>This was tested successfully in Java 8 and 9 but it won't work in Java 7 because of the lack of support for lambda expressions. It took about 3.5 seconds to read in a 1GB file which put it in second place as far as reading larger files.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.stream.Stream;\n\npublic class ReadFile_Files_Lines {\n  public static void main(String[] pArgs) throws IOException {\n    String fileName = \"c:\\\\temp\\\\sample-1GB.txt\";\n    File file = new File(fileName);\n\n    try (Stream linesStream = Files.lines(file.toPath())) {\n      linesStream.forEach(line -&gt; {\n        System.out.println(line);\n      });\n    }\n  }\n}\n</code></pre>\n\n<p>3) BufferedReader</p>\n\n<p>Tested to work in Java 7, 8, 9. This took about 4.5 seconds to read in a 1GB test file.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class ReadFile_BufferedReader_ReadLine {\n  public static void main(String [] args) throws IOException {\n    String fileName = \"c:\\\\temp\\\\sample-1GB.txt\";\n    FileReader fileReader = new FileReader(fileName);\n\n    try (BufferedReader bufferedReader = new BufferedReader(fileReader)) {\n      String line;\n      while((line = bufferedReader.readLine()) != null) {\n        System.out.println(line);\n      }\n    }\n  }\n</code></pre>\n\n<p>You can find the complete rankings for all 10 file reading methods <a href=\"https://funnelgarden.com/java_read_file/#Performance_Rankings\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4192718,"reputation":1097,"user_id":3434956,"accept_rate":95,"display_name":"mohsen.nour"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1586393077,"creation_date":1547885942,"answer_id":54265271,"question_id":5868369,"body_markdown":"By using the ***org.apache.commons.io*** package, it gave more performance, especially in legacy code which uses Java 6 and below.\r\n\r\nJava 7 has a better API with fewer exceptions\r\nhandling and more useful methods:\r\n\r\n    LineIterator lineIterator = null;\r\n    try {\r\n        lineIterator = FileUtils.lineIterator(new File(&quot;/home/username/m.log&quot;), &quot;windows-1256&quot;); // The second parameter is optionnal\r\n        while (lineIterator.hasNext()) {\r\n            String currentLine = lineIterator.next();\r\n            // Some operation\r\n        }\r\n    }\r\n    finally {\r\n        LineIterator.closeQuietly(lineIterator);\r\n    }\r\n\r\n###Maven\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>By using the <strong><em>org.apache.commons.io</em></strong> package, it gave more performance, especially in legacy code which uses Java 6 and below.</p>\n\n<p>Java 7 has a better API with fewer exceptions\nhandling and more useful methods:</p>\n\n<pre><code>LineIterator lineIterator = null;\ntry {\n    lineIterator = FileUtils.lineIterator(new File(\"/home/username/m.log\"), \"windows-1256\"); // The second parameter is optionnal\n    while (lineIterator.hasNext()) {\n        String currentLine = lineIterator.next();\n        // Some operation\n    }\n}\nfinally {\n    LineIterator.closeQuietly(lineIterator);\n}\n</code></pre>\n\n<h3>Maven</h3>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1671375895,"creation_date":1671375895,"answer_id":74842424,"question_id":5868369,"body_markdown":"For Android developers ending up here (who use **Kotlin**):\r\n\r\n```kotlin\r\nval myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\r\nval file = File(myFileUrl.toURI())\r\nfile\r\n    .bufferedReader()\r\n    .lineSequence()\r\n    .forEach(::println)\r\n```\r\n\r\nOr:\r\n\r\n```kotlin\r\nval myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\r\nval file = File(myFileUrl.toURI())\r\nfile.useLines { lines -&gt;\r\n    lines.forEach(::println)\r\n}\r\n```\r\n\r\n### Notes:\r\n- The *vegetables.txt* file should be in your classpath (for example, in *src/main/resources* directory)\r\n\r\n- The above solutions all treat the file encodings as `UTF-8` by default. You can specify your desired encoding as the argument for the functions.\r\n\r\n- The above solutions do not need any further action like closing the files or readers. They are automatically taken care of by the Kotlin standard library.\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>For Android developers ending up here (who use <strong>Kotlin</strong>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\nval file = File(myFileUrl.toURI())\nfile\n    .bufferedReader()\n    .lineSequence()\n    .forEach(::println)\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\nval file = File(myFileUrl.toURI())\nfile.useLines { lines -&gt;\n    lines.forEach(::println)\n}\n</code></pre>\n<h3>Notes:</h3>\n<ul>\n<li><p>The <em>vegetables.txt</em> file should be in your classpath (for example, in <em>src/main/resources</em> directory)</p>\n</li>\n<li><p>The above solutions all treat the file encodings as <code>UTF-8</code> by default. You can specify your desired encoding as the argument for the functions.</p>\n</li>\n<li><p>The above solutions do not need any further action like closing the files or readers. They are automatically taken care of by the Kotlin standard library.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":746890,"reputation":10145,"user_id":735982,"display_name":"manoj singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1457425,"favorite_count":0,"down_vote_count":8,"up_vote_count":1016,"answer_count":22,"score":1008,"last_activity_date":1695630006,"creation_date":1304420004,"question_id":5868369,"body_markdown":"I need to read a large text file of around 5-6 GB line by line using Java.\r\n\r\nHow can I do this quickly?\r\n","title":"How can I read a large text file line by line using Java?","body":"<p>I need to read a large text file of around 5-6 GB line by line using Java.</p>\n\n<p>How can I do this quickly?</p>\n"},{"tags":["java","logging","logback"],"answers":[{"comments":[{"owner":{"account_id":251345,"reputation":255,"user_id":528653,"display_name":"Yony"},"score":2,"creation_date":1329525802,"post_id":9320198,"comment_id":11784785,"body_markdown":"Yea, thought about using the auto-refreshing feature but seams a bit scary to enable it on anything other than my dev environment","body":"Yea, thought about using the auto-refreshing feature but seams a bit scary to enable it on anything other than my dev environment"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1416517631,"creation_date":1329431835,"answer_id":9320198,"question_id":9320133,"body_markdown":"This is the source code of `JMXConfigurator.reloadDefaultConfiguration()`:\r\n\r\n    public void reloadDefaultConfiguration() throws JoranException {\r\n      ContextInitializer ci = new ContextInitializer(loggerContext);\r\n      URL url = ci.findURLOfDefaultConfigurationFile(true);\r\n      loggerContext.reset();\r\n      ci.configureByResource(url);\r\n    }\r\n\r\nWhat about just running this code wherever you need it?\r\n\r\nThe only problem is the `loggerContext` variable. You can obtain it using:\r\n\r\n    (LoggerContext)LoggerFactory.getILoggerFactory()\r\n\r\nUnfortunately it doesn&#39;t look like there is well-factored API to do this, what about raising an [issue](http://jira.qos.ch/browse)? Also are you aware that Logback has a built-in auto-refreshing feature?","title":"How do I programmatically tell Logback to Reload Configuration","body":"<p>This is the source code of <code>JMXConfigurator.reloadDefaultConfiguration()</code>:</p>\n\n<pre><code>public void reloadDefaultConfiguration() throws JoranException {\n  ContextInitializer ci = new ContextInitializer(loggerContext);\n  URL url = ci.findURLOfDefaultConfigurationFile(true);\n  loggerContext.reset();\n  ci.configureByResource(url);\n}\n</code></pre>\n\n<p>What about just running this code wherever you need it?</p>\n\n<p>The only problem is the <code>loggerContext</code> variable. You can obtain it using:</p>\n\n<pre><code>(LoggerContext)LoggerFactory.getILoggerFactory()\n</code></pre>\n\n<p>Unfortunately it doesn't look like there is well-factored API to do this, what about raising an <a href=\"http://jira.qos.ch/browse\" rel=\"noreferrer\">issue</a>? Also are you aware that Logback has a built-in auto-refreshing feature?</p>\n"},{"comments":[{"owner":{"account_id":2369931,"reputation":2363,"user_id":2074751,"accept_rate":23,"display_name":"JohnTheBeloved"},"score":0,"creation_date":1473682490,"post_id":14354238,"comment_id":66221320,"body_markdown":"This doesn&#39;t handle configuring logback using a .groovy file ...throws `org.xml.sax.SAXParseException`","body":"This doesn&#39;t handle configuring logback using a .groovy file ...throws <code>org.xml.sax.SAXParseException</code>"},{"owner":{"account_id":487587,"reputation":3346,"user_id":1375292,"accept_rate":67,"display_name":"Troy Daniels"},"score":0,"creation_date":1579117242,"post_id":14354238,"comment_id":105662853,"body_markdown":"The groovy problem is annoying.  I&#39;m trying to restart my system mid-run, and I would like to reload the groovy file, since it puts the log files into a time-stamped directory.","body":"The groovy problem is annoying.  I&#39;m trying to restart my system mid-run, and I would like to reload the groovy file, since it puts the log files into a time-stamped directory."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1695635004,"post_id":14354238,"comment_id":136045843,"body_markdown":"FYI this no longer works since logback 1.3 because of a breaking API change in [LOGBACK-1655](https://jira.qos.ch/projects/LOGBACK/issues/LOGBACK-1655)","body":"FYI this no longer works since logback 1.3 because of a breaking API change in <a href=\"https://jira.qos.ch/projects/LOGBACK/issues/LOGBACK-1655\" rel=\"nofollow noreferrer\">LOGBACK-1655</a>"}],"tags":[],"owner":{"account_id":1916299,"reputation":1965,"user_id":1728821,"accept_rate":75,"display_name":"sasha_trn"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1358325764,"creation_date":1358325764,"answer_id":14354238,"question_id":9320133,"body_markdown":"I used the following code for this purpose:\r\n\r\n\tpublic static void reloadLogger() {\r\n\t\tLoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n\r\n\t\tContextInitializer ci = new ContextInitializer(loggerContext);\r\n\t\tURL url = ci.findURLOfDefaultConfigurationFile(true);\r\n\r\n\t\ttry {\r\n\t\t\tJoranConfigurator configurator = new JoranConfigurator();\r\n\t\t\tconfigurator.setContext(loggerContext);\r\n\t\t\tloggerContext.reset();\r\n\t\t\tconfigurator.doConfigure(url);\r\n\t\t} catch (JoranException je) {\r\n\t\t\t// StatusPrinter will handle this\r\n\t\t}\r\n\t\tStatusPrinter.printInCaseOfErrorsOrWarnings(loggerContext);\r\n\t}\r\n","title":"How do I programmatically tell Logback to Reload Configuration","body":"<p>I used the following code for this purpose:</p>\n\n<pre><code>public static void reloadLogger() {\n    LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\n\n    ContextInitializer ci = new ContextInitializer(loggerContext);\n    URL url = ci.findURLOfDefaultConfigurationFile(true);\n\n    try {\n        JoranConfigurator configurator = new JoranConfigurator();\n        configurator.setContext(loggerContext);\n        loggerContext.reset();\n        configurator.doConfigure(url);\n    } catch (JoranException je) {\n        // StatusPrinter will handle this\n    }\n    StatusPrinter.printInCaseOfErrorsOrWarnings(loggerContext);\n}\n</code></pre>\n"}],"owner":{"account_id":251345,"reputation":255,"user_id":528653,"display_name":"Yony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7507,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":9320198,"answer_count":2,"score":20,"last_activity_date":1695629073,"creation_date":1329431544,"question_id":9320133,"body_markdown":"I know there&#39;s a reloadDefaultConfiguration() jmx operation, but without getting an instance of MBean and invoking this operation, is there a Logback api to reload the default configuration (optionally specifying a log configuration file path)?","title":"How do I programmatically tell Logback to Reload Configuration","body":"<p>I know there's a reloadDefaultConfiguration() jmx operation, but without getting an instance of MBean and invoking this operation, is there a Logback api to reload the default configuration (optionally specifying a log configuration file path)?</p>\n"},{"tags":["java","wsdl","easywsdl"],"owner":{"account_id":4322574,"reputation":51,"user_id":3530266,"display_name":"dev_jongtae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695629004,"creation_date":1695628539,"question_id":77170798,"body_markdown":"I found the latest version of the easywsdl library at this link: https://mvnrepository.com/artifact/org.ow2.easywsdl/easywsdl-wsdl. However, I can&#39;t find any documentation or repository (like GitHub) for the latest version. \r\n\r\nI did find a site related to the library at https://easywsdl.ow2.org/user-guides.html, but it hasn&#39;t been updated in a long time. Do you know of any site where I can check the latest information related to this library? \r\n\r\nPlease help.","title":"Where can I find the latest documentation for easyWSDL?","body":"<p>I found the latest version of the easywsdl library at this link: <a href=\"https://mvnrepository.com/artifact/org.ow2.easywsdl/easywsdl-wsdl\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.ow2.easywsdl/easywsdl-wsdl</a>. However, I can't find any documentation or repository (like GitHub) for the latest version.</p>\n<p>I did find a site related to the library at <a href=\"https://easywsdl.ow2.org/user-guides.html\" rel=\"nofollow noreferrer\">https://easywsdl.ow2.org/user-guides.html</a>, but it hasn't been updated in a long time. Do you know of any site where I can check the latest information related to this library?</p>\n<p>Please help.</p>\n"},{"tags":["java","spring","spring-test","java-record"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":1,"creation_date":1695631910,"post_id":77170814,"comment_id":136045226,"body_markdown":"Does this answer your question? [How to use @ConfigurationProperties with Records?](https://stackoverflow.com/questions/66696828/how-to-use-configurationproperties-with-records)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66696828/how-to-use-configurationproperties-with-records\">How to use @ConfigurationProperties with Records?</a>"},{"owner":{"account_id":8092269,"reputation":173,"user_id":6097829,"display_name":"Sudhir Kumar"},"score":0,"creation_date":1695634430,"post_id":77170814,"comment_id":136045738,"body_markdown":"@MaksimEliseev No. As I mentioned above configuration works fine when my application boots up i.e. it&#39;s using given default ConstructorBinding. However, it fails during test execution.","body":"@MaksimEliseev No. As I mentioned above configuration works fine when my application boots up i.e. it&#39;s using given default ConstructorBinding. However, it fails during test execution."}],"owner":{"account_id":8092269,"reputation":173,"user_id":6097829,"display_name":"Sudhir Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695628670,"creation_date":1695628670,"question_id":77170814,"body_markdown":"I was trying to use Java Record as a Configuration Property whose fields like url,username and password comes from external properties file. For this, I have following code:\r\n```\r\n@EnableConfigurationProperties(DbConfig.class)\r\n@ConfigurationProperties(prefix = &quot;&quot;) \r\npublic record DbConfig(String url, String username, String password) {\r\n}\r\n```\r\n\r\nSpring boot app using this DbConfig works perfectly fine like DbConfig class&#39;s fields gets initialized correctly from the properties file. However, It fails while writing the Unit test.\r\n\r\nBelow is my test code:\r\n```\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n@SpringJUnitConfig(DbConfig.class)\r\nclass DbConfigTest {\r\n\r\n    @Autowired\r\n    DbConfig dbConfig;\r\n\r\n    @Test\r\n    void shouldReturnExecutorCorrectly() {\r\n        assertEquals(&quot;localhost&quot;, this.dbConfig.url());\r\n        assertEquals(&quot;Hello&quot;, this.dbConfig.username());\r\n        assertEquals(&quot;Password&quot;, this.dbConfig.password());\r\n    }\r\n}\r\n```\r\n\r\nTest fails with error: \r\n\r\n&gt; No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate.\r\n\r\nSame test runs if I replace existing Record with a Class having a getter and setter. So, seems like during test, Spring is not able map dependency of **DbConfig** class from application-test.properties.\r\n\r\nI have **application-test-properties** \r\n```\r\nurl=localhost\r\nusername=Hello\r\npassword=Password\r\n\r\n```\r\n\r\n","title":"Fail to instantiate Java Record annotated with @ConfigurationProperties","body":"<p>I was trying to use Java Record as a Configuration Property whose fields like url,username and password comes from external properties file. For this, I have following code:</p>\n<pre><code>@EnableConfigurationProperties(DbConfig.class)\n@ConfigurationProperties(prefix = &quot;&quot;) \npublic record DbConfig(String url, String username, String password) {\n}\n</code></pre>\n<p>Spring boot app using this DbConfig works perfectly fine like DbConfig class's fields gets initialized correctly from the properties file. However, It fails while writing the Unit test.</p>\n<p>Below is my test code:</p>\n<pre><code>@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@SpringJUnitConfig(DbConfig.class)\nclass DbConfigTest {\n\n    @Autowired\n    DbConfig dbConfig;\n\n    @Test\n    void shouldReturnExecutorCorrectly() {\n        assertEquals(&quot;localhost&quot;, this.dbConfig.url());\n        assertEquals(&quot;Hello&quot;, this.dbConfig.username());\n        assertEquals(&quot;Password&quot;, this.dbConfig.password());\n    }\n}\n</code></pre>\n<p>Test fails with error:</p>\n<blockquote>\n<p>No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate.</p>\n</blockquote>\n<p>Same test runs if I replace existing Record with a Class having a getter and setter. So, seems like during test, Spring is not able map dependency of <strong>DbConfig</strong> class from application-test.properties.</p>\n<p>I have <strong>application-test-properties</strong></p>\n<pre><code>url=localhost\nusername=Hello\npassword=Password\n\n</code></pre>\n"},{"tags":["java","io","newline","delimiter"],"answers":[{"comments":[{"owner":{"account_id":3476158,"reputation":395,"user_id":2909304,"accept_rate":50,"display_name":"Samuel"},"score":0,"creation_date":1460840571,"post_id":36669697,"comment_id":60931001,"body_markdown":"I added that line but I get the same output.","body":"I added that line but I get the same output."},{"owner":{"account_id":8156920,"reputation":73,"user_id":6142192,"display_name":"Gamer John"},"score":0,"creation_date":1460840721,"post_id":36669697,"comment_id":60931036,"body_markdown":"@Samuel read JB Nizet&#39;s answer, he is right i see now you have set the delimeter to &quot; &quot; instead set that as \\n","body":"@Samuel read JB Nizet&#39;s answer, he is right i see now you have set the delimeter to &quot; &quot; instead set that as \\n"}],"tags":[],"owner":{"account_id":8156920,"reputation":73,"user_id":6142192,"display_name":"Gamer John"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460840443,"creation_date":1460840443,"answer_id":36669697,"question_id":36669643,"body_markdown":"After `string = scanner.next();` replace `\\n` that is\r\n\r\n    string = string.replace(&quot;\\n&quot;, &quot;&quot;);\r\n\r\n then print out the string variable .. \r\nThat should do the trick","title":"How do you keep scanner.next() from including newline?","body":"<p>After <code>string = scanner.next();</code> replace <code>\\n</code> that is</p>\n\n<pre><code>string = string.replace(\"\\n\", \"\");\n</code></pre>\n\n<p>then print out the string variable .. \nThat should do the trick</p>\n"},{"comments":[{"owner":{"account_id":3476158,"reputation":395,"user_id":2909304,"accept_rate":50,"display_name":"Samuel"},"score":0,"creation_date":1460840717,"post_id":36669718,"comment_id":60931032,"body_markdown":"That was painfully easy! I was over thinking it. Thank you!","body":"That was painfully easy! I was over thinking it. Thank you!"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1460840595,"creation_date":1460840595,"answer_id":36669718,"question_id":36669643,"body_markdown":"The [documentation of Scanner][1] says:\n\n&gt; The default whitespace delimiter used by a scanner is as recognized by `Character.isWhitespace`\n\nAnd the linked [documentation of `Character.isWhitespace`][2] says:\n\n&gt; Determines if the specified character is white space according to Java. A character is a Java whitespace character if and only if it satisfies one of the following criteria:\n&gt;\n&gt;   - It is a Unicode space character (SPACE_SEPARATOR, LINE_SEPARATOR, or PARAGRAPH_SEPARATOR) but is not also a non-breaking space (&#39;\\u00A0&#39;, &#39;\\u2007&#39;, &#39;\\u202F&#39;).\n&gt;   - It is &#39;\\t&#39;, U+0009 HORIZONTAL TABULATION.\n&gt;   - It is &#39;\\n&#39;, U+000A LINE FEED.\n&gt;   - It is &#39;\\u000B&#39;, U+000B VERTICAL TABULATION.\n&gt;   - It is &#39;\\f&#39;, U+000C FORM FEED.\n&gt;   - It is &#39;\\r&#39;, U+000D CARRIAGE RETURN.\n&gt;   - It is &#39;\\u001C&#39;, U+001C FILE SEPARATOR.\n&gt;   - It is &#39;\\u001D&#39;, U+001D GROUP SEPARATOR.\n&gt;   - It is &#39;\\u001E&#39;, U+001E RECORD SEPARATOR.\n&gt;   - It is &#39;\\u001F&#39;, U+001F UNIT SEPARATOR. \n\nSo, just don&#39;t set any specific delimiter. Keep the default, and newlines will be considered as a delimiter just like spaces, which means the token won&#39;t include newline characters.\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-","title":"How do you keep scanner.next() from including newline?","body":"<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">documentation of Scanner</a> says:</p>\n<blockquote>\n<p>The default whitespace delimiter used by a scanner is as recognized by <code>Character.isWhitespace</code></p>\n</blockquote>\n<p>And the linked <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-\" rel=\"noreferrer\">documentation of <code>Character.isWhitespace</code></a> says:</p>\n<blockquote>\n<p>Determines if the specified character is white space according to Java. A character is a Java whitespace character if and only if it satisfies one of the following criteria:</p>\n<ul>\n<li>It is a Unicode space character (SPACE_SEPARATOR, LINE_SEPARATOR, or PARAGRAPH_SEPARATOR) but is not also a non-breaking space ('\\u00A0', '\\u2007', '\\u202F').</li>\n<li>It is '\\t', U+0009 HORIZONTAL TABULATION.</li>\n<li>It is '\\n', U+000A LINE FEED.</li>\n<li>It is '\\u000B', U+000B VERTICAL TABULATION.</li>\n<li>It is '\\f', U+000C FORM FEED.</li>\n<li>It is '\\r', U+000D CARRIAGE RETURN.</li>\n<li>It is '\\u001C', U+001C FILE SEPARATOR.</li>\n<li>It is '\\u001D', U+001D GROUP SEPARATOR.</li>\n<li>It is '\\u001E', U+001E RECORD SEPARATOR.</li>\n<li>It is '\\u001F', U+001F UNIT SEPARATOR.</li>\n</ul>\n</blockquote>\n<p>So, just don't set any specific delimiter. Keep the default, and newlines will be considered as a delimiter just like spaces, which means the token won't include newline characters.</p>\n"}],"owner":{"account_id":3476158,"reputation":395,"user_id":2909304,"accept_rate":50,"display_name":"Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10952,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36669718,"answer_count":2,"score":2,"last_activity_date":1695628205,"creation_date":1460840152,"question_id":36669643,"body_markdown":"I am trying to simply read words in a text file using scanner.next() with delimiter equal &quot; &quot; but the scanner includes the newline/carriage return with the token.\r\n\r\nI have scoured the internet trying to find a good example of this problem and have not found it so I am posting it here. I can&#39;t find another similar problem posted here on SO. I also looked over the documentation on scanner and pattern (http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html) but I still cannot find a way to solve this.\r\n\r\n**Text file:**\r\n\r\nThis is a test\r\n\r\nto see if1 this, is working\r\n\r\nok!\r\n\r\n**Code:**\r\n\r\n    int i = 0;\r\n    String string;\r\n    try(Scanner scanner = new Scanner(new File(filename))) {\r\n    \tscanner.useDelimiter(&quot; &quot;);\r\n    \twhile(scanner.hasNext())\r\n    \t{\r\n    \tstring = scanner.next();\r\n    \tSystem.out.println(i++ + &quot;: &quot; + string);\r\n    \t}\r\n    }catch(IOException io_error) {\r\n    \tSystem.out.println(io_error);\r\n    \t}\r\n\r\n**Output:**\r\n\r\n0: This\r\n\r\n1: is\r\n\r\n2: a\r\n\r\n3: test\r\n\r\nto\r\n\r\n4: see\r\n\r\n5: if1\r\n\r\n6: this,\r\n\r\n7: is\r\n\r\n8: working\r\n\r\nok!\r\n\r\nAs you can see, #3 and #8 have two words separated by a newline. (I know I can separate these into two separate strings.)","title":"How do you keep scanner.next() from including newline?","body":"<p>I am trying to simply read words in a text file using scanner.next() with delimiter equal \" \" but the scanner includes the newline/carriage return with the token.</p>\n\n<p>I have scoured the internet trying to find a good example of this problem and have not found it so I am posting it here. I can't find another similar problem posted here on SO. I also looked over the documentation on scanner and pattern (<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html</a>) but I still cannot find a way to solve this.</p>\n\n<p><strong>Text file:</strong></p>\n\n<p>This is a test</p>\n\n<p>to see if1 this, is working</p>\n\n<p>ok!</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>int i = 0;\nString string;\ntry(Scanner scanner = new Scanner(new File(filename))) {\n    scanner.useDelimiter(\" \");\n    while(scanner.hasNext())\n    {\n    string = scanner.next();\n    System.out.println(i++ + \": \" + string);\n    }\n}catch(IOException io_error) {\n    System.out.println(io_error);\n    }\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>0: This</p>\n\n<p>1: is</p>\n\n<p>2: a</p>\n\n<p>3: test</p>\n\n<p>to</p>\n\n<p>4: see</p>\n\n<p>5: if1</p>\n\n<p>6: this,</p>\n\n<p>7: is</p>\n\n<p>8: working</p>\n\n<p>ok!</p>\n\n<p>As you can see, #3 and #8 have two words separated by a newline. (I know I can separate these into two separate strings.)</p>\n"},{"tags":["java","loops","for-loop","fibonacci"],"comments":[{"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"score":1,"creation_date":1350946483,"post_id":13021102,"comment_id":17673039,"body_markdown":"this is most definitely homework...","body":"this is most definitely homework..."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1350946847,"post_id":13021102,"comment_id":17673142,"body_markdown":"What do you mean by _&quot;the 6th digit in the sequence&quot;_? Are you concatenating all the fibonacci numbers and then counting digits, as in `112358132134...`? Or do you just want the _nth_ fibonacci number?  If instead of _6th_ you wanted the _8th_ &quot;digit&quot;, what you be expecting to get as output, `21` or `3`?","body":"What do you mean by <i>&quot;the 6th digit in the sequence&quot;</i>? Are you concatenating all the fibonacci numbers and then counting digits, as in <code>112358132134...</code>? Or do you just want the <i>nth</i> fibonacci number?  If instead of <i>6th</i> you wanted the <i>8th</i> &quot;digit&quot;, what you be expecting to get as output, <code>21</code> or <code>3</code>?"},{"owner":{"account_id":1962331,"reputation":77,"user_id":1763504,"display_name":"CydonPrax"},"score":1,"creation_date":1350947004,"post_id":13021102,"comment_id":17673191,"body_markdown":"In the sequence, the first digit is 1. The second is 1. The third is 2...etc..the 8th would be 21, 9th 32...If I wanted to find the 6th(which is 8), how would I find it?","body":"In the sequence, the first digit is 1. The second is 1. The third is 2...etc..the 8th would be 21, 9th 32...If I wanted to find the 6th(which is 8), how would I find it?"},{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":3,"creation_date":1350948211,"post_id":13021102,"comment_id":17673513,"body_markdown":"It seems you want the nth Fibonacci *number*, not *digit*.","body":"It seems you want the nth Fibonacci <i>number</i>, not <i>digit</i>."}],"answers":[{"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1350948776,"post_id":13021152,"comment_id":17673649,"body_markdown":"+1 but a couple of quibbles: (1) there is no _zeroth_ Fibonacci number. (2) The Fibonacci sequence can be said to start with the sequence `0,1` or `1,1`; which definition you choose determines which is the _first_ Fibonacci number","body":"+1 but a couple of quibbles: (1) there is no <i>zeroth</i> Fibonacci number. (2) The Fibonacci sequence can be said to start with the sequence <code>0,1</code> or <code>1,1</code>; which definition you choose determines which is the <i>first</i> Fibonacci number"},{"owner":{"account_id":996105,"reputation":182284,"user_id":1011995,"display_name":"Daniel Fischer"},"score":4,"creation_date":1350948965,"post_id":13021152,"comment_id":17673701,"body_markdown":"Usually, the n-th Fibonacci number, `F(n)` if you wish, is `(p^n - (1-p)^n)/sqrt(5)` with `p = (1+sqrt(5))/2`. So `F(0)`, the zeroth Fibonacci number is 0.","body":"Usually, the n-th Fibonacci number, <code>F(n)</code> if you wish, is <code>(p^n - (1-p)^n)&#47;sqrt(5)</code> with <code>p = (1+sqrt(5))&#47;2</code>. So <code>F(0)</code>, the zeroth Fibonacci number is 0."},{"owner":{"account_id":329794,"reputation":5980,"user_id":653511,"accept_rate":86,"display_name":"stemm"},"score":0,"creation_date":1350949028,"post_id":13021152,"comment_id":17673720,"body_markdown":"As fibonacci numbers grows fast, it is better to use `BigInteger` in calculations","body":"As fibonacci numbers grows fast, it is better to use <code>BigInteger</code> in calculations"}],"tags":[],"owner":{"account_id":996105,"reputation":182284,"user_id":1011995,"display_name":"Daniel Fischer"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1350946567,"creation_date":1350946567,"answer_id":13021152,"question_id":13021102,"body_markdown":"In your code, `num` starts as the 0&lt;sup&gt;th&lt;/sup&gt; Fibonacci number, and `num1` as the 1&lt;sup&gt;st&lt;/sup&gt;. So to find the n&lt;sup&gt;th&lt;/sup&gt;, you have to iterate the step `n` times:\r\n\r\n    for (loop = 0; loop &lt; n; loop ++)\r\n    {\r\n        fibonacci = num + num2;\r\n        num = num2;\r\n        num2 = fibonacci;\r\n    }\r\n    System.out.print(num);\r\n\r\nand only print it when you&#39;ve finished.\r\n\r\nWhen the loop counter `loop` has the value `k`, `num` holds the k&lt;sup&gt;th&lt;/sup&gt; Fibonacci number and `num2` the (k+1)&lt;sup&gt;th&lt;/sup&gt;.\r\n","title":"In java, how would I find the nth Fibonacci number?","body":"<p>In your code, <code>num</code> starts as the 0<sup>th</sup> Fibonacci number, and <code>num1</code> as the 1<sup>st</sup>. So to find the n<sup>th</sup>, you have to iterate the step <code>n</code> times:</p>\n\n<pre><code>for (loop = 0; loop &lt; n; loop ++)\n{\n    fibonacci = num + num2;\n    num = num2;\n    num2 = fibonacci;\n}\nSystem.out.print(num);\n</code></pre>\n\n<p>and only print it when you've finished.</p>\n\n<p>When the loop counter <code>loop</code> has the value <code>k</code>, <code>num</code> holds the k<sup>th</sup> Fibonacci number and <code>num2</code> the (k+1)<sup>th</sup>.</p>\n"},{"comments":[{"owner":{"account_id":1962331,"reputation":77,"user_id":1763504,"display_name":"CydonPrax"},"score":0,"creation_date":1350947956,"post_id":13021243,"comment_id":17673452,"body_markdown":"Its not homework, but I appreciate everyone&#39;s help regardless","body":"Its not homework, but I appreciate everyone&#39;s help regardless"}],"tags":[],"owner":{"account_id":1144131,"reputation":821,"user_id":1127274,"accept_rate":60,"display_name":"ehuang"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350947760,"creation_date":1350947180,"answer_id":13021243,"question_id":13021102,"body_markdown":"To find the n&#39;th digit, we need to know the length of the Fibonacci numbers. You can convert int to string using Java&#39;s `Integer.toString(int)` function. Using the string, one can then determine the length of the converted Fibonacci number.\r\n\r\n\r\nEDIT: Removed code b/c likely hwk question\r\n","title":"In java, how would I find the nth Fibonacci number?","body":"<p>To find the n'th digit, we need to know the length of the Fibonacci numbers. You can convert int to string using Java's <code>Integer.toString(int)</code> function. Using the string, one can then determine the length of the converted Fibonacci number.</p>\n\n<p>EDIT: Removed code b/c likely hwk question</p>\n"},{"tags":[],"owner":{"account_id":2538225,"reputation":1,"user_id":2204728,"display_name":"Colin"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1364137765,"creation_date":1364136479,"answer_id":15599855,"question_id":13021102,"body_markdown":"    import acm.program.*;\r\n    \r\n    public class FibonacciToN extends ConsoleProgram {\r\n    \r\n    \tpublic void run() {\r\n    \t\t\r\n    \t\tprintln(&quot;This program will display a table of Fibonacci numbers up to value n.&quot;);\r\n    \t\tint n = readInt(&quot;Enter an integer for value n: &quot;);\r\n    \t\tint result = sequence(n);  \r\n    \t\t\r\n    \t}\r\n    \t\t\r\n    \tprivate int sequence(int n) {\r\n    \t\t\r\n    \t\tint a = 0;\r\n    \t\tint b = 1;\r\n    \t\t\r\n    \t\twhile (a &lt; n) {  \r\n    \t\t\tprintln(a);\t\r\n    \t\t\ta = a + b;\r\n    \t\t\tb = a - b;\r\n    \t\t\t}\r\n    \t    \r\n    \t\treturn a;\r\n    \t}\r\n    }","title":"In java, how would I find the nth Fibonacci number?","body":"<pre><code>import acm.program.*;\n\npublic class FibonacciToN extends ConsoleProgram {\n\n    public void run() {\n\n        println(\"This program will display a table of Fibonacci numbers up to value n.\");\n        int n = readInt(\"Enter an integer for value n: \");\n        int result = sequence(n);  \n\n    }\n\n    private int sequence(int n) {\n\n        int a = 0;\n        int b = 1;\n\n        while (a &lt; n) {  \n            println(a); \n            a = a + b;\n            b = a - b;\n            }\n\n        return a;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11525046,"reputation":1,"user_id":8445768,"display_name":"kumiko"},"score":0,"creation_date":1502372000,"post_id":45615202,"comment_id":78189098,"body_markdown":"i forgot to remove the String n that wasn&#39;t even used in that code .","body":"i forgot to remove the String n that wasn&#39;t even used in that code ."}],"tags":[],"owner":{"account_id":11525046,"reputation":1,"user_id":8445768,"display_name":"kumiko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573592491,"creation_date":1502371880,"answer_id":45615202,"question_id":13021102,"body_markdown":"    import java.util.Scanner;\r\n    public class fibonacci{\r\n\tpublic static void main(String[]args){\r\n\t\tScanner i=new Scanner(System.in);\r\n\t\tString n=System.getProperty(&quot;line.separator&quot;);\r\n\r\n\t\tint count=0,x=0,y=1,sum;\r\n\r\n\t\tSystem.out.println(&quot;Enter a number:  &quot;);\r\n\t\tint n=i.nextInt();\r\n\r\n\t\tfor(count=0;count&lt;n;count++){\r\n\t\t\tSystem.out.print(&quot; &quot;+ x);\r\n\t\t\tsum=x+y;\r\n\t\t\tx=y;\r\n\t\t\ty=sum;\r\n\t\t}\r\n\t  }\r\n    }","title":"In java, how would I find the nth Fibonacci number?","body":"<pre><code>import java.util.Scanner;\npublic class fibonacci{\npublic static void main(String[]args){\n    Scanner i=new Scanner(System.in);\n    String n=System.getProperty(\"line.separator\");\n\n    int count=0,x=0,y=1,sum;\n\n    System.out.println(\"Enter a number:  \");\n    int n=i.nextInt();\n\n    for(count=0;count&lt;n;count++){\n        System.out.print(\" \"+ x);\n        sum=x+y;\n        x=y;\n        y=sum;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11493708,"reputation":1256,"user_id":8423763,"display_name":"shubhamr238"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557301207,"creation_date":1557301207,"answer_id":56035807,"question_id":13021102,"body_markdown":"```Java\r\nint n=5;//position of the fibonacci number to find\r\nint fibonacci=0,num=0,num2=1;\r\nfor(int loop=1;loop&lt;n;loop++)\r\n{\r\n   fibonacci=num+num2;\r\n   num=num2;\r\n   num2=fibonacci;\r\n}\r\nSystem.out.println(num);\r\n```","title":"In java, how would I find the nth Fibonacci number?","body":"<pre><code>int n=5;//position of the fibonacci number to find\nint fibonacci=0,num=0,num2=1;\nfor(int loop=1;loop&lt;n;loop++)\n{\n   fibonacci=num+num2;\n   num=num2;\n   num2=fibonacci;\n}\nSystem.out.println(num);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7167179,"reputation":6034,"user_id":5475941,"display_name":"Mohammad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583894237,"creation_date":1583893650,"answer_id":60628432,"question_id":13021102,"body_markdown":"I hope my answer helps. I tried to solve it with the dynamic programming approach. You only need to keep track of two elements till one index before n. When your code is there, the answer will be the summation of elements n-1 and n-2. \r\n\r\n    public class Fibonacci {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(fib(12));\r\n    }\r\n\r\n    /**\r\n     * Calculate the Fibonacci of n with two int variables and one temp variable. This is using dynamic programming.\r\n     * Time complexity of this approach is O(n). Space complexity of this approach is O(k).\r\n     * 0,1,1,2,3,5,8,13,21,34,55,89,144,...\r\n     *\r\n     *\r\n     * @param n The nth Fibonacci number\r\n     * @return The nth Fibonacci\r\n     */\r\n    public static int fib(int n) {\r\n        if (n == 0 || n == 1) {\r\n            return n;\r\n        }\r\n        // Element 1\r\n        int element1 = 0;\r\n        // Element 2\r\n        int element2 = 1;\r\n        // Move the 2 elements window till one index before the nth.\r\n        for (int i = 2; i &lt; n; i++) {\r\n            // Move the 2 elements window forward.\r\n            int temp = element2;\r\n            element2 = element1 + element2;\r\n            element1 = temp;\r\n        }\r\n        // Return the nth Fibonacci by summing Fibonacci n-1 and n-2\r\n        return element1 + element2;\r\n    }\r\n\r\n}\r\n","title":"In java, how would I find the nth Fibonacci number?","body":"<p>I hope my answer helps. I tried to solve it with the dynamic programming approach. You only need to keep track of two elements till one index before n. When your code is there, the answer will be the summation of elements n-1 and n-2. </p>\n\n<pre><code>public class Fibonacci {\n\npublic static void main(String[] args) {\n    System.out.println(fib(12));\n}\n\n/**\n * Calculate the Fibonacci of n with two int variables and one temp variable. This is using dynamic programming.\n * Time complexity of this approach is O(n). Space complexity of this approach is O(k).\n * 0,1,1,2,3,5,8,13,21,34,55,89,144,...\n *\n *\n * @param n The nth Fibonacci number\n * @return The nth Fibonacci\n */\npublic static int fib(int n) {\n    if (n == 0 || n == 1) {\n        return n;\n    }\n    // Element 1\n    int element1 = 0;\n    // Element 2\n    int element2 = 1;\n    // Move the 2 elements window till one index before the nth.\n    for (int i = 2; i &lt; n; i++) {\n        // Move the 2 elements window forward.\n        int temp = element2;\n        element2 = element1 + element2;\n        element1 = temp;\n    }\n    // Return the nth Fibonacci by summing Fibonacci n-1 and n-2\n    return element1 + element2;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":21896942,"reputation":1,"user_id":16183096,"display_name":"DEVENDRA Jagtap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624876894,"creation_date":1624692149,"answer_id":68140137,"question_id":13021102,"body_markdown":"    public static void main(String[] args) {\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\t\r\n        int n = s.nextInt();\r\n\t\tint num = 1;\r\n\t\tint num2 = 1;\r\n\t\tint fibonacci;\r\n\t \r\n        for (int i=1; i&lt;n; i++) {\r\n\t\t    fibonacci = num + num2;\r\n\t\t    num = num2;\r\n\t\t    num2 = fibonacci;\r\n\t\t}\r\n\t\tSystem.out.print(num);\r\n    }","title":"In java, how would I find the nth Fibonacci number?","body":"<pre><code>public static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n    \n    int n = s.nextInt();\n    int num = 1;\n    int num2 = 1;\n    int fibonacci;\n \n    for (int i=1; i&lt;n; i++) {\n        fibonacci = num + num2;\n        num = num2;\n        num2 = fibonacci;\n    }\n    System.out.print(num);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695627978,"creation_date":1695627978,"answer_id":77170732,"question_id":13021102,"body_markdown":"I have restructured the [answer code provided by @Daniel Fischer][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    public class Post13021152 {\r\n        public static int findNthFibonacciNumber(int n) {\r\n            int num = 0;\r\n            int num2 = 1;\r\n            int loop;\r\n            int fibonacci;\r\n            for (loop = 0; loop &lt; n; loop ++) {\r\n                fibonacci = num + num2;\r\n                num = num2;\r\n                num2 = fibonacci;\r\n            }\r\n            return num;\r\n        }\r\n    }\r\n\r\n[1]: https://stackoverflow.com/a/13021152\r\n\r\n","title":"In java, how would I find the nth Fibonacci number?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/13021152\">answer code provided by @Daniel Fischer</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>public class Post13021152 {\n    public static int findNthFibonacciNumber(int n) {\n        int num = 0;\n        int num2 = 1;\n        int loop;\n        int fibonacci;\n        for (loop = 0; loop &lt; n; loop ++) {\n            fibonacci = num + num2;\n            num = num2;\n            num2 = fibonacci;\n        }\n        return num;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1962331,"reputation":77,"user_id":1763504,"display_name":"CydonPrax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51152,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":13021152,"answer_count":8,"score":6,"last_activity_date":1695627978,"creation_date":1350946282,"question_id":13021102,"body_markdown":"Determining the Fibonacci sequence is easy enough to figure out:\r\n\r\n    int num = 0;\r\n\tint num2 = 1;\r\n\tint loop;\r\n\tint fibonacci;\r\n\tSystem.out.print(num2);\r\n\tfor (loop = 1; loop &lt;= 10; loop ++)\r\n\t{\r\n\t\tfibonacci = num + num2;\r\n\t\tnum = num2;\r\n\t\tnum2 = fibonacci;\r\n\t\tSystem.out.print(&quot; &quot; + fibonacci);\r\n\t}\r\n\r\nMy problem lies with trying to pinpoint the value for a specified *N.* As in, If I want to find the 6th element in the sequence, which is 8, how would I find that number, and only that number?\r\n\t","title":"In java, how would I find the nth Fibonacci number?","body":"<p>Determining the Fibonacci sequence is easy enough to figure out:</p>\n\n<pre><code>int num = 0;\nint num2 = 1;\nint loop;\nint fibonacci;\nSystem.out.print(num2);\nfor (loop = 1; loop &lt;= 10; loop ++)\n{\n    fibonacci = num + num2;\n    num = num2;\n    num2 = fibonacci;\n    System.out.print(\" \" + fibonacci);\n}\n</code></pre>\n\n<p>My problem lies with trying to pinpoint the value for a specified <em>N.</em> As in, If I want to find the 6th element in the sequence, which is 8, how would I find that number, and only that number?</p>\n"},{"tags":["java","android","handler","delay"],"answers":[{"comments":[{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":2,"creation_date":1276887074,"post_id":3072258,"comment_id":3147636,"body_markdown":"Thread.sleep() is better than Object.wait(). Wait implies you expect to be notified and are synchronizing around some activity. Sleep indicates that you simply wish to do nothing for some specified time.\n\nTimer is the way to go if you want the action to happen asynchronously at some later point in time.","body":"Thread.sleep() is better than Object.wait(). Wait implies you expect to be notified and are synchronizing around some activity. Sleep indicates that you simply wish to do nothing for some specified time.  Timer is the way to go if you want the action to happen asynchronously at some later point in time."},{"owner":{"account_id":31585,"reputation":30406,"user_id":86860,"accept_rate":95,"display_name":"Nate"},"score":1,"creation_date":1276887770,"post_id":3072258,"comment_id":3147716,"body_markdown":"That is true. Thats why I listed it as another option ;-)","body":"That is true. Thats why I listed it as another option ;-)"}],"tags":[],"owner":{"account_id":31585,"reputation":30406,"user_id":86860,"accept_rate":95,"display_name":"Nate"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1276886340,"creation_date":1276886340,"answer_id":3072258,"question_id":3072173,"body_markdown":"I suggest the [Timer][1], it allows you to schedule a method to be called on a very specific interval. This will not block your UI, and keep your app resonsive while the method is being executed.\r\n\r\n\r\nThe other option, is the [wait();][2] method, this will block the current thread for the specified length of time. This will cause your UI to stop responding if you do this on the UI thread.\r\n\r\n\r\n  [1]: http://developer.android.com/intl/fr/reference/java/util/Timer.html\r\n  [2]: http://developer.android.com/intl/fr/reference/java/lang/Object.html","title":"How to call a method after a delay in Android","body":"<p>I suggest the <a href=\"http://developer.android.com/intl/fr/reference/java/util/Timer.html\" rel=\"noreferrer\">Timer</a>, it allows you to schedule a method to be called on a very specific interval. This will not block your UI, and keep your app resonsive while the method is being executed.</p>\n\n<p>The other option, is the <a href=\"http://developer.android.com/intl/fr/reference/java/lang/Object.html\" rel=\"noreferrer\">wait();</a> method, this will block the current thread for the specified length of time. This will cause your UI to stop responding if you do this on the UI thread.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":4,"up_vote_count":27,"is_accepted":false,"score":23,"last_activity_date":1276886734,"creation_date":1276886734,"answer_id":3072298,"question_id":3072173,"body_markdown":"See this demo:\r\n\r\n\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n\r\n    class Test {\r\n         public static void main( String [] args ) {\r\n              int delay = 5000;// in ms \r\n\r\n              Timer timer = new Timer();\r\n\r\n              timer.schedule( new TimerTask(){\r\n                 public void run() { \r\n                     System.out.println(&quot;Wait, what..:&quot;);\r\n                  }\r\n               }, delay);\r\n\r\n               System.out.println(&quot;Would it run?&quot;);\r\n         }\r\n    }","title":"How to call a method after a delay in Android","body":"<p>See this demo:</p>\n\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\n\nclass Test {\n     public static void main( String [] args ) {\n          int delay = 5000;// in ms \n\n          Timer timer = new Timer();\n\n          timer.schedule( new TimerTask(){\n             public void run() { \n                 System.out.println(\"Wait, what..:\");\n              }\n           }, delay);\n\n           System.out.println(\"Would it run?\");\n     }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":204938,"reputation":31067,"user_id":453435,"accept_rate":83,"display_name":"Ky -"},"score":3,"creation_date":1395080704,"post_id":3072338,"comment_id":34166145,"body_markdown":"This never calls the Runnable for me","body":"This never calls the Runnable for me"},{"owner":{"account_id":1856917,"reputation":2139,"user_id":1770453,"display_name":"Dennis"},"score":14,"creation_date":1401192865,"post_id":3072338,"comment_id":36777972,"body_markdown":"As a side note: This also allows you to **cancel** the task later, which might be helpful in some situations. Simply store a reference to the `ScheduledFuture&lt;?&gt;` returned by `worker.schedule()` and call its `cancel(boolean)` method.","body":"As a side note: This also allows you to <b>cancel</b> the task later, which might be helpful in some situations. Simply store a reference to the <code>ScheduledFuture&lt;?&gt;</code> returned by <code>worker.schedule()</code> and call its <code>cancel(boolean)</code> method."},{"owner":{"account_id":471468,"reputation":881,"user_id":879289,"accept_rate":71,"display_name":"beetree"},"score":0,"creation_date":1420158011,"post_id":3072338,"comment_id":43883484,"body_markdown":"I think this answer is outdated. .schedule doesn&#39;t seem to be a method of Runnable any longer...? :/","body":"I think this answer is outdated. .schedule doesn&#39;t seem to be a method of Runnable any longer...? :/"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":5,"creation_date":1420160514,"post_id":3072338,"comment_id":43883946,"body_markdown":"@beetree it&#39;s a method on `ScheduledExecutorService`.","body":"@beetree it&#39;s a method on <code>ScheduledExecutorService</code>."},{"owner":{"account_id":4281526,"reputation":1241,"user_id":3500742,"accept_rate":37,"display_name":"Jayant Arora"},"score":4,"creation_date":1456828612,"post_id":3072338,"comment_id":59116229,"body_markdown":"This does not work if ui thread objects are involved you must call runOnUIThread(new runnable(){ run()....});  or post a runnable using handler object from inside the run(){ }","body":"This does not work if ui thread objects are involved you must call runOnUIThread(new runnable(){ run()....});  or post a runnable using handler object from inside the run(){ }"},{"owner":{"account_id":1187534,"reputation":534,"user_id":1161198,"display_name":"Carlos Barcellos"},"score":0,"creation_date":1473955343,"post_id":3072338,"comment_id":66346988,"body_markdown":"on Android (running as service), this is the solution that worked for me.","body":"on Android (running as service), this is the solution that worked for me."},{"owner":{"account_id":7937045,"reputation":3251,"user_id":5992618,"accept_rate":75,"display_name":"eRaisedToX"},"score":0,"creation_date":1497346190,"post_id":3072338,"comment_id":76027041,"body_markdown":"Is it okay if I use this approach to have touch feedback on click of an item.. view.setColor(some_color) and then remove this color in scheduler after x seconds...?","body":"Is it okay if I use this approach to have touch feedback on click of an item.. view.setColor(some_color) and then remove this color in scheduler after x seconds...?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1497374084,"post_id":3072338,"comment_id":76047226,"body_markdown":"@eRaisedToX I think the Android-specific approach using `AsyncTask` would be a good fit for that.","body":"@eRaisedToX I think the Android-specific approach using <code>AsyncTask</code> would be a good fit for that."},{"owner":{"display_name":"user3600801"},"score":0,"creation_date":1501201557,"post_id":3072338,"comment_id":77687084,"body_markdown":"it works nicely in android too with some slight tingering and modification","body":"it works nicely in android too with some slight tingering and modification"}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":9,"down_vote_count":4,"up_vote_count":192,"is_accepted":false,"score":188,"last_activity_date":1466699907,"creation_date":1276887101,"answer_id":3072338,"question_id":3072173,"body_markdown":"*Note:* This answer was given when the question didn&#39;t specify Android as the context. For an answer specific to the Android UI thread [look here.][1]\r\n\r\n---\r\n\r\nIt looks like the Mac OS API lets the current thread continue, and schedules the task to run asynchronously. In the Java, the equivalent function is provided by the `java.util.concurrent` package. I&#39;m not sure what limitations Android might impose.\r\n        \r\n    private static final ScheduledExecutorService worker = \r\n      Executors.newSingleThreadScheduledExecutor();\r\n    \r\n    void someMethod() {\r\n      ⋮\r\n      Runnable task = new Runnable() {\r\n        public void run() {\r\n          /* Do something… */\r\n        }\r\n      };\r\n      worker.schedule(task, 5, TimeUnit.SECONDS);\r\n      ⋮\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9166354/3474","title":"How to call a method after a delay in Android","body":"<p><em>Note:</em> This answer was given when the question didn't specify Android as the context. For an answer specific to the Android UI thread <a href=\"https://stackoverflow.com/a/9166354/3474\">look here.</a></p>\n\n<hr>\n\n<p>It looks like the Mac OS API lets the current thread continue, and schedules the task to run asynchronously. In the Java, the equivalent function is provided by the <code>java.util.concurrent</code> package. I'm not sure what limitations Android might impose.</p>\n\n<pre><code>private static final ScheduledExecutorService worker = \n  Executors.newSingleThreadScheduledExecutor();\n\nvoid someMethod() {\n  ⋮\n  Runnable task = new Runnable() {\n    public void run() {\n      /* Do something… */\n    }\n  };\n  worker.schedule(task, 5, TimeUnit.SECONDS);\n  ⋮\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7937045,"reputation":3251,"user_id":5992618,"accept_rate":75,"display_name":"eRaisedToX"},"score":0,"creation_date":1497346238,"post_id":3072530,"comment_id":76027083,"body_markdown":"Is it okay if I use this approach to have touch feedback on click of an item.. view.setColor(some_color) and then remove this color in Handler after x seconds...?","body":"Is it okay if I use this approach to have touch feedback on click of an item.. view.setColor(some_color) and then remove this color in Handler after x seconds...?"}],"tags":[],"owner":{"account_id":87569,"reputation":76648,"user_id":242769,"accept_rate":91,"display_name":"aryaxt"},"comment_count":1,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1454603605,"creation_date":1276889320,"answer_id":3072530,"question_id":3072173,"body_markdown":"Thanks for all the great answers, I found a solution that best suits my needs.\r\n\r\n    Handler myHandler = new DoSomething();\r\n    Message m = new Message();\r\n    m.obj = c;//passing a parameter here\r\n    myHandler.sendMessageDelayed(m, 1000);\r\n    \r\n    class DoSomething extends Handler {\r\n    \t@Override\r\n        public void handleMessage(Message msg) {\r\n          MyObject o = (MyObject) msg.obj;\r\n          //do something here\r\n        }\r\n    }","title":"How to call a method after a delay in Android","body":"<p>Thanks for all the great answers, I found a solution that best suits my needs.</p>\n\n<pre><code>Handler myHandler = new DoSomething();\nMessage m = new Message();\nm.obj = c;//passing a parameter here\nmyHandler.sendMessageDelayed(m, 1000);\n\nclass DoSomething extends Handler {\n    @Override\n    public void handleMessage(Message msg) {\n      MyObject o = (MyObject) msg.obj;\n      //do something here\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":125827,"reputation":633,"user_id":321888,"display_name":"JT."},"score":0,"creation_date":1332965426,"post_id":9166354,"comment_id":12652673,"body_markdown":"This worked perfectly and fit right into the method that I needed to do the call from.  Thanks.","body":"This worked perfectly and fit right into the method that I needed to do the call from.  Thanks."},{"owner":{"display_name":"user742030"},"score":0,"creation_date":1339447499,"post_id":9166354,"comment_id":14352841,"body_markdown":"Same here; use it to delay fragment commits to improve animation.","body":"Same here; use it to delay fragment commits to improve animation."},{"owner":{"account_id":180130,"reputation":30121,"user_id":413254,"accept_rate":84,"display_name":"loeschg"},"score":1,"creation_date":1354120456,"post_id":9166354,"comment_id":18659559,"body_markdown":"This may have been the final piece that helped cement Android handler/threading concepts in my head. Excellent :)","body":"This may have been the final piece that helped cement Android handler/threading concepts in my head. Excellent :)"},{"owner":{"account_id":324470,"reputation":1538,"user_id":645054,"display_name":"olivier_sdg"},"score":113,"creation_date":1357829988,"post_id":9166354,"comment_id":19792610,"body_markdown":"This solution is usefull only on UI thread. Otherwise on normal thread, you need to implement looper which is not the best version I think","body":"This solution is usefull only on UI thread. Otherwise on normal thread, you need to implement looper which is not the best version I think"},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":3,"creation_date":1363192621,"post_id":9166354,"comment_id":21755553,"body_markdown":"@olivier_sdg why do you need to implement looper?","body":"@olivier_sdg why do you need to implement looper?"},{"owner":{"account_id":91066,"reputation":3420,"user_id":250286,"accept_rate":90,"display_name":"Dororo"},"score":41,"creation_date":1364248138,"post_id":9166354,"comment_id":22165973,"body_markdown":"@djechlin A Handler must always be linked to a Looper, which will actually process the Runnable you post(). The UI thread already comes with a Looper, so you can just make a new Handler() on the UI thread and post() Runnables directly to it. These Runnables execute on the UI thread. To have Runnables execute on another thread, you need to make a new thread, then Looper.prepare(), make a new Handler() and then Looper.loop(). Any Runnables posted to this new Handler will execute on this new thread. If you don&#39;t do all this, the post() will throw an exception.","body":"@djechlin A Handler must always be linked to a Looper, which will actually process the Runnable you post(). The UI thread already comes with a Looper, so you can just make a new Handler() on the UI thread and post() Runnables directly to it. These Runnables execute on the UI thread. To have Runnables execute on another thread, you need to make a new thread, then Looper.prepare(), make a new Handler() and then Looper.loop(). Any Runnables posted to this new Handler will execute on this new thread. If you don&#39;t do all this, the post() will throw an exception."},{"owner":{"account_id":1856917,"reputation":2139,"user_id":1770453,"display_name":"Dennis"},"score":14,"creation_date":1401193464,"post_id":9166354,"comment_id":36778376,"body_markdown":"In case you need to, you can also **cancel** the execution as long as the Runnable is still in the message queue by calling `removeCallbacks(Runnable r)` on the `Handler`.","body":"In case you need to, you can also <b>cancel</b> the execution as long as the Runnable is still in the message queue by calling <code>removeCallbacks(Runnable r)</code> on the <code>Handler</code>."},{"owner":{"account_id":985908,"reputation":23340,"user_id":1325646,"accept_rate":64,"display_name":"pomber"},"score":1,"creation_date":1430487307,"post_id":9166354,"comment_id":48094900,"body_markdown":"@olivier_sdg you can use ``Looper.getMainLooper()``","body":"@olivier_sdg you can use <code>Looper.getMainLooper()</code>"},{"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"score":0,"creation_date":1431698108,"post_id":9166354,"comment_id":48622439,"body_markdown":"same demonstrated in a sample app and in emulator https://www.youtube.com/watch?v=LCLO7q2uhOs","body":"same demonstrated in a sample app and in emulator <a href=\"https://www.youtube.com/watch?v=LCLO7q2uhOs\" rel=\"nofollow noreferrer\">youtube.com/watch?v=LCLO7q2uhOs</a>"},{"owner":{"account_id":1297615,"reputation":2217,"user_id":1248264,"accept_rate":72,"display_name":"cyrilchampier"},"score":0,"creation_date":1443013414,"post_id":9166354,"comment_id":53321344,"body_markdown":"is the `handler` variable needed ? Cant we just do `new Handler().postDelayed` ?","body":"is the <code>handler</code> variable needed ? Cant we just do <code>new Handler().postDelayed</code> ?"},{"owner":{"account_id":142495,"reputation":1257,"user_id":350239,"display_name":"Max Ch"},"score":0,"creation_date":1463182024,"post_id":9166354,"comment_id":61972296,"body_markdown":"Depending on the use case this one can lead to annoying hiccups if you decide to run it from UI thread, basically `new Handler()` call attaches itself to the CURRENT thread, if it happen to be a main UI thread 2 things are important: you will be able to modify your UI from `run()` but if you try to do something time consuming (network blocking call or db operations) it will block your UI. On the other hand if constructor called from worker thread which don&#39;t have Looper associated with it, it won&#39;t work.","body":"Depending on the use case this one can lead to annoying hiccups if you decide to run it from UI thread, basically <code>new Handler()</code> call attaches itself to the CURRENT thread, if it happen to be a main UI thread 2 things are important: you will be able to modify your UI from <code>run()</code> but if you try to do something time consuming (network blocking call or db operations) it will block your UI. On the other hand if constructor called from worker thread which don&#39;t have Looper associated with it, it won&#39;t work."},{"owner":{"account_id":6933421,"reputation":1848,"user_id":5322236,"accept_rate":65,"display_name":"Kyryl Zotov"},"score":0,"creation_date":1467286409,"post_id":9166354,"comment_id":63675396,"body_markdown":"@VioletGiraffe when you need to stop handler from runnable you need to declare it final.","body":"@VioletGiraffe when you need to stop handler from runnable you need to declare it final."},{"owner":{"account_id":7937045,"reputation":3251,"user_id":5992618,"accept_rate":75,"display_name":"eRaisedToX"},"score":0,"creation_date":1497346148,"post_id":9166354,"comment_id":76027017,"body_markdown":"Is it okay if I use this approach to have touch feedback on click of an item..\n`view.setColor(some_color)` and then remove this color in Handler after `x` seconds...?","body":"Is it okay if I use this approach to have touch feedback on click of an item.. <code>view.setColor(some_color)</code> and then remove this color in Handler after <code>x</code> seconds...?"},{"owner":{"account_id":1938347,"reputation":731,"user_id":1745218,"accept_rate":75,"display_name":"Touhid"},"score":0,"creation_date":1526278877,"post_id":9166354,"comment_id":87663926,"body_markdown":"@eRaisedToX - yes, you can since `handler.postDelayed(...)` runs inside the UI thread in the answer&#39;s code - unless you specify another `Looper` specifically (then should use `runOnUiThread(...)`).","body":"@eRaisedToX - yes, you can since <code>handler.postDelayed(...)</code> runs inside the UI thread in the answer&#39;s code - unless you specify another <code>Looper</code> specifically (then should use <code>runOnUiThread(...)</code>)."},{"owner":{"account_id":4412923,"reputation":7184,"user_id":3595288,"accept_rate":60,"display_name":"Choletski"},"score":2,"creation_date":1538039984,"post_id":9166354,"comment_id":92006294,"body_markdown":"I&#39;m using it this way:      \n`new Handler().postDelayed(() -&gt; {\n                    //Do something after 100ms\n                }, 100);`","body":"I&#39;m using it this way:       <code>new Handler().postDelayed(() -&gt; {                     &#47;&#47;Do something after 100ms                 }, 100);</code>"},{"owner":{"account_id":1252133,"reputation":484,"user_id":1212331,"display_name":"caitcoo0odes"},"score":0,"creation_date":1551912465,"post_id":9166354,"comment_id":96819254,"body_markdown":"in kotlin, use Handler().postDelayed... (you will get a compile error if you try using Handler.postDelayed unless you&#39;re not using camelcase and Handler is a variable of type android.os.Handler)","body":"in kotlin, use Handler().postDelayed... (you will get a compile error if you try using Handler.postDelayed unless you&#39;re not using camelcase and Handler is a variable of type android.os.Handler)"},{"owner":{"account_id":4753824,"reputation":954,"user_id":3843123,"accept_rate":50,"display_name":"isJulian00"},"score":0,"creation_date":1558918132,"post_id":9166354,"comment_id":99245617,"body_markdown":"can I use 1 handler and call multiple postDelayed() with different runnables on that handler ?","body":"can I use 1 handler and call multiple postDelayed() with different runnables on that handler ?"},{"owner":{"account_id":4753824,"reputation":954,"user_id":3843123,"accept_rate":50,"display_name":"isJulian00"},"score":0,"creation_date":1558919827,"post_id":9166354,"comment_id":99245877,"body_markdown":"we don&#39;t have to put Looper.getMainLooper(); inside when we declare a new runnable ?","body":"we don&#39;t have to put Looper.getMainLooper(); inside when we declare a new runnable ?"},{"owner":{"account_id":368188,"reputation":7868,"user_id":714831,"accept_rate":44,"display_name":"Raulp"},"score":0,"creation_date":1602533189,"post_id":9166354,"comment_id":113745421,"body_markdown":"is there a blocking delay as well? I think this doesnt work if we want to block the process or background threads.","body":"is there a blocking delay as well? I think this doesnt work if we want to block the process or background threads."},{"owner":{"account_id":1227905,"reputation":357,"user_id":1193119,"display_name":"Lehrian"},"score":0,"creation_date":1647363655,"post_id":9166354,"comment_id":126350462,"body_markdown":"Java can be just as compact. new Handler(Looper.getMainLooper()).postDelayed(() -&gt; {//Do something after 100 ms\n},100);","body":"Java can be just as compact. new Handler(Looper.getMainLooper()).postDelayed(() -&gt; {//Do something after 100 ms },100);"}],"tags":[],"owner":{"account_id":314468,"reputation":26405,"user_id":1025068,"display_name":"Arif Amirani"},"comment_count":20,"down_vote_count":4,"up_vote_count":2194,"is_accepted":true,"score":2190,"last_activity_date":1669577021,"creation_date":1328558123,"answer_id":9166354,"question_id":3072173,"body_markdown":"### Kotlin\r\n```kotlin\r\nHandler(Looper.getMainLooper()).postDelayed({\r\n    //Do something after 100ms\r\n}, 100)\r\n```\r\n&lt;br&gt;\r\n\r\n### Java\r\n```java\r\nfinal Handler handler = new Handler(Looper.getMainLooper());\r\nhandler.postDelayed(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n        //Do something after 100ms\r\n    }\r\n}, 100);\r\n```\r\n\r\nThe class to import is `android.os.handler`.","title":"How to call a method after a delay in Android","body":"<h3>Kotlin</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Handler(Looper.getMainLooper()).postDelayed({\n    //Do something after 100ms\n}, 100)\n</code></pre>\n<br>\n<h3>Java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>final Handler handler = new Handler(Looper.getMainLooper());\nhandler.postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Do something after 100ms\n    }\n}, 100);\n</code></pre>\n<p>The class to import is <code>android.os.handler</code>.</p>\n"},{"tags":[],"owner":{"account_id":1269353,"reputation":1029,"user_id":1226016,"accept_rate":52,"display_name":"Vishnu"},"comment_count":0,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1454603466,"creation_date":1339222093,"answer_id":10958843,"question_id":3072173,"body_markdown":"    final Handler handler = new Handler(); \r\n\tTimer t = new Timer(); \r\n\tt.schedule(new TimerTask() { \r\n\t    public void run() { \r\n\t        handler.post(new Runnable() { \r\n\t            public void run() { \r\n\t\t            //DO SOME ACTIONS HERE , THIS ACTIONS WILL WILL EXECUTE AFTER 5 SECONDS...\r\n\t            }\r\n            }); \r\n        } \r\n    }, 5000); \r\n\t    ","title":"How to call a method after a delay in Android","body":"<pre><code>final Handler handler = new Handler(); \nTimer t = new Timer(); \nt.schedule(new TimerTask() { \n    public void run() { \n        handler.post(new Runnable() { \n            public void run() { \n                //DO SOME ACTIONS HERE , THIS ACTIONS WILL WILL EXECUTE AFTER 5 SECONDS...\n            }\n        }); \n    } \n}, 5000); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":224840,"reputation":3865,"user_id":484943,"accept_rate":77,"display_name":"Ben H"},"score":48,"creation_date":1372361162,"post_id":11166024,"comment_id":25177428,"body_markdown":"this is better than the ones that use Handler, because it doesn&#39;t have Looper issues when the Handler is not run on the UI thread.","body":"this is better than the ones that use Handler, because it doesn&#39;t have Looper issues when the Handler is not run on the UI thread."},{"owner":{"account_id":935624,"reputation":2575,"user_id":964589,"accept_rate":88,"display_name":"Pooks"},"score":33,"creation_date":1406623599,"post_id":11166024,"comment_id":38891788,"body_markdown":"You should keep a reference to your timer in order to cancel it when it&#39;s not needed anymore since according to the Android doc: &quot;When a timer is no longer needed, users should call cancel(), which releases the timer&#39;s thread and other resources. Timers not explicitly cancelled may hold resources indefinitely.&quot;","body":"You should keep a reference to your timer in order to cancel it when it&#39;s not needed anymore since according to the Android doc: &quot;When a timer is no longer needed, users should call cancel(), which releases the timer&#39;s thread and other resources. Timers not explicitly cancelled may hold resources indefinitely.&quot;"},{"owner":{"account_id":1626664,"reputation":34767,"user_id":1502079,"accept_rate":56,"display_name":"vovahost"},"score":18,"creation_date":1446031795,"post_id":11166024,"comment_id":54571380,"body_markdown":"Attention! This doesn&#39;t run on UI thread. Running this on ui thread caused a Fatal Error: android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.","body":"Attention! This doesn&#39;t run on UI thread. Running this on ui thread caused a Fatal Error: android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views."},{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":15,"creation_date":1446033494,"post_id":11166024,"comment_id":54572440,"body_markdown":"@vovahost that&#39;s only because you are updating UI components inside the timer block","body":"@vovahost that&#39;s only because you are updating UI components inside the timer block"},{"owner":{"account_id":1463024,"reputation":1590,"user_id":1376773,"accept_rate":43,"display_name":"BoredT"},"score":0,"creation_date":1447760992,"post_id":11166024,"comment_id":55279904,"body_markdown":"Be aware, that timertask will have strange behaviour if you set the system time (you need system permission for that, though) during its execution","body":"Be aware, that timertask will have strange behaviour if you set the system time (you need system permission for that, though) during its execution"},{"owner":{"account_id":3083672,"reputation":2053,"user_id":2611340,"accept_rate":82,"display_name":"Varvara Kalinina"},"score":10,"creation_date":1497115429,"post_id":11166024,"comment_id":75947533,"body_markdown":"Note that java.util.Timer (and TimerTask) will be deprecated in JDK 9. TimerTask creates new Threads for tasks which is not very good.","body":"Note that java.util.Timer (and TimerTask) will be deprecated in JDK 9. TimerTask creates new Threads for tasks which is not very good."},{"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"score":0,"creation_date":1504580649,"post_id":11166024,"comment_id":79052482,"body_markdown":"See also [TimerTask vs Handler](https://stackoverflow.com/questions/20330355/timertask-or-handler)","body":"See also <a href=\"https://stackoverflow.com/questions/20330355/timertask-or-handler\">TimerTask vs Handler</a>"},{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":4,"creation_date":1533925593,"post_id":11166024,"comment_id":90541709,"body_markdown":"@VarvaraKalinina Doesn&#39;t look like the Timer and TimerTask are deprecated in Java 9.  (https://docs.oracle.com/javase/9/docs/api/java/util/Timer.html).","body":"@VarvaraKalinina Doesn&#39;t look like the Timer and TimerTask are deprecated in Java 9.  (<a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java/util/Timer.html</a>)."},{"owner":{"account_id":13148226,"reputation":4348,"user_id":9497657,"display_name":"AD Progress"},"score":0,"creation_date":1630412465,"post_id":11166024,"comment_id":121944394,"body_markdown":"This is the only solution that has worked for me too. You could add the cancel(); Call inside of your run call.","body":"This is the only solution that has worked for me too. You could add the cancel(); Call inside of your run call."},{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1673690694,"post_id":11166024,"comment_id":132557660,"body_markdown":"is this called every 2 seconds ? or just 1 time called after 2 seconds and not repeatedly @Jules ?","body":"is this called every 2 seconds ? or just 1 time called after 2 seconds and not repeatedly @Jules ?"},{"owner":{"account_id":112365,"reputation":11367,"user_id":296430,"accept_rate":93,"display_name":"Jules Colle"},"score":1,"creation_date":1679169838,"post_id":11166024,"comment_id":133674740,"body_markdown":"@gumuruh just once","body":"@gumuruh just once"}],"tags":[],"owner":{"account_id":112365,"reputation":11367,"user_id":296430,"accept_rate":93,"display_name":"Jules Colle"},"comment_count":11,"down_vote_count":6,"up_vote_count":378,"is_accepted":false,"score":372,"last_activity_date":1630415939,"creation_date":1340414195,"answer_id":11166024,"question_id":3072173,"body_markdown":"I couldn&#39;t use any of the other answers in my case.\r\nI used the native java Timer instead.\r\n      \r\n    new Timer().schedule(new TimerTask() {\t\t\t\r\n    \t@Override\r\n\t\tpublic void run() {\r\n\t\t\t// this code will be executed after 2 seconds\t\t\r\n\t\t}\r\n\t}, 2000);","title":"How to call a method after a delay in Android","body":"<p>I couldn't use any of the other answers in my case.\nI used the native java Timer instead.</p>\n<pre><code>new Timer().schedule(new TimerTask() {          \n    @Override\n    public void run() {\n        // this code will be executed after 2 seconds       \n    }\n}, 2000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1943880,"reputation":7093,"user_id":1752899,"accept_rate":54,"display_name":"Hossam Ghareeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1628025451,"creation_date":1363917477,"answer_id":15561452,"question_id":3072173,"body_markdown":"you can use Handler inside **UIThread**:\r\n\r\n    runOnUiThread(new Runnable() {\r\n\t\t\t\t\t\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tnew Handler().postDelayed(new Runnable() {\r\n\t\t\t   @Override\r\n\t\t\t   public void run() {\r\n                   //add your code here\r\n\t\t\t  }\r\n\t\t\t}, 1000);\t\t\t\r\n\t\t}\r\n\t});","title":"How to call a method after a delay in Android","body":"<p>you can use Handler inside <strong>UIThread</strong>:</p>\n<pre><code>runOnUiThread(new Runnable() {\n                \n    @Override\n    public void run() {\n        new Handler().postDelayed(new Runnable() {\n           @Override\n           public void run() {\n               //add your code here\n          }\n        }, 1000);           \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1430389,"reputation":3996,"user_id":1352919,"display_name":"Fakhar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1411888892,"creation_date":1411888892,"answer_id":26082610,"question_id":3072173,"body_markdown":"A suitable solution in android: \r\n\r\n    private static long SLEEP_TIME = 2 // for 2 second\r\n    .\r\n    .\r\n    MyLauncher launcher = new MyLauncher();\r\n    \t\t\tlauncher.start();\r\n    .\r\n    .\r\n    private class MyLauncher extends Thread {\r\n    \t\t@Override\r\n    \t\t/**\r\n    \t\t * Sleep for 2 seconds as you can also change SLEEP_TIME 2 to any. \r\n    \t\t */\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\t// Sleeping\r\n    \t\t\t\tThread.sleep(SLEEP_TIME * 1000);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tLog.e(TAG, e.getMessage());\r\n    \t\t\t}\r\n                //do something you want to do\r\n    \t       //And your code will be executed after 2 second\r\n    \t\t}\r\n    \t}\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>A suitable solution in android: </p>\n\n<pre><code>private static long SLEEP_TIME = 2 // for 2 second\n.\n.\nMyLauncher launcher = new MyLauncher();\n            launcher.start();\n.\n.\nprivate class MyLauncher extends Thread {\n        @Override\n        /**\n         * Sleep for 2 seconds as you can also change SLEEP_TIME 2 to any. \n         */\n        public void run() {\n            try {\n                // Sleeping\n                Thread.sleep(SLEEP_TIME * 1000);\n            } catch (Exception e) {\n                Log.e(TAG, e.getMessage());\n            }\n            //do something you want to do\n           //And your code will be executed after 2 second\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1254249,"reputation":2992,"user_id":1214067,"display_name":"Tobliug"},"score":8,"creation_date":1426645727,"post_id":28173911,"comment_id":46455310,"body_markdown":"Confirm, this is the best solution to prevent the call to looper.prepare and to place the whole thing into the UI thread.","body":"Confirm, this is the best solution to prevent the call to looper.prepare and to place the whole thing into the UI thread."},{"owner":{"account_id":5613283,"reputation":1220,"user_id":4445422,"accept_rate":87,"display_name":"Tia"},"score":0,"creation_date":1522174042,"post_id":28173911,"comment_id":86044830,"body_markdown":"Thanks for this, helped me with Looper issues :)","body":"Thanks for this, helped me with Looper issues :)"},{"owner":{"account_id":2432425,"reputation":2022,"user_id":2123055,"accept_rate":69,"display_name":"Shayan_Aryan"},"score":1,"creation_date":1534456375,"post_id":28173911,"comment_id":90723104,"body_markdown":"I would be careful about creating a handler on main looper, then in this thread no long-time task should be done","body":"I would be careful about creating a handler on main looper, then in this thread no long-time task should be done"}],"tags":[],"owner":{"account_id":985908,"reputation":23340,"user_id":1325646,"accept_rate":64,"display_name":"pomber"},"comment_count":3,"down_vote_count":2,"up_vote_count":119,"is_accepted":false,"score":117,"last_activity_date":1454603353,"creation_date":1422372146,"answer_id":28173911,"question_id":3072173,"body_markdown":"For executing something in the UI Thread after 5 seconds:\r\n\r\n    new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //Do something here\r\n        }\r\n    }, 5000);\r\n","title":"How to call a method after a delay in Android","body":"<p>For executing something in the UI Thread after 5 seconds:</p>\n\n<pre><code>new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Do something here\n    }\n}, 5000);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1955828,"reputation":7388,"user_id":1758853,"display_name":"Jonathan Muller"},"score":4,"creation_date":1423498661,"post_id":28317018,"comment_id":45161794,"body_markdown":"This works, I can&#39;t edit your post because of stupid SO rules with minimum 6 characters to edit, but there is &#39;()&#39; missing after &#39;new Handler&#39; it should be &#39;new Handler()&#39;","body":"This works, I can&#39;t edit your post because of stupid SO rules with minimum 6 characters to edit, but there is &#39;()&#39; missing after &#39;new Handler&#39; it should be &#39;new Handler()&#39;"},{"owner":{"account_id":1254249,"reputation":2992,"user_id":1214067,"display_name":"Tobliug"},"score":2,"creation_date":1426645814,"post_id":28317018,"comment_id":46455328,"body_markdown":"Instead of placing everything into the UI thread, you can do :\nnew Handler(Looper.getMainLooper())","body":"Instead of placing everything into the UI thread, you can do : new Handler(Looper.getMainLooper())"}],"tags":[],"owner":{"account_id":1083635,"reputation":19728,"user_id":1079901,"accept_rate":87,"display_name":"0xC0DED00D"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1423507642,"creation_date":1423039644,"answer_id":28317018,"question_id":3072173,"body_markdown":"If you have to use the Handler, but you are into another thread, you can use `runonuithread` to run the handler in UI thread. This will save you from Exceptions thrown asking to call `Looper.Prepare()`\r\n\r\n    runOnUiThread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //Do something after 1 second\r\n                }\r\n            }, 1000);\r\n        }\r\n    });\r\n\r\nLooks quite messy, but this is one of the way.","title":"How to call a method after a delay in Android","body":"<p>If you have to use the Handler, but you are into another thread, you can use <code>runonuithread</code> to run the handler in UI thread. This will save you from Exceptions thrown asking to call <code>Looper.Prepare()</code></p>\n\n<pre><code>runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                //Do something after 1 second\n            }\n        }, 1000);\n    }\n});\n</code></pre>\n\n<p>Looks quite messy, but this is one of the way.</p>\n"},{"comments":[{"owner":{"account_id":3078852,"reputation":3366,"user_id":2607567,"accept_rate":85,"display_name":"JacksOnF1re"},"score":1,"creation_date":1445285553,"post_id":30241672,"comment_id":54250662,"body_markdown":"Doesn&#39;t it freeze the ui element itself, because it will be scheduled on the views handler?","body":"Doesn&#39;t it freeze the ui element itself, because it will be scheduled on the views handler?"},{"owner":{"account_id":393455,"reputation":1128,"user_id":755313,"display_name":"demaksee"},"score":1,"creation_date":1532943284,"post_id":30241672,"comment_id":90147108,"body_markdown":"No, posted task will be executed in 1 second, but during this second UI thread does other useful work","body":"No, posted task will be executed in 1 second, but during this second UI thread does other useful work"}],"tags":[],"owner":{"account_id":4859247,"reputation":9072,"user_id":3919425,"accept_rate":50,"display_name":"codezjx"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1516714307,"creation_date":1431618562,"answer_id":30241672,"question_id":3072173,"body_markdown":"I prefer to use `View.postDelayed()` method, simple code below:\r\n\r\n    mView.postDelayed(new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n            // Do something after 1000 ms\r\n    \t}\r\n    }, 1000);","title":"How to call a method after a delay in Android","body":"<p>I prefer to use <code>View.postDelayed()</code> method, simple code below:</p>\n\n<pre><code>mView.postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        // Do something after 1000 ms\n    }\n}, 1000);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":142495,"reputation":1257,"user_id":350239,"display_name":"Max Ch"},"score":3,"creation_date":1463181512,"post_id":36029234,"comment_id":61972162,"body_markdown":"Reflection for such a basic task?","body":"Reflection for such a basic task?"},{"owner":{"account_id":266899,"reputation":12323,"user_id":554740,"accept_rate":66,"display_name":"HelmiB"},"score":0,"creation_date":1463200851,"post_id":36029234,"comment_id":61975551,"body_markdown":"Since the question to call method similar to iOS `performSelector`. this is the best way to do.","body":"Since the question to call method similar to iOS <code>performSelector</code>. this is the best way to do."}],"tags":[],"owner":{"account_id":266899,"reputation":12323,"user_id":554740,"accept_rate":66,"display_name":"HelmiB"},"comment_count":2,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1458113323,"creation_date":1458113323,"answer_id":36029234,"question_id":3072173,"body_markdown":"I created simpler method to call this. \r\n\r\n    public static void CallWithDelay(long miliseconds, final Activity activity, final String methodName)\r\n        {\r\n            new Handler().postDelayed(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        Method method =  activity.getClass().getMethod(methodName);\r\n                        method.invoke(activity);\r\n                    } catch (NoSuchMethodException e) {\r\n                        e.printStackTrace();\r\n                    } catch (InvocationTargetException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IllegalAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }, miliseconds);\r\n        }\r\n\r\nTo use it, just call : `.CallWithDelay(5000, this, &quot;DoSomething&quot;);`\r\n","title":"How to call a method after a delay in Android","body":"<p>I created simpler method to call this. </p>\n\n<pre><code>public static void CallWithDelay(long miliseconds, final Activity activity, final String methodName)\n    {\n        new Handler().postDelayed(new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    Method method =  activity.getClass().getMethod(methodName);\n                    method.invoke(activity);\n                } catch (NoSuchMethodException e) {\n                    e.printStackTrace();\n                } catch (InvocationTargetException e) {\n                    e.printStackTrace();\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, miliseconds);\n    }\n</code></pre>\n\n<p>To use it, just call : <code>.CallWithDelay(5000, this, \"DoSomething\");</code></p>\n"},{"tags":[],"owner":{"account_id":3341633,"reputation":839,"user_id":2807803,"accept_rate":64,"display_name":"cdytoby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537244285,"creation_date":1464368676,"answer_id":37488914,"question_id":3072173,"body_markdown":"Here is another tricky way: it won&#39;t throw exception when the runnable change UI elements.\r\n\r\n    public class SimpleDelayAnimation extends Animation implements Animation.AnimationListener {\r\n\r\n        Runnable callBack;\r\n    \r\n        public SimpleDelayAnimation(Runnable runnable, int delayTimeMilli) {\r\n            setDuration(delayTimeMilli);\r\n            callBack = runnable;\r\n            setAnimationListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onAnimationStart(Animation animation) {\r\n            \r\n        }\r\n    \r\n        @Override\r\n        public void onAnimationEnd(Animation animation) {\r\n            callBack.run();\r\n        }\r\n    \r\n        @Override\r\n        public void onAnimationRepeat(Animation animation) {\r\n    \r\n        }\r\n    }\r\n\r\nYou can call the animation like this:\r\n\r\n    view.startAnimation(new SimpleDelayAnimation(delayRunnable, 500));\r\n\r\nAnimation can attach to any view.\r\n","title":"How to call a method after a delay in Android","body":"<p>Here is another tricky way: it won't throw exception when the runnable change UI elements.</p>\n\n<pre><code>public class SimpleDelayAnimation extends Animation implements Animation.AnimationListener {\n\n    Runnable callBack;\n\n    public SimpleDelayAnimation(Runnable runnable, int delayTimeMilli) {\n        setDuration(delayTimeMilli);\n        callBack = runnable;\n        setAnimationListener(this);\n    }\n\n    @Override\n    public void onAnimationStart(Animation animation) {\n\n    }\n\n    @Override\n    public void onAnimationEnd(Animation animation) {\n        callBack.run();\n    }\n\n    @Override\n    public void onAnimationRepeat(Animation animation) {\n\n    }\n}\n</code></pre>\n\n<p>You can call the animation like this:</p>\n\n<pre><code>view.startAnimation(new SimpleDelayAnimation(delayRunnable, 500));\n</code></pre>\n\n<p>Animation can attach to any view.</p>\n"},{"tags":[],"owner":{"account_id":3433236,"reputation":2920,"user_id":2877004,"display_name":"Alecs"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1485701240,"creation_date":1485700875,"answer_id":41922095,"question_id":3072173,"body_markdown":"Here is my shortest solution: \r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //Do something after 100ms\r\n        }\r\n    }, 100);\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>Here is my shortest solution: </p>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Do something after 100ms\n    }\n}, 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1222925,"reputation":320,"user_id":7189747,"display_name":"Alnour Alharin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537244306,"creation_date":1498055046,"answer_id":44678851,"question_id":3072173,"body_markdown":"You can make it much cleaner by using the newly introduced lambda expressions:\r\n\r\n    new Handler().postDelayed(() -&gt; {/*your code here*/}, time);\r\n\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>You can make it much cleaner by using the newly introduced lambda expressions:</p>\n\n<pre><code>new Handler().postDelayed(() -&gt; {/*your code here*/}, time);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4469997,"reputation":3994,"user_id":3636561,"display_name":"Abdul Rizwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505136394,"creation_date":1503038670,"answer_id":45750131,"question_id":3072173,"body_markdown":"It&#39;s very easy using the `CountDownTimer`.\r\nFor more details https://developer.android.com/reference/android/os/CountDownTimer.html\r\n\r\n    import android.os.CountDownTimer;\r\n\r\n    // calls onTick every second, finishes after 3 seconds\r\n    new CountDownTimer(3000, 1000) { \r\n    \r\n       public void onTick(long millisUntilFinished) {\r\n          Log.d(&quot;log&quot;, millisUntilFinished / 1000);\r\n       }\r\n    \r\n       public void onFinish() {\r\n          // called after count down is finished\r\n       } \r\n    }.start();","title":"How to call a method after a delay in Android","body":"<p>It's very easy using the <code>CountDownTimer</code>.\nFor more details <a href=\"https://developer.android.com/reference/android/os/CountDownTimer.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/CountDownTimer.html</a></p>\n\n<pre><code>import android.os.CountDownTimer;\n\n// calls onTick every second, finishes after 3 seconds\nnew CountDownTimer(3000, 1000) { \n\n   public void onTick(long millisUntilFinished) {\n      Log.d(\"log\", millisUntilFinished / 1000);\n   }\n\n   public void onFinish() {\n      // called after count down is finished\n   } \n}.start();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6638815,"reputation":5347,"user_id":5125212,"accept_rate":83,"display_name":"Damia Fuentes"},"score":0,"creation_date":1506445496,"post_id":46328591,"comment_id":79821530,"body_markdown":"How can we cancel this?","body":"How can we cancel this?"},{"owner":{"account_id":2315442,"reputation":1341,"user_id":2032618,"accept_rate":100,"display_name":"TomDK"},"score":0,"creation_date":1565939989,"post_id":46328591,"comment_id":101507898,"body_markdown":"I&#39;m surprised how many here will happily move onto Kotlin, yet completely ignore Lambda Expressions which are standard Java.","body":"I&#39;m surprised how many here will happily move onto Kotlin, yet completely ignore Lambda Expressions which are standard Java."}],"tags":[],"owner":{"account_id":1626664,"reputation":34767,"user_id":1502079,"accept_rate":56,"display_name":"vovahost"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1541859444,"creation_date":1505929375,"answer_id":46328591,"question_id":3072173,"body_markdown":"If you are using **Android Studio 3.0** and above you can use lambda expressions. The method `callMyMethod()` is called after 2 seconds:\r\n\r\n    new Handler().postDelayed(() -&gt; callMyMethod(), 2000);\r\n\r\n\r\nIn case you need to cancel the delayed runnable use this:\r\n\r\n    Handler handler = new Handler();\r\n    handler.postDelayed(() -&gt; callMyMethod(), 2000);\r\n        \r\n    // When you need to cancel all your posted runnables just use:\r\n    handler.removeCallbacksAndMessages(null);","title":"How to call a method after a delay in Android","body":"<p>If you are using <strong>Android Studio 3.0</strong> and above you can use lambda expressions. The method <code>callMyMethod()</code> is called after 2 seconds:</p>\n\n<pre><code>new Handler().postDelayed(() -&gt; callMyMethod(), 2000);\n</code></pre>\n\n<p>In case you need to cancel the delayed runnable use this:</p>\n\n<pre><code>Handler handler = new Handler();\nhandler.postDelayed(() -&gt; callMyMethod(), 2000);\n\n// When you need to cancel all your posted runnables just use:\nhandler.removeCallbacksAndMessages(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509041013,"creation_date":1509041013,"answer_id":46960971,"question_id":3072173,"body_markdown":"everybody seems to forget to clean the Handler before posting a new runnable or message on it. Otherway they could potentially accumulate and cause bad behaviour.\r\n\r\n    handler.removeMessages(int what);\r\n    // Remove any pending posts of messages with code &#39;what&#39; that are in the message queue.\r\n\r\n    handler.removeCallbacks(Runnable r)\r\n    // Remove any pending posts of Runnable r that are in the message queue.\r\n","title":"How to call a method after a delay in Android","body":"<p>everybody seems to forget to clean the Handler before posting a new runnable or message on it. Otherway they could potentially accumulate and cause bad behaviour.</p>\n\n<pre><code>handler.removeMessages(int what);\n// Remove any pending posts of messages with code 'what' that are in the message queue.\n\nhandler.removeCallbacks(Runnable r)\n// Remove any pending posts of Runnable r that are in the message queue.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5735188,"reputation":1651,"user_id":4529588,"accept_rate":25,"display_name":"Crime_Master_GoGo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1517202535,"creation_date":1517202535,"answer_id":48494735,"question_id":3072173,"body_markdown":"You can use this for Simplest Solution:\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //Write your code here\r\n        }\r\n    }, 5000); //Timer is in ms here.\r\n\r\n Else, Below can be another clean useful solution:\r\n\r\n    new Handler().postDelayed(() -&gt; \r\n    {/*Do something here*/}, \r\n    5000); //time in ms","title":"How to call a method after a delay in Android","body":"<p>You can use this for Simplest Solution:</p>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Write your code here\n    }\n}, 5000); //Timer is in ms here.\n</code></pre>\n\n<p>Else, Below can be another clean useful solution:</p>\n\n<pre><code>new Handler().postDelayed(() -&gt; \n{/*Do something here*/}, \n5000); //time in ms\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2098025,"reputation":19076,"user_id":1866373,"accept_rate":55,"display_name":"Daniel Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537888235,"creation_date":1537888235,"answer_id":52501450,"question_id":3072173,"body_markdown":"[Here is the answer][1] in Kotlin you lazy, lazy people:\r\n\r\n    Handler().postDelayed({\r\n    //doSomethingHere()\r\n    }, 1000)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43402513/1866373","title":"How to call a method after a delay in Android","body":"<p><a href=\"https://stackoverflow.com/a/43402513/1866373\">Here is the answer</a> in Kotlin you lazy, lazy people:</p>\n\n<pre><code>Handler().postDelayed({\n//doSomethingHere()\n}, 1000)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2013095,"reputation":5352,"user_id":1801072,"display_name":"Sam"},"score":1,"creation_date":1541687236,"post_id":52502293,"comment_id":93307439,"body_markdown":"No problem Rajiv, I would take it one step further and mention that using Live Data the coroutines can be life cycle aware and self canceling to avoid the cleanup calls, but don&#39;t want to throw too many learning curves into one answer ;)","body":"No problem Rajiv, I would take it one step further and mention that using Live Data the coroutines can be life cycle aware and self canceling to avoid the cleanup calls, but don&#39;t want to throw too many learning curves into one answer ;)"}],"tags":[],"owner":{"account_id":2013095,"reputation":5352,"user_id":1801072,"display_name":"Sam"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1537890983,"creation_date":1537890983,"answer_id":52502293,"question_id":3072173,"body_markdown":"So there are a few things to consider here as there are so many ways to skin this cat. Although answers have all already been given selected and chosen. I think it&#39;s important that this gets revisited with proper coding guidelines to avoid anyone going the wrong direction just because of &quot;majority selected simple answer&quot;.\r\n\r\nSo first let&#39;s discuss the simple Post Delayed answer that is the winner selected answer overall in this thread.\r\n\r\nA couple of things to consider. After the post delay, you can encounter memory leaks, dead objects, life cycles that have gone away, and more. So handling it properly is important as well. You can do this in a couple of ways.\r\n\r\nFor sake of modern development, I&#39;ll supply in KOTLIN\r\n\r\nHere is a simple example of using the UI thread on a callback and confirming that your activity is still alive and well when you hit your callback.\r\n\r\n      Handler(Looper.getMainLooper()).postDelayed({\r\n                if(activity != null &amp;&amp; activity?.isFinishing == false){\r\n                    txtNewInfo.visibility = View.GONE\r\n                }\r\n            }, NEW_INFO_SHOW_TIMEOUT_MS)\r\n\r\nHowever, this is still not perfect as there is no reason to hit your callback if the activity has gone away. so a better way would be to keep a reference to it and remove it&#39;s callbacks like this.\r\n\r\n  \r\n\r\n        private fun showFacebookStylePlus1NewsFeedOnPushReceived(){\r\n            A35Log.v(TAG, &quot;showFacebookStylePlus1NewsFeedOnPushReceived&quot;)\r\n            if(activity != null &amp;&amp; activity?.isFinishing == false){\r\n                txtNewInfo.visibility = View.VISIBLE\r\n                mHandler.postDelayed({\r\n                    if(activity != null &amp;&amp; activity?.isFinishing == false){\r\n                        txtNewInfo.visibility = View.GONE\r\n                    }\r\n                }, NEW_INFO_SHOW_TIMEOUT_MS)\r\n            }\r\n        }\r\n    \r\n    \r\nand of course handle cleanup on the onPause so it doesn&#39;t hit the callback.\r\n   \r\n\r\n        override fun onPause() {\r\n            super.onPause()\r\n            mHandler.removeCallbacks(null)\r\n        }\r\n\r\nNow that we have talked through the obvious, let&#39;s talk about a cleaner option with modern day coroutines and kotlin :). If you aren&#39;t using these yet, you are really missing out.\r\n\r\n  \r\n\r\n       fun doActionAfterDelay() \r\n            launch(UI) {\r\n                delay(MS_TO_DELAY)           \r\n                actionToTake()\r\n            }\r\n        }\r\n\r\nor if you want to always do a UI launch on that method you can simply do:\r\n\r\n      fun doActionAfterDelay() = launch(UI){ \r\n          delay(MS_TO_DELAY)           \r\n          actionToTake()\r\n      }\r\n\r\nOf course just like the PostDelayed you have to make sure you handle canceling so you can either do the activity checks after the delay call or you can cancel it in the onPause just like the other route.\r\n\r\n    var mDelayedJob: Job? = null\r\n    fun doActionAfterDelay() \r\n       mDelayedJob = launch(UI) {\r\n                try {\r\n                   delay(MS_TO_DELAY)           \r\n                   actionToTake()\r\n                }catch(ex: JobCancellationException){\r\n                    showFancyToast(&quot;Delayed Job canceled&quot;, true, FancyToast.ERROR, &quot;Delayed Job canceled: ${ex.message}&quot;)\r\n                }\r\n            }\r\n       }\r\n    }\r\n\r\n//handle cleanup\r\n\r\n    override fun onPause() {\r\n       super.onPause()\r\n       if(mDelayedJob != null &amp;&amp; mDelayedJob!!.isActive) {\r\n          A35Log.v(mClassTag, &quot;canceling delayed job&quot;)\r\n          mDelayedJob?.cancel() //this should throw CancelationException in coroutine, you can catch and handle appropriately\r\n       }\r\n    }\r\n\r\nIf you put the launch(UI) into the method signature the job can be assigned in the calling line of code.\r\n\r\nso moral of the story is to be safe with your delayed actions, make sure you remove your callbacks, or cancel your jobs and of course confirm you have the right life cycle to touch items on your delay callback complete. The Coroutines also offers cancelable actions.\r\n\r\nAlso worth noting that you should typically handle the various exceptions that can come with coroutines. For example, a cancelation, an exception, a timeout, whatever you decide to use. Here is a more advanced example if you decide to really start utilizing coroutines.\r\n\r\n \r\n\r\n       mLoadJob = launch(UI){\r\n                try {\r\n                    //Applies timeout\r\n                    withTimeout(4000) {\r\n                        //Moves to background thread\r\n                        withContext(DefaultDispatcher) {\r\n                            mDeviceModelList.addArrayList(SSDBHelper.getAllDevices())\r\n                        }\r\n                    }\r\n    \r\n                    //Continues after async with context above\r\n                    showFancyToast(&quot;Loading complete&quot;, true, FancyToast.SUCCESS)\r\n                }catch(ex: JobCancellationException){\r\n                    showFancyToast(&quot;Save canceled&quot;, true, FancyToast.ERROR, &quot;Save canceled: ${ex.message}&quot;)\r\n                }catch (ex: TimeoutCancellationException) {\r\n                    showFancyToast(&quot;Timed out saving, please try again or press back&quot;, true, FancyToast.ERROR, &quot;Timed out saving to database: ${ex.message}&quot;)\r\n                }catch(ex: Exception){\r\n                    showFancyToast(&quot;Error saving to database, please try again or press back&quot;, true, FancyToast.ERROR, &quot;Error saving to database: ${ex.message}&quot;)\r\n                }\r\n            }","title":"How to call a method after a delay in Android","body":"<p>So there are a few things to consider here as there are so many ways to skin this cat. Although answers have all already been given selected and chosen. I think it's important that this gets revisited with proper coding guidelines to avoid anyone going the wrong direction just because of \"majority selected simple answer\".</p>\n\n<p>So first let's discuss the simple Post Delayed answer that is the winner selected answer overall in this thread.</p>\n\n<p>A couple of things to consider. After the post delay, you can encounter memory leaks, dead objects, life cycles that have gone away, and more. So handling it properly is important as well. You can do this in a couple of ways.</p>\n\n<p>For sake of modern development, I'll supply in KOTLIN</p>\n\n<p>Here is a simple example of using the UI thread on a callback and confirming that your activity is still alive and well when you hit your callback.</p>\n\n<pre><code>  Handler(Looper.getMainLooper()).postDelayed({\n            if(activity != null &amp;&amp; activity?.isFinishing == false){\n                txtNewInfo.visibility = View.GONE\n            }\n        }, NEW_INFO_SHOW_TIMEOUT_MS)\n</code></pre>\n\n<p>However, this is still not perfect as there is no reason to hit your callback if the activity has gone away. so a better way would be to keep a reference to it and remove it's callbacks like this.</p>\n\n<pre><code>    private fun showFacebookStylePlus1NewsFeedOnPushReceived(){\n        A35Log.v(TAG, \"showFacebookStylePlus1NewsFeedOnPushReceived\")\n        if(activity != null &amp;&amp; activity?.isFinishing == false){\n            txtNewInfo.visibility = View.VISIBLE\n            mHandler.postDelayed({\n                if(activity != null &amp;&amp; activity?.isFinishing == false){\n                    txtNewInfo.visibility = View.GONE\n                }\n            }, NEW_INFO_SHOW_TIMEOUT_MS)\n        }\n    }\n</code></pre>\n\n<p>and of course handle cleanup on the onPause so it doesn't hit the callback.</p>\n\n<pre><code>    override fun onPause() {\n        super.onPause()\n        mHandler.removeCallbacks(null)\n    }\n</code></pre>\n\n<p>Now that we have talked through the obvious, let's talk about a cleaner option with modern day coroutines and kotlin :). If you aren't using these yet, you are really missing out.</p>\n\n<pre><code>   fun doActionAfterDelay() \n        launch(UI) {\n            delay(MS_TO_DELAY)           \n            actionToTake()\n        }\n    }\n</code></pre>\n\n<p>or if you want to always do a UI launch on that method you can simply do:</p>\n\n<pre><code>  fun doActionAfterDelay() = launch(UI){ \n      delay(MS_TO_DELAY)           \n      actionToTake()\n  }\n</code></pre>\n\n<p>Of course just like the PostDelayed you have to make sure you handle canceling so you can either do the activity checks after the delay call or you can cancel it in the onPause just like the other route.</p>\n\n<pre><code>var mDelayedJob: Job? = null\nfun doActionAfterDelay() \n   mDelayedJob = launch(UI) {\n            try {\n               delay(MS_TO_DELAY)           \n               actionToTake()\n            }catch(ex: JobCancellationException){\n                showFancyToast(\"Delayed Job canceled\", true, FancyToast.ERROR, \"Delayed Job canceled: ${ex.message}\")\n            }\n        }\n   }\n}\n</code></pre>\n\n<p>//handle cleanup</p>\n\n<pre><code>override fun onPause() {\n   super.onPause()\n   if(mDelayedJob != null &amp;&amp; mDelayedJob!!.isActive) {\n      A35Log.v(mClassTag, \"canceling delayed job\")\n      mDelayedJob?.cancel() //this should throw CancelationException in coroutine, you can catch and handle appropriately\n   }\n}\n</code></pre>\n\n<p>If you put the launch(UI) into the method signature the job can be assigned in the calling line of code.</p>\n\n<p>so moral of the story is to be safe with your delayed actions, make sure you remove your callbacks, or cancel your jobs and of course confirm you have the right life cycle to touch items on your delay callback complete. The Coroutines also offers cancelable actions.</p>\n\n<p>Also worth noting that you should typically handle the various exceptions that can come with coroutines. For example, a cancelation, an exception, a timeout, whatever you decide to use. Here is a more advanced example if you decide to really start utilizing coroutines.</p>\n\n<pre><code>   mLoadJob = launch(UI){\n            try {\n                //Applies timeout\n                withTimeout(4000) {\n                    //Moves to background thread\n                    withContext(DefaultDispatcher) {\n                        mDeviceModelList.addArrayList(SSDBHelper.getAllDevices())\n                    }\n                }\n\n                //Continues after async with context above\n                showFancyToast(\"Loading complete\", true, FancyToast.SUCCESS)\n            }catch(ex: JobCancellationException){\n                showFancyToast(\"Save canceled\", true, FancyToast.ERROR, \"Save canceled: ${ex.message}\")\n            }catch (ex: TimeoutCancellationException) {\n                showFancyToast(\"Timed out saving, please try again or press back\", true, FancyToast.ERROR, \"Timed out saving to database: ${ex.message}\")\n            }catch(ex: Exception){\n                showFancyToast(\"Error saving to database, please try again or press back\", true, FancyToast.ERROR, \"Error saving to database: ${ex.message}\")\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4684386,"reputation":12978,"user_id":3792198,"accept_rate":23,"display_name":"Thiago"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540198702,"creation_date":1540198702,"answer_id":52925636,"question_id":3072173,"body_markdown":"I like things cleaner:\r\nHere is my implementation, inline code to use inside your method \r\n\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        //Do something after 100ms\r\n      }\r\n    }, 100);","title":"How to call a method after a delay in Android","body":"<p>I like things cleaner:\nHere is my implementation, inline code to use inside your method </p>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n  @Override\n  public void run() {\n    //Do something after 100ms\n  }\n}, 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38502,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541680737,"creation_date":1541680737,"answer_id":53207914,"question_id":3072173,"body_markdown":"Below one works when you get,\r\n\r\n&gt; java.lang.RuntimeException: Can&#39;t create handler inside thread that\r\n&gt; has not called Looper.prepare()\r\n\r\n    final Handler handler = new Handler(Looper.getMainLooper());\r\n    handler.postDelayed(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        //Do something after 100ms\r\n      }\r\n    }, 100);","title":"How to call a method after a delay in Android","body":"<p>Below one works when you get,</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Can't create handler inside thread that\n  has not called Looper.prepare()</p>\n</blockquote>\n\n<pre><code>final Handler handler = new Handler(Looper.getMainLooper());\nhandler.postDelayed(new Runnable() {\n  @Override\n  public void run() {\n    //Do something after 100ms\n  }\n}, 100);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"score":1,"creation_date":1563963451,"post_id":53496128,"comment_id":100872115,"body_markdown":"@JanRabe Thanks for your suggestion. I appriciate it. However question is `How to call a method after a delay in Android`. So I focued on that. To the point. Otherwise java leaks is a big topic to understand seperately for developers.","body":"@JanRabe Thanks for your suggestion. I appriciate it. However question is <code>How to call a method after a delay in Android</code>. So I focued on that. To the point. Otherwise java leaks is a big topic to understand seperately for developers."},{"owner":{"account_id":7049112,"reputation":1696,"user_id":5398884,"accept_rate":100,"display_name":"Tim"},"score":1,"creation_date":1624419120,"post_id":53496128,"comment_id":120350792,"body_markdown":"`Handler().postDelayed({    }, 2000)`  shows as depricated","body":"<code>Handler().postDelayed({    }, 2000)</code>  shows as depricated"}],"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1549283909,"creation_date":1543309790,"answer_id":53496128,"question_id":3072173,"body_markdown":"&gt; #`Kotlin` &amp; `Java` Many Ways\r\n\r\n###1. Using `Handler`\r\n\r\n    Handler().postDelayed({\r\n        TODO(&quot;Do something&quot;)\r\n        }, 2000)\r\n\r\n###2. Using TimerTask\r\n\r\n\tTimer().schedule(object : TimerTask() {\r\n\t\toverride fun run() {\r\n\t\t\tTODO(&quot;Do something&quot;)\r\n\t\t}\r\n\t}, 2000)\r\n\r\nOr even shorter\r\n\r\n\tTimer().schedule(timerTask {\r\n\t\tTODO(&quot;Do something&quot;)\r\n\t}, 2000)\r\n\r\n\r\nOr shortest would be\r\n\r\n\tTimer().schedule(2000) {\r\n\t\tTODO(&quot;Do something&quot;)\r\n\t}\r\n\r\n###3. Using `Executors`\r\n\r\n\tExecutors.newSingleThreadScheduledExecutor().schedule({\r\n\t\tTODO(&quot;Do something&quot;)\r\n\t}, 2, TimeUnit.SECONDS)\r\n\r\n&gt; #In Java\r\n\r\n###1. Using `Handler`\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            //Do something\r\n        }\r\n    }, 2000);\r\n\r\n###2. Using `Timer`\r\n\r\n    new Timer().schedule(new TimerTask() {          \r\n        @Override\r\n        public void run() {\r\n            // Do something\r\n        }\r\n    }, 2000);\r\n\r\n###3. Using `ScheduledExecutorService`\r\n\r\n    private static final ScheduledExecutorService worker = Executors.newSingleThreadScheduledExecutor();\r\n   \r\n    Runnable runnable = new Runnable() {\r\n      public void run() {\r\n          // Do something\r\n      }\r\n      };\r\n    worker.schedule(runnable, 2, TimeUnit.SECONDS);\r\n","title":"How to call a method after a delay in Android","body":"<blockquote>\n  <h1><code>Kotlin</code> &amp; <code>Java</code> Many Ways</h1>\n</blockquote>\n\n<h3>1. Using <code>Handler</code></h3>\n\n<pre><code>Handler().postDelayed({\n    TODO(\"Do something\")\n    }, 2000)\n</code></pre>\n\n<h3>2. Using TimerTask</h3>\n\n<pre><code>Timer().schedule(object : TimerTask() {\n    override fun run() {\n        TODO(\"Do something\")\n    }\n}, 2000)\n</code></pre>\n\n<p>Or even shorter</p>\n\n<pre><code>Timer().schedule(timerTask {\n    TODO(\"Do something\")\n}, 2000)\n</code></pre>\n\n<p>Or shortest would be</p>\n\n<pre><code>Timer().schedule(2000) {\n    TODO(\"Do something\")\n}\n</code></pre>\n\n<h3>3. Using <code>Executors</code></h3>\n\n<pre><code>Executors.newSingleThreadScheduledExecutor().schedule({\n    TODO(\"Do something\")\n}, 2, TimeUnit.SECONDS)\n</code></pre>\n\n<blockquote>\n  <h1>In Java</h1>\n</blockquote>\n\n<h3>1. Using <code>Handler</code></h3>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        //Do something\n    }\n}, 2000);\n</code></pre>\n\n<h3>2. Using <code>Timer</code></h3>\n\n<pre><code>new Timer().schedule(new TimerTask() {          \n    @Override\n    public void run() {\n        // Do something\n    }\n}, 2000);\n</code></pre>\n\n<h3>3. Using <code>ScheduledExecutorService</code></h3>\n\n<pre><code>private static final ScheduledExecutorService worker = Executors.newSingleThreadScheduledExecutor();\n\nRunnable runnable = new Runnable() {\n  public void run() {\n      // Do something\n  }\n  };\nworker.schedule(runnable, 2, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5022597,"reputation":1035,"user_id":4035641,"display_name":"Ashik"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639154587,"creation_date":1547099532,"answer_id":54122631,"question_id":3072173,"body_markdown":"If you use RxAndroid then thread and error handling becomes much easier. Following code executes after a delay\r\n```java\r\nObservable.timer(delay, TimeUnit.SECONDS)\r\n        .subscribeOn(Schedulers.io())\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        .subscribe(aLong -&gt; {\r\n            // Execute code here\r\n        }, Throwable::printStackTrace);\r\n```","title":"How to call a method after a delay in Android","body":"<p>If you use RxAndroid then thread and error handling becomes much easier. Following code executes after a delay</p>\n<pre class=\"lang-java prettyprint-override\"><code>Observable.timer(delay, TimeUnit.SECONDS)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(aLong -&gt; {\n            // Execute code here\n        }, Throwable::printStackTrace);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4551443,"reputation":1429,"user_id":3696500,"accept_rate":27,"display_name":"Mr T"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1550592096,"creation_date":1550592096,"answer_id":54770379,"question_id":3072173,"body_markdown":"For a Simple line Handle Post delay, you can do as following :\r\n\r\n    new Handler().postDelayed(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Do someting\r\n        }\r\n    }, 3000);\r\n\r\n\r\nI hope this helps","title":"How to call a method after a delay in Android","body":"<p>For a Simple line Handle Post delay, you can do as following :</p>\n\n<pre><code>new Handler().postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        // Do someting\n    }\n}, 3000);\n</code></pre>\n\n<p>I hope this helps</p>\n"},{"comments":[{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1553199191,"post_id":54923194,"comment_id":97306500,"body_markdown":"What does the ` do  `?","body":"What does the ` do  `?"},{"owner":{"account_id":8652943,"reputation":22456,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"score":0,"creation_date":1553245642,"post_id":54923194,"comment_id":97320589,"body_markdown":"just a name , keep anything there . `do` is an inbuilt method so we have to use ` to use it as variable name","body":"just a name , keep anything there . <code>do</code> is an inbuilt method so we have to use ` to use it as variable name"},{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1553246475,"post_id":54923194,"comment_id":97321059,"body_markdown":"Thanks, but why is used this variable name? I mean what&#39;s the function of it.","body":"Thanks, but why is used this variable name? I mean what&#39;s the function of it."},{"owner":{"account_id":8652943,"reputation":22456,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"score":1,"creation_date":1553246646,"post_id":54923194,"comment_id":97321169,"body_markdown":"I thought like `do` this after delay of  3 sec","body":"I thought like <code>do</code> this after delay of  3 sec"}],"tags":[],"owner":{"account_id":8652943,"reputation":22456,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551348822,"creation_date":1551348822,"answer_id":54923194,"question_id":3072173,"body_markdown":"Similar solution but much cleaner to use \r\n\r\nWrite this function out side of class\r\n\r\n    fun delay(duration: Long, `do`: () -&gt; Unit) {\r\n    \r\n        Handler().postDelayed(`do`, duration)\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n    delay(5000) {\r\n        //Do your work here\r\n    }\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>Similar solution but much cleaner to use </p>\n\n<p>Write this function out side of class</p>\n\n<pre><code>fun delay(duration: Long, `do`: () -&gt; Unit) {\n\n    Handler().postDelayed(`do`, duration)\n\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>delay(5000) {\n    //Do your work here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2696548,"reputation":41,"user_id":2328444,"display_name":"Ahasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551614728,"creation_date":1551614728,"answer_id":54968606,"question_id":3072173,"body_markdown":"In Android, we can write below kotlin code for delay execution of any function  \r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var handler: Handler\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        handler= Handler()\r\n        handler.postDelayed({\r\n            doSomething()\r\n        },2000)\r\n    }\r\n\r\n    private fun doSomething() {\r\n        Toast.makeText(this,&quot;Hi! I am Toast Message&quot;,Toast.LENGTH_SHORT).show()\r\n    }\r\n    }\r\n\r\n","title":"How to call a method after a delay in Android","body":"<p>In Android, we can write below kotlin code for delay execution of any function  </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate lateinit var handler: Handler\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    handler= Handler()\n    handler.postDelayed({\n        doSomething()\n    },2000)\n}\n\nprivate fun doSomething() {\n    Toast.makeText(this,\"Hi! I am Toast Message\",Toast.LENGTH_SHORT).show()\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6953543,"reputation":978,"user_id":5335382,"display_name":"Shivam Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557483905,"creation_date":1557483905,"answer_id":56075660,"question_id":3072173,"body_markdown":"There are a lot of ways to do this but the best is to use handler like below\r\n    \r\n    long millisecDelay=3000\r\n\r\n    Handler().postDelayed({\r\n      // do your work here\r\n     },millisecDelay)","title":"How to call a method after a delay in Android","body":"<p>There are a lot of ways to do this but the best is to use handler like below</p>\n\n<pre><code>long millisecDelay=3000\n\nHandler().postDelayed({\n  // do your work here\n },millisecDelay)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203800,"reputation":2404,"user_id":1947494,"accept_rate":0,"display_name":"Nikhil Katekhaye"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560945762,"creation_date":1560929410,"answer_id":56662296,"question_id":3072173,"body_markdown":"Using Kotlin, we can achieve by doing the following\r\n\r\n    Handler().postDelayed({\r\n        // do something after 1000ms \r\n    }, 1000)","title":"How to call a method after a delay in Android","body":"<p>Using Kotlin, we can achieve by doing the following</p>\n\n<pre><code>Handler().postDelayed({\n    // do something after 1000ms \n}, 1000)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4130546,"reputation":403,"user_id":3388597,"display_name":"S.Javed"},"score":3,"creation_date":1610317841,"post_id":65540038,"comment_id":116088468,"body_markdown":"I think the coroutine approach is better. Especially when you have the scope bounded with component Activity, Fragment, Custom Component with the lifecycle. Most of the time the requirement is to execute a method while the host is alive. I would also suggest getting the Job instance to support logical cancellation.\nFor example:\nval job = scope.launch {....}\n....\n....\n// Cancel the delay job before it starts execution\njob.cancel()","body":"I think the coroutine approach is better. Especially when you have the scope bounded with component Activity, Fragment, Custom Component with the lifecycle. Most of the time the requirement is to execute a method while the host is alive. I would also suggest getting the Job instance to support logical cancellation. For example: val job = scope.launch {....} .... .... // Cancel the delay job before it starts execution job.cancel()"}],"tags":[],"owner":{"account_id":9045455,"reputation":4278,"user_id":6737970,"display_name":"Wilson Tran"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1688468516,"creation_date":1609596811,"answer_id":65540038,"question_id":3072173,"body_markdown":"\r\nMore Safety - With Kotlin Coroutine\r\n-----------\r\nMost of the answers use Handler, but I provide a different solution to handle delays in activity, fragment, and view model using Android Lifecycle extensions. **This approach will automatically cancel when the lifecycle is destroyed, avoiding memory leaks or app crashes**\r\n\r\n**In Activity or Fragment:**\r\n\r\n    lifecycleScope.launch { \r\n      delay(DELAY_MS)\r\n      doSomething()\r\n    }\r\n\r\n**In ViewModel:**\r\n\r\n    viewModelScope.lanch {\r\n      delay(DELAY_MS)\r\n      doSomething()\r\n    }\r\n    \r\n\r\n**In suspend function: (Kotlin Coroutine)**\r\n\r\n    suspend fun doSomethingAfter(){\r\n        delay(DELAY_MS)\r\n        doSomething()\r\n    }\r\n\r\nIf you get an error with the **lifecycleScope** not found! - import this dependency to the app gradle file:\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.4.0&quot;\r\n\r\n\r\n","title":"How to call a method after a delay in Android","body":"<h2>More Safety - With Kotlin Coroutine</h2>\n<p>Most of the answers use Handler, but I provide a different solution to handle delays in activity, fragment, and view model using Android Lifecycle extensions. <strong>This approach will automatically cancel when the lifecycle is destroyed, avoiding memory leaks or app crashes</strong></p>\n<p><strong>In Activity or Fragment:</strong></p>\n<pre><code>lifecycleScope.launch { \n  delay(DELAY_MS)\n  doSomething()\n}\n</code></pre>\n<p><strong>In ViewModel:</strong></p>\n<pre><code>viewModelScope.lanch {\n  delay(DELAY_MS)\n  doSomething()\n}\n</code></pre>\n<p><strong>In suspend function: (Kotlin Coroutine)</strong></p>\n<pre><code>suspend fun doSomethingAfter(){\n    delay(DELAY_MS)\n    doSomething()\n}\n</code></pre>\n<p>If you get an error with the <strong>lifecycleScope</strong> not found! - import this dependency to the app gradle file:</p>\n<pre><code>implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.4.0&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630492955,"creation_date":1630492955,"answer_id":69012245,"question_id":3072173,"body_markdown":"Well, you can always use legacy `Thread.sleep()` if you are using Java.\r\n\r\n    new Thread(() -&gt; {\r\n\r\n        try {\r\n            Thread.sleep(millis); //delay in milliseconds\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        yourMethod();\r\n\r\n    }).start();\r\n\r\nThe only problem here is that you cannot do any UI updates since its a separate thread.","title":"How to call a method after a delay in Android","body":"<p>Well, you can always use legacy <code>Thread.sleep()</code> if you are using Java.</p>\n<pre><code>new Thread(() -&gt; {\n\n    try {\n        Thread.sleep(millis); //delay in milliseconds\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    yourMethod();\n\n}).start();\n</code></pre>\n<p>The only problem here is that you cannot do any UI updates since its a separate thread.</p>\n"},{"tags":[],"owner":{"account_id":1063105,"reputation":4975,"user_id":1064316,"display_name":"norbDEV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641767414,"creation_date":1641767414,"answer_id":70646064,"question_id":3072173,"body_markdown":" - Kotlin \r\n - runOnUiThread from a Fragment \r\n - Timer\r\n\r\nexample:\r\n\r\n    Timer().schedule(500) {\r\n        activity?.runOnUiThread {\r\n            // code                                    \r\n        }\r\n    }","title":"How to call a method after a delay in Android","body":"<ul>\n<li>Kotlin</li>\n<li>runOnUiThread from a Fragment</li>\n<li>Timer</li>\n</ul>\n<p>example:</p>\n<pre><code>Timer().schedule(500) {\n    activity?.runOnUiThread {\n        // code                                    \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11070566,"reputation":685,"user_id":8128825,"display_name":"Barrrettt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647531483,"creation_date":1647531483,"answer_id":71515121,"question_id":3072173,"body_markdown":"Another response (java8) on activity class.\r\n\r\n    //hide with delay\r\n    new Thread(() -&gt; {\r\n        try {Thread.sleep(500);} catch (InterruptedException e) {e.printStackTrace();}\r\n        this.runOnUiThread(() -&gt; {\r\n            myView.setVisibility(View.GONE);//this run on GUI\r\n        });\r\n    }).start();","title":"How to call a method after a delay in Android","body":"<p>Another response (java8) on activity class.</p>\n<pre><code>//hide with delay\nnew Thread(() -&gt; {\n    try {Thread.sleep(500);} catch (InterruptedException e) {e.printStackTrace();}\n    this.runOnUiThread(() -&gt; {\n        myView.setVisibility(View.GONE);//this run on GUI\n    });\n}).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17187292,"reputation":159,"user_id":12441683,"display_name":"radus14"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695627962,"creation_date":1695627962,"answer_id":77170730,"question_id":3072173,"body_markdown":"Activity/Fragment - in this case **if** you doSomething with **UI** changes, then you should use **viewLifecycleOwner**&#39;s *lifecycleScope* because in the case of destroying the Activity/Fragment this operation is going to be safe and is not to execute, otherwise without *viewLifecycleOwner* the app will crash when modifying the UI that would be not bound to anything.\r\n\r\n```\r\nprivate val DELAY_MS = 5000\r\n\r\nviewLifecycleOwner.lifecycleScope.launch {\r\n   delay(DELAY_MS)\r\n   doSomething()\r\n}\r\n```","title":"How to call a method after a delay in Android","body":"<p>Activity/Fragment - in this case <strong>if</strong> you doSomething with <strong>UI</strong> changes, then you should use <strong>viewLifecycleOwner</strong>'s <em>lifecycleScope</em> because in the case of destroying the Activity/Fragment this operation is going to be safe and is not to execute, otherwise without <em>viewLifecycleOwner</em> the app will crash when modifying the UI that would be not bound to anything.</p>\n<pre><code>private val DELAY_MS = 5000\n\nviewLifecycleOwner.lifecycleScope.launch {\n   delay(DELAY_MS)\n   doSomething()\n}\n</code></pre>\n"}],"owner":{"account_id":87569,"reputation":76648,"user_id":242769,"accept_rate":91,"display_name":"aryaxt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842535,"favorite_count":0,"down_vote_count":0,"up_vote_count":909,"accepted_answer_id":9166354,"answer_count":36,"score":909,"last_activity_date":1695627962,"creation_date":1276885459,"question_id":3072173,"body_markdown":"I want to be able to call the following method after a specified delay.\r\n In objective c there was something like:\r\n\r\n    [self performSelector:@selector(DoSomething) withObject:nil afterDelay:5];\r\n\r\nIs there an equivalent of this method in android with java?\r\nFor example I need to be able to call a method after 5 seconds.\r\n\r\n    public void DoSomething()\r\n    {\r\n         //do something here\r\n    }","title":"How to call a method after a delay in Android","body":"<p>I want to be able to call the following method after a specified delay.\n In objective c there was something like:</p>\n\n<pre><code>[self performSelector:@selector(DoSomething) withObject:nil afterDelay:5];\n</code></pre>\n\n<p>Is there an equivalent of this method in android with java?\nFor example I need to be able to call a method after 5 seconds.</p>\n\n<pre><code>public void DoSomething()\n{\n     //do something here\n}\n</code></pre>\n"},{"tags":["java","hibernate","gradle","db2","cxf"],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695627818,"creation_date":1695627818,"question_id":77170713,"body_markdown":"Here is my artifacts of Hibernate. I&#39;ve upgraded them from 5.6.15 to 6.3.1\r\n\r\n    implementation (group: &#39;org.hibernate.orm&#39;, name: &#39;hibernate-core&#39;, version: &#39;6.3.1.Final&#39;)\r\n\timplementation (group: &#39;org.hibernate.orm&#39;, name: &#39;hibernate-c3p0&#39;, version: &#39;6.3.1.Final&#39;)\r\n\timplementation &#39;org.hibernate:hibernate-ehcache:5.6.15.Final&#39;\r\n\timplementation &#39;org.hibernate.validator:hibernate-validator:8.0.1.Final&#39;\r\n\r\nAlso here is my impacted code which I used to extends DB2Dialect earlier\r\n\r\n    import org.hibernate.dialect.function.StandardSQLFunction;\r\n    \r\n    public class DB2Dialect extends org.hibernate.dialect.DB2Dialect {\r\n    \r\n        public DB2Dialect() {\r\n            super();\r\n            registerFunction(&quot;myFunction&quot;, new StandardSQLFunction(&quot;myFunction&quot;));\r\n        }\r\n    }\r\n\r\nI&#39;m getting below error after upgrade\r\n\r\n    The method registerFunction(String, StandardSQLFunction) is undefined for the type DB2Dialect\r\n\r\nSo any Idea or reference about how to rewrite this code.?\r\n-Thanks","title":"How to rewrite registerFunction for DB2, in Hibernate 6.3.1.?","body":"<p>Here is my artifacts of Hibernate. I've upgraded them from 5.6.15 to 6.3.1</p>\n<pre><code>implementation (group: 'org.hibernate.orm', name: 'hibernate-core', version: '6.3.1.Final')\nimplementation (group: 'org.hibernate.orm', name: 'hibernate-c3p0', version: '6.3.1.Final')\nimplementation 'org.hibernate:hibernate-ehcache:5.6.15.Final'\nimplementation 'org.hibernate.validator:hibernate-validator:8.0.1.Final'\n</code></pre>\n<p>Also here is my impacted code which I used to extends DB2Dialect earlier</p>\n<pre><code>import org.hibernate.dialect.function.StandardSQLFunction;\n\npublic class DB2Dialect extends org.hibernate.dialect.DB2Dialect {\n\n    public DB2Dialect() {\n        super();\n        registerFunction(&quot;myFunction&quot;, new StandardSQLFunction(&quot;myFunction&quot;));\n    }\n}\n</code></pre>\n<p>I'm getting below error after upgrade</p>\n<pre><code>The method registerFunction(String, StandardSQLFunction) is undefined for the type DB2Dialect\n</code></pre>\n<p>So any Idea or reference about how to rewrite this code.?\n-Thanks</p>\n"},{"tags":["java","android","android-animation"],"answers":[{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695627728,"creation_date":1695627728,"answer_id":77170699,"question_id":77133923,"body_markdown":"Try this\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/typewriter_text&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:text=&quot;Your text will appear here&quot;\r\n        /&gt;\r\nactivity\r\n\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.widget.TextView;\r\n    \r\n    public class TypewriterActivity extends AppCompatActivity {\r\n    \r\n        private TextView typewriterText;\r\n        private String[] textArray;\r\n        private int currentIndex = 0;\r\n        private Handler handler = new Handler();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_typewriter);\r\n    \r\n            typewriterText = findViewById(R.id.typewriter_text);\r\n            // Split the text into an array of words\r\n            textArray = getResources().getStringArray(R.array.typewriter_text_array);\r\n            \r\n            // Start the typewriter effect\r\n            startTypewriterAnimation();\r\n        }\r\n    \r\n        private void startTypewriterAnimation() {\r\n            if (currentIndex &lt; textArray.length) {\r\n                String currentText = textArray[currentIndex];\r\n                typewriterText.setText(currentText.subSequence(0, currentText.length() - 1));\r\n                handler.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        startTypewriterAnimation();\r\n                    }\r\n                }, 100); // Delay between characters (adjust as needed)\r\n                currentIndex++;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nresources\r\n\r\n    &lt;resources&gt;\r\n        &lt;string-array name=&quot;typewriter_text_array&quot;&gt;\r\n            &lt;item&gt;There&lt;/item&gt;\r\n            &lt;item&gt;are&lt;/item&gt;\r\n            &lt;item&gt;no&lt;/item&gt;\r\n            &lt;item&gt;limits&lt;/item&gt;\r\n            &lt;item&gt;to&lt;/item&gt;\r\n            &lt;item&gt;what&lt;/item&gt;\r\n            &lt;item&gt;you&lt;/item&gt;\r\n            &lt;item&gt;can&lt;/item&gt;\r\n            &lt;item&gt;accomplish,&lt;/item&gt;\r\n            &lt;item&gt;except&lt;/item&gt;\r\n            &lt;item&gt;the&lt;/item&gt;\r\n            &lt;item&gt;limits&lt;/item&gt;\r\n            &lt;item&gt;you&lt;/item&gt;\r\n            &lt;item&gt;place&lt;/item&gt;\r\n            &lt;item&gt;on&lt;/item&gt;\r\n            &lt;item&gt;your&lt;/item&gt;\r\n            &lt;item&gt;own&lt;/item&gt;\r\n            &lt;item&gt;thinking.&lt;/item&gt;\r\n        &lt;/string-array&gt;\r\n    &lt;/resources&gt;\r\n\r\n","title":"How create fade-in animation for text in textView in android studio?","body":"<p>Try this</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/typewriter_text&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:textSize=&quot;24sp&quot;\n    android:textColor=&quot;#000000&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:text=&quot;Your text will appear here&quot;\n    /&gt;\n</code></pre>\n<p>activity</p>\n<pre><code>import android.os.Bundle;\nimport android.os.Handler;\nimport android.support.v7.app.AppCompatActivity;\nimport android.widget.TextView;\n\npublic class TypewriterActivity extends AppCompatActivity {\n\n    private TextView typewriterText;\n    private String[] textArray;\n    private int currentIndex = 0;\n    private Handler handler = new Handler();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_typewriter);\n\n        typewriterText = findViewById(R.id.typewriter_text);\n        // Split the text into an array of words\n        textArray = getResources().getStringArray(R.array.typewriter_text_array);\n        \n        // Start the typewriter effect\n        startTypewriterAnimation();\n    }\n\n    private void startTypewriterAnimation() {\n        if (currentIndex &lt; textArray.length) {\n            String currentText = textArray[currentIndex];\n            typewriterText.setText(currentText.subSequence(0, currentText.length() - 1));\n            handler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    startTypewriterAnimation();\n                }\n            }, 100); // Delay between characters (adjust as needed)\n            currentIndex++;\n        }\n    }\n}\n</code></pre>\n<p>resources</p>\n<pre><code>&lt;resources&gt;\n    &lt;string-array name=&quot;typewriter_text_array&quot;&gt;\n        &lt;item&gt;There&lt;/item&gt;\n        &lt;item&gt;are&lt;/item&gt;\n        &lt;item&gt;no&lt;/item&gt;\n        &lt;item&gt;limits&lt;/item&gt;\n        &lt;item&gt;to&lt;/item&gt;\n        &lt;item&gt;what&lt;/item&gt;\n        &lt;item&gt;you&lt;/item&gt;\n        &lt;item&gt;can&lt;/item&gt;\n        &lt;item&gt;accomplish,&lt;/item&gt;\n        &lt;item&gt;except&lt;/item&gt;\n        &lt;item&gt;the&lt;/item&gt;\n        &lt;item&gt;limits&lt;/item&gt;\n        &lt;item&gt;you&lt;/item&gt;\n        &lt;item&gt;place&lt;/item&gt;\n        &lt;item&gt;on&lt;/item&gt;\n        &lt;item&gt;your&lt;/item&gt;\n        &lt;item&gt;own&lt;/item&gt;\n        &lt;item&gt;thinking.&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":29481117,"reputation":1,"user_id":22591911,"display_name":"unlogic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695627728,"creation_date":1695120833,"question_id":77133923,"body_markdown":"Maybe someone already has a ready-made solution or can tell me how I can make a similar animation in android studio?\r\n\r\n**fade-in text animation**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI found an example in [html + CSS][2], but I don&#39;t know if there is any way to apply this to TextView? if someone has encountered and found a solution, I will be very grateful.\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    @import url(&quot;https://fonts.googleapis.com/css?family=Montserrat&amp;display=swap&quot;);\r\n\r\n    * {\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n\r\n    body {\r\n      height: 100vh;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n\r\n    h1 {\r\n      font-family: &quot;Montserrat Medium&quot;;\r\n      max-width: 40ch;\r\n      text-align: center;\r\n      transform: scale(0.94);\r\n      animation: scale 3s forwards cubic-bezier(0.5, 1, 0.89, 1);\r\n    }\r\n    @keyframes scale {\r\n      100% {\r\n        transform: scale(1);\r\n      }\r\n    }\r\n\r\n    span {\r\n      display: inline-block;\r\n      opacity: 0;\r\n      filter: blur(4px);\r\n    }\r\n\r\n    span:nth-child(1) {\r\n      animation: fade-in 0.8s 0.1s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(2) {\r\n      animation: fade-in 0.8s 0.2s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(3) {\r\n      animation: fade-in 0.8s 0.3s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(4) {\r\n      animation: fade-in 0.8s 0.4s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(5) {\r\n      animation: fade-in 0.8s 0.5s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(6) {\r\n      animation: fade-in 0.8s 0.6s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(7) {\r\n      animation: fade-in 0.8s 0.7s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(8) {\r\n      animation: fade-in 0.8s 0.8s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(9) {\r\n      animation: fade-in 0.8s 0.9s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(10) {\r\n      animation: fade-in 0.8s 1s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(11) {\r\n      animation: fade-in 0.8s 1.1s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(12) {\r\n      animation: fade-in 0.8s 1.2s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(13) {\r\n      animation: fade-in 0.8s 1.3s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(14) {\r\n      animation: fade-in 0.8s 1.4s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(15) {\r\n      animation: fade-in 0.8s 1.5s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(16) {\r\n      animation: fade-in 0.8s 1.6s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(17) {\r\n      animation: fade-in 0.8s 1.7s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    span:nth-child(18) {\r\n      animation: fade-in 0.8s 1.8s forwards cubic-bezier(0.11, 0, 0.5, 0);\r\n    }\r\n\r\n    @keyframes fade-in {\r\n      100% {\r\n        opacity: 1;\r\n        filter: blur(0);\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;h1&gt;\r\n      &lt;span&gt;There&lt;/span&gt;\r\n      &lt;span&gt;are&lt;/span&gt;\r\n      &lt;span&gt;no&lt;/span&gt;\r\n      &lt;span&gt;limits&lt;/span&gt;\r\n      &lt;span&gt;to&lt;/span&gt;\r\n      &lt;span&gt;what&lt;/span&gt;\r\n      &lt;span&gt;you&lt;/span&gt;\r\n      &lt;span&gt;can&lt;/span&gt;\r\n      &lt;span&gt;accomplish,&lt;/span&gt;\r\n      &lt;span&gt;except&lt;/span&gt;\r\n      &lt;span&gt;the&lt;/span&gt;\r\n      &lt;span&gt;limits&lt;/span&gt;\r\n      &lt;span&gt;you&lt;/span&gt;\r\n      &lt;span&gt;place&lt;/span&gt;\r\n      &lt;span&gt;on&lt;/span&gt;\r\n      &lt;span&gt;your&lt;/span&gt;\r\n      &lt;span&gt;own&lt;/span&gt;\r\n      &lt;span&gt;thinking.&lt;/span&gt;\r\n    &lt;/h1&gt;\r\n    &lt;!--Brian Tracy--&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FhCAM.gif\r\n  [2]: https://codepen.io/alvarotrigo/pen/ExvqdNa","title":"How create fade-in animation for text in textView in android studio?","body":"<p>Maybe someone already has a ready-made solution or can tell me how I can make a similar animation in android studio?</p>\n<p><strong>fade-in text animation</strong></p>\n<p><a href=\"https://i.stack.imgur.com/FhCAM.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FhCAM.gif\" alt=\"enter image description here\" /></a></p>\n<p>I found an example in <a href=\"https://codepen.io/alvarotrigo/pen/ExvqdNa\" rel=\"nofollow noreferrer\">html + CSS</a>, but I don't know if there is any way to apply this to TextView? if someone has encountered and found a solution, I will be very grateful.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>@import url(\"https://fonts.googleapis.com/css?family=Montserrat&amp;display=swap\");\n\n* {\n  padding: 0;\n  margin: 0;\n}\n\nbody {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\nh1 {\n  font-family: \"Montserrat Medium\";\n  max-width: 40ch;\n  text-align: center;\n  transform: scale(0.94);\n  animation: scale 3s forwards cubic-bezier(0.5, 1, 0.89, 1);\n}\n@keyframes scale {\n  100% {\n    transform: scale(1);\n  }\n}\n\nspan {\n  display: inline-block;\n  opacity: 0;\n  filter: blur(4px);\n}\n\nspan:nth-child(1) {\n  animation: fade-in 0.8s 0.1s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(2) {\n  animation: fade-in 0.8s 0.2s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(3) {\n  animation: fade-in 0.8s 0.3s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(4) {\n  animation: fade-in 0.8s 0.4s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(5) {\n  animation: fade-in 0.8s 0.5s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(6) {\n  animation: fade-in 0.8s 0.6s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(7) {\n  animation: fade-in 0.8s 0.7s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(8) {\n  animation: fade-in 0.8s 0.8s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(9) {\n  animation: fade-in 0.8s 0.9s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(10) {\n  animation: fade-in 0.8s 1s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(11) {\n  animation: fade-in 0.8s 1.1s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(12) {\n  animation: fade-in 0.8s 1.2s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(13) {\n  animation: fade-in 0.8s 1.3s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(14) {\n  animation: fade-in 0.8s 1.4s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(15) {\n  animation: fade-in 0.8s 1.5s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(16) {\n  animation: fade-in 0.8s 1.6s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(17) {\n  animation: fade-in 0.8s 1.7s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\nspan:nth-child(18) {\n  animation: fade-in 0.8s 1.8s forwards cubic-bezier(0.11, 0, 0.5, 0);\n}\n\n@keyframes fade-in {\n  100% {\n    opacity: 1;\n    filter: blur(0);\n  }\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;\n  &lt;span&gt;There&lt;/span&gt;\n  &lt;span&gt;are&lt;/span&gt;\n  &lt;span&gt;no&lt;/span&gt;\n  &lt;span&gt;limits&lt;/span&gt;\n  &lt;span&gt;to&lt;/span&gt;\n  &lt;span&gt;what&lt;/span&gt;\n  &lt;span&gt;you&lt;/span&gt;\n  &lt;span&gt;can&lt;/span&gt;\n  &lt;span&gt;accomplish,&lt;/span&gt;\n  &lt;span&gt;except&lt;/span&gt;\n  &lt;span&gt;the&lt;/span&gt;\n  &lt;span&gt;limits&lt;/span&gt;\n  &lt;span&gt;you&lt;/span&gt;\n  &lt;span&gt;place&lt;/span&gt;\n  &lt;span&gt;on&lt;/span&gt;\n  &lt;span&gt;your&lt;/span&gt;\n  &lt;span&gt;own&lt;/span&gt;\n  &lt;span&gt;thinking.&lt;/span&gt;\n&lt;/h1&gt;\n&lt;!--Brian Tracy--&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","python","bundle","graalvm","graalpython"],"answers":[{"tags":[],"owner":{"account_id":125486,"reputation":2893,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695627359,"creation_date":1626438585,"answer_id":68409051,"question_id":68408222,"body_markdown":"Starting from version 23.1, all GraalVM additional languages can now be easily embedded in Java, including non-Graal JDKs (but with caveats!) by using Maven artifacts published on Mavencentral. Those artifacts embed and transparently on-demand extract the necessary files.\r\n\r\nWith regards to native-image, the languages now behave just like any other Java library that supports native-image. There are no extra options necessary for native-image, just put the relevant jars on modulepath (preferably) or classpath.\r\n\r\nSo embedding GraalPy in Java is as simple as adding this to pom.xml (or equivalent code for the build system of your choice):\r\n\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;polyglot&lt;/artifactId&gt;\r\n            &lt;version&gt;23.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;python-community&lt;/artifactId&gt;\r\n            &lt;version&gt;23.1.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nTo generate native-image, one can use the [Maven plugin for native-image][1].\r\n\r\nMore [GraalPy documentation][2].\r\n\r\n\r\n---\r\nOld answer applicable to versions &lt; 23.1\r\n\r\nI think you can bundle whole GraalVM distribution with your application, like some other applications do with normal JDKs (e.g., I think IntelliJ bundles JDK with it). That would be the simplest option.\r\n\r\nYou need at least the GraalPython home directory, which contains Python standard library and other files necessary for GraalPython to run any meaningful program.\r\n\r\nMoreover, if you want to run in JVM mode, then you need to run on GraalVM, other JDKs are not supported. In theory you could perhaps hack it somehow to run GraalPython on stock JDK with JVMCI, like it is possible with JavaScript [0], but it is going to be much more complicated with GraalPython.\r\n\r\nIn theory, you can bundle GraalPython home directory into your application by providing custom filesystem implementation [1].\r\n\r\n[0] https://www.graalvm.org/reference-manual/js/RunOnJDK/\r\n\r\n[1] https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/io/FileSystem.html\r\n\r\n\r\n  [1]: https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\r\n  [2]: https://www.graalvm.org/latest/reference-manual/python","title":"Bundle GraalVM engine and graalpython with Java application","body":"<p>Starting from version 23.1, all GraalVM additional languages can now be easily embedded in Java, including non-Graal JDKs (but with caveats!) by using Maven artifacts published on Mavencentral. Those artifacts embed and transparently on-demand extract the necessary files.</p>\n<p>With regards to native-image, the languages now behave just like any other Java library that supports native-image. There are no extra options necessary for native-image, just put the relevant jars on modulepath (preferably) or classpath.</p>\n<p>So embedding GraalPy in Java is as simple as adding this to pom.xml (or equivalent code for the build system of your choice):</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt;\n            &lt;artifactId&gt;polyglot&lt;/artifactId&gt;\n            &lt;version&gt;23.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt;\n            &lt;artifactId&gt;python-community&lt;/artifactId&gt;\n            &lt;version&gt;23.1.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>To generate native-image, one can use the <a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\" rel=\"nofollow noreferrer\">Maven plugin for native-image</a>.</p>\n<p>More <a href=\"https://www.graalvm.org/latest/reference-manual/python\" rel=\"nofollow noreferrer\">GraalPy documentation</a>.</p>\n<hr />\n<p>Old answer applicable to versions &lt; 23.1</p>\n<p>I think you can bundle whole GraalVM distribution with your application, like some other applications do with normal JDKs (e.g., I think IntelliJ bundles JDK with it). That would be the simplest option.</p>\n<p>You need at least the GraalPython home directory, which contains Python standard library and other files necessary for GraalPython to run any meaningful program.</p>\n<p>Moreover, if you want to run in JVM mode, then you need to run on GraalVM, other JDKs are not supported. In theory you could perhaps hack it somehow to run GraalPython on stock JDK with JVMCI, like it is possible with JavaScript [0], but it is going to be much more complicated with GraalPython.</p>\n<p>In theory, you can bundle GraalPython home directory into your application by providing custom filesystem implementation <a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\" rel=\"nofollow noreferrer\">1</a>.</p>\n<p>[0] <a href=\"https://www.graalvm.org/reference-manual/js/RunOnJDK/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/reference-manual/js/RunOnJDK/</a></p>\n<p><a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/io/FileSystem.html\" rel=\"nofollow noreferrer\">https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/io/FileSystem.html</a></p>\n"}],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695627359,"creation_date":1626434799,"question_id":68408222,"body_markdown":"There is a way to run Python scripts that uses packages from Java using GraalVM and its Python module `graalpython`. Here is example https://github.com/paulvi/graalpython-java-template\r\n\r\nI wonder if it is possible to bundle GraalVM engine and `graalpython` into my Java application and produce jar or native image (e.g. using native image compiler from GraalVM project ) ?","title":"Bundle GraalVM engine and graalpython with Java application","body":"<p>There is a way to run Python scripts that uses packages from Java using GraalVM and its Python module <code>graalpython</code>. Here is example <a href=\"https://github.com/paulvi/graalpython-java-template\" rel=\"nofollow noreferrer\">https://github.com/paulvi/graalpython-java-template</a></p>\n<p>I wonder if it is possible to bundle GraalVM engine and <code>graalpython</code> into my Java application and produce jar or native image (e.g. using native image compiler from GraalVM project ) ?</p>\n"},{"tags":["java","maven","pdf","itext","flying-saucer"],"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1695717267,"post_id":77170646,"comment_id":136058279,"body_markdown":"Why do you use the oldest version? Did you set your classpath right, so that the jar could be found?","body":"Why do you use the oldest version? Did you set your classpath right, so that the jar could be found?"},{"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"score":0,"creation_date":1695724958,"post_id":77170646,"comment_id":136059825,"body_markdown":"I get the same error with latest version 9.2.2 (https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.2.2)","body":"I get the same error with latest version 9.2.2 (<a href=\"https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.2.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.xhtmlrenderer/&hellip;</a>)"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1695726394,"post_id":77170646,"comment_id":136060110,"body_markdown":"https://stackoverflow.com/questions/35930872/java-generate-a-pdf-with-flying-saucer","body":"<a href=\"https://stackoverflow.com/questions/35930872/java-generate-a-pdf-with-flying-saucer\" title=\"java generate a pdf with flying saucer\">stackoverflow.com/questions/35930872/&hellip;</a>"}],"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695627311,"creation_date":1695627311,"question_id":77170646,"body_markdown":"Here is the code I am using to generate a PDF using &quot;Flying Saucer&quot;. I downloaded the jar from https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.0.1 and included it in the maven pom file, but it does not work.&#160;To test, I downloaded the jar manually and added it to intellij IDE as an external library, but it still does not work.&#160;The following error appears&#160;\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/xhtmlrenderer/extend/UserAgentCallback\r\n\tat PDFGen.main(PDFGen.java:14)\r\nCaused by: java.lang.ClassNotFoundException: org.xhtmlrenderer.extend.UserAgentCallback\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n\r\n  \r\n\r\n    import org.xhtmlrenderer.pdf.ITextRenderer;\r\n    \r\n    import java.io.FileOutputStream;\r\n    \r\n        public class PDFGen {\r\n            public static void main(String[] args) {\r\n                try {\r\n                    String url = https://en.wikipedia.org/wiki/IPhone&quot;;\r\n                    String pdfFilePath = &quot;output.pdf&quot;;\r\n        \r\n                    ITextRenderer renderer = new ITextRenderer();\r\n        \r\n                    renderer.setDocument(url);\r\n        \r\n                    // Render the HTML to PDF\r\n                    renderer.layout();\r\n                    renderer.createPDF(new FileOutputStream(pdfFilePath));\r\n        \r\n                    System.out.println(&quot;PDF generated successfully.&quot;);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nMaven\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flying-saucer-pdf-itext5&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan anyone tell me what are dependency that I should use in order to use Flying Saucer(convert HTML to PDF)?","title":"Create a PDF file from HTML specified via URL using Flying Saucer","body":"<p>Here is the code I am using to generate a PDF using &quot;Flying Saucer&quot;. I downloaded the jar from <a href=\"https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.0.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-itext5/9.0.1</a> and included it in the maven pom file, but it does not work. To test, I downloaded the jar manually and added it to intellij IDE as an external library, but it still does not work. The following error appears </p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/xhtmlrenderer/extend/UserAgentCallback\nat PDFGen.main(PDFGen.java:14)\nCaused by: java.lang.ClassNotFoundException: org.xhtmlrenderer.extend.UserAgentCallback\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 1 more</p>\n<pre><code>import org.xhtmlrenderer.pdf.ITextRenderer;\n\nimport java.io.FileOutputStream;\n\n    public class PDFGen {\n        public static void main(String[] args) {\n            try {\n                String url = https://en.wikipedia.org/wiki/IPhone&quot;;\n                String pdfFilePath = &quot;output.pdf&quot;;\n    \n                ITextRenderer renderer = new ITextRenderer();\n    \n                renderer.setDocument(url);\n    \n                // Render the HTML to PDF\n                renderer.layout();\n                renderer.createPDF(new FileOutputStream(pdfFilePath));\n    \n                System.out.println(&quot;PDF generated successfully.&quot;);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>Maven</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n    &lt;artifactId&gt;flying-saucer-pdf-itext5&lt;/artifactId&gt;\n    &lt;version&gt;9.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Can anyone tell me what are dependency that I should use in order to use Flying Saucer(convert HTML to PDF)?</p>\n"},{"tags":["java","graphviz"],"comments":[{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1508083725,"post_id":26481910,"comment_id":80459474,"body_markdown":"VTC – this is a software recommendation question.","body":"VTC – this is a software recommendation question."}],"answers":[{"comments":[{"owner":{"account_id":4328390,"reputation":131,"user_id":3534517,"accept_rate":75,"display_name":"user3534517"},"score":0,"creation_date":1413881294,"post_id":26482170,"comment_id":41600440,"body_markdown":"Does it require any jar file to configure in the buildpath?","body":"Does it require any jar file to configure in the buildpath?"},{"owner":{"account_id":111474,"reputation":479,"user_id":294458,"accept_rate":86,"display_name":"seteropere"},"score":0,"creation_date":1413881401,"post_id":26482170,"comment_id":41600493,"body_markdown":"No. Just follow the documents and see the example.. didn&#39;t take 5 mins from me to have it running and get the PDF of the dot graph. I used it a while ago (1 year or so).","body":"No. Just follow the documents and see the example.. didn&#39;t take 5 mins from me to have it running and get the PDF of the dot graph. I used it a while ago (1 year or so)."},{"owner":{"account_id":4328390,"reputation":131,"user_id":3534517,"accept_rate":75,"display_name":"user3534517"},"score":0,"creation_date":1413889844,"post_id":26482170,"comment_id":41604917,"body_markdown":"Do we need to have GraphViz software to be installed in the system","body":"Do we need to have GraphViz software to be installed in the system"},{"owner":{"account_id":111474,"reputation":479,"user_id":294458,"accept_rate":86,"display_name":"seteropere"},"score":0,"creation_date":1464245607,"post_id":26482170,"comment_id":62407648,"body_markdown":"@user3534517 Yes. the API is just a Wrapper class to invoke the native Graphviz software","body":"@user3534517 Yes. the API is just a Wrapper class to invoke the native Graphviz software"}],"tags":[],"owner":{"account_id":111474,"reputation":479,"user_id":294458,"accept_rate":86,"display_name":"seteropere"},"comment_count":4,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1464246400,"creation_date":1413880170,"answer_id":26482170,"question_id":26481910,"body_markdown":"Check [this][1] API, It is simple and has several output format (i.e. pdf gif ..etc).\r\n\r\n\r\n  [1]: http://www.loria.fr/~szathmar/off/projects/java/GraphVizAPI/index.php\r\n\r\n**EDIT May 2016:** \r\nAs many commented that the API is not available anymore; Here its source code:\r\n\r\nFirst there is `config.properties` file that you need to create and copy paste the following:\r\n\r\n    ##############################################################\r\n    #                    Linux Configurations                    #\r\n    ##############################################################\r\n    # The dir. where temporary files will be created.\r\n    tempDirForLinux = /tmp\r\n    # Where is your dot program located? It will be called externally.\r\n    dotForLinux = /usr/bin/dot\r\n    \r\n    ##############################################################\r\n    #                   Windows Configurations                   #\r\n    ##############################################################\r\n    # The dir. where temporary files will be created.\r\n    tempDirForWindows = c:/temp\r\n    # Where is your dot program located? It will be called externally.\r\n    dotForWindows = &quot;c:/Program Files (x86)/Graphviz 2.28/bin/dot.exe&quot;\r\n    \r\n    ##############################################################\r\n    #                    Mac Configurations                      #\r\n    ##############################################################\r\n    # The dir. where temporary files will be created.\r\n    tempDirForMacOSX = /tmp\r\n    # Where is your dot program located? It will be called externally.\r\n    dotForMacOSX = /usr/local/bin/dot\r\n\r\nThen Graphviz.java source code\r\n\r\n\r\n\r\n    // GraphViz.java - a simple API to call dot from Java programs\r\n    \r\n    /*$Id$*/\r\n    /*\r\n     ******************************************************************************\r\n     *                                                                            *\r\n     *                    (c) Copyright Laszlo Szathmary                          *\r\n     *                                                                            *\r\n     * This program is free software; you can redistribute it and/or modify it    *\r\n     * under the terms of the GNU Lesser General Public License as published by   *\r\n     * the Free Software Foundation; either version 2.1 of the License, or        *\r\n     * (at your option) any later version.                                        *\r\n     *                                                                            *\r\n     * This program is distributed in the hope that it will be useful, but        *\r\n     * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY *\r\n     * or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public    *\r\n     * License for more details.                                                  *\r\n     *                                                                            *\r\n     * You should have received a copy of the GNU Lesser General Public License   *\r\n     * along with this program; if not, write to the Free Software Foundation,    *\r\n     * Inc., 675 Mass Ave, Cambridge, MA 02139, USA.                              *\r\n     *                                                                            *\r\n     ******************************************************************************\r\n     */\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.DataInputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileWriter;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Properties;\r\n    \r\n    /**\r\n     * &lt;dl&gt;\r\n     * &lt;dt&gt;Purpose: GraphViz Java API\r\n     * &lt;dd&gt;\r\n     *\r\n     * &lt;dt&gt;Description:\r\n     * &lt;dd&gt; With this Java class you can simply call dot\r\n     *      from your Java programs.\r\n     * &lt;dt&gt;Example usage:\r\n     * &lt;dd&gt;\r\n     * &lt;pre&gt;\r\n     *    GraphViz gv = new GraphViz();\r\n     *    gv.addln(gv.start_graph());\r\n     *    gv.addln(&quot;A -&gt; B;&quot;);\r\n     *    gv.addln(&quot;A -&gt; C;&quot;);\r\n     *    gv.addln(gv.end_graph());\r\n     *    System.out.println(gv.getDotSource());\r\n     *\r\n     *    String type = &quot;gif&quot;;\r\n     *    File out = new File(&quot;out.&quot; + type);   // out.gif in this example\r\n     *    gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), type ), out );\r\n     * &lt;/pre&gt;\r\n     * &lt;/dd&gt;\r\n     *\r\n     * &lt;/dl&gt;\r\n     *\r\n     * @version v0.5.1, 2013/03/18 (March) -- Patch of Juan Hoyos (Mac support)\r\n     * @version v0.5, 2012/04/24 (April) -- Patch of Abdur Rahman (OS detection + start subgraph + \r\n     * read config file)\r\n     * @version v0.4, 2011/02/05 (February) -- Patch of Keheliya Gallaba is added. Now you\r\n     * can specify the type of the output file: gif, dot, fig, pdf, ps, svg, png, etc.\r\n     * @version v0.3, 2010/11/29 (November) -- Windows support + ability to read the graph from a text file\r\n     * @version v0.2, 2010/07/22 (July) -- bug fix\r\n     * @version v0.1, 2003/12/04 (December) -- first release\r\n     * @author  Laszlo Szathmary (&lt;a href=&quot;jabba.laci@gmail.com&quot;&gt;jabba.laci@gmail.com&lt;/a&gt;)\r\n     */\r\n    public class GraphViz\r\n    {\r\n    \t/**\r\n    \t * Detects the client&#39;s operating system.\r\n    \t */\r\n    \tprivate final static String osName = System.getProperty(&quot;os.name&quot;).replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n    \t\r\n    \t/**\r\n    \t * Load the config.properties file.\r\n    \t */\r\n    \tprivate final static String cfgProp = &quot;/Users/seteropere/NetBeansProjects/TestApplication/src/config.properties&quot;;\r\n    \tprivate final static Properties configFile = new Properties() {\r\n    \t\tprivate final static long serialVersionUID = 1L; {\r\n    \t\t\ttry {\r\n    \t\t\t\tload(new FileInputStream(cfgProp));\r\n    \t\t\t} catch (Exception e) {}\r\n    \t\t}\r\n    \t};\r\n    \r\n    \t/**\r\n    \t * The dir. where temporary files will be created.\r\n    \t */\r\n      private static String TEMP_DIR = &quot;/Users/seteropere/NetBeansProjects/TestApplication&quot;;\r\n    \t\t\t\r\n    \t/**\r\n    \t * Where is your dot program located? It will be called externally.\r\n    \t */\r\n      private static String DOT = configFile.getProperty(&quot;dotFor&quot; + osName);\r\n    \t\r\n    \t/**\r\n    \t * The image size in dpi. 96 dpi is normal size. Higher values are 10% higher each.\r\n    \t * Lower values 10% lower each.\r\n    \t * \r\n    \t * dpi patch by Peter Mueller\r\n    \t */\r\n    \tprivate int[] dpiSizes = {46, 51, 57, 63, 70, 78, 86, 96, 106, 116, 128, 141, 155, 170, 187, 206, 226, 249};\r\n    \r\n    \t/**\r\n    \t * Define the index in the image size array.\r\n    \t */\r\n    \tprivate int currentDpiPos = 7;\r\n    \r\n    \t/**\r\n    \t * Increase the image size (dpi).\r\n    \t */\r\n    \tpublic void increaseDpi() {\r\n    \t\tif ( this.currentDpiPos &lt; (this.dpiSizes.length - 1) ) {\r\n    \t\t\t++this.currentDpiPos;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Decrease the image size (dpi).\r\n    \t */\r\n    \tpublic void decreaseDpi() {\r\n    \t\tif (this.currentDpiPos &gt; 0) {\r\n    \t\t\t--this.currentDpiPos;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic int getImageDpi() {\r\n    \t\treturn this.dpiSizes[this.currentDpiPos];\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * The source of the graph written in dot language.\r\n    \t */\r\n    \tprivate StringBuilder graph = new StringBuilder();\r\n    \r\n    \t/**\r\n    \t * Constructor: creates a new GraphViz object that will contain\r\n    \t * a graph.\r\n    \t */\r\n    \tpublic GraphViz() {\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns the graph&#39;s source description in dot language.\r\n    \t * @return Source of the graph in dot language.\r\n    \t */\r\n    \tpublic String getDotSource() {\r\n    \t\treturn this.graph.toString();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Adds a string to the graph&#39;s source (without newline).\r\n    \t */\r\n    \tpublic void add(String line) {\r\n    \t\tthis.graph.append(line);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Adds a string to the graph&#39;s source (with newline).\r\n    \t */\r\n    \tpublic void addln(String line) {\r\n    \t\tthis.graph.append(line + &quot;\\n&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Adds a newline to the graph&#39;s source.\r\n    \t */\r\n    \tpublic void addln() {\r\n    \t\tthis.graph.append(&#39;\\n&#39;);\r\n    \t}\r\n    \r\n    \tpublic void clearGraph(){\r\n    \t\tthis.graph = new StringBuilder();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns the graph as an image in binary format.\r\n    \t * @param dot_source Source of the graph to be drawn.\r\n    \t * @param type Type of the output image to be produced, e.g.: gif, dot, fig, pdf, ps, svg, png.\r\n    \t * @return A byte array containing the image of the graph.\r\n    \t */\r\n    \tpublic byte[] getGraph(String dot_source, String type)\r\n    \t{\r\n    \t\tFile dot;\r\n    \t\tbyte[] img_stream = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\tdot = writeDotSourceToFile(dot_source);\r\n    \t\t\tif (dot != null)\r\n    \t\t\t{\r\n    \t\t\t\timg_stream = get_img_stream(dot, type);\r\n    \t\t\t\tif (dot.delete() == false) \r\n    \t\t\t\t\tSystem.err.println(&quot;Warning: &quot; + dot.getAbsolutePath() + &quot; could not be deleted!&quot;);\r\n    \t\t\t\treturn img_stream;\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t} catch (java.io.IOException ioe) { return null; }\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Writes the graph&#39;s image in a file.\r\n    \t * @param img   A byte array containing the image of the graph.\r\n    \t * @param file  Name of the file to where we want to write.\r\n    \t * @return Success: 1, Failure: -1\r\n    \t */\r\n    \tpublic int writeGraphToFile(byte[] img, String file)\r\n    \t{\r\n    \t\tFile to = new File(file);\r\n    \t\treturn writeGraphToFile(img, to);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Writes the graph&#39;s image in a file.\r\n    \t * @param img   A byte array containing the image of the graph.\r\n    \t * @param to    A File object to where we want to write.\r\n    \t * @return Success: 1, Failure: -1\r\n    \t */\r\n    \tpublic int writeGraphToFile(byte[] img, File to)\r\n    \t{\r\n    \t\ttry {\r\n    \t\t\tFileOutputStream fos = new FileOutputStream(to);\r\n    \t\t\tfos.write(img);\r\n    \t\t\tfos.close();\r\n    \t\t} catch (java.io.IOException ioe) { return -1; }\r\n    \t\treturn 1;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * It will call the external dot program, and return the image in\r\n    \t * binary format.\r\n    \t * @param dot Source of the graph (in dot language).\r\n    \t * @param type Type of the output image to be produced, e.g.: gif, dot, fig, pdf, ps, svg, png.\r\n    \t * @return The image of the graph in .gif format.\r\n    \t */\r\n    \tprivate byte[] get_img_stream(File dot, String type)\r\n    \t{\r\n    \t\tFile img;\r\n    \t\tbyte[] img_stream = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\timg = File.createTempFile(&quot;graph_&quot;, &quot;.&quot;+type, new File(GraphViz.TEMP_DIR));\r\n    \t\t\tRuntime rt = Runtime.getRuntime();\r\n    \r\n    \t\t\t// patch by Mike Chenault\r\n    \t\t\tString[] args = {DOT, &quot;-T&quot;+type, &quot;-Gdpi=&quot;+dpiSizes[this.currentDpiPos], dot.getAbsolutePath(), &quot;-o&quot;, img.getAbsolutePath()};\r\n    \t\t\tProcess p = rt.exec(args);\r\n    \r\n    \t\t\tp.waitFor();\r\n    \r\n    \t\t\tFileInputStream in = new FileInputStream(img.getAbsolutePath());\r\n    \t\t\timg_stream = new byte[in.available()];\r\n    \t\t\tin.read(img_stream);\r\n    \t\t\t// Close it if we need to\r\n    \t\t\tif( in != null ) in.close();\r\n    \r\n    \t\t\tif (img.delete() == false) \r\n    \t\t\t\tSystem.err.println(&quot;Warning: &quot; + img.getAbsolutePath() + &quot; could not be deleted!&quot;);\r\n    \t\t}\r\n    \t\tcatch (java.io.IOException ioe) {\r\n    \t\t\tSystem.err.println(&quot;Error:    in I/O processing of tempfile in dir &quot; + GraphViz.TEMP_DIR+&quot;\\n&quot;);\r\n    \t\t\tSystem.err.println(&quot;       or in calling external command&quot;);\r\n    \t\t\tioe.printStackTrace();\r\n    \t\t}\r\n    \t\tcatch (java.lang.InterruptedException ie) {\r\n    \t\t\tSystem.err.println(&quot;Error: the execution of the external program was interrupted&quot;);\r\n    \t\t\tie.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\treturn img_stream;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Writes the source of the graph in a file, and returns the written file\r\n    \t * as a File object.\r\n    \t * @param str Source of the graph (in dot language).\r\n    \t * @return The file (as a File object) that contains the source of the graph.\r\n    \t */\r\n    \tprivate File writeDotSourceToFile(String str) throws java.io.IOException\r\n    \t{\r\n    \t\tFile temp;\r\n    \t\ttry {\r\n    \t\t\ttemp = File.createTempFile(&quot;dorrr&quot;,&quot;.dot&quot;, new File(GraphViz.TEMP_DIR));\r\n    \t\t\tFileWriter fout = new FileWriter(temp);\r\n    \t\t\tfout.write(str);\r\n                           BufferedWriter br=new BufferedWriter(new FileWriter(&quot;dotsource.dot&quot;));\r\n                           br.write(str);\r\n                           br.flush();\r\n                           br.close();\r\n    \t\t\tfout.close();\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\tSystem.err.println(&quot;Error: I/O error while writing the dot source to temp file!&quot;);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn temp;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a string that is used to start a graph.\r\n    \t * @return A string to open a graph.\r\n    \t */\r\n    \tpublic String start_graph() {\r\n    \t\treturn &quot;digraph G {&quot;;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a string that is used to end a graph.\r\n    \t * @return A string to close a graph.\r\n    \t */\r\n    \tpublic String end_graph() {\r\n    \t\treturn &quot;}&quot;;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Takes the cluster or subgraph id as input parameter and returns a string\r\n    \t * that is used to start a subgraph.\r\n    \t * @return A string to open a subgraph.\r\n    \t */\r\n    \tpublic String start_subgraph(int clusterid) {\r\n    \t\treturn &quot;subgraph cluster_&quot; + clusterid + &quot; {&quot;;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a string that is used to end a graph.\r\n    \t * @return A string to close a graph.\r\n    \t */\r\n        public String end_subgraph() {\r\n    \t\treturn &quot;}&quot;;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Read a DOT graph from a text file.\r\n    \t * \r\n    \t * @param input Input text file containing the DOT graph\r\n    \t * source.\r\n    \t */\r\n    \tpublic void readSource(String input)\r\n    \t{\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tFileInputStream fis = new FileInputStream(input);\r\n    \t\t\tDataInputStream dis = new DataInputStream(fis);\r\n    \t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(dis));\r\n    \t\t\tString line;\r\n    \t\t\twhile ((line = br.readLine()) != null) {\r\n    \t\t\t\tsb.append(line);\r\n    \t\t\t}\r\n    \t\t\tdis.close();\r\n    \t\t} \r\n    \t\tcatch (Exception e) {\r\n    \t\t\tSystem.err.println(&quot;Error: &quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\tthis.graph = sb;\r\n    \t}\r\n    \r\n    } // end of class GraphViz\r\n\r\nAn example is:\r\n\r\n    public static void createDotGraph(String dotFormat,String fileName)\r\n    {\r\n        GraphViz gv=new GraphViz();\r\n        gv.addln(gv.start_graph());\r\n        gv.add(dotFormat);\r\n        gv.addln(gv.end_graph());\r\n       // String type = &quot;gif&quot;;\r\n        String type = &quot;pdf&quot;;\r\n      // gv.increaseDpi();\r\n        gv.decreaseDpi();\r\n        gv.decreaseDpi();\r\n        File out = new File(fileName+&quot;.&quot;+ type); \r\n        gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), type ), out );\r\n    }\r\n\r\nInvoking it like this: \r\n\r\n        public static void main(String[] args) throws Exception {\r\n            String dotFormat=&quot;1-&gt;2;1-&gt;3;1-&gt;4;4-&gt;5;4-&gt;6;6-&gt;7;5-&gt;7;3-&gt;8;3-&gt;6;8-&gt;7;2-&gt;8;2-&gt;5;&quot;;\r\n            createDotGraph(dotFormat, &quot;DotGraph&quot;);\r\n     }\r\n\r\nwhich will create `dotsource.dot` and `DotGraph.pdf` representing a cubic graph in the directory you specified. Remember: you just need to change the values of two parameters in the code: `cfgProp` and `TEMP_DIR`. \r\n\r\n Hope that helps.  ","title":"How to call GraphViz from java","body":"<p>Check <a href=\"http://www.loria.fr/~szathmar/off/projects/java/GraphVizAPI/index.php\" rel=\"noreferrer\">this</a> API, It is simple and has several output format (i.e. pdf gif ..etc).</p>\n\n<p><strong>EDIT May 2016:</strong> \nAs many commented that the API is not available anymore; Here its source code:</p>\n\n<p>First there is <code>config.properties</code> file that you need to create and copy paste the following:</p>\n\n<pre><code>##############################################################\n#                    Linux Configurations                    #\n##############################################################\n# The dir. where temporary files will be created.\ntempDirForLinux = /tmp\n# Where is your dot program located? It will be called externally.\ndotForLinux = /usr/bin/dot\n\n##############################################################\n#                   Windows Configurations                   #\n##############################################################\n# The dir. where temporary files will be created.\ntempDirForWindows = c:/temp\n# Where is your dot program located? It will be called externally.\ndotForWindows = \"c:/Program Files (x86)/Graphviz 2.28/bin/dot.exe\"\n\n##############################################################\n#                    Mac Configurations                      #\n##############################################################\n# The dir. where temporary files will be created.\ntempDirForMacOSX = /tmp\n# Where is your dot program located? It will be called externally.\ndotForMacOSX = /usr/local/bin/dot\n</code></pre>\n\n<p>Then Graphviz.java source code</p>\n\n<pre><code>// GraphViz.java - a simple API to call dot from Java programs\n\n/*$Id$*/\n/*\n ******************************************************************************\n *                                                                            *\n *                    (c) Copyright Laszlo Szathmary                          *\n *                                                                            *\n * This program is free software; you can redistribute it and/or modify it    *\n * under the terms of the GNU Lesser General Public License as published by   *\n * the Free Software Foundation; either version 2.1 of the License, or        *\n * (at your option) any later version.                                        *\n *                                                                            *\n * This program is distributed in the hope that it will be useful, but        *\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY *\n * or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public    *\n * License for more details.                                                  *\n *                                                                            *\n * You should have received a copy of the GNU Lesser General Public License   *\n * along with this program; if not, write to the Free Software Foundation,    *\n * Inc., 675 Mass Ave, Cambridge, MA 02139, USA.                              *\n *                                                                            *\n ******************************************************************************\n */\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.DataInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.FileWriter;\nimport java.io.InputStreamReader;\nimport java.util.Properties;\n\n/**\n * &lt;dl&gt;\n * &lt;dt&gt;Purpose: GraphViz Java API\n * &lt;dd&gt;\n *\n * &lt;dt&gt;Description:\n * &lt;dd&gt; With this Java class you can simply call dot\n *      from your Java programs.\n * &lt;dt&gt;Example usage:\n * &lt;dd&gt;\n * &lt;pre&gt;\n *    GraphViz gv = new GraphViz();\n *    gv.addln(gv.start_graph());\n *    gv.addln(\"A -&gt; B;\");\n *    gv.addln(\"A -&gt; C;\");\n *    gv.addln(gv.end_graph());\n *    System.out.println(gv.getDotSource());\n *\n *    String type = \"gif\";\n *    File out = new File(\"out.\" + type);   // out.gif in this example\n *    gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), type ), out );\n * &lt;/pre&gt;\n * &lt;/dd&gt;\n *\n * &lt;/dl&gt;\n *\n * @version v0.5.1, 2013/03/18 (March) -- Patch of Juan Hoyos (Mac support)\n * @version v0.5, 2012/04/24 (April) -- Patch of Abdur Rahman (OS detection + start subgraph + \n * read config file)\n * @version v0.4, 2011/02/05 (February) -- Patch of Keheliya Gallaba is added. Now you\n * can specify the type of the output file: gif, dot, fig, pdf, ps, svg, png, etc.\n * @version v0.3, 2010/11/29 (November) -- Windows support + ability to read the graph from a text file\n * @version v0.2, 2010/07/22 (July) -- bug fix\n * @version v0.1, 2003/12/04 (December) -- first release\n * @author  Laszlo Szathmary (&lt;a href=\"jabba.laci@gmail.com\"&gt;jabba.laci@gmail.com&lt;/a&gt;)\n */\npublic class GraphViz\n{\n    /**\n     * Detects the client's operating system.\n     */\n    private final static String osName = System.getProperty(\"os.name\").replaceAll(\"\\\\s\",\"\");\n\n    /**\n     * Load the config.properties file.\n     */\n    private final static String cfgProp = \"/Users/seteropere/NetBeansProjects/TestApplication/src/config.properties\";\n    private final static Properties configFile = new Properties() {\n        private final static long serialVersionUID = 1L; {\n            try {\n                load(new FileInputStream(cfgProp));\n            } catch (Exception e) {}\n        }\n    };\n\n    /**\n     * The dir. where temporary files will be created.\n     */\n  private static String TEMP_DIR = \"/Users/seteropere/NetBeansProjects/TestApplication\";\n\n    /**\n     * Where is your dot program located? It will be called externally.\n     */\n  private static String DOT = configFile.getProperty(\"dotFor\" + osName);\n\n    /**\n     * The image size in dpi. 96 dpi is normal size. Higher values are 10% higher each.\n     * Lower values 10% lower each.\n     * \n     * dpi patch by Peter Mueller\n     */\n    private int[] dpiSizes = {46, 51, 57, 63, 70, 78, 86, 96, 106, 116, 128, 141, 155, 170, 187, 206, 226, 249};\n\n    /**\n     * Define the index in the image size array.\n     */\n    private int currentDpiPos = 7;\n\n    /**\n     * Increase the image size (dpi).\n     */\n    public void increaseDpi() {\n        if ( this.currentDpiPos &lt; (this.dpiSizes.length - 1) ) {\n            ++this.currentDpiPos;\n        }\n    }\n\n    /**\n     * Decrease the image size (dpi).\n     */\n    public void decreaseDpi() {\n        if (this.currentDpiPos &gt; 0) {\n            --this.currentDpiPos;\n        }\n    }\n\n    public int getImageDpi() {\n        return this.dpiSizes[this.currentDpiPos];\n    }\n\n    /**\n     * The source of the graph written in dot language.\n     */\n    private StringBuilder graph = new StringBuilder();\n\n    /**\n     * Constructor: creates a new GraphViz object that will contain\n     * a graph.\n     */\n    public GraphViz() {\n    }\n\n    /**\n     * Returns the graph's source description in dot language.\n     * @return Source of the graph in dot language.\n     */\n    public String getDotSource() {\n        return this.graph.toString();\n    }\n\n    /**\n     * Adds a string to the graph's source (without newline).\n     */\n    public void add(String line) {\n        this.graph.append(line);\n    }\n\n    /**\n     * Adds a string to the graph's source (with newline).\n     */\n    public void addln(String line) {\n        this.graph.append(line + \"\\n\");\n    }\n\n    /**\n     * Adds a newline to the graph's source.\n     */\n    public void addln() {\n        this.graph.append('\\n');\n    }\n\n    public void clearGraph(){\n        this.graph = new StringBuilder();\n    }\n\n    /**\n     * Returns the graph as an image in binary format.\n     * @param dot_source Source of the graph to be drawn.\n     * @param type Type of the output image to be produced, e.g.: gif, dot, fig, pdf, ps, svg, png.\n     * @return A byte array containing the image of the graph.\n     */\n    public byte[] getGraph(String dot_source, String type)\n    {\n        File dot;\n        byte[] img_stream = null;\n\n        try {\n            dot = writeDotSourceToFile(dot_source);\n            if (dot != null)\n            {\n                img_stream = get_img_stream(dot, type);\n                if (dot.delete() == false) \n                    System.err.println(\"Warning: \" + dot.getAbsolutePath() + \" could not be deleted!\");\n                return img_stream;\n            }\n            return null;\n        } catch (java.io.IOException ioe) { return null; }\n    }\n\n    /**\n     * Writes the graph's image in a file.\n     * @param img   A byte array containing the image of the graph.\n     * @param file  Name of the file to where we want to write.\n     * @return Success: 1, Failure: -1\n     */\n    public int writeGraphToFile(byte[] img, String file)\n    {\n        File to = new File(file);\n        return writeGraphToFile(img, to);\n    }\n\n    /**\n     * Writes the graph's image in a file.\n     * @param img   A byte array containing the image of the graph.\n     * @param to    A File object to where we want to write.\n     * @return Success: 1, Failure: -1\n     */\n    public int writeGraphToFile(byte[] img, File to)\n    {\n        try {\n            FileOutputStream fos = new FileOutputStream(to);\n            fos.write(img);\n            fos.close();\n        } catch (java.io.IOException ioe) { return -1; }\n        return 1;\n    }\n\n    /**\n     * It will call the external dot program, and return the image in\n     * binary format.\n     * @param dot Source of the graph (in dot language).\n     * @param type Type of the output image to be produced, e.g.: gif, dot, fig, pdf, ps, svg, png.\n     * @return The image of the graph in .gif format.\n     */\n    private byte[] get_img_stream(File dot, String type)\n    {\n        File img;\n        byte[] img_stream = null;\n\n        try {\n            img = File.createTempFile(\"graph_\", \".\"+type, new File(GraphViz.TEMP_DIR));\n            Runtime rt = Runtime.getRuntime();\n\n            // patch by Mike Chenault\n            String[] args = {DOT, \"-T\"+type, \"-Gdpi=\"+dpiSizes[this.currentDpiPos], dot.getAbsolutePath(), \"-o\", img.getAbsolutePath()};\n            Process p = rt.exec(args);\n\n            p.waitFor();\n\n            FileInputStream in = new FileInputStream(img.getAbsolutePath());\n            img_stream = new byte[in.available()];\n            in.read(img_stream);\n            // Close it if we need to\n            if( in != null ) in.close();\n\n            if (img.delete() == false) \n                System.err.println(\"Warning: \" + img.getAbsolutePath() + \" could not be deleted!\");\n        }\n        catch (java.io.IOException ioe) {\n            System.err.println(\"Error:    in I/O processing of tempfile in dir \" + GraphViz.TEMP_DIR+\"\\n\");\n            System.err.println(\"       or in calling external command\");\n            ioe.printStackTrace();\n        }\n        catch (java.lang.InterruptedException ie) {\n            System.err.println(\"Error: the execution of the external program was interrupted\");\n            ie.printStackTrace();\n        }\n\n        return img_stream;\n    }\n\n    /**\n     * Writes the source of the graph in a file, and returns the written file\n     * as a File object.\n     * @param str Source of the graph (in dot language).\n     * @return The file (as a File object) that contains the source of the graph.\n     */\n    private File writeDotSourceToFile(String str) throws java.io.IOException\n    {\n        File temp;\n        try {\n            temp = File.createTempFile(\"dorrr\",\".dot\", new File(GraphViz.TEMP_DIR));\n            FileWriter fout = new FileWriter(temp);\n            fout.write(str);\n                       BufferedWriter br=new BufferedWriter(new FileWriter(\"dotsource.dot\"));\n                       br.write(str);\n                       br.flush();\n                       br.close();\n            fout.close();\n        }\n        catch (Exception e) {\n            System.err.println(\"Error: I/O error while writing the dot source to temp file!\");\n            return null;\n        }\n        return temp;\n    }\n\n    /**\n     * Returns a string that is used to start a graph.\n     * @return A string to open a graph.\n     */\n    public String start_graph() {\n        return \"digraph G {\";\n    }\n\n    /**\n     * Returns a string that is used to end a graph.\n     * @return A string to close a graph.\n     */\n    public String end_graph() {\n        return \"}\";\n    }\n\n    /**\n     * Takes the cluster or subgraph id as input parameter and returns a string\n     * that is used to start a subgraph.\n     * @return A string to open a subgraph.\n     */\n    public String start_subgraph(int clusterid) {\n        return \"subgraph cluster_\" + clusterid + \" {\";\n    }\n\n    /**\n     * Returns a string that is used to end a graph.\n     * @return A string to close a graph.\n     */\n    public String end_subgraph() {\n        return \"}\";\n    }\n\n    /**\n     * Read a DOT graph from a text file.\n     * \n     * @param input Input text file containing the DOT graph\n     * source.\n     */\n    public void readSource(String input)\n    {\n        StringBuilder sb = new StringBuilder();\n\n        try\n        {\n            FileInputStream fis = new FileInputStream(input);\n            DataInputStream dis = new DataInputStream(fis);\n            BufferedReader br = new BufferedReader(new InputStreamReader(dis));\n            String line;\n            while ((line = br.readLine()) != null) {\n                sb.append(line);\n            }\n            dis.close();\n        } \n        catch (Exception e) {\n            System.err.println(\"Error: \" + e.getMessage());\n        }\n\n        this.graph = sb;\n    }\n\n} // end of class GraphViz\n</code></pre>\n\n<p>An example is:</p>\n\n<pre><code>public static void createDotGraph(String dotFormat,String fileName)\n{\n    GraphViz gv=new GraphViz();\n    gv.addln(gv.start_graph());\n    gv.add(dotFormat);\n    gv.addln(gv.end_graph());\n   // String type = \"gif\";\n    String type = \"pdf\";\n  // gv.increaseDpi();\n    gv.decreaseDpi();\n    gv.decreaseDpi();\n    File out = new File(fileName+\".\"+ type); \n    gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), type ), out );\n}\n</code></pre>\n\n<p>Invoking it like this: </p>\n\n<pre><code>    public static void main(String[] args) throws Exception {\n        String dotFormat=\"1-&gt;2;1-&gt;3;1-&gt;4;4-&gt;5;4-&gt;6;6-&gt;7;5-&gt;7;3-&gt;8;3-&gt;6;8-&gt;7;2-&gt;8;2-&gt;5;\";\n        createDotGraph(dotFormat, \"DotGraph\");\n }\n</code></pre>\n\n<p>which will create <code>dotsource.dot</code> and <code>DotGraph.pdf</code> representing a cubic graph in the directory you specified. Remember: you just need to change the values of two parameters in the code: <code>cfgProp</code> and <code>TEMP_DIR</code>. </p>\n\n<p>Hope that helps.  </p>\n"},{"comments":[{"owner":{"account_id":4328390,"reputation":131,"user_id":3534517,"accept_rate":75,"display_name":"user3534517"},"score":0,"creation_date":1413955000,"post_id":26497613,"comment_id":41633511,"body_markdown":"Could you please provide any example?","body":"Could you please provide any example?"},{"owner":{"account_id":2218872,"reputation":1186,"user_id":1958841,"display_name":"omerio"},"score":0,"creation_date":1413967861,"post_id":26497613,"comment_id":41638722,"body_markdown":"Assuming you are using the Graphviz Java API class linked above, I&#39;ve updated the answer with an example","body":"Assuming you are using the Graphviz Java API class linked above, I&#39;ve updated the answer with an example"},{"owner":{"account_id":4328390,"reputation":131,"user_id":3534517,"accept_rate":75,"display_name":"user3534517"},"score":0,"creation_date":1413971345,"post_id":26497613,"comment_id":41640468,"body_markdown":"In GraphViz java API class there is a variable DOT which specifies the location of the GraphViz software.What is the alternative if we dont want to install that GraphViz software","body":"In GraphViz java API class there is a variable DOT which specifies the location of the GraphViz software.What is the alternative if we dont want to install that GraphViz software"},{"owner":{"account_id":2218872,"reputation":1186,"user_id":1958841,"display_name":"omerio"},"score":0,"creation_date":1413972959,"post_id":26497613,"comment_id":41641275,"body_markdown":"As far as I know there are no alternatives, I&#39;ve been through this exercise last year and it seems no one has written a Java binary for dot. This is why I&#39;ve written the Graphviz Server (https://github.com/omerio/graphviz-server) such that all my apps can call a web service that returns the graph","body":"As far as I know there are no alternatives, I&#39;ve been through this exercise last year and it seems no one has written a Java binary for dot. This is why I&#39;ve written the Graphviz Server (<a href=\"https://github.com/omerio/graphviz-server\" rel=\"nofollow noreferrer\">github.com/omerio/graphviz-server</a>) such that all my apps can call a web service that returns the graph"},{"owner":{"account_id":4328390,"reputation":131,"user_id":3534517,"accept_rate":75,"display_name":"user3534517"},"score":1,"creation_date":1414131676,"post_id":26497613,"comment_id":41709062,"body_markdown":"Thanks for your suggestion,I have gone through that link and tried the simple example, I am getting digraph on the console,but I am getting an error &quot;Error:    in I/O processing of tempfile in dir /tmp&quot;.Could you please tell me the reason for getting that error.","body":"Thanks for your suggestion,I have gone through that link and tried the simple example, I am getting digraph on the console,but I am getting an error &quot;Error:    in I/O processing of tempfile in dir /tmp&quot;.Could you please tell me the reason for getting that error."},{"owner":{"account_id":2218872,"reputation":1186,"user_id":1958841,"display_name":"omerio"},"score":0,"creation_date":1414139574,"post_id":26497613,"comment_id":41712066,"body_markdown":"May be that directory /tmp doesn&#39;t exist on your system or you don&#39;t have permissions to it. Try pointing a directory that exist in your system. I hope this helps","body":"May be that directory /tmp doesn&#39;t exist on your system or you don&#39;t have permissions to it. Try pointing a directory that exist in your system. I hope this helps"},{"owner":{"account_id":2218872,"reputation":1186,"user_id":1958841,"display_name":"omerio"},"score":0,"creation_date":1442310066,"post_id":26497613,"comment_id":53019192,"body_markdown":"I&#39;ve updated the answer with the github repo for the Graphviz Java API","body":"I&#39;ve updated the answer with the github repo for the Graphviz Java API"}],"tags":[],"owner":{"account_id":2218872,"reputation":1186,"user_id":1958841,"display_name":"omerio"},"comment_count":7,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1556283292,"creation_date":1413931342,"answer_id":26497613,"question_id":26481910,"body_markdown":"I&#39;ve answered similar question here:\r\nhttps://stackoverflow.com/questions/3050056/calling-graphviz-dot-from-java/19829116#19829116\r\n\r\nYou can use the [Graphviz Java API][1] class which is a wrapper for Runtime.exec(), this is if you have the dot binaries on the same server as your Java App.\r\n\r\nIf you don&#39;t have dot installed on the server or if you are using an environment like Google AppEngine where you can&#39;t install dot binaries locally then you can use [Graphviz Server][2], a lightweight Java based HTTP server, you still need to install the dot binaries on the server on which you run Graphviz Server.\r\n\r\nThe following is a code example using the [Graphviz Java API][1] class\r\n\r\n    // graphTypeis one of: pdf, svg, png, etc...\r\n        \r\n    private static final String TEMP_PATH = &quot;/tmp/graph.&quot;;\r\n    \r\n    private File generateGraph(String dot, String graphType) {\r\n        \t\r\n   \t\tGraphViz gv = new GraphViz();\r\n   \t\tgv.readString(dot);\r\n        \t\t\r\n   \t\tFile out = new File(TEMP_PATH + graphType);   // Linux\r\n        \r\n   \t\tgv.writeGraphToFile( gv.getGraph( gv.getDotSource(), graphType ), out );\r\n        \t\t\r\n   \t\treturn out;\r\n   \t}\r\n\r\n  [1]: https://github.com/jabbalaci/graphviz-java-api\r\n  [2]: https://github.com/omerio/graphviz-server","title":"How to call GraphViz from java","body":"<p>I've answered similar question here:\n<a href=\"https://stackoverflow.com/questions/3050056/calling-graphviz-dot-from-java/19829116#19829116\">Calling Graphviz dot from Java</a></p>\n\n<p>You can use the <a href=\"https://github.com/jabbalaci/graphviz-java-api\" rel=\"nofollow noreferrer\">Graphviz Java API</a> class which is a wrapper for Runtime.exec(), this is if you have the dot binaries on the same server as your Java App.</p>\n\n<p>If you don't have dot installed on the server or if you are using an environment like Google AppEngine where you can't install dot binaries locally then you can use <a href=\"https://github.com/omerio/graphviz-server\" rel=\"nofollow noreferrer\">Graphviz Server</a>, a lightweight Java based HTTP server, you still need to install the dot binaries on the server on which you run Graphviz Server.</p>\n\n<p>The following is a code example using the <a href=\"https://github.com/jabbalaci/graphviz-java-api\" rel=\"nofollow noreferrer\">Graphviz Java API</a> class</p>\n\n<pre><code>// graphTypeis one of: pdf, svg, png, etc...\n\nprivate static final String TEMP_PATH = \"/tmp/graph.\";\n\nprivate File generateGraph(String dot, String graphType) {\n\n    GraphViz gv = new GraphViz();\n    gv.readString(dot);\n\n    File out = new File(TEMP_PATH + graphType);   // Linux\n\n    gv.writeGraphToFile( gv.getGraph( gv.getDotSource(), graphType ), out );\n\n    return out;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":251508,"reputation":1356,"user_id":528955,"display_name":"abulka"},"score":0,"creation_date":1688818515,"post_id":61236008,"comment_id":135126737,"body_markdown":"This promising library seems a little unmaintained. The Java `Nashorn` approach is deprecated, the `v8` approach doesn&#39;t work on Mac (and possibly some linux situations) - which leaves you with the same old solution to run via the `dot` command. At least it provides some kind of wrapper to running dot and to a resulting graphviz object - though the graphviz object usage and traversal API is undocumented except for some small examples.","body":"This promising library seems a little unmaintained. The Java <code>Nashorn</code> approach is deprecated, the <code>v8</code> approach doesn&#39;t work on Mac (and possibly some linux situations) - which leaves you with the same old solution to run via the <code>dot</code> command. At least it provides some kind of wrapper to running dot and to a resulting graphviz object - though the graphviz object usage and traversal API is undocumented except for some small examples."}],"tags":[],"owner":{"account_id":5950528,"reputation":2878,"user_id":4678661,"display_name":"Fabich"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586975378,"creation_date":1586975378,"answer_id":61236008,"question_id":26481910,"body_markdown":"There seems to be a solution for graphviz in java without dot binary: https://github.com/nidi3/graphviz-java\r\n\r\nFrom the github page it says:\r\n\r\n&gt;To execute the graphviz layout engine, one of these options is used:\r\n&gt;\r\n  - If the machine has graphviz installed and a dot command is available, spawn a new process running dot.\r\n  - Use this javascript version of graphviz and execute it on the V8 javascript engine. This is done with the bundled J2V8 library.\r\n  - Alternatively, the javascript can be executed on Java&#39;s own Nashorn or GraalVM engine.\r\n\r\nI have not tested it yet though\r\n","title":"How to call GraphViz from java","body":"<p>There seems to be a solution for graphviz in java without dot binary: <a href=\"https://github.com/nidi3/graphviz-java\" rel=\"nofollow noreferrer\">https://github.com/nidi3/graphviz-java</a></p>\n\n<p>From the github page it says:</p>\n\n<blockquote>\n  <p>To execute the graphviz layout engine, one of these options is used:</p>\n  \n  <ul>\n  <li>If the machine has graphviz installed and a dot command is available, spawn a new process running dot.</li>\n  <li>Use this javascript version of graphviz and execute it on the V8 javascript engine. This is done with the bundled J2V8 library.</li>\n  <li>Alternatively, the javascript can be executed on Java's own Nashorn or GraalVM engine.</li>\n  </ul>\n</blockquote>\n\n<p>I have not tested it yet though</p>\n"},{"comments":[{"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"score":0,"creation_date":1695627254,"post_id":77170585,"comment_id":136044377,"body_markdown":"PS: to write to `stdout`, see https://github.com/jnr/jnr-ffi/issues/186","body":"PS: to write to <code>stdout</code>, see <a href=\"https://github.com/jnr/jnr-ffi/issues/186\" rel=\"nofollow noreferrer\">github.com/jnr/jnr-ffi/issues/186</a>"}],"tags":[],"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695626624,"creation_date":1695626624,"answer_id":77170585,"question_id":26481910,"body_markdown":"Here is an alternate way to call the GraphViz native C functions without spawning any new processes. This method uses the very versatile and useful [JNR-FFI](https://github.com/jnr/jnr-ffi) library. Thanks @headius and co.!\r\n\r\nStep 1: Install `graphviz` on your system.\r\n\r\nStep 2: In your Java project add the required dependency to JNR-FFI. For example in a `gradle` project: `implementation &#39;com.github.jnr:jnr-ffi:2.2.14&#39;`\r\n\r\nStep 3: The code (following [this simple GraphViz C example](https://gitlab.com/graphviz/graphviz/-/blob/main/dot.demo/simple.c)):\r\n\r\n```java\r\nimport jnr.ffi.LibraryLoader;\r\nimport jnr.ffi.Pointer;\r\n\r\npublic class GraphVizJNR {\r\n\r\n  public interface LibGvc {\r\n    Pointer gvContext();\r\n    Pointer agmemread(String dotText);\r\n    int gvLayout(Pointer gvc, Pointer g, String engine);\r\n    int gvRender(Pointer gvc, Pointer g, String format, Pointer out);\r\n    int gvFreeLayout(Pointer gvc, Pointer g);\r\n    int agclose(Pointer g);\r\n    int gvFreeContext(Pointer gvc);\r\n  }\r\n\r\n  public interface LibC {\r\n    Pointer fopen(String s, String mode);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    LibGvc libGvc = LibraryLoader.create(LibGvc.class).load(&quot;gvc&quot;);\r\n    LibC libc = LibraryLoader.create(LibC.class).load(&quot;c&quot;);\r\n\r\n    Pointer gvc = libGvc.gvContext();\r\n    Pointer g = libGvc.agmemread(&quot;digraph { a -&gt; b; b -&gt; c }&quot;);\r\n    int status = libGvc.gvLayout(gvc, g, &quot;dot&quot;);\r\n    Pointer file = libc.fopen(&quot;/tmp/g.svg&quot;, &quot;w&quot;);\r\n    status = libGvc.gvRender(gvc, g, &quot;svg&quot;, file);\r\n    status = libGvc.gvFreeLayout(gvc, g);\r\n    status = libGvc.agclose(g);\r\n    status = libGvc.gvFreeContext(gvc);\r\n  }\r\n}\r\n```\r\n\r\nThe nice thing about JNR-FFI (similar to [JNA](https://github.com/java-native-access/jna)), is that you only need to declare in the Java interface what you need from the native library.","title":"How to call GraphViz from java","body":"<p>Here is an alternate way to call the GraphViz native C functions without spawning any new processes. This method uses the very versatile and useful <a href=\"https://github.com/jnr/jnr-ffi\" rel=\"nofollow noreferrer\">JNR-FFI</a> library. Thanks @headius and co.!</p>\n<p>Step 1: Install <code>graphviz</code> on your system.</p>\n<p>Step 2: In your Java project add the required dependency to JNR-FFI. For example in a <code>gradle</code> project: <code>implementation 'com.github.jnr:jnr-ffi:2.2.14'</code></p>\n<p>Step 3: The code (following <a href=\"https://gitlab.com/graphviz/graphviz/-/blob/main/dot.demo/simple.c\" rel=\"nofollow noreferrer\">this simple GraphViz C example</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jnr.ffi.LibraryLoader;\nimport jnr.ffi.Pointer;\n\npublic class GraphVizJNR {\n\n  public interface LibGvc {\n    Pointer gvContext();\n    Pointer agmemread(String dotText);\n    int gvLayout(Pointer gvc, Pointer g, String engine);\n    int gvRender(Pointer gvc, Pointer g, String format, Pointer out);\n    int gvFreeLayout(Pointer gvc, Pointer g);\n    int agclose(Pointer g);\n    int gvFreeContext(Pointer gvc);\n  }\n\n  public interface LibC {\n    Pointer fopen(String s, String mode);\n  }\n\n  public static void main(String[] args) {\n    LibGvc libGvc = LibraryLoader.create(LibGvc.class).load(&quot;gvc&quot;);\n    LibC libc = LibraryLoader.create(LibC.class).load(&quot;c&quot;);\n\n    Pointer gvc = libGvc.gvContext();\n    Pointer g = libGvc.agmemread(&quot;digraph { a -&gt; b; b -&gt; c }&quot;);\n    int status = libGvc.gvLayout(gvc, g, &quot;dot&quot;);\n    Pointer file = libc.fopen(&quot;/tmp/g.svg&quot;, &quot;w&quot;);\n    status = libGvc.gvRender(gvc, g, &quot;svg&quot;, file);\n    status = libGvc.gvFreeLayout(gvc, g);\n    status = libGvc.agclose(g);\n    status = libGvc.gvFreeContext(gvc);\n  }\n}\n</code></pre>\n<p>The nice thing about JNR-FFI (similar to <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA</a>), is that you only need to declare in the Java interface what you need from the native library.</p>\n"}],"owner":{"account_id":4328390,"reputation":131,"user_id":3534517,"accept_rate":75,"display_name":"user3534517"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32196,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":26482170,"answer_count":4,"score":9,"last_activity_date":1695626624,"creation_date":1413879375,"question_id":26481910,"body_markdown":" \r\nHow to call GraphViz from java and how to call GraphViz functions using java? What are the necessary jar files that are to be included inorder to access the GraphViz library for building a dot graph? Is there any sample program for generating a dot graph","title":"How to call GraphViz from java","body":"<p>How to call GraphViz from java and how to call GraphViz functions using java? What are the necessary jar files that are to be included inorder to access the GraphViz library for building a dot graph? Is there any sample program for generating a dot graph</p>\n"},{"tags":["java","null","vaadin","textfield","android-binder"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1695371846,"post_id":77155875,"comment_id":136018290,"body_markdown":"Letting the binder do it, is the more common way.","body":"Letting the binder do it, is the more common way."},{"owner":{"account_id":78420,"reputation":1,"user_id":223200,"display_name":"Curi"},"score":0,"creation_date":1695385627,"post_id":77155875,"comment_id":136021065,"body_markdown":"I&#39;m letting the binder do it but as default behaviour. I want to avoid putting this &quot;withNullRepresentation&quot; on every text field in my application.","body":"I&#39;m letting the binder do it but as default behaviour. I want to avoid putting this &quot;withNullRepresentation&quot; on every text field in my application."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695611552,"post_id":77155875,"comment_id":136042749,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":78420,"reputation":1,"user_id":223200,"display_name":"Curi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695626549,"creation_date":1695370344,"question_id":77155875,"body_markdown":"Default behavior of Vaadin v24 is to map empty TextField to an empty String as model value. How to map it to null value for all TextFields without adding withNullRepresentation to every textField binding?\r\n\r\nI&#39;ve made my own CustomBinder and I&#39;m wondering is this the right way to go. This is the code:\r\n```\r\npublic class CustomBinder&lt;BEAN&gt; extends Binder&lt;BEAN&gt; {\r\n    private static final long serialVersionUID = 3555096816850091643L;\r\n\r\n    public CustomBinder() {\r\n        super();\r\n    }\r\n\r\n    public CustomBinder(Class&lt;BEAN&gt; p_beanType, boolean p_scanNestedDefinitions) {\r\n        super(p_beanType, p_scanNestedDefinitions);\r\n    }\r\n\r\n    public CustomBinder(PropertySet&lt;BEAN&gt; p_propertySet) {\r\n        super(p_propertySet);\r\n    }\r\n\r\n    public CustomBinder(Class&lt;BEAN&gt; p_class) {\r\n        super(p_class);\r\n    }\r\n\r\n    @Override\r\n    public &lt;FIELDVALUE&gt; BindingBuilder&lt;BEAN, FIELDVALUE&gt; forField(HasValue&lt;?, FIELDVALUE&gt; p_field) {\r\n        BindingBuilder&lt;BEAN, FIELDVALUE&gt; forFieldBinding = super.forField(p_field);\r\n        if (p_field instanceof TextField || p_field instanceof TextArea) {\r\n            forFieldBinding = forFieldBinding.withNullRepresentation((FIELDVALUE) &quot;&quot;);\r\n        }\r\n        return forFieldBinding;\r\n    }\r\n}\r\n```","title":"How to map empty Vaadin TextField to null value in model property","body":"<p>Default behavior of Vaadin v24 is to map empty TextField to an empty String as model value. How to map it to null value for all TextFields without adding withNullRepresentation to every textField binding?</p>\n<p>I've made my own CustomBinder and I'm wondering is this the right way to go. This is the code:</p>\n<pre><code>public class CustomBinder&lt;BEAN&gt; extends Binder&lt;BEAN&gt; {\n    private static final long serialVersionUID = 3555096816850091643L;\n\n    public CustomBinder() {\n        super();\n    }\n\n    public CustomBinder(Class&lt;BEAN&gt; p_beanType, boolean p_scanNestedDefinitions) {\n        super(p_beanType, p_scanNestedDefinitions);\n    }\n\n    public CustomBinder(PropertySet&lt;BEAN&gt; p_propertySet) {\n        super(p_propertySet);\n    }\n\n    public CustomBinder(Class&lt;BEAN&gt; p_class) {\n        super(p_class);\n    }\n\n    @Override\n    public &lt;FIELDVALUE&gt; BindingBuilder&lt;BEAN, FIELDVALUE&gt; forField(HasValue&lt;?, FIELDVALUE&gt; p_field) {\n        BindingBuilder&lt;BEAN, FIELDVALUE&gt; forFieldBinding = super.forField(p_field);\n        if (p_field instanceof TextField || p_field instanceof TextArea) {\n            forFieldBinding = forFieldBinding.withNullRepresentation((FIELDVALUE) &quot;&quot;);\n        }\n        return forFieldBinding;\n    }\n}\n</code></pre>\n"},{"tags":["java","logging"],"answers":[{"comments":[{"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"score":0,"creation_date":1223739013,"post_id":194198,"comment_id":71919,"body_markdown":"I think ConsoleHandler is the default, there is a StreamHandler that can print to any other stream.","body":"I think ConsoleHandler is the default, there is a StreamHandler that can print to any other stream."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1223747962,"post_id":194198,"comment_id":72058,"body_markdown":"Yes, but you&#39;d want to subclass StreamHandler so as to avoid trying to close System.err, I suspect.","body":"Yes, but you&#39;d want to subclass StreamHandler so as to avoid trying to close System.err, I suspect."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1223738691,"creation_date":1223738691,"answer_id":194198,"question_id":194165,"body_markdown":"Have a look at the docs and source for [ConsoleHandler][1] - I&#39;m sure you could easily write a version which just uses System.err instead of System.out. (It&#39;s a shame that ConsoleHandler doesn&#39;t allow this to be configured, to be honest.)\r\n\r\nThen it&#39;s just a case of configuring the logging system to use your new StdoutHandler (or whatever you call it) in the normal way.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/logging/ConsoleHandler.html","title":"How do I change java logging console output from std err to std out?","body":"<p>Have a look at the docs and source for <a href=\"http://java.sun.com/javase/6/docs/api/java/util/logging/ConsoleHandler.html\" rel=\"nofollow noreferrer\">ConsoleHandler</a> - I'm sure you could easily write a version which just uses System.err instead of System.out. (It's a shame that ConsoleHandler doesn't allow this to be configured, to be honest.)</p>\n\n<p>Then it's just a case of configuring the logging system to use your new StdoutHandler (or whatever you call it) in the normal way.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650627251,"creation_date":1223738952,"answer_id":194202,"question_id":194165,"body_markdown":"If you use Java logging, you can change the default handler:\r\n\r\nFor example, for files:\r\n\r\n    Handler fh = new FileHandler(FILENAME);\r\n    Logger.getLogger(LOGGER_NAME).addHandler(fh);\r\n\r\nIf you want to output to a stream you can use StreamHandler, I think you can configure it with any output stream that you woud like, including the system stream. \r\n","title":"How do I change java logging console output from std err to std out?","body":"<p>If you use Java logging, you can change the default handler:</p>\n<p>For example, for files:</p>\n<pre><code>Handler fh = new FileHandler(FILENAME);\nLogger.getLogger(LOGGER_NAME).addHandler(fh);\n</code></pre>\n<p>If you want to output to a stream you can use StreamHandler, I think you can configure it with any output stream that you woud like, including the system stream.</p>\n"},{"comments":[{"owner":{"account_id":1001366,"reputation":1162,"user_id":1016142,"display_name":"amotzg"},"score":3,"creation_date":1348718064,"post_id":194851,"comment_id":17004956,"body_markdown":"You better wrap `System.out` with self implemented `OutputStream` to avoid closing it on the next call to `setOutputStream(...)` or `LogManager.reset()`.","body":"You better wrap <code>System.out</code> with self implemented <code>OutputStream</code> to avoid closing it on the next call to <code>setOutputStream(...)</code> or <code>LogManager.reset()</code>."},{"owner":{"account_id":1001366,"reputation":1162,"user_id":1016142,"display_name":"amotzg"},"score":0,"creation_date":1348718280,"post_id":194851,"comment_id":17005003,"body_markdown":"Also, take care to not call the super constructor (of `ConsoleHandler`) since it sets System.err and you will close it when calling `setOutputStream(System.out)`. Or, you can just subclass `StreamHandler` and call `super( OutputStream, Formatter)`.","body":"Also, take care to not call the super constructor (of <code>ConsoleHandler</code>) since it sets System.err and you will close it when calling <code>setOutputStream(System.out)</code>. Or, you can just subclass <code>StreamHandler</code> and call <code>super( OutputStream, Formatter)</code>."}],"tags":[],"owner":{"account_id":561638,"reputation":15601,"user_id":23120,"accept_rate":0,"display_name":"Obediah Stane"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1650627283,"creation_date":1223768952,"answer_id":194851,"question_id":194165,"body_markdown":"I figured out one way. First remove the default console handler:\r\n\r\n    setUseParentHandlers(false);\r\n\r\nThen subclass ConsoleHandler and in the constructor:\r\n\r\n    setOutputStream(System.out);\r\n\r\n","title":"How do I change java logging console output from std err to std out?","body":"<p>I figured out one way. First remove the default console handler:</p>\n<pre><code>setUseParentHandlers(false);\n</code></pre>\n<p>Then subclass ConsoleHandler and in the constructor:</p>\n<pre><code>setOutputStream(System.out);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1353185052,"post_id":379626,"comment_id":18364912,"body_markdown":"If one does that for the root logging class (Logger.GLOBAL_LOGGER_NAME), console logging is disabled for all classes.","body":"If one does that for the root logging class (Logger.GLOBAL_LOGGER_NAME), console logging is disabled for all classes."}],"tags":[],"owner":{"display_name":"Val "},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1229641188,"creation_date":1229641188,"answer_id":379626,"question_id":194165,"body_markdown":"If you set setUseParentHandlers(false); only THAT class has it set.  Other classes in the app will still pass it thru to stderr.\r\n","title":"How do I change java logging console output from std err to std out?","body":"<p>If you set setUseParentHandlers(false); only THAT class has it set.  Other classes in the app will still pass it thru to stderr.</p>\n"},{"tags":[],"owner":{"account_id":566818,"reputation":1,"user_id":194182,"display_name":"Hema"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1256164886,"creation_date":1256164886,"answer_id":1604066,"question_id":194165,"body_markdown":"Simply extend StreamHandler &amp; in the constructor call Super(System.out,&lt;formatter&gt;). This will avoid closing System.err - Thanks ","title":"How do I change java logging console output from std err to std out?","body":"<p>Simply extend StreamHandler &amp; in the constructor call Super(System.out,). This will avoid closing System.err - Thanks </p>\n"},{"comments":[{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":6,"creation_date":1377461996,"post_id":2906222,"comment_id":27083051,"body_markdown":"But, in the modern days... is there a way to do this without implementing a custom Handler??","body":"But, in the modern days... is there a way to do this without implementing a custom Handler??"}],"tags":[],"owner":{"account_id":619692,"reputation":101,"user_id":350068,"display_name":"Jeremiah Jahn"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1695625580,"creation_date":1274802374,"answer_id":2906222,"question_id":194165,"body_markdown":"    Handler consoleHandler = new Handler() {\r\n        @Override\r\n        public void publish(LogRecord record) {\r\n            if (getFormatter() == null) {\r\n                setFormatter(new SimpleFormatter());\r\n            }\r\n\r\n            try {\r\n                String message = getFormatter().format(record);\r\n                if (record.getLevel().intValue() &gt;= Level.WARNING.intValue()) {\r\n                    System.err.write(message.getBytes());\r\n                } else {\r\n                    System.out.write(message.getBytes());\r\n                }\r\n            } catch (Exception exception) {\r\n                reportError(null, exception, ErrorManager.FORMAT_FAILURE);\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void close() throws SecurityException {\r\n        }\r\n\r\n        @Override\r\n        public void flush() {\r\n        }\r\n    };\r\n","title":"How do I change java logging console output from std err to std out?","body":"<pre><code>Handler consoleHandler = new Handler() {\n    @Override\n    public void publish(LogRecord record) {\n        if (getFormatter() == null) {\n            setFormatter(new SimpleFormatter());\n        }\n\n        try {\n            String message = getFormatter().format(record);\n            if (record.getLevel().intValue() &gt;= Level.WARNING.intValue()) {\n                System.err.write(message.getBytes());\n            } else {\n                System.out.write(message.getBytes());\n            }\n        } catch (Exception exception) {\n            reportError(null, exception, ErrorManager.FORMAT_FAILURE);\n        }\n\n    }\n\n    @Override\n    public void close() throws SecurityException {\n    }\n\n    @Override\n    public void flush() {\n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":1,"creation_date":1353184610,"post_id":4738963,"comment_id":18364800,"body_markdown":"This does not disable the default handler. Just follow the answer http://stackoverflow.com/a/2533250/873282","body":"This does not disable the default handler. Just follow the answer <a href=\"http://stackoverflow.com/a/2533250/873282\">stackoverflow.com/a/2533250/873282</a>"}],"tags":[],"owner":{"account_id":697849,"reputation":181,"user_id":581895,"display_name":"Frank Vlach"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1695625517,"creation_date":1295460550,"answer_id":4738963,"question_id":194165,"body_markdown":"I&#39;ve arrived at\r\n\r\n    SimpleFormatter fmt = new SimpleFormatter();\r\n    StreamHandler sh = new StreamHandler(System.out, fmt);\r\n    logger.addHandler(sh);","title":"How do I change java logging console output from std err to std out?","body":"<p>I've arrived at</p>\n<pre><code>SimpleFormatter fmt = new SimpleFormatter();\nStreamHandler sh = new StreamHandler(System.out, fmt);\nlogger.addHandler(sh);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1300480688,"creation_date":1300480688,"answer_id":5357588,"question_id":194165,"body_markdown":"Hmm I just got bit in the foot a few times, trying to accomplish this feat. Before googling my way here I managed to conjure the following hack. Ugly, but it seems to get the job done.\r\n\r\n    public class StdoutConsoleHandler extends ConsoleHandler {\r\n      protected void setOutputStream(OutputStream out) throws SecurityException {\r\n        super.setOutputStream(System.out); // kitten killed here :-(\r\n      }\r\n    }\r\n\r\nWatch out: Calling setOutputStream() from the constructor is tempting, but it does (as Jon Skeet already pointed out) close System.err. Mad skills!","title":"How do I change java logging console output from std err to std out?","body":"<p>Hmm I just got bit in the foot a few times, trying to accomplish this feat. Before googling my way here I managed to conjure the following hack. Ugly, but it seems to get the job done.</p>\n\n<pre><code>public class StdoutConsoleHandler extends ConsoleHandler {\n  protected void setOutputStream(OutputStream out) throws SecurityException {\n    super.setOutputStream(System.out); // kitten killed here :-(\n  }\n}\n</code></pre>\n\n<p>Watch out: Calling setOutputStream() from the constructor is tempting, but it does (as Jon Skeet already pointed out) close System.err. Mad skills!</p>\n"},{"tags":[],"owner":{"account_id":1416250,"reputation":77,"user_id":1341872,"display_name":"Kai"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334849575,"creation_date":1334764381,"answer_id":10213202,"question_id":194165,"body_markdown":"If there is still someone out there looking for a solution to this problem.\r\nHere&#39;s what I came up with finally: I just subclassed StreamHandler and added an additional parameter\r\nMaxLevel, which is checked at the beginning of publish(). If the level of the logging event is larger than MaxLevel, publish won&#39;t be executed any further.\r\nHere are the details:\r\n\r\n**MaxlevelStreamHandler.java**\r\nMain Class below.\r\n\r\n\tpackage helper;\r\n\t\r\n\t/**\r\n\t * The only difference to the standard StreamHandler is \r\n\t * that a MAXLEVEL can be defined (which then is not published)\r\n\t * \r\n\t * @author Kai Goergen\r\n\t */\r\n\t\r\n\timport java.io.PrintStream;\r\n\timport java.util.logging.Formatter;\r\n\timport java.util.logging.Level;\r\n\timport java.util.logging.LogRecord;\r\n\timport java.util.logging.StreamHandler;\r\n\t\r\n\tpublic class MaxlevelStreamHandler extends StreamHandler {\r\n\t\r\n\t\tprivate Level maxlevel = Level.SEVERE;  // by default, put out everything\r\n\t\r\n\t\t/**\r\n\t\t * The only method we really change to check whether the message\r\n\t\t * is smaller than maxlevel.\r\n\t\t * We also flush here to make sure that the message is shown immediately.\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic synchronized void publish(LogRecord record) {\r\n\t\t\tif (record.getLevel().intValue() &gt; this.maxlevel.intValue()) {\r\n\t\t\t\t// do nothing if the level is above maxlevel\r\n\t\t\t} else {\r\n\t\t\t\t// if we arrived here, do what we always do\r\n\t\t\t\tsuper.publish(record);\r\n\t\t\t\tsuper.flush();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * getter for maxlevel\r\n\t\t * @return\r\n\t\t */\r\n\t\tpublic Level getMaxlevel() {\r\n\t\t\treturn maxlevel;\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Setter for maxlevel. \r\n\t\t * If a logging event is larger than this level, it won&#39;t be displayed\r\n\t\t * @param maxlevel\r\n\t\t */\r\n\t\tpublic void setMaxlevel(Level maxlevel) {\r\n\t\t\tthis.maxlevel = maxlevel;\r\n\t\t}\r\n\t\t\r\n\t\t/** Constructor forwarding */\r\n\t\tpublic MaxlevelStreamHandler(PrintStream out, Formatter formatter) {\r\n\t\t\tsuper(out, formatter);\r\n\t\t}\r\n\t\r\n\t\t/** Constructor forwarding */\r\n\t\tpublic MaxlevelStreamHandler() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Main Class**\r\n\r\nTo now show some events in stdout and some in stderr, simply setup two StreamLoggers, one for critical events and one for all others, and disable the standard console logger:\r\n\r\n\t// setup all logs that are smaller than WARNINGS to stdout\r\n\tMaxlevelStreamHandler outSh = new MaxlevelStreamHandler(System.out, formatter);\r\n\toutSh.setLevel(Level.ALL);\r\n\toutSh.setMaxlevel(Level.INFO);\r\n\tlogger.addHandler(outSh);\r\n\t\r\n\t// setup all warnings to stdout &amp; warnings and higher to stderr\r\n\tStreamHandler errSh = new StreamHandler(System.err, formatter);\r\n\terrSh.setLevel(Level.WARNING);\r\n\tlogger.addHandler(errSh);\r\n\t\r\n\t// remove default console logger\r\n\tlogger.setUseParentHandlers(false);\r\n\t\r\n\tlogger.info(&quot;info&quot;);\r\n\tlogger.warning(&quot;warning&quot;);\r\n\tlogger.severe(&quot;severe&quot;);\r\n\r\nHope this helps!\r\n\r\nUpdate: I added super.flush() right after super.publish() to make sure that the message is shown immediately. Before, I had problems that the log-messages were always shown at the end. It&#39;s now part of the code above.","title":"How do I change java logging console output from std err to std out?","body":"<p>If there is still someone out there looking for a solution to this problem.\nHere's what I came up with finally: I just subclassed StreamHandler and added an additional parameter\nMaxLevel, which is checked at the beginning of publish(). If the level of the logging event is larger than MaxLevel, publish won't be executed any further.\nHere are the details:</p>\n\n<p><strong>MaxlevelStreamHandler.java</strong>\nMain Class below.</p>\n\n<pre><code>package helper;\n\n/**\n * The only difference to the standard StreamHandler is \n * that a MAXLEVEL can be defined (which then is not published)\n * \n * @author Kai Goergen\n */\n\nimport java.io.PrintStream;\nimport java.util.logging.Formatter;\nimport java.util.logging.Level;\nimport java.util.logging.LogRecord;\nimport java.util.logging.StreamHandler;\n\npublic class MaxlevelStreamHandler extends StreamHandler {\n\n    private Level maxlevel = Level.SEVERE;  // by default, put out everything\n\n    /**\n     * The only method we really change to check whether the message\n     * is smaller than maxlevel.\n     * We also flush here to make sure that the message is shown immediately.\n     */\n    @Override\n    public synchronized void publish(LogRecord record) {\n        if (record.getLevel().intValue() &gt; this.maxlevel.intValue()) {\n            // do nothing if the level is above maxlevel\n        } else {\n            // if we arrived here, do what we always do\n            super.publish(record);\n            super.flush();\n        }\n    }\n\n    /**\n     * getter for maxlevel\n     * @return\n     */\n    public Level getMaxlevel() {\n        return maxlevel;\n    }\n\n    /**\n     * Setter for maxlevel. \n     * If a logging event is larger than this level, it won't be displayed\n     * @param maxlevel\n     */\n    public void setMaxlevel(Level maxlevel) {\n        this.maxlevel = maxlevel;\n    }\n\n    /** Constructor forwarding */\n    public MaxlevelStreamHandler(PrintStream out, Formatter formatter) {\n        super(out, formatter);\n    }\n\n    /** Constructor forwarding */\n    public MaxlevelStreamHandler() {\n        super();\n    }\n}\n</code></pre>\n\n<p><strong>Main Class</strong></p>\n\n<p>To now show some events in stdout and some in stderr, simply setup two StreamLoggers, one for critical events and one for all others, and disable the standard console logger:</p>\n\n<pre><code>// setup all logs that are smaller than WARNINGS to stdout\nMaxlevelStreamHandler outSh = new MaxlevelStreamHandler(System.out, formatter);\noutSh.setLevel(Level.ALL);\noutSh.setMaxlevel(Level.INFO);\nlogger.addHandler(outSh);\n\n// setup all warnings to stdout &amp; warnings and higher to stderr\nStreamHandler errSh = new StreamHandler(System.err, formatter);\nerrSh.setLevel(Level.WARNING);\nlogger.addHandler(errSh);\n\n// remove default console logger\nlogger.setUseParentHandlers(false);\n\nlogger.info(\"info\");\nlogger.warning(\"warning\");\nlogger.severe(\"severe\");\n</code></pre>\n\n<p>Hope this helps!</p>\n\n<p>Update: I added super.flush() right after super.publish() to make sure that the message is shown immediately. Before, I had problems that the log-messages were always shown at the end. It's now part of the code above.</p>\n"},{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1460820408,"post_id":23717493,"comment_id":60923814,"body_markdown":"Perfect.  Has to be said that the designers haven&#39;t exactly made it easy... why can&#39;t they anticipate this need?  Mind you it seems to be the same with other logging frameworks: your first task?  Jump through several difficult hoops!","body":"Perfect.  Has to be said that the designers haven&#39;t exactly made it easy... why can&#39;t they anticipate this need?  Mind you it seems to be the same with other logging frameworks: your first task?  Jump through several difficult hoops!"}],"tags":[],"owner":{"account_id":990065,"reputation":1340,"user_id":1007631,"accept_rate":60,"display_name":"ocarlsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1400373519,"creation_date":1400373519,"answer_id":23717493,"question_id":194165,"body_markdown":"I had a similar problem.  I wanted to log INFO and below to `System.out`, and WARNING and above to `System.err`.  Here is the solution I implemented:\r\n\r\n    public class DualConsoleHandler extends StreamHandler {\r\n    \t\r\n    \tprivate final ConsoleHandler stderrHandler = new ConsoleHandler();\r\n    \t\r\n    \tpublic DualConsoleHandler() {\r\n    \t\tsuper(System.out, new SimpleFormatter());\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void publish(LogRecord record) {\r\n    \t\tif (record.getLevel().intValue() &lt;= Level.INFO.intValue()) {\r\n    \t\t\tsuper.publish(record);\r\n    \t\t\tsuper.flush();\r\n    \t\t} else {\r\n    \t\t\tstderrHandler.publish(record);\r\n    \t\t\tstderrHandler.flush();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOf course, you could make it more flexible by factoring out the hard-coded reference to `Level.INFO`, for example.  But this worked well for me to get some basic dual-stream logging.  (BTW, the tips about not subclassing ConsoleHandler to avoid closing the `System.err` were very useful.)","title":"How do I change java logging console output from std err to std out?","body":"<p>I had a similar problem.  I wanted to log INFO and below to <code>System.out</code>, and WARNING and above to <code>System.err</code>.  Here is the solution I implemented:</p>\n\n<pre><code>public class DualConsoleHandler extends StreamHandler {\n\n    private final ConsoleHandler stderrHandler = new ConsoleHandler();\n\n    public DualConsoleHandler() {\n        super(System.out, new SimpleFormatter());\n    }\n\n    @Override\n    public void publish(LogRecord record) {\n        if (record.getLevel().intValue() &lt;= Level.INFO.intValue()) {\n            super.publish(record);\n            super.flush();\n        } else {\n            stderrHandler.publish(record);\n            stderrHandler.flush();\n        }\n    }\n}\n</code></pre>\n\n<p>Of course, you could make it more flexible by factoring out the hard-coded reference to <code>Level.INFO</code>, for example.  But this worked well for me to get some basic dual-stream logging.  (BTW, the tips about not subclassing ConsoleHandler to avoid closing the <code>System.err</code> were very useful.)</p>\n"},{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533157187,"creation_date":1457621310,"answer_id":35919737,"question_id":194165,"body_markdown":"The ConsoleHandler will grab a snapshot of `System.err` during construction.  One option would be to swap the global error stream with the global out stream and then create the ConsoleHandler.\r\n\r\n    ConsoleHandler h = null;\r\n    final PrintStream err = System.err;\r\n    System.setErr(System.out);\r\n    try {\r\n        h = new ConsoleHandler(); //Snapshot of System.err\r\n    } finally {\r\n        System.setErr(err);\r\n    }\r\n\r\nThis assumes that the code has permission to modify error stream and that no other running code is accessing the error stream.  In short, this is an option but there are safer alternatives.","title":"How do I change java logging console output from std err to std out?","body":"<p>The ConsoleHandler will grab a snapshot of <code>System.err</code> during construction.  One option would be to swap the global error stream with the global out stream and then create the ConsoleHandler.</p>\n\n<pre><code>ConsoleHandler h = null;\nfinal PrintStream err = System.err;\nSystem.setErr(System.out);\ntry {\n    h = new ConsoleHandler(); //Snapshot of System.err\n} finally {\n    System.setErr(err);\n}\n</code></pre>\n\n<p>This assumes that the code has permission to modify error stream and that no other running code is accessing the error stream.  In short, this is an option but there are safer alternatives.</p>\n"},{"tags":[],"owner":{"account_id":10332970,"reputation":21,"user_id":7622140,"display_name":"Virendra Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695625681,"creation_date":1488039289,"answer_id":42458416,"question_id":194165,"body_markdown":"When we create a new ConsoleHandler object, default output stream is &quot;system.err&quot;. Sadly Java doesn&#39;t provide any public method for ConsoleHandler class to set output stream. So it can be set only at the time of object creation. As ConsoleHandler class extends StreamHandler, which has a protected method &quot;setOutputStream&quot; to set output stream explicitly. To set output Stream for ConsoleHandler just override this method at the time of new call for object creation. \r\n\r\n    ConsoleHandler consoleHandler = new ConsoleHandler() {\r\n        @Override\r\n        protected synchronized void setOutputStream(OutputStream out) throws SecurityException {\r\n            super.setOutputStream(System.out);\r\n        }\r\n    };\r\n","title":"How do I change java logging console output from std err to std out?","body":"<p>When we create a new ConsoleHandler object, default output stream is &quot;system.err&quot;. Sadly Java doesn't provide any public method for ConsoleHandler class to set output stream. So it can be set only at the time of object creation. As ConsoleHandler class extends StreamHandler, which has a protected method &quot;setOutputStream&quot; to set output stream explicitly. To set output Stream for ConsoleHandler just override this method at the time of new call for object creation.</p>\n<pre><code>ConsoleHandler consoleHandler = new ConsoleHandler() {\n    @Override\n    protected synchronized void setOutputStream(OutputStream out) throws SecurityException {\n        super.setOutputStream(System.out);\n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2980952,"reputation":125,"user_id":2530910,"display_name":"akvyalkov"},"score":0,"creation_date":1604412059,"post_id":62165188,"comment_id":114335522,"body_markdown":"I can&#39;t see logs until application is closed. Do you have any idea how to see logs in realtime?","body":"I can&#39;t see logs until application is closed. Do you have any idea how to see logs in realtime?"}],"tags":[],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1591158158,"creation_date":1591158158,"answer_id":62165188,"question_id":194165,"body_markdown":"**Step 1:** Set parent handlers to false.\r\n\r\n    log.setUseParentHandlers(false);\r\n\r\n**Step 2:** Add a handler that writes to System.out\r\n\r\n    log.addHandler(new StreamHandler(System.out, new SimpleFormatter()));\r\nThats it..\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.util.logging.Logger;\r\n    import java.util.logging.SimpleFormatter;\r\n    import java.util.logging.StreamHandler;\r\n     \r\n    public class App {\r\n     \r\n         static final Logger log = Logger.getLogger(&quot;com.sample.app.App&quot;);\r\n     \r\n         static void processData() {\r\n              log.info(&quot;Started Processing Data&quot;);\r\n              log.info(&quot;Finished processing data&quot;);\r\n         }\r\n     \r\n         public static void main(String args[]) throws IOException {\r\n              log.setUseParentHandlers(false);\r\n     \r\n              log.addHandler(new StreamHandler(System.out, new SimpleFormatter()));\r\n     \r\n              processData();\r\n         }\r\n    }","title":"How do I change java logging console output from std err to std out?","body":"<p><strong>Step 1:</strong> Set parent handlers to false.</p>\n\n<pre><code>log.setUseParentHandlers(false);\n</code></pre>\n\n<p><strong>Step 2:</strong> Add a handler that writes to System.out</p>\n\n<pre><code>log.addHandler(new StreamHandler(System.out, new SimpleFormatter()));\n</code></pre>\n\n<p>Thats it..</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.logging.Logger;\nimport java.util.logging.SimpleFormatter;\nimport java.util.logging.StreamHandler;\n\npublic class App {\n\n     static final Logger log = Logger.getLogger(\"com.sample.app.App\");\n\n     static void processData() {\n          log.info(\"Started Processing Data\");\n          log.info(\"Finished processing data\");\n     }\n\n     public static void main(String args[]) throws IOException {\n          log.setUseParentHandlers(false);\n\n          log.addHandler(new StreamHandler(System.out, new SimpleFormatter()));\n\n          processData();\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":561638,"reputation":15601,"user_id":23120,"accept_rate":0,"display_name":"Obediah Stane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47118,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":13,"score":44,"last_activity_date":1695625681,"creation_date":1223737211,"question_id":194165,"body_markdown":"I&#39;m using the standard `ConsoleHandler` from `java.util.logging` and by default the console output is directed to the error stream (i.e. `System.err`).\r\n\r\nHow do I change the console output to the output stream (i.e. `System.out`)?","title":"How do I change java logging console output from std err to std out?","body":"<p>I'm using the standard <code>ConsoleHandler</code> from <code>java.util.logging</code> and by default the console output is directed to the error stream (i.e. <code>System.err</code>).</p>\n\n<p>How do I change the console output to the output stream (i.e. <code>System.out</code>)?</p>\n"},{"tags":["java","parboiled","java-21"],"comments":[{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1695517365,"post_id":77165413,"comment_id":136034932,"body_markdown":"Can you provide a [mre]? This smells like Java 17 may still be somewhere in your runtime environment; a Dockerfile, Nix derivation, or other self-contained reproducer would allow that possibility to be eliminated.","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? This smells like Java 17 may still be somewhere in your runtime environment; a Dockerfile, Nix derivation, or other self-contained reproducer would allow that possibility to be eliminated."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":2,"creation_date":1695518335,"post_id":77165413,"comment_id":136034995,"body_markdown":"This doesn&#39;t seem like an environment problem to me. Parboiled has the [ASM](https://asm.ow2.io/) bytecode library as a dependency. Try upgrading that to version 9.5 for Java 21 support. A few more stack frames from the exception may be helpful though. Gradle version overriding: https://docs.gradle.org/current/userguide/dependency_constraints.html","body":"This doesn&#39;t seem like an environment problem to me. Parboiled has the <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a> bytecode library as a dependency. Try upgrading that to version 9.5 for Java 21 support. A few more stack frames from the exception may be helpful though. Gradle version overriding: <a href=\"https://docs.gradle.org/current/userguide/dependency_constraints.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/dependency_constraints.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":434326,"reputation":315,"user_id":10371946,"display_name":"Yaun"},"score":1,"creation_date":1695518792,"post_id":77165413,"comment_id":136035012,"body_markdown":"Forcing ASM 9.5 does indeed resolve the problem! parboiled-java:1.4.1 by default depends on 9.2.","body":"Forcing ASM 9.5 does indeed resolve the problem! parboiled-java:1.4.1 by default depends on 9.2."}],"answers":[{"tags":[],"owner":{"account_id":434326,"reputation":315,"user_id":10371946,"display_name":"Yaun"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695624994,"creation_date":1695519379,"answer_id":77165481,"question_id":77165413,"body_markdown":"This failure is in the [ASM](https://asm.ow2.io/) library, which Parboiled has as a dependency.  Parboiled 1.4.1 uses ASM 9.2, but Java 21 support was added in ASM 9.5.\r\n\r\nAdding the following will force gradle to resolve all ASM dependencies to version 9.5 which resolves the problem:\r\n\r\n```\r\nconfigurations.all {\r\n    resolutionStrategy.eachDependency { details -&gt;\r\n        if (details.requested.group == &#39;org.ow2.asm&#39;) {\r\n            details.useVersion &quot;9.5&quot;\r\n        }\r\n    }\r\n}\r\ndependencies {\r\n    implementation &#39;org.parboiled:parboiled-java:1.4.1&#39;\r\n}\r\n```","title":"Parboiled under Java 21: Unsupported class file major version 65","body":"<p>This failure is in the <a href=\"https://asm.ow2.io/\" rel=\"noreferrer\">ASM</a> library, which Parboiled has as a dependency.  Parboiled 1.4.1 uses ASM 9.2, but Java 21 support was added in ASM 9.5.</p>\n<p>Adding the following will force gradle to resolve all ASM dependencies to version 9.5 which resolves the problem:</p>\n<pre><code>configurations.all {\n    resolutionStrategy.eachDependency { details -&gt;\n        if (details.requested.group == 'org.ow2.asm') {\n            details.useVersion &quot;9.5&quot;\n        }\n    }\n}\ndependencies {\n    implementation 'org.parboiled:parboiled-java:1.4.1'\n}\n</code></pre>\n"}],"owner":{"account_id":434326,"reputation":315,"user_id":10371946,"display_name":"Yaun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2406,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695625280,"creation_date":1695516990,"question_id":77165413,"body_markdown":"I&#39;m am using parboiled as a dependency:\r\n\r\n```lang-groovy\r\n// https://mvnrepository.com/artifact/org.parboiled/parboiled-java\r\napi &#39;org.parboiled:parboiled-java:1.4.1&#39;\r\n```\r\n\r\nAfter updating from java 17 to 21 I am getting this error at runtime when trying to create a parser:\r\n\r\n```lang-none\r\njava.lang.RuntimeException: Error creating extended parser class: Unsupported class file major version 65\r\n        at org.parboiled.Parboiled.createParser(Parboiled.java:58)\r\n```\r\n\r\nVersion 65 class files is Java 21. The parser class is now indeed compiled with target 21. Why would parboiled not work with it? Any other workarounds outside of downgrading to target 17?\r\n\r\n\r\n**Minimal reproducible example:**\r\n\r\nbuild.gradle\r\n\r\n```lang-groovy\r\nplugins {\r\n    id &quot;application&quot;\r\n}\r\napply plugin : &quot;java&quot; \r\n\r\next {\r\n   javaMainClass = &quot;test.TestParser&quot;\r\n}\r\n\r\napplication {\r\n    mainClassName = javaMainClass\r\n}\r\ndependencies {\r\n\t\r\n\timplementation &#39;org.parboiled:parboiled-java:1.4.1&#39;\r\n}\r\n```\r\n\r\nTestParser.java\r\n\r\n```lang-java\r\npackage test;\r\n\r\nimport org.parboiled.BaseParser;\r\nimport org.parboiled.Parboiled;\r\nimport org.parboiled.Rule;\r\nimport org.parboiled.annotations.BuildParseTree;\r\n\r\n\r\n@BuildParseTree\r\npublic class TestParser extends BaseParser&lt;Object&gt; {\r\n\t\r\n\tpublic Rule InputLine() {\r\n\t\treturn Sequence(Digit(), EOI);\r\n\t}\r\n\tRule Digit() {\r\n\t\treturn CharRange(&#39;0&#39;, &#39;9&#39;);\r\n\t}\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tTestParser parser = Parboiled.createParser(TestParser.class);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```lang-none\r\ngradle run\r\n\r\nConfiguration on demand is an incubating feature.\r\n&gt; Task :test2:compileJava\r\n&gt; Task :test2:processResources NO-SOURCE\r\n&gt; Task :test2:classes\r\n\r\n&gt; Task :test2:run FAILED\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Error creating extended parser class: Unsupported class file major version 65\r\n        at org.parboiled.Parboiled.createParser(Parboiled.java:58)\r\n        at test.TestParser.main(TestParser.java:34)\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 65\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\r\n        at org.parboiled.transform.AsmUtils.createClassReader(AsmUtils.java:59)\r\n        at org.parboiled.transform.ClassNodeInitializer.process(ClassNodeInitializer.java:62)\r\n        at org.parboiled.transform.ParserTransformer.extendParserClass(ParserTransformer.java:44)\r\n        at org.parboiled.transform.ParserTransformer.transformParser(ParserTransformer.java:39)\r\n        at org.parboiled.Parboiled.createParser(Parboiled.java:54)\r\n        ... 1 more\r\n```\r\n","title":"Parboiled under Java 21: Unsupported class file major version 65","body":"<p>I'm am using parboiled as a dependency:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>// https://mvnrepository.com/artifact/org.parboiled/parboiled-java\napi 'org.parboiled:parboiled-java:1.4.1'\n</code></pre>\n<p>After updating from java 17 to 21 I am getting this error at runtime when trying to create a parser:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.RuntimeException: Error creating extended parser class: Unsupported class file major version 65\n        at org.parboiled.Parboiled.createParser(Parboiled.java:58)\n</code></pre>\n<p>Version 65 class files is Java 21. The parser class is now indeed compiled with target 21. Why would parboiled not work with it? Any other workarounds outside of downgrading to target 17?</p>\n<p><strong>Minimal reproducible example:</strong></p>\n<p>build.gradle</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id &quot;application&quot;\n}\napply plugin : &quot;java&quot; \n\next {\n   javaMainClass = &quot;test.TestParser&quot;\n}\n\napplication {\n    mainClassName = javaMainClass\n}\ndependencies {\n    \n    implementation 'org.parboiled:parboiled-java:1.4.1'\n}\n</code></pre>\n<p>TestParser.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport org.parboiled.BaseParser;\nimport org.parboiled.Parboiled;\nimport org.parboiled.Rule;\nimport org.parboiled.annotations.BuildParseTree;\n\n\n@BuildParseTree\npublic class TestParser extends BaseParser&lt;Object&gt; {\n    \n    public Rule InputLine() {\n        return Sequence(Digit(), EOI);\n    }\n    Rule Digit() {\n        return CharRange('0', '9');\n    }\n\n    \n    public static void main(String[] args) {\n        TestParser parser = Parboiled.createParser(TestParser.class);\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>gradle run\n\nConfiguration on demand is an incubating feature.\n&gt; Task :test2:compileJava\n&gt; Task :test2:processResources NO-SOURCE\n&gt; Task :test2:classes\n\n&gt; Task :test2:run FAILED\nException in thread &quot;main&quot; java.lang.RuntimeException: Error creating extended parser class: Unsupported class file major version 65\n        at org.parboiled.Parboiled.createParser(Parboiled.java:58)\n        at test.TestParser.main(TestParser.java:34)\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 65\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:287)\n        at org.parboiled.transform.AsmUtils.createClassReader(AsmUtils.java:59)\n        at org.parboiled.transform.ClassNodeInitializer.process(ClassNodeInitializer.java:62)\n        at org.parboiled.transform.ParserTransformer.extendParserClass(ParserTransformer.java:44)\n        at org.parboiled.transform.ParserTransformer.transformParser(ParserTransformer.java:39)\n        at org.parboiled.Parboiled.createParser(Parboiled.java:54)\n        ... 1 more\n</code></pre>\n"},{"tags":["java","arrays","oop","initialization","int"],"comments":[{"owner":{"account_id":552826,"reputation":93460,"user_id":916657,"accept_rate":95,"display_name":"Niklas B."},"score":0,"creation_date":1339017818,"post_id":10922489,"comment_id":14246568,"body_markdown":"Also see: http://stackoverflow.com/questions/4104134/why-are-variables-not-local-in-case-statements","body":"Also see: <a href=\"http://stackoverflow.com/questions/4104134/why-are-variables-not-local-in-case-statements\" title=\"why are variables not local in case statements\">stackoverflow.com/questions/4104134/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":83625,"reputation":5032,"user_id":234307,"accept_rate":89,"display_name":"jn1kk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339017686,"creation_date":1339017686,"answer_id":10922504,"question_id":10922489,"body_markdown":"I would tell you to put the array declaration outside the switch block, however, you cannot use `= { 1, 2, 3}` syntax after the declaration. You need to initialize it the regular way, as in `array = new int[] {1, 2, 3};`","title":"Java: How to initialize int array in a switch case?","body":"<p>I would tell you to put the array declaration outside the switch block, however, you cannot use <code>= { 1, 2, 3}</code> syntax after the declaration. You need to initialize it the regular way, as in <code>array = new int[] {1, 2, 3};</code></p>\n"},{"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1339017776,"creation_date":1339017776,"answer_id":10922519,"question_id":10922489,"body_markdown":"Put the declaration before the switch statement. You will also need to explicitly instantiate an array of the correct type.\r\n\r\n    int[] array;\r\n    switch (something) {\r\n        case 0: array = new int[] {1, 2, 3}; break;\r\n        default: array = new int[] {3, 2, 1};\r\n    }","title":"Java: How to initialize int array in a switch case?","body":"<p>Put the declaration before the switch statement. You will also need to explicitly instantiate an array of the correct type.</p>\n\n<pre><code>int[] array;\nswitch (something) {\n    case 0: array = new int[] {1, 2, 3}; break;\n    default: array = new int[] {3, 2, 1};\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":936980,"reputation":66,"user_id":965741,"display_name":"GWilliams00"},"score":0,"creation_date":1339018174,"post_id":10922529,"comment_id":14246685,"body_markdown":"Beat by less than a minute! Ah well. Glad you found a solution!","body":"Beat by less than a minute! Ah well. Glad you found a solution!"}],"tags":[],"owner":{"account_id":936980,"reputation":66,"user_id":965741,"display_name":"GWilliams00"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339017817,"creation_date":1339017817,"answer_id":10922529,"question_id":10922489,"body_markdown":"    int[] array;\r\n    switch (something) {\r\n        case 0: array = new int[]{1, 2, 3}; break;\r\n        default: array = new int[]{3, 2, 1};\r\n    }\r\n","title":"Java: How to initialize int array in a switch case?","body":"<pre><code>int[] array;\nswitch (something) {\n    case 0: array = new int[]{1, 2, 3}; break;\n    default: array = new int[]{3, 2, 1};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082455,"reputation":2095,"user_id":1079065,"accept_rate":44,"display_name":"user1079065"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438270416,"creation_date":1438270416,"answer_id":31728084,"question_id":10922489,"body_markdown":"I had the same question before. Hope this helps you.\r\n\r\nFirst Mark Byers is absolutely right. Java works with minimal possible scope. so if you try to do \r\n\r\n`case 1: int arr = whatever and \r\ncase 2 : int arr = ...` it will give you an error of re-declaration because entire switch is treated as a single scope and there is no case wise / based scope.\r\n\r\nPoint 2: if you say: \r\n\r\n`case 1: int arr = whatever and \r\ncase 2 : arr = ...` assuming that int arr will be compiled and taken from case 1 then you are still wrong and again java will give you the error, based on the principle that `each and every local var has to be declared and initialized before its use.`\r\n\r\nso the best way is to declare it outside your switch and define or initialize it in whichever case you prefer.","title":"Java: How to initialize int array in a switch case?","body":"<p>I had the same question before. Hope this helps you.</p>\n\n<p>First Mark Byers is absolutely right. Java works with minimal possible scope. so if you try to do </p>\n\n<p><code>case 1: int arr = whatever and \ncase 2 : int arr = ...</code> it will give you an error of re-declaration because entire switch is treated as a single scope and there is no case wise / based scope.</p>\n\n<p>Point 2: if you say: </p>\n\n<p><code>case 1: int arr = whatever and \ncase 2 : arr = ...</code> assuming that int arr will be compiled and taken from case 1 then you are still wrong and again java will give you the error, based on the principle that <code>each and every local var has to be declared and initialized before its use.</code></p>\n\n<p>so the best way is to declare it outside your switch and define or initialize it in whichever case you prefer.</p>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695625001,"creation_date":1695625001,"answer_id":77170432,"question_id":10922489,"body_markdown":"I have restructured the [answer code provided by @Mark Byers][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    public class Post10922519 {\r\n        public static int[] initializeIntArrayInSwitch(int something) {\r\n            int[] array;\r\n            switch (something) {\r\n                case 0: array = new int[] {1, 2, 3}; break;\r\n                default: array = new int[] {3, 2, 1};\r\n            }\r\n            return array;\r\n        }\r\n    }\r\n\r\n[1]: https://stackoverflow.com/a/10922519\r\n\r\n","title":"Java: How to initialize int array in a switch case?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/10922519\">answer code provided by @Mark Byers</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>public class Post10922519 {\n    public static int[] initializeIntArrayInSwitch(int something) {\n        int[] array;\n        switch (something) {\n            case 0: array = new int[] {1, 2, 3}; break;\n            default: array = new int[] {3, 2, 1};\n        }\n        return array;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":376652,"reputation":7534,"user_id":728244,"accept_rate":90,"display_name":"Tony Bogdanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4377,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10922519,"answer_count":5,"score":5,"last_activity_date":1695625001,"creation_date":1339017602,"question_id":10922489,"body_markdown":"How can I initialize an integer array in Java like so: `int[] array = {1,2,3};` inside a switch statement?\r\n\r\nCurrently, I can write:\r\n\r\n    switch(something) {\r\n        case 0: int[] array = {1,2,3}; break;\r\n        default: int[] array = {3,2,1};\r\n    }\r\n\r\nBut when I try to access the `array` variable, eclipse will complain that it might not be initialized.\r\n\r\nIf I try to declare it like `int[] array;` or `int[] array = new int[3];` and then have the switch statement, it would say I am trying to redeclare it.\r\n\r\nHow can I resolve this issue? Final idea is to be able to initialize an array with 10 values in just one line of code, based on some logic (a switch statement).","title":"Java: How to initialize int array in a switch case?","body":"<p>How can I initialize an integer array in Java like so: <code>int[] array = {1,2,3};</code> inside a switch statement?</p>\n\n<p>Currently, I can write:</p>\n\n<pre><code>switch(something) {\n    case 0: int[] array = {1,2,3}; break;\n    default: int[] array = {3,2,1};\n}\n</code></pre>\n\n<p>But when I try to access the <code>array</code> variable, eclipse will complain that it might not be initialized.</p>\n\n<p>If I try to declare it like <code>int[] array;</code> or <code>int[] array = new int[3];</code> and then have the switch statement, it would say I am trying to redeclare it.</p>\n\n<p>How can I resolve this issue? Final idea is to be able to initialize an array with 10 values in just one line of code, based on some logic (a switch statement).</p>\n"},{"tags":["java","oracle","plsql"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1695624975,"post_id":77170000,"comment_id":136043998,"body_markdown":"Probably a duplicate of https://stackoverflow.com/q/60074235/1509264","body":"Probably a duplicate of <a href=\"https://stackoverflow.com/q/60074235/1509264\">stackoverflow.com/q/60074235/1509264</a>"}],"owner":{"account_id":28796662,"reputation":11,"user_id":22054648,"display_name":"nasim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695625009,"answer_count":0,"score":0,"last_activity_date":1695624788,"creation_date":1695618100,"question_id":77170000,"body_markdown":"I am trying to use fingerprint device in pl/sql. I was able to save the fingerprint in Oracle database, now I want to identify this fingerprint. For this, the manufacturer has provided me with the sdk that I want to use its Java codes. For this, I wrote a Java code as follows:\r\n\r\n    import java.sql.*;\r\n    import oracle.jdbc.*;\r\n    import java.awt.*;\r\n    import java.awt.image.*;\r\n    import java.io.*;\r\n    import javax.imageio.*;\r\n    import javax.swing.*;\r\n    import com.futronic.SDKHelper.*;\r\n    import java.util.Base64;\r\n    import java.util.Vector;\r\n    \r\n    \r\n    public class MainForm \r\n    {\r\n    \r\n        public static String OnGetBaseTemplateComplete(String FPtemplate)\r\n        {\r\n            StringBuffer szMessage = new StringBuffer();\r\n            \r\n            String StrTemplate = FPtemplate;\r\n            byte[] DecodeTemplate = Base64.getDecoder().decode(StrTemplate);\r\n            m_Operation = new FutronicIdentification();\r\n            ((FutronicIdentification) m_Operation).Farn(245);\r\n            ((FutronicIdentification) m_Operation).BaseTemplate(DecodeTemplate);    \r\n            \r\n    \r\n                Vector&lt;DbRecord&gt; Users = (Vector&lt;DbRecord&gt;)m_OperationObj;\r\n                FtrIdentifyRecord[] rgRecords = new FtrIdentifyRecord[ Users.size() ];\r\n                for( int iUsers = 0; iUsers &lt; Users.size(); iUsers++ )\r\n                    rgRecords[iUsers] = Users.get( iUsers ).getFtrIdentifyRecord();\r\n    \r\n                FtrIdentifyResult result = new FtrIdentifyResult();\r\n                \r\n                int nResult = ((FutronicIdentification)m_Operation).Identification(rgRecords, result);\r\n                if (nResult == FutronicSdkBase.RETCODE_OK)\r\n                {\r\n                    szMessage.append(&quot;Identification process complete. User: &quot;);\r\n                    if( result.m_Index != -1 )\r\n                        szMessage.append(Users.get( result.m_Index ).getUserName() );\r\n                    else\r\n                        szMessage.append(&quot;not found&quot;);\r\n                } else {\r\n                    szMessage.append( &quot;Identification failed.&quot; );\r\n                    szMessage.append( FutronicSdkBase.SdkRetCode2Message( nResult ) );\r\n                }\r\n    \r\n            \r\n            String StrMessage = szMessage.toString();\r\n            \r\n            return StrMessage;\r\n    \r\n        }\r\n    \r\n    \r\n        /**\r\n         * Contain reference for current operation object\r\n         */\r\n        private FutronicSdkBase m_Operation;\r\n        \r\n    \r\n        private Object m_OperationObj;       \r\n    }\r\n\r\nBut the problem is with functions defined in other Java files and I don&#39;t know how to define this binding for PL/SQL. For example code\r\n\r\n    FtrIdentifyResult result = new FtrIdentifyResult();\r\n\r\n*(FtrIdentifyResult)* itself is a separate Java file that has functions and this function is also defined. *(FutronicIdentification)* and *(Identification)* and... also.\r\n\r\nor in line\r\n\r\n    private FutronicSdkBase m_Operation\r\n\r\nA variable of type *(FutronicSdkBase)* is defined, where *(FutronicSdkBase)* is a separate Java file with functions. Now how do I define this for pl/sql?","title":"Definition of related java functions in pl/sql","body":"<p>I am trying to use fingerprint device in pl/sql. I was able to save the fingerprint in Oracle database, now I want to identify this fingerprint. For this, the manufacturer has provided me with the sdk that I want to use its Java codes. For this, I wrote a Java code as follows:</p>\n<pre><code>import java.sql.*;\nimport oracle.jdbc.*;\nimport java.awt.*;\nimport java.awt.image.*;\nimport java.io.*;\nimport javax.imageio.*;\nimport javax.swing.*;\nimport com.futronic.SDKHelper.*;\nimport java.util.Base64;\nimport java.util.Vector;\n\n\npublic class MainForm \n{\n\n    public static String OnGetBaseTemplateComplete(String FPtemplate)\n    {\n        StringBuffer szMessage = new StringBuffer();\n        \n        String StrTemplate = FPtemplate;\n        byte[] DecodeTemplate = Base64.getDecoder().decode(StrTemplate);\n        m_Operation = new FutronicIdentification();\n        ((FutronicIdentification) m_Operation).Farn(245);\n        ((FutronicIdentification) m_Operation).BaseTemplate(DecodeTemplate);    \n        \n\n            Vector&lt;DbRecord&gt; Users = (Vector&lt;DbRecord&gt;)m_OperationObj;\n            FtrIdentifyRecord[] rgRecords = new FtrIdentifyRecord[ Users.size() ];\n            for( int iUsers = 0; iUsers &lt; Users.size(); iUsers++ )\n                rgRecords[iUsers] = Users.get( iUsers ).getFtrIdentifyRecord();\n\n            FtrIdentifyResult result = new FtrIdentifyResult();\n            \n            int nResult = ((FutronicIdentification)m_Operation).Identification(rgRecords, result);\n            if (nResult == FutronicSdkBase.RETCODE_OK)\n            {\n                szMessage.append(&quot;Identification process complete. User: &quot;);\n                if( result.m_Index != -1 )\n                    szMessage.append(Users.get( result.m_Index ).getUserName() );\n                else\n                    szMessage.append(&quot;not found&quot;);\n            } else {\n                szMessage.append( &quot;Identification failed.&quot; );\n                szMessage.append( FutronicSdkBase.SdkRetCode2Message( nResult ) );\n            }\n\n        \n        String StrMessage = szMessage.toString();\n        \n        return StrMessage;\n\n    }\n\n\n    /**\n     * Contain reference for current operation object\n     */\n    private FutronicSdkBase m_Operation;\n    \n\n    private Object m_OperationObj;       \n}\n</code></pre>\n<p>But the problem is with functions defined in other Java files and I don't know how to define this binding for PL/SQL. For example code</p>\n<pre><code>FtrIdentifyResult result = new FtrIdentifyResult();\n</code></pre>\n<p><em>(FtrIdentifyResult)</em> itself is a separate Java file that has functions and this function is also defined. <em>(FutronicIdentification)</em> and <em>(Identification)</em> and... also.</p>\n<p>or in line</p>\n<pre><code>private FutronicSdkBase m_Operation\n</code></pre>\n<p>A variable of type <em>(FutronicSdkBase)</em> is defined, where <em>(FutronicSdkBase)</em> is a separate Java file with functions. Now how do I define this for pl/sql?</p>\n"},{"tags":["java","jersey","jax-rs","cxf"],"answers":[{"tags":[],"owner":{"account_id":1532393,"reputation":99,"user_id":1429285,"display_name":"Jozef Dropčo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695623870,"creation_date":1695623870,"answer_id":77170345,"question_id":77160538,"body_markdown":"Use UriBuilder instead as various implementation treats this differently. We had very same problem in the past too\r\n```\r\nimport javax.ws.rs.client.Client;\r\nimport javax.ws.rs.client.ClientBuilder;\r\nimport javax.ws.rs.client.WebTarget;\r\nimport javax.ws.rs.core.UriBuilder;\r\n\r\npublic class RestClientServiceImpl {\r\n  public static void main(String[] args) {\r\n    String url = &quot;https://foo.bar/test/api/users?q=key:value&quot;;\r\n    UriBuilder uri = UriBuilder.fromUri(url);\r\n    ClientBuilder builder = ClientBuilder.newBuilder();\r\n    Client client = builder.build();\r\n\r\n    System.out.println(String.format(&quot;Before doing WebTarget %s &quot;, url));\r\n    WebTarget target = client.target(uri.build());\r\n    System.out.println(String.format(&quot;After doing WebTarget  %s &quot;, target.getUri()));\r\n  }\r\n}\r\n```","title":"JAX-RS Apache CXF vs Jersey implementations. Encoding","body":"<p>Use UriBuilder instead as various implementation treats this differently. We had very same problem in the past too</p>\n<pre><code>import javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.client.WebTarget;\nimport javax.ws.rs.core.UriBuilder;\n\npublic class RestClientServiceImpl {\n  public static void main(String[] args) {\n    String url = &quot;https://foo.bar/test/api/users?q=key:value&quot;;\n    UriBuilder uri = UriBuilder.fromUri(url);\n    ClientBuilder builder = ClientBuilder.newBuilder();\n    Client client = builder.build();\n\n    System.out.println(String.format(&quot;Before doing WebTarget %s &quot;, url));\n    WebTarget target = client.target(uri.build());\n    System.out.println(String.format(&quot;After doing WebTarget  %s &quot;, target.getUri()));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19255495,"reputation":21,"user_id":14072510,"display_name":"KrzMar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695623870,"creation_date":1695415011,"question_id":77160538,"body_markdown":"Just wondering if such a code shouldn&#39;t return the same using different implementation of JAX-RS? I&#39;m not really into Java.\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport javax.ws.rs.client.Client;\r\nimport javax.ws.rs.client.ClientBuilder;\r\nimport javax.ws.rs.client.Invocation.Builder;\r\nimport javax.ws.rs.client.WebTarget;\r\n\r\npublic class RestClientServiceImpl {\r\n  public static void main(String[] args) {\r\n    String url = &quot;https://foo.bar/test/api/users?q=key:value&quot;;\r\n    ClientBuilder builder = ClientBuilder.newBuilder();\r\n    Client client = builder.build();\r\n\r\n    System.out.println(String.format(&quot;Before doing WebTarget %s &quot;, url));\r\n    WebTarget target = client.target(url);\r\n    System.out.println(String.format(&quot;After doing WebTarget  %s &quot;, target.getUri()));\r\n  }\r\n}\r\n\r\n```\r\n\r\nhttps://eclipse-ee4j.github.io/jersey/download.html\r\nhttps://repo1.maven.org/maven2/org/glassfish/jersey/bundles/jaxrs-ri/2.40/jaxrs-ri-2.40.zip\r\n```\r\n$ libs=&quot;jaxrs-ri/api/*:jaxrs-ri/ext/*:jaxrs-ri/lib/*&quot; ; javac -cp .:${libs} RestClientServiceImpl.java ; java -cp .:${libs} RestClientServiceImpl\r\nBefore doing WebTarget https://foo.bar/test/api/users?q=key:value\r\nAfter doing WebTarget  https://foo.bar/test/api/users?q=key:value\r\n```\r\n\r\nhttps://cxf.apache.org/download.html\r\nhttps://dlcdn.apache.org/cxf/3.6.2/apache-cxf-3.6.2.zip\r\n```\r\n$ libs=&quot;apache-cxf-3.6.2/lib/*&quot; ; javac -cp .:${libs} RestClientServiceImpl.java ; java -cp .:${libs} RestClientServiceImpl\r\nBefore doing WebTarget https://foo.bar/test/api/users?q=key:value\r\nAfter doing WebTarget  https://foo.bar/test/api/users?q=key%3Avalue\r\n\r\n```\r\n\r\nThe difference is encoded colon.\r\n\r\n","title":"JAX-RS Apache CXF vs Jersey implementations. Encoding","body":"<p>Just wondering if such a code shouldn't return the same using different implementation of JAX-RS? I'm not really into Java.</p>\n<pre><code>import java.util.*;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.client.Invocation.Builder;\nimport javax.ws.rs.client.WebTarget;\n\npublic class RestClientServiceImpl {\n  public static void main(String[] args) {\n    String url = &quot;https://foo.bar/test/api/users?q=key:value&quot;;\n    ClientBuilder builder = ClientBuilder.newBuilder();\n    Client client = builder.build();\n\n    System.out.println(String.format(&quot;Before doing WebTarget %s &quot;, url));\n    WebTarget target = client.target(url);\n    System.out.println(String.format(&quot;After doing WebTarget  %s &quot;, target.getUri()));\n  }\n}\n\n</code></pre>\n<p><a href=\"https://eclipse-ee4j.github.io/jersey/download.html\" rel=\"nofollow noreferrer\">https://eclipse-ee4j.github.io/jersey/download.html</a>\n<a href=\"https://repo1.maven.org/maven2/org/glassfish/jersey/bundles/jaxrs-ri/2.40/jaxrs-ri-2.40.zip\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/glassfish/jersey/bundles/jaxrs-ri/2.40/jaxrs-ri-2.40.zip</a></p>\n<pre><code>$ libs=&quot;jaxrs-ri/api/*:jaxrs-ri/ext/*:jaxrs-ri/lib/*&quot; ; javac -cp .:${libs} RestClientServiceImpl.java ; java -cp .:${libs} RestClientServiceImpl\nBefore doing WebTarget https://foo.bar/test/api/users?q=key:value\nAfter doing WebTarget  https://foo.bar/test/api/users?q=key:value\n</code></pre>\n<p><a href=\"https://cxf.apache.org/download.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/download.html</a>\n<a href=\"https://dlcdn.apache.org/cxf/3.6.2/apache-cxf-3.6.2.zip\" rel=\"nofollow noreferrer\">https://dlcdn.apache.org/cxf/3.6.2/apache-cxf-3.6.2.zip</a></p>\n<pre><code>$ libs=&quot;apache-cxf-3.6.2/lib/*&quot; ; javac -cp .:${libs} RestClientServiceImpl.java ; java -cp .:${libs} RestClientServiceImpl\nBefore doing WebTarget https://foo.bar/test/api/users?q=key:value\nAfter doing WebTarget  https://foo.bar/test/api/users?q=key%3Avalue\n\n</code></pre>\n<p>The difference is encoded colon.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1600187715,"post_id":63906176,"comment_id":113006673,"body_markdown":"Are you testing with HTTPS? https://stackoverflow.com/questions/50511702/enable-http-strict-transport-security-hsts-with-spring-boot-application","body":"Are you testing with HTTPS? <a href=\"https://stackoverflow.com/questions/50511702/enable-http-strict-transport-security-hsts-with-spring-boot-application\" title=\"enable http strict transport security hsts with spring boot application\">stackoverflow.com/questions/50511702/&hellip;</a>"},{"owner":{"account_id":10277734,"reputation":695,"user_id":7584019,"display_name":"Rahul Vala"},"score":0,"creation_date":1600188364,"post_id":63906176,"comment_id":113006941,"body_markdown":"@XtremeBiker yes","body":"@XtremeBiker yes"}],"answers":[{"tags":[],"owner":{"account_id":435781,"reputation":1889,"user_id":822561,"display_name":"Alexander Pranko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695623677,"creation_date":1654188560,"answer_id":72479660,"question_id":63906176,"body_markdown":"The default `RequestMatcher` used in `HstsConfig` is checking if a request is HTTPS `HttpServletRequest.isSecure()`. If it&#39;s not sufficient for you due to some reasons, you can use another matcher.\r\n\r\nThe code below ensures that the `Strict-Transport-Security` header is set in all responses: \r\n\r\n```\r\n    http.headers()\r\n          .httpStrictTransportSecurity()\r\n          .requestMatcher(AnyRequestMatcher.INSTANCE)\r\n          ...\r\n```","title":"Can&#39;t set the Strict-Transport-Security header in Spring Boot","body":"<p>The default <code>RequestMatcher</code> used in <code>HstsConfig</code> is checking if a request is HTTPS <code>HttpServletRequest.isSecure()</code>. If it's not sufficient for you due to some reasons, you can use another matcher.</p>\n<p>The code below ensures that the <code>Strict-Transport-Security</code> header is set in all responses:</p>\n<pre><code>    http.headers()\n          .httpStrictTransportSecurity()\n          .requestMatcher(AnyRequestMatcher.INSTANCE)\n          ...\n</code></pre>\n"}],"owner":{"account_id":10277734,"reputation":695,"user_id":7584019,"display_name":"Rahul Vala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695623677,"creation_date":1600187315,"question_id":63906176,"body_markdown":"I am trying to set Strict Transport Security header to my Spring Webflow App. \r\n\r\nThis is the code that I have written to set the response header\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            \r\n            http.headers()\r\n                .httpStrictTransportSecurity()\r\n                .includeSubDomains(true).maxAgeInSeconds(31536000).and()\r\n                .cacheControl().disable()\r\n                .frameOptions().disable();       \r\n        }\r\n    }\r\n\r\nNow, I am checking the response headers for the urls and although the other two headers (cache-control and frame-options) are being set, but I am not seeing Strict Transport Security header anywhere.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHJDT.png\r\n\r\n\r\nThank you","title":"Can&#39;t set the Strict-Transport-Security header in Spring Boot","body":"<p>I am trying to set Strict Transport Security header to my Spring Webflow App.</p>\n<p>This is the code that I have written to set the response header</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        \n        http.headers()\n            .httpStrictTransportSecurity()\n            .includeSubDomains(true).maxAgeInSeconds(31536000).and()\n            .cacheControl().disable()\n            .frameOptions().disable();       \n    }\n}\n</code></pre>\n<p>Now, I am checking the response headers for the urls and although the other two headers (cache-control and frame-options) are being set, but I am not seeing Strict Transport Security header anywhere.</p>\n<p><a href=\"https://i.stack.imgur.com/bHJDT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bHJDT.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695625391,"post_id":77170321,"comment_id":136044063,"body_markdown":"Why should it throw an exception? You are using a mock, haven&#39;t registered anything on the mock so it will do the default, which is to return an empty optional. A mock doesn&#39;t magically know what to do you will have to register that yourself.","body":"Why should it throw an exception? You are using a mock, haven&#39;t registered anything on the mock so it will do the default, which is to return an empty optional. A mock doesn&#39;t magically know what to do you will have to register that yourself."}],"owner":{"account_id":25687239,"reputation":13,"user_id":19449118,"display_name":"Hendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695623622,"creation_date":1695623622,"question_id":77170321,"body_markdown":"I wrote a unit test in springboot, where when saving data with the same &quot;Name&quot; it will throw DuplicateException. However, when I tried to run it, the result was &quot;Nothing was thrown&quot;.\r\n\r\nmy RoleServiceImplement.Class :\r\n\r\n    @Override\r\n        public Role save(RoleDAO roleDAO) throws DuplicatException\r\n        {\r\n    \r\n            Optional&lt;Role&gt; cekRole = roleRepository.findByName(roleDAO.getName());\r\n            if(cekRole.isPresent()){\r\n                throw  new RuntimeException(&quot;Already registered&quot;);\r\n            }\r\n            Date now = new Date();\r\n            Role role = new Role();\r\n            role.setCreatedBy(roleDAO.getCreatedBy());\r\n            role.setModifiedBy(roleDAO.getModifiedBy());\r\n            role.setStatus(&quot;1&quot;);\r\n            role.setName(roleDAO.getName());\r\n            role.setDescription(roleDAO.getDescription());\r\n            role.setCreatedAt(now);\r\n            role.setUpdatedAt(now);\r\n            roleRepository.save(role);\r\n            return role;\r\n        }\r\n\r\nMy Unit test:\r\n\r\n        @Mock\r\n        private RoleRepository roleRepository;\r\n    \r\n        @InjectMocks\r\n        private RoleServiceImplement roleService;\r\n\r\n        @DisplayName(&quot;Duplicate Role&quot;)\r\n        @Test\r\n        public void duplicate_role_name_throw_errors() throws Exception{\r\n          RoleDAO role1 = new RoleDAO();\r\n          role1.setName(&quot;test&quot;);\r\n          role1.setDescription(&quot;test&quot;);\r\n          role1.setCreatedBy(&quot;test&quot;);\r\n          role1.setModifiedBy(&quot;test&quot;);\r\n\r\n          RoleDAO role2 = new RoleDAO();\r\n          role2.setName(&quot;test&quot;);\r\n          role2.setDescription(&quot;test&quot;);\r\n          role2.setCreatedBy(&quot;test&quot;);\r\n          role2.setModifiedBy(&quot;test&quot;);\r\n\r\n          DuplicatException thrown = Assertions.assertThrows(DuplicatException.class, () -&gt; {\r\n            roleService.save(role1);\r\n            roleService.save(role2);\r\n            });\r\n          }\r\n\r\n","title":"Testing Service insert duplicate &quot;Name&quot; expected thrown DuplicateException , but nothing was thrown","body":"<p>I wrote a unit test in springboot, where when saving data with the same &quot;Name&quot; it will throw DuplicateException. However, when I tried to run it, the result was &quot;Nothing was thrown&quot;.</p>\n<p>my RoleServiceImplement.Class :</p>\n<pre><code>@Override\n    public Role save(RoleDAO roleDAO) throws DuplicatException\n    {\n\n        Optional&lt;Role&gt; cekRole = roleRepository.findByName(roleDAO.getName());\n        if(cekRole.isPresent()){\n            throw  new RuntimeException(&quot;Already registered&quot;);\n        }\n        Date now = new Date();\n        Role role = new Role();\n        role.setCreatedBy(roleDAO.getCreatedBy());\n        role.setModifiedBy(roleDAO.getModifiedBy());\n        role.setStatus(&quot;1&quot;);\n        role.setName(roleDAO.getName());\n        role.setDescription(roleDAO.getDescription());\n        role.setCreatedAt(now);\n        role.setUpdatedAt(now);\n        roleRepository.save(role);\n        return role;\n    }\n</code></pre>\n<p>My Unit test:</p>\n<pre><code>    @Mock\n    private RoleRepository roleRepository;\n\n    @InjectMocks\n    private RoleServiceImplement roleService;\n\n    @DisplayName(&quot;Duplicate Role&quot;)\n    @Test\n    public void duplicate_role_name_throw_errors() throws Exception{\n      RoleDAO role1 = new RoleDAO();\n      role1.setName(&quot;test&quot;);\n      role1.setDescription(&quot;test&quot;);\n      role1.setCreatedBy(&quot;test&quot;);\n      role1.setModifiedBy(&quot;test&quot;);\n\n      RoleDAO role2 = new RoleDAO();\n      role2.setName(&quot;test&quot;);\n      role2.setDescription(&quot;test&quot;);\n      role2.setCreatedBy(&quot;test&quot;);\n      role2.setModifiedBy(&quot;test&quot;);\n\n      DuplicatException thrown = Assertions.assertThrows(DuplicatException.class, () -&gt; {\n        roleService.save(role1);\n        roleService.save(role2);\n        });\n      }\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":280581,"reputation":3054,"user_id":576369,"display_name":"S.P."},"score":0,"creation_date":1331786796,"post_id":9714093,"comment_id":12348974,"body_markdown":"Check this link. Has some good points on how to go about fixing it http://ourcraft.wordpress.com/2009/01/23/object-is-not-an-instance-of-declaring-class/","body":"Check this link. Has some good points on how to go about fixing it <a href=\"http://ourcraft.wordpress.com/2009/01/23/object-is-not-an-instance-of-declaring-class/\" rel=\"nofollow noreferrer\">ourcraft.wordpress.com/2009/01/23/&hellip;</a>"},{"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"score":0,"creation_date":1331787055,"post_id":9714093,"comment_id":12349027,"body_markdown":"I edited the tags to better categorize the question.  You should bear in mind that each tag stands on its own; they don&#39;t form a sentence.  (It doesn&#39;t make sense to group a question about &quot;instance&quot; with other questions about &quot;instance&quot;, for example.  But it *does* make sense to group a question about Java with other questions about Java.)","body":"I edited the tags to better categorize the question.  You should bear in mind that each tag stands on its own; they don&#39;t form a sentence.  (It doesn&#39;t make sense to group a question about &quot;instance&quot; with other questions about &quot;instance&quot;, for example.  But it <i>does</i> make sense to group a question about Java with other questions about Java.)"}],"answers":[{"tags":[],"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331786744,"creation_date":1331786744,"answer_id":9714116,"question_id":9714093,"body_markdown":"`Class` has a `newInstance()` method that you can call to create an instance of the class using its default constructor.  Or, you can call `getConstructor()` or `getConstructors()` to find a constructor that takes the right kind of arguments, and then call `newInstance()` on the `Constructor` object, passing the construction arguments.","title":"how to convert Class to Instance Object","body":"<p><code>Class</code> has a <code>newInstance()</code> method that you can call to create an instance of the class using its default constructor.  Or, you can call <code>getConstructor()</code> or <code>getConstructors()</code> to find a constructor that takes the right kind of arguments, and then call <code>newInstance()</code> on the <code>Constructor</code> object, passing the construction arguments.</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1331786764,"creation_date":1331786764,"answer_id":9714119,"question_id":9714093,"body_markdown":"If `PerformanceInvokeService` has an accessible default constructor, you can create a new instance using:\r\n\r\n    Object instance = c.newInstance();\r\n\r\nYou can then pass that to the method invocation:\r\n\r\n    Object ret = m.invoke(instance, new Object[] { &quot;some string&quot;, new Date() });\r\n\r\nIf there is no accessible default constructor, then you&#39;ll have to find a constructor that you can use by using reflection.","title":"how to convert Class to Instance Object","body":"<p>If <code>PerformanceInvokeService</code> has an accessible default constructor, you can create a new instance using:</p>\n\n<pre><code>Object instance = c.newInstance();\n</code></pre>\n\n<p>You can then pass that to the method invocation:</p>\n\n<pre><code>Object ret = m.invoke(instance, new Object[] { \"some string\", new Date() });\n</code></pre>\n\n<p>If there is no accessible default constructor, then you'll have to find a constructor that you can use by using reflection.</p>\n"},{"tags":[],"owner":{"account_id":1095084,"reputation":2277,"user_id":1088846,"accept_rate":100,"display_name":"Jochen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331786811,"creation_date":1331786811,"answer_id":9714125,"question_id":9714093,"body_markdown":"You need to add\r\n\r\n    Object myInstance = c.newInstance();\r\n\r\nThis will call the default constructor and create a new object. Then you can use this as the first argument in \r\n\r\n    m.invoke()","title":"how to convert Class to Instance Object","body":"<p>You need to add</p>\n\n<pre><code>Object myInstance = c.newInstance();\n</code></pre>\n\n<p>This will call the default constructor and create a new object. Then you can use this as the first argument in </p>\n\n<pre><code>m.invoke()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695623613,"creation_date":1695623613,"answer_id":77170320,"question_id":9714093,"body_markdown":"On newer versions of Java try this:\r\n\r\n- Assuming `resultClass` stands for `Class&lt;T&gt; resultClass`\r\n- Reason for doing so is that `Class.newInstance` is now deprecated (since Java 9)\r\n\r\n```\r\ntry {\r\n  content.add(resultClass.getDeclaredConstructor().newInstance());\r\n} catch (Exception e) {\r\n  log.catching(e);\r\n}\r\n```\r\n\r\nP.S. Perhaps catching with `Exception` is excessive.","title":"how to convert Class to Instance Object","body":"<p>On newer versions of Java try this:</p>\n<ul>\n<li>Assuming <code>resultClass</code> stands for <code>Class&lt;T&gt; resultClass</code></li>\n<li>Reason for doing so is that <code>Class.newInstance</code> is now deprecated (since Java 9)</li>\n</ul>\n<pre><code>try {\n  content.add(resultClass.getDeclaredConstructor().newInstance());\n} catch (Exception e) {\n  log.catching(e);\n}\n</code></pre>\n<p>P.S. Perhaps catching with <code>Exception</code> is excessive.</p>\n"}],"owner":{"account_id":1241573,"reputation":69,"user_id":1204050,"display_name":"Poringe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23289,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9714119,"answer_count":4,"score":4,"last_activity_date":1695623613,"creation_date":1331786556,"question_id":9714093,"body_markdown":"take a look at my code....\r\n\r\n        Class&lt;?&gt; c = Class.forName(&quot;PerformanceInvokeService&quot;);\r\n\r\n\t\tMethod m = c.getDeclaredMethod(&quot;monthlyTestCal&quot;, new Class[] {\r\n\t\t\t\tString.class, Date.class });\r\n\t\tObject ret = m.invoke(&quot;PerformanceInvokeService&quot;, new Object[] {\r\n\t\t\t\t&quot;some string&quot;, new Date() });\r\n\t\tSystem.out.println(ret);\r\n    \t\t\t\r\ni execute this and its thrown an exception\r\n\r\n    java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n\r\ni think, because i don&#39;t create an instance of c (likes...new PerformanceInvokeService())\r\nand i don&#39;t know how to create it\r\n\r\nsomebody help? \r\n\r\nsorry for my english...\r\n\r\nthanks","title":"how to convert Class to Instance Object","body":"<p>take a look at my code....</p>\n\n<pre><code>    Class&lt;?&gt; c = Class.forName(\"PerformanceInvokeService\");\n\n    Method m = c.getDeclaredMethod(\"monthlyTestCal\", new Class[] {\n            String.class, Date.class });\n    Object ret = m.invoke(\"PerformanceInvokeService\", new Object[] {\n            \"some string\", new Date() });\n    System.out.println(ret);\n</code></pre>\n\n<p>i execute this and its thrown an exception</p>\n\n<pre><code>java.lang.IllegalArgumentException: object is not an instance of declaring class\n</code></pre>\n\n<p>i think, because i don't create an instance of c (likes...new PerformanceInvokeService())\nand i don't know how to create it</p>\n\n<p>somebody help? </p>\n\n<p>sorry for my english...</p>\n\n<p>thanks</p>\n"},{"tags":["java","android","reflection"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1695625414,"post_id":77170270,"comment_id":136044070,"body_markdown":"How do you know the field exist? The error seem to indicate that there is so filed of that name, so may be you were looking at code that is not installed on your device.","body":"How do you know the field exist? The error seem to indicate that there is so filed of that name, so may be you were looking at code that is not installed on your device."}],"owner":{"account_id":8365629,"reputation":23,"user_id":6282436,"display_name":"Cosmin C."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695622987,"creation_date":1695622987,"question_id":77170270,"body_markdown":"I am trying to access private field mRadialTimePickerModeButton in android.widget.TimePickerClockDelegate\r\n\r\nTimePickerClockDelegate is a non public class extending TimePicker.AbstractTimePickerDelegate which implements TimePicker.TimePickerDelegate\r\n\r\nI cannot make a new instance of this, I need to modify that field on this particular instance.\r\n\r\nI tried accessing it like this:\r\n\r\n\r\n```\r\nField field = TimePickerDialog.class.getDeclaredField(&quot;mTimePicker&quot;);\r\nfield.setAccessible(true);\r\nTimePicker timePicker = (TimePicker) field.get(this);\r\n\r\nField delegateField = TimePicker.class.getDeclaredField(&quot;mDelegate&quot;);\r\ndelegateField.setAccessible(true);\r\nObject delegate = delegateField.get(timePicker);\r\n\r\nField buttonField = delegate.getClass().getDeclaredField(&quot;mRadialTimePickerModeButton&quot;);\r\nbuttonField.setAccessible(true);\r\nImageButton radialTimePickerModeButton = (ImageButton) buttonField.get(delegate);\r\n```\r\n\r\nGetting: No field mRadialTimePickerModeButton in class Landroid/widget/TimePickerClockDelegate; (declaration of &#39;android.widget.TimePickerClockDelegate&#39; appears in /system/framework/framework.jar!classes4.dex)","title":"Access field in non public class through reflection","body":"<p>I am trying to access private field mRadialTimePickerModeButton in android.widget.TimePickerClockDelegate</p>\n<p>TimePickerClockDelegate is a non public class extending TimePicker.AbstractTimePickerDelegate which implements TimePicker.TimePickerDelegate</p>\n<p>I cannot make a new instance of this, I need to modify that field on this particular instance.</p>\n<p>I tried accessing it like this:</p>\n<pre><code>Field field = TimePickerDialog.class.getDeclaredField(&quot;mTimePicker&quot;);\nfield.setAccessible(true);\nTimePicker timePicker = (TimePicker) field.get(this);\n\nField delegateField = TimePicker.class.getDeclaredField(&quot;mDelegate&quot;);\ndelegateField.setAccessible(true);\nObject delegate = delegateField.get(timePicker);\n\nField buttonField = delegate.getClass().getDeclaredField(&quot;mRadialTimePickerModeButton&quot;);\nbuttonField.setAccessible(true);\nImageButton radialTimePickerModeButton = (ImageButton) buttonField.get(delegate);\n</code></pre>\n<p>Getting: No field mRadialTimePickerModeButton in class Landroid/widget/TimePickerClockDelegate; (declaration of 'android.widget.TimePickerClockDelegate' appears in /system/framework/framework.jar!classes4.dex)</p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1695598593,"post_id":77169277,"comment_id":136041690,"body_markdown":"`str.charAt(0) == open &amp;&amp; str.charAt(1) == close` will only ever be true if you have nothing in between those enclosing characters. Sit down with a bit of pen and paper, and draw out each iteration instead of looking at your code: start with `&quot;hello (there] sir&quot;` and move up one character at a time: at what point do you hit an opener? And where is the closer when that happens? Do you keep going? If so, until when?","body":"<code>str.charAt(0) == open &amp;&amp; str.charAt(1) == close</code> will only ever be true if you have nothing in between those enclosing characters. Sit down with a bit of pen and paper, and draw out each iteration instead of looking at your code: start with <code>&quot;hello (there] sir&quot;</code> and move up one character at a time: at what point do you hit an opener? And where is the closer when that happens? Do you keep going? If so, until when?"},{"owner":{"account_id":20115535,"reputation":1,"user_id":14751078,"display_name":"ComputerScienceHelp"},"score":0,"creation_date":1695599045,"post_id":77169277,"comment_id":136041726,"body_markdown":"hmm I&#39;ve tried this basically I expect my code to stop the iteration once I reach the end character so must I compare every character I am going to add to the string with the last character how would I go about this??","body":"hmm I&#39;ve tried this basically I expect my code to stop the iteration once I reach the end character so must I compare every character I am going to add to the string with the last character how would I go about this??"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1695599629,"post_id":77169277,"comment_id":136041772,"body_markdown":"Pretty much like that: you check if the first character is the closing character, and if it&#39;s not that character is part of your return value. If it is, you&#39;re done and you can stop recursing.","body":"Pretty much like that: you check if the first character is the closing character, and if it&#39;s not that character is part of your return value. If it is, you&#39;re done and you can stop recursing."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695607004,"post_id":77169277,"comment_id":136042369,"body_markdown":"The problem as stated __does not make sense__ - nothing about the problem statement is eligible for any sort of recursive algorithm. A slight variation on the question at least makes sense (&quot;A string is provided that is surrounded by __any amount of__ open/close pairs. Return the string with all the pairs removed&quot;), i.e. given: `&quot;(((((abc))))&quot;`, `(`, `)` - return the value `&quot;(abc&quot;`.","body":"The problem as stated <b>does not make sense</b> - nothing about the problem statement is eligible for any sort of recursive algorithm. A slight variation on the question at least makes sense (&quot;A string is provided that is surrounded by <b>any amount of</b> open/close pairs. Return the string with all the pairs removed&quot;), i.e. given: <code>&quot;(((((abc))))&quot;</code>, <code>(</code>, <code>)</code> - return the value <code>&quot;(abc&quot;</code>."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695607080,"post_id":77169277,"comment_id":136042376,"body_markdown":"We can bend over backwards and cook something up that&#39;s technically recursive but it wouldn&#39;t be sane by any reasonable definition. Perhaps go back to the source and check if you understood the task correctly.","body":"We can bend over backwards and cook something up that&#39;s technically recursive but it wouldn&#39;t be sane by any reasonable definition. Perhaps go back to the source and check if you understood the task correctly."}],"answers":[{"comments":[{"owner":{"account_id":20115535,"reputation":1,"user_id":14751078,"display_name":"ComputerScienceHelp"},"score":0,"creation_date":1695606040,"post_id":77169340,"comment_id":136042288,"body_markdown":"thanks I&#39;ve modified the code a bit because it was passing all but 1 of my test cases but this really helped","body":"thanks I&#39;ve modified the code a bit because it was passing all but 1 of my test cases but this really helped"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1695627043,"post_id":77169340,"comment_id":136044338,"body_markdown":"@ComputerScienceHelp, if it helped, you might consider marking the answer as accepted.","body":"@ComputerScienceHelp, if it helped, you might consider marking the answer as accepted."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695600080,"creation_date":1695600080,"answer_id":77169340,"question_id":77169277,"body_markdown":"&gt; _&quot;... I have this but its not working I think I need to create a whole new string that goes through the length of the substring ...&quot;_\r\n\r\nEssentially, return _str_ when either _open_ or _close_ is not found.\\\r\nOtherwise, send the _substring_ to the method.\r\n\r\n```java\r\nString getSubstring(String str, char open, char close) {\r\n    if (str.length() &lt; 2) return str;\r\n    int i = str.indexOf(open), j = str.indexOf(close);\r\n    if (Math.min(i, j) == -1) return str;\r\n    return getSubstring(str.substring(i + 1, j), open, close);\r\n}\r\n```","title":"Recursive java method for strings","body":"<blockquote>\n<p><em>&quot;... I have this but its not working I think I need to create a whole new string that goes through the length of the substring ...&quot;</em></p>\n</blockquote>\n<p>Essentially, return <em>str</em> when either <em>open</em> or <em>close</em> is not found.<br />\nOtherwise, send the <em>substring</em> to the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String getSubstring(String str, char open, char close) {\n    if (str.length() &lt; 2) return str;\n    int i = str.indexOf(open), j = str.indexOf(close);\n    if (Math.min(i, j) == -1) return str;\n    return getSubstring(str.substring(i + 1, j), open, close);\n}\n</code></pre>\n"}],"owner":{"account_id":20115535,"reputation":1,"user_id":14751078,"display_name":"ComputerScienceHelp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695622835,"creation_date":1695597963,"question_id":77169277,"body_markdown":"So im stuck on this recursive java method so I am are to write a recursion that gets a string and two characters and returns the substring that is enclosed in two given characters. You can assume that the given string includes only one instance of each enclosing characters.\r\nFor example, if the input string is “Hello (there] how are you?” and the first enclosing character is &#39;(&#39; and the second is &#39;]&#39;, it should return “there”\r\n\r\n```java\r\npublic static String getSubstring(String str, char open, char close) {\r\n  if(str.length() &lt; 2) {\r\n    return &quot;&quot;;\r\n  } else {\r\n    if (str.length()&gt;= 2 &amp;&amp; str.charAt(0) == open &amp;&amp; str.charAt(1) == close){\r\n      return &quot;&quot;;\r\n    }\r\n  }\r\n  return getSubstring(str.substring(1), open, close);\r\n}\r\n```\r\n\r\nI have this but its not working I think I need to create a whole new string that goes through the length of the substring I also have something like this \r\n\r\n```java\r\npublic static String getSubstring(String str, char open, char close) {\r\n  int openIndex = str.indexOf(open);\r\n  int closeIndex = str.indexOf(close);\r\n  \r\n  if(str.length() &lt; 2) {\r\n    return &quot;&quot;;\r\n  } \r\n\r\n  String newString = newString + str.substring(openIndex, openIndex + 1) ;\r\n}\r\n```\r\n\r\nbut I dont know where to go from here\r\n","title":"Recursive java method for strings","body":"<p>So im stuck on this recursive java method so I am are to write a recursion that gets a string and two characters and returns the substring that is enclosed in two given characters. You can assume that the given string includes only one instance of each enclosing characters.\nFor example, if the input string is “Hello (there] how are you?” and the first enclosing character is '(' and the second is ']', it should return “there”</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getSubstring(String str, char open, char close) {\n  if(str.length() &lt; 2) {\n    return &quot;&quot;;\n  } else {\n    if (str.length()&gt;= 2 &amp;&amp; str.charAt(0) == open &amp;&amp; str.charAt(1) == close){\n      return &quot;&quot;;\n    }\n  }\n  return getSubstring(str.substring(1), open, close);\n}\n</code></pre>\n<p>I have this but its not working I think I need to create a whole new string that goes through the length of the substring I also have something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getSubstring(String str, char open, char close) {\n  int openIndex = str.indexOf(open);\n  int closeIndex = str.indexOf(close);\n  \n  if(str.length() &lt; 2) {\n    return &quot;&quot;;\n  } \n\n  String newString = newString + str.substring(openIndex, openIndex + 1) ;\n}\n</code></pre>\n<p>but I dont know where to go from here</p>\n"},{"tags":["java","postgresql","amazon-web-services","spring-boot","amazon-rds"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1694399234,"post_id":77078130,"comment_id":135881383,"body_markdown":"The error with psql is clearly a client configuration problem.  It is hard to see how that could have anything to do with the change on the server.","body":"The error with psql is clearly a client configuration problem.  It is hard to see how that could have anything to do with the change on the server."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1694399263,"post_id":77078130,"comment_id":135881386,"body_markdown":"What error message is found in the server log file?  That will often be more informative than the one reported by the client.","body":"What error message is found in the server log file?  That will often be more informative than the one reported by the client."}],"answers":[{"tags":[],"owner":{"account_id":24482061,"reputation":11,"user_id":18400319,"display_name":"Ishan Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694397862,"creation_date":1694397862,"answer_id":77078553,"question_id":77078130,"body_markdown":"For running application in local, add **?sslmode=disable** after {DATABASE_NAME} in spring.datasource.url","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>For running application in local, add <strong>?sslmode=disable</strong> after {DATABASE_NAME} in spring.datasource.url</p>\n"},{"tags":[],"owner":{"account_id":14513514,"reputation":1,"user_id":10483249,"display_name":"samuh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694505505,"creation_date":1694505505,"answer_id":77087092,"question_id":77078130,"body_markdown":"As a workaround for Postgres DBs I used the **rds-ca-rsa4096-g1** encryption instead of rds-ca-ecc384-g1. ","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>As a workaround for Postgres DBs I used the <strong>rds-ca-rsa4096-g1</strong> encryption instead of rds-ca-ecc384-g1.</p>\n"},{"tags":[],"owner":{"account_id":29231591,"reputation":1,"user_id":22395173,"display_name":"Alexandre Peixoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694656538,"creation_date":1694656538,"answer_id":77101360,"question_id":77078130,"body_markdown":"I had the same problem last week. In my case i changed it to **rds-ca-2019** and it worked again","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>I had the same problem last week. In my case i changed it to <strong>rds-ca-2019</strong> and it worked again</p>\n"},{"comments":[{"owner":{"account_id":160525,"reputation":4308,"user_id":380657,"accept_rate":54,"display_name":"Gagan"},"score":0,"creation_date":1695534886,"post_id":77133016,"comment_id":136035785,"body_markdown":"When we change the CA to rds-ca-rsa4096-g1, don&#39;t we need to download the certificate file to connect to the RDS server?\nI changed the certificate and still got the SSL connectivity error.","body":"When we change the CA to rds-ca-rsa4096-g1, don&#39;t we need to download the certificate file to connect to the RDS server? I changed the certificate and still got the SSL connectivity error."},{"owner":{"account_id":1462711,"reputation":10997,"user_id":1376536,"accept_rate":62,"display_name":"Foo L"},"score":0,"creation_date":1695622793,"post_id":77133016,"comment_id":136043686,"body_markdown":"Sorry. I pasted the wrong CA. I meant `rds-ca-rsa2048-g1`. Let me correct my answer","body":"Sorry. I pasted the wrong CA. I meant <code>rds-ca-rsa2048-g1</code>. Let me correct my answer"}],"tags":[],"owner":{"account_id":1462711,"reputation":10997,"user_id":1376536,"accept_rate":62,"display_name":"Foo L"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695622819,"creation_date":1695113267,"answer_id":77133016,"question_id":77078130,"body_markdown":"I had the same problem when I tried to connect a java app to my Postgres RDS instance after the point and click AWS CA update. AWS updated the CA to `rds-ca-ecc384-g1`. Changing it to `rds-ca-rsa2048-g1` solved the issue. It expires in year 2061 instead of 2121, so it should give us a little bit of time.\r\n\r\nIf you&#39;re in the AWS console, click on an instance of your database, then click Modify on the top right. Scroll down to &quot;Connectivity&quot; section and change it to `rds-ca-rsa2048-g1`. Click Continue on the bottom. &quot;Apply Immediately&quot;, then &quot;Modify DB Instance&quot;. Wait for AWS to apply changes. For my case, I didn&#39;t need to restart the db, just the application.\r\n\r\nIt seems some libraries can&#39;t negotiate the more complex algorithms. I had a psycopg2 app that had no problems with the `rds-ca-ecc384-g1` CA.","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>I had the same problem when I tried to connect a java app to my Postgres RDS instance after the point and click AWS CA update. AWS updated the CA to <code>rds-ca-ecc384-g1</code>. Changing it to <code>rds-ca-rsa2048-g1</code> solved the issue. It expires in year 2061 instead of 2121, so it should give us a little bit of time.</p>\n<p>If you're in the AWS console, click on an instance of your database, then click Modify on the top right. Scroll down to &quot;Connectivity&quot; section and change it to <code>rds-ca-rsa2048-g1</code>. Click Continue on the bottom. &quot;Apply Immediately&quot;, then &quot;Modify DB Instance&quot;. Wait for AWS to apply changes. For my case, I didn't need to restart the db, just the application.</p>\n<p>It seems some libraries can't negotiate the more complex algorithms. I had a psycopg2 app that had no problems with the <code>rds-ca-ecc384-g1</code> CA.</p>\n"}],"owner":{"account_id":113272,"reputation":67818,"user_id":298406,"accept_rate":79,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695622819,"creation_date":1694385917,"question_id":77078130,"body_markdown":"I have a SpringBoot application that communicates to PostgreSQL with the following configuration, deployed via AWS BeanStalk:\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://{SUBDOMAIN}.us-east-2.rds.amazonaws.com:5432/{DATABASE_NAME}\r\nspring.datasource.username={USER}\r\nspring.datasource.password={PASSWORD}\r\nspring.datasource.hikari.maximum-pool-size=2\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.open-in-view=false\r\nspring.jpa.hibernate.ddl-auto=create\r\n```\r\n\r\nEverything was going well until I have updated the AWS Aurora certificate to `rds-ca-ecc384-g1`, and now I seemingly cannot connect to Postgres anymore.\r\n\r\nThe error I receive is:\r\n\r\n```\r\norg.postgresql.util.PSQLException: SSL error: Received fatal alert: handshake_failure\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:43) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:620) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar!/:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.10.jar!/:3.0.10]\r\n\tat com.app.Main.main(Main.java:18) ~[classes!/:1.0-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41) ~[postgresql-42.5.4.jar!/:42.5.4]\r\n\t... 59 common frames omitted\r\n```\r\n\r\nWhen I connect manually via `psql` to the database from the same machine, this happens:\r\n\r\n```\r\n$ PGSSLMODE=verify-full psql -h {SUBDOMAIN}.us-east-2.rds.amazonaws.com -p 5432 -U {USER} -W {DATABASE_NAME}\r\nPassword:\r\npsql: error: connection to server at &quot;{SUBDOMAIN}.us-east-2.rds.amazonaws.com&quot; (10.0.156.184), port 5432 failed: root certificate file &quot;/home/ec2-user/.postgresql/root.crt&quot; does not exist\r\nEither provide the file or change sslmode to disable server certificate verification.\r\n```\r\n","title":"SpringBoot, Hibernate and AWS RDS (Aurora) with new CA rds-ca-ecc384-g1","body":"<p>I have a SpringBoot application that communicates to PostgreSQL with the following configuration, deployed via AWS BeanStalk:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://{SUBDOMAIN}.us-east-2.rds.amazonaws.com:5432/{DATABASE_NAME}\nspring.datasource.username={USER}\nspring.datasource.password={PASSWORD}\nspring.datasource.hikari.maximum-pool-size=2\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.open-in-view=false\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>Everything was going well until I have updated the AWS Aurora certificate to <code>rds-ca-ecc384-g1</code>, and now I seemingly cannot connect to Postgres anymore.</p>\n<p>The error I receive is:</p>\n<pre><code>org.postgresql.util.PSQLException: SSL error: Received fatal alert: handshake_failure\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:43) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:620) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.4.jar!/:42.5.4]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar!/:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar!/:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar!/:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar!/:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar!/:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.10.jar!/:3.0.10]\n    at com.app.Main.main(Main.java:18) ~[classes!/:1.0-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[main-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365) ~[na:na]\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41) ~[postgresql-42.5.4.jar!/:42.5.4]\n    ... 59 common frames omitted\n</code></pre>\n<p>When I connect manually via <code>psql</code> to the database from the same machine, this happens:</p>\n<pre><code>$ PGSSLMODE=verify-full psql -h {SUBDOMAIN}.us-east-2.rds.amazonaws.com -p 5432 -U {USER} -W {DATABASE_NAME}\nPassword:\npsql: error: connection to server at &quot;{SUBDOMAIN}.us-east-2.rds.amazonaws.com&quot; (10.0.156.184), port 5432 failed: root certificate file &quot;/home/ec2-user/.postgresql/root.crt&quot; does not exist\nEither provide the file or change sslmode to disable server certificate verification.\n</code></pre>\n"},{"tags":["java","bukkit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695610361,"post_id":77167305,"comment_id":136042633,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695622394,"creation_date":1695622394,"answer_id":77170235,"question_id":77167305,"body_markdown":"You should **NEVER** use the `Thread.sleep` method on spigot. It stop the all server.\r\n\r\nYou need to use Scheduler ([Tutorial](https://www.spigotmc.org/wiki/scheduler-programming/) - Javadoc: [`BukkitScheduler`](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html)) :\r\n```java\r\n@EventHandler\r\npublic void check(BlockPlaceEvent e) {\r\n  Material blockType = e.getBlockPlaced().getType();\r\n  int locationX = e.getBlockPlaced().getLocation().getBlockX();\r\n  int locationY = e.getBlockPlaced().getLocation().getBlockY();\r\n  int locationZ = e.getBlockPlaced().getLocation().getBlockZ();\r\n  String locationXb = String.valueOf(locationX);\r\n  String locationYb = String.valueOf(locationY);\r\n  String locationZb = String.valueOf(locationZ);\r\n  World world = e.getPlayer().getWorld();\r\n  if ((blockType == Material.PLAYER_HEAD) || (blockType == Material.PLAYER_WALL_HEAD)) {\r\n    Bukkit.getScheduler().runTaskLater(MyPlugin.getInstance(), () -&gt; {\r\n      Material block = world.getBlockAt(locationX, locationY, locationZ).getType();\r\n      if ((block == Material.PLAYER_WALL_HEAD) || (block == Material.PLAYER_HEAD)) {\r\n        //empty\r\n      } else {\r\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command);\r\n      }\r\n    }, 20);\r\n  }\r\n}\r\n```\r\nWhere:\r\n- `MyPlugin.getInstance()` is to get the instance of your JavaPlugin, it&#39;s also mostly called as `plugin` variable.\r\n- `() -&gt; {}` is what will be run\r\n- `20` is the time (in ticks) that the server should wait. 20 ticks = 1 second.","title":"Check if block is still in the world after delay","body":"<p>You should <strong>NEVER</strong> use the <code>Thread.sleep</code> method on spigot. It stop the all server.</p>\n<p>You need to use Scheduler (<a href=\"https://www.spigotmc.org/wiki/scheduler-programming/\" rel=\"nofollow noreferrer\">Tutorial</a> - Javadoc: <a href=\"https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html\" rel=\"nofollow noreferrer\"><code>BukkitScheduler</code></a>) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void check(BlockPlaceEvent e) {\n  Material blockType = e.getBlockPlaced().getType();\n  int locationX = e.getBlockPlaced().getLocation().getBlockX();\n  int locationY = e.getBlockPlaced().getLocation().getBlockY();\n  int locationZ = e.getBlockPlaced().getLocation().getBlockZ();\n  String locationXb = String.valueOf(locationX);\n  String locationYb = String.valueOf(locationY);\n  String locationZb = String.valueOf(locationZ);\n  World world = e.getPlayer().getWorld();\n  if ((blockType == Material.PLAYER_HEAD) || (blockType == Material.PLAYER_WALL_HEAD)) {\n    Bukkit.getScheduler().runTaskLater(MyPlugin.getInstance(), () -&gt; {\n      Material block = world.getBlockAt(locationX, locationY, locationZ).getType();\n      if ((block == Material.PLAYER_WALL_HEAD) || (block == Material.PLAYER_HEAD)) {\n        //empty\n      } else {\n        Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command);\n      }\n    }, 20);\n  }\n}\n</code></pre>\n<p>Where:</p>\n<ul>\n<li><code>MyPlugin.getInstance()</code> is to get the instance of your JavaPlugin, it's also mostly called as <code>plugin</code> variable.</li>\n<li><code>() -&gt; {}</code> is what will be run</li>\n<li><code>20</code> is the time (in ticks) that the server should wait. 20 ticks = 1 second.</li>\n</ul>\n"}],"owner":{"account_id":29522491,"reputation":3,"user_id":22624951,"display_name":"Larssie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77170235,"answer_count":1,"score":-2,"last_activity_date":1695622394,"creation_date":1695562349,"question_id":77167305,"body_markdown":"I want to check if a block that&#39;s placed is still there after a short delay and execute a command\r\n\r\nI have tried with sleep but it just gives the block that was there before the delay\r\n\r\n```\r\npublic class BlockListener implements Listener {\r\n    @EventHandler\r\n    public void check(BlockPlaceEvent e)\r\n    {          \r\n      Material blockType = e.getBlockPlaced().getType();\r\n      int locationX = e.getBlockPlaced().getLocation().getBlockX();\r\n      int locationY = e.getBlockPlaced().getLocation().getBlockY();\r\n      int locationZ = e.getBlockPlaced().getLocation().getBlockZ();\r\n      String locationXb = String.valueOf(locationX);\r\n      String locationYb = String.valueOf(locationY);\r\n      String locationZb = String.valueOf(locationZ);\r\n      World world = e.getPlayer().getWorld();          \r\n      if ((blockType == Material.PLAYER_HEAD) || (blockType == Material.PLAYER_WALL_HEAD))\r\n        {\r\n          try\r\n          {\r\n            Thread.sleep(1000);\r\n          }\r\n          catch (InterruptedException ex)\r\n          {\r\n            \r\n          }\r\n          Material block = world.getBlockAt(locationX, locationY, locationZ).getType();\r\n          if((block == Material.PLAYER_WALL_HEAD) || (block == Material.PLAYER_HEAD)){\r\n             //empty\r\n          }\r\n          else {\r\n            Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command);\r\n          }\r\n        }\r\n      }\r\n```\r\n","title":"Check if block is still in the world after delay","body":"<p>I want to check if a block that's placed is still there after a short delay and execute a command</p>\n<p>I have tried with sleep but it just gives the block that was there before the delay</p>\n<pre><code>public class BlockListener implements Listener {\n    @EventHandler\n    public void check(BlockPlaceEvent e)\n    {          \n      Material blockType = e.getBlockPlaced().getType();\n      int locationX = e.getBlockPlaced().getLocation().getBlockX();\n      int locationY = e.getBlockPlaced().getLocation().getBlockY();\n      int locationZ = e.getBlockPlaced().getLocation().getBlockZ();\n      String locationXb = String.valueOf(locationX);\n      String locationYb = String.valueOf(locationY);\n      String locationZb = String.valueOf(locationZ);\n      World world = e.getPlayer().getWorld();          \n      if ((blockType == Material.PLAYER_HEAD) || (blockType == Material.PLAYER_WALL_HEAD))\n        {\n          try\n          {\n            Thread.sleep(1000);\n          }\n          catch (InterruptedException ex)\n          {\n            \n          }\n          Material block = world.getBlockAt(locationX, locationY, locationZ).getType();\n          if((block == Material.PLAYER_WALL_HEAD) || (block == Material.PLAYER_HEAD)){\n             //empty\n          }\n          else {\n            Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command);\n          }\n        }\n      }\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-cognito","aws-iot"],"answers":[{"comments":[{"owner":{"account_id":4149669,"reputation":405,"user_id":3402502,"accept_rate":80,"display_name":"underwater ranged weapon"},"score":1,"creation_date":1695638273,"post_id":77170233,"comment_id":136046512,"body_markdown":"yeah, sadly this is a cpy paste from chatgpt :/ I got the same answer there but it is wrong and just adjusted wrongly. And of course, you missed it the auth part :/","body":"yeah, sadly this is a cpy paste from chatgpt :/ I got the same answer there but it is wrong and just adjusted wrongly. And of course, you missed it the auth part :/"}],"tags":[],"owner":{"account_id":15575115,"reputation":445,"user_id":11236416,"display_name":"maximus383"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695622310,"creation_date":1695622310,"answer_id":77170233,"question_id":77111367,"body_markdown":"If you already have made the basic config, including AWS SDK and importing necessary libraries for it to work.\r\n\r\nYou need to initialize your AWS IoT and Cognito clients:\r\n\r\n    String userPoolId = &quot;your-user-pool-id&quot;;\r\n    String clientId = &quot;your-client-id&quot;;\r\n    String username = &quot;user-username&quot;; // username you want to authenticate\r\n    \r\n    CognitoCredentialsProvider credentialsProvider = CognitoCredentialsProvider.builder()\r\n            .clientId(clientId)\r\n            .cognitoIdentityProviderClient(yourCognitoClient)\r\n            .build();\r\n    \r\n    Region region = Region.YOUR_REGION; // Replace with your AWS region\r\n    \r\n    IotClient iotClient = IotClient.builder().region(region).build();\r\n    IotDataPlaneClient dataPlaneClient = IotDataPlaneClient.builder().region(region).build();\r\n\r\nCreate new MQTT client:\r\n\r\n    AwsIotMqttConnectionBuilder builder = AwsIotMqttConnectionBuilder.newMqttConnectionBuilder(&quot;your-iot-endpoint&quot;)\r\n            .clientId(&quot;your-client-id&quot;)\r\n            .credentialsProvider(credentialsProvider)\r\n            .region(region)\r\n            .protocol(AwsIotMqttConnectionBuilder.Protocol.WSS);\r\n\r\nMake sure the Cognito user is associated with an IoT policy. Here is an example of how you can implement the policy to Cognito user:\r\n\r\n    String policyName = &quot;your-iot-policy-name&quot;;\r\n    \r\n    AttachPolicyRequest attachPolicyRequest =\r\n    AttachPolicyRequest.builder()\r\n            .policyName(policyName)\r\n            .target(yourCognitoIdentityId) // Replace with your Cognito Identity ID\r\n            .build();\r\n     \r\n    iotClient.attachPolicy(attachPolicyRequest);\r\n\r\nConnect to AWS IoT MQTT:\r\n\r\n    AwsIotMqttConnection connection = builder.build();\r\n    connection.connect();\r\n\r\nThis is just a basic connection implementation of AWS IoT using Cognito, but it might help you figured out how to do it. :)","title":"How to use AWS IoT MQTT with AWS Cognito User Pool","body":"<p>If you already have made the basic config, including AWS SDK and importing necessary libraries for it to work.</p>\n<p>You need to initialize your AWS IoT and Cognito clients:</p>\n<pre><code>String userPoolId = &quot;your-user-pool-id&quot;;\nString clientId = &quot;your-client-id&quot;;\nString username = &quot;user-username&quot;; // username you want to authenticate\n\nCognitoCredentialsProvider credentialsProvider = CognitoCredentialsProvider.builder()\n        .clientId(clientId)\n        .cognitoIdentityProviderClient(yourCognitoClient)\n        .build();\n\nRegion region = Region.YOUR_REGION; // Replace with your AWS region\n\nIotClient iotClient = IotClient.builder().region(region).build();\nIotDataPlaneClient dataPlaneClient = IotDataPlaneClient.builder().region(region).build();\n</code></pre>\n<p>Create new MQTT client:</p>\n<pre><code>AwsIotMqttConnectionBuilder builder = AwsIotMqttConnectionBuilder.newMqttConnectionBuilder(&quot;your-iot-endpoint&quot;)\n        .clientId(&quot;your-client-id&quot;)\n        .credentialsProvider(credentialsProvider)\n        .region(region)\n        .protocol(AwsIotMqttConnectionBuilder.Protocol.WSS);\n</code></pre>\n<p>Make sure the Cognito user is associated with an IoT policy. Here is an example of how you can implement the policy to Cognito user:</p>\n<pre><code>String policyName = &quot;your-iot-policy-name&quot;;\n\nAttachPolicyRequest attachPolicyRequest =\nAttachPolicyRequest.builder()\n        .policyName(policyName)\n        .target(yourCognitoIdentityId) // Replace with your Cognito Identity ID\n        .build();\n \niotClient.attachPolicy(attachPolicyRequest);\n</code></pre>\n<p>Connect to AWS IoT MQTT:</p>\n<pre><code>AwsIotMqttConnection connection = builder.build();\nconnection.connect();\n</code></pre>\n<p>This is just a basic connection implementation of AWS IoT using Cognito, but it might help you figured out how to do it. :)</p>\n"}],"owner":{"account_id":4149669,"reputation":405,"user_id":3402502,"accept_rate":80,"display_name":"underwater ranged weapon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695622310,"creation_date":1694771433,"question_id":77111367,"body_markdown":"I might sound very dumb but from a few days, I&#39;m struggling to find out a solution on how to connect to **AWS IoT MQTT** having auth flow based on `CognitoIdentityProviderClient`. \r\n\r\nMy setup look like this:\r\n 1. **I have user pool &quot;some-user-pool&quot;**.\r\n 2. **I have an user in user pool &quot;some-user-in-user-pool&quot;**.\r\n 3. **My user pool is attached to IoT Policy &quot;some-iot-policy&quot;**.\r\n\r\nWhat next? I mean to say that I&#39;m already aware of the fact that I can connect to mqtt by certificate attached to policy but I want to use this via an user.\r\n\r\nSo I&#39;m on a step where I have final `RespondToAuthChallengeResponse` after auth flow; everything went well but I cannot figure out what to do now? What can I do to setup `AwsIotMqtt5ClientBuilder` to use user pool.\r\n\r\nI&#39;ve a code something like this\r\n```\r\nRespondToAuthChallengeResponse response =  cognitoIdentityProviderClient.respondToAuthChallenge(request)\r\n\r\n//After this, I have accessToken and idToken\r\n\r\nAwsIotMqtt5ClientBuilder builder = AwsIotMqtt5ClientBuilder.newMqttBuilder(hostname)\r\n\r\n//here I&#39;m lost on how I can setup mqtt to use the response\r\n```\r\n","title":"How to use AWS IoT MQTT with AWS Cognito User Pool","body":"<p>I might sound very dumb but from a few days, I'm struggling to find out a solution on how to connect to <strong>AWS IoT MQTT</strong> having auth flow based on <code>CognitoIdentityProviderClient</code>.</p>\n<p>My setup look like this:</p>\n<ol>\n<li><strong>I have user pool &quot;some-user-pool&quot;</strong>.</li>\n<li><strong>I have an user in user pool &quot;some-user-in-user-pool&quot;</strong>.</li>\n<li><strong>My user pool is attached to IoT Policy &quot;some-iot-policy&quot;</strong>.</li>\n</ol>\n<p>What next? I mean to say that I'm already aware of the fact that I can connect to mqtt by certificate attached to policy but I want to use this via an user.</p>\n<p>So I'm on a step where I have final <code>RespondToAuthChallengeResponse</code> after auth flow; everything went well but I cannot figure out what to do now? What can I do to setup <code>AwsIotMqtt5ClientBuilder</code> to use user pool.</p>\n<p>I've a code something like this</p>\n<pre><code>RespondToAuthChallengeResponse response =  cognitoIdentityProviderClient.respondToAuthChallenge(request)\n\n//After this, I have accessToken and idToken\n\nAwsIotMqtt5ClientBuilder builder = AwsIotMqtt5ClientBuilder.newMqttBuilder(hostname)\n\n//here I'm lost on how I can setup mqtt to use the response\n</code></pre>\n"},{"tags":["java","multithreading","javafx","concurrency","javafx-11"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1638906693,"post_id":70265896,"comment_id":124211236,"body_markdown":"It seems unlikely that a simple call to `clear()` would really take that long. (That would likely indicate some kind of bug.) Note that you cannot modify live nodes (nodes that are part of the scene graph) from a background thread, so I don’t really see the threading would help at all here. Can you post a complete, simple example we can copy and run with a simple attempt to do this (and without all the static fields, etc)? I can’t see why a standard approach to this wouldn’t work.","body":"It seems unlikely that a simple call to <code>clear()</code> would really take that long. (That would likely indicate some kind of bug.) Note that you cannot modify live nodes (nodes that are part of the scene graph) from a background thread, so I don’t really see the threading would help at all here. Can you post a complete, simple example we can copy and run with a simple attempt to do this (and without all the static fields, etc)? I can’t see why a standard approach to this wouldn’t work."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1638906874,"post_id":70265896,"comment_id":124211303,"body_markdown":"&quot;a lot of shapes(for example 1 000 000) to represent geographic data&quot; -&gt; Just my opinion, but I don&#39;t think this is a good design.  Shapes are nodes, which are designed for screen rendering.  There is an overhead in using a node to represent this kind of data rather than a data structure specifically targeted for that type of data.  I don&#39;t know GIS systems, but I am sure they have data representations with Java bindings which would be more efficient for this kind of data than using nodes.  Eventually, you need to map to visible nodes, but it should not be 1 million.","body":"&quot;a lot of shapes(for example 1 000 000) to represent geographic data&quot; -&gt; Just my opinion, but I don&#39;t think this is a good design.  Shapes are nodes, which are designed for screen rendering.  There is an overhead in using a node to represent this kind of data rather than a data structure specifically targeted for that type of data.  I don&#39;t know GIS systems, but I am sure they have data representations with Java bindings which would be more efficient for this kind of data than using nodes.  Eventually, you need to map to visible nodes, but it should not be 1 million."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638906893,"post_id":70265896,"comment_id":124211313,"body_markdown":"However, if your design is efficient enough for your needs, I guess don&#39;t worry.","body":"However, if your design is efficient enough for your needs, I guess don&#39;t worry."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638907256,"post_id":70265896,"comment_id":124211454,"body_markdown":"@James_D This is the complete example.. how should i simplify it? Only idea is to do it without FXML","body":"@James_D This is the complete example.. how should i simplify it? Only idea is to do it without FXML"},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638907281,"post_id":70265896,"comment_id":124211462,"body_markdown":"@jewelsea yes you could be right ... 1,000,000 is also set high, but right now I want to use shapes from JavaFX, maybe something for later to optimize","body":"@jewelsea yes you could be right ... 1,000,000 is also set high, but right now I want to use shapes from JavaFX, maybe something for later to optimize"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1638907690,"post_id":70265896,"comment_id":124211588,"body_markdown":"I just don’t understand why you are defining the `Group` as public and static, and in the `Application` class, and then manipulating the nodes in the controller from there. That’s not “normal” JavaFX (or even Java) programming style. The further you get from standard practices, the more likely it is you fall into some weird corner case which impacts performance for some strange reason. (Though it seems unlikely that this is the cause here.) Anyway, I’ll experiment when back at the computer","body":"I just don’t understand why you are defining the <code>Group</code> as public and static, and in the <code>Application</code> class, and then manipulating the nodes in the controller from there. That’s not “normal” JavaFX (or even Java) programming style. The further you get from standard practices, the more likely it is you fall into some weird corner case which impacts performance for some strange reason. (Though it seems unlikely that this is the cause here.) Anyway, I’ll experiment when back at the computer"},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638908052,"post_id":70265896,"comment_id":124211726,"body_markdown":"@James_D I edited my post and added a simple example, did you mean something like that?","body":"@James_D I edited my post and added a simple example, did you mean something like that?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1638909036,"post_id":70265896,"comment_id":124212060,"body_markdown":"Yes, thanks; that&#39;s helpful. And also surprising. It looks like there are, maybe, some listeners on the child list that are doing far too much work in this case.","body":"Yes, thanks; that&#39;s helpful. And also surprising. It looks like there are, maybe, some listeners on the child list that are doing far too much work in this case."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1638912985,"post_id":70265896,"comment_id":124213450,"body_markdown":"@James_D From profiling, the time seems to be spent in the `invalidated()` method of the `parent` property (the parent is set to null when a child is removed). In particular, removing listeners from the _parent&#39;s_ `treeVisible` and `disabled` properties seems to be expensive.","body":"@James_D From profiling, the time seems to be spent in the <code>invalidated()</code> method of the <code>parent</code> property (the parent is set to null when a child is removed). In particular, removing listeners from the <i>parent&#39;s</i> <code>treeVisible</code> and <code>disabled</code> properties seems to be expensive."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1638913543,"post_id":70265896,"comment_id":124213626,"body_markdown":"There are 1,000,000 children which means these properties each have at least 1,000,000 listeners registered. These listeners are stored in an array and are removed _one by one_ when all 1,000,000 children are cleared. That means the work is _at least_ 1,000,000 linear searches **per property** (granted, the search time decreases as the removed children are processed, but still).","body":"There are 1,000,000 children which means these properties each have at least 1,000,000 listeners registered. These listeners are stored in an array and are removed <i>one by one</i> when all 1,000,000 children are cleared. That means the work is <i>at least</i> 1,000,000 linear searches <b>per property</b> (granted, the search time decreases as the removed children are processed, but still)."}],"answers":[{"comments":[{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638948188,"post_id":70267481,"comment_id":124220451,"body_markdown":"Thank you very much for the detailed answer.\nHow should I replace the `Group`? Like in my FXML example above, there is a `Pane` with a `Group`. If I try to replace the remove statement with `HelloApplication.group = new Group();` the old group is still a child of the `Pane` and the new one isn&#39;t.","body":"Thank you very much for the detailed answer. How should I replace the <code>Group</code>? Like in my FXML example above, there is a <code>Pane</code> with a <code>Group</code>. If I try to replace the remove statement with <code>HelloApplication.group = new Group();</code> the old group is still a child of the <code>Pane</code> and the new one isn&#39;t."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1638949063,"post_id":70267481,"comment_id":124220642,"body_markdown":"You have to remove the old group and add the new one. If your group is the only child of the pane, then you can simply do `pane.getChildren().setAll(newGroup)`.","body":"You have to remove the old group and add the new one. If your group is the only child of the pane, then you can simply do <code>pane.getChildren().setAll(newGroup)</code>."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638953016,"post_id":70267481,"comment_id":124221897,"body_markdown":"Ok this works very fast, thanks! \nUnfortunately, this doesn&#39;t work for my &quot;real&quot; code, where `setAll` still takes 73 seconds.\nBut now it&#39;s up to my code, so I&#39;ll try something out and find out what the problem is.\nOne more question: How can I look at the code from the Java libraries? So what happens, for example, when calling setAll? (I&#39;m using Intellij)","body":"Ok this works very fast, thanks!  Unfortunately, this doesn&#39;t work for my &quot;real&quot; code, where <code>setAll</code> still takes 73 seconds. But now it&#39;s up to my code, so I&#39;ll try something out and find out what the problem is. One more question: How can I look at the code from the Java libraries? So what happens, for example, when calling setAll? (I&#39;m using Intellij)"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1638954808,"post_id":70267481,"comment_id":124222439,"body_markdown":"@Enrico You can download the sources for JavaFX too and attach them to your IDE or better instruct your Maven/Gradle build to download and attach the sources automatically.","body":"@Enrico You can download the sources for JavaFX too and attach them to your IDE or better instruct your Maven/Gradle build to download and attach the sources automatically."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":2,"creation_date":1638955081,"post_id":70267481,"comment_id":124222533,"body_markdown":"Concerning you original problem I still don&#39;t know why you think you have to add that many individual nodes to the scene graph. I am in the geographic business too and I just don&#39;t see a valid use case for that. Have you considered Paths or other ways of representing your graphics elements? Could you show an example of what you actually want to draw?","body":"Concerning you original problem I still don&#39;t know why you think you have to add that many individual nodes to the scene graph. I am in the geographic business too and I just don&#39;t see a valid use case for that. Have you considered Paths or other ways of representing your graphics elements? Could you show an example of what you actually want to draw?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638955285,"post_id":70267481,"comment_id":124222607,"body_markdown":"@Enrico if you use idea+maven, you can synchronize dependency sources and doc [like this to do it automatically all the time](https://www.baeldung.com/maven-download-sources-javadoc#ide) or [like this](https://stackoverflow.com/a/29199629/1155209) to do it manually on demand.","body":"@Enrico if you use idea+maven, you can synchronize dependency sources and doc <a href=\"https://www.baeldung.com/maven-download-sources-javadoc#ide\" rel=\"nofollow noreferrer\">like this to do it automatically all the time</a> or <a href=\"https://stackoverflow.com/a/29199629/1155209\">like this</a> to do it manually on demand."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638956167,"post_id":70267481,"comment_id":124222946,"body_markdown":"@mipa At the moment I don&#39;t have a filter or something like that to remove nodes that are unnecessary (planned for the future) because they aren&#39;t visible. Another thing is, that I&#39;m using only `Line`s instead of `Polyline`s, because a zoom and move functionality is implemented and definitely slower with polylines. Do you know if paths have a good performance? I will give it a try, thanks! In my example there are files with 200 000 shapes (lines, texts, arcs, circles, symbols...), but there are lines with e.g. 1000 points, so im creating 2000 lines instead of using one polyline...That adds up","body":"@mipa At the moment I don&#39;t have a filter or something like that to remove nodes that are unnecessary (planned for the future) because they aren&#39;t visible. Another thing is, that I&#39;m using only <code>Line</code>s instead of <code>Polyline</code>s, because a zoom and move functionality is implemented and definitely slower with polylines. Do you know if paths have a good performance? I will give it a try, thanks! In my example there are files with 200 000 shapes (lines, texts, arcs, circles, symbols...), but there are lines with e.g. 1000 points, so im creating 2000 lines instead of using one polyline...That adds up"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1638956722,"post_id":70267481,"comment_id":124223136,"body_markdown":"Polylines are actually a special kind of Paths internally and are thus equally slow. The only advantage is that you don&#39;t have to create than many nodes then. So, you are at the point where I was a couple of years ago. In order to cope with this problem I have written my own JavaFX framework which converts all Paths to triangle meshes and renders them truly on the graphics hardware via the TriangleMesh class of JavaFX. That way the zoom is super smooth and high quality.","body":"Polylines are actually a special kind of Paths internally and are thus equally slow. The only advantage is that you don&#39;t have to create than many nodes then. So, you are at the point where I was a couple of years ago. In order to cope with this problem I have written my own JavaFX framework which converts all Paths to triangle meshes and renders them truly on the graphics hardware via the TriangleMesh class of JavaFX. That way the zoom is super smooth and high quality."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638959164,"post_id":70267481,"comment_id":124224085,"body_markdown":"@mipa Sounds interesting. How much work and how complex was that? Think I&#39;m not able to this yet...","body":"@mipa Sounds interesting. How much work and how complex was that? Think I&#39;m not able to this yet..."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1638963053,"post_id":70267481,"comment_id":124225443,"body_markdown":"@mipa _I have written my own JavaFX framework_ open source maybe?","body":"@mipa <i>I have written my own JavaFX framework</i> open source maybe?"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1638964394,"post_id":70267481,"comment_id":124225914,"body_markdown":"Here are two links which show the result: https://www.dropbox.com/s/ek368itquamy6ve/line_mode.png?dl=0 , https://www.dropbox.com/s/9sye8g87ipzshkp/fill_mode.png?dl=0 Also the fine black outlines are all triangles. I might consider making this open source if there is enough interest in it.","body":"Here are two links which show the result: <a href=\"https://www.dropbox.com/s/ek368itquamy6ve/line_mode.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/ek368itquamy6ve/line_mode.png?dl=0</a> , <a href=\"https://www.dropbox.com/s/9sye8g87ipzshkp/fill_mode.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/9sye8g87ipzshkp/fill_mode.png?dl=0</a> Also the fine black outlines are all triangles. I might consider making this open source if there is enough interest in it."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638970150,"post_id":70267481,"comment_id":124228170,"body_markdown":"I&#39;m very interested in it and maybe it can help me out with the performance issues. Also other people can certainly benefit from the knowledge and maybe even contribute their knowledge...\nSo if you make it open source, please let me know!","body":"I&#39;m very interested in it and maybe it can help me out with the performance issues. Also other people can certainly benefit from the knowledge and maybe even contribute their knowledge... So if you make it open source, please let me know!"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1638975424,"post_id":70267481,"comment_id":124230493,"body_markdown":"I&#39;ll think about it. Maybe over Christmas.","body":"I&#39;ll think about it. Maybe over Christmas."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":13,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1695621923,"creation_date":1638914649,"answer_id":70267481,"question_id":70265896,"body_markdown":"_Have not tested it, but the underlying reason for the long execution time in this scenario may have been &quot;fixed&quot; in JavaFX 21+ with [JDK-8290765 - Remove parent disabled/treeVisible listeners][1]. That said, I still suggest that having millions of nodes is a problem in and of itself. That&#39;s too many nodes._\r\n\r\n---\r\n\r\nThe long execution time comes from the fact that each child of a `Parent` registers a listener with the `disabled` and `treeVisible` properties of that `Parent`. The way JavaFX is currently implemented, these listeners are stored in an array (i.e. a list structure). _Adding_ the listeners is relatively low cost because the new listener is simply inserted at the end of the array, with an occasional resize of the array. However, when you _remove_ a child from its `Parent` and the listeners are removed, the array needs to be linearly searched so that the correct listener is found and removed. This happens for each removed child individually.\r\n\r\nSo, when you clear the children list of the `Group` you are triggering 1,000,000 linear searches for both properties, resulting in a total of 2,000,000 linear searches. And to make things worse, the listener to be removed is either--depending on the order the children are removed--always at the end of the array, in which case there&#39;s 2,000,000 _worst case_ linear searches, or always at the start of the array, in which case there&#39;s 2,000,000 best case linear searches, but where each individual removal results in _all remaining elements_ having to be shifted over by one.\r\n\r\nThere are at least two solutions/workarounds:\r\n\r\n1. Don&#39;t display 1,000,000 nodes. If you can, try to only display nodes for the data that can actually be seen by the user. For example, the virtualized controls such as `ListView` and `TableView` only display about 1-100 cells at any given time (depending on various factors, including window size, screen size, etc.).\r\n\r\n2. Don&#39;t clear the children of the `Group`. Instead, just replace the old `Group` with a new `Group`. If needed, you can prepare the new `Group` in a background thread. \r\n\r\n    Doing it that way, it took 3.5 seconds on my computer to create another `Group` with 1,000,000 children and then replace the old `Group` with the new `Group`. However, there was still a bit of a lag spike due to all the new nodes that needed to be rendered at once.\r\n\r\n    If you don&#39;t need to populate the new `Group` then you don&#39;t even need a thread. In that case, the swap took about 0.27 seconds on my computer.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8290765","title":"Fastest way to clear group with a lot of shapes / multithreading","body":"<p><em>Have not tested it, but the underlying reason for the long execution time in this scenario may have been &quot;fixed&quot; in JavaFX 21+ with <a href=\"https://bugs.openjdk.org/browse/JDK-8290765\" rel=\"nofollow noreferrer\">JDK-8290765 - Remove parent disabled/treeVisible listeners</a>. That said, I still suggest that having millions of nodes is a problem in and of itself. That's too many nodes.</em></p>\n<hr />\n<p>The long execution time comes from the fact that each child of a <code>Parent</code> registers a listener with the <code>disabled</code> and <code>treeVisible</code> properties of that <code>Parent</code>. The way JavaFX is currently implemented, these listeners are stored in an array (i.e. a list structure). <em>Adding</em> the listeners is relatively low cost because the new listener is simply inserted at the end of the array, with an occasional resize of the array. However, when you <em>remove</em> a child from its <code>Parent</code> and the listeners are removed, the array needs to be linearly searched so that the correct listener is found and removed. This happens for each removed child individually.</p>\n<p>So, when you clear the children list of the <code>Group</code> you are triggering 1,000,000 linear searches for both properties, resulting in a total of 2,000,000 linear searches. And to make things worse, the listener to be removed is either--depending on the order the children are removed--always at the end of the array, in which case there's 2,000,000 <em>worst case</em> linear searches, or always at the start of the array, in which case there's 2,000,000 best case linear searches, but where each individual removal results in <em>all remaining elements</em> having to be shifted over by one.</p>\n<p>There are at least two solutions/workarounds:</p>\n<ol>\n<li><p>Don't display 1,000,000 nodes. If you can, try to only display nodes for the data that can actually be seen by the user. For example, the virtualized controls such as <code>ListView</code> and <code>TableView</code> only display about 1-100 cells at any given time (depending on various factors, including window size, screen size, etc.).</p>\n</li>\n<li><p>Don't clear the children of the <code>Group</code>. Instead, just replace the old <code>Group</code> with a new <code>Group</code>. If needed, you can prepare the new <code>Group</code> in a background thread.</p>\n<p>Doing it that way, it took 3.5 seconds on my computer to create another <code>Group</code> with 1,000,000 children and then replace the old <code>Group</code> with the new <code>Group</code>. However, there was still a bit of a lag spike due to all the new nodes that needed to be rendered at once.</p>\n<p>If you don't need to populate the new <code>Group</code> then you don't even need a thread. In that case, the swap took about 0.27 seconds on my computer.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":70267481,"answer_count":1,"score":8,"last_activity_date":1695621923,"creation_date":1638905156,"question_id":70265896,"body_markdown":"In my JavaFX project I&#39;m using a lot of shapes(for example 1 000 000) to represent geographic data (such as plot outlines, streets, etc.). They are stored in a group and sometimes I have to clear them (for example when I&#39;m loading a new file with new geographic data).\r\nThe problem: clearing / removing them takes a lot of time.\r\nSo my idea was to remove the shapes in a separate thread which obviously doesn&#39;t work because of the JavaFX singlethread.\r\n\r\nHere is a simplified code of what I&#39;m trying to do:\r\n\r\nHelloApplication.java\r\n```\r\npackage com.example.javafxmultithreading;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    public static Group group = new Group();\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        for (int i = 0; i &lt; 1000000; i++) {\r\n            group.getChildren().add(new Line(100, 200, 200, 300));\r\n        }\r\n        HelloController.helloController = fxmlLoader.getController();\r\n        HelloController.helloController.pane.getChildren().addAll(group);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nHelloController.java\r\n```\r\npublic class HelloController {\r\n\r\n    public static HelloController helloController;\r\n    @FXML\r\n    public Pane pane;\r\n    public VBox vbox;\r\n\r\n    @FXML\r\n    public void onClearShapes() throws InterruptedException {\r\n        double start = System.currentTimeMillis();\r\n        HelloApplication.group.getChildren().clear();\r\n        System.out.println(System.currentTimeMillis() - start);\r\n\r\n        Service&lt;Boolean&gt; service = new Service&lt;&gt;() {\r\n            @Override\r\n            protected Task&lt;Boolean&gt; createTask() {\r\n                return new Task&lt;&gt;() {\r\n                    @Override\r\n                    protected Boolean call() {\r\n                        // Try to clear the children of the group in this thread\r\n                        return true;\r\n                    }\r\n                };\r\n            }\r\n        };\r\n        service.setOnSucceeded(event -&gt; {\r\n            System.out.println(&quot;Success&quot;);\r\n        });\r\n        service.start();\r\n    }\r\n}\r\n```\r\n\r\nhello-view.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;VBox fx:id=&quot;vbox&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;465.0&quot; prefWidth=&quot;711.0&quot; spacing=&quot;20.0&quot;\r\n      xmlns=&quot;http://javafx.com/javafx/11.0.2&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n      fx:controller=&quot;com.example.javafxmultithreading.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n    &lt;Pane fx:id=&quot;pane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;/&gt;\r\n    &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onClearShapes&quot; text=&quot;Clear shapes&quot;/&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\nI measured the time it took to remove different amounts of children from the group with `group.getChildren().clear()`:\r\n\r\n```\r\namount of children    |   time\r\n100                       2ms = 0,002s\r\n1 000                     4ms = 0,004s\r\n10 000                    38ms = 0,038s\r\n100 000                   1273ms = 1,2s\r\n1 000 000                 149896ms = 149,896s = ~2,5min\r\n```\r\n\r\nAs you can see, the time required increases exponentially..\r\nAnd now imagine you have to clear the children in an UI and the user has to wait 2,5min for the application while it&#39;s freezing.\r\nAdditionally, in this simplified example it&#39;s just a simple line, in the &quot;real&quot; application it&#39;s a more complicated geometry -&gt; needs more time.\r\n\r\nSo another idea was to &#39;unbind&#39; the group from it&#39;s parent, the pane.\r\nBecause when it&#39;s unbind, I can remove it in another thread. That means 1. the ui doesn&#39;t freeze and 2. it will be faster.\r\nThis was the try:\r\n```\r\npane.getChildren().remove(group); // or clear()\r\n// and then clear the group in another thread like above\r\n```\r\n\r\nThe problem: this &#39;unbinding&#39; takes also a lot of time. Not 2,5min, but like 0,5min, which is still to much.\r\n\r\nAnother idea was to create multiple groups, because as you can see, a group with 10 000 or 100 000 elements is cleared faster.\r\nThat also failed because several groups suddenly take longer and are deleted exponentially faster.\r\nFor example, the first takes 20 seconds, the second 10, the third 5, etc.\r\n\r\n\r\n**Long story short**\r\n\r\nIs there any chance to remove the children of the group in a seperate thread or faster than with `group.getChildren().clear()`? I tried everything that comes to my mind...\r\n\r\nAnd if I could only show a loading bar while deleting, it would be better than just freezing the surface and waiting 2min... \r\n\r\nI appreciate every idea / help.\r\n\r\n\r\n**EDIT, see comments**\r\nSimple example without FXML:\r\n\r\n```\r\nimport javafx.scene.Group;\r\nimport javafx.scene.shape.Line;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        Group group = new Group();\r\n        System.out.println(&quot;adding lines&quot;);\r\n        for (int i = 0; i &lt; 1000000; i++) {\r\n            group.getChildren().add(new Line(100, 200, 200, 300));\r\n        }\r\n        System.out.println(&quot;adding done&quot;);\r\n\r\n        System.out.println(&quot;removing starts&quot;);\r\n        double start = System.currentTimeMillis();\r\n        group.getChildren().clear();\r\n        System.out.println(&quot;removing done, needed time: &quot; + (System.currentTimeMillis() - start));\r\n    }\r\n}\r\n```","title":"Fastest way to clear group with a lot of shapes / multithreading","body":"<p>In my JavaFX project I'm using a lot of shapes(for example 1 000 000) to represent geographic data (such as plot outlines, streets, etc.). They are stored in a group and sometimes I have to clear them (for example when I'm loading a new file with new geographic data).\nThe problem: clearing / removing them takes a lot of time.\nSo my idea was to remove the shapes in a separate thread which obviously doesn't work because of the JavaFX singlethread.</p>\n<p>Here is a simplified code of what I'm trying to do:</p>\n<p>HelloApplication.java</p>\n<pre><code>package com.example.javafxmultithreading;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.shape.Line;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n\n    public static Group group = new Group();\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n\n        for (int i = 0; i &lt; 1000000; i++) {\n            group.getChildren().add(new Line(100, 200, 200, 300));\n        }\n        HelloController.helloController = fxmlLoader.getController();\n        HelloController.helloController.pane.getChildren().addAll(group);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>HelloController.java</p>\n<pre><code>public class HelloController {\n\n    public static HelloController helloController;\n    @FXML\n    public Pane pane;\n    public VBox vbox;\n\n    @FXML\n    public void onClearShapes() throws InterruptedException {\n        double start = System.currentTimeMillis();\n        HelloApplication.group.getChildren().clear();\n        System.out.println(System.currentTimeMillis() - start);\n\n        Service&lt;Boolean&gt; service = new Service&lt;&gt;() {\n            @Override\n            protected Task&lt;Boolean&gt; createTask() {\n                return new Task&lt;&gt;() {\n                    @Override\n                    protected Boolean call() {\n                        // Try to clear the children of the group in this thread\n                        return true;\n                    }\n                };\n            }\n        };\n        service.setOnSucceeded(event -&gt; {\n            System.out.println(&quot;Success&quot;);\n        });\n        service.start();\n    }\n}\n</code></pre>\n<p>hello-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox fx:id=&quot;vbox&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;465.0&quot; prefWidth=&quot;711.0&quot; spacing=&quot;20.0&quot;\n      xmlns=&quot;http://javafx.com/javafx/11.0.2&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n      fx:controller=&quot;com.example.javafxmultithreading.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n    &lt;Pane fx:id=&quot;pane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;/&gt;\n    &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onClearShapes&quot; text=&quot;Clear shapes&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>I measured the time it took to remove different amounts of children from the group with <code>group.getChildren().clear()</code>:</p>\n<pre><code>amount of children    |   time\n100                       2ms = 0,002s\n1 000                     4ms = 0,004s\n10 000                    38ms = 0,038s\n100 000                   1273ms = 1,2s\n1 000 000                 149896ms = 149,896s = ~2,5min\n</code></pre>\n<p>As you can see, the time required increases exponentially..\nAnd now imagine you have to clear the children in an UI and the user has to wait 2,5min for the application while it's freezing.\nAdditionally, in this simplified example it's just a simple line, in the &quot;real&quot; application it's a more complicated geometry -&gt; needs more time.</p>\n<p>So another idea was to 'unbind' the group from it's parent, the pane.\nBecause when it's unbind, I can remove it in another thread. That means 1. the ui doesn't freeze and 2. it will be faster.\nThis was the try:</p>\n<pre><code>pane.getChildren().remove(group); // or clear()\n// and then clear the group in another thread like above\n</code></pre>\n<p>The problem: this 'unbinding' takes also a lot of time. Not 2,5min, but like 0,5min, which is still to much.</p>\n<p>Another idea was to create multiple groups, because as you can see, a group with 10 000 or 100 000 elements is cleared faster.\nThat also failed because several groups suddenly take longer and are deleted exponentially faster.\nFor example, the first takes 20 seconds, the second 10, the third 5, etc.</p>\n<p><strong>Long story short</strong></p>\n<p>Is there any chance to remove the children of the group in a seperate thread or faster than with <code>group.getChildren().clear()</code>? I tried everything that comes to my mind...</p>\n<p>And if I could only show a loading bar while deleting, it would be better than just freezing the surface and waiting 2min...</p>\n<p>I appreciate every idea / help.</p>\n<p><strong>EDIT, see comments</strong>\nSimple example without FXML:</p>\n<pre><code>import javafx.scene.Group;\nimport javafx.scene.shape.Line;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        Group group = new Group();\n        System.out.println(&quot;adding lines&quot;);\n        for (int i = 0; i &lt; 1000000; i++) {\n            group.getChildren().add(new Line(100, 200, 200, 300));\n        }\n        System.out.println(&quot;adding done&quot;);\n\n        System.out.println(&quot;removing starts&quot;);\n        double start = System.currentTimeMillis();\n        group.getChildren().clear();\n        System.out.println(&quot;removing done, needed time: &quot; + (System.currentTimeMillis() - start));\n    }\n}\n</code></pre>\n"},{"tags":["java","digital-signature","bouncycastle","signature","verification"],"owner":{"account_id":29473976,"reputation":9,"user_id":22586099,"display_name":"Štěp&#225;n Vejvoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695621866,"creation_date":1695621866,"question_id":77170204,"body_markdown":"I&#39;ve started working on this project where we use Bouncy Castle for verification of digital signatures and we stumbled upon a bug.\r\nThis is verification method:\r\n`\r\n```\r\nprivate Set&lt;TLName&gt; verifySignature(PDSignature sig, X509Certificate signerCertificate, SignerInformation signerInfo, List&lt;X509Certificate&gt; chain, SignatureInfo signatureInfo) throws OperatorCreationException {\r\n        Set&lt;TLName&gt; emptyTrustedBy = new HashSet&lt;&gt;(TLName.values().length);\r\n\r\n        // checking cert validity at signing time\r\n        try {\r\n            signerCertificate.checkValidity(sig.getSignDate().getTime());\r\n        } catch (CertificateExpiredException e) {\r\n            LOG.info(&quot;Signature verification failed, certificate is expired.&quot;);\r\n            return emptyTrustedBy;\r\n        } catch (CertificateNotYetValidException e) {\r\n            LOG.info(&quot;Signature verification failed, certificate is not yet valid.&quot;);\r\n            return emptyTrustedBy;\r\n        }\r\n\r\n        // check all certificates from chain on trust lists\r\n        Set&lt;TLName&gt; filledTrustedBy = TrustedCertificates.getTrustedByForChain(chain.toArray(new X509Certificate[0]));\r\n        if (filledTrustedBy.isEmpty()) {\r\n            LOG.info(&quot;Signature verification failed, certificate not found between our trusted certificates.&quot;);\r\n            return emptyTrustedBy;\r\n        }\r\n\r\n        // verifying signature with public key\r\n        SignerInformationVerifier verifier = new JcaSimpleSignerInfoVerifierBuilder().build(signerCertificate);\r\n        try {\r\n            if (signerInfo.verify(verifier)) {\r\n                signatureInfo.signedBytesUnchanged = true;\r\n                signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\r\n                LOG.debug(&quot;Signature verification completed, signature verified.&quot;);\r\n                return filledTrustedBy; // only here return trustedBy array filled with values\r\n            }\r\n            signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\r\n        } catch (CMSException e) {\r\n            LOG.info(&quot;Signature verification failed, couldn&#39;t verify signature. Exception message: &quot; + e.getMessage());\r\n        }\r\n\r\n        return emptyTrustedBy;\r\n    }\r\n````\r\nFrom what I researched about usage of this library the statement `if (signerInfo.verify(verifier)) { ...}` should be a legit way to use it. But we had an additional layer where we calculated checksum ourselves to be checked in different component of our project:\r\n\r\n\r\n```\r\n private void checkSignedBytes(SignerInformation signerInfo, File inFile, int[] byteRange, SignatureInfo signatureInfo) throws NoSuchAlgorithmException, IOException {\r\n        Attribute attribute = signerInfo.getSignedAttributes().get(CMSAttributes.messageDigest);\r\n        DEROctetString sigDigest = (DEROctetString) attribute.getAttrValues().getObjectAt(0);\r\n        byte[] sigDigestBytes = sigDigest.getOctets();\r\n\r\n        byte[] contentDigestBytes = Signer.getDigest(inFile, byteRange, signerInfo.getDigestAlgOID());\r\n\r\n        signatureInfo.checksum = DatatypeConverter.printHexBinary(sigDigestBytes);\r\n        signatureInfo.signedBytesUnchanged = Arrays.equals(sigDigestBytes, contentDigestBytes);\r\n    }\r\n```\r\nThis used to work until we stumbled upon a case where we encountered digital signature without signed attributes. I&#39;ve tried to study the library but because of some problem I am not able to debug it. From what can I tell happens in `doVerify( ... )` method in `SignerInformation` class of Bouncy Castle signatures without signed attributes are handled.\r\n\r\nDigest calculation:\r\n```\r\n if (signedAttributeSet == null)\r\n                    {\r\n                        if (contentVerifier instanceof RawContentVerifier)\r\n                        {\r\n                            content.write(digOut);\r\n                        }\r\n                        else\r\n                        {\r\n                            OutputStream cOut = new TeeOutputStream(digOut, sigOut);\r\n\r\n                            content.write(cOut);\r\n\r\n                            cOut.close();\r\n                        }\r\n                    }\r\n```\r\n\r\nVerification:\r\n\r\n```\r\nif (signedAttributeSet == null &amp;&amp; resultDigest != null)\r\n            {\r\n                if (contentVerifier instanceof RawContentVerifier)\r\n                {\r\n                    RawContentVerifier rawVerifier = (RawContentVerifier)contentVerifier;\r\n\r\n                    if (encName.equals(&quot;RSA&quot;))\r\n                    {\r\n                        DigestInfo digInfo = new DigestInfo(new AlgorithmIdentifier(digestAlgorithm.getAlgorithm(), DERNull.INSTANCE), resultDigest);\r\n\r\n                        return rawVerifier.verify(digInfo.getEncoded(ASN1Encoding.DER), this.getSignature());\r\n                    }\r\n\r\n                    return rawVerifier.verify(resultDigest, this.getSignature());\r\n                }\r\n            }\r\n```\r\nTo my question - I have moved logic of the second method `checkSignedBytes( ... )` to the first method `verifySignature( ... )` here:\r\n\r\n```\r\nif (signerInfo.verify(verifier)) {\r\n                signatureInfo.signedBytesUnchanged = true;\r\n                signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\r\n                LOG.debug(&quot;Signature verification completed, signature verified.&quot;);\r\n                return filledTrustedBy; // only here return trustedBy array filled with values\r\n            }\r\n```\r\nShould this be ok? Is there some information lost because of absence of signed attributes? Given that those attributes are needed in different component I have no choice but to initialize them despite how redundant it might seem. Thank you for your answers!\r\n\r\n\r\nDescribed in details above.","title":"Verification of signature without signed attributes using Bouncy Castle 1.70","body":"<p>I've started working on this project where we use Bouncy Castle for verification of digital signatures and we stumbled upon a bug.\nThis is verification method:\n`</p>\n<pre><code>private Set&lt;TLName&gt; verifySignature(PDSignature sig, X509Certificate signerCertificate, SignerInformation signerInfo, List&lt;X509Certificate&gt; chain, SignatureInfo signatureInfo) throws OperatorCreationException {\n        Set&lt;TLName&gt; emptyTrustedBy = new HashSet&lt;&gt;(TLName.values().length);\n\n        // checking cert validity at signing time\n        try {\n            signerCertificate.checkValidity(sig.getSignDate().getTime());\n        } catch (CertificateExpiredException e) {\n            LOG.info(&quot;Signature verification failed, certificate is expired.&quot;);\n            return emptyTrustedBy;\n        } catch (CertificateNotYetValidException e) {\n            LOG.info(&quot;Signature verification failed, certificate is not yet valid.&quot;);\n            return emptyTrustedBy;\n        }\n\n        // check all certificates from chain on trust lists\n        Set&lt;TLName&gt; filledTrustedBy = TrustedCertificates.getTrustedByForChain(chain.toArray(new X509Certificate[0]));\n        if (filledTrustedBy.isEmpty()) {\n            LOG.info(&quot;Signature verification failed, certificate not found between our trusted certificates.&quot;);\n            return emptyTrustedBy;\n        }\n\n        // verifying signature with public key\n        SignerInformationVerifier verifier = new JcaSimpleSignerInfoVerifierBuilder().build(signerCertificate);\n        try {\n            if (signerInfo.verify(verifier)) {\n                signatureInfo.signedBytesUnchanged = true;\n                signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\n                LOG.debug(&quot;Signature verification completed, signature verified.&quot;);\n                return filledTrustedBy; // only here return trustedBy array filled with values\n            }\n            signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\n        } catch (CMSException e) {\n            LOG.info(&quot;Signature verification failed, couldn't verify signature. Exception message: &quot; + e.getMessage());\n        }\n\n        return emptyTrustedBy;\n    }\n</code></pre>\n<p>From what I researched about usage of this library the statement <code>if (signerInfo.verify(verifier)) { ...}</code> should be a legit way to use it. But we had an additional layer where we calculated checksum ourselves to be checked in different component of our project:</p>\n<pre><code> private void checkSignedBytes(SignerInformation signerInfo, File inFile, int[] byteRange, SignatureInfo signatureInfo) throws NoSuchAlgorithmException, IOException {\n        Attribute attribute = signerInfo.getSignedAttributes().get(CMSAttributes.messageDigest);\n        DEROctetString sigDigest = (DEROctetString) attribute.getAttrValues().getObjectAt(0);\n        byte[] sigDigestBytes = sigDigest.getOctets();\n\n        byte[] contentDigestBytes = Signer.getDigest(inFile, byteRange, signerInfo.getDigestAlgOID());\n\n        signatureInfo.checksum = DatatypeConverter.printHexBinary(sigDigestBytes);\n        signatureInfo.signedBytesUnchanged = Arrays.equals(sigDigestBytes, contentDigestBytes);\n    }\n</code></pre>\n<p>This used to work until we stumbled upon a case where we encountered digital signature without signed attributes. I've tried to study the library but because of some problem I am not able to debug it. From what can I tell happens in <code>doVerify( ... )</code> method in <code>SignerInformation</code> class of Bouncy Castle signatures without signed attributes are handled.</p>\n<p>Digest calculation:</p>\n<pre><code> if (signedAttributeSet == null)\n                    {\n                        if (contentVerifier instanceof RawContentVerifier)\n                        {\n                            content.write(digOut);\n                        }\n                        else\n                        {\n                            OutputStream cOut = new TeeOutputStream(digOut, sigOut);\n\n                            content.write(cOut);\n\n                            cOut.close();\n                        }\n                    }\n</code></pre>\n<p>Verification:</p>\n<pre><code>if (signedAttributeSet == null &amp;&amp; resultDigest != null)\n            {\n                if (contentVerifier instanceof RawContentVerifier)\n                {\n                    RawContentVerifier rawVerifier = (RawContentVerifier)contentVerifier;\n\n                    if (encName.equals(&quot;RSA&quot;))\n                    {\n                        DigestInfo digInfo = new DigestInfo(new AlgorithmIdentifier(digestAlgorithm.getAlgorithm(), DERNull.INSTANCE), resultDigest);\n\n                        return rawVerifier.verify(digInfo.getEncoded(ASN1Encoding.DER), this.getSignature());\n                    }\n\n                    return rawVerifier.verify(resultDigest, this.getSignature());\n                }\n            }\n</code></pre>\n<p>To my question - I have moved logic of the second method <code>checkSignedBytes( ... )</code> to the first method <code>verifySignature( ... )</code> here:</p>\n<pre><code>if (signerInfo.verify(verifier)) {\n                signatureInfo.signedBytesUnchanged = true;\n                signatureInfo.checksum = DatatypeConverter.printHexBinary(signerInfo.getContentDigest());\n                LOG.debug(&quot;Signature verification completed, signature verified.&quot;);\n                return filledTrustedBy; // only here return trustedBy array filled with values\n            }\n</code></pre>\n<p>Should this be ok? Is there some information lost because of absence of signed attributes? Given that those attributes are needed in different component I have no choice but to initialize them despite how redundant it might seem. Thank you for your answers!</p>\n<p>Described in details above.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695644543,"post_id":77170131,"comment_id":136047718,"body_markdown":"Please remove salutations/thanks from your question as per the guidelines: https://stackoverflow.com/help/behavior. Also the paragraph &quot;You can post this on Stack Overflow,...&quot; is superfluous and should be removed.","body":"Please remove salutations/thanks from your question as per the guidelines: <a href=\"https://stackoverflow.com/help/behavior\">stackoverflow.com/help/behavior</a>. Also the paragraph &quot;You can post this on Stack Overflow,...&quot; is superfluous and should be removed."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695644617,"post_id":77170131,"comment_id":136047733,"body_markdown":"What is the relationship of the source code shared with the DBeaver issue? What are the symptoms of the error? What are the steps for reproduction? Please read [How to Ask](https://stackoverflow.com/help/how-to-ask).","body":"What is the relationship of the source code shared with the DBeaver issue? What are the symptoms of the error? What are the steps for reproduction? Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":29505376,"reputation":11,"user_id":22611453,"display_name":"박진후"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695621297,"creation_date":1695620837,"question_id":77170131,"body_markdown":"I&#39;ve encountered an error while using DBeaver:\r\n\r\n```\r\neclipse.buildId=unknown\r\njava.version=17.0.6\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko\r\nFramework arguments:  -eclipse.keyring C:\\Users\\USER\\AppData\\Roaming\\DBeaverData\\secure\\secure_storage\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64\r\n\r\norg.jkiss.dbeaver.model\r\nError\r\nMon Sep 25 14:09:32 KST 2023\r\nOperation failed. Retry count remains = 1\r\n```\r\nUpon troubleshooting this issue, I&#39;ve noted:\r\n\r\nI initially suspected a compatibility issue between Java and DBeaver, but version 17.0.6 should be compatible.\r\nI&#39;ve checked DBeaver&#39;s log files for further insights but couldn&#39;t find any additional relevant information.\r\nI haven&#39;t installed any plugins or extensions, so I doubt it&#39;s an issue related to that.\r\nIf anyone has encountered a similar issue or has suggestions for resolution, I&#39;d greatly appreciate your input. Thank you!\r\n\r\nYou can post this on Stack Overflow, and hopefully, the community will provide you with the necessary guidance or solutions.\r\n\r\nboard\r\n\r\n```\r\npackage org.polyproject.fishinghubpro.entity;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.*;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.ToString;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Data\r\npublic class Board{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    private String title;\r\n\r\n    @Column(columnDefinition = &quot;TEXT&quot;, nullable = false) // content를 TEXT 타입으로 설정하고 NOT NULL 제약 조건 추가\r\n    private  String content;\r\n\r\n    @Column(length = 15000 )\r\n    private String filename;\r\n\r\n    @Column(length = 30000 )\r\n    private String filepath;\r\n\r\n    @CreationTimestamp\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\r\n    private Date createdAt;\r\n\r\n    @ManyToOne\r\n    @ToString.Exclude\r\n    @JoinColumn(name=&quot;user_no&quot;)\r\n    private Member member;\r\n}\r\n\r\n```\r\nboardDTO\r\n\r\n```\r\n        package org.polyproject.fishinghubpro.dto;\r\n\r\n        import lombok.Builder;\r\n        import lombok.Data;\r\n        import lombok.Getter;\r\n        import lombok.Setter;\r\n        import org.polyproject.fishinghubpro.entity.BaseEntity;\r\n\r\n        import java.util.Date;\r\n\r\n        @Data\r\n        @Builder\r\n        public class BoardDto {\r\n\r\n            @Setter@Getter\r\n            private int id;\r\n            private String title;\r\n            private String content;\r\n            private String filename;\r\n            private String filepath;\r\n            private Date createdAt;\r\n            private String memberNick; // 회원 닉네임\r\n\r\n            // 생성자, getter, setter 생략\r\n        }\r\n```\r\nboardrepository\r\n\r\n```\r\npackage org.polyproject.fishinghubpro.repository;\r\n\r\nimport jakarta.transaction.Transactional;\r\nimport org.polyproject.fishinghubpro.entity.Board;\r\nimport org.polyproject.fishinghubpro.entity.Member;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\n@Transactional\r\npublic interface BoardRepository  extends JpaRepository &lt;Board, Integer&gt; {\r\n}\r\n\r\n```\r\nBoardService\r\n\r\n```\r\n    package org.polyproject.fishinghubpro.service;\r\n\r\n    import jakarta.transaction.Transactional;\r\n    import org.polyproject.fishinghubpro.dto.BoardDto;\r\n    import org.polyproject.fishinghubpro.entity.Board;\r\n    import org.polyproject.fishinghubpro.entity.Member;\r\n    import org.polyproject.fishinghubpro.repository.BoardRepository;\r\n    import org.polyproject.fishinghubpro.repository.member.MemberRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n\r\n    import java.util.Date;\r\n    import java.io.File;\r\n    import java.util.List;\r\n    import java.util.UUID;\r\n\r\n\r\n\r\n    @Service\r\n    @Transactional\r\n    public class BoardService {\r\n\r\n\r\n\r\n            @Autowired\r\n            private BoardRepository boardRepository;\r\n\r\n            @Autowired\r\n            private MemberRepository memberRepository;\r\n\r\n\r\n            //게시글 리스트 처리\r\n            public Page&lt;Board&gt;boardList(Pageable pageable){\r\n\r\n                return boardRepository.findAll(pageable);\r\n\r\n\r\n            }\r\n            //특정 게시글 불러오기\r\n        public Board boardView(Integer id) {\r\n\r\n                Board board = boardRepository.findById(id).orElse(null);\r\n\r\n            return board;\r\n\r\n        }\r\n        //특정게시글 삭제\r\n        public void boardDelete(Integer id){\r\n\r\n                boardRepository.deleteById(id);\r\n        }\r\n\r\n        // 게시글 작성 메서드\r\n        public BoardDto write(Board board, MultipartFile file, String userId) throws Exception {\r\n            Member member = memberRepository.findByUserId(userId).orElse(null);\r\n\r\n            if (board.getContent() != null &amp;&amp; !board.getContent().isEmpty()) {\r\n    //            // 생성 날짜 설정\r\n    //            board.setCreatedAt(new Date());\r\n                // 파일 저장 경로 설정\r\n                String projectPath = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static/files&quot;;\r\n                // UUID를 사용하여 파일명 중복 방지\r\n                UUID uuid = UUID.randomUUID();\r\n\r\n                // 파일이 업로드되었을 때만 파일 처리\r\n                if (file != null &amp;&amp; !file.isEmpty()) {\r\n                    String fileName = uuid + &quot;_&quot; + file.getOriginalFilename();\r\n                    File saveFile = new File(projectPath, fileName);\r\n                    file.transferTo(saveFile);\r\n                    board.setFilename(fileName);\r\n                    board.setFilepath(&quot;/files/&quot; + fileName); // 파일 경로 동적 설정\r\n                }\r\n                board.setMember(member);\r\n\r\n                Board savedBoard = boardRepository.saveAndFlush(board); // 데이터베이스에 저장save(board)\r\n\r\n                // 게시글과 회원 닉네임을 포함한 DTO 객체 생성\r\n                BoardDto boardDto = BoardDto.builder()\r\n                                .title(savedBoard.getTitle())\r\n                                        .content(savedBoard.getContent())\r\n                                                .filepath(savedBoard.getFilepath())\r\n                                                        .filename(savedBoard.getFilename())\r\n                                                                .build();\r\n                boardDto.setMemberNick(member.getUserNick());\r\n\r\n                return boardDto;\r\n            } else {\r\n                // 콘텐츠가 null 또는 비어 있을 경우 예외 처리\r\n                throw new Exception(&quot;게시물 내용을 입력해주세요.&quot;);\r\n            }\r\n        }\r\n        }\r\n\r\n\r\n```\r\nBoardController\r\n\r\n```\r\npackage org.polyproject.fishinghubpro.controller;\r\n\r\n\r\nimport jakarta.transaction.Transactional;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.polyproject.fishinghubpro.dto.BoardDto;\r\nimport org.polyproject.fishinghubpro.entity.Board;\r\nimport org.polyproject.fishinghubpro.security.JwtTokenProvider;\r\nimport org.polyproject.fishinghubpro.service.BoardService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.data.web.PageableDefault;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.security.Principal;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@CrossOrigin(&quot;*&quot;)\r\n@Transactional\r\n@Slf4j\r\npublic class BoardController {\r\n\r\n\r\n    @Autowired\r\n    private BoardService boardService;\r\n\r\n    @Autowired\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @GetMapping(&quot;/board/log&quot;)\r\n    public ResponseEntity&lt;?&gt; checkLogin(@RequestHeader(&quot;Authorization&quot;) String token) {\r\n        // &quot;Bearer &quot; 접두어 제거 (토큰이 &quot;Bearer [토큰값]&quot; 형식으로 오는 경우)\r\n        token = token.startsWith(&quot;Bearer &quot;) ? token.substring(7) : token;\r\n\r\n        // 토큰 유효성 검사\r\n        if (jwtTokenProvider.validateToken(token)) {\r\n            return ResponseEntity.ok(&quot;User is logged in&quot;);\r\n        } else {\r\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(&quot;Unauthorized&quot;);\r\n        }\r\n    }\r\n    @GetMapping(&quot;/board/write&quot;)//localhost:8090/board/write\r\n    public String boardWriteForm(){\r\n\r\n        return &quot;boardwrite&quot;;\r\n    }\r\n\r\n    //원본\r\n    @PostMapping(&quot;board/writepro&quot;)//@RequestBodyboard앞에\r\n    public ResponseEntity&lt;BoardDto&gt; boardWritePro(Board board,@RequestParam(&quot;file&quot;) MultipartFile file, Principal principal) throws Exception {\r\n        String userId = principal.getName();\r\n\r\n        // boardService.write 메서드로 게시글을 작성하고 게시글 정보를 받아옴\r\n        BoardDto createdBoard = boardService.write(board, file, userId);\r\n\r\n        System.out.println(&quot;board : &quot;+board+&quot;, id : &quot;+userId);\r\n        System.out.println(&quot;board : &quot;+board+&quot;, file : &quot;+file+&quot;, id : &quot;+userId);\r\n        // ResponseEntity로 커스텀 응답을 생성하고, 상태 코드와 함께 반환\r\n        return new ResponseEntity&lt;&gt;(createdBoard, HttpStatus.CREATED); // 수정: response 대신 createdBoard 반환\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n@GetMapping(&quot;/board/list&quot;)\r\npublic ResponseEntity&lt;List&lt;Board&gt;&gt; boardList(@PageableDefault(page = 0, size = 10, sort = &quot;id&quot;, direction = Sort.Direction.DESC) Pageable pageable) {\r\n    Page&lt;Board&gt; list = boardService.boardList(pageable);\r\n\r\n    // 게시글 목록을 리스트로 변환\r\n    List&lt;Board&gt; boardList = list.getContent();\r\n\r\n    // ResponseEntity를 사용하여 JSON 형식으로 데이터 반환\r\n    return new ResponseEntity&lt;&gt;(boardList, HttpStatus.OK);\r\n}\r\n\r\n    @GetMapping(&quot;/board/view&quot;)//localhost:8080/board/view?id=1\r\n    public String boardView(Model model, Integer id){\r\n\r\n\r\n        model.addAttribute(&quot;board&quot;,boardService.boardView(id));\r\n        return &quot;boardview&quot;;\r\n    }\r\n    @DeleteMapping(&quot;/board/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; deleteBoard(@PathVariable(&quot;id&quot;) Integer id) {\r\n        try {\r\n            // 게시글 삭제를 시도합니다.\r\n            boardService.boardDelete(id);\r\n\r\n            // 게시글이 성공적으로 삭제되었을 때의 응답입니다.\r\n            return ResponseEntity.noContent().build();\r\n        } catch (Exception e) {\r\n            // 게시글 삭제 중 오류가 발생했을 때의 응답입니다.\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;게시글 삭제 중 오류가 발생했습니다.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n//    @GetMapping(&quot;/board/delete&quot;)\r\n//        public String boardDelete(Integer id){\r\n//\r\n//            boardService.boardDelete(id);\r\n//\r\n//            return &quot;redirect:/board/list&quot;;\r\n//        }\r\n\r\n\r\n\r\n    @GetMapping(&quot;/board/modify/{id}&quot;)\r\n    public String boardModify(@PathVariable(&quot;id&quot;)Integer id,Model model){\r\n\r\n        model.addAttribute(&quot;board&quot;,boardService.boardView(id));\r\n        return &quot;boardmodify&quot;;\r\n    }\r\n    @PostMapping(&quot;/board/update/&quot;)\r\n    public String boardUpdate(@RequestBody BoardDto board, Principal principal)throws Exception {\r\n        log.info(&quot;지나갑니다!~!==={}&quot;,board.getId());\r\n        String userId = principal.getName();    //게시글을 쓴 애의 아이디.\r\n        Board boardTemp = boardService.boardView(board.getId());   //기존에 저장된 게시글 가져오기\r\n\r\n        //기존에 저장된 게시글에 새로 들어온 데이터로 수정 해주는 구문.\r\n        boardTemp.setTitle(board.getTitle());   //dirtyChecking으로 변경감지로 수정. 따로 저장 구문 필요 없음.\r\n        boardTemp.setContent(board.getContent());\r\n//        boardService.write(boardTemp, file, userId); // 수정된 내용을 저장\r\n        return &quot;수정되었습니다.&quot;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nDBeaver Error with Retry Count on Windows\r\nI attempted to run DBeaver with my usual configurations.\r\nI was expecting DBeaver to start and operate as usual without any hitches.\r\nInstead, I encountered an error message that states:\r\n\r\n```\r\neclipse.buildId=unknown\r\njava.version=17.0.6\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko\r\nFramework arguments: -eclipse.keyring C:\\Users\\USER\\AppData\\Roaming\\DBeaverData\\secure\\secure_storage\r\nCommand-line arguments: -os win32 -ws win32 -arch x86_64\r\n\r\norg.jkiss.dbeaver.model\r\n오류\r\nMon Sep 25 14:09:32 KST 2023\r\nOperation failed. Retry count remains = 1\r\n\r\n```\r\nAny assistance in understanding and resolving this error would be greatly appreciated.\r\n\r\nThank you.\r\n","title":"Facing &quot;Operation failed. Retry count remains = 1&quot; error in DBeaver","body":"<p>I've encountered an error while using DBeaver:</p>\n<pre><code>eclipse.buildId=unknown\njava.version=17.0.6\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko\nFramework arguments:  -eclipse.keyring C:\\Users\\USER\\AppData\\Roaming\\DBeaverData\\secure\\secure_storage\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64\n\norg.jkiss.dbeaver.model\nError\nMon Sep 25 14:09:32 KST 2023\nOperation failed. Retry count remains = 1\n</code></pre>\n<p>Upon troubleshooting this issue, I've noted:</p>\n<p>I initially suspected a compatibility issue between Java and DBeaver, but version 17.0.6 should be compatible.\nI've checked DBeaver's log files for further insights but couldn't find any additional relevant information.\nI haven't installed any plugins or extensions, so I doubt it's an issue related to that.\nIf anyone has encountered a similar issue or has suggestions for resolution, I'd greatly appreciate your input. Thank you!</p>\n<p>You can post this on Stack Overflow, and hopefully, the community will provide you with the necessary guidance or solutions.</p>\n<p>board</p>\n<pre><code>package org.polyproject.fishinghubpro.entity;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.*;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.ToString;\nimport org.hibernate.annotations.CreationTimestamp;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\n@Entity\n@Data\npublic class Board{\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Integer id;\n\n    private String title;\n\n    @Column(columnDefinition = &quot;TEXT&quot;, nullable = false) // content를 TEXT 타입으로 설정하고 NOT NULL 제약 조건 추가\n    private  String content;\n\n    @Column(length = 15000 )\n    private String filename;\n\n    @Column(length = 30000 )\n    private String filepath;\n\n    @CreationTimestamp\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\n    private Date createdAt;\n\n    @ManyToOne\n    @ToString.Exclude\n    @JoinColumn(name=&quot;user_no&quot;)\n    private Member member;\n}\n\n</code></pre>\n<p>boardDTO</p>\n<pre><code>        package org.polyproject.fishinghubpro.dto;\n\n        import lombok.Builder;\n        import lombok.Data;\n        import lombok.Getter;\n        import lombok.Setter;\n        import org.polyproject.fishinghubpro.entity.BaseEntity;\n\n        import java.util.Date;\n\n        @Data\n        @Builder\n        public class BoardDto {\n\n            @Setter@Getter\n            private int id;\n            private String title;\n            private String content;\n            private String filename;\n            private String filepath;\n            private Date createdAt;\n            private String memberNick; // 회원 닉네임\n\n            // 생성자, getter, setter 생략\n        }\n</code></pre>\n<p>boardrepository</p>\n<pre><code>package org.polyproject.fishinghubpro.repository;\n\nimport jakarta.transaction.Transactional;\nimport org.polyproject.fishinghubpro.entity.Board;\nimport org.polyproject.fishinghubpro.entity.Member;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\n@Transactional\npublic interface BoardRepository  extends JpaRepository &lt;Board, Integer&gt; {\n}\n\n</code></pre>\n<p>BoardService</p>\n<pre><code>    package org.polyproject.fishinghubpro.service;\n\n    import jakarta.transaction.Transactional;\n    import org.polyproject.fishinghubpro.dto.BoardDto;\n    import org.polyproject.fishinghubpro.entity.Board;\n    import org.polyproject.fishinghubpro.entity.Member;\n    import org.polyproject.fishinghubpro.repository.BoardRepository;\n    import org.polyproject.fishinghubpro.repository.member.MemberRepository;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.data.domain.Page;\n    import org.springframework.data.domain.Pageable;\n    import org.springframework.stereotype.Service;\n    import org.springframework.web.multipart.MultipartFile;\n\n    import java.util.Date;\n    import java.io.File;\n    import java.util.List;\n    import java.util.UUID;\n\n\n\n    @Service\n    @Transactional\n    public class BoardService {\n\n\n\n            @Autowired\n            private BoardRepository boardRepository;\n\n            @Autowired\n            private MemberRepository memberRepository;\n\n\n            //게시글 리스트 처리\n            public Page&lt;Board&gt;boardList(Pageable pageable){\n\n                return boardRepository.findAll(pageable);\n\n\n            }\n            //특정 게시글 불러오기\n        public Board boardView(Integer id) {\n\n                Board board = boardRepository.findById(id).orElse(null);\n\n            return board;\n\n        }\n        //특정게시글 삭제\n        public void boardDelete(Integer id){\n\n                boardRepository.deleteById(id);\n        }\n\n        // 게시글 작성 메서드\n        public BoardDto write(Board board, MultipartFile file, String userId) throws Exception {\n            Member member = memberRepository.findByUserId(userId).orElse(null);\n\n            if (board.getContent() != null &amp;&amp; !board.getContent().isEmpty()) {\n    //            // 생성 날짜 설정\n    //            board.setCreatedAt(new Date());\n                // 파일 저장 경로 설정\n                String projectPath = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static/files&quot;;\n                // UUID를 사용하여 파일명 중복 방지\n                UUID uuid = UUID.randomUUID();\n\n                // 파일이 업로드되었을 때만 파일 처리\n                if (file != null &amp;&amp; !file.isEmpty()) {\n                    String fileName = uuid + &quot;_&quot; + file.getOriginalFilename();\n                    File saveFile = new File(projectPath, fileName);\n                    file.transferTo(saveFile);\n                    board.setFilename(fileName);\n                    board.setFilepath(&quot;/files/&quot; + fileName); // 파일 경로 동적 설정\n                }\n                board.setMember(member);\n\n                Board savedBoard = boardRepository.saveAndFlush(board); // 데이터베이스에 저장save(board)\n\n                // 게시글과 회원 닉네임을 포함한 DTO 객체 생성\n                BoardDto boardDto = BoardDto.builder()\n                                .title(savedBoard.getTitle())\n                                        .content(savedBoard.getContent())\n                                                .filepath(savedBoard.getFilepath())\n                                                        .filename(savedBoard.getFilename())\n                                                                .build();\n                boardDto.setMemberNick(member.getUserNick());\n\n                return boardDto;\n            } else {\n                // 콘텐츠가 null 또는 비어 있을 경우 예외 처리\n                throw new Exception(&quot;게시물 내용을 입력해주세요.&quot;);\n            }\n        }\n        }\n\n\n</code></pre>\n<p>BoardController</p>\n<pre><code>package org.polyproject.fishinghubpro.controller;\n\n\nimport jakarta.transaction.Transactional;\nimport lombok.extern.slf4j.Slf4j;\nimport org.polyproject.fishinghubpro.dto.BoardDto;\nimport org.polyproject.fishinghubpro.entity.Board;\nimport org.polyproject.fishinghubpro.security.JwtTokenProvider;\nimport org.polyproject.fishinghubpro.service.BoardService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.web.PageableDefault;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.security.Principal;\nimport java.util.List;\n\n@RestController\n@CrossOrigin(&quot;*&quot;)\n@Transactional\n@Slf4j\npublic class BoardController {\n\n\n    @Autowired\n    private BoardService boardService;\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @GetMapping(&quot;/board/log&quot;)\n    public ResponseEntity&lt;?&gt; checkLogin(@RequestHeader(&quot;Authorization&quot;) String token) {\n        // &quot;Bearer &quot; 접두어 제거 (토큰이 &quot;Bearer [토큰값]&quot; 형식으로 오는 경우)\n        token = token.startsWith(&quot;Bearer &quot;) ? token.substring(7) : token;\n\n        // 토큰 유효성 검사\n        if (jwtTokenProvider.validateToken(token)) {\n            return ResponseEntity.ok(&quot;User is logged in&quot;);\n        } else {\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(&quot;Unauthorized&quot;);\n        }\n    }\n    @GetMapping(&quot;/board/write&quot;)//localhost:8090/board/write\n    public String boardWriteForm(){\n\n        return &quot;boardwrite&quot;;\n    }\n\n    //원본\n    @PostMapping(&quot;board/writepro&quot;)//@RequestBodyboard앞에\n    public ResponseEntity&lt;BoardDto&gt; boardWritePro(Board board,@RequestParam(&quot;file&quot;) MultipartFile file, Principal principal) throws Exception {\n        String userId = principal.getName();\n\n        // boardService.write 메서드로 게시글을 작성하고 게시글 정보를 받아옴\n        BoardDto createdBoard = boardService.write(board, file, userId);\n\n        System.out.println(&quot;board : &quot;+board+&quot;, id : &quot;+userId);\n        System.out.println(&quot;board : &quot;+board+&quot;, file : &quot;+file+&quot;, id : &quot;+userId);\n        // ResponseEntity로 커스텀 응답을 생성하고, 상태 코드와 함께 반환\n        return new ResponseEntity&lt;&gt;(createdBoard, HttpStatus.CREATED); // 수정: response 대신 createdBoard 반환\n    }\n\n\n\n\n\n@GetMapping(&quot;/board/list&quot;)\npublic ResponseEntity&lt;List&lt;Board&gt;&gt; boardList(@PageableDefault(page = 0, size = 10, sort = &quot;id&quot;, direction = Sort.Direction.DESC) Pageable pageable) {\n    Page&lt;Board&gt; list = boardService.boardList(pageable);\n\n    // 게시글 목록을 리스트로 변환\n    List&lt;Board&gt; boardList = list.getContent();\n\n    // ResponseEntity를 사용하여 JSON 형식으로 데이터 반환\n    return new ResponseEntity&lt;&gt;(boardList, HttpStatus.OK);\n}\n\n    @GetMapping(&quot;/board/view&quot;)//localhost:8080/board/view?id=1\n    public String boardView(Model model, Integer id){\n\n\n        model.addAttribute(&quot;board&quot;,boardService.boardView(id));\n        return &quot;boardview&quot;;\n    }\n    @DeleteMapping(&quot;/board/{id}&quot;)\n    public ResponseEntity&lt;String&gt; deleteBoard(@PathVariable(&quot;id&quot;) Integer id) {\n        try {\n            // 게시글 삭제를 시도합니다.\n            boardService.boardDelete(id);\n\n            // 게시글이 성공적으로 삭제되었을 때의 응답입니다.\n            return ResponseEntity.noContent().build();\n        } catch (Exception e) {\n            // 게시글 삭제 중 오류가 발생했을 때의 응답입니다.\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;게시글 삭제 중 오류가 발생했습니다.&quot;);\n        }\n    }\n\n\n//    @GetMapping(&quot;/board/delete&quot;)\n//        public String boardDelete(Integer id){\n//\n//            boardService.boardDelete(id);\n//\n//            return &quot;redirect:/board/list&quot;;\n//        }\n\n\n\n    @GetMapping(&quot;/board/modify/{id}&quot;)\n    public String boardModify(@PathVariable(&quot;id&quot;)Integer id,Model model){\n\n        model.addAttribute(&quot;board&quot;,boardService.boardView(id));\n        return &quot;boardmodify&quot;;\n    }\n    @PostMapping(&quot;/board/update/&quot;)\n    public String boardUpdate(@RequestBody BoardDto board, Principal principal)throws Exception {\n        log.info(&quot;지나갑니다!~!==={}&quot;,board.getId());\n        String userId = principal.getName();    //게시글을 쓴 애의 아이디.\n        Board boardTemp = boardService.boardView(board.getId());   //기존에 저장된 게시글 가져오기\n\n        //기존에 저장된 게시글에 새로 들어온 데이터로 수정 해주는 구문.\n        boardTemp.setTitle(board.getTitle());   //dirtyChecking으로 변경감지로 수정. 따로 저장 구문 필요 없음.\n        boardTemp.setContent(board.getContent());\n//        boardService.write(boardTemp, file, userId); // 수정된 내용을 저장\n        return &quot;수정되었습니다.&quot;;\n    }\n\n}\n\n</code></pre>\n<p>DBeaver Error with Retry Count on Windows\nI attempted to run DBeaver with my usual configurations.\nI was expecting DBeaver to start and operate as usual without any hitches.\nInstead, I encountered an error message that states:</p>\n<pre><code>eclipse.buildId=unknown\njava.version=17.0.6\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko\nFramework arguments: -eclipse.keyring C:\\Users\\USER\\AppData\\Roaming\\DBeaverData\\secure\\secure_storage\nCommand-line arguments: -os win32 -ws win32 -arch x86_64\n\norg.jkiss.dbeaver.model\n오류\nMon Sep 25 14:09:32 KST 2023\nOperation failed. Retry count remains = 1\n\n</code></pre>\n<p>Any assistance in understanding and resolving this error would be greatly appreciated.</p>\n<p>Thank you.</p>\n"},{"tags":["java","jwt","jjwt"],"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695621273,"creation_date":1695607223,"question_id":77169563,"body_markdown":"I am getting a weird exception using jjwt when parsing my JWT(JWS).\r\n\r\nHere is code of parsing:\r\n\r\n```\r\nJwtParser parser = Jwts.parserBuilder()\r\n        .setSigningKey(publicKey)\r\n        .build();\r\n\r\n//exception thrown\r\nJws&lt;String&gt; parsedToken = parser.parsePlaintextJws(token);\r\n//works\r\nJws&lt;Claims&gt; parsedToken1 = parser.parseClaimsJws(token);\r\n```\r\n\r\nHere is my code for creating a token:\r\n\r\n```\r\ntoken = Jwts.builder()\r\n        .setIssuedAt(Date.from(issuedTime.atZone(ZoneId.systemDefault()).toInstant()))\r\n        .setExpiration(Date.from(expirationTime.atZone(ZoneId.systemDefault()).toInstant()))\r\n        .claim(&quot;a&quot;, &quot;foo&quot;)\r\n        .claim(&quot;b&quot;, &quot;boo&quot;)\r\n        .signWith(secretKey, SignatureAlgorithm.RS256)\r\n        .compact();\r\n```\r\n\r\n&gt;Exception - io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported.\r\n\r\nWhat&#39;s the reason for this exception and how can it be fixed?\r\n","title":"Getting io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported using parsePlaintextJws","body":"<p>I am getting a weird exception using jjwt when parsing my JWT(JWS).</p>\n<p>Here is code of parsing:</p>\n<pre><code>JwtParser parser = Jwts.parserBuilder()\n        .setSigningKey(publicKey)\n        .build();\n\n//exception thrown\nJws&lt;String&gt; parsedToken = parser.parsePlaintextJws(token);\n//works\nJws&lt;Claims&gt; parsedToken1 = parser.parseClaimsJws(token);\n</code></pre>\n<p>Here is my code for creating a token:</p>\n<pre><code>token = Jwts.builder()\n        .setIssuedAt(Date.from(issuedTime.atZone(ZoneId.systemDefault()).toInstant()))\n        .setExpiration(Date.from(expirationTime.atZone(ZoneId.systemDefault()).toInstant()))\n        .claim(&quot;a&quot;, &quot;foo&quot;)\n        .claim(&quot;b&quot;, &quot;boo&quot;)\n        .signWith(secretKey, SignatureAlgorithm.RS256)\n        .compact();\n</code></pre>\n<blockquote>\n<p>Exception - io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported.</p>\n</blockquote>\n<p>What's the reason for this exception and how can it be fixed?</p>\n"},{"tags":["java","android","kotlin","toolbar","statusbar"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695620928,"creation_date":1695497600,"question_id":77164637,"body_markdown":"I would like to create a trunslucent status bar and toolbar , i tried few things but could not make it work , basically i want to do the thing as shown in the below attached image and thank you in advance for any help .\r\n\r\n\r\n * This is my layout \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/layout&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        app:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;@android:color/transparent&quot;&gt;\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;24dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:layout_marginEnd=&quot;24dp&quot;\r\n        android:background=&quot;@null&quot;\r\n        app:tabSelectedTextColor=&quot;@color/white&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:tabIndicator=&quot;@drawable/custom_tab_indicator&quot;\r\n        app:tabIndicatorColor=&quot;#FF5722&quot;\r\n        app:tabIndicatorFullWidth=&quot;false&quot; /&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\n * This is my style xml \r\n\r\n```\r\n\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.Tab&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n\r\n```\r\n\r\n\r\n * This is the example i want ( surrounded by red line )\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eyRlt.png","title":"Create Translucent status bar and toolbar in android","body":"<p>I would like to create a trunslucent status bar and toolbar , i tried few things but could not make it work , basically i want to do the thing as shown in the below attached image and thank you in advance for any help .</p>\n<ul>\n<li>This is my layout</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/layout&quot;\n    android:orientation=&quot;vertical&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        app:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:minHeight=&quot;?attr/actionBarSize&quot;\n        android:background=&quot;@android:color/transparent&quot;&gt;\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tabLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;24dp&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:layout_marginEnd=&quot;24dp&quot;\n        android:background=&quot;@null&quot;\n        app:tabSelectedTextColor=&quot;@color/white&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:tabIndicator=&quot;@drawable/custom_tab_indicator&quot;\n        app:tabIndicatorColor=&quot;#FF5722&quot;\n        app:tabIndicatorFullWidth=&quot;false&quot; /&gt;\n\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<ul>\n<li>This is my style xml</li>\n</ul>\n<pre><code>\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.Tab&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n\n</code></pre>\n<ul>\n<li>This is the example i want ( surrounded by red line )</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/eyRlt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eyRlt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","zoneddatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696275927,"post_id":77158331,"comment_id":136129850,"body_markdown":"Related: [Why LocalDate.plusDays not working here?](https://stackoverflow.com/questions/43933397/why-localdate-plusdays-not-working-here)","body":"Related: <a href=\"https://stackoverflow.com/questions/43933397/why-localdate-plusdays-not-working-here\">Why LocalDate.plusDays not working here?</a>"}],"answers":[{"comments":[{"owner":{"account_id":295108,"reputation":72056,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"score":0,"creation_date":1695391709,"post_id":77158339,"comment_id":136022366,"body_markdown":"ahhh I did not know that, makes sense thanks!","body":"ahhh I did not know that, makes sense thanks!"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1695403045,"creation_date":1695391592,"answer_id":77158339,"question_id":77158331,"body_markdown":"Those methods don&#39;t modify the `ZonedDateTime` instance. They return new ones. The *java.time* classes use [immutable objects][1]. \r\n\r\nTo fix your code, update the variable:\r\n```\r\nvar zdt: ZonedDateTime = ZonedDateTime.now()\r\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\nzdt = zdt.plusDays(1)\r\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\nzdt = zdt.withHour(0).withMinute(0).withSecond(0)\r\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\n```\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Immutable_object","title":"Adding days to ZonedDateTime does not change the time","body":"<p>Those methods don't modify the <code>ZonedDateTime</code> instance. They return new ones. The <em>java.time</em> classes use <a href=\"https://en.m.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable objects</a>.</p>\n<p>To fix your code, update the variable:</p>\n<pre><code>var zdt: ZonedDateTime = ZonedDateTime.now()\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\nzdt = zdt.plusDays(1)\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\nzdt = zdt.withHour(0).withMinute(0).withSecond(0)\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696276018,"post_id":77158479,"comment_id":136129872,"body_markdown":"Because a day is not always 24 hours, which `Instant` assumes it is.","body":"Because a day is not always 24 hours, which <code>Instant</code> assumes it is."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1696352218,"post_id":77158479,"comment_id":136140698,"body_markdown":"May be a valid reason…","body":"May be a valid reason…"}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695619899,"creation_date":1695392710,"answer_id":77158479,"question_id":77158331,"body_markdown":"Why `ZonedDateTime.now()` when you are obviously just interested in epoch millis?\r\n\r\nYou could use only `Instant`s instead:\r\n\r\n```Kotlin\r\nfun main() {\r\n    var now = Instant.now()\r\n    var nowPlusOneDay = now.plus(1, ChronoUnit.DAYS)\r\n    println(&quot;now:           ${now.toEpochMilli()}&quot;)\r\n    println(&quot;one day later: ${nowPlusOneDay.toEpochMilli()}&quot;)\r\n}\r\n```\r\n\r\nOutput (some seconds ago):\r\n\r\n```none\r\nnow:           1695392676969\r\none day later: 1695479076969\r\n```","title":"Adding days to ZonedDateTime does not change the time","body":"<p>Why <code>ZonedDateTime.now()</code> when you are obviously just interested in epoch millis?</p>\n<p>You could use only <code>Instant</code>s instead:</p>\n<pre><code>fun main() {\n    var now = Instant.now()\n    var nowPlusOneDay = now.plus(1, ChronoUnit.DAYS)\n    println(&quot;now:           ${now.toEpochMilli()}&quot;)\n    println(&quot;one day later: ${nowPlusOneDay.toEpochMilli()}&quot;)\n}\n</code></pre>\n<p>Output (some seconds ago):</p>\n<pre class=\"lang-none prettyprint-override\"><code>now:           1695392676969\none day later: 1695479076969\n</code></pre>\n"}],"owner":{"account_id":295108,"reputation":72056,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77158339,"answer_count":2,"score":4,"last_activity_date":1695619899,"creation_date":1695391509,"question_id":77158331,"body_markdown":"I am trying to get an instance of `ZonedDateTime` then add 1 day to it then I want to know what the time is in mills at UTC but when I use `plusDays` the time stays the same and I am not sure why\r\n\r\nhere is what I am doing\r\n\r\n    val zdt: ZonedDateTime = ZonedDateTime.now()\r\n\r\n    println(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\n\r\n    zdt.plusDays(1)\r\n\r\n    println(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\n\r\n    zdt.withHour(0)\r\n    zdt.withMinute(0)\r\n    zdt.withSecond(0)\r\n\r\n    println(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\r\n\r\nall print statements print out the same value, what am I missing here?\r\n\r\nHere is a link to the code sample\r\n\r\nhttps://pl.kotl.in/QmlXRd-HM","title":"Adding days to ZonedDateTime does not change the time","body":"<p>I am trying to get an instance of <code>ZonedDateTime</code> then add 1 day to it then I want to know what the time is in mills at UTC but when I use <code>plusDays</code> the time stays the same and I am not sure why</p>\n<p>here is what I am doing</p>\n<pre><code>val zdt: ZonedDateTime = ZonedDateTime.now()\n\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\n\nzdt.plusDays(1)\n\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\n\nzdt.withHour(0)\nzdt.withMinute(0)\nzdt.withSecond(0)\n\nprintln(&quot;${zdt.toInstant().toEpochMilli()}&quot;)\n</code></pre>\n<p>all print statements print out the same value, what am I missing here?</p>\n<p>Here is a link to the code sample</p>\n<p><a href=\"https://pl.kotl.in/QmlXRd-HM\" rel=\"nofollow noreferrer\">https://pl.kotl.in/QmlXRd-HM</a></p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":4437031,"reputation":242,"user_id":3612610,"accept_rate":11,"display_name":"user3612610"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695618887,"creation_date":1651154733,"question_id":72045139,"body_markdown":"I would like to know if Spring 5.3 and Hibernate 5.6 are compatible. The only information I found is:\r\n\r\n&gt; Hibernate support has been upgraded to a Hibernate ORM 5.2+ baseline, with a focus on ORM 5.4.x. Please note that Hibernate Search needs to be upgraded to 5.11.6 for Spring Framework 5.3 JPA compatibility; see Hibernate JIRA.\r\n\r\nFrom: [Upgrading to Spring Framework 5.x][1]\r\n\r\nHas anyone more information about if Spring 5.3 only compatible with Hibernate 5.4 or also with 5.6?\r\n\r\nIn the case of only Hibernate 5.4 compatible, is 5.4 EOL?\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x","title":"Spring 5.3 and Hibernate 5.6 compatibility","body":"<p>I would like to know if Spring 5.3 and Hibernate 5.6 are compatible. The only information I found is:</p>\n<blockquote>\n<p>Hibernate support has been upgraded to a Hibernate ORM 5.2+ baseline, with a focus on ORM 5.4.x. Please note that Hibernate Search needs to be upgraded to 5.11.6 for Spring Framework 5.3 JPA compatibility; see Hibernate JIRA.</p>\n</blockquote>\n<p>From: <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x\" rel=\"nofollow noreferrer\">Upgrading to Spring Framework 5.x</a></p>\n<p>Has anyone more information about if Spring 5.3 only compatible with Hibernate 5.4 or also with 5.6?</p>\n<p>In the case of only Hibernate 5.4 compatible, is 5.4 EOL?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695439191,"post_id":77158733,"comment_id":136028343,"body_markdown":"You may want to read [ask]","body":"You may want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695569562,"post_id":77158733,"comment_id":136038934,"body_markdown":"If you had read [ask], you would have seen that you shouldn&#39;t upload images of code, errors, logs, or other text. You would also have seen that you need to describe the problem in a way that others can reproduce it.","body":"If you had read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, you would have seen that you shouldn&#39;t upload images of code, errors, logs, or other text. You would also have seen that you need to describe the problem in a way that others can reproduce it."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696469174,"post_id":77158733,"comment_id":136158189,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":4284550,"reputation":21,"user_id":3502799,"display_name":"Bradford McEvilly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695395089,"creation_date":1695395089,"answer_id":77158789,"question_id":77158733,"body_markdown":"You have to update the version in your pom.xml file, then update your project config in order to apply the changes.","title":"VSCode The compiler compliance specified is 1.8 but a JRE 17 is used","body":"<p>You have to update the version in your pom.xml file, then update your project config in order to apply the changes.</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695618882,"creation_date":1695618882,"answer_id":77170030,"question_id":77158733,"body_markdown":"Read [this document][1] to get started with java.\r\n\r\nThis [configuration][2] can set the **JDk**\r\n\r\n```json\r\n&quot;java.configuration.runtimes&quot;: [\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\r\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\r\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n    &quot;default&quot;:  true\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\r\n   },\r\n]\r\n```\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-tutorial\r\n  [2]: https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","title":"VSCode The compiler compliance specified is 1.8 but a JRE 17 is used","body":"<p>Read <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">this document</a> to get started with java.</p>\n<p>This <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">configuration</a> can set the <strong>JDk</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;:  true\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\n   },\n]\n</code></pre>\n"}],"owner":{"account_id":29510227,"reputation":1,"user_id":22615445,"display_name":"Emanuele"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695618882,"creation_date":1695394667,"question_id":77158733,"body_markdown":"[i have this problem on vscode for a java project. i&#39;ve also other java projects, but they&#39;re not giving me any problems. this is the only one with this issue. can anyone help to solve this?](https://i.stack.imgur.com/BqzuB.png)\r\n\r\ni already tried adding the java installation path to the java home settings in vs code. but nothing happened.","title":"VSCode The compiler compliance specified is 1.8 but a JRE 17 is used","body":"<p><a href=\"https://i.stack.imgur.com/BqzuB.png\" rel=\"nofollow noreferrer\">i have this problem on vscode for a java project. i've also other java projects, but they're not giving me any problems. this is the only one with this issue. can anyone help to solve this?</a></p>\n<p>i already tried adding the java installation path to the java home settings in vs code. but nothing happened.</p>\n"},{"tags":["java","android","com.sun.net.httpserver"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1292791984,"post_id":4484989,"comment_id":4905152,"body_markdown":"why you want this package in your app ?","body":"why you want this package in your app ?"},{"owner":{"account_id":171074,"reputation":13385,"user_id":398248,"accept_rate":77,"display_name":"Jona"},"score":0,"creation_date":1292792034,"post_id":4484989,"comment_id":4905159,"body_markdown":"This contains a HttpServer classes for building a simple server.  I like to have that functionality.","body":"This contains a HttpServer classes for building a simple server.  I like to have that functionality."},{"owner":{"account_id":4468797,"reputation":96,"user_id":3635621,"display_name":"HuH"},"score":1,"creation_date":1435658069,"post_id":4484989,"comment_id":50280913,"body_markdown":"http://www.java2s.com/Code/Jar/h/Downloadhttp221jar.htm  - I download all my java libraries from java2s.com","body":"<a href=\"http://www.java2s.com/Code/Jar/h/Downloadhttp221jar.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Jar/h/Downloadhttp221jar.htm</a>  - I download all my java libraries from java2s.com"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695619264,"post_id":4484989,"comment_id":136043327,"body_markdown":"[*JEP 408: Simple Web Server*](https://openjdk.org/jeps/408)","body":"<a href=\"https://openjdk.org/jeps/408\" rel=\"nofollow noreferrer\"><i>JEP 408: Simple Web Server</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":171074,"reputation":13385,"user_id":398248,"accept_rate":77,"display_name":"Jona"},"score":0,"creation_date":1292869914,"post_id":4485029,"comment_id":4914854,"body_markdown":"Thanks for the info. I actually now understand where this packages come from :P","body":"Thanks for the info. I actually now understand where this packages come from :P"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1292792007,"creation_date":1292792007,"answer_id":4485029,"question_id":4484989,"body_markdown":"[It&#39;s part of Java SE 6][1]. It&#39;s not published separately and also not included in Android. I&#39;d suggest to look for another lightweight Java implementation of a HTTP server, like [i-Jetty][2].\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/package-summary.html\r\n  [2]: http://code.google.com/p/i-jetty/","title":"How to download com.sun.net.httpserver package?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/package-summary.html\" rel=\"noreferrer\">It's part of Java SE 6</a>. It's not published separately and also not included in Android. I'd suggest to look for another lightweight Java implementation of a HTTP server, like <a href=\"http://code.google.com/p/i-jetty/\" rel=\"noreferrer\">i-Jetty</a>.</p>\n"},{"comments":[{"owner":{"account_id":8175,"reputation":24189,"user_id":14570,"accept_rate":81,"display_name":"mcherm"},"score":0,"creation_date":1322320878,"post_id":7806273,"comment_id":10194334,"body_markdown":"Thank you! This worked for me. I didn&#39;t need it to work on Android; I only needed it for a test harness.","body":"Thank you! This worked for me. I didn&#39;t need it to work on Android; I only needed it for a test harness."},{"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"score":0,"creation_date":1620305672,"post_id":7806273,"comment_id":119165482,"body_markdown":"bintray is now a broken link","body":"bintray is now a broken link"}],"tags":[],"owner":{"account_id":981326,"reputation":1874,"user_id":1000974,"accept_rate":100,"display_name":"Daniel Worthington-Bodart"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1695618212,"creation_date":1318936237,"answer_id":7806273,"question_id":4484989,"body_markdown":"You can download it from: \r\n* https://web.archive.org/web/20090716001955/http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar\r\n\r\nIt used to be available from Sun for Java 5 but they seem to have pulled the link. It has been archived though. Don&#39;t know if it works on Android mind you.\r\n\r\nOld, broken links:\r\n\r\n* https://bintray.com/bintray/jcenter/download_file?file_path=com%2Fsun%2Fnet%2Fhttpserver%2Fhttp%2F20070405%2Fhttp-20070405.jar \r\n* http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar","title":"How to download com.sun.net.httpserver package?","body":"<p>You can download it from:</p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20090716001955/http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20090716001955/http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar</a></li>\n</ul>\n<p>It used to be available from Sun for Java 5 but they seem to have pulled the link. It has been archived though. Don't know if it works on Android mind you.</p>\n<p>Old, broken links:</p>\n<ul>\n<li><a href=\"https://bintray.com/bintray/jcenter/download_file?file_path=com%2Fsun%2Fnet%2Fhttpserver%2Fhttp%2F20070405%2Fhttp-20070405.jar\" rel=\"nofollow noreferrer\">https://bintray.com/bintray/jcenter/download_file?file_path=com%2Fsun%2Fnet%2Fhttpserver%2Fhttp%2F20070405%2Fhttp-20070405.jar</a></li>\n<li><a href=\"http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar\" rel=\"nofollow noreferrer\">http://download.java.net/maven/2/com/sun/net/httpserver/http/20070405/http-20070405.jar</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5438128,"reputation":11717,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467027112,"creation_date":1467027112,"answer_id":38052850,"question_id":4484989,"body_markdown":"Android studio use `jcenter` as the default repository source. The more convenient way is adding the dependency to gralde configuration.\r\n\r\nThe library can be found in `jcenter`, see [here][1].\r\n\r\nSo just add it to your project&#39;s dependencies.\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        // ...\r\n        compile &#39;com.sun.net.httpserver:http:20070405&#39;\r\n        // ...\r\n    }\r\n\r\n  [1]: https://bintray.com/bintray/jcenter/com.sun.net.httpserver%3Ahttp/20070405/view","title":"How to download com.sun.net.httpserver package?","body":"<p>Android studio use <code>jcenter</code> as the default repository source. The more convenient way is adding the dependency to gralde configuration.</p>\n\n<p>The library can be found in <code>jcenter</code>, see <a href=\"https://bintray.com/bintray/jcenter/com.sun.net.httpserver%3Ahttp/20070405/view\" rel=\"nofollow\">here</a>.</p>\n\n<p>So just add it to your project's dependencies.</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    // ...\n    compile 'com.sun.net.httpserver:http:20070405'\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":171074,"reputation":13385,"user_id":398248,"accept_rate":77,"display_name":"Jona"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32512,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":4485029,"answer_count":3,"score":13,"last_activity_date":1695618212,"creation_date":1292791508,"question_id":4484989,"body_markdown":"I&#39;m not familiar with where I can get the package com.sun.net.httpserver?  I like to use this package in Android.\r\n\r\nThanks!","title":"How to download com.sun.net.httpserver package?","body":"<p>I'm not familiar with where I can get the package com.sun.net.httpserver?  I like to use this package in Android.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":8,"creation_date":1338051415,"post_id":10768170,"comment_id":13999394,"body_markdown":"Do you mean `ArrayList&lt;ArrayList&lt;String&gt;&gt;`?","body":"Do you mean <code>ArrayList&lt;ArrayList&lt;String&gt;&gt;</code>?"}],"answers":[{"comments":[{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":4,"creation_date":1338051493,"post_id":10768178,"comment_id":13999404,"body_markdown":"Crap, should&#39;ve posted an answer instead of a comment :p","body":"Crap, should&#39;ve posted an answer instead of a comment :p"},{"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"score":0,"creation_date":1338051556,"post_id":10768178,"comment_id":13999413,"body_markdown":"How do I add to the second list?","body":"How do I add to the second list?"},{"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"score":0,"creation_date":1338051597,"post_id":10768178,"comment_id":13999419,"body_markdown":"user521190, the first array list isn&#39;t an array list of String, it&#39;s an arraylist of arraylist.","body":"user521190, the first array list isn&#39;t an array list of String, it&#39;s an arraylist of arraylist."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1338051974,"post_id":10768178,"comment_id":13999496,"body_markdown":"I still don&#39;t understand why people declare `ArrayList` instead of `List`, remember to develop oriented to interfaces. Also, check [TypeList vs type ArrayList in Java](http://stackoverflow.com/q/2279030/1065197)","body":"I still don&#39;t understand why people declare <code>ArrayList</code> instead of <code>List</code>, remember to develop oriented to interfaces. Also, check <a href=\"http://stackoverflow.com/q/2279030/1065197\">TypeList vs type ArrayList in Java</a>"},{"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"score":0,"creation_date":1338052121,"post_id":10768178,"comment_id":13999525,"body_markdown":"That&#39;s a separate question. Here... let me google it for you... http://bit.ly/LEhHht","body":"That&#39;s a separate question. Here... let me google it for you... <a href=\"http://bit.ly/LEhHht\" rel=\"nofollow noreferrer\">bit.ly/LEhHht</a>"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":2,"creation_date":1338052190,"post_id":10768178,"comment_id":13999535,"body_markdown":"I mean if you want to teach programming in Java, you should do it in the right way, not just the thing that can run :).","body":"I mean if you want to teach programming in Java, you should do it in the right way, not just the thing that can run :)."},{"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"score":0,"creation_date":1338052215,"post_id":10768178,"comment_id":13999546,"body_markdown":"you asked a question, and I answered it! :)","body":"you asked a question, and I answered it! :)"},{"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"score":0,"creation_date":1338078668,"post_id":10768178,"comment_id":14004083,"body_markdown":"@Dr.Dredel - Luiggi is right, it is helpful to explain *why* something works in StackOverflow answers. I&#39;ll add your comment to your answer in case one of the mods deletes them :)  Please see [point #10 on this meta post](http://meta.stackexchange.com/a/118694/155826) for more info.","body":"@Dr.Dredel - Luiggi is right, it is helpful to explain <i>why</i> something works in StackOverflow answers. I&#39;ll add your comment to your answer in case one of the mods deletes them :)  Please see <a href=\"http://meta.stackexchange.com/a/118694/155826\">point #10 on this meta post</a> for more info."}],"tags":[],"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"comment_count":8,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1338078606,"creation_date":1338051416,"answer_id":10768178,"question_id":10768170,"body_markdown":"The first array list isn&#39;t an array list of String, it&#39;s an ArrayList of ArrayList.\r\n\r\n    ArrayList&lt;ArrayList&lt;String&gt;&gt;\r\n\r\n","title":"How do I declare a 2D String arraylist?","body":"<p>The first array list isn't an array list of String, it's an ArrayList of ArrayList.</p>\n\n<pre><code>ArrayList&lt;ArrayList&lt;String&gt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406172,"reputation":6429,"user_id":775523,"accept_rate":78,"display_name":"dbf"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338051543,"creation_date":1338051543,"answer_id":10768191,"question_id":10768170,"body_markdown":"    List&lt;List&lt;String&gt;&gt; array = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n    ...\r\n    array.add(new ArrayList&lt;String&gt;())\r\n    array.get(0).add(&quot;qqq&quot;);\r\n\r\narray.get(0) - is a internal list","title":"How do I declare a 2D String arraylist?","body":"<pre><code>List&lt;List&lt;String&gt;&gt; array = new ArrayList&lt;List&lt;String&gt;&gt;();\n...\narray.add(new ArrayList&lt;String&gt;())\narray.get(0).add(\"qqq\");\n</code></pre>\n\n<p>array.get(0) - is a internal list</p>\n"},{"comments":[{"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"score":0,"creation_date":1485943310,"post_id":10768198,"comment_id":71131335,"body_markdown":"how do we print the List `ls2d` as index vise. What I mean is printing the first element of the `ls2d` list then 2 element and so on","body":"how do we print the List <code>ls2d</code> as index vise. What I mean is printing the first element of the <code>ls2d</code> list then 2 element and so on"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1485951342,"post_id":10768198,"comment_id":71136666,"body_markdown":"@KasunSiyambalapitiya use a loop like `for` or `while`. For example: `for(List&lt;String&gt; inner : ls2d) { System.out.println(Arrays.toString(ls2d.toArray())); }`.","body":"@KasunSiyambalapitiya use a loop like <code>for</code> or <code>while</code>. For example: <code>for(List&lt;String&gt; inner : ls2d) { System.out.println(Arrays.toString(ls2d.toArray())); }</code>."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1492872804,"post_id":10768198,"comment_id":74172221,"body_markdown":"How do you access an element in the rows?","body":"How do you access an element in the rows?"},{"owner":{"account_id":3364813,"reputation":1070,"user_id":2825720,"accept_rate":57,"display_name":"sbhatla"},"score":2,"creation_date":1501894509,"post_id":10768198,"comment_id":77995726,"body_markdown":"Why did you decide to have the outer List as ArrayList and let the inner List be a List?","body":"Why did you decide to have the outer List as ArrayList and let the inner List be a List?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1501940662,"post_id":10768198,"comment_id":78005306,"body_markdown":"@sbhatla `List` is an interface, so objects have to be initialized using a concrete class that implements this interface like `ArrayList` or `LinkedList`.","body":"@sbhatla <code>List</code> is an interface, so objects have to be initialized using a concrete class that implements this interface like <code>ArrayList</code> or <code>LinkedList</code>."},{"owner":{"account_id":3364813,"reputation":1070,"user_id":2825720,"accept_rate":57,"display_name":"sbhatla"},"score":2,"creation_date":1501955966,"post_id":10768198,"comment_id":78009864,"body_markdown":"Why is the inner class still initialized as a &quot;List&quot; and not &quot;ArrayList&quot;?","body":"Why is the inner class still initialized as a &quot;List&quot; and not &quot;ArrayList&quot;?"}],"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"comment_count":6,"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1464785850,"creation_date":1338051598,"answer_id":10768198,"question_id":10768170,"body_markdown":"You can go with\r\n\r\n    List&lt;List&lt;String&gt;&gt; ls2d = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n    List&lt;String&gt; x = new ArrayList&lt;String&gt;();\r\n    x.add(&quot;Hello&quot;);\r\n    x.add(&quot;world!&quot;);\r\n    ls2d.add(x);\r\n    \r\n    System.out.println(Arrays.deepToString(ls2d.toArray()));\r\n    \r\n","title":"How do I declare a 2D String arraylist?","body":"<p>You can go with</p>\n\n<pre><code>List&lt;List&lt;String&gt;&gt; ls2d = new ArrayList&lt;List&lt;String&gt;&gt;();\nList&lt;String&gt; x = new ArrayList&lt;String&gt;();\nx.add(\"Hello\");\nx.add(\"world!\");\nls2d.add(x);\n\nSystem.out.println(Arrays.deepToString(ls2d.toArray()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338052042,"creation_date":1338051671,"answer_id":10768207,"question_id":10768170,"body_markdown":"    List&lt;List&lt;String&gt;&gt; super2dArray = new ArrayList&lt;ArrayList&lt;String&gt;&gt;()\r\n\r\n\r\nThis is an arraylist of arraylists holding strings.\r\n\r\nAlso `ArrayList&lt;String&lt;String&gt;&gt; mylist` makes no sense, because String is not a collection/list, but I think you understood that. Future readers might not though.\r\n\r\nSee [this answer][1] to see why I chose to have `List` on the left side.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8896608/645270","title":"How do I declare a 2D String arraylist?","body":"<pre><code>List&lt;List&lt;String&gt;&gt; super2dArray = new ArrayList&lt;ArrayList&lt;String&gt;&gt;()\n</code></pre>\n\n<p>This is an arraylist of arraylists holding strings.</p>\n\n<p>Also <code>ArrayList&lt;String&lt;String&gt;&gt; mylist</code> makes no sense, because String is not a collection/list, but I think you understood that. Future readers might not though.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/8896608/645270\">this answer</a> to see why I chose to have <code>List</code> on the left side.</p>\n"},{"comments":[{"owner":{"account_id":6582887,"reputation":408,"user_id":5086634,"accept_rate":80,"display_name":"Eliezer Miron"},"score":0,"creation_date":1697220536,"post_id":33977183,"comment_id":136257442,"body_markdown":"Is this not just a normal array?","body":"Is this not just a normal array?"}],"tags":[],"owner":{"account_id":7238275,"reputation":23,"user_id":5522683,"display_name":"LOL"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448753179,"creation_date":1448749915,"answer_id":33977183,"question_id":10768170,"body_markdown":"Try this :\r\n\r\n    public class JavaTests {\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n        \r\n        String[ ][ ] test2 = new String[3][3];      //3 can be replace if you add more test2[?][?] = &quot;RandomString&quot;\r\n\r\n            test2[0][0] = &quot;String1&quot;;\r\n            test2[0][1] = &quot;String2&quot;;\r\n            test2[0][2] = &quot;String3&quot;;\r\n        \r\n            test2[1][0] = &quot;String4&quot;;\r\n            test2[1][1] = &quot;String5&quot;;\r\n            test2[1][2] = &quot;String6&quot;;\r\n        \r\n            test2[2][0] = &quot;String7&quot;;\r\n            test2[2][1] = &quot;String8&quot;;\r\n            test2[2][2] = &quot;String9&quot;;\r\n        \r\n            for (int i = 0; i &lt;= 2; i++){\r\n                for (int j = 0; j &lt;= 2; j++){\r\n                    System.out.print(test2[i][j] +&quot;\\t&quot;);\r\n                }\r\n                System.out.println(&quot;\\n&quot;);\r\n            }  \r\n            System.out.println(&quot;\\n&quot;);      \r\n        }\r\n    }","title":"How do I declare a 2D String arraylist?","body":"<p>Try this :</p>\n\n<pre><code>public class JavaTests {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n\n    String[ ][ ] test2 = new String[3][3];      //3 can be replace if you add more test2[?][?] = \"RandomString\"\n\n        test2[0][0] = \"String1\";\n        test2[0][1] = \"String2\";\n        test2[0][2] = \"String3\";\n\n        test2[1][0] = \"String4\";\n        test2[1][1] = \"String5\";\n        test2[1][2] = \"String6\";\n\n        test2[2][0] = \"String7\";\n        test2[2][1] = \"String8\";\n        test2[2][2] = \"String9\";\n\n        for (int i = 0; i &lt;= 2; i++){\n            for (int j = 0; j &lt;= 2; j++){\n                System.out.print(test2[i][j] +\"\\t\");\n            }\n            System.out.println(\"\\n\");\n        }  \n        System.out.println(\"\\n\");      \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1931172,"reputation":2758,"user_id":5816060,"display_name":"Shwetabh Shekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506136637,"creation_date":1506136637,"answer_id":46375676,"question_id":10768170,"body_markdown":"There are two ways to achieve what you desire. I am providing code snippet for both: \r\n\r\n**1.`List&lt;List&lt;String&gt;&gt; lol = new ArrayList&lt;List&lt;String&gt;&gt;();`**\r\n       \r\n    \r\n    Scanner in = new Scanner(System.in);\r\n    int size = in.nextInt();\r\n\r\n    //Declare your two dimensional ArrayList of Strings. \r\n    List&lt; List&lt;String&gt;&gt; lol = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n    \r\n    //Instantiate and Populate\r\n    for (int i=0;i&lt;size;i++){\r\n        int internalListSize = in.nextInt(); //the size of each internal list\r\n        lol.add(new ArrayList&lt;String&gt;());\r\n        for (int j=0;j&lt;internalListSize;j++){\r\n            String whateverYouWanttoPut = in.nextLine();\r\n            lol.get(i).add(whateverYouWanttoPut);\r\n        }\r\n    }\r\n    \r\n    //Access Elements \r\n    try {\r\n        System.out.println(lol.get(0).get(4));\r\n        System.out.println(lol.get(1).get(2));\r\n        System.out.println(lol.get(3).get(2));\r\n    } catch (Exception e){\r\n        System.out.println(&quot;ERROR!&quot;);\r\n    }     \r\n\r\n**2. `ArrayList[] set = new ArrayList[n];`**\r\n    \r\n    Scanner in = new Scanner(System.in);\r\n    int size = in.nextInt();\r\n    //Declare your two dimensional ArrayList of Strings.\r\n    ArrayList[] set = new ArrayList[size];\r\n\r\n    //Populate it. \r\n    for(int i=0;i&lt;size;i++){\r\n        int innerSize = in.nextInt();\r\n        set[i] = new ArrayList&lt;String&gt;();\r\n        for(int j=0;j&lt;innerSize;j++){  \r\n            set[i].add(in.nextLine());                \r\n        }\r\n    }        \r\n    try{\r\n        System.out.println(set[0].get(1));\r\n        System.out.println(set[1].get(2));\r\n    } catch(Exception e){\r\n        System.out.println(&quot;ERROR!&quot;);\r\n    }","title":"How do I declare a 2D String arraylist?","body":"<p>There are two ways to achieve what you desire. I am providing code snippet for both: </p>\n\n<p><strong>1.<code>List&lt;List&lt;String&gt;&gt; lol = new ArrayList&lt;List&lt;String&gt;&gt;();</code></strong></p>\n\n<pre><code>Scanner in = new Scanner(System.in);\nint size = in.nextInt();\n\n//Declare your two dimensional ArrayList of Strings. \nList&lt; List&lt;String&gt;&gt; lol = new ArrayList&lt;List&lt;String&gt;&gt;();\n\n//Instantiate and Populate\nfor (int i=0;i&lt;size;i++){\n    int internalListSize = in.nextInt(); //the size of each internal list\n    lol.add(new ArrayList&lt;String&gt;());\n    for (int j=0;j&lt;internalListSize;j++){\n        String whateverYouWanttoPut = in.nextLine();\n        lol.get(i).add(whateverYouWanttoPut);\n    }\n}\n\n//Access Elements \ntry {\n    System.out.println(lol.get(0).get(4));\n    System.out.println(lol.get(1).get(2));\n    System.out.println(lol.get(3).get(2));\n} catch (Exception e){\n    System.out.println(\"ERROR!\");\n}     \n</code></pre>\n\n<p><strong>2. <code>ArrayList[] set = new ArrayList[n];</code></strong></p>\n\n<pre><code>Scanner in = new Scanner(System.in);\nint size = in.nextInt();\n//Declare your two dimensional ArrayList of Strings.\nArrayList[] set = new ArrayList[size];\n\n//Populate it. \nfor(int i=0;i&lt;size;i++){\n    int innerSize = in.nextInt();\n    set[i] = new ArrayList&lt;String&gt;();\n    for(int j=0;j&lt;innerSize;j++){  \n        set[i].add(in.nextLine());                \n    }\n}        \ntry{\n    System.out.println(set[0].get(1));\n    System.out.println(set[1].get(2));\n} catch(Exception e){\n    System.out.println(\"ERROR!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667450554,"creation_date":1667450554,"answer_id":74298232,"question_id":10768170,"body_markdown":"Create 2D array like Below - \r\n\r\n**for primitive data types -** \r\n\r\n    int[][] arr = new int[10][10];\r\n\r\n***for Custom Classes -*** \r\n\r\n    public class MyClass {\r\n        int x;\r\n        MyClass() { \r\n            this.x = 0\r\n        }\r\n    }\r\n    \r\n    MyClass[][] arr = new MyClass[10][10];\r\n    for (int i = 0; i &lt; 10; ++i) {\r\n        for (int j = 0; j &lt; 10; ++j) {\r\n            arr[i][j] = new MyClass();\r\n        }\r\n    }\r\n\r\n","title":"How do I declare a 2D String arraylist?","body":"<p>Create 2D array like Below -</p>\n<p><strong>for primitive data types -</strong></p>\n<pre><code>int[][] arr = new int[10][10];\n</code></pre>\n<p><em><strong>for Custom Classes -</strong></em></p>\n<pre><code>public class MyClass {\n    int x;\n    MyClass() { \n        this.x = 0\n    }\n}\n\nMyClass[][] arr = new MyClass[10][10];\nfor (int i = 0; i &lt; 10; ++i) {\n    for (int j = 0; j &lt; 10; ++j) {\n        arr[i][j] = new MyClass();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29517307,"reputation":1,"user_id":22620980,"display_name":"bobo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695617869,"creation_date":1695615896,"answer_id":77169903,"question_id":10768170,"body_markdown":"I have restructured the [answer code provided by @Luiggi Mendoza][1] into a Java method that you can easily incorporate into your development:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Arrays;\r\n    \r\n    public class Post10768198 {\r\n        public static List&lt;List&lt;String&gt;&gt; create2DStringArrayList() {\r\n            List&lt;List&lt;String&gt;&gt; ls2d = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n            List&lt;String&gt; x = new ArrayList&lt;String&gt;();\r\n            x.add(&quot;Hello&quot;);\r\n            x.add(&quot;world!&quot;);\r\n            ls2d.add(x);\r\n            return ls2d;\r\n        }\r\n    }\r\n\r\n\r\n[1]: https://stackoverflow.com/a/10768198\r\n","title":"How do I declare a 2D String arraylist?","body":"<p>I have restructured the <a href=\"https://stackoverflow.com/a/10768198\">answer code provided by @Luiggi Mendoza</a> into a Java method that you can easily incorporate into your development:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Arrays;\n\npublic class Post10768198 {\n    public static List&lt;List&lt;String&gt;&gt; create2DStringArrayList() {\n        List&lt;List&lt;String&gt;&gt; ls2d = new ArrayList&lt;List&lt;String&gt;&gt;();\n        List&lt;String&gt; x = new ArrayList&lt;String&gt;();\n        x.add(&quot;Hello&quot;);\n        x.add(&quot;world!&quot;);\n        ls2d.add(x);\n        return ls2d;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57481,"favorite_count":0,"down_vote_count":2,"up_vote_count":31,"accepted_answer_id":10768198,"answer_count":8,"score":29,"last_activity_date":1695617869,"creation_date":1338051327,"question_id":10768170,"body_markdown":"I want to do something like this `ArrayList&lt;String&lt;String&gt;&gt; mylist`\r\n\r\nHow can I create it?\r\n\r\nHow can I add to the external and internal list\r\n\r\nand how can I convert the internal list to a simple array list?","title":"How do I declare a 2D String arraylist?","body":"<p>I want to do something like this <code>ArrayList&lt;String&lt;String&gt;&gt; mylist</code></p>\n\n<p>How can I create it?</p>\n\n<p>How can I add to the external and internal list</p>\n\n<p>and how can I convert the internal list to a simple array list?</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","tags","google-java-format"],"owner":{"account_id":7574811,"reputation":11,"user_id":5747527,"display_name":"Vini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695617129,"creation_date":1695617129,"question_id":77169953,"body_markdown":"Need help with google client lib for creating tags and attach to VM \r\n\r\n\r\n```\r\n\t\t\tInstanceTagDetails instanceTagDetails = new InstanceTagDetails();\r\n\t\t\tinstanceTagDetails.setKey(&quot;tagKeys/281475895256801&quot;);\r\n\t\t\tinstanceTagDetails.setValue(&quot;tagValues/281479362924118&quot;);\r\n\t\t\tcreateData.setTagDetails(List.of(instanceTagDetails));\r\n\r\n\t\t\t// set tags\r\n\t\t\tMap&lt;String, String&gt; tags = new HashMap&lt;&gt;();\r\n\t\t\tif(createData.getTagDetails() != null &amp;&amp; !createData.getTagDetails().isEmpty()) {\r\n\t\t\t\tfor (InstanceTagDetails tagDetail : createData.getTagDetails()) {\r\n\t\t\t\t\ttags.put(tagDetail.getKey(), tagDetail.getValue());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tInstance instanceResource =\r\n\t\t\t\t\tInstance.newBuilder()\r\n\t\t\t\t\t.setName(applianceName)\r\n\t\t\t\t\t.setMachineType(machineType.getSelfLink())\r\n\t\t\t\t\t.addDisks(disk)\r\n\t\t\t\t\t.addAllNetworkInterfaces(interfaceList)\r\n\t\t\t\t\t.setCanIpForward(Boolean.TRUE) // as pass thru VM. Important parameter. Need to check if need to be set on interface to0.\r\n\t\t\t\t\t.setMetadata(metaData)\r\n\t\t\t\t\t.setZone(createData.getAvailabilityZone())\r\n//\t\t\t\t\t\t\t.setParams(InstanceParams.newBuilder().putAllResourceManagerTags(tags))\r\n\t\t\t\t\t.build();\r\n```\r\n\r\nI have tried creating the tags manualyy from GCP and attaching it while creating the VM instance . But I need help with API for creating the tags . Any help much appreciated \r\n","title":"Create GCP tags and attach it to VM using google sdk client library","body":"<p>Need help with google client lib for creating tags and attach to VM</p>\n<pre><code>            InstanceTagDetails instanceTagDetails = new InstanceTagDetails();\n            instanceTagDetails.setKey(&quot;tagKeys/281475895256801&quot;);\n            instanceTagDetails.setValue(&quot;tagValues/281479362924118&quot;);\n            createData.setTagDetails(List.of(instanceTagDetails));\n\n            // set tags\n            Map&lt;String, String&gt; tags = new HashMap&lt;&gt;();\n            if(createData.getTagDetails() != null &amp;&amp; !createData.getTagDetails().isEmpty()) {\n                for (InstanceTagDetails tagDetail : createData.getTagDetails()) {\n                    tags.put(tagDetail.getKey(), tagDetail.getValue());\n                }\n            }\n\n            Instance instanceResource =\n                    Instance.newBuilder()\n                    .setName(applianceName)\n                    .setMachineType(machineType.getSelfLink())\n                    .addDisks(disk)\n                    .addAllNetworkInterfaces(interfaceList)\n                    .setCanIpForward(Boolean.TRUE) // as pass thru VM. Important parameter. Need to check if need to be set on interface to0.\n                    .setMetadata(metaData)\n                    .setZone(createData.getAvailabilityZone())\n//                          .setParams(InstanceParams.newBuilder().putAllResourceManagerTags(tags))\n                    .build();\n</code></pre>\n<p>I have tried creating the tags manualyy from GCP and attaching it while creating the VM instance . But I need help with API for creating the tags . Any help much appreciated</p>\n"},{"tags":["java","spring","spring-security","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695616653,"creation_date":1695616653,"answer_id":77169936,"question_id":77167926,"body_markdown":"As long as you do not change the default `SecurityContextHolderStrategy` to `GlobalSecurityContextHolderStrategy` by changing the system property `spring.security.strategy` to `MODE_GLOBAL` , and can make sure that the `AuditAspect` will be invoked by the URL that is protected by the spring security,  you do not need to worry about it as spring security will make sure that when it finish processing a HTTP request , it will always clear the `SecurityContext`.\r\n\r\nIn the codes, it is done by the `FilterChainProxy#doFilter()` &#39;s finally block  at [here][1].\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/6d318914d58b3780b67faf62e55f016f97bfa089/web/src/main/java/org/springframework/security/web/FilterChainProxy.java#L204","title":"What is correct solution to fetch user authentication from Sring Security in Spring AOP aspect?","body":"<p>As long as you do not change the default <code>SecurityContextHolderStrategy</code> to <code>GlobalSecurityContextHolderStrategy</code> by changing the system property <code>spring.security.strategy</code> to <code>MODE_GLOBAL</code> , and can make sure that the <code>AuditAspect</code> will be invoked by the URL that is protected by the spring security,  you do not need to worry about it as spring security will make sure that when it finish processing a HTTP request , it will always clear the <code>SecurityContext</code>.</p>\n<p>In the codes, it is done by the <code>FilterChainProxy#doFilter()</code> 's finally block  at <a href=\"https://github.com/spring-projects/spring-security/blob/6d318914d58b3780b67faf62e55f016f97bfa089/web/src/main/java/org/springframework/security/web/FilterChainProxy.java#L204\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":16949602,"reputation":29,"user_id":12771746,"display_name":"Maxim Gaiduchek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695616653,"creation_date":1695572106,"question_id":77167926,"body_markdown":"I have an aspect that audit entities&#39; creation, deleting etc. In audit I must fetch the user, that triggered entity change.\r\n\r\n```\r\npackage com.sdx.rootservice.auditing.aspect;\r\n\r\nimport com.sdx.rootservice.auditing.model.AuditType;\r\nimport com.sdx.rootservice.auditing.service.interfaces.AuditLogService;\r\nimport com.sdx.rootservice.dto.lead.AppealTypeDto;\r\nimport com.sdx.rootservice.security.model.JwtAuthentication;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.log4j.Log4j2;\r\nimport org.aspectj.lang.annotation.AfterReturning;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Optional;\r\n\r\n@Component\r\n@Aspect\r\n@Log4j2\r\n@RequiredArgsConstructor\r\npublic class AuditAspect {\r\n\r\n    private final AuditLogService auditLogService;\r\n\r\n    @AfterReturning(pointcut = &quot;execution(* com.sdx.rootservice.controller.company.AppealTypeController.create(..))&quot;,\r\n            returning = &quot;appealTypeDto&quot;)\r\n    public void afterAppealTypeCreated(AppealTypeDto appealTypeDto) {\r\n        var userId = fetchUserId();\r\n        var targetId = appealTypeDto.getId();\r\n        log.debug(&quot;Created new appeal type: &quot; + appealTypeDto);\r\n        auditLogService.logChanges(userId, &quot;AppealType&quot;, targetId, AuditType.CREATE);\r\n    }\r\n\r\n    @AfterReturning(pointcut = &quot;execution(* com.sdx.rootservice.controller.company.AppealTypeController.delete(..)) &amp;&amp; args(id)&quot;)\r\n    public void afterAppealTypeDeleted(Long id) {\r\n        var userId = fetchUserId();\r\n        log.debug(&quot;Deleted new appeal type: &quot; + id);\r\n        auditLogService.logChanges(userId, &quot;AppealType&quot;, id, AuditType.DELETE);\r\n    }\r\n\r\n    private Long fetchUserId() {\r\n        var authentication = (JwtAuthentication) SecurityContextHolder.getContext().getAuthentication();\r\n        return Optional.ofNullable(authentication)\r\n                .map(JwtAuthentication::getId)\r\n                .orElse(null);\r\n    }\r\n}\r\n```\r\n\r\nI am afraid, that if there are multiple request to create endpoint, Security&#39;s context may change because different thread will be run. What is correct solution to fetch user authentication from Sring Security in Spring AOP aspect?","title":"What is correct solution to fetch user authentication from Sring Security in Spring AOP aspect?","body":"<p>I have an aspect that audit entities' creation, deleting etc. In audit I must fetch the user, that triggered entity change.</p>\n<pre><code>package com.sdx.rootservice.auditing.aspect;\n\nimport com.sdx.rootservice.auditing.model.AuditType;\nimport com.sdx.rootservice.auditing.service.interfaces.AuditLogService;\nimport com.sdx.rootservice.dto.lead.AppealTypeDto;\nimport com.sdx.rootservice.security.model.JwtAuthentication;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.log4j.Log4j2;\nimport org.aspectj.lang.annotation.AfterReturning;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Optional;\n\n@Component\n@Aspect\n@Log4j2\n@RequiredArgsConstructor\npublic class AuditAspect {\n\n    private final AuditLogService auditLogService;\n\n    @AfterReturning(pointcut = &quot;execution(* com.sdx.rootservice.controller.company.AppealTypeController.create(..))&quot;,\n            returning = &quot;appealTypeDto&quot;)\n    public void afterAppealTypeCreated(AppealTypeDto appealTypeDto) {\n        var userId = fetchUserId();\n        var targetId = appealTypeDto.getId();\n        log.debug(&quot;Created new appeal type: &quot; + appealTypeDto);\n        auditLogService.logChanges(userId, &quot;AppealType&quot;, targetId, AuditType.CREATE);\n    }\n\n    @AfterReturning(pointcut = &quot;execution(* com.sdx.rootservice.controller.company.AppealTypeController.delete(..)) &amp;&amp; args(id)&quot;)\n    public void afterAppealTypeDeleted(Long id) {\n        var userId = fetchUserId();\n        log.debug(&quot;Deleted new appeal type: &quot; + id);\n        auditLogService.logChanges(userId, &quot;AppealType&quot;, id, AuditType.DELETE);\n    }\n\n    private Long fetchUserId() {\n        var authentication = (JwtAuthentication) SecurityContextHolder.getContext().getAuthentication();\n        return Optional.ofNullable(authentication)\n                .map(JwtAuthentication::getId)\n                .orElse(null);\n    }\n}\n</code></pre>\n<p>I am afraid, that if there are multiple request to create endpoint, Security's context may change because different thread will be run. What is correct solution to fetch user authentication from Sring Security in Spring AOP aspect?</p>\n"},{"tags":["java","jenkins","checkmarx"],"comments":[{"owner":{"account_id":2440193,"reputation":9713,"user_id":2128937,"accept_rate":80,"display_name":"duyn9uyen"},"score":0,"creation_date":1549313331,"post_id":46634577,"comment_id":95850643,"body_markdown":"Did you ever figure out the solution for this? Having the same issue here.","body":"Did you ever figure out the solution for this? Having the same issue here."},{"owner":{"account_id":5741990,"reputation":1420,"user_id":4534414,"accept_rate":40,"display_name":"Anurag_BEHS"},"score":1,"creation_date":1549980800,"post_id":46634577,"comment_id":96095398,"body_markdown":"@duyn9uyen ... still i didn&#39;t got main reason for it. What I have done here and it&#39;s checkMarx scan is working now -&gt; we need to setup a project inside checkMarx website...there we can specify the code repository (i.e from where checkMarx can pull new code) . In Jenkins just use the same project name with correct credential it will start the CheckMarx run automatically.","body":"@duyn9uyen ... still i didn&#39;t got main reason for it. What I have done here and it&#39;s checkMarx scan is working now -&gt; we need to setup a project inside checkMarx website...there we can specify the code repository (i.e from where checkMarx can pull new code) . In Jenkins just use the same project name with correct credential it will start the CheckMarx run automatically."}],"answers":[{"tags":[],"owner":{"account_id":2475475,"reputation":1,"user_id":2156214,"display_name":"user2156214"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519992429,"creation_date":1519992429,"answer_id":49068824,"question_id":46634577,"body_markdown":"in Jenkins you would first need to configure the Source Code Management task of your job to point to your source code repository. The CxSAST Scan task then automatically picks this for processing with Checkmarx plugin.","title":"ERROR: Checkmarx Scan Failed: No files to scan in Jenkins while CxSAST Scan","body":"<p>in Jenkins you would first need to configure the Source Code Management task of your job to point to your source code repository. The CxSAST Scan task then automatically picks this for processing with Checkmarx plugin.</p>\n"},{"tags":[],"owner":{"account_id":25809789,"reputation":1,"user_id":19550749,"display_name":"HND"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657814355,"creation_date":1657814332,"answer_id":72983448,"question_id":46634577,"body_markdown":"I am experiencing the same problem using Bamboo, &quot;No files to zip.&quot;\r\n\r\nThe solution is by creating a new &quot;Source Code Checkout (Checkout from repository)&quot; task before the CxSAST Scanning task, on the same Job.","title":"ERROR: Checkmarx Scan Failed: No files to scan in Jenkins while CxSAST Scan","body":"<p>I am experiencing the same problem using Bamboo, &quot;No files to zip.&quot;</p>\n<p>The solution is by creating a new &quot;Source Code Checkout (Checkout from repository)&quot; task before the CxSAST Scanning task, on the same Job.</p>\n"}],"owner":{"account_id":5741990,"reputation":1420,"user_id":4534414,"accept_rate":40,"display_name":"Anurag_BEHS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695614760,"creation_date":1507487230,"question_id":46634577,"body_markdown":"I am trying to run Checkmarx Scan in post build section of Jenkins.&lt;br&gt;\r\nIn my jenkins job steps are --&gt; &lt;br&gt;\r\n1st) Getting source code from SVN Connection to Checkmarx is successful.&lt;br&gt;\r\n2nd) Build code using Maven --- Step 1 and 2 is success.&lt;br&gt;\r\nBut because of 3rd) step i.e CxSAST Scan while running jenkins Build getting error like - &lt;br&gt;\r\n[Checkmarx] - [info] - No files to zip&lt;br&gt;\r\nERROR: Checkmarx Scan Failed: No files to scan&lt;br&gt;&lt;br&gt;\r\nWhere we have to configure -what source file Checkmarx is going to scan as part of Jenkins Build ?&lt;br&gt;\r\nor Where we can upload source code zip in CxSAST plugin of Jenkins ..so that checkmarx can run the Scan after build.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHave attached Job configuration screen sort .&lt;br&gt;\r\nSomeone please guide how to resolve this issue .Thanks !!\r\n\r\n  [1]: https://i.stack.imgur.com/cJJQA.png\r\n  [2]: https://i.stack.imgur.com/BBytw.png","title":"ERROR: Checkmarx Scan Failed: No files to scan in Jenkins while CxSAST Scan","body":"<p>I am trying to run Checkmarx Scan in post build section of Jenkins.<br>\nIn my jenkins job steps are --> <br>\n1st) Getting source code from SVN Connection to Checkmarx is successful.<br>\n2nd) Build code using Maven --- Step 1 and 2 is success.<br>\nBut because of 3rd) step i.e CxSAST Scan while running jenkins Build getting error like - <br>\n[Checkmarx] - [info] - No files to zip<br>\nERROR: Checkmarx Scan Failed: No files to scan<br><br>\nWhere we have to configure -what source file Checkmarx is going to scan as part of Jenkins Build ?<br>\nor Where we can upload source code zip in CxSAST plugin of Jenkins ..so that checkmarx can run the Scan after build.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cJJQA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cJJQA.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/BBytw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BBytw.png\" alt=\"enter image description here\"></a></p>\n\n<p>Have attached Job configuration screen sort .<br>\nSomeone please guide how to resolve this issue .Thanks !!</p>\n"},{"tags":["java","spring","jdbc","struts2","websphere"],"answers":[{"comments":[{"owner":{"account_id":1505657,"reputation":1055,"user_id":1409074,"accept_rate":46,"display_name":"Michael Sobczak"},"score":0,"creation_date":1555430921,"post_id":24231735,"comment_id":98105474,"body_markdown":"I tried using your solution for my issue, but I&#39;m getting the following in the generated xml file:  &lt;!-- ibm-web-bnd.xmi to \n        xml transformation exception: Found resRefBindings with id ResourceRef_1250177725156 \n        that has no matching reference in web.xml --&gt;","body":"I tried using your solution for my issue, but I&#39;m getting the following in the generated xml file:  &lt;!-- ibm-web-bnd.xmi to          xml transformation exception: Found resRefBindings with id ResourceRef_1250177725156          that has no matching reference in web.xml --&gt;"}],"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1402850034,"creation_date":1402850034,"answer_id":24231735,"question_id":12041353,"body_markdown":"Even if the answer comes late I hope that it helps someonoe.\r\n\r\nI also faced the problem of an \r\n\r\n    javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\r\n\r\nand in my case it arised because I used version 3.0 in my web.xml and an ibm-web-bnd.xmi descriptor.\r\n\r\nWhen I used an ibm-web-bnd.xml descriptor instead it worked.\r\n\r\nSo for me it seems that you should use \r\n\r\n - for web-app version &lt;= 2.4 a ibm-bnd-web.**xmi** descriptor\r\n - for web-app version &gt;= 2.5 a ibm-bnd-web.**xml** descriptor\r\n\r\nI also wrote a blog about my experience with this problem\r\n\r\nhttps://www.link-intersystems.com/blog/2014/06/15/how-to-fix-ibm-websphere-jndi-exception-cannot-find-the-factory-for-this-scheme-java/","title":"javax.naming.ConfigurationException after migrating to WAS 8.5 and java 1.7","body":"<p>Even if the answer comes late I hope that it helps someonoe.</p>\n\n<p>I also faced the problem of an </p>\n\n<pre><code>javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\n</code></pre>\n\n<p>and in my case it arised because I used version 3.0 in my web.xml and an ibm-web-bnd.xmi descriptor.</p>\n\n<p>When I used an ibm-web-bnd.xml descriptor instead it worked.</p>\n\n<p>So for me it seems that you should use </p>\n\n<ul>\n<li>for web-app version &lt;= 2.4 a ibm-bnd-web.<strong>xmi</strong> descriptor</li>\n<li>for web-app version >= 2.5 a ibm-bnd-web.<strong>xml</strong> descriptor</li>\n</ul>\n\n<p>I also wrote a blog about my experience with this problem</p>\n\n<p><a href=\"https://www.link-intersystems.com/blog/2014/06/15/how-to-fix-ibm-websphere-jndi-exception-cannot-find-the-factory-for-this-scheme-java/\" rel=\"nofollow\">https://www.link-intersystems.com/blog/2014/06/15/how-to-fix-ibm-websphere-jndi-exception-cannot-find-the-factory-for-this-scheme-java/</a></p>\n"}],"owner":{"account_id":1766407,"reputation":31,"user_id":1612196,"display_name":"user1612196"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8029,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695614760,"creation_date":1345479494,"question_id":12041353,"body_markdown":"I am migrating my application from java 1.5 and WAS 6.1 to java 1.7 and WAS 8.5 I am getting the following exception.\r\n\r\n\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xxxDa\r\n    taSource&#39; defined in class path resource [applicationContext-datasources.xml]: Invocation of init method failed; nested exception is javax.naming\r\n    .ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\r\n    an(AbstractAutowireCapableBeanFactory.java:1338)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean\r\n    (AbstractAutowireCapableBeanFactory.java:473)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(Abstra\r\n    ctAutowireCapableBeanFactory.java:409)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat java.security.AccessController.doPrivileged(AccessController.java:252)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(A\r\n    bstractAutowireCapableBeanFactory.java:380)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFac\r\n    tory.java:264)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(Defau\r\n    ltSingletonBeanRegistry.java:222)\r\n    [8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFacto\r\n    ry.java:261)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\r\n    .java:185)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\r\n    .java:164)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingle\r\n    tons(DefaultListableBeanFactory.java:423)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializ\r\n    ation(AbstractApplicationContext.java:728)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicatio\r\n    nContext.java:380)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.j\r\n    ava:255)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.jav\r\n    a:199)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderLis\r\n    tener.java:45)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat scv.cais.cms.jdr.webservice.context.ScvContextLoaderListener.contextInitialized(ScvContex\r\n    tLoaderListener.java:21)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1651)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:414)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:746)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:634)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:424)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:718)\r\n    [8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1170)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedAppl\r\n    icationImpl.java:1370)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:638)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:9\r\n    68)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\r\n    769)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMg\r\n    rImpl.java:1364)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2169)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:445\r\n    )\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:388\r\n    )\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.jav\r\n    a:116)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:663\r\n    )\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5339)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5555)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\r\n    grImpl.java:677)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\r\n    grImpl.java:621)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\r\n    1256)\r\n    [8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat java.lang.reflect.Method.invoke(Method.java:613)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat java.lang.reflect.Method.invoke(Method.java:613)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\r\n    r.java:831)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.application.AppManagementImpl._startApplication(AppManagementImpl.j\r\n    ava:1482)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\r\n    va:1371)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\r\n    va:1320)\r\n    [8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat java.lang.reflect.Method.invoke(Method.java:613)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat java.lang.reflect.Method.invoke(Method.java:613)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\r\n    r.java:831)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat com.ibm.ws.management.remote.AdminServiceForwarder.invoke(AdminServiceForwarder.java:346)\r\n    [8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1458)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:100)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.j\r\n    ava:1303)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.jav\r\n    a:1391)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:823)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi._RMIConnectionImpl_Tie.invoke(Unknown Source)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat javax.management.remote.rmi._RMIConnectionImpl_Tie._invoke(Unknown Source)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDelegate.java:669)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:523)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.rmi.iiop.ORB.process(ORB.java:523)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.CORBA.iiop.ORB.process(ORB.java:1575)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.rmi.iiop.Connection.doRequestWork(Connection.java:2992)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.rmi.iiop.Connection.doWork(Connection.java:2875)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.rmi.iiop.WorkUnitImpl.doWork(WorkUnitImpl.java:64)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.ejs.oa.pool.PooledThread.run(ThreadPool.java:118)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1783)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R Caused by: javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the f\r\n    actory for this scheme: java\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.ws.naming.util.Helpers.checkForUrlContext(Helpers.java:1631)\r\n    [8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R \tat com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:160)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:179)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.apache.aries.jndi.DelegateContext.lookup(DelegateContext.java:161)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat javax.naming.InitialContext.lookup(InitialContext.java:422)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:155)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:88)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:153)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:95)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:105)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiObjectFactoryBean.lookupWithFallback(JndiObjectFactoryBean.j\r\n    ava:200)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.jndi.JndiObjectFactoryBean.afterPropertiesSet(JndiObjectFactoryBean.j\r\n    ava:186)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMe\r\n    thods(AbstractAutowireCapableBeanFactory.java:1369)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\r\n    an(AbstractAutowireCapableBeanFactory.java:1335)\r\n    [8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R \t... 96 more\r\n\r\n\r\nI don&#39;t get this error when I use java 1.6\r\n\r\nHere is the web.xml snippet I used for resource binding\r\n\r\n  \r\n\r\n      &lt;resource-ref id=&quot;xxx-data-source&quot;&gt;\r\n                &lt;description&gt;XXX Datasource&lt;/description&gt;\r\n                &lt;res-ref-name&gt;jdbc/xxxDatasource&lt;/res-ref-name&gt;\r\n                &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n                &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n                &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\r\n            &lt;/resource-ref&gt;\r\n\r\n\r\nI am able to bypass this error when I remove the java: comp/env prefix from my datasource name\r\n\r\nfor example: I am using\r\n\r\n    jdbc.jdr.datasource=jdbc/XxxDatasource\r\n\r\ninstaead of\r\n\r\n    jdbc.jdr.datasource=java:comp/env/jdbc/XxxDatasource\r\n\r\n\r\nBut I cannot remove this from all the places(in some jars).\r\n\r\n\r\ndid anyone face this issue before?\r\n\r\n\r\n\r\n\r\nThanks\r\n\r\n\r\n","title":"javax.naming.ConfigurationException after migrating to WAS 8.5 and java 1.7","body":"<p>I am migrating my application from java 1.5 and WAS 6.1 to java 1.7 and WAS 8.5 I am getting the following exception.</p>\n\n<pre><code>[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxxDa\ntaSource' defined in class path resource [applicationContext-datasources.xml]: Invocation of init method failed; nested exception is javax.naming\n.ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\nan(AbstractAutowireCapableBeanFactory.java:1338)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean\n(AbstractAutowireCapableBeanFactory.java:473)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(Abstra\nctAutowireCapableBeanFactory.java:409)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at java.security.AccessController.doPrivileged(AccessController.java:252)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(A\nbstractAutowireCapableBeanFactory.java:380)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFac\ntory.java:264)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(Defau\nltSingletonBeanRegistry.java:222)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFacto\nry.java:261)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\n.java:185)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\n.java:164)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingle\ntons(DefaultListableBeanFactory.java:423)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializ\nation(AbstractApplicationContext.java:728)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicatio\nnContext.java:380)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.j\nava:255)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.jav\na:199)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderLis\ntener.java:45)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at scv.cais.cms.jdr.webservice.context.ScvContextLoaderListener.contextInitialized(ScvContex\ntLoaderListener.java:21)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1651)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:414)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:746)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:634)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:424)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:718)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1170)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedAppl\nicationImpl.java:1370)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:638)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:9\n68)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\n769)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMg\nrImpl.java:1364)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2169)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:445\n)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:388\n)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.jav\na:116)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:663\n)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5339)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5555)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\ngrImpl.java:677)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\ngrImpl.java:621)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\n1256)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\nr.java:831)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.application.AppManagementImpl._startApplication(AppManagementImpl.j\nava:1482)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\nva:1371)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\nva:1320)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\nr.java:831)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.remote.AdminServiceForwarder.invoke(AdminServiceForwarder.java:346)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1458)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:100)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.j\nava:1303)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.jav\na:1391)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:823)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi._RMIConnectionImpl_Tie.invoke(Unknown Source)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi._RMIConnectionImpl_Tie._invoke(Unknown Source)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDelegate.java:669)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:523)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.ORB.process(ORB.java:523)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.CORBA.iiop.ORB.process(ORB.java:1575)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.Connection.doRequestWork(Connection.java:2992)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.Connection.doWork(Connection.java:2875)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.WorkUnitImpl.doWork(WorkUnitImpl.java:64)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ejs.oa.pool.PooledThread.run(ThreadPool.java:118)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1783)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R Caused by: javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the f\nactory for this scheme: java\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ws.naming.util.Helpers.checkForUrlContext(Helpers.java:1631)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:160)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:179)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.apache.aries.jndi.DelegateContext.lookup(DelegateContext.java:161)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at javax.naming.InitialContext.lookup(InitialContext.java:422)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:155)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:88)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:153)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:95)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:105)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiObjectFactoryBean.lookupWithFallback(JndiObjectFactoryBean.j\nava:200)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiObjectFactoryBean.afterPropertiesSet(JndiObjectFactoryBean.j\nava:186)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMe\nthods(AbstractAutowireCapableBeanFactory.java:1369)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\nan(AbstractAutowireCapableBeanFactory.java:1335)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     ... 96 more\n</code></pre>\n\n<p>I don't get this error when I use java 1.6</p>\n\n<p>Here is the web.xml snippet I used for resource binding</p>\n\n<pre><code>  &lt;resource-ref id=\"xxx-data-source\"&gt;\n            &lt;description&gt;XXX Datasource&lt;/description&gt;\n            &lt;res-ref-name&gt;jdbc/xxxDatasource&lt;/res-ref-name&gt;\n            &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n            &lt;res-auth&gt;Container&lt;/res-auth&gt;\n            &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\n        &lt;/resource-ref&gt;\n</code></pre>\n\n<p>I am able to bypass this error when I remove the java: comp/env prefix from my datasource name</p>\n\n<p>for example: I am using</p>\n\n<pre><code>jdbc.jdr.datasource=jdbc/XxxDatasource\n</code></pre>\n\n<p>instaead of</p>\n\n<pre><code>jdbc.jdr.datasource=java:comp/env/jdbc/XxxDatasource\n</code></pre>\n\n<p>But I cannot remove this from all the places(in some jars).</p>\n\n<p>did anyone face this issue before?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":2097244,"reputation":1405,"user_id":1865719,"accept_rate":78,"display_name":"Mohammad Karmi"},"score":0,"creation_date":1695615207,"post_id":77169834,"comment_id":136043033,"body_markdown":"what you mentioned is correct , I tested it. The flush happens to everything once it happens , but just to clarify , if I do run save() , it will insert always immediatly if its new entity ?","body":"what you mentioned is correct , I tested it. The flush happens to everything once it happens , but just to clarify , if I do run save() , it will insert always immediatly if its new entity ?"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695615702,"post_id":77169834,"comment_id":136043074,"body_markdown":"depending on the PK generating strategy if i remember correctly. If it is identity , it will immediately insert. For other strategies , it will not","body":"depending on the PK generating strategy if i remember correctly. If it is identity , it will immediately insert. For other strategies , it will not"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695613795,"creation_date":1695613795,"answer_id":77169834,"question_id":77168898,"body_markdown":"Flushing means all pending changes in the persistence context will be applied to DB but the `save()` here will just insert one entity to DB. It will not apply all pending changes to DB and so it is not flushing.\r\n\r\nYou can verify it by loading an existing entity from DB and make some changes on it before you save the new entity , and you can see that the modified changes in that existing entity will not be flushed to DB at `save()`.\r\n\r\n\r\nIf you want , you can also think that flushing mentioned in the auto flush means flushing **ALL** changes while `save()` just flush **ONE** change to insert a new entity which are different things.","title":"Spring JPA Auto Flush","body":"<p>Flushing means all pending changes in the persistence context will be applied to DB but the <code>save()</code> here will just insert one entity to DB. It will not apply all pending changes to DB and so it is not flushing.</p>\n<p>You can verify it by loading an existing entity from DB and make some changes on it before you save the new entity , and you can see that the modified changes in that existing entity will not be flushed to DB at <code>save()</code>.</p>\n<p>If you want , you can also think that flushing mentioned in the auto flush means flushing <strong>ALL</strong> changes while <code>save()</code> just flush <strong>ONE</strong> change to insert a new entity which are different things.</p>\n"}],"owner":{"account_id":2097244,"reputation":1405,"user_id":1865719,"accept_rate":78,"display_name":"Mohammad Karmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77169834,"answer_count":1,"score":0,"last_activity_date":1695613795,"creation_date":1695588627,"question_id":77168898,"body_markdown":"I noticed that every query I do cause a flush , I know from the JPA doc the following :\r\n\r\n&gt; When using the default AUTO flush mode, the Persistence Context should\r\n&gt; be flushed as follows:\r\n&gt; \r\n&gt; before the transaction is committed\r\n\r\n&gt; before running a JPQL or HQL\r\n\r\n&gt; query before executing a native SQL query\r\n\r\nnow my question is why JPA run the insert query after the save immediatly ?\r\n\r\n \r\n\r\n       @Transactional\r\n        public void test() {\r\n            Post post=new Post();\r\n            post.setName(&quot;post 1&quot;);\r\n            postRepository.save(post);// After this and before the sleep , the insert is executed \r\n    \r\n            try {\r\n                System.out.println(&quot;sleeping.....&quot;);\r\n                Thread.sleep(5000L);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            commentRepository.findAll();\r\n    \r\n        }\r\n\r\noutput : \r\n\r\nHibernate: insert into post (name,id) values (?,default)\r\n\r\nsleeping.....\r\n\r\nHibernate: select c1_0.id,c1_0.post_id,c1_0.review from comment c1_0\r\n\r\n\r\nshouldn&#39;t the insert happen after the sleep ?","title":"Spring JPA Auto Flush","body":"<p>I noticed that every query I do cause a flush , I know from the JPA doc the following :</p>\n<blockquote>\n<p>When using the default AUTO flush mode, the Persistence Context should\nbe flushed as follows:</p>\n<p>before the transaction is committed</p>\n</blockquote>\n<blockquote>\n<p>before running a JPQL or HQL</p>\n</blockquote>\n<blockquote>\n<p>query before executing a native SQL query</p>\n</blockquote>\n<p>now my question is why JPA run the insert query after the save immediatly ?</p>\n<pre><code>   @Transactional\n    public void test() {\n        Post post=new Post();\n        post.setName(&quot;post 1&quot;);\n        postRepository.save(post);// After this and before the sleep , the insert is executed \n\n        try {\n            System.out.println(&quot;sleeping.....&quot;);\n            Thread.sleep(5000L);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        commentRepository.findAll();\n\n    }\n</code></pre>\n<p>output :</p>\n<p>Hibernate: insert into post (name,id) values (?,default)</p>\n<p>sleeping.....</p>\n<p>Hibernate: select c1_0.id,c1_0.post_id,c1_0.review from comment c1_0</p>\n<p>shouldn't the insert happen after the sleep ?</p>\n"},{"tags":["java","class","abstract-class","abstract","abstract-methods"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1393560831,"post_id":22085985,"comment_id":33497246,"body_markdown":"@blunderboy - believe me, it&#39;s considerably more gentle than the last time he/she asked.","body":"@blunderboy - believe me, it&#39;s considerably more gentle than the last time he/she asked."},{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":1,"creation_date":1393560922,"post_id":22085985,"comment_id":33497272,"body_markdown":"Not showing much evidence of having read the answers from the last time, but at least it&#39;s polite.","body":"Not showing much evidence of having read the answers from the last time, but at least it&#39;s polite."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1393562802,"post_id":22085985,"comment_id":33497933,"body_markdown":"@keshlam It may have been deleted before he/she had the opportunity to read them.  I edited the question just as it was being deleted, in the hope of saving it, but I was too slow.","body":"@keshlam It may have been deleted before he/she had the opportunity to read them.  I edited the question just as it was being deleted, in the hope of saving it, but I was too slow."},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1446267140,"post_id":22085985,"comment_id":54684175,"body_markdown":"This is actually a good question. Unfortunately it is closed.","body":"This is actually a good question. Unfortunately it is closed."},{"owner":{"account_id":6593836,"reputation":2803,"user_id":5094258,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1660852510,"post_id":22085985,"comment_id":129637979,"body_markdown":"SO is a great place when you have a specific question about a specific chunk of code. It is an unforgiving abyss when you have questions about the &quot;whys&quot; or the overall concept or you&#39;re just in need of direction.","body":"SO is a great place when you have a specific question about a specific chunk of code. It is an unforgiving abyss when you have questions about the &quot;whys&quot; or the overall concept or you&#39;re just in need of direction."}],"answers":[{"comments":[{"owner":{"account_id":4027005,"reputation":417,"user_id":3314801,"display_name":"user3314801"},"score":0,"creation_date":1393563308,"post_id":22086043,"comment_id":33498122,"body_markdown":"That&#39;s a nice and simple explanation. I like that answer. So you CAN use the SUBCLASSES of an abstract class. Is it the same for abstract methods or are there no such things as sub methods?","body":"That&#39;s a nice and simple explanation. I like that answer. So you CAN use the SUBCLASSES of an abstract class. Is it the same for abstract methods or are there no such things as sub methods?"},{"owner":{"account_id":5081298,"reputation":185,"user_id":4438782,"accept_rate":40,"display_name":"nafizh"},"score":1,"creation_date":1451810870,"post_id":22086043,"comment_id":56894230,"body_markdown":"You should accept is as an answer if you are satisfied.","body":"You should accept is as an answer if you are satisfied."},{"owner":{"account_id":7137531,"reputation":656,"user_id":5456540,"accept_rate":55,"display_name":"Sushi"},"score":0,"creation_date":1511802550,"post_id":22086043,"comment_id":81988482,"body_markdown":"But if to declare for example &quot;breathe()&quot; on abstract &quot;Animal&quot; and even &quot;breathe()&quot; is just declared (without &quot;body&quot; of function) and so we&#39;ll need re-create &quot;breathe()&quot; in &quot;dog&quot; and &quot;cat&quot;, what is benefits of &quot;Animal&quot; so ?","body":"But if to declare for example &quot;breathe()&quot; on abstract &quot;Animal&quot; and even &quot;breathe()&quot; is just declared (without &quot;body&quot; of function) and so we&#39;ll need re-create &quot;breathe()&quot; in &quot;dog&quot; and &quot;cat&quot;, what is benefits of &quot;Animal&quot; so ?"}],"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":3,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1480390204,"creation_date":1393560795,"answer_id":22086043,"question_id":22085985,"body_markdown":"An abstract class can be used as a type of template for other classes.  The abstract class will hold common functionality for all classes that extend it.\r\n\r\nFor example:\r\n\r\n    Abstract Class Animal \r\n\r\nAll animals move and breathe and reproduce so these can be put into the Animal Class.\r\n\r\nNow \r\n\r\n     Concrete Class Dog, Cat etc.\r\n\r\nHave these base functions already provided.\r\n\r\n","title":"Why do we need abstract classes in Java?","body":"<p>An abstract class can be used as a type of template for other classes.  The abstract class will hold common functionality for all classes that extend it.</p>\n\n<p>For example:</p>\n\n<pre><code>Abstract Class Animal \n</code></pre>\n\n<p>All animals move and breathe and reproduce so these can be put into the Animal Class.</p>\n\n<p>Now </p>\n\n<pre><code> Concrete Class Dog, Cat etc.\n</code></pre>\n\n<p>Have these base functions already provided.</p>\n"},{"comments":[{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1526968424,"post_id":22086047,"comment_id":87934418,"body_markdown":"can you please give a example where we need not to write dummy implementation for abstract class with another class where we need to write the dummy implementation. I am confused and wish if you can explain and elaborate it.","body":"can you please give a example where we need not to write dummy implementation for abstract class with another class where we need to write the dummy implementation. I am confused and wish if you can explain and elaborate it."}],"tags":[],"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1695613499,"creation_date":1393560813,"answer_id":22086047,"question_id":22085985,"body_markdown":"Abstract classes permit providing a _partial_ set of default implementations of methods in a class. Since they&#39;re incomplete, they can&#39;t be instantiated and used as they stand, but they can be subclassed to add the missing details in a way that&#39;s specific to that particular implementation, and those subclasses can be instantiated.\r\n\r\nWithout abstract classes, you would have to provide dummy implementations of the methods you intend to override ... which could be done, but then there&#39;d be the risk of forgetting to implement one of them. Having some methods remain entirely abstract ensures that the real implementations have to fill in the gaps, or continue to be abstract themselves and force their descendents to do so.\r\n\r\nIt&#39;s not something the language couldn&#39;t live without. But it&#39;s *very useful*. You&#39;ll discover just how useful as you become more proficient in Java and OO design.\r\n\r\n","title":"Why do we need abstract classes in Java?","body":"<p>Abstract classes permit providing a <em>partial</em> set of default implementations of methods in a class. Since they're incomplete, they can't be instantiated and used as they stand, but they can be subclassed to add the missing details in a way that's specific to that particular implementation, and those subclasses can be instantiated.</p>\n<p>Without abstract classes, you would have to provide dummy implementations of the methods you intend to override ... which could be done, but then there'd be the risk of forgetting to implement one of them. Having some methods remain entirely abstract ensures that the real implementations have to fill in the gaps, or continue to be abstract themselves and force their descendents to do so.</p>\n<p>It's not something the language couldn't live without. But it's <em>very useful</em>. You'll discover just how useful as you become more proficient in Java and OO design.</p>\n"},{"tags":[],"owner":{"account_id":2973467,"reputation":876,"user_id":2525053,"accept_rate":80,"display_name":"Harish Talanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1659813914,"creation_date":1393561886,"answer_id":22086240,"question_id":22085985,"body_markdown":"There are many uses of abstract classes. The main purpose of abstract classes is to function as base classes which can be extended by subclasses to create a full implementation.\r\n\r\nFor example, you may have three steps to be implemented in your program:\r\n\r\n - A few steps before the action\r\n - Some action to be performed\r\n - A few steps after the action\r\n\r\nSo in this case you can define an abstract class with the three methods like this:\r\n\r\n    public abstract MyAbstractProcess {\r\n        public void stepBefore() {\r\n            // Implementation directly in abstract superclass\r\n        }\r\n\r\n        public abstract void action(); // Implemented by subclasses\r\n\r\n        public void stepAfter() {\r\n            // Implementation directly in abstract superclass\r\n        }\r\n    }\r\n\r\nAlso, the above example of abstract class *Animal* is also a very good example.\r\n\r\n","title":"Why do we need abstract classes in Java?","body":"<p>There are many uses of abstract classes. The main purpose of abstract classes is to function as base classes which can be extended by subclasses to create a full implementation.</p>\n<p>For example, you may have three steps to be implemented in your program:</p>\n<ul>\n<li>A few steps before the action</li>\n<li>Some action to be performed</li>\n<li>A few steps after the action</li>\n</ul>\n<p>So in this case you can define an abstract class with the three methods like this:</p>\n<pre><code>public abstract MyAbstractProcess {\n    public void stepBefore() {\n        // Implementation directly in abstract superclass\n    }\n\n    public abstract void action(); // Implemented by subclasses\n\n    public void stepAfter() {\n        // Implementation directly in abstract superclass\n    }\n}\n</code></pre>\n<p>Also, the above example of abstract class <em>Animal</em> is also a very good example.</p>\n"}],"owner":{"account_id":4027005,"reputation":417,"user_id":3314801,"display_name":"user3314801"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59503,"favorite_count":0,"down_vote_count":11,"up_vote_count":30,"closed_date":1393565085,"answer_count":3,"score":19,"last_activity_date":1695613499,"creation_date":1393560495,"question_id":22085985,"body_markdown":"Why do we need abstract classes in Java? If you&#39;re never going to make it into an object, why have it in the first place? How do you use it? Why is it there?\r\n\r\nI&#39;m wondering the same thing with abstract methods. I find it seems like a similar concept to having a super class without  *any* subclasses that could ever matter to be made.\r\n\r\n\r\n","title":"Why do we need abstract classes in Java?","body":"<p>Why do we need abstract classes in Java? If you're never going to make it into an object, why have it in the first place? How do you use it? Why is it there?</p>\n<p>I'm wondering the same thing with abstract methods. I find it seems like a similar concept to having a super class without  <em>any</em> subclasses that could ever matter to be made.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"display_name":"user166390"},"score":1,"creation_date":1336433607,"post_id":10490539,"comment_id":13558720,"body_markdown":"No. It doesn&#39;t need to be. Search for &quot;java package naming conventions&quot; in your favorite engine (there is a Trail that covers just this, IIRC). The standard is &quot;reverse DNS&quot;.","body":"No. It doesn&#39;t need to be. Search for &quot;java package naming conventions&quot; in your favorite engine (there is a Trail that covers just this, IIRC). The standard is &quot;reverse DNS&quot;."},{"owner":{"display_name":"user166390"},"score":0,"creation_date":1336433905,"post_id":10490539,"comment_id":13558778,"body_markdown":"http://stackoverflow.com/questions/166051/how-should-i-name-packages-if-i-dont-have-a-domain-associated-with-me (see other, though) , http://stackoverflow.com/questions/9244146/why-does-android-require-the-package-name-to-have-at-least-two-identifiers (why use in Android/marketplace)","body":"<a href=\"http://stackoverflow.com/questions/166051/how-should-i-name-packages-if-i-dont-have-a-domain-associated-with-me\" title=\"how should i name packages if i dont have a domain associated with me\">stackoverflow.com/questions/166051/&hellip;</a> (see other, though) , <a href=\"http://stackoverflow.com/questions/9244146/why-does-android-require-the-package-name-to-have-at-least-two-identifiers\" title=\"why does android require the package name to have at least two identifiers\">stackoverflow.com/questions/9244146/&hellip;</a> (why use in Android/marketplace)"},{"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"score":0,"creation_date":1336434764,"post_id":10490539,"comment_id":13558962,"body_markdown":"Not too hard to find a live example in Google Play, like [this one](https://play.google.com/store/apps/details?id=org.jtb.alogcat&amp;feature=search_result) stare with **org**.","body":"Not too hard to find a live example in Google Play, like <a href=\"https://play.google.com/store/apps/details?id=org.jtb.alogcat&amp;feature=search_result\" rel=\"nofollow noreferrer\">this one</a> stare with <b>org</b>."},{"owner":{"account_id":1384008,"reputation":99,"user_id":1316420,"display_name":"jazzed28"},"score":0,"creation_date":1336436090,"post_id":10490539,"comment_id":13559227,"body_markdown":"Thanks, I will look up the reference links that you guys provided above. I am just surprised how fast my posts got answer back","body":"Thanks, I will look up the reference links that you guys provided above. I am just surprised how fast my posts got answer back"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1336434991,"creation_date":1336434991,"answer_id":10490727,"question_id":10490539,"body_markdown":"&gt; I want to know why, as far as I have known it&#39;s just package name but why does everyone start with &quot;com&quot;?\r\n\r\nBecause the people creating those projects happen to own domain names ending in `.com`.\r\n\r\n&gt; Do I have to follow?\r\n\r\nNo, but you need to ensure that your app&#39;s package is unique across the entire Google Play Store (assuming that is how you plan to distribute the app). The easiest way to do that is to create your Java package based upon a domain name that you own and plan to use for marketing the app. Whether that domain name ends in `.com` or `.net` or `.biz` or whatever is up to you.\r\n","title":"Android package name must start with &quot;com.&quot;?","body":"<blockquote>\n  <p>I want to know why, as far as I have known it's just package name but why does everyone start with \"com\"?</p>\n</blockquote>\n\n<p>Because the people creating those projects happen to own domain names ending in <code>.com</code>.</p>\n\n<blockquote>\n  <p>Do I have to follow?</p>\n</blockquote>\n\n<p>No, but you need to ensure that your app's package is unique across the entire Google Play Store (assuming that is how you plan to distribute the app). The easiest way to do that is to create your Java package based upon a domain name that you own and plan to use for marketing the app. Whether that domain name ends in <code>.com</code> or <code>.net</code> or <code>.biz</code> or whatever is up to you.</p>\n"}],"owner":{"account_id":1384008,"reputation":99,"user_id":1316420,"display_name":"jazzed28"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3327,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1336435046,"accepted_answer_id":10490727,"answer_count":1,"score":5,"last_activity_date":1695612913,"creation_date":1336433528,"question_id":10490539,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [Do you really use your reverse domain for package naming in java?](https://stackoverflow.com/questions/189209/do-you-really-use-your-reverse-domain-for-package-naming-in-java)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nI am a beginner in Android programming. I made a few Android projects using Eclipse. while I was catching up with some Android tutorials I could see everyone using &quot;com&quot; as a starting word of package name. I want to know why, as far as I have known it&#39;s just package name but why does everyone start with &quot;com&quot;? Do I have to follow? or is there any specific reason programmatically?","title":"Android package name must start with &quot;com.&quot;?","body":"<blockquote>\n<p><strong>Possible Duplicate:</strong><br />\n<a href=\"https://stackoverflow.com/questions/189209/do-you-really-use-your-reverse-domain-for-package-naming-in-java\">Do you really use your reverse domain for package naming in java?</a></p>\n</blockquote>\n\n<p>I am a beginner in Android programming. I made a few Android projects using Eclipse. while I was catching up with some Android tutorials I could see everyone using &quot;com&quot; as a starting word of package name. I want to know why, as far as I have known it's just package name but why does everyone start with &quot;com&quot;? Do I have to follow? or is there any specific reason programmatically?</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1579759258,"post_id":59872360,"comment_id":105875330,"body_markdown":"why is `&quot;Tomy&quot;:[` an array?","body":"why is <code>&quot;Tomy&quot;:[</code> an array?"},{"owner":{"account_id":7328485,"reputation":2904,"user_id":5582190,"display_name":"Jaymin"},"score":0,"creation_date":1579759344,"post_id":59872360,"comment_id":105875339,"body_markdown":"Does this answer your question? [Android- create JSON Array and JSON Object](https://stackoverflow.com/questions/17810044/android-create-json-array-and-json-object)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17810044/android-create-json-array-and-json-object\">Android- create JSON Array and JSON Object</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1579759347,"post_id":59872360,"comment_id":105875340,"body_markdown":"*Example what I want to get:* - you want invalid Json?","body":"<i>Example what I want to get:</i> - you want invalid Json?"},{"owner":{"account_id":16808935,"reputation":29,"user_id":12152381,"display_name":"Vlad Shirpaev"},"score":0,"creation_date":1579759766,"post_id":59872360,"comment_id":105875476,"body_markdown":"Thanks for the help and the one who put me dislike. Can&#39;t you see that I&#39;m new here?","body":"Thanks for the help and the one who put me dislike. Can&#39;t you see that I&#39;m new here?"},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1579761170,"post_id":59872360,"comment_id":105875960,"body_markdown":"Welcome to Stackoverflow Vlad! Please take some time to read [How to ask good questions?](https://stackoverflow.com/help/how-to-ask), as well as [this question checklist](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/). Also please try to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of your own attempt and show it to us.","body":"Welcome to Stackoverflow Vlad! Please take some time to read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask good questions?</a>, as well as <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">this question checklist</a>. Also please try to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your own attempt and show it to us."}],"answers":[{"comments":[{"owner":{"account_id":16808935,"reputation":29,"user_id":12152381,"display_name":"Vlad Shirpaev"},"score":0,"creation_date":1579771785,"post_id":59873340,"comment_id":105880556,"body_markdown":"Thanks. Structure of data I unintended. But I can&#39;t to insert new person to json. I need to get size of jsonArray of Person, and after to insert only?","body":"Thanks. Structure of data I unintended. But I can&#39;t to insert new person to json. I need to get size of jsonArray of Person, and after to insert only?"},{"owner":{"account_id":6574296,"reputation":1818,"user_id":5081033,"display_name":"Shubham Pandey"},"score":0,"creation_date":1579776705,"post_id":59873340,"comment_id":105883429,"body_markdown":"Ok, so you will create a Person class, like below","body":"Ok, so you will create a Person class, like below"}],"tags":[],"owner":{"account_id":6574296,"reputation":1818,"user_id":5081033,"display_name":"Shubham Pandey"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695612866,"creation_date":1579763932,"answer_id":59873340,"question_id":59872360,"body_markdown":"You can make a person which will be array of individual person objects, something like this below.\r\n\r\n    {\r\n       &quot;persons&quot;:[\r\n       {\r\n          &quot;name&quot;:&quot;Tomy&quot;,\r\n          &quot;age&quot;:25\r\n       },\r\n       {\r\n          &quot;name&quot;:&quot;Boby&quot;,\r\n          &quot;age:38\r\n       }]\r\n    }\r\n\r\n`public class MyJson{ private List&lt;Person&gt; persons; //its getter setter}`\r\nand then Person class \r\n`public class Person{ private String name;\r\nprivate int age; //its getter setter}`\r\n\r\nthen code to add it into json like below \r\n\r\n    List&lt;Persons&gt; personLs = Lists.newArrayList(); \r\npersonLs.add(&lt;add individual Tomy Boby Person objects&gt;);\r\n\r\nand then \r\nJsonUtils.getMapper().writeValueAsString(new MyJson(personLs));\r\n\r\n\r\n","title":"Insert object to array json data","body":"<p>You can make a person which will be array of individual person objects, something like this below.</p>\n<pre><code>{\n   &quot;persons&quot;:[\n   {\n      &quot;name&quot;:&quot;Tomy&quot;,\n      &quot;age&quot;:25\n   },\n   {\n      &quot;name&quot;:&quot;Boby&quot;,\n      &quot;age:38\n   }]\n}\n</code></pre>\n<p><code>public class MyJson{ private List&lt;Person&gt; persons; //its getter setter}</code>\nand then Person class\n<code>public class Person{ private String name; private int age; //its getter setter}</code></p>\n<p>then code to add it into json like below</p>\n<pre><code>List&lt;Persons&gt; personLs = Lists.newArrayList(); \n</code></pre>\n<p>personLs.add();</p>\n<p>and then\nJsonUtils.getMapper().writeValueAsString(new MyJson(personLs));</p>\n"}],"owner":{"account_id":16808935,"reputation":29,"user_id":12152381,"display_name":"Vlad Shirpaev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695612866,"creation_date":1579759128,"question_id":59872360,"body_markdown":"I need a help.\r\n\r\nI have JSON with data:\r\n     \r\n    {\r\n       &quot;Tomy&quot;:[\r\n       {\r\n          &quot;name&quot;:&quot;Tomy&quot;,\r\n          &quot;age&quot;:25\r\n       }]\r\n    }\r\n\r\nIn my app, I need to add new persons and save to JSON.\r\n\r\nHow do I need to insert a new person to the last position in JSON? \r\n\r\nExample what I want to get::\r\n\r\n    {\r\n       &quot;Tomy&quot;:[\r\n       {\r\n          &quot;name&quot;:&quot;Tomy&quot;,\r\n          &quot;age&quot;:25\r\n       }],\r\n       &quot;Boby&quot;:[\r\n       {\r\n          &quot;name&quot;:&quot;Boby&quot;,\r\n          &quot;age:38\r\n       }]\r\n    }\r\n\r\nPlease help explain how to work with JSON. Or indicate the direction.\r\n","title":"Insert object to array json data","body":"<p>I need a help.</p>\n\n<p>I have JSON with data:</p>\n\n<pre><code>{\n   \"Tomy\":[\n   {\n      \"name\":\"Tomy\",\n      \"age\":25\n   }]\n}\n</code></pre>\n\n<p>In my app, I need to add new persons and save to JSON.</p>\n\n<p>How do I need to insert a new person to the last position in JSON? </p>\n\n<p>Example what I want to get::</p>\n\n<pre><code>{\n   \"Tomy\":[\n   {\n      \"name\":\"Tomy\",\n      \"age\":25\n   }],\n   \"Boby\":[\n   {\n      \"name\":\"Boby\",\n      \"age:38\n   }]\n}\n</code></pre>\n\n<p>Please help explain how to work with JSON. Or indicate the direction.</p>\n"},{"tags":["java","list"],"answers":[{"comments":[{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":0,"creation_date":1295830363,"post_id":4777636,"comment_id":5290035,"body_markdown":"But I would definitely just make the placeholder class and then add instances of it to a list-- call a spade a spade...","body":"But I would definitely just make the placeholder class and then add instances of it to a list-- call a spade a spade..."},{"owner":{"account_id":279757,"reputation":617,"user_id":575095,"accept_rate":100,"display_name":"V1rtua1An0ma1y"},"score":0,"creation_date":1295831030,"post_id":4777636,"comment_id":5290115,"body_markdown":"Let&#39;s say I was going to do this without a new class. I&#39;m thinking of just running two lists of the appropriate type. Why does it complain when I do: private List&lt;Float&gt; floatList = new List&lt;Float&gt;(); but not when I leave the assignment operator out and just have private List&lt;Float&gt; floatList; ? It still needs to be instantiated doesn&#39;t it?","body":"Let&#39;s say I was going to do this without a new class. I&#39;m thinking of just running two lists of the appropriate type. Why does it complain when I do: private List&lt;Float&gt; floatList = new List&lt;Float&gt;(); but not when I leave the assignment operator out and just have private List&lt;Float&gt; floatList; ? It still needs to be instantiated doesn&#39;t it?"},{"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"score":0,"creation_date":1295831074,"post_id":4777636,"comment_id":5290117,"body_markdown":"@V1rtua1An0ma1y: because `List` is an interface, you need an implementation, like, say, `ArrayList` or `LinkedList`.","body":"@V1rtua1An0ma1y: because <code>List</code> is an interface, you need an implementation, like, say, <code>ArrayList</code> or <code>LinkedList</code>."},{"owner":{"account_id":170230,"reputation":812,"user_id":396796,"accept_rate":75,"display_name":"Ted Gueniche"},"score":0,"creation_date":1356540669,"post_id":4777636,"comment_id":19402656,"body_markdown":"You have a small typo error in the code, in getL() and getR(), it should be &quot;return l;&quot; and &quot;return r;&quot; instead of &quot;return L;&quot; and &quot;return R;&quot;.","body":"You have a small typo error in the code, in getL() and getR(), it should be &quot;return l;&quot; and &quot;return r;&quot; instead of &quot;return L;&quot; and &quot;return R;&quot;."},{"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"score":2,"creation_date":1363029905,"post_id":4777636,"comment_id":21677740,"body_markdown":"You might also want to make `Pair` immutable.","body":"You might also want to make <code>Pair</code> immutable."},{"owner":{"account_id":2019593,"reputation":7840,"user_id":1806099,"accept_rate":75,"display_name":"Skynet"},"score":0,"creation_date":1453536673,"post_id":4777636,"comment_id":57653051,"body_markdown":"Sorry, I might sound silly, do we really need a constructor here - what purpose does it solve?","body":"Sorry, I might sound silly, do we really need a constructor here - what purpose does it solve?"}],"tags":[],"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"comment_count":6,"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1356841724,"creation_date":1295830185,"answer_id":4777636,"question_id":4777622,"body_markdown":"You can use the `Entry&lt;U,V&gt;` class that `HashMap` uses but you&#39;ll be stuck with its semantics of `getKey` and `getValue`:\r\n\r\n    List&lt;Entry&lt;Float,Short&gt;&gt; pairList = //...\r\n\r\nMy preference would be to create your own simple `Pair` class:\r\n\r\n    public class Pair&lt;L,R&gt; {\r\n        private L l;\r\n        private R r;\r\n        public Pair(L l, R r){\r\n            this.l = l;\r\n            this.r = r;\r\n        }\r\n        public L getL(){ return l; }\r\n        public R getR(){ return r; }\r\n        public void setL(L l){ this.l = l; }\r\n        public void setR(R r){ this.r = r; }\r\n    }\r\n\r\nThen of course make a `List` using this new class, e.g.:\r\n\r\n    List&lt;Pair&lt;Float,Short&gt;&gt; pairList = new ArrayList&lt;Pair&lt;Float,Short&gt;&gt;();\r\n\r\nYou can also always make a `List`s of `List`s, but it becomes difficult to enforce sizing (that you have only pairs) and you would be required, as with arrays, to have consistent typing.","title":"Creating a list of pairs in java","body":"<p>You can use the <code>Entry&lt;U,V&gt;</code> class that <code>HashMap</code> uses but you'll be stuck with its semantics of <code>getKey</code> and <code>getValue</code>:</p>\n\n<pre><code>List&lt;Entry&lt;Float,Short&gt;&gt; pairList = //...\n</code></pre>\n\n<p>My preference would be to create your own simple <code>Pair</code> class:</p>\n\n<pre><code>public class Pair&lt;L,R&gt; {\n    private L l;\n    private R r;\n    public Pair(L l, R r){\n        this.l = l;\n        this.r = r;\n    }\n    public L getL(){ return l; }\n    public R getR(){ return r; }\n    public void setL(L l){ this.l = l; }\n    public void setR(R r){ this.r = r; }\n}\n</code></pre>\n\n<p>Then of course make a <code>List</code> using this new class, e.g.:</p>\n\n<pre><code>List&lt;Pair&lt;Float,Short&gt;&gt; pairList = new ArrayList&lt;Pair&lt;Float,Short&gt;&gt;();\n</code></pre>\n\n<p>You can also always make a <code>List</code>s of <code>List</code>s, but it becomes difficult to enforce sizing (that you have only pairs) and you would be required, as with arrays, to have consistent typing.</p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1295830363,"creation_date":1295830363,"answer_id":4777648,"question_id":4777622,"body_markdown":"Use a List of custom class instances.  The custom class is some sort of Pair or Coordinate or whatever.  Then just\r\n\r\n\r\n    List&lt;Coordinate&gt; = new YourFavoriteListImplHere&lt;Coordinate&gt;()\r\n\r\n\r\nThis approach has the advantage that it makes satisfying this requirement &quot;perform simple math (like multiplying the pair together to return a single float, etc)&quot; clean, because your custom class can have methods for whatever maths you need to do...","title":"Creating a list of pairs in java","body":"<p>Use a List of custom class instances.  The custom class is some sort of Pair or Coordinate or whatever.  Then just</p>\n\n<pre><code>List&lt;Coordinate&gt; = new YourFavoriteListImplHere&lt;Coordinate&gt;()\n</code></pre>\n\n<p>This approach has the advantage that it makes satisfying this requirement \"perform simple math (like multiplying the pair together to return a single float, etc)\" clean, because your custom class can have methods for whatever maths you need to do...</p>\n"},{"tags":[],"owner":{"account_id":286561,"reputation":1474,"user_id":585882,"accept_rate":83,"display_name":"Shezan Baig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295830508,"creation_date":1295830508,"answer_id":4777658,"question_id":4777622,"body_markdown":"Sounds like you need to create your own pair class (see [discussion here][1]).  Then make a List of that pair class you created\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/156275/what-is-the-equivalent-of-the-c-pairl-r-in-java","title":"Creating a list of pairs in java","body":"<p>Sounds like you need to create your own pair class (see <a href=\"https://stackoverflow.com/questions/156275/what-is-the-equivalent-of-the-c-pairl-r-in-java\">discussion here</a>).  Then make a List of that pair class you created</p>\n"},{"tags":[],"owner":{"account_id":33407,"reputation":876,"user_id":93508,"display_name":"gbvb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295830512,"creation_date":1295830512,"answer_id":4777659,"question_id":4777622,"body_markdown":"Similar to what Mark E has proposed, you have to come up with your own. Just to help you a bit, there is a neat article http://gleichmann.wordpress.com/2008/01/15/building-your-own-literals-in-java-tuples-and-maps/ which gives you a really neat way of creating tuples and maps that might be something you might want to consider.","title":"Creating a list of pairs in java","body":"<p>Similar to what Mark E has proposed, you have to come up with your own. Just to help you a bit, there is a neat article <a href=\"http://gleichmann.wordpress.com/2008/01/15/building-your-own-literals-in-java-tuples-and-maps/\" rel=\"nofollow\">http://gleichmann.wordpress.com/2008/01/15/building-your-own-literals-in-java-tuples-and-maps/</a> which gives you a really neat way of creating tuples and maps that might be something you might want to consider.</p>\n"},{"tags":[],"owner":{"account_id":215614,"reputation":1334,"user_id":470365,"display_name":"Alpedar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295872274,"creation_date":1295872274,"answer_id":4781976,"question_id":4777622,"body_markdown":"If you want multiplicities, you can put it in map that maps pair to ammount.\r\nThis way there will only be one pair of given values, but it can represent multiple occurances.\r\n\r\nThen if you have lot of repeatet values and want to perform some operation on all values, you can save lot of computations.\r\n","title":"Creating a list of pairs in java","body":"<p>If you want multiplicities, you can put it in map that maps pair to ammount.\nThis way there will only be one pair of given values, but it can represent multiple occurances.</p>\n\n<p>Then if you have lot of repeatet values and want to perform some operation on all values, you can save lot of computations.</p>\n"},{"tags":[],"owner":{"account_id":18687,"reputation":1624,"user_id":43046,"accept_rate":65,"display_name":"andresp"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1303558841,"creation_date":1303558841,"answer_id":5763971,"question_id":4777622,"body_markdown":"just fixing some small mistakes in Mark Elliot&#39;s code:\r\n\r\n    public class Pair&lt;L,R&gt; {\r\n        private L l;\r\n        private R r;\r\n        public Pair(L l, R r){\r\n            this.l = l;\r\n            this.r = r;\r\n        }\r\n        public L getL(){ return l; }\r\n        public R getR(){ return r; }\r\n        public void setL(L l){ this.l = l; }\r\n        public void setR(R r){ this.r = r; }\r\n    }","title":"Creating a list of pairs in java","body":"<p>just fixing some small mistakes in Mark Elliot's code:</p>\n\n<pre><code>public class Pair&lt;L,R&gt; {\n    private L l;\n    private R r;\n    public Pair(L l, R r){\n        this.l = l;\n        this.r = r;\n    }\n    public L getL(){ return l; }\n    public R getR(){ return r; }\n    public void setL(L l){ this.l = l; }\n    public void setR(R r){ this.r = r; }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1581532573,"post_id":60194601,"comment_id":106469861,"body_markdown":"That wouldn&#39;t have worked 9 years ago but would work now.","body":"That wouldn&#39;t have worked 9 years ago but would work now."}],"tags":[],"owner":{"account_id":7862449,"reputation":80,"user_id":5942384,"display_name":"BruceRV"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581531030,"creation_date":1581531030,"answer_id":60194601,"question_id":4777622,"body_markdown":"Similar to what Mark E has proposed, but no need to recreate the wheel, if you don&#39;t mind relying on 3rd party libs.\r\n\r\nApache Commons has tuples already defined:\r\n\r\n    org.apache.commons.lang3.tuple.Pair&lt;L,R&gt;\r\n\r\nApache Commons is so pervasive, I typically already have it in my projects, anyway.\r\n[https://mvnrepository.com/artifact/org.apache.commons/commons-lang3][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-lang3","title":"Creating a list of pairs in java","body":"<p>Similar to what Mark E has proposed, but no need to recreate the wheel, if you don't mind relying on 3rd party libs.</p>\n\n<p>Apache Commons has tuples already defined:</p>\n\n<pre><code>org.apache.commons.lang3.tuple.Pair&lt;L,R&gt;\n</code></pre>\n\n<p>Apache Commons is so pervasive, I typically already have it in my projects, anyway.\n<a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.commons/commons-lang3</a></p>\n"},{"tags":[],"owner":{"account_id":2280476,"reputation":247,"user_id":2005683,"display_name":"Jovo Skorupan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663851944,"creation_date":1663851944,"answer_id":73815194,"question_id":4777622,"body_markdown":"although HashMap does not allowed duplicated keys it can be used in this way: \r\n`Map&lt;String, List&lt;String&gt;&gt; mapWithDuplicates = new Map&lt;String, List&lt;String&gt;&gt;();`","title":"Creating a list of pairs in java","body":"<p>although HashMap does not allowed duplicated keys it can be used in this way:\n<code>Map&lt;String, List&lt;String&gt;&gt; mapWithDuplicates = new Map&lt;String, List&lt;String&gt;&gt;();</code></p>\n"},{"tags":[],"owner":{"account_id":57693,"reputation":1274,"user_id":172836,"display_name":"Julian Hyde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694394077,"creation_date":1694393285,"answer_id":77078377,"question_id":4777622,"body_markdown":"Implementing a list of pairs using an `ArrayList` that contains *n* `Map.Entry` objects for a list of size *n* seems to me wasteful in both time and space.\r\n\r\nSo I created my own `PairList&lt;L, R&gt;` class that implements `List&lt;Map.Entry&lt;L, R&gt;&gt;` and stores the *n* entries in a backing list of size *2 * n*:\r\n```\r\ninterface PairList&lt;L, R&gt; extends List&lt;Map.Entry&lt;L, R&gt;&gt; {\r\n  static &lt;L, R&gt; PairList&lt;L, R&gt; of(); // creates empty mutable list\r\n  boolean add(int index, L l, R r); // adds a pair\r\n  boolean addAll(PairList&lt;L, R&gt; list); // adds all pairs in another list\r\n  Map.Entry&lt;L, R&gt; set(int i, L l, R r); // updates pair i\r\n  void forEach(BiConsumer&lt;L, R&gt; consumer); // iterates over pairs\r\n  L left(int i); // returns the left part of pair i\r\n  R right(int i); // returns the right part of pair i\r\n  List&lt;L&gt; leftList(); // returns the left slice\r\n  List&lt;R&gt; rightList(); // returns the right slice\r\n  List&lt;T&gt; transform(BiFunction&lt;L, R, T&gt; f); // applies a mapping function\r\n  ImmutablePairList&lt;L, R&gt; immutable(); // returns an immutable copy\r\n}\r\n```\r\n\r\nThe list contains the key of the first pair, the value of the first pair, the key of the second pair, and so forth. There are no `Map.Entry` objects.\r\n\r\nIf you wish to iterate over the list using a `for` loop or the `iterator()` method, the `Map.Entry` objects are created on the fly. But the `forEach(BiConsmer&lt;L, R&gt; consumer)` method performs [internal iteration][1], calling your consumer once for each pair. This is more efficient, because no `Map.Entry` objects are ever created.\r\n\r\nIn the following example, we create and populate a list, and iterate over it using internal and exterior iteration:\r\n```\r\nPairList&lt;String, Integer&gt; nameYears = PairList.of();\r\nnameYears.add(&quot;Paul&quot;, 1942);\r\nnameYears.add(&quot;John&quot;, 1940);\r\nnameYears.add(&quot;Ringo&quot;, 1940);\r\nnameYears.add(&quot;George&quot;, 1943);\r\n\r\n// Exterior iteration\r\nfor (Map.Entry&lt;String, Integer&gt; pair: nameYears) {\r\n  println(pair.getKey() + &quot; was born in &quot; + pair.getValue());\r\n}\r\n\r\n// Internal iteration\r\nnameYears.forEach((name, year) -&gt; {\r\n    println(name + &quot; was born in &quot; + year);\r\n  });\r\n```\r\n\r\nThere&#39;s also an immutable version, as follows:\r\n```\r\ninterface ImmutablePairList&lt;L, R&gt; extends PairList&lt;L, R&gt; {\r\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; copyOf(Iterable&lt;Map.Entry&lt;L, R&gt; iterable);\r\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; of(); // empty immutable list\r\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; of(L l, R r, Object ... rest); // list with 1 or more pairs\r\n}\r\n```\r\nBecause it never needs to be resized,`ImmutablePairList` uses an even more efficient backing store than a mutable `PairList`: an `Object[]` of size *2 * n* holds the pairs.\r\n\r\nYou can find the implementation in my Morel project: [interface PairList][2]; feel free to copy it into your own code.\r\n\r\n\r\n  [1]: https://wiki.c2.com/?InternalIterator\r\n  [2]: https://github.com/hydromatic/morel/blob/main/src/main/java/net/hydromatic/morel/util/PairList.java#L46","title":"Creating a list of pairs in java","body":"<p>Implementing a list of pairs using an <code>ArrayList</code> that contains <em>n</em> <code>Map.Entry</code> objects for a list of size <em>n</em> seems to me wasteful in both time and space.</p>\n<p>So I created my own <code>PairList&lt;L, R&gt;</code> class that implements <code>List&lt;Map.Entry&lt;L, R&gt;&gt;</code> and stores the <em>n</em> entries in a backing list of size <em>2 * n</em>:</p>\n<pre><code>interface PairList&lt;L, R&gt; extends List&lt;Map.Entry&lt;L, R&gt;&gt; {\n  static &lt;L, R&gt; PairList&lt;L, R&gt; of(); // creates empty mutable list\n  boolean add(int index, L l, R r); // adds a pair\n  boolean addAll(PairList&lt;L, R&gt; list); // adds all pairs in another list\n  Map.Entry&lt;L, R&gt; set(int i, L l, R r); // updates pair i\n  void forEach(BiConsumer&lt;L, R&gt; consumer); // iterates over pairs\n  L left(int i); // returns the left part of pair i\n  R right(int i); // returns the right part of pair i\n  List&lt;L&gt; leftList(); // returns the left slice\n  List&lt;R&gt; rightList(); // returns the right slice\n  List&lt;T&gt; transform(BiFunction&lt;L, R, T&gt; f); // applies a mapping function\n  ImmutablePairList&lt;L, R&gt; immutable(); // returns an immutable copy\n}\n</code></pre>\n<p>The list contains the key of the first pair, the value of the first pair, the key of the second pair, and so forth. There are no <code>Map.Entry</code> objects.</p>\n<p>If you wish to iterate over the list using a <code>for</code> loop or the <code>iterator()</code> method, the <code>Map.Entry</code> objects are created on the fly. But the <code>forEach(BiConsmer&lt;L, R&gt; consumer)</code> method performs <a href=\"https://wiki.c2.com/?InternalIterator\" rel=\"nofollow noreferrer\">internal iteration</a>, calling your consumer once for each pair. This is more efficient, because no <code>Map.Entry</code> objects are ever created.</p>\n<p>In the following example, we create and populate a list, and iterate over it using internal and exterior iteration:</p>\n<pre><code>PairList&lt;String, Integer&gt; nameYears = PairList.of();\nnameYears.add(&quot;Paul&quot;, 1942);\nnameYears.add(&quot;John&quot;, 1940);\nnameYears.add(&quot;Ringo&quot;, 1940);\nnameYears.add(&quot;George&quot;, 1943);\n\n// Exterior iteration\nfor (Map.Entry&lt;String, Integer&gt; pair: nameYears) {\n  println(pair.getKey() + &quot; was born in &quot; + pair.getValue());\n}\n\n// Internal iteration\nnameYears.forEach((name, year) -&gt; {\n    println(name + &quot; was born in &quot; + year);\n  });\n</code></pre>\n<p>There's also an immutable version, as follows:</p>\n<pre><code>interface ImmutablePairList&lt;L, R&gt; extends PairList&lt;L, R&gt; {\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; copyOf(Iterable&lt;Map.Entry&lt;L, R&gt; iterable);\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; of(); // empty immutable list\n  static &lt;L, R&gt; ImmutablePairList&lt;L, R&gt; of(L l, R r, Object ... rest); // list with 1 or more pairs\n}\n</code></pre>\n<p>Because it never needs to be resized,<code>ImmutablePairList</code> uses an even more efficient backing store than a mutable <code>PairList</code>: an <code>Object[]</code> of size <em>2 * n</em> holds the pairs.</p>\n<p>You can find the implementation in my Morel project: <a href=\"https://github.com/hydromatic/morel/blob/main/src/main/java/net/hydromatic/morel/util/PairList.java#L46\" rel=\"nofollow noreferrer\">interface PairList</a>; feel free to copy it into your own code.</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695611262,"creation_date":1695611262,"answer_id":77169730,"question_id":4777622,"body_markdown":"If you&#39;re open to using a third-party library, [Eclipse Collections][1] has support for primitive pairs and primitive collections. This can reduce the amount of boxing required instead of using `Float` and `Short` wrapper objects, if that is a concern.\r\n\r\n    @Test\r\n    public void floatShortPairs() \r\n    {\r\n        MutableList&lt;FloatShortPair&gt; pairs = Lists.mutable.of(\r\n                PrimitiveTuples.pair(10.0f, (short) 10),\r\n                PrimitiveTuples.pair(5.0f, (short) 5),\r\n                PrimitiveTuples.pair(10.0f, (short) 5),\r\n                PrimitiveTuples.pair(5.0f, (short) 10));\r\n    \r\n        FloatList floatList = pairs.collectFloat(pair -&gt; pair.getOne() * pair.getTwo());\r\n        DoubleList doubleList = pairs.collectDouble(pair -&gt; pair.getOne() * pair.getTwo());\r\n    \r\n        FloatList expectedFloats = FloatLists.mutable.of(100.0f, 25.0f, 50.0f, 50.0f);\r\n        Assertions.assertEquals(expectedFloats, floatList);\r\n    \r\n        DoubleList expectedDoubles = DoubleLists.mutable.of(100.0, 25.0, 50.0, 50.0);\r\n        Assertions.assertEquals(expectedDoubles, doubleList);\r\n    }\r\n\r\nThe `PrimitiveTuples` factory can create all combinations of primitive to primitive pairs. The `MutableList` interface has eager operations available directly on the collection to convert to other Object collections or primitive collections. These methods are prefixed with `collect`. `MutableList` extends the `java.util.List` interface.\r\n\r\nNote: I am a committer for Eclipse Collections\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections","title":"Creating a list of pairs in java","body":"<p>If you're open to using a third-party library, <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> has support for primitive pairs and primitive collections. This can reduce the amount of boxing required instead of using <code>Float</code> and <code>Short</code> wrapper objects, if that is a concern.</p>\n<pre><code>@Test\npublic void floatShortPairs() \n{\n    MutableList&lt;FloatShortPair&gt; pairs = Lists.mutable.of(\n            PrimitiveTuples.pair(10.0f, (short) 10),\n            PrimitiveTuples.pair(5.0f, (short) 5),\n            PrimitiveTuples.pair(10.0f, (short) 5),\n            PrimitiveTuples.pair(5.0f, (short) 10));\n\n    FloatList floatList = pairs.collectFloat(pair -&gt; pair.getOne() * pair.getTwo());\n    DoubleList doubleList = pairs.collectDouble(pair -&gt; pair.getOne() * pair.getTwo());\n\n    FloatList expectedFloats = FloatLists.mutable.of(100.0f, 25.0f, 50.0f, 50.0f);\n    Assertions.assertEquals(expectedFloats, floatList);\n\n    DoubleList expectedDoubles = DoubleLists.mutable.of(100.0, 25.0, 50.0, 50.0);\n    Assertions.assertEquals(expectedDoubles, doubleList);\n}\n</code></pre>\n<p>The <code>PrimitiveTuples</code> factory can create all combinations of primitive to primitive pairs. The <code>MutableList</code> interface has eager operations available directly on the collection to convert to other Object collections or primitive collections. These methods are prefixed with <code>collect</code>. <code>MutableList</code> extends the <code>java.util.List</code> interface.</p>\n<p>Note: I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":29525884,"reputation":44,"user_id":22627515,"display_name":"Tiranya Nirmani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695612727,"creation_date":1695612727,"answer_id":77169784,"question_id":4777622,"body_markdown":"For a non-ordered list of pairs where you need to perform simple math operations on the pairs, a suitable class to use would be an ArrayList of a custom Pair class. \r\nyou can try this code : \r\n\r\n    public class Pair {\r\n        private float floatValue;\r\n        private short shortValue;\r\n    \r\n        public Pair(float floatValue, short shortValue) {\r\n            this.floatValue = floatValue;\r\n            this.shortValue = shortValue;\r\n        }\r\n    \r\n        public float getFloatValue() {\r\n            return floatValue;\r\n        }\r\n    \r\n        public short getShortValue() {\r\n            return shortValue;\r\n        }\r\n    \r\n        public float multiply() {\r\n            return floatValue * shortValue;\r\n        }\r\n    }\r\n\r\nIn this code, we have a Pair class that holds a float value and a short value. It has a constructor to initialize the pair, getter methods to access the values, and a multiply method to perform the multiplication operation.\r\n\r\n","title":"Creating a list of pairs in java","body":"<p>For a non-ordered list of pairs where you need to perform simple math operations on the pairs, a suitable class to use would be an ArrayList of a custom Pair class.\nyou can try this code :</p>\n<pre><code>public class Pair {\n    private float floatValue;\n    private short shortValue;\n\n    public Pair(float floatValue, short shortValue) {\n        this.floatValue = floatValue;\n        this.shortValue = shortValue;\n    }\n\n    public float getFloatValue() {\n        return floatValue;\n    }\n\n    public short getShortValue() {\n        return shortValue;\n    }\n\n    public float multiply() {\n        return floatValue * shortValue;\n    }\n}\n</code></pre>\n<p>In this code, we have a Pair class that holds a float value and a short value. It has a constructor to initialize the pair, getter methods to access the values, and a multiply method to perform the multiplication operation.</p>\n"}],"owner":{"account_id":279757,"reputation":617,"user_id":575095,"accept_rate":100,"display_name":"V1rtua1An0ma1y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161157,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":4777636,"answer_count":11,"score":37,"last_activity_date":1695612727,"creation_date":1295829955,"question_id":4777622,"body_markdown":"Which class would work best for a non-ordered list of pairs? I&#39;ll be taking a bunch of (float,short) pairs and will need to be able to perform simple math (like multiplying the pair together to return a single float, etc). List only takes one argument, and HashMap won&#39;t allow duplicates (as far as I know). Any thoughts?","title":"Creating a list of pairs in java","body":"<p>Which class would work best for a non-ordered list of pairs? I'll be taking a bunch of (float,short) pairs and will need to be able to perform simple math (like multiplying the pair together to return a single float, etc). List only takes one argument, and HashMap won't allow duplicates (as far as I know). Any thoughts?</p>\n"},{"tags":["java","spring","jdbc","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":1545748,"reputation":2904,"user_id":1439333,"accept_rate":70,"display_name":"Vishnudev K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423747360,"creation_date":1423747360,"answer_id":28478562,"question_id":28478419,"body_markdown":"See the example of how to set auto commit false \r\n\r\n    &lt;bean id=&quot;database&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot;&gt;\r\n        &lt;bean class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n            ...\r\n            &lt;property name=&quot;defaultAutoCommit&quot; value=&quot;false&quot; /&gt;\r\n            ...\r\n        &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;\r\nref:\r\nhttps://stackoverflow.com/questions/10746377/spring-3-1-jdbctemplate-auto-commit-to-false\r\n\r\nYou can also try the annotation based connection transaction management ?  \r\nhttps://stackoverflow.com/questions/9649318/how-can-i-config-to-turn-off-autocommit-in-spring-jdbc  \r\n","title":"Spring Jdbc template setAutocommit(false)","body":"<p>See the example of how to set auto commit false </p>\n\n<pre><code>&lt;bean id=\"database\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n&lt;property name=\"dataSource\"&gt;\n    &lt;bean class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n        ...\n        &lt;property name=\"defaultAutoCommit\" value=\"false\" /&gt;\n        ...\n    &lt;/bean&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>\nref:\n<a href=\"https://stackoverflow.com/questions/10746377/spring-3-1-jdbctemplate-auto-commit-to-false\">spring 3.1: jdbcTemplate auto commit to false.</a></p>\n\n<p>You can also try the annotation based connection transaction management ?<br>\n<a href=\"https://stackoverflow.com/questions/9649318/how-can-i-config-to-turn-off-autocommit-in-spring-jdbc\">How can I config to turn off autocommit in Spring + JDBC?</a>  </p>\n"}],"owner":{"account_id":4267706,"reputation":1261,"user_id":3490411,"accept_rate":40,"display_name":"nmkkannan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695611231,"creation_date":1423746901,"question_id":28478419,"body_markdown":"I want insert multiple rows in db table.\r\nI am using **SpringJdbc**.\r\nHow can i **manage transaction in SpringJdbc connection.**\r\nMy code is:\r\n\r\n    @Override\r\n\t@Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.READ_COMMITTED)\r\n\tpublic int addUserRelationshipMapping(final ArrayList&lt;UserDO&gt; userDOs, final long userId) throws UserDataException {\r\n\t\tfinal JdbcTemplate jd = this.getJdbctemplate();\r\n\t\ttry {\r\n\t\t\tjd.getDataSource().getConnection().setAutoCommit(false);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tint totalAdded = 0;\r\n\t\ttry {\r\n\t\t\tint[] isAdded = jd.batchUpdate(ADD_USER_RELATION_MAPPING, new BatchPreparedStatementSetter() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void setValues(PreparedStatement ps, int i) throws SQLException {\r\n\t\t\t\t\tfinal long userRelationId = jd.queryForObject(USER_RELATION_KEY, Long.class);\r\n\t\t\t\t\tUserDO userDO = userDOs.get(i);\r\n\t\t\t\t\t\tps.setLong(1, userRelationId);\r\n\t\t\t\t\t\tps.setLong(2, userId);\r\n\t\t\t\t\t\tps.setLong(3, userDO.getprimaryUserId());\r\n\t\t\t\t\t\tps.setInt(4, 1);\r\n\t\t\t\t\t\tps.setInt(5, 0);\r\n\t\t\t\t\t\tjd.getDataSource().getConnection().commit();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int getBatchSize() {\r\n\t\t\t\t\treturn userDOs.size();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\ttotalAdded = isAdded.length;\r\n\t\t} catch (DuplicateKeyException dExp) {\r\n\t\t\tlog.info(&quot;error for duplicate key exception &quot;,dExp);\r\n\t\t\tlog.error(dExp);\r\n\r\n\t\t} catch (DataAccessException dExp) {\r\n\t\t\tthrow new UserDataException(&quot;error while adding user relation for userId is&quot; + userId, dExp);\r\n\t\t}\r\n\t\treturn totalAdded;\r\n\t}\r\n\r\nIn this code userRelationId return always old values not updated table values.\r\nSo will use database connection commit.\r\n\r\nSOF question:[https://stackoverflow.com/questions/9322673/java-mysql-jdbc-query-is-returning-stale-data-from-cached-connection][1]\r\n\r\nI got error message:\r\n\r\nCaused by: java.sql.SQLException: **Can&#39;t call commit when autocommit=true**\r\n\r\nSo i need help for this.\r\nAdvance thanks.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9322673/java-mysql-jdbc-query-is-returning-stale-data-from-cached-connection","title":"Spring Jdbc template setAutocommit(false)","body":"<p>I want insert multiple rows in db table.\nI am using <strong>SpringJdbc</strong>.\nHow can i <strong>manage transaction in SpringJdbc connection.</strong>\nMy code is:</p>\n\n<pre><code>@Override\n@Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.READ_COMMITTED)\npublic int addUserRelationshipMapping(final ArrayList&lt;UserDO&gt; userDOs, final long userId) throws UserDataException {\n    final JdbcTemplate jd = this.getJdbctemplate();\n    try {\n        jd.getDataSource().getConnection().setAutoCommit(false);\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    int totalAdded = 0;\n    try {\n        int[] isAdded = jd.batchUpdate(ADD_USER_RELATION_MAPPING, new BatchPreparedStatementSetter() {\n\n            @Override\n            public void setValues(PreparedStatement ps, int i) throws SQLException {\n                final long userRelationId = jd.queryForObject(USER_RELATION_KEY, Long.class);\n                UserDO userDO = userDOs.get(i);\n                    ps.setLong(1, userRelationId);\n                    ps.setLong(2, userId);\n                    ps.setLong(3, userDO.getprimaryUserId());\n                    ps.setInt(4, 1);\n                    ps.setInt(5, 0);\n                    jd.getDataSource().getConnection().commit();\n            }\n\n            @Override\n            public int getBatchSize() {\n                return userDOs.size();\n            }\n        });\n        totalAdded = isAdded.length;\n    } catch (DuplicateKeyException dExp) {\n        log.info(\"error for duplicate key exception \",dExp);\n        log.error(dExp);\n\n    } catch (DataAccessException dExp) {\n        throw new UserDataException(\"error while adding user relation for userId is\" + userId, dExp);\n    }\n    return totalAdded;\n}\n</code></pre>\n\n<p>In this code userRelationId return always old values not updated table values.\nSo will use database connection commit.</p>\n\n<p>SOF question:<a href=\"https://stackoverflow.com/questions/9322673/java-mysql-jdbc-query-is-returning-stale-data-from-cached-connection\">Java MYSQL/JDBC query is returning stale data from cached Connection</a></p>\n\n<p>I got error message:</p>\n\n<p>Caused by: java.sql.SQLException: <strong>Can't call commit when autocommit=true</strong></p>\n\n<p>So i need help for this.\nAdvance thanks.</p>\n"},{"tags":["java","mysql","spring","jpa"],"comments":[{"owner":{"account_id":1225662,"reputation":12165,"user_id":1191247,"accept_rate":75,"display_name":"user1191247"},"score":0,"creation_date":1695642536,"post_id":77169679,"comment_id":136047328,"body_markdown":"Does this answer your question? [Updating a ManyToMany relationship to include a new field](https://stackoverflow.com/questions/55091537/updating-a-manytomany-relationship-to-include-a-new-field)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55091537/updating-a-manytomany-relationship-to-include-a-new-field\">Updating a ManyToMany relationship to include a new field</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695653407,"post_id":77169679,"comment_id":136049795,"body_markdown":"Check out the error and the issue a bit more - it isn&#39;t saying you can&#39;t map it this way. It is complaining about what you are passing in. If you pass in a Product list with duplicate entries - make sure they are the same instance. Say you have productA added to the basket, and add it a second time. You&#39;ve got in your list productA and productA&#39;. They may have the same data, but productA != productA&#39; references. Check out how you are building these entities and fix that (JSON deserialization maybe?)","body":"Check out the error and the issue a bit more - it isn&#39;t saying you can&#39;t map it this way. It is complaining about what you are passing in. If you pass in a Product list with duplicate entries - make sure they are the same instance. Say you have productA added to the basket, and add it a second time. You&#39;ve got in your list productA and productA&#39;. They may have the same data, but productA != productA&#39; references. Check out how you are building these entities and fix that (JSON deserialization maybe?)"}],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695610129,"creation_date":1695610129,"question_id":77169679,"body_markdown":"I&#39;m writing my intrenet store.\r\nI have a relationship @ManyToMany(Basket - Product)\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;currently_basket&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;basket_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;product_id&quot;))\r\n    private List&lt;Product&gt; productList;\r\n\r\n\r\n\r\n\r\n    @ManyToMany(mappedBy = &quot;productList&quot;)\r\n    private List&lt;Basket&gt; basketList;\r\n\r\nUser can add several identical products to the cart (they have the same id).\r\n\r\n\r\nIf I am now trying to add the same item to the same cart, I am getting \r\n\r\n    java.lang.IllegalStateException: Multiple representations of the same entity [ua.com.alevel.persistence.entity.Product#1] are being merged. Detached: [ua.com.alevel.persistence.entity.Product@2544c382]; Detached: [ua.com.alevel.persistence.entity.Product@68fc1ff6]\r\n\r\nSo my question is, how can I add a new quantity column to the @ManyToMany relationship?\r\n","title":"Repeated entries in relation to ManyToMany","body":"<p>I'm writing my intrenet store.\nI have a relationship @ManyToMany(Basket - Product)</p>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL)\n@JoinTable(\n        name = &quot;currently_basket&quot;,\n        joinColumns = @JoinColumn(name = &quot;basket_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;product_id&quot;))\nprivate List&lt;Product&gt; productList;\n\n\n\n\n@ManyToMany(mappedBy = &quot;productList&quot;)\nprivate List&lt;Basket&gt; basketList;\n</code></pre>\n<p>User can add several identical products to the cart (they have the same id).</p>\n<p>If I am now trying to add the same item to the same cart, I am getting</p>\n<pre><code>java.lang.IllegalStateException: Multiple representations of the same entity [ua.com.alevel.persistence.entity.Product#1] are being merged. Detached: [ua.com.alevel.persistence.entity.Product@2544c382]; Detached: [ua.com.alevel.persistence.entity.Product@68fc1ff6]\n</code></pre>\n<p>So my question is, how can I add a new quantity column to the @ManyToMany relationship?</p>\n"},{"tags":["java","jdbc","classloader","h2"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1350408174,"post_id":12920151,"comment_id":17506046,"body_markdown":"Is the JAR file for H2 in your classpath?","body":"Is the JAR file for H2 in your classpath?"},{"owner":{"account_id":1945482,"reputation":141,"user_id":1750737,"display_name":"Contex"},"score":0,"creation_date":1350412037,"post_id":12920151,"comment_id":17507722,"body_markdown":"I do not wish to add the driver to my classpath, which is why I&#39;m downloading the jar instead and then try to load it, that is what I need a solution for.","body":"I do not wish to add the driver to my classpath, which is why I&#39;m downloading the jar instead and then try to load it, that is what I need a solution for."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1350413375,"post_id":12920151,"comment_id":17508402,"body_markdown":"Why do you not want to add it to classpath?","body":"Why do you not want to add it to classpath?"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1350413924,"post_id":12920151,"comment_id":17508636,"body_markdown":"You have to add the JAR file to the classpath. This does NOT necessarily mean changing the global CLASSPATH environment variable. There are several other ways to do it.","body":"You have to add the JAR file to the classpath. This does NOT necessarily mean changing the global CLASSPATH environment variable. There are several other ways to do it."}],"answers":[{"comments":[{"owner":{"account_id":1945482,"reputation":141,"user_id":1750737,"display_name":"Contex"},"score":2,"creation_date":1350411897,"post_id":12920182,"comment_id":17507658,"body_markdown":"I do not wish to add the H2 jar to my classpath, which is why I download it instead, however loading the downloaded jar is not working, which is what I&#39;m trying to find a solution for.","body":"I do not wish to add the H2 jar to my classpath, which is why I download it instead, however loading the downloaded jar is not working, which is what I&#39;m trying to find a solution for."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1350416954,"post_id":12920182,"comment_id":17509983,"body_markdown":"You don&#39;t have a choice, and I don&#39;t see why you would not want to add H2 JAR to your CLASSPATH.  That&#39;s the way Java works.","body":"You don&#39;t have a choice, and I don&#39;t see why you would not want to add H2 JAR to your CLASSPATH.  That&#39;s the way Java works."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350408194,"creation_date":1350408194,"answer_id":12920182,"question_id":12920151,"body_markdown":"Add the H2 JAR to your CLASSPATH.\r\n\r\nNo suitable driver usually means that the URL syntax is incorrect.  Check to make sure yours complies.\r\n\r\nhttp://www.h2database.com/html/faq.html\r\n","title":"Java: No suitable driver found for jdbc:h2","body":"<p>Add the H2 JAR to your CLASSPATH.</p>\n\n<p>No suitable driver usually means that the URL syntax is incorrect.  Check to make sure yours complies.</p>\n\n<p><a href=\"http://www.h2database.com/html/faq.html\" rel=\"nofollow\">http://www.h2database.com/html/faq.html</a></p>\n"},{"comments":[{"owner":{"account_id":1321418,"reputation":3529,"user_id":1267168,"display_name":"Pyranja"},"score":2,"creation_date":1350413690,"post_id":12921420,"comment_id":17508546,"body_markdown":"As an additional note: Even registering a driver loaded with an &quot;alien&quot; classloader won&#39;t help, as the driver manager checks for this whenever a driver is requested, e.g. when creating a connection. See the &#39;isDriverAllowed(Driver driver, ClassLoader classLoader)&#39; method in DriverManager (I checked in JDK7_u7). Therefore you cannot share a JDBC driver in between different classloader hierarchies. Using @Afforess proposed solution will fix that.","body":"As an additional note: Even registering a driver loaded with an &quot;alien&quot; classloader won&#39;t help, as the driver manager checks for this whenever a driver is requested, e.g. when creating a connection. See the &#39;isDriverAllowed(Driver driver, ClassLoader classLoader)&#39; method in DriverManager (I checked in JDK7_u7). Therefore you cannot share a JDBC driver in between different classloader hierarchies. Using @Afforess proposed solution will fix that."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1350417467,"post_id":12921420,"comment_id":17510218,"body_markdown":"Personally, I think this answer is incorrect.  I don&#39;t agree that it&#39;s necessary to go to all this trouble.  Put the JAR in your CLASSPATH and get on with it.","body":"Personally, I think this answer is incorrect.  I don&#39;t agree that it&#39;s necessary to go to all this trouble.  Put the JAR in your CLASSPATH and get on with it."},{"owner":{"account_id":1794557,"reputation":904,"user_id":1634249,"display_name":"Afforess"},"score":0,"creation_date":1350493164,"post_id":12921420,"comment_id":17537356,"body_markdown":"@duffymo - there are situations where you may not want to shade libraries into your project, or use alternative jdbc connectors. Just because *you* don&#39;t see a use-case does not mean there are none.","body":"@duffymo - there are situations where you may not want to shade libraries into your project, or use alternative jdbc connectors. Just because <i>you</i> don&#39;t see a use-case does not mean there are none."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1350495752,"post_id":12921420,"comment_id":17538582,"body_markdown":"But you are using the JDBC connector for H2; you have no choice whatsoever.  You&#39;re not solving anything with this solution.  You&#39;re just adding complexity by using a different class loader from the system.  You haven&#39;t described any use case besides &quot;I said so.&quot;","body":"But you are using the JDBC connector for H2; you have no choice whatsoever.  You&#39;re not solving anything with this solution.  You&#39;re just adding complexity by using a different class loader from the system.  You haven&#39;t described any use case besides &quot;I said so.&quot;"}],"tags":[],"owner":{"account_id":1794557,"reputation":904,"user_id":1634249,"display_name":"Afforess"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1350413151,"creation_date":1350413151,"answer_id":12921420,"question_id":12920151,"body_markdown":"According to the Oracle docs: http://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html\r\n\r\nClassloaders delegate classloading to child classloaders, searching for the class on the classpath. However, the URLClassloader you used to load your library is not visible to the system or bootstrap hierarchy, so it can not find the class (despite it being loaded, albeit in another castl...classloader).\r\n\r\nThe easiest solution is to replace your system classloader with a URLClassloader and use addUrl(...path...) to load your library, as this answer suggests: https://stackoverflow.com/questions/60764/how-should-i-load-jars-dynamically-at-runtime","title":"Java: No suitable driver found for jdbc:h2","body":"<p>According to the Oracle docs: <a href=\"http://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html</a></p>\n\n<p>Classloaders delegate classloading to child classloaders, searching for the class on the classpath. However, the URLClassloader you used to load your library is not visible to the system or bootstrap hierarchy, so it can not find the class (despite it being loaded, albeit in another castl...classloader).</p>\n\n<p>The easiest solution is to replace your system classloader with a URLClassloader and use addUrl(...path...) to load your library, as this answer suggests: <a href=\"https://stackoverflow.com/questions/60764/how-should-i-load-jars-dynamically-at-runtime\">How should I load Jars dynamically at runtime?</a></p>\n"},{"tags":[],"owner":{"account_id":1945787,"reputation":19,"user_id":1750979,"display_name":"nicephotog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557074714,"creation_date":1350413192,"answer_id":12921429,"question_id":12920151,"body_markdown":"You must add **the exact** `org.h2.Driver` \\*.jar file name to the classpath of the application.\n\n**Example**: `/home/applications/games/minecraft/drivers/jdbcH2driver.jar`\n\n  So decide where the driver will always be in your application and find the application home folder path to construct it completely when an application using it is ever installed.\n\nAlso, it probably does not operate because during download from the net it can take time and after must be copied into the &quot;correct folder for the classpath of the application&quot; to be able to use it and with the correct .jar name(as in the above paragraph).\nTo successfully download the &quot;query and application-operation should be put in a thread&quot; to prevent overun to the next line of instructions.\n\nSensibly, on application start you would check the .jar was present and download it if it was not present and installed while issueing a warning to the user to download it if the .jar was not present.","title":"Java: No suitable driver found for jdbc:h2","body":"<p>You must add <strong>the exact</strong> <code>org.h2.Driver</code> *.jar file name to the classpath of the application.</p>\n<p><strong>Example</strong>: <code>/home/applications/games/minecraft/drivers/jdbcH2driver.jar</code></p>\n<p>So decide where the driver will always be in your application and find the application home folder path to construct it completely when an application using it is ever installed.</p>\n<p>Also, it probably does not operate because during download from the net it can take time and after must be copied into the &quot;correct folder for the classpath of the application&quot; to be able to use it and with the correct .jar name(as in the above paragraph).\nTo successfully download the &quot;query and application-operation should be put in a thread&quot; to prevent overun to the next line of instructions.</p>\n<p>Sensibly, on application start you would check the .jar was present and download it if it was not present and installed while issueing a warning to the user to download it if the .jar was not present.</p>\n"},{"tags":[],"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416459120,"creation_date":1416459120,"answer_id":27032014,"question_id":12920151,"body_markdown":"For me, I got this error using `groovy` and `grapes` for dependency resolution.\n\n### The solution: \n\nYou need to tell grapes to use the systemClassLoader. e.g.\n\n    @GrabConfig(systemClassLoader=true)","title":"Java: No suitable driver found for jdbc:h2","body":"<p>For me, I got this error using <code>groovy</code> and <code>grapes</code> for dependency resolution.</p>\n<h3>The solution:</h3>\n<p>You need to tell grapes to use the systemClassLoader. e.g.</p>\n<pre><code>@GrabConfig(systemClassLoader=true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5500024,"reputation":11,"user_id":4369646,"display_name":"dafali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418808788,"creation_date":1418808788,"answer_id":27522305,"question_id":12920151,"body_markdown":"Hibernate properties set\r\n    url value to:\r\n    &lt;property name=&quot;url&quot;&gt;\r\n\t\t\t&lt;value&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\r\ndriverClassName:\r\n\r\n    &lt;property name=&quot;driverClassName&quot;&gt;\r\n    &lt;value&gt;org.hibernate.dialect.H2Dialect&lt;/value&gt;\r\n&lt;/property&gt;\r\n\r\nAdd H2 driver to pom:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.166&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Java: No suitable driver found for jdbc:h2","body":"<p>Hibernate properties set\n    url value to:\n    \n            jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n        </p>\n\n<p>driverClassName:</p>\n\n<pre><code>&lt;property name=\"driverClassName\"&gt;\n&lt;value&gt;org.hibernate.dialect.H2Dialect&lt;/value&gt;\n</code></pre>\n\n<p></p>\n\n<p>Add H2 driver to pom:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.3.166&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4705473,"reputation":148,"user_id":3807764,"display_name":"Erik_A"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480950415,"creation_date":1480950415,"answer_id":40977290,"question_id":12920151,"body_markdown":"I had the same problem. The h2 driver was configured in the pom.xml with \t\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.4.193&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBecause I&#39;m using Java 6 in my project (don&#39;t ask why ;-)) but the h2-1.4.193.jar from the Maven Repository depends on Java 7, this driver version could not be used.\r\n\r\nChanging the pom.xml to use h2-1.4.190.jar solved the problem for me.\r\n\r\nSee also [issue #300][1] in the h2database git project.\r\n\r\n\r\n  [1]: https://github.com/h2database/h2database/issues/300","title":"Java: No suitable driver found for jdbc:h2","body":"<p>I had the same problem. The h2 driver was configured in the pom.xml with    </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;1.4.193&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Because I'm using Java 6 in my project (don't ask why ;-)) but the h2-1.4.193.jar from the Maven Repository depends on Java 7, this driver version could not be used.</p>\n\n<p>Changing the pom.xml to use h2-1.4.190.jar solved the problem for me.</p>\n\n<p>See also <a href=\"https://github.com/h2database/h2database/issues/300\" rel=\"nofollow noreferrer\">issue #300</a> in the h2database git project.</p>\n"},{"tags":[],"owner":{"account_id":1482474,"reputation":7545,"user_id":1652451,"display_name":"PbxMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614344187,"creation_date":1614344187,"answer_id":66386222,"question_id":12920151,"body_markdown":"In my case the error was in the maven scope\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.200&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nOnce you remove it or change it to a visible scope it worked","title":"Java: No suitable driver found for jdbc:h2","body":"<p>In my case the error was in the maven scope</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.200&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Once you remove it or change it to a visible scope it worked</p>\n"},{"tags":[],"owner":{"account_id":6441295,"reputation":189,"user_id":4991236,"display_name":"Viktor Sirotin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620221476,"creation_date":1620221476,"answer_id":67402326,"question_id":12920151,"body_markdown":"I have had the same problem in my Kotlin project. \r\nI have added in bild.gradle.kts \r\n\r\n    dependencies {\r\n        implementation(&quot;com.h2database:h2:1.4.199&quot;)\r\n    ..\r\n    }\r\n\r\nand after that in IntelliJ File-&gt;Invalidate Cache.\r\n","title":"Java: No suitable driver found for jdbc:h2","body":"<p>I have had the same problem in my Kotlin project.\nI have added in bild.gradle.kts</p>\n<pre><code>dependencies {\n    implementation(&quot;com.h2database:h2:1.4.199&quot;)\n..\n}\n</code></pre>\n<p>and after that in IntelliJ File-&gt;Invalidate Cache.</p>\n"}],"owner":{"account_id":1945482,"reputation":141,"user_id":1750737,"display_name":"Contex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43158,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":12921420,"answer_count":8,"score":13,"last_activity_date":1695609820,"creation_date":1350408032,"question_id":12920151,"body_markdown":"I&#39;m having an issue with some of my code, I&#39;ve searched and tried everything I know of, without any luck.\r\n\r\n----------\r\n\r\n**Scenario:**\r\n\r\n - Application checks if JDBC driver exists, in this case, the H2 driver (org.h2.Driver).\r\n - If it doesn&#39;t exist, the application downloads the JDBC driver and adds it to a ClassLoader like so: (**note**: storageDataManager is a class of mine I use for SQL methods)\r\n\r\n           File h2Driver = new File(directory.toString() + File.separator + &quot;lib&quot; + File.separator + &quot;h2.jar&quot;);\r\n           if (h2Driver.exists()) {\r\n               URL[] url = new URL[0];\r\n               try {\r\n                   url = new URL[]{h2Driver.toURI().toURL()};\r\n                   storageDataManager.setClassLoader(new URLClassLoader(url));\r\n               } catch (MalformedURLException ignore) {}\r\n            }\r\n\r\n----------\r\n\r\nWhen the storageDataManager runs the first query, it tries to connect with the specified driver, and if it does have a ClassLoader, it uses ClassLoader instead:\r\n\r\n\tif (getClassLoader() != null) {\r\n\t\tgetLogging().debug(&quot;Loading custom class loader for H2 driver: &quot; + getClassLoader().toString());\r\n\t\tDriver driver = (Driver) Class.forName(&quot;org.h2.Driver&quot;, true, getClassLoader()).newInstance();\r\n\t\tgetLogging().debug(&quot;Loaded H2 driver: &quot; + driver.toString() + &quot; - &quot; + driver.getMinorVersion() + &quot; - &quot; + driver.getMajorVersion());\r\n\t\tDriverManager.registerDriver(driver);\r\n\t} else {\r\n\t\tgetLogging().debug(&quot;Loading H2 driver.&quot;);\r\n\t\tClass.forName(&quot;org.h2.Driver&quot;);\r\n\t}\r\n\toutputDrivers();\r\n\tthis.con = DriverManager.getConnection(this.url, this.username, this.password);\r\n\tbreak;\r\n\r\nWhen I run the application I get this error: \r\n\r\n&quot;*No suitable driver found for jdbc:h2:plugins\\Odin\\data\\OdinStorage;AUTO_RECONNECT=TRUE*&quot;\r\n\r\nHere&#39;s the full log:\r\n\r\n    [Debug] Loading custom class loader for H2 driver: java.net.URLClassLoader@3bf3d5f4\r\n    [Debug] Loaded H2 driver: org.h2.Driver@67257ce8 - 3 - 1\r\n    [Debug] Checking DriverManager drivers.\r\n    [Debug] Found driver #1: sun.jdbc.odbc.JdbcOdbcDriver\r\n    [Debug] Found driver #2: com.mysql.jdbc.Driver\r\n    [Debug] Found 2 drivers in DriverManager.\r\n    --------------------------- STACKTRACE ERROR ---------------------------\r\n    Class name: java.sql.DriverManager\r\n    Error message: No suitable driver found for jdbc:h2:plugins\\Odin\\data\\OdinStorage;AUTO_RECONNECT=TRUE\r\n    Error cause: null\r\n    File name: null\r\n    Function name: getConnection\r\n    Error line: -1\r\n    --------------------------- STACKTRACE START ---------------------------\r\n    java.sql.DriverManager.getConnection(Unknown Source)\r\n    java.sql.DriverManager.getConnection(Unknown Source)\r\n    com.craftfire.commons.managers.DataManager.connect(DataManager.java:756)\r\n    com.craftfire.commons.managers.DataManager.executeQuery(DataManager.java:526)\r\n    com.craftfire.odin.managers.StorageManager.checkInventoryDatabase(StorageManager.java:65)\r\n    com.craftfire.odin.managers.StorageManager.checkDatabases(StorageManager.java:56)\r\n    com.craftfire.odin.managers.StorageManager.&lt;init&gt;(StorageManager.java:34)\r\n    com.craftfire.odin.managers.OdinManager.loadDatabases(OdinManager.java:206)\r\n    com.craftfire.odin.managers.OdinManager.init(OdinManager.java:75)\r\n    com.craftfire.odin.layer.bukkit.Odin.onEnable(Odin.java:63)\r\n    org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:217)\r\n    org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:374)\r\n    org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:381)\r\n    org.bukkit.craftbukkit.CraftServer.loadPlugin(CraftServer.java:266)\r\n    org.bukkit.craftbukkit.CraftServer.enablePlugins(CraftServer.java:248)\r\n    org.bukkit.craftbukkit.CraftServer.&lt;init&gt;(CraftServer.java:200)\r\n    net.minecraft.server.ServerConfigurationManagerAbstract.&lt;init&gt;(ServerConfigurationManagerAbstract.java:50)\r\n    net.minecraft.server.ServerConfigurationManager.&lt;init&gt;(SourceFile:11)\r\n    net.minecraft.server.DedicatedServer.init(DedicatedServer.java:105)\r\n    net.minecraft.server.MinecraftServer.run(MinecraftServer.java:377)\r\n    net.minecraft.server.ThreadServerApplication.run(SourceFile:539)\r\n    ---------------------------- STACKTRACE END ----------------------------\r\n\r\nMy question is then, why doesn&#39;t the driver show up in the DriverManager.getDrivers()?\r\n\r\n**Note:** I do not wish to add the library to the CLASSPATH, which is why I need to find a solution to the issue I described above.\r\n\r\nAnd how can I solve this issue? I simply need to load the H2 JDB driver from a jar.\r\n\r\nI have also tried this:\r\n\r\n - Not use DriverManager.registerDriver(Driver), but use Class.forName(&quot;org.h2.Driver&quot;, true, getClassLoader()) instead, I&#39;ve also tried with .newInstance(), neither has worked.\r\n\r\nCould anyone provide me with a solution to this?\r\n\r\nThanks!","title":"Java: No suitable driver found for jdbc:h2","body":"<p>I'm having an issue with some of my code, I've searched and tried everything I know of, without any luck.</p>\n\n<hr>\n\n<p><strong>Scenario:</strong></p>\n\n<ul>\n<li>Application checks if JDBC driver exists, in this case, the H2 driver (org.h2.Driver).</li>\n<li><p>If it doesn't exist, the application downloads the JDBC driver and adds it to a ClassLoader like so: (<strong>note</strong>: storageDataManager is a class of mine I use for SQL methods)</p>\n\n<pre><code>   File h2Driver = new File(directory.toString() + File.separator + \"lib\" + File.separator + \"h2.jar\");\n   if (h2Driver.exists()) {\n       URL[] url = new URL[0];\n       try {\n           url = new URL[]{h2Driver.toURI().toURL()};\n           storageDataManager.setClassLoader(new URLClassLoader(url));\n       } catch (MalformedURLException ignore) {}\n    }\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>When the storageDataManager runs the first query, it tries to connect with the specified driver, and if it does have a ClassLoader, it uses ClassLoader instead:</p>\n\n<pre><code>if (getClassLoader() != null) {\n    getLogging().debug(\"Loading custom class loader for H2 driver: \" + getClassLoader().toString());\n    Driver driver = (Driver) Class.forName(\"org.h2.Driver\", true, getClassLoader()).newInstance();\n    getLogging().debug(\"Loaded H2 driver: \" + driver.toString() + \" - \" + driver.getMinorVersion() + \" - \" + driver.getMajorVersion());\n    DriverManager.registerDriver(driver);\n} else {\n    getLogging().debug(\"Loading H2 driver.\");\n    Class.forName(\"org.h2.Driver\");\n}\noutputDrivers();\nthis.con = DriverManager.getConnection(this.url, this.username, this.password);\nbreak;\n</code></pre>\n\n<p>When I run the application I get this error: </p>\n\n<p>\"*No suitable driver found for jdbc:h2:plugins\\Odin\\data\\OdinStorage;AUTO_RECONNECT=TRUE*\"</p>\n\n<p>Here's the full log:</p>\n\n<pre><code>[Debug] Loading custom class loader for H2 driver: java.net.URLClassLoader@3bf3d5f4\n[Debug] Loaded H2 driver: org.h2.Driver@67257ce8 - 3 - 1\n[Debug] Checking DriverManager drivers.\n[Debug] Found driver #1: sun.jdbc.odbc.JdbcOdbcDriver\n[Debug] Found driver #2: com.mysql.jdbc.Driver\n[Debug] Found 2 drivers in DriverManager.\n--------------------------- STACKTRACE ERROR ---------------------------\nClass name: java.sql.DriverManager\nError message: No suitable driver found for jdbc:h2:plugins\\Odin\\data\\OdinStorage;AUTO_RECONNECT=TRUE\nError cause: null\nFile name: null\nFunction name: getConnection\nError line: -1\n--------------------------- STACKTRACE START ---------------------------\njava.sql.DriverManager.getConnection(Unknown Source)\njava.sql.DriverManager.getConnection(Unknown Source)\ncom.craftfire.commons.managers.DataManager.connect(DataManager.java:756)\ncom.craftfire.commons.managers.DataManager.executeQuery(DataManager.java:526)\ncom.craftfire.odin.managers.StorageManager.checkInventoryDatabase(StorageManager.java:65)\ncom.craftfire.odin.managers.StorageManager.checkDatabases(StorageManager.java:56)\ncom.craftfire.odin.managers.StorageManager.&lt;init&gt;(StorageManager.java:34)\ncom.craftfire.odin.managers.OdinManager.loadDatabases(OdinManager.java:206)\ncom.craftfire.odin.managers.OdinManager.init(OdinManager.java:75)\ncom.craftfire.odin.layer.bukkit.Odin.onEnable(Odin.java:63)\norg.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:217)\norg.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:374)\norg.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:381)\norg.bukkit.craftbukkit.CraftServer.loadPlugin(CraftServer.java:266)\norg.bukkit.craftbukkit.CraftServer.enablePlugins(CraftServer.java:248)\norg.bukkit.craftbukkit.CraftServer.&lt;init&gt;(CraftServer.java:200)\nnet.minecraft.server.ServerConfigurationManagerAbstract.&lt;init&gt;(ServerConfigurationManagerAbstract.java:50)\nnet.minecraft.server.ServerConfigurationManager.&lt;init&gt;(SourceFile:11)\nnet.minecraft.server.DedicatedServer.init(DedicatedServer.java:105)\nnet.minecraft.server.MinecraftServer.run(MinecraftServer.java:377)\nnet.minecraft.server.ThreadServerApplication.run(SourceFile:539)\n---------------------------- STACKTRACE END ----------------------------\n</code></pre>\n\n<p>My question is then, why doesn't the driver show up in the DriverManager.getDrivers()?</p>\n\n<p><strong>Note:</strong> I do not wish to add the library to the CLASSPATH, which is why I need to find a solution to the issue I described above.</p>\n\n<p>And how can I solve this issue? I simply need to load the H2 JDB driver from a jar.</p>\n\n<p>I have also tried this:</p>\n\n<ul>\n<li>Not use DriverManager.registerDriver(Driver), but use Class.forName(\"org.h2.Driver\", true, getClassLoader()) instead, I've also tried with .newInstance(), neither has worked.</li>\n</ul>\n\n<p>Could anyone provide me with a solution to this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","function-call"],"comments":[{"owner":{"account_id":53576,"reputation":75610,"user_id":160206,"accept_rate":80,"display_name":"Bj&#246;rn Pollex"},"score":2,"creation_date":1305625683,"post_id":6029012,"comment_id":6970954,"body_markdown":"Judging from the answers so far, I guess the question is ambiguous. Can you provide an example in C or C++ of what you are trying to achieve?","body":"Judging from the answers so far, I guess the question is ambiguous. Can you provide an example in C or C++ of what you are trying to achieve?"},{"owner":{"account_id":337549,"reputation":1511,"user_id":665884,"accept_rate":88,"display_name":"Shashi Bhushan"},"score":0,"creation_date":1305629515,"post_id":6029012,"comment_id":6971925,"body_markdown":"Take the example of  swapping of  two numbers....as given by Stephen C....Is it possible in Java???","body":"Take the example of  swapping of  two numbers....as given by Stephen C....Is it possible in Java???"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1305629989,"post_id":6029012,"comment_id":6972028,"body_markdown":"see this previous answer of mine: http://stackoverflow.com/questions/3624525/how-to-write-a-basic-swap-function-in-java/3624554#3624554","body":"see this previous answer of mine: <a href=\"http://stackoverflow.com/questions/3624525/how-to-write-a-basic-swap-function-in-java/3624554#3624554\" title=\"how to write a basic swap function in java\">stackoverflow.com/questions/3624525/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1626589072,"post_id":6029012,"comment_id":120930047,"body_markdown":"I have attempted to resolve the ambiguity by making the question about BOTH classical pass-by-reference AND passing function pointers (which is *actually* passing references by value).","body":"I have attempted to resolve the ambiguity by making the question about BOTH classical pass-by-reference AND passing function pointers (which is <i>actually</i> passing references by value)."},{"owner":{"account_id":248321,"reputation":62658,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1695605091,"post_id":6029012,"comment_id":136042222,"body_markdown":"@StephenC Passing to a C++ function that has declared parameters of reference type is as &quot;classical pass-by-reference&quot; as it gets (one of *very few* ways to do it with languages in common use today; the only other example I can think of is `ref` and `out` parameters in C#, which can also impose restrictions on the caller). C++ reference &quot;types&quot; are weird in that one uses the normal variable-declaration syntax, and can even e.g. declare a struct member of a reference type, but it doesn&#39;t create &quot;objects&quot; in the storage-allocation sense.","body":"@StephenC Passing to a C++ function that has declared parameters of reference type is as &quot;classical pass-by-reference&quot; as it gets (one of <i>very few</i> ways to do it with languages in common use today; the only other example I can think of is <code>ref</code> and <code>out</code> parameters in C#, which can also impose restrictions on the caller). C++ reference &quot;types&quot; are weird in that one uses the normal variable-declaration syntax, and can even e.g. declare a struct member of a reference type, but it doesn&#39;t create &quot;objects&quot; in the storage-allocation sense."},{"owner":{"account_id":248321,"reputation":62658,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1695605392,"post_id":6029012,"comment_id":136042243,"body_markdown":"I don&#39;t think most people would understand &quot;call a function by reference&quot; to mean &quot;pass a function by reference as a higher-order function, and then call it&quot; - although English certainly *permits* that interpretation, it doesn&#39;t seem to me like a plausible interpretation of OP&#39;s original question per its exact original wording.","body":"I don&#39;t think most people would understand &quot;call a function by reference&quot; to mean &quot;pass a function by reference as a higher-order function, and then call it&quot; - although English certainly <i>permits</i> that interpretation, it doesn&#39;t seem to me like a plausible interpretation of OP&#39;s original question per its exact original wording."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695608058,"post_id":6029012,"comment_id":136042462,"body_markdown":"@KarlKnechtel - it really doesn&#39;t matter any more.  I have stated what I think the OP meant when he asked this 2 years ago.  And answered (2 years ago) on that basis.  The OP never bothered to clarify.  Feel free to ignore the part of my answer that you think addresses an incorrect interpretation of his question.","body":"@KarlKnechtel - it really doesn&#39;t matter any more.  I have stated what I think the OP meant when he asked this 2 years ago.  And answered (2 years ago) on that basis.  The OP never bothered to clarify.  Feel free to ignore the part of my answer that you think addresses an incorrect interpretation of his question."}],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1305625611,"post_id":6029042,"comment_id":6970937,"body_markdown":"I think you mean pass-by-reference. I think the OP is asking about call-a-method-using-a-reference-to-the-method. ;)","body":"I think you mean pass-by-reference. I think the OP is asking about call-a-method-using-a-reference-to-the-method. ;)"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1305626321,"post_id":6029042,"comment_id":6971141,"body_markdown":"+1 for a thorough answer that covers all possible meanings of the OP&#39;s question!","body":"+1 for a thorough answer that covers all possible meanings of the OP&#39;s question!"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":2,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1305626458,"creation_date":1305625475,"answer_id":6029042,"question_id":6029012,"body_markdown":"Real pass-by-reference is impossible in Java. Java passes everything by value, including references. But you can simulate it with container Objects. \r\n\r\nUse any of these as a method parameter:\r\n\r\n - an array\r\n - a Collection\r\n - an AtomicXYZ class\r\n\r\nAnd if you change its contents in a method, the changed contents will be available to the calling context.\r\n\r\n\r\n----------\r\n\r\n\r\nOops, you apparently mean calling a method by reference. This is also not possible in Java, as methods are no first-level citizens in Java. [This may change in JDK 8][1], but for the time being, you will have to use interfaces to work around this limitation.\r\n\r\n    public interface Foo{\r\n        void doSomeThing();\r\n    }\r\n    \r\n    public class SomeFoo implements Foo{\r\n        public void doSomeThing(){\r\n           System.out.println(&quot;foo&quot;);\r\n        }\r\n    }\r\n    \r\n    public class OtherFoo implements Foo{\r\n        public void doSomeThing(){\r\n           System.out.println(&quot;bar&quot;);\r\n        }\r\n    }\r\n\r\nUse `Foo` in your code, so you can easily substitute `SomeFoo` with `OtherFoo`.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-3.html &quot;but not to the extent a C++ programmer would expect!&quot;","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>Real pass-by-reference is impossible in Java. Java passes everything by value, including references. But you can simulate it with container Objects. </p>\n\n<p>Use any of these as a method parameter:</p>\n\n<ul>\n<li>an array</li>\n<li>a Collection</li>\n<li>an AtomicXYZ class</li>\n</ul>\n\n<p>And if you change its contents in a method, the changed contents will be available to the calling context.</p>\n\n<hr>\n\n<p>Oops, you apparently mean calling a method by reference. This is also not possible in Java, as methods are no first-level citizens in Java. <a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-3.html\" rel=\"noreferrer\" title=\"but not to the extent a C++ programmer would expect!\">This may change in JDK 8</a>, but for the time being, you will have to use interfaces to work around this limitation.</p>\n\n<pre><code>public interface Foo{\n    void doSomeThing();\n}\n\npublic class SomeFoo implements Foo{\n    public void doSomeThing(){\n       System.out.println(\"foo\");\n    }\n}\n\npublic class OtherFoo implements Foo{\n    public void doSomeThing(){\n       System.out.println(\"bar\");\n    }\n}\n</code></pre>\n\n<p>Use <code>Foo</code> in your code, so you can easily substitute <code>SomeFoo</code> with <code>OtherFoo</code>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305625556,"creation_date":1305625556,"answer_id":6029056,"question_id":6029012,"body_markdown":"The best way is to use an interface which performs the action.\r\n\r\n    // Pass a Runnable which calls the task() method\r\n    executor.submit(new Runnable() {\r\n        public void run() {\r\n            task();\r\n        }\r\n    });\r\n\r\n    public void task() { }\r\n     \r\n\r\n---\r\n\r\nYou can use reflections to call any method\r\n\r\n    Method method = MyClass.class.getMethod(&quot;methodToCall&quot;, ParameterType.class);\r\n    result = method.invoke(object, args);\r\n\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>The best way is to use an interface which performs the action.</p>\n\n<pre><code>// Pass a Runnable which calls the task() method\nexecutor.submit(new Runnable() {\n    public void run() {\n        task();\n    }\n});\n\npublic void task() { }\n</code></pre>\n\n<hr>\n\n<p>You can use reflections to call any method</p>\n\n<pre><code>Method method = MyClass.class.getMethod(\"methodToCall\", ParameterType.class);\nresult = method.invoke(object, args);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":344787,"reputation":1238,"user_id":677299,"display_name":"jbruni"},"score":0,"creation_date":1483634062,"post_id":6029060,"comment_id":70185709,"body_markdown":"The only reason you can modify `list`, is through `list`&#39;s methods. If the parameters were `int`s, interfaces don&#39;t help. The OP is referring to being able to modify the actual parameter through the formal parameter.","body":"The only reason you can modify <code>list</code>, is through <code>list</code>&#39;s methods. If the parameters were <code>int</code>s, interfaces don&#39;t help. The OP is referring to being able to modify the actual parameter through the formal parameter."}],"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1305626157,"creation_date":1305625577,"answer_id":6029060,"question_id":6029012,"body_markdown":"Usually in java this is solved by using interfaces:\r\n\r\n    Collections.sort(list, new Comparator() {\r\n    \r\n      @Override\r\n      public int compareTo(Object o1, Object o2) {\r\n      /// code\r\n      }\r\n    \r\n    });","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>Usually in java this is solved by using interfaces:</p>\n\n<pre><code>Collections.sort(list, new Comparator() {\n\n  @Override\n  public int compareTo(Object o1, Object o2) {\n  /// code\n  }\n\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1378918576,"post_id":6029132,"comment_id":27631380,"body_markdown":"Wrapping primitive type in an array does work. See code with package jgf:","body":"Wrapping primitive type in an array does work. See code with package jgf:"},{"owner":{"account_id":382390,"reputation":2430,"user_id":737585,"accept_rate":63,"display_name":"jAckOdE"},"score":2,"creation_date":1388162307,"post_id":6029132,"comment_id":31190603,"body_markdown":"A lot of ppl confuse between &quot;call by reference&quot; and &quot;object references are passed by value&quot;. In Java, it is always &quot;call by value&quot;.","body":"A lot of ppl confuse between &quot;call by reference&quot; and &quot;object references are passed by value&quot;. In Java, it is always &quot;call by value&quot;."}],"tags":[],"owner":{"account_id":106339,"reputation":1012,"user_id":283315,"accept_rate":40,"display_name":"Trung"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1305626051,"creation_date":1305626051,"answer_id":6029132,"question_id":6029012,"body_markdown":"In Java, except for primitives, passing Object to a method/function is always by reference.\r\nSee [Oli Charlesworth&#39;s answer](https://stackoverflow.com/questions/6029012/how-to-do-call-by-reference-in-java/6029052#6029052) for the example.\r\n\r\nFor primitive types, you can wrap it using array:\r\nFor example:\r\n\r\n    public void foo(int[] in){\r\n      in[0] = 2;\r\n    }\r\n    \r\n    int[] byRef = new int[1];\r\n    byRef[0] = 1;\r\n    foo(byRef);\r\n    // ==&gt; byRef[0] == 2.\r\n\r\n\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>In Java, except for primitives, passing Object to a method/function is always by reference.\nSee <a href=\"https://stackoverflow.com/questions/6029012/how-to-do-call-by-reference-in-java/6029052#6029052\">Oli Charlesworth's answer</a> for the example.</p>\n\n<p>For primitive types, you can wrap it using array:\nFor example:</p>\n\n<pre><code>public void foo(int[] in){\n  in[0] = 2;\n}\n\nint[] byRef = new int[1];\nbyRef[0] = 1;\nfoo(byRef);\n// ==&gt; byRef[0] == 2.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10517,"reputation":9630,"user_id":19911,"accept_rate":80,"display_name":"Sandman"},"score":2,"creation_date":1310474251,"post_id":6029275,"comment_id":7879037,"body_markdown":"Some might also find this blog post useful: http://javadude.com/articles/passbyvalue.htm","body":"Some might also find this blog post useful: <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"nofollow noreferrer\">javadude.com/articles/passbyvalue.htm</a>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1695609486,"creation_date":1305626858,"answer_id":6029275,"question_id":6029012,"body_markdown":"&gt; 1) How to do call by reference in Java?\r\n\r\nYou cannot do &quot;call by reference&quot; in Java.  Period.  Nothing even comes close.  And passing a reference by value in a function&lt;sup&gt;1&lt;/sup&gt; call is NOT the same as &quot;call by reference&quot;.  The correct term for that is &quot;call by value&quot;.\r\n\r\n(Real &quot;call by reference&quot; allows you to do this kind of thing:\r\n\r\n    void swap(ref int i, ref int j) { int tmp = *i; *i = *j; *j = tmp }\r\n    \r\n    int a = 1;\r\n    int b = 2;\r\n    swap(a, b);\r\n    print(&quot;a is %s, b is %s\\n&quot;, a, b);  // -&gt; &quot;a = 2, b = 1&quot;\r\n\r\nYou simply can&#39;t do that in Java.)\r\n\r\n--------\r\n\r\n&gt; 2) Since Java doesn&#39;t support pointers ...\r\n\r\nWhile this is technically true, it would not be an impediment to what you are trying to do.  \r\n\r\nJava **does** support *references*, which are like pointers in the most important respects.  The difference is that you can&#39;t treat references as memory addresses by doing arithmetic on them, converting them to and from integer types and so on.  \r\n\r\nFurthermore, you can&#39;t create a reference to a variable in Java. because that concept does not exist in Java or the JVM architecture.  This is what makes *real* &quot;call by reference&quot; impossible in Java.\r\n\r\n--------\r\n\r\n&gt; ... how is it possible to call a function by reference in Java like we do in C and C++??\r\n\r\nThis part of your question is ambiguous.  If you are asking (again) if you can do &quot;call by reference&quot; in Java, the answer is (again) &quot;It is not possible&quot;; see above.\r\n\r\nIf you are actually talking about calls that involve references to functions (or function pointers in C / C++ parlance) ...\r\n\r\n***Important note:** this is NOT &quot;call by reference&quot;.  It is calling *via* a reference to a function&lt;sup&gt;2&lt;/sup&gt;.  Once you have figured out what function is called, normal Java &quot;call by value&quot; semantics apply.  And the same goes for the case where you pass a function reference as an argument to another function call: the reference is passed by value.*\r\n\r\nPrior to Java 8, references to functions were not supported as values.  So you could not pass them as arguments, and you could not assign them to variables.   However, you *could* define a class with one instance method, and use an instance of the class instead of a function reference.  Other Answers give examples of this approach.\r\n\r\nFrom Java 8 onwards, method references are supported using `::` syntax.  There are 4 kinds of method reference:\r\n\r\n  - Reference to a static method: `ContainingClass::staticMethodName`\r\n  - Reference to an instance method of a particular object:  \t`containingObject::instanceMethodName`\r\n  - Reference to an instance method of an arbitrary object of a particular type: `ContainingType::methodName`\r\n  - Reference to a constructor: `ClassName::new`\r\n\r\nMethod and constructor references (and lambdas) are passed by value, just like everything else in Java.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - To simplify, I am using &quot;function&quot; as a shorthand for &quot;method&quot; or &quot;constructor&quot; or &quot;lambda&quot; in the Java context.&lt;br&gt;\r\n2 - From a pedagogical perspective, it is unfortunate that C and C++ use the `&amp;` symbol for both call-by-reference and for denoting function pointers.  However, from a language design perspective, I don&#39;t disagree with that design choice.&lt;/sup&gt;\r\n\r\n    ","title":"How to do &quot;call by reference&quot; in Java?","body":"<blockquote>\n<ol>\n<li>How to do call by reference in Java?</li>\n</ol>\n</blockquote>\n<p>You cannot do &quot;call by reference&quot; in Java.  Period.  Nothing even comes close.  And passing a reference by value in a function<sup>1</sup> call is NOT the same as &quot;call by reference&quot;.  The correct term for that is &quot;call by value&quot;.</p>\n<p>(Real &quot;call by reference&quot; allows you to do this kind of thing:</p>\n<pre><code>void swap(ref int i, ref int j) { int tmp = *i; *i = *j; *j = tmp }\n\nint a = 1;\nint b = 2;\nswap(a, b);\nprint(&quot;a is %s, b is %s\\n&quot;, a, b);  // -&gt; &quot;a = 2, b = 1&quot;\n</code></pre>\n<p>You simply can't do that in Java.)</p>\n<hr />\n<blockquote>\n<ol start=\"2\">\n<li>Since Java doesn't support pointers ...</li>\n</ol>\n</blockquote>\n<p>While this is technically true, it would not be an impediment to what you are trying to do.</p>\n<p>Java <strong>does</strong> support <em>references</em>, which are like pointers in the most important respects.  The difference is that you can't treat references as memory addresses by doing arithmetic on them, converting them to and from integer types and so on.</p>\n<p>Furthermore, you can't create a reference to a variable in Java. because that concept does not exist in Java or the JVM architecture.  This is what makes <em>real</em> &quot;call by reference&quot; impossible in Java.</p>\n<hr />\n<blockquote>\n<p>... how is it possible to call a function by reference in Java like we do in C and C++??</p>\n</blockquote>\n<p>This part of your question is ambiguous.  If you are asking (again) if you can do &quot;call by reference&quot; in Java, the answer is (again) &quot;It is not possible&quot;; see above.</p>\n<p>If you are actually talking about calls that involve references to functions (or function pointers in C / C++ parlance) ...</p>\n<p><em><strong>Important note:</strong> this is NOT &quot;call by reference&quot;.  It is calling <em>via</em> a reference to a function<sup>2</sup>.  Once you have figured out what function is called, normal Java &quot;call by value&quot; semantics apply.  And the same goes for the case where you pass a function reference as an argument to another function call: the reference is passed by value.</em></p>\n<p>Prior to Java 8, references to functions were not supported as values.  So you could not pass them as arguments, and you could not assign them to variables.   However, you <em>could</em> define a class with one instance method, and use an instance of the class instead of a function reference.  Other Answers give examples of this approach.</p>\n<p>From Java 8 onwards, method references are supported using <code>::</code> syntax.  There are 4 kinds of method reference:</p>\n<ul>\n<li>Reference to a static method: <code>ContainingClass::staticMethodName</code></li>\n<li>Reference to an instance method of a particular object:     <code>containingObject::instanceMethodName</code></li>\n<li>Reference to an instance method of an arbitrary object of a particular type: <code>ContainingType::methodName</code></li>\n<li>Reference to a constructor: <code>ClassName::new</code></li>\n</ul>\n<p>Method and constructor references (and lambdas) are passed by value, just like everything else in Java.</p>\n<hr />\n<p><sup>1 - To simplify, I am using &quot;function&quot; as a shorthand for &quot;method&quot; or &quot;constructor&quot; or &quot;lambda&quot; in the Java context.<br>\n2 - From a pedagogical perspective, it is unfortunate that C and C++ use the <code>&amp;</code> symbol for both call-by-reference and for denoting function pointers.  However, from a language design perspective, I don't disagree with that design choice.</sup></p>\n"},{"comments":[{"owner":{"account_id":85265,"reputation":39803,"user_id":237838,"accept_rate":86,"display_name":"Andrew Barber"},"score":2,"creation_date":1347284746,"post_id":12352889,"comment_id":16587252,"body_markdown":"While true, it&#39;s important to note one very important thing: The *value* being passed is *the object&#39;s reference*.","body":"While true, it&#39;s important to note one very important thing: The <i>value</i> being passed is <i>the object&#39;s reference</i>."}],"tags":[],"owner":{"account_id":1768130,"reputation":13,"user_id":1613488,"display_name":"Swetha D Murthy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347284139,"creation_date":1347284139,"answer_id":12352889,"question_id":6029012,"body_markdown":"\r\nhttp://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html\r\n\r\nJava does manipulate objects by reference, and all object variables are references. However, Java doesn&#39;t pass method arguments by reference; it passes them by value.\r\n\r\n\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<p><a href=\"http://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html\" rel=\"nofollow\">http://www.javaworld.com/javaqa/2000-05/03-qa-0526-pass.html</a></p>\n\n<p>Java does manipulate objects by reference, and all object variables are references. However, Java doesn't pass method arguments by reference; it passes them by value.</p>\n"},{"tags":[],"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430057612,"creation_date":1378918664,"answer_id":18747086,"question_id":6029012,"body_markdown":"    package jgf;\r\n    \r\n    public class TestJavaParams {\r\n    \r\n     public static void main(String[] args) {\r\n    \tint[] counter1 = new int[1];\r\n    \tcounter1[0] = 0;\r\n    \tSystem.out.println(counter1[0]);\r\n    \tdoAdd1(counter1);\r\n    \tSystem.out.println(counter1[0]);\r\n    \tint counter2 = 0;\r\n    \tSystem.out.println(counter2);\r\n    \tdoAdd2(counter2);\r\n    \tSystem.out.println(counter2);\t\r\n      }\r\n    \r\n      public static void doAdd1(int[] counter1) {\r\n    \tcounter1[0] += 1;\r\n      }\r\n    \r\n      public static void doAdd2(int counter2) {\r\n    \tcounter2 += 1;\r\n      }\r\n    }\r\nOutput would be:\r\n\r\n    0\r\n    1\r\n    0\r\n    0\r\n\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<pre><code>package jgf;\n\npublic class TestJavaParams {\n\n public static void main(String[] args) {\n    int[] counter1 = new int[1];\n    counter1[0] = 0;\n    System.out.println(counter1[0]);\n    doAdd1(counter1);\n    System.out.println(counter1[0]);\n    int counter2 = 0;\n    System.out.println(counter2);\n    doAdd2(counter2);\n    System.out.println(counter2);   \n  }\n\n  public static void doAdd1(int[] counter1) {\n    counter1[0] += 1;\n  }\n\n  public static void doAdd2(int counter2) {\n    counter2 += 1;\n  }\n}\n</code></pre>\n\n<p>Output would be:</p>\n\n<pre><code>0\n1\n0\n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3987185,"reputation":11,"user_id":3449128,"display_name":"user3449128"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395475171,"creation_date":1395475171,"answer_id":22575051,"question_id":6029012,"body_markdown":"Java allows only call by value. However, references to objects can be transferred to the called function using call by value. These references if used to manipulate the data of the object in the called function, this change will be visible in the calling function also. We can not do pointer arithmetic on the references as we do with pointers but references can point to the data of the object using period operator which functions as &#39;*&#39; operator in C/C++. ","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>Java allows only call by value. However, references to objects can be transferred to the called function using call by value. These references if used to manipulate the data of the object in the called function, this change will be visible in the calling function also. We can not do pointer arithmetic on the references as we do with pointers but references can point to the data of the object using period operator which functions as '*' operator in C/C++. </p>\n"},{"comments":[{"owner":{"account_id":2063263,"reputation":65,"user_id":1839363,"display_name":"Dave Black"},"score":0,"creation_date":1408534525,"post_id":25403533,"comment_id":39623394,"body_markdown":"I now own about 5 books on Java.  Put bluntly, most of the authors SUCK at writing books and their mastery of the Java language is questionable at best.","body":"I now own about 5 books on Java.  Put bluntly, most of the authors SUCK at writing books and their mastery of the Java language is questionable at best."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1626587662,"post_id":25403533,"comment_id":120929839,"body_markdown":"The author who wrote that quoted text does not understand what &quot;call by reference&quot; really means.  Call by reference means passing a reference **to a variable**.  Saying that passing a reference to a variable and a reference to an object are &quot;effectively the same thing&quot; is like saying that cars and bicycles are effectively the same thing.","body":"The author who wrote that quoted text does not understand what &quot;call by reference&quot; really means.  Call by reference means passing a reference <b>to a variable</b>.  Saying that passing a reference to a variable and a reference to an object are &quot;effectively the same thing&quot; is like saying that cars and bicycles are effectively the same thing."}],"tags":[],"owner":{"account_id":2063263,"reputation":65,"user_id":1839363,"display_name":"Dave Black"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408534107,"creation_date":1408534107,"answer_id":25403533,"question_id":6029012,"body_markdown":"From Java The Complete Reference by Herbert Shildt 9th edition: &quot;When you pass an object to a method, the situation  changes dramatically, because objects are passed by what is effectively call-by-reference.  Keep in mind that when you create a variable of a class type, you are only creating a reference to an object.  Thus, when you pass this reference to a method, the parameter that receives it will refer to the same object as that referred to by theargument.  This effectively means that objects act as if they are passed to methods by use of call-by-referen ce.  Changes to the object inside the method do affect the object used as an argument.&quot;\r\n\r\n    package objectpassing;\r\n    \r\n    public class PassObjectTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tObj1 o1 = new Obj1(9);\r\n    \t\tSystem.out.println(o1.getA());\r\n    \t\to1.setA(3);\r\n    \t\tSystem.out.println(o1.getA());\r\n    \t\tSystem.out.println(sendObj1(o1).getA());\r\n    \t\tSystem.out.println(o1.getA());\r\n    \t}\r\n    \t\r\n    public static Obj1 sendObj1(Obj1 o)\r\n    {\r\n    \to.setA(2);\r\n    \treturn o;\r\n    }\r\n    \r\n    \r\n    }\r\n    \r\n    class Obj1\r\n    {\r\n    \tprivate int a;\r\n    \t\r\n    \tObj1(int num)\r\n    \t{\r\n    \t\ta=num;\r\n    \t}\r\n    \t\r\n    \tvoid setA(int setnum)\r\n    \t{\r\n    \t\ta=setnum;\r\n    \t}\r\n    \t\r\n    \tint getA()\r\n    \t{\r\n    \t\treturn a;\r\n    \t}\r\n    }\r\n\r\nOP: \r\n9\r\n3\r\n2\r\n2\r\n\r\nFInal call to getA() shows original object field &#39;a&#39; was changed in the call to method public static Obj1 sendObj1(Obj1 o). ","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>From Java The Complete Reference by Herbert Shildt 9th edition: \"When you pass an object to a method, the situation  changes dramatically, because objects are passed by what is effectively call-by-reference.  Keep in mind that when you create a variable of a class type, you are only creating a reference to an object.  Thus, when you pass this reference to a method, the parameter that receives it will refer to the same object as that referred to by theargument.  This effectively means that objects act as if they are passed to methods by use of call-by-referen ce.  Changes to the object inside the method do affect the object used as an argument.\"</p>\n\n<pre><code>package objectpassing;\n\npublic class PassObjectTest {\n\n    public static void main(String[] args) {\n        Obj1 o1 = new Obj1(9);\n        System.out.println(o1.getA());\n        o1.setA(3);\n        System.out.println(o1.getA());\n        System.out.println(sendObj1(o1).getA());\n        System.out.println(o1.getA());\n    }\n\npublic static Obj1 sendObj1(Obj1 o)\n{\n    o.setA(2);\n    return o;\n}\n\n\n}\n\nclass Obj1\n{\n    private int a;\n\n    Obj1(int num)\n    {\n        a=num;\n    }\n\n    void setA(int setnum)\n    {\n        a=setnum;\n    }\n\n    int getA()\n    {\n        return a;\n    }\n}\n</code></pre>\n\n<p>OP: \n9\n3\n2\n2</p>\n\n<p>FInal call to getA() shows original object field 'a' was changed in the call to method public static Obj1 sendObj1(Obj1 o). </p>\n"},{"comments":[{"owner":{"account_id":248321,"reputation":62658,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1695605481,"post_id":41178192,"comment_id":136042253,"body_markdown":"This is barely comprehensible, and doesn&#39;t seem to add any information on top of previously existing answer. I *think it was intended* as an attempt to *explain why* the &quot;container object&quot; trick works, but it doesn&#39;t really have explanatory value.","body":"This is barely comprehensible, and doesn&#39;t seem to add any information on top of previously existing answer. I <i>think it was intended</i> as an attempt to <i>explain why</i> the &quot;container object&quot; trick works, but it doesn&#39;t really have explanatory value."}],"tags":[],"owner":{"account_id":9862974,"reputation":400,"user_id":7305307,"display_name":"Yash Bansal"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1481868318,"creation_date":1481868318,"answer_id":41178192,"question_id":6029012,"body_markdown":"JAVA does allow internal reference using objects.\r\nWhen one write this assignment\r\nObj o1 = new Obj();\r\nObj o2=o1;\r\nWhat does it do, that both o1 and o2 points to the same address.\r\nManipulating any object&#39;s space, will reflect in the other&#39;s also.\r\n\r\nSo to do this, as mentioned above you can either use Array, Collections","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>JAVA does allow internal reference using objects.\nWhen one write this assignment\nObj o1 = new Obj();\nObj o2=o1;\nWhat does it do, that both o1 and o2 points to the same address.\nManipulating any object's space, will reflect in the other's also.</p>\n\n<p>So to do this, as mentioned above you can either use Array, Collections</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1626587233,"post_id":59049711,"comment_id":120929781,"body_markdown":"This is not what call by reference means; se https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference.  Call by reference means passing a reference to an arbitrary variable.   What you are doing is passing a reference to an object.","body":"This is not what call by reference means; se <a href=\"https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference</a>.  Call by reference means passing a reference to an arbitrary variable.   What you are doing is passing a reference to an object."}],"tags":[],"owner":{"account_id":14717860,"reputation":1,"user_id":10629339,"display_name":"Vignesh kanna"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574766966,"creation_date":1574766966,"answer_id":59049711,"question_id":6029012,"body_markdown":"Yes, you can implement Call by Reference in another way by &quot;**Pass by Reference**&quot;.\r\n\r\n - You should pass the reference object of a class created.\r\n - Then you can manipulate the object&#39;s data by member function (.), which will be reflected in original data.\r\n\r\nIn below code the original data --&gt; x is manipulated by passing the reference object.\r\n\r\n    public class Method_Call {\r\n\tstatic int x=50;\r\n\tpublic void change(Method_Call obj) {\r\n\t\tobj.x = 100;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tMethod_Call obj = new Method_Call();\r\n\t\tSystem.out.println(x);\r\n\t\tobj.change(obj);\r\n\t\tSystem.out.println(x);\r\n\r\n\t}\r\n\r\n}\r\n\r\nOutput:\r\n50\r\n100\r\n","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>Yes, you can implement Call by Reference in another way by \"<strong>Pass by Reference</strong>\".</p>\n\n<ul>\n<li>You should pass the reference object of a class created.</li>\n<li>Then you can manipulate the object's data by member function (.), which will be reflected in original data.</li>\n</ul>\n\n<p>In below code the original data --> x is manipulated by passing the reference object.</p>\n\n<pre><code>public class Method_Call {\nstatic int x=50;\npublic void change(Method_Call obj) {\n    obj.x = 100;\n}\n\npublic static void main(String[] args) {\n\n    Method_Call obj = new Method_Call();\n    System.out.println(x);\n    obj.change(obj);\n    System.out.println(x);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Output:\n50\n100</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695605012,"post_id":62471076,"comment_id":136042217,"body_markdown":"D&#233;j&#224; Vu ... I have seen the first sentence [somewhere](https://stackoverflow.com/a/6029275/85421) else...  :-|","body":"D&#233;j&#224; Vu ... I have seen the first sentence <a href=\"https://stackoverflow.com/a/6029275/85421\">somewhere</a> else...  :-|"}],"tags":[],"owner":{"account_id":18883799,"reputation":1,"user_id":13775677,"display_name":"Gaurav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592578225,"creation_date":1592572345,"answer_id":62471076,"question_id":6029012,"body_markdown":"You cannot do call by reference in Java. Period. Nothing even comes close. And passing a reference by value is NOT the same as call by reference.\r\n\r\nI used an array to do this...&lt;br&gt;\r\n\r\n```java\r\n    package method;\r\n    \r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class InterChange {\r\n\r\n\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner sc=new Scanner(System.in);\r\n\r\n\t\tint a[]=new int[2];\r\n\r\n     \tSystem.out.println(&quot;Enter two values&quot;);\r\n\r\n\t\tfor(int i=0;i&lt;2;i++) {\r\n\r\n\t\t\ta[i]=sc.nextInt();\r\n\t\t}\r\n\r\n\r\n\r\n\t\t\r\n\t\thange(a);\r\n\r\n\t\tfor(int i=0;i&lt;2;i++) {\r\n\r\n\t\t\tSystem.out.println(a[i]);\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\r\n\r\n\r\n\t\r\n\t static int hange(int b[])\r\n\t{\r\n\t\tint temp;\r\n\r\n\t\ttemp=b[0];\r\n\t\tb[0]=b[1];\r\n\t\tb[1]=temp;\r\n\t\treturn b[0]&amp;b[1];\r\n\t\t\r\n\t}\r\n\r\n\t}\r\n```","title":"How to do &quot;call by reference&quot; in Java?","body":"<p>You cannot do call by reference in Java. Period. Nothing even comes close. And passing a reference by value is NOT the same as call by reference.</p>\n\n<p>I used an array to do this...<br></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    package method;\n\n\n    import java.util.Scanner;\n\n    public class InterChange {\n\n\n\n        public static void main(String[] args) {\n\n        Scanner sc=new Scanner(System.in);\n\n        int a[]=new int[2];\n\n        System.out.println(\"Enter two values\");\n\n        for(int i=0;i&lt;2;i++) {\n\n            a[i]=sc.nextInt();\n        }\n\n\n\n\n        hange(a);\n\n        for(int i=0;i&lt;2;i++) {\n\n            System.out.println(a[i]);\n        }\n\n\n    }\n\n\n\n\n     static int hange(int b[])\n    {\n        int temp;\n\n        temp=b[0];\n        b[0]=b[1];\n        b[1]=temp;\n        return b[0]&amp;b[1];\n\n    }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":337549,"reputation":1511,"user_id":665884,"accept_rate":88,"display_name":"Shashi Bhushan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102351,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":6029042,"answer_count":12,"score":35,"last_activity_date":1695609486,"creation_date":1305625358,"question_id":6029012,"body_markdown":"1.  How to do &quot;call by reference&quot; in Java?  (Assume that we are using that term in the same way that it has been used in peer-reviewed CS literature since the 1960&#39;s; see [this Wikipedia page][1] for a simple explanation.)\r\n\r\n2.  Since Java doesn&#39;t support pointers, how is it possible to call a function by reference in Java like we do in C and C++??\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference","title":"How to do &quot;call by reference&quot; in Java?","body":"<ol>\n<li><p>How to do &quot;call by reference&quot; in Java?  (Assume that we are using that term in the same way that it has been used in peer-reviewed CS literature since the 1960's; see <a href=\"https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference\" rel=\"noreferrer\">this Wikipedia page</a> for a simple explanation.)</p>\n</li>\n<li><p>Since Java doesn't support pointers, how is it possible to call a function by reference in Java like we do in C and C++??</p>\n</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":0,"creation_date":1420603601,"post_id":27812213,"comment_id":44032046,"body_markdown":"You might try removing all the code except for the `Tie` method and add a comment at the top saying something like `/** Board[][] char filled array with either &#39;X&#39;, &#39;O&#39; or &#39;-&#39;. returns true if the game is a tie, false if its not */`","body":"You might try removing all the code except for the <code>Tie</code> method and add a comment at the top saying something like <code>&#47;** Board[][] char filled array with either &#39;X&#39;, &#39;O&#39; or &#39;-&#39;. returns true if the game is a tie, false if its not *&#47;</code>"},{"owner":{"account_id":5504491,"reputation":88,"user_id":4372747,"accept_rate":38,"display_name":"Alex Montague"},"score":0,"creation_date":1420603739,"post_id":27812213,"comment_id":44032072,"body_markdown":"Uhh, that&#39;s just commenting and will not really help me that much, but thanks!","body":"Uhh, that&#39;s just commenting and will not really help me that much, but thanks!"},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":1,"creation_date":1420603864,"post_id":27812213,"comment_id":44032095,"body_markdown":"yes, that is why its a comment and not an answer. It would help others who would like to awnser your question to see the problem more easily therefore you will be much more likely to get help.","body":"yes, that is why its a comment and not an answer. It would help others who would like to awnser your question to see the problem more easily therefore you will be much more likely to get help."},{"owner":{"account_id":5340307,"reputation":1973,"user_id":4257674,"display_name":"frasnian"},"score":1,"creation_date":1420604408,"post_id":27812213,"comment_id":44032185,"body_markdown":"OP: @ug_&#39;s comment is actually quite helpful, it you listen to what he/she is saying.  Your only question appears to be this: &quot;just need to know how to determine a tie&quot;.  So, if all of your (other) &quot;code [is] working great,&quot; the real question you have is much more limited in scope.  More people would be willing to help with your current *specific* issue if they don&#39;t have to wade through a bunch of essentially extraneous/irrelevant code.  Asking better questions leads to better answers.  In this particular case a more specific question is probably better.","body":"OP: @ug_&#39;s comment is actually quite helpful, it you listen to what he/she is saying.  Your only question appears to be this: &quot;just need to know how to determine a tie&quot;.  So, if all of your (other) &quot;code [is] working great,&quot; the real question you have is much more limited in scope.  More people would be willing to help with your current <i>specific</i> issue if they don&#39;t have to wade through a bunch of essentially extraneous/irrelevant code.  Asking better questions leads to better answers.  In this particular case a more specific question is probably better."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1420604661,"post_id":27812213,"comment_id":44032235,"body_markdown":"each character has an unique integer equivalent. So every time a player wins, the row or column contains X X X or O O O. if you add these, a unique number is obtained. So you can check if all the boxes are filled and if non of the row and column give that unique value(X+X+X or O+O+O) then you know that the game is tied.","body":"each character has an unique integer equivalent. So every time a player wins, the row or column contains X X X or O O O. if you add these, a unique number is obtained. So you can check if all the boxes are filled and if non of the row and column give that unique value(X+X+X or O+O+O) then you know that the game is tied."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1420605745,"post_id":27812213,"comment_id":44032474,"body_markdown":"This test: `Board [row] [column] == &#39;X&#39; &amp;&amp; Board [row] [column] == &#39;O&#39;` makes no sense, because it can never be true.  You&#39;re testing whether the same square on the board is both `X` and `O`, and of course it can&#39;t be both.","body":"This test: <code>Board [row] [column] == &#39;X&#39; &amp;&amp; Board [row] [column] == &#39;O&#39;</code> makes no sense, because it can never be true.  You&#39;re testing whether the same square on the board is both <code>X</code> and <code>O</code>, and of course it can&#39;t be both."},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1420605910,"post_id":27812213,"comment_id":44032514,"body_markdown":"@ajb absolutely agree with you. Even I was confused what is happening.","body":"@ajb absolutely agree with you. Even I was confused what is happening."},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1420606036,"post_id":27812213,"comment_id":44032547,"body_markdown":"This also looks similar `http://stackoverflow.com/questions/4198955/how-to-find-the-winner-of-a-tic-tac-toe-game-of-any-size`","body":"This also looks similar <code>http:&#47;&#47;stackoverflow.com&#47;questions&#47;4198955&#47;how-to-find-the-w&zwnj;&#8203;inner-of-a-tic-tac-t&zwnj;&#8203;oe-game-of-any-size</code>"}],"answers":[{"comments":[{"owner":{"account_id":5340307,"reputation":1973,"user_id":4257674,"display_name":"frasnian"},"score":0,"creation_date":1420607288,"post_id":27812457,"comment_id":44032872,"body_markdown":"anytime, hope it helped.","body":"anytime, hope it helped."}],"tags":[],"owner":{"account_id":5340307,"reputation":1973,"user_id":4257674,"display_name":"frasnian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1420605787,"creation_date":1420605359,"answer_id":27812457,"question_id":27812213,"body_markdown":"Check for a win before checking for a tie.  Then, all you really need is a simple &quot;BoardFull&quot; method - by definition a full board without a win is a draw.  Assume that you have a sentinel character (let&#39;s say `&#39;.&#39;`) to mark spaces that have not had an &#39;X&#39; or &#39;O&#39; move yet:\r\n\r\n    public static bool BoardFull(char [] [] Board)\r\n    {\r\n        for (int row = 0; row &lt; 3; ++row) \r\n        {\r\n            for (int column = 0; column &lt; 3; ++column) \r\n            {\r\n                if (Board [row] [column] == &#39;.&#39;)\r\n                {\r\n                    // a move still exists - board is not full\r\n                    return false;\r\n                }\r\n            }  \r\n        }\r\n        return true;\r\n     }\r\n\r\nThen, it&#39;s basically (pseudo-code follows):\r\n\r\n    if (!HaveWin(board))\r\n    {\r\n        if (BoardFull(board))\r\n        {\r\n            System.out.println (&quot;It is a tie. Cats game!&quot;) ;\r\n            GameOver = true ;    \r\n        }\r\n    }\r\n\r\n","title":"Java - Determining a tie in tic tac toe?","body":"<p>Check for a win before checking for a tie.  Then, all you really need is a simple \"BoardFull\" method - by definition a full board without a win is a draw.  Assume that you have a sentinel character (let's say <code>'.'</code>) to mark spaces that have not had an 'X' or 'O' move yet:</p>\n\n<pre><code>public static bool BoardFull(char [] [] Board)\n{\n    for (int row = 0; row &lt; 3; ++row) \n    {\n        for (int column = 0; column &lt; 3; ++column) \n        {\n            if (Board [row] [column] == '.')\n            {\n                // a move still exists - board is not full\n                return false;\n            }\n        }  \n    }\n    return true;\n }\n</code></pre>\n\n<p>Then, it's basically (pseudo-code follows):</p>\n\n<pre><code>if (!HaveWin(board))\n{\n    if (BoardFull(board))\n    {\n        System.out.println (\"It is a tie. Cats game!\") ;\n        GameOver = true ;    \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1420605863,"post_id":27812491,"comment_id":44032501,"body_markdown":"I don&#39;t know about `xScore == oScore`.  If they&#39;re both 0, it&#39;s a tie.  If they&#39;re both equal and are not 0, something must have really gotten screwed up earlier, because it means that one player won but the program made them keep playing.","body":"I don&#39;t know about <code>xScore == oScore</code>.  If they&#39;re both 0, it&#39;s a tie.  If they&#39;re both equal and are not 0, something must have really gotten screwed up earlier, because it means that one player won but the program made them keep playing."},{"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"score":0,"creation_date":1420606017,"post_id":27812491,"comment_id":44032542,"body_markdown":"@ajb Good catch. It should be `xScore == 0 &amp;&amp; oScore == 0`","body":"@ajb Good catch. It should be <code>xScore == 0 &amp;&amp; oScore == 0</code>"}],"tags":[],"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420606422,"creation_date":1420605639,"answer_id":27812491,"question_id":27812213,"body_markdown":"Check all the possible rows/columns/diagonals a player can score and keep track of the X and O score. Then compare the two to determine a tie.\r\n\r\n    public static void Tie (char [] [] Board)\r\n    {\r\n        //do a check to make sure the Board is 3x3\r\n        //if not, return/throw an error\r\n    \r\n        //keep track of score\r\n        int xScore = 0;\r\n        int oScore = 0;\r\n    \r\n        //horizontal and vertical checks\r\n        for(int i = 0; i &lt; Board.length; i++){\r\n            if(Board[i][0] == &#39;X&#39; &amp;&amp;   Board[i][1] == &#39;X&#39; &amp;&amp; Board[i][2] == &#39;X&#39;){\r\n                xScore++;\r\n            }\r\n    \r\n            if(Board[0][i] == &#39;X&#39; &amp;&amp;   Board[1][i] == &#39;X&#39; &amp;&amp; Board[2][i] == &#39;X&#39;){\r\n                xScore++;\r\n            }\r\n    \r\n            if(Board[i][0] == &#39;O&#39; &amp;&amp;   Board[i][1] == &#39;O&#39; &amp;&amp; Board[i][2] == &#39;O&#39;){\r\n                oScore++;\r\n            }\r\n    \r\n            if(Board[0][i] == &#39;O&#39; &amp;&amp;   Board[1][i] == &#39;O&#39; &amp;&amp; Board[2][i] == &#39;O&#39;){\r\n                oScore++;\r\n            }\r\n        }\r\n      \r\n        //diagonal checks\r\n        if(Board[0][0] == &#39;X&#39; &amp;&amp;   Board[1][1] == &#39;X&#39; &amp;&amp; Board[2][2] == &#39;X&#39;){\r\n            xScore++;\r\n        }\r\n        if(Board[0][2] == &#39;X&#39; &amp;&amp;   Board[1][1] == &#39;X&#39; &amp;&amp; Board[2][0] == &#39;X&#39;){\r\n            xScore++;\r\n        }\r\n        if(Board[0][0] == &#39;O&#39; &amp;&amp;   Board[1][1] == &#39;O&#39; &amp;&amp; Board[2][2] == &#39;O&#39;){\r\n            oScore++;\r\n        }\r\n        if(Board[0][2] == &#39;O&#39; &amp;&amp;   Board[1][1] == &#39;O&#39; &amp;&amp; Board[2][0] == &#39;O&#39;){\r\n            oScore++;\r\n        }\r\n\r\n        if(xScore == 0 &amp;&amp; oScore == 0){\r\n            System.out.println (&quot;It is a tie. Cats game!&quot;) ;\r\n            GameOver = true ;\r\n        }else{\r\n            //do other stuff\r\n        }\r\n    }\r\n\r\n**NOTE**: I haven&#39;t actually tested this pseudo code out, but you should get the idea","title":"Java - Determining a tie in tic tac toe?","body":"<p>Check all the possible rows/columns/diagonals a player can score and keep track of the X and O score. Then compare the two to determine a tie.</p>\n\n<pre><code>public static void Tie (char [] [] Board)\n{\n    //do a check to make sure the Board is 3x3\n    //if not, return/throw an error\n\n    //keep track of score\n    int xScore = 0;\n    int oScore = 0;\n\n    //horizontal and vertical checks\n    for(int i = 0; i &lt; Board.length; i++){\n        if(Board[i][0] == 'X' &amp;&amp;   Board[i][1] == 'X' &amp;&amp; Board[i][2] == 'X'){\n            xScore++;\n        }\n\n        if(Board[0][i] == 'X' &amp;&amp;   Board[1][i] == 'X' &amp;&amp; Board[2][i] == 'X'){\n            xScore++;\n        }\n\n        if(Board[i][0] == 'O' &amp;&amp;   Board[i][1] == 'O' &amp;&amp; Board[i][2] == 'O'){\n            oScore++;\n        }\n\n        if(Board[0][i] == 'O' &amp;&amp;   Board[1][i] == 'O' &amp;&amp; Board[2][i] == 'O'){\n            oScore++;\n        }\n    }\n\n    //diagonal checks\n    if(Board[0][0] == 'X' &amp;&amp;   Board[1][1] == 'X' &amp;&amp; Board[2][2] == 'X'){\n        xScore++;\n    }\n    if(Board[0][2] == 'X' &amp;&amp;   Board[1][1] == 'X' &amp;&amp; Board[2][0] == 'X'){\n        xScore++;\n    }\n    if(Board[0][0] == 'O' &amp;&amp;   Board[1][1] == 'O' &amp;&amp; Board[2][2] == 'O'){\n        oScore++;\n    }\n    if(Board[0][2] == 'O' &amp;&amp;   Board[1][1] == 'O' &amp;&amp; Board[2][0] == 'O'){\n        oScore++;\n    }\n\n    if(xScore == 0 &amp;&amp; oScore == 0){\n        System.out.println (\"It is a tie. Cats game!\") ;\n        GameOver = true ;\n    }else{\n        //do other stuff\n    }\n}\n</code></pre>\n\n<p><strong>NOTE</strong>: I haven't actually tested this pseudo code out, but you should get the idea</p>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420606247,"creation_date":1420606247,"answer_id":27812579,"question_id":27812213,"body_markdown":"To do the best at avoiding duplicated code, I&#39;d define a method like this:\r\n\r\n    boolean checkLine(char[][] board, int startRow, int startCol, int rowDiff, int colDiff) {\r\n        ...\r\n    }\r\n\r\nwhich checks to see if `board[startRow][startCol]`, `board[startRow+rowDiff][startCol+colDiff]`, and `board[startRow+2*rowDiff][startCol+2*colDiff]` are all the same (and are either `X` or `O`).  You should be able to see that all 8 lines (3 rows, 3 columns, 2 diagonals) can be tested using the right values for the parameters (possibly negative).  Then call this method up to 8 times; if any of them return `true`, the game is a win for one player; if none of them return `true`, and there are no empty spaces on the board, the game is a tie.  (An improvement might be to make the result type `char` instead of `boolean`, and have the method return `X` or `O` if the three cells are all the same, or something else if they&#39;re not.  That way, the method would tell you who won if a player won.)","title":"Java - Determining a tie in tic tac toe?","body":"<p>To do the best at avoiding duplicated code, I'd define a method like this:</p>\n\n<pre><code>boolean checkLine(char[][] board, int startRow, int startCol, int rowDiff, int colDiff) {\n    ...\n}\n</code></pre>\n\n<p>which checks to see if <code>board[startRow][startCol]</code>, <code>board[startRow+rowDiff][startCol+colDiff]</code>, and <code>board[startRow+2*rowDiff][startCol+2*colDiff]</code> are all the same (and are either <code>X</code> or <code>O</code>).  You should be able to see that all 8 lines (3 rows, 3 columns, 2 diagonals) can be tested using the right values for the parameters (possibly negative).  Then call this method up to 8 times; if any of them return <code>true</code>, the game is a win for one player; if none of them return <code>true</code>, and there are no empty spaces on the board, the game is a tie.  (An improvement might be to make the result type <code>char</code> instead of <code>boolean</code>, and have the method return <code>X</code> or <code>O</code> if the three cells are all the same, or something else if they're not.  That way, the method would tell you who won if a player won.)</p>\n"},{"comments":[{"owner":{"account_id":5340307,"reputation":1973,"user_id":4257674,"display_name":"frasnian"},"score":0,"creation_date":1420607539,"post_id":27812688,"comment_id":44032927,"body_markdown":"Tic Tac Toe is the new Towers of Hanoi.","body":"Tic Tac Toe is the new Towers of Hanoi."}],"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420606891,"creation_date":1420606891,"answer_id":27812688,"question_id":27812213,"body_markdown":"The following link may help. This algorithm is about tic-tac-toe game played between computer and human. And for tie it makes use of similar algorithm as suggested by @frasnian.\r\n\r\n\r\nhttp://www.cs.colostate.edu/~cs160/.Fall14/examples/TicTacToe.html\r\n\r\n    ` // Game status\r\n        private eStatus status() {\r\n    \r\n            // Check tie\r\n            boolean tieGame = true;\r\n            for (int row = 0; row &lt;= 2; ++row)\r\n                for (int col = 0; col &lt;= 2; ++col)\r\n                        if (board[row][col] == &#39;-&#39;)\r\n                            tieGame = false;\r\n            // Tie game\r\n            if (tieGame)\r\n                return eStatus.TIE_GAME;\r\n            \r\n            // Player wins\r\n            else if (runOfThree(&#39;O&#39;))\r\n                return eStatus.PLAYER_WINS;\r\n    \r\n            // Computer wins\r\n            else if (runOfThree(&#39;X&#39;))\r\n                return eStatus.COMPUTER_WINS;\r\n    \r\n            return eStatus.IN_PROGRESS;\r\n        }`","title":"Java - Determining a tie in tic tac toe?","body":"<p>The following link may help. This algorithm is about tic-tac-toe game played between computer and human. And for tie it makes use of similar algorithm as suggested by @frasnian.</p>\n\n<p><a href=\"http://www.cs.colostate.edu/~cs160/.Fall14/examples/TicTacToe.html\" rel=\"nofollow\">http://www.cs.colostate.edu/~cs160/.Fall14/examples/TicTacToe.html</a></p>\n\n<pre><code>` // Game status\n    private eStatus status() {\n\n        // Check tie\n        boolean tieGame = true;\n        for (int row = 0; row &lt;= 2; ++row)\n            for (int col = 0; col &lt;= 2; ++col)\n                    if (board[row][col] == '-')\n                        tieGame = false;\n        // Tie game\n        if (tieGame)\n            return eStatus.TIE_GAME;\n\n        // Player wins\n        else if (runOfThree('O'))\n            return eStatus.PLAYER_WINS;\n\n        // Computer wins\n        else if (runOfThree('X'))\n            return eStatus.COMPUTER_WINS;\n\n        return eStatus.IN_PROGRESS;\n    }`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19074270,"reputation":1,"user_id":13927849,"display_name":"Oblivion"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594717185,"creation_date":1594717185,"answer_id":62891539,"question_id":27812213,"body_markdown":"I have finally found the solution! :O \r\nHere it is, for both win/tie. Do note though that this is just coming from an amateur coder. Hope it helps though. :) \r\n\r\n\tstatic int winOrTie() {\r\n\t\t//TODO Determine whether X or O won or there is a tie\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[0][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[1][0] + gameboard[1][1] + gameboard[1][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[2][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\t\r\n\t\tif (gameboard[0][0] + gameboard[1][0] + gameboard[2][0] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[0][1] + gameboard[1][1] + gameboard[2][1] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[0][2] + gameboard[1][2] + gameboard[2][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[0][0] + gameboard[1][1] + gameboard[2][2] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\tif (gameboard[0][2] + gameboard[1][1] + gameboard[2][0] == 3*NOUGHT)\r\n\t\t\t{return NOUGHT;}\r\n\t\t\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[0][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[1][0] + gameboard[1][1] + gameboard[1][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[2][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\t\r\n\t\tif (gameboard[0][0] + gameboard[1][0] + gameboard[2][0] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[0][1] + gameboard[1][1] + gameboard[2][1] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[0][2] + gameboard[1][2] + gameboard[2][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[0][0] + gameboard[1][1] + gameboard[2][2] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\tif (gameboard[0][2] + gameboard[1][1] + gameboard[2][0] == 3*CROSS)\r\n\t\t\t{return CROSS;}\r\n\t\t\r\n\t\tif (gameboard[2][2] + gameboard[1][2] + gameboard[1][1] + gameboard[0][1] + gameboard[2][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[1][0] + gameboard[1][1] + gameboard[2][1] +  gameboard[0][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[1][2] + gameboard[1][1] + gameboard[2][1] + gameboard[0][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[1][1] + gameboard[1][2] + gameboard[0][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[1][1] + gameboard[1][2] + gameboard[2][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[1][0] + gameboard[1][1] + gameboard[0][1] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[0][1] + gameboard[1][1] + gameboard[1][0] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][2] + gameboard[2][1] + gameboard[1][1] + gameboard[1][0] + gameboard[0][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif(gameboard[0][2] + gameboard[0][1] + gameboard[1][2] + gameboard[2][1] +  gameboard[1][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif(gameboard[0][0] + gameboard[1][0] + gameboard[0][1] + gameboard[2][1] +  gameboard[1][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif(gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[0][1] +  gameboard[1][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif(gameboard[2][2] + gameboard[1][2] + gameboard[2][1] + gameboard[0][1] +  gameboard[1][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[0][1] + gameboard[1][2] + gameboard[1][0] + gameboard[2][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[0][1] + gameboard[2][1] + gameboard[2][0] + gameboard[2][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[1][0] + gameboard[2][1] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[1][0] + gameboard[1][2] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][2] + gameboard[2][1] + gameboard[1][2] + gameboard[1][0] + gameboard[0][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][2] + gameboard[2][1] + gameboard[1][2] + gameboard[0][1] + gameboard[0][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[1][0] + gameboard[0][1] + gameboard[0][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[2][1] + gameboard[1][0] + gameboard[1][2] + gameboard[2][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[0][2] + gameboard[0][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[1][2] + gameboard[0][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][2] + gameboard[1][2] + gameboard[2][0] + gameboard[2][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][2] + gameboard[0][1] + gameboard[0][2] + gameboard[1][0] + gameboard[2][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][2] + gameboard[1][0] + gameboard[0][0] + gameboard[2][2] + gameboard[2][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[2][2] + gameboard[1][2] + gameboard[0][0] + gameboard[0][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[0][1] + gameboard[2][0] + gameboard[2][1] + gameboard[1][2] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[2][0] + gameboard[1][0] + gameboard[2][2] + gameboard[1][2] + gameboard[0][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][1] + gameboard[0][2] + gameboard[2][1] + gameboard[2][2] + gameboard[1][0] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\t\tif (gameboard[0][0] + gameboard[1][0] + gameboard[0][2] + gameboard[1][2] + gameboard[2][1] == 5*NOUGHT)\r\n\t\t\t{return 0;}\r\n\r\n\r\n\t\treturn -2;\r\n\t}","title":"Java - Determining a tie in tic tac toe?","body":"<p>I have finally found the solution! :O\nHere it is, for both win/tie. Do note though that this is just coming from an amateur coder. Hope it helps though. :)</p>\n<pre><code>static int winOrTie() {\n    //TODO Determine whether X or O won or there is a tie\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[0][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[1][0] + gameboard[1][1] + gameboard[1][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[2][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    \n    if (gameboard[0][0] + gameboard[1][0] + gameboard[2][0] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[0][1] + gameboard[1][1] + gameboard[2][1] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[0][2] + gameboard[1][2] + gameboard[2][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[0][0] + gameboard[1][1] + gameboard[2][2] == 3*NOUGHT)\n        {return NOUGHT;}\n    if (gameboard[0][2] + gameboard[1][1] + gameboard[2][0] == 3*NOUGHT)\n        {return NOUGHT;}\n    \n    if (gameboard[0][0] + gameboard[0][1] + gameboard[0][2] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[1][0] + gameboard[1][1] + gameboard[1][2] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[2][2] == 3*CROSS)\n        {return CROSS;}\n    \n    if (gameboard[0][0] + gameboard[1][0] + gameboard[2][0] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[0][1] + gameboard[1][1] + gameboard[2][1] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[0][2] + gameboard[1][2] + gameboard[2][2] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[0][0] + gameboard[1][1] + gameboard[2][2] == 3*CROSS)\n        {return CROSS;}\n    if (gameboard[0][2] + gameboard[1][1] + gameboard[2][0] == 3*CROSS)\n        {return CROSS;}\n    \n    if (gameboard[2][2] + gameboard[1][2] + gameboard[1][1] + gameboard[0][1] + gameboard[2][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[1][0] + gameboard[1][1] + gameboard[2][1] +  gameboard[0][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[1][2] + gameboard[1][1] + gameboard[2][1] + gameboard[0][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[1][1] + gameboard[1][2] + gameboard[0][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[1][1] + gameboard[1][2] + gameboard[2][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[1][0] + gameboard[1][1] + gameboard[0][1] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[0][1] + gameboard[1][1] + gameboard[1][0] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][2] + gameboard[2][1] + gameboard[1][1] + gameboard[1][0] + gameboard[0][2] == 5*NOUGHT)\n        {return 0;}\n    if(gameboard[0][2] + gameboard[0][1] + gameboard[1][2] + gameboard[2][1] +  gameboard[1][0] == 5*NOUGHT)\n        {return 0;}\n    if(gameboard[0][0] + gameboard[1][0] + gameboard[0][1] + gameboard[2][1] +  gameboard[1][2] == 5*NOUGHT)\n        {return 0;}\n    if(gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[0][1] +  gameboard[1][2] == 5*NOUGHT)\n        {return 0;}\n    if(gameboard[2][2] + gameboard[1][2] + gameboard[2][1] + gameboard[0][1] +  gameboard[1][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[0][1] + gameboard[1][2] + gameboard[1][0] + gameboard[2][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[0][1] + gameboard[2][1] + gameboard[2][0] + gameboard[2][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[1][0] + gameboard[2][1] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[1][0] + gameboard[1][2] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][2] + gameboard[2][1] + gameboard[1][2] + gameboard[1][0] + gameboard[0][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][2] + gameboard[2][1] + gameboard[1][2] + gameboard[0][1] + gameboard[0][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[1][0] + gameboard[0][1] + gameboard[0][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[2][1] + gameboard[1][0] + gameboard[1][2] + gameboard[2][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[0][2] + gameboard[0][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[1][0] + gameboard[2][1] + gameboard[1][2] + gameboard[0][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][2] + gameboard[1][2] + gameboard[2][0] + gameboard[2][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][2] + gameboard[0][1] + gameboard[0][2] + gameboard[1][0] + gameboard[2][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][2] + gameboard[1][0] + gameboard[0][0] + gameboard[2][2] + gameboard[2][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[2][2] + gameboard[1][2] + gameboard[0][0] + gameboard[0][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[0][1] + gameboard[2][0] + gameboard[2][1] + gameboard[1][2] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[2][0] + gameboard[1][0] + gameboard[2][2] + gameboard[1][2] + gameboard[0][1] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][1] + gameboard[0][2] + gameboard[2][1] + gameboard[2][2] + gameboard[1][0] == 5*NOUGHT)\n        {return 0;}\n    if (gameboard[0][0] + gameboard[1][0] + gameboard[0][2] + gameboard[1][2] + gameboard[2][1] == 5*NOUGHT)\n        {return 0;}\n\n\n    return -2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28366703,"reputation":11,"user_id":21695899,"display_name":"Edouard Gotthardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682052694,"creation_date":1682052694,"answer_id":76069992,"question_id":27812213,"body_markdown":"This is how I went about checking for a tie for the project that I just had to do. Keep in mind I&#39;m a first year CS student, yet all of my tests seemed to work rather well.\r\n\r\n     public boolean checkTie() {\r\n        int blanks = 0;\r\n        int xChance = 0,\r\n            xCount = 0;\r\n        int oChance = 0,    // How many points on the board O could win (Same above for X&#39;s) \r\n            oCount = 0;     // Number of O&#39;s in a row or column given the loop iteration (&quot;)\r\n        int blankCount = 0;\r\n\r\n        // Counts how many blank spaces are left on the game board\r\n        // This takes place of keeping track of who is playing since\r\n        // X is hardcoded to always go first and therefor will always\r\n        // have 5 moves while O will only ever have 4. We use this information\r\n        // to tell us who is playing based on the number of blank spaces left\r\n        // i.e. if only 1 blank left then it&#39;s X&#39;s turn &amp; 2 = O&#39;s turn.\r\n        for (int i = 0; i &lt; 3; i ++) {\r\n            for (char[] row : board) {\r\n                if (row[i] == &#39; &#39;) {\r\n                    blanks++;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (blanks &lt;= 3) {\r\n\r\n            // Check&#39;s downward slope diagonal if there is a blank, X, or O\r\n            // in each respective space. If so then the count is incremented\r\n            // by how many for each matching variable. If the count meets the \r\n            // right condition then the player is given a chance to win.\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                if (board[i][i] == &#39;X&#39;) {\r\n                    xCount++;\r\n                }\r\n                if (board[i][i] == &#39;O&#39;) {\r\n                    oCount++;\r\n                }\r\n                if (board[i][i] == &#39; &#39;) {\r\n                    blankCount++;\r\n                }\r\n                if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\r\n                    xChance++; // COULD WIN\r\n                }\r\n                if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\r\n                    oChance++; // COULD WIN\r\n                }\r\n                // Resets the count so that the next row has a fresh count.\r\n                if (i &gt;= 2) {\r\n                    xCount = 0;\r\n                    oCount = 0;\r\n                    blankCount = 0;\r\n                }\r\n            }\r\n\r\n            // Checks the upward slope diagonal if there is a blank, X, or O\r\n            // in each respective space. I wasn&#39;t too sure how to loop through this \r\n            // So i just manually/hard coded the checks.\r\n            // As with all other row/col/upslope checks at the end I reset the count\r\n            // to get ready for the next loop check.\r\n            if (board[0][2] == &#39;X&#39;) {\r\n                xCount++;\r\n            }\r\n            if (board[0][2] == &#39;O&#39;) {\r\n                oCount++;\r\n            }\r\n            if (board[0][2] == &#39; &#39;) {\r\n                blankCount++;\r\n            }\r\n            if (board[1][1] == &#39;X&#39;) {\r\n                xCount++;\r\n            }\r\n            if (board[1][1] == &#39;O&#39;) {\r\n                oCount++;\r\n            }\r\n            if (board[1][1] == &#39; &#39;) {\r\n                blankCount++;\r\n            }\r\n            if (board[2][0] == &#39;X&#39;) {\r\n                xCount++;\r\n            }\r\n            if (board[2][0] == &#39;O&#39;) {\r\n                oCount++;\r\n            }\r\n            if (board[2][0] == &#39; &#39;) {\r\n                blankCount++;\r\n            }\r\n            if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\r\n                xChance++; // COULD WIN\r\n            }\r\n            if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\r\n                oChance++; // COULD WIN\r\n            }\r\n            xCount = 0;\r\n            oCount = 0;\r\n            blankCount = 0;\r\n\r\n\r\n            // Check the rows to see what is in each space\r\n            // If X increment that row&#39;s count of X&#39;s and same if O\r\n            // After each incrementing the values are compared to see\r\n            // if X or O has 2 spots held alongside a blank space,\r\n            // if so then the player is given a &quot;chance to win&quot; meaning that the game\r\n            // will go on if the number of blanks(turns left) allows\r\n            // for that player to go again.\r\n            // The loop ends by reseting the counts of X&#39;s and O&#39;s so \r\n            // that the next row count will be &#39;fresh&#39;\r\n            for (char[] row : board) {\r\n                for (int i = 0; i &lt; 3; i++) {\r\n                    if (row[i] == &#39;X&#39;) {\r\n                        xCount++;\r\n                    }\r\n                    if (row[i] == &#39;O&#39;) {\r\n                        oCount ++;\r\n                    }\r\n                    if (row[i] == &#39; &#39;) {\r\n                        blankCount++;\r\n                    }\r\n                    if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\r\n                        xChance++; // COULD WIN\r\n                    }\r\n                    if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\r\n                        oChance++; // COULD WIN\r\n                    }\r\n                    // Resets the count so that the next row has a fresh count.\r\n                    if (i &gt;= 2) {\r\n                        xCount = 0;\r\n                        oCount = 0;\r\n                        blankCount = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Does that same thing as the loop that checks for the \r\n            // rows yet does this for the columns where i is the fixed position\r\n            // for the column (only changing to the next column once check from \r\n            // top to bottom by the inner for loop) \r\n            for (int i = 0; i &lt; 3; i ++) {\r\n\r\n                for (int space = 0; space &lt; 3; space++) {\r\n                    if (board[space][i] == &#39;X&#39;) {\r\n                        xCount++;\r\n                    }\r\n                    if (board[space][i] == &#39;O&#39;) {\r\n                        oCount++;\r\n                    }\r\n                    if (board[space][i] == &#39; &#39;) {\r\n                        blankCount++;\r\n                    }\r\n                    if(xCount == 2 &amp;&amp; blankCount == 1) {\r\n                        xChance++;\r\n                    }\r\n                    if (oCount == 2 &amp;&amp; blankCount == 1) {\r\n                        oChance++;\r\n                    }\r\n                    // Resets the count so that the next column has a fresh count.\r\n                    if (space &gt;= 2) {\r\n                    xCount = 0;\r\n                    oCount = 0;\r\n                    blankCount = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // If it&#39;s the last turn and X has no chance to win then \r\n            // returns true which will equal a tie.\r\n            if (blanks &lt;= 1 &amp;&amp; xChance == 0) {\r\n                return true;\r\n            }\r\n\r\n            // If either player has a chance to win then the number of chances\r\n            // will reset to 0 for the next time the method is called\r\n            // and then false will be returned telling the game to continue.\r\n            if ((oChance &gt; 0 &amp;&amp; blanks &gt;= 2) || (xChance &gt; 0 &amp;&amp; blanks &gt;= 1)) {\r\n                xChance = 0;\r\n                oChance = 0;\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"Java - Determining a tie in tic tac toe?","body":"<p>This is how I went about checking for a tie for the project that I just had to do. Keep in mind I'm a first year CS student, yet all of my tests seemed to work rather well.</p>\n<pre><code> public boolean checkTie() {\n    int blanks = 0;\n    int xChance = 0,\n        xCount = 0;\n    int oChance = 0,    // How many points on the board O could win (Same above for X's) \n        oCount = 0;     // Number of O's in a row or column given the loop iteration (&quot;)\n    int blankCount = 0;\n\n    // Counts how many blank spaces are left on the game board\n    // This takes place of keeping track of who is playing since\n    // X is hardcoded to always go first and therefor will always\n    // have 5 moves while O will only ever have 4. We use this information\n    // to tell us who is playing based on the number of blank spaces left\n    // i.e. if only 1 blank left then it's X's turn &amp; 2 = O's turn.\n    for (int i = 0; i &lt; 3; i ++) {\n        for (char[] row : board) {\n            if (row[i] == ' ') {\n                blanks++;\n            }\n        }\n    }\n\n    if (blanks &lt;= 3) {\n\n        // Check's downward slope diagonal if there is a blank, X, or O\n        // in each respective space. If so then the count is incremented\n        // by how many for each matching variable. If the count meets the \n        // right condition then the player is given a chance to win.\n        for (int i = 0; i &lt; 3; i++) {\n            if (board[i][i] == 'X') {\n                xCount++;\n            }\n            if (board[i][i] == 'O') {\n                oCount++;\n            }\n            if (board[i][i] == ' ') {\n                blankCount++;\n            }\n            if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\n                xChance++; // COULD WIN\n            }\n            if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\n                oChance++; // COULD WIN\n            }\n            // Resets the count so that the next row has a fresh count.\n            if (i &gt;= 2) {\n                xCount = 0;\n                oCount = 0;\n                blankCount = 0;\n            }\n        }\n\n        // Checks the upward slope diagonal if there is a blank, X, or O\n        // in each respective space. I wasn't too sure how to loop through this \n        // So i just manually/hard coded the checks.\n        // As with all other row/col/upslope checks at the end I reset the count\n        // to get ready for the next loop check.\n        if (board[0][2] == 'X') {\n            xCount++;\n        }\n        if (board[0][2] == 'O') {\n            oCount++;\n        }\n        if (board[0][2] == ' ') {\n            blankCount++;\n        }\n        if (board[1][1] == 'X') {\n            xCount++;\n        }\n        if (board[1][1] == 'O') {\n            oCount++;\n        }\n        if (board[1][1] == ' ') {\n            blankCount++;\n        }\n        if (board[2][0] == 'X') {\n            xCount++;\n        }\n        if (board[2][0] == 'O') {\n            oCount++;\n        }\n        if (board[2][0] == ' ') {\n            blankCount++;\n        }\n        if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\n            xChance++; // COULD WIN\n        }\n        if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\n            oChance++; // COULD WIN\n        }\n        xCount = 0;\n        oCount = 0;\n        blankCount = 0;\n\n\n        // Check the rows to see what is in each space\n        // If X increment that row's count of X's and same if O\n        // After each incrementing the values are compared to see\n        // if X or O has 2 spots held alongside a blank space,\n        // if so then the player is given a &quot;chance to win&quot; meaning that the game\n        // will go on if the number of blanks(turns left) allows\n        // for that player to go again.\n        // The loop ends by reseting the counts of X's and O's so \n        // that the next row count will be 'fresh'\n        for (char[] row : board) {\n            for (int i = 0; i &lt; 3; i++) {\n                if (row[i] == 'X') {\n                    xCount++;\n                }\n                if (row[i] == 'O') {\n                    oCount ++;\n                }\n                if (row[i] == ' ') {\n                    blankCount++;\n                }\n                if ((xCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 1)) {\n                    xChance++; // COULD WIN\n                }\n                if ((oCount == 2) &amp;&amp; (blankCount == 1) &amp;&amp; (blanks &gt;= 2)) {\n                    oChance++; // COULD WIN\n                }\n                // Resets the count so that the next row has a fresh count.\n                if (i &gt;= 2) {\n                    xCount = 0;\n                    oCount = 0;\n                    blankCount = 0;\n                }\n            }\n        }\n\n        // Does that same thing as the loop that checks for the \n        // rows yet does this for the columns where i is the fixed position\n        // for the column (only changing to the next column once check from \n        // top to bottom by the inner for loop) \n        for (int i = 0; i &lt; 3; i ++) {\n\n            for (int space = 0; space &lt; 3; space++) {\n                if (board[space][i] == 'X') {\n                    xCount++;\n                }\n                if (board[space][i] == 'O') {\n                    oCount++;\n                }\n                if (board[space][i] == ' ') {\n                    blankCount++;\n                }\n                if(xCount == 2 &amp;&amp; blankCount == 1) {\n                    xChance++;\n                }\n                if (oCount == 2 &amp;&amp; blankCount == 1) {\n                    oChance++;\n                }\n                // Resets the count so that the next column has a fresh count.\n                if (space &gt;= 2) {\n                xCount = 0;\n                oCount = 0;\n                blankCount = 0;\n                }\n            }\n        }\n\n        // If it's the last turn and X has no chance to win then \n        // returns true which will equal a tie.\n        if (blanks &lt;= 1 &amp;&amp; xChance == 0) {\n            return true;\n        }\n\n        // If either player has a chance to win then the number of chances\n        // will reset to 0 for the next time the method is called\n        // and then false will be returned telling the game to continue.\n        if ((oChance &gt; 0 &amp;&amp; blanks &gt;= 2) || (xChance &gt; 0 &amp;&amp; blanks &gt;= 1)) {\n            xChance = 0;\n            oChance = 0;\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695781307,"post_id":77169650,"comment_id":136069017,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77169650/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29525866,"reputation":1,"user_id":22627502,"display_name":"Jesus Garcia"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695609481,"creation_date":1695609481,"answer_id":77169650,"question_id":27812213,"body_markdown":"Im kind of late to the party here but why not just make a variable that keeps track of the number of moves? Set it to 0 at the beginning and every time a move is made (whether an X or O is placed), increment it by 1. Then once it gets to 9 you can display your tie message. This is a lot simpler than checking every single slot. ","title":"Java - Determining a tie in tic tac toe?","body":"<p>Im kind of late to the party here but why not just make a variable that keeps track of the number of moves? Set it to 0 at the beginning and every time a move is made (whether an X or O is placed), increment it by 1. Then once it gets to 9 you can display your tie message. This is a lot simpler than checking every single slot.</p>\n"}],"owner":{"account_id":5504491,"reputation":88,"user_id":4372747,"accept_rate":38,"display_name":"Alex Montague"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27812457,"answer_count":7,"score":1,"last_activity_date":1695609481,"creation_date":1420603253,"question_id":27812213,"body_markdown":"I have my code working great, just need to know how to determine a tie. It is difficult because I am working with chars to fill the spaces on my tic tac toe board, and am not sure of a way to check if every square has either an &#39;X&#39; or an &#39;O&#39; and if all the squares do, make it a tie. \r\n\r\nThis is my code so far:\r\n\r\nThanks!\r\n\r\n\r\n    /** Board[][] char filled array with either &#39;X&#39;, &#39;O&#39; or &#39;-&#39;. \r\n    returns true if the game is a tie, false if its not */\r\n   \r\n         public static void Tie (char [] [] Board)        //Tie Method\r\n         {\r\n                 for (int row = 0; row &lt; 3; row = row + 1) \r\n            {\r\n                for (int column = 0; column &lt; 3; column = column + 1) \r\n                {\r\n                    if (Board [row] [column] == &#39;X&#39; &amp;&amp; Board [row] [column] == &#39;O&#39;) \r\n                    {\r\n                        System.out.println (&quot;It is a tie. Cats game!&quot;) ;\r\n                        GameOver = true ;\r\n                    }\r\n                }  \r\n            }\r\n         }   \r\n","title":"Java - Determining a tie in tic tac toe?","body":"<p>I have my code working great, just need to know how to determine a tie. It is difficult because I am working with chars to fill the spaces on my tic tac toe board, and am not sure of a way to check if every square has either an 'X' or an 'O' and if all the squares do, make it a tie. </p>\n\n<p>This is my code so far:</p>\n\n<p>Thanks!</p>\n\n<pre><code>/** Board[][] char filled array with either 'X', 'O' or '-'. \nreturns true if the game is a tie, false if its not */\n\n     public static void Tie (char [] [] Board)        //Tie Method\n     {\n             for (int row = 0; row &lt; 3; row = row + 1) \n        {\n            for (int column = 0; column &lt; 3; column = column + 1) \n            {\n                if (Board [row] [column] == 'X' &amp;&amp; Board [row] [column] == 'O') \n                {\n                    System.out.println (\"It is a tie. Cats game!\") ;\n                    GameOver = true ;\n                }\n            }  \n        }\n     }   \n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1695604417,"post_id":77169438,"comment_id":136042158,"body_markdown":"Start by not doing `frame.setLayout(null);` - see [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details","body":"Start by not doing <code>frame.setLayout(null);</code> - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for more details"}],"answers":[{"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695656278,"post_id":77169528,"comment_id":136050432,"body_markdown":"GridBagLayout is perfectly suited to this.","body":"GridBagLayout is perfectly suited to this."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695606268,"creation_date":1695606268,"answer_id":77169528,"question_id":77169438,"body_markdown":"Start by taking the time to read through and explore [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\nBeware, the following is not the &quot;simplest&quot; solution, but is among the most flexible.  You could also make use of a combination of `BorderLayout` and `GridLayout` to achieve something simular.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import static javax.swing.Action.NAME;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws CloneNotSupportedException {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new CalculatorPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class CalculatorPane extends JPanel {\r\n            public enum CalculatorAction {\r\n                DIVIDE, MULTIPLY, SUBTRACT, ADD, EQUALS;\r\n\r\n                public String getText() {\r\n                    switch (this) {\r\n                        case DIVIDE: return &quot;/&quot;;\r\n                        case MULTIPLY: return &quot;x&quot;;\r\n                        case SUBTRACT: return &quot;-&quot;;\r\n                        case ADD: return &quot;+&quot;;\r\n                        case EQUALS: return &quot;=&quot;;\r\n                    }\r\n                    return null;\r\n                }\r\n            }\r\n\r\n            public CalculatorPane() {\r\n                setBackground(Color.GRAY);\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 2;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n\r\n                int[][] values = new int[][] {\r\n                    { 7, 8, 9 },\r\n                    { 4, 5, 6 },\r\n                    { 1, 2, 3 },\r\n                };\r\n                for (int row = 0; row &lt; values.length; row++) {\r\n                    gbc.gridx = 0;\r\n                    for (int col = 0; col &lt; values[row].length; col++) {\r\n                        add(makeNumericButton(values[row][col]), gbc);\r\n                        gbc.gridx++;\r\n                    }\r\n                    gbc.gridy++;\r\n                }\r\n                gbc.gridx = 0;\r\n                gbc.gridwidth = 3;\r\n                add(makeNumericButton(0), gbc);\r\n\r\n                gbc.gridx = 3;\r\n                gbc.gridy = 1;\r\n\r\n                add(makeActionButton(CalculatorAction.DIVIDE), gbc);\r\n\r\n                gbc.gridy++;\r\n                add(makeActionButton(CalculatorAction.MULTIPLY), gbc);\r\n\r\n                gbc.gridy++;\r\n                add(makeActionButton(CalculatorAction.SUBTRACT), gbc);\r\n\r\n                gbc.gridy++;\r\n                add(makeActionButton(CalculatorAction.ADD), gbc);\r\n\r\n                gbc.gridy++;\r\n                add(makeActionButton(CalculatorAction.EQUALS), gbc);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                JTextField field = new JTextField(5);\r\n                field.setBackground(Color.DARK_GRAY);\r\n                field.setForeground(Color.WHITE);\r\n                field.setBorder(null);\r\n                field.setHorizontalAlignment(JTextField.TRAILING);\r\n                field.setFont(field.getFont().deriveFont(48f));\r\n                add(field, gbc);\r\n            }\r\n\r\n            protected JButton makeButton(Action action) {\r\n                JButton button = new JButton(action);\r\n                button.setContentAreaFilled(false);\r\n                button.setOpaque(true);\r\n                button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\r\n                return button;\r\n            }\r\n\r\n            protected JButton makeNumericButton(int value) {\r\n                JButton button = makeButton(new NumericAction(value));\r\n                button.setBackground(Color.DARK_GRAY);\r\n                button.setForeground(Color.WHITE);\r\n                button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\r\n                return button;\r\n            }\r\n\r\n            protected JButton makeActionButton(CalculatorAction value) {\r\n                JButton button = makeButton(new OperationAction(value));\r\n                button.setBackground(Color.ORANGE);\r\n                button.setForeground(Color.WHITE);\r\n                button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\r\n                return button;\r\n            }\r\n\r\n            protected class NumericAction extends AbstractAction {\r\n                private int value;\r\n\r\n                public NumericAction(int value) {\r\n                    this.value = value;\r\n                    putValue(NAME, Integer.toString(value));\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                }\r\n            }\r\n\r\n            protected class OperationAction extends AbstractAction {\r\n                private CalculatorAction value;\r\n\r\n                public OperationAction(CalculatorAction value) {\r\n                    this.value = value;\r\n                    putValue(NAME, value.getText());\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I87fs.png","title":"How do I make it so that my Jbuttons / Jpanels resizes with the JFrame?","body":"<p>Start by taking the time to read through and explore <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n<p>Beware, the following is not the &quot;simplest&quot; solution, but is among the most flexible.  You could also make use of a combination of <code>BorderLayout</code> and <code>GridLayout</code> to achieve something simular.</p>\n<p><a href=\"https://i.stack.imgur.com/I87fs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I87fs.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport static javax.swing.Action.NAME;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) throws CloneNotSupportedException {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new CalculatorPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class CalculatorPane extends JPanel {\n        public enum CalculatorAction {\n            DIVIDE, MULTIPLY, SUBTRACT, ADD, EQUALS;\n\n            public String getText() {\n                switch (this) {\n                    case DIVIDE: return &quot;/&quot;;\n                    case MULTIPLY: return &quot;x&quot;;\n                    case SUBTRACT: return &quot;-&quot;;\n                    case ADD: return &quot;+&quot;;\n                    case EQUALS: return &quot;=&quot;;\n                }\n                return null;\n            }\n        }\n\n        public CalculatorPane() {\n            setBackground(Color.GRAY);\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 2;\n            gbc.fill = GridBagConstraints.BOTH;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n\n            int[][] values = new int[][] {\n                { 7, 8, 9 },\n                { 4, 5, 6 },\n                { 1, 2, 3 },\n            };\n            for (int row = 0; row &lt; values.length; row++) {\n                gbc.gridx = 0;\n                for (int col = 0; col &lt; values[row].length; col++) {\n                    add(makeNumericButton(values[row][col]), gbc);\n                    gbc.gridx++;\n                }\n                gbc.gridy++;\n            }\n            gbc.gridx = 0;\n            gbc.gridwidth = 3;\n            add(makeNumericButton(0), gbc);\n\n            gbc.gridx = 3;\n            gbc.gridy = 1;\n\n            add(makeActionButton(CalculatorAction.DIVIDE), gbc);\n\n            gbc.gridy++;\n            add(makeActionButton(CalculatorAction.MULTIPLY), gbc);\n\n            gbc.gridy++;\n            add(makeActionButton(CalculatorAction.SUBTRACT), gbc);\n\n            gbc.gridy++;\n            add(makeActionButton(CalculatorAction.ADD), gbc);\n\n            gbc.gridy++;\n            add(makeActionButton(CalculatorAction.EQUALS), gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            JTextField field = new JTextField(5);\n            field.setBackground(Color.DARK_GRAY);\n            field.setForeground(Color.WHITE);\n            field.setBorder(null);\n            field.setHorizontalAlignment(JTextField.TRAILING);\n            field.setFont(field.getFont().deriveFont(48f));\n            add(field, gbc);\n        }\n\n        protected JButton makeButton(Action action) {\n            JButton button = new JButton(action);\n            button.setContentAreaFilled(false);\n            button.setOpaque(true);\n            button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\n            return button;\n        }\n\n        protected JButton makeNumericButton(int value) {\n            JButton button = makeButton(new NumericAction(value));\n            button.setBackground(Color.DARK_GRAY);\n            button.setForeground(Color.WHITE);\n            button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\n            return button;\n        }\n\n        protected JButton makeActionButton(CalculatorAction value) {\n            JButton button = makeButton(new OperationAction(value));\n            button.setBackground(Color.ORANGE);\n            button.setForeground(Color.WHITE);\n            button.setBorder(new CompoundBorder(new LineBorder(Color.BLACK), new EmptyBorder(16, 16, 16, 16)));\n            return button;\n        }\n\n        protected class NumericAction extends AbstractAction {\n            private int value;\n\n            public NumericAction(int value) {\n                this.value = value;\n                putValue(NAME, Integer.toString(value));\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n            }\n        }\n\n        protected class OperationAction extends AbstractAction {\n            private CalculatorAction value;\n\n            public OperationAction(CalculatorAction value) {\n                this.value = value;\n                putValue(NAME, value.getText());\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29525489,"reputation":23,"user_id":22627218,"display_name":"Sajal "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695609141,"creation_date":1695603371,"question_id":77169438,"body_markdown":"I made this calculator program on Java and I wanted to add one more touch to it. What I want the program to do is to rezise the JButtons / JPanels with the JFrame. Meaning when a user stretches out the JPanel or full screens, I want the button to appropriately resize with the JFrame. \r\n\r\n\r\n    public class Calculator implements ActionListener {\r\n    \r\n    \tJFrame frame; \r\n    \tJTextField textfield; \r\n    \tJButton[] numberButtons = new JButton[10];\r\n    \tJButton[] functionButtons = new JButton[14];\r\n    \tJButton addButton,subButton,mulButton,divButton; \r\n    \tJButton decButton,equButton,delButton,clrButton,negButton;\r\n    \tJButton perButton,absButton,piButton,sqrButton,srootButton;\r\n    \tJPanel panel; \r\n    \t\r\n    \tFont myFont = new Font (&quot;Helvetica&quot;,Font.BOLD,30);  \r\n    \t\r\n    \tdouble num1,num2,result = 0; \r\n    \tchar operator;\r\n    \tint height = 620;\r\n    \tint width = 520;\r\n    \t\r\n    \tCalculator(){\r\n    \t\t  \r\n    \t\tframe = new JFrame(&quot;Calculator&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setSize(width, height);\r\n            frame.setLayout(null);\r\n    \t\t\r\n    \t\ttextfield = new JTextField();\r\n    \t\ttextfield.setBounds(50, 25, 400, 60);\r\n    \t\ttextfield.setFont(myFont);\r\n    \t\ttextfield.setEditable(false);\r\n    \t\ttextfield.setBorder(null);\t\t\r\n    \t\t\r\n    \t\taddButton = new JButton(add); \r\n    \t\taddButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\r\n    \t\tsubButton = new JButton(sub);\r\n    \t\tsubButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\tmulButton = new JButton(mul);\r\n    \t\tmulButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\tdivButton = new JButton(div);\r\n    \t\tdivButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\tequButton = new JButton(equ); \r\n    \t\tequButton.setBackground(functionColor);\r\n    \t\t\r\n    \t\t\r\n    \t\tdecButton = new JButton(&quot;.&quot;); \r\n    \t\tdecButton.setBackground (numberColor);\r\n    \t\tdecButton.setForeground (Color.WHITE);\r\n    \t\t\r\n    \t\t\r\n    \t\tclrButton = new JButton(&quot;AC&quot;);\r\n    \t\tclrButton.setBackground (top);\r\n    \t\tclrButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\t\r\n    \t\tnegButton = new JButton(&quot;+/-&quot;);\r\n    \t\tnegButton.setBackground (top);\r\n    \t\tnegButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\t\r\n     \r\n    \t\tdelButton = new JButton (delete);\r\n    \t\tdelButton.setBackground (top);\r\n    \t\tdelButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\t\r\n    \t\tperButton = new JButton (&quot;%&quot;);\r\n    \t\tperButton.setBackground (top);\r\n    \t\tperButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\tabsButton = new JButton (&quot;|x|&quot;);\r\n    \t\tabsButton.setBackground (top);\r\n    \t\tabsButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\tpiButton = new JButton (&quot;&#120645;&quot;);\r\n    \t\tpiButton.setBackground (top);\r\n    \t\tpiButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\tsqrButton = new JButton (&quot;x&#178;&quot;);\r\n    \t\tsqrButton.setBackground (top);\r\n    \t\tsqrButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\tsrootButton = new JButton (&quot;√x&quot;);\r\n    \t\tsrootButton.setBackground (top);\r\n    \t\tsrootButton.setForeground (Color.BLACK);\r\n    \t\t\r\n    \t\t\r\n    \t\tfunctionButtons[0] = addButton;\r\n    \t\tfunctionButtons[1] = subButton;\r\n    \t\tfunctionButtons[2] = mulButton;\r\n    \t\tfunctionButtons[3] = divButton;\r\n    \t\tfunctionButtons[4] = decButton;\r\n    \t\tfunctionButtons[5] = equButton;\r\n    \t\tfunctionButtons[6] = delButton;\r\n    \t\tfunctionButtons[7] = clrButton;\r\n    \t\tfunctionButtons[8] = negButton;\r\n    \t\tfunctionButtons[9] = perButton;\r\n    \t\tfunctionButtons[10]= piButton;\r\n    \t\tfunctionButtons[11]= absButton;\r\n    \t\tfunctionButtons[12]= sqrButton;\r\n    \t\tfunctionButtons[13]= srootButton;\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; 14; i++) {\r\n    \t\t\tfunctionButtons[i].addActionListener(this);\r\n    \t\t\tfunctionButtons[i].setFont(myFont);\r\n    \t\t\tfunctionButtons[i].setFocusable(false);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\tnumberButtons[i] = new JButton(String.valueOf(i));\r\n    \t\t\tnumberButtons[i].addActionListener(this);\r\n    \t\t\tnumberButtons[i].setFont(myFont);\r\n    \t\t\tnumberButtons[i].setFocusable(false);\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tJPanel secPan = new JPanel();\r\n    \t\tsecPan.setBounds(50,160,400,50);\r\n    \t\tsecPan.setLayout(new GridLayout(1,4,10,10));\r\n    \t\tsecPan.add(piButton);\r\n    \t\tsecPan.add(perButton);\r\n    \t\tsecPan.add(sqrButton);\r\n    \t\tsecPan.add(srootButton);\r\n    \t\tframe.add(secPan);\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\tJPanel topPan = new JPanel();\r\n    \t\ttopPan.setBounds(50,100,400,50);\r\n    \t\ttopPan.setLayout(new GridLayout(1,4,10,10));\r\n    \t\ttopPan.add(negButton);\r\n    \t\ttopPan.add(absButton);\r\n    \t\ttopPan.add(clrButton);\r\n    \t\ttopPan.add(delButton);\r\n    \t\tframe.add(topPan);\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\t\r\n    \t\tpanel = new JPanel();\r\n    \t\tpanel.setBounds(50, 220, 400, 300);\r\n    \t\tpanel.setLayout(new GridLayout(4,4,10,10));\r\n    \t\tpanel.add(numberButtons[7]);\r\n    \t\tpanel.add(numberButtons[8]);\r\n    \t\tpanel.add(numberButtons[9]);\r\n    \t\tpanel.add(mulButton);\r\n    \t\tpanel.add(numberButtons[4]);\r\n    \t\tpanel.add(numberButtons[5]);\r\n    \t\tpanel.add(numberButtons[6]);\r\n    \t\tpanel.add(subButton);\r\n    \t\tpanel.add(numberButtons[1]);\r\n    \t\tpanel.add(numberButtons[2]);\r\n    \t\tpanel.add(numberButtons[3]);\r\n    \t\tpanel.add(addButton);\r\n    \t\tpanel.add(numberButtons[0]);\r\n    \t\tpanel.add(decButton);\r\n                    panel.add(equButton);\r\n    \t\tpanel.add(divButton);\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; numberButtons.length; i++) {\r\n    \t\tnumberButtons[i].setBackground(numberColor);\r\n    \t\tnumberButtons[i].setForeground(Color.WHITE);\r\n    \t\t}\r\n    \t\tframe.add(panel);\r\n    \t\tframe.add(textfield);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \r\n    }","title":"How do I make it so that my Jbuttons / Jpanels resizes with the JFrame?","body":"<p>I made this calculator program on Java and I wanted to add one more touch to it. What I want the program to do is to rezise the JButtons / JPanels with the JFrame. Meaning when a user stretches out the JPanel or full screens, I want the button to appropriately resize with the JFrame.</p>\n<pre><code>public class Calculator implements ActionListener {\n\n    JFrame frame; \n    JTextField textfield; \n    JButton[] numberButtons = new JButton[10];\n    JButton[] functionButtons = new JButton[14];\n    JButton addButton,subButton,mulButton,divButton; \n    JButton decButton,equButton,delButton,clrButton,negButton;\n    JButton perButton,absButton,piButton,sqrButton,srootButton;\n    JPanel panel; \n    \n    Font myFont = new Font (&quot;Helvetica&quot;,Font.BOLD,30);  \n    \n    double num1,num2,result = 0; \n    char operator;\n    int height = 620;\n    int width = 520;\n    \n    Calculator(){\n          \n        frame = new JFrame(&quot;Calculator&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(width, height);\n        frame.setLayout(null);\n        \n        textfield = new JTextField();\n        textfield.setBounds(50, 25, 400, 60);\n        textfield.setFont(myFont);\n        textfield.setEditable(false);\n        textfield.setBorder(null);      \n        \n        addButton = new JButton(add); \n        addButton.setBackground(functionColor);\n        \n    \n        subButton = new JButton(sub);\n        subButton.setBackground(functionColor);\n        \n        mulButton = new JButton(mul);\n        mulButton.setBackground(functionColor);\n        \n        divButton = new JButton(div);\n        divButton.setBackground(functionColor);\n        \n        equButton = new JButton(equ); \n        equButton.setBackground(functionColor);\n        \n        \n        decButton = new JButton(&quot;.&quot;); \n        decButton.setBackground (numberColor);\n        decButton.setForeground (Color.WHITE);\n        \n        \n        clrButton = new JButton(&quot;AC&quot;);\n        clrButton.setBackground (top);\n        clrButton.setForeground (Color.BLACK);\n        \n        \n        negButton = new JButton(&quot;+/-&quot;);\n        negButton.setBackground (top);\n        negButton.setForeground (Color.BLACK);\n        \n        \n \n        delButton = new JButton (delete);\n        delButton.setBackground (top);\n        delButton.setForeground (Color.BLACK);\n        \n        \n        perButton = new JButton (&quot;%&quot;);\n        perButton.setBackground (top);\n        perButton.setForeground (Color.BLACK);\n        \n        absButton = new JButton (&quot;|x|&quot;);\n        absButton.setBackground (top);\n        absButton.setForeground (Color.BLACK);\n        \n        piButton = new JButton (&quot;𝝅&quot;);\n        piButton.setBackground (top);\n        piButton.setForeground (Color.BLACK);\n        \n        sqrButton = new JButton (&quot;x²&quot;);\n        sqrButton.setBackground (top);\n        sqrButton.setForeground (Color.BLACK);\n        \n        srootButton = new JButton (&quot;√x&quot;);\n        srootButton.setBackground (top);\n        srootButton.setForeground (Color.BLACK);\n        \n        \n        functionButtons[0] = addButton;\n        functionButtons[1] = subButton;\n        functionButtons[2] = mulButton;\n        functionButtons[3] = divButton;\n        functionButtons[4] = decButton;\n        functionButtons[5] = equButton;\n        functionButtons[6] = delButton;\n        functionButtons[7] = clrButton;\n        functionButtons[8] = negButton;\n        functionButtons[9] = perButton;\n        functionButtons[10]= piButton;\n        functionButtons[11]= absButton;\n        functionButtons[12]= sqrButton;\n        functionButtons[13]= srootButton;\n        \n        \n        for(int i = 0; i &lt; 14; i++) {\n            functionButtons[i].addActionListener(this);\n            functionButtons[i].setFont(myFont);\n            functionButtons[i].setFocusable(false);\n        }\n        \n        for (int i = 0; i &lt; 10; i++) {\n            numberButtons[i] = new JButton(String.valueOf(i));\n            numberButtons[i].addActionListener(this);\n            numberButtons[i].setFont(myFont);\n            numberButtons[i].setFocusable(false);   \n        }\n        \n        JPanel secPan = new JPanel();\n        secPan.setBounds(50,160,400,50);\n        secPan.setLayout(new GridLayout(1,4,10,10));\n        secPan.add(piButton);\n        secPan.add(perButton);\n        secPan.add(sqrButton);\n        secPan.add(srootButton);\n        frame.add(secPan);\n        frame.setVisible(true);\n        \n        JPanel topPan = new JPanel();\n        topPan.setBounds(50,100,400,50);\n        topPan.setLayout(new GridLayout(1,4,10,10));\n        topPan.add(negButton);\n        topPan.add(absButton);\n        topPan.add(clrButton);\n        topPan.add(delButton);\n        frame.add(topPan);\n        frame.setVisible(true);\n        \n        \n        panel = new JPanel();\n        panel.setBounds(50, 220, 400, 300);\n        panel.setLayout(new GridLayout(4,4,10,10));\n        panel.add(numberButtons[7]);\n        panel.add(numberButtons[8]);\n        panel.add(numberButtons[9]);\n        panel.add(mulButton);\n        panel.add(numberButtons[4]);\n        panel.add(numberButtons[5]);\n        panel.add(numberButtons[6]);\n        panel.add(subButton);\n        panel.add(numberButtons[1]);\n        panel.add(numberButtons[2]);\n        panel.add(numberButtons[3]);\n        panel.add(addButton);\n        panel.add(numberButtons[0]);\n        panel.add(decButton);\n                panel.add(equButton);\n        panel.add(divButton);\n        \n        for (int i = 0; i &lt; numberButtons.length; i++) {\n        numberButtons[i].setBackground(numberColor);\n        numberButtons[i].setForeground(Color.WHITE);\n        }\n        frame.add(panel);\n        frame.add(textfield);\n        frame.setVisible(true);\n    }\n    \n\n}\n</code></pre>\n"},{"tags":["java","multithreading","java.util.concurrent"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684233191,"post_id":76189571,"comment_id":134484485,"body_markdown":"That’s not foreseen and it’s not clear what you hope to gain from that.","body":"That’s not foreseen and it’s not clear what you hope to gain from that."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":3,"creation_date":1694795368,"post_id":76189571,"comment_id":135942786,"body_markdown":"This would be desired, in conjunction with https://stackoverflow.com/q/21163108 , because we may want to have thousands and thousands of threads running at the same time. One of my particular processing use cases may have most of those threads blocked with I/O at any given time. Wouldn&#39;t native threads have a needless overhead? Wouldn&#39;t it be a benefit in this scenario to use the elegant model of `stream.parallel().…` implemented using virtual threads? Or is there something that would prevent `stream.parallel().…` from utilizing so many threads?","body":"This would be desired, in conjunction with <a href=\"https://stackoverflow.com/q/21163108\">stackoverflow.com/q/21163108</a> , because we may want to have thousands and thousands of threads running at the same time. One of my particular processing use cases may have most of those threads blocked with I/O at any given time. Wouldn&#39;t native threads have a needless overhead? Wouldn&#39;t it be a benefit in this scenario to use the elegant model of <code>stream.parallel().…</code> implemented using virtual threads? Or is there something that would prevent <code>stream.parallel().…</code> from utilizing so many threads?"}],"owner":{"account_id":5091045,"reputation":1252,"user_id":4084107,"accept_rate":30,"display_name":"Warren Nocos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695608721,"creation_date":1683385242,"question_id":76189571,"body_markdown":"I&#39;m experimenting with Java virtual threads and wonder if it&#39;s possible to run parallel `Stream`s with virtual threads. By default, parallel streams are run on the common `ForkJoinPool`, but one could use a custom thread pool by calling a `Stream`&#39;s terminal operation on the worker thread of another `ForkJoinPool`. But as of JDK 20, `ForkJoinPool` can only manage threads of `ForkJoinWorkerThread` instances. \r\n\r\nIs there a `VirtualThread` equivalent for `ForkJoinWorkerThread`? Or is there an alternative way to run tasks in a work-stealing manner using virtual threads? ","title":"Parallel Stream with virtual threads: Java VirtualThread equivalent for ForkJoinWorkerThread","body":"<p>I'm experimenting with Java virtual threads and wonder if it's possible to run parallel <code>Stream</code>s with virtual threads. By default, parallel streams are run on the common <code>ForkJoinPool</code>, but one could use a custom thread pool by calling a <code>Stream</code>'s terminal operation on the worker thread of another <code>ForkJoinPool</code>. But as of JDK 20, <code>ForkJoinPool</code> can only manage threads of <code>ForkJoinWorkerThread</code> instances.</p>\n<p>Is there a <code>VirtualThread</code> equivalent for <code>ForkJoinWorkerThread</code>? Or is there an alternative way to run tasks in a work-stealing manner using virtual threads?</p>\n"},{"tags":["java","sockets","nio"],"answers":[{"comments":[{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431541536,"post_id":30222535,"comment_id":48548918,"body_markdown":"I used dataoutputstreams when i was using regular IO instead of NIO. Would that make a difference?","body":"I used dataoutputstreams when i was using regular IO instead of NIO. Would that make a difference?"},{"owner":{"account_id":2527969,"reputation":216,"user_id":2196913,"accept_rate":50,"display_name":"NewGuyInJava"},"score":0,"creation_date":1431541678,"post_id":30222535,"comment_id":48549000,"body_markdown":"I think yes.. Here is what I developed few months ago.. Its a basic chat/server client. Hope thi shelps.. http://stackoverflow.com/questions/24536934/java-multiple-thread-chat-server-sends-message-to-only-1-client","body":"I think yes.. Here is what I developed few months ago.. Its a basic chat/server client. Hope thi shelps.. <a href=\"http://stackoverflow.com/questions/24536934/java-multiple-thread-chat-server-sends-message-to-only-1-client\" title=\"java multiple thread chat server sends message to only 1 client\">stackoverflow.com/questions/24536934/&hellip;</a>"},{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431542114,"post_id":30222535,"comment_id":48549257,"body_markdown":"I&#39;m not sure if that will work. I need multiple client connections and each client connects to multiple ports which is why I&#39;m using NIO. dataoutputstreams worked completely fine with regular IO on sockets however sockets block on accept so I need to use NIO.","body":"I&#39;m not sure if that will work. I need multiple client connections and each client connects to multiple ports which is why I&#39;m using NIO. dataoutputstreams worked completely fine with regular IO on sockets however sockets block on accept so I need to use NIO."}],"tags":[],"owner":{"account_id":2527969,"reputation":216,"user_id":2196913,"accept_rate":50,"display_name":"NewGuyInJava"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431541454,"creation_date":1431541454,"answer_id":30222535,"question_id":30222302,"body_markdown":"Don&#39;t have enough rep for comments so posting as answer. I am no expert but I believe you will have to use a PrintWriter on sockets output stream to pass the text back and forth. Here thisClient is a socket.\r\n\r\n    writer = new PrintWriter(thisClient.getOutputStream());\r\n    System.out.println(&quot;Transmitting&quot;);\r\n    writer.println(msg);\r\n    writer.flush();","title":"SocketChannel sockets not reading data","body":"<p>Don't have enough rep for comments so posting as answer. I am no expert but I believe you will have to use a PrintWriter on sockets output stream to pass the text back and forth. Here thisClient is a socket.</p>\n\n<pre><code>writer = new PrintWriter(thisClient.getOutputStream());\nSystem.out.println(\"Transmitting\");\nwriter.println(msg);\nwriter.flush();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431542254,"post_id":30222730,"comment_id":48549327,"body_markdown":"Will this work for multiple clients connecting to the server? I need a client, which will connect at a random time, to connect to the server. This client gives the server his IP address. Then the client opens up 3 server sockets and the server connects to these 3 sockets. The server then sends data on each socket and the client reads the data from each socket.","body":"Will this work for multiple clients connecting to the server? I need a client, which will connect at a random time, to connect to the server. This client gives the server his IP address. Then the client opens up 3 server sockets and the server connects to these 3 sockets. The server then sends data on each socket and the client reads the data from each socket."},{"owner":{"account_id":37327,"reputation":82714,"user_id":106671,"display_name":"Nikolai Fetissov"},"score":0,"creation_date":1431542439,"post_id":30222730,"comment_id":48549418,"body_markdown":"It will work. You don&#39;t need to connect back to the client though - once client establishes a TCP connection it&#39;s a ***bi-directional stream of bytes***. Also in general the clients could be behind a NAT-ing firewall, and the server will not be able to connect back to them.","body":"It will work. You don&#39;t need to connect back to the client though - once client establishes a TCP connection it&#39;s a <b><i>bi-directional stream of bytes</i></b>. Also in general the clients could be behind a NAT-ing firewall, and the server will not be able to connect back to them."},{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431542668,"post_id":30222730,"comment_id":48549562,"body_markdown":"I tried adding OP_READ to the selector and I was getting illegal argument exceptions although I probably wasn&#39;t adding them in the right place. Can you explain your suggestion a bit more? It does make sense, I&#39;m just not sure exactly how to implement. This application will only run on the local network and so firewalls are not a concern. I probably don&#39;t need threads, it just seemed like the only way to do this. I also used to have isReadable for the socket channel but it didn&#39;t work.","body":"I tried adding OP_READ to the selector and I was getting illegal argument exceptions although I probably wasn&#39;t adding them in the right place. Can you explain your suggestion a bit more? It does make sense, I&#39;m just not sure exactly how to implement. This application will only run on the local network and so firewalls are not a concern. I probably don&#39;t need threads, it just seemed like the only way to do this. I also used to have isReadable for the socket channel but it didn&#39;t work."},{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431542877,"post_id":30222730,"comment_id":48549677,"body_markdown":"The other issue is that the client will keep running the code in isAcceptable and it tries to set configureBlocking again and hits a null pointer.","body":"The other issue is that the client will keep running the code in isAcceptable and it tries to set configureBlocking again and hits a null pointer."},{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431544339,"post_id":30222730,"comment_id":48550601,"body_markdown":"I was able to get it to send data by changing a few things. I had to keep selectedKeys.remove so that it would stop running the accept method first. However in my switch statement, I would add the selector back in with OP_READ as you suggested and now its working. Now i just need to figure out how to decode the bytebuffer into an int.","body":"I was able to get it to send data by changing a few things. I had to keep selectedKeys.remove so that it would stop running the accept method first. However in my switch statement, I would add the selector back in with OP_READ as you suggested and now its working. Now i just need to figure out how to decode the bytebuffer into an int."},{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431545841,"post_id":30222730,"comment_id":48551441,"body_markdown":"Another weird problem. Although I got it working, when I test both client and server on my computer, it sends the data properly (keycodes). However when I run the client on my laptop that is connected to the same network, when I hit a key on my PC, the laptop generates a buffer underflow exception. No idea why it works on one computer but not on the other.","body":"Another weird problem. Although I got it working, when I test both client and server on my computer, it sends the data properly (keycodes). However when I run the client on my laptop that is connected to the same network, when I hit a key on my PC, the laptop generates a buffer underflow exception. No idea why it works on one computer but not on the other."},{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431547548,"post_id":30222730,"comment_id":48552355,"body_markdown":"So when the client is run on a separate computer, numBytesRead is returning 1 instead of 4 so of couse trying to readInt on that is generating an error. I have no idea why it&#39;s only reading 1 byte.","body":"So when the client is run on a separate computer, numBytesRead is returning 1 instead of 4 so of couse trying to readInt on that is generating an error. I have no idea why it&#39;s only reading 1 byte."},{"owner":{"account_id":37327,"reputation":82714,"user_id":106671,"display_name":"Nikolai Fetissov"},"score":0,"creation_date":1431548313,"post_id":30222730,"comment_id":48552741,"body_markdown":"TCP connection is a *stream of bytes** - underlying OS stack can slice the bytes you send any way it wants. You have to deal with that.","body":"TCP connection is a <i>stream of bytes*</i> - underlying OS stack can slice the bytes you send any way it wants. You have to deal with that."},{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431548424,"post_id":30222730,"comment_id":48552797,"body_markdown":"I was going by that assumption, that it wasnt reading all of the bytes. I made multipel calls to socketchannel.read() and checked their size however it reports 1 byte and then 0 after that, so the rest of the bytes are not being sent. Is this a sender or receiver issue?","body":"I was going by that assumption, that it wasnt reading all of the bytes. I made multipel calls to socketchannel.read() and checked their size however it reports 1 byte and then 0 after that, so the rest of the bytes are not being sent. Is this a sender or receiver issue?"},{"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"score":0,"creation_date":1431548926,"post_id":30222730,"comment_id":48553030,"body_markdown":"After that last comment, I did something else by adding a while loop and checking for buffer.remaining and now its working. Thanks a lot!","body":"After that last comment, I did something else by adding a while loop and checking for buffer.remaining and now its working. Thanks a lot!"}],"tags":[],"owner":{"account_id":37327,"reputation":82714,"user_id":106671,"display_name":"Nikolai Fetissov"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695608382,"creation_date":1431542118,"answer_id":30222730,"question_id":30222302,"body_markdown":"This is not how IO multiplexing is supposed to work.\r\n\r\nOnce a connection is accepted and marked non-blocking, add it to the same selector with `OP_READ`. Check for readable event in the loop, read from the socket. You don&#39;t need threads for this.\r\n\r\nAlternatively, if you want to go with threads, don&#39;t set accepted client connection as non-blocking, just do regular reads from it in the dedicated thread.\r\n\r\n&lt;h3&gt;Edit 0:&lt;/h3&gt;\r\nThe best advise I can offer is to go over some good Java NIO tutorial. There many on the Intenet, but you can start here:\r\n\r\n  - http://docs.oracle.com/javase/1.5.0/docs/guide/nio/example/index.html\r\n  - http://tutorials.jenkov.com/java-nio/index.html","title":"SocketChannel sockets not reading data","body":"<p>This is not how IO multiplexing is supposed to work.</p>\n<p>Once a connection is accepted and marked non-blocking, add it to the same selector with <code>OP_READ</code>. Check for readable event in the loop, read from the socket. You don't need threads for this.</p>\n<p>Alternatively, if you want to go with threads, don't set accepted client connection as non-blocking, just do regular reads from it in the dedicated thread.</p>\n<h3>Edit 0:</h3>\nThe best advise I can offer is to go over some good Java NIO tutorial. There many on the Intenet, but you can start here:\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/nio/example/index.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/guide/nio/example/index.html</a></li>\n<li><a href=\"http://tutorials.jenkov.com/java-nio/index.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java-nio/index.html</a></li>\n</ul>\n"}],"owner":{"account_id":1040774,"reputation":407,"user_id":1046844,"accept_rate":53,"display_name":"Richard Chase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1043,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30222730,"answer_count":2,"score":1,"last_activity_date":1695608382,"creation_date":1431540581,"question_id":30222302,"body_markdown":"Here is my code. From the TestServer, I&#39;m trying to send data through an outputstream and have it received from the test client. I&#39;m using a SocketChannel because I need the client to listen on 3 ports at the same time. At the moment, i&#39;m only trying to read from one socket. However it doesnt seem to be receiving any data from the server. For the run method of KBThread, if I uncomment the nodata println, that will execute over and over.\r\n\r\nTestServer.java\r\n\r\n\r\n\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.*;\r\n    \r\n    \r\n    public class TestServer extends JPanel implements KeyListener, MouseListener, MouseMotionListener {\r\n        \r\n        private final int MAX_CLIENTS = 8;\r\n        \r\n        JPanel listenerPanel = new JPanel();\r\n        JFrame listenerFrame = new JFrame();\r\n        \r\n        static DataOutputStream kbOut;\r\n        static DataOutputStream mOut;\r\n        static Socket dataSocket;\r\n        \r\n        public TestServer() {\r\n            this.setFocusable(true);\r\n            listenerPanel.addKeyListener(this);\r\n            listenerPanel.addMouseMotionListener(this);\r\n            \r\n            listenerFrame.add(listenerPanel);\r\n            listenerFrame.setSize(1376,808); // 10 more x, 40 more y.\r\n            listenerFrame.setVisible(true);\r\n            listenerFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            listenerPanel.requestFocusInWindow();\r\n       \r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            new TestServer().startServer();\r\n        }\r\n        \r\n        public void startServer() {\r\n            \r\n            final ExecutorService clientProcessingPool = Executors.newFixedThreadPool(MAX_CLIENTS);\r\n            \r\n            Runnable serverTask = () -&gt; {\r\n                try {\r\n                    ServerSocket serverSocket = new ServerSocket(1111);\r\n                    System.out.println(&quot;Waiting for clients.&quot;);\r\n                    while (true) {\r\n                        Socket clientSocket = serverSocket.accept();\r\n                        clientProcessingPool.submit(new ClientTask(clientSocket));\r\n                    }\r\n                } catch (IOException ex) {\r\n                    System.err.println(&quot;Error with client socket.&quot;);\r\n                }\r\n            };\r\n            \r\n            Thread serverThread = new Thread(serverTask);\r\n            serverThread.start();\r\n        }\r\n        \r\n        private class ClientTask implements Runnable {\r\n            private final Socket clientSocket;\r\n            \r\n            private ClientTask(Socket clientSocket) {\r\n                this.clientSocket = clientSocket;\r\n            }\r\n            \r\n            @Override\r\n            public void run() {\r\n                \r\n                try {\r\n                    String clientIP = clientSocket.getInetAddress().getHostAddress();\r\n                    System.out.println(&quot;Client connected from &quot; + clientIP);\r\n                    \r\n                    Socket kbSocket = new Socket(clientIP, 1112);\r\n                    System.out.println(&quot;Keyboard socket connected to &quot; + clientIP);\r\n                    kbOut = new DataOutputStream(kbSocket.getOutputStream());\r\n                    \r\n                    Socket mSocket = new Socket(clientIP, 1113);\r\n                    System.out.println(&quot;Mouse socket connected to &quot; + clientIP);\r\n                    mOut = new DataOutputStream(mSocket.getOutputStream());\r\n                    \r\n                    //new TestServer().startKBServer(clientIP);\r\n                    //new TestServer().startMServer(clientIP);\r\n                    \r\n                    try {\r\n                        clientSocket.close();\r\n                    } catch (IOException ex) {\r\n                    }\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(TestServer.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void startKBServer(String clientAddress) {\r\n            \r\n            Runnable kbTask = () -&gt; {\r\n                try {\r\n                    Socket kbSocket = new Socket(clientAddress, 1112);\r\n                    System.out.println(&quot;Keyboard socket connected to &quot; + clientAddress);\r\n                    new KBTask(kbSocket);\r\n                    \r\n                } catch (IOException ex) {\r\n                    System.out.println(&quot;Error Calling Back &quot; + clientAddress);\r\n                }\r\n            };\r\n            \r\n            Thread kbThread = new Thread(kbTask);\r\n            kbThread.start();\r\n        }\r\n        \r\n        private class KBTask implements Runnable {\r\n            private final Socket kbSocket;\r\n            \r\n            private KBTask(Socket kbSocket) {\r\n                this.kbSocket = kbSocket;\r\n            }\r\n            \r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    kbOut = new DataOutputStream(kbSocket.getOutputStream());\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(TestServer.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        }\r\n        \r\n        @Override\r\n        public void keyPressed(KeyEvent ke) {\r\n            try {\r\n                int key = ke.getKeyCode();\r\n    \r\n                System.out.println(&quot;Key Pressed: &quot; + key);\r\n                \r\n                kbOut.writeInt(key);\r\n                kbOut.flush();\r\n                \r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error writing key data to server&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void keyReleased(KeyEvent ke) {\r\n            try {\r\n                int key = ke.getKeyCode();\r\n                \r\n                System.out.println(&quot;Key Pressed: &quot; + -key);\r\n                \r\n                kbOut.writeInt(-key);\r\n                kbOut.flush();\r\n                \r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error writing -key data to server&quot;);\r\n            }\r\n        }\r\n        \r\n            @Override\r\n        public void mouseMoved(MouseEvent me) {\r\n            try {\r\n                int mouseX = me.getX();\r\n                int mouseY = me.getY();\r\n                \r\n                if (mOut != null) {\r\n                    mOut.writeInt(mouseX);\r\n                    mOut.writeInt(mouseY);\r\n                    mOut.flush();\r\n                    System.out.println(&quot;Mouse Moved To: &quot; + mouseX + &quot;,&quot; + mouseY);\r\n                }\r\n                \r\n                \r\n            } catch (IOException | NullPointerException ex) {\r\n                System.out.println(&quot;Error writing mouse data to server&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void mouseClicked(MouseEvent me) {\r\n      \r\n        }\r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseDragged(MouseEvent me) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void keyTyped(KeyEvent ke) {\r\n    \r\n        }\r\n    }\r\n\r\nTestClient.java\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.io.BufferedReader;\r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.ConnectException;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.SelectionKey;\r\n    import java.nio.channels.Selector;\r\n    import java.nio.channels.ServerSocketChannel;\r\n    import java.nio.channels.SocketChannel;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    \r\n    public class TestClient {\r\n        \r\n        private final static String SERVER_IP = &quot;192.168.0.50&quot;;\r\n        \r\n        JPanel clientPanel = new JPanel();\r\n        JFrame clientFrame = new JFrame();\r\n        \r\n        public void setupGUI() {\r\n            \r\n            clientFrame.add(clientPanel);\r\n            clientFrame.setSize(200,200);\r\n            clientFrame.setVisible(true);\r\n            clientFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            clientPanel.requestFocusInWindow();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            try {\r\n                new TestClient().setupGUI();\r\n                \r\n                Robot keyRobot = new Robot();\r\n                \r\n                Socket firstSocket = new Socket(SERVER_IP, 1111);\r\n                System.out.println(&quot;Connected to Commander. Address sent. Waiting for callback.&quot;);\r\n                firstSocket.close();\r\n                \r\n                Selector selector = Selector.open();\r\n                \r\n                int ports[] = new int[] { 1112, 1113 };\r\n                \r\n                for (int port : ports) {\r\n                    ServerSocketChannel serverChannel = ServerSocketChannel.open();\r\n                    serverChannel.configureBlocking(false);\r\n                    serverChannel.socket().bind(new InetSocketAddress(port));\r\n                    serverChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n                }\r\n                \r\n                while (true) {\r\n                    // After the 2 accept methods fire, it stops here and program doesnt continue.\r\n                    selector.select();\r\n                    Set setKeys = selector.selectedKeys();\r\n                    Iterator selectedKeys = setKeys.iterator();\r\n                    \r\n                    \r\n                    while (selectedKeys.hasNext()) {\r\n                        SelectionKey selectedKey = (SelectionKey) selectedKeys.next();\r\n                        if (selectedKey.isAcceptable()) {\r\n                            SocketChannel socketChannel = ((ServerSocketChannel) selectedKey.channel()).accept();\r\n                            socketChannel.configureBlocking(false);\r\n                            \r\n                            switch (socketChannel.socket().getLocalPort()) {\r\n                                case 1112:\r\n                                    System.out.println(&quot;Keyboard socket open.&quot;);\r\n                                    Runnable kbr = new KBThread(socketChannel.socket());\r\n                                    new Thread(kbr).start();\r\n                                    break;\r\n                                \r\n                                case 1113:\r\n                                    System.out.println(&quot;Mouse socket open.&quot;);\r\n                                    break;\r\n                            }\r\n                        }\r\n                        selectedKeys.remove();\r\n                    }\r\n                    \r\n                    \r\n                }\r\n                \r\n                } catch (ConnectException ece) {\r\n                System.out.println(&quot;Failed to connect to server: &quot; + SERVER_IP);\r\n            } catch (IOException | AWTException eio) {\r\n                Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, eio);\r\n            }\r\n        }\r\n        \r\n        private static class KBThread implements Runnable {\r\n            private final Socket kbSocket;\r\n            private int dataID = 0;\r\n            \r\n            private KBThread(Socket kbSocket) {\r\n                this.kbSocket = kbSocket;\r\n            }\r\n            \r\n            @Override\r\n            public void run() {\r\n    \r\n                try {\r\n                    DataInputStream kbDis = new DataInputStream(kbSocket.getInputStream());\r\n                    while (true) {\r\n                        try {\r\n                            \r\n                            \r\n                            if (kbDis.available() &gt; 0) {\r\n                                dataID = kbDis.readInt();\r\n                                System.out.println(dataID);\r\n                            }\r\n                            //else System.out.println(&quot;noData&quot;);\r\n                        } catch (IOException ex) {\r\n                            Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, ex);\r\n                        }\r\n                    }\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        }\r\n    }","title":"SocketChannel sockets not reading data","body":"<p>Here is my code. From the TestServer, I'm trying to send data through an outputstream and have it received from the test client. I'm using a SocketChannel because I need the client to listen on 3 ports at the same time. At the moment, i'm only trying to read from one socket. However it doesnt seem to be receiving any data from the server. For the run method of KBThread, if I uncomment the nodata println, that will execute over and over.</p>\n\n<p>TestServer.java</p>\n\n<pre><code>import java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.*;\n\n\npublic class TestServer extends JPanel implements KeyListener, MouseListener, MouseMotionListener {\n\n    private final int MAX_CLIENTS = 8;\n\n    JPanel listenerPanel = new JPanel();\n    JFrame listenerFrame = new JFrame();\n\n    static DataOutputStream kbOut;\n    static DataOutputStream mOut;\n    static Socket dataSocket;\n\n    public TestServer() {\n        this.setFocusable(true);\n        listenerPanel.addKeyListener(this);\n        listenerPanel.addMouseMotionListener(this);\n\n        listenerFrame.add(listenerPanel);\n        listenerFrame.setSize(1376,808); // 10 more x, 40 more y.\n        listenerFrame.setVisible(true);\n        listenerFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        listenerPanel.requestFocusInWindow();\n\n    }\n\n    public static void main(String[] args) {\n\n        new TestServer().startServer();\n    }\n\n    public void startServer() {\n\n        final ExecutorService clientProcessingPool = Executors.newFixedThreadPool(MAX_CLIENTS);\n\n        Runnable serverTask = () -&gt; {\n            try {\n                ServerSocket serverSocket = new ServerSocket(1111);\n                System.out.println(\"Waiting for clients.\");\n                while (true) {\n                    Socket clientSocket = serverSocket.accept();\n                    clientProcessingPool.submit(new ClientTask(clientSocket));\n                }\n            } catch (IOException ex) {\n                System.err.println(\"Error with client socket.\");\n            }\n        };\n\n        Thread serverThread = new Thread(serverTask);\n        serverThread.start();\n    }\n\n    private class ClientTask implements Runnable {\n        private final Socket clientSocket;\n\n        private ClientTask(Socket clientSocket) {\n            this.clientSocket = clientSocket;\n        }\n\n        @Override\n        public void run() {\n\n            try {\n                String clientIP = clientSocket.getInetAddress().getHostAddress();\n                System.out.println(\"Client connected from \" + clientIP);\n\n                Socket kbSocket = new Socket(clientIP, 1112);\n                System.out.println(\"Keyboard socket connected to \" + clientIP);\n                kbOut = new DataOutputStream(kbSocket.getOutputStream());\n\n                Socket mSocket = new Socket(clientIP, 1113);\n                System.out.println(\"Mouse socket connected to \" + clientIP);\n                mOut = new DataOutputStream(mSocket.getOutputStream());\n\n                //new TestServer().startKBServer(clientIP);\n                //new TestServer().startMServer(clientIP);\n\n                try {\n                    clientSocket.close();\n                } catch (IOException ex) {\n                }\n            } catch (IOException ex) {\n                Logger.getLogger(TestServer.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    }\n\n    public void startKBServer(String clientAddress) {\n\n        Runnable kbTask = () -&gt; {\n            try {\n                Socket kbSocket = new Socket(clientAddress, 1112);\n                System.out.println(\"Keyboard socket connected to \" + clientAddress);\n                new KBTask(kbSocket);\n\n            } catch (IOException ex) {\n                System.out.println(\"Error Calling Back \" + clientAddress);\n            }\n        };\n\n        Thread kbThread = new Thread(kbTask);\n        kbThread.start();\n    }\n\n    private class KBTask implements Runnable {\n        private final Socket kbSocket;\n\n        private KBTask(Socket kbSocket) {\n            this.kbSocket = kbSocket;\n        }\n\n        @Override\n        public void run() {\n            try {\n                kbOut = new DataOutputStream(kbSocket.getOutputStream());\n            } catch (IOException ex) {\n                Logger.getLogger(TestServer.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    }\n\n    @Override\n    public void keyPressed(KeyEvent ke) {\n        try {\n            int key = ke.getKeyCode();\n\n            System.out.println(\"Key Pressed: \" + key);\n\n            kbOut.writeInt(key);\n            kbOut.flush();\n\n        } catch (IOException ex) {\n            System.out.println(\"Error writing key data to server\");\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent ke) {\n        try {\n            int key = ke.getKeyCode();\n\n            System.out.println(\"Key Pressed: \" + -key);\n\n            kbOut.writeInt(-key);\n            kbOut.flush();\n\n        } catch (IOException ex) {\n            System.out.println(\"Error writing -key data to server\");\n        }\n    }\n\n        @Override\n    public void mouseMoved(MouseEvent me) {\n        try {\n            int mouseX = me.getX();\n            int mouseY = me.getY();\n\n            if (mOut != null) {\n                mOut.writeInt(mouseX);\n                mOut.writeInt(mouseY);\n                mOut.flush();\n                System.out.println(\"Mouse Moved To: \" + mouseX + \",\" + mouseY);\n            }\n\n\n        } catch (IOException | NullPointerException ex) {\n            System.out.println(\"Error writing mouse data to server\");\n        }\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent me) {\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent me) {\n\n    }\n\n    @Override\n    public void keyTyped(KeyEvent ke) {\n\n    }\n}\n</code></pre>\n\n<p>TestClient.java</p>\n\n<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.io.BufferedReader;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.ConnectException;\nimport java.net.InetSocketAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n\npublic class TestClient {\n\n    private final static String SERVER_IP = \"192.168.0.50\";\n\n    JPanel clientPanel = new JPanel();\n    JFrame clientFrame = new JFrame();\n\n    public void setupGUI() {\n\n        clientFrame.add(clientPanel);\n        clientFrame.setSize(200,200);\n        clientFrame.setVisible(true);\n        clientFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        clientPanel.requestFocusInWindow();\n    }\n\n    public static void main(String[] args) {\n\n        try {\n            new TestClient().setupGUI();\n\n            Robot keyRobot = new Robot();\n\n            Socket firstSocket = new Socket(SERVER_IP, 1111);\n            System.out.println(\"Connected to Commander. Address sent. Waiting for callback.\");\n            firstSocket.close();\n\n            Selector selector = Selector.open();\n\n            int ports[] = new int[] { 1112, 1113 };\n\n            for (int port : ports) {\n                ServerSocketChannel serverChannel = ServerSocketChannel.open();\n                serverChannel.configureBlocking(false);\n                serverChannel.socket().bind(new InetSocketAddress(port));\n                serverChannel.register(selector, SelectionKey.OP_ACCEPT);\n            }\n\n            while (true) {\n                // After the 2 accept methods fire, it stops here and program doesnt continue.\n                selector.select();\n                Set setKeys = selector.selectedKeys();\n                Iterator selectedKeys = setKeys.iterator();\n\n\n                while (selectedKeys.hasNext()) {\n                    SelectionKey selectedKey = (SelectionKey) selectedKeys.next();\n                    if (selectedKey.isAcceptable()) {\n                        SocketChannel socketChannel = ((ServerSocketChannel) selectedKey.channel()).accept();\n                        socketChannel.configureBlocking(false);\n\n                        switch (socketChannel.socket().getLocalPort()) {\n                            case 1112:\n                                System.out.println(\"Keyboard socket open.\");\n                                Runnable kbr = new KBThread(socketChannel.socket());\n                                new Thread(kbr).start();\n                                break;\n\n                            case 1113:\n                                System.out.println(\"Mouse socket open.\");\n                                break;\n                        }\n                    }\n                    selectedKeys.remove();\n                }\n\n\n            }\n\n            } catch (ConnectException ece) {\n            System.out.println(\"Failed to connect to server: \" + SERVER_IP);\n        } catch (IOException | AWTException eio) {\n            Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, eio);\n        }\n    }\n\n    private static class KBThread implements Runnable {\n        private final Socket kbSocket;\n        private int dataID = 0;\n\n        private KBThread(Socket kbSocket) {\n            this.kbSocket = kbSocket;\n        }\n\n        @Override\n        public void run() {\n\n            try {\n                DataInputStream kbDis = new DataInputStream(kbSocket.getInputStream());\n                while (true) {\n                    try {\n\n\n                        if (kbDis.available() &gt; 0) {\n                            dataID = kbDis.readInt();\n                            System.out.println(dataID);\n                        }\n                        //else System.out.println(\"noData\");\n                    } catch (IOException ex) {\n                        Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, ex);\n                    }\n                }\n            } catch (IOException ex) {\n                Logger.getLogger(TestClient.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sockets","nio","socketchannel"],"answers":[{"comments":[{"owner":{"account_id":1815939,"reputation":1109,"user_id":1651015,"accept_rate":38,"display_name":"Mayank"},"score":0,"creation_date":1413864054,"post_id":4140432,"comment_id":41593924,"body_markdown":"sry for being naive, but how can I unregister `OP_READ` ?","body":"sry for being naive, but how can I unregister <code>OP_READ</code> ?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695607798,"post_id":4140432,"comment_id":136042447,"body_markdown":"@Mayank With `SelectionKey.interestOps()`.","body":"@Mayank With <code>SelectionKey.interestOps()</code>."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695607780,"creation_date":1289352250,"answer_id":4140432,"question_id":4139300,"body_markdown":"If `bytesRead &lt; 0` you should close the channel, or at least deregister `OP_READ`. Otherwise you will keep getting `OP_READ` over and over again to tell you about the EOS.\r\n\r\nYou shouldn&#39;t allocate your `ByteBuffer` once per read. Allocating `ByteBuffer`s is an expensive operation. At least allocate it once per entry to the read method. Better still, allocate one per channel when you accept it. You can keep it as, or via, the key attachment so you don&#39;t lose it, and so it disappears when you cancel the key or close the channel.","title":"SocketChannel fires isReadable() but nothing to read","body":"<p>If <code>bytesRead &lt; 0</code> you should close the channel, or at least deregister <code>OP_READ</code>. Otherwise you will keep getting <code>OP_READ</code> over and over again to tell you about the EOS.</p>\n<p>You shouldn't allocate your <code>ByteBuffer</code> once per read. Allocating <code>ByteBuffer</code>s is an expensive operation. At least allocate it once per entry to the read method. Better still, allocate one per channel when you accept it. You can keep it as, or via, the key attachment so you don't lose it, and so it disappears when you cancel the key or close the channel.</p>\n"},{"comments":[{"owner":{"account_id":767778,"reputation":344,"user_id":801487,"accept_rate":57,"display_name":"Jakob Jenkov"},"score":1,"creation_date":1423780778,"post_id":23600277,"comment_id":45299936,"body_markdown":"I have the same problem even if I remove the selection key from the selection set.","body":"I have the same problem even if I remove the selection key from the selection set."}],"tags":[],"owner":{"account_id":939902,"reputation":352,"user_id":968152,"display_name":"Eugene Chung"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399862475,"creation_date":1399862475,"answer_id":23600277,"question_id":4139300,"body_markdown":"The SelectionKey which has been read all should be removed from the set returned by Selector.\r\n\r\nI think this article would help you understand.\r\n\r\nhttps://stackoverflow.com/questions/7132057/why-the-key-should-be-removed-in-selector-selectedkeys-iterator-in-java-ni","title":"SocketChannel fires isReadable() but nothing to read","body":"<p>The SelectionKey which has been read all should be removed from the set returned by Selector.</p>\n\n<p>I think this article would help you understand.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7132057/why-the-key-should-be-removed-in-selector-selectedkeys-iterator-in-java-ni\">Why the key should be removed in `selector.selectedKeys().iterator()` in java nio?</a></p>\n"}],"owner":{"account_id":229628,"reputation":313,"user_id":492704,"accept_rate":100,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2913,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4140432,"answer_count":2,"score":4,"last_activity_date":1695607780,"creation_date":1289341444,"question_id":4139300,"body_markdown":"I have got a new problem with my Android app. The `SocketChannel` tells me that it `isReadable()` but there is nothing to read.\r\n\r\n    while(running)\r\n        {\r\n            int readyChannels = 0;\r\n            try {\r\n                readyChannels = selector.select();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            if(readyChannels == 0) continue;\r\n            \r\n            Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\r\n            Iterator&lt;SelectionKey&gt; keyIterator = selectedKeys.iterator();\r\n            \r\n            while(keyIterator.hasNext())\r\n            {\r\n                SelectionKey key1 = keyIterator.next();\r\n                \r\n                if(key1.isReadable())\r\n                {\r\n                    publishProgress(1);\r\n                }\r\n                \r\n                else if(key1.isWritable())\r\n                {\r\n                    publishProgress(2);\r\n                }\r\n                \r\n                else if(!key1.isValid())\r\n                {\r\n                    Log.e(&quot;State&quot;, &quot;progress error&quot;);\r\n                    publishProgress(3);\r\n                }\r\n            }\r\n        }\r\n\r\nI call the needed functions in `onProgressUpdate`. It is a `WebSocket` app so I need to send and receive a handshake. Sending and receiving the handshake works with this while loop. First the `SelectionKey.isWriteable()` and the handshake is sent then the `SelectionKey.isReadable()` and the handshake is read. But then `SelectionKey.isReadable()` is still true. Now the normal read function (not the `readHandshake`) function is called. But there is nothing to read. Here is the code of my read function:\r\n\r\n    public byte[] read(int nBytes)\r\n    {\r\n        Log.e(&quot;State&quot;, &quot;public byte[] read(int nBytes) start&quot;);\r\n        \r\n        byte[] resultData = new byte[1024];\r\n        ByteBuffer data = ByteBuffer.wrap(resultData);\r\n        int remainingBytes = nBytes;\r\n        \r\n        while(remainingBytes &gt;= 0)\r\n        {\r\n            ByteBuffer buffer = ByteBuffer.allocate(1024);\r\n            int bytesRead = 0;\r\n            try {\r\n                bytesRead = channel.read(buffer);\r\n            } catch (IOException e) {\r\n                Log.e(&quot;ERROR&quot;, &quot;channel read&quot;);\r\n            }\r\n            \r\n            if(bytesRead &lt; 0)\r\n            {\r\n                sockState = WebSocketState.WebSocketErrorOccurred;\r\n            }\r\n            \r\n            else\r\n            {\r\n                remainingBytes = remainingBytes - bytesRead;\r\n                data.put(buffer.array(), 0, bytesRead);\r\n            }\r\n        }\r\n        \r\n        Log.e(&quot;State&quot;, &quot;public byte[] read(int nBytes) done&quot;);\r\n        \r\n        return resultData;\r\n    }\r\n\r\nNow it gets stuck in an endless while loop. remainingBytes never gets &lt; 0 because there is nothing to read and bytesRead stays 0.\r\n\r\nMy question is why is isReadable true when there is nothing to read?","title":"SocketChannel fires isReadable() but nothing to read","body":"<p>I have got a new problem with my Android app. The <code>SocketChannel</code> tells me that it <code>isReadable()</code> but there is nothing to read.</p>\n\n<pre><code>while(running)\n    {\n        int readyChannels = 0;\n        try {\n            readyChannels = selector.select();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        if(readyChannels == 0) continue;\n\n        Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\n        Iterator&lt;SelectionKey&gt; keyIterator = selectedKeys.iterator();\n\n        while(keyIterator.hasNext())\n        {\n            SelectionKey key1 = keyIterator.next();\n\n            if(key1.isReadable())\n            {\n                publishProgress(1);\n            }\n\n            else if(key1.isWritable())\n            {\n                publishProgress(2);\n            }\n\n            else if(!key1.isValid())\n            {\n                Log.e(\"State\", \"progress error\");\n                publishProgress(3);\n            }\n        }\n    }\n</code></pre>\n\n<p>I call the needed functions in <code>onProgressUpdate</code>. It is a <code>WebSocket</code> app so I need to send and receive a handshake. Sending and receiving the handshake works with this while loop. First the <code>SelectionKey.isWriteable()</code> and the handshake is sent then the <code>SelectionKey.isReadable()</code> and the handshake is read. But then <code>SelectionKey.isReadable()</code> is still true. Now the normal read function (not the <code>readHandshake</code>) function is called. But there is nothing to read. Here is the code of my read function:</p>\n\n<pre><code>public byte[] read(int nBytes)\n{\n    Log.e(\"State\", \"public byte[] read(int nBytes) start\");\n\n    byte[] resultData = new byte[1024];\n    ByteBuffer data = ByteBuffer.wrap(resultData);\n    int remainingBytes = nBytes;\n\n    while(remainingBytes &gt;= 0)\n    {\n        ByteBuffer buffer = ByteBuffer.allocate(1024);\n        int bytesRead = 0;\n        try {\n            bytesRead = channel.read(buffer);\n        } catch (IOException e) {\n            Log.e(\"ERROR\", \"channel read\");\n        }\n\n        if(bytesRead &lt; 0)\n        {\n            sockState = WebSocketState.WebSocketErrorOccurred;\n        }\n\n        else\n        {\n            remainingBytes = remainingBytes - bytesRead;\n            data.put(buffer.array(), 0, bytesRead);\n        }\n    }\n\n    Log.e(\"State\", \"public byte[] read(int nBytes) done\");\n\n    return resultData;\n}\n</code></pre>\n\n<p>Now it gets stuck in an endless while loop. remainingBytes never gets &lt; 0 because there is nothing to read and bytesRead stays 0.</p>\n\n<p>My question is why is isReadable true when there is nothing to read?</p>\n"},{"tags":["java","android","sockets","nio"],"comments":[{"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"score":0,"creation_date":1288736852,"post_id":4081594,"comment_id":4389981,"body_markdown":"Do you have this problem on both emulator and devices?","body":"Do you have this problem on both emulator and devices?"}],"answers":[{"comments":[{"owner":{"account_id":229628,"reputation":313,"user_id":492704,"accept_rate":100,"display_name":"Martin"},"score":0,"creation_date":1288802279,"post_id":4082674,"comment_id":4398431,"body_markdown":"Thanks for your advice. It turned out to work on the device but not using the emulator.\nOf course it would be nice to test it in the emulator. Could you explain to me how to do these Network Redirections?","body":"Thanks for your advice. It turned out to work on the device but not using the emulator. Of course it would be nice to test it in the emulator. Could you explain to me how to do these Network Redirections?"},{"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"score":0,"creation_date":1288807973,"post_id":4082674,"comment_id":4399575,"body_markdown":"It&#39;s all described here: http://developer.android.com/guide/developing/tools/emulator.html#console\n1. Start emulator 2. Connect to emulator via telnet 3. Execute `redir add tcp:5000:6000` 4. Run your socket software on emulator on port 6000 5. Connect to port 5000 on your local PC and port will be redirected to emulator","body":"It&#39;s all described here: <a href=\"http://developer.android.com/guide/developing/tools/emulator.html#console\" rel=\"nofollow noreferrer\">developer.android.com/guide/developing/tools/&hellip;</a> 1. Start emulator 2. Connect to emulator via telnet 3. Execute <code>redir add tcp:5000:6000</code> 4. Run your socket software on emulator on port 6000 5. Connect to port 5000 on your local PC and port will be redirected to emulator"}],"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1288736989,"creation_date":1288736989,"answer_id":4082674,"question_id":4081594,"body_markdown":"Emulator sits behind a virtual router. You need to configure [Network Redirections][1] (port forwarding) to make a certain port on emulator visible to the outside network (including your computer).\r\n\r\n\r\n  [1]: http://developer.android.com/guide/developing/tools/emulator.html#redirections","title":"SocketChannel is not ready","body":"<p>Emulator sits behind a virtual router. You need to configure <a href=\"http://developer.android.com/guide/developing/tools/emulator.html#redirections\" rel=\"nofollow\">Network Redirections</a> (port forwarding) to make a certain port on emulator visible to the outside network (including your computer).</p>\n"},{"comments":[{"owner":{"account_id":229628,"reputation":313,"user_id":492704,"accept_rate":100,"display_name":"Martin"},"score":0,"creation_date":1288773331,"post_id":4082982,"comment_id":4393063,"body_markdown":"Thanks for you suggestions. This helps but does not solve the problem. There are still no Sockets ready.","body":"Thanks for you suggestions. This helps but does not solve the problem. There are still no Sockets ready."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1288851825,"post_id":4082982,"comment_id":4405005,"body_markdown":"Sounds like a bug in Android then, but you only need OP_WRITE to be ready if you have previously filled the socket send buffer, i.e. a prior write() has returned zero. If you haven&#39;t encountered this condition yet you don&#39;t have a problem yet. Just write().","body":"Sounds like a bug in Android then, but you only need OP_WRITE to be ready if you have previously filled the socket send buffer, i.e. a prior write() has returned zero. If you haven&#39;t encountered this condition yet you don&#39;t have a problem yet. Just write()."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695607664,"creation_date":1288740130,"answer_id":4082982,"question_id":4081594,"body_markdown":"There are several issues with this NIO code.\r\n\r\n1. Instead of connecting and then spinning around `finishConnect()`, possibly forever, you should connect before going into non-blocking mode. At the moment you&#39;re just burning the CPU, flattening the battery, etc.\r\n\r\n2. You should only register `OP_WRITE` when you have something to write. It is normally &#39;ready&#39;, so if you register the channel for it permanently your selection loop will just spin. The only time `OP_WRITE` isn&#39;t ready is when you have filled the socket send buffer.","title":"SocketChannel is not ready","body":"<p>There are several issues with this NIO code.</p>\n<ol>\n<li><p>Instead of connecting and then spinning around <code>finishConnect()</code>, possibly forever, you should connect before going into non-blocking mode. At the moment you're just burning the CPU, flattening the battery, etc.</p>\n</li>\n<li><p>You should only register <code>OP_WRITE</code> when you have something to write. It is normally 'ready', so if you register the channel for it permanently your selection loop will just spin. The only time <code>OP_WRITE</code> isn't ready is when you have filled the socket send buffer.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":229628,"reputation":313,"user_id":492704,"accept_rate":100,"display_name":"Martin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4082674,"answer_count":2,"score":1,"last_activity_date":1695607664,"creation_date":1288727795,"question_id":4081594,"body_markdown":"again i have got a problem with socket programming in Android. My Problem is Selector.select() returns zero that there are no SocketChannels ready for writing. And again the same code works in normal Java but does not work in Android. Here is my code:\r\n\r\n    package com.test;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.SocketAddress;\r\n    import java.nio.channels.ClosedChannelException;\r\n    import java.nio.channels.Selector;\r\n    import java.nio.channels.SocketChannel;\r\n    \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    \r\n    public class WebSocketTest extends Activity {\r\n        /** Called when the activity is first created. */\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            \r\n      SocketChannel channel = null;\r\n            \r\n            SocketAddress socketAdress = new InetSocketAddress(&quot;10.0.0.1&quot;, 8787);\r\n      \r\n      try {\r\n       channel = SocketChannel.open();\r\n      } catch (IOException e) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel open&quot;);\r\n      }\r\n      \r\n      try {\r\n       channel.configureBlocking(false);\r\n      } catch (IOException e1) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel blocking&quot;);\r\n      }\r\n      \r\n      try {\r\n       channel.connect(socketAdress);\r\n      } catch (IOException e) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel connect&quot;);\r\n      }\r\n      \r\n      try {\r\n       while(!channel.finishConnect())\r\n       {\r\n        \r\n       }\r\n      } catch (IOException e1) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel finishConnect&quot;);\r\n      }\r\n      \r\n      \r\n      Selector selector = null;\r\n      try {\r\n       selector = Selector.open();\r\n      } catch (IOException e) {\r\n       Log.e(&quot;ERROR&quot;, &quot;selector open&quot;);\r\n      }\r\n      try {\r\n       channel.register(selector, channel.validOps());\r\n      } catch (ClosedChannelException e) {\r\n       Log.e(&quot;ERROR&quot;, &quot;channel register&quot;);\r\n      }\r\n      \r\n      boolean i = true;\r\n      \r\n      while(i)\r\n      {\r\n       int readyChannels = 0;\r\n       try {\r\n        readyChannels = selector.select();\r\n       } catch (IOException e) {\r\n        Log.e(&quot;ERROR&quot;, &quot;selector select&quot;);\r\n       }\r\n       \r\n       if(readyChannels &gt; 0)\r\n       {\r\n        i = false;\r\n       }\r\n      }\r\n        }\r\n    }\r\n\r\nIn Java readyChannels = 1. In Android it is 0.\r\nCan anyone help me?","title":"SocketChannel is not ready","body":"<p>again i have got a problem with socket programming in Android. My Problem is Selector.select() returns zero that there are no SocketChannels ready for writing. And again the same code works in normal Java but does not work in Android. Here is my code:</p>\n\n<pre><code>package com.test;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.SocketAddress;\nimport java.nio.channels.ClosedChannelException;\nimport java.nio.channels.Selector;\nimport java.nio.channels.SocketChannel;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class WebSocketTest extends Activity {\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n  SocketChannel channel = null;\n\n        SocketAddress socketAdress = new InetSocketAddress(\"10.0.0.1\", 8787);\n\n  try {\n   channel = SocketChannel.open();\n  } catch (IOException e) {\n   Log.e(\"ERROR\", \"channel open\");\n  }\n\n  try {\n   channel.configureBlocking(false);\n  } catch (IOException e1) {\n   Log.e(\"ERROR\", \"channel blocking\");\n  }\n\n  try {\n   channel.connect(socketAdress);\n  } catch (IOException e) {\n   Log.e(\"ERROR\", \"channel connect\");\n  }\n\n  try {\n   while(!channel.finishConnect())\n   {\n\n   }\n  } catch (IOException e1) {\n   Log.e(\"ERROR\", \"channel finishConnect\");\n  }\n\n\n  Selector selector = null;\n  try {\n   selector = Selector.open();\n  } catch (IOException e) {\n   Log.e(\"ERROR\", \"selector open\");\n  }\n  try {\n   channel.register(selector, channel.validOps());\n  } catch (ClosedChannelException e) {\n   Log.e(\"ERROR\", \"channel register\");\n  }\n\n  boolean i = true;\n\n  while(i)\n  {\n   int readyChannels = 0;\n   try {\n    readyChannels = selector.select();\n   } catch (IOException e) {\n    Log.e(\"ERROR\", \"selector select\");\n   }\n\n   if(readyChannels &gt; 0)\n   {\n    i = false;\n   }\n  }\n    }\n}\n</code></pre>\n\n<p>In Java readyChannels = 1. In Android it is 0.\nCan anyone help me?</p>\n"},{"tags":["java","sockets","nio"],"answers":[{"tags":[],"owner":{"account_id":39617,"reputation":6179,"user_id":114340,"display_name":"AngerClown"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695607350,"creation_date":1247933439,"answer_id":1147908,"question_id":1147873,"body_markdown":"Prior to Java NIO, you *had* to use one Thread per socket to get good performance. This is a problem for all socket based applications, not just Java. Support for non-blocking IO was added to all operating systems to overcome this. The Java NIO implementation is based on `Selectors`.\r\n\r\nSee [*Java NIO* by Ron Hitchens][1] and this [On Java][2] article to get started. Note however, that this is a complex topic and it still brings some multithreading issues into your code. Google &quot;non blocking NIO&quot; for more information.\r\n\r\n\r\n[1]: http://javanio.info/\r\n[2]: http://onjava.com/pub/a/onjava/2002/09/04/nio.html","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>Prior to Java NIO, you <em>had</em> to use one Thread per socket to get good performance. This is a problem for all socket based applications, not just Java. Support for non-blocking IO was added to all operating systems to overcome this. The Java NIO implementation is based on <code>Selectors</code>.</p>\n<p>See <a href=\"http://javanio.info/\" rel=\"nofollow noreferrer\"><em>Java NIO</em> by Ron Hitchens</a> and this <a href=\"http://onjava.com/pub/a/onjava/2002/09/04/nio.html\" rel=\"nofollow noreferrer\">On Java</a> article to get started. Note however, that this is a complex topic and it still brings some multithreading issues into your code. Google &quot;non blocking NIO&quot; for more information.</p>\n"},{"comments":[{"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"score":0,"creation_date":1314092765,"post_id":1147930,"comment_id":8589752,"body_markdown":"The sleep does make some sense if the socket is non-blocking with a full buffer, the original poster doesn&#39;t say.","body":"The sleep does make some sense if the socket is non-blocking with a full buffer, the original poster doesn&#39;t say."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1314093522,"post_id":1147930,"comment_id":8589959,"body_markdown":"It assume the buffer will always take at least 10 ms to clear. Personally if the buffer doesn&#39;t clear almost immediately, either the buffer is too small or the reader is too slow. I would close the connection.","body":"It assume the buffer will always take at least 10 ms to clear. Personally if the buffer doesn&#39;t clear almost immediately, either the buffer is too small or the reader is too slow. I would close the connection."},{"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"score":0,"creation_date":1328130325,"post_id":1147930,"comment_id":11434711,"body_markdown":"If the bytebuffer in the example is larger than the kernel&#39;s socket output buffer, the code is inefficient as it can probably write quicker than the network adapter can write and thus overrun and sleep. In 10ms sleep the network adapter could write about 1MB to a 1Gb network, way more than the typical socket output buffer size. If the bytebuffer is just a few KB it&#39;s probably the reader which is too slow, then it makes sense to pause a little, using OP_WRITE is more complex but would avoid hogging a thread to sleep as well as buffer underruns.","body":"If the bytebuffer in the example is larger than the kernel&#39;s socket output buffer, the code is inefficient as it can probably write quicker than the network adapter can write and thus overrun and sleep. In 10ms sleep the network adapter could write about 1MB to a 1Gb network, way more than the typical socket output buffer size. If the bytebuffer is just a few KB it&#39;s probably the reader which is too slow, then it makes sense to pause a little, using OP_WRITE is more complex but would avoid hogging a thread to sleep as well as buffer underruns."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1475317354,"post_id":1147930,"comment_id":66902516,"body_markdown":"@StefanL No, the sleep doesn&#39;t make any sense. It&#39;s pointless for the code to make guesses about how long the buffer will take to clear when `select()` will tell you exactly. If the receiver isn&#39;t reading, the buffer will take infinity to clear, for example.","body":"@StefanL No, the sleep doesn&#39;t make any sense. It&#39;s pointless for the code to make guesses about how long the buffer will take to clear when <code>select()</code> will tell you exactly. If the receiver isn&#39;t reading, the buffer will take infinity to clear, for example."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1247933784,"creation_date":1247933784,"answer_id":1147930,"question_id":1147873,"body_markdown":"You don&#39;t need the sleep() as the write will either return immediately or block.\r\nYou could have an executor which you pass the write to if it doesn&#39;t write the first time.\r\nAnother option is to have a small pool of thread to perform the writes.\r\n\r\nHowever, the best option for you may be to use a Selector (as has been suggested) so you know when a socket is ready to perform another write.","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>You don't need the sleep() as the write will either return immediately or block.\nYou could have an executor which you pass the write to if it doesn't write the first time.\nAnother option is to have a small pool of thread to perform the writes.</p>\n\n<p>However, the best option for you may be to use a Selector (as has been suggested) so you know when a socket is ready to perform another write.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247937747,"creation_date":1247937747,"answer_id":1148061,"question_id":1147873,"body_markdown":"For hundreds of connections, you probably don&#39;t need to bother with NIO. Good old fashioned blocking sockets and threads will do you.\r\n\r\nWith NIO, you can register interest in `OP_WRITE` for the selection key, and you will get notified when there is room to write more data.","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>For hundreds of connections, you probably don't need to bother with NIO. Good old fashioned blocking sockets and threads will do you.</p>\n\n<p>With NIO, you can register interest in <code>OP_WRITE</code> for the selection key, and you will get notified when there is room to write more data.</p>\n"},{"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247939057,"creation_date":1247939057,"answer_id":1148113,"question_id":1147873,"body_markdown":"There are a few things you need to do, assuming you already have a loop using \r\nSelector.select(); to determine which sockets are ready for I/O.\r\n\r\n - Set the socket channel to non-blocking after you&#39;ve created it, sc.configureBlocking(false);\r\n - Write (possibly parts of) the buffer and check if there&#39;s anything left. The buffer itself takes care of current position and how much is left. \r\n\r\nSomething like \r\n\r\n    sc.write(bb);\r\n    if(sc.remaining() == 0)\r\n       //we&#39;re done with this buffer, remove it from the select set if there&#39;s nothing else to send.\r\n    else\r\n        //do other stuff/return to select loop\r\n\r\n\r\n - Get rid of your while loop that sleeps","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>There are a few things you need to do, assuming you already have a loop using \nSelector.select(); to determine which sockets are ready for I/O.</p>\n\n<ul>\n<li>Set the socket channel to non-blocking after you've created it, sc.configureBlocking(false);</li>\n<li>Write (possibly parts of) the buffer and check if there's anything left. The buffer itself takes care of current position and how much is left. </li>\n</ul>\n\n<p>Something like </p>\n\n<pre><code>sc.write(bb);\nif(sc.remaining() == 0)\n   //we're done with this buffer, remove it from the select set if there's nothing else to send.\nelse\n    //do other stuff/return to select loop\n</code></pre>\n\n<ul>\n<li>Get rid of your while loop that sleeps</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":46091,"reputation":3194,"user_id":136087,"accept_rate":50,"display_name":"EdH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695607414,"creation_date":1247939079,"answer_id":1148115,"question_id":1147873,"body_markdown":"I am facing some of the same issues right now:&lt;br&gt;\r\n- If you have a small amount of connections, but with large transfers, I would just create a threadpool, and let the writes block for the writer threads.&lt;br&gt;\r\n- If you have a lot of connections then you could use full Java NIO, and register OP_WRITE on your accept()ed sockets, and then wait for the selector to come in.\r\n\r\nThe [Ron Hitchens *Java NIO*](http://javanio.info/) book has all this.&lt;br&gt;\r\nAlso:\r\n[http://www.exampledepot.com/egs/java.nio/NbServer.html?l=rel][1]\r\n\r\nSome research online has led me to believe NIO is pretty overkill unless you have a lot of incoming connections. Otherwise, if its just a few large transfers - then just use a write thread. It will probably have quicker response. A number of people have issues with NIO not repsonding as quick as they want. Since your write thread is on its own blocking it wont hurt you.\r\n\r\n\r\n  [1]: http://www.exampledepot.com/egs/java.nio/NbServer.html?l=rel","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>I am facing some of the same issues right now:<br></p>\n<ul>\n<li>If you have a small amount of connections, but with large transfers, I would just create a threadpool, and let the writes block for the writer threads.<br></li>\n<li>If you have a lot of connections then you could use full Java NIO, and register OP_WRITE on your accept()ed sockets, and then wait for the selector to come in.</li>\n</ul>\n<p>The <a href=\"http://javanio.info/\" rel=\"nofollow noreferrer\">Ron Hitchens <em>Java NIO</em></a> book has all this.<br>\nAlso:\n<a href=\"http://www.exampledepot.com/egs/java.nio/NbServer.html?l=rel\" rel=\"nofollow noreferrer\">http://www.exampledepot.com/egs/java.nio/NbServer.html?l=rel</a></p>\n<p>Some research online has led me to believe NIO is pretty overkill unless you have a lot of incoming connections. Otherwise, if its just a few large transfers - then just use a write thread. It will probably have quicker response. A number of people have issues with NIO not repsonding as quick as they want. Since your write thread is on its own blocking it wont hurt you.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1567603423,"post_id":2329325,"comment_id":102011976,"body_markdown":"Link is now broken.","body":"Link is now broken."}],"tags":[],"owner":{"account_id":105065,"reputation":927,"user_id":280568,"accept_rate":75,"display_name":"geme_hendrix"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267044000,"creation_date":1267044000,"answer_id":2329325,"question_id":1147873,"body_markdown":"The more I read about Java NIO, the more it gives me the willies. Anyway, I think this article answers your problem...\r\n\r\nhttp://weblogs.java.net/blog/2006/05/30/tricks-and-tips-nio-part-i-why-you-must-handle-opwrite\r\n\r\nIt sounds like this guy has a more elegant solution than the sleep loop. \r\n\r\nAlso I&#39;m fast coming to the conclusion that using Java NIO by itself is too dangerous. Where I can, I think I&#39;ll probably use Apache MINA which provides a nice abstraction above Java NIO and its little &#39;surprises&#39;.","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>The more I read about Java NIO, the more it gives me the willies. Anyway, I think this article answers your problem...</p>\n\n<p><a href=\"http://weblogs.java.net/blog/2006/05/30/tricks-and-tips-nio-part-i-why-you-must-handle-opwrite\" rel=\"nofollow noreferrer\">http://weblogs.java.net/blog/2006/05/30/tricks-and-tips-nio-part-i-why-you-must-handle-opwrite</a></p>\n\n<p>It sounds like this guy has a more elegant solution than the sleep loop. </p>\n\n<p>Also I'm fast coming to the conclusion that using Java NIO by itself is too dangerous. Where I can, I think I'll probably use Apache MINA which provides a nice abstraction above Java NIO and its little 'surprises'.</p>\n"}],"owner":{"account_id":23825,"reputation":19875,"user_id":60006,"accept_rate":65,"display_name":"DivideByHero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10624,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1695607414,"creation_date":1247932553,"question_id":1147873,"body_markdown":"Sometimes, while sending a large amount of data via SocketChannel.write(), the underlying TCP buffer gets filled up, and I have to continually re-try the write() until the data is all sent.\r\n\r\nSo, I might have something like this:\r\n\r\n    public void send(ByteBuffer bb, SocketChannel sc){\r\n       sc.write(bb);\r\n       while (bb.remaining()&gt;0){\r\n          Thread.sleep(10);\r\n          sc.write(bb);          \r\n       }\r\n    }\r\n\r\nThe problem is that the occasional issue with a large ByteBuffer and an overflowing underlying TCP buffer means that this call to send() will block for an unexpected amount of time.  In my project, there are hundreds of clients connected simultaneously, and one delay caused by one socket connection can bring the whole system to a crawl until this one delay with one SocketChannel is resolved.  When a delay occurs, it can cause a chain reaction of slowing down in other areas of the project, and having low latency is important.\r\n\r\nI need a solution that will take care of this TCP buffer overflow issue transparently and without causing everything to block when multiple calls to SocketChannel.write() are needed.  I have considered putting send() into a separate class extending Thread so it runs as its own thread and does not block the calling code.  However, I am concerned about the overhead necessary in creating a thread for EACH socket connection I am maintaining, especially when 99% of the time, SocketChannel.write() succeeds on the first try, meaning there&#39;s no need for the thread to be there.  (In other words, putting send() in a separate thread is really only needed if the while() loop is used -- only in cases where there is a buffer issue, perhaps 1% of the time)  If there is a buffer issue only 1% of the time, I don&#39;t need the overhead of a thread for the other 99% of calls to send().\r\n\r\nI hope that makes sense... I could really use some suggestions.  Thanks!\r\n\r\n","title":"Java NIO Threading issue with SocketChannel.write()","body":"<p>Sometimes, while sending a large amount of data via SocketChannel.write(), the underlying TCP buffer gets filled up, and I have to continually re-try the write() until the data is all sent.</p>\n\n<p>So, I might have something like this:</p>\n\n<pre><code>public void send(ByteBuffer bb, SocketChannel sc){\n   sc.write(bb);\n   while (bb.remaining()&gt;0){\n      Thread.sleep(10);\n      sc.write(bb);          \n   }\n}\n</code></pre>\n\n<p>The problem is that the occasional issue with a large ByteBuffer and an overflowing underlying TCP buffer means that this call to send() will block for an unexpected amount of time.  In my project, there are hundreds of clients connected simultaneously, and one delay caused by one socket connection can bring the whole system to a crawl until this one delay with one SocketChannel is resolved.  When a delay occurs, it can cause a chain reaction of slowing down in other areas of the project, and having low latency is important.</p>\n\n<p>I need a solution that will take care of this TCP buffer overflow issue transparently and without causing everything to block when multiple calls to SocketChannel.write() are needed.  I have considered putting send() into a separate class extending Thread so it runs as its own thread and does not block the calling code.  However, I am concerned about the overhead necessary in creating a thread for EACH socket connection I am maintaining, especially when 99% of the time, SocketChannel.write() succeeds on the first try, meaning there's no need for the thread to be there.  (In other words, putting send() in a separate thread is really only needed if the while() loop is used -- only in cases where there is a buffer issue, perhaps 1% of the time)  If there is a buffer issue only 1% of the time, I don't need the overhead of a thread for the other 99% of calls to send().</p>\n\n<p>I hope that makes sense... I could really use some suggestions.  Thanks!</p>\n"},{"tags":["java","spring-boot","rest","pact"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695607316,"creation_date":1695607316,"answer_id":77169569,"question_id":77161717,"body_markdown":"JSON does not have a type for byte arrays, so there is no way we can know how it is encoded. My guess is that it would be encoded as something like `base64` into a `string` type. We don&#39;t have matchers for such types, but you could consider raising a feature request. \r\n\r\nIf you must check the type, my suggestion would be to use a provider state and ensure a small `byte[]` is sent as it will need to be a byte by byte comparison.","title":"How to verify field of type byte array (byte[]) through pact jvm?","body":"<p>JSON does not have a type for byte arrays, so there is no way we can know how it is encoded. My guess is that it would be encoded as something like <code>base64</code> into a <code>string</code> type. We don't have matchers for such types, but you could consider raising a feature request.</p>\n<p>If you must check the type, my suggestion would be to use a provider state and ensure a small <code>byte[]</code> is sent as it will need to be a byte by byte comparison.</p>\n"}],"owner":{"account_id":13823033,"reputation":23,"user_id":9978033,"display_name":"bugdebug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695607316,"creation_date":1695445253,"question_id":77161717,"body_markdown":"I am currently writing contract tests for rest services using Pact jvm. One of the field in the response body in both consumer and provider is of type byte[] (byte array). I don&#39;t see any matcher for such field. How can we verify such fields?\r\n\r\n\r\n    class MediaResponse{\r\n    private long mediaId;\r\n    private String mediaName;\r\n    private byte[] media;\r\n    private String mediaLink;\r\n    private boolean isStreamable;\r\n    } \r\n\r\n","title":"How to verify field of type byte array (byte[]) through pact jvm?","body":"<p>I am currently writing contract tests for rest services using Pact jvm. One of the field in the response body in both consumer and provider is of type byte[] (byte array). I don't see any matcher for such field. How can we verify such fields?</p>\n<pre><code>class MediaResponse{\nprivate long mediaId;\nprivate String mediaName;\nprivate byte[] media;\nprivate String mediaLink;\nprivate boolean isStreamable;\n} \n</code></pre>\n"},{"tags":["java","arrays","integer","frequency"],"comments":[{"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"score":0,"creation_date":1425265369,"post_id":28802038,"comment_id":45877844,"body_markdown":"As it is, you&#39;re only counting 1s...","body":"As it is, you&#39;re only counting 1s..."},{"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"score":1,"creation_date":1425267393,"post_id":28802038,"comment_id":45878277,"body_markdown":"The problem is your output. You should do that in a separate loop.","body":"The problem is your output. You should do that in a separate loop."},{"owner":{"account_id":5868891,"reputation":11,"user_id":4621816,"display_name":"Bryce Turner"},"score":0,"creation_date":1425267724,"post_id":28802038,"comment_id":45878371,"body_markdown":"I created another loop for the output and get a similar result. I think the freq values aren&#39;t being incremented correctly, or aren&#39;t changing at all.","body":"I created another loop for the output and get a similar result. I think the freq values aren&#39;t being incremented correctly, or aren&#39;t changing at all."}],"answers":[{"tags":[],"owner":{"account_id":5154164,"reputation":893,"user_id":4127827,"display_name":"Andrew Alderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425266124,"creation_date":1425266124,"answer_id":28802166,"question_id":28802038,"body_markdown":"As Adrian pointed out you&#39;re currently only counting ones. I would be a bit tricky and instead of doing a check on each one, simply using the random integer to select the correct element for increment\r\n\r\n    for (int i=0; i&lt;randoms.length; i++){\r\n        freq[randoms[i]-1] += 1; \r\n     } ","title":"Java: Creating a frequency table for integers randomly generated and placed in an array","body":"<p>As Adrian pointed out you're currently only counting ones. I would be a bit tricky and instead of doing a check on each one, simply using the random integer to select the correct element for increment</p>\n\n<pre><code>for (int i=0; i&lt;randoms.length; i++){\n    freq[randoms[i]-1] += 1; \n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5868891,"reputation":11,"user_id":4621816,"display_name":"Bryce Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425268562,"creation_date":1425268562,"answer_id":28802483,"question_id":28802038,"body_markdown":"Thanks for the help! After looking at the code long enough I realized that in my output i was using\r\n\r\n    for (int i=0; i&lt;randoms.length; i++){\r\n          System.out.println(randoms[i] + &quot; appeared &quot; + freq[i] + &quot; times&quot;);\r\nWhen I should have used \r\n\r\n    for (int i=0; i&lt;randoms.length; i++){\r\n          System.out.println(randoms[i] + &quot; appeared &quot; + freq[randoms[i]] + &quot; times&quot;);","title":"Java: Creating a frequency table for integers randomly generated and placed in an array","body":"<p>Thanks for the help! After looking at the code long enough I realized that in my output i was using</p>\n\n<pre><code>for (int i=0; i&lt;randoms.length; i++){\n      System.out.println(randoms[i] + \" appeared \" + freq[i] + \" times\");\n</code></pre>\n\n<p>When I should have used </p>\n\n<pre><code>for (int i=0; i&lt;randoms.length; i++){\n      System.out.println(randoms[i] + \" appeared \" + freq[randoms[i]] + \" times\");\n</code></pre>\n"}],"owner":{"account_id":5868891,"reputation":11,"user_id":4621816,"display_name":"Bryce Turner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695607310,"creation_date":1425265136,"question_id":28802038,"body_markdown":"Thanks everybody! I cleaned up the code to the best of my knowledge and decided to paste the completed code along with a sample output for other students to see and if they choose to use parts of the code.\r\n\r\n    public class Arrays {\r\n      public static void main(String args[]) {\r\n        //Assigning the array length according to the user&#39;s input\r\n        int N = Integer.parseInt(args[0]);\r\n        int randoms[] = new int[N];\r\n        //Filling the array with random integer values\r\n        System.out.println(&quot;The numbers generated are: &quot;);\r\n        for (int i=0; i&lt;randoms.length; i++) {\r\n          randoms[i] = (int) (Math.random()*10 + 1);\r\n          System.out.print(randoms[i] + &quot; &quot;);\r\n        }\r\n        double sum = 0.0;\r\n        for (int i=0; i&lt;randoms.length; i++) {\r\n          sum += randoms[i];\r\n        }\r\n        System.out.println(&quot;\\nThe average of the values is &quot; + (sum/N));\r\n        int freq[] = new int[11];\r\n        for (int i=0; i&lt;randoms.length; i++){\r\n          freq[randoms[i]] += 1; \r\n        } \r\n        System.out.println(&quot;Number\\tFreq&quot;);\r\n        for (int i=1; i&lt;freq.length; i++){\r\n          System.out.println(i + &quot;\\t&quot; + freq[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n \r\n\r\nSample Output:\r\n\r\n    &gt; java Arrays 15\r\n    The numbers generated are: \r\n    4 8 1 10 6 7 8 4 6 6 3 4 4 5 8 \r\n    The average of the values is 5.6\r\n    Number\tFreq\r\n    1\t    1\r\n    2\t    0\r\n    3\t    1\r\n    4\t    4\r\n    5\t    1\r\n    6\t    3\r\n    7\t    1\r\n    8\t    3\r\n    9\t    0\r\n    10\t    1\r\n\r\n","title":"Java: Creating a frequency table for integers randomly generated and placed in an array","body":"<p>Thanks everybody! I cleaned up the code to the best of my knowledge and decided to paste the completed code along with a sample output for other students to see and if they choose to use parts of the code.</p>\n\n<pre><code>public class Arrays {\n  public static void main(String args[]) {\n    //Assigning the array length according to the user's input\n    int N = Integer.parseInt(args[0]);\n    int randoms[] = new int[N];\n    //Filling the array with random integer values\n    System.out.println(\"The numbers generated are: \");\n    for (int i=0; i&lt;randoms.length; i++) {\n      randoms[i] = (int) (Math.random()*10 + 1);\n      System.out.print(randoms[i] + \" \");\n    }\n    double sum = 0.0;\n    for (int i=0; i&lt;randoms.length; i++) {\n      sum += randoms[i];\n    }\n    System.out.println(\"\\nThe average of the values is \" + (sum/N));\n    int freq[] = new int[11];\n    for (int i=0; i&lt;randoms.length; i++){\n      freq[randoms[i]] += 1; \n    } \n    System.out.println(\"Number\\tFreq\");\n    for (int i=1; i&lt;freq.length; i++){\n      System.out.println(i + \"\\t\" + freq[i]);\n    }\n  }\n}\n</code></pre>\n\n<p>Sample Output:</p>\n\n<pre><code>&gt; java Arrays 15\nThe numbers generated are: \n4 8 1 10 6 7 8 4 6 6 3 4 4 5 8 \nThe average of the values is 5.6\nNumber  Freq\n1       1\n2       0\n3       1\n4       4\n5       1\n6       3\n7       1\n8       3\n9       0\n10      1\n</code></pre>\n"},{"tags":["java","groovy","spock"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1465982004,"post_id":37830936,"comment_id":63123790,"body_markdown":"It&#39;s rather not possible. Can you prepare a SSCCE?","body":"It&#39;s rather not possible. Can you prepare a SSCCE?"}],"answers":[{"comments":[{"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"score":2,"creation_date":1512055245,"post_id":37837499,"comment_id":82110547,"body_markdown":"You should accept your own answer since it&#39;s correct :)","body":"You should accept your own answer since it&#39;s correct :)"}],"tags":[],"owner":{"account_id":4097938,"reputation":3833,"user_id":3364192,"accept_rate":53,"display_name":"user3364192"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1465998751,"creation_date":1465998751,"answer_id":37837499,"question_id":37830936,"body_markdown":"Turns out you can. You have to wrap helper method call with interaction:\r\n\r\n    then:\r\n        interaction {\r\n             helperMethod()\r\n        }\r\nand then you can put interactions in a helper method like that:\r\n\r\n    def helperMethod() {\r\n        1 * someObj.getInt() &gt;&gt; 2\r\n    }\r\n\r\nI did it other way around (wrapped helper method body in interaction), that&#39;s why it did not work","title":"Spock - extracting interactions to method","body":"<p>Turns out you can. You have to wrap helper method call with interaction:</p>\n\n<pre><code>then:\n    interaction {\n         helperMethod()\n    }\n</code></pre>\n\n<p>and then you can put interactions in a helper method like that:</p>\n\n<pre><code>def helperMethod() {\n    1 * someObj.getInt() &gt;&gt; 2\n}\n</code></pre>\n\n<p>I did it other way around (wrapped helper method body in interaction), that's why it did not work</p>\n"}],"owner":{"account_id":4097938,"reputation":3833,"user_id":3364192,"accept_rate":53,"display_name":"user3364192"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1785,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1695606306,"creation_date":1465981658,"question_id":37830936,"body_markdown":"The spock documentation points out that you can extract assertions of `then` block to other method and add `assert` keyword before each assertion. \r\n\r\nI would also like to **extract interactions to helper method**. \r\nI tried wrapping interactions with `interaction` closure block but that did not work.\r\n\r\nIs it possible? If it is how to achieve it?","title":"Spock - extracting interactions to method","body":"<p>The spock documentation points out that you can extract assertions of <code>then</code> block to other method and add <code>assert</code> keyword before each assertion. </p>\n\n<p>I would also like to <strong>extract interactions to helper method</strong>. \nI tried wrapping interactions with <code>interaction</code> closure block but that did not work.</p>\n\n<p>Is it possible? If it is how to achieve it?</p>\n"},{"tags":["java","networking","nio"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695606235,"creation_date":1272365069,"answer_id":2720466,"question_id":2719482,"body_markdown":"TCP/IP is a streaming protocol. There is no guarantee anywhere at any level that the data you send won&#39;t be broken up into single-byte segments, or anything in between that and a single segment as you wrote it.\r\n\r\nYour expectations are misplaced.\r\n\r\nRe your EDIT, `write(`) will return zero when the socket send buffer fills. When you get that, register the channel for `OP_WRITE` and stop the write loop. When you get `OP_WRITE`, deregister it (very important) and continue writing. If `write()` returns zero again, repeat.","title":"Java NIO SocketChannel writing problem","body":"<p>TCP/IP is a streaming protocol. There is no guarantee anywhere at any level that the data you send won't be broken up into single-byte segments, or anything in between that and a single segment as you wrote it.</p>\n<p>Your expectations are misplaced.</p>\n<p>Re your EDIT, <code>write(</code>) will return zero when the socket send buffer fills. When you get that, register the channel for <code>OP_WRITE</code> and stop the write loop. When you get <code>OP_WRITE</code>, deregister it (very important) and continue writing. If <code>write()</code> returns zero again, repeat.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695606298,"post_id":6348442,"comment_id":136042316,"body_markdown":"&quot;when there is some data to be sent on the sender side, we should register the SocketChannel with the selector with OP_WRITE&quot;: definitely not. You should just write, and use `OP_WRITE` only when `write()` has returned zero. See my answer. `OP_WRITE` is almost always ready, so there is little point in waiting for it. And it wasn&#39;t Nilesh who said anything about deregistering, it was me.","body":"&quot;when there is some data to be sent on the sender side, we should register the SocketChannel with the selector with OP_WRITE&quot;: definitely not. You should just write, and use <code>OP_WRITE</code> only when <code>write()</code> has returned zero. See my answer. <code>OP_WRITE</code> is almost always ready, so there is little point in waiting for it. And it wasn&#39;t Nilesh who said anything about deregistering, it was me."}],"tags":[],"owner":{"account_id":214164,"reputation":1318,"user_id":467969,"accept_rate":71,"display_name":"Buchi"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1308077164,"creation_date":1308077164,"answer_id":6348442,"question_id":2719482,"body_markdown":"While using TCP, we can write over sender side socket channel only until the socket buffers are filled up and not after that. So, in case the receiver is slow in consuming the data, sender side socket buffers fill up and as you mentioned, write() might return zero.\r\n\r\nIn any case, when there is some data to be sent on the sender side, we should register the SocketChannel with the selector with OP_WRITE as the interested operation and when selector returns the SelectionKey, check key.isWritable() and try writing on that channel.  As mentioned by Nilesh above, don&#39;t forget to unregister the OP_WRITE bit with the selector after writing the complete data.","title":"Java NIO SocketChannel writing problem","body":"<p>While using TCP, we can write over sender side socket channel only until the socket buffers are filled up and not after that. So, in case the receiver is slow in consuming the data, sender side socket buffers fill up and as you mentioned, write() might return zero.</p>\n\n<p>In any case, when there is some data to be sent on the sender side, we should register the SocketChannel with the selector with OP_WRITE as the interested operation and when selector returns the SelectionKey, check key.isWritable() and try writing on that channel.  As mentioned by Nilesh above, don't forget to unregister the OP_WRITE bit with the selector after writing the complete data.</p>\n"}],"owner":{"account_id":38928,"reputation":557,"user_id":112066,"accept_rate":47,"display_name":"Nilesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3663,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695606235,"creation_date":1272353938,"question_id":2719482,"body_markdown":"I am using Java NIO&#39;s SocketChannel to write : `int n = socketChannel.write(byteBuffer);` Most of the times the data is sent in one or two parts; i.e. if the data could not be sent in one attemmpt, remaining data is retried.\r\n\r\nThe issue here is, sometimes, the data is not being sent completely in one attempt, rest of the data when tried to send multiple times, it occurs that even after trying several times, not a single character is being written to channel, finally after some time the remaning data is sent. This data may not be large, could be approx 2000 characters.\r\n\r\nWhat could be the cause of such behaviour? Could external factors such as RAM, OS, etc cause the hindarance?\r\n\r\nPlease help me solve this issue. If any other information is required please let me know.\r\nThanks\r\n\r\n**EDIT:** \r\n\r\nIs there a way in NIO SocketChannel, to check, if the channel could be provided with data to write before actual writing. The intention here is, after attempting to write complete data, if some data hasn&#39;t been written on channel, before writing the remaining data can we check if the SocketChannel can take any more data; so instead of attempting multiple times fruitlessly, the thread responsible for writing this data could wait or do something else.","title":"Java NIO SocketChannel writing problem","body":"<p>I am using Java NIO's SocketChannel to write : <code>int n = socketChannel.write(byteBuffer);</code> Most of the times the data is sent in one or two parts; i.e. if the data could not be sent in one attemmpt, remaining data is retried.</p>\n\n<p>The issue here is, sometimes, the data is not being sent completely in one attempt, rest of the data when tried to send multiple times, it occurs that even after trying several times, not a single character is being written to channel, finally after some time the remaning data is sent. This data may not be large, could be approx 2000 characters.</p>\n\n<p>What could be the cause of such behaviour? Could external factors such as RAM, OS, etc cause the hindarance?</p>\n\n<p>Please help me solve this issue. If any other information is required please let me know.\nThanks</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>Is there a way in NIO SocketChannel, to check, if the channel could be provided with data to write before actual writing. The intention here is, after attempting to write complete data, if some data hasn't been written on channel, before writing the remaining data can we check if the SocketChannel can take any more data; so instead of attempting multiple times fruitlessly, the thread responsible for writing this data could wait or do something else.</p>\n"},{"tags":["java","double","precision","bigdecimal","zero"],"answers":[{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333451657,"creation_date":1333451300,"answer_id":9992031,"question_id":9992006,"body_markdown":"    new Double(0.0).equals(0); //false\r\n\r\nas the argument you passed is integer. and the **equels()** in **Double** class checks whether the argument is od instance **Double** or not using **instance of** operator.\r\n\r\nThe **Double**&#39;s **equals()** method. \r\n\r\n    if (!(argument instanceof Double))\r\n      return false;\r\n\r\nThe argument you passed is **integer**, which is not instance of **Double**, so it returns false.","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<pre><code>new Double(0.0).equals(0); //false\n</code></pre>\n\n<p>as the argument you passed is integer. and the <strong>equels()</strong> in <strong>Double</strong> class checks whether the argument is od instance <strong>Double</strong> or not using <strong>instance of</strong> operator.</p>\n\n<p>The <strong>Double</strong>'s <strong>equals()</strong> method. </p>\n\n<pre><code>if (!(argument instanceof Double))\n  return false;\n</code></pre>\n\n<p>The argument you passed is <strong>integer</strong>, which is not instance of <strong>Double</strong>, so it returns false.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1695606016,"creation_date":1333451343,"answer_id":9992044,"question_id":9992006,"body_markdown":"BigDecimal &#39;equals&#39; compares the value and the scale. If you only want to compare values (0 == 0.0) you should use compareTo:\r\n\r\n    BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0.0)) == 0 //true\r\n    BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0)) == 0 //true\r\n\r\nSee the [javadoc][1].\r\n\r\nAs for the Double comparison, as explained by other answers, you are comparing a Double with an Integer in `new Double(0.0).equals(0)`, which returns `false` because the objects have different types. For reference, the [code for the equals method in JDK 7][2] is:\r\n\r\n    public boolean equals(Object obj) {\r\n        return (obj instanceof Double)\r\n               &amp;&amp; (doubleToLongBits(((Double)obj).value) ==\r\n                      doubleToLongBits(value));\r\n    }\r\n\r\nIn your case, `(obj instanceof Double)` is false.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#equals%28java.lang.Object%29\r\n  [2]: http://www.docjar.com/html/api/java/lang/Double.java.html#731\r\n","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<p>BigDecimal 'equals' compares the value and the scale. If you only want to compare values (0 == 0.0) you should use compareTo:</p>\n<pre><code>BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0.0)) == 0 //true\nBigDecimal.ZERO.compareTo(BigDecimal.valueOf(0)) == 0 //true\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<p>As for the Double comparison, as explained by other answers, you are comparing a Double with an Integer in <code>new Double(0.0).equals(0)</code>, which returns <code>false</code> because the objects have different types. For reference, the <a href=\"http://www.docjar.com/html/api/java/lang/Double.java.html#731\" rel=\"nofollow noreferrer\">code for the equals method in JDK 7</a> is:</p>\n<pre><code>public boolean equals(Object obj) {\n    return (obj instanceof Double)\n           &amp;&amp; (doubleToLongBits(((Double)obj).value) ==\n                  doubleToLongBits(value));\n}\n</code></pre>\n<p>In your case, <code>(obj instanceof Double)</code> is false.</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1333451707,"creation_date":1333451369,"answer_id":9992051,"question_id":9992006,"body_markdown":"1. The 0 in your first expression is interpreted as an `int`, which may be autoboxed into an `Integer`, but not to a `Double`. So the type of the two is different, hence they are not equal. OTOH `0.0` is a `double`, which is autoboxed into a `Double`, so the two operands are deemed equal.\r\n\r\n2. BigDecimals also contain a scale (i.e. number of digits to the right of the decimal separator dot). `BigDecimal.ZERO` has the value of &quot;0&quot;, so its scale is 0. Hence it is not equal to &quot;0.0&quot;, whose scale is 1.  \r\nIf you want to compare values, use [`BigDecimal.compareTo`][1]:\r\n\r\n        BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0.0)) == 0\r\n        BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0)) == 0\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<ol>\n<li><p>The 0 in your first expression is interpreted as an <code>int</code>, which may be autoboxed into an <code>Integer</code>, but not to a <code>Double</code>. So the type of the two is different, hence they are not equal. OTOH <code>0.0</code> is a <code>double</code>, which is autoboxed into a <code>Double</code>, so the two operands are deemed equal.</p></li>\n<li><p>BigDecimals also contain a scale (i.e. number of digits to the right of the decimal separator dot). <code>BigDecimal.ZERO</code> has the value of \"0\", so its scale is 0. Hence it is not equal to \"0.0\", whose scale is 1.<br>\nIf you want to compare values, use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#compareTo%28java.math.BigDecimal%29\" rel=\"noreferrer\"><code>BigDecimal.compareTo</code></a>:</p>\n\n<pre><code>BigDecimal.ZERO.compareTo(BigDecimal.valueOf(0.0)) == 0\nBigDecimal.ZERO.compareTo(BigDecimal.valueOf(0)) == 0\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333451428,"creation_date":1333451428,"answer_id":9992067,"question_id":9992006,"body_markdown":"new Double(0.0).equals(0) is actually boxed as something like this:\r\n\r\n    new Double(0.0).equals(Integer.valueOf(0))\r\n\r\nDouble.equals(...) will never return true unless given another Double instance. ","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<p>new Double(0.0).equals(0) is actually boxed as something like this:</p>\n\n<pre><code>new Double(0.0).equals(Integer.valueOf(0))\n</code></pre>\n\n<p>Double.equals(...) will never return true unless given another Double instance. </p>\n"},{"tags":[],"owner":{"account_id":1362699,"reputation":63,"user_id":1299756,"display_name":"TheOutsider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333451995,"creation_date":1333451995,"answer_id":9992193,"question_id":9992006,"body_markdown":"    new Double(0.0).equals(0)\r\nThis line compares a double value of 0 (which is not exact zero) with integer of 0.\r\n\r\n    BigDecimal.ZERO.equals(BigDecimal.valueOf(0.0))\r\nBigDecimal will compare the scale length in the equals operation.","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<pre><code>new Double(0.0).equals(0)\n</code></pre>\n\n<p>This line compares a double value of 0 (which is not exact zero) with integer of 0.</p>\n\n<pre><code>BigDecimal.ZERO.equals(BigDecimal.valueOf(0.0))\n</code></pre>\n\n<p>BigDecimal will compare the scale length in the equals operation.</p>\n"},{"tags":[],"owner":{"account_id":1015562,"reputation":415,"user_id":1027186,"display_name":"Anish Dasappan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333452381,"creation_date":1333452381,"answer_id":9992290,"question_id":9992006,"body_markdown":"For performance considerations BigDecimal, BigInteger caches small values \r\n0 to 15 in case of BigDecimal (without fractions)\r\n\r\nBigDecimal.ZERO  will be \tnew BigDecimal(BigInteger.ZERO, 0,  0, 1)\r\n&amp; valueOf method typically picks up from cache for 0 to 15 :)","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<p>For performance considerations BigDecimal, BigInteger caches small values \n0 to 15 in case of BigDecimal (without fractions)</p>\n\n<p>BigDecimal.ZERO  will be    new BigDecimal(BigInteger.ZERO, 0,  0, 1)\n&amp; valueOf method typically picks up from cache for 0 to 15 :)</p>\n"},{"comments":[{"owner":{"account_id":99289,"reputation":42852,"user_id":268273,"accept_rate":93,"display_name":"Mosty Mostacho"},"score":2,"creation_date":1381602869,"post_id":11848665,"comment_id":28647291,"body_markdown":"Transforming a BigDecimal to a double might result in loss of precision and a non-zero but close to zero BigDecimal turned into a Double might become 0. You should compare using the `compareTo` method in BigDecimal","body":"Transforming a BigDecimal to a double might result in loss of precision and a non-zero but close to zero BigDecimal turned into a Double might become 0. You should compare using the <code>compareTo</code> method in BigDecimal"}],"tags":[],"owner":{"account_id":1118323,"reputation":113,"user_id":1107154,"accept_rate":0,"display_name":"Agassis"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1344351332,"creation_date":1344351332,"answer_id":11848665,"question_id":9992006,"body_markdown":"    please try doublevalue instead of compareto if you feel is not as beautiful and readable as or simply need an alternative like below:\r\n    \r\n    BigDecimal a = new BigDecimal(&quot;0.00&quot;);\r\n    BigDecimal b = new BigDecimal(&quot;0.0&quot;);\r\n    BigDecimal c = new BigDecimal(&quot;0&quot;);\r\n    \r\n    if(a.doubleValue()==BigDecimal.ZERO.doubleValue()) {\r\n    System.out.println(&quot;a equals&quot;);\r\n    }\r\n    \r\n    if(b.doubleValue()==BigDecimal.ZERO.doubleValue()) {\r\n    System.out.println(&quot;b equals&quot;);\r\n    }\r\n    \r\n    if(c.doubleValue()==BigDecimal.ZERO.doubleValue()) {\r\n    System.out.println(&quot;c equals&quot;);\r\n    } ","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<pre><code>please try doublevalue instead of compareto if you feel is not as beautiful and readable as or simply need an alternative like below:\n\nBigDecimal a = new BigDecimal(\"0.00\");\nBigDecimal b = new BigDecimal(\"0.0\");\nBigDecimal c = new BigDecimal(\"0\");\n\nif(a.doubleValue()==BigDecimal.ZERO.doubleValue()) {\nSystem.out.println(\"a equals\");\n}\n\nif(b.doubleValue()==BigDecimal.ZERO.doubleValue()) {\nSystem.out.println(\"b equals\");\n}\n\nif(c.doubleValue()==BigDecimal.ZERO.doubleValue()) {\nSystem.out.println(\"c equals\");\n} \n</code></pre>\n"}],"owner":{"account_id":122546,"reputation":7175,"user_id":316419,"accept_rate":72,"display_name":"Manish Mulani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45057,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":9992044,"answer_count":7,"score":43,"last_activity_date":1695606016,"creation_date":1333451204,"question_id":9992006,"body_markdown":"A few interesting observations w.r.t equals operator on 0 and 0.0\r\n\r\n1. `new Double(0.0).equals(0)` returns false, while `new Double(0.0).equals(0.0)` returns true.\r\n\r\n2. `BigDecimal.ZERO.equals(BigDecimal.valueOf(0.0))` returns false, while `BigDecimal.ZERO.equals(BigDecimal.valueOf(0))` returns true.\r\n\r\nLooks like the string comparison is being done in both the cases. Could anyone throw some light on this.\r\n\r\nThanks.","title":"Equals operator for zeros (BigDecimal / Double) in Java","body":"<p>A few interesting observations w.r.t equals operator on 0 and 0.0</p>\n\n<ol>\n<li><p><code>new Double(0.0).equals(0)</code> returns false, while <code>new Double(0.0).equals(0.0)</code> returns true.</p></li>\n<li><p><code>BigDecimal.ZERO.equals(BigDecimal.valueOf(0.0))</code> returns false, while <code>BigDecimal.ZERO.equals(BigDecimal.valueOf(0))</code> returns true.</p></li>\n</ol>\n\n<p>Looks like the string comparison is being done in both the cases. Could anyone throw some light on this.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","design-patterns","state-pattern"],"answers":[{"comments":[{"owner":{"account_id":13749510,"reputation":832,"user_id":10002542,"display_name":"Alex. A"},"score":0,"creation_date":1577388269,"post_id":14434233,"comment_id":105159454,"body_markdown":"True it only mentions decentralizing the state transitions. Somebody still has to define the state machine as a prerequisite outside of this pattern. It should look like a directed graph.","body":"True it only mentions decentralizing the state transitions. Somebody still has to define the state machine as a prerequisite outside of this pattern. It should look like a directed graph."}],"tags":[],"owner":{"account_id":1197108,"reputation":1883,"user_id":1168577,"accept_rate":75,"display_name":"user1168577"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1358753798,"creation_date":1358753798,"answer_id":14434233,"question_id":14434187,"body_markdown":"From the GOF Design Patterns book (This is there in the Implementation section):\r\n\r\n*1. Who defines the state transitions? The State pattern does not specify which participant defines the criteria for state transitions. If the criteria are fixed,then they can be implemented entirely in the Context. It is generally more flexible and appropriate, however, to let the State subclasses themselves specify their successor state and when to make the transition. This requires adding an interface to the Context that lets State objects set the Context&#39;s current state explicitly.*\r\n\r\n*Decentralizing the transition logic in this way makes it easy to modify or extend the logic by defining new State subclasses. A disadvantage of decentralization is that one State subclass will have knowledge of at least one other, which introduces implementation dependencies between subclasses.*","title":"Who defines state transitions in the state pattern?","body":"<p>From the GOF Design Patterns book (This is there in the Implementation section):</p>\n\n<p><em>1. Who defines the state transitions? The State pattern does not specify which participant defines the criteria for state transitions. If the criteria are fixed,then they can be implemented entirely in the Context. It is generally more flexible and appropriate, however, to let the State subclasses themselves specify their successor state and when to make the transition. This requires adding an interface to the Context that lets State objects set the Context's current state explicitly.</em></p>\n\n<p><em>Decentralizing the transition logic in this way makes it easy to modify or extend the logic by defining new State subclasses. A disadvantage of decentralization is that one State subclass will have knowledge of at least one other, which introduces implementation dependencies between subclasses.</em></p>\n"},{"tags":[],"owner":{"account_id":2255493,"reputation":933,"user_id":1986769,"display_name":"ShazSimple"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1373347326,"creation_date":1373347326,"answer_id":17540524,"question_id":14434187,"body_markdown":"May be a relatively concrete example can clarify. I hope I am understanding it correctly\r\n\r\nSuppose a washing machine has two states (ON, Off). Following GoF vocabulary:\r\n\r\n+ Context =&gt; WashingMachine\r\n+ State =&gt; WashingMachineState\r\n+ Concrete states =&gt; StateOn, StateOff\r\n\r\nFor state transition, via state subclasses (in our case StateOn and StateOff) we need to have a method to change state Context:\r\n\r\n    class WashingMachine {\r\n       WashingMachineState state;\r\n       ...\r\n       protected void setState(WashingMachineState newState) {\r\n          state = newState;\r\n       }\r\n       \r\n       someMethod () {\r\n          ...\r\n          state.pushStartButton(this);\r\n          ...\r\n       }\r\n    }\r\n    abstract class WashingMachineState {\r\n       protected void run();\r\n       protected void pushStartButton(WashingMachine wm);\r\n    }\r\n    class StateOn extends WashingMachineState {\r\n       ...\r\n       void pushStartButton(WashingMachine wm) {\r\n          wm.setState(new StateOff())\r\n       }\r\n    }\r\n    \r\n    class StateOff extends WashingMachineState {\r\n       ...\r\n       void pushStartButton(WashingMachine wm) {\r\n          wm.setState(new StateOn())\r\n       }\r\n    }\r\n\r\nJust keep in mind there are several ways to implement it, creativity helps!\r\n    ","title":"Who defines state transitions in the state pattern?","body":"<p>May be a relatively concrete example can clarify. I hope I am understanding it correctly</p>\n\n<p>Suppose a washing machine has two states (ON, Off). Following GoF vocabulary:</p>\n\n<ul>\n<li>Context => WashingMachine</li>\n<li>State => WashingMachineState</li>\n<li>Concrete states => StateOn, StateOff</li>\n</ul>\n\n<p>For state transition, via state subclasses (in our case StateOn and StateOff) we need to have a method to change state Context:</p>\n\n<pre><code>class WashingMachine {\n   WashingMachineState state;\n   ...\n   protected void setState(WashingMachineState newState) {\n      state = newState;\n   }\n\n   someMethod () {\n      ...\n      state.pushStartButton(this);\n      ...\n   }\n}\nabstract class WashingMachineState {\n   protected void run();\n   protected void pushStartButton(WashingMachine wm);\n}\nclass StateOn extends WashingMachineState {\n   ...\n   void pushStartButton(WashingMachine wm) {\n      wm.setState(new StateOff())\n   }\n}\n\nclass StateOff extends WashingMachineState {\n   ...\n   void pushStartButton(WashingMachine wm) {\n      wm.setState(new StateOn())\n   }\n}\n</code></pre>\n\n<p>Just keep in mind there are several ways to implement it, creativity helps!</p>\n"},{"tags":[],"owner":{"account_id":7191255,"reputation":226,"user_id":5491493,"display_name":"moth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695604808,"creation_date":1695604808,"answer_id":77169482,"question_id":14434187,"body_markdown":"A pattern that I enjoy for state transitions is using separate classes for each transition between two states.\r\n\r\nThis allows the states to be responsible only for what happens when this state is entered, is executing, and is exited, but separate code controls transitions from one state to another. This allows more specificity when a complex action needs to occur only on one transition to another.","title":"Who defines state transitions in the state pattern?","body":"<p>A pattern that I enjoy for state transitions is using separate classes for each transition between two states.</p>\n<p>This allows the states to be responsible only for what happens when this state is entered, is executing, and is exited, but separate code controls transitions from one state to another. This allows more specificity when a complex action needs to occur only on one transition to another.</p>\n"}],"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3684,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":14434233,"answer_count":3,"score":17,"last_activity_date":1695604808,"creation_date":1358753610,"question_id":14434187,"body_markdown":"I understand that the `State pattern` can be used to model objects that changes behavior depending on the state and the various states that the `Context` can have is encapsulated in concrete classes that represent a `State` interface . What I am not clear is how the state transitions happen in this pattern . Do the individual `states` know and decide who follows them or is it the `Context` that decides which state it will get next ?","title":"Who defines state transitions in the state pattern?","body":"<p>I understand that the <code>State pattern</code> can be used to model objects that changes behavior depending on the state and the various states that the <code>Context</code> can have is encapsulated in concrete classes that represent a <code>State</code> interface . What I am not clear is how the state transitions happen in this pattern . Do the individual <code>states</code> know and decide who follows them or is it the <code>Context</code> that decides which state it will get next ?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22436273,"reputation":88,"user_id":16641483,"display_name":"Lofri97"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695604451,"creation_date":1695604451,"answer_id":77169473,"question_id":77169399,"body_markdown":"Because `@Value` works in spring managed bean, Declared only `@Entity` might not works what you want.\r\n\r\nHow about using like this?\r\n\r\n```java\r\n@Component\r\nclass SomeConfig {\r\n  @Value(&quot;${SomeVal}&quot;)\r\n  public String val;\r\n}\r\n\r\n@Entity\r\nclass YourEntity {\r\n  @Column(name = &quot;column&quot;, columnDefinition = &quot;double&quot;)\r\n  @NonNull\r\n  private Double column = SomeConfig.val;\r\n}\r\n```\r\n\r\nAlthough the constraints of the DB do not change, but programmatically, the default values can be determined through external settings!","title":"Setting Default Values for JPA Column Via Enviromental Variable (Spring Boot)","body":"<p>Because <code>@Value</code> works in spring managed bean, Declared only <code>@Entity</code> might not works what you want.</p>\n<p>How about using like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass SomeConfig {\n  @Value(&quot;${SomeVal}&quot;)\n  public String val;\n}\n\n@Entity\nclass YourEntity {\n  @Column(name = &quot;column&quot;, columnDefinition = &quot;double&quot;)\n  @NonNull\n  private Double column = SomeConfig.val;\n}\n</code></pre>\n<p>Although the constraints of the DB do not change, but programmatically, the default values can be determined through external settings!</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77169473,"answer_count":1,"score":0,"last_activity_date":1695604451,"creation_date":1695602198,"question_id":77169399,"body_markdown":"I have an entity class where I want to set the default value for a column. I tried this:\r\n\r\n    @Column(name = &quot;column&quot;, columnDefinition = &quot;double&quot;)\r\n    @Value(&quot;#{new Double(&#39;${env.var:-0.25}&#39;)}&quot;)\r\n    @NonNull\r\n    private Double column;\r\n\r\nNow, we cannot use @Value to set a value in the entity class. I saw some stackoverflow answers like this:\r\n\r\nhttps://stackoverflow.com/questions/197045/setting-default-values-for-columns-in-jpa\r\n\r\nwhere you set a default in the column definition, but there is no way to default and inject a env value like @Value does. Is there anything I can do to achieve this?\r\n\r\nThanks","title":"Setting Default Values for JPA Column Via Enviromental Variable (Spring Boot)","body":"<p>I have an entity class where I want to set the default value for a column. I tried this:</p>\n<pre><code>@Column(name = &quot;column&quot;, columnDefinition = &quot;double&quot;)\n@Value(&quot;#{new Double('${env.var:-0.25}')}&quot;)\n@NonNull\nprivate Double column;\n</code></pre>\n<p>Now, we cannot use @Value to set a value in the entity class. I saw some stackoverflow answers like this:</p>\n<p><a href=\"https://stackoverflow.com/questions/197045/setting-default-values-for-columns-in-jpa\">Setting default values for columns in JPA</a></p>\n<p>where you set a default in the column definition, but there is no way to default and inject a env value like @Value does. Is there anything I can do to achieve this?</p>\n<p>Thanks</p>\n"},{"tags":["java","inheritance","overloading"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":1,"creation_date":1555053462,"post_id":55646387,"comment_id":97982089,"body_markdown":"Did you tried to call `Child c = new Child(); c.add(1); c.add(1L);` ? You already have everything to discover the answer yourself. And then, do the same with `Parent p = new Child(); p.add(1); p.add(1L);`","body":"Did you tried to call <code>Child c = new Child(); c.add(1); c.add(1L);</code> ? You already have everything to discover the answer yourself. And then, do the same with <code>Parent p = new Child(); p.add(1); p.add(1L);</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1555053504,"post_id":55646387,"comment_id":97982108,"body_markdown":"Yes, this is overloading.","body":"Yes, this is overloading."}],"answers":[{"tags":[],"owner":{"account_id":920761,"reputation":557,"user_id":952507,"accept_rate":5,"display_name":"Suseendran P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555053835,"creation_date":1555053835,"answer_id":55646484,"question_id":55646387,"body_markdown":"Yes. While extending any class, internally it means all accessible behaviour of the parent class will be present or inherited in child class. i.e, so in your case same name with different argument is overloading.","title":"Is overloading in inheritance class possible in Java?","body":"<p>Yes. While extending any class, internally it means all accessible behaviour of the parent class will be present or inherited in child class. i.e, so in your case same name with different argument is overloading.</p>\n"},{"tags":[],"owner":{"account_id":12274705,"reputation":2049,"user_id":8958938,"display_name":"Jamith NImantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555062740,"creation_date":1555062740,"answer_id":55648990,"question_id":55646387,"body_markdown":"Yes of course, overloading in inheritance class is possible in Java. Java compiler detect that add method has multiple implementations. so according to the parameter java compiler will determines which method has to be executed.\r\n\r\n    class Parent {\r\n        public void add(int a) {\r\n            System.out.println(&quot;I am parent &quot; + a);\r\n        }\r\n    }\r\n    \r\n    class Child extends Parent {\r\n        public void add(long a) {\r\n            System.out.println(&quot;I am child.&quot;);\r\n        }\r\n    }\r\n    class Demo{\r\n    \tpublic static void main(String args[]){\r\n    \r\n    \tChild child = new Child();\r\n    \tchild.add(1); // prints &quot;I am parent 1&quot;\r\n    \tchild.add(1L); // prints &quot;I am child.&quot;\r\n    \r\n    \t}\r\n    }","title":"Is overloading in inheritance class possible in Java?","body":"<p>Yes of course, overloading in inheritance class is possible in Java. Java compiler detect that add method has multiple implementations. so according to the parameter java compiler will determines which method has to be executed.</p>\n\n<pre><code>class Parent {\n    public void add(int a) {\n        System.out.println(\"I am parent \" + a);\n    }\n}\n\nclass Child extends Parent {\n    public void add(long a) {\n        System.out.println(\"I am child.\");\n    }\n}\nclass Demo{\n    public static void main(String args[]){\n\n    Child child = new Child();\n    child.add(1); // prints \"I am parent 1\"\n    child.add(1L); // prints \"I am child.\"\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26601211,"reputation":17,"user_id":20222832,"display_name":"Siva_Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666268093,"creation_date":1666000930,"answer_id":74095567,"question_id":55646387,"body_markdown":"Yes, In java allow overloading concept which means you can declare different method with Same name and different parameter .In your case You are extending the parent class ,which means all the property of parent class available in child class(child).\r\n        \r\nIts a overloading:\r\n    \r\n    Child c = new Child(); \r\n    c.add(1);//it will call the parent method\r\n    c.add(1L);//It will call the child method","title":"Is overloading in inheritance class possible in Java?","body":"<p>Yes, In java allow overloading concept which means you can declare different method with Same name and different parameter .In your case You are extending the parent class ,which means all the property of parent class available in child class(child).</p>\n<p>Its a overloading:</p>\n<pre><code>Child c = new Child(); \nc.add(1);//it will call the parent method\nc.add(1L);//It will call the child method\n</code></pre>\n"}],"owner":{"account_id":7032012,"reputation":31,"user_id":5387353,"display_name":"Nilesh Ghadge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1902,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1695603748,"creation_date":1555053387,"question_id":55646387,"body_markdown":"Is overloading in inheritance class possible in Java? Parent class and Child class contain the same method name, but different parameters. Is this overloading?\r\n\r\n```java\r\nclass Parent {\r\n\tpublic void add(int a) {\r\n\t\tSystem.out.println(&quot;I am parent&quot; + a);\r\n\t}\r\n}\r\n\r\nclass Child extends Parent {\r\n\tpublic void add(long a) {\r\n\t\tSystem.out.println(&quot;I am child.&quot;);\r\n\t}\r\n}\r\n```","title":"Is overloading in inheritance class possible in Java?","body":"<p>Is overloading in inheritance class possible in Java? Parent class and Child class contain the same method name, but different parameters. Is this overloading?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Parent {\n    public void add(int a) {\n        System.out.println(\"I am parent\" + a);\n    }\n}\n\nclass Child extends Parent {\n    public void add(long a) {\n        System.out.println(\"I am child.\");\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","reflection","pax-exam","junit5-extension-model"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1695334236,"post_id":77153674,"comment_id":136014420,"body_markdown":"Correct the code in the block &quot;simplest implemenation&quot; so that it will compile, and we can discuss further …","body":"Correct the code in the block &quot;simplest implemenation&quot; so that it will compile, and we can discuss further …"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695336828,"post_id":77153674,"comment_id":136014666,"body_markdown":"So you want to write an implementation of WorkValidator.checkWork that will decide what action to take based on the generic parameter of the Worker argument?  Like, do one thing if the argument is `Worker&lt;String&gt;` and do another thing if the argument is `Worker&lt;Integer&gt;`?","body":"So you want to write an implementation of WorkValidator.checkWork that will decide what action to take based on the generic parameter of the Worker argument?  Like, do one thing if the argument is <code>Worker&lt;String&gt;</code> and do another thing if the argument is <code>Worker&lt;Integer&gt;</code>?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695339029,"post_id":77153674,"comment_id":136014875,"body_markdown":"The situation you&#39;re describing typically requires a different abstraction, and a different ordering of the data.  Can you provide more information regarding the application here, what is its purpose?","body":"The situation you&#39;re describing typically requires a different abstraction, and a different ordering of the data.  Can you provide more information regarding the application here, what is its purpose?"},{"owner":{"account_id":29504082,"reputation":1,"user_id":22610461,"display_name":"William Denton"},"score":0,"creation_date":1695410618,"post_id":77153674,"comment_id":136025864,"body_markdown":"Restructured the question and its sample code. Also discussed what I am actually trying to do -- create a Remote Launcher for JUnit5","body":"Restructured the question and its sample code. Also discussed what I am actually trying to do -- create a Remote Launcher for JUnit5"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695448558,"post_id":77153674,"comment_id":136028787,"body_markdown":"`if (invocation.returnType = Line)`  —Not possible.  Sorry, there is just no way to do this.  That information exists only at compile-time.  I realize you don’t control the signature of the `intercept` method, but somehow, your own code will have to require more information (specifically, a Class object) before creating an Interceptor, in order to know what that return type will be.","body":"<code>if (invocation.returnType = Line)</code>  —Not possible.  Sorry, there is just no way to do this.  That information exists only at compile-time.  I realize you don’t control the signature of the <code>intercept</code> method, but somehow, your own code will have to require more information (specifically, a Class object) before creating an Interceptor, in order to know what that return type will be."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695580461,"post_id":77153674,"comment_id":136040148,"body_markdown":"Note that `gtype.getClass()` does not do what you want at all.  It returns the class of the gtype reflection object itself, not the Class which is the method’s generic return type.  You may be able to get results from something like `if (gtype instanceof Class&lt;?&gt; cls) { String gtname = cls.getName(); /* etc. */ }`","body":"Note that <code>gtype.getClass()</code> does not do what you want at all.  It returns the class of the gtype reflection object itself, not the Class which is the method’s generic return type.  You may be able to get results from something like <code>if (gtype instanceof Class&lt;?&gt; cls) { String gtname = cls.getName(); &#47;* etc. *&#47; }</code>"}],"answers":[{"comments":[{"owner":{"account_id":29504082,"reputation":1,"user_id":22610461,"display_name":"William Denton"},"score":0,"creation_date":1695410842,"post_id":77154451,"comment_id":136025895,"body_markdown":"I can&#39;t change the `WorkValidator` interface or any of the code that invokes its implementations... it is all part of JUnit5 which I am trying to extend with a &quot;Remote Launcher&quot;","body":"I can&#39;t change the <code>WorkValidator</code> interface or any of the code that invokes its implementations... it is all part of JUnit5 which I am trying to extend with a &quot;Remote Launcher&quot;"}],"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695346756,"creation_date":1695346756,"answer_id":77154451,"question_id":77153674,"body_markdown":"You can make the interface use a type parameter just like how Lists work in Java.\r\n\r\n    interface WorkValidator&lt;T&gt; {\r\n        T checkWork (Worker&lt;T&gt; worker);\r\n    \r\n        interface Worker&lt;T&gt; {\r\n            T doWork();\r\n        }\r\n    }\r\n\r\nThen your implementations can be specific implementations such as a string worker like so:\r\n\r\n    class StringWorkValidator implements WorkValidator&lt;String&gt; {\r\n        @Override \r\n        public String checkWork (Worker&lt;String&gt; worker) {\r\n            return worker.doWork();\r\n        }\r\n    }\r\n    . . .\r\n    StringWorkValidator myValidator = new StringWorkValidator();\r\n    . . .\r\n    String finishedWork = myValidator.checkWork( () -&gt; someWorker.work(p1, p2, etc) );","title":"Need to find return type method&#39;s lambda function parameter","body":"<p>You can make the interface use a type parameter just like how Lists work in Java.</p>\n<pre><code>interface WorkValidator&lt;T&gt; {\n    T checkWork (Worker&lt;T&gt; worker);\n\n    interface Worker&lt;T&gt; {\n        T doWork();\n    }\n}\n</code></pre>\n<p>Then your implementations can be specific implementations such as a string worker like so:</p>\n<pre><code>class StringWorkValidator implements WorkValidator&lt;String&gt; {\n    @Override \n    public String checkWork (Worker&lt;String&gt; worker) {\n        return worker.doWork();\n    }\n}\n. . .\nStringWorkValidator myValidator = new StringWorkValidator();\n. . .\nString finishedWork = myValidator.checkWork( () -&gt; someWorker.work(p1, p2, etc) );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695647390,"post_id":77169416,"comment_id":136048340,"body_markdown":"Instead of `Line.class.isAssignableFrom(result.getClass())` you can simply use `result instanceof Line`. In either case, it tests the runtime type of the object, not the invoked method’s return type. E.g. you can write `Invocation&lt;Object&gt; i = Line::new;` then, the formal return type is `Object` but the actual return value has type `Line`. By the way, the `Invocation` interface is obsolete, you can use `Supplier&lt;T&gt;` in the first place, then you can simply pass through the suppliers without the need to adapt them.","body":"Instead of <code>Line.class.isAssignableFrom(result.getClass())</code> you can simply use <code>result instanceof Line</code>. In either case, it tests the runtime type of the object, not the invoked method’s return type. E.g. you can write <code>Invocation&lt;Object&gt; i = Line::new;</code> then, the formal return type is <code>Object</code> but the actual return value has type <code>Line</code>. By the way, the <code>Invocation</code> interface is obsolete, you can use <code>Supplier&lt;T&gt;</code> in the first place, then you can simply pass through the suppliers without the need to adapt them."}],"tags":[],"owner":{"account_id":29504082,"reputation":1,"user_id":22610461,"display_name":"William Denton"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695602584,"creation_date":1695602584,"answer_id":77169416,"question_id":77153674,"body_markdown":"Thankyou everyone for providing great feedback on my question. I am sorry if I was not completely clear in details of my problem.\r\n\r\nVGR&#39;s comments corroborated what I was afraid of... that there isn&#39;t yet any way to do exactly what I have hoped for. Maybe a future Java release will allow this sort of deep reflection at runtime.\r\n\r\nAnyway, the best solution I could come up with was to go ahead and call `invocation.proceed()` then use old-school Class.isAssignableFrom() to examine its result. Then return a replacement object instead. This would look like this...\r\n```\r\nreturn new Interceptor() {\r\n    @Override\r\n    &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation) {\r\n        T result = invocation.proceed();\r\n        if (result != null &amp;&amp; Line.class.isAssignableFrom(result.getClass()) {\r\n            result = new MyLine((Line) result); // maybe MyLine needs to delegate actions\r\n        }\r\n        return result;\r\n    };\r\n```\r\nOf course, this assumes there aren&#39;t any undesirable side effects of calling the lambda but replacing its results with your own.","title":"Need to find return type method&#39;s lambda function parameter","body":"<p>Thankyou everyone for providing great feedback on my question. I am sorry if I was not completely clear in details of my problem.</p>\n<p>VGR's comments corroborated what I was afraid of... that there isn't yet any way to do exactly what I have hoped for. Maybe a future Java release will allow this sort of deep reflection at runtime.</p>\n<p>Anyway, the best solution I could come up with was to go ahead and call <code>invocation.proceed()</code> then use old-school Class.isAssignableFrom() to examine its result. Then return a replacement object instead. This would look like this...</p>\n<pre><code>return new Interceptor() {\n    @Override\n    &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation) {\n        T result = invocation.proceed();\n        if (result != null &amp;&amp; Line.class.isAssignableFrom(result.getClass()) {\n            result = new MyLine((Line) result); // maybe MyLine needs to delegate actions\n        }\n        return result;\n    };\n</code></pre>\n<p>Of course, this assumes there aren't any undesirable side effects of calling the lambda but replacing its results with your own.</p>\n"}],"owner":{"account_id":29504082,"reputation":1,"user_id":22610461,"display_name":"William Denton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695602584,"creation_date":1695330818,"question_id":77153674,"body_markdown":"(Note.. I have restructured the example to more closely match the use case I am working on)\r\n\r\nI have the following interface defined:\r\n```\r\npublic interface Interceptor {\r\n    &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation);\r\n\r\n    interface Invocation&lt;T&gt; {\r\n        T proceed();\r\n    }\r\n}\r\n```\r\nThis simplest implementation of this would be something like:\r\n```\r\nclass TestInterceptor {\r\n    static class Line {int x1, y1, z1, x2, y2, z2;}\r\n    static class Color {int r, g, b;}\r\n    static class Renderer {\r\n        Interceptor interceptor;\r\n        Renderer (Interceptor interceptor) {this.interceptor = interceptor;}\r\n        void draw (Supplier&lt;Line&gt; lineSource, Supplier&lt;Color&gt; colorSource) {\r\n            Line thisLine = interceptor.intercept(lineSource::get);\r\n            Color thisColor = interceptor.intercept(colorSource::get);\r\n            // do the drawing\r\n        }\r\n    }\r\n    void drawSomething () {\r\n        Renderer render = new Renderer(getInterceptor());\r\n        render.draw( () -&gt; createLine(), () -&gt; createColor() );\r\n    }\r\n    Line createLine () {return new Line(/*something*/);}\r\n    Color createColor () {return new Color(/*something*/);}\r\n    Interceptor getInterceptor () {\r\n        return new Interceptor() {\r\n            @Override\r\n            &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation) {\r\n                /* would like to do this:\r\n                if (invocation.returnType = Line) {\r\n                   return new MyLIne();\r\n                } else {\r\n                   return invocation.proceed();\r\n                } */\r\n               return invocation.proceed();\r\n             }\r\n         }\r\n     }\r\n}\r\n```\r\nNotice the comment in `getInterceptor()` that I would like to take different actions (including not calling the lambda) based on what the lambda is going to return. I have tried everything I can think of to get the actual type behind the parameterized type `T` but keep drawing a blank. Can anyone help me out here?\r\n\r\nHere are some of the things I&#39;ve tried\r\n```\r\nClass&lt;?&gt; wclass = interceptor.getClass();\r\nMethod method = wclass.getMethod(&quot;proceed&quot;, new Class&lt;?&gt;[]{});\r\nClass&lt;?&gt; rtype = method.getReturnType(); //getName() always returns &quot;java.lang.Object&quot;\r\nType gtype = method.getGenericReturnType();\r\nClass&lt;?&gt; gtclass = gtype.getClass(); //getName() always returns &quot;java.lang.Class&quot;\r\nString gtname = gtype.getTypeName()); //always returns &quot;java.lang.Object&quot;\r\n```\r\nI am actually trying to create a &quot;Remote Launcher&quot; for JUnit5 so I can use Maven SureFire to run tests in a separatly launched and configured OSGi &quot;container&quot; (way overloaded term but don&#39;t get me started). Except for the `getInterceptor()` method, all of the sample code above is a simplification of existing Junit5 code and not anything I can change. \r\n\r\n(Ideally, I would integrate the new Remote Launcher into PaxExam which seems to have stagnated.)\r\n","title":"Need to find return type method&#39;s lambda function parameter","body":"<p>(Note.. I have restructured the example to more closely match the use case I am working on)</p>\n<p>I have the following interface defined:</p>\n<pre><code>public interface Interceptor {\n    &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation);\n\n    interface Invocation&lt;T&gt; {\n        T proceed();\n    }\n}\n</code></pre>\n<p>This simplest implementation of this would be something like:</p>\n<pre><code>class TestInterceptor {\n    static class Line {int x1, y1, z1, x2, y2, z2;}\n    static class Color {int r, g, b;}\n    static class Renderer {\n        Interceptor interceptor;\n        Renderer (Interceptor interceptor) {this.interceptor = interceptor;}\n        void draw (Supplier&lt;Line&gt; lineSource, Supplier&lt;Color&gt; colorSource) {\n            Line thisLine = interceptor.intercept(lineSource::get);\n            Color thisColor = interceptor.intercept(colorSource::get);\n            // do the drawing\n        }\n    }\n    void drawSomething () {\n        Renderer render = new Renderer(getInterceptor());\n        render.draw( () -&gt; createLine(), () -&gt; createColor() );\n    }\n    Line createLine () {return new Line(/*something*/);}\n    Color createColor () {return new Color(/*something*/);}\n    Interceptor getInterceptor () {\n        return new Interceptor() {\n            @Override\n            &lt;T&gt; T intercept (Invocation&lt;T&gt; invocation) {\n                /* would like to do this:\n                if (invocation.returnType = Line) {\n                   return new MyLIne();\n                } else {\n                   return invocation.proceed();\n                } */\n               return invocation.proceed();\n             }\n         }\n     }\n}\n</code></pre>\n<p>Notice the comment in <code>getInterceptor()</code> that I would like to take different actions (including not calling the lambda) based on what the lambda is going to return. I have tried everything I can think of to get the actual type behind the parameterized type <code>T</code> but keep drawing a blank. Can anyone help me out here?</p>\n<p>Here are some of the things I've tried</p>\n<pre><code>Class&lt;?&gt; wclass = interceptor.getClass();\nMethod method = wclass.getMethod(&quot;proceed&quot;, new Class&lt;?&gt;[]{});\nClass&lt;?&gt; rtype = method.getReturnType(); //getName() always returns &quot;java.lang.Object&quot;\nType gtype = method.getGenericReturnType();\nClass&lt;?&gt; gtclass = gtype.getClass(); //getName() always returns &quot;java.lang.Class&quot;\nString gtname = gtype.getTypeName()); //always returns &quot;java.lang.Object&quot;\n</code></pre>\n<p>I am actually trying to create a &quot;Remote Launcher&quot; for JUnit5 so I can use Maven SureFire to run tests in a separatly launched and configured OSGi &quot;container&quot; (way overloaded term but don't get me started). Except for the <code>getInterceptor()</code> method, all of the sample code above is a simplification of existing Junit5 code and not anything I can change.</p>\n<p>(Ideally, I would integrate the new Remote Launcher into PaxExam which seems to have stagnated.)</p>\n"},{"tags":["java","nullpointerexception","wait","distributed"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1695599670,"post_id":77169233,"comment_id":136041777,"body_markdown":"It should be either `synchronized (lock) { lock.wait() ...}` or `synchronized (this) { wait(); ...}`, but that will cause a different exception, not a `NullPointerException`. Please clarify. Post the stack trace. Edit it into your question.","body":"It should be either <code>synchronized (lock) { lock.wait() ...}</code> or <code>synchronized (this) { wait(); ...}</code>, but that will cause a different exception, not a <code>NullPointerException</code>. Please clarify. Post the stack trace. Edit it into your question."},{"owner":{"account_id":6208638,"reputation":33,"user_id":4835669,"display_name":"Nehemiah Newell"},"score":0,"creation_date":1695600607,"post_id":77169233,"comment_id":136041864,"body_markdown":"java.lang.NullPointerException: Cannot invoke &quot;buffers.ResponseProtos$Response.getMessage()&quot; because &quot;response&quot; is null","body":"java.lang.NullPointerException: Cannot invoke &quot;buffers.ResponseProtos$Response.getMessage()&quot; because &quot;response&quot; is null"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695604560,"post_id":77169233,"comment_id":136042171,"body_markdown":"You need to put the full stack trace into your question, not just the exception message.","body":"You need to put the full stack trace into your question, not just the exception message."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695613175,"post_id":77169233,"comment_id":136042879,"body_markdown":"*&quot;On the server side, it gets this error instead ....&quot;* -  That is a different bug in your code.  Now you should search for Q&amp;As involving &gt;that&lt; error message.   (Hint: you are calling `notifyAll` on the wrong object.  If you are synchronizing on `lock`, you should use that object as the target for `wait` and `notify` / `notifyAll` calls ... while you are holding the mutex for `lock`.  This is explained in the javadocs for `java.lang.Object` ... and tutorials, books, etc.)","body":"<i>&quot;On the server side, it gets this error instead ....&quot;</i> -  That is a different bug in your code.  Now you should search for Q&amp;As involving &gt;that&lt; error message.   (Hint: you are calling <code>notifyAll</code> on the wrong object.  If you are synchronizing on <code>lock</code>, you should use that object as the target for <code>wait</code> and <code>notify</code> / <code>notifyAll</code> calls ... while you are holding the mutex for <code>lock</code>.  This is explained in the javadocs for <code>java.lang.Object</code> ... and tutorials, books, etc.)"}],"owner":{"account_id":6208638,"reputation":33,"user_id":4835669,"display_name":"Nehemiah Newell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1695599692,"answer_count":0,"score":0,"last_activity_date":1695601871,"creation_date":1695596273,"question_id":77169233,"body_markdown":"I&#39;m working on a school project, and the task is to learn to create very *very* basic nodes for a &#39;distributed network&#39; (it doesn&#39;t really deserve to be called that). Right now though, I can&#39;t make my &quot;nodes&quot; wait, because when I do, they immediately throw an error. It doesn&#39;t crash the server (threads can fail without damaging anything), but I can&#39;t pass anything to a &quot;node&quot; if the moment I ask it to wait it crashes.\r\n\r\nRight now, this is the part of the server-side code that tells it to wait.\r\n\r\n```\r\nwhile (node == 1)\r\n            {\r\n                synchronized (lock) {\r\n                    try {\r\n                        wait(); // thread dies as client crashes here.\r\n                        System.out.println(&quot;I waited.&quot;);\r\n                        node = 2;\r\n                    } catch (InterruptedException e) {\r\n                        Thread.currentThread().interrupt();\r\n                        System.err.println(&quot;This is a thread error.&quot;);\r\n                    }\r\n                }\r\n                System.out.println(&quot;And the Wait Ended.&quot;);\r\n                response = Response.newBuilder()\r\n                        .setResponseType(Response.ResponseType.REPLY)\r\n                        .setMessage(&quot;You waited.&quot;)\r\n                        .build();\r\n            }\r\n ```\r\n(Yes, the while loop isn&#39;t doing anything right now. I want to get the wait behavior working before doing more code)\r\n\r\nThis is the part of the server-side code that would end the wait is here (I don&#39;t think this part matters, because it throws *before* this code is reached, but this part of the code runs fine.\r\n\r\n```\r\n                        response = Response.newBuilder()\r\n                                .setResponseType(Response.ResponseType.REPLY)\r\n                                .setMessage(op.getUnencoded())\r\n                                .build();\r\n                        synchronized (lock) {\r\n                            notifyAll();\r\n                        }\r\n                        quit = true;\r\n                        System.out.println(&quot;Echoed&quot;);\r\n                        break;\r\n```\r\n\r\nAnd the &quot;node&quot; looks like this.\r\n\r\n```\r\n        try {\r\n            // connect to the server\r\n            serverSock = new Socket(host, port);\r\n\r\n            // write to the server\r\n            out = serverSock.getOutputStream();\r\n            in = serverSock.getInputStream();\r\n\r\n            op.writeDelimitedTo(out);\r\n\r\n            // read from the server\r\n            response = Response.parseDelimitedFrom(in);\r\n\r\n            // print the server response. \r\n            System.out.println(response.getMessage());\r\n            // wait on the server\r\n            response = Response.parseDelimitedFrom(in); /// it seems to die here.\r\n            System.out.println(response.getMessage());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (in != null)   in.close();\r\n            if (out != null)  out.close();\r\n            if (serverSock != null) serverSock.close();\r\n        }\r\n```\r\n\r\nWhat&#39;s more annoying was that it didn&#39;t throw an exception back when I had the monitor set up wrong. It waited forever, but the thread waited fine. Switch to monitoring a &#39;lock&#39; rather than having the whole method synchronized (which didn&#39;t work because each thread was a new object and new monitor, I think?) made this problem start. I can&#39;t figure out what I&#39;m doing wrong here, and the lecture doesn&#39;t talk about wait at all (maybe I was supposed to do busy waiting or something? That sounds terrible).\r\n\r\nedit:\r\nThis is the full error.\r\n```java.lang.NullPointerException: Cannot invoke &quot;buffers.ResponseProtos$Response.getMessage()&quot; because &quot;response&quot; is null```\r\n\r\nEdit:\r\nIt&#39;s unclear why putting a thread into &#39;wait&#39; is causing the null point error exception, not what a null point exception is. \r\n\r\nedit: On the server side, it gets this error instead.\r\n```\r\njava.lang.IllegalMonitorStateException: current thread is not owner\r\n        at java.base/java.lang.Object.notifyAll(Native Method)\r\n        at server.Server.run(Server.java:72)\r\n```\r\n\r\n","title":"I get a java.lang.NullPointerException when the server waits","body":"<p>I'm working on a school project, and the task is to learn to create very <em>very</em> basic nodes for a 'distributed network' (it doesn't really deserve to be called that). Right now though, I can't make my &quot;nodes&quot; wait, because when I do, they immediately throw an error. It doesn't crash the server (threads can fail without damaging anything), but I can't pass anything to a &quot;node&quot; if the moment I ask it to wait it crashes.</p>\n<p>Right now, this is the part of the server-side code that tells it to wait.</p>\n<pre><code>while (node == 1)\n            {\n                synchronized (lock) {\n                    try {\n                        wait(); // thread dies as client crashes here.\n                        System.out.println(&quot;I waited.&quot;);\n                        node = 2;\n                    } catch (InterruptedException e) {\n                        Thread.currentThread().interrupt();\n                        System.err.println(&quot;This is a thread error.&quot;);\n                    }\n                }\n                System.out.println(&quot;And the Wait Ended.&quot;);\n                response = Response.newBuilder()\n                        .setResponseType(Response.ResponseType.REPLY)\n                        .setMessage(&quot;You waited.&quot;)\n                        .build();\n            }\n</code></pre>\n<p>(Yes, the while loop isn't doing anything right now. I want to get the wait behavior working before doing more code)</p>\n<p>This is the part of the server-side code that would end the wait is here (I don't think this part matters, because it throws <em>before</em> this code is reached, but this part of the code runs fine.</p>\n<pre><code>                        response = Response.newBuilder()\n                                .setResponseType(Response.ResponseType.REPLY)\n                                .setMessage(op.getUnencoded())\n                                .build();\n                        synchronized (lock) {\n                            notifyAll();\n                        }\n                        quit = true;\n                        System.out.println(&quot;Echoed&quot;);\n                        break;\n</code></pre>\n<p>And the &quot;node&quot; looks like this.</p>\n<pre><code>        try {\n            // connect to the server\n            serverSock = new Socket(host, port);\n\n            // write to the server\n            out = serverSock.getOutputStream();\n            in = serverSock.getInputStream();\n\n            op.writeDelimitedTo(out);\n\n            // read from the server\n            response = Response.parseDelimitedFrom(in);\n\n            // print the server response. \n            System.out.println(response.getMessage());\n            // wait on the server\n            response = Response.parseDelimitedFrom(in); /// it seems to die here.\n            System.out.println(response.getMessage());\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (in != null)   in.close();\n            if (out != null)  out.close();\n            if (serverSock != null) serverSock.close();\n        }\n</code></pre>\n<p>What's more annoying was that it didn't throw an exception back when I had the monitor set up wrong. It waited forever, but the thread waited fine. Switch to monitoring a 'lock' rather than having the whole method synchronized (which didn't work because each thread was a new object and new monitor, I think?) made this problem start. I can't figure out what I'm doing wrong here, and the lecture doesn't talk about wait at all (maybe I was supposed to do busy waiting or something? That sounds terrible).</p>\n<p>edit:\nThis is the full error.\n<code>java.lang.NullPointerException: Cannot invoke &quot;buffers.ResponseProtos$Response.getMessage()&quot; because &quot;response&quot; is null</code></p>\n<p>Edit:\nIt's unclear why putting a thread into 'wait' is causing the null point error exception, not what a null point exception is.</p>\n<p>edit: On the server side, it gets this error instead.</p>\n<pre><code>java.lang.IllegalMonitorStateException: current thread is not owner\n        at java.base/java.lang.Object.notifyAll(Native Method)\n        at server.Server.run(Server.java:72)\n</code></pre>\n"},{"tags":["java","android","cryptography"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1695587905,"post_id":77168317,"comment_id":136040938,"body_markdown":"If you use a recent Java 8/11/17 version Unlimited Strepth Policy is no longer a topic. BTW the common way nowadays is to ship the application with an integrated JRE version then you as the developer has control over all JRE details.","body":"If you use a recent Java 8/11/17 version Unlimited Strepth Policy is no longer a topic. BTW the common way nowadays is to ship the application with an integrated JRE version then you as the developer has control over all JRE details."}],"owner":{"account_id":319201,"reputation":156,"user_id":636840,"display_name":"Eric Bergman-Terrell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695597048,"creation_date":1695578419,"question_id":77168317,"body_markdown":"I am upgrading the encryption used by a Java desktop app and an Android app. Both read and write the same encrypted documents, so file compatibility is required.\r\n\r\nBoth apps currently use AES in ECB mode, with 128-bit keys. I plan to update both to use AES in CBC mode, with 256-bit keys. Additionally I plan to adopt a better password-to-key generation mechanism.\r\n\r\nMy concern is the key length. Are there users around the world who cannot conveniently find and download a Java 17 JDK that allows cryptography with AES and 256-bit keys? Do some Android device vendors provide Android versions that don&#39;t allow 256-bit keys? My app&#39;s Android minSdkVersion is 26.\r\n\r\nAs I understand it: \r\n\r\n* Older versions of the Oracle Java JDK required all users to download and install an &quot;Unlimited Policy addon&quot; in order to use keys longer than 128 bits. \r\n\r\n* The Oracle Java 17 JDK does support 256-bit keys, for all users located everywhere. It may be illegal for users to use 256-bit keys in some countries, but the JDK allows them.\r\n\r\nIs my understanding 100% correct? I do not want to update both apps, release them, and find out that users in various countries cannot use 256-bit encryption/decryption keys.\r\n\r\nhttps://github.com/EricTerrell/Vault3.Desktop (Desktop app)\r\n\r\nhttps://github.com/EricTerrell/Vault3.Android (Android app)\r\n","title":"Java 17 JDK &amp; Android Encryption Key Length Restrictions Around the World?","body":"<p>I am upgrading the encryption used by a Java desktop app and an Android app. Both read and write the same encrypted documents, so file compatibility is required.</p>\n<p>Both apps currently use AES in ECB mode, with 128-bit keys. I plan to update both to use AES in CBC mode, with 256-bit keys. Additionally I plan to adopt a better password-to-key generation mechanism.</p>\n<p>My concern is the key length. Are there users around the world who cannot conveniently find and download a Java 17 JDK that allows cryptography with AES and 256-bit keys? Do some Android device vendors provide Android versions that don't allow 256-bit keys? My app's Android minSdkVersion is 26.</p>\n<p>As I understand it:</p>\n<ul>\n<li><p>Older versions of the Oracle Java JDK required all users to download and install an &quot;Unlimited Policy addon&quot; in order to use keys longer than 128 bits.</p>\n</li>\n<li><p>The Oracle Java 17 JDK does support 256-bit keys, for all users located everywhere. It may be illegal for users to use 256-bit keys in some countries, but the JDK allows them.</p>\n</li>\n</ul>\n<p>Is my understanding 100% correct? I do not want to update both apps, release them, and find out that users in various countries cannot use 256-bit encryption/decryption keys.</p>\n<p><a href=\"https://github.com/EricTerrell/Vault3.Desktop\" rel=\"nofollow noreferrer\">https://github.com/EricTerrell/Vault3.Desktop</a> (Desktop app)</p>\n<p><a href=\"https://github.com/EricTerrell/Vault3.Android\" rel=\"nofollow noreferrer\">https://github.com/EricTerrell/Vault3.Android</a> (Android app)</p>\n"},{"tags":["java","certificate","weblogic"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639431761,"post_id":70338542,"comment_id":124342629,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70338542/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15806821,"reputation":39,"user_id":11410015,"display_name":"The real Van Gogh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639416039,"creation_date":1639416039,"answer_id":70338542,"question_id":70258359,"body_markdown":"You will have to find the location of your certificates first or your certificates are located in your keystore. If so, you can display content of your keystore and check which certificates you have. \r\n\r\nDo you use Weblogic in combination with OSB? If yes, then the keystore is propably configured in your Enterprise Manager. If not, then your keystore is configured on Weblogic level which can be found at servers -&gt; keystores tab\r\n\r\nI don&#39;t know if this is the solution but let&#39;s try it out.","title":"Getting &quot;PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed&quot; error on WEBLOGIC","body":"<p>You will have to find the location of your certificates first or your certificates are located in your keystore. If so, you can display content of your keystore and check which certificates you have.</p>\n<p>Do you use Weblogic in combination with OSB? If yes, then the keystore is propably configured in your Enterprise Manager. If not, then your keystore is configured on Weblogic level which can be found at servers -&gt; keystores tab</p>\n<p>I don't know if this is the solution but let's try it out.</p>\n"}],"owner":{"account_id":10927319,"reputation":19,"user_id":8265500,"display_name":"Mick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695596795,"creation_date":1638872276,"question_id":70258359,"body_markdown":"After applying the latest Windows Updates I&#39;m getting an:\r\n\r\n&gt; Error 500--Internal Server Error \r\n\r\ntrying to access my URL using HTTP (not HTTPS!) protocol.\r\n\r\nLooking in Weblogic logs, I found this error:\r\n&gt;ServletContext@199346236[app:analytics module:analytics path:/analytics spec-version:2.5 version:11.1.1]] Root cause of ServletException.\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: **PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed**\r\n\r\nHow can I solve this issue?\r\n\r\nI don&#39;t know where I can find this expired certificate and if this is the real problem because I&#39;m not using an HTTPS protocol trying to access my site.","title":"Getting &quot;PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed&quot; error on WEBLOGIC","body":"<p>After applying the latest Windows Updates I'm getting an:</p>\n<blockquote>\n<p>Error 500--Internal Server Error</p>\n</blockquote>\n<p>trying to access my URL using HTTP (not HTTPS!) protocol.</p>\n<p>Looking in Weblogic logs, I found this error:</p>\n<blockquote>\n<p>ServletContext@199346236[app:analytics module:analytics path:/analytics spec-version:2.5 version:11.1.1]] Root cause of ServletException.\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: <strong>PKIX path validation failed: java.security.cert.CertPathValidatorException: timestamp check failed</strong></p>\n</blockquote>\n<p>How can I solve this issue?</p>\n<p>I don't know where I can find this expired certificate and if this is the real problem because I'm not using an HTTPS protocol trying to access my site.</p>\n"},{"tags":["java","mysql","gradle","spring-data-jpa"],"comments":[{"owner":{"account_id":1203347,"reputation":2104,"user_id":1173560,"display_name":"K.C."},"score":0,"creation_date":1452264966,"post_id":33709849,"comment_id":57105036,"body_markdown":"Possible duplicate of [Spring Boot - Cannot determine embedded database driver class for database type NONE](http://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type\">Spring Boot - Cannot determine embedded database driver class for database type NONE</a>"}],"answers":[{"comments":[{"owner":{"account_id":5412090,"reputation":311,"user_id":4308508,"accept_rate":70,"display_name":"Mathias Mahlknecht"},"score":0,"creation_date":1447515693,"post_id":33710091,"comment_id":55191689,"body_markdown":"Yes, I have a Configuration class where I specified all these properties.","body":"Yes, I have a Configuration class where I specified all these properties."},{"owner":{"account_id":5221196,"reputation":29,"user_id":4174608,"display_name":"Daniel Burrell"},"score":0,"creation_date":1447515800,"post_id":33710091,"comment_id":55191726,"body_markdown":"Can you paste the relevant properties (including any connection urls) This would help? Replacing any credentials with dummy ones of course.","body":"Can you paste the relevant properties (including any connection urls) This would help? Replacing any credentials with dummy ones of course."},{"owner":{"account_id":5221196,"reputation":29,"user_id":4174608,"display_name":"Daniel Burrell"},"score":0,"creation_date":1447516154,"post_id":33710091,"comment_id":55191865,"body_markdown":"Looking at that stack trace, it looks like DataSourceAutoConfiguration is kicking in disregarding the setup you&#39;ve got in your config. (since you&#39;re using spring boot) Have you tried excluding DataSourceAutoConfiguration.class ?\nAside from that though, if you want to go the springboot route, it requires you to specifically provide\nspring.datasource.driverClassName in an application.properties file, it is not suficient to just set the driver class name in your config.","body":"Looking at that stack trace, it looks like DataSourceAutoConfiguration is kicking in disregarding the setup you&#39;ve got in your config. (since you&#39;re using spring boot) Have you tried excluding DataSourceAutoConfiguration.class ? Aside from that though, if you want to go the springboot route, it requires you to specifically provide spring.datasource.driverClassName in an application.properties file, it is not suficient to just set the driver class name in your config."},{"owner":{"account_id":5412090,"reputation":311,"user_id":4308508,"accept_rate":70,"display_name":"Mathias Mahlknecht"},"score":0,"creation_date":1447516497,"post_id":33710091,"comment_id":55191986,"body_markdown":"I add &quot;@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})&quot; on top of my class, right? No changes, still the same error. Or do  I have to put the exclude some where else?","body":"I add &quot;@EnableAutoConfiguration(exclude={DataSourceAutoConfigurati&zwnj;&#8203;on.class})&quot; on top of my class, right? No changes, still the same error. Or do  I have to put the exclude some where else?"},{"owner":{"account_id":5412090,"reputation":311,"user_id":4308508,"accept_rate":70,"display_name":"Mathias Mahlknecht"},"score":0,"creation_date":1447516705,"post_id":33710091,"comment_id":55192045,"body_markdown":"I already add a application.properties file to my project root. Although I&#39;m not sure why I need that, isn&#39;t it redundant? But anyway with the file or without, I always get the same exception.","body":"I already add a application.properties file to my project root. Although I&#39;m not sure why I need that, isn&#39;t it redundant? But anyway with the file or without, I always get the same exception."}],"tags":[],"owner":{"account_id":5221196,"reputation":29,"user_id":4174608,"display_name":"Daniel Burrell"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1447534859,"creation_date":1447515531,"answer_id":33710091,"question_id":33709849,"body_markdown":"Spring boot is unable to determine which driver to use. You need to specify the following property somewhere:\r\nspring.datasource.driverClassName\r\nThere are other properties which you will need to specify, check the documentation.\r\n","title":"BeanCreationException: Cannot determine embedded database driver class for database type NONE","body":"<p>Spring boot is unable to determine which driver to use. You need to specify the following property somewhere:\nspring.datasource.driverClassName\nThere are other properties which you will need to specify, check the documentation.</p>\n"},{"tags":[],"owner":{"account_id":9293393,"reputation":1,"user_id":6901147,"display_name":"Ishan Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503817015,"creation_date":1503815830,"answer_id":45902314,"question_id":33709849,"body_markdown":"I Faced the same Problem, I solved it by simply adding an eclipselink-javax.persistence-2.0 jar in the classpath of my project.\r\nyou can download it from the link given below.\r\nor simply add the add the following dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[Jar download Link][1]\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.eclipse.persistence/javax.persistence/2.0.0","title":"BeanCreationException: Cannot determine embedded database driver class for database type NONE","body":"<p>I Faced the same Problem, I solved it by simply adding an eclipselink-javax.persistence-2.0 jar in the classpath of my project.\nyou can download it from the link given below.\nor simply add the add the following dependency</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n&lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.eclipse.persistence/javax.persistence/2.0.0\" rel=\"nofollow noreferrer\">Jar download Link</a></p>\n"},{"tags":[],"owner":{"account_id":12173205,"reputation":101,"user_id":8887170,"display_name":"Aleksander Ndoci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640703575,"creation_date":1640703575,"answer_id":70508804,"question_id":33709849,"body_markdown":"You either need to disable (exclude) DataSourceAutoConfiguration or delete your class PersistenceJPAConfig configuration for the datasource and configure it using application.properties.\r\n\r\nA good example in spring docs: https://spring.io/guides/gs/accessing-data-mysql/","title":"BeanCreationException: Cannot determine embedded database driver class for database type NONE","body":"<p>You either need to disable (exclude) DataSourceAutoConfiguration or delete your class PersistenceJPAConfig configuration for the datasource and configure it using application.properties.</p>\n<p>A good example in spring docs: <a href=\"https://spring.io/guides/gs/accessing-data-mysql/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-mysql/</a></p>\n"}],"owner":{"account_id":5412090,"reputation":311,"user_id":4308508,"accept_rate":70,"display_name":"Mathias Mahlknecht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21050,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1695596795,"creation_date":1447514060,"question_id":33709849,"body_markdown":"I&#39;m trying to run my program, I always get this exception:\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:137)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:117)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n\t... 45 more\r\n\r\nI&#39;m importing all dependencies via gradle:\r\n\r\n    buildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:1.2.7.RELEASE&quot;)\r\n    }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;spring-boot&#39;\r\n    \r\n    jar {\r\n    baseName = &#39;flatify-backend-service&#39;\r\n    version =  &#39;0.1.0&#39;\r\n    }\r\n\r\n    repositories {\r\n    mavenCentral()\r\n    }\r\n\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\n    dependencies {\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    compile &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    compile &#39;org.hibernate:hibernate-core:4.3.6.Final&#39;\r\n    compile &#39;javax.servlet:javax.servlet-api:3.1.0&#39;\r\n    compile &#39;org.javassist:javassist:3.15.0-GA&#39;\r\n    compile &#39;mysql:mysql-connector-java:5.1.31&#39;\r\n    compile &#39;commons-dbcp:commons-dbcp:1.4&#39;\r\n    testCompile(&quot;junit:junit&quot;)\r\n    testCompile(&quot;org.springframework:spring-test&quot;)\r\n    }\r\n\r\n    task wrapper(type: Wrapper) {\r\n    gradleVersion = &#39;2.5&#39;\r\n    }\r\n\r\nAs you can see I&#39;m adding the mysql-connector isn&#39;t that what&#39;s supposed to add the driver classes to my project?\r\nAm I missing something?\r\n\r\nI only added to last exception, because all others are caused by this one.\r\nIf you need any other details please let my know.\r\n\r\nThanks\r\n\r\nMy Config class:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class PersistenceJPAConfig {\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(dataSource());\r\n        em.setPackagesToScan(new String[] { &quot;at.flatify.persistance.entity&quot; });\r\n\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        em.setJpaProperties(additionalProperties());\r\n\r\n        return em;\r\n    }\r\n\r\n   \r\n    @Bean(destroyMethod = &quot;close&quot;)\r\n    public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/flatify&quot;);\r\n        dataSource.setUsername(&quot;user&quot;);\r\n        dataSource.setPassword(&quot;password&quot;);\r\n\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager(EntityManagerFactory emf){\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(emf);\r\n\r\n        return transactionManager;\r\n    }\r\n\r\n    @Bean\r\n    public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\r\n        return new PersistenceExceptionTranslationPostProcessor();\r\n    }\r\n\r\n    Properties additionalProperties() {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);\r\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5Dialect&quot;);\r\n        return properties;\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"BeanCreationException: Cannot determine embedded database driver class for database type NONE","body":"<p>I'm trying to run my program, I always get this exception:</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath.\nat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.getDriverClassName(DataSourceProperties.java:137)\nat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$NonEmbeddedConfiguration.dataSource(DataSourceAutoConfiguration.java:117)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n... 45 more\n</code></pre>\n\n<p>I'm importing all dependencies via gradle:</p>\n\n<pre><code>buildscript {\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    classpath(\"org.springframework.boot:spring-boot-gradle-plugin:1.2.7.RELEASE\")\n}\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'spring-boot'\n\njar {\nbaseName = 'flatify-backend-service'\nversion =  '0.1.0'\n}\n\nrepositories {\nmavenCentral()\n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\ncompile(\"org.springframework.boot:spring-boot-starter-web\")\ncompile 'org.springframework.boot:spring-boot-starter-data-jpa'\ncompile 'org.hibernate:hibernate-core:4.3.6.Final'\ncompile 'javax.servlet:javax.servlet-api:3.1.0'\ncompile 'org.javassist:javassist:3.15.0-GA'\ncompile 'mysql:mysql-connector-java:5.1.31'\ncompile 'commons-dbcp:commons-dbcp:1.4'\ntestCompile(\"junit:junit\")\ntestCompile(\"org.springframework:spring-test\")\n}\n\ntask wrapper(type: Wrapper) {\ngradleVersion = '2.5'\n}\n</code></pre>\n\n<p>As you can see I'm adding the mysql-connector isn't that what's supposed to add the driver classes to my project?\nAm I missing something?</p>\n\n<p>I only added to last exception, because all others are caused by this one.\nIf you need any other details please let my know.</p>\n\n<p>Thanks</p>\n\n<p>My Config class:</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class PersistenceJPAConfig {\n\n@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n    LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n    em.setDataSource(dataSource());\n    em.setPackagesToScan(new String[] { \"at.flatify.persistance.entity\" });\n\n    JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n    em.setJpaVendorAdapter(vendorAdapter);\n    em.setJpaProperties(additionalProperties());\n\n    return em;\n}\n\n\n@Bean(destroyMethod = \"close\")\npublic DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(\"com.mysql.jdbc.Driver\");\n    dataSource.setUrl(\"jdbc:mysql://localhost:3306/flatify\");\n    dataSource.setUsername(\"user\");\n    dataSource.setPassword(\"password\");\n\n    return dataSource;\n}\n\n@Bean\npublic PlatformTransactionManager transactionManager(EntityManagerFactory emf){\n    JpaTransactionManager transactionManager = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(emf);\n\n    return transactionManager;\n}\n\n@Bean\npublic PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\n    return new PersistenceExceptionTranslationPostProcessor();\n}\n\nProperties additionalProperties() {\n    Properties properties = new Properties();\n    properties.setProperty(\"hibernate.hbm2ddl.auto\", \"create-drop\");\n    properties.setProperty(\"hibernate.dialect\", \"org.hibernate.dialect.MySQL5Dialect\");\n    return properties;\n}\n\n}\n</code></pre>\n"},{"tags":["java","kotlin","generics"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1695584802,"post_id":77167829,"comment_id":136040580,"body_markdown":"Is there maybe an alternative function `bar()` which is not reified, but instead receives a `KClass`/`Class`?","body":"Is there maybe an alternative function <code>bar()</code> which is not reified, but instead receives a <code>KClass</code>/<code>Class</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695591887,"creation_date":1695591887,"answer_id":77169050,"question_id":77167829,"body_markdown":"You can&#39;t. `reified` parameters are always `inline` as well, which allows the compiler to pass the *literal* class argument to the function. That&#39;s why you can do `T::class` on `reified` parameters.\r\n\r\nSo you cannot pass an &quot;unspecified&quot; `T` to a `reified` function. Only literals that the compiler can inline.","title":"Kotlin: how to call a inline generic method with the type parameter of the class","body":"<p>You can't. <code>reified</code> parameters are always <code>inline</code> as well, which allows the compiler to pass the <em>literal</em> class argument to the function. That's why you can do <code>T::class</code> on <code>reified</code> parameters.</p>\n<p>So you cannot pass an &quot;unspecified&quot; <code>T</code> to a <code>reified</code> function. Only literals that the compiler can inline.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695593534,"creation_date":1695593534,"answer_id":77169129,"question_id":77167829,"body_markdown":"&gt; o.bar&lt;T&gt;() //&lt;-- Compilation error here: Cannot use T as a reified type parameter\r\n\r\nthis error indicates that T is not reified type, meaning its type will be erased at runtime. Other.bar requires reified types because it will be inlined with it. There are not much you can do, only workaround I can suggest is below manual calling Other.bar with each known type used with Test class.\r\n\r\n\r\n    //you need to provide the type parameter to the function call\r\n    class Test&lt;T&gt;(private val clazz: Class&lt;T&gt;) {\r\n    \r\n        //this is a workaround function, it will allow for inlining with\r\n        //specified type - making it possible to use reified type in a call to Other.bar()\r\n        private inline fun &lt;reified U&gt; funnyBar(o: Other) {\r\n            o.bar&lt;U&gt;()\r\n        }\r\n    \r\n        fun foo() {\r\n            val o = Other()\r\n    \r\n            //ugly but works, you will need to add each type used\r\n            //with test in below when statement.\r\n            when (clazz) {\r\n                String::class.java -&gt; funnyBar&lt;String&gt;(o)\r\n                Int::class.java -&gt; funnyBar&lt;Int&gt;(o)\r\n                //...\r\n                else -&gt; throw IllegalArgumentException(&quot;add new type&quot;)\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    //other stays unchanged\r\n    class Other {\r\n        inline fun &lt;reified K&gt; bar() {\r\n            val list = listOf&lt;K&gt;()\r\n        }\r\n    }\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        val test = Test(String::class.java)\r\n        test.foo()\r\n    \r\n        val test2 = Test(Int::class.java)\r\n        test2.foo()\r\n    }\r\n\r\nyou can find more on reified types here : https://kotlinlang.org/docs/inline-functions.html#reified-type-parameters","title":"Kotlin: how to call a inline generic method with the type parameter of the class","body":"<blockquote>\n<p>o.bar() //&lt;-- Compilation error here: Cannot use T as a reified type parameter</p>\n</blockquote>\n<p>this error indicates that T is not reified type, meaning its type will be erased at runtime. Other.bar requires reified types because it will be inlined with it. There are not much you can do, only workaround I can suggest is below manual calling Other.bar with each known type used with Test class.</p>\n<pre><code>//you need to provide the type parameter to the function call\nclass Test&lt;T&gt;(private val clazz: Class&lt;T&gt;) {\n\n    //this is a workaround function, it will allow for inlining with\n    //specified type - making it possible to use reified type in a call to Other.bar()\n    private inline fun &lt;reified U&gt; funnyBar(o: Other) {\n        o.bar&lt;U&gt;()\n    }\n\n    fun foo() {\n        val o = Other()\n\n        //ugly but works, you will need to add each type used\n        //with test in below when statement.\n        when (clazz) {\n            String::class.java -&gt; funnyBar&lt;String&gt;(o)\n            Int::class.java -&gt; funnyBar&lt;Int&gt;(o)\n            //...\n            else -&gt; throw IllegalArgumentException(&quot;add new type&quot;)\n        }\n    }\n}\n\n\n//other stays unchanged\nclass Other {\n    inline fun &lt;reified K&gt; bar() {\n        val list = listOf&lt;K&gt;()\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val test = Test(String::class.java)\n    test.foo()\n\n    val test2 = Test(Int::class.java)\n    test2.foo()\n}\n</code></pre>\n<p>you can find more on reified types here : <a href=\"https://kotlinlang.org/docs/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/inline-functions.html#reified-type-parameters</a></p>\n"}],"owner":{"account_id":184925,"reputation":2421,"user_id":421309,"accept_rate":71,"display_name":"sujith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695593534,"creation_date":1695570655,"question_id":77167829,"body_markdown":"I am trying to call an inline generic function \r\n\r\n```\r\nclass Test&lt;T&gt; {\r\n\r\n    fun foo() {\r\n        val o = Other()\r\n        o.bar&lt;T&gt;() //&lt;-- Compilation error here: Cannot use T as a reified type parameter\r\n    }\r\n}\r\n\r\nclass Other {\r\n    inline fun &lt;reified K&gt; bar() {\r\n        val list = listOf&lt;K&gt;()\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere class `Other` is a library class I cannot control. Please let me know how to call the method bar() with generic type parameter from the `Test` class.","title":"Kotlin: how to call a inline generic method with the type parameter of the class","body":"<p>I am trying to call an inline generic function</p>\n<pre><code>class Test&lt;T&gt; {\n\n    fun foo() {\n        val o = Other()\n        o.bar&lt;T&gt;() //&lt;-- Compilation error here: Cannot use T as a reified type parameter\n    }\n}\n\nclass Other {\n    inline fun &lt;reified K&gt; bar() {\n        val list = listOf&lt;K&gt;()\n    }\n}\n\n</code></pre>\n<p>Here class <code>Other</code> is a library class I cannot control. Please let me know how to call the method bar() with generic type parameter from the <code>Test</code> class.</p>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1695584405,"post_id":77168650,"comment_id":136040543,"body_markdown":"In terms of &quot;pull a single emoji from the OS set&quot;, what exactly is &quot;the OS set&quot;? In terms of &quot;render it to an image&quot;, what exactly are you looking for in terms of output? (PNG? `Bitmap`? something else?)","body":"In terms of &quot;pull a single emoji from the OS set&quot;, what exactly is &quot;the OS set&quot;? In terms of &quot;render it to an image&quot;, what exactly are you looking for in terms of output? (PNG? <code>Bitmap</code>? something else?)"},{"owner":{"account_id":1050965,"reputation":2101,"user_id":1054922,"accept_rate":62,"display_name":"user1054922"},"score":0,"creation_date":1695592487,"post_id":77168650,"comment_id":136041302,"body_markdown":"32-bit RGBA raw data, to be precise. But I imagine that I can find other information to convert to what I need once I get it rendered to an image of SOME kind.","body":"32-bit RGBA raw data, to be precise. But I imagine that I can find other information to convert to what I need once I get it rendered to an image of SOME kind."}],"answers":[{"comments":[{"owner":{"account_id":1050965,"reputation":2101,"user_id":1054922,"accept_rate":62,"display_name":"user1054922"},"score":0,"creation_date":1695595230,"post_id":77169124,"comment_id":136041455,"body_markdown":"Great! Thank you for the start hints. Is there any particular technique for sizing the emoji glyph to the image rectangle, or do I need to start with an impossibly large value and loop downward, measuring the size of the glyph until it falls in range?","body":"Great! Thank you for the start hints. Is there any particular technique for sizing the emoji glyph to the image rectangle, or do I need to start with an impossibly large value and loop downward, measuring the size of the glyph until it falls in range?"},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1695727513,"post_id":77169124,"comment_id":136060343,"body_markdown":"Android [autosized text](https://developer.android.com/develop/ui/views/text-and-emoji/autosizing-textview) tries different text sizes with some `granularity`, seems like you will need to implement something similar. See also: [getTextBounds()](https://developer.android.com/reference/android/graphics/Paint#getTextBounds(java.lang.String,%20int,%20int,%20android.graphics.Rect)), [binary search](https://hyperskill.org/learn/step/4955).","body":"Android <a href=\"https://developer.android.com/develop/ui/views/text-and-emoji/autosizing-textview\" rel=\"nofollow noreferrer\">autosized text</a> tries different text sizes with some <code>granularity</code>, seems like you will need to implement something similar. See also: <a href=\"https://developer.android.com/reference/android/graphics/Paint#getTextBounds(java.lang.String,%20int,%20int,%20android.graphics.Rect)\" rel=\"nofollow noreferrer\">getTextBounds()</a>, <a href=\"https://hyperskill.org/learn/step/4955\" rel=\"nofollow noreferrer\">binary search</a>."}],"tags":[],"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695593484,"creation_date":1695593484,"answer_id":77169124,"question_id":77168650,"body_markdown":"1. Create a `Bitmap` (for 32-bit use `ARGB_8888` Config)\r\n2. Wrap it in `Canvas`\r\n3. Create `Paint` with the desired `Typeface` and `textSize`\r\n4. draw text on `Canvas` (`drawText()` function&#39;s y-coordinate is glyph baseline)\r\n5. read `Bitmap` contents (`getPixels()` or `copyPixelsToBuffer()`)","title":"Draw emoji to image in Android","body":"<ol>\n<li>Create a <code>Bitmap</code> (for 32-bit use <code>ARGB_8888</code> Config)</li>\n<li>Wrap it in <code>Canvas</code></li>\n<li>Create <code>Paint</code> with the desired <code>Typeface</code> and <code>textSize</code></li>\n<li>draw text on <code>Canvas</code> (<code>drawText()</code> function's y-coordinate is glyph baseline)</li>\n<li>read <code>Bitmap</code> contents (<code>getPixels()</code> or <code>copyPixelsToBuffer()</code>)</li>\n</ol>\n"}],"owner":{"account_id":1050965,"reputation":2101,"user_id":1054922,"accept_rate":62,"display_name":"user1054922"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695593484,"creation_date":1695584097,"question_id":77168650,"body_markdown":"I have a custom glyph rendering system in my UI. I need to be able to pull a single emoji from the Operating System&#39;s set and render it to an image in memory (i.e., 128x128 RGBA) for export to this glyph rendering system. I&#39;ve been able to find examples of this on iOS (and it works great when hooked up!), but how would this be done in Android Java? If there&#39;s a C/C++ JNI implementation that&#39;d be even better, but I imagine there isn&#39;t an API for this in the JNI Android libraries.\r\n\r\nI imagine I would need to DrawStringToRect() of some kind?\r\n\r\nAnd yes, I know it&#39;s horribly inefficient to use a single image per emoji. Emoji use is infrequent and not a hot path for this.","title":"Draw emoji to image in Android","body":"<p>I have a custom glyph rendering system in my UI. I need to be able to pull a single emoji from the Operating System's set and render it to an image in memory (i.e., 128x128 RGBA) for export to this glyph rendering system. I've been able to find examples of this on iOS (and it works great when hooked up!), but how would this be done in Android Java? If there's a C/C++ JNI implementation that'd be even better, but I imagine there isn't an API for this in the JNI Android libraries.</p>\n<p>I imagine I would need to DrawStringToRect() of some kind?</p>\n<p>And yes, I know it's horribly inefficient to use a single image per emoji. Emoji use is infrequent and not a hot path for this.</p>\n"},{"tags":["java","concurrency","memory-visibility"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1695590599,"post_id":77168973,"comment_id":136041149,"body_markdown":"Only the value, in this case a reference to an array, of the final field is fixed. The *contents* of the thing being referenced is not fixed.","body":"Only the value, in this case a reference to an array, of the final field is fixed. The <i>contents</i> of the thing being referenced is not fixed."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695590949,"post_id":77168973,"comment_id":136041192,"body_markdown":"@Bohemian But in this specific case, for `final` variables, yes, they are.","body":"@Bohemian But in this specific case, for <code>final</code> variables, yes, they are."},{"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":"Роман Григорьев"},"score":0,"creation_date":1695591045,"post_id":77168973,"comment_id":136041199,"body_markdown":"@rzwitserloot Does it mean that in first example we are guaranteed to see 4?","body":"@rzwitserloot Does it mean that in first example we are guaranteed to see 4?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695591792,"post_id":77168973,"comment_id":136041258,"body_markdown":"No, as `y` isn&#39;t `final`.","body":"No, as <code>y</code> isn&#39;t <code>final</code>."},{"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":"Роман Григорьев"},"score":0,"creation_date":1695592209,"post_id":77168973,"comment_id":136041286,"body_markdown":"@rzwitserloot Hmm, and if writing to array’s element is reordered with reference publishing by JIT or CPU? Can they do this?","body":"@rzwitserloot Hmm, and if writing to array’s element is reordered with reference publishing by JIT or CPU? Can they do this?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695616258,"post_id":77168973,"comment_id":136043111,"body_markdown":"Immediately under [that code example in the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#d5e38815) is the text “One thread might execute the method `writer` and another might execute the method `reader`.”  That special circumstance is entirely the point of the example.","body":"Immediately under <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#d5e38815\" rel=\"nofollow noreferrer\">that code example in the JLS</a> is the text “One thread might execute the method <code>writer</code> and another might execute the method <code>reader</code>.”  That special circumstance is entirely the point of the example."}],"answers":[{"comments":[{"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":"Роман Григорьев"},"score":0,"creation_date":1695593266,"post_id":77169088,"comment_id":136041340,"body_markdown":"Thank you bro! And can I fix array initialization by creating temp local variable in constructor, set 1 to temp’s first element, and then set temp to global variable, will it help?","body":"Thank you bro! And can I fix array initialization by creating temp local variable in constructor, set 1 to temp’s first element, and then set temp to global variable, will it help?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1695593590,"post_id":77169088,"comment_id":136041356,"body_markdown":"@РоманГригорьев, that would enable you to leverage the first visibility guarantee you asked about instead of having to rely on the second, but that&#39;s all moot if you avoid premature publication of references to your class.  Which is absolutely what you should do.","body":"@РоманГригорьев, that would enable you to leverage the first visibility guarantee you asked about instead of having to rely on the second, but that&#39;s all moot if you avoid premature publication of references to your class.  Which is absolutely what you should do."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695605210,"post_id":77169088,"comment_id":136042227,"body_markdown":"The key point that is missing from this, @РоманГригорьев, is that if you ensure you don&#39;t &#39;premature publish&#39;, `ar = new int[1]; ar[0] = 1;` __does mean__ that it is __impossible__ to observe `ar[0]` being 0 outside of the constructor. John Bollinger said &#39;no&#39; because of premature publishing. Which is allowing code outside the constructor to &#39;see&#39; the ref. For example if you write in your constructor: `System.out.println(this);`, `println` now gets a ref to the object halfway through construction. The freeze hasn&#39;t happened yet, no guarantees yet. But, the simple solution is: Don&#39;t pre-pub.","body":"The key point that is missing from this, @РоманГригорьев, is that if you ensure you don&#39;t &#39;premature publish&#39;, <code>ar = new int[1]; ar[0] = 1;</code> <b>does mean</b> that it is <b>impossible</b> to observe <code>ar[0]</code> being 0 outside of the constructor. John Bollinger said &#39;no&#39; because of premature publishing. Which is allowing code outside the constructor to &#39;see&#39; the ref. For example if you write in your constructor: <code>System.out.println(this);</code>, <code>println</code> now gets a ref to the object halfway through construction. The freeze hasn&#39;t happened yet, no guarantees yet. But, the simple solution is: Don&#39;t pre-pub."},{"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":"Роман Григорьев"},"score":0,"creation_date":1695663918,"post_id":77169088,"comment_id":136051809,"body_markdown":"@rzwitserloot Oh, yep, I missed it. I didn&#39;t say that I guarantee no escaping of `this` from initializing constructor. My bad.\nEventually, I have understood next from your answer. If we guarantee no escaping of this reference from constructor, and if we have final variable initializing in constructor, even if it has type of array and we put elements to it after assigning value to final object&#39;s field, after constructor end(freeze action) we will see actual value of it with elements we have put to it in constructor. I am right?","body":"@rzwitserloot Oh, yep, I missed it. I didn&#39;t say that I guarantee no escaping of <code>this</code> from initializing constructor. My bad. Eventually, I have understood next from your answer. If we guarantee no escaping of this reference from constructor, and if we have final variable initializing in constructor, even if it has type of array and we put elements to it after assigning value to final object&#39;s field, after constructor end(freeze action) we will see actual value of it with elements we have put to it in constructor. I am right?"},{"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":"Роман Григорьев"},"score":0,"creation_date":1695664178,"post_id":77169088,"comment_id":136051859,"body_markdown":"@rzwitserloot Also I have found this article : https://shipilev.net/blog/2014/safe-public-construction/#:~:text=A%20final%20field%20was,field%20in%20the%20course. Where Alexey says we will see all values after constructor ends if we have at least 1 write to final variable in it. But...why jls doesn&#39;t guarantee it, it stands opposite(example with x and y)","body":"@rzwitserloot Also I have found this article : <a href=\"https://shipilev.net/blog/2014/safe-public-construction/#:~:text=A%20final%20field%20was,field%20in%20the%20course\" rel=\"nofollow noreferrer\">shipilev.net/blog/2014/safe-public-construction/&hellip;</a>. Where Alexey says we will see all values after constructor ends if we have at least 1 write to final variable in it. But...why jls doesn&#39;t guarantee it, it stands opposite(example with x and y)"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695675180,"post_id":77169088,"comment_id":136053631,"body_markdown":"@РоманГригорьев Yes, you are right.","body":"@РоманГригорьев Yes, you are right."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1695696335,"post_id":77169088,"comment_id":136055517,"body_markdown":"@РоманГригорьев, the author of that article calls that an &quot;implementation quirk&quot;, and that seems an apt characterization.  The JLS does not require any such behavior, and (therefore) it is not safe to rely on Java implementations to behave as described without first verifying by code review, careful use of a debugger, or similar.","body":"@РоманГригорьев, the author of that article calls that an &quot;implementation quirk&quot;, and that seems an apt characterization.  The JLS does not require any such behavior, and (therefore) it is not safe to rely on Java implementations to behave as described without first verifying by code review, careful use of a debugger, or similar."}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695593192,"creation_date":1695592565,"answer_id":77169088,"question_id":77168973,"body_markdown":"&gt; The JLS states that there is no guarantee that we will see `4` in reading `f.y`.\r\n\r\nYes, if one thread invokes `FinalFieldExample.reader()` and another invokes `FinalFieldExample.writer()`, with nothing to establish a happens-before relationship between these, then the program is not properly synchronized, and its behavior is undefined.  In particular, it is possible for the thread invoking `reader()` to observe a partially-initialized state of  `FinalFieldExample.f`.\r\n\r\n&gt; &gt;It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n&gt;\r\n&gt; I don&#39;t understand this.\r\n\r\nA field whose type is a reference type -- a class, interface, or array type -- stores a *reference* to an object (or `null`), not the object itself.  The spec is saying that all writes to the referenced object that happened before the assignment of the final field&#39;s value will be visible to any thread that observes the field&#39;s (initialized) value.\r\n\r\n&gt; Imagine that we have the following code:\r\n&gt; \r\n&gt;     public FinalFieldExample() {\r\n&gt;             ar = new int[n]; // ar is final var\r\n&gt;             ar[0] = 1;\r\n&gt;         } \r\n&gt; \r\n&gt; Does it mean that we have guarantee that other thread will read array\r\n&gt; with 1 at first position?\r\n\r\nNo.  The assignment to `ar[0]` happens *after* the assignment to final variable `ar`.  It is not guaranteed that a thread that can observe the object in a partially-initialized state must read `1` from `ar[0]`.\r\n\r\n&gt;  Does freeze action happen at the end of constructor(during reference publication) or after each write to a final field?\r\n\r\nThe term &quot;freeze&quot; in this context refers to visibility guarantees related to the completion of the constructor.  That has nothing to do with the fact that the constructor can assign each otherwise uninitialized final field only once, or with the other visibility guarantee you asked about.","title":"When does freeze action happen in java constructor?","body":"<blockquote>\n<p>The JLS states that there is no guarantee that we will see <code>4</code> in reading <code>f.y</code>.</p>\n</blockquote>\n<p>Yes, if one thread invokes <code>FinalFieldExample.reader()</code> and another invokes <code>FinalFieldExample.writer()</code>, with nothing to establish a happens-before relationship between these, then the program is not properly synchronized, and its behavior is undefined.  In particular, it is possible for the thread invoking <code>reader()</code> to observe a partially-initialized state of  <code>FinalFieldExample.f</code>.</p>\n<blockquote>\n<blockquote>\n<p>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>I don't understand this.</p>\n</blockquote>\n<p>A field whose type is a reference type -- a class, interface, or array type -- stores a <em>reference</em> to an object (or <code>null</code>), not the object itself.  The spec is saying that all writes to the referenced object that happened before the assignment of the final field's value will be visible to any thread that observes the field's (initialized) value.</p>\n<blockquote>\n<p>Imagine that we have the following code:</p>\n<pre><code>public FinalFieldExample() {\n        ar = new int[n]; // ar is final var\n        ar[0] = 1;\n    } \n</code></pre>\n<p>Does it mean that we have guarantee that other thread will read array\nwith 1 at first position?</p>\n</blockquote>\n<p>No.  The assignment to <code>ar[0]</code> happens <em>after</em> the assignment to final variable <code>ar</code>.  It is not guaranteed that a thread that can observe the object in a partially-initialized state must read <code>1</code> from <code>ar[0]</code>.</p>\n<blockquote>\n<p>Does freeze action happen at the end of constructor(during reference publication) or after each write to a final field?</p>\n</blockquote>\n<p>The term &quot;freeze&quot; in this context refers to visibility guarantees related to the completion of the constructor.  That has nothing to do with the fact that the constructor can assign each otherwise uninitialized final field only once, or with the other visibility guarantee you asked about.</p>\n"}],"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":"Роман Григорьев"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77169088,"answer_count":1,"score":3,"last_activity_date":1695593192,"creation_date":1695590223,"question_id":77168973,"body_markdown":"I am confused about final field semantics in java. I&#39;ve read 17.5 paragraph jls and found this example: \r\n\r\n```\r\nclass FinalFieldExample { \r\n    final int x;\r\n    int y; \r\n    static FinalFieldExample f;\r\n\r\n    public FinalFieldExample() {\r\n        x = 3; \r\n        y = 4; \r\n    } \r\n\r\n    static void writer() {\r\n        f = new FinalFieldExample();\r\n    } \r\n\r\n    static void reader() {\r\n        if (f != null) {\r\n            int i = f.x;  // guaranteed to see 3  \r\n            int j = f.y;  // could see 0\r\n        } \r\n    } \r\n}\r\n```\r\n\r\nThe JLS states that there is no guarantee that we will see `4` in reading `f.y`. And it also says next: \r\n\r\n&gt; It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n\r\nI don&#39;t understand this.\r\nImagine that we have the following code:\r\n\r\n```\r\npublic FinalFieldExample() {\r\n        ar = new int[n]; // ar is final var\r\n        ar[0] = 1;\r\n    } \r\n```\r\nDoes it mean that we have guarantee that other thread will read array with 1 at first position?\r\nI heard yes. \r\nAnd I&#39;ve read that `freeze action` happens when we write to a final variable, but why we can read array with correct elements? (I found out it in [this article](https://dzone.com/articles/final-keyword-and-jvm-memory-impact).) Writing to final field happens before writing to array&#39;s first element.\r\n\r\nAnd if it is true, why in first example(with `x` and `y`) we don&#39;t have guarantees to see 4 in y?\r\n\r\nAnd my final question is:\r\nDoes freeze action happen at the end of constructor(during reference publication) or after each write to a final field?\r\n\r\n\r\nI&#39;ve read this [article ](https://shipilev.net/blog/2014/all-fields-are-final/) but didn&#39;t find example with 1 final and 1 non final writes in constructor. Alexey says that synthetic freeze happens at the end of constructor. Does it mean that we will see correct values in reading from non final variables initialized in constructor? Is writing to final variable enough to see writes to other non final variable?","title":"When does freeze action happen in java constructor?","body":"<p>I am confused about final field semantics in java. I've read 17.5 paragraph jls and found this example:</p>\n<pre><code>class FinalFieldExample { \n    final int x;\n    int y; \n    static FinalFieldExample f;\n\n    public FinalFieldExample() {\n        x = 3; \n        y = 4; \n    } \n\n    static void writer() {\n        f = new FinalFieldExample();\n    } \n\n    static void reader() {\n        if (f != null) {\n            int i = f.x;  // guaranteed to see 3  \n            int j = f.y;  // could see 0\n        } \n    } \n}\n</code></pre>\n<p>The JLS states that there is no guarantee that we will see <code>4</code> in reading <code>f.y</code>. And it also says next:</p>\n<blockquote>\n<p>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>I don't understand this.\nImagine that we have the following code:</p>\n<pre><code>public FinalFieldExample() {\n        ar = new int[n]; // ar is final var\n        ar[0] = 1;\n    } \n</code></pre>\n<p>Does it mean that we have guarantee that other thread will read array with 1 at first position?\nI heard yes.\nAnd I've read that <code>freeze action</code> happens when we write to a final variable, but why we can read array with correct elements? (I found out it in <a href=\"https://dzone.com/articles/final-keyword-and-jvm-memory-impact\" rel=\"nofollow noreferrer\">this article</a>.) Writing to final field happens before writing to array's first element.</p>\n<p>And if it is true, why in first example(with <code>x</code> and <code>y</code>) we don't have guarantees to see 4 in y?</p>\n<p>And my final question is:\nDoes freeze action happen at the end of constructor(during reference publication) or after each write to a final field?</p>\n<p>I've read this <a href=\"https://shipilev.net/blog/2014/all-fields-are-final/\" rel=\"nofollow noreferrer\">article </a> but didn't find example with 1 final and 1 non final writes in constructor. Alexey says that synthetic freeze happens at the end of constructor. Does it mean that we will see correct values in reading from non final variables initialized in constructor? Is writing to final variable enough to see writes to other non final variable?</p>\n"},{"tags":["java","gradle","antlr"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1522015889,"post_id":49481491,"comment_id":85965811,"body_markdown":"The snippet you&#39;re quoting is specifically meant to represent how to customise Gradle for a non-standard layout.","body":"The snippet you&#39;re quoting is specifically meant to represent how to customise Gradle for a non-standard layout."},{"owner":{"account_id":3715594,"reputation":166,"user_id":3091893,"display_name":"C2H6O"},"score":0,"creation_date":1522017274,"post_id":49481491,"comment_id":85966173,"body_markdown":"Do you know where I can find more info about this? It would never occur to me to either add &quot;/main&quot; after &quot;generated-src/antlr&quot; or to have antlr and main swap positions like that in the path.","body":"Do you know where I can find more info about this? It would never occur to me to either add &quot;/main&quot; after &quot;generated-src/antlr&quot; or to have antlr and main swap positions like that in the path."}],"answers":[{"comments":[{"owner":{"account_id":3715594,"reputation":166,"user_id":3091893,"display_name":"C2H6O"},"score":0,"creation_date":1522213915,"post_id":49492652,"comment_id":86058617,"body_markdown":"What I don&#39;t understand is the generated output folder path is &quot;generated-src/main/antlr&quot;, which is also used to define the IDEA module srcDir. But for SOME reason, when defining the generated sourceSet, the java srcDirs is &quot;generated-src/antlr/main&quot;. What is the pattern here and where is this documented?","body":"What I don&#39;t understand is the generated output folder path is &quot;generated-src/main/antlr&quot;, which is also used to define the IDEA module srcDir. But for SOME reason, when defining the generated sourceSet, the java srcDirs is &quot;generated-src/antlr/main&quot;. What is the pattern here and where is this documented?"},{"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"score":0,"creation_date":1522314474,"post_id":49492652,"comment_id":86111164,"body_markdown":"There are two references to `generated-src/main/antlr` and one to `generated-src/antlr/main` in that build file. I believe the last one is an error. Hard to say for sure without more context.","body":"There are two references to <code>generated-src&#47;main&#47;antlr</code> and one to <code>generated-src&#47;antlr&#47;main</code> in that build file. I believe the last one is an error. Hard to say for sure without more context."},{"owner":{"account_id":3715594,"reputation":166,"user_id":3091893,"display_name":"C2H6O"},"score":0,"creation_date":1522344495,"post_id":49492652,"comment_id":86131898,"body_markdown":"Here&#39;s more context: https://github.com/C2H6O/language-playground ... Any other combination of paths just doesn&#39;t work","body":"Here&#39;s more context: <a href=\"https://github.com/C2H6O/language-playground\" rel=\"nofollow noreferrer\">github.com/C2H6O/language-playground</a> ... Any other combination of paths just doesn&#39;t work"}],"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522070935,"creation_date":1522070935,"answer_id":49492652,"question_id":49481491,"body_markdown":"The [Gradle Java plugin convention][1] is to place source sets file as follows: `src/&lt;sourceSetName&gt;/&lt;type&gt;`\r\n\r\nThat means `src/main/java` for the main Java files of a module, `src/test/groovy` for the Groovy test files, etc ...\r\n\r\nAs you can see from the example I gave, that convention is also respected by other plugins, Groovy, Scala, Kotlin, ...\r\n\r\nNote that in the project above, locating the generated files inside the `build` directory would be better aligned with Gradle conventions as it would alleviate the need for modifying the `clean` task.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_project_layout","title":"Gradle srcDirs path","body":"<p>The <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_project_layout\" rel=\"nofollow noreferrer\">Gradle Java plugin convention</a> is to place source sets file as follows: <code>src/&lt;sourceSetName&gt;/&lt;type&gt;</code></p>\n\n<p>That means <code>src/main/java</code> for the main Java files of a module, <code>src/test/groovy</code> for the Groovy test files, etc ...</p>\n\n<p>As you can see from the example I gave, that convention is also respected by other plugins, Groovy, Scala, Kotlin, ...</p>\n\n<p>Note that in the project above, locating the generated files inside the <code>build</code> directory would be better aligned with Gradle conventions as it would alleviate the need for modifying the <code>clean</code> task.</p>\n"}],"owner":{"account_id":3715594,"reputation":166,"user_id":3091893,"display_name":"C2H6O"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695592835,"creation_date":1522015757,"question_id":49481491,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nWhy is the path for sourceSets.generated.java.srcDirs &quot;generated-src/antlr/main&quot; and not &quot;generated-src/antlr&quot;?\r\n\r\nFrom the [documentation][2], it seems that the standard way of declaring a srcDir is to exclude the sourceSet name, for example:\r\n\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs = [&#39;src/java&#39;]\r\n            }\r\n            resources {\r\n                srcDirs = [&#39;src/resources&#39;]\r\n            }\r\n        }\r\n    }\r\n\r\nAny help is greatly appreciated.\r\n\r\nCheers.\r\n\r\n  [1]: https://i.stack.imgur.com/FzrBY.png\r\n  [2]: https://docs.gradle.org/current/userguide/java_plugin.html","title":"Gradle srcDirs path","body":"<p><a href=\"https://i.stack.imgur.com/FzrBY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FzrBY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why is the path for sourceSets.generated.java.srcDirs \"generated-src/antlr/main\" and not \"generated-src/antlr\"?</p>\n\n<p>From the <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html\" rel=\"nofollow noreferrer\">documentation</a>, it seems that the standard way of declaring a srcDir is to exclude the sourceSet name, for example:</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs = ['src/java']\n        }\n        resources {\n            srcDirs = ['src/resources']\n        }\n    }\n}\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n\n<p>Cheers.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1503104112,"creation_date":1503104112,"answer_id":45766678,"question_id":45766627,"body_markdown":"The `idea64.exe.vmoptions` defines the java options which IntelliJ itself launches with; not what a given run configuration will launch with.\r\n\r\nOnce you&#39;ve launched your program (via the little play icon next to your `main` method), it should appear in the run configurations drop down at the top.  If you go edit this, and add `-ea` to the VM Options field, you can then run it with assertions enabled.","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>The <code>idea64.exe.vmoptions</code> defines the java options which IntelliJ itself launches with; not what a given run configuration will launch with.</p>\n\n<p>Once you've launched your program (via the little play icon next to your <code>main</code> method), it should appear in the run configurations drop down at the top.  If you go edit this, and add <code>-ea</code> to the VM Options field, you can then run it with assertions enabled.</p>\n"},{"comments":[{"owner":{"account_id":7223715,"reputation":1665,"user_id":6427595,"display_name":"arjun"},"score":0,"creation_date":1701571553,"post_id":59549204,"comment_id":136792104,"body_markdown":"This worked for me, and dropping a link to a reference i found with steps and pictures [Solved - Kotlin assert not working in IntelliJ IDEA](https://kotlinandroid.org/kotlin/kotlin-assert-not-working-in-intellij-idea/)","body":"This worked for me, and dropping a link to a reference i found with steps and pictures <a href=\"https://kotlinandroid.org/kotlin/kotlin-assert-not-working-in-intellij-idea/\" rel=\"nofollow noreferrer\">Solved - Kotlin assert not working in IntelliJ IDEA</a>"}],"tags":[],"owner":{"account_id":6361823,"reputation":43,"user_id":4937095,"display_name":"giyoon21c"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577836485,"creation_date":1577836485,"answer_id":59549204,"question_id":45766627,"body_markdown":"For Intellij 19.2 community version, I found the VM option to add -ea \r\nvia going to top menu and following Run -&gt; Edit Configurations... -&gt; VM options:\r\n","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>For Intellij 19.2 community version, I found the VM option to add -ea \nvia going to top menu and following Run -> Edit Configurations... -> VM options:</p>\n"},{"tags":[],"owner":{"account_id":28187622,"reputation":1,"user_id":21543542,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680986727,"creation_date":1680359179,"answer_id":75906823,"question_id":45766627,"body_markdown":"Add the following arguments to the VM Options field: `-enableassertions` OR `-ea`\r\n\r\nHow to do this using the local file:\r\nGo to Run | Edit Configurations | Modify options | add VM options | filed VM options\r\n\r\nAlternatives:\r\n1. Go to File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | filed VM options\r\n2. Or check out this article on Advanced configurations: https://www.jetbrains.com/help/idea/tuning-the-ide.html?ysclid=lfy23e1f1778689033","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>Add the following arguments to the VM Options field: <code>-enableassertions</code> OR <code>-ea</code></p>\n<p>How to do this using the local file:\nGo to Run | Edit Configurations | Modify options | add VM options | filed VM options</p>\n<p>Alternatives:</p>\n<ol>\n<li>Go to File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | filed VM options</li>\n<li>Or check out this article on Advanced configurations: <a href=\"https://www.jetbrains.com/help/idea/tuning-the-ide.html?ysclid=lfy23e1f1778689033\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/tuning-the-ide.html?ysclid=lfy23e1f1778689033</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5714780,"reputation":5395,"user_id":4515438,"accept_rate":0,"display_name":"Vahe Gharibyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685306013,"creation_date":1685306013,"answer_id":76353489,"question_id":45766627,"body_markdown":"Follow this step for enabling assertions in intellige ide.\r\n\r\n 1. Run/Debug configurations\r\n 2. Modify options\r\n 3. Add VM options  \r\n\r\nThen add `-enableassertions` or `-ea`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDHoo.png","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>Follow this step for enabling assertions in intellige ide.</p>\n<ol>\n<li>Run/Debug configurations</li>\n<li>Modify options</li>\n<li>Add VM options</li>\n</ol>\n<p>Then add <code>-enableassertions</code> or <code>-ea</code></p>\n<p><a href=\"https://i.stack.imgur.com/gDHoo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDHoo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20196349,"reputation":31,"user_id":14813211,"display_name":"notPlancha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695590237,"creation_date":1695590237,"answer_id":77168975,"question_id":45766627,"body_markdown":"I was having the same issue and none of the previous solutions were helping. \r\n\r\nTurns out that was because of how my project was setup. If it&#39;s running &quot;Current File&quot; as the configuration, it will quickly get the kotlin template to run the current file.\r\n\r\nSo if that&#39;s the case, Edit Configurations -&gt; Edit configuration templates (bottom left) -&gt; Kotlin -&gt; add -ea as a VM option","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>I was having the same issue and none of the previous solutions were helping.</p>\n<p>Turns out that was because of how my project was setup. If it's running &quot;Current File&quot; as the configuration, it will quickly get the kotlin template to run the current file.</p>\n<p>So if that's the case, Edit Configurations -&gt; Edit configuration templates (bottom left) -&gt; Kotlin -&gt; add -ea as a VM option</p>\n"}],"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2984,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":45766678,"answer_count":5,"score":6,"last_activity_date":1695590237,"creation_date":1503103460,"question_id":45766627,"body_markdown":"In my Custom VM options in My IntelliJ, I have &quot;-ea&quot; in my idea64.exe.vmoptions. But why doesn&#39;t this report assertion error:\r\n\r\n    int a = 1;\r\n    int b = 2;\r\n    assert(a==b)\r\n\r\n","title":"Why doesn&#39;t my assert doesn&#39;t work in IntelliJ?","body":"<p>In my Custom VM options in My IntelliJ, I have \"-ea\" in my idea64.exe.vmoptions. But why doesn't this report assertion error:</p>\n\n<pre><code>int a = 1;\nint b = 2;\nassert(a==b)\n</code></pre>\n"},{"tags":["java","android","kotlin","kotlin-coroutines"],"answers":[{"comments":[{"owner":{"account_id":19119627,"reputation":41,"user_id":13963856,"display_name":"senior salaga"},"score":0,"creation_date":1695591545,"post_id":77168972,"comment_id":136041243,"body_markdown":"in Dispatchers.IO pool of 64 threads, if you create a million coroutines, then 64 threads will be busy? and still have to switch the context of the stream?","body":"in Dispatchers.IO pool of 64 threads, if you create a million coroutines, then 64 threads will be busy? and still have to switch the context of the stream?"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1695591952,"post_id":77168972,"comment_id":136041269,"body_markdown":"I&#39;m not sure if I got your question right, but if you use `Dispatchers.IO` with default config, then only 64 coroutines can be run in parallel, including waiting in a blocking call. All other coroutines are enqueued.","body":"I&#39;m not sure if I got your question right, but if you use <code>Dispatchers.IO</code> with default config, then only 64 coroutines can be run in parallel, including waiting in a blocking call. All other coroutines are enqueued."},{"owner":{"account_id":19119627,"reputation":41,"user_id":13963856,"display_name":"senior salaga"},"score":0,"creation_date":1695593878,"post_id":77168972,"comment_id":136041377,"body_markdown":"so after all, if there are fewer threads than cores in the processor, then the thread context switches. 64 threads is that a lot and big performance gaps?","body":"so after all, if there are fewer threads than cores in the processor, then the thread context switches. 64 threads is that a lot and big performance gaps?"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1695596214,"post_id":77168972,"comment_id":136041529,"body_markdown":"Sorry, I don&#39;t follow you. Context switches are required if there are more threads than CPU cores. If there are fewer of them then at least hypothetically, we never need to switch the context. `Dispatchers.IO` is kind of special case - we can&#39;t avoid blocking the thread while doing the blocking I/O, so we allow to run more threads than optimal. But the context switch isn&#39;t that relevant in that case, because the delay of the I/O itself is probably several levels of magnitude bigger than the delay of the context switch.","body":"Sorry, I don&#39;t follow you. Context switches are required if there are more threads than CPU cores. If there are fewer of them then at least hypothetically, we never need to switch the context. <code>Dispatchers.IO</code> is kind of special case - we can&#39;t avoid blocking the thread while doing the blocking I/O, so we allow to run more threads than optimal. But the context switch isn&#39;t that relevant in that case, because the delay of the I/O itself is probably several levels of magnitude bigger than the delay of the context switch."},{"owner":{"account_id":19119627,"reputation":41,"user_id":13963856,"display_name":"senior salaga"},"score":0,"creation_date":1695596793,"post_id":77168972,"comment_id":136041574,"body_markdown":"sorry, my question is, can context switching still happen? (almost all articles about coroutines say this does not happen). And if a context switch occurs (a million coroutines are created, for example for an IO stream) - does it not load the system?","body":"sorry, my question is, can context switching still happen? (almost all articles about coroutines say this does not happen). And if a context switch occurs (a million coroutines are created, for example for an IO stream) - does it not load the system?"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1695597272,"post_id":77168972,"comment_id":136041607,"body_markdown":"Context switches occur naturally, also while using coroutines. It is very hard to avoid them, but we shouldn&#39;t be too obsessed about them.","body":"Context switches occur naturally, also while using coroutines. It is very hard to avoid them, but we shouldn&#39;t be too obsessed about them."}],"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695590199,"creation_date":1695590199,"answer_id":77168972,"question_id":77168931,"body_markdown":"If we run two tasks, each of them in a separate thread, then whenever we have to switch execution from one task to the other, we have to switch CPU to execute another thread, which is a heavy operation. If we run two tasks using coroutines, we can switch between them by reusing the same thread and only switching its coroutine. This is much lighter. Most probably this is what resources you mentioned meant.\r\n\r\nAnother, and maybe even more important difference is in memory consumption. We can easily launch even a million of coroutines and they will be just fine. Trying to do the same with threads will most probably results in an out-of-memory error.","title":"Why kotlin coroutines don&#39;t require thread context switching","body":"<p>If we run two tasks, each of them in a separate thread, then whenever we have to switch execution from one task to the other, we have to switch CPU to execute another thread, which is a heavy operation. If we run two tasks using coroutines, we can switch between them by reusing the same thread and only switching its coroutine. This is much lighter. Most probably this is what resources you mentioned meant.</p>\n<p>Another, and maybe even more important difference is in memory consumption. We can easily launch even a million of coroutines and they will be just fine. Trying to do the same with threads will most probably results in an out-of-memory error.</p>\n"}],"owner":{"account_id":19119627,"reputation":41,"user_id":13963856,"display_name":"senior salaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695590199,"creation_date":1695589422,"question_id":77168931,"body_markdown":"Many resources indicate that the kotlin coroutines are lightweight because they do not require switching the context of threads.\r\n\r\nAs you know, coroutines work on a thread pool, then why can&#39;t these threads have context switching? If there are more threads involved than processor cores?\r\n\r\nPlease help me figure this out","title":"Why kotlin coroutines don&#39;t require thread context switching","body":"<p>Many resources indicate that the kotlin coroutines are lightweight because they do not require switching the context of threads.</p>\n<p>As you know, coroutines work on a thread pool, then why can't these threads have context switching? If there are more threads involved than processor cores?</p>\n<p>Please help me figure this out</p>\n"},{"tags":["java","spring-boot","authentication","token","refresh-token"],"owner":{"account_id":19600097,"reputation":1,"user_id":14345150,"display_name":"Jean Fernandine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695589971,"creation_date":1695585853,"question_id":77168750,"body_markdown":"I am implementing the AuthorizationGrantType as shown in the code and passing the grand_type, username and password parameters in the body, but the refresh_token is not being displayed. I believe there is something missing in my configuration. I&#39;m using spring boot 3.1.1\r\n\r\n````\r\n@Bean\r\n    public RegisteredClientRepository registeredClientRepository() {\r\n        // @formatter:off\r\n        RegisteredClient registeredClient = RegisteredClient\r\n                .withId(UUID.randomUUID().toString())\r\n                .clientId(clientId)\r\n                .clientSecret(passwordEncoder.encode(clientSecret))\r\n                .scope(&quot;message.read&quot;)\r\n                .scope(&quot;message.write&quot;)\r\n                .scope(OidcScopes.OPENID)\r\n                .scope(OidcScopes.PROFILE)\r\n                .authorizationGrantType(AuthorizationGrantType.PASSWORD)\r\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n                .tokenSettings(tokenSettings())\r\n                .clientSettings(clientSettings())\r\n                .build();\r\n        // @formatter:on\r\n\r\n        return new InMemoryRegisteredClientRepository(registeredClient);\r\n    }\r\n@Bean\r\n    UserDetailsService users() {\r\n        UserDetails user = User.withDefaultPasswordEncoder()\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;password&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n@Bean\r\n    public TokenSettings tokenSettings() {\r\n        // @formatter:off\r\n        return TokenSettings.builder()\r\n                .accessTokenFormat(OAuth2TokenFormat.SELF_CONTAINED)\r\n                .accessTokenTimeToLive(Duration.ofDays(jwtDuration))\r\n                .refreshTokenTimeToLive(Duration.ofDays(45))\r\n                .build();\r\n        // @formatter:on\r\n    }\r\n\r\n   @Bean\r\n    public ClientSettings clientSettings() {\r\n        return ClientSettings.builder().build();\r\n    }\r\n@Bean\r\n    public OAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator() {\r\n        NimbusJwtEncoder jwtEncoder = new NimbusJwtEncoder(jwkSource());\r\n        JwtGenerator jwtGenerator = new JwtGenerator(jwtEncoder);\r\n        jwtGenerator.setJwtCustomizer(tokenCustomizer());\r\n        OAuth2AccessTokenGenerator accessTokenGenerator = new OAuth2AccessTokenGenerator();\r\n        return new DelegatingOAuth2TokenGenerator(jwtGenerator, accessTokenGenerator);\r\n    }\r\n````\r\nThe authentication response is\r\n\r\n````\r\n{\r\n    &quot;access_token&quot;: &quot;eyJraWQiOiI1NWFhZjI3NS1lNDJhLTRkZmItYmNmOS02N2ZhYThjMjFhMzEiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzNTI2IiwiYXVkIjoiMzUyNiIsIm5iZiI6MTY5NTU4NTUwNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwIiwiZXhwIjoxNjk4MTc3NTA0LCJpYXQiOjE2OTU1ODU1MDQsImF1dGhvcml0aWVzIjpbIlJPTEVfQ0xJRU5UIiwiUk9MRV9BRE1JTiJdLCJ1c2VybmFtZSI6Im1hcmlhQGdtYWlsLmNvbSJ9.fd08AvMCokiE7bFPaTStPSwGFC9L1qvuR0mDDe0FjkEv-7BwUZoUyj1F6zzYraR8nEjQDpYemVnVxyqTMQGBqetzg7sE6EiOm6GN3EV-Ymvu3Qi0Po4FGcbw46WHh1Qhi_ogbOWiGu9WqgBykK4fRMAR3ZtKJiLNuC-sYB91ctRghjuhxGUThdzoyySiKRrURTQs1yqR6FAgReQwm_iVNPl3IsJt4hlk_hajuavEJgGhwQ5AjHzx05Ik3YuKpknH9ZzYd8IQate9FV4twIkG5rUxp88i2LBkS-VPxKIxiutJm0fMSIbubpH9U-PDEOVEeSc2VXoOJxJhDq48ZgsMQg&quot;,\r\n    &quot;token_type&quot;: &quot;Bearer&quot;,\r\n    &quot;expires_in&quot;: 2592000\r\n````\r\nThanks!","title":"Refresh token is not being displayed in the client console","body":"<p>I am implementing the AuthorizationGrantType as shown in the code and passing the grand_type, username and password parameters in the body, but the refresh_token is not being displayed. I believe there is something missing in my configuration. I'm using spring boot 3.1.1</p>\n<pre><code>@Bean\n    public RegisteredClientRepository registeredClientRepository() {\n        // @formatter:off\n        RegisteredClient registeredClient = RegisteredClient\n                .withId(UUID.randomUUID().toString())\n                .clientId(clientId)\n                .clientSecret(passwordEncoder.encode(clientSecret))\n                .scope(&quot;message.read&quot;)\n                .scope(&quot;message.write&quot;)\n                .scope(OidcScopes.OPENID)\n                .scope(OidcScopes.PROFILE)\n                .authorizationGrantType(AuthorizationGrantType.PASSWORD)\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n                .tokenSettings(tokenSettings())\n                .clientSettings(clientSettings())\n                .build();\n        // @formatter:on\n\n        return new InMemoryRegisteredClientRepository(registeredClient);\n    }\n@Bean\n    UserDetailsService users() {\n        UserDetails user = User.withDefaultPasswordEncoder()\n                .username(&quot;admin&quot;)\n                .password(&quot;password&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n@Bean\n    public TokenSettings tokenSettings() {\n        // @formatter:off\n        return TokenSettings.builder()\n                .accessTokenFormat(OAuth2TokenFormat.SELF_CONTAINED)\n                .accessTokenTimeToLive(Duration.ofDays(jwtDuration))\n                .refreshTokenTimeToLive(Duration.ofDays(45))\n                .build();\n        // @formatter:on\n    }\n\n   @Bean\n    public ClientSettings clientSettings() {\n        return ClientSettings.builder().build();\n    }\n@Bean\n    public OAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator() {\n        NimbusJwtEncoder jwtEncoder = new NimbusJwtEncoder(jwkSource());\n        JwtGenerator jwtGenerator = new JwtGenerator(jwtEncoder);\n        jwtGenerator.setJwtCustomizer(tokenCustomizer());\n        OAuth2AccessTokenGenerator accessTokenGenerator = new OAuth2AccessTokenGenerator();\n        return new DelegatingOAuth2TokenGenerator(jwtGenerator, accessTokenGenerator);\n    }\n</code></pre>\n<p>The authentication response is</p>\n<pre><code>{\n    &quot;access_token&quot;: &quot;eyJraWQiOiI1NWFhZjI3NS1lNDJhLTRkZmItYmNmOS02N2ZhYThjMjFhMzEiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzNTI2IiwiYXVkIjoiMzUyNiIsIm5iZiI6MTY5NTU4NTUwNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwIiwiZXhwIjoxNjk4MTc3NTA0LCJpYXQiOjE2OTU1ODU1MDQsImF1dGhvcml0aWVzIjpbIlJPTEVfQ0xJRU5UIiwiUk9MRV9BRE1JTiJdLCJ1c2VybmFtZSI6Im1hcmlhQGdtYWlsLmNvbSJ9.fd08AvMCokiE7bFPaTStPSwGFC9L1qvuR0mDDe0FjkEv-7BwUZoUyj1F6zzYraR8nEjQDpYemVnVxyqTMQGBqetzg7sE6EiOm6GN3EV-Ymvu3Qi0Po4FGcbw46WHh1Qhi_ogbOWiGu9WqgBykK4fRMAR3ZtKJiLNuC-sYB91ctRghjuhxGUThdzoyySiKRrURTQs1yqR6FAgReQwm_iVNPl3IsJt4hlk_hajuavEJgGhwQ5AjHzx05Ik3YuKpknH9ZzYd8IQate9FV4twIkG5rUxp88i2LBkS-VPxKIxiutJm0fMSIbubpH9U-PDEOVEeSc2VXoOJxJhDq48ZgsMQg&quot;,\n    &quot;token_type&quot;: &quot;Bearer&quot;,\n    &quot;expires_in&quot;: 2592000\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1695505523,"post_id":77161593,"comment_id":136034107,"body_markdown":"What result are you getting? And what is your question please be specific","body":"What result are you getting? And what is your question please be specific"}],"answers":[{"comments":[{"owner":{"account_id":29513834,"reputation":1,"user_id":22618246,"display_name":"Zbrplayz"},"score":0,"creation_date":1695485190,"post_id":77161627,"comment_id":136032003,"body_markdown":"Thank you @Jeet! sorry but I recently started with reactive. How to gain more knowledge or understanding on your comment &quot;The assertNotNull call is not part of the reactive flow&quot;. How we something like this will not work in reactive or in other words what will work in such flow vs what will not work. Where to gain such a knowledge?","body":"Thank you @Jeet! sorry but I recently started with reactive. How to gain more knowledge or understanding on your comment &quot;The assertNotNull call is not part of the reactive flow&quot;. How we something like this will not work in reactive or in other words what will work in such flow vs what will not work. Where to gain such a knowledge?"},{"owner":{"account_id":29513834,"reputation":1,"user_id":22618246,"display_name":"Zbrplayz"},"score":0,"creation_date":1695486074,"post_id":77161627,"comment_id":136032106,"body_markdown":"Found this stackoverflow: https://stackoverflow.com/questions/62697139/correct-testing-pattern-in-project-reactor-block-vs-stepverifier This gave some details but I&#39;m looking to understand fundamentals. Thank you in advance for help!","body":"Found this stackoverflow: <a href=\"https://stackoverflow.com/questions/62697139/correct-testing-pattern-in-project-reactor-block-vs-stepverifier\" title=\"correct testing pattern in project reactor block vs stepverifier\">stackoverflow.com/questions/62697139/&hellip;</a> This gave some details but I&#39;m looking to understand fundamentals. Thank you in advance for help!"},{"owner":{"account_id":29513834,"reputation":1,"user_id":22618246,"display_name":"Zbrplayz"},"score":0,"creation_date":1695576322,"post_id":77161627,"comment_id":136039719,"body_markdown":"I tried the suggestions but it is still failing with below:\n\njava.lang.AssertionError: expectation &quot;expectNextMatches&quot; failed (expected: onNext(); actual: onError(org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate key error collection: testdb.Van index: _id_ dup key: { _id: ObjectId(&#39;65107022c9933220c3b24f0e&#39;) }&#39;, details={}}.))\n\nI don&#39;t understand why this is coming because dao execution is only once.","body":"I tried the suggestions but it is still failing with below:  java.lang.AssertionError: expectation &quot;expectNextMatches&quot; failed (expected: onNext(); actual: onError(org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate key error collection: testdb.Van index: <i>id</i> dup key: { _id: ObjectId(&#39;65107022c9933220c3b24f0e&#39;) }&#39;, details={}}.))  I don&#39;t understand why this is coming because dao execution is only once."}],"tags":[],"owner":{"account_id":11803185,"reputation":592,"user_id":8636342,"display_name":"Jeet Kumar"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695442318,"creation_date":1695442318,"answer_id":77161627,"question_id":77161593,"body_markdown":"In your code, the `doOnNext` operator is used for side effects, and it doesn&#39;t affect the test assertion. The `assertNotNull` call is not part of the reactive flow, so it doesn&#39;t get executed during the execution of the reactive stream.\r\n\r\nTo properly test the behavior of your `addVan` method, you should use a testing framework designed for reactive code, such as Project Reactor&#39;s `StepVerifier`. Here&#39;s how you can modify your test to use `StepVerifier`:\r\n\r\n```java\r\nimport reactor.test.StepVerifier;\r\n\r\n@SpringBootTest\r\npublic class ABCTests {\r\n\r\n    @Autowired\r\n    private VDao vDao;\r\n\r\n    @Test\r\n    public void addDummyVan() {\r\n        Mono&lt;Van&gt; vmono = Mono.just(createDummyVan());\r\n        \r\n        StepVerifier.create(vDao.addVan(vmono))\r\n            .expectNextMatches(v -&gt; v.getId() != null)\r\n            .verifyComplete();\r\n    }\r\n}\r\n```\r\n\r\nIn this modified test:\r\n\r\n1. We use `StepVerifier.create` to create a verifier for the reactive stream returned by `vDao.addVan(vmono)`.\r\n\r\n2. We use `expectNextMatches` to expect that the next element emitted by the stream (`v`) satisfies the condition that `v.getId()` is not null.\r\n\r\n3. We use `verifyComplete` to ensure that the stream completes successfully after emitting the expected element.\r\n\r\nWith this approach, the test will fail if the `addVan` method doesn&#39;t properly set the `id` field in the `Van` object before emitting it in the reactive stream. This allows you to test the behavior of your reactive code accurately.","title":"java springboot reactive assertNotNull doesn&#39;t work in Mono.doOnNext","body":"<p>In your code, the <code>doOnNext</code> operator is used for side effects, and it doesn't affect the test assertion. The <code>assertNotNull</code> call is not part of the reactive flow, so it doesn't get executed during the execution of the reactive stream.</p>\n<p>To properly test the behavior of your <code>addVan</code> method, you should use a testing framework designed for reactive code, such as Project Reactor's <code>StepVerifier</code>. Here's how you can modify your test to use <code>StepVerifier</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import reactor.test.StepVerifier;\n\n@SpringBootTest\npublic class ABCTests {\n\n    @Autowired\n    private VDao vDao;\n\n    @Test\n    public void addDummyVan() {\n        Mono&lt;Van&gt; vmono = Mono.just(createDummyVan());\n        \n        StepVerifier.create(vDao.addVan(vmono))\n            .expectNextMatches(v -&gt; v.getId() != null)\n            .verifyComplete();\n    }\n}\n</code></pre>\n<p>In this modified test:</p>\n<ol>\n<li><p>We use <code>StepVerifier.create</code> to create a verifier for the reactive stream returned by <code>vDao.addVan(vmono)</code>.</p>\n</li>\n<li><p>We use <code>expectNextMatches</code> to expect that the next element emitted by the stream (<code>v</code>) satisfies the condition that <code>v.getId()</code> is not null.</p>\n</li>\n<li><p>We use <code>verifyComplete</code> to ensure that the stream completes successfully after emitting the expected element.</p>\n</li>\n</ol>\n<p>With this approach, the test will fail if the <code>addVan</code> method doesn't properly set the <code>id</code> field in the <code>Van</code> object before emitting it in the reactive stream. This allows you to test the behavior of your reactive code accurately.</p>\n"}],"owner":{"account_id":29513834,"reputation":1,"user_id":22618246,"display_name":"Zbrplayz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695589891,"creation_date":1695441274,"question_id":77161593,"body_markdown":"I&#39;m trying to do unit test case here is my function..\r\n\r\n```java\r\n    @SpringBootTest\r\n    public class ABCTests{\r\n\r\n    @Autowired\r\n    private VDao vDao;\r\n    \r\n    @Test\r\n    public void addDummyVan() {\r\n        Mono&lt;Van&gt; vmono = Mono.just(createDummyVan());\r\n        vDao.addVan(vmono).doOnNext(v-&gt; assertNotNull(v.getId()));\r\n      }\r\n    }\r\n```\r\n\r\nTo test this. In `vDao.addVan` function, I&#39;m returning `Mono&lt;Van&gt;` where in van object keeping id value as null intentionally. But test case is still not failing. ","title":"java springboot reactive assertNotNull doesn&#39;t work in Mono.doOnNext","body":"<p>I'm trying to do unit test case here is my function..</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SpringBootTest\n    public class ABCTests{\n\n    @Autowired\n    private VDao vDao;\n    \n    @Test\n    public void addDummyVan() {\n        Mono&lt;Van&gt; vmono = Mono.just(createDummyVan());\n        vDao.addVan(vmono).doOnNext(v-&gt; assertNotNull(v.getId()));\n      }\n    }\n</code></pre>\n<p>To test this. In <code>vDao.addVan</code> function, I'm returning <code>Mono&lt;Van&gt;</code> where in van object keeping id value as null intentionally. But test case is still not failing.</p>\n"},{"tags":["java","macos","osx-lion"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1328954653,"post_id":9239287,"comment_id":11637970,"body_markdown":"What is it you are trying to achieve?  Why use OS specific classes in an X-platform language?","body":"What is it you are trying to achieve?  Why use OS specific classes in an X-platform language?"},{"owner":{"account_id":1200685,"reputation":463,"user_id":1171415,"accept_rate":100,"display_name":"igor-so"},"score":1,"creation_date":1329226401,"post_id":9239287,"comment_id":11696328,"body_markdown":"This is a MacOS application. I need the classes for better integration with Mac OS.","body":"This is a MacOS application. I need the classes for better integration with Mac OS."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1329226962,"post_id":9239287,"comment_id":11696531,"body_markdown":"I did a quick check when you first mentioned it and it seems Java Web Start can do at least some of what the `ApplicationListener` can achieve.  Further, JWS can do it X-plat.","body":"I did a quick check when you first mentioned it and it seems Java Web Start can do at least some of what the <code>ApplicationListener</code> can achieve.  Further, JWS can do it X-plat."}],"answers":[{"comments":[{"owner":{"account_id":8171770,"reputation":83,"user_id":7033336,"display_name":"John James"},"score":0,"creation_date":1695587907,"post_id":28090946,"comment_id":136040939,"body_markdown":"Here&#39;s an archived [http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.html](https://web.archive.org/web/20141020092159/http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.html)","body":"Here&#39;s an archived <a href=\"https://web.archive.org/web/20141020092159/http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.html\" rel=\"nofollow noreferrer\">http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.h&zwnj;&#8203;tml</a>"}],"tags":[],"owner":{"account_id":78133,"reputation":1090,"user_id":222564,"accept_rate":40,"display_name":"AaronJ"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695589597,"creation_date":1421936222,"answer_id":28090946,"question_id":9239287,"body_markdown":"&gt; Please migrate to using the com.apple.eawt.Application.set*Handler() APIs if you want to hook into Open, Preferences, About, Quit menu items / events.\r\n\r\nFrom https://web.archive.org/web/20141020092159/http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.html\r\n\r\nThe full response is\r\n\r\n&gt; As the deprecator of these APIs, I think I&#39;m qualified to answer this:\r\n&gt; \r\n&gt; Please migrate to using the com.apple.eawt.Application.set*Handler()\r\n&gt; APIs if you want to hook into Open, Preferences, About, Quit menu\r\n&gt; items / events. The full JavaDocs are in the appledocs.jar in the Java\r\n&gt; Developer Package&#39;s JDK at\r\n&gt; &lt;developer.apple.com/downloads/index.action?name=Java Developer&gt;, as\r\n&gt; well as a somewhat staler copy at\r\n&gt; [ ... broken link ...].\r\n&gt; \r\n&gt; Most people usually just want to implement the setQuitHandler() or use\r\n&gt; setQuitStrategy(), and maybe want setPreferencesHandler(). The old\r\n&gt; style ApplicationListener was a terrible interface, because it cross\r\n&gt; cut too many disparate concepts and forced an application to listen to\r\n&gt; all of them, and allowed multiple listeners to be notified about\r\n&gt; things that should only be handled by a single agent.\r\n&gt; \r\n&gt; Regards, Mike Swingler Java Engineering","title":"What is the alternative for deprecated com.apple.eawt.ApplicationListener","body":"<blockquote>\n<p>Please migrate to using the com.apple.eawt.Application.set*Handler() APIs if you want to hook into Open, Preferences, About, Quit menu items / events.</p>\n</blockquote>\n<p>From <a href=\"https://web.archive.org/web/20141020092159/http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20141020092159/http://lists.apple.com/archives/java-dev/2012/Jan/msg00101.html</a></p>\n<p>The full response is</p>\n<blockquote>\n<p>As the deprecator of these APIs, I think I'm qualified to answer this:</p>\n<p>Please migrate to using the com.apple.eawt.Application.set*Handler()\nAPIs if you want to hook into Open, Preferences, About, Quit menu\nitems / events. The full JavaDocs are in the appledocs.jar in the Java\nDeveloper Package's JDK at\n&lt;developer.apple.com/downloads/index.action?name=Java Developer&gt;, as\nwell as a somewhat staler copy at\n[ ... broken link ...].</p>\n<p>Most people usually just want to implement the setQuitHandler() or use\nsetQuitStrategy(), and maybe want setPreferencesHandler(). The old\nstyle ApplicationListener was a terrible interface, because it cross\ncut too many disparate concepts and forced an application to listen to\nall of them, and allowed multiple listeners to be notified about\nthings that should only be handled by a single agent.</p>\n<p>Regards, Mike Swingler Java Engineering</p>\n</blockquote>\n"}],"owner":{"account_id":1200685,"reputation":463,"user_id":1171415,"accept_rate":100,"display_name":"igor-so"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2961,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28090946,"answer_count":1,"score":5,"last_activity_date":1695589597,"creation_date":1328954040,"question_id":9239287,"body_markdown":"ApplicationListener class in Apple&#39;s Java is deprecated. What is the alternative?\r\n\r\npackage: com.apple.eawt","title":"What is the alternative for deprecated com.apple.eawt.ApplicationListener","body":"<p>ApplicationListener class in Apple's Java is deprecated. What is the alternative?</p>\n\n<p>package: com.apple.eawt</p>\n"},{"tags":["java","bash"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":4,"creation_date":1509326801,"post_id":47006966,"comment_id":80960599,"body_markdown":"You should fix that syntax error on the line 1... Hint: Wherever you copied `(...)` from, it was not meant to be literal","body":"You should fix that syntax error on the line 1... Hint: Wherever you copied <code>(...)</code> from, it was not meant to be literal"},{"owner":{"account_id":2922622,"reputation":1030,"user_id":2504569,"accept_rate":20,"display_name":"Lucky Rana"},"score":1,"creation_date":1576208413,"post_id":47006966,"comment_id":104832959,"body_markdown":"export JAVA_HOME=$PATH:/usr/libexec/java_home worked for me","body":"export JAVA_HOME=$PATH:/usr/libexec/java_home worked for me"}],"answers":[{"comments":[{"owner":{"account_id":2815710,"reputation":2899,"user_id":2420847,"display_name":"Mark G."},"score":1,"creation_date":1595004910,"post_id":47007152,"comment_id":111335246,"body_markdown":"On macOS hosts, `export JAVA_HOME=$(/usr/libexec/java_home)` is _not_ incorrect, it’s the standard way to set JAVA_HOME on that platform. [java_home(1)](https://web.archive.org/web/20160318211604/https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/java_home.1.html) is not a directory, but a binary that “Returns the path to a Java home directory from the current user&#39;s settings.”","body":"On macOS hosts, <code>export JAVA_HOME=$(&#47;usr&#47;libexec&#47;java_home)</code> is <i>not</i> incorrect, it’s the standard way to set JAVA_HOME on that platform. <a href=\"https://web.archive.org/web/20160318211604/https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/java_home.1.html\" rel=\"nofollow noreferrer\">java_home(1)</a> is not a directory, but a binary that “Returns the path to a Java home directory from the current user&#39;s settings.”"}],"tags":[],"owner":{"account_id":1452502,"reputation":923,"user_id":1368994,"display_name":"pradosh nair"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1595082676,"creation_date":1509328427,"answer_id":47007152,"question_id":47006966,"body_markdown":"Statement `export JAVA_HOME=$(/usr/libexec/java_home)` seems correct; bash would have evaluated the information within $() and returned a  blank if . \r\n\r\nLooks like a syntax error caused the error not to execute, leaving JAVA_HOME empty.\r\n\r\nThe usage of $() is discussed in this link. https://stackoverflow.com/questions/27472540/difference-between-and-in-bash-scripting.","title":"Mac echo $JAVA_HOME return blank","body":"<p>Statement <code>export JAVA_HOME=$(/usr/libexec/java_home)</code> seems correct; bash would have evaluated the information within $() and returned a  blank if .</p>\n<p>Looks like a syntax error caused the error not to execute, leaving JAVA_HOME empty.</p>\n<p>The usage of $() is discussed in this link. <a href=\"https://stackoverflow.com/questions/27472540/difference-between-and-in-bash-scripting\">Difference between ${} and $() in Bash</a>.</p>\n"},{"comments":[{"owner":{"account_id":32384,"reputation":120260,"user_id":89817,"display_name":"Gordon Davisson"},"score":2,"creation_date":1509333989,"post_id":47007295,"comment_id":80962111,"body_markdown":"Actually, /usr/libexec/java_home isn&#39;t the java home directory, it&#39;s an executable that tries to figure out where the java home directory is and output its path. As the example in the question shows, it outputs &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home&quot; on OP&#39;s computer. So that assignment looks correct to me.","body":"Actually, /usr/libexec/java_home isn&#39;t the java home directory, it&#39;s an executable that tries to figure out where the java home directory is and output its path. As the example in the question shows, it outputs &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents&zwnj;&#8203;/Home&quot; on OP&#39;s computer. So that assignment looks correct to me."}],"tags":[],"owner":{"account_id":1231743,"reputation":3244,"user_id":1196170,"accept_rate":48,"display_name":"jprism"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1509330028,"creation_date":1509330028,"answer_id":47007295,"question_id":47006966,"body_markdown":"$(str) where str should be a command. In your case, $(/usr/libexec/java_home) will return nothing. \r\nJust use \r\n\r\n    export JAVA_HOME=/usr/libexec/java_home ","title":"Mac echo $JAVA_HOME return blank","body":"<p>$(str) where str should be a command. In your case, $(/usr/libexec/java_home) will return nothing. \nJust use </p>\n\n<pre><code>export JAVA_HOME=/usr/libexec/java_home \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8123020,"reputation":841,"user_id":6174065,"accept_rate":50,"display_name":"Capfer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618643639,"creation_date":1618643639,"answer_id":67135660,"question_id":47006966,"body_markdown":"I have just run into this issue after installing Amazon Corretto jdk15. But, in my case, I just closed and reopened the terminal and everything worked, that is, by running \r\n\r\necho $JAVA_HOME\r\n\r\nIt prints out to the console: \r\n\r\n/Users/username/.sdkman/candidates/java/current. ","title":"Mac echo $JAVA_HOME return blank","body":"<p>I have just run into this issue after installing Amazon Corretto jdk15. But, in my case, I just closed and reopened the terminal and everything worked, that is, by running</p>\n<p>echo $JAVA_HOME</p>\n<p>It prints out to the console:</p>\n<p>/Users/username/.sdkman/candidates/java/current.</p>\n"},{"tags":[],"owner":{"account_id":21953309,"reputation":39,"user_id":16232228,"display_name":"Arsh_arshu"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1623790534,"creation_date":1623752742,"answer_id":67984496,"question_id":47006966,"body_markdown":"- Create a *.zshrc* file on your terminal\r\n\r\n      touch ~/.zshrc\r\n\r\n- now click *go -&gt; home -&gt; press shift+command+.* \r\n- You can now see the hidden files. Open *.zshrc* file and type:\r\n\r\n      export JAVA_HOME=$(/usr/libexec/java_home)\r\n      export PATH=/opt/homebrew/bin:$PATH","title":"Mac echo $JAVA_HOME return blank","body":"<ul>\n<li><p>Create a <em>.zshrc</em> file on your terminal</p>\n<pre><code>touch ~/.zshrc\n</code></pre>\n</li>\n<li><p>now click <em>go -&gt; home -&gt; press shift+command+.</em></p>\n</li>\n<li><p>You can now see the hidden files. Open <em>.zshrc</em> file and type:</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\nexport PATH=/opt/homebrew/bin:$PATH\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16383558,"reputation":793,"user_id":11834297,"display_name":"sweetnandha cse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695589567,"creation_date":1695589567,"answer_id":77168937,"question_id":47006966,"body_markdown":"i have tired lot but i am getting same issue. while run echo $JAVA_HOME showing empty.\r\n\r\nafter research added one more path for set JAVA_HOME..\r\n\r\n    export JAVA_HOME=$(/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home)\r\n\r\nlike this. After removing above line its working fine for me.","title":"Mac echo $JAVA_HOME return blank","body":"<p>i have tired lot but i am getting same issue. while run echo $JAVA_HOME showing empty.</p>\n<p>after research added one more path for set JAVA_HOME..</p>\n<pre><code>export JAVA_HOME=$(/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home)\n</code></pre>\n<p>like this. After removing above line its working fine for me.</p>\n"}],"owner":{"account_id":1024518,"reputation":349,"user_id":1034127,"accept_rate":64,"display_name":"user1034127"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24783,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":5,"score":9,"last_activity_date":1695589567,"creation_date":1509326539,"question_id":47006966,"body_markdown":"I don&#39;t know why echo $JAVA_HOME return blank \r\n\r\nAbdelmajids-iMac:~ majid$ vi .profile\r\n\r\n    export PATH=/usr/local/bin:(...)\r\n    [[ -s &quot;$HOME/.rvm/scripts/rvm&quot; ]] &amp;&amp; source &quot;$HOME/.rvm/scripts/rvm&quot; # Load \r\n    RVM into a shell session *as a function*\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n    ~                                                                                                    \r\n\r\n    ~      \r\n\r\n\r\n    Abdelmajids-iMac:~ majid$ /usr/libexec/java_home\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home\r\n    Abdelmajids-iMac:~ majid$ vi .bash_profile\r\n    Abdelmajids-iMac:~ majid$ source .bash_profile\r\n    -bash: .bash_profile: line 1: syntax error near unexpected token `(&#39;\r\n    -bash: .bash_profile: line 1: `export PATH=/usr/local/bin:(...)&#39;\r\n    Abdelmajids-iMac:~ majid$ echo  $JAVA_HOME\r\n    \r\n    Abdelmajids-iMac:~ majid$ ","title":"Mac echo $JAVA_HOME return blank","body":"<p>I don't know why echo $JAVA_HOME return blank </p>\n\n<p>Abdelmajids-iMac:~ majid$ vi .profile</p>\n\n<pre><code>export PATH=/usr/local/bin:(...)\n[[ -s \"$HOME/.rvm/scripts/rvm\" ]] &amp;&amp; source \"$HOME/.rvm/scripts/rvm\" # Load \nRVM into a shell session *as a function*\nexport JAVA_HOME=$(/usr/libexec/java_home)\n~                                                                                                    \n\n~      \n\n\nAbdelmajids-iMac:~ majid$ /usr/libexec/java_home\n/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home\nAbdelmajids-iMac:~ majid$ vi .bash_profile\nAbdelmajids-iMac:~ majid$ source .bash_profile\n-bash: .bash_profile: line 1: syntax error near unexpected token `('\n-bash: .bash_profile: line 1: `export PATH=/usr/local/bin:(...)'\nAbdelmajids-iMac:~ majid$ echo  $JAVA_HOME\n\nAbdelmajids-iMac:~ majid$ \n</code></pre>\n"},{"tags":["java","spring","maven","openapi-generator"],"comments":[{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1613575328,"post_id":62603923,"comment_id":117117682,"body_markdown":"related: https://github.com/OpenAPITools/openapi-generator/issues/5690","body":"related: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/5690\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/5690</a>"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1675856545,"post_id":62612237,"comment_id":133016817,"body_markdown":"As stated [here](https://github.com/OpenAPITools/openapi-generator/issues/8298): *If you use plugin, then you have to care about all dependencies on your own. On the other hand plugin has generated all needed dependencies for you. This what I get when I run mvn clean install for yours sample. That generated pom.xml has all necessary dependencies*. The generated pom file is under `target/generated-sources/openapi` (depending on your config). In my case I had to provide one additional dependency on my own, then everything compiled nicely.","body":"As stated <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/8298\" rel=\"nofollow noreferrer\">here</a>: <i>If you use plugin, then you have to care about all dependencies on your own. On the other hand plugin has generated all needed dependencies for you. This what I get when I run mvn clean install for yours sample. That generated pom.xml has all necessary dependencies</i>. The generated pom file is under <code>target&#47;generated-sources&#47;openapi</code> (depending on your config). In my case I had to provide one additional dependency on my own, then everything compiled nicely."}],"tags":[],"owner":{"account_id":8780998,"reputation":61,"user_id":6564625,"display_name":"Jfranky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593273319,"creation_date":1593273319,"answer_id":62612237,"question_id":62603923,"body_markdown":"I found out the problem, I can&#39;t heritage the dependecy of effective pom.xml of open API plugin, I had to add manually the dependecy, someone has better suggestion for this workaround","title":"Open Api Generator plugin does not work with Maven","body":"<p>I found out the problem, I can't heritage the dependecy of effective pom.xml of open API plugin, I had to add manually the dependecy, someone has better suggestion for this workaround</p>\n"}],"owner":{"account_id":8780998,"reputation":61,"user_id":6564625,"display_name":"Jfranky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13154,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1695589305,"creation_date":1593212096,"question_id":62603923,"body_markdown":"I am trying to generate Apis with openapi generator just when i run mvn compile seems like doesn&#39;t find any depenncy like jacks httprequest and so, i add the details down \r\ni added the plugin: \r\n \r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;!-- RELEASE_VERSION --&gt;\r\n                    &lt;version&gt;4.3.1&lt;/version&gt;\r\n                    &lt;!-- /RELEASE_VERSION --&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;inputSpec&gt;${project.basedir}/src/main/resources/player.yml&lt;/inputSpec&gt;\r\n                                &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n                                &lt;configOptions&gt;\r\n                                    &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\r\n                                &lt;/configOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\nwith this file player.yml:\r\n\r\n    openapi: 3.0.1\r\n    info:\r\n      title: Swagger Petstore\r\n      description: &#39;This is a sample server Petstore server.  You can find out more about     Swagger\r\n        at [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/).      For\r\n        this sample, you can use the api key `special-key` to test the authorization     filters.&#39;\r\n      termsOfService: http://swagger.io/terms/\r\n      contact:\r\n        email: apiteam@swagger.io\r\n      license:\r\n        name: Apache 2.0\r\n        url: http://www.apache.org/licenses/LICENSE-2.0.html\r\n      version: 1.0.0\r\n    externalDocs:\r\n      description: Find out more about Swagger\r\n      url: http://swagger.io\r\n    servers:\r\n      - url: https://petstore.swagger.io/v2\r\n      - url: http://petstore.swagger.io/v2\r\n    tags:\r\n      - name: pet\r\n        description: Everything about your Pets\r\n        externalDocs:\r\n          description: Find out more\r\n          url: http://swagger.io\r\n      - name: store\r\n        description: Access to Petstore orders\r\n      - name: user\r\n        description: Operations about user\r\n        externalDocs:\r\n          description: Find out more about our store\r\n          url: http://swagger.io\r\n    paths:\r\n      /cssl/player/{uuid}:\r\n        get:\r\n          tags:\r\n            - store\r\n          summary: Find purchase order by ID\r\n          description: For valid response try integer IDs with value &gt;= 1 and &lt;= 10.         Other\r\n            values will generated exceptions\r\n          operationId: getOrderById\r\n          parameters:\r\n            - name: uuid\r\n              in: path\r\n              description: ID of pet that needs to be fetched\r\n              required: true\r\n              schema:\r\n                maximum: 10.0\r\n                minimum: 1.0\r\n                type: integer\r\n                format: int64\r\n          responses:\r\n            200:\r\n              description: successful operation\r\n              content:\r\n                application/xml:\r\n                  schema:\r\n                    $ref: &#39;#/components/schemas/Player&#39;\r\n                application/json:\r\n                  schema:\r\n                    $ref: &#39;#/components/schemas/Player&#39;\r\n            400:\r\n              description: Invalid ID supplied\r\n              content: {}\r\n            404:\r\n              description: Order not found\r\n              content: {}\r\n        delete:\r\n          tags:\r\n            - store\r\n          summary: Delete purchase order by ID\r\n          description: For valid response try integer IDs with positive integer value.         Negative\r\n            or non-integer values will generate API errors\r\n          operationId: deleteOrder\r\n          parameters:\r\n            - name: uuid\r\n              in: path\r\n              description: ID of the order that needs to be deleted\r\n              required: true\r\n              schema:\r\n                minimum: 1.0\r\n                type: integer\r\n                format: int64\r\n          responses:\r\n            400:\r\n              description: Invalid ID supplied\r\n              content: {}\r\n            404:\r\n              description: Order not found\r\n              content: {}\r\n    components:\r\n      schemas:\r\n        Player:\r\n          type: object\r\n          properties:\r\n            uuid:\r\n              type: integer\r\n              format: int64\r\n            slName:\r\n              type: integer\r\n              format: int64\r\n            slLastname:\r\n              type: integer\r\n              format: int32\r\n\r\njust when i try to compile it doesn&#39;t find the dependencies givings errors like: \r\n\r\n       [DEBUG] incrementalBuildHelper#beforeRebuildExecution\r\n    [INFO] Compiling 33 source files to /home/francescolombardi/IdeaProjects/core-comunicator/target/classes\r\n    [DEBUG] incrementalBuildHelper#afterRebuildExecution\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[17,29] package okhttp3.internal.http does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[18,28] package okhttp3.internal.tls does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[19,23] package okhttp3.logging does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[20,46] package okhttp3.logging.HttpLoggingInterceptor does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[21,12] package okio does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[22,12] package okio does not exist\r\n    [ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[74,13] cannot find symbol\r\n      symbol:   class OkHttpClient\r\n      location: class org.openapitools.client.ApiClient\r\n\r\n\r\nmy pom is: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.cssl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;core-comunicator&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;core-comunicator&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;14&lt;/java.version&gt;\r\n            &lt;openapi-generator-version&gt;4.3.1&lt;/openapi-generator-version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.18.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.2.14&lt;/version&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.12&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.openapitools/openapi-generator --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;build&gt;\r\n    \r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;!-- RELEASE_VERSION --&gt;\r\n                    &lt;version&gt;4.3.1&lt;/version&gt;\r\n                    &lt;!-- /RELEASE_VERSION --&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;inputSpec&gt;${project.basedir}/src/main/resources/player.yml&lt;/inputSpec&gt;\r\n                                &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n                                &lt;configOptions&gt;\r\n                                    &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\r\n                                &lt;/configOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Open Api Generator plugin does not work with Maven","body":"<p>I am trying to generate Apis with openapi generator just when i run mvn compile seems like doesn't find any depenncy like jacks httprequest and so, i add the details down\ni added the plugin:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;4.3.1&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/player.yml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\n                            &lt;configOptions&gt;\n                                &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>with this file player.yml:</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: Swagger Petstore\n  description: 'This is a sample server Petstore server.  You can find out more about     Swagger\n    at [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/).      For\n    this sample, you can use the api key `special-key` to test the authorization     filters.'\n  termsOfService: http://swagger.io/terms/\n  contact:\n    email: apiteam@swagger.io\n  license:\n    name: Apache 2.0\n    url: http://www.apache.org/licenses/LICENSE-2.0.html\n  version: 1.0.0\nexternalDocs:\n  description: Find out more about Swagger\n  url: http://swagger.io\nservers:\n  - url: https://petstore.swagger.io/v2\n  - url: http://petstore.swagger.io/v2\ntags:\n  - name: pet\n    description: Everything about your Pets\n    externalDocs:\n      description: Find out more\n      url: http://swagger.io\n  - name: store\n    description: Access to Petstore orders\n  - name: user\n    description: Operations about user\n    externalDocs:\n      description: Find out more about our store\n      url: http://swagger.io\npaths:\n  /cssl/player/{uuid}:\n    get:\n      tags:\n        - store\n      summary: Find purchase order by ID\n      description: For valid response try integer IDs with value &gt;= 1 and &lt;= 10.         Other\n        values will generated exceptions\n      operationId: getOrderById\n      parameters:\n        - name: uuid\n          in: path\n          description: ID of pet that needs to be fetched\n          required: true\n          schema:\n            maximum: 10.0\n            minimum: 1.0\n            type: integer\n            format: int64\n      responses:\n        200:\n          description: successful operation\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/Player'\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Player'\n        400:\n          description: Invalid ID supplied\n          content: {}\n        404:\n          description: Order not found\n          content: {}\n    delete:\n      tags:\n        - store\n      summary: Delete purchase order by ID\n      description: For valid response try integer IDs with positive integer value.         Negative\n        or non-integer values will generate API errors\n      operationId: deleteOrder\n      parameters:\n        - name: uuid\n          in: path\n          description: ID of the order that needs to be deleted\n          required: true\n          schema:\n            minimum: 1.0\n            type: integer\n            format: int64\n      responses:\n        400:\n          description: Invalid ID supplied\n          content: {}\n        404:\n          description: Order not found\n          content: {}\ncomponents:\n  schemas:\n    Player:\n      type: object\n      properties:\n        uuid:\n          type: integer\n          format: int64\n        slName:\n          type: integer\n          format: int64\n        slLastname:\n          type: integer\n          format: int32\n</code></pre>\n<p>just when i try to compile it doesn't find the dependencies givings errors like:</p>\n<pre><code>   [DEBUG] incrementalBuildHelper#beforeRebuildExecution\n[INFO] Compiling 33 source files to /home/francescolombardi/IdeaProjects/core-comunicator/target/classes\n[DEBUG] incrementalBuildHelper#afterRebuildExecution\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[17,29] package okhttp3.internal.http does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[18,28] package okhttp3.internal.tls does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[19,23] package okhttp3.logging does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[20,46] package okhttp3.logging.HttpLoggingInterceptor does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[21,12] package okio does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[22,12] package okio does not exist\n[ERROR] /home/francescolombardi/IdeaProjects/core-comunicator/target/generated-sources/openapi/src/gen/java/main/org/openapitools/client/ApiClient.java:[74,13] cannot find symbol\n  symbol:   class OkHttpClient\n  location: class org.openapitools.client.ApiClient\n</code></pre>\n<p>my pom is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.cssl&lt;/groupId&gt;\n    &lt;artifactId&gt;core-comunicator&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;core-comunicator&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;14&lt;/java.version&gt;\n        &lt;openapi-generator-version&gt;4.3.1&lt;/openapi-generator-version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.18.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.14&lt;/version&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.12&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.openapitools/openapi-generator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;build&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;4.3.1&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/player.yml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\n                            &lt;configOptions&gt;\n                                &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","web-services","rest"],"comments":[{"owner":{"account_id":1399324,"reputation":430,"user_id":1328393,"accept_rate":50,"display_name":"VaroX"},"score":0,"creation_date":1387534474,"post_id":14741133,"comment_id":31005154,"body_markdown":"I know it&#180;s late... but have you tried to remove the  **uc.setRequestProperty( &quot;Accept&quot;, &quot;text/xml&quot; );** line??","body":"I know it&#180;s late... but have you tried to remove the  <b>uc.setRequestProperty( &quot;Accept&quot;, &quot;text/xml&quot; );</b> line??"}],"answers":[{"comments":[{"owner":{"account_id":2316883,"reputation":41,"user_id":2033733,"display_name":"dhananjay"},"score":0,"creation_date":1360792617,"post_id":14741282,"comment_id":20836791,"body_markdown":"Yes I know that I can use these clients.  However, I should be able to execute some variation of this code.  The problem is that it is failing at any line with, for example, connect(), getResponseCode, getContent, etc.  Basically it&#39;s not connecting and timing out.  But it works using Chrome or Firefox client.  If it works, I can run a script to do multiple POSTs required to create an account with valid properties, meters, etc. to generate metrics (which is what I&#39;m testing).  Why is it not connecting?","body":"Yes I know that I can use these clients.  However, I should be able to execute some variation of this code.  The problem is that it is failing at any line with, for example, connect(), getResponseCode, getContent, etc.  Basically it&#39;s not connecting and timing out.  But it works using Chrome or Firefox client.  If it works, I can run a script to do multiple POSTs required to create an account with valid properties, meters, etc. to generate metrics (which is what I&#39;m testing).  Why is it not connecting?"}],"tags":[],"owner":{"account_id":1238054,"reputation":4963,"user_id":1201235,"accept_rate":42,"display_name":"EdH"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360195384,"creation_date":1360195384,"answer_id":14741282,"question_id":14741133,"body_markdown":"You don&#39;t need to roll your own.\r\n\r\n - If you want to write something, you can use Jersey, which has existing classes to act as Rest Clients (https://stackoverflow.com/questions/221442/rest-clients-for-java)\r\n - There are plenty of apps which exercise rest apis which you can use if you don&#39;t want to write something.  Google turns up plenty (like http://code.google.com/p/rest-client/)","title":"how to connect to REST web service from Java application","body":"<p>You don't need to roll your own.</p>\n\n<ul>\n<li>If you want to write something, you can use Jersey, which has existing classes to act as Rest Clients (<a href=\"https://stackoverflow.com/questions/221442/rest-clients-for-java\">Rest clients for Java?</a>)</li>\n<li>There are plenty of apps which exercise rest apis which you can use if you don't want to write something.  Google turns up plenty (like <a href=\"http://code.google.com/p/rest-client/\" rel=\"nofollow noreferrer\">http://code.google.com/p/rest-client/</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458868543,"creation_date":1458868543,"answer_id":36212618,"question_id":14741133,"body_markdown":"You&#39;re using a DER file as your key store which is not supported by [Java \r\nCrypto][1] normally.  Use the keytool to create a JKS or some other supported keystore and then refer to it.\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#KeyStore","title":"how to connect to REST web service from Java application","body":"<p>You're using a DER file as your key store which is not supported by <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#KeyStore\" rel=\"nofollow\">Java \nCrypto</a> normally.  Use the keytool to create a JKS or some other supported keystore and then refer to it.</p>\n"},{"comments":[{"owner":{"account_id":15529386,"reputation":56,"user_id":11203345,"display_name":"Carsten Spr&#228;ner"},"score":0,"creation_date":1567697212,"post_id":57784137,"comment_id":102048957,"body_markdown":"Click on the link and scroll to basic... but of course i should copy it here. Sorry for that","body":"Click on the link and scroll to basic... but of course i should copy it here. Sorry for that"}],"tags":[],"owner":{"account_id":15529386,"reputation":56,"user_id":11203345,"display_name":"Carsten Spr&#228;ner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567584718,"creation_date":1567584718,"answer_id":57784137,"question_id":14741133,"body_markdown":"AMong all the frameworks for REST-Clients... did you try OpenFeign? It&#39;s a components from the NetFlix stack. Easy to use and fits into all the other \r\ncomponents of NetFlix.\r\n\r\nGive it a try: https://github.com/OpenFeign/feign\r\n","title":"how to connect to REST web service from Java application","body":"<p>AMong all the frameworks for REST-Clients... did you try OpenFeign? It's a components from the NetFlix stack. Easy to use and fits into all the other \ncomponents of NetFlix.</p>\n\n<p>Give it a try: <a href=\"https://github.com/OpenFeign/feign\" rel=\"nofollow noreferrer\">https://github.com/OpenFeign/feign</a></p>\n"}],"owner":{"account_id":2316883,"reputation":41,"user_id":2033733,"display_name":"dhananjay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695589305,"creation_date":1360194666,"question_id":14741133,"body_markdown":"I have to test the EPA&#39;s Data Exchange Web Services. Since it is difficult to create 100 accounts, buildings, energy usage distributions, etc. I want to automate the process. I searched for code examples to do a simple GET. The best one I found was at http://pic.dhe.ibm.com/infocenter/tivihelp/v10r1/index.jsp?topic=%2Fcom.ibm.taddm.doc_7.2%2FSDKDevGuide%2Ft_cmdbsdk_restapi_java.html.  I modified this for my purposes.\r\n\r\n\r\n1. With the certificate, it is throwing an error at that line\r\n2. Without the certificate (commented out), the connection is timing out and throwing the exception at getResponseCode().\r\n\r\nI&#39;m not sure:\r\n\r\n1. What is the correct way of submitting a certificate\r\n2. If I am sending the credentials correctly\r\n3. If my code is incomplete, and therefore, the application is unable to get the response code\r\n4. I should be using Eclipse EE (with Web Tools Platform) and create Project &gt; Web Application, instead of Eclipse Juno (without WTP)\r\n\r\nThank you in advance.\r\n\r\n\r\n\r\n        package Package1;\r\n    \r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.lang.StringBuffer;\r\n    import java.net.*;\r\n    import java.net.HttpURLConnection;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    \r\n    public class Class1 {\r\n    \r\n    \t\t\r\n    \tpublic static void main (String args[]){\r\n    \r\n    \t\ttry{\t\t\t\r\n    \t\t\r\n    \t\t// set this property to the location of the cert file\r\n             System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;C:/Documents and Settings/bhattdr/Desktop/-.energystar.gov.der&quot;);\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\tString username = &quot;yy777PPP&quot;;\r\n    \t\tString password = &quot;yy777PPP&quot;;\r\n    \t\tString userpass = &quot;&quot;;\r\n    \t\t\t\t\r\n    \t\tURL url = new URL(&quot;https://portfoliomanager.energystar.gov/wstest/account&quot;);\r\n    //\t\tURLConnection uc = url.openConnection();\r\n            HttpsURLConnection uc = (HttpsURLConnection) url.openConnection();\r\n    \t\t\r\n    \t\tuserpass = username + &quot;:&quot; + password;\r\n    \t\tString basicAuth = &quot;Basic &quot; + javax.xml.bind.DatatypeConverter.printBase64Binary(userpass.getBytes());\r\n    \t\r\n    \t\tSystem.out.println(&quot;sending request...&quot;);\r\n    \t\t\r\n    \t\tuc.setRequestMethod(&quot;GET&quot;);\r\n            uc.setAllowUserInteraction(false);\r\n            uc.setDoOutput(true);\r\n            uc.setRequestProperty( &quot;Content-type&quot;, &quot;text/xml&quot; );\r\n            uc.setRequestProperty( &quot;Accept&quot;, &quot;text/xml&quot; );\r\n    \r\n    \t\tuc.setRequestProperty (&quot;Authorization&quot;, basicAuth);\r\n    \r\n    \t\tSystem.out.println(uc.getRequestProperties());\r\n    \r\n    \t\t              \r\n    //        uc.setRequestProperty( &quot;authorization&quot;, &quot;Basic &quot; + encode(&quot;administrator:collation&quot;));\r\n    \t\r\n    //        Map headerFields = uc.getHeaderFields();\r\n    //        System.out.println(&quot;header fields are: &quot; + headerFields);\r\n    \r\n    \t\t\r\n            int rspCode = uc.getResponseCode();\r\n    \r\n            if (rspCode == 200) {\r\n                InputStream is = uc.getInputStream();\r\n                InputStreamReader isr = new InputStreamReader(is);\r\n                BufferedReader br = new BufferedReader(isr);\r\n            \r\n                String nextLine = br.readLine();\r\n                while (nextLine != null) {\r\n                    System.out.println(nextLine);\r\n                    nextLine = br.readLine();\r\n                }\r\n    \r\n            }\r\n    \t\t}\r\n            \r\n    \t\tcatch(IOException e) { \r\n            \te.printStackTrace();\r\n            }\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n","title":"how to connect to REST web service from Java application","body":"<p>I have to test the EPA's Data Exchange Web Services. Since it is difficult to create 100 accounts, buildings, energy usage distributions, etc. I want to automate the process. I searched for code examples to do a simple GET. The best one I found was at <a href=\"http://pic.dhe.ibm.com/infocenter/tivihelp/v10r1/index.jsp?topic=%2Fcom.ibm.taddm.doc_7.2%2FSDKDevGuide%2Ft_cmdbsdk_restapi_java.html\" rel=\"nofollow\">http://pic.dhe.ibm.com/infocenter/tivihelp/v10r1/index.jsp?topic=%2Fcom.ibm.taddm.doc_7.2%2FSDKDevGuide%2Ft_cmdbsdk_restapi_java.html</a>.  I modified this for my purposes.</p>\n\n<ol>\n<li>With the certificate, it is throwing an error at that line</li>\n<li>Without the certificate (commented out), the connection is timing out and throwing the exception at getResponseCode().</li>\n</ol>\n\n<p>I'm not sure:</p>\n\n<ol>\n<li>What is the correct way of submitting a certificate</li>\n<li>If I am sending the credentials correctly</li>\n<li>If my code is incomplete, and therefore, the application is unable to get the response code</li>\n<li>I should be using Eclipse EE (with Web Tools Platform) and create Project > Web Application, instead of Eclipse Juno (without WTP)</li>\n</ol>\n\n<p>Thank you in advance.</p>\n\n<pre><code>    package Package1;\n\nimport java.io.*;\nimport java.util.*;\nimport java.lang.StringBuffer;\nimport java.net.*;\nimport java.net.HttpURLConnection;\nimport javax.net.ssl.HttpsURLConnection;\n\npublic class Class1 {\n\n\n    public static void main (String args[]){\n\n        try{            \n\n        // set this property to the location of the cert file\n         System.setProperty(\"javax.net.ssl.trustStore\",\"C:/Documents and Settings/bhattdr/Desktop/-.energystar.gov.der\");   \n\n\n        String username = \"yy777PPP\";\n        String password = \"yy777PPP\";\n        String userpass = \"\";\n\n        URL url = new URL(\"https://portfoliomanager.energystar.gov/wstest/account\");\n//      URLConnection uc = url.openConnection();\n        HttpsURLConnection uc = (HttpsURLConnection) url.openConnection();\n\n        userpass = username + \":\" + password;\n        String basicAuth = \"Basic \" + javax.xml.bind.DatatypeConverter.printBase64Binary(userpass.getBytes());\n\n        System.out.println(\"sending request...\");\n\n        uc.setRequestMethod(\"GET\");\n        uc.setAllowUserInteraction(false);\n        uc.setDoOutput(true);\n        uc.setRequestProperty( \"Content-type\", \"text/xml\" );\n        uc.setRequestProperty( \"Accept\", \"text/xml\" );\n\n        uc.setRequestProperty (\"Authorization\", basicAuth);\n\n        System.out.println(uc.getRequestProperties());\n\n\n//        uc.setRequestProperty( \"authorization\", \"Basic \" + encode(\"administrator:collation\"));\n\n//        Map headerFields = uc.getHeaderFields();\n//        System.out.println(\"header fields are: \" + headerFields);\n\n\n        int rspCode = uc.getResponseCode();\n\n        if (rspCode == 200) {\n            InputStream is = uc.getInputStream();\n            InputStreamReader isr = new InputStreamReader(is);\n            BufferedReader br = new BufferedReader(isr);\n\n            String nextLine = br.readLine();\n            while (nextLine != null) {\n                System.out.println(nextLine);\n                nextLine = br.readLine();\n            }\n\n        }\n        }\n\n        catch(IOException e) { \n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1695605476,"post_id":77168919,"comment_id":136042252,"body_markdown":"The documentation for the whole interface explains this pretty clearly: &quot;This information may be used in an incremental environment to determine the need to rerun processors or remove generated files. Non-incremental environments may ignore the originating element information.&quot;","body":"The documentation for the whole interface explains this pretty clearly: &quot;This information may be used in an incremental environment to determine the need to rerun processors or remove generated files. Non-incremental environments may ignore the originating element information.&quot;"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695609656,"post_id":77168919,"comment_id":136042590,"body_markdown":"Diving into the source, it looks like that is originatingElements is passed, then it will try to make the created resource a sibling of the first element in the array. Specifically when trying to call [JavaFileManager.getFileForOutput](https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/tools/JavaFileManager.html#getFileForOutput(javax.tools.JavaFileManager.Location,java.lang.String,java.lang.String,javax.tools.FileObject)) it will try to convert that first element to use as the sibling argument.","body":"Diving into the source, it looks like that is originatingElements is passed, then it will try to make the created resource a sibling of the first element in the array. Specifically when trying to call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/tools/JavaFileManager.html#getFileForOutput(javax.tools.JavaFileManager.Location,java.lang.String,java.lang.String,javax.tools.FileObject)\" rel=\"nofollow noreferrer\">JavaFileManager.getFileForOutput</a> it will try to convert that first element to use as the sibling argument."}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695589149,"creation_date":1695589149,"question_id":77168919,"body_markdown":"Several Java annotation processing methods for creating files, such as [`createResouce(…)`][1], refer to &quot;originating elements&quot;:\r\n\r\n&gt; `originatingElements` - class or interface or package or module elements causally associated with the creation of this file, may be elided or `null`\r\n\r\nCan someone provide more clarity on what this means and in what circumstances I would want to provide an &quot;originating element&quot; when creating a file?\r\n\r\nIs this an existing element (such as the element that originally had the annotation being processed) for which I am creating the new file? But then how would the `originatingElements` be used? What difference would it make if I indicate them or not?\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/Filer.html#createResource(javax.tools.JavaFileManager.Location,java.lang.CharSequence,java.lang.CharSequence,javax.lang.model.element.Element...)","title":"Purpose of &quot;originating elements&quot; in Java annotation processing","body":"<p>Several Java annotation processing methods for creating files, such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/Filer.html#createResource(javax.tools.JavaFileManager.Location,java.lang.CharSequence,java.lang.CharSequence,javax.lang.model.element.Element...)\" rel=\"nofollow noreferrer\"><code>createResouce(…)</code></a>, refer to &quot;originating elements&quot;:</p>\n<blockquote>\n<p><code>originatingElements</code> - class or interface or package or module elements causally associated with the creation of this file, may be elided or <code>null</code></p>\n</blockquote>\n<p>Can someone provide more clarity on what this means and in what circumstances I would want to provide an &quot;originating element&quot; when creating a file?</p>\n<p>Is this an existing element (such as the element that originally had the annotation being processed) for which I am creating the new file? But then how would the <code>originatingElements</code> be used? What difference would it make if I indicate them or not?</p>\n"},{"tags":["java","xml","dom","xstream"],"owner":{"account_id":7895702,"reputation":1,"user_id":5964433,"display_name":"shwetabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695588848,"creation_date":1695588780,"question_id":77168906,"body_markdown":"I have used xstream api to unmarshall the xml message and code is always failing \r\n# \r\n# **Code block:**\r\n\r\n```\r\n        XStream xStream=new XStream();\r\n        xStream.processAnnotations(ProjectDescription.class);\r\n        xStream.processAnnotations(Projects.class);\r\n        xStream.ignoreUnknownElements();\r\n        System.out.println(&quot;Unmarshalling begins...&quot;);\r\n        ProjectDescription appDesp = (ProjectDescription)         xStream.fromXML(&quot;checkxml.xml&quot;);\r\n```\r\n\r\n# **Entity class**\r\n**\r\nProjectDescription.class:**\r\n```\r\n\r\n@XStreamAlias(&quot;projectDescription&quot;)\r\npublic class ProjectDescription {\r\n    @XStreamAlias(&quot;name&quot;)\r\n    private String name;\r\n\r\n    @XStreamAlias(&quot;comment&quot;)\r\n    private String comment;\r\n\r\n    @XStreamImplicit\r\n    private List&lt;Projects&gt; projects = new ArrayList&lt;Projects&gt; ();\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n**Project.class:**\r\n\r\n```\r\n@XStreamAlias(&quot;projects&quot;)\r\npublic class Projects {\r\n     @XStreamImplicit\r\n     private List&lt;String&gt; project= new ArrayList&lt;String&gt;();\r\n\r\n\r\n}\r\n```\r\n**Sample XML:**\r\n\r\n```\r\n&lt;projectDescription&gt;\r\n\t&lt;name&gt;SimpleApp&lt;/name&gt;\r\n\t&lt;comment&gt;&lt;/comment&gt;\r\n\t&lt;projects&gt;\r\n\t\t&lt;project&gt;Sampleshare&lt;/project&gt;\r\n\t\t&lt;project&gt;Sampleshare2&lt;/project&gt;\r\n\t\t&lt;project&gt;Samplestatic&lt;/project&gt;\r\n\t&lt;/projects&gt;\r\n&lt;/projectDescription&gt;\r\n```\r\n\r\nIt is erroring out with message:\r\n&gt; Caused by: org.xmlpull.v1.XmlPullParserException: only whitespace content allowed before start tag and not C (position: START_DOCUMENT seen C... @1:2) \r\n\r\nCan somebody guide me whereI am going wrong?\r\n\r\n\r\nI have tried both DOM parser and XStream api but same sample message stated above is working for DOM and not XStream.","title":"xstream api in java throwing error in xml parsing","body":"<p>I have used xstream api to unmarshall the xml message and code is always failing</p>\n<h1></h1>\n<h1><strong>Code block:</strong></h1>\n<pre><code>        XStream xStream=new XStream();\n        xStream.processAnnotations(ProjectDescription.class);\n        xStream.processAnnotations(Projects.class);\n        xStream.ignoreUnknownElements();\n        System.out.println(&quot;Unmarshalling begins...&quot;);\n        ProjectDescription appDesp = (ProjectDescription)         xStream.fromXML(&quot;checkxml.xml&quot;);\n</code></pre>\n<h1><strong>Entity class</strong></h1>\n<p>**\nProjectDescription.class:**</p>\n<pre><code>\n@XStreamAlias(&quot;projectDescription&quot;)\npublic class ProjectDescription {\n    @XStreamAlias(&quot;name&quot;)\n    private String name;\n\n    @XStreamAlias(&quot;comment&quot;)\n    private String comment;\n\n    @XStreamImplicit\n    private List&lt;Projects&gt; projects = new ArrayList&lt;Projects&gt; ();\n\n\n\n\n}\n\n</code></pre>\n<p><strong>Project.class:</strong></p>\n<pre><code>@XStreamAlias(&quot;projects&quot;)\npublic class Projects {\n     @XStreamImplicit\n     private List&lt;String&gt; project= new ArrayList&lt;String&gt;();\n\n\n}\n</code></pre>\n<p><strong>Sample XML:</strong></p>\n<pre><code>&lt;projectDescription&gt;\n    &lt;name&gt;SimpleApp&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n        &lt;project&gt;Sampleshare&lt;/project&gt;\n        &lt;project&gt;Sampleshare2&lt;/project&gt;\n        &lt;project&gt;Samplestatic&lt;/project&gt;\n    &lt;/projects&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n<p>It is erroring out with message:</p>\n<blockquote>\n<p>Caused by: org.xmlpull.v1.XmlPullParserException: only whitespace content allowed before start tag and not C (position: START_DOCUMENT seen C... @1:2)</p>\n</blockquote>\n<p>Can somebody guide me whereI am going wrong?</p>\n<p>I have tried both DOM parser and XStream api but same sample message stated above is working for DOM and not XStream.</p>\n"},{"tags":["java","android-studio","bluetooth","thermal-printer"],"answers":[{"tags":[],"owner":{"account_id":19975371,"reputation":23,"user_id":14639838,"display_name":"Eder Alexis Pirsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695588806,"creation_date":1695588806,"answer_id":77168909,"question_id":77168173,"body_markdown":"I resolved this issue making a split in the bitmap image and then adding the individual print commands per each one split\r\n\r\nhere is the split image:\r\n\r\n        public static ArrayList&lt;Bitmap&gt; splitBitmap(Bitmap image){\r\n        try{\r\n            ArrayList&lt;Bitmap&gt; listImages = new ArrayList&lt;Bitmap&gt;();\r\n\r\n            double splits = (double) image.getHeight() / (double) 255;\r\n            int splitInt = (int) Math.ceil((double) image.getHeight() / (double) 255);\r\n\r\n            for(int i = 0; i &lt; splitInt; i++){\r\n                if(i == (splitInt - 1)){\r\n                    Bitmap bm1 = Bitmap.createBitmap(image, 0, (255 * i), image.getWidth(), (image.getHeight() - (255 * i)));\r\n                    listImages.add(bm1);\r\n                }\r\n                else{\r\n                    Bitmap bm1 = Bitmap.createBitmap(image, 0, (255 * i), image.getWidth(), 255);\r\n                    listImages.add(bm1);\r\n                }\r\n            }\r\n            return listImages;\r\n        }\r\n        catch (Exception ex){\r\n            System.out.println(&quot;split: &quot;+ex.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n\r\nand here is the method that create every print command in a list:\r\n\r\n    public static byte[] decodeBitmapBig(ArrayList&lt;Bitmap&gt; bmp){\r\n        List&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\r\n        for (int z = 0 ; z &lt; bmp.size() ; z++){\r\n\r\n            int bmpWidth = bmp.get(z).getWidth();\r\n            int bmpHeight = bmp.get(z).getHeight();\r\n\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;(); //binaryString list\r\n            StringBuffer sb;\r\n\r\n\r\n            int bitLen = bmpWidth / 8;\r\n            int zeroCount = bmpWidth % 8;\r\n\r\n            String zeroStr = &quot;&quot;;\r\n            if (zeroCount &gt; 0) {\r\n                bitLen = bmpWidth / 8 + 1;\r\n                for (int i = 0; i &lt; (8 - zeroCount); i++) {\r\n                    zeroStr = zeroStr + &quot;0&quot;;\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; bmpHeight; i++) {\r\n                sb = new StringBuffer();\r\n                for (int j = 0; j &lt; bmpWidth; j++) {\r\n                    int color = bmp.get(z).getPixel(j, i);\r\n\r\n                    int r = (color &gt;&gt; 16) &amp; 0xff;\r\n                    int g = (color &gt;&gt; 8) &amp; 0xff;\r\n                    int b = color &amp; 0xff;\r\n\r\n                    // if color close to white，bit=&#39;0&#39;, else bit=&#39;1&#39;\r\n                    if (r &gt; 160 &amp;&amp; g &gt; 160 &amp;&amp; b &gt; 160)\r\n                        sb.append(&quot;0&quot;);\r\n                    else\r\n                        sb.append(&quot;1&quot;);\r\n                }\r\n                if (zeroCount &gt; 0) {\r\n                    sb.append(zeroStr);\r\n                }\r\n                list.add(sb.toString());\r\n            }\r\n\r\n            List&lt;String&gt; bmpHexList = binaryListToHexStringList(list);\r\n            String commandHexString = &quot;1D763000&quot;;\r\n            String widthHexString = Integer\r\n                    .toHexString(bmpWidth % 8 == 0 ? bmpWidth / 8\r\n                            : (bmpWidth / 8 + 1));\r\n\r\n            if (widthHexString.length() &gt; 2) {\r\n                Log.e(&quot;decodeBitmap error&quot;, &quot; width is too large&quot;);\r\n                return null;\r\n            } else if (widthHexString.length() == 1) {\r\n                widthHexString = &quot;0&quot; + widthHexString;\r\n            }\r\n            widthHexString = widthHexString + &quot;00&quot;;\r\n\r\n            String heightHexString = Integer.toHexString(bmpHeight);\r\n            if (heightHexString.length() &gt; 2) {\r\n                System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\r\n                Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\r\n                return null;\r\n            } else if (heightHexString.length() == 1) {\r\n                heightHexString = &quot;0&quot; + heightHexString;\r\n            }\r\n            heightHexString = heightHexString + &quot;00&quot;;\r\n\r\n\r\n            System.out.println(&quot;commandHexString+widthHexString+heightHexString&quot;+ commandHexString+widthHexString+heightHexString);\r\n            commandList.add(commandHexString+widthHexString+heightHexString);\r\n            commandList.addAll(bmpHexList);\r\n        }\r\n        return hexList2Byte(commandList);\r\n    }","title":"Print Bitmap with height greater than 255 in thermal printer","body":"<p>I resolved this issue making a split in the bitmap image and then adding the individual print commands per each one split</p>\n<p>here is the split image:</p>\n<pre><code>    public static ArrayList&lt;Bitmap&gt; splitBitmap(Bitmap image){\n    try{\n        ArrayList&lt;Bitmap&gt; listImages = new ArrayList&lt;Bitmap&gt;();\n\n        double splits = (double) image.getHeight() / (double) 255;\n        int splitInt = (int) Math.ceil((double) image.getHeight() / (double) 255);\n\n        for(int i = 0; i &lt; splitInt; i++){\n            if(i == (splitInt - 1)){\n                Bitmap bm1 = Bitmap.createBitmap(image, 0, (255 * i), image.getWidth(), (image.getHeight() - (255 * i)));\n                listImages.add(bm1);\n            }\n            else{\n                Bitmap bm1 = Bitmap.createBitmap(image, 0, (255 * i), image.getWidth(), 255);\n                listImages.add(bm1);\n            }\n        }\n        return listImages;\n    }\n    catch (Exception ex){\n        System.out.println(&quot;split: &quot;+ex.getMessage());\n    }\n    return null;\n}\n</code></pre>\n<p>and here is the method that create every print command in a list:</p>\n<pre><code>public static byte[] decodeBitmapBig(ArrayList&lt;Bitmap&gt; bmp){\n    List&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\n    for (int z = 0 ; z &lt; bmp.size() ; z++){\n\n        int bmpWidth = bmp.get(z).getWidth();\n        int bmpHeight = bmp.get(z).getHeight();\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(); //binaryString list\n        StringBuffer sb;\n\n\n        int bitLen = bmpWidth / 8;\n        int zeroCount = bmpWidth % 8;\n\n        String zeroStr = &quot;&quot;;\n        if (zeroCount &gt; 0) {\n            bitLen = bmpWidth / 8 + 1;\n            for (int i = 0; i &lt; (8 - zeroCount); i++) {\n                zeroStr = zeroStr + &quot;0&quot;;\n            }\n        }\n\n        for (int i = 0; i &lt; bmpHeight; i++) {\n            sb = new StringBuffer();\n            for (int j = 0; j &lt; bmpWidth; j++) {\n                int color = bmp.get(z).getPixel(j, i);\n\n                int r = (color &gt;&gt; 16) &amp; 0xff;\n                int g = (color &gt;&gt; 8) &amp; 0xff;\n                int b = color &amp; 0xff;\n\n                // if color close to white，bit='0', else bit='1'\n                if (r &gt; 160 &amp;&amp; g &gt; 160 &amp;&amp; b &gt; 160)\n                    sb.append(&quot;0&quot;);\n                else\n                    sb.append(&quot;1&quot;);\n            }\n            if (zeroCount &gt; 0) {\n                sb.append(zeroStr);\n            }\n            list.add(sb.toString());\n        }\n\n        List&lt;String&gt; bmpHexList = binaryListToHexStringList(list);\n        String commandHexString = &quot;1D763000&quot;;\n        String widthHexString = Integer\n                .toHexString(bmpWidth % 8 == 0 ? bmpWidth / 8\n                        : (bmpWidth / 8 + 1));\n\n        if (widthHexString.length() &gt; 2) {\n            Log.e(&quot;decodeBitmap error&quot;, &quot; width is too large&quot;);\n            return null;\n        } else if (widthHexString.length() == 1) {\n            widthHexString = &quot;0&quot; + widthHexString;\n        }\n        widthHexString = widthHexString + &quot;00&quot;;\n\n        String heightHexString = Integer.toHexString(bmpHeight);\n        if (heightHexString.length() &gt; 2) {\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\n            return null;\n        } else if (heightHexString.length() == 1) {\n            heightHexString = &quot;0&quot; + heightHexString;\n        }\n        heightHexString = heightHexString + &quot;00&quot;;\n\n\n        System.out.println(&quot;commandHexString+widthHexString+heightHexString&quot;+ commandHexString+widthHexString+heightHexString);\n        commandList.add(commandHexString+widthHexString+heightHexString);\n        commandList.addAll(bmpHexList);\n    }\n    return hexList2Byte(commandList);\n}\n</code></pre>\n"}],"owner":{"account_id":19975371,"reputation":23,"user_id":14639838,"display_name":"Eder Alexis Pirsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695588806,"creation_date":1695576106,"question_id":77168173,"body_markdown":"i am trying to print a bitmap with **height supperior to 255 px** and the funcion that transform bitmap to bit array is not prepared to that heigths. when i tried to change the if for more heigth the printer sendme a empty label.\r\n\r\nhere is the &quot;if&quot; of heigh&#39;s: \r\n```\r\nString heightHexString = Integer.toHexString(bmpHeight);\r\n        if (heightHexString.length() &gt; 2) {\r\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\r\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\r\n            return null;\r\n        } else if (heightHexString.length() == 1) {\r\n            heightHexString = &quot;0&quot; + heightHexString;\r\n        }\r\n        heightHexString = heightHexString + &quot;00&quot;;\r\n\r\n```\r\n\r\nthere is my full class:\r\n\r\n\r\n```\r\npackage pirsch.dev.masaprisaapp.Utilities;\r\n\r\nimport android.graphics.Bitmap;\r\nimport android.util.Log;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * Created by imrankst1221@gmail.com\r\n *\r\n */\r\n\r\npublic class Utils {\r\n    // UNICODE 0x23 = #\r\n    public static final byte[] UNICODE_TEXT = new byte[] {0x23, 0x23, 0x23,\r\n            0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,\r\n            0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,\r\n            0x23, 0x23, 0x23};\r\n\r\n    private static String hexStr = &quot;0123456789ABCDEF&quot;;\r\n    private static String[] binaryArray = { &quot;0000&quot;, &quot;0001&quot;, &quot;0010&quot;, &quot;0011&quot;,\r\n            &quot;0100&quot;, &quot;0101&quot;, &quot;0110&quot;, &quot;0111&quot;, &quot;1000&quot;, &quot;1001&quot;, &quot;1010&quot;, &quot;1011&quot;,\r\n            &quot;1100&quot;, &quot;1101&quot;, &quot;1110&quot;, &quot;1111&quot; };\r\n\r\n    public static byte[] decodeBitmap(Bitmap bmp){\r\n        int bmpWidth = bmp.getWidth();\r\n        int bmpHeight = bmp.getHeight();\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(); //binaryString list\r\n        StringBuffer sb;\r\n\r\n\r\n        int bitLen = bmpWidth / 8;\r\n        int zeroCount = bmpWidth % 8;\r\n\r\n        String zeroStr = &quot;&quot;;\r\n        if (zeroCount &gt; 0) {\r\n            bitLen = bmpWidth / 8 + 1;\r\n            for (int i = 0; i &lt; (8 - zeroCount); i++) {\r\n                zeroStr = zeroStr + &quot;0&quot;;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; bmpHeight; i++) {\r\n            sb = new StringBuffer();\r\n            for (int j = 0; j &lt; bmpWidth; j++) {\r\n                int color = bmp.getPixel(j, i);\r\n\r\n                int r = (color &gt;&gt; 16) &amp; 0xff;\r\n                int g = (color &gt;&gt; 8) &amp; 0xff;\r\n                int b = color &amp; 0xff;\r\n\r\n                // if color close to white，bit=&#39;0&#39;, else bit=&#39;1&#39;\r\n                if (r &gt; 160 &amp;&amp; g &gt; 160 &amp;&amp; b &gt; 160)\r\n                    sb.append(&quot;0&quot;);\r\n                else\r\n                    sb.append(&quot;1&quot;);\r\n            }\r\n            if (zeroCount &gt; 0) {\r\n                sb.append(zeroStr);\r\n            }\r\n            list.add(sb.toString());\r\n        }\r\n\r\n        List&lt;String&gt; bmpHexList = binaryListToHexStringList(list);\r\n        String commandHexString = &quot;1D763000&quot;;\r\n        String widthHexString = Integer\r\n                .toHexString(bmpWidth % 8 == 0 ? bmpWidth / 8\r\n                        : (bmpWidth / 8 + 1));\r\n\r\n        if (widthHexString.length() &gt; 2) {\r\n            Log.e(&quot;decodeBitmap error&quot;, &quot; width is too large&quot;);\r\n            return null;\r\n        } else if (widthHexString.length() == 1) {\r\n            widthHexString = &quot;0&quot; + widthHexString;\r\n        }\r\n        widthHexString = widthHexString + &quot;00&quot;;\r\n\r\n        String heightHexString = Integer.toHexString(bmpHeight);\r\n        if (heightHexString.length() &gt; 2) {\r\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\r\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\r\n            return null;\r\n        } else if (heightHexString.length() == 1) {\r\n            heightHexString = &quot;0&quot; + heightHexString;\r\n        }\r\n        heightHexString = heightHexString + &quot;00&quot;;\r\n\r\n        List&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\r\n        System.out.println(&quot;commandHexString+widthHexString+heightHexString&quot;+ commandHexString+widthHexString+heightHexString);\r\n        commandList.add(commandHexString+widthHexString+heightHexString);\r\n        commandList.addAll(bmpHexList);\r\n\r\n        return hexList2Byte(commandList);\r\n    }\r\n\r\n    \r\n\r\n    public static byte[] BitmapToByteArray(Bitmap bmp){\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        bmp.compress(Bitmap.CompressFormat.JPEG,100,stream);\r\n        byte[] byteArray = stream.toByteArray();\r\n\r\n        return byteArray;\r\n    }\r\n\r\n    public static List&lt;String&gt; binaryListToHexStringList(List&lt;String&gt; list) {\r\n        List&lt;String&gt; hexList = new ArrayList&lt;String&gt;();\r\n        for (String binaryStr : list) {\r\n            StringBuffer sb = new StringBuffer();\r\n            for (int i = 0; i &lt; binaryStr.length(); i += 8) {\r\n                String str = binaryStr.substring(i, i + 8);\r\n\r\n                String hexString = myBinaryStrToHexString(str);\r\n                sb.append(hexString);\r\n            }\r\n            hexList.add(sb.toString());\r\n        }\r\n        return hexList;\r\n\r\n    }\r\n\r\n    public static String myBinaryStrToHexString(String binaryStr) {\r\n        String hex = &quot;&quot;;\r\n        String f4 = binaryStr.substring(0, 4);\r\n        String b4 = binaryStr.substring(4, 8);\r\n        for (int i = 0; i &lt; binaryArray.length; i++) {\r\n            if (f4.equals(binaryArray[i]))\r\n                hex += hexStr.substring(i, i + 1);\r\n        }\r\n        for (int i = 0; i &lt; binaryArray.length; i++) {\r\n            if (b4.equals(binaryArray[i]))\r\n                hex += hexStr.substring(i, i + 1);\r\n        }\r\n\r\n        return hex;\r\n    }\r\n\r\n    public static byte[] hexList2Byte(List&lt;String&gt; list) {\r\n        List&lt;byte[]&gt; commandList = new ArrayList&lt;byte[]&gt;();\r\n\r\n        for (String hexStr : list) {\r\n            commandList.add(hexStringToBytes(hexStr));\r\n        }\r\n        byte[] bytes = sysCopy(commandList);\r\n        return bytes;\r\n    }\r\n\r\n    public static byte[] hexStringToBytes(String hexString) {\r\n        if (hexString == null || hexString.equals(&quot;&quot;)) {\r\n            return null;\r\n        }\r\n        hexString = hexString.toUpperCase();\r\n        int length = hexString.length() / 2;\r\n        char[] hexChars = hexString.toCharArray();\r\n        byte[] d = new byte[length];\r\n        for (int i = 0; i &lt; length; i++) {\r\n            int pos = i * 2;\r\n            d[i] = (byte) (charToByte(hexChars[pos]) &lt;&lt; 4 | charToByte(hexChars[pos + 1]));\r\n        }\r\n        return d;\r\n    }\r\n\r\n    public static byte[] sysCopy(List&lt;byte[]&gt; srcArrays) {\r\n        int len = 0;\r\n        for (byte[] srcArray : srcArrays) {\r\n            len += srcArray.length;\r\n        }\r\n        byte[] destArray = new byte[len];\r\n        int destLen = 0;\r\n        for (byte[] srcArray : srcArrays) {\r\n            System.arraycopy(srcArray, 0, destArray, destLen, srcArray.length);\r\n            destLen += srcArray.length;\r\n        }\r\n        return destArray;\r\n    }\r\n\r\n    private static byte charToByte(char c) {\r\n        return (byte) &quot;0123456789ABCDEF&quot;.indexOf(c);\r\n    }\r\n}\r\n\r\n```\r\nhere is the lines to send print:\r\n\r\n```\r\n    public void printPhotoLabel(Bitmap bitmap,byte[] arrrayImage) {\r\n        System.out.println(&quot;Poller width: &quot;+bitmap.getWidth()+&quot; height: &quot;+bitmap.getHeight());\r\n        Bitmap rescaled = Bitmap.createScaledBitmap(bitmap,125,205,true);\r\n        try {\r\n            if(rescaled!=null){\r\n\r\n                byte[] command = Utils.decodeBitmapBig(rescaled);\r\n                outputStream.write(PrinterCommands.ESC_ALIGN_LEFT);\r\n                outputStream.write(command);\r\n            }else{\r\n                System.out.println(&quot;Print Photo error, the file isn&#39;t exists&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;image resource: &quot;+e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\ni want to **print scaled bitmap to double** than image below:\r\n[![enter image description here](https://i.stack.imgur.com/MVHQh.jpg)](https://i.stack.imgur.com/MVHQh.jpg)\r\n\r\nthe printer is very skinny because of that i want to print rotated image:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/LoXCZ.jpg)](https://i.stack.imgur.com/LoXCZ.jpg)\r\n\r\n\r\n1. i tried to print a bitmap image as a **byte array** in a **thermal printer** by **outputStream**.\r\n2. i expect **print a byte array** image with a good heigth for a label.\r\n3. when the height if more** bigger than 255** the function not work like i wish","title":"Print Bitmap with height greater than 255 in thermal printer","body":"<p>i am trying to print a bitmap with <strong>height supperior to 255 px</strong> and the funcion that transform bitmap to bit array is not prepared to that heigths. when i tried to change the if for more heigth the printer sendme a empty label.</p>\n<p>here is the &quot;if&quot; of heigh's:</p>\n<pre><code>String heightHexString = Integer.toHexString(bmpHeight);\n        if (heightHexString.length() &gt; 2) {\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\n            return null;\n        } else if (heightHexString.length() == 1) {\n            heightHexString = &quot;0&quot; + heightHexString;\n        }\n        heightHexString = heightHexString + &quot;00&quot;;\n\n</code></pre>\n<p>there is my full class:</p>\n<pre><code>package pirsch.dev.masaprisaapp.Utilities;\n\nimport android.graphics.Bitmap;\nimport android.util.Log;\n\nimport java.io.ByteArrayOutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * Created by imrankst1221@gmail.com\n *\n */\n\npublic class Utils {\n    // UNICODE 0x23 = #\n    public static final byte[] UNICODE_TEXT = new byte[] {0x23, 0x23, 0x23,\n            0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,\n            0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,0x23, 0x23, 0x23,\n            0x23, 0x23, 0x23};\n\n    private static String hexStr = &quot;0123456789ABCDEF&quot;;\n    private static String[] binaryArray = { &quot;0000&quot;, &quot;0001&quot;, &quot;0010&quot;, &quot;0011&quot;,\n            &quot;0100&quot;, &quot;0101&quot;, &quot;0110&quot;, &quot;0111&quot;, &quot;1000&quot;, &quot;1001&quot;, &quot;1010&quot;, &quot;1011&quot;,\n            &quot;1100&quot;, &quot;1101&quot;, &quot;1110&quot;, &quot;1111&quot; };\n\n    public static byte[] decodeBitmap(Bitmap bmp){\n        int bmpWidth = bmp.getWidth();\n        int bmpHeight = bmp.getHeight();\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(); //binaryString list\n        StringBuffer sb;\n\n\n        int bitLen = bmpWidth / 8;\n        int zeroCount = bmpWidth % 8;\n\n        String zeroStr = &quot;&quot;;\n        if (zeroCount &gt; 0) {\n            bitLen = bmpWidth / 8 + 1;\n            for (int i = 0; i &lt; (8 - zeroCount); i++) {\n                zeroStr = zeroStr + &quot;0&quot;;\n            }\n        }\n\n        for (int i = 0; i &lt; bmpHeight; i++) {\n            sb = new StringBuffer();\n            for (int j = 0; j &lt; bmpWidth; j++) {\n                int color = bmp.getPixel(j, i);\n\n                int r = (color &gt;&gt; 16) &amp; 0xff;\n                int g = (color &gt;&gt; 8) &amp; 0xff;\n                int b = color &amp; 0xff;\n\n                // if color close to white，bit='0', else bit='1'\n                if (r &gt; 160 &amp;&amp; g &gt; 160 &amp;&amp; b &gt; 160)\n                    sb.append(&quot;0&quot;);\n                else\n                    sb.append(&quot;1&quot;);\n            }\n            if (zeroCount &gt; 0) {\n                sb.append(zeroStr);\n            }\n            list.add(sb.toString());\n        }\n\n        List&lt;String&gt; bmpHexList = binaryListToHexStringList(list);\n        String commandHexString = &quot;1D763000&quot;;\n        String widthHexString = Integer\n                .toHexString(bmpWidth % 8 == 0 ? bmpWidth / 8\n                        : (bmpWidth / 8 + 1));\n\n        if (widthHexString.length() &gt; 2) {\n            Log.e(&quot;decodeBitmap error&quot;, &quot; width is too large&quot;);\n            return null;\n        } else if (widthHexString.length() == 1) {\n            widthHexString = &quot;0&quot; + widthHexString;\n        }\n        widthHexString = widthHexString + &quot;00&quot;;\n\n        String heightHexString = Integer.toHexString(bmpHeight);\n        if (heightHexString.length() &gt; 2) {\n            System.out.println(&quot;heightHexString.length(): &quot;+heightHexString.length()+&quot; heightHexString: &quot;+heightHexString);\n            Log.e(&quot;decodeBitmap error&quot;, &quot; height is too large&quot;);\n            return null;\n        } else if (heightHexString.length() == 1) {\n            heightHexString = &quot;0&quot; + heightHexString;\n        }\n        heightHexString = heightHexString + &quot;00&quot;;\n\n        List&lt;String&gt; commandList = new ArrayList&lt;String&gt;();\n        System.out.println(&quot;commandHexString+widthHexString+heightHexString&quot;+ commandHexString+widthHexString+heightHexString);\n        commandList.add(commandHexString+widthHexString+heightHexString);\n        commandList.addAll(bmpHexList);\n\n        return hexList2Byte(commandList);\n    }\n\n    \n\n    public static byte[] BitmapToByteArray(Bitmap bmp){\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bmp.compress(Bitmap.CompressFormat.JPEG,100,stream);\n        byte[] byteArray = stream.toByteArray();\n\n        return byteArray;\n    }\n\n    public static List&lt;String&gt; binaryListToHexStringList(List&lt;String&gt; list) {\n        List&lt;String&gt; hexList = new ArrayList&lt;String&gt;();\n        for (String binaryStr : list) {\n            StringBuffer sb = new StringBuffer();\n            for (int i = 0; i &lt; binaryStr.length(); i += 8) {\n                String str = binaryStr.substring(i, i + 8);\n\n                String hexString = myBinaryStrToHexString(str);\n                sb.append(hexString);\n            }\n            hexList.add(sb.toString());\n        }\n        return hexList;\n\n    }\n\n    public static String myBinaryStrToHexString(String binaryStr) {\n        String hex = &quot;&quot;;\n        String f4 = binaryStr.substring(0, 4);\n        String b4 = binaryStr.substring(4, 8);\n        for (int i = 0; i &lt; binaryArray.length; i++) {\n            if (f4.equals(binaryArray[i]))\n                hex += hexStr.substring(i, i + 1);\n        }\n        for (int i = 0; i &lt; binaryArray.length; i++) {\n            if (b4.equals(binaryArray[i]))\n                hex += hexStr.substring(i, i + 1);\n        }\n\n        return hex;\n    }\n\n    public static byte[] hexList2Byte(List&lt;String&gt; list) {\n        List&lt;byte[]&gt; commandList = new ArrayList&lt;byte[]&gt;();\n\n        for (String hexStr : list) {\n            commandList.add(hexStringToBytes(hexStr));\n        }\n        byte[] bytes = sysCopy(commandList);\n        return bytes;\n    }\n\n    public static byte[] hexStringToBytes(String hexString) {\n        if (hexString == null || hexString.equals(&quot;&quot;)) {\n            return null;\n        }\n        hexString = hexString.toUpperCase();\n        int length = hexString.length() / 2;\n        char[] hexChars = hexString.toCharArray();\n        byte[] d = new byte[length];\n        for (int i = 0; i &lt; length; i++) {\n            int pos = i * 2;\n            d[i] = (byte) (charToByte(hexChars[pos]) &lt;&lt; 4 | charToByte(hexChars[pos + 1]));\n        }\n        return d;\n    }\n\n    public static byte[] sysCopy(List&lt;byte[]&gt; srcArrays) {\n        int len = 0;\n        for (byte[] srcArray : srcArrays) {\n            len += srcArray.length;\n        }\n        byte[] destArray = new byte[len];\n        int destLen = 0;\n        for (byte[] srcArray : srcArrays) {\n            System.arraycopy(srcArray, 0, destArray, destLen, srcArray.length);\n            destLen += srcArray.length;\n        }\n        return destArray;\n    }\n\n    private static byte charToByte(char c) {\n        return (byte) &quot;0123456789ABCDEF&quot;.indexOf(c);\n    }\n}\n\n</code></pre>\n<p>here is the lines to send print:</p>\n<pre><code>    public void printPhotoLabel(Bitmap bitmap,byte[] arrrayImage) {\n        System.out.println(&quot;Poller width: &quot;+bitmap.getWidth()+&quot; height: &quot;+bitmap.getHeight());\n        Bitmap rescaled = Bitmap.createScaledBitmap(bitmap,125,205,true);\n        try {\n            if(rescaled!=null){\n\n                byte[] command = Utils.decodeBitmapBig(rescaled);\n                outputStream.write(PrinterCommands.ESC_ALIGN_LEFT);\n                outputStream.write(command);\n            }else{\n                System.out.println(&quot;Print Photo error, the file isn't exists&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;image resource: &quot;+e.getMessage());\n        }\n    }\n</code></pre>\n<p>i want to <strong>print scaled bitmap to double</strong> than image below:\n<a href=\"https://i.stack.imgur.com/MVHQh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MVHQh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>the printer is very skinny because of that i want to print rotated image:</p>\n<p><a href=\"https://i.stack.imgur.com/LoXCZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LoXCZ.jpg\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li>i tried to print a bitmap image as a <strong>byte array</strong> in a <strong>thermal printer</strong> by <strong>outputStream</strong>.</li>\n<li>i expect <strong>print a byte array</strong> image with a good heigth for a label.</li>\n<li>when the height if more** bigger than 255** the function not work like i wish</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-mvc","spring-boot-test"],"comments":[{"owner":{"account_id":2966530,"reputation":871,"user_id":2519566,"display_name":"Frank W"},"score":0,"creation_date":1695590378,"post_id":77168886,"comment_id":136041133,"body_markdown":"What version of Spring/Spring Boot are you using?","body":"What version of Spring/Spring Boot are you using?"},{"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"score":0,"creation_date":1695591230,"post_id":77168886,"comment_id":136041218,"body_markdown":"I am using spring-boot v2.5.15","body":"I am using spring-boot v2.5.15"},{"owner":{"account_id":2966530,"reputation":871,"user_id":2519566,"display_name":"Frank W"},"score":2,"creation_date":1695597322,"post_id":77168886,"comment_id":136041609,"body_markdown":"On the GitHub repo they suggest Spring Boot 2 users to use 0.27.0, whereas for Spring Boot 3 they recommend &gt;= 0.28.0 which was published earlier this year.\n\nDid you check if your problem-spring-web is still compatible with your Spring Boot version?","body":"On the GitHub repo they suggest Spring Boot 2 users to use 0.27.0, whereas for Spring Boot 3 they recommend &gt;= 0.28.0 which was published earlier this year.  Did you check if your problem-spring-web is still compatible with your Spring Boot version?"},{"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"score":0,"creation_date":1695624292,"post_id":77168886,"comment_id":136043898,"body_markdown":"@FrankW You are right, my bad it is mentioned in here https://github.com/zalando/problem-spring-web#:~:text=Spring%205%20(or%20Spring%20Boot%202)%20users%20may%20use%20version%200.27.0","body":"@FrankW You are right, my bad it is mentioned in here <a href=\"https://github.com/zalando/problem-spring-web#:~:text=Spring%205%20(or%20Spring%20Boot%202)%20users%20may%20use%20version%200.27.0\" rel=\"nofollow noreferrer\">github.com/zalando/&hellip;</a>"},{"owner":{"account_id":2966530,"reputation":871,"user_id":2519566,"display_name":"Frank W"},"score":0,"creation_date":1695647299,"post_id":77168886,"comment_id":136048315,"body_markdown":"did that resolve it for you though?","body":"did that resolve it for you though?"},{"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"score":1,"creation_date":1695656353,"post_id":77168886,"comment_id":136050452,"body_markdown":"@FrankW Yes, using version 0.27.0 works since I was using spring-boot v2.5.15","body":"@FrankW Yes, using version 0.27.0 works since I was using spring-boot v2.5.15"}],"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695588347,"creation_date":1695588347,"question_id":77168886,"body_markdown":"I am working on a Spring Boot project where I am using the **problem-spring-web** dependency for exception handling.\r\n\r\nHere is my **ControllerAdvice**:\r\n```\r\npackage com.example.demo.error;\r\n\r\n//... other imports ...\r\n\r\n@ControllerAdvice\r\npublic class SpringBootProblemHandling implements ProblemHandling {\r\n\r\n    // ... class content ...\r\n\r\n    @ExceptionHandler\r\n    public ResponseEntity&lt;Problem&gt; handleGenericException(\r\n          Exception exception,\r\n          NativeWebRequest request) {\r\n        \r\n        //... method implementation ...\r\n    }\r\n}\r\n\r\n```\r\nI also have a corresponding test class:\r\n```\r\npackage com.example.demo.error;\r\n\r\n//... other imports ...\r\n\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class SpringBootProblemHandlingTest {\r\n\r\n    private SpringBootProblemHandling problemHandling = new SpringBootProblemHandling();\r\n\r\n    private ServletWebRequest request = new ServletWebRequest(new MockHttpServletRequest());\r\n\r\n    @Test\r\n    public void handleGenericException() {\r\n        ResponseEntity&lt;Problem&gt; problemRE = problemHandling.handleGenericException(new Exception(), request);\r\n\r\n        assertEquals(INTERNAL_SERVER_ERROR, problemRE.getStatusCode());\r\n    }\r\n}\r\n```\r\n\r\nWhen using the dependency *org.zalando:problem-spring-web:0.27.0*, the test runs with no problem, but when I change the *problem-spring-web* version to ***0.29.1***, I get the following exception:\r\n```\r\njava.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\r\n\r\n```\r\nThis error occurs at the line where the **SpringBootProblemHandling** object is created in the test class:\r\n```\r\nprivate SpringBootProblemHandling problemHandling = new SpringBootProblemHandling();\r\n\r\n```\r\nI have checked: \r\n1. if there is any breaking change in the release notes between the two versions but couldn’t find any information related to this issue.\r\n2. tried not to instantiate **SpringBootProblemHandling** directly using the new keyword, instead to use auto wire but this also did not help","title":"java: NoClassDefFoundError when upgrading problem-spring-web dependency from v0.27.0 to v0.29.1 in Spring Boot Application","body":"<p>I am working on a Spring Boot project where I am using the <strong>problem-spring-web</strong> dependency for exception handling.</p>\n<p>Here is my <strong>ControllerAdvice</strong>:</p>\n<pre><code>package com.example.demo.error;\n\n//... other imports ...\n\n@ControllerAdvice\npublic class SpringBootProblemHandling implements ProblemHandling {\n\n    // ... class content ...\n\n    @ExceptionHandler\n    public ResponseEntity&lt;Problem&gt; handleGenericException(\n          Exception exception,\n          NativeWebRequest request) {\n        \n        //... method implementation ...\n    }\n}\n\n</code></pre>\n<p>I also have a corresponding test class:</p>\n<pre><code>package com.example.demo.error;\n\n//... other imports ...\n\n@ActiveProfiles(&quot;test&quot;)\npublic class SpringBootProblemHandlingTest {\n\n    private SpringBootProblemHandling problemHandling = new SpringBootProblemHandling();\n\n    private ServletWebRequest request = new ServletWebRequest(new MockHttpServletRequest());\n\n    @Test\n    public void handleGenericException() {\n        ResponseEntity&lt;Problem&gt; problemRE = problemHandling.handleGenericException(new Exception(), request);\n\n        assertEquals(INTERNAL_SERVER_ERROR, problemRE.getStatusCode());\n    }\n}\n</code></pre>\n<p>When using the dependency <em>org.zalando:problem-spring-web:0.27.0</em>, the test runs with no problem, but when I change the <em>problem-spring-web</em> version to <em><strong>0.29.1</strong></em>, I get the following exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/http/HttpStatusCode\n\n</code></pre>\n<p>This error occurs at the line where the <strong>SpringBootProblemHandling</strong> object is created in the test class:</p>\n<pre><code>private SpringBootProblemHandling problemHandling = new SpringBootProblemHandling();\n\n</code></pre>\n<p>I have checked:</p>\n<ol>\n<li>if there is any breaking change in the release notes between the two versions but couldn’t find any information related to this issue.</li>\n<li>tried not to instantiate <strong>SpringBootProblemHandling</strong> directly using the new keyword, instead to use auto wire but this also did not help</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9969,"page":165,"page_size":100}
