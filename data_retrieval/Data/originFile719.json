{"items":[{"tags":["java","system.out"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1674098199,"post_id":75167329,"comment_id":132644148,"body_markdown":"What is `LOG`? I can infer that it&#39;s some sort of logging framework, but which one may be relevant. And the only place you use `OUTPUT` is in the `Bla.print` function, which is never even called here. I don&#39;t understand what you *expect* to happen.","body":"What is <code>LOG</code>? I can infer that it&#39;s some sort of logging framework, but which one may be relevant. And the only place you use <code>OUTPUT</code> is in the <code>Bla.print</code> function, which is never even called here. I don&#39;t understand what you <i>expect</i> to happen."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674102851,"post_id":75167329,"comment_id":132644695,"body_markdown":"And since `print` / `printStuff` is never called, `baos.toString()` will be empty when you call `LOG.info(...)`.","body":"And since <code>print</code> / <code>printStuff</code> is never called, <code>baos.toString()</code> will be empty when you call <code>LOG.info(...)</code>."}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674098655,"creation_date":1674098655,"answer_id":75167440,"question_id":75167329,"body_markdown":"The problem is that when the `Bla` class initializes, it takes a reference to `System.out` *at that point in time*.  When you reset `System.out` in the subsequent code, it has no affect on the value of `Bla.OUTPUT`.\r\n\r\nI think this will do what you want:\r\n\r\n    OUTPUT = s -&gt; System.out.println(s);\r\n\r\nbecause it will always use the current value of `System.out`.","title":"in Java I am redirecting System.out to a ByteArrayOutputStream but it is not working - why?","body":"<p>The problem is that when the <code>Bla</code> class initializes, it takes a reference to <code>System.out</code> <em>at that point in time</em>.  When you reset <code>System.out</code> in the subsequent code, it has no affect on the value of <code>Bla.OUTPUT</code>.</p>\n<p>I think this will do what you want:</p>\n<pre><code>OUTPUT = s -&gt; System.out.println(s);\n</code></pre>\n<p>because it will always use the current value of <code>System.out</code>.</p>\n"}],"owner":{"account_id":26144570,"reputation":17,"user_id":19833375,"display_name":"Shivani S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1674103249,"creation_date":1674096897,"question_id":75167329,"body_markdown":"I have the following class:\r\n\r\n```java\r\nclass Bla {\r\n   private static final Consumer&lt;String&gt; OUTPUT = System.out::println;\r\n\r\n   public void print() {\r\n      printStuff(OUTPUT);\r\n   }\r\n\r\n   public void printStuff(Consumer&lt;String&gt; consumer) {\r\n      consumer.accept(&quot;Bla&quot;);\r\n\r\n   }\r\n}\r\n```\r\nTest code:\r\n```java\r\nBla bla = new Bla();\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\nfinal PrintStream standardOut = System.out;\r\nSystem.setOut(new PrintStream(baos));\r\nbla.print();\r\nLOG.info(baos.toString().trim()); &lt;-- This does not work\r\nSystem.setOut(standardOut);\r\n```\r\nIt logs nothing. Why? When I inline OUTPUT, then it works.","title":"in Java I am redirecting System.out to a ByteArrayOutputStream but it is not working - why?","body":"<p>I have the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Bla {\n   private static final Consumer&lt;String&gt; OUTPUT = System.out::println;\n\n   public void print() {\n      printStuff(OUTPUT);\n   }\n\n   public void printStuff(Consumer&lt;String&gt; consumer) {\n      consumer.accept(&quot;Bla&quot;);\n\n   }\n}\n</code></pre>\n<p>Test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bla bla = new Bla();\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nfinal PrintStream standardOut = System.out;\nSystem.setOut(new PrintStream(baos));\nbla.print();\nLOG.info(baos.toString().trim()); &lt;-- This does not work\nSystem.setOut(standardOut);\n</code></pre>\n<p>It logs nothing. Why? When I inline OUTPUT, then it works.</p>\n"},{"tags":["java","eclipse","import","importerror"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1674117066,"post_id":75167808,"comment_id":132647295,"body_markdown":"Do you have a `module-info.java` in your project? If you do you are using the Java module system and must update the module info to say you are using the Apache codec module - Add `requires org.apache.commons.codec;` in module-info.java","body":"Do you have a <code>module-info.java</code> in your project? If you do you are using the Java module system and must update the module info to say you are using the Apache codec module - Add <code>requires org.apache.commons.codec;</code> in module-info.java"}],"owner":{"account_id":27441548,"reputation":3,"user_id":20936339,"display_name":"Brian Widjaja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674103148,"creation_date":1674103148,"question_id":75167808,"body_markdown":"I have eclipse and java jdk-19 installed\r\ni try to do\r\nimport org.apache.commons.codec.binary.Hex;\r\n\r\nbut somehow it doesn&#39;t import\r\n\r\n\r\ni already put it inside myproject/lib folder, and also already configure the buildpath in Classpath\r\n[folderPath](https://i.stack.imgur.com/uogWv.png)\r\n\r\ndoes anyone know what is happening here ?","title":"what does &quot;The type org.apache.commons.codec.binary.Hex is not accessible&quot; mean?","body":"<p>I have eclipse and java jdk-19 installed\ni try to do\nimport org.apache.commons.codec.binary.Hex;</p>\n<p>but somehow it doesn't import</p>\n<p>i already put it inside myproject/lib folder, and also already configure the buildpath in Classpath\n<a href=\"https://i.stack.imgur.com/uogWv.png\" rel=\"nofollow noreferrer\">folderPath</a></p>\n<p>does anyone know what is happening here ?</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1674087074,"post_id":75166288,"comment_id":132642818,"body_markdown":"Read the [uri documentation in the CSS reference](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typeurl).  The resolution path is different depending on whether you access from a style sheet or an inline style.  Try specifying the fully qualified path relative to the root of the classpath.","body":"Read the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typeurl\" rel=\"nofollow noreferrer\">uri documentation in the CSS reference</a>.  The resolution path is different depending on whether you access from a style sheet or an inline style.  Try specifying the fully qualified path relative to the root of the classpath."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1674097959,"post_id":75166288,"comment_id":132644126,"body_markdown":"Follow [java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html).  There are also [CSS naming conventions](https://stackoverflow.com/questions/7927193/css-class-naming-convention), they are generally less rigorously followed, but it can&#39;t hurt to follow a useful standard there too.","body":"Follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">java naming conventions</a>.  There are also <a href=\"https://stackoverflow.com/questions/7927193/css-class-naming-convention\">CSS naming conventions</a>, they are generally less rigorously followed, but it can&#39;t hurt to follow a useful standard there too."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674102165,"creation_date":1674097493,"answer_id":75167365,"question_id":75166288,"body_markdown":"**Try specifying the fully qualified path relative to the root of the classpath.**\r\n\r\nThe resolution path is different depending on whether you access a CSS URL resource from a style sheet or an inline style. \r\n\r\nRead the [uri documentation in the CSS reference][1]. It is well-written, with clear examples that will help you understand your issue.  Quoting from the documentation for CSS URL resolution:\r\n\r\n&gt; 1. If the address does not have a `scheme:` component, the address is considered to be the `path` component only. \r\n&gt; 2. A leading `/` character indicates that the `path` is relative to the root of the classpath. \r\n&gt; 3. If the style appears in a stylesheet and has no leading `/` character, the path is relative to the base URI of the stylesheet. \r\n&gt; 4. If the style appears in an inline style, the path is relative to the root of the classpath (regardless of whether or not there is a leading `/`).\r\n\r\n**Example**\r\n\r\n    -fx-background-image: url(&#39;Background.quiz.jpg&#39;);\r\n\r\nWhen written inside a CSS stylesheet, this will look for an image location in the classpath adjacent to the stylesheet.\r\n\r\nWhen written in an inline style, it will look for an image location in the root of the classpath.\r\n\r\nInstead, for the inline style URL, if you specify the full path to the image relative to the root of the classpath, then the image will be found.  \r\n\r\nIf you package your app as a jar, then run `jar tvf` on the packaged jar, and your image is located, for instance, in the location `image/Background2.quiz.jpg`, then the URL to use in an inline style would be:\r\n\r\n    settingsGrid.setStyle(&quot;-fx-background-image: url(&#39;image/Background2.quiz.jpg&#39;)&quot;);\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typeurl","title":"Changing background image with Button press Javafx","body":"<p><strong>Try specifying the fully qualified path relative to the root of the classpath.</strong></p>\n<p>The resolution path is different depending on whether you access a CSS URL resource from a style sheet or an inline style.</p>\n<p>Read the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typeurl\" rel=\"nofollow noreferrer\">uri documentation in the CSS reference</a>. It is well-written, with clear examples that will help you understand your issue.  Quoting from the documentation for CSS URL resolution:</p>\n<blockquote>\n<ol>\n<li>If the address does not have a <code>scheme:</code> component, the address is considered to be the <code>path</code> component only.</li>\n<li>A leading <code>/</code> character indicates that the <code>path</code> is relative to the root of the classpath.</li>\n<li>If the style appears in a stylesheet and has no leading <code>/</code> character, the path is relative to the base URI of the stylesheet.</li>\n<li>If the style appears in an inline style, the path is relative to the root of the classpath (regardless of whether or not there is a leading <code>/</code>).</li>\n</ol>\n</blockquote>\n<p><strong>Example</strong></p>\n<pre><code>-fx-background-image: url('Background.quiz.jpg');\n</code></pre>\n<p>When written inside a CSS stylesheet, this will look for an image location in the classpath adjacent to the stylesheet.</p>\n<p>When written in an inline style, it will look for an image location in the root of the classpath.</p>\n<p>Instead, for the inline style URL, if you specify the full path to the image relative to the root of the classpath, then the image will be found.</p>\n<p>If you package your app as a jar, then run <code>jar tvf</code> on the packaged jar, and your image is located, for instance, in the location <code>image/Background2.quiz.jpg</code>, then the URL to use in an inline style would be:</p>\n<pre><code>settingsGrid.setStyle(&quot;-fx-background-image: url('image/Background2.quiz.jpg')&quot;);\n</code></pre>\n"}],"owner":{"account_id":27568035,"reputation":21,"user_id":21039788,"display_name":"Ignitz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674102165,"creation_date":1674084223,"question_id":75166288,"body_markdown":"I want to change the background image from a scene. \r\n\r\nThis is from the css file.\r\n\r\n```\r\n.SettingsGrid {\r\n    -fx-background-image: url(&#39;Background.quiz.jpg&#39;);\r\n    /*-fx-background: #ffffff;*/\r\n    -fx-background-size: cover;\r\n}\r\n```\r\n\r\nI tried using this:\r\n```\r\nSettingsGrid.setStyle(&quot;-fx-background-image: url(&#39;Background2.quiz.jpg&#39;)&quot;);\r\n```\r\n\r\nBut instead of the background changing to the new image, it just went white. \r\n\r\nJust changing the background colour works.\r\n\r\n","title":"Changing background image with Button press Javafx","body":"<p>I want to change the background image from a scene.</p>\n<p>This is from the css file.</p>\n<pre><code>.SettingsGrid {\n    -fx-background-image: url('Background.quiz.jpg');\n    /*-fx-background: #ffffff;*/\n    -fx-background-size: cover;\n}\n</code></pre>\n<p>I tried using this:</p>\n<pre><code>SettingsGrid.setStyle(&quot;-fx-background-image: url('Background2.quiz.jpg')&quot;);\n</code></pre>\n<p>But instead of the background changing to the new image, it just went white.</p>\n<p>Just changing the background colour works.</p>\n"},{"tags":["java","algorithm","data-structures","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":29240,"reputation":138032,"user_id":78845,"display_name":"johnsyweb"},"score":2,"creation_date":1328001090,"post_id":9076923,"comment_id":11395085,"body_markdown":"`from __future__ import braces` ?","body":"<code>from __future__ import braces</code> ?"},{"owner":{"account_id":1206801,"reputation":289,"user_id":1176235,"accept_rate":0,"display_name":"user1176235"},"score":0,"creation_date":1328001127,"post_id":9076923,"comment_id":11395097,"body_markdown":"my fault..fixed to java!","body":"my fault..fixed to java!"},{"owner":{"account_id":456734,"reputation":8088,"user_id":855643,"accept_rate":60,"display_name":"ciphor"},"score":0,"creation_date":1328001189,"post_id":9076923,"comment_id":11395122,"body_markdown":"1. This code does not seem to be python...  2. list reverse is a basic algorithm, you can find many related material on web","body":"1. This code does not seem to be python...  2. list reverse is a basic algorithm, you can find many related material on web"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1328001259,"post_id":9076923,"comment_id":11395145,"body_markdown":"When you have a bug or cannot understand what your code is doing, the first thing you should do is use your debugger. (That&#39;s what it is for)","body":"When you have a bug or cannot understand what your code is doing, the first thing you should do is use your debugger. (That&#39;s what it is for)"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":17,"creation_date":1328001343,"post_id":9076923,"comment_id":11395173,"body_markdown":"I would draw up a little 3-node linked list on a piece of paper, and just go through the algorithm step by step, see what happens. You could do the same thing in a debugger, but doing it on paper will force you to really think about how each piece of state is changing.","body":"I would draw up a little 3-node linked list on a piece of paper, and just go through the algorithm step by step, see what happens. You could do the same thing in a debugger, but doing it on paper will force you to really think about how each piece of state is changing."},{"owner":{"display_name":"user3133925"},"score":0,"creation_date":1552137786,"post_id":9076923,"comment_id":96901904,"body_markdown":"Remember first you have to store next node(forward) to preserve link","body":"Remember first you have to store next node(forward) to preserve link"},{"owner":{"account_id":11263867,"reputation":1748,"user_id":8261341,"display_name":"Ivan Kaloyanov"},"score":1,"creation_date":1561702478,"post_id":9076923,"comment_id":100157882,"body_markdown":"Techlead is that you???","body":"Techlead is that you???"}],"answers":[{"tags":[],"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1592788843,"creation_date":1328001236,"answer_id":9077008,"question_id":9076923,"body_markdown":"You reverse the list iteratively and always have the list in the interval [head, previous] correctly reversed (so current is the first node that has its link not set correctly). On each step you do the following:\r\n\r\n - You remember the next node of current so that you can continue from it\r\n - You set the link of current to be pointing to previous, which is the correct direction if you think about it\r\n - You change previous to be current, because now current also has its link set correctly\r\n - You change the first node that does not have its link set correctly to be the one remembered in the first step\r\n\r\nIf you do that for all the nodes, you can prove (with induction for instance) that the list will be correctly reversed.\r\n\r\n\r\n\r\n","title":"How can I reverse a linked list?","body":"<p>You reverse the list iteratively and always have the list in the interval [head, previous] correctly reversed (so current is the first node that has its link not set correctly). On each step you do the following:</p>\n<ul>\n<li>You remember the next node of current so that you can continue from it</li>\n<li>You set the link of current to be pointing to previous, which is the correct direction if you think about it</li>\n<li>You change previous to be current, because now current also has its link set correctly</li>\n<li>You change the first node that does not have its link set correctly to be the one remembered in the first step</li>\n</ul>\n<p>If you do that for all the nodes, you can prove (with induction for instance) that the list will be correctly reversed.</p>\n"},{"comments":[{"owner":{"account_id":210795,"reputation":22140,"user_id":462608,"accept_rate":83,"display_name":"Aquarius_Girl"},"score":5,"creation_date":1328006835,"post_id":9077050,"comment_id":11396834,"body_markdown":"I think he wanted to understand the &quot;code&quot;. The meaning of &quot;reverse&quot; is quite obvious, the &quot;code&quot; isn&#39;t.","body":"I think he wanted to understand the &quot;code&quot;. The meaning of &quot;reverse&quot; is quite obvious, the &quot;code&quot; isn&#39;t."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":1,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1328028302,"creation_date":1328001451,"answer_id":9077050,"question_id":9076923,"body_markdown":"The code simply walks the list and inverts the links until it reaches the previous tail, which it returns as the new head.\r\n\r\nBefore:\r\n\r\n    Node 1 (Head) -&gt; Node 2 -&gt; Node 3 -&gt; Node 4 (Tail) -&gt; null\r\n\r\nAfter:\r\n\r\n       null &lt;- Node 1 (Tail) &lt;- Node 2 &lt;- Node 3 &lt;- Node 4 (Head)\r\n\r\n","title":"How can I reverse a linked list?","body":"<p>The code simply walks the list and inverts the links until it reaches the previous tail, which it returns as the new head.</p>\n\n<p>Before:</p>\n\n<pre><code>Node 1 (Head) -&gt; Node 2 -&gt; Node 3 -&gt; Node 4 (Tail) -&gt; null\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>   null &lt;- Node 1 (Tail) &lt;- Node 2 &lt;- Node 3 &lt;- Node 4 (Head)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11263867,"reputation":1748,"user_id":8261341,"display_name":"Ivan Kaloyanov"},"score":3,"creation_date":1561702519,"post_id":9092334,"comment_id":100157892,"body_markdown":"Only the Techlead knows that. How can you know that... xaxa","body":"Only the Techlead knows that. How can you know that... xaxa"}],"tags":[],"owner":{"account_id":210795,"reputation":22140,"user_id":462608,"accept_rate":83,"display_name":"Aquarius_Girl"},"comment_count":1,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1328085004,"creation_date":1328081418,"answer_id":9092334,"question_id":9076923,"body_markdown":"![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KndQA.jpg","title":"How can I reverse a linked list?","body":"<p><img src=\"https://i.stack.imgur.com/KndQA.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2925900,"reputation":29,"user_id":2507212,"display_name":"user2507212"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1592788901,"creation_date":1371773028,"answer_id":17225793,"question_id":9076923,"body_markdown":"    public Node getLastNode()\r\n    {\r\n        if(next != null)\r\n            return next.getLastNode();\r\n        else\r\n            return this;\r\n    }\r\n\r\n    public Node reverse(Node source)\r\n    {\r\n        Node reversed = source.getLastNode();\r\n        Node cursor = source;\r\n\r\n        while(cursor != reversed)\r\n        {\r\n            reversed.addNodeAfter(cursor.getInfo());\r\n            cursor = cursor.getNodeAfter();\r\n        }\r\n\r\n        source = reversed;\r\n        return source;\r\n    }\r\n\r\n\r\n\r\n","title":"How can I reverse a linked list?","body":"<pre><code>public Node getLastNode()\n{\n    if(next != null)\n        return next.getLastNode();\n    else\n        return this;\n}\n\npublic Node reverse(Node source)\n{\n    Node reversed = source.getLastNode();\n    Node cursor = source;\n\n    while(cursor != reversed)\n    {\n        reversed.addNodeAfter(cursor.getInfo());\n        cursor = cursor.getNodeAfter();\n    }\n\n    source = reversed;\n    return source;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":925023,"reputation":443,"user_id":955969,"display_name":"Nishant"},"score":0,"creation_date":1382149664,"post_id":17861323,"comment_id":28860054,"body_markdown":"Nice. However, one precondition is we need to know the length of the linked list.","body":"Nice. However, one precondition is we need to know the length of the linked list."},{"owner":{"account_id":1242381,"reputation":322,"user_id":1204668,"display_name":"NitinS"},"score":0,"creation_date":1384787375,"post_id":17861323,"comment_id":29863774,"body_markdown":"Yes, that&#39;s why its 2-pass. But the no of swaps required in 2nd pass is always &lt;= N/2 .. So the complexity is still O ( N + N /2 ) or linear.","body":"Yes, that&#39;s why its 2-pass. But the no of swaps required in 2nd pass is always &lt;= N/2 .. So the complexity is still O ( N + N /2 ) or linear."}],"tags":[],"owner":{"account_id":1242381,"reputation":322,"user_id":1204668,"display_name":"NitinS"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592788980,"creation_date":1374763543,"answer_id":17861323,"question_id":9076923,"body_markdown":"I call it **&quot;cherry picking&quot;**. The idea is to minimize the number of swaps. Swapping happens between a near and far index. It&#39;s a twp-pass algorithm.\r\n\r\n```lang-none\r\n    (Odd length)  A -&gt; B -&gt; C -&gt; D -&gt; E\r\n    (Even length) A -&gt; B -&gt; C -&gt; D\r\n\r\n    Pre-Condition: N &gt;= 2\r\n\r\n    Pass 1: Count N, the number of elements\r\n\r\n    Pass 2:\r\n            for(j=0 -&gt; j&lt;= (N/2 -1))\r\n            {\r\n              swap(j, (N-1)-j)\r\n            }\r\n```\r\n\r\n\r\n**Example 1**:\r\n\r\n```lang-none\r\n   For above Odd length list, N = 5 and there will be two swaps\r\n\r\n      when j=0, swap(0, 4) // Post swap state: E B C D A\r\n      when j=1, swap(1, 3) // Post swap state: E D C B A\r\n\r\n\r\n   The mid point for odd length lists remains intact.\r\n```\r\n\r\n**Example 2**:\r\n\r\n```lang-none\r\n   For above Even length list, N = 4 and there will be two swaps\r\n\r\n      when j=0, swap(0, 3) // Post swap state: D B C A\r\n      when j=1, swap(1, 2) // Post swap state: D C B A\r\n```\r\n\r\n* Swapping applies to data only, not to pointers, and there might be any sanity checks missed, but you got the idea.\r\n\r\n","title":"How can I reverse a linked list?","body":"<p>I call it <strong>&quot;cherry picking&quot;</strong>. The idea is to minimize the number of swaps. Swapping happens between a near and far index. It's a twp-pass algorithm.</p>\n<pre class=\"lang-none prettyprint-override\"><code>    (Odd length)  A -&gt; B -&gt; C -&gt; D -&gt; E\n    (Even length) A -&gt; B -&gt; C -&gt; D\n\n    Pre-Condition: N &gt;= 2\n\n    Pass 1: Count N, the number of elements\n\n    Pass 2:\n            for(j=0 -&gt; j&lt;= (N/2 -1))\n            {\n              swap(j, (N-1)-j)\n            }\n</code></pre>\n<p><strong>Example 1</strong>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>   For above Odd length list, N = 5 and there will be two swaps\n\n      when j=0, swap(0, 4) // Post swap state: E B C D A\n      when j=1, swap(1, 3) // Post swap state: E D C B A\n\n\n   The mid point for odd length lists remains intact.\n</code></pre>\n<p><strong>Example 2</strong>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>   For above Even length list, N = 4 and there will be two swaps\n\n      when j=0, swap(0, 3) // Post swap state: D B C A\n      when j=1, swap(1, 2) // Post swap state: D C B A\n</code></pre>\n<ul>\n<li>Swapping applies to data only, not to pointers, and there might be any sanity checks missed, but you got the idea.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3107332,"reputation":275,"user_id":3349490,"display_name":"Nanobrains"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592789151,"creation_date":1393309906,"answer_id":22006405,"question_id":9076923,"body_markdown":"Reversing a singly-linked list using iteration:\r\n\r\n    current = head // Point the current pointer to the head of the linked list\r\n\r\n    while(current != NULL)\r\n    {\r\n        forward = current-&gt;link; // Point to the next node\r\n        fforward = forward-&gt;link; // Point the next node to next node\r\n        fforward-&gt;link = forward; // 1-&gt;2-&gt;3,,,,,,,,,this will point node 3 to node 2\r\n        forward-&gt;link = current; // This will point node 2 to node 1\r\n\r\n        if(current == head)\r\n            current-&gt;link = NULL; // If the current pointer is the head pointer it should point to NULL while reversing\r\n\r\n        current = current-&gt;link; // Traversing the list\r\n    }\r\n    head = current; // Make the current pointer the head pointer\r\n\r\n","title":"How can I reverse a linked list?","body":"<p>Reversing a singly-linked list using iteration:</p>\n<pre><code>current = head // Point the current pointer to the head of the linked list\n\nwhile(current != NULL)\n{\n    forward = current-&gt;link; // Point to the next node\n    fforward = forward-&gt;link; // Point the next node to next node\n    fforward-&gt;link = forward; // 1-&gt;2-&gt;3,,,,,,,,,this will point node 3 to node 2\n    forward-&gt;link = current; // This will point node 2 to node 1\n\n    if(current == head)\n        current-&gt;link = NULL; // If the current pointer is the head pointer it should point to NULL while reversing\n\n    current = current-&gt;link; // Traversing the list\n}\nhead = current; // Make the current pointer the head pointer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6999579,"reputation":21,"user_id":5366028,"display_name":"010101010101kakaka92"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592789283,"creation_date":1442981235,"answer_id":32730787,"question_id":9076923,"body_markdown":"      list_t *reverse(list_t *a)\r\n      {\r\n        list_t *progress = NULL;\r\n        while(a)\r\n        {\r\n          list_t *b; //b is only a temporary variable (don&#39;t bother focusing on it)\r\n          b = a-&gt;next;\r\n          a-&gt;next = progress; // Because a-&gt;next is assigned to another value,\r\n                              // we must first save a-&gt;next to a different\r\n                              // variable (to be able to use it later)\r\n          progress = a; // progress is initially NULL (so a-&gt;next = NULL\r\n                        // (because it is the new last element in the list))\r\n          a = b; // We set a to b (the value we saved earlier, what\r\n                 // a-&gt;next was before it became NULL)\r\n          /*\r\n            Now, at the next iteration, progress will equal a, and a will equal b.\r\n            So, when I assign a-&gt;next = progress, I really say, b-&gt;next = a.\r\n            and so what we get is: b-&gt;a-&gt;NULL.\r\n            Maybe that gives you an idea of the picture?\r\n\r\n            What is important here is:\r\n              progress = a\r\n            and\r\n              a = b\r\n\r\n            Because that determines what a-&gt;next will equal:\r\n              c-&gt;b-&gt;a-&gt;0\r\n\r\n            a&#39;s next is set to 0\r\n            b&#39;s next is set to a\r\n            c&#39;s next is set to b\r\n          */\r\n        }\r\n        return progress;\r\n      }\r\n\r\n\r\n","title":"How can I reverse a linked list?","body":"<pre><code>  list_t *reverse(list_t *a)\n  {\n    list_t *progress = NULL;\n    while(a)\n    {\n      list_t *b; //b is only a temporary variable (don't bother focusing on it)\n      b = a-&gt;next;\n      a-&gt;next = progress; // Because a-&gt;next is assigned to another value,\n                          // we must first save a-&gt;next to a different\n                          // variable (to be able to use it later)\n      progress = a; // progress is initially NULL (so a-&gt;next = NULL\n                    // (because it is the new last element in the list))\n      a = b; // We set a to b (the value we saved earlier, what\n             // a-&gt;next was before it became NULL)\n      /*\n        Now, at the next iteration, progress will equal a, and a will equal b.\n        So, when I assign a-&gt;next = progress, I really say, b-&gt;next = a.\n        and so what we get is: b-&gt;a-&gt;NULL.\n        Maybe that gives you an idea of the picture?\n\n        What is important here is:\n          progress = a\n        and\n          a = b\n\n        Because that determines what a-&gt;next will equal:\n          c-&gt;b-&gt;a-&gt;0\n\n        a's next is set to 0\n        b's next is set to a\n        c's next is set to b\n      */\n    }\n    return progress;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7170708,"reputation":31,"user_id":6377603,"display_name":"Gregory Schoenmakers"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464168469,"creation_date":1464168469,"answer_id":37432946,"question_id":9076923,"body_markdown":"The basic idea is to detach the head node from the first list and attach it to the head of a second list. Keep repeating until the first list is empty.\r\n\r\nPseudocode:\r\n\r\n    function reverseList(List X) RETURNS List\r\n       Y = null\r\n       WHILE X &lt;&gt; null\r\n          t = X.next\r\n          X.next = Y\r\n          Y = X\r\n          X = t\r\n       ENDWHILE\r\n       RETURN Y\r\n    ENDfunction\r\n\r\nIf you wish to leave the original list undisturbed then you can code a copying version recursively with the use of a helper function. \r\n\r\n    function reverseList(List X) RETURNS List\r\n       RETURN reverseListAux(X, null)\r\n    ENDfunction\r\n    \r\n    function reverseListAux(List X, List Y) RETURNS List\r\n       IF X = null THEN\r\n           RETURN Y\r\n       ELSE\r\n           RETURN reverseListAux(X.next, makeNode(X.data, Y))\r\n    ENDfunction\r\nNote that the helper function is tail recursive. This means that you can create a copying reversal using iteration.\r\n\r\n    function reverseList(List X) RETURNS List\r\n       Y = null\r\n       WHILE X &lt;&gt; null\r\n         Y = makeNode(x.data, Y)\r\n         X = X.next   \r\n       ENDWHILE\r\n       RETURN Y\r\n    ENDfunction\r\n\r\n","title":"How can I reverse a linked list?","body":"<p>The basic idea is to detach the head node from the first list and attach it to the head of a second list. Keep repeating until the first list is empty.</p>\n\n<p>Pseudocode:</p>\n\n<pre><code>function reverseList(List X) RETURNS List\n   Y = null\n   WHILE X &lt;&gt; null\n      t = X.next\n      X.next = Y\n      Y = X\n      X = t\n   ENDWHILE\n   RETURN Y\nENDfunction\n</code></pre>\n\n<p>If you wish to leave the original list undisturbed then you can code a copying version recursively with the use of a helper function. </p>\n\n<pre><code>function reverseList(List X) RETURNS List\n   RETURN reverseListAux(X, null)\nENDfunction\n\nfunction reverseListAux(List X, List Y) RETURNS List\n   IF X = null THEN\n       RETURN Y\n   ELSE\n       RETURN reverseListAux(X.next, makeNode(X.data, Y))\nENDfunction\n</code></pre>\n\n<p>Note that the helper function is tail recursive. This means that you can create a copying reversal using iteration.</p>\n\n<pre><code>function reverseList(List X) RETURNS List\n   Y = null\n   WHILE X &lt;&gt; null\n     Y = makeNode(x.data, Y)\n     X = X.next   \n   ENDWHILE\n   RETURN Y\nENDfunction\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7040090,"reputation":431,"user_id":5392840,"display_name":"Sonu Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592789366,"creation_date":1551726479,"answer_id":54989980,"question_id":9076923,"body_markdown":"Implementation of a singly-linked list reversal function:\r\n\r\n    struct Node\r\n    {\r\n        int data;\r\n        struct Node* link;\r\n    }\r\n\r\n    Node* head = NULL;\r\n\r\n    void reverseList()\r\n    {\r\n        Node* previous, *current, *next;\r\n        previous = NULL;\r\n        current = head;\r\n\r\n        while(current != NULL)\r\n        {\r\n            next = current-&gt; link;\r\n            current-&gt;link = previous;\r\n            previous = current;\r\n            current = next;\r\n        }\r\n\r\n        head = previous;\r\n    }\r\n","title":"How can I reverse a linked list?","body":"<p>Implementation of a singly-linked list reversal function:</p>\n<pre><code>struct Node\n{\n    int data;\n    struct Node* link;\n}\n\nNode* head = NULL;\n\nvoid reverseList()\n{\n    Node* previous, *current, *next;\n    previous = NULL;\n    current = head;\n\n    while(current != NULL)\n    {\n        next = current-&gt; link;\n        current-&gt;link = previous;\n        previous = current;\n        current = next;\n    }\n\n    head = previous;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1559890705,"post_id":56489158,"comment_id":99567766,"body_markdown":"*Why* allocate new `ListNode`s when the task is not *return a list with the values in reverse order*, but `reverse a linked list`? (Why *not* allocate a new node for a single-element list? You can combine the special cases: `if (head == null || head.next == null) return head;`)","body":"<i>Why</i> allocate new <code>ListNode</code>s when the task is not <i>return a list with the values in reverse order</i>, but <code>reverse a linked list</code>? (Why <i>not</i> allocate a new node for a single-element list? You can combine the special cases: <code>if (head == null || head.next == null) return head;</code>)"},{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":0,"creation_date":1559891289,"post_id":56489158,"comment_id":99568042,"body_markdown":"@greybeard Yes that can be done. But the way I did makes it easier to understand and also does not take up extra memory.","body":"@greybeard Yes that can be done. But the way I did makes it easier to understand and also does not take up extra memory."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1592789407,"post_id":56489158,"comment_id":110541080,"body_markdown":"Perhaps turn syntax highlighting off?","body":"Perhaps turn syntax highlighting off?"}],"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559889672,"creation_date":1559889672,"answer_id":56489158,"question_id":9076923,"body_markdown":"The easiest way to think about it is to think like this:\r\n\r\n1. First add the head of the list to a new linked list.\r\n2. Keep iterating through the original and keep adding the nodes before the head of the new linked list.\r\n\r\nDiagram:\r\n\r\n**Initially:**\r\n\r\n    Original List -&gt; 1 2 3 4 5\r\n    New List -&gt; null\r\n\r\n**1st Iteration**\r\n    \r\n    Original List -&gt; 1 2 3 4 5\r\n    New List -&gt; 1-&gt;null [head shifted to left, now newHead contains 1 and points to null]\r\n\r\n\r\n**2nd Iteration**\r\n    \r\n    Original List -&gt; 1 2 3 4 5\r\n    New List -&gt; 2-&gt; 1-&gt;null [head shifted to left, now newHead contains 2 and points to next node which is 1]\r\n\r\n**3rd Iteration**\r\n    \r\n    Original List -&gt; 1 2 3 4 5\r\n    New List -&gt;3 -&gt; 2-&gt; 1-&gt;null [head shifted to left, now newHead contains 2 and points to next node which is 1]\r\n\r\n\r\nNow it keeps looping through till the end. So finally the new list becomes:\r\n\r\n      New List-&gt;  5 -&gt; 4 -&gt; 3 -&gt; 2 -&gt; 1 -&gt; null\r\n\r\nThe code for the same should be like this (made it easy to understand):\r\n\r\n    /**\r\n     * Definition for singly-linked list.\r\n     * public class ListNode {\r\n     *     int val;\r\n     *     ListNode next;\r\n     *     ListNode(int x) { val = x; }\r\n     * }\r\n     */\r\n\r\n    public ListNode reverseList(ListNode head) {\r\n        if(head == null) {\r\n            return null;\r\n        }\r\n        \r\n        if(head.next == null) {\r\n            return head;\r\n        }\r\n        \r\n        ListNode current = head;\r\n        ListNode previous = new ListNode(head.val);\r\n        previous.next = null;\r\n        \r\n        while(current.next != null) {\r\n            current = current.next;\r\n            previous = addBeforeHead(current, previous);\r\n        }\r\n       \r\n        return previous;\r\n    }\r\n    \r\n    private ListNode addBeforeHead(ListNode node, ListNode head) {\r\n        if (node == null) return null;\r\n        ListNode temp = new ListNode(node.val);\r\n       \r\n        temp.next = head;\r\n        head = temp;\r\n        \r\n        return head;\r\n    }\r\n\r\n\r\n","title":"How can I reverse a linked list?","body":"<p>The easiest way to think about it is to think like this:</p>\n\n<ol>\n<li>First add the head of the list to a new linked list.</li>\n<li>Keep iterating through the original and keep adding the nodes before the head of the new linked list.</li>\n</ol>\n\n<p>Diagram:</p>\n\n<p><strong>Initially:</strong></p>\n\n<pre><code>Original List -&gt; 1 2 3 4 5\nNew List -&gt; null\n</code></pre>\n\n<p><strong>1st Iteration</strong></p>\n\n<pre><code>Original List -&gt; 1 2 3 4 5\nNew List -&gt; 1-&gt;null [head shifted to left, now newHead contains 1 and points to null]\n</code></pre>\n\n<p><strong>2nd Iteration</strong></p>\n\n<pre><code>Original List -&gt; 1 2 3 4 5\nNew List -&gt; 2-&gt; 1-&gt;null [head shifted to left, now newHead contains 2 and points to next node which is 1]\n</code></pre>\n\n<p><strong>3rd Iteration</strong></p>\n\n<pre><code>Original List -&gt; 1 2 3 4 5\nNew List -&gt;3 -&gt; 2-&gt; 1-&gt;null [head shifted to left, now newHead contains 2 and points to next node which is 1]\n</code></pre>\n\n<p>Now it keeps looping through till the end. So finally the new list becomes:</p>\n\n<pre><code>  New List-&gt;  5 -&gt; 4 -&gt; 3 -&gt; 2 -&gt; 1 -&gt; null\n</code></pre>\n\n<p>The code for the same should be like this (made it easy to understand):</p>\n\n<pre><code>/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) { val = x; }\n * }\n */\n\npublic ListNode reverseList(ListNode head) {\n    if(head == null) {\n        return null;\n    }\n\n    if(head.next == null) {\n        return head;\n    }\n\n    ListNode current = head;\n    ListNode previous = new ListNode(head.val);\n    previous.next = null;\n\n    while(current.next != null) {\n        current = current.next;\n        previous = addBeforeHead(current, previous);\n    }\n\n    return previous;\n}\n\nprivate ListNode addBeforeHead(ListNode node, ListNode head) {\n    if (node == null) return null;\n    ListNode temp = new ListNode(node.val);\n\n    temp.next = head;\n    head = temp;\n\n    return head;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4091048,"reputation":11,"user_id":3359003,"display_name":"user3359003"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618275381,"creation_date":1618275381,"answer_id":67067387,"question_id":9076923,"body_markdown":"Here is a simple function to reverse a singly linked list \r\n\r\n    // Defining Node structure\r\n\r\n\t\r\n    public class Node {\r\n    int value;\r\n\tNode next;\r\n\t\r\n\t\r\n\tpublic Node(int val) {\r\n\t\t\r\n\t\tthis.value=val;\r\n\t}\r\n\r\n}\r\n\r\n \r\n\r\n    public LinkedList reverse(LinkedList list) {\r\n\t\t\r\n\t\tif(list==null) {\r\n\t\t\t\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t\r\n\t\tNode current=list.head;\r\n\t\tNode previous=null;\r\n\t\tNode next;\r\n\t\t\r\n\t\twhile(current!=null) {\r\n\t\t\t\r\n\t\t\tnext=current.next;\r\n\t\t\t\r\n\t\t\tcurrent.next=previous;\r\n\t\t\t\r\n\t\t\tprevious=current;\r\n\t\t\t\r\n\t\t\tcurrent=next;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tlist.head=previous;\r\n\t\t\r\n\t\treturn list;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\nFor better understanding, you can watch this video https://youtu.be/6SYVz-pnVwg","title":"How can I reverse a linked list?","body":"<p>Here is a simple function to reverse a singly linked list</p>\n<pre><code>// Defining Node structure\n\n\npublic class Node {\nint value;\nNode next;\n\n\npublic Node(int val) {\n    \n    this.value=val;\n}\n</code></pre>\n<p>}</p>\n<pre><code>public LinkedList reverse(LinkedList list) {\n    \n    if(list==null) {\n        \n        return list;\n    }\n    \n    Node current=list.head;\n    Node previous=null;\n    Node next;\n    \n    while(current!=null) {\n        \n        next=current.next;\n        \n        current.next=previous;\n        \n        previous=current;\n        \n        current=next;\n        \n    }\n    \n    list.head=previous;\n    \n    return list;\n    \n    \n    \n    \n}\n</code></pre>\n<p>For better understanding, you can watch this video <a href=\"https://youtu.be/6SYVz-pnVwg\" rel=\"nofollow noreferrer\">https://youtu.be/6SYVz-pnVwg</a></p>\n"},{"tags":[],"owner":{"account_id":12976311,"reputation":64,"user_id":9380247,"display_name":"Shubhashish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639291025,"creation_date":1639291025,"answer_id":70321468,"question_id":9076923,"body_markdown":"If you want to use recursion:\r\n\r\n             class Solution {\r\n\r\n             ListNode root=null;\r\n\r\n             ListNode helper(ListNode head)\r\n             {\r\n                 if (head.next==null)\r\n                 {  root= head;\r\n                     return head;}\r\n\r\n                 helper (head.next).next=head;\r\n                 head.next=null;\r\n\r\n                 return head;\r\n             }\r\n\r\n\r\n             public ListNode reverseList(ListNode head) {\r\n                 if (head==null)\r\n                 {\r\n                     return head;\r\n                 }\r\n                 helper(head);\r\n                 return  root;\r\n\r\n             }\r\n         }","title":"How can I reverse a linked list?","body":"<p>If you want to use recursion:</p>\n<pre><code>         class Solution {\n\n         ListNode root=null;\n\n         ListNode helper(ListNode head)\n         {\n             if (head.next==null)\n             {  root= head;\n                 return head;}\n\n             helper (head.next).next=head;\n             head.next=null;\n\n             return head;\n         }\n\n\n         public ListNode reverseList(ListNode head) {\n             if (head==null)\n             {\n                 return head;\n             }\n             helper(head);\n             return  root;\n\n         }\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27565780,"reputation":1,"user_id":21037996,"display_name":"Dangeti Durgaprasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674102088,"creation_date":1674102088,"answer_id":75167736,"question_id":9076923,"body_markdown":"    public void reverseOrder() {\r\n\t\tif(head == null) {\r\n\t\t\tSystem.out.println(&quot;list is empty&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\tNode cn = head;\r\n\t\tint count = 0;\r\n\t\twhile (cn != null) {\r\n\t\t\tcount++;\r\n\t\t\tcn = cn.next;\r\n\t\t}\r\n\t\tNode temp;\r\n\t\tfor(int i = 1; i&lt;=count; i++) {\r\n\t\t\ttemp = head;\r\n\t\t\tfor(int j = i; j&lt;count; j++) {\r\n\t\t\t\ttemp = temp.next;\r\n\t\t\t}\r\n\t\t\tSystem.out.print(temp.data+&quot; -&gt;&quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;null&quot;);\r\n\t}\r\n\t}","title":"How can I reverse a linked list?","body":"<pre><code>public void reverseOrder() {\n    if(head == null) {\n        System.out.println(&quot;list is empty&quot;);\n    }\n    else {\n    Node cn = head;\n    int count = 0;\n    while (cn != null) {\n        count++;\n        cn = cn.next;\n    }\n    Node temp;\n    for(int i = 1; i&lt;=count; i++) {\n        temp = head;\n        for(int j = i; j&lt;count; j++) {\n            temp = temp.next;\n        }\n        System.out.print(temp.data+&quot; -&gt;&quot;);\n    }\n    System.out.print(&quot;null&quot;);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1206801,"reputation":289,"user_id":1176235,"accept_rate":0,"display_name":"user1176235"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21879,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":13,"score":23,"last_activity_date":1674102088,"creation_date":1328000779,"question_id":9076923,"body_markdown":"Consider:\r\n\r\n     Node reverse(Node head) {\r\n        Node previous = null;\r\n        Node current = head;\r\n        Node forward;\r\n\r\n        while (current != null) {\r\n            forward = current.next;\r\n            current.next = previous;\r\n            previous = current;\r\n            current = forward;\r\n        }\r\n\r\n        return previous;\r\n    }\r\n\r\nHow exactly is it reversing the list?\r\n\r\nI get that it first sets the second node to `forward`. Then it says `current.next` is equal to a `null` node `previous`. Then it says `previous` is now `current`. Lastly `current` becomes `forward`?\r\n\r\nI can&#39;t seem to grasp this and how it&#39;s reversing. Can someone please explain how this works?\r\n\r\n\r\n\r\n\r\n","title":"How can I reverse a linked list?","body":"<p>Consider:</p>\n<pre><code> Node reverse(Node head) {\n    Node previous = null;\n    Node current = head;\n    Node forward;\n\n    while (current != null) {\n        forward = current.next;\n        current.next = previous;\n        previous = current;\n        current = forward;\n    }\n\n    return previous;\n}\n</code></pre>\n<p>How exactly is it reversing the list?</p>\n<p>I get that it first sets the second node to <code>forward</code>. Then it says <code>current.next</code> is equal to a <code>null</code> node <code>previous</code>. Then it says <code>previous</code> is now <code>current</code>. Lastly <code>current</code> becomes <code>forward</code>?</p>\n<p>I can't seem to grasp this and how it's reversing. Can someone please explain how this works?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4657551,"reputation":55619,"user_id":4492932,"accept_rate":100,"display_name":"DYZ"},"score":1,"creation_date":1674101368,"post_id":75167655,"comment_id":132644471,"body_markdown":"Check your code&#39;s logic. If `Words.charAt(i)==&#39; &#39;` then `Character.isDigit(Words.charAt(i))` is false (a character cannot be a space and a digit at the same time). Better yet, use `String.split()` method to separate words.","body":"Check your code&#39;s logic. If <code>Words.charAt(i)==&#39; &#39;</code> then <code>Character.isDigit(Words.charAt(i))</code> is false (a character cannot be a space and a digit at the same time). Better yet, use <code>String.split()</code> method to separate words."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1674101500,"post_id":75167655,"comment_id":132644488,"body_markdown":"You want to [split](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#split(java.lang.String)). That will give you an array of `String`. You can then iterate through the array, testing the first character of each element.  If you want to split on any whitespace character, see the checked answer at https://stackoverflow.com/questions/225337/how-to-split-a-string-with-any-whitespace-chars-as-delimiters","body":"You want to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">split</a>. That will give you an array of <code>String</code>. You can then iterate through the array, testing the first character of each element.  If you want to split on any whitespace character, see the checked answer at <a href=\"https://stackoverflow.com/questions/225337/how-to-split-a-string-with-any-whitespace-chars-as-delimiters\" title=\"how to split a string with any whitespace chars as delimiters\">stackoverflow.com/questions/225337/&hellip;</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1674101559,"post_id":75167655,"comment_id":132644503,"body_markdown":"your logic doesn&#39;t make sense: a char at any position ca have exactly one value :) use a piece of paper or a debugger to work through it","body":"your logic doesn&#39;t make sense: a char at any position ca have exactly one value :) use a piece of paper or a debugger to work through it"}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1674101547,"post_id":75167691,"comment_id":132644500,"body_markdown":"@DYZ You mean if there are 2 spaces.","body":"@DYZ You mean if there are 2 spaces."},{"owner":{"account_id":4657551,"reputation":55619,"user_id":4492932,"accept_rate":100,"display_name":"DYZ"},"score":0,"creation_date":1674101610,"post_id":75167691,"comment_id":132644513,"body_markdown":"My bad, I did not notice the second term.","body":"My bad, I did not notice the second term."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674102073,"creation_date":1674101481,"answer_id":75167691,"question_id":75167655,"body_markdown":"The `isDigit()` check doesn&#39;t belong inside the `if`. You need to move it into the `if` *condition*, and you want to check the *next* character before incrementing:\r\n\r\n    if (Words.charAt(i) == &#39; &#39;\r\n            &amp;&amp; i + 1 &lt; Words.length()\r\n            &amp;&amp; !Character.isDigit(Words.charAt(i + 1)))\r\n    {\r\n        WordCount++;\r\n    }\r\n\r\nNote that only checking digits means *any* other character following a space is considered a new word, including symbols or additional spaces.","title":"How do I exclude numbers from my word count?","body":"<p>The <code>isDigit()</code> check doesn't belong inside the <code>if</code>. You need to move it into the <code>if</code> <em>condition</em>, and you want to check the <em>next</em> character before incrementing:</p>\n<pre><code>if (Words.charAt(i) == ' '\n        &amp;&amp; i + 1 &lt; Words.length()\n        &amp;&amp; !Character.isDigit(Words.charAt(i + 1)))\n{\n    WordCount++;\n}\n</code></pre>\n<p>Note that only checking digits means <em>any</em> other character following a space is considered a new word, including symbols or additional spaces.</p>\n"},{"tags":[],"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674101550,"creation_date":1674101550,"answer_id":75167697,"question_id":75167655,"body_markdown":"Use String.split so you don&#39;t have to check for spaces \r\n```\r\npublic static void main(String[] args) {\r\n        String words = &quot;This is a test123 123&quot;;\r\n        int wordCount = 0;\r\n        for (String word : words.split(&quot; &quot;))\r\n        {\r\n            if (!Character.isDigit(word.charAt(0)))\r\n            {\r\n                wordCount++;\r\n            }\r\n        }\r\n        System.out.println(&quot;The number of words is &quot; + wordCount); \r\n}\r\n```","title":"How do I exclude numbers from my word count?","body":"<p>Use String.split so you don't have to check for spaces</p>\n<pre><code>public static void main(String[] args) {\n        String words = &quot;This is a test123 123&quot;;\n        int wordCount = 0;\n        for (String word : words.split(&quot; &quot;))\n        {\n            if (!Character.isDigit(word.charAt(0)))\n            {\n                wordCount++;\n            }\n        }\n        System.out.println(&quot;The number of words is &quot; + wordCount); \n}\n</code></pre>\n"}],"owner":{"account_id":27569285,"reputation":1,"user_id":21040808,"display_name":"Orthros"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1674102073,"creation_date":1674101067,"question_id":75167655,"body_markdown":"I wanted to make a word count, but exclude all of the words that started with a number.\r\n\r\nThe code below is supposed to print the number 4, but it instead prints 5.\r\n```\r\npublic class WordCountLab {\r\n\r\n    public static void main(String[] args) {\r\n    String Words = &quot;This is a test123 123&quot;;\r\n       int WordCount = 1;\r\n        for (int i = 0; i &lt; Words.length(); i++)\r\n        {\r\n            if (Words.charAt(i) == &#39; &#39;)\r\n            {\r\n                WordCount++;\r\n            \r\n                if (Character.isDigit(Words.charAt(i)))\r\n                {\r\n\r\n                    WordCount++;\r\n                    \r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;The number of words is &quot; + WordCount); \r\n    }\r\n}\r\n```","title":"How do I exclude numbers from my word count?","body":"<p>I wanted to make a word count, but exclude all of the words that started with a number.</p>\n<p>The code below is supposed to print the number 4, but it instead prints 5.</p>\n<pre><code>public class WordCountLab {\n\n    public static void main(String[] args) {\n    String Words = &quot;This is a test123 123&quot;;\n       int WordCount = 1;\n        for (int i = 0; i &lt; Words.length(); i++)\n        {\n            if (Words.charAt(i) == ' ')\n            {\n                WordCount++;\n            \n                if (Character.isDigit(Words.charAt(i)))\n                {\n\n                    WordCount++;\n                    \n                }\n            }\n        }\n        System.out.println(&quot;The number of words is &quot; + WordCount); \n    }\n}\n</code></pre>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"comments":[{"owner":{"account_id":1745021,"reputation":35219,"user_id":1595451,"accept_rate":100,"display_name":"Rub&#233;n"},"score":1,"creation_date":1674102030,"post_id":64898455,"comment_id":132644582,"body_markdown":"@Fazal before adding tags please review the tag wiki. [tag:api] excerpt clearly says : DO NOT USE","body":"@Fazal before adding tags please review the tag wiki. <a href=\"https://stackoverflow.com/questions/tagged/api\">api</a> excerpt clearly says : DO NOT USE"},{"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"score":0,"creation_date":1674112600,"post_id":64898455,"comment_id":132646245,"body_markdown":"thank you for clarifying my misunderstanding @Ruben Sir","body":"thank you for clarifying my misunderstanding @Ruben Sir"}],"answers":[{"comments":[{"owner":{"account_id":9661382,"reputation":315,"user_id":7169325,"display_name":"Akash Mulik"},"score":0,"creation_date":1691009424,"post_id":75140369,"comment_id":135434368,"body_markdown":"How to add property to the annotation? Like- @JsonInclude(Include.NON_NULL)","body":"How to add property to the annotation? Like- @JsonInclude(Include.NON_NULL)"}],"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1673908945,"creation_date":1673908945,"answer_id":75140369,"question_id":64898455,"body_markdown":"the `openapi generator` supports vendor extensions.  Specifically, for the Java generator, it supports the following extensions as of the time of writing.  However, an up-to-date list can be found [here][1].\r\n\r\n| Extension name | Description | Applicable for | Default value |\r\n| -------------- | ----------- | -------------- | ------------- |\r\n|x-discriminator-value|Used with model inheritance to specify value for discriminator that identifies current model|MODEL|\r\n|x-implements|Ability to specify interfaces that model must implements|MODEL|empty array\r\n|x-setter-extra-annotation|Custom annotation that can be specified over java setter for specific field|FIELD|When field is array &amp; uniqueItems, then this extension is used to add `@JsonDeserialize(as = LinkedHashSet.class)` over setter, otherwise no value\r\n|x-tags|Specify multiple swagger tags for operation|OPERATION|null\r\n|x-accepts|Specify custom value for &#39;Accept&#39; header for operation|OPERATION|null\r\n|x-content-type|Specify custom value for &#39;Content-Type&#39; header for operation|OPERATION|null\r\n|x-class-extra-annotation|List of custom annotations to be added to model|MODEL|null\r\n|x-field-extra-annotation|List of custom annotations to be added to property|FIELD|null\r\n|x-webclient-blocking|Specifies if method for specific operation should be blocking or non-blocking(ex: return `Mono&lt;T&gt;/Flux&lt;T&gt;` or `return T/List&lt;T&gt;/Set&lt;T&gt;` &amp; execute `.block()` inside generated method)|OPERATION|false\r\n\r\nYou can use the `x-field-extra-annotation` vendor extension listed above to add annotations to any field.  So, for your example, you can add the following:\r\n\r\n```yaml\r\nopenapi: 3.0.0\r\ninfo:\r\n  title: Cool API\r\n  description: A Cool API spec\r\n  version: 0.0.1\r\nservers:\r\n  - url: http://api.cool.com/v1\r\n    description: Cool server for testing\r\npaths:\r\n  /\r\n  ...\r\ncomponents:\r\n  schemas:\r\n    MyPojo:\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: integer\r\n        name:\r\n          type: string\r\n        # I want the below attribute to be ignored as a part of JSON \r\n        ignoreProperty:  \r\n          type: string  \r\n          x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonIgnore&quot;\r\n```\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/java.md#supported-vendor-extensions","title":"JsonIgnore using Open API spec","body":"<p>the <code>openapi generator</code> supports vendor extensions.  Specifically, for the Java generator, it supports the following extensions as of the time of writing.  However, an up-to-date list can be found <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/java.md#supported-vendor-extensions\" rel=\"noreferrer\">here</a>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Extension name</th>\n<th>Description</th>\n<th>Applicable for</th>\n<th>Default value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>x-discriminator-value</td>\n<td>Used with model inheritance to specify value for discriminator that identifies current model</td>\n<td>MODEL</td>\n<td></td>\n</tr>\n<tr>\n<td>x-implements</td>\n<td>Ability to specify interfaces that model must implements</td>\n<td>MODEL</td>\n<td>empty array</td>\n</tr>\n<tr>\n<td>x-setter-extra-annotation</td>\n<td>Custom annotation that can be specified over java setter for specific field</td>\n<td>FIELD</td>\n<td>When field is array &amp; uniqueItems, then this extension is used to add <code>@JsonDeserialize(as = LinkedHashSet.class)</code> over setter, otherwise no value</td>\n</tr>\n<tr>\n<td>x-tags</td>\n<td>Specify multiple swagger tags for operation</td>\n<td>OPERATION</td>\n<td>null</td>\n</tr>\n<tr>\n<td>x-accepts</td>\n<td>Specify custom value for 'Accept' header for operation</td>\n<td>OPERATION</td>\n<td>null</td>\n</tr>\n<tr>\n<td>x-content-type</td>\n<td>Specify custom value for 'Content-Type' header for operation</td>\n<td>OPERATION</td>\n<td>null</td>\n</tr>\n<tr>\n<td>x-class-extra-annotation</td>\n<td>List of custom annotations to be added to model</td>\n<td>MODEL</td>\n<td>null</td>\n</tr>\n<tr>\n<td>x-field-extra-annotation</td>\n<td>List of custom annotations to be added to property</td>\n<td>FIELD</td>\n<td>null</td>\n</tr>\n<tr>\n<td>x-webclient-blocking</td>\n<td>Specifies if method for specific operation should be blocking or non-blocking(ex: return <code>Mono&lt;T&gt;/Flux&lt;T&gt;</code> or <code>return T/List&lt;T&gt;/Set&lt;T&gt;</code> &amp; execute <code>.block()</code> inside generated method)</td>\n<td>OPERATION</td>\n<td>false</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You can use the <code>x-field-extra-annotation</code> vendor extension listed above to add annotations to any field.  So, for your example, you can add the following:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.0\ninfo:\n  title: Cool API\n  description: A Cool API spec\n  version: 0.0.1\nservers:\n  - url: http://api.cool.com/v1\n    description: Cool server for testing\npaths:\n  /\n  ...\ncomponents:\n  schemas:\n    MyPojo:\n      type: object\n      properties:\n        id:\n          type: integer\n        name:\n          type: string\n        # I want the below attribute to be ignored as a part of JSON \n        ignoreProperty:  \n          type: string  \n          x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonIgnore&quot;\n</code></pre>\n"}],"owner":{"account_id":81348,"reputation":1032,"user_id":229461,"accept_rate":93,"display_name":"DDK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2172,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":75140369,"answer_count":1,"score":9,"last_activity_date":1674102067,"creation_date":1605721457,"question_id":64898455,"body_markdown":"I use [OpenAPI][1] spec to generate Java POJOs. What do I need to specify in Open API yaml to generate the equivalent of below POJO ?\r\n\r\n```\r\n...\r\n@JsonIgnore\r\npublic String ignoredProperty;\r\n...\r\n```\r\n\r\nI have the yaml spec as below\r\n```\r\nopenapi: 3.0.0\r\ninfo:\r\n  title: Cool API\r\n  description: A Cool API spec\r\n  version: 0.0.1\r\nservers:\r\n  - url: http://api.cool.com/v1\r\n    description: Cool server for testing\r\npaths:\r\n  /\r\n  ...\r\ncomponents:\r\n  schemas:\r\n    MyPojo:\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: integer\r\n        name:\r\n          type: string\r\n        # I want the below attribute to be ignored as a part of JSON \r\n        ignoreProperty:  \r\n          type: string  \r\n```\r\n\r\n\r\n  [1]: https://github.com/OAI/OpenAPI-Specification","title":"JsonIgnore using Open API spec","body":"<p>I use <a href=\"https://github.com/OAI/OpenAPI-Specification\" rel=\"noreferrer\">OpenAPI</a> spec to generate Java POJOs. What do I need to specify in Open API yaml to generate the equivalent of below POJO ?</p>\n<pre><code>...\n@JsonIgnore\npublic String ignoredProperty;\n...\n</code></pre>\n<p>I have the yaml spec as below</p>\n<pre><code>openapi: 3.0.0\ninfo:\n  title: Cool API\n  description: A Cool API spec\n  version: 0.0.1\nservers:\n  - url: http://api.cool.com/v1\n    description: Cool server for testing\npaths:\n  /\n  ...\ncomponents:\n  schemas:\n    MyPojo:\n      type: object\n      properties:\n        id:\n          type: integer\n        name:\n          type: string\n        # I want the below attribute to be ignored as a part of JSON \n        ignoreProperty:  \n          type: string  \n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iya Bursov"},"score":1,"creation_date":1424137414,"post_id":28553361,"comment_id":45419539,"body_markdown":"just before end of loop you need `number = input.nextInt();` to read next number","body":"just before end of loop you need <code>number = input.nextInt();</code> to read next number"},{"owner":{"account_id":5136809,"reputation":63,"user_id":4115306,"accept_rate":100,"display_name":"Chris Redfieldea"},"score":0,"creation_date":1424137569,"post_id":28553361,"comment_id":45419574,"body_markdown":"--Placing the &quot;System&quot; print outs outside of the while statement allows for me input numbers BUT it does nothing else after that! I&#39;m confused!!!!","body":"--Placing the &quot;System&quot; print outs outside of the while statement allows for me input numbers BUT it does nothing else after that! I&#39;m confused!!!!"}],"answers":[{"comments":[{"owner":{"account_id":5136809,"reputation":63,"user_id":4115306,"accept_rate":100,"display_name":"Chris Redfieldea"},"score":0,"creation_date":1424138665,"post_id":28553441,"comment_id":45419843,"body_markdown":"Ty for your help. I don&#39;t know why everyone keeps marking my posts down as if I&#39;m supposed already know everything. I don&#39;t understand most of this stuff half of the time, and restless re-reading does nothing for me... `while((number = input.nextInt()) != 0) {`  The chapter I&#39;m in never covered this statement being used in such a way... I&#39;m limited to what information is given to me and I wouldn&#39;t have known to use the statement that way if I was looking for it... I don&#39;t understand what research area I&#39;m supposed to look at to know how to use it--technique.","body":"Ty for your help. I don&#39;t know why everyone keeps marking my posts down as if I&#39;m supposed already know everything. I don&#39;t understand most of this stuff half of the time, and restless re-reading does nothing for me... <code>while((number = input.nextInt()) != 0) {</code>  The chapter I&#39;m in never covered this statement being used in such a way... I&#39;m limited to what information is given to me and I wouldn&#39;t have known to use the statement that way if I was looking for it... I don&#39;t understand what research area I&#39;m supposed to look at to know how to use it--technique."},{"owner":{"account_id":5136809,"reputation":63,"user_id":4115306,"accept_rate":100,"display_name":"Chris Redfieldea"},"score":0,"creation_date":1424138845,"post_id":28553441,"comment_id":45419892,"body_markdown":"If `average` has been assigned as a float, why would I need for `count` to be a float as well?","body":"If <code>average</code> has been assigned as a float, why would I need for <code>count</code> to be a float as well?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1424139812,"post_id":28553441,"comment_id":45420140,"body_markdown":"@ChrisRedfieldea The assignment and testing the side effect is a very common idiom in Java. The result of dividing two `int` values is an `int`, widening it to a `float` doesn&#39;t grant the result extra precision; instead, promote one of the values to a `float` and then the result is a `float`.","body":"@ChrisRedfieldea The assignment and testing the side effect is a very common idiom in Java. The result of dividing two <code>int</code> values is an <code>int</code>, widening it to a <code>float</code> doesn&#39;t grant the result extra precision; instead, promote one of the values to a <code>float</code> and then the result is a <code>float</code>."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1424137948,"creation_date":1424137948,"answer_id":28553441,"question_id":28553361,"body_markdown":"You need to read more numbers. You read one value before your loop. You could do something like\r\n\r\n    int number;\r\n    while((number = input.nextInt()) != 0) {\r\n        total += number;\r\n        count++;\r\n        if(number &gt; 0){\r\n            positive++;\r\n        } else if(number &lt; 0) {\r\n            negative++;\r\n        }\r\n    } // &lt;-- end loop body.\r\n    float average = total / (float) count; // &lt;-- not integer math.\r\n    System.out.println(&quot;The number of positives is &quot; + positive);\r\n    System.out.println(&quot;The number of negatives is &quot; + negative);\r\n    System.out.println(&quot;The total is &quot; + total);\r\n    System.out.println(&quot;The average is &quot; + average);","title":"Write a program that reads an unspecified number of integers, determines pos, neg, total, average","body":"<p>You need to read more numbers. You read one value before your loop. You could do something like</p>\n\n<pre><code>int number;\nwhile((number = input.nextInt()) != 0) {\n    total += number;\n    count++;\n    if(number &gt; 0){\n        positive++;\n    } else if(number &lt; 0) {\n        negative++;\n    }\n} // &lt;-- end loop body.\nfloat average = total / (float) count; // &lt;-- not integer math.\nSystem.out.println(\"The number of positives is \" + positive);\nSystem.out.println(\"The number of negatives is \" + negative);\nSystem.out.println(\"The total is \" + total);\nSystem.out.println(\"The average is \" + average);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10234154,"reputation":1,"user_id":7553765,"display_name":"bacakujt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488202172,"creation_date":1488202172,"answer_id":42487026,"question_id":28553361,"body_markdown":"You should just use the do while.\r\n\r\n    import java.util.*;  \r\n    public class PosAndNeg   {   \r\n    public static void main(String [] args){  \r\n    Scanner input = new Scanner(System.in);  \r\n    \r\n    int positive = 0, negative = 0, total = 0, count = 0;  \r\n    int number;\r\n    float average;\r\n\r\n\t     System.out.println(&quot;Enter the number: &quot;);\r\n\t     do { number = input.nextInt();\r\n\t     total += number;\r\n\t        count++;  \r\n\t           if(number &gt; 0){\r\n\t           positive++;\r\n\t        }\r\n\t             else if(number &lt; 0){\r\n\t            negative++;\r\n\t        }\r\n        }\r\n\t     while(number != 0);\r\n\r\n\t     average = total / count;\r\n\r\n\t     System.out.println(&quot;The number of positives is &quot;+ positive);\r\n\t     System.out.println(&quot;The number of negatives is &quot;+ negative);\r\n\t     System.out.println(&quot;The total is &quot;+ total);\r\n\t     System.out.println(&quot;The average is &quot;+ average);\r\n\t     \r\n\t\t}\r\n  \r\n\r\n\r\n}","title":"Write a program that reads an unspecified number of integers, determines pos, neg, total, average","body":"<p>You should just use the do while.</p>\n\n<pre><code>import java.util.*;  \npublic class PosAndNeg   {   \npublic static void main(String [] args){  \nScanner input = new Scanner(System.in);  \n\nint positive = 0, negative = 0, total = 0, count = 0;  \nint number;\nfloat average;\n\n     System.out.println(\"Enter the number: \");\n     do { number = input.nextInt();\n     total += number;\n        count++;  \n           if(number &gt; 0){\n           positive++;\n        }\n             else if(number &lt; 0){\n            negative++;\n        }\n    }\n     while(number != 0);\n\n     average = total / count;\n\n     System.out.println(\"The number of positives is \"+ positive);\n     System.out.println(\"The number of negatives is \"+ negative);\n     System.out.println(\"The total is \"+ total);\n     System.out.println(\"The average is \"+ average);\n\n    }\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":8228563,"reputation":2438,"user_id":6190043,"display_name":"Saurabh Bhandari"},"score":0,"creation_date":1497069398,"post_id":44469543,"comment_id":75935181,"body_markdown":"please also  provide description and  explanation what you answered","body":"please also  provide description and  explanation what you answered"},{"owner":{"account_id":11081678,"reputation":11,"user_id":8136695,"display_name":"Tushar Verma"},"score":0,"creation_date":1497075315,"post_id":44469543,"comment_id":75936259,"body_markdown":"it is quite simple problem                                                                        1.here i have declare three variables &quot;pos&quot; to count positive integer,&quot;neg&quot; to count negative integers and &quot;total&quot; for storing total sum of all integer.","body":"it is quite simple problem                                                                        1.here i have declare three variables &quot;pos&quot; to count positive integer,&quot;neg&quot; to count negative integers and &quot;total&quot; for storing total sum of all integer."}],"tags":[],"owner":{"account_id":11081678,"reputation":11,"user_id":8136695,"display_name":"Tushar Verma"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497075108,"creation_date":1497069254,"answer_id":44469543,"question_id":28553361,"body_markdown":"    // use type conversion while evaluating average\r\n    import java.util.Scanner;\r\n    public class newClass{\r\n    public static void main(String[] args){\r\n    \tint pos=0;\r\n    \tint neg=0;\r\n    \tint total=0;\r\n    Scanner sc= new Scanner(System.in);\r\n    System.out.println(&quot;enter the total numbers user want to enter&quot;);\r\n    \r\n    int  i=sc.nextInt();\r\n    int [] num= new int[i];\r\n    System.out.println(&quot;Please enter number&quot;);\r\n    for (int j = 0; j &lt; num.length; j++)\r\n    {   \r\n    \r\n        num[j] = sc.nextInt();\r\n        if(num[j]&gt;0)\r\n    \t\tpos++;\r\n    \telse\r\n    \t\tneg++;\r\n        total=total+num[j];\r\n    \r\n    }\r\n    System.out.println(num.length);\r\n    double avg =(float)total/(num.length);\r\n    System.out.println(&quot;positive count=&quot;+pos+&quot;negative count=&quot;+neg+&quot; average =&quot;+avg);\r\n    }\r\n    }","title":"Write a program that reads an unspecified number of integers, determines pos, neg, total, average","body":"<pre><code>// use type conversion while evaluating average\nimport java.util.Scanner;\npublic class newClass{\npublic static void main(String[] args){\n    int pos=0;\n    int neg=0;\n    int total=0;\nScanner sc= new Scanner(System.in);\nSystem.out.println(\"enter the total numbers user want to enter\");\n\nint  i=sc.nextInt();\nint [] num= new int[i];\nSystem.out.println(\"Please enter number\");\nfor (int j = 0; j &lt; num.length; j++)\n{   \n\n    num[j] = sc.nextInt();\n    if(num[j]&gt;0)\n        pos++;\n    else\n        neg++;\n    total=total+num[j];\n\n}\nSystem.out.println(num.length);\ndouble avg =(float)total/(num.length);\nSystem.out.println(\"positive count=\"+pos+\"negative count=\"+neg+\" average =\"+avg);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22399173,"reputation":1,"user_id":16609956,"display_name":"A123454321E"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1628284514,"creation_date":1628280063,"answer_id":68686932,"question_id":28553361,"body_markdown":"```\r\nimport java.util.Scanner;\r\npublic class NewClass{\r\npublic static void main(String[] args) {\r\n    int N=0,p=0,t=0;\r\n System.out.println(&quot;enter \r\nintegers&quot;);\r\nScanner obj=new Scanner \r\n(System.in);\r\n    int a=obj.nextInt();\r\n    while (a!=0){\r\n    t+=a;\r\n    if (a&lt;0){\r\n    N++;\r\n    }\r\n    else if (a&gt;0){\r\n    p++;\r\n    }\r\n    int b=obj.nextInt();\r\n    a=b;\r\n    }\r\n    System.out.println(&quot;the \r\n    number of negative \r\n    numbers is\\t\\t&quot;+N);\r\n    System.out.println(&quot;the \r\n    number of positive number \r\n    is\\t\\t&quot;+p);\r\n    float l=N+p;\r\n    float average=(float) t/l;\r\n    System.out.println(&quot;the total \r\n    is\\t\\t&quot;+t);\r\n    System.out.println(&quot;the \r\n    average is\\t\\t&quot;+average);\r\n  }\r\n}","title":"Write a program that reads an unspecified number of integers, determines pos, neg, total, average","body":"<pre><code>import java.util.Scanner;\npublic class NewClass{\npublic static void main(String[] args) {\n    int N=0,p=0,t=0;\n System.out.println(&quot;enter \nintegers&quot;);\nScanner obj=new Scanner \n(System.in);\n    int a=obj.nextInt();\n    while (a!=0){\n    t+=a;\n    if (a&lt;0){\n    N++;\n    }\n    else if (a&gt;0){\n    p++;\n    }\n    int b=obj.nextInt();\n    a=b;\n    }\n    System.out.println(&quot;the \n    number of negative \n    numbers is\\t\\t&quot;+N);\n    System.out.println(&quot;the \n    number of positive number \n    is\\t\\t&quot;+p);\n    float l=N+p;\n    float average=(float) t/l;\n    System.out.println(&quot;the total \n    is\\t\\t&quot;+t);\n    System.out.println(&quot;the \n    average is\\t\\t&quot;+average);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5136809,"reputation":63,"user_id":4115306,"accept_rate":100,"display_name":"Chris Redfieldea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55423,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":28553441,"answer_count":4,"score":-1,"last_activity_date":1674100988,"creation_date":1424137343,"question_id":28553361,"body_markdown":"(Count positive and negative numbers and compute the average of numbers) Write\r\na program that reads an unspecified number of integers, determines how many\r\npositive and negative values have been read, and computes the total and average of\r\nthe input values (not counting zeros). Your program ends with the input 0. Display\r\nthe average as a floating-point number. Here is a sample run:\r\n\r\nEnter an integer, the input ends if it is 0: 1 2 -1 3 0\r\n\r\nThe number of positives is 3\r\n\r\nThe number of negatives is 1\r\n\r\nThe total is 5.0\r\n\r\nThe average is 1.25\r\n\r\n**I have 2 major issues. 1) I cannot get the loop to stop. 2) even if I did, the average comes up short. Using the example above, my average is always 1.0, not 1.25 as it should be. It&#39;s like the program is reading 5 numbers total instead of the 4 numbers that equate to 5.** What is seen in the code below is all I can use: Bare basics of java...\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class NewClass {\r\n     public static void main(String[] args) {\r\n     Scanner input = new Scanner(System.in);\r\n     \r\n         int positive = 0, negative = 0, total = 0, count = 0;\r\n         \r\n         float average;\r\n     \r\n         System.out.println(&quot;Enter the number: &quot;);\r\n         int number = input.nextInt();\r\n         \r\n         while(number != 0) {\r\n            total += number;\r\n            count++;\r\n            \r\n            if(number &gt; 0){\r\n            positive++;\r\n            }\r\n            \r\n            else if(number &lt; 0){\r\n            negative++;\r\n            }\r\n         \r\n         average = total / count;\r\n         \r\n         System.out.println(&quot;The number of positives is &quot;+ positive);\r\n         System.out.println(&quot;The number of negatives is &quot;+ negative);\r\n         System.out.println(&quot;The total is &quot;+ total);\r\n         System.out.println(&quot;The average is &quot;+ average);\r\n         }\r\n       }\r\n    }","title":"Write a program that reads an unspecified number of integers, determines pos, neg, total, average","body":"<p>(Count positive and negative numbers and compute the average of numbers) Write\na program that reads an unspecified number of integers, determines how many\npositive and negative values have been read, and computes the total and average of\nthe input values (not counting zeros). Your program ends with the input 0. Display\nthe average as a floating-point number. Here is a sample run:</p>\n\n<p>Enter an integer, the input ends if it is 0: 1 2 -1 3 0</p>\n\n<p>The number of positives is 3</p>\n\n<p>The number of negatives is 1</p>\n\n<p>The total is 5.0</p>\n\n<p>The average is 1.25</p>\n\n<p><strong>I have 2 major issues. 1) I cannot get the loop to stop. 2) even if I did, the average comes up short. Using the example above, my average is always 1.0, not 1.25 as it should be. It's like the program is reading 5 numbers total instead of the 4 numbers that equate to 5.</strong> What is seen in the code below is all I can use: Bare basics of java...</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class NewClass {\n public static void main(String[] args) {\n Scanner input = new Scanner(System.in);\n\n     int positive = 0, negative = 0, total = 0, count = 0;\n\n     float average;\n\n     System.out.println(\"Enter the number: \");\n     int number = input.nextInt();\n\n     while(number != 0) {\n        total += number;\n        count++;\n\n        if(number &gt; 0){\n        positive++;\n        }\n\n        else if(number &lt; 0){\n        negative++;\n        }\n\n     average = total / count;\n\n     System.out.println(\"The number of positives is \"+ positive);\n     System.out.println(\"The number of negatives is \"+ negative);\n     System.out.println(\"The total is \"+ total);\n     System.out.println(\"The average is \"+ average);\n     }\n   }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":1,"creation_date":1674070681,"post_id":75164324,"comment_id":132639087,"body_markdown":"Thanks but it doesn&#39;t work","body":"Thanks but it doesn&#39;t work"},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1674070997,"post_id":75164324,"comment_id":132639176,"body_markdown":"This happens on the first run after installation. And what&#39;s more, everything is fine on physical devices with Android 10 on all others and on emulators as well.","body":"This happens on the first run after installation. And what&#39;s more, everything is fine on physical devices with Android 10 on all others and on emulators as well."}],"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674069873,"creation_date":1674069873,"answer_id":75164324,"question_id":75164111,"body_markdown":"The crash is not in the above lines.. However, you are accessing binding after you navigate the screen. \r\n\r\nYou need to safe call `isAdded` before using binding as follow: e.g. \r\n\r\n    if(isAdded){\r\n        binding.button.setOnClickListener{ ... }\r\n    }","title":"Fatal Exception: java.lang.NullPointerException crash event","body":"<p>The crash is not in the above lines.. However, you are accessing binding after you navigate the screen.</p>\n<p>You need to safe call <code>isAdded</code> before using binding as follow: e.g.</p>\n<pre><code>if(isAdded){\n    binding.button.setOnClickListener{ ... }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11393428,"reputation":115,"user_id":8352632,"display_name":"karan"},"score":0,"creation_date":1681381738,"post_id":75167630,"comment_id":134048637,"body_markdown":"im also facing same issue.I have move my binding code to onViewCreated method but error is steal coming","body":"im also facing same issue.I have move my binding code to onViewCreated method but error is steal coming"}],"tags":[],"owner":{"account_id":5198556,"reputation":90,"user_id":4158858,"display_name":"TYZRPVX"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674100754,"creation_date":1674100754,"answer_id":75167630,"question_id":75164111,"body_markdown":"Try to move your UI elements bind logic to `onViewCreated`\r\n\r\nSee [Fragment &#160;|&#160; Android Developers](https://developer.android.com/reference/android/app/Fragment#onViewCreated(android.view.View,%20android.os.Bundle))\r\n\r\n&gt; Called immediately after onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle) has returned, but before any saved state has been restored in to the view. This gives subclasses a chance to initialize themselves once they know their view hierarchy has been completely created. The fragment&#39;s view hierarchy is not however attached to its parent at this point.\r\n\r\nFor instance:\r\n\r\n```kotlin\r\nclass SongListFragment : Fragment() {\r\n\r\nprivate var _binding: FragmentSongsListBinding? = null\r\nprivate val binding get() = _binding!! //error\r\nprivate var player: ExoPlayer? = null\r\nprivate lateinit var inputManager: InputMethodManager\r\nprivate lateinit var sharedPreferences: SharedPreferences\r\nprivate lateinit var editor: SharedPreferences.Editor\r\n\r\nprivate val songListAdapter by lazy {\r\n    SongListAdapter(requireActivity()) { show -&gt;\r\n        showMultipleSelectActionBar(\r\n            show\r\n        )\r\n    }\r\n}\r\n\r\nprivate val viewModel: SongListViewModel by activityViewModels()\r\n\r\n@SuppressLint(&quot;RtlHardcoded&quot;)\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n    super.onCreate(savedInstanceState)\r\n    player = (context as MainActivity).exoPlayer\r\n    inputManager =\r\n        requireContext().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n\r\n    sharedPreferences = PreferenceManager.getDefaultSharedPreferences(requireContext())\r\n    editor = sharedPreferences.edit()\r\n\r\n    enterTransition = Slide(Gravity.END)\r\n    exitTransition = Fade()\r\n    returnTransition = Fade()\r\n}\r\n\r\n@RequiresApi(Build.VERSION_CODES.Q)\r\noverride fun onCreateView(\r\n    inflater: LayoutInflater, container: ViewGroup?,\r\n    savedInstanceState: Bundle?\r\n): View {\r\n    requireActivity().window.statusBarColor =\r\n        ContextCompat.getColor(requireContext(), R.color.main_background_color)\r\n    if (_binding == null) {\r\n        _binding = FragmentSongsListBinding.inflate(inflater, container, false)\r\n    }\r\n    postponeEnterTransition()\r\n    \r\n    return binding.root\r\n}\r\n\r\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n    super.onViewCreated(view, savedInstanceState)\r\n    binding.root.doOnPreDraw { startPostponedEnterTransition() }\r\n    viewModel.getSongList(context)\r\n    initObserver()\r\n    setDataToView()\r\n    searchMusic()\r\n    multipleSelectButtonImplementation()\r\n    if (sharedPreferences.getInt(Constants.AD_COUNTER, 0) == 3) {\r\n        (activity as MainActivity).showAd(requireContext())\r\n        editor.putInt(Constants.AD_COUNTER, 0)\r\n        editor.commit()\r\n    } else {\r\n        editor.putInt(Constants.AD_COUNTER, (sharedPreferences.getInt(Constants.AD_COUNTER, 0) + 1))\r\n        editor.commit()\r\n    }\r\n}\r\n```","title":"Fatal Exception: java.lang.NullPointerException crash event","body":"<p>Try to move your UI elements bind logic to <code>onViewCreated</code></p>\n<p>See <a href=\"https://developer.android.com/reference/android/app/Fragment#onViewCreated(android.view.View,%20android.os.Bundle)\" rel=\"nofollow noreferrer\">Fragment | Android Developers</a></p>\n<blockquote>\n<p>Called immediately after onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle) has returned, but before any saved state has been restored in to the view. This gives subclasses a chance to initialize themselves once they know their view hierarchy has been completely created. The fragment's view hierarchy is not however attached to its parent at this point.</p>\n</blockquote>\n<p>For instance:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class SongListFragment : Fragment() {\n\nprivate var _binding: FragmentSongsListBinding? = null\nprivate val binding get() = _binding!! //error\nprivate var player: ExoPlayer? = null\nprivate lateinit var inputManager: InputMethodManager\nprivate lateinit var sharedPreferences: SharedPreferences\nprivate lateinit var editor: SharedPreferences.Editor\n\nprivate val songListAdapter by lazy {\n    SongListAdapter(requireActivity()) { show -&gt;\n        showMultipleSelectActionBar(\n            show\n        )\n    }\n}\n\nprivate val viewModel: SongListViewModel by activityViewModels()\n\n@SuppressLint(&quot;RtlHardcoded&quot;)\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    player = (context as MainActivity).exoPlayer\n    inputManager =\n        requireContext().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n\n    sharedPreferences = PreferenceManager.getDefaultSharedPreferences(requireContext())\n    editor = sharedPreferences.edit()\n\n    enterTransition = Slide(Gravity.END)\n    exitTransition = Fade()\n    returnTransition = Fade()\n}\n\n@RequiresApi(Build.VERSION_CODES.Q)\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View {\n    requireActivity().window.statusBarColor =\n        ContextCompat.getColor(requireContext(), R.color.main_background_color)\n    if (_binding == null) {\n        _binding = FragmentSongsListBinding.inflate(inflater, container, false)\n    }\n    postponeEnterTransition()\n    \n    return binding.root\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    binding.root.doOnPreDraw { startPostponedEnterTransition() }\n    viewModel.getSongList(context)\n    initObserver()\n    setDataToView()\n    searchMusic()\n    multipleSelectButtonImplementation()\n    if (sharedPreferences.getInt(Constants.AD_COUNTER, 0) == 3) {\n        (activity as MainActivity).showAd(requireContext())\n        editor.putInt(Constants.AD_COUNTER, 0)\n        editor.commit()\n    } else {\n        editor.putInt(Constants.AD_COUNTER, (sharedPreferences.getInt(Constants.AD_COUNTER, 0) + 1))\n        editor.commit()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674117451,"answer_count":2,"score":0,"last_activity_date":1674100754,"creation_date":1674068761,"question_id":75164111,"body_markdown":"An error occurs on line 41 when initializing the SongListFragment fragment class.\r\nHere is a snippet of the class:\r\n\r\n    class SongListFragment : Fragment() {\r\n\r\n    private var _binding: FragmentSongsListBinding? = null\r\n    private val binding get() = _binding!! //error\r\n    private var player: ExoPlayer? = null\r\n    private lateinit var inputManager: InputMethodManager\r\n    private lateinit var sharedPreferences: SharedPreferences\r\n    private lateinit var editor: SharedPreferences.Editor\r\n\r\n    private val songListAdapter by lazy {\r\n        SongListAdapter(requireActivity()) { show -&gt;\r\n            showMultipleSelectActionBar(\r\n                show\r\n            )\r\n        }\r\n    }\r\n\r\n    private val viewModel: SongListViewModel by activityViewModels()\r\n\r\n    @SuppressLint(&quot;RtlHardcoded&quot;)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        player = (context as MainActivity).exoPlayer\r\n        inputManager =\r\n            requireContext().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n\r\n        sharedPreferences = PreferenceManager.getDefaultSharedPreferences(requireContext())\r\n        editor = sharedPreferences.edit()\r\n\r\n        enterTransition = Slide(Gravity.END)\r\n        exitTransition = Fade()\r\n        returnTransition = Fade()\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.Q)\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        requireActivity().window.statusBarColor =\r\n            ContextCompat.getColor(requireContext(), R.color.main_background_color)\r\n        if (_binding == null) {\r\n            _binding = FragmentSongsListBinding.inflate(inflater, container, false)\r\n        }\r\n        postponeEnterTransition()\r\n        binding.root.doOnPreDraw { startPostponedEnterTransition() }\r\n        viewModel.getSongList(context)\r\n        initObserver()\r\n        setDataToView()\r\n        searchMusic()\r\n        multipleSelectButtonImplementation()\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        if (sharedPreferences.getInt(Constants.AD_COUNTER, 0) == 3) {\r\n            (activity as MainActivity).showAd(requireContext())\r\n            editor.putInt(Constants.AD_COUNTER, 0)\r\n            editor.commit()\r\n        } else {\r\n            editor.putInt(Constants.AD_COUNTER, (sharedPreferences.getInt(Constants.AD_COUNTER, 0) + 1))\r\n            editor.commit()\r\n        }\r\n    }\r\n\r\nstack trace:\r\n\r\n    Fatal Exception: java.lang.NullPointerException\r\nexample.androidvolumelouder.presentation.ui.fragments.songlistfragment.SongListFragment.getBinding (SongListFragment.kt:41)\r\nexample.androidvolumelouder.presentation.ui.fragments.songlistfragment.SongListFragment.access$getBinding (SongListFragment.kt:38)\r\nexample.androidvolumelouder.presentation.ui.fragments.songlistfragment.SongListFragment$setSongCount$1.invokeSuspend (SongListFragment.kt:225)\r\nkotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith (ContinuationImpl.kt:33)\r\nkotlinx.coroutines.DispatchedTaskKt.resume (DispatchedTask.kt:234)\r\nkotlinx.coroutines.DispatchedTaskKt.dispatch (DispatchedTask.kt:166)\r\nkotlinx.coroutines.CancellableContinuationImpl.dispatchResume (CancellableContinuationImpl.kt:397)\r\nkotlinx.coroutines.CancellableContinuationImpl.resumeImpl (CancellableContinuationImpl.kt:431)\r\nkotlinx.coroutines.CancellableContinuationImpl.resumeImpl$default (CancellableContinuationImpl.kt:420)\r\nkotlinx.coroutines.CancellableContinuationImpl.resumeUndispatched (CancellableContinuationImpl.kt:518)\r\nkotlinx.coroutines.android.HandlerContext$scheduleResumeAfterDelay$$inlined$Runnable$1.run (Runnable.kt:19)\r\n\r\nThis happens on the first run after installation. And what&#39;s more, everything is fine on physical devices with Android 10 on all others and on emulators as well.\r\nWhat is the error, please help?","title":"Fatal Exception: java.lang.NullPointerException crash event","body":"<p>An error occurs on line 41 when initializing the SongListFragment fragment class.\nHere is a snippet of the class:</p>\n<pre><code>class SongListFragment : Fragment() {\n\nprivate var _binding: FragmentSongsListBinding? = null\nprivate val binding get() = _binding!! //error\nprivate var player: ExoPlayer? = null\nprivate lateinit var inputManager: InputMethodManager\nprivate lateinit var sharedPreferences: SharedPreferences\nprivate lateinit var editor: SharedPreferences.Editor\n\nprivate val songListAdapter by lazy {\n    SongListAdapter(requireActivity()) { show -&gt;\n        showMultipleSelectActionBar(\n            show\n        )\n    }\n}\n\nprivate val viewModel: SongListViewModel by activityViewModels()\n\n@SuppressLint(&quot;RtlHardcoded&quot;)\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    player = (context as MainActivity).exoPlayer\n    inputManager =\n        requireContext().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n\n    sharedPreferences = PreferenceManager.getDefaultSharedPreferences(requireContext())\n    editor = sharedPreferences.edit()\n\n    enterTransition = Slide(Gravity.END)\n    exitTransition = Fade()\n    returnTransition = Fade()\n}\n\n@RequiresApi(Build.VERSION_CODES.Q)\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View {\n    requireActivity().window.statusBarColor =\n        ContextCompat.getColor(requireContext(), R.color.main_background_color)\n    if (_binding == null) {\n        _binding = FragmentSongsListBinding.inflate(inflater, container, false)\n    }\n    postponeEnterTransition()\n    binding.root.doOnPreDraw { startPostponedEnterTransition() }\n    viewModel.getSongList(context)\n    initObserver()\n    setDataToView()\n    searchMusic()\n    multipleSelectButtonImplementation()\n    return binding.root\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    if (sharedPreferences.getInt(Constants.AD_COUNTER, 0) == 3) {\n        (activity as MainActivity).showAd(requireContext())\n        editor.putInt(Constants.AD_COUNTER, 0)\n        editor.commit()\n    } else {\n        editor.putInt(Constants.AD_COUNTER, (sharedPreferences.getInt(Constants.AD_COUNTER, 0) + 1))\n        editor.commit()\n    }\n}\n</code></pre>\n<p>stack trace:</p>\n<pre><code>Fatal Exception: java.lang.NullPointerException\n</code></pre>\n<p>example.androidvolumelouder.presentation.ui.fragments.songlistfragment.SongListFragment.getBinding (SongListFragment.kt:41)\nexample.androidvolumelouder.presentation.ui.fragments.songlistfragment.SongListFragment.access$getBinding (SongListFragment.kt:38)\nexample.androidvolumelouder.presentation.ui.fragments.songlistfragment.SongListFragment$setSongCount$1.invokeSuspend (SongListFragment.kt:225)\nkotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith (ContinuationImpl.kt:33)\nkotlinx.coroutines.DispatchedTaskKt.resume (DispatchedTask.kt:234)\nkotlinx.coroutines.DispatchedTaskKt.dispatch (DispatchedTask.kt:166)\nkotlinx.coroutines.CancellableContinuationImpl.dispatchResume (CancellableContinuationImpl.kt:397)\nkotlinx.coroutines.CancellableContinuationImpl.resumeImpl (CancellableContinuationImpl.kt:431)\nkotlinx.coroutines.CancellableContinuationImpl.resumeImpl$default (CancellableContinuationImpl.kt:420)\nkotlinx.coroutines.CancellableContinuationImpl.resumeUndispatched (CancellableContinuationImpl.kt:518)\nkotlinx.coroutines.android.HandlerContext$scheduleResumeAfterDelay$$inlined$Runnable$1.run (Runnable.kt:19)</p>\n<p>This happens on the first run after installation. And what's more, everything is fine on physical devices with Android 10 on all others and on emulators as well.\nWhat is the error, please help?</p>\n"},{"tags":["java","html","meta-tags"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1487709380,"post_id":42377278,"comment_id":71903852,"body_markdown":"[Why is Can someone help me? not an actual question?](http://meta.stackoverflow.com/q/284236/18157)","body":"<a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is Can someone help me? not an actual question?</a>"},{"owner":{"account_id":4721095,"reputation":3185,"user_id":3818903,"accept_rate":88,"display_name":"Premal Khetani"},"score":0,"creation_date":1487752041,"post_id":42377278,"comment_id":71920625,"body_markdown":"formatting the text","body":"formatting the text"}],"answers":[{"comments":[{"owner":{"account_id":7677886,"reputation":117,"user_id":5818130,"accept_rate":0,"display_name":"prb_cm"},"score":0,"creation_date":1487710847,"post_id":42377757,"comment_id":71904763,"body_markdown":"I do have access to the frame generated. what can i implement to make the frame work?","body":"I do have access to the frame generated. what can i implement to make the frame work?"},{"owner":{"account_id":243931,"reputation":588,"user_id":516418,"display_name":"stuchl4n3k"},"score":0,"creation_date":1487802133,"post_id":42377757,"comment_id":71953797,"body_markdown":"I have updated my answer. Just to be perfectly clear: you need access to the system that generates the frame content. For JSP sth. like `&lt;% response.addHeader(&quot;X-Frame-Options&quot;, &quot;SAMEORIGIN&quot;); %&gt;` should work.","body":"I have updated my answer. Just to be perfectly clear: you need access to the system that generates the frame content. For JSP sth. like <code>&lt;% response.addHeader(&quot;X-Frame-Options&quot;, &quot;SAMEORIGIN&quot;); %&gt;</code> should work."}],"tags":[],"owner":{"account_id":243931,"reputation":588,"user_id":516418,"display_name":"stuchl4n3k"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487801963,"creation_date":1487710430,"answer_id":42377757,"question_id":42377278,"body_markdown":"What you describe is probably caused by a security feature called [X-Frame-Options][1] implemented on the server of the frame content provider to protect from [clickjacking][2].\r\n\r\nAs stated in the first link, this feature is supported by all major browsers. **If you don&#39;t have access to the application which generated the frame content, there is nothing you can do about it (to my best knowledge).**\r\n\r\nDepending on your use-case you might be able to fetch the frame content, tweak it and then output it directly into your page without `&lt;iframe/&gt;`. This method is more described in [an article by Crhis Duell][3] (although for PHP, but you should get the point).\r\n\r\nIf you have access to the application that generates the frame content, you need to set `X-Frame-Options` HTTP header with a proper value (e.g. `X-Frame-Options: SAMEORIGIN` if the frame uses the same domain).\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\r\n  [2]: https://en.wikipedia.org/wiki/Clickjacking\r\n  [3]: https://blog.elev.io/getting-around-the-x-frame-options-to-sameorigin-issue/","title":"This content cannot be displayed in a frame","body":"<p>What you describe is probably caused by a security feature called <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\" rel=\"nofollow noreferrer\">X-Frame-Options</a> implemented on the server of the frame content provider to protect from <a href=\"https://en.wikipedia.org/wiki/Clickjacking\" rel=\"nofollow noreferrer\">clickjacking</a>.</p>\n\n<p>As stated in the first link, this feature is supported by all major browsers. <strong>If you don't have access to the application which generated the frame content, there is nothing you can do about it (to my best knowledge).</strong></p>\n\n<p>Depending on your use-case you might be able to fetch the frame content, tweak it and then output it directly into your page without <code>&lt;iframe/&gt;</code>. This method is more described in <a href=\"https://blog.elev.io/getting-around-the-x-frame-options-to-sameorigin-issue/\" rel=\"nofollow noreferrer\">an article by Crhis Duell</a> (although for PHP, but you should get the point).</p>\n\n<p>If you have access to the application that generates the frame content, you need to set <code>X-Frame-Options</code> HTTP header with a proper value (e.g. <code>X-Frame-Options: SAMEORIGIN</code> if the frame uses the same domain).</p>\n"},{"tags":[],"owner":{"account_id":15976898,"reputation":1,"user_id":11529555,"display_name":"lakshmi penigelapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674100358,"creation_date":1674100075,"answer_id":75167558,"question_id":42377278,"body_markdown":"If you want your app accessible in iframe of some other browser then you have to set **Content-Security-Policy** directive as frame-ancester and parent browser URL(for whitelisting)  \r\n***Example:***   Content-Security-Policy: frame-ancestors https://example.com  \r\nin the response header you will see **content-security-policy: frame-ancestors  https://example.com https://example1.com**   \r\nThis works for most of the browsers except IE11. For IE11 you have to set **X-Content-Security-Policy**: parent url.\r\nExample: **x-content-security-policy: https://example.com https://example1.com**","title":"This content cannot be displayed in a frame","body":"<p>If you want your app accessible in iframe of some other browser then you have to set <strong>Content-Security-Policy</strong> directive as frame-ancester and parent browser URL(for whitelisting)<br />\n<em><strong>Example:</strong></em>   Content-Security-Policy: frame-ancestors <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a><br />\nin the response header you will see <strong>content-security-policy: frame-ancestors  <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a> <a href=\"https://example1.com\" rel=\"nofollow noreferrer\">https://example1.com</a></strong><br />\nThis works for most of the browsers except IE11. For IE11 you have to set <strong>X-Content-Security-Policy</strong>: parent url.\nExample: <strong>x-content-security-policy: <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a> <a href=\"https://example1.com\" rel=\"nofollow noreferrer\">https://example1.com</a></strong></p>\n"}],"owner":{"account_id":7677886,"reputation":117,"user_id":5818130,"accept_rate":0,"display_name":"prb_cm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10343,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1674100358,"creation_date":1487708795,"question_id":42377278,"body_markdown":"I am getting Error as below : \r\n \r\n\r\n&gt; This content cannot be displayed in a frame\r\n\r\n   \r\nTo help protect the security of information you enter into this website, the publisher of this content does not allow it to be displayed in a frame.\r\n     \r\n**What you can try:**\r\nOpen this content in a new window  \r\n\r\n&amp; the content opens up in another tab. i want to load the page in the same tab as opening not instead of directing to other page.One thing I found is, urls of both the pages are quite different.\r\n\r\n1st page - https://xxxxxxxxxxxxxxxxxxxxxx:23000/cddtweb/DDSMain.jsp\r\n\r\n\r\n2nd page - https://xxxxxxxxxxxxxxxxxxxxxx:23000/cddtweb/DDSEntitlements.jsp\r\n\r\nCould i get some help here to solve this issue please. \r\n\r\n \r\n\r\n\r\n","title":"This content cannot be displayed in a frame","body":"<p>I am getting Error as below : </p>\n\n<blockquote>\n  <p>This content cannot be displayed in a frame</p>\n</blockquote>\n\n<p>To help protect the security of information you enter into this website, the publisher of this content does not allow it to be displayed in a frame.</p>\n\n<p><strong>What you can try:</strong>\nOpen this content in a new window  </p>\n\n<p>&amp; the content opens up in another tab. i want to load the page in the same tab as opening not instead of directing to other page.One thing I found is, urls of both the pages are quite different.</p>\n\n<p>1st page - <a href=\"https://xxxxxxxxxxxxxxxxxxxxxx:23000/cddtweb/DDSMain.jsp\" rel=\"nofollow noreferrer\">https://xxxxxxxxxxxxxxxxxxxxxx:23000/cddtweb/DDSMain.jsp</a></p>\n\n<p>2nd page - <a href=\"https://xxxxxxxxxxxxxxxxxxxxxx:23000/cddtweb/DDSEntitlements.jsp\" rel=\"nofollow noreferrer\">https://xxxxxxxxxxxxxxxxxxxxxx:23000/cddtweb/DDSEntitlements.jsp</a></p>\n\n<p>Could i get some help here to solve this issue please. </p>\n"},{"tags":["java","maven","visual-studio-code","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":13492006,"reputation":1243,"user_id":9733887,"display_name":"jrz"},"score":0,"creation_date":1609946714,"post_id":65598426,"comment_id":115980187,"body_markdown":"I tried to change the scope to compile. Still get same result. Actually there is a red under-line in the application.java. lines 3,4. means my vsCode has issues with those 2 imports..","body":"I tried to change the scope to compile. Still get same result. Actually there is a red under-line in the application.java. lines 3,4. means my vsCode has issues with those 2 imports.."},{"owner":{"account_id":11545658,"reputation":641,"user_id":8459761,"display_name":"guneetgstar"},"score":0,"creation_date":1609954338,"post_id":65598426,"comment_id":115984068,"body_markdown":"How you ran the `application.java`? Using a maven project you need to hit:\n`mvn clean package`\n`java -jar &lt;path/to/jar&gt;`","body":"How you ran the <code>application.java</code>? Using a maven project you need to hit: <code>mvn clean package</code> <code>java -jar &lt;path&#47;to&#47;jar&gt;</code>"}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609946260,"creation_date":1609946260,"answer_id":65598426,"question_id":65597907,"body_markdown":"If the scope of the dependency is `runtime`, you cannot use it in your code.\r\n\r\nIt needs to be `compile` for that.","title":"VSCode maven proj package org.springframework.boot.SpringApplication does not exist","body":"<p>If the scope of the dependency is <code>runtime</code>, you cannot use it in your code.</p>\n<p>It needs to be <code>compile</code> for that.</p>\n"},{"comments":[{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1610345684,"post_id":65607715,"comment_id":116093384,"body_markdown":"@l.zv. I&#39;ve updated my answer, have a try.","body":"@l.zv. I&#39;ve updated my answer, have a try."},{"owner":{"account_id":13492006,"reputation":1243,"user_id":9733887,"display_name":"jrz"},"score":0,"creation_date":1610394203,"post_id":65607715,"comment_id":116114137,"body_markdown":"Thanks a lot!! It is working now. Any chance you can take a look on that too? https://stackoverflow.com/questions/65673496/requestmapping-spring-boot-doesnt-function-as-expected","body":"Thanks a lot!! It is working now. Any chance you can take a look on that too? <a href=\"https://stackoverflow.com/questions/65673496/requestmapping-spring-boot-doesnt-function-as-expected\" title=\"requestmapping spring boot doesnt function as expected\">stackoverflow.com/questions/65673496/&hellip;</a>"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1610413598,"post_id":65607715,"comment_id":116119888,"body_markdown":"Glad my answer helps you, you may mark it for more people to reach this solution. About your another question, i&#39;ll have a try.","body":"Glad my answer helps you, you may mark it for more people to reach this solution. About your another question, i&#39;ll have a try."}],"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1610345640,"creation_date":1610001597,"answer_id":65607715,"question_id":65597907,"body_markdown":"You can try the following two ways:\r\n\r\n1. In VS Code, open Command Palette and Search **Maven: add a dependency** to re-download these packages and rebuild the project;\r\n\r\n2. Download these jar packages from [Maven Repository][1] locally and [add them to referenced libraries][2] manually.\r\n\r\n**[EDIT]**\r\n\r\nAdd the following dependency in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nThen rebuild the project.\r\n\r\n  [1]: https://mvnrepository.com/\r\n  [2]: https://code.visualstudio.com/docs/java/java-project#_add-a-jar","title":"VSCode maven proj package org.springframework.boot.SpringApplication does not exist","body":"<p>You can try the following two ways:</p>\n<ol>\n<li><p>In VS Code, open Command Palette and Search <strong>Maven: add a dependency</strong> to re-download these packages and rebuild the project;</p>\n</li>\n<li><p>Download these jar packages from <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">Maven Repository</a> locally and <a href=\"https://code.visualstudio.com/docs/java/java-project#_add-a-jar\" rel=\"nofollow noreferrer\">add them to referenced libraries</a> manually.</p>\n</li>\n</ol>\n<p><strong>[EDIT]</strong></p>\n<p>Add the following dependency in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then rebuild the project.</p>\n"}],"owner":{"account_id":13492006,"reputation":1243,"user_id":9733887,"display_name":"jrz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3804,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65607715,"answer_count":2,"score":1,"last_activity_date":1674100325,"creation_date":1609944319,"question_id":65597907,"body_markdown":"I am trying to start a simple Hello World Project on my Mac. \r\n\r\nUsing VScode, I downloaded Maven and Java extensions. After opening a maven project, when running the application.java, I get message: \r\n    \r\n    {\r\n\t&quot;resource&quot;: &quot;Projects/***/backend/src/main/java/com/***/backend/BackendApplication.java&quot;,\r\n\t&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#1&quot;,\r\n\t&quot;code&quot;: &quot;compiler.err.doesnt.exist&quot;,\r\n\t&quot;severity&quot;: 8,\r\n\t&quot;message&quot;: &quot;package org.springframework.boot does not exist&quot;,\r\n\t&quot;startLineNumber&quot;: 3,\r\n\t&quot;startColumn&quot;: 8,\r\n\t&quot;endLineNumber&quot;: 3,\r\n\t&quot;endColumn&quot;: 50\r\n    }\r\n\r\nHere is my application.java:\r\n\r\n    package com.iz.backend;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class BackendApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(BackendApplication.class, args);\r\n\t    }\r\n\r\n    }\r\n\r\nAnd here is my pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.iz&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;backend&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nI found on the internet that dependency\r\n\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\nmight solve it. However, it already exists in my pom file.\r\n\r\nWhat am I missing here?\r\n","title":"VSCode maven proj package org.springframework.boot.SpringApplication does not exist","body":"<p>I am trying to start a simple Hello World Project on my Mac.</p>\n<p>Using VScode, I downloaded Maven and Java extensions. After opening a maven project, when running the application.java, I get message:</p>\n<pre><code>{\n&quot;resource&quot;: &quot;Projects/***/backend/src/main/java/com/***/backend/BackendApplication.java&quot;,\n&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#1&quot;,\n&quot;code&quot;: &quot;compiler.err.doesnt.exist&quot;,\n&quot;severity&quot;: 8,\n&quot;message&quot;: &quot;package org.springframework.boot does not exist&quot;,\n&quot;startLineNumber&quot;: 3,\n&quot;startColumn&quot;: 8,\n&quot;endLineNumber&quot;: 3,\n&quot;endColumn&quot;: 50\n}\n</code></pre>\n<p>Here is my application.java:</p>\n<pre><code>package com.iz.backend;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class BackendApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>And here is my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.iz&lt;/groupId&gt;\n&lt;artifactId&gt;backend&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;backend&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I found on the internet that dependency</p>\n<pre><code>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n</code></pre>\n<p>might solve it. However, it already exists in my pom file.</p>\n<p>What am I missing here?</p>\n"},{"tags":["java","android","android-studio","aar"],"comments":[{"owner":{"account_id":15752522,"reputation":648,"user_id":11366574,"display_name":"Nikhil Jain"},"score":1,"creation_date":1688699421,"post_id":71077235,"comment_id":135111945,"body_markdown":"I am facing a similar issue, did you find any solution?","body":"I am facing a similar issue, did you find any solution?"},{"owner":{"account_id":10162317,"reputation":234,"user_id":7505376,"display_name":"Crain"},"score":1,"creation_date":1689750617,"post_id":71077235,"comment_id":135255661,"body_markdown":"@NikhilJain Yes, The problem was the empty &lt;dependencies&gt; in the lib1 pom file. After I filled in the &lt;dependencies&gt;, everything worked fine.","body":"@NikhilJain Yes, The problem was the empty &lt;dependencies&gt; in the lib1 pom file. After I filled in the &lt;dependencies&gt;, everything worked fine."}],"owner":{"account_id":10162317,"reputation":234,"user_id":7505376,"display_name":"Crain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1674100201,"creation_date":1644569011,"question_id":71077235,"body_markdown":"[![Common scheme][1]][1]\r\n\r\nI have an java interface with default method (`ITest`) and java implementation (`Test`) defined in 2 different libraries (`aar`).  In `app` module I create instance of the `Test` and call `Test.test()`. `AbstractMethodError` occurs at this moment.  \r\n**This happens only I use Java in the libraries (for Kotlin all ok) and build apk by `Build - Generate Signed APK`. \r\nIf application run with `Run` menu all work as expected.**\r\n\r\nlib1 (with interface):\r\n```\r\npublic interface ITest {\r\n    default void test() {\r\n    }\r\n}\r\n```\r\n\r\nlib2 (with implementation):\r\n```\r\npublic class Test implements ITest {\r\n}\r\n```\r\n\r\napp:\r\n```\r\nprivate fun runTest() {\r\n    try {\r\n        Test().test()\r\n        Log.d(TAG, &quot;call success&quot;)\r\n    } catch (e: AbstractMethodError) {\r\n        Log.d(TAG, &quot;call fail e = $e&quot;)\r\n    }\r\n}\r\n```\r\n\r\nlibraries and application build.config support Java8:\r\n```\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n}\r\nkotlinOptions {\r\n    jvmTarget = &#39;1.8&#39;\r\n}\r\n```\r\n\r\n[Here is very simple demo project][2]\r\n\r\nHow I must use Java default methods in my case?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VDZeg.png\r\n  [2]: https://github.com/crainzavr/PoC_AME_java_default_method","title":"AbstractMethodError when use java 8 default interface methods and implementation in different libs","body":"<p><a href=\"https://i.stack.imgur.com/VDZeg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VDZeg.png\" alt=\"Common scheme\" /></a></p>\n<p>I have an java interface with default method (<code>ITest</code>) and java implementation (<code>Test</code>) defined in 2 different libraries (<code>aar</code>).  In <code>app</code> module I create instance of the <code>Test</code> and call <code>Test.test()</code>. <code>AbstractMethodError</code> occurs at this moment.<br />\n<strong>This happens only I use Java in the libraries (for Kotlin all ok) and build apk by <code>Build - Generate Signed APK</code>.\nIf application run with <code>Run</code> menu all work as expected.</strong></p>\n<p>lib1 (with interface):</p>\n<pre><code>public interface ITest {\n    default void test() {\n    }\n}\n</code></pre>\n<p>lib2 (with implementation):</p>\n<pre><code>public class Test implements ITest {\n}\n</code></pre>\n<p>app:</p>\n<pre><code>private fun runTest() {\n    try {\n        Test().test()\n        Log.d(TAG, &quot;call success&quot;)\n    } catch (e: AbstractMethodError) {\n        Log.d(TAG, &quot;call fail e = $e&quot;)\n    }\n}\n</code></pre>\n<p>libraries and application build.config support Java8:</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\nkotlinOptions {\n    jvmTarget = '1.8'\n}\n</code></pre>\n<p><a href=\"https://github.com/crainzavr/PoC_AME_java_default_method\" rel=\"nofollow noreferrer\">Here is very simple demo project</a></p>\n<p>How I must use Java default methods in my case?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","lazy-loading"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674067314,"post_id":75163538,"comment_id":132638058,"body_markdown":"How do you expect JPA/Hibernate to read data lazily from the DB outside the session it was loaded in? The `find()` method is where it was loaded, then you open a new session and try to reference that lazy data there, but that original session is likely gone, so there entity is now detached and has no way to lazily load the missing data.","body":"How do you expect JPA/Hibernate to read data lazily from the DB outside the session it was loaded in? The <code>find()</code> method is where it was loaded, then you open a new session and try to reference that lazy data there, but that original session is likely gone, so there entity is now detached and has no way to lazily load the missing data."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674067350,"post_id":75163538,"comment_id":132638068,"body_markdown":"By the way, &quot;I would like a simple answer&quot; isn&#39;t realistic for any JPA questions other than the most trivial. ORM is complex stuff.","body":"By the way, &quot;I would like a simple answer&quot; isn&#39;t realistic for any JPA questions other than the most trivial. ORM is complex stuff."}],"answers":[{"comments":[{"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"score":0,"creation_date":1674099287,"post_id":75167497,"comment_id":132644269,"body_markdown":"this should be in baeldung and all tutorials....","body":"this should be in baeldung and all tutorials...."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674138829,"post_id":75167497,"comment_id":132654442,"body_markdown":"Yes, Entity Graphs are the right solution for query-specific eager fetching. The question doesn&#39;t make it clear that eager fetching is an option, so you might want to consider stating that. It just says, &quot;with many lazy loaded associations.&quot; Many people have an inherent fear of eager fetching and want to avoid it at all costs (which I think personally is a narrow view of things, we should be more flexible as you&#39;ve shown here).","body":"Yes, Entity Graphs are the right solution for query-specific eager fetching. The question doesn&#39;t make it clear that eager fetching is an option, so you might want to consider stating that. It just says, &quot;with many lazy loaded associations.&quot; Many people have an inherent fear of eager fetching and want to avoid it at all costs (which I think personally is a narrow view of things, we should be more flexible as you&#39;ve shown here)."}],"tags":[],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674099251,"creation_date":1674099251,"answer_id":75167497,"question_id":75163538,"body_markdown":"The solution is very simple, I&#39;ll share to help others.  \r\nI knew there should be a way to tell jpa to force eager load a collection for one specific query only, and there is.\r\n\r\nIn the repository interface annotate the specific query you want to have eager load with\r\n\r\n    @EntityGraph(attributePaths = {&quot;lazyCollectionA&quot;, &quot;lazyCollectionB&quot;}, type = EntityGraph.EntityGraphType.LOAD)\r\n       A find(/*PARAMETERS_HERE*/);\r\n\r\nthis way when spring builds this query it will create a inner join for the specified collections and eager initialize them.\r\n\r\nAnother approach would be specify the whole query in the `@Query` annotation specifing the inner joins you want. but as i want take advantage of spring auto generated queries i just use the @EntityGraph","title":"String + Jpa + Hibernate, force collection eager initialization on only specific method without transaction","body":"<p>The solution is very simple, I'll share to help others.<br />\nI knew there should be a way to tell jpa to force eager load a collection for one specific query only, and there is.</p>\n<p>In the repository interface annotate the specific query you want to have eager load with</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;lazyCollectionA&quot;, &quot;lazyCollectionB&quot;}, type = EntityGraph.EntityGraphType.LOAD)\n   A find(/*PARAMETERS_HERE*/);\n</code></pre>\n<p>this way when spring builds this query it will create a inner join for the specified collections and eager initialize them.</p>\n<p>Another approach would be specify the whole query in the <code>@Query</code> annotation specifing the inner joins you want. but as i want take advantage of spring auto generated queries i just use the @EntityGraph</p>\n"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75167497,"answer_count":1,"score":0,"last_activity_date":1674099351,"creation_date":1674065517,"question_id":75163538,"body_markdown":"Very simple question and i would like a simple answer.  \r\nI&#39;m loading one entity with many lazy collection associated.\r\nThis load is done outside a @Transactional method for personal reasons\r\n\r\nright after loading the entity i try loading the collections but i get exception\r\n\r\n    final A cachedEntity = aRepository.find(entity.getDocument());\r\n             final Session session = sessionFactory.openSession();\r\n             session.beginTransaction();\r\n             Hibernate.initialize(cachedEntity.getAddresses()); // exception right here\r\n             cachedEntity.getAddresses().addAll(entity.getAddresses());\r\n             cachedEntity.getPhones().addAll(entity.getPhones());\r\n             cachedEntity.getEmails().addAll(entity.getEmails());\r\n             session.close();\r\n\r\n\r\n    failed to lazily initialize a collection of role:  addresses, could not initialize proxy - no Session\r\n\r\n\r\nThis is supposed to be super simple, what am i doing wrong?  \r\nplease dont suggest annotate collections with eager or add @transactional to method ","title":"String + Jpa + Hibernate, force collection eager initialization on only specific method without transaction","body":"<p>Very simple question and i would like a simple answer.<br />\nI'm loading one entity with many lazy collection associated.\nThis load is done outside a @Transactional method for personal reasons</p>\n<p>right after loading the entity i try loading the collections but i get exception</p>\n<pre><code>final A cachedEntity = aRepository.find(entity.getDocument());\n         final Session session = sessionFactory.openSession();\n         session.beginTransaction();\n         Hibernate.initialize(cachedEntity.getAddresses()); // exception right here\n         cachedEntity.getAddresses().addAll(entity.getAddresses());\n         cachedEntity.getPhones().addAll(entity.getPhones());\n         cachedEntity.getEmails().addAll(entity.getEmails());\n         session.close();\n\n\nfailed to lazily initialize a collection of role:  addresses, could not initialize proxy - no Session\n</code></pre>\n<p>This is supposed to be super simple, what am i doing wrong?<br />\nplease dont suggest annotate collections with eager or add @transactional to method</p>\n"},{"tags":["java","intellij-idea","memory"],"comments":[{"owner":{"account_id":2700750,"reputation":688,"user_id":2331527,"display_name":"floating cat"},"score":0,"creation_date":1674116510,"post_id":75167395,"comment_id":132647156,"body_markdown":"You may better use the IDE main menu `Help | Contact Support` or `Help | Submit a Bug Report` to contact the IDEA Support team so they could ask for more details and help you because without more detailed info, it is hard to say what might be wrong here.","body":"You may better use the IDE main menu <code>Help | Contact Support</code> or <code>Help | Submit a Bug Report</code> to contact the IDEA Support team so they could ask for more details and help you because without more detailed info, it is hard to say what might be wrong here."}],"owner":{"account_id":22493234,"reputation":47,"user_id":16690673,"display_name":"Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674097955,"creation_date":1674097955,"question_id":75167395,"body_markdown":"I yesterday installed IntelliJ Idea (Ultimate Edition)\r\nand then opened a Java project. I closed it later and reopened it today wanting to create a new project. Now it opens the last project, and doesnt respond as soon as it starts to do so, the memory usage goes crazy, first it kicks off with 900 MB, 1GB, 2GB, 3GB, 4, 5, 6, 8, 10 and the project that its opening is 30 KB of code, HOW? What is happening??","title":"Intellij IDEA Exploding in Memory","body":"<p>I yesterday installed IntelliJ Idea (Ultimate Edition)\nand then opened a Java project. I closed it later and reopened it today wanting to create a new project. Now it opens the last project, and doesnt respond as soon as it starts to do so, the memory usage goes crazy, first it kicks off with 900 MB, 1GB, 2GB, 3GB, 4, 5, 6, 8, 10 and the project that its opening is 30 KB of code, HOW? What is happening??</p>\n"},{"tags":["java","spring","spring-boot","autowired","lombok"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1615384940,"post_id":66566251,"comment_id":117673879,"body_markdown":"Where are you expecting Spring to get the first and last name from, for Person? Also, you have specified the constructor as private. Spring might be able to get around that with reflection, but it could easily be the case it will ignore any private constructors. Definitely a code smell either way, because you won&#39;t be able to write a unit test for it should you want to.","body":"Where are you expecting Spring to get the first and last name from, for Person? Also, you have specified the constructor as private. Spring might be able to get around that with reflection, but it could easily be the case it will ignore any private constructors. Definitely a code smell either way, because you won&#39;t be able to write a unit test for it should you want to."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1615385132,"post_id":66566251,"comment_id":117673974,"body_markdown":"Model classes are the exact thing that should _not_ be a singleton; they&#39;re literally the specific per-request data.","body":"Model classes are the exact thing that should <i>not</i> be a singleton; they&#39;re literally the specific per-request data."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1615385442,"post_id":66566251,"comment_id":117674119,"body_markdown":"A Builder pattern and a Singleton aren&#39;t exactly the same. Making your constructor private doesn&#39;t make it a singleton if you allow your Builder to create countless instances.","body":"A Builder pattern and a Singleton aren&#39;t exactly the same. Making your constructor private doesn&#39;t make it a singleton if you allow your Builder to create countless instances."}],"answers":[{"comments":[{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1668800606,"post_id":66566343,"comment_id":131502511,"body_markdown":"ServerConfig extends what?","body":"ServerConfig extends what?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1668846609,"post_id":66566343,"comment_id":131509073,"body_markdown":"@BabyishTank nothing corrected the answer","body":"@BabyishTank nothing corrected the answer"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668846582,"creation_date":1615385031,"answer_id":66566343,"question_id":66566251,"body_markdown":"This configuration class and that annotation will provide you always with that Person Bean\r\n\r\n    @Configuration\r\n    public class ServerConfig\r\n    {\r\n    \r\n        @Bean\r\n        private Person getPerson(){\r\n            return new Person(&quot;name&quot;, &quot;lastName&quot;);\r\n        }\r\n\r\nNow it will be available everywhere for autowiring.\r\n\r\nAs the comments note however, it seems strange to use a model class as a Singleton.","title":"How to create immutable and singleton class in Spring boot?","body":"<p>This configuration class and that annotation will provide you always with that Person Bean</p>\n<pre><code>@Configuration\npublic class ServerConfig\n{\n\n    @Bean\n    private Person getPerson(){\n        return new Person(&quot;name&quot;, &quot;lastName&quot;);\n    }\n</code></pre>\n<p>Now it will be available everywhere for autowiring.</p>\n<p>As the comments note however, it seems strange to use a model class as a Singleton.</p>\n"},{"tags":[],"owner":{"account_id":1180483,"reputation":3616,"user_id":1155514,"display_name":"Muhammad Tariq"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674097412,"creation_date":1674097412,"answer_id":75167358,"question_id":66566251,"body_markdown":"Adding some more info for the readers,\r\n\r\nLook at this question for more clarity    \r\nhttps://stackoverflow.com/questions/58868112/springboot-configuration-creates-a-singleton-bean","title":"How to create immutable and singleton class in Spring boot?","body":"<p>Adding some more info for the readers,</p>\n<p>Look at this question for more clarity<br />\n<a href=\"https://stackoverflow.com/questions/58868112/springboot-configuration-creates-a-singleton-bean\">SpringBoot - @Configuration creates a singleton bean</a></p>\n"}],"owner":{"account_id":14779271,"reputation":35,"user_id":10673161,"display_name":"Kuldeep.b"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4554,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66566343,"answer_count":2,"score":3,"last_activity_date":1674097412,"creation_date":1615384711,"question_id":66566251,"body_markdown":"\r\nI have a person model class that needs to be immutable and singleton. I need to autowire from my service class but getting an error.\r\n\r\nSo is there any way to create a singleton immutable class in spring boot? where i can set values in person (via autowire) and use the same in the entire application.\r\n\r\nI have just started learning spring-boot. I searched on google and found the solution with Lombok but somehow it didn&#39;t work for me.\r\n\r\n\r\nMy person model :\r\n\r\n        @Value\r\n        @Builder\r\n        @AllArgsConstructor(access = AccessLevel.PRIVATE) \r\n        @Component\r\n        public final class Person {\r\n            private final String firstName;\r\n            private final String lastName;\r\n        }\r\n\r\n\r\n    //My service class\r\n    @Component\r\n    public class ArgumentReadingService {\r\n    \t\r\n    \t@Autowired\r\n    \tPerson person;\r\n    \t\r\n    \tpublic void readArguments() {\r\n    \t\t\r\n    \t\tperson = Person.builder().firstName(&quot;Hello&quot;).build();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;name : &quot;+person.getFirstName());\r\n    \t\t\r\n    \t}\r\n\r\nError :\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2021-03-10 17:52:29.197 ERROR 8824 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;person&#39; defined in file [C:\\Users\\User\\Desktop\\WorkSpace\\Orion.Strat1.bidAsk_Stp\\target\\classes\\orion\\model\\Person.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [orion.model.Person]: No default constructor found; nested exception is java.lang.NoSuchMethodException: orion.model.Person.&lt;init&gt;()\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1316) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:582) ~[spring-context-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) [spring-boot-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) [spring-boot-2.4.3.jar:2.4.3]\r\n    \tat com.orion.Application.main(Application.java:20) [classes/:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [orion.model.Person]: No default constructor found; nested exception is java.lang.NoSuchMethodException: orion.model.Person.&lt;init&gt;()\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \t... 17 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodException: orion.model.Person.&lt;init&gt;()\r\n    \tat java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_191]\r\n    \tat java.lang.Class.getDeclaredConstructor(Class.java:2178) ~[na:1.8.0_191]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78) ~[spring-beans-5.3.4.jar:5.3.4]\r\n    \t... 18 common frames omitted\r\n\r\n\r\n","title":"How to create immutable and singleton class in Spring boot?","body":"<p>I have a person model class that needs to be immutable and singleton. I need to autowire from my service class but getting an error.</p>\n<p>So is there any way to create a singleton immutable class in spring boot? where i can set values in person (via autowire) and use the same in the entire application.</p>\n<p>I have just started learning spring-boot. I searched on google and found the solution with Lombok but somehow it didn't work for me.</p>\n<p>My person model :</p>\n<pre><code>    @Value\n    @Builder\n    @AllArgsConstructor(access = AccessLevel.PRIVATE) \n    @Component\n    public final class Person {\n        private final String firstName;\n        private final String lastName;\n    }\n\n\n//My service class\n@Component\npublic class ArgumentReadingService {\n    \n    @Autowired\n    Person person;\n    \n    public void readArguments() {\n        \n        person = Person.builder().firstName(&quot;Hello&quot;).build();\n        \n        System.out.println(&quot;name : &quot;+person.getFirstName());\n        \n    }\n</code></pre>\n<p>Error :</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-03-10 17:52:29.197 ERROR 8824 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'person' defined in file [C:\\Users\\User\\Desktop\\WorkSpace\\Orion.Strat1.bidAsk_Stp\\target\\classes\\orion\\model\\Person.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [orion.model.Person]: No default constructor found; nested exception is java.lang.NoSuchMethodException: orion.model.Person.&lt;init&gt;()\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1316) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:582) ~[spring-context-5.3.4.jar:5.3.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) [spring-boot-2.4.3.jar:2.4.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) [spring-boot-2.4.3.jar:2.4.3]\n    at com.orion.Application.main(Application.java:20) [classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [orion.model.Person]: No default constructor found; nested exception is java.lang.NoSuchMethodException: orion.model.Person.&lt;init&gt;()\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:83) ~[spring-beans-5.3.4.jar:5.3.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-5.3.4.jar:5.3.4]\n    ... 17 common frames omitted\nCaused by: java.lang.NoSuchMethodException: orion.model.Person.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_191]\n    at java.lang.Class.getDeclaredConstructor(Class.java:2178) ~[na:1.8.0_191]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78) ~[spring-beans-5.3.4.jar:5.3.4]\n    ... 18 common frames omitted\n</code></pre>\n"},{"tags":["java","intellij-idea","cucumber","test-runner"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674056048,"post_id":75157318,"comment_id":132634111,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1674210012,"post_id":75157318,"comment_id":132669861,"body_markdown":"check if run config recognised features https://www.jetbrains.com/help/idea/running-cucumber-tests.html#cucumber-run-configuration","body":"check if run config recognised features <a href=\"https://www.jetbrains.com/help/idea/running-cucumber-tests.html#cucumber-run-configuration\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"}],"owner":{"account_id":20848963,"reputation":1,"user_id":15313920,"display_name":"Pratik Ghimire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674097374,"creation_date":1674035334,"question_id":75157318,"body_markdown":"Issue while trying to run cucumber script from Test Runner class.\r\n\r\n[It runs from the gherkin file but when the test runner is used the following message is shown](https://i.stack.imgur.com/mDjJ1.png)","title":"Test Runner not finding Step Definations and all test are ignored","body":"<p>Issue while trying to run cucumber script from Test Runner class.</p>\n<p><a href=\"https://i.stack.imgur.com/mDjJ1.png\" rel=\"nofollow noreferrer\">It runs from the gherkin file but when the test runner is used the following message is shown</a></p>\n"},{"tags":["java","system-design","domain-model"],"comments":[{"owner":{"account_id":1044644,"reputation":3435,"user_id":1049915,"display_name":"Beau Grantham"},"score":1,"creation_date":1337707538,"post_id":10706949,"comment_id":13902074,"body_markdown":"Might be a better topic for [Programmers](http://programmers.stackexchange.com/).","body":"Might be a better topic for <a href=\"http://programmers.stackexchange.com/\">Programmers</a>."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1337707663,"post_id":10706949,"comment_id":13902127,"body_markdown":"The fact that a manager can add a new type of product doesn&#39;t mean your model is dynamic. It means you have a Product entity which as a many-to-one association to a ProductType entity (a product table with a foreign key to a product_type table, in RDBMS terms)","body":"The fact that a manager can add a new type of product doesn&#39;t mean your model is dynamic. It means you have a Product entity which as a many-to-one association to a ProductType entity (a product table with a foreign key to a product_type table, in RDBMS terms)"},{"owner":{"account_id":1031895,"reputation":4920,"user_id":1040070,"accept_rate":52,"display_name":"Alex Povar"},"score":0,"creation_date":1337707695,"post_id":10706949,"comment_id":13902138,"body_markdown":"Sorry for offtop but what is difference between stackoverflow and Programmers?","body":"Sorry for offtop but what is difference between stackoverflow and Programmers?"},{"owner":{"account_id":1031895,"reputation":4920,"user_id":1040070,"accept_rate":52,"display_name":"Alex Povar"},"score":0,"creation_date":1337707920,"post_id":10706949,"comment_id":13902209,"body_markdown":"Yeah. Thats what I&#39;ve done: declare fields in ProductType entity. But how I should deal with it in my code? If manager have created new ProductType should I generate new java-class for it with cglib magic?","body":"Yeah. Thats what I&#39;ve done: declare fields in ProductType entity. But how I should deal with it in my code? If manager have created new ProductType should I generate new java-class for it with cglib magic?"},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1337708299,"post_id":10706949,"comment_id":13902343,"body_markdown":"@AlexPovar, You would then add a new row in the table that corresponds to the ProductType entity. Then you can create new rows in the Product table that correspond to the new ProductType.","body":"@AlexPovar, You would then add a new row in the table that corresponds to the ProductType entity. Then you can create new rows in the Product table that correspond to the new ProductType."}],"answers":[{"tags":[],"owner":{"account_id":19294,"reputation":3644,"user_id":45108,"accept_rate":64,"display_name":"Jim Barrows"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1337708138,"creation_date":1337708138,"answer_id":10707112,"question_id":10706949,"body_markdown":"You have a 1 to 1 from product to product type.  So product has a member var called productType.  You&#39;ll also have a 1-to-many from product to features.  So the product class will have a list of features.\r\n\r\nI can&#39;t imagine a more wrong way to do this then using cglib to create classes on the fly.","title":"Enterprise java app architecture. Dynamic domain model","body":"<p>You have a 1 to 1 from product to product type.  So product has a member var called productType.  You'll also have a 1-to-many from product to features.  So the product class will have a list of features.</p>\n\n<p>I can't imagine a more wrong way to do this then using cglib to create classes on the fly.</p>\n"}],"owner":{"account_id":1031895,"reputation":4920,"user_id":1040070,"accept_rate":52,"display_name":"Alex Povar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10707112,"answer_count":1,"score":0,"last_activity_date":1674097332,"creation_date":1337707398,"question_id":10706949,"body_markdown":"I wonder what is the best way to implement dynamic domain model persisted in SQL database?\r\nSaying dynamic domain model I mean such model when user can change &quot;class&quot; of object by adding  or removing properties.\r\n\r\nFor example: little internet shop where manager can add new types of product with web-interface.\r\nShould I use something like Map everywhere? Maybe it is better to keep only dynamic part of object in Map? Or maybe runtime class generation will help? Or I should take a tour over dynamic languages like Groovy? I have tested first and second methods and this is real headache to develop in such way.\r\n\r\nWhat is the common practise?","title":"Enterprise java app architecture. Dynamic domain model","body":"<p>I wonder what is the best way to implement dynamic domain model persisted in SQL database?\nSaying dynamic domain model I mean such model when user can change \"class\" of object by adding  or removing properties.</p>\n\n<p>For example: little internet shop where manager can add new types of product with web-interface.\nShould I use something like Map everywhere? Maybe it is better to keep only dynamic part of object in Map? Or maybe runtime class generation will help? Or I should take a tour over dynamic languages like Groovy? I have tested first and second methods and this is real headache to develop in such way.</p>\n\n<p>What is the common practise?</p>\n"},{"tags":["java","web-services"],"answers":[{"tags":[],"owner":{"account_id":38973,"reputation":17442,"user_id":112222,"accept_rate":88,"display_name":"Teja Kantamneni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264432643,"creation_date":1264432643,"answer_id":2133210,"question_id":2133121,"body_markdown":"Your idea of splitting the application is not so uncommon. When most of your services are intended to be reused, its a good idea to deploy them as a separate application and decoupling it so that other systems can access them easily. It will defiantly has some impact on performance but technically it should not have any impact on transactions(unless you need to have transactions across service calls where you can use WS-Reliability). ","title":"Using webservices to connect front-end and back-end, a good idea?","body":"<p>Your idea of splitting the application is not so uncommon. When most of your services are intended to be reused, its a good idea to deploy them as a separate application and decoupling it so that other systems can access them easily. It will defiantly has some impact on performance but technically it should not have any impact on transactions(unless you need to have transactions across service calls where you can use WS-Reliability). </p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264433424,"creation_date":1264433424,"answer_id":2133304,"question_id":2133121,"body_markdown":"In general this approach is a good idea if your &quot;backend&quot; (I&#39;d call them &quot;services&quot;) are intended to be re-used by other applications.\r\n\r\nJust a note though, web services is just the actual transport/message interface between the systems. There are plenty of other options here to handle the interface between the two - Java RMI, Spring remoting, REST, etc. A well designed services solution will be agnostic between which messaging technology you use (and should be able to support more than one).","title":"Using webservices to connect front-end and back-end, a good idea?","body":"<p>In general this approach is a good idea if your \"backend\" (I'd call them \"services\") are intended to be re-used by other applications.</p>\n\n<p>Just a note though, web services is just the actual transport/message interface between the systems. There are plenty of other options here to handle the interface between the two - Java RMI, Spring remoting, REST, etc. A well designed services solution will be agnostic between which messaging technology you use (and should be able to support more than one).</p>\n"},{"tags":[],"owner":{"account_id":89078,"reputation":1862,"user_id":245977,"accept_rate":82,"display_name":"Steve Wall"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1264440503,"creation_date":1264440503,"answer_id":2134186,"question_id":2133121,"body_markdown":"I&#39;m a big fan of the KISS principle (Keep It Simple Stupid). There would need to be a compelling reason to split the application between JVMs and create a WS interface layer. Possible reasons include the need to scale the presentation tier differently from the business tier. JVM tuning differences, such as a different garbage collection algorithm. Or the need for a DMZ.\r\n\r\nIf a compelling reason does not exist, separating adds unneeded complexity that will quite likely cause headaches from development to operations.\r\n\r\nAnd the need to expose business logic to other applications does not represent a compelling reason to split the tiers between JVMs. The business logic can still be exposed via WS for external apps, while your presentation tier physically resides in the same JVM and references the business tier directly via the POJO implementation of the business service. While there would be a web service wrapper around the POJO implementation, exposing the business services as web services.","title":"Using webservices to connect front-end and back-end, a good idea?","body":"<p>I'm a big fan of the KISS principle (Keep It Simple Stupid). There would need to be a compelling reason to split the application between JVMs and create a WS interface layer. Possible reasons include the need to scale the presentation tier differently from the business tier. JVM tuning differences, such as a different garbage collection algorithm. Or the need for a DMZ.</p>\n\n<p>If a compelling reason does not exist, separating adds unneeded complexity that will quite likely cause headaches from development to operations.</p>\n\n<p>And the need to expose business logic to other applications does not represent a compelling reason to split the tiers between JVMs. The business logic can still be exposed via WS for external apps, while your presentation tier physically resides in the same JVM and references the business tier directly via the POJO implementation of the business service. While there would be a web service wrapper around the POJO implementation, exposing the business services as web services.</p>\n"}],"owner":{"account_id":94749,"reputation":2530,"user_id":258510,"accept_rate":75,"display_name":"P&#229;lOliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3060,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1674132067,"accepted_answer_id":2134186,"answer_count":3,"score":1,"last_activity_date":1674096701,"creation_date":1264431775,"question_id":2133121,"body_markdown":"This project runs the front-end web server on one JVM and the back-end on another. In order for the web to call any biz-logic methods in the back-end, it has to make that call over web services (JAX-WS).\r\n\r\nI can understand that for parts of the application that will need to integrate with other systems, distributing a service through the use of webservices is a good idea, but I have yet to see a system where _every_ biz-logic call is exposed as a webservice. \r\n\r\nPerformance? Transactions? In general a good idea?","title":"Using webservices to connect front-end and back-end, a good idea?","body":"<p>This project runs the front-end web server on one JVM and the back-end on another. In order for the web to call any biz-logic methods in the back-end, it has to make that call over web services (JAX-WS).</p>\n\n<p>I can understand that for parts of the application that will need to integrate with other systems, distributing a service through the use of webservices is a good idea, but I have yet to see a system where <em>every</em> biz-logic call is exposed as a webservice. </p>\n\n<p>Performance? Transactions? In general a good idea?</p>\n"},{"tags":["java","pdf","png"],"answers":[{"tags":[],"owner":{"account_id":348998,"reputation":1851,"user_id":684020,"display_name":"ollins"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322856273,"creation_date":1322856273,"answer_id":8361963,"question_id":8361901,"body_markdown":"for reading javax.imageio.ImageIO\r\nfor writing pdf itext: http://itextpdf.com","title":"How can I convert a PNG file to PDF using java?","body":"<p>for reading javax.imageio.ImageIO\nfor writing pdf itext: <a href=\"http://itextpdf.com\" rel=\"nofollow\">http://itextpdf.com</a></p>\n"},{"tags":[],"owner":{"account_id":92865,"reputation":5039,"user_id":254307,"accept_rate":88,"display_name":"Pablo Grisafi"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1322856295,"creation_date":1322856295,"answer_id":8361966,"question_id":8361901,"body_markdown":"[itext][1] may help you.\r\nyou don&#39;t really convert a png to pdf but create a pdf with a png in it.\r\nsimple example:\r\n\r\n    Document document = new Document(PageSize.A4, 20, 20, 20, 20);\r\n    PdfWriter.getInstance(document, new FileOutputStream(&quot;C:/test.pdf&quot;));\r\n    document.open();\r\n    Image image = Image.getInstance(getClass().getResource(&quot;/logo.png&quot;));\r\n    document.add(image);\r\n    document.close();\r\n\r\n\r\n  [1]: http://itextpdf.com/","title":"How can I convert a PNG file to PDF using java?","body":"<p><a href=\"http://itextpdf.com/\" rel=\"noreferrer\">itext</a> may help you.\nyou don't really convert a png to pdf but create a pdf with a png in it.\nsimple example:</p>\n\n<pre><code>Document document = new Document(PageSize.A4, 20, 20, 20, 20);\nPdfWriter.getInstance(document, new FileOutputStream(\"C:/test.pdf\"));\ndocument.open();\nImage image = Image.getInstance(getClass().getResource(\"/logo.png\"));\ndocument.add(image);\ndocument.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20848146,"reputation":334,"user_id":15313224,"display_name":"Nemuga Dev"},"score":0,"creation_date":1635353474,"post_id":42937466,"comment_id":123277477,"body_markdown":"with this approach how does one write more than one image on the same document","body":"with this approach how does one write more than one image on the same document"},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":0,"creation_date":1635364284,"post_id":42937466,"comment_id":123281339,"body_markdown":"I believe I ended up combining up the resulting PDFs in another service.","body":"I believe I ended up combining up the resulting PDFs in another service."},{"owner":{"account_id":20848146,"reputation":334,"user_id":15313224,"display_name":"Nemuga Dev"},"score":0,"creation_date":1635400234,"post_id":42937466,"comment_id":123288548,"body_markdown":"Is it not hard way of doing it? would you mind sharing the code","body":"Is it not hard way of doing it? would you mind sharing the code"}],"tags":[],"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495036450,"creation_date":1490127853,"answer_id":42937466,"question_id":8361901,"body_markdown":"An example which rotates the page, if landscape mode fits better \r\n\r\n    /**\r\n     * Converts arbitrary image file to PDF\r\n     * http://stackoverflow.com/a/42937466/241986\r\n     * @param imageFile contents of JPEG or PNG file\r\n     * @param outputStream stream to write out pdf, always closed after this method execution.\r\n     * @throws IOException when there&#39; an actual exception or image is not valid\r\n     */\r\n    public static void imageToPdf(byte[] imageFile, OutputStream outputStream) throws IOException {\r\n        try {\r\n            Image image;\r\n            try {\r\n                image = Image.getInstance(imageFile);\r\n            } catch (BadElementException bee) {\r\n                throw new IOException(bee);\r\n            }\r\n\r\n            //See http://stackoverflow.com/questions/1373035/how-do-i-scale-one-rectangle-to-the-maximum-size-possible-within-another-rectang\r\n            Rectangle A4 = PageSize.A4;\r\n\r\n            float scalePortrait = Math.min(A4.getWidth() / image.getWidth(),\r\n                    A4.getHeight() / image.getHeight());\r\n\r\n            float scaleLandscape = Math.min(A4.getHeight() / image.getWidth(),\r\n                    A4.getWidth() / image.getHeight());\r\n\r\n            // We try to occupy as much space as possible\r\n            // Sportrait = (w*scalePortrait) * (h*scalePortrait)\r\n            // Slandscape = (w*scaleLandscape) * (h*scaleLandscape)\r\n\r\n            // therefore the bigger area is where we have bigger scale\r\n            boolean isLandscape = scaleLandscape &gt; scalePortrait;\r\n\r\n            float w;\r\n            float h;\r\n            if (isLandscape) {\r\n                A4 = A4.rotate();\r\n                w = image.getWidth() * scaleLandscape;\r\n                h = image.getHeight() * scaleLandscape;\r\n            } else {\r\n                w = image.getWidth() * scalePortrait;\r\n                h = image.getHeight() * scalePortrait;\r\n            }\r\n\r\n            Document document = new Document(A4, 10, 10, 10, 10);\r\n\r\n            try {\r\n                PdfWriter.getInstance(document, outputStream);\r\n            } catch (DocumentException e) {\r\n                throw new IOException(e);\r\n            }\r\n            document.open();\r\n            try {\r\n                image.scaleAbsolute(w, h);\r\n                float posH = (A4.getHeight() - h) / 2;\r\n                float posW = (A4.getWidth() - w) / 2;\r\n\r\n                image.setAbsolutePosition(posW, posH);\r\n                image.setBorder(Image.NO_BORDER);\r\n                image.setBorderWidth(0);\r\n\r\n                try {\r\n                    document.newPage();\r\n                    document.add(image);\r\n                } catch (DocumentException de) {\r\n                    throw new IOException(de);\r\n                }\r\n            } finally {\r\n                document.close();\r\n            }\r\n        } finally {\r\n            outputStream.close();\r\n        }\r\n    }\r\n\r\nInside pom.xml, one of free iText forks, if you are not already using iText \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;openpdf&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How can I convert a PNG file to PDF using java?","body":"<p>An example which rotates the page, if landscape mode fits better </p>\n\n<pre><code>/**\n * Converts arbitrary image file to PDF\n * http://stackoverflow.com/a/42937466/241986\n * @param imageFile contents of JPEG or PNG file\n * @param outputStream stream to write out pdf, always closed after this method execution.\n * @throws IOException when there' an actual exception or image is not valid\n */\npublic static void imageToPdf(byte[] imageFile, OutputStream outputStream) throws IOException {\n    try {\n        Image image;\n        try {\n            image = Image.getInstance(imageFile);\n        } catch (BadElementException bee) {\n            throw new IOException(bee);\n        }\n\n        //See http://stackoverflow.com/questions/1373035/how-do-i-scale-one-rectangle-to-the-maximum-size-possible-within-another-rectang\n        Rectangle A4 = PageSize.A4;\n\n        float scalePortrait = Math.min(A4.getWidth() / image.getWidth(),\n                A4.getHeight() / image.getHeight());\n\n        float scaleLandscape = Math.min(A4.getHeight() / image.getWidth(),\n                A4.getWidth() / image.getHeight());\n\n        // We try to occupy as much space as possible\n        // Sportrait = (w*scalePortrait) * (h*scalePortrait)\n        // Slandscape = (w*scaleLandscape) * (h*scaleLandscape)\n\n        // therefore the bigger area is where we have bigger scale\n        boolean isLandscape = scaleLandscape &gt; scalePortrait;\n\n        float w;\n        float h;\n        if (isLandscape) {\n            A4 = A4.rotate();\n            w = image.getWidth() * scaleLandscape;\n            h = image.getHeight() * scaleLandscape;\n        } else {\n            w = image.getWidth() * scalePortrait;\n            h = image.getHeight() * scalePortrait;\n        }\n\n        Document document = new Document(A4, 10, 10, 10, 10);\n\n        try {\n            PdfWriter.getInstance(document, outputStream);\n        } catch (DocumentException e) {\n            throw new IOException(e);\n        }\n        document.open();\n        try {\n            image.scaleAbsolute(w, h);\n            float posH = (A4.getHeight() - h) / 2;\n            float posW = (A4.getWidth() - w) / 2;\n\n            image.setAbsolutePosition(posW, posH);\n            image.setBorder(Image.NO_BORDER);\n            image.setBorderWidth(0);\n\n            try {\n                document.newPage();\n                document.add(image);\n            } catch (DocumentException de) {\n                throw new IOException(de);\n            }\n        } finally {\n            document.close();\n        }\n    } finally {\n        outputStream.close();\n    }\n}\n</code></pre>\n\n<p>Inside pom.xml, one of free iText forks, if you are not already using iText </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;\n    &lt;artifactId&gt;openpdf&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8870596,"reputation":1760,"user_id":6624422,"accept_rate":64,"display_name":"Anil Jagtap"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574139411,"creation_date":1574139411,"answer_id":58926919,"question_id":8361901,"body_markdown":"Use **iText** to convert jpg/png/gif to pdf with following code. It&#39;s work perfect.\r\n\r\n    import java.io.FileOutputStream;\r\n    //com.lowagie...   old version\r\n    //com.itextpdf...  recent version\r\n    import com.itextpdf.text.Document;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n    import com.itextpdf.text.Image;\r\n\r\n    public class ImageToPDF {\r\n      public static void main(String ... args) {\r\n        Document document = new Document();\r\n        String input = &quot;c:/temp/capture.png&quot;; // .gif and .jpg are ok too!\r\n        String output = &quot;c:/temp/capture.pdf&quot;;\r\n        try {\r\n          FileOutputStream fos = new FileOutputStream(output);\r\n          PdfWriter writer = PdfWriter.getInstance(document, fos);\r\n          writer.open();\r\n          document.open();\r\n          document.add(Image.getInstance(input));\r\n          document.close();\r\n          writer.close();\r\n        }\r\n        catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"How can I convert a PNG file to PDF using java?","body":"<p>Use <strong>iText</strong> to convert jpg/png/gif to pdf with following code. It's work perfect.</p>\n\n<pre><code>import java.io.FileOutputStream;\n//com.lowagie...   old version\n//com.itextpdf...  recent version\nimport com.itextpdf.text.Document;\nimport com.itextpdf.text.pdf.PdfWriter;\nimport com.itextpdf.text.Image;\n\npublic class ImageToPDF {\n  public static void main(String ... args) {\n    Document document = new Document();\n    String input = \"c:/temp/capture.png\"; // .gif and .jpg are ok too!\n    String output = \"c:/temp/capture.pdf\";\n    try {\n      FileOutputStream fos = new FileOutputStream(output);\n      PdfWriter writer = PdfWriter.getInstance(document, fos);\n      writer.open();\n      document.open();\n      document.add(Image.getInstance(input));\n      document.close();\n      writer.close();\n    }\n    catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674095720,"creation_date":1673893850,"answer_id":75138301,"question_id":8361901,"body_markdown":"For simplicity modern web pages carying PNG or JPEG can be command line converted to single or multiple page PDFs. \r\n\r\nBy placing an image at default width or height, or set to be kept at any scale it only takes a few lines of command line text to output a PDF. Very easy to template in a simple notepad or complex IDE.\r\n\r\nFor the conversion chrome -headless can be faster for one page than releasing the enter key, it takes a bit longer for 4000 images.\r\n\r\nOther libraries can be used for more complex operations as a post process. However Chrome will only produce an exceptionally good default media page , unless adding extra CSS.\r\n\r\nso echo the following from console or other editor\r\n```\r\n&lt;HTML&gt;\r\n&lt;image src=&quot;01.jpg&quot; width=&quot;100%&quot; /&gt;\r\n&lt;image src=&quot;02.jpg&quot; width=&quot;100%&quot; /&gt;\r\n&lt;/HTML&gt;\r\n```\r\nRun your Java shell equivalent of  \r\n\r\n`&quot;C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe&quot; --headless --print-to-pdf=&quot;C:\\Data\\out.pdf&quot; C:/Data/htm.htm`\r\n\r\nResult\r\n------\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/TphQP.png","title":"How can I convert a PNG file to PDF using java?","body":"<p>For simplicity modern web pages carying PNG or JPEG can be command line converted to single or multiple page PDFs.</p>\n<p>By placing an image at default width or height, or set to be kept at any scale it only takes a few lines of command line text to output a PDF. Very easy to template in a simple notepad or complex IDE.</p>\n<p>For the conversion chrome -headless can be faster for one page than releasing the enter key, it takes a bit longer for 4000 images.</p>\n<p>Other libraries can be used for more complex operations as a post process. However Chrome will only produce an exceptionally good default media page , unless adding extra CSS.</p>\n<p>so echo the following from console or other editor</p>\n<pre><code>&lt;HTML&gt;\n&lt;image src=&quot;01.jpg&quot; width=&quot;100%&quot; /&gt;\n&lt;image src=&quot;02.jpg&quot; width=&quot;100%&quot; /&gt;\n&lt;/HTML&gt;\n</code></pre>\n<p>Run your Java shell equivalent of</p>\n<p><code>&quot;C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe&quot; --headless --print-to-pdf=&quot;C:\\Data\\out.pdf&quot; C:/Data/htm.htm</code></p>\n<h2>Result</h2>\n<p><a href=\"https://i.stack.imgur.com/TphQP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TphQP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1034797,"reputation":661,"user_id":1042382,"accept_rate":53,"display_name":"Saurav Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36797,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1673899001,"accepted_answer_id":8361966,"answer_count":5,"score":10,"last_activity_date":1674095720,"creation_date":1322855979,"question_id":8361901,"body_markdown":"Are there any open source libraries that I can use?","title":"How can I convert a PNG file to PDF using java?","body":"<p>Are there any open source libraries that I can use?</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674095641,"creation_date":1674095641,"question_id":75167230,"body_markdown":"A REST API application uses mongodb as the backend database and I have been trying to implement authentication while not familiar with mongodb. The request url uses the client name as identifier so with the credentials (username &amp; password), we can verify the credentials in the db. The client collection and credential collection are linked by the clientID. How can I find the credentials by first finding the ID using the name and then finding the credentials to compare OR I guess just looking at it now, I could query the auth collection directly with the name.\r\n\r\neg. http://localhost:8080/CustomerABC/health/patient/medications\r\n\r\nFirst tried finding the best way to query within Mongo Compass\r\n\r\n    {\r\n     &quot;from&quot;: &quot;client_auth&quot;,\r\n     &quot;localField&quot;: &quot;clientId&quot;,\r\n     &quot;foreignField&quot;: &quot;clientId&quot;,\r\n     &quot;as&quot;: &quot;batch_info&quot;,\r\n    }\r\n\r\nTo match records across the 2 collections. But how do I construct the full queries using java:\r\n\r\n\r\n    MongoCollection results = \r\n                mongoTemplate.getDb().getCollection(&quot;client_list&quot;);\r\n\t\t\t\tBson filter = Filters.eq(&quot;name&quot;, custName);\r\n\t\t\t\tBson projection = \r\n                Projections.fields(Projections.include(&quot;id&quot;,&quot;clientId&quot;));\r\n\t\t\t    FindIterable&lt;Document&gt; fi = \r\n                results.find(filter).projection(projection).limit(1);\r\n\t\t        MongoCursor&lt;Document&gt; cursor = fi.iterator();\r\n\t\t        \r\n\t\t        try {\r\n\t\t            while(cursor.hasNext()) { \r\n                             ...\r\n\r\nThe collections:\r\n\r\n     client_auth\r\n    _id   639a0b0cd5d84dcd5929e40a\r\n     id   163\r\n     client_name &quot;CustomerABC&quot;\r\n     username    &quot;ABCuser&quot;\r\n     passwor     &quot;HQB0iuSjS1&quot;\r\n\r\n\r\n     clients\r\n\r\n     _id 62a25d22be46a7397948cdea\r\n      id      3\r\n      name    &quot;CustomerABC&quot;\r\n      active  1\r\n\r\n","title":"validate credentials across multiple collections in mongodb using java","body":"<p>A REST API application uses mongodb as the backend database and I have been trying to implement authentication while not familiar with mongodb. The request url uses the client name as identifier so with the credentials (username &amp; password), we can verify the credentials in the db. The client collection and credential collection are linked by the clientID. How can I find the credentials by first finding the ID using the name and then finding the credentials to compare OR I guess just looking at it now, I could query the auth collection directly with the name.</p>\n<p>eg. http://localhost:8080/CustomerABC/health/patient/medications</p>\n<p>First tried finding the best way to query within Mongo Compass</p>\n<pre><code>{\n &quot;from&quot;: &quot;client_auth&quot;,\n &quot;localField&quot;: &quot;clientId&quot;,\n &quot;foreignField&quot;: &quot;clientId&quot;,\n &quot;as&quot;: &quot;batch_info&quot;,\n}\n</code></pre>\n<p>To match records across the 2 collections. But how do I construct the full queries using java:</p>\n<pre><code>MongoCollection results = \n            mongoTemplate.getDb().getCollection(&quot;client_list&quot;);\n            Bson filter = Filters.eq(&quot;name&quot;, custName);\n            Bson projection = \n            Projections.fields(Projections.include(&quot;id&quot;,&quot;clientId&quot;));\n            FindIterable&lt;Document&gt; fi = \n            results.find(filter).projection(projection).limit(1);\n            MongoCursor&lt;Document&gt; cursor = fi.iterator();\n            \n            try {\n                while(cursor.hasNext()) { \n                         ...\n</code></pre>\n<p>The collections:</p>\n<pre><code> client_auth\n_id   639a0b0cd5d84dcd5929e40a\n id   163\n client_name &quot;CustomerABC&quot;\n username    &quot;ABCuser&quot;\n passwor     &quot;HQB0iuSjS1&quot;\n\n\n clients\n\n _id 62a25d22be46a7397948cdea\n  id      3\n  name    &quot;CustomerABC&quot;\n  active  1\n</code></pre>\n"},{"tags":["java","ldap"],"owner":{"account_id":2080995,"reputation":84,"user_id":1852984,"display_name":"vim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674094349,"creation_date":1674094349,"question_id":75167135,"body_markdown":"I am getting connected to ldaps with ssl enabled. I referred the following example and was successfully able to create a user.\r\nBut I am running into issue when I am trying to modify the password for the account.\r\n\r\nhttps://asadumar.wordpress.com/2013/02/28/create-user-password-in-active-directory-through-java-code/\r\n\r\nFollowing is the exception I am running into:\r\nUncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 00002020: setup_kerberos_keys: generation of a salting principal failed: Malformed representation of principal]; remaining name &#39;cn=vmurali10&#39;\r\n\r\nCan someone please add some context to this error message?\r\n","title":"Unable to update Active Directory Password programatically from Java even with SSL. Running into UncategorizedLdapException Exception","body":"<p>I am getting connected to ldaps with ssl enabled. I referred the following example and was successfully able to create a user.\nBut I am running into issue when I am trying to modify the password for the account.</p>\n<p><a href=\"https://asadumar.wordpress.com/2013/02/28/create-user-password-in-active-directory-through-java-code/\" rel=\"nofollow noreferrer\">https://asadumar.wordpress.com/2013/02/28/create-user-password-in-active-directory-through-java-code/</a></p>\n<p>Following is the exception I am running into:\nUncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 00002020: setup_kerberos_keys: generation of a salting principal failed: Malformed representation of principal]; remaining name 'cn=vmurali10'</p>\n<p>Can someone please add some context to this error message?</p>\n"},{"tags":["java","sql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1674088568,"post_id":75165738,"comment_id":132643023,"body_markdown":"The SQL you are showing doesn&#39;t seem correct - you have grouping on id but are selecting the name and id - it should fail. Try a subselect instead: (JPQL)&quot;select user from User user where (select count (b) from Books b where b.owner=user) &gt; :number&quot;. You should be able to turn the subquery into a predicate https://thorben-janssen.com/hibernate-tip-subquery-criteriaquery/","body":"The SQL you are showing doesn&#39;t seem correct - you have grouping on id but are selecting the name and id - it should fail. Try a subselect instead: (JPQL)&quot;select user from User user where (select count (b) from Books b where b.owner=user) &gt; :number&quot;. You should be able to turn the subquery into a predicate <a href=\"https://thorben-janssen.com/hibernate-tip-subquery-criteriaquery/\" rel=\"nofollow noreferrer\">thorben-janssen.com/hibernate-tip-subquery-criteriaquery</a>"}],"answers":[{"comments":[{"owner":{"account_id":27402261,"reputation":53,"user_id":20903485,"display_name":"Jotter Kain"},"score":0,"creation_date":1674081550,"post_id":75165934,"comment_id":132641903,"body_markdown":"yes, i just edited the question. thank you. but it doesn&#39;t solve the actual problem. i write de code in the answer manually since it is just a simple example.","body":"yes, i just edited the question. thank you. but it doesn&#39;t solve the actual problem. i write de code in the answer manually since it is just a simple example."},{"owner":{"account_id":27402261,"reputation":53,"user_id":20903485,"display_name":"Jotter Kain"},"score":0,"creation_date":1674093672,"post_id":75165934,"comment_id":132643661,"body_markdown":"Yes you are right again. This is another mistake from me but it doesnt solves the problem","body":"Yes you are right again. This is another mistake from me but it doesnt solves the problem"}],"tags":[],"owner":{"account_id":19989738,"reputation":50,"user_id":16252134,"display_name":"Codepressed"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674082108,"creation_date":1674081077,"answer_id":75165934,"question_id":75165738,"body_markdown":"I think you have a typo (Should be greaterThan instead of greatherThan).\r\n\r\nEDIT: You should reverse the query, instead of Join&lt;Book,User&gt; it should be Join&lt;User,Book&gt;. owner is a field of User entity, not reachable through Book.\r\n\r\n \r\n\r\n    public static Specification&lt;User&gt; userNumberOfBooksGreaterThan(Long number) {\r\n    return (root, query, criteriaBuilder) -&gt; {\r\n        Join&lt;User, Book&gt; userBooks = root.join(&quot;userBooksList&quot;);\r\n        return criteriaBuilder.greaterThan(criteriaBuilder.count(userBooks), number);\r\n    };}\r\n\r\nChanging the comparison in the criteriaBuilder will give you the correct count of books for each user.\r\n\r\nGreetings!\r\n","title":"Querying a joinned table in JPA Specifications","body":"<p>I think you have a typo (Should be greaterThan instead of greatherThan).</p>\n<p>EDIT: You should reverse the query, instead of Join&lt;Book,User&gt; it should be Join&lt;User,Book&gt;. owner is a field of User entity, not reachable through Book.</p>\n<pre><code>public static Specification&lt;User&gt; userNumberOfBooksGreaterThan(Long number) {\nreturn (root, query, criteriaBuilder) -&gt; {\n    Join&lt;User, Book&gt; userBooks = root.join(&quot;userBooksList&quot;);\n    return criteriaBuilder.greaterThan(criteriaBuilder.count(userBooks), number);\n};}\n</code></pre>\n<p>Changing the comparison in the criteriaBuilder will give you the correct count of books for each user.</p>\n<p>Greetings!</p>\n"},{"comments":[{"owner":{"account_id":27402261,"reputation":53,"user_id":20903485,"display_name":"Jotter Kain"},"score":0,"creation_date":1674095541,"post_id":75166634,"comment_id":132643883,"body_markdown":"Thank you very much. i used the first  option. When i tried to use it with lessThan, it was ignoring those who have no books. then i added JoinType.LEFT to join(). it worked. Where can i learn to use JPA please","body":"Thank you very much. i used the first  option. When i tried to use it with lessThan, it was ignoring those who have no books. then i added JoinType.LEFT to join(). it worked. Where can i learn to use JPA please"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674098862,"post_id":75166634,"comment_id":132644218,"body_markdown":"@JotterKain if you just started your learning curve, I would suggest to learn `JPQL` first, it is very similar to `SQL` and https://en.wikibooks.org/wiki/Java_Persistence/JPQL , for example, does not look bad. Criteria API (what you are actually trying to use) is high-level abstraction and it&#39;s purpose is to translate that ugly java code into `JPQL`, IMO if you know what you what to get in `JPQL` it is much simpler to write corresponding Criteria API code.","body":"@JotterKain if you just started your learning curve, I would suggest to learn <code>JPQL</code> first, it is very similar to <code>SQL</code> and <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/JPQL\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Java_Persistence/JPQL</a> , for example, does not look bad. Criteria API (what you are actually trying to use) is high-level abstraction and it&#39;s purpose is to translate that ugly java code into <code>JPQL</code>, IMO if you know what you what to get in <code>JPQL</code> it is much simpler to write corresponding Criteria API code."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674087850,"creation_date":1674087850,"answer_id":75166634,"question_id":75165738,"body_markdown":"I&#39;m not sure the SQL statement you are trying to get:\r\n\r\n```\r\nselect b1_0.user_id, b1_0.name from users b1_0 \r\n left outer join books b2_0 on b1_0.user_id=b2_0.owner_id \r\ngroup by user_id \r\nhaving count(b2_0.owner_id)&gt;=5;\r\n```\r\n\r\nis syntactically correct, at least for `Oracle` it is not. However there are following options:\r\n\r\n1. Having/group by\r\n\r\n```\r\n(root, cq, cb) -&gt; {\r\n   Join&lt;User, Book&gt; books = root.join(&quot;userBooksList&quot;);\r\n   cq.having(cb.greaterThanOrEqualTo(cb.count(books), number));\r\n   cq.groupBy(root);\r\n   return cb.and();\r\n}\r\n```\r\n\r\nor\r\n\r\n```\r\n(root, cq, cb) -&gt; {\r\n   Root&lt;Book&gt; bookRoot = cq.from(Book.class);\r\n   cq.having(cb.greaterThanOrEqualTo(cb.count(bookRoot), number));\r\n   cq.groupBy(root);\r\n   return cb.equal(bookRoot.get(&quot;owner&quot;), root);\r\n}\r\n```\r\n\r\n2. correlated subquery (this one produces syntactically correct SQL statement)\r\n\r\n\r\n```\r\n(root, cq, cb) -&gt; {\r\n   Subquery&lt;Long&gt; subq = cq.subquery(Long.class);\r\n   Root&lt;Book&gt; bookRoot = subq.from(Book.class);\r\n   subq.where(cb.equal(bookRoot.get(&quot;owner&quot;), subq.correlate(root)));\r\n   return cb.greaterThanOrEqualTo(subq.select(cb.count(bookRoot)), number);\r\n}\r\n```","title":"Querying a joinned table in JPA Specifications","body":"<p>I'm not sure the SQL statement you are trying to get:</p>\n<pre><code>select b1_0.user_id, b1_0.name from users b1_0 \n left outer join books b2_0 on b1_0.user_id=b2_0.owner_id \ngroup by user_id \nhaving count(b2_0.owner_id)&gt;=5;\n</code></pre>\n<p>is syntactically correct, at least for <code>Oracle</code> it is not. However there are following options:</p>\n<ol>\n<li>Having/group by</li>\n</ol>\n<pre><code>(root, cq, cb) -&gt; {\n   Join&lt;User, Book&gt; books = root.join(&quot;userBooksList&quot;);\n   cq.having(cb.greaterThanOrEqualTo(cb.count(books), number));\n   cq.groupBy(root);\n   return cb.and();\n}\n</code></pre>\n<p>or</p>\n<pre><code>(root, cq, cb) -&gt; {\n   Root&lt;Book&gt; bookRoot = cq.from(Book.class);\n   cq.having(cb.greaterThanOrEqualTo(cb.count(bookRoot), number));\n   cq.groupBy(root);\n   return cb.equal(bookRoot.get(&quot;owner&quot;), root);\n}\n</code></pre>\n<ol start=\"2\">\n<li>correlated subquery (this one produces syntactically correct SQL statement)</li>\n</ol>\n<pre><code>(root, cq, cb) -&gt; {\n   Subquery&lt;Long&gt; subq = cq.subquery(Long.class);\n   Root&lt;Book&gt; bookRoot = subq.from(Book.class);\n   subq.where(cb.equal(bookRoot.get(&quot;owner&quot;), subq.correlate(root)));\n   return cb.greaterThanOrEqualTo(subq.select(cb.count(bookRoot)), number);\n}\n</code></pre>\n"}],"owner":{"account_id":27402261,"reputation":53,"user_id":20903485,"display_name":"Jotter Kain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75166634,"answer_count":2,"score":1,"last_activity_date":1674093697,"creation_date":1674079368,"question_id":75165738,"body_markdown":"I want to make a request to the endpoint `/users?numberOfBooksGreatherThan=5`, **i want the result to be a list of users with more than 5 books each.**\r\nI use the specification API to implements it. \r\n\r\nThis is what i tried: \r\n\r\n```java\r\npublic static Specification&lt;User&gt; userNumberOfBooksGreaterThan(Long number){\r\n    return ((root, query, criteriaBuilder) -&gt; {\r\n        Join&lt;User, Book&gt; userBooks = root.join(&quot;userBooksList&quot;);\r\n        return criteriaBuilder.greaterThan(criteriaBuilder.count(userBooks.get(&quot;owner&quot;)), number);\r\n    });\r\n}\r\n```\r\n\r\nBut i got this error\r\n\r\n`org.postgresql.util.PSQLException: ERROR: aggregate functions are not allowed in WHERE\r\n`\r\n\r\nThis is the SQL query executed behind (from logs):\r\n\r\n```sql\r\nselect b1_0.user_id,b1_0.name from users b1_0 join books b2_0 on b1_0.user_id=b2_0.owner_id where count(b2_0.owner_id)&gt;5\r\n```\r\ni saw some answer to a problem like this but it was just in SQL, saying that i should change `where` by `having` but i don&#39;t know how to do that with JPA Specification. \r\n\r\nwhen i use the query below `(left outer join + group by + having)`, it returns the correct result, but i don&#39;t know  how to transform this query into a jpa specification.\r\n\r\n```sql\r\nselect b1_0.user_id,b1_0.name, from users b1_0 left outer join books b2_0 on b1_0.user_id=b2_0.owner_id group by user_id having count(b2_0.owner_id)&gt;=5;\r\n```\r\n\r\n\r\n\r\nThis is the User entity definition\r\n\r\n```java\r\n@Entity(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    private Long userId;\r\n    private String name;\r\n    @JsonManagedReference\r\n    @OneToMany(mappedBy = &quot;owner&quot;)\r\n    private List&lt;Book&gt; userBooksList;\r\n}\r\n```\r\n\r\nThis is the Book entity definition\r\n\r\n```java\r\n@Entity(name = &quot;books&quot;)\r\npublic class Book {\r\n    @Id\r\n    private Long bookId;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;ownerId&quot;,referencedColumnName = &quot;userId&quot;,nullable = false)\r\n    private User owner;\r\n    private Float price;\r\n}\r\n```\r\n\r\nThank you for your help","title":"Querying a joinned table in JPA Specifications","body":"<p>I want to make a request to the endpoint <code>/users?numberOfBooksGreatherThan=5</code>, <strong>i want the result to be a list of users with more than 5 books each.</strong>\nI use the specification API to implements it.</p>\n<p>This is what i tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Specification&lt;User&gt; userNumberOfBooksGreaterThan(Long number){\n    return ((root, query, criteriaBuilder) -&gt; {\n        Join&lt;User, Book&gt; userBooks = root.join(&quot;userBooksList&quot;);\n        return criteriaBuilder.greaterThan(criteriaBuilder.count(userBooks.get(&quot;owner&quot;)), number);\n    });\n}\n</code></pre>\n<p>But i got this error</p>\n<p><code>org.postgresql.util.PSQLException: ERROR: aggregate functions are not allowed in WHERE </code></p>\n<p>This is the SQL query executed behind (from logs):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select b1_0.user_id,b1_0.name from users b1_0 join books b2_0 on b1_0.user_id=b2_0.owner_id where count(b2_0.owner_id)&gt;5\n</code></pre>\n<p>i saw some answer to a problem like this but it was just in SQL, saying that i should change <code>where</code> by <code>having</code> but i don't know how to do that with JPA Specification.</p>\n<p>when i use the query below <code>(left outer join + group by + having)</code>, it returns the correct result, but i don't know  how to transform this query into a jpa specification.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select b1_0.user_id,b1_0.name, from users b1_0 left outer join books b2_0 on b1_0.user_id=b2_0.owner_id group by user_id having count(b2_0.owner_id)&gt;=5;\n</code></pre>\n<p>This is the User entity definition</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;users&quot;)\npublic class User {\n    @Id\n    private Long userId;\n    private String name;\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;owner&quot;)\n    private List&lt;Book&gt; userBooksList;\n}\n</code></pre>\n<p>This is the Book entity definition</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;books&quot;)\npublic class Book {\n    @Id\n    private Long bookId;\n    @ManyToOne\n    @JoinColumn(name = &quot;ownerId&quot;,referencedColumnName = &quot;userId&quot;,nullable = false)\n    private User owner;\n    private Float price;\n}\n</code></pre>\n<p>Thank you for your help</p>\n"},{"tags":["java","spring","spring-data-jpa"],"owner":{"account_id":20158026,"reputation":21,"user_id":14783721,"display_name":"Sebastian Charras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674092748,"creation_date":1674092748,"question_id":75167021,"body_markdown":"I have two tables in my database and a join table. In order to prevent infinite recursion errors when requesting the server from the client, I use the JsonIdentityInfo annotation on the 2 entities that model both tables:\r\n\r\n```\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\r\n```\r\n\r\nThe association is indicated with a @ManyToMany annotation like the following:\r\n\r\n```\r\n@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\r\n@JoinTable(name = &quot;join_table&quot;,\r\n            joinColumns = {\r\n                @JoinColumn(name = &quot;first_table_id&quot;, referencedColumnName = &quot;first_table_id&quot;)\r\n            },\r\n            inverseJoinColumns = {\r\n                @JoinColumn(name = &quot;second_table_id&quot;, referencedColumnName = &quot;second_table_id&quot;)\r\n            }\r\n    )\r\nprivate List&lt;SecondDTO&gt; secondDTOs = new ArrayList&lt;SecondDTO&gt;();\r\n```\r\n\r\nAnd on the other side of the relationship:\r\n\r\n```\r\n@ManyToMany(mappedBy = &quot;zonas&quot;)\r\nprivate List&lt;FirstDTO&gt; firstDTOs = new ArrayList&lt;FirstDTO&gt;();\r\n```\r\n\r\nwhen performing a GET request to the server, a 500 HTTP error occurs and when looking a the server&#39;s console, an exception is shown:\r\n\r\nWARN 94190 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Can not write a number, expecting field name (context: Object)]\r\n\r\nAlthough I could remove the JsonIdentityInfo annotation and just use JsonIgnore for read requests, since I need the information of the relationship between the entities I would have to make a workaround to get such data from the server to the client, so I wanted to know if there is a way to solve this problem without ignoring the referenced objects.\r\n\r\nWhen the List of referenced objects is empty, there is no error. Looking at the database, it only appears when a FK isn&#39;t unique in the join table, so it only works for OneToOne relations instead of ManyToMany.","title":"HttpMessageNotWritableException when serializing object with bidirectional Many to Many association using JsonIdentityInfo","body":"<p>I have two tables in my database and a join table. In order to prevent infinite recursion errors when requesting the server from the client, I use the JsonIdentityInfo annotation on the 2 entities that model both tables:</p>\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\n</code></pre>\n<p>The association is indicated with a @ManyToMany annotation like the following:</p>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n\n@JoinTable(name = &quot;join_table&quot;,\n            joinColumns = {\n                @JoinColumn(name = &quot;first_table_id&quot;, referencedColumnName = &quot;first_table_id&quot;)\n            },\n            inverseJoinColumns = {\n                @JoinColumn(name = &quot;second_table_id&quot;, referencedColumnName = &quot;second_table_id&quot;)\n            }\n    )\nprivate List&lt;SecondDTO&gt; secondDTOs = new ArrayList&lt;SecondDTO&gt;();\n</code></pre>\n<p>And on the other side of the relationship:</p>\n<pre><code>@ManyToMany(mappedBy = &quot;zonas&quot;)\nprivate List&lt;FirstDTO&gt; firstDTOs = new ArrayList&lt;FirstDTO&gt;();\n</code></pre>\n<p>when performing a GET request to the server, a 500 HTTP error occurs and when looking a the server's console, an exception is shown:</p>\n<p>WARN 94190 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Can not write a number, expecting field name (context: Object)]</p>\n<p>Although I could remove the JsonIdentityInfo annotation and just use JsonIgnore for read requests, since I need the information of the relationship between the entities I would have to make a workaround to get such data from the server to the client, so I wanted to know if there is a way to solve this problem without ignoring the referenced objects.</p>\n<p>When the List of referenced objects is empty, there is no error. Looking at the database, it only appears when a FK isn't unique in the join table, so it only works for OneToOne relations instead of ManyToMany.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1674046074,"post_id":75159321,"comment_id":132630344,"body_markdown":"Are you sure the &quot;...may be removed in future&quot; is an error and not a warning? It doesn&#39;t sound to me like it should prevent the build from completing.","body":"Are you sure the &quot;...may be removed in future&quot; is an error and not a warning? It doesn&#39;t sound to me like it should prevent the build from completing."},{"owner":{"account_id":2524552,"reputation":171,"user_id":2194156,"accept_rate":25,"display_name":"prabhat kumar"},"score":0,"creation_date":1674046613,"post_id":75159321,"comment_id":132630552,"body_markdown":"Thanks jsheeran, But it is not me, showing in intellijIdea when running mvc clean install.","body":"Thanks jsheeran, But it is not me, showing in intellijIdea when running mvc clean install."},{"owner":{"account_id":2524552,"reputation":171,"user_id":2194156,"accept_rate":25,"display_name":"prabhat kumar"},"score":0,"creation_date":1674046668,"post_id":75159321,"comment_id":132630572,"body_markdown":"sure  it is warning but  stopping the build showing that message","body":"sure  it is warning but  stopping the build showing that message"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1674049516,"post_id":75159321,"comment_id":132631561,"body_markdown":"You&#39;ve described the need to have a value accessible to another class. Why the need for complication?  Why not &#39;setters and getters&#39;?  I don&#39;t doubt that there is a reason, it&#39;s just that you haven&#39;t told us what it is, which makes answering a guessing-game.","body":"You&#39;ve described the need to have a value accessible to another class. Why the need for complication?  Why not &#39;setters and getters&#39;?  I don&#39;t doubt that there is a reason, it&#39;s just that you haven&#39;t told us what it is, which makes answering a guessing-game."}],"answers":[{"comments":[{"owner":{"account_id":2524552,"reputation":171,"user_id":2194156,"accept_rate":25,"display_name":"prabhat kumar"},"score":0,"creation_date":1674046741,"post_id":75159388,"comment_id":132630603,"body_markdown":"Thanks @Ivan Ivanchuk  MDC is not travelling variable value from one class to another.","body":"Thanks @Ivan Ivanchuk  MDC is not travelling variable value from one class to another."}],"tags":[],"owner":{"account_id":15976349,"reputation":84,"user_id":11529150,"display_name":"Ivan Ivanchuk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674045670,"creation_date":1674045670,"answer_id":75159388,"question_id":75159321,"body_markdown":"You can try `MDC`, [docs](https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html)\r\n\r\n```java\r\nMDC.put(&quot;userName&quot;, &quot;test&quot;);\r\n```","title":"Thread Context is a internal proprietary api and may be removed in future","body":"<p>You can try <code>MDC</code>, <a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html\" rel=\"nofollow noreferrer\">docs</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>MDC.put(&quot;userName&quot;, &quot;test&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2524552,"reputation":171,"user_id":2194156,"accept_rate":25,"display_name":"prabhat kumar"},"score":0,"creation_date":1674053217,"post_id":75159800,"comment_id":132633012,"body_markdown":"Thanks @Stephen C, Seems `ThreadLocal`  could be eligible to achieve same business","body":"Thanks @Stephen C, Seems <code>ThreadLocal</code>  could be eligible to achieve same business"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674092096,"creation_date":1674047709,"answer_id":75159800,"question_id":75159321,"body_markdown":"It is a warning, but it is not one that you should ignore.  The `com.sun.jmx.snmp.ThreadContext` class **has been removed** in Java 9 and later.\r\n\r\nThere is no direct replacement for this class in Java 9 and later.  Indeed, the entire `com.sun.jmx.snmp` package tree has been removed from Java SE; see https://bugs.openjdk.org/browse/JDK-8060692\r\n\r\nHowever, based on how `ThreadContext` seems to work,  you should be able to replace this functionality by using `ThreadLocal` ([javadoc][1]).\r\n\r\nAlternatively, you could also simply copy the source code of the OpenJDK `ThreadContext` class, change its package name and add it to your own codebase.  However the OpenJDK codebase is covered by the GPLv2 copyleft license ... and you **MUST** read, understand and respect the terms of the license ... even if you just copy only one class.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html","title":"Thread Context is a internal proprietary api and may be removed in future","body":"<p>It is a warning, but it is not one that you should ignore.  The <code>com.sun.jmx.snmp.ThreadContext</code> class <strong>has been removed</strong> in Java 9 and later.</p>\n<p>There is no direct replacement for this class in Java 9 and later.  Indeed, the entire <code>com.sun.jmx.snmp</code> package tree has been removed from Java SE; see <a href=\"https://bugs.openjdk.org/browse/JDK-8060692\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8060692</a></p>\n<p>However, based on how <code>ThreadContext</code> seems to work,  you should be able to replace this functionality by using <code>ThreadLocal</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\">javadoc</a>).</p>\n<p>Alternatively, you could also simply copy the source code of the OpenJDK <code>ThreadContext</code> class, change its package name and add it to your own codebase.  However the OpenJDK codebase is covered by the GPLv2 copyleft license ... and you <strong>MUST</strong> read, understand and respect the terms of the license ... even if you just copy only one class.</p>\n"}],"owner":{"account_id":2524552,"reputation":171,"user_id":2194156,"accept_rate":25,"display_name":"prabhat kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674092096,"creation_date":1674045327,"question_id":75159321,"body_markdown":"I am using `com.sun.jmx.snmp.ThreadContext` class to push some variable value in one java class by using \r\n`ThreadContext.push(&quot;variable&quot;,value) ` and in other class retriving it by `ThreadContext.get(variablename)`, But it is giving me compilation error when `&quot;mvn clean install&quot;`. telling `&quot;Thread Context is a internal proprietary api and may be removed in future&quot;`\r\nHowever if I am running clean install from intelljidea then giving &quot;build success&quot;\r\n\r\nPlease suggest me what to use to replace ThreadContext with same feature.\r\n\r\nThanks.","title":"Thread Context is a internal proprietary api and may be removed in future","body":"<p>I am using <code>com.sun.jmx.snmp.ThreadContext</code> class to push some variable value in one java class by using\n<code>ThreadContext.push(&quot;variable&quot;,value) </code> and in other class retriving it by <code>ThreadContext.get(variablename)</code>, But it is giving me compilation error when <code>&quot;mvn clean install&quot;</code>. telling <code>&quot;Thread Context is a internal proprietary api and may be removed in future&quot;</code>\nHowever if I am running clean install from intelljidea then giving &quot;build success&quot;</p>\n<p>Please suggest me what to use to replace ThreadContext with same feature.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","lombok"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674091105,"creation_date":1674091105,"answer_id":75166913,"question_id":75166828,"body_markdown":"[`@With`](https://projectlombok.org/features/With) might be helpful:\r\n\r\n```java\r\nExample example = Example.builder().build();\r\nExample.ExampleTwo exampleTwo = example.getExampleTwo();\r\nSomeData someData = exampleTwo.getSomeData();\r\n\r\nreturn example.withExampleTwo(\r\n        exampleTwo.withSomeData(\r\n                someData.withSpecialId(&quot;SPE_1&quot;)\r\n        )\r\n);\r\n```","title":"Deep copy with lombok toBuilder within a nested class - cleaner way?","body":"<p><a href=\"https://projectlombok.org/features/With\" rel=\"nofollow noreferrer\"><code>@With</code></a> might be helpful:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = Example.builder().build();\nExample.ExampleTwo exampleTwo = example.getExampleTwo();\nSomeData someData = exampleTwo.getSomeData();\n\nreturn example.withExampleTwo(\n        exampleTwo.withSomeData(\n                someData.withSpecialId(&quot;SPE_1&quot;)\n        )\n);\n</code></pre>\n"}],"owner":{"account_id":16498239,"reputation":103,"user_id":11920187,"display_name":"Sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75166913,"answer_count":1,"score":0,"last_activity_date":1674091105,"creation_date":1674089963,"question_id":75166828,"body_markdown":"    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class Example {\r\n      public ExampleTwo exampleTwo;\r\n\r\n    @lombok.Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public static class ExampleTwo {\r\n        private SomeData someData;\r\n        private AnotherField anotherField;\r\n\r\n       }\r\n\r\n    }\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class SomeData {\r\n       private String specialId;\r\n       private String firstName;\r\n       private String lastName;\r\n \r\n    }\r\n\r\nSo I retrieved an Example instance and made a deep copy to duplicate it. But I want to be able to set one of the fields of the copied object which is specialId from the SomeData nested class. My current working implementation is this:\r\n\r\n         SomeData someData = example.getExampleTwo().getSomeData().toBuilder().specialID(&quot;SPE_1&quot;).build();\r\n         Example.ExampleTwo exampleTwo = example.getExampleTwo().toBuilder().someData(someData).build();\r\n         Example duplicateExample = example.toBuilder().exampleTwo(exampleTwo).build();\r\n\r\nDo you have thoughts on ways to make this cleaner without having to go through these additional steps? Would prefer it to be easier to read. I&#39;m avoiding Serializable implementation and declaring it as a Cloneable interface since I&#39;ve read to avoid those. Last resort would be to use a library.","title":"Deep copy with lombok toBuilder within a nested class - cleaner way?","body":"<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder(toBuilder = true)\npublic class Example {\n  public ExampleTwo exampleTwo;\n\n@lombok.Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder(toBuilder = true)\npublic static class ExampleTwo {\n    private SomeData someData;\n    private AnotherField anotherField;\n\n   }\n\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder(toBuilder = true)\npublic class SomeData {\n   private String specialId;\n   private String firstName;\n   private String lastName;\n\n}\n</code></pre>\n<p>So I retrieved an Example instance and made a deep copy to duplicate it. But I want to be able to set one of the fields of the copied object which is specialId from the SomeData nested class. My current working implementation is this:</p>\n<pre><code>     SomeData someData = example.getExampleTwo().getSomeData().toBuilder().specialID(&quot;SPE_1&quot;).build();\n     Example.ExampleTwo exampleTwo = example.getExampleTwo().toBuilder().someData(someData).build();\n     Example duplicateExample = example.toBuilder().exampleTwo(exampleTwo).build();\n</code></pre>\n<p>Do you have thoughts on ways to make this cleaner without having to go through these additional steps? Would prefer it to be easier to read. I'm avoiding Serializable implementation and declaring it as a Cloneable interface since I've read to avoid those. Last resort would be to use a library.</p>\n"},{"tags":["java","javascript","struts"],"comments":[{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1329836644,"post_id":9379628,"comment_id":11847450,"body_markdown":"What&#39;s the name of the `html:form` where the `html:select` is situated?","body":"What&#39;s the name of the <code>html:form</code> where the <code>html:select</code> is situated?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1329837142,"post_id":9379628,"comment_id":11847664,"body_markdown":"When you&#39;re doing JavaScript, forget about Struts and its tags. JavaScript only sees the generated HTML.","body":"When you&#39;re doing JavaScript, forget about Struts and its tags. JavaScript only sees the generated HTML."},{"owner":{"account_id":336528,"reputation":2227,"user_id":664224,"accept_rate":35,"display_name":"p27"},"score":0,"creation_date":1329838118,"post_id":9379628,"comment_id":11848077,"body_markdown":"oky JB NiZET so can you tell me how to get value from HTML Collection","body":"oky JB NiZET so can you tell me how to get value from HTML Collection"}],"answers":[{"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329836806,"creation_date":1329836806,"answer_id":9379859,"question_id":9379628,"body_markdown":"Consider your form called `uploadForm`. In your Javascript, you will do\r\n\r\n    var select = document.uploadForm.countryid;\r\n    var value = select.options[select.selectIndex].value;\r\n\r\nI hope this helps.\r\n","title":"how to get strut &lt;html:select&gt; value in java script in jsp","body":"<p>Consider your form called <code>uploadForm</code>. In your Javascript, you will do</p>\n\n<pre><code>var select = document.uploadForm.countryid;\nvar value = select.options[select.selectIndex].value;\n</code></pre>\n\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":336528,"reputation":2227,"user_id":664224,"accept_rate":35,"display_name":"p27"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674090295,"creation_date":1329835982,"question_id":9379628,"body_markdown":"i want countryid value in java script \r\n\r\n    &lt;html:select property=&quot;countryid&quot; onchange=&quot;retrieveURL();&quot;&gt;\r\n                    &lt;html:option value=&quot;-1&quot;&gt;SELECT&lt;/html:option&gt;\r\n                    &lt;html:options collection=&quot;countryList&quot; property=&quot;countryid&quot; labelProperty=&quot;countryname&quot; /&gt;\r\n            &lt;/html:select&gt;\r\n\r\ncan any one help","title":"how to get strut &lt;html:select&gt; value in java script in jsp","body":"<p>i want countryid value in java script </p>\n\n<pre><code>&lt;html:select property=\"countryid\" onchange=\"retrieveURL();\"&gt;\n                &lt;html:option value=\"-1\"&gt;SELECT&lt;/html:option&gt;\n                &lt;html:options collection=\"countryList\" property=\"countryid\" labelProperty=\"countryname\" /&gt;\n        &lt;/html:select&gt;\n</code></pre>\n\n<p>can any one help</p>\n"},{"tags":["java","imagej","fiji"],"comments":[{"owner":{"account_id":23489713,"reputation":198,"user_id":17540894,"display_name":"Herbie"},"score":0,"creation_date":1674124160,"post_id":75166788,"comment_id":132649480,"body_markdown":"Sorry, but which command is &quot;Help -&gt; Update UI&quot;? I don&#39;t see it. Furthermore, please see the most recent changes to ImageJ &lt;https://github.com/imagej/ImageJ/commits/master/ij&gt; and make sure you are at least running version 1.54b.","body":"Sorry, but which command is &quot;Help -&gt; Update UI&quot;? I don&#39;t see it. Furthermore, please see the most recent changes to ImageJ &lt;<a href=\"https://github.com/imagej/ImageJ/commits/master/ij\" rel=\"nofollow noreferrer\">github.com/imagej/ImageJ/commits/master/ij</a>&gt; and make sure you are at least running version 1.54b."},{"owner":{"account_id":1493664,"reputation":63,"user_id":1400108,"display_name":"SidSethupathi"},"score":0,"creation_date":1674138917,"post_id":75166788,"comment_id":132654468,"body_markdown":"@Herbie I&#39;m using ImageJ through Fiji which I downloaded from https://imagej.net/software/fiji/, so it is currently running 1.53t. On the working setup, I&#39;m able to get this to 1.54b through &quot;Help -&gt; Update ImageJ...&quot; but can&#39;t on the broken setup. I misspoke earlier too, the UI options that are broken are &quot;Help -&gt; Update...&quot; and &quot;Help -&gt; Update ImageJ...&quot;","body":"@Herbie I&#39;m using ImageJ through Fiji which I downloaded from <a href=\"https://imagej.net/software/fiji/\" rel=\"nofollow noreferrer\">imagej.net/software/fiji</a>, so it is currently running 1.53t. On the working setup, I&#39;m able to get this to 1.54b through &quot;Help -&gt; Update ImageJ...&quot; but can&#39;t on the broken setup. I misspoke earlier too, the UI options that are broken are &quot;Help -&gt; Update...&quot; and &quot;Help -&gt; Update ImageJ...&quot;"},{"owner":{"account_id":23489713,"reputation":198,"user_id":17540894,"display_name":"Herbie"},"score":0,"creation_date":1674139159,"post_id":75166788,"comment_id":132654552,"body_markdown":"You may download plain ImageJ from &lt;https://imagej.nih.gov/ij/download.html&gt; and try to update it to version 1.54b. If this works, something is broken wiith your Fiji installation and obviously you are not alone...","body":"You may download plain ImageJ from &lt;<a href=\"https://imagej.nih.gov/ij/download.html\" rel=\"nofollow noreferrer\">imagej.nih.gov/ij/download.html</a>&gt; and try to update it to version 1.54b. If this works, something is broken wiith your Fiji installation and obviously you are not alone..."}],"owner":{"account_id":1493664,"reputation":63,"user_id":1400108,"display_name":"SidSethupathi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674089422,"creation_date":1674089422,"question_id":75166788,"body_markdown":"I am debugging an issue with my local Fiji/ImageJ installation failing to update through the Help -&gt; Update UI. The ImageJ code that triggers the issue is this updater code: https://github.com/imagej/imagej-ui-swing/blob/78a3180b6bc830166d15c73a01443c7a642c3908/src/main/java/net/imagej/ui/swing/updater/ImageJUpdater.java#L360-L370\r\n\r\nI wrote minimal test case to reproduce this pointing JAVA_HOME at the Fiji/ImageJ application (`/Applications/Fiji.app/java/macosx/zulu8.60.0.21-ca-fx-jdk8.0.322-macosx_x64/jre/Contents/Home`).\r\n```\r\nimport java.net.URL;\r\nimport java.net.URLClassLoader;\r\nimport java.net.URLConnection;\r\nimport java.io.IOException;\r\nimport java.net.HttpURLConnection;\r\n\r\nclass HelloWorld {\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tfinal URL url = new URL(&quot;http://neverssl.com&quot;);\r\n\t\t\tfinal URLConnection urlConn = url.openConnection();\r\n\t\t\tfinal HttpURLConnection httpConn = (HttpURLConnection) urlConn;\r\n\r\n\t\t\tfinal int code = httpConn.getResponseCode();\r\n\t\t} catch (IOException ioe) {\r\n\t\t\tioe.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\nThis code results in the following error:\r\n```\r\njava.io.IOException: Error writing to server\r\n\tat sun.net.www.protocol.http.HttpURLConnection.writeRequests(HttpURLConnection.java:705)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.writeRequests(HttpURLConnection.java:717)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1598)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\r\n\tat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n\tat HelloWorld.main(HelloWorld.java:14)\r\n```\r\n\r\nIf I change the URL to an https URL, the error changes to \r\n```\r\njavax.net.ssl.SSLException: Couldn&#39;t kickstart handshaking\r\n\tat sun.security.ssl.Alert.createSSLException(Alert.java:127)\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:348)\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:410)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1577)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\r\n\tat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352)\r\n\tat HelloWorld.main(HelloWorld.java:14)\r\n\tSuppressed: java.net.SocketException: Broken pipe (Write failed)\r\n\t\tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n\t\tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\r\n\t\tat java.net.SocketOutputStream.write(SocketOutputStream.java:155)\r\n\t\tat sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\r\n\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:379)\r\n\t\t... 10 more\r\nCaused by: java.net.SocketException: Broken pipe (Write failed)\r\n\tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n\tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\r\n\tat java.net.SocketOutputStream.write(SocketOutputStream.java:155)\r\n\tat sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:251)\r\n\tat sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n\tat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:580)\r\n\tat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:510)\r\n\tat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n\tat sun.security.ssl.TransportContext.kickstart(TransportContext.java:231)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:432)\r\n\t... 8 more\r\n```\r\nComparing a `tcpdump` filtered on the attempted host on this machine compared to a working one, I see early FIN packets being sent before any PSH packets are sent, so I think that is related to connections closing early.\r\n\r\nOn another machine running the same OS X version, I ran the same snippet pointing JAVA_HOME at the same directory, and had no issues. ","title":"java.net.URLConnection fails to connect via http or https","body":"<p>I am debugging an issue with my local Fiji/ImageJ installation failing to update through the Help -&gt; Update UI. The ImageJ code that triggers the issue is this updater code: <a href=\"https://github.com/imagej/imagej-ui-swing/blob/78a3180b6bc830166d15c73a01443c7a642c3908/src/main/java/net/imagej/ui/swing/updater/ImageJUpdater.java#L360-L370\" rel=\"nofollow noreferrer\">https://github.com/imagej/imagej-ui-swing/blob/78a3180b6bc830166d15c73a01443c7a642c3908/src/main/java/net/imagej/ui/swing/updater/ImageJUpdater.java#L360-L370</a></p>\n<p>I wrote minimal test case to reproduce this pointing JAVA_HOME at the Fiji/ImageJ application (<code>/Applications/Fiji.app/java/macosx/zulu8.60.0.21-ca-fx-jdk8.0.322-macosx_x64/jre/Contents/Home</code>).</p>\n<pre><code>import java.net.URL;\nimport java.net.URLClassLoader;\nimport java.net.URLConnection;\nimport java.io.IOException;\nimport java.net.HttpURLConnection;\n\nclass HelloWorld {\n    public static void main(String[] args) {\n        try {\n            final URL url = new URL(&quot;http://neverssl.com&quot;);\n            final URLConnection urlConn = url.openConnection();\n            final HttpURLConnection httpConn = (HttpURLConnection) urlConn;\n\n            final int code = httpConn.getResponseCode();\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>This code results in the following error:</p>\n<pre><code>java.io.IOException: Error writing to server\n    at sun.net.www.protocol.http.HttpURLConnection.writeRequests(HttpURLConnection.java:705)\n    at sun.net.www.protocol.http.HttpURLConnection.writeRequests(HttpURLConnection.java:717)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1598)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\n    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\n    at HelloWorld.main(HelloWorld.java:14)\n</code></pre>\n<p>If I change the URL to an https URL, the error changes to</p>\n<pre><code>javax.net.ssl.SSLException: Couldn't kickstart handshaking\n    at sun.security.ssl.Alert.createSSLException(Alert.java:127)\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:348)\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:410)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1577)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\n    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352)\n    at HelloWorld.main(HelloWorld.java:14)\n    Suppressed: java.net.SocketException: Broken pipe (Write failed)\n        at java.net.SocketOutputStream.socketWrite0(Native Method)\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\n        at java.net.SocketOutputStream.write(SocketOutputStream.java:155)\n        at sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:379)\n        ... 10 more\nCaused by: java.net.SocketException: Broken pipe (Write failed)\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:155)\n    at sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:251)\n    at sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:580)\n    at sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:510)\n    at sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at sun.security.ssl.TransportContext.kickstart(TransportContext.java:231)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:432)\n    ... 8 more\n</code></pre>\n<p>Comparing a <code>tcpdump</code> filtered on the attempted host on this machine compared to a working one, I see early FIN packets being sent before any PSH packets are sent, so I think that is related to connections closing early.</p>\n<p>On another machine running the same OS X version, I ran the same snippet pointing JAVA_HOME at the same directory, and had no issues.</p>\n"},{"tags":["java","kotlin","unit-testing","mocking","mockito"],"owner":{"account_id":3634451,"reputation":2164,"user_id":3029887,"accept_rate":100,"display_name":"AzzamAziz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674088147,"creation_date":1674088147,"question_id":75166658,"body_markdown":"How do I force a mocked return on a static extension method in Kotlin?\r\n\r\nI have a data class called `Job`\r\n\r\n```\r\ndata class Job(\r\n    val id: ObjectId) {\r\n}\r\n```\r\n\r\nand a `Mapper` object with an extension method that&#39;s static for the `Job` class.\r\n\r\n```\r\nobject Mapper {\r\n    Job.toOtherJob(): OtherJob.Job {\r\n    // Do work\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe issue is that `toOtherJob` method calls the real one, and I cannot force a doReturn on it.\r\n\r\nTest class\r\n```\r\nclass ServiceTests {\r\n    @Mock\r\n    private val job: Job? = null\r\n\r\n    @BeforeAll\r\n    fun setUp() {\r\n        // Initialize mocks.\r\n        MockitoAnnotations.openMocks(this)\r\n    }\r\n\r\n    @AfterAll\r\n    fun cleanUp() {\r\n        // Cleanup mocks.\r\n        MockitoAnnotations.openMocks(this).close()\r\n    }\r\n\r\n    fun testJob() {\r\n        val otherJob = OtherJob()\r\n\r\n        whenever(job.toOtherJob()).thenReturn(otherJob)\r\n\r\n        // Act\r\n        job.toOtherJob() // &lt;- This calls the real method, does not get mocked.\r\n    }\r\n}\r\n```","title":"Mock return on a static extension method in Kotlin","body":"<p>How do I force a mocked return on a static extension method in Kotlin?</p>\n<p>I have a data class called <code>Job</code></p>\n<pre><code>data class Job(\n    val id: ObjectId) {\n}\n</code></pre>\n<p>and a <code>Mapper</code> object with an extension method that's static for the <code>Job</code> class.</p>\n<pre><code>object Mapper {\n    Job.toOtherJob(): OtherJob.Job {\n    // Do work\n    }\n}\n\n</code></pre>\n<p>The issue is that <code>toOtherJob</code> method calls the real one, and I cannot force a doReturn on it.</p>\n<p>Test class</p>\n<pre><code>class ServiceTests {\n    @Mock\n    private val job: Job? = null\n\n    @BeforeAll\n    fun setUp() {\n        // Initialize mocks.\n        MockitoAnnotations.openMocks(this)\n    }\n\n    @AfterAll\n    fun cleanUp() {\n        // Cleanup mocks.\n        MockitoAnnotations.openMocks(this).close()\n    }\n\n    fun testJob() {\n        val otherJob = OtherJob()\n\n        whenever(job.toOtherJob()).thenReturn(otherJob)\n\n        // Act\n        job.toOtherJob() // &lt;- This calls the real method, does not get mocked.\n    }\n}\n</code></pre>\n"},{"tags":["java","android","nio"],"answers":[{"comments":[{"owner":{"account_id":3033814,"reputation":1720,"user_id":2572341,"accept_rate":86,"display_name":"Dexter"},"score":0,"creation_date":1418539552,"post_id":27461137,"comment_id":43369762,"body_markdown":"How can there be a bug in Java compiler :S well anyway, thanks, I&#39;ll try building with java 6","body":"How can there be a bug in Java compiler :S well anyway, thanks, I&#39;ll try building with java 6"},{"owner":{"account_id":214283,"reputation":2591,"user_id":2243615,"accept_rate":50,"display_name":"Kiril Aleksandrov"},"score":0,"creation_date":1418567402,"post_id":27461137,"comment_id":43375473,"body_markdown":"Yep, this works but this way you are creating another ```String``` object which may not be the needed behavior in some cases. Just wanted to mention it :)","body":"Yep, this works but this way you are creating another <code>String</code> object which may not be the needed behavior in some cases. Just wanted to mention it :)"}],"tags":[],"owner":{"account_id":214283,"reputation":2591,"user_id":2243615,"accept_rate":50,"display_name":"Kiril Aleksandrov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1418488613,"creation_date":1418488613,"answer_id":27461137,"question_id":27460960,"body_markdown":"It seems that this is a bug in the java compiler. Building with version 6 should resolve your problem.\r\n\r\nAccording to [this](https://github.com/craigwblake/redline/issues/28) link and many others.","title":"Bug when using CharacterBuffers in android","body":"<p>It seems that this is a bug in the java compiler. Building with version 6 should resolve your problem.</p>\n\n<p>According to <a href=\"https://github.com/craigwblake/redline/issues/28\" rel=\"nofollow\">this</a> link and many others.</p>\n"},{"tags":[],"owner":{"account_id":17919960,"reputation":11,"user_id":13020093,"display_name":"Aleksandr Kiselev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674087077,"creation_date":1674087077,"answer_id":75166549,"question_id":27460960,"body_markdown":"See detailed description of the phenomenon here: &lt;https://stackoverflow.com/questions/61267495/exception-in-thread-main-java-lang-nosuchmethoderror-java-nio-bytebuffer-flip&gt;\r\n\r\nWorkaround for new compilers:\r\n\r\n```java\r\npackage green_green_avk.anotherterm.utils;\r\n\r\nimport android.os.Build;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport java.nio.CharBuffer;\r\n\r\npublic final class Compat {\r\n    private Compat() {\r\n    }\r\n\r\n    @NonNull\r\n    public static CharBuffer subSequence(@NonNull final CharBuffer that,\r\n                                         final int start, final int end) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT)\r\n            return that.subSequence(start, end);\r\n        return (CharBuffer) ((CharSequence) that).subSequence(start, end);\r\n    }\r\n}\r\n```","title":"Bug when using CharacterBuffers in android","body":"<p>See detailed description of the phenomenon here: <a href=\"https://stackoverflow.com/questions/61267495/exception-in-thread-main-java-lang-nosuchmethoderror-java-nio-bytebuffer-flip\">Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: java.nio.ByteBuffer.flip()Ljava/nio/ByteBuffer</a></p>\n<p>Workaround for new compilers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package green_green_avk.anotherterm.utils;\n\nimport android.os.Build;\n\nimport androidx.annotation.NonNull;\n\nimport java.nio.CharBuffer;\n\npublic final class Compat {\n    private Compat() {\n    }\n\n    @NonNull\n    public static CharBuffer subSequence(@NonNull final CharBuffer that,\n                                         final int start, final int end) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT)\n            return that.subSequence(start, end);\n        return (CharBuffer) ((CharSequence) that).subSequence(start, end);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3033814,"reputation":1720,"user_id":2572341,"accept_rate":86,"display_name":"Dexter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27461137,"answer_count":2,"score":1,"last_activity_date":1674087077,"creation_date":1418487459,"question_id":27460960,"body_markdown":"I am using a small compression library for short strings in java. Surprisingly when I run my application on my Nexus 7 (lollipop) it runs fine but when I run it on my ICS tab it give a noSuchMethod exception whenever I try calling CharBuffer.subSequence.\r\n\r\n&gt; 14016-14016/reach.project E/AndroidRuntime FATAL EXCEPTION: main\r\n&gt;     java.lang.NoSuchMethodError: java.nio.CharBuffer.subSequence\r\n&gt;             at reach.project.utils.MiscUtils.compress(MiscUtils.java:239)\r\n\r\nError on this line :\r\n\r\n    String temp = String.valueOf(charBuffer.subSequence(0, 1));\r\n\r\nI am using JDK 7 \r\n\r\n&gt;     compileOptions {\r\n&gt;         sourceCompatibility VERSION_1_7\r\n&gt;         targetCompatibility VERSION_1_7\r\n&gt;     }\r\n&gt; \r\n\r\nMin SDK version 14\r\n\r\nAny help is much appreciated.\r\n","title":"Bug when using CharacterBuffers in android","body":"<p>I am using a small compression library for short strings in java. Surprisingly when I run my application on my Nexus 7 (lollipop) it runs fine but when I run it on my ICS tab it give a noSuchMethod exception whenever I try calling CharBuffer.subSequence.</p>\n\n<blockquote>\n  <p>14016-14016/reach.project E/AndroidRuntime FATAL EXCEPTION: main\n      java.lang.NoSuchMethodError: java.nio.CharBuffer.subSequence\n              at reach.project.utils.MiscUtils.compress(MiscUtils.java:239)</p>\n</blockquote>\n\n<p>Error on this line :</p>\n\n<pre><code>String temp = String.valueOf(charBuffer.subSequence(0, 1));\n</code></pre>\n\n<p>I am using JDK 7 </p>\n\n<blockquote>\n<pre><code>compileOptions {\n    sourceCompatibility VERSION_1_7\n    targetCompatibility VERSION_1_7\n}\n</code></pre>\n</blockquote>\n\n<p>Min SDK version 14</p>\n\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","intellij-idea","formatting","format","settings"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1674086747,"post_id":75166490,"comment_id":132642780,"body_markdown":"...... but why?","body":"...... but why?"},{"owner":{"account_id":19128333,"reputation":29,"user_id":13970842,"display_name":"JaspiDiceYT"},"score":0,"creation_date":1674087124,"post_id":75166490,"comment_id":132642824,"body_markdown":"Confuses me too much","body":"Confuses me too much"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1674087700,"post_id":75166490,"comment_id":132642891,"body_markdown":"I can relate, but unless you plan on never working with anyone else, it&#39;s best to adapt to common conventions than to recreate them to suit your preferences.","body":"I can relate, but unless you plan on never working with anyone else, it&#39;s best to adapt to common conventions than to recreate them to suit your preferences."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674086638,"creation_date":1674086638,"answer_id":75166506,"question_id":75166490,"body_markdown":"Open the `File, Settings...` menu.\r\n\r\nIn the `Settings` dialog, choose `Editor, Code Style, Java`.\r\n\r\nClick on the `Wrapping and Braces` tab.\r\n\r\nFInd `Braces placement` and change &quot;end of line&quot; to &quot;Next line&quot;.","title":"How to disable compact braces in IntelliJ idea?","body":"<p>Open the <code>File, Settings...</code> menu.</p>\n<p>In the <code>Settings</code> dialog, choose <code>Editor, Code Style, Java</code>.</p>\n<p>Click on the <code>Wrapping and Braces</code> tab.</p>\n<p>FInd <code>Braces placement</code> and change &quot;end of line&quot; to &quot;Next line&quot;.</p>\n"}],"owner":{"account_id":19128333,"reputation":29,"user_id":13970842,"display_name":"JaspiDiceYT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75166506,"answer_count":1,"score":0,"last_activity_date":1674086638,"creation_date":1674086450,"question_id":75166490,"body_markdown":"I simply want to change the default auto curly braces from shortening, example of this:\r\n\r\n    Public void main()\r\n    {\r\n    \r\n    }\r\nInstead of:\r\n\r\n    Public void main() {\r\n\r\n    }","title":"How to disable compact braces in IntelliJ idea?","body":"<p>I simply want to change the default auto curly braces from shortening, example of this:</p>\n<pre><code>Public void main()\n{\n\n}\n</code></pre>\n<p>Instead of:</p>\n<pre><code>Public void main() {\n\n}\n</code></pre>\n"},{"tags":["java","docker","apache-kafka","apache-kafka-streams","stream-processing"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674085643,"creation_date":1674085643,"answer_id":75166419,"question_id":72785744,"body_markdown":"You can use a custom `TimeWindow` implementation in Kafka Streams.\r\n\r\nCf https://github.com/confluentinc/kafka-streams-examples/blob/7.1.1-post/src/test/java/io/confluent/examples/streams/window/DailyTimeWindows.java\r\n\r\nThere is a ticket to add it natively to Kafka Streams, but demand was not super high and so it was never done. If you want to pick it up, it would be great!","title":"How to apply an offset to Tumbling Window, in order to delay the starting of Windows&lt;TimeWindow&gt; in Kafka Streams","body":"<p>You can use a custom <code>TimeWindow</code> implementation in Kafka Streams.</p>\n<p>Cf <a href=\"https://github.com/confluentinc/kafka-streams-examples/blob/7.1.1-post/src/test/java/io/confluent/examples/streams/window/DailyTimeWindows.java\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/kafka-streams-examples/blob/7.1.1-post/src/test/java/io/confluent/examples/streams/window/DailyTimeWindows.java</a></p>\n<p>There is a ticket to add it natively to Kafka Streams, but demand was not super high and so it was never done. If you want to pick it up, it would be great!</p>\n"}],"owner":{"account_id":10917095,"reputation":342,"user_id":8024584,"accept_rate":100,"display_name":"sixpain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674085643,"creation_date":1656416420,"question_id":72785744,"body_markdown":"I&#39;m calculating a simple mean on a dataset with values for May 2022, using different windows sizes. Using 1 hour windows there are no problems, while using 1 week and 1 month windows, records are not evaluated correctly.\r\n\r\nAs discussed [here][1] the problem is due to the fact that *time is divided since the Unix epoch (01-01-1970) into equal-sized chunks (windows) of the specified duration, and then incoming events are assigned into those chunks (windows)*.\r\n\r\nSo this means that using 31 days windows, in Kafka Streams time is divided like that:\r\n\r\n     01-01-1970 : 31-01-1970\r\n     01-02-1970 : 03-02-1970\r\n     ...\r\n    [14-04-2022 : 15-05-2022] &lt;-- Our Window\r\n     16-05-2022 : 15-06-2022\r\n     ...\r\n\r\nso not having the `01-05-2022 : 31-05-2022` window as desired.\r\n\r\nIn that [discussion][1] (about Flink), the solution was to **apply an offset of 17 days** to the Tumbling Window, in order to shift the window start from `14-04` to `01-05`:\r\n\r\n    var monthResult = keyed\r\n            .window(TumblingEventTimeWindows.of(Time.days(31),Time.days(17)))\r\n            .aggregate(new AvgQ1(Config.MONTH))\r\n            .name(&quot;Monthly Window Mean AggregateFunction&quot;);\r\n\r\nBut using Kafka Stream, i don&#39;t found an offset function, or something that let me to achieve the same result.\r\n\r\nThis is how i&#39;m actually defining my window:\r\n\r\n    var grouped = keyed\r\n        .groupByKey(Grouped.with(Serdes.Long(), EventSerde.Event()))\r\n        .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofMinutes(10)))\r\n        .reduce((o, v1) -&gt; o);\r\n\r\n  [1]: https://stackoverflow.com/questions/72771300/flink-aggregatefunction-in-tumblingwindow-is-automatically-splitted-in-two-windo/72784720","title":"How to apply an offset to Tumbling Window, in order to delay the starting of Windows&lt;TimeWindow&gt; in Kafka Streams","body":"<p>I'm calculating a simple mean on a dataset with values for May 2022, using different windows sizes. Using 1 hour windows there are no problems, while using 1 week and 1 month windows, records are not evaluated correctly.</p>\n<p>As discussed <a href=\"https://stackoverflow.com/questions/72771300/flink-aggregatefunction-in-tumblingwindow-is-automatically-splitted-in-two-windo/72784720\">here</a> the problem is due to the fact that <em>time is divided since the Unix epoch (01-01-1970) into equal-sized chunks (windows) of the specified duration, and then incoming events are assigned into those chunks (windows)</em>.</p>\n<p>So this means that using 31 days windows, in Kafka Streams time is divided like that:</p>\n<pre><code> 01-01-1970 : 31-01-1970\n 01-02-1970 : 03-02-1970\n ...\n[14-04-2022 : 15-05-2022] &lt;-- Our Window\n 16-05-2022 : 15-06-2022\n ...\n</code></pre>\n<p>so not having the <code>01-05-2022 : 31-05-2022</code> window as desired.</p>\n<p>In that <a href=\"https://stackoverflow.com/questions/72771300/flink-aggregatefunction-in-tumblingwindow-is-automatically-splitted-in-two-windo/72784720\">discussion</a> (about Flink), the solution was to <strong>apply an offset of 17 days</strong> to the Tumbling Window, in order to shift the window start from <code>14-04</code> to <code>01-05</code>:</p>\n<pre><code>var monthResult = keyed\n        .window(TumblingEventTimeWindows.of(Time.days(31),Time.days(17)))\n        .aggregate(new AvgQ1(Config.MONTH))\n        .name(&quot;Monthly Window Mean AggregateFunction&quot;);\n</code></pre>\n<p>But using Kafka Stream, i don't found an offset function, or something that let me to achieve the same result.</p>\n<p>This is how i'm actually defining my window:</p>\n<pre><code>var grouped = keyed\n    .groupByKey(Grouped.with(Serdes.Long(), EventSerde.Event()))\n    .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofMinutes(10)))\n    .reduce((o, v1) -&gt; o);\n</code></pre>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":5926657,"reputation":19289,"user_id":4662347,"accept_rate":72,"display_name":"Ville Miekk-oja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674085579,"creation_date":1674069040,"question_id":75164161,"body_markdown":"I updated jdk from 8 to 11, and now I can no longer launch android with react-native. Also I upgraded compileSdkVersion from 29 to 31.\r\n\r\nWhen I try launching it, I get these errors:\r\n\r\n&gt; /path_to_main_application/MainApplication.java:3: error: package android.app does not exist\r\nimport android.app.Application;\r\n                  ^\r\n/path_to_main_application/MainApplication.java:29: error: cannot find symbol\r\npublic class MainApplication extends Application implements ReactApplication {\r\n                                     ^\r\n  symbol: class Application\r\n/path_to_main_activity/MainActivity.java:3: error: package android.os does not exist\r\nimport android.os.Bundle; // here\r\n                 ^\r\n/path_to_main_activity/MainActivity.java:10: error: cannot access ViewGroup\r\npublic class MainActivity extends ReactActivity {\r\n       ^\r\n  class file for android.view.ViewGroup not found\r\n\r\nI also had to remove my old android studio and download a new one, as the old one did not accept jdk 11 for some reason. So now Im on a brand new android studio (Android Studio Electric Eel | 2022.1.1) with jdk 11 and cannot run android anymore.\r\n\r\nMy react-native version is: 0.59.10","title":"React-native: MainApplication.java:3: error: package android.app does not exist","body":"<p>I updated jdk from 8 to 11, and now I can no longer launch android with react-native. Also I upgraded compileSdkVersion from 29 to 31.</p>\n<p>When I try launching it, I get these errors:</p>\n<blockquote>\n<p>/path_to_main_application/MainApplication.java:3: error: package android.app does not exist\nimport android.app.Application;\n^\n/path_to_main_application/MainApplication.java:29: error: cannot find symbol\npublic class MainApplication extends Application implements ReactApplication {\n^\nsymbol: class Application\n/path_to_main_activity/MainActivity.java:3: error: package android.os does not exist\nimport android.os.Bundle; // here\n^\n/path_to_main_activity/MainActivity.java:10: error: cannot access ViewGroup\npublic class MainActivity extends ReactActivity {\n^\nclass file for android.view.ViewGroup not found</p>\n</blockquote>\n<p>I also had to remove my old android studio and download a new one, as the old one did not accept jdk 11 for some reason. So now Im on a brand new android studio (Android Studio Electric Eel | 2022.1.1) with jdk 11 and cannot run android anymore.</p>\n<p>My react-native version is: 0.59.10</p>\n"},{"tags":["java","arraylist","hpc","fastutil"],"comments":[{"owner":{"account_id":2062486,"reputation":6486,"user_id":1838726,"accept_rate":63,"display_name":"Daniel S."},"score":0,"creation_date":1589735200,"post_id":61855626,"comment_id":109405321,"body_markdown":"If you want to write the perfect answer, feel encouraged to also include details about write-iterating over such a list. I will accept the best answer in a few days.","body":"If you want to write the perfect answer, feel encouraged to also include details about write-iterating over such a list. I will accept the best answer in a few days."},{"owner":{"account_id":2062486,"reputation":6486,"user_id":1838726,"accept_rate":63,"display_name":"Daniel S."},"score":0,"creation_date":1589735633,"post_id":61855626,"comment_id":109405511,"body_markdown":"Yes, I can do the benchmarks myself. And I will if nobody else is interested.","body":"Yes, I can do the benchmarks myself. And I will if nobody else is interested."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1589736424,"post_id":61855626,"comment_id":109405839,"body_markdown":"From an educated guess, the fastest is very likely #1, followed by #5. #4 could beat #1 and #5 if there is some parallelism involved, which is not guaranteed. #2 and #3 definitely autobox and are the usual losers in this scenario.","body":"From an educated guess, the fastest is very likely #1, followed by #5. #4 could beat #1 and #5 if there is some parallelism involved, which is not guaranteed. #2 and #3 definitely autobox and are the usual losers in this scenario."}],"answers":[{"comments":[{"owner":{"account_id":2190012,"reputation":403,"user_id":1937350,"accept_rate":25,"display_name":"seba"},"score":1,"creation_date":1590609982,"post_id":62051945,"comment_id":109748290,"body_markdown":"Well, except that it would be better to cache list.size() in a local variable.","body":"Well, except that it would be better to cache list.size() in a local variable."}],"tags":[],"owner":{"account_id":2190012,"reputation":403,"user_id":1937350,"accept_rate":25,"display_name":"seba"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590609950,"creation_date":1590609950,"answer_id":62051945,"question_id":61855626,"body_markdown":"Definitely #1. :)\r\n\r\n[And I have to add more character of StackOverflow won&#39;t let me post this.]","title":"Best practice for iterating over fastutil primitive ArrayLists, e.g. IntArrayList?","body":"<p>Definitely #1. :)</p>\n\n<p>[And I have to add more character of StackOverflow won't let me post this.]</p>\n"},{"tags":[],"owner":{"account_id":16211701,"reputation":11,"user_id":11705529,"display_name":"dxiong7"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674085148,"creation_date":1674084650,"answer_id":75166333,"question_id":61855626,"body_markdown":"Autoboxing definitely occurs in #2 and #3 cases. I think #1 or #5 would be most optimal in terms of performance.\r\n\r\nTaken from the Fastutil documentation https://fastutil.di.unimi.it/docs/index.html:\r\n&gt;Note that the for each style of iteration can hide boxing and unboxing: even if you iterate using a primitive variable (as in for(long x: s), where s is a LongSet), the actual iterator used will be object-based, as Java knows nothing about fastutil&#39;s type-specific next()/previous() methods.","title":"Best practice for iterating over fastutil primitive ArrayLists, e.g. IntArrayList?","body":"<p>Autoboxing definitely occurs in #2 and #3 cases. I think #1 or #5 would be most optimal in terms of performance.</p>\n<p>Taken from the Fastutil documentation <a href=\"https://fastutil.di.unimi.it/docs/index.html\" rel=\"nofollow noreferrer\">https://fastutil.di.unimi.it/docs/index.html</a>:</p>\n<blockquote>\n<p>Note that the for each style of iteration can hide boxing and unboxing: even if you iterate using a primitive variable (as in for(long x: s), where s is a LongSet), the actual iterator used will be object-based, as Java knows nothing about fastutil's type-specific next()/previous() methods.</p>\n</blockquote>\n"}],"owner":{"account_id":2062486,"reputation":6486,"user_id":1838726,"accept_rate":63,"display_name":"Daniel S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674085148,"creation_date":1589735111,"question_id":61855626,"body_markdown":"What&#39;s best for read-iterating over an `IntArrayList` from the [fastutil library][1] in Java?\r\n\r\nfastutil is a library that is used for increased performance above what the standard library&#39;s  collection classes and algorithms can do. So &quot;best&quot; in this context means best performance.\r\n\r\nI&#39;ve followed the [advice in the fastutil docs][2] and set my IDE (Eclipse) to warn when boxing happens:\r\nWindow -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; Potential Programming Problems -&gt; Boxing and unboxing conversions -&gt; set to Warning  \r\nHowever, Eclipse seems to omit some warnings. See below in the code for details.\r\n\r\nI came across these alternatives so far for iterating:\r\n\r\n\tIntArrayList list = ...;\r\n\r\n\t// 1. for-loop-with-index-variable\r\n\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t// do something with list.getInt(i)\r\n\t}\r\n\r\n\t// 2. for-each-loop-with-wrapped\r\n\tInteger value = list.getInt(0); // Eclipse correctly warns in this line\r\n\tfor (Integer element : list) { // autoboxing happens here somewhere, but Eclipse does NOT warn\r\n\t\t// do something with element\r\n\t}\r\n\r\n\t// 3. for-each-loop-with-primitive\r\n\tfor (int element : list) { // Eclipse does NOT warn. Does autoboxing happen here?\r\n\t\t// do something with element\r\n\t}\r\n\r\n\t// 4. forEach-method-with-consumer\r\n\tlist.forEach((int element) -&gt; {\r\n\t\t// do something with element\r\n\t});\r\n\r\n\t// 5. for-loop-with-IntIterator\r\n\tfor (IntIterator iter = list.iterator(); iter.hasNext();) {\r\n\t\t// do something with iter.nextInt()\r\n\t}\r\n\r\n\r\n  [1]: http://fastutil.di.unimi.it/\r\n  [2]: http://fastutil.di.unimi.it/docs/","title":"Best practice for iterating over fastutil primitive ArrayLists, e.g. IntArrayList?","body":"<p>What's best for read-iterating over an <code>IntArrayList</code> from the <a href=\"http://fastutil.di.unimi.it/\" rel=\"nofollow noreferrer\">fastutil library</a> in Java?</p>\n\n<p>fastutil is a library that is used for increased performance above what the standard library's  collection classes and algorithms can do. So \"best\" in this context means best performance.</p>\n\n<p>I've followed the <a href=\"http://fastutil.di.unimi.it/docs/\" rel=\"nofollow noreferrer\">advice in the fastutil docs</a> and set my IDE (Eclipse) to warn when boxing happens:\nWindow -> Preferences -> Java -> Compiler -> Errors/Warnings -> Potential Programming Problems -> Boxing and unboxing conversions -> set to Warning<br>\nHowever, Eclipse seems to omit some warnings. See below in the code for details.</p>\n\n<p>I came across these alternatives so far for iterating:</p>\n\n<pre><code>IntArrayList list = ...;\n\n// 1. for-loop-with-index-variable\nfor (int i = 0; i &lt; list.size(); i++) {\n    // do something with list.getInt(i)\n}\n\n// 2. for-each-loop-with-wrapped\nInteger value = list.getInt(0); // Eclipse correctly warns in this line\nfor (Integer element : list) { // autoboxing happens here somewhere, but Eclipse does NOT warn\n    // do something with element\n}\n\n// 3. for-each-loop-with-primitive\nfor (int element : list) { // Eclipse does NOT warn. Does autoboxing happen here?\n    // do something with element\n}\n\n// 4. forEach-method-with-consumer\nlist.forEach((int element) -&gt; {\n    // do something with element\n});\n\n// 5. for-loop-with-IntIterator\nfor (IntIterator iter = list.iterator(); iter.hasNext();) {\n    // do something with iter.nextInt()\n}\n</code></pre>\n"},{"tags":["java","powershell","batch-rename"],"comments":[{"owner":{"account_id":20318457,"reputation":4566,"user_id":14903754,"display_name":"Abraham Zinala"},"score":1,"creation_date":1674080255,"post_id":75165798,"comment_id":132641590,"body_markdown":"You would need to place your call inside a `Foreach-Object`  (`%` is the alias) loop to process them as they come down the pipeline: `.... | % { java .... $_.FullName }`. You would want to pass the `FullName` property as it&#39;s the entire path and while doing a *recursive* pull. This is because, the directory you&#39;re currently on is where it would attempt to resolve the path to.","body":"You would need to place your call inside a <code>Foreach-Object</code>  (<code>%</code> is the alias) loop to process them as they come down the pipeline: <code>.... | % { java .... $_.FullName }</code>. You would want to pass the <code>FullName</code> property as it&#39;s the entire path and while doing a <i>recursive</i> pull. This is because, the directory you&#39;re currently on is where it would attempt to resolve the path to."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1674080731,"post_id":75165798,"comment_id":132641695,"body_markdown":"Of course, you could do the recursion in the app. The nio classes and the visitor classes make this easy","body":"Of course, you could do the recursion in the app. The nio classes and the visitor classes make this easy"}],"answers":[{"tags":[],"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674081911,"creation_date":1674081911,"answer_id":75166041,"question_id":75165798,"body_markdown":"Building on [Abraham Zinala](https://stackoverflow.com/users/14903754/abraham-zinala)&#39;s helpful comment:\r\n\r\nLeaving aside the fact that invoking an external program (i.e., creation of a _child process_) _file by file_ is inefficient:\r\n\r\n```\r\nGet-ChildItem -File -Recurse | ForEach-Object {\r\n  java -cp &quot;C:\\Users\\Media PC\\Documents\\Renamer\\src\\main\\java&quot; org.example.Main $_.FullName\r\n}\r\n```\r\n\r\n&lt;sup&gt;Note: The `-File` switch limits results to just _files_ (doesn&#39;t include _directories_).&lt;/sup&gt;\r\n\r\n* PowerShell&#39;s [automatic `$_` variable](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Automatic_Variables#_) can only be used inside [_script blocks_ (`{ ... }`)](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Script_Blocks), so using `$_.name` as an argument *as-is* won&#39;t work.\r\n\r\n  * See [this answer](https://stackoverflow.com/a/55667981/45375) for all contexts in which `$_` is meaningfully defined.\r\n\r\n* In order to pass an argument to a command that *isn&#39;t designed to take its input directly from the pipeline*, use the [`ForEach-Object`](https://learn.microsoft.com/powershell/module/microsoft.powershell.core/foreach-object) cmdlet for custom-processing of each input object *one at a time*.\r\n\r\n  * Inside the script block passed to it, you _can_ use `$_` to refer to the pipeline input object at hand.\r\n\r\n  * [`Get-ChildItem`](https://learn.microsoft.com/powershell/module/microsoft.powershell.management/get-childitem) outputs instances of the following .NET types:\r\n     * [`System.IO.DirectoryInfo`](https://docs.microsoft.com/en-US/dotnet/api/System.IO.DirectoryInfo)(for _directories_) and\r\n     * [`System.IO.FileInfo`](https://docs.microsoft.com/en-US/dotnet/api/System.IO.FileInfo) (for _files_)\r\n  \r\n    * Their `.FullName` property contains their *full, file-system-native path*, so `$_.FullName` is a robust way to refer to just that. Given that `.Name` only reports the mere file _name_, it wouldn&#39;t be sufficient to identify the file at hand in a _recursive_ traversal of the current dir.\r\n\r\n      * In [PowerShell (Core) 7+](https://github.com/PowerShell/PowerShell/blob/master/README.md), you could use just `$_`, because there such instances _consistently_ stringify as the value of their `.FullName` property (when passing arguments to an _external program_, objects are _implicitly_ stringified)  - unfortunately, this is _not_ the case in _Windows PowerShell_; see [this answer](https://stackoverflow.com/a/53400031/45375).","title":"How to recursively call a Java program with PowerShell and pass in a file path","body":"<p>Building on <a href=\"https://stackoverflow.com/users/14903754/abraham-zinala\">Abraham Zinala</a>'s helpful comment:</p>\n<p>Leaving aside the fact that invoking an external program (i.e., creation of a <em>child process</em>) <em>file by file</em> is inefficient:</p>\n<pre><code>Get-ChildItem -File -Recurse | ForEach-Object {\n  java -cp &quot;C:\\Users\\Media PC\\Documents\\Renamer\\src\\main\\java&quot; org.example.Main $_.FullName\n}\n</code></pre>\n<p><sup>Note: The <code>-File</code> switch limits results to just <em>files</em> (doesn't include <em>directories</em>).</sup></p>\n<ul>\n<li><p>PowerShell's <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Automatic_Variables#_\" rel=\"nofollow noreferrer\">automatic <code>$_</code> variable</a> can only be used inside <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Script_Blocks\" rel=\"nofollow noreferrer\"><em>script blocks</em> (<code>{ ... }</code>)</a>, so using <code>$_.name</code> as an argument <em>as-is</em> won't work.</p>\n<ul>\n<li>See <a href=\"https://stackoverflow.com/a/55667981/45375\">this answer</a> for all contexts in which <code>$_</code> is meaningfully defined.</li>\n</ul>\n</li>\n<li><p>In order to pass an argument to a command that <em>isn't designed to take its input directly from the pipeline</em>, use the <a href=\"https://learn.microsoft.com/powershell/module/microsoft.powershell.core/foreach-object\" rel=\"nofollow noreferrer\"><code>ForEach-Object</code></a> cmdlet for custom-processing of each input object <em>one at a time</em>.</p>\n<ul>\n<li><p>Inside the script block passed to it, you <em>can</em> use <code>$_</code> to refer to the pipeline input object at hand.</p>\n</li>\n<li><p><a href=\"https://learn.microsoft.com/powershell/module/microsoft.powershell.management/get-childitem\" rel=\"nofollow noreferrer\"><code>Get-ChildItem</code></a> outputs instances of the following .NET types:</p>\n<ul>\n<li><p><a href=\"https://docs.microsoft.com/en-US/dotnet/api/System.IO.DirectoryInfo\" rel=\"nofollow noreferrer\"><code>System.IO.DirectoryInfo</code></a>(for <em>directories</em>) and</p>\n</li>\n<li><p><a href=\"https://docs.microsoft.com/en-US/dotnet/api/System.IO.FileInfo\" rel=\"nofollow noreferrer\"><code>System.IO.FileInfo</code></a> (for <em>files</em>)</p>\n</li>\n<li><p>Their <code>.FullName</code> property contains their <em>full, file-system-native path</em>, so <code>$_.FullName</code> is a robust way to refer to just that. Given that <code>.Name</code> only reports the mere file <em>name</em>, it wouldn't be sufficient to identify the file at hand in a <em>recursive</em> traversal of the current dir.</p>\n<ul>\n<li>In <a href=\"https://github.com/PowerShell/PowerShell/blob/master/README.md\" rel=\"nofollow noreferrer\">PowerShell (Core) 7+</a>, you could use just <code>$_</code>, because there such instances <em>consistently</em> stringify as the value of their <code>.FullName</code> property (when passing arguments to an <em>external program</em>, objects are <em>implicitly</em> stringified)  - unfortunately, this is <em>not</em> the case in <em>Windows PowerShell</em>; see <a href=\"https://stackoverflow.com/a/53400031/45375\">this answer</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":27567758,"reputation":21,"user_id":21039580,"display_name":"Ryland301"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1674081911,"creation_date":1674079953,"question_id":75165798,"body_markdown":"I am trying to batch rename files in a folder. For example, right now I want to remove the character at the second index in the names of all of the files in a given folder. I have written a Java program that will do this given the path of the file.\r\n\r\nThe problem is that I am trying to batch the process with PowerShell, and I have very little knowledge of PowerShell. I basically just started using it today, and mainly to test run my Java program from the command line. I decided to try PowerShell for this because I saw a YouTube video where someone used PowerShell recursively to remove a certain character (like a &quot;-&quot;) from every spot it appears in every file name in a folder. I thought maybe I could recurse with PowerShell to batch the process of changing every file name.\r\n\r\nI want to recursively call the Java program with PowerShell and have PowerShell pass in each path of each file one by one in a folder to the Java program. I don&#39;t know if this is possible, but I&#39;m hoping it is.\r\n\r\nI have tried the following, though since I don&#39;t really any knowledge of PowerShell, I don&#39;t really know what to try. &quot;Copy&quot; is the name of the folder in which the files I want to modify are located.\r\n\r\n\r\n```\r\nget-childitem -recurse | java -cp &quot;C:\\Users\\Media PC\\Documents\\Renamer\\src\\main\\java&quot; org.example.Main $_.name\r\n```\r\nI am getting the Java program to run, because I&#39;m getting an error back from the program saying I didn&#39;t pass in a proper file path.","title":"How to recursively call a Java program with PowerShell and pass in a file path","body":"<p>I am trying to batch rename files in a folder. For example, right now I want to remove the character at the second index in the names of all of the files in a given folder. I have written a Java program that will do this given the path of the file.</p>\n<p>The problem is that I am trying to batch the process with PowerShell, and I have very little knowledge of PowerShell. I basically just started using it today, and mainly to test run my Java program from the command line. I decided to try PowerShell for this because I saw a YouTube video where someone used PowerShell recursively to remove a certain character (like a &quot;-&quot;) from every spot it appears in every file name in a folder. I thought maybe I could recurse with PowerShell to batch the process of changing every file name.</p>\n<p>I want to recursively call the Java program with PowerShell and have PowerShell pass in each path of each file one by one in a folder to the Java program. I don't know if this is possible, but I'm hoping it is.</p>\n<p>I have tried the following, though since I don't really any knowledge of PowerShell, I don't really know what to try. &quot;Copy&quot; is the name of the folder in which the files I want to modify are located.</p>\n<pre><code>get-childitem -recurse | java -cp &quot;C:\\Users\\Media PC\\Documents\\Renamer\\src\\main\\java&quot; org.example.Main $_.name\n</code></pre>\n<p>I am getting the Java program to run, because I'm getting an error back from the program saying I didn't pass in a proper file path.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673973981,"post_id":75149509,"comment_id":132613919,"body_markdown":"How hard is your requirement to serialize to and consume from empty lists? Would simply leave out empty and null lists in the JSON be an option?","body":"How hard is your requirement to serialize to and consume from empty lists? Would simply leave out empty and null lists in the JSON be an option?"},{"owner":{"account_id":5218030,"reputation":37,"user_id":4172304,"display_name":"Occams Stubble"},"score":0,"creation_date":1673975414,"post_id":75149509,"comment_id":132614359,"body_markdown":"Pretty hard. The part of the system that receives the JSON goes looking for specific attributes and chokes if it does not find them. In the case of collections, it then chokes if they&#39;re null rather than empty. I&#39;m storing data in Hibernate with Envers and using modified flags and an empty set and a null set are two different things as far as it is concerned. This confusion shows up on reports and I have to answer the same question over and over.","body":"Pretty hard. The part of the system that receives the JSON goes looking for specific attributes and chokes if it does not find them. In the case of collections, it then chokes if they&#39;re null rather than empty. I&#39;m storing data in Hibernate with Envers and using modified flags and an empty set and a null set are two different things as far as it is concerned. This confusion shows up on reports and I have to answer the same question over and over."}],"answers":[{"comments":[{"owner":{"account_id":5218030,"reputation":37,"user_id":4172304,"display_name":"Occams Stubble"},"score":0,"creation_date":1673987553,"post_id":75149931,"comment_id":132617987,"body_markdown":"Thanks. I&#39;m using Spring Boot and was hoping it would be simpler like the ones I had written before: Just subclass a standard serializer and override its serialize() method.","body":"Thanks. I&#39;m using Spring Boot and was hoping it would be simpler like the ones I had written before: Just subclass a standard serializer and override its serialize() method."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1673987897,"post_id":75149931,"comment_id":132618086,"body_markdown":"Yes, that is exactly what this code is designed to do.  This is a working example of how to convert a `JsonNode` into an empty `ArrayList`.  You can place this in your deserializer and call it when you encounter the node you want to check.  Likewise, you can do a similar thing for a serializer by using objectmapper&#39;s `createArrayNode`, which is in the example.","body":"Yes, that is exactly what this code is designed to do.  This is a working example of how to convert a <code>JsonNode</code> into an empty <code>ArrayList</code>.  You can place this in your deserializer and call it when you encounter the node you want to check.  Likewise, you can do a similar thing for a serializer by using objectmapper&#39;s <code>createArrayNode</code>, which is in the example."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1673989932,"post_id":75149931,"comment_id":132618673,"body_markdown":"I&#39;ve gone ahead an updated my answer with a working deserializer that is compatible with Spring","body":"I&#39;ve gone ahead an updated my answer with a working deserializer that is compatible with Spring"},{"owner":{"account_id":5218030,"reputation":37,"user_id":4172304,"display_name":"Occams Stubble"},"score":0,"creation_date":1673991970,"post_id":75149931,"comment_id":132619217,"body_markdown":"Maybe I&#39;m not explaining this correctly. I don&#39;t want a collection processor for every entity in my system. I want a central collection processor. I&#39;m thinking something like what I added above. Thanks.","body":"Maybe I&#39;m not explaining this correctly. I don&#39;t want a collection processor for every entity in my system. I want a central collection processor. I&#39;m thinking something like what I added above. Thanks."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1673995787,"post_id":75149931,"comment_id":132620088,"body_markdown":"Nothing about the example I&#39;ve provided is a global serializer.  You assign the serializer to the object you want serialized via the annotations.  You can annotate the object or field within the object with `@JsonDeserializer` and/or `@JsonSerializer` to tell jackson to use only that serializer with that object.\n\nIf you want to deserialize every collection the same way, then you can register the serializer with jackson via the `MappingJackson2HttpMessageConverter` in your springs configuration file.  If you only want to serialize/deserialize some collections, then annotate them.","body":"Nothing about the example I&#39;ve provided is a global serializer.  You assign the serializer to the object you want serialized via the annotations.  You can annotate the object or field within the object with <code>@JsonDeserializer</code> and/or <code>@JsonSerializer</code> to tell jackson to use only that serializer with that object.  If you want to deserialize every collection the same way, then you can register the serializer with jackson via the <code>MappingJackson2HttpMessageConverter</code> in your springs configuration file.  If you only want to serialize/deserialize some collections, then annotate them."}],"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673989957,"creation_date":1673975436,"answer_id":75149931,"question_id":75149509,"body_markdown":"This is quite simple using ObjectMapper.\r\n\r\n```java\r\npublic static List&lt;String&gt; deserializeStringArray(JsonNode node) throws IOException\r\n{\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  boolean isArrayNode = Objects.nonNull(node) &amp;&amp; node.isArray();\r\n\r\n  if (isArrayNode &amp;&amp; !node.isEmpty()) {\r\n    ObjectReader reader = mapper.readerFor(mapper.getTypeFactory().constructCollectionType(List.class, String.class));\r\n    return reader.readValue(node);\r\n  }\r\n  else if (isArrayNode &amp;&amp; node.isEmpty()) {\r\n    return Collections.emptyList();\r\n  }\r\n  else {\r\n    return null;\r\n  }\r\n}\r\n```\r\n\r\nThis returns a `List` of the Nodes elements by first verifying that the node is an array and is not empty.  But, if the list is an empty array node, we return an empty list, and if it isn&#39;t an arrayNode, then we return null.\r\n\r\nBased on your requirements, I wasn&#39;t sure if the contents of your array list were empty (ie null) or the json node itself is expected to be null.  If the JsonNode itself is expected to be null, then you can easily modify this to return an empty list when it is null:\r\n\r\n```java\r\npublic static List&lt;String&gt; deserializeStringArray(JsonNode node) throws IOException\r\n{\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  if (Objects.nonNull(node) &amp;&amp; node.isArray()) {\r\n    ObjectReader reader = mapper.readerFor(mapper.getTypeFactory().constructCollectionType(List.class, String.class));\r\n    return reader.readValue(node);\r\n  }\r\n  else {\r\n    return Collections.emptyList();\r\n  }\r\n}\r\n```\r\nYou can test this via the following\r\n```java\r\nJsonNode arrayNode = mapper.createArrayNode().add(&quot;Bob&quot;).add(&quot;Sam&quot;);\r\nSystem.out.println(deserializeStringArray(arrayNode));\r\n\r\nJsonNode emptyArrayNode = mapper.createArrayNode();\r\nSystem.out.println(deserializeStringArray(emptyArrayNode));\r\n```\r\n\r\n---\r\n\r\nHere&#39;s how to use the above code, to deserialize an object into an array of animals\r\n\r\n```java\r\n@Component\r\npublic class AnimalDeserializer extends JsonDeserializer&lt;Animal&gt;\r\n{\r\n  ObjectMapper mapper;\r\n  @Override\r\n  public Animal deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException\r\n  {\r\n    mapper = (ObjectMapper) p.getCodec();\r\n    JsonNode node = p.getCodec().readTree(p);\r\n\r\n    JsonNode arrayNode = node.get(&quot;myArrayField&quot;);\r\n\r\n    List&lt;Animal&gt; animals = deserializeAnimalArray(arrayNode);\r\n\r\n    return animals;\r\n  }\r\n\r\n  public List&lt;Animal&gt; deserializeAnimalArray(JsonNode node) throws IOException\r\n  {\r\n    boolean isArrayNode = Objects.nonNull(node) &amp;&amp; node.isArray();\r\n\r\n    if (isArrayNode &amp;&amp; !node.isEmpty()) {\r\n      ObjectReader reader = mapper.readerFor(mapper.getTypeFactory().constructCollectionType(List.class, String.class));\r\n      return reader.readValue(node);\r\n    }\r\n    else if (isArrayNode &amp;&amp; node.isEmpty()) {\r\n      return Collections.emptyList();\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nYou can reverse this to get your JsonNode.\r\n\r\nEdit:  Added a working deserializer example","title":"Custom serializer/deserializer for a collection, specifically a set","body":"<p>This is quite simple using ObjectMapper.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; deserializeStringArray(JsonNode node) throws IOException\n{\n  ObjectMapper mapper = new ObjectMapper();\n  boolean isArrayNode = Objects.nonNull(node) &amp;&amp; node.isArray();\n\n  if (isArrayNode &amp;&amp; !node.isEmpty()) {\n    ObjectReader reader = mapper.readerFor(mapper.getTypeFactory().constructCollectionType(List.class, String.class));\n    return reader.readValue(node);\n  }\n  else if (isArrayNode &amp;&amp; node.isEmpty()) {\n    return Collections.emptyList();\n  }\n  else {\n    return null;\n  }\n}\n</code></pre>\n<p>This returns a <code>List</code> of the Nodes elements by first verifying that the node is an array and is not empty.  But, if the list is an empty array node, we return an empty list, and if it isn't an arrayNode, then we return null.</p>\n<p>Based on your requirements, I wasn't sure if the contents of your array list were empty (ie null) or the json node itself is expected to be null.  If the JsonNode itself is expected to be null, then you can easily modify this to return an empty list when it is null:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; deserializeStringArray(JsonNode node) throws IOException\n{\n  ObjectMapper mapper = new ObjectMapper();\n  if (Objects.nonNull(node) &amp;&amp; node.isArray()) {\n    ObjectReader reader = mapper.readerFor(mapper.getTypeFactory().constructCollectionType(List.class, String.class));\n    return reader.readValue(node);\n  }\n  else {\n    return Collections.emptyList();\n  }\n}\n</code></pre>\n<p>You can test this via the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonNode arrayNode = mapper.createArrayNode().add(&quot;Bob&quot;).add(&quot;Sam&quot;);\nSystem.out.println(deserializeStringArray(arrayNode));\n\nJsonNode emptyArrayNode = mapper.createArrayNode();\nSystem.out.println(deserializeStringArray(emptyArrayNode));\n</code></pre>\n<hr />\n<p>Here's how to use the above code, to deserialize an object into an array of animals</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AnimalDeserializer extends JsonDeserializer&lt;Animal&gt;\n{\n  ObjectMapper mapper;\n  @Override\n  public Animal deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException\n  {\n    mapper = (ObjectMapper) p.getCodec();\n    JsonNode node = p.getCodec().readTree(p);\n\n    JsonNode arrayNode = node.get(&quot;myArrayField&quot;);\n\n    List&lt;Animal&gt; animals = deserializeAnimalArray(arrayNode);\n\n    return animals;\n  }\n\n  public List&lt;Animal&gt; deserializeAnimalArray(JsonNode node) throws IOException\n  {\n    boolean isArrayNode = Objects.nonNull(node) &amp;&amp; node.isArray();\n\n    if (isArrayNode &amp;&amp; !node.isEmpty()) {\n      ObjectReader reader = mapper.readerFor(mapper.getTypeFactory().constructCollectionType(List.class, String.class));\n      return reader.readValue(node);\n    }\n    else if (isArrayNode &amp;&amp; node.isEmpty()) {\n      return Collections.emptyList();\n    }\n    else {\n      return null;\n    }\n  }\n}\n</code></pre>\n<p>You can reverse this to get your JsonNode.</p>\n<p>Edit:  Added a working deserializer example</p>\n"},{"comments":[{"owner":{"account_id":5218030,"reputation":37,"user_id":4172304,"display_name":"Occams Stubble"},"score":1,"creation_date":1674071994,"post_id":75153237,"comment_id":132639460,"body_markdown":"This looks to be what I&#39;m looking for. I&#39;m using Spring Boot. Is there anything special I need to do to implement this in that environment or can I just annotate the overrides with JsonComponent and be done with it? Thanks!","body":"This looks to be what I&#39;m looking for. I&#39;m using Spring Boot. Is there anything special I need to do to implement this in that environment or can I just annotate the overrides with JsonComponent and be done with it? Thanks!"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1674081055,"post_id":75153237,"comment_id":132641787,"body_markdown":"You need to configure your `ObjectMapper` instance. How to do that properly depends from the Spring Boot version, app settings and how generally app is configured. Try with [Jackson2ObjectMapperBuilderCustomizer](https://www.baeldung.com/spring-boot-customize-jackson-objectmapper#2-jackson2objectmapperbuildercustomizer), [How to customise the Jackson JSON mapper implicitly used by Spring Boot?](https://stackoverflow.com/a/28324976/51591), You can also skip `EmptyAsNullCollectionJacksonAnnotationIntrospector ` and use `@JsonSerialize` but it will require you to mark every set field one-by-one.","body":"You need to configure your <code>ObjectMapper</code> instance. How to do that properly depends from the Spring Boot version, app settings and how generally app is configured. Try with <a href=\"https://www.baeldung.com/spring-boot-customize-jackson-objectmapper#2-jackson2objectmapperbuildercustomizer\" rel=\"nofollow noreferrer\">Jackson2ObjectMapperBuilderCustomizer</a>, <a href=\"https://stackoverflow.com/a/28324976/51591\">How to customise the Jackson JSON mapper implicitly used by Spring Boot?</a>, You can also skip <code>EmptyAsNullCollectionJacksonAnnotationIntrospector </code> and use <code>@JsonSerialize</code> but it will require you to mark every set field one-by-one."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1674081434,"post_id":75153237,"comment_id":132641872,"body_markdown":"@OccamsStubble, tak a look on my updated answer.","body":"@OccamsStubble, tak a look on my updated answer."},{"owner":{"account_id":5218030,"reputation":37,"user_id":4172304,"display_name":"Occams Stubble"},"score":0,"creation_date":1674137382,"post_id":75153237,"comment_id":132653869,"body_markdown":"It&#39;s Spring Boot 2.7. My other deserializers are simply classes like this:\n`\n(at sign)JsonComponent\npublic class StringDeserializer extends StdDeserializer&lt;String&gt;\n`\nThen I override the deserialize method and it all works. I&#39;d rather not have to mark every Set in the system. I&#39;m a &quot;set it and forget it&quot; type of programmer.","body":"It&#39;s Spring Boot 2.7. My other deserializers are simply classes like this: ` (at sign)JsonComponent public class StringDeserializer extends StdDeserializer&lt;String&gt; ` Then I override the deserialize method and it all works. I&#39;d rather not have to mark every Set in the system. I&#39;m a &quot;set it and forget it&quot; type of programmer."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1674143988,"post_id":75153237,"comment_id":132656374,"body_markdown":"@OccamsStubble, have you taken a look on articles I mentioned in previous message? It should help. In case no, please, create a new question.","body":"@OccamsStubble, have you taken a look on articles I mentioned in previous message? It should help. In case no, please, create a new question."},{"owner":{"account_id":5218030,"reputation":37,"user_id":4172304,"display_name":"Occams Stubble"},"score":0,"creation_date":1678135853,"post_id":75153237,"comment_id":133471744,"body_markdown":"I&#39;m finally getting around to implementing your suggestion. I chose the first of your examples on integrating it with Spring Boot. Now, when I deserialize Object A, it produces an instance of Java object A. However, if it contains a collection of Object B, those do not get deserialized into Java object B, they get turned into a collection of LinkedHashMap which have all the properties of object B in name/value pars producing the Map. It&#39;s as if it can&#39;t deserialize collections properly. I&#39;ll keep looking at this but hopefully you see this soon. Thanks!","body":"I&#39;m finally getting around to implementing your suggestion. I chose the first of your examples on integrating it with Spring Boot. Now, when I deserialize Object A, it produces an instance of Java object A. However, if it contains a collection of Object B, those do not get deserialized into Java object B, they get turned into a collection of LinkedHashMap which have all the properties of object B in name/value pars producing the Map. It&#39;s as if it can&#39;t deserialize collections properly. I&#39;ll keep looking at this but hopefully you see this soon. Thanks!"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1678140820,"post_id":75153237,"comment_id":133472814,"body_markdown":"@OccamsStubble, I propose to create a new question with an example how to reproduce this issue.","body":"@OccamsStubble, I propose to create a new question with an example how to reproduce this issue."},{"owner":{"account_id":5218030,"reputation":37,"user_id":4172304,"display_name":"Occams Stubble"},"score":0,"creation_date":1678207283,"post_id":75153237,"comment_id":133486843,"body_markdown":"Here is the new question: https://stackoverflow.com/questions/75664797/hibernate-modified-flags-and-serializing-collections","body":"Here is the new question: <a href=\"https://stackoverflow.com/questions/75664797/hibernate-modified-flags-and-serializing-collections\" title=\"hibernate modified flags and serializing collections\">stackoverflow.com/questions/75664797/&hellip;</a>"}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674081405,"creation_date":1673997833,"answer_id":75153237,"question_id":75149509,"body_markdown":"To make it work as it is required:\r\n\r\n - Serialise `null` `Set` as an empty `JSON Array` `[]`\r\n - Deserialise an empty `JSON Array` `[]` as `null`\r\n - Configure it global\r\n\r\nWe need to use at the same time:\r\n\r\n - `com.fasterxml.jackson.databind.JsonSerializer` to generate an empty `JSON Array` `[]`\r\n - `com.fasterxml.jackson.databind.util.StdConverter` to convert an empty `Set` or `List` to `null`\r\n - `com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector` to register serialiser and converters for all properties.\r\n\r\nBelow example shows all above components and how to use them:\r\n```java\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport com.fasterxml.jackson.databind.introspect.Annotated;\r\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.databind.util.StdConverter;\r\nimport lombok.Data;\r\nimport org.springframework.util.CollectionUtils;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\npublic class SetApp {\r\n\tpublic static void main(String[] args) throws JsonProcessingException {\r\n\t\tvar mapper = JsonMapper.builder()\r\n\t\t\t\t.enable(SerializationFeature.INDENT_OUTPUT)\r\n\t\t\t\t.annotationIntrospector(new EmptyAsNullCollectionJacksonAnnotationIntrospector())\r\n\t\t\t\t.build();\r\n\r\n\t\tvar json = mapper.writeValueAsString(new CollectionsPojo());\r\n\t\tSystem.out.println(json);\r\n\t\tvar collectionsPojo = mapper.readValue(json, CollectionsPojo.class);\r\n\t\tSystem.out.println(collectionsPojo);\r\n\t}\r\n}\r\n\r\nclass EmptyAsNullCollectionJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\r\n\r\n\t@Override\r\n\tpublic Object findNullSerializer(Annotated a) {\r\n\t\tif (Collection.class.isAssignableFrom(a.getRawType())) {\r\n\t\t\treturn NullAsEmptyCollectionJsonSerializer.INSTANCE;\r\n\t\t}\r\n\t\treturn super.findNullSerializer(a);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object findDeserializationConverter(Annotated a) {\r\n\t\tif (List.class.isAssignableFrom(a.getRawType())) {\r\n\t\t\treturn EmptyListAsNullConverter.INSTANCE;\r\n\t\t}\r\n\t\tif (Set.class.isAssignableFrom(a.getRawType())) {\r\n\t\t\treturn EmptySetAsNullConverter.INSTANCE;\r\n\t\t}\r\n\t\treturn super.findDeserializationConverter(a);\r\n\t}\r\n}\r\n\r\nclass NullAsEmptyCollectionJsonSerializer extends JsonSerializer&lt;Object&gt; {\r\n\r\n\tpublic static final NullAsEmptyCollectionJsonSerializer INSTANCE = new NullAsEmptyCollectionJsonSerializer();\r\n\r\n\t@Override\r\n\tpublic void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n\t\tgen.writeStartArray();\r\n\t\tgen.writeEndArray();\r\n\t}\r\n}\r\n\r\nclass EmptySetAsNullConverter extends StdConverter&lt;Set&lt;?&gt;, Set&lt;?&gt;&gt; {\r\n\r\n\tpublic static final EmptySetAsNullConverter INSTANCE = new EmptySetAsNullConverter();\r\n\r\n\t@Override\r\n\tpublic Set&lt;?&gt; convert(Set&lt;?&gt; value) {\r\n\t\tif (CollectionUtils.isEmpty(value)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n}\r\n\r\nclass EmptyListAsNullConverter extends StdConverter&lt;List&lt;?&gt;, List&lt;?&gt;&gt; {\r\n\r\n\tpublic static final EmptyListAsNullConverter INSTANCE = new EmptyListAsNullConverter();\r\n\r\n\t@Override\r\n\tpublic List&lt;?&gt; convert(List&lt;?&gt; value) {\r\n\t\tif (CollectionUtils.isEmpty(value)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n}\r\n\r\n@Data\r\nclass CollectionsPojo {\r\n\tprivate List&lt;Integer&gt; nullList;\r\n\tprivate List&lt;Integer&gt; emptyList = List.of();\r\n\tprivate List&lt;Integer&gt; listOfOne = List.of(1);\r\n\tprivate Set&lt;String&gt; nullSet;\r\n\tprivate Set&lt;String&gt; emptySet = Set.of();\r\n\tprivate Set&lt;String&gt; setOfOne = Set.of(&quot;One&quot;);\r\n}\r\n```\r\n\r\nAbove code prints:\r\n```json\r\n{\r\n  &quot;nullList&quot; : [ ],\r\n  &quot;emptyList&quot; : [ ],\r\n  &quot;listOfOne&quot; : [ 1 ],\r\n  &quot;nullSet&quot; : [ ],\r\n  &quot;emptySet&quot; : [ ],\r\n  &quot;setOfOne&quot; : [ &quot;One&quot; ]\r\n}\r\n```\r\n```logs\r\nCollectionsPojo(nullList=null, emptyList=null, listOfOne=[1], nullSet=null, emptySet=null, setOfOne=[One])\r\n```\r\n\r\nYou can also register converters and null serialiser using annotations directly on the field you want:\r\n```java\r\n@JsonSerialize(nullsUsing = NullAsEmptyCollectionJsonSerializer.class)\r\n@JsonDeserialize(converter = EmptyListAsNullConverter.class)\r\nprivate List&lt;Integer&gt; nullList;\r\n\r\n@JsonSerialize(nullsUsing = NullAsEmptyCollectionJsonSerializer.class)\r\n@JsonDeserialize(converter = EmptySetAsNullConverter.class)\r\nprivate Set&lt;String&gt; nullSet;\r\n```\r\n\r\nIn this case you do not need to register `EmptyAsNullCollectionJacksonAnnotationIntrospector`.\r\n\r\nSee also:\r\n\r\n - [How do you override the null serializer in Jackson 2.0?][1]\r\n - [Jackson null list to empty array serialization][2]\r\n - [Jackson custom serialization and deserialization][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18101506/how-do-you-override-the-null-serializer-in-jackson-2-0\r\n  [2]: https://stackoverflow.com/questions/63482579/jackson-null-list-to-empty-array-serialization\r\n  [3]: https://stackoverflow.com/questions/55249054/jackson-custom-serialization-and-deserialization","title":"Custom serializer/deserializer for a collection, specifically a set","body":"<p>To make it work as it is required:</p>\n<ul>\n<li>Serialise <code>null</code> <code>Set</code> as an empty <code>JSON Array</code> <code>[]</code></li>\n<li>Deserialise an empty <code>JSON Array</code> <code>[]</code> as <code>null</code></li>\n<li>Configure it global</li>\n</ul>\n<p>We need to use at the same time:</p>\n<ul>\n<li><code>com.fasterxml.jackson.databind.JsonSerializer</code> to generate an empty <code>JSON Array</code> <code>[]</code></li>\n<li><code>com.fasterxml.jackson.databind.util.StdConverter</code> to convert an empty <code>Set</code> or <code>List</code> to <code>null</code></li>\n<li><code>com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector</code> to register serialiser and converters for all properties.</li>\n</ul>\n<p>Below example shows all above components and how to use them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.introspect.Annotated;\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.databind.util.StdConverter;\nimport lombok.Data;\nimport org.springframework.util.CollectionUtils;\n\nimport java.io.IOException;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Set;\n\npublic class SetApp {\n    public static void main(String[] args) throws JsonProcessingException {\n        var mapper = JsonMapper.builder()\n                .enable(SerializationFeature.INDENT_OUTPUT)\n                .annotationIntrospector(new EmptyAsNullCollectionJacksonAnnotationIntrospector())\n                .build();\n\n        var json = mapper.writeValueAsString(new CollectionsPojo());\n        System.out.println(json);\n        var collectionsPojo = mapper.readValue(json, CollectionsPojo.class);\n        System.out.println(collectionsPojo);\n    }\n}\n\nclass EmptyAsNullCollectionJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\n\n    @Override\n    public Object findNullSerializer(Annotated a) {\n        if (Collection.class.isAssignableFrom(a.getRawType())) {\n            return NullAsEmptyCollectionJsonSerializer.INSTANCE;\n        }\n        return super.findNullSerializer(a);\n    }\n\n    @Override\n    public Object findDeserializationConverter(Annotated a) {\n        if (List.class.isAssignableFrom(a.getRawType())) {\n            return EmptyListAsNullConverter.INSTANCE;\n        }\n        if (Set.class.isAssignableFrom(a.getRawType())) {\n            return EmptySetAsNullConverter.INSTANCE;\n        }\n        return super.findDeserializationConverter(a);\n    }\n}\n\nclass NullAsEmptyCollectionJsonSerializer extends JsonSerializer&lt;Object&gt; {\n\n    public static final NullAsEmptyCollectionJsonSerializer INSTANCE = new NullAsEmptyCollectionJsonSerializer();\n\n    @Override\n    public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        gen.writeStartArray();\n        gen.writeEndArray();\n    }\n}\n\nclass EmptySetAsNullConverter extends StdConverter&lt;Set&lt;?&gt;, Set&lt;?&gt;&gt; {\n\n    public static final EmptySetAsNullConverter INSTANCE = new EmptySetAsNullConverter();\n\n    @Override\n    public Set&lt;?&gt; convert(Set&lt;?&gt; value) {\n        if (CollectionUtils.isEmpty(value)) {\n            return null;\n        }\n        return value;\n    }\n}\n\nclass EmptyListAsNullConverter extends StdConverter&lt;List&lt;?&gt;, List&lt;?&gt;&gt; {\n\n    public static final EmptyListAsNullConverter INSTANCE = new EmptyListAsNullConverter();\n\n    @Override\n    public List&lt;?&gt; convert(List&lt;?&gt; value) {\n        if (CollectionUtils.isEmpty(value)) {\n            return null;\n        }\n        return value;\n    }\n}\n\n@Data\nclass CollectionsPojo {\n    private List&lt;Integer&gt; nullList;\n    private List&lt;Integer&gt; emptyList = List.of();\n    private List&lt;Integer&gt; listOfOne = List.of(1);\n    private Set&lt;String&gt; nullSet;\n    private Set&lt;String&gt; emptySet = Set.of();\n    private Set&lt;String&gt; setOfOne = Set.of(&quot;One&quot;);\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;nullList&quot; : [ ],\n  &quot;emptyList&quot; : [ ],\n  &quot;listOfOne&quot; : [ 1 ],\n  &quot;nullSet&quot; : [ ],\n  &quot;emptySet&quot; : [ ],\n  &quot;setOfOne&quot; : [ &quot;One&quot; ]\n}\n</code></pre>\n<pre><code>CollectionsPojo(nullList=null, emptyList=null, listOfOne=[1], nullSet=null, emptySet=null, setOfOne=[One])\n</code></pre>\n<p>You can also register converters and null serialiser using annotations directly on the field you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonSerialize(nullsUsing = NullAsEmptyCollectionJsonSerializer.class)\n@JsonDeserialize(converter = EmptyListAsNullConverter.class)\nprivate List&lt;Integer&gt; nullList;\n\n@JsonSerialize(nullsUsing = NullAsEmptyCollectionJsonSerializer.class)\n@JsonDeserialize(converter = EmptySetAsNullConverter.class)\nprivate Set&lt;String&gt; nullSet;\n</code></pre>\n<p>In this case you do not need to register <code>EmptyAsNullCollectionJacksonAnnotationIntrospector</code>.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18101506/how-do-you-override-the-null-serializer-in-jackson-2-0\">How do you override the null serializer in Jackson 2.0?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/63482579/jackson-null-list-to-empty-array-serialization\">Jackson null list to empty array serialization</a></li>\n<li><a href=\"https://stackoverflow.com/questions/55249054/jackson-custom-serialization-and-deserialization\">Jackson custom serialization and deserialization</a></li>\n</ul>\n"}],"owner":{"account_id":5218030,"reputation":37,"user_id":4172304,"display_name":"Occams Stubble"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75153237,"answer_count":2,"score":1,"last_activity_date":1674081405,"creation_date":1673973393,"question_id":75149509,"body_markdown":"I want to write a custom serializer that, when it encounters a null value for a set, serializes it as an empty set. I want to pair that with a deserializer which deserializes an empty set back to null. If the collection has elements, it can be serialized/deserialized as normal.\r\n\r\nI&#39;ve written a couple of deserializers and they work well but the methods I used there don&#39;t seem applicable to collections. For example, I wrote this to turn empty strings into nulls:\r\n\r\n```\r\nJsonNode node = p.readValueAsTree();\t\t\r\n\t\tString text = (Objects.isNull(node) ? null : node.asText());\r\n\t\tif (StringUtils.isEmpty(text)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n```\r\n\r\nI don&#39;t think this will work because JsonNode doesn&#39;t have an asSet() method.\r\n\r\nI&#39;ve found examples online that look promising but it seems like all the examples of working with collections involve working with the elements inside the collection, not the collection itself.\r\n\r\nSo far, I&#39;ve been hand-coding this process but I&#39;m sure there&#39;s a better way to deal with it.\r\n\r\nI&#39;m at the point of figuring it out by trial and error so any examples, ideas, or advice would be appreciated.\r\n\r\nHere&#39;s what I&#39;m thinking it should look like:\r\n\r\n```\r\n@JsonComponent\r\npublic class SetDeserializer extends Std???Deserializer&lt;Set&lt;?&gt;&gt; {\r\n\t\r\n\tpublic SetDeserializer() {\r\n\t\tsuper(Set.class);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Set&lt;?&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n\t\tJsonNode node = p.readValueAsTree();\t\t\r\n\t\tSet&lt;?&gt; mySet = (Objects.isNull(node) ? null : node.asSet());\r\n\t\tif (CollectionUtils.isEmpty(mySet)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn super().deserialize(p, ctxt);\r\n\t}\r\n\r\n}\r\n```","title":"Custom serializer/deserializer for a collection, specifically a set","body":"<p>I want to write a custom serializer that, when it encounters a null value for a set, serializes it as an empty set. I want to pair that with a deserializer which deserializes an empty set back to null. If the collection has elements, it can be serialized/deserialized as normal.</p>\n<p>I've written a couple of deserializers and they work well but the methods I used there don't seem applicable to collections. For example, I wrote this to turn empty strings into nulls:</p>\n<pre><code>JsonNode node = p.readValueAsTree();        \n        String text = (Objects.isNull(node) ? null : node.asText());\n        if (StringUtils.isEmpty(text)) {\n            return null;\n        }\n</code></pre>\n<p>I don't think this will work because JsonNode doesn't have an asSet() method.</p>\n<p>I've found examples online that look promising but it seems like all the examples of working with collections involve working with the elements inside the collection, not the collection itself.</p>\n<p>So far, I've been hand-coding this process but I'm sure there's a better way to deal with it.</p>\n<p>I'm at the point of figuring it out by trial and error so any examples, ideas, or advice would be appreciated.</p>\n<p>Here's what I'm thinking it should look like:</p>\n<pre><code>@JsonComponent\npublic class SetDeserializer extends Std???Deserializer&lt;Set&lt;?&gt;&gt; {\n    \n    public SetDeserializer() {\n        super(Set.class);\n    }\n\n    @Override\n    public Set&lt;?&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        JsonNode node = p.readValueAsTree();        \n        Set&lt;?&gt; mySet = (Objects.isNull(node) ? null : node.asSet());\n        if (CollectionUtils.isEmpty(mySet)) {\n            return null;\n        }\n        return super().deserialize(p, ctxt);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jacoco"],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1674080277,"answer_count":0,"score":1,"last_activity_date":1674080409,"creation_date":1674080133,"question_id":75165823,"body_markdown":"I&#39;m trying to achieve 100% coverage but SonarQube/JaCoCo says line 7 is not tested.\r\n\r\nI did this test to test the main:\r\n\r\n```\r\n        try ( MockedStatic&lt;SpringApplication&gt; springApplicationMockedStatic = Mockito.mockStatic( SpringApplication.class ) )\r\n        {\r\n            ApiApplication.main( new String[] {} );\r\n\r\n            springApplicationMockedStatic.verify( () -&gt; SpringApplication.run( ApiApplication.class, new String[] {} ) );\r\n        }\r\n```\r\n\r\nHow can I fix the missing coverage?\r\n\r\nThanks\r\n\r\n[![Coverage][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/luCD6.png","title":"JaCoCo add missing coverage","body":"<p>I'm trying to achieve 100% coverage but SonarQube/JaCoCo says line 7 is not tested.</p>\n<p>I did this test to test the main:</p>\n<pre><code>        try ( MockedStatic&lt;SpringApplication&gt; springApplicationMockedStatic = Mockito.mockStatic( SpringApplication.class ) )\n        {\n            ApiApplication.main( new String[] {} );\n\n            springApplicationMockedStatic.verify( () -&gt; SpringApplication.run( ApiApplication.class, new String[] {} ) );\n        }\n</code></pre>\n<p>How can I fix the missing coverage?</p>\n<p>Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/luCD6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/luCD6.png\" alt=\"Coverage\" /></a></p>\n"},{"tags":["java","sql","spring-boot","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"score":0,"creation_date":1674079615,"post_id":75163342,"comment_id":132641426,"body_markdown":"I&#39;ve tried both, distinct has no affect the records returned will be the same in either case, only that in Spring the record 1 data shows up for all 4 records","body":"I&#39;ve tried both, distinct has no affect the records returned will be the same in either case, only that in Spring the record 1 data shows up for all 4 records"},{"owner":{"account_id":27310150,"reputation":1678,"user_id":20825414,"display_name":"ValNik"},"score":0,"creation_date":1674083445,"post_id":75163342,"comment_id":132642295,"body_markdown":"Is &quot;ce.external_id = :externalId&quot;   and &quot;ce.external_id = &#39;someExperimentID&#39;&quot; the same conditions?","body":"Is &quot;ce.external_id = :externalId&quot;   and &quot;ce.external_id = &#39;someExperimentID&#39;&quot; the same conditions?"}],"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674064443,"creation_date":1674064443,"answer_id":75163342,"question_id":75163299,"body_markdown":"The first query uses DISTINCT, the query in your Repository does not.  My guess is that the Join statements are causing the extra results.  Try removing the DISTINCT from your first query to see if it looks like the results you&#39;re seeing in your Repository.","title":"Native SQL query producing different results than same SQL query in SQL Workbench","body":"<p>The first query uses DISTINCT, the query in your Repository does not.  My guess is that the Join statements are causing the extra results.  Try removing the DISTINCT from your first query to see if it looks like the results you're seeing in your Repository.</p>\n"}],"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674079870,"creation_date":1674064252,"question_id":75163299,"body_markdown":"Native SQL query producing different results than same SQL query in SQL Workbench\r\n\r\nI have this SQL query\r\n\r\n```\r\nSelect distinct ce.external_id, ce.isid, ji.name, ji.controlled_status, ji.jurisdiction_name, ji.result_comments,\r\nji.code_name, s.corporate_id\r\nfrom cs_jurisdiction_information ji\r\nJoin substance s on ji.substance_id = s.id\r\nJoin controlled_event ce on ce.id = s.controlled_event_id \r\nand ce.calling_system_id = 402 and ji.controlled_status = &#39;CONTROLLED&#39; \r\nand ce.external_id = &#39;someExperimentID&#39;\r\n```\r\n\r\n\r\nHowever the same query within my Spring boot application produces the correct number of results, but it is duplicating the first record for all records returned rather than the corresponding data.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my Repository:\r\n\r\n```\r\npackage com.pdb.testdbconn.repositories;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\n\r\nimport com.pdb.testdbconn.dto.ExperimentDetails;\r\n\r\npublic interface ExperimentDetailsRepository extends JpaRepository&lt;ExperimentDetails, String&gt; {\r\n\r\n    @Query(value = &quot;Select ce.external_id, ce.isid, ji.name, ji.controlled_status, &quot; +\r\n    &quot;ji.jurisdiction_name, ji.result_comments,&quot; +\r\n    &quot;ji.code_name, s.corporate_id &quot; +\r\n    &quot;from cs_jurisdiction_information ji &quot; +\r\n    &quot;Join substance s on ji.substance_id = s.id &quot; +\r\n    &quot;Join controlled_event ce on ce.id = s.controlled_event_id &quot; +\r\n    &quot;and ce.calling_system_id = 402 and ji.controlled_status = &#39;CONTROLLED&#39; &quot; +\r\n    &quot;and ce.external_id = :externalId&quot;, nativeQuery = true)\r\n    List&lt;ExperimentDetails&gt; getExperimentDetails(@Param(&quot;externalId&quot;) String externalId);\r\n}\r\n``` \r\n\r\nAnd here is my POJO, ideally I did not want to be using @Entity annotation here, but that is part of another question on stackoverflow which I am still working on:\r\n\r\n```\r\npackage com.pdb.testdbconn.dto;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class ExperimentDetails {\r\n    @Id\r\n    private String externalId;\r\n    private String isid;\r\n    private String name;\r\n    private String controlledStatus;\r\n    private String jurisdictionName;\r\n    private String resultComments;\r\n    private String codeName;\r\n    private String corporateId;\r\n}\r\n```\r\n\r\nWhy is the first record returned being duplicated in the rest of the result? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/23dfP.png","title":"Native SQL query producing different results than same SQL query in SQL Workbench","body":"<p>Native SQL query producing different results than same SQL query in SQL Workbench</p>\n<p>I have this SQL query</p>\n<pre><code>Select distinct ce.external_id, ce.isid, ji.name, ji.controlled_status, ji.jurisdiction_name, ji.result_comments,\nji.code_name, s.corporate_id\nfrom cs_jurisdiction_information ji\nJoin substance s on ji.substance_id = s.id\nJoin controlled_event ce on ce.id = s.controlled_event_id \nand ce.calling_system_id = 402 and ji.controlled_status = 'CONTROLLED' \nand ce.external_id = 'someExperimentID'\n</code></pre>\n<p>However the same query within my Spring boot application produces the correct number of results, but it is duplicating the first record for all records returned rather than the corresponding data.</p>\n<p><a href=\"https://i.stack.imgur.com/23dfP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/23dfP.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my Repository:</p>\n<pre><code>package com.pdb.testdbconn.repositories;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\nimport com.pdb.testdbconn.dto.ExperimentDetails;\n\npublic interface ExperimentDetailsRepository extends JpaRepository&lt;ExperimentDetails, String&gt; {\n\n    @Query(value = &quot;Select ce.external_id, ce.isid, ji.name, ji.controlled_status, &quot; +\n    &quot;ji.jurisdiction_name, ji.result_comments,&quot; +\n    &quot;ji.code_name, s.corporate_id &quot; +\n    &quot;from cs_jurisdiction_information ji &quot; +\n    &quot;Join substance s on ji.substance_id = s.id &quot; +\n    &quot;Join controlled_event ce on ce.id = s.controlled_event_id &quot; +\n    &quot;and ce.calling_system_id = 402 and ji.controlled_status = 'CONTROLLED' &quot; +\n    &quot;and ce.external_id = :externalId&quot;, nativeQuery = true)\n    List&lt;ExperimentDetails&gt; getExperimentDetails(@Param(&quot;externalId&quot;) String externalId);\n}\n</code></pre>\n<p>And here is my POJO, ideally I did not want to be using @Entity annotation here, but that is part of another question on stackoverflow which I am still working on:</p>\n<pre><code>package com.pdb.testdbconn.dto;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class ExperimentDetails {\n    @Id\n    private String externalId;\n    private String isid;\n    private String name;\n    private String controlledStatus;\n    private String jurisdictionName;\n    private String resultComments;\n    private String codeName;\n    private String corporateId;\n}\n</code></pre>\n<p>Why is the first record returned being duplicated in the rest of the result?</p>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth","open-telemetry"],"comments":[{"owner":{"account_id":4979746,"reputation":106,"user_id":4005091,"display_name":"Gaurang"},"score":0,"creation_date":1669896076,"post_id":74639630,"comment_id":131749582,"body_markdown":"you missed the exporter in the logs pipeline.","body":"you missed the exporter in the logs pipeline."},{"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"score":0,"creation_date":1669905959,"post_id":74639630,"comment_id":131753204,"body_markdown":"I have already tried adding it...but I get an error that it is not supported","body":"I have already tried adding it...but I get an error that it is not supported"}],"answers":[{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":2,"creation_date":1673977716,"post_id":75150261,"comment_id":132615060,"body_markdown":"You know about the commenting privilege which you do not have, so well that you can even put it into words. You are aware of the rule https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead . In that situation please do not decide to misuse a different mechanism (an answer) for something it is not meant for and which you are not allowed yet to do.","body":"You know about the commenting privilege which you do not have, so well that you can even put it into words. You are aware of the rule <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\" title=\"why do i need 50 reputation to comment what can i do instead\">meta.stackexchange.com/questions/214173/&hellip;</a> . In that situation please do not decide to misuse a different mechanism (an answer) for something it is not meant for and which you are not allowed yet to do."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1673977771,"post_id":75150261,"comment_id":132615080,"body_markdown":"So please [edit] to make the part which is an answer according to [answer] more obvious, because I think there is one inside.","body":"So please <a href=\"https://stackoverflow.com/posts/75150261/edit\">edit</a> to make the part which is an answer according to <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> more obvious, because I think there is one inside."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1673977784,"post_id":75150261,"comment_id":132615086,"body_markdown":"Please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;","body":"Please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\" title=\"why do i need 50 reputation to comment what can i do instead\">meta.stackexchange.com/questions/214173/&hellip;</a> ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;"}],"tags":[],"owner":{"account_id":2635775,"reputation":1,"user_id":6791494,"display_name":"Chris"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674079661,"creation_date":1673977532,"answer_id":75150261,"question_id":74639630,"body_markdown":"If you are running a version of the collector less than 0.61.0, which [added logs support for the datadogexporter (#2651)][1], then if you update your collector and add datadog to the logs pipeline, logs should appear in Datadog.\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.61.0","title":"logback logs not getting exported to datadog by opentelemetry-collector","body":"<p>If you are running a version of the collector less than 0.61.0, which <a href=\"https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.61.0\" rel=\"nofollow noreferrer\">added logs support for the datadogexporter (#2651)</a>, then if you update your collector and add datadog to the logs pipeline, logs should appear in Datadog.</p>\n"}],"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674079661,"creation_date":1669887003,"question_id":74639630,"body_markdown":"I have created a spring-boot application with open-telemetry. I have used spring-cloud-sleuth for exporting the traces to a open-telemetry collectors which ultimately is exporting these traces to datadog. I can see the exported traces in the datadog.\r\nNow, I also have to add some logging to the application and open-telemetry does not support logging directly. So, I have used opentelemetry-logback-appender to export the logs also to  datadog. I can see the log has same trace id and span id as the exported traces in the console. However, the logs are not getting forwarded to datadog. \r\nMy code :-\r\n\r\notel-collector-config.yaml :-\r\n\r\n    receivers:\r\n      otlp:\r\n        protocols:\r\n          grpc:\r\n          http:\r\n    \r\n    processors:\r\n      batch:\r\n    \r\n    exporters:\r\n      datadog:\r\n        api:\r\n          site: datadoghq.com\r\n          key: ${DD_API_KEY}\r\n      file:\r\n        path: /tmp/signals.json\r\n      logging:\r\n        loglevel: debug\r\n    \r\n    service:\r\n      pipelines:\r\n        traces:\r\n          receivers: [otlp]\r\n          processors: [batch]\r\n          exporters: [datadog, logging, file]\r\n        metrics:\r\n          receivers: [otlp]\r\n          processors: [batch]\r\n          exporters: [datadog, logging, file]\r\n        logs:\r\n          receivers: [otlp]\r\n          processors: [batch]\r\n          exporters: [logging, file]\r\n\r\nLog in the console added with slf4j (logback):\r\n\r\n    spring-cloud-sleuth-otel-slf4j-spring-cloud-sleuth-otel-slf4j-1  | 09:25:45.835 [http-nio-8181-exec-1] ERROR com.uplight.web.MyController traceId: c9c54856c474a11e22e3716b6e97ec4b spanId: 569063cd0411d3a6 - Logging error using SLF4J LOGGER--------------------------------------------------------------------\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D6Gfl.png\r\n\r\nAs seen in image, the log is not available in the trace. Can someone please suggest if I am missing anything?","title":"logback logs not getting exported to datadog by opentelemetry-collector","body":"<p>I have created a spring-boot application with open-telemetry. I have used spring-cloud-sleuth for exporting the traces to a open-telemetry collectors which ultimately is exporting these traces to datadog. I can see the exported traces in the datadog.\nNow, I also have to add some logging to the application and open-telemetry does not support logging directly. So, I have used opentelemetry-logback-appender to export the logs also to  datadog. I can see the log has same trace id and span id as the exported traces in the console. However, the logs are not getting forwarded to datadog.\nMy code :-</p>\n<p>otel-collector-config.yaml :-</p>\n<pre><code>receivers:\n  otlp:\n    protocols:\n      grpc:\n      http:\n\nprocessors:\n  batch:\n\nexporters:\n  datadog:\n    api:\n      site: datadoghq.com\n      key: ${DD_API_KEY}\n  file:\n    path: /tmp/signals.json\n  logging:\n    loglevel: debug\n\nservice:\n  pipelines:\n    traces:\n      receivers: [otlp]\n      processors: [batch]\n      exporters: [datadog, logging, file]\n    metrics:\n      receivers: [otlp]\n      processors: [batch]\n      exporters: [datadog, logging, file]\n    logs:\n      receivers: [otlp]\n      processors: [batch]\n      exporters: [logging, file]\n</code></pre>\n<p>Log in the console added with slf4j (logback):</p>\n<pre><code>spring-cloud-sleuth-otel-slf4j-spring-cloud-sleuth-otel-slf4j-1  | 09:25:45.835 [http-nio-8181-exec-1] ERROR com.uplight.web.MyController traceId: c9c54856c474a11e22e3716b6e97ec4b spanId: 569063cd0411d3a6 - Logging error using SLF4J LOGGER--------------------------------------------------------------------\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/D6Gfl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6Gfl.png\" alt=\"enter image description here\" /></a></p>\n<p>As seen in image, the log is not available in the trace. Can someone please suggest if I am missing anything?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1413275058,"post_id":26355761,"comment_id":41370758,"body_markdown":"I am wondering, how IntelliJ could know, that a getter/setter is not used? Usually they are public! In Eclipse, we have the same kind of warning, that only pops up, when a method is private.","body":"I am wondering, how IntelliJ could know, that a getter/setter is not used? Usually they are public! In Eclipse, we have the same kind of warning, that only pops up, when a method is private."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1413275548,"post_id":26355761,"comment_id":41371040,"body_markdown":"@Seelenvirtuose IntelliJ builds a `Dependencies Structure Matrix` which enables to find every reference of a method/class/attribute etc. see https://www.jetbrains.com/idea/features/dependency_analysis.html#link8","body":"@Seelenvirtuose IntelliJ builds a <code>Dependencies Structure Matrix</code> which enables to find every reference of a method/class/attribute etc. see <a href=\"https://www.jetbrains.com/idea/features/dependency_analysis.html#link8\" rel=\"nofollow noreferrer\">jetbrains.com/idea/features/dependency_analysis.html#link8</a>"},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1413275726,"post_id":26355761,"comment_id":41371145,"body_markdown":"Eclipse does nearly the same (it builds an AST). The main point of my comment is: You cannot know, whether your class is maybe part of a library used in other projects, where those methods are used. So you should not display a warning for an unused method that is public. It&#39;s another story if it&#39;s private.","body":"Eclipse does nearly the same (it builds an AST). The main point of my comment is: You cannot know, whether your class is maybe part of a library used in other projects, where those methods are used. So you should not display a warning for an unused method that is public. It&#39;s another story if it&#39;s private."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1413276120,"post_id":26355761,"comment_id":41371389,"body_markdown":"@Seelenvirtuose I agree with you. IntelliJ cannot guess if the developer is making a library or an application. Hence, the developer cannot rely on it when making a library but this is extremely useful when developing an application.","body":"@Seelenvirtuose I agree with you. IntelliJ cannot guess if the developer is making a library or an application. Hence, the developer cannot rely on it when making a library but this is extremely useful when developing an application."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1413276187,"post_id":26355761,"comment_id":41371432,"body_markdown":"@Seelenvirtuose and thank you for AST. Now I understand what is this cryptic `AST Node` that I often see in exceptions :)","body":"@Seelenvirtuose and thank you for AST. Now I understand what is this cryptic <code>AST Node</code> that I often see in exceptions :)"}],"answers":[{"comments":[{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":1,"creation_date":1413275752,"post_id":26356012,"comment_id":41371164,"body_markdown":"The Getters/Setters do not have any annotations. This forbids me to select them by annotation. But your answer solves another of my problems : suppress warnings for methods annotated with `com.google.inject.Inject`","body":"The Getters/Setters do not have any annotations. This forbids me to select them by annotation. But your answer solves another of my problems : suppress warnings for methods annotated with <code>com.google.inject.Inject</code>"},{"owner":{"account_id":2183160,"reputation":917,"user_id":1932186,"accept_rate":100,"display_name":"Aviv Carmi"},"score":4,"creation_date":1478506749,"post_id":26356012,"comment_id":68166119,"body_markdown":"This would mean annotating each getter/setter, so we could initially add a &quot;suppress&quot; annotation. It&#39;s not helpful.","body":"This would mean annotating each getter/setter, so we could initially add a &quot;suppress&quot; annotation. It&#39;s not helpful."}],"tags":[],"owner":{"account_id":5168743,"reputation":62,"user_id":4137982,"display_name":"snailer"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1433953665,"creation_date":1413275188,"answer_id":26356012,"question_id":26355761,"body_markdown":"You have just to hit &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; and select `Suppress for methods annotated by ...` \r\n\r\n![Where to click][1]\r\n\r\n\r\n**See also:**\r\nhttps://stackoverflow.com/questions/5283972/telling-intellij-idea-which-methods-not-to-identify-as-unused\r\n\r\n  [1]: http://i.stack.imgur.com/1O95H.png","title":"Don&#39;t show warning for unused Getters/Setters","body":"<p>You have just to hit <kbd>Alt</kbd>+<kbd>Enter</kbd> and select <code>Suppress for methods annotated by ...</code> </p>\n\n<p><img src=\"https://i.stack.imgur.com/1O95H.png\" alt=\"Where to click\"></p>\n\n<p><strong>See also:</strong>\n<a href=\"https://stackoverflow.com/questions/5283972/telling-intellij-idea-which-methods-not-to-identify-as-unused\">Telling IntelliJ IDEA which methods not to identify as unused</a></p>\n"},{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1413275270,"creation_date":1413275270,"answer_id":26356040,"question_id":26355761,"body_markdown":"I believe you can annotate your methods with `//noinspection`.\r\n\r\nYou can navigate to `Settings` | `Inspections` | `Declaration redundancy` | `Unused Declarations` and define a scope for your methods but I do believe you cannot disable it for *getters/setters* only an leave other methods out of inspection.","title":"Don&#39;t show warning for unused Getters/Setters","body":"<p>I believe you can annotate your methods with <code>//noinspection</code>.</p>\n\n<p>You can navigate to <code>Settings</code> | <code>Inspections</code> | <code>Declaration redundancy</code> | <code>Unused Declarations</code> and define a scope for your methods but I do believe you cannot disable it for <em>getters/setters</em> only an leave other methods out of inspection.</p>\n"},{"tags":[],"owner":{"account_id":388656,"reputation":320,"user_id":747720,"accept_rate":44,"display_name":"BZapper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427244273,"creation_date":1427244273,"answer_id":29245605,"question_id":26355761,"body_markdown":"I&#39;d recommend lowering the severity for unused methods in general. Simply go to \r\nSettings | Inspections | Declaration redundancy | Unused Declarations, and change the severity to &quot;Info&quot; or &quot;Weak Warning&quot; . ","title":"Don&#39;t show warning for unused Getters/Setters","body":"<p>I'd recommend lowering the severity for unused methods in general. Simply go to \nSettings | Inspections | Declaration redundancy | Unused Declarations, and change the severity to \"Info\" or \"Weak Warning\" . </p>\n"},{"tags":[],"owner":{"account_id":2077332,"reputation":2173,"user_id":1850308,"accept_rate":100,"display_name":"TerekC"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1674079525,"creation_date":1522430483,"answer_id":49578643,"question_id":26355761,"body_markdown":"As of IDEA 2016.3 there is a setting to do this.\r\nUsing IntelliJ on a Mac, it is under `Settings` | `Editor` | `Inspections` | `Java` | `Declaration redundancy` | `Unused declaration` | `Methods` | `Getters/setters`\r\n\r\n[![Disable unused getter/setter method warnings ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wRiXj.png","title":"Don&#39;t show warning for unused Getters/Setters","body":"<p>As of IDEA 2016.3 there is a setting to do this.\nUsing IntelliJ on a Mac, it is under <code>Settings</code> | <code>Editor</code> | <code>Inspections</code> | <code>Java</code> | <code>Declaration redundancy</code> | <code>Unused declaration</code> | <code>Methods</code> | <code>Getters/setters</code></p>\n<p><a href=\"https://i.stack.imgur.com/wRiXj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRiXj.png\" alt=\"Disable unused getter/setter method warnings \" /></a></p>\n"}],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8175,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":49578643,"answer_count":4,"score":29,"last_activity_date":1674079525,"creation_date":1413274235,"question_id":26355761,"body_markdown":"When a method is never used, IntelliJ shows a warning `Method xxx() is never used`\r\n\r\nBut for POJOs, I create Getters/Setters for every attributes and I do not want IntelliJ to warn me for unused Getters/Setters.\r\n\r\nIs there a way to automatically suppress those warnings?","title":"Don&#39;t show warning for unused Getters/Setters","body":"<p>When a method is never used, IntelliJ shows a warning <code>Method xxx() is never used</code></p>\n\n<p>But for POJOs, I create Getters/Setters for every attributes and I do not want IntelliJ to warn me for unused Getters/Setters.</p>\n\n<p>Is there a way to automatically suppress those warnings?</p>\n"},{"tags":["java","scala","fqdn"],"comments":[{"owner":{"account_id":340961,"reputation":2914,"user_id":671282,"display_name":"Samuel &#197;slund"},"score":0,"creation_date":1674055074,"post_id":75160359,"comment_id":132633743,"body_markdown":"As Ralf says below, you do not have enough information to distinguish without som kind of list, but it might be easier to make a list of shortnames or last part of shortnames.","body":"As Ralf says below, you do not have enough information to distinguish without som kind of list, but it might be easier to make a list of shortnames or last part of shortnames."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7031,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674054323,"creation_date":1674054323,"answer_id":75161265,"question_id":75160359,"body_markdown":"There is no generic way to do that.\r\n\r\nYou want to split the FQDN at some dot position into the &quot;short name&quot; and the &quot;domain&quot;. From just looking at the string, there&#39;s no way, it needs additional knowledge.\r\n\r\n    FQDN =&gt; ShortName \r\n    node.a.domain.net =&gt; node.a\r\n    node.a.dev.domain.net =&gt; node.a.dev (Why not node.a in dev.domain.net?)\r\n    node.a.sbx.domain.net =&gt; node.a.sbx\r\n    node.a.b.domain.net =&gt; node.a.b\r\n    node.a.dev.dom-as-me.domain.net =&gt; node.a.dev (Why not node.a.dev.dom-as-me in domain.net?)\r\n    node.a.dom-as-me.domain.net =&gt; node.a\r\n\r\nYou need a dictionary of domains, then you can identify string tails that are listed in the dictionary and\r\n- use the tail as the domain\r\n- and the head as the short name.","title":"How to get the shortName from an FQDN","body":"<p>There is no generic way to do that.</p>\n<p>You want to split the FQDN at some dot position into the &quot;short name&quot; and the &quot;domain&quot;. From just looking at the string, there's no way, it needs additional knowledge.</p>\n<pre><code>FQDN =&gt; ShortName \nnode.a.domain.net =&gt; node.a\nnode.a.dev.domain.net =&gt; node.a.dev (Why not node.a in dev.domain.net?)\nnode.a.sbx.domain.net =&gt; node.a.sbx\nnode.a.b.domain.net =&gt; node.a.b\nnode.a.dev.dom-as-me.domain.net =&gt; node.a.dev (Why not node.a.dev.dom-as-me in domain.net?)\nnode.a.dom-as-me.domain.net =&gt; node.a\n</code></pre>\n<p>You need a dictionary of domains, then you can identify string tails that are listed in the dictionary and</p>\n<ul>\n<li>use the tail as the domain</li>\n<li>and the head as the short name.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16423951,"reputation":121,"user_id":11864483,"display_name":"happygopher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674078537,"creation_date":1674078537,"answer_id":75165642,"question_id":75160359,"body_markdown":"Found that InetAddress do the work:\r\n\r\n    InetAddress.getByName(host).getCanonicalHostName == host","title":"How to get the shortName from an FQDN","body":"<p>Found that InetAddress do the work:</p>\n<pre><code>InetAddress.getByName(host).getCanonicalHostName == host\n</code></pre>\n"}],"owner":{"account_id":16423951,"reputation":121,"user_id":11864483,"display_name":"happygopher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75161265,"answer_count":2,"score":0,"last_activity_date":1674078537,"creation_date":1674050271,"question_id":75160359,"body_markdown":"I&#39;m struggling with getting the `shortName` from an `FQDN`. The main problem with the FQDN is that it can come in various forms, such as:\r\n```\r\nFQDN =&gt; ShortName \r\nnode.a.domain.net =&gt; node.a\r\nnode.a.dev.domain.net =&gt; node.a.dev\r\nnode.a.sbx.domain.net =&gt; node.a.sbx\r\nnode.a.b.domain.net =&gt; node.a.b\r\nnode.a.dev.dom-as-me.domain.net =&gt; node.a.dev\r\nnode.a.dom-as-me.domain.net =&gt; node.a\r\n```\r\n\r\nI&#39;m using `Java` or `Scala` to accomplish this, any ideas?\r\n\r\nThanks in advance!\r\n\r\n","title":"How to get the shortName from an FQDN","body":"<p>I'm struggling with getting the <code>shortName</code> from an <code>FQDN</code>. The main problem with the FQDN is that it can come in various forms, such as:</p>\n<pre><code>FQDN =&gt; ShortName \nnode.a.domain.net =&gt; node.a\nnode.a.dev.domain.net =&gt; node.a.dev\nnode.a.sbx.domain.net =&gt; node.a.sbx\nnode.a.b.domain.net =&gt; node.a.b\nnode.a.dev.dom-as-me.domain.net =&gt; node.a.dev\nnode.a.dom-as-me.domain.net =&gt; node.a\n</code></pre>\n<p>I'm using <code>Java</code> or <code>Scala</code> to accomplish this, any ideas?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","maven","azure-devops","artifactory"],"answers":[{"tags":[],"owner":{"account_id":17841875,"reputation":1441,"user_id":12959590,"display_name":"Muhammed Kashif"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632731552,"creation_date":1632731552,"answer_id":69343501,"question_id":69343159,"body_markdown":"You should consider changing the &quot;Maven Snapshot Version Behavior&quot; from unique to non-unique which should resolve to add the timestamp under the Maven repository | Maven settings.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sODGv.png","title":"Remove suffix from snapshot upload to Artifactory from Azure DevOps","body":"<p>You should consider changing the &quot;Maven Snapshot Version Behavior&quot; from unique to non-unique which should resolve to add the timestamp under the Maven repository | Maven settings.\n<a href=\"https://i.stack.imgur.com/sODGv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sODGv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11235544,"reputation":696,"user_id":8241887,"display_name":"Pronomita Dey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69343501,"answer_count":1,"score":0,"last_activity_date":1674078251,"creation_date":1632729956,"question_id":69343159,"body_markdown":"**Intent**: Build and deploy Maven artifact build on Azure DevOps to JFrog Artifactory\r\n\r\n*Build Platform*: Azure DevOps \r\n\r\n*Repository*: JFrog Artifactory (Maven)\r\n\r\nMy current pom file version is like: 0.0.1-SNAPSHOT\r\n\r\nI am using ADO&#39;s Artifactory Maven Plugin Task to build and publish to Artifactory.\r\n\r\n**Issue**: When publishing the files (jar and pom), a datetime suffix string is being appended to the name of the jar and pom files. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IFReY.png\r\n\r\n\r\nHere&#39;s my pipeline definition\r\n```\r\n- task: ArtifactoryMaven@2\r\n  inputs:\r\n    mavenPomFile: &#39;pom.xml&#39;\r\n    goals: &#39;install&#39;\r\n    artifactoryResolverService: &#39;jfrog-service-connection&#39;\r\n    targetResolveReleaseRepo: &#39;jfrog-maven-repo&#39;\r\n    targetResolveSnapshotRepo: &#39;jfrog-maven-repo&#39;\r\n    artifactoryDeployService: &#39;jfrog-service-connection&#39;\r\n    targetDeployReleaseRepo: &#39;jfrog-maven-repo&#39;\r\n    targetDeploySnapshotRepo: &#39;jfrog-maven-repo&#39;\r\n    collectBuildInfo: true\r\n    options: &#39;-DuniqueVersion=false&#39;\r\n    # buildName: &#39;$(Build.DefinitionName)&#39;\r\n    # buildNumber: &#39;$(Build.BuildNumber)&#39;\r\n  displayName: &#39;Build and Deploy to repo&#39;\r\n```\r\n\r\nI am using this input ```options: &#39;-DuniqueVersion=false&#39;``` as an argument for mvn clean install while the option is found for mvn deploy.\r\n\r\nCan someone please suggest the correct way to drop the suffix and upload the artifacts as is?\r\nTHIS \r\n```\r\nmy-artifact-0.0.1.jar \r\nmy-artifact-0.0.1.pom\r\n```\r\nINSTEAD OF\r\n```\r\nmy-artifact-0.0.1-20210927.044504-1.jar \r\nmy-artifact-0.0.1-20210927.044504-1.pom\r\n```","title":"Remove suffix from snapshot upload to Artifactory from Azure DevOps","body":"<p><strong>Intent</strong>: Build and deploy Maven artifact build on Azure DevOps to JFrog Artifactory</p>\n<p><em>Build Platform</em>: Azure DevOps</p>\n<p><em>Repository</em>: JFrog Artifactory (Maven)</p>\n<p>My current pom file version is like: 0.0.1-SNAPSHOT</p>\n<p>I am using ADO's Artifactory Maven Plugin Task to build and publish to Artifactory.</p>\n<p><strong>Issue</strong>: When publishing the files (jar and pom), a datetime suffix string is being appended to the name of the jar and pom files.\n<a href=\"https://i.stack.imgur.com/IFReY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IFReY.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my pipeline definition</p>\n<pre><code>- task: ArtifactoryMaven@2\n  inputs:\n    mavenPomFile: 'pom.xml'\n    goals: 'install'\n    artifactoryResolverService: 'jfrog-service-connection'\n    targetResolveReleaseRepo: 'jfrog-maven-repo'\n    targetResolveSnapshotRepo: 'jfrog-maven-repo'\n    artifactoryDeployService: 'jfrog-service-connection'\n    targetDeployReleaseRepo: 'jfrog-maven-repo'\n    targetDeploySnapshotRepo: 'jfrog-maven-repo'\n    collectBuildInfo: true\n    options: '-DuniqueVersion=false'\n    # buildName: '$(Build.DefinitionName)'\n    # buildNumber: '$(Build.BuildNumber)'\n  displayName: 'Build and Deploy to repo'\n</code></pre>\n<p>I am using this input <code>options: '-DuniqueVersion=false'</code> as an argument for mvn clean install while the option is found for mvn deploy.</p>\n<p>Can someone please suggest the correct way to drop the suffix and upload the artifacts as is?\nTHIS</p>\n<pre><code>my-artifact-0.0.1.jar \nmy-artifact-0.0.1.pom\n</code></pre>\n<p>INSTEAD OF</p>\n<pre><code>my-artifact-0.0.1-20210927.044504-1.jar \nmy-artifact-0.0.1-20210927.044504-1.pom\n</code></pre>\n"},{"tags":["java","android","android-studio","android-camerax"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi "},"score":0,"creation_date":1674317059,"post_id":75165585,"comment_id":132690863,"body_markdown":"Interesting. It&#39;s likely that the device is doing something special in the EXIF tags that triggers a bug in ExifInterface. If you post the question to camerax-developers@android.com with the device model, they might be able to help you.","body":"Interesting. It&#39;s likely that the device is doing something special in the EXIF tags that triggers a bug in ExifInterface. If you post the question to camerax-developers@android.com with the device model, they might be able to help you."},{"owner":{"account_id":459494,"reputation":465,"user_id":1551308,"display_name":"Batta"},"score":0,"creation_date":1690956422,"post_id":75165585,"comment_id":135423156,"body_markdown":"@J_R did you find a solution for this? I am getting the exact same error.","body":"@J_R did you find a solution for this? I am getting the exact same error."}],"owner":{"account_id":16991746,"reputation":15,"user_id":19283908,"display_name":"J_R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674078160,"creation_date":1674078160,"question_id":75165585,"body_markdown":"I&#39;m trying to take a photo inside the app and save it to the gallery using CameraX.\r\nThe Manifest includes all the necessary permissions for camera and storage usage.\r\nWhen I open the activity inside the app, the camera opens and all but when I try to take a photo I get these error messages and can&#39;t seem to figure out how to fix it. Any ideas?\r\n\r\nThis is my CameraActivity class:\r\n```\r\npublic class CameraActivity extends AppCompatActivity {\r\n\r\n    private final int MY_CAMERA_REQUEST_CODE = 100;\r\n    private final int MY_EXT_STORAGE_REQUEST_CODE = 101;\r\n    private TextureView view_finder;\r\n    private Button closeCamBtn;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_camera);\r\n\r\n        view_finder = findViewById(R.id.view_finder);\r\n\r\n        if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_REQUEST_CODE);\r\n        }\r\n        if(checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED){\r\n            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, MY_EXT_STORAGE_REQUEST_CODE);\r\n        }\r\n        else{\r\n            startCamera();\r\n        }\r\n\r\n        // handling cancel-button from camera-activity\r\n        closeCamBtn = findViewById(R.id.closeCam);\r\n        closeCamBtn.setOnClickListener(v -&gt; finish());\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == MY_CAMERA_REQUEST_CODE) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n\r\n        if (requestCode == MY_EXT_STORAGE_REQUEST_CODE) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;write ext storage permission granted&quot;, Toast.LENGTH_LONG).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;write ext storage permission denied&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // TODO always yields onError()\r\n\r\n    private void startCamera() {\r\n        CameraX.unbindAll();\r\n\r\n        Rational aspectRatio = new Rational(view_finder.getWidth(), view_finder.getHeight());\r\n        Size screen = new Size(view_finder.getWidth(), view_finder.getHeight());\r\n\r\n        PreviewConfig pConfig = new PreviewConfig.Builder().setTargetAspectRatio(aspectRatio).setTargetResolution(screen).build();\r\n        Preview preview = new Preview(pConfig);\r\n\r\n        preview.setOnPreviewOutputUpdateListener(\r\n                output -&gt; {\r\n                    ViewGroup parent = (ViewGroup) view_finder.getParent();\r\n                    parent.removeView(view_finder);\r\n                    parent.addView(view_finder);\r\n\r\n                    view_finder.setSurfaceTexture(output.getSurfaceTexture());\r\n                }\r\n        );\r\n\r\n        ImageCaptureConfig imageCaptureConfig = new ImageCaptureConfig.Builder().setCaptureMode(ImageCapture.CaptureMode.MIN_LATENCY).\r\n                setTargetRotation(getWindowManager().getDefaultDisplay().getRotation()).build();\r\n\r\n        final ImageCapture imgCap = new ImageCapture(imageCaptureConfig);\r\n\r\n        findViewById(R.id.imgCapture).setOnClickListener(v -&gt; {\r\n            String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).toString();\r\n            File file = new File(path, &quot;ThisIsATestFile&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n\r\n            Toast.makeText(getBaseContext(), &quot;File would be: &quot; + file.getAbsolutePath(),Toast.LENGTH_LONG).show();\r\n\r\n            imgCap.takePicture(file, new ImageCapture.OnImageSavedListener() {\r\n\r\n                @Override\r\n                public void onImageSaved(@NonNull File file) {\r\n                    String msg = &quot;Photo capture succeeded: &quot; + file.getAbsolutePath();\r\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull ImageCapture.UseCaseError useCaseError, @NonNull String message, @Nullable Throwable cause) {\r\n                    String msg = &quot;Photo capture failed: &quot; + message;\r\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\r\n                    if(cause != null) cause.printStackTrace();\r\n                }\r\n            });\r\n        });\r\n        CameraX.bindToLifecycle(this, preview, imgCap);\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the stack trace:\r\n```\r\n    D/Camera: issue capture request for camera 0\r\n    D/CaptureSession: Issuing capture request.\r\n    W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0\r\n    W/ExifInterface: Skip the tag entry since data format (ULONG) is unexpected for tag: GPSAltitudeRef\r\n    W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0\r\n    W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0\r\n    W/System.err: java.io.IOException: Could not rename to /storage/emulated/0/Pictures/ThisIsATestFile1674077498232.jpg.tmp\r\n    W/System.err:     at androidx.exifinterface.media.ExifInterface.saveAttributes(ExifInterface.java:4307)\r\n    W/System.err:     at androidx.camera.core.Exif.save(Exif.java:132)\r\n    W/System.err:     at androidx.camera.core.ImageSaver.run(ImageSaver.java:91)\r\n    W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    W/System.err:     at java.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\nI&#39;m kinda lost here","title":"CameraX can&#39;t save image to gallery - &quot;Stop reading file since a wrong offset may cause an infinite loop: 0&quot;","body":"<p>I'm trying to take a photo inside the app and save it to the gallery using CameraX.\nThe Manifest includes all the necessary permissions for camera and storage usage.\nWhen I open the activity inside the app, the camera opens and all but when I try to take a photo I get these error messages and can't seem to figure out how to fix it. Any ideas?</p>\n<p>This is my CameraActivity class:</p>\n<pre><code>public class CameraActivity extends AppCompatActivity {\n\n    private final int MY_CAMERA_REQUEST_CODE = 100;\n    private final int MY_EXT_STORAGE_REQUEST_CODE = 101;\n    private TextureView view_finder;\n    private Button closeCamBtn;\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_camera);\n\n        view_finder = findViewById(R.id.view_finder);\n\n        if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            requestPermissions(new String[]{Manifest.permission.CAMERA}, MY_CAMERA_REQUEST_CODE);\n        }\n        if(checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED){\n            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, MY_EXT_STORAGE_REQUEST_CODE);\n        }\n        else{\n            startCamera();\n        }\n\n        // handling cancel-button from camera-activity\n        closeCamBtn = findViewById(R.id.closeCam);\n        closeCamBtn.setOnClickListener(v -&gt; finish());\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == MY_CAMERA_REQUEST_CODE) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;camera permission granted&quot;, Toast.LENGTH_LONG).show();\n            } else {\n                Toast.makeText(this, &quot;camera permission denied&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n\n        if (requestCode == MY_EXT_STORAGE_REQUEST_CODE) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;write ext storage permission granted&quot;, Toast.LENGTH_LONG).show();\n            } else {\n                Toast.makeText(this, &quot;write ext storage permission denied&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n\n\n    // TODO always yields onError()\n\n    private void startCamera() {\n        CameraX.unbindAll();\n\n        Rational aspectRatio = new Rational(view_finder.getWidth(), view_finder.getHeight());\n        Size screen = new Size(view_finder.getWidth(), view_finder.getHeight());\n\n        PreviewConfig pConfig = new PreviewConfig.Builder().setTargetAspectRatio(aspectRatio).setTargetResolution(screen).build();\n        Preview preview = new Preview(pConfig);\n\n        preview.setOnPreviewOutputUpdateListener(\n                output -&gt; {\n                    ViewGroup parent = (ViewGroup) view_finder.getParent();\n                    parent.removeView(view_finder);\n                    parent.addView(view_finder);\n\n                    view_finder.setSurfaceTexture(output.getSurfaceTexture());\n                }\n        );\n\n        ImageCaptureConfig imageCaptureConfig = new ImageCaptureConfig.Builder().setCaptureMode(ImageCapture.CaptureMode.MIN_LATENCY).\n                setTargetRotation(getWindowManager().getDefaultDisplay().getRotation()).build();\n\n        final ImageCapture imgCap = new ImageCapture(imageCaptureConfig);\n\n        findViewById(R.id.imgCapture).setOnClickListener(v -&gt; {\n            String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).toString();\n            File file = new File(path, &quot;ThisIsATestFile&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\n\n            Toast.makeText(getBaseContext(), &quot;File would be: &quot; + file.getAbsolutePath(),Toast.LENGTH_LONG).show();\n\n            imgCap.takePicture(file, new ImageCapture.OnImageSavedListener() {\n\n                @Override\n                public void onImageSaved(@NonNull File file) {\n                    String msg = &quot;Photo capture succeeded: &quot; + file.getAbsolutePath();\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\n                }\n\n                @Override\n                public void onError(@NonNull ImageCapture.UseCaseError useCaseError, @NonNull String message, @Nullable Throwable cause) {\n                    String msg = &quot;Photo capture failed: &quot; + message;\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\n                    if(cause != null) cause.printStackTrace();\n                }\n            });\n        });\n        CameraX.bindToLifecycle(this, preview, imgCap);\n    }\n}\n</code></pre>\n<p>Here's the stack trace:</p>\n<pre><code>    D/Camera: issue capture request for camera 0\n    D/CaptureSession: Issuing capture request.\n    W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0\n    W/ExifInterface: Skip the tag entry since data format (ULONG) is unexpected for tag: GPSAltitudeRef\n    W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0\n    W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0\n    W/System.err: java.io.IOException: Could not rename to /storage/emulated/0/Pictures/ThisIsATestFile1674077498232.jpg.tmp\n    W/System.err:     at androidx.exifinterface.media.ExifInterface.saveAttributes(ExifInterface.java:4307)\n    W/System.err:     at androidx.camera.core.Exif.save(Exif.java:132)\n    W/System.err:     at androidx.camera.core.ImageSaver.run(ImageSaver.java:91)\n    W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    W/System.err:     at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>I'm kinda lost here</p>\n"},{"tags":["java","logic"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1674073552,"post_id":75164904,"comment_id":132639869,"body_markdown":"Just keep a running total n of the consecutive number of characters, print the current character if the count equals n, and zero the counter if you it hits n or if the character changes.  No need for the multiple array indexes.","body":"Just keep a running total n of the consecutive number of characters, print the current character if the count equals n, and zero the counter if you it hits n or if the character changes.  No need for the multiple array indexes."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674073993,"post_id":75164904,"comment_id":132639993,"body_markdown":"The problem right now is that the code always checks the *next* element after the group, but the last group `{....,2,2,2}` has no element after it. Thus, the loop terminates prematurely; the condition should run until `i &lt; nums.length - 2`, but then we get an `IndexOutOfBoundException`. This means that we should the check `nums[i+2] != nums[i+3]` if and only if `i &lt; nums.length - 3`. --- A remark: the `continue;` is superfluous.","body":"The problem right now is that the code always checks the <i>next</i> element after the group, but the last group <code>{....,2,2,2}</code> has no element after it. Thus, the loop terminates prematurely; the condition should run until <code>i &lt; nums.length - 2</code>, but then we get an <code>IndexOutOfBoundException</code>. This means that we should the check <code>nums[i+2] != nums[i+3]</code> if and only if <code>i &lt; nums.length - 3</code>. --- A remark: the <code>continue;</code> is superfluous."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674075909,"post_id":75164904,"comment_id":132640510,"body_markdown":"You only need two comparisons, but you do three.","body":"You only need two comparisons, but you do three."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1674076047,"post_id":75164904,"comment_id":132640553,"body_markdown":"I believe looking at previous or next elements increases complexity. All you need is remember the last element you counted.","body":"I believe looking at previous or next elements increases complexity. All you need is remember the last element you counted."}],"answers":[{"tags":[],"owner":{"account_id":20226248,"reputation":128,"user_id":14834046,"display_name":"codexistent"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674074475,"creation_date":1674073601,"answer_id":75164931,"question_id":75164904,"body_markdown":"You need to check if there are numbers that are the same *before* the group `i`, `i+1`, and `i+2` as well:\r\n```java\r\nfor(int i = 0; i &lt;= nums.length - 3; i++){\r\n    if((i == 0 || nums[i] != nums[i - 1]) &amp;&amp; nums[i] == nums[i+1] &amp;&amp; nums[i+1] == nums[i+2] &amp;&amp; (i + 2 == nums.length - 1 || nums[i+2] != nums[i+3])){\r\n        System.out.println(nums[i]);\r\n    }\r\n}\r\n```","title":"output only if a number is repeating consecutively 3 times in java","body":"<p>You need to check if there are numbers that are the same <em>before</em> the group <code>i</code>, <code>i+1</code>, and <code>i+2</code> as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt;= nums.length - 3; i++){\n    if((i == 0 || nums[i] != nums[i - 1]) &amp;&amp; nums[i] == nums[i+1] &amp;&amp; nums[i+1] == nums[i+2] &amp;&amp; (i + 2 == nums.length - 1 || nums[i+2] != nums[i+3])){\n        System.out.println(nums[i]);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674075817,"post_id":75165084,"comment_id":132640487,"body_markdown":"My comments will self-destruct shortly","body":"My comments will self-destruct shortly"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674075920,"creation_date":1674074620,"answer_id":75165084,"question_id":75164904,"body_markdown":"This algorithm would not require to store too many numbers:\r\n\r\n- loop over the array\r\n- check if your variable contains the same as the current element\r\n- if yes, increase a counter\r\n- if no:\r\n  - check if counter is three\r\n    - if yes, output the element you counted (not the current one)\r\n  - reset counter to zero    \r\n- save the element you are looking at in the variable\r\n- after the loop, check if the last element was counted three times (and not yet printed). If yes, print it.\r\n\r\n\r\nOk, I implemented the above algorithm and came up with this:\r\n\r\n    public class Test {\r\n        static int[] nums = {1,1,1,2,2,3,3,3,4,4,4,4,5,5,5,1,1,2,2,2};\r\n    \r\n        public static void main(String[] args) {\r\n            int countingNumber = 0;\r\n            int count = 0;\r\n            \r\n            for (int num: nums) {\r\n                if (countingNumber == num) {\r\n                    count++;\r\n                } else {\r\n                    if (count == 3) {\r\n                        System.out.print(String.format(&quot; %d&quot;, countingNumber));\r\n                    }\r\n                    count = 1;\r\n                    countingNumber = num;\r\n                }\r\n            }\r\n\r\n            if (count == 3) {\r\n                System.out.print(String.format(&quot; %d&quot;, countingNumber));\r\n            }\r\n        }\r\n    }\r\n\r\nWhen run, it prints\r\n\r\n     1 3 5 2\r\n\r\nas was requested.","title":"output only if a number is repeating consecutively 3 times in java","body":"<p>This algorithm would not require to store too many numbers:</p>\n<ul>\n<li>loop over the array</li>\n<li>check if your variable contains the same as the current element</li>\n<li>if yes, increase a counter</li>\n<li>if no:\n<ul>\n<li>check if counter is three\n<ul>\n<li>if yes, output the element you counted (not the current one)</li>\n</ul>\n</li>\n<li>reset counter to zero</li>\n</ul>\n</li>\n<li>save the element you are looking at in the variable</li>\n<li>after the loop, check if the last element was counted three times (and not yet printed). If yes, print it.</li>\n</ul>\n<p>Ok, I implemented the above algorithm and came up with this:</p>\n<pre><code>public class Test {\n    static int[] nums = {1,1,1,2,2,3,3,3,4,4,4,4,5,5,5,1,1,2,2,2};\n\n    public static void main(String[] args) {\n        int countingNumber = 0;\n        int count = 0;\n        \n        for (int num: nums) {\n            if (countingNumber == num) {\n                count++;\n            } else {\n                if (count == 3) {\n                    System.out.print(String.format(&quot; %d&quot;, countingNumber));\n                }\n                count = 1;\n                countingNumber = num;\n            }\n        }\n\n        if (count == 3) {\n            System.out.print(String.format(&quot; %d&quot;, countingNumber));\n        }\n    }\n}\n</code></pre>\n<p>When run, it prints</p>\n<pre><code> 1 3 5 2\n</code></pre>\n<p>as was requested.</p>\n"},{"tags":[],"owner":{"account_id":22049645,"reputation":1,"user_id":16314127,"display_name":"user16314127"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674077859,"creation_date":1674077393,"answer_id":75165484,"question_id":75164904,"body_markdown":"    public class Xyz {\r\n    public static void main(String[] args) {\r\n    //Try This just change the value of n.\r\n        String s = &quot;&quot;;\r\n        int[] nums = {1,1,1,2,2,2,2,3,3,3,4,4,4,4,4,4,4,4,4,4,5,5,5,1,1,2,2,2};\r\n        int n =3;\r\n        for(int i=0; i&lt;nums.length-2;i++) {\r\n            int c = 0;\r\n            for (int j = i+1; j &lt; nums.length; j++){\r\n                if (nums[i] == nums[j]) {\r\n                    c++;\r\n                    if (c&gt;=n) {\r\n                        i=i+n;\r\n                        break;\r\n                    }\r\n                }\r\n                else{\r\n                    break;\r\n                }\r\n        }\r\n            if(c == n-1) {\r\n                s = s + nums[i] + &#39; &#39;;\r\n                i = i + n-1 ;\r\n            }\r\n        }\r\n        System.out.println(s);\r\n    }\r\n}\r\n","title":"output only if a number is repeating consecutively 3 times in java","body":"<pre><code>public class Xyz {\npublic static void main(String[] args) {\n//Try This just change the value of n.\n    String s = &quot;&quot;;\n    int[] nums = {1,1,1,2,2,2,2,3,3,3,4,4,4,4,4,4,4,4,4,4,5,5,5,1,1,2,2,2};\n    int n =3;\n    for(int i=0; i&lt;nums.length-2;i++) {\n        int c = 0;\n        for (int j = i+1; j &lt; nums.length; j++){\n            if (nums[i] == nums[j]) {\n                c++;\n                if (c&gt;=n) {\n                    i=i+n;\n                    break;\n                }\n            }\n            else{\n                break;\n            }\n    }\n        if(c == n-1) {\n            s = s + nums[i] + ' ';\n            i = i + n-1 ;\n        }\n    }\n    System.out.println(s);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":27567125,"reputation":1,"user_id":21039101,"display_name":"barry allen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1674077859,"creation_date":1674073373,"question_id":75164904,"body_markdown":"Consider an array as shown \r\n\r\n    int[] nums = {1, 1, 1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 1, 1, 2, 2, 2} \r\n\r\nOutput the number that&#39;s repeating consecutively `n` times. For example if we need to output a number that repeats consecutively `3` times then the output must be `1`, `3`, `5` and `2`. `4` should not be considered as it&#39;s repeating consecutively four times.\r\n\r\nPlease let me know how this can be achieved in Java with both traditional and Java 8 streams way.\r\n\r\nI tried something like below, but it ignores the last three elements. If I doesn&#39;t give it will reach out of bound.\r\n``` java\r\nfor(int i = 0; i &lt; nums.length - 3; i++) {\r\n    if(nums[i] == nums[i + 1] &amp;&amp; nums[i + 1] == nums[i + 2] &amp;&amp; nums[i + 2] != nums[i + 3]) {\r\n        System.out.println(nums[i]);\r\n        continue;\r\n    }\r\n}\r\n```","title":"output only if a number is repeating consecutively 3 times in java","body":"<p>Consider an array as shown</p>\n<pre><code>int[] nums = {1, 1, 1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 1, 1, 2, 2, 2} \n</code></pre>\n<p>Output the number that's repeating consecutively <code>n</code> times. For example if we need to output a number that repeats consecutively <code>3</code> times then the output must be <code>1</code>, <code>3</code>, <code>5</code> and <code>2</code>. <code>4</code> should not be considered as it's repeating consecutively four times.</p>\n<p>Please let me know how this can be achieved in Java with both traditional and Java 8 streams way.</p>\n<p>I tried something like below, but it ignores the last three elements. If I doesn't give it will reach out of bound.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; nums.length - 3; i++) {\n    if(nums[i] == nums[i + 1] &amp;&amp; nums[i + 1] == nums[i + 2] &amp;&amp; nums[i + 2] != nums[i + 3]) {\n        System.out.println(nums[i]);\n        continue;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","javabeans"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674077901,"post_id":75165532,"comment_id":132641023,"body_markdown":"Are you using spring-boot 3.x?","body":"Are you using spring-boot 3.x?"},{"owner":{"account_id":17680973,"reputation":35,"user_id":12834914,"display_name":"AlexandrescuPaul"},"score":0,"creation_date":1674078016,"post_id":75165532,"comment_id":132641052,"body_markdown":"Yes ,im using spring boot 3.0.1 .","body":"Yes ,im using spring boot 3.0.1 ."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674078071,"post_id":75165532,"comment_id":132641067,"body_markdown":"tl;dr: you are using the wrong annotation in class `Emplyoee`. Use `jakarta.persistence.Entity` instead of `javax.persistence.Entity`.","body":"tl;dr: you are using the wrong annotation in class <code>Emplyoee</code>. Use <code>jakarta.persistence.Entity</code> instead of <code>javax.persistence.Entity</code>."}],"owner":{"account_id":17680973,"reputation":35,"user_id":12834914,"display_name":"AlexandrescuPaul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674078026,"answer_count":0,"score":0,"last_activity_date":1674077752,"creation_date":1674077752,"question_id":75165532,"body_markdown":" I have to make follow and old tutorial from spring that initializes a rest service with spring ,the problem is since its from 8 years ago a lot has changed in the diffrent aspect of annotations.\r\nSo i have the folllowing code Employee.java:\r\n\r\n```\r\npackage payrool;\r\n\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\nclass Employee {\r\n\r\n    private @Id @GeneratedValue Long id;\r\n    private String name;\r\n    private String role;\r\n\r\n    Employee() {}\r\n\r\n    Employee(String name, String role) {\r\n\r\n        this.name = name;\r\n        this.role = role;\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n\r\n        if (this == o)\r\n            return true;\r\n        if (!(o instanceof Employee))\r\n            return false;\r\n        Employee employee = (Employee) o;\r\n        return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\r\n                &amp;&amp; Objects.equals(this.role, employee.role);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.id, this.name, this.role);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name=&#39;&quot; + this.name + &#39;\\&#39;&#39; + &quot;, role=&#39;&quot; + this.role + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nAnd the repository for it EmployeeRepository.java:\r\n\r\n```\r\npackage payrool;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\n\r\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n\r\n```\r\nwith the connection to database in LoadDatabase.java:\r\n\r\n\r\n```\r\npackage payrool;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\nclass LoadDatabase {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\r\n\r\n    @Bean\r\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\r\n\r\n        return args -&gt; {\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\r\n        };\r\n    }\r\n}\r\n```\r\nNow ,when i try to run the code in my main app\r\n\r\n```\r\npackage payrool;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\r\n@SpringBootApplication\r\npublic class NonrestApplication{\r\n\r\n\tpublic static void main(String... args) {\r\n\t\tSpringApplication.run(NonrestApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n i get the following error:\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;initDatabase&#39; defined in class path resource [payrool/LoadDatabase.class]: Unsatisfied dependency expressed through method &#39;initDatabase&#39; parameter 0: Error creating bean with name &#39;employeeRepository&#39; defined in payrool.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class payrool.Employee\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat payrool.NonrestApplication.main(NonrestApplication.java:11) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepository&#39; defined in payrool.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class payrool.Employee\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class payrool.Employee\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\t... 30 common frames omitted\r\n```\r\n\r\n\r\n\r\nI have tried anything but cant seem to figure it out.","title":"Why do i get this error when initializing Bean in SpringBoot?","body":"<p>I have to make follow and old tutorial from spring that initializes a rest service with spring ,the problem is since its from 8 years ago a lot has changed in the diffrent aspect of annotations.\nSo i have the folllowing code Employee.java:</p>\n<pre><code>package payrool;\n\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\nclass Employee {\n\n    private @Id @GeneratedValue Long id;\n    private String name;\n    private String role;\n\n    Employee() {}\n\n    Employee(String name, String role) {\n\n        this.name = name;\n        this.role = role;\n    }\n\n\n    @Override\n    public boolean equals(Object o) {\n\n        if (this == o)\n            return true;\n        if (!(o instanceof Employee))\n            return false;\n        Employee employee = (Employee) o;\n        return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\n                &amp;&amp; Objects.equals(this.role, employee.role);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.id, this.name, this.role);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name='&quot; + this.name + '\\'' + &quot;, role='&quot; + this.role + '\\'' + '}';\n    }\n}\n</code></pre>\n<p>And the repository for it EmployeeRepository.java:</p>\n<pre><code>package payrool;\n\nimport jakarta.persistence.Entity;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n\n</code></pre>\n<p>with the connection to database in LoadDatabase.java:</p>\n<pre><code>package payrool;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\nclass LoadDatabase {\n\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\n\n    @Bean\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\n\n        return args -&gt; {\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\n        };\n    }\n}\n</code></pre>\n<p>Now ,when i try to run the code in my main app</p>\n<pre><code>package payrool;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication\npublic class NonrestApplication{\n\n    public static void main(String... args) {\n        SpringApplication.run(NonrestApplication.class, args);\n    }\n}\n</code></pre>\n<p>i get the following error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'initDatabase' defined in class path resource [payrool/LoadDatabase.class]: Unsatisfied dependency expressed through method 'initDatabase' parameter 0: Error creating bean with name 'employeeRepository' defined in payrool.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class payrool.Employee\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\n    at payrool.NonrestApplication.main(NonrestApplication.java:11) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepository' defined in payrool.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class payrool.Employee\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class payrool.Employee\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 30 common frames omitted\n</code></pre>\n<p>I have tried anything but cant seem to figure it out.</p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway","keycloak-rest-api"],"owner":{"account_id":6915219,"reputation":313,"user_id":5309764,"accept_rate":57,"display_name":"Leon Csergity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674077443,"creation_date":1674034952,"question_id":75157225,"body_markdown":"In an existing system, that is a spring boot cloud gateway I&#39;m trying to switch out the code that generates the jwt tokens and manages users for Keycloak. \r\n\r\nI found the rest endpoints via this link https://www.baeldung.com/postman-keycloak-endpoints. And that all works fine. \r\n\r\nThe problem is I can&#39;t find for the life of mine if Keycloak has a client for that in their managed code? Or do I need to write a custom client for this? \r\nI can&#39;t really use the spring boot adapter because of the complexity of the already existing system. \r\n\r\nKind Regards,","title":"Accessing keycloak endpoints in a spring boot cloud service","body":"<p>In an existing system, that is a spring boot cloud gateway I'm trying to switch out the code that generates the jwt tokens and manages users for Keycloak.</p>\n<p>I found the rest endpoints via this link <a href=\"https://www.baeldung.com/postman-keycloak-endpoints\" rel=\"nofollow noreferrer\">https://www.baeldung.com/postman-keycloak-endpoints</a>. And that all works fine.</p>\n<p>The problem is I can't find for the life of mine if Keycloak has a client for that in their managed code? Or do I need to write a custom client for this?\nI can't really use the spring boot adapter because of the complexity of the already existing system.</p>\n<p>Kind Regards,</p>\n"},{"tags":["python","java","android","android-studio"],"owner":{"account_id":24429083,"reputation":1,"user_id":18354265,"display_name":"tester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674077269,"creation_date":1674077040,"question_id":75165438,"body_markdown":"I was referring to this github https://github.com/ahmedfgad/AndroidFlask and https://heartbeat.comet.ml/uploading-images-from-android-to-a-python-based-flask-server-691e4092a95e. I was unable to display the images into the remote destination from android emulator. I dont think the source code that they provide, do display images to the remote destination using flask.\r\n\r\nBelow is my github. It shows all the changes I have made.\r\nhttps://github.com/2100723/AndroidEmulator/tree/main. I have made changes to the flask_server.py and images_template.html which is located in the templates folder . I need in the image to display in the remote host.\r\n\r\nMy android emulator has managed to save my images from emulator in the file call static whenever  press connect to server &amp; upload [enter image description here](https://i.stack.imgur.com/gQmeQ.png). All I left is to send my image to a remote destination.\r\n\r\n#Flask_server.py\r\n\r\n    import flask\r\n    import werkzeug\r\n    import time\r\n    \r\n    app = flask.Flask(__name__, static_folder=&#39;static&#39;)\r\n    \r\n    @app.route(&#39;/&#39;, methods = [&#39;GET&#39;, &#39;POST&#39;])\r\n    def handle_request():\r\n        image_paths = []\r\n        files_ids = list(flask.request.files)\r\n        print(&quot;\\nNumber of Received Images : &quot;, len(files_ids))\r\n        image_num = 1\r\n        for file_id in files_ids:\r\n            print(&quot;\\nSaving Image &quot;, str(image_num), &quot;/&quot;, len(files_ids))\r\n            imagefile = flask.request.files[file_id]\r\n            filename = werkzeug.utils.secure_filename(imagefile.filename)\r\n            print(&quot;Image Filename : &quot; + imagefile.filename)\r\n            timestr = time.strftime(&quot;%Y%m%d-%H%M%S&quot;)\r\n            file_path = timestr+&#39;_&#39;+filename\r\n            imagefile.save(file_path)\r\n            image_paths.append(filename)\r\n            image_num = image_num + 1\r\n        print(&quot;\\n&quot;)\r\n        return flask.render_template(&#39;image_template.html&#39;, images=image_paths)\r\n    \r\n    app.run(host=&quot;0.0.0.0&quot;, port=5000, debug=True)\r\n\r\n#image_template.html\r\n\r\n    &lt;!doctype html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Image Gallery&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Image Gallery&lt;/h1&gt;\r\n        {% for image in images %}\r\n            &lt;img src=&quot;{{ url_for(&#39;static&#39;, filename=image) }}&quot; alt=&quot;image&quot; width=&quot;200&quot;&gt;\r\n        {% endfor %}\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI try changing my Flask_server.py code and adding image_template.html to make my code to display to the remote server using flask. Nothing is display in the remote destination using flask\r\n","title":"Android emulator how to display image to remote destination in flask","body":"<p>I was referring to this github <a href=\"https://github.com/ahmedfgad/AndroidFlask\" rel=\"nofollow noreferrer\">https://github.com/ahmedfgad/AndroidFlask</a> and <a href=\"https://heartbeat.comet.ml/uploading-images-from-android-to-a-python-based-flask-server-691e4092a95e\" rel=\"nofollow noreferrer\">https://heartbeat.comet.ml/uploading-images-from-android-to-a-python-based-flask-server-691e4092a95e</a>. I was unable to display the images into the remote destination from android emulator. I dont think the source code that they provide, do display images to the remote destination using flask.</p>\n<p>Below is my github. It shows all the changes I have made.\n<a href=\"https://github.com/2100723/AndroidEmulator/tree/main\" rel=\"nofollow noreferrer\">https://github.com/2100723/AndroidEmulator/tree/main</a>. I have made changes to the flask_server.py and images_template.html which is located in the templates folder . I need in the image to display in the remote host.</p>\n<p>My android emulator has managed to save my images from emulator in the file call static whenever  press connect to server &amp; upload <a href=\"https://i.stack.imgur.com/gQmeQ.png\" rel=\"nofollow noreferrer\">enter image description here</a>. All I left is to send my image to a remote destination.</p>\n<p>#Flask_server.py</p>\n<pre><code>import flask\nimport werkzeug\nimport time\n\napp = flask.Flask(__name__, static_folder='static')\n\n@app.route('/', methods = ['GET', 'POST'])\ndef handle_request():\n    image_paths = []\n    files_ids = list(flask.request.files)\n    print(&quot;\\nNumber of Received Images : &quot;, len(files_ids))\n    image_num = 1\n    for file_id in files_ids:\n        print(&quot;\\nSaving Image &quot;, str(image_num), &quot;/&quot;, len(files_ids))\n        imagefile = flask.request.files[file_id]\n        filename = werkzeug.utils.secure_filename(imagefile.filename)\n        print(&quot;Image Filename : &quot; + imagefile.filename)\n        timestr = time.strftime(&quot;%Y%m%d-%H%M%S&quot;)\n        file_path = timestr+'_'+filename\n        imagefile.save(file_path)\n        image_paths.append(filename)\n        image_num = image_num + 1\n    print(&quot;\\n&quot;)\n    return flask.render_template('image_template.html', images=image_paths)\n\napp.run(host=&quot;0.0.0.0&quot;, port=5000, debug=True)\n</code></pre>\n<p>#image_template.html</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Image Gallery&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Image Gallery&lt;/h1&gt;\n    {% for image in images %}\n        &lt;img src=&quot;{{ url_for('static', filename=image) }}&quot; alt=&quot;image&quot; width=&quot;200&quot;&gt;\n    {% endfor %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I try changing my Flask_server.py code and adding image_template.html to make my code to display to the remote server using flask. Nothing is display in the remote destination using flask</p>\n"},{"tags":["java","cassandra","jna"],"comments":[{"owner":{"account_id":8085762,"reputation":728,"user_id":6093375,"display_name":"Nikhil Bhide"},"score":0,"creation_date":1494861386,"post_id":43979497,"comment_id":74995336,"body_markdown":"can you provide classpath details? Also which version of Java are you using?","body":"can you provide classpath details? Also which version of Java are you using?"},{"owner":{"account_id":4309223,"reputation":863,"user_id":3520807,"accept_rate":33,"display_name":"chikku"},"score":0,"creation_date":1494870892,"post_id":43979497,"comment_id":75000981,"body_markdown":"Java version 1.8.0_45, I don&#39;t know about CLASS_PATH, how do I get it?","body":"Java version 1.8.0_45, I don&#39;t know about CLASS_PATH, how do I get it?"},{"owner":{"account_id":4309223,"reputation":863,"user_id":3520807,"accept_rate":33,"display_name":"chikku"},"score":0,"creation_date":1494871390,"post_id":43979497,"comment_id":75001231,"body_markdown":"/usr/share/cassandra is CLASSPATH","body":"/usr/share/cassandra is CLASSPATH"}],"answers":[{"tags":[],"owner":{"account_id":4309223,"reputation":863,"user_id":3520807,"accept_rate":33,"display_name":"chikku"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1494926603,"creation_date":1494926603,"answer_id":43997394,"question_id":43979497,"body_markdown":"Finally the problem with jna-4.0.0.jar.\r\n\r\nThe file jna-4.0.0.jar in lib is not initializing, so I changed the file by creating symbolic link to jna.jar.\r\n\r\n    sudo yum install jna\r\n    \r\n    sudo ln -s (JAVA_PATH)/usr/share/java/jna.jar (CASSANDRA_PATH)/usr/share/cassandra/lib\r\n\r\nThen It produced some errors regarding **tmp**, solved with previous solutions.\r\n\r\nRegarding JNA, there are already some questions over there, but those are not specific.\r\n","title":"Cassandra Could not initialize class com.sun.jna.Native","body":"<p>Finally the problem with jna-4.0.0.jar.</p>\n\n<p>The file jna-4.0.0.jar in lib is not initializing, so I changed the file by creating symbolic link to jna.jar.</p>\n\n<pre><code>sudo yum install jna\n\nsudo ln -s (JAVA_PATH)/usr/share/java/jna.jar (CASSANDRA_PATH)/usr/share/cassandra/lib\n</code></pre>\n\n<p>Then It produced some errors regarding <strong>tmp</strong>, solved with previous solutions.</p>\n\n<p>Regarding JNA, there are already some questions over there, but those are not specific.</p>\n"},{"tags":[],"owner":{"account_id":1509295,"reputation":3758,"user_id":1411812,"accept_rate":63,"display_name":"Vinod Jayachandran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501741086,"creation_date":1501741086,"answer_id":45476284,"question_id":43979497,"body_markdown":"I faced the same problem. Clean up (rm -rf *) of  the /tmp folder or the folder which &#39;-Djava.io.tmpdir&#39; points to","title":"Cassandra Could not initialize class com.sun.jna.Native","body":"<p>I faced the same problem. Clean up (rm -rf *) of  the /tmp folder or the folder which '-Djava.io.tmpdir' points to</p>\n"},{"tags":[],"owner":{"account_id":4292725,"reputation":379,"user_id":3508632,"display_name":"Richardhe2007"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530828180,"creation_date":1530828180,"answer_id":51200472,"question_id":43979497,"body_markdown":"After I upgraded Java, the Cassandra couldn&#39;t start. I fixed it by.\r\n\r\n1.\r\nmkdir -p /var/lib/cassandra/tmp\r\nchown cassandra:cassandra /var/lib/cassandra/tmp\r\n\r\n2.\r\nAdd below parameter to the end of the file &lt;cassandra&gt;/cassandra-env.sh\r\nJVM_OPTS=&quot;$JVM_OPTS -Djava.io.tmpdir=/var/lib/cassandra/tmp&quot;\r\n\r\nThen restarted Cassandra.\r\n","title":"Cassandra Could not initialize class com.sun.jna.Native","body":"<p>After I upgraded Java, the Cassandra couldn't start. I fixed it by.</p>\n\n<p>1.\nmkdir -p /var/lib/cassandra/tmp\nchown cassandra:cassandra /var/lib/cassandra/tmp</p>\n\n<p>2.\nAdd below parameter to the end of the file /cassandra-env.sh\nJVM_OPTS=\"$JVM_OPTS -Djava.io.tmpdir=/var/lib/cassandra/tmp\"</p>\n\n<p>Then restarted Cassandra.</p>\n"},{"tags":[],"owner":{"account_id":13572135,"reputation":44,"user_id":9790600,"display_name":"Jack Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674077218,"creation_date":1674076763,"answer_id":75165407,"question_id":43979497,"body_markdown":"For those of the future... \r\n\r\nI see the NoClassDefFound in the system.log file.\r\n\r\nI tried the tmp changes to no avail. Then I looked at\r\n```\r\nsudo journalctl -u cassandra.service\r\n```\r\nAnd I see\r\n```\r\n/etc/cassandra/cassandra-env.sh: Syntax error: Unterminated quoted string\r\n```\r\n\r\nSo that my be helpful to look at.","title":"Cassandra Could not initialize class com.sun.jna.Native","body":"<p>For those of the future...</p>\n<p>I see the NoClassDefFound in the system.log file.</p>\n<p>I tried the tmp changes to no avail. Then I looked at</p>\n<pre><code>sudo journalctl -u cassandra.service\n</code></pre>\n<p>And I see</p>\n<pre><code>/etc/cassandra/cassandra-env.sh: Syntax error: Unterminated quoted string\n</code></pre>\n<p>So that my be helpful to look at.</p>\n"}],"owner":{"account_id":4309223,"reputation":863,"user_id":3520807,"accept_rate":33,"display_name":"chikku"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8002,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43997394,"answer_count":4,"score":5,"last_activity_date":1674077218,"creation_date":1494851087,"question_id":43979497,"body_markdown":"I am having Cassandra version 3.9 on CentOS 7.\r\nWhile starting Cassandra Server, I&#39;m getting error like this::\r\n\r\n&gt; TRACE [MemtableFlushWriter:1] 2017-05-15 04:25:49,735 LogTransaction.java:264 - Closing transaction log [mc_txn_flush_3f6a46f0-3961-11e7-87b4-0728ea39fb0d.log in /var/lib/cassandra/data/system/local-7ad54392bcdd35a684174e047860b377]  \r\n&gt; ERROR [main] 2017-05-15 04:25:49,745 CassandraDaemon.java:747 -\r\n&gt; Exception encountered during startup java.lang.RuntimeException:\r\n&gt; java.util.concurrent.ExecutionException:\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class\r\n&gt; com.sun.jna.Native \tat\r\n&gt; org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:403)\r\n&gt; ~[apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.db.SystemKeyspace.forceBlockingFlush(SystemKeyspace.java:793)\r\n&gt; ~[apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.db.SystemKeyspace.removeTruncationRecord(SystemKeyspace.java:639)\r\n&gt; ~[apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.db.ColumnFamilyStore.invalidate(ColumnFamilyStore.java:541)\r\n&gt; ~[apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.db.ColumnFamilyStore.invalidate(ColumnFamilyStore.java:517)\r\n&gt; ~[apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.schema.LegacySchemaMigrator.lambda$unloadLegacySchemaTables$341(LegacySchemaMigrator.java:137)\r\n&gt; ~[apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.schema.LegacySchemaMigrator$$Lambda$93/1308179535.accept(Unknown\r\n&gt; Source) ~[na:na] \tat java.lang.Iterable.forEach(Iterable.java:75)\r\n&gt; ~[na:1.8.0_45] \tat\r\n&gt; org.apache.cassandra.schema.LegacySchemaMigrator.unloadLegacySchemaTables(LegacySchemaMigrator.java:137)\r\n&gt; ~[apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.schema.LegacySchemaMigrator.migrate(LegacySchemaMigrator.java:83)\r\n&gt; ~[apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:254)\r\n&gt; [apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:601)\r\n&gt; [apache-cassandra-3.9.0.jar:3.9.0] \tat\r\n&gt; org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:730)\r\n&gt; [apache-cassandra-3.9.0.jar:3.9.0]\r\n\r\nThere is a solution to this problem (https://stackoverflow.com/questions/40077441/cassandra-startup-failure-on-arm64-machine-java-lang-noclassdeffounderror-coul\r\n), Soultion suggests changes in **cassandra-env.sh**. I tried it but it is not working for me.\r\n\r\nI checked with these options (separately) in **cassandra-env.sh**\r\n\r\n    JVM_OPTS=&quot;$JVM_OPTS -Djava.io.tmpdir=/home/tech/cassandra/tmp&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -Djava.io.tmpdir=/home/cassandra/tmp&quot;\r\n    JVM_OPTS=&quot;$JVM_OPTS -Djava.io.tmpdir=/var/lib/cassandra/tmp&quot;\r\n\r\neven tried with\r\n\r\n    JVM_OPTS=&quot;$JVM_OPTS -Dcassandra.boot_without_jna=true&quot;\r\n\r\nBut no change in the problem.\r\n\r\nAnd I changed cassandra logger to TRACE, but it is showing the same error log as before there was no TRACE. The file(jna-4.0.0.jar) is present in lib folder (/usr/share/cassandra/lib). I am unable to find what the actual reason is.\r\n\r\nThe reasons for not working for me are like: \r\n\r\n1. cassandra-env.sh is loaded by server. (If it loading how do I check, whether it is loaded or not)\r\n\r\n2. There might be some other problem.\r\n\r\nSomeone, Please let me out from this.\r\n\r\n","title":"Cassandra Could not initialize class com.sun.jna.Native","body":"<p>I am having Cassandra version 3.9 on CentOS 7.\nWhile starting Cassandra Server, I'm getting error like this::</p>\n\n<blockquote>\n  <p>TRACE [MemtableFlushWriter:1] 2017-05-15 04:25:49,735 LogTransaction.java:264 - Closing transaction log [mc_txn_flush_3f6a46f0-3961-11e7-87b4-0728ea39fb0d.log in /var/lib/cassandra/data/system/local-7ad54392bcdd35a684174e047860b377]<br>\n  ERROR [main] 2017-05-15 04:25:49,745 CassandraDaemon.java:747 -\n  Exception encountered during startup java.lang.RuntimeException:\n  java.util.concurrent.ExecutionException:\n  java.lang.NoClassDefFoundError: Could not initialize class\n  com.sun.jna.Native    at\n  org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:403)\n  ~[apache-cassandra-3.9.0.jar:3.9.0]   at\n  org.apache.cassandra.db.SystemKeyspace.forceBlockingFlush(SystemKeyspace.java:793)\n  ~[apache-cassandra-3.9.0.jar:3.9.0]   at\n  org.apache.cassandra.db.SystemKeyspace.removeTruncationRecord(SystemKeyspace.java:639)\n  ~[apache-cassandra-3.9.0.jar:3.9.0]   at\n  org.apache.cassandra.db.ColumnFamilyStore.invalidate(ColumnFamilyStore.java:541)\n  ~[apache-cassandra-3.9.0.jar:3.9.0]   at\n  org.apache.cassandra.db.ColumnFamilyStore.invalidate(ColumnFamilyStore.java:517)\n  ~[apache-cassandra-3.9.0.jar:3.9.0]   at\n  org.apache.cassandra.schema.LegacySchemaMigrator.lambda$unloadLegacySchemaTables$341(LegacySchemaMigrator.java:137)\n  ~[apache-cassandra-3.9.0.jar:3.9.0]   at\n  org.apache.cassandra.schema.LegacySchemaMigrator$$Lambda$93/1308179535.accept(Unknown\n  Source) ~[na:na]  at java.lang.Iterable.forEach(Iterable.java:75)\n  ~[na:1.8.0_45]    at\n  org.apache.cassandra.schema.LegacySchemaMigrator.unloadLegacySchemaTables(LegacySchemaMigrator.java:137)\n  ~[apache-cassandra-3.9.0.jar:3.9.0]   at\n  org.apache.cassandra.schema.LegacySchemaMigrator.migrate(LegacySchemaMigrator.java:83)\n  ~[apache-cassandra-3.9.0.jar:3.9.0]   at\n  org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:254)\n  [apache-cassandra-3.9.0.jar:3.9.0]    at\n  org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:601)\n  [apache-cassandra-3.9.0.jar:3.9.0]    at\n  org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:730)\n  [apache-cassandra-3.9.0.jar:3.9.0]</p>\n</blockquote>\n\n<p>There is a solution to this problem (<a href=\"https://stackoverflow.com/questions/40077441/cassandra-startup-failure-on-arm64-machine-java-lang-noclassdeffounderror-coul\">Cassandra Startup failure on ARM64 machine (java.lang.NoClassDefFoundError: Could not initialize class com.sun.jna.Native)</a>\n), Soultion suggests changes in <strong>cassandra-env.sh</strong>. I tried it but it is not working for me.</p>\n\n<p>I checked with these options (separately) in <strong>cassandra-env.sh</strong></p>\n\n<pre><code>JVM_OPTS=\"$JVM_OPTS -Djava.io.tmpdir=/home/tech/cassandra/tmp\"\nJVM_OPTS=\"$JVM_OPTS -Djava.io.tmpdir=/home/cassandra/tmp\"\nJVM_OPTS=\"$JVM_OPTS -Djava.io.tmpdir=/var/lib/cassandra/tmp\"\n</code></pre>\n\n<p>even tried with</p>\n\n<pre><code>JVM_OPTS=\"$JVM_OPTS -Dcassandra.boot_without_jna=true\"\n</code></pre>\n\n<p>But no change in the problem.</p>\n\n<p>And I changed cassandra logger to TRACE, but it is showing the same error log as before there was no TRACE. The file(jna-4.0.0.jar) is present in lib folder (/usr/share/cassandra/lib). I am unable to find what the actual reason is.</p>\n\n<p>The reasons for not working for me are like: </p>\n\n<ol>\n<li><p>cassandra-env.sh is loaded by server. (If it loading how do I check, whether it is loaded or not)</p></li>\n<li><p>There might be some other problem.</p></li>\n</ol>\n\n<p>Someone, Please let me out from this.</p>\n"},{"tags":["java","html","file-upload","applet"],"comments":[{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":0,"creation_date":1382997678,"post_id":19645836,"comment_id":29170727,"body_markdown":"nope html 5 is the latest , it rules","body":"nope html 5 is the latest , it rules"},{"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"score":0,"creation_date":1382998737,"post_id":19645836,"comment_id":29171139,"body_markdown":"Maybe I&#39;m missreading this, but you can do this with html4.  Or 3. probably 2&amp;1.  HTML Forms enables file uploads.","body":"Maybe I&#39;m missreading this, but you can do this with html4.  Or 3. probably 2&amp;1.  HTML Forms enables file uploads."},{"owner":{"account_id":2822572,"reputation":151,"user_id":2425988,"accept_rate":44,"display_name":"ViniciusPaiva"},"score":0,"creation_date":1382999043,"post_id":19645836,"comment_id":29171242,"body_markdown":"Sorry if I couldn&#39;t be clearer. I know that forms enables file uploads. But I don&#39;t want that, I was talking about a simpler and faster way to upload files. I want to user to think that &quot;using the word&quot; (for example) is part of my web application. And changes that he does, are automatically uploaded.","body":"Sorry if I couldn&#39;t be clearer. I know that forms enables file uploads. But I don&#39;t want that, I was talking about a simpler and faster way to upload files. I want to user to think that &quot;using the word&quot; (for example) is part of my web application. And changes that he does, are automatically uploaded."}],"answers":[{"comments":[{"owner":{"account_id":2822572,"reputation":151,"user_id":2425988,"accept_rate":44,"display_name":"ViniciusPaiva"},"score":0,"creation_date":1383000416,"post_id":19646291,"comment_id":29171778,"body_markdown":"Is there a third party easy solution for edit word files, for example? I know about Word Web App (http://office.microsoft.com/en-001/web-apps-help/introduction-to-word-web-app-HA010378341.aspx) but it requires the file to be on SkyDrive or SharePoint. And the file is stored in the server of my web application, not on the cloud.","body":"Is there a third party easy solution for edit word files, for example? I know about Word Web App (<a href=\"http://office.microsoft.com/en-001/web-apps-help/introduction-to-word-web-app-HA010378341.aspx\" rel=\"nofollow noreferrer\">office.microsoft.com/en-001/web-apps-help/&hellip;</a>) but it requires the file to be on SkyDrive or SharePoint. And the file is stored in the server of my web application, not on the cloud."},{"owner":{"account_id":2676102,"reputation":1582,"user_id":2312497,"display_name":"regulus"},"score":0,"creation_date":1383003741,"post_id":19646291,"comment_id":29172867,"body_markdown":"Every solution I know requires the file to be on their cloud storage (Google, MS, Zoho). A solution might be using a online html editor, capturing user input as html and saving it as a file but renaming the extension to doc. It can be edited in MS Word if the file extension is doc even if the content is html.","body":"Every solution I know requires the file to be on their cloud storage (Google, MS, Zoho). A solution might be using a online html editor, capturing user input as html and saving it as a file but renaming the extension to doc. It can be edited in MS Word if the file extension is doc even if the content is html."}],"tags":[],"owner":{"account_id":2676102,"reputation":1582,"user_id":2312497,"display_name":"regulus"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1383003183,"creation_date":1382999543,"answer_id":19646291,"question_id":19645836,"body_markdown":"You can&#39;t upload files without user interaction in HTML even if you try HTML5. That&#39;s against web fundemantals. The user has to trigger the file upload in a way, drag&amp;drop, browse and select file, etc.\r\nSigned applets might be a better solution than a desktop application because of the pain of the deployment.\r\nIf this file that you want your users to edit is just text based, I suggesst using an HTML based editor like Google does it for Google Docs.","title":"Download file, open it locally, edit and then upload","body":"<p>You can't upload files without user interaction in HTML even if you try HTML5. That's against web fundemantals. The user has to trigger the file upload in a way, drag&amp;drop, browse and select file, etc.\nSigned applets might be a better solution than a desktop application because of the pain of the deployment.\nIf this file that you want your users to edit is just text based, I suggesst using an HTML based editor like Google does it for Google Docs.</p>\n"}],"owner":{"account_id":2822572,"reputation":151,"user_id":2425988,"accept_rate":44,"display_name":"ViniciusPaiva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":19646291,"answer_count":1,"score":4,"last_activity_date":1674076965,"creation_date":1382997480,"question_id":19645836,"body_markdown":"I have a web application that let users download files normally, and then later they can upload them using a simple upload mechanism (choose the files from directory and stuff).\r\n\r\nHere&#39;s what I want to do: to have and &quot;EDIT&quot; button on my app, that download the file and open it automatically from the user&#39;s local drive. Then I want to check if there are changes, to upload it back to the server. Or, provide a way to the user upload it easily.\r\n\r\nThe options I&#39;ve come so far, are:\r\n\r\n - Signed Applets\r\n\r\nI find applets slow and &quot;ugly&quot;. But it&#39;s the winning choice so far. It could download and open the file easily and then have an upload button, to put the file back on the server.\r\n\r\n - HTML 5 (File API)\r\n\r\nI started looking into this and liked what I saw. But a lot of things that I saw are for local uploads, drag and drop and this kind of stuff. I&#39;m very new to this technology and I simple don&#39;t know if it&#39;s doable.\r\n\r\n - A desktop application\r\n\r\nI don&#39;t like this one but it&#39;s still on the table. It could one that monitors a directory created by an applet (here it&#39;s again), check if there are changes and then upload it back to the server.\r\n\r\n&lt;br&gt;\r\nCan someone provide me some help? If a can do something like that with HTML 5 or if there&#39;s a better solution.\r\n ","title":"Download file, open it locally, edit and then upload","body":"<p>I have a web application that let users download files normally, and then later they can upload them using a simple upload mechanism (choose the files from directory and stuff).</p>\n\n<p>Here's what I want to do: to have and \"EDIT\" button on my app, that download the file and open it automatically from the user's local drive. Then I want to check if there are changes, to upload it back to the server. Or, provide a way to the user upload it easily.</p>\n\n<p>The options I've come so far, are:</p>\n\n<ul>\n<li>Signed Applets</li>\n</ul>\n\n<p>I find applets slow and \"ugly\". But it's the winning choice so far. It could download and open the file easily and then have an upload button, to put the file back on the server.</p>\n\n<ul>\n<li>HTML 5 (File API)</li>\n</ul>\n\n<p>I started looking into this and liked what I saw. But a lot of things that I saw are for local uploads, drag and drop and this kind of stuff. I'm very new to this technology and I simple don't know if it's doable.</p>\n\n<ul>\n<li>A desktop application</li>\n</ul>\n\n<p>I don't like this one but it's still on the table. It could one that monitors a directory created by an applet (here it's again), check if there are changes and then upload it back to the server.</p>\n\n<p><br>\nCan someone provide me some help? If a can do something like that with HTML 5 or if there's a better solution.</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"answers":[{"comments":[{"owner":{"account_id":11354885,"reputation":35,"user_id":8324785,"display_name":"Akshay Sumbe"},"score":0,"creation_date":1674094987,"post_id":75163319,"comment_id":132643821,"body_markdown":"Thanks @Jonasz for clarifying my doubt! Is it advisable to write test cases for all three layers of the application i.e. Controller, Service &amp; Repository?","body":"Thanks @Jonasz for clarifying my doubt! Is it advisable to write test cases for all three layers of the application i.e. Controller, Service &amp; Repository?"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1674107435,"post_id":75163319,"comment_id":132645332,"body_markdown":"Honestly, that&#39;s a matter for a whole different question and not one you&#39;d get a simple answer to. If you already have a layered architecture, it would be advisable to test it, and in such case tests for each layer are the way to go, yet I&#39;d omit the tests for trivial cases as they&#39;re non-constructive (e.g. Service method only calling a similar Repository method). For the future I&#39;d recommend reading about hexagonal vs layered architecture and domain driven design. If you consider my answer helpful, I&#39;d be grateful for accepting it :) Thanks and have a nice day!","body":"Honestly, that&#39;s a matter for a whole different question and not one you&#39;d get a simple answer to. If you already have a layered architecture, it would be advisable to test it, and in such case tests for each layer are the way to go, yet I&#39;d omit the tests for trivial cases as they&#39;re non-constructive (e.g. Service method only calling a similar Repository method). For the future I&#39;d recommend reading about hexagonal vs layered architecture and domain driven design. If you consider my answer helpful, I&#39;d be grateful for accepting it :) Thanks and have a nice day!"}],"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674076136,"creation_date":1674064328,"answer_id":75163319,"question_id":75162635,"body_markdown":"The difference between `@Mock` and `@MockBean` is simply the fact that `@MockBean` annotates an object, which is injected into the Spring context and used as a bean in the test, and is also a mock. `@MockBean` extends the functionality of `@Mock`, which is not related to the Spring framework.\r\n\r\nThe test of your `Service` has **nothing to do with Spring** whatsoever - you can verify that simply by looking at the imports of the class. There is not a single import from the `org.springframework` package. Using `@Mock` here is perfectly fine on its own. Combination of `MockitoExtension` and `@InjectMocks` takes care of the mocks&#39; lifecycle. The mock instance is created and injected into the test subject (`consumerService`). Spring context is not created.\r\n\r\nIn case of the `Controller` test, you&#39;re using Spring-related classes, especially `MockMvc` and `@WebMvcTest` - the first is injected automatically thanks to the latter and `@WebMvcTest` sets up the **Spring context for web layer handling**. Controller classes are scanned and beans are created, thanks to which the requests performed on `MockMvc` can access the endpoints. The important part here is that other components (layers) are not scanned and injected automatically. That&#39;s the reason the error states:\r\n\r\n&gt; Error creating bean with name &#39;consumerController&#39;: Unsatisfied dependency (...)\r\n\r\nSpring tries to create the controller bean, but the service bean cannot be found. `@MockBean` notifies Spring that the mock should be created and used as a bean. That&#39;s why the test with this annotation works - Spring context can be properly created and the beans can be injected. Some of them (the service) as mocks.\r\n\r\nFor more information see the description and examples in: [Testing the Web Layer in Spring docs][1].\r\n\r\nAdditionally, [here][2] you can find an example of a spy bean created programmatically using `@TestConfiguration`. That&#39;s similar to using `@SpyBean` annotation, but can help in some more complicated cases and it&#39;s worth noting here. To simplify: `@TestConfiguration` and `mock` work similar to `@MockBean`, which makes Spring tests configuration easier.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/testing-web\r\n  [2]: https://github.com/Jonarzz/personal-restaurants-knowledge-base/blob/5da49cf4a8d5eb40ca9eaa468d421f4c2c2bc924/restaurants-knowledge-web/src/test/java/io/github/jonarzz/restaurant/knowledge/domain/RestaurantDynamoDbCacheTest.java#L67","title":"@Mock results in exception but @MockBean works in spring boot application","body":"<p>The difference between <code>@Mock</code> and <code>@MockBean</code> is simply the fact that <code>@MockBean</code> annotates an object, which is injected into the Spring context and used as a bean in the test, and is also a mock. <code>@MockBean</code> extends the functionality of <code>@Mock</code>, which is not related to the Spring framework.</p>\n<p>The test of your <code>Service</code> has <strong>nothing to do with Spring</strong> whatsoever - you can verify that simply by looking at the imports of the class. There is not a single import from the <code>org.springframework</code> package. Using <code>@Mock</code> here is perfectly fine on its own. Combination of <code>MockitoExtension</code> and <code>@InjectMocks</code> takes care of the mocks' lifecycle. The mock instance is created and injected into the test subject (<code>consumerService</code>). Spring context is not created.</p>\n<p>In case of the <code>Controller</code> test, you're using Spring-related classes, especially <code>MockMvc</code> and <code>@WebMvcTest</code> - the first is injected automatically thanks to the latter and <code>@WebMvcTest</code> sets up the <strong>Spring context for web layer handling</strong>. Controller classes are scanned and beans are created, thanks to which the requests performed on <code>MockMvc</code> can access the endpoints. The important part here is that other components (layers) are not scanned and injected automatically. That's the reason the error states:</p>\n<blockquote>\n<p>Error creating bean with name 'consumerController': Unsatisfied dependency (...)</p>\n</blockquote>\n<p>Spring tries to create the controller bean, but the service bean cannot be found. <code>@MockBean</code> notifies Spring that the mock should be created and used as a bean. That's why the test with this annotation works - Spring context can be properly created and the beans can be injected. Some of them (the service) as mocks.</p>\n<p>For more information see the description and examples in: <a href=\"https://spring.io/guides/gs/testing-web\" rel=\"nofollow noreferrer\">Testing the Web Layer in Spring docs</a>.</p>\n<p>Additionally, <a href=\"https://github.com/Jonarzz/personal-restaurants-knowledge-base/blob/5da49cf4a8d5eb40ca9eaa468d421f4c2c2bc924/restaurants-knowledge-web/src/test/java/io/github/jonarzz/restaurant/knowledge/domain/RestaurantDynamoDbCacheTest.java#L67\" rel=\"nofollow noreferrer\">here</a> you can find an example of a spy bean created programmatically using <code>@TestConfiguration</code>. That's similar to using <code>@SpyBean</code> annotation, but can help in some more complicated cases and it's worth noting here. To simplify: <code>@TestConfiguration</code> and <code>mock</code> work similar to <code>@MockBean</code>, which makes Spring tests configuration easier.</p>\n"}],"owner":{"account_id":11354885,"reputation":35,"user_id":8324785,"display_name":"Akshay Sumbe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1858,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75163319,"answer_count":1,"score":2,"last_activity_date":1674076136,"creation_date":1674060728,"question_id":75162635,"body_markdown":"I&#39;m learning to write test cases for controller layer in a spring boot application. I&#39;ve used @Mock to mock the repository interface in service layer test case and it worked/ compiled &amp; test case got executed. In controller layer test case @Mock is resulting in exception but @MockBean works.\r\n\r\nI tried to understand the difference between @Mock &amp; @MockBean from other resources, but expecting more clarity why @Mock works in service tests but does not work in controller tests.\r\n\r\nPlease refer my code -\r\n\r\n1. Entity\r\n\r\n   ```\r\n   package com.learning.microservices.userservice.model;\r\n   \r\n   import lombok.AllArgsConstructor;\r\n   import lombok.Builder;\r\n   import lombok.Data;\r\n   import lombok.NoArgsConstructor;\r\n   import org.springframework.data.annotation.Id;\r\n   import org.springframework.data.mongodb.core.mapping.Document;\r\n   \r\n   @Data\r\n   @Builder\r\n   @NoArgsConstructor\r\n   @AllArgsConstructor\r\n   @Document(collection = &quot;Consumer&quot;)\r\n   public class Consumer {\r\n       @Id\r\n       private Long consumerId;\r\n       private String consumerName;\r\n       private String emailAddress;\r\n   }\r\n   ```\r\n\r\n2. Repository\r\n\r\n   ```\r\n   package com.learning.microservices.userservice.repository;\r\n   \r\n   import com.learning.microservices.userservice.model.Consumer;\r\n   import org.springframework.data.mongodb.repository.MongoRepository;\r\n   import org.springframework.stereotype.Repository;\r\n   \r\n   @Repository\r\n   public interface ConsumerRepository extends MongoRepository&lt;Consumer, Long&gt; {\r\n   }\r\n   ```\r\n\r\n3. Service\r\n\r\n   1. Interface\r\n\r\n      ```\r\n      package com.learning.microservices.userservice.Service;\r\n      \r\n      import com.learning.microservices.userservice.model.Consumer;\r\n      \r\n      public interface ConsumerService {\r\n          public Consumer saveConsumer(Consumer consumer);\r\n      }\r\n      ```\r\n\r\n   2. Implementation\r\n\r\n      ```\r\n      package com.learning.microservices.userservice.Service;\r\n      \r\n      import com.learning.microservices.userservice.model.Consumer;\r\n      import com.learning.microservices.userservice.repository.ConsumerRepository;\r\n      import org.springframework.beans.factory.annotation.Autowired;\r\n      import org.springframework.stereotype.Service;\r\n      \r\n      @Service\r\n      public class ConsumerServiceImpl implements ConsumerService {\r\n          @Autowired\r\n          ConsumerRepository consumerRepository;\r\n      \r\n          public Consumer saveConsumer(Consumer consumer){\r\n              if (consumerRepository.findById(consumer.getConsumerId()).isPresent())\r\n                  throw new RuntimeException(&quot;Consumer already exists&quot;);//should return 409\r\n              return consumerRepository.save(consumer);\r\n          }\r\n      }\r\n      ```\r\n\r\n4. Controller\r\n\r\n   ```\r\n   package com.learning.microservices.userservice.controller;\r\n   \r\n   import com.learning.microservices.userservice.Service.ConsumerService;\r\n   import com.learning.microservices.userservice.model.Consumer;\r\n   import org.springframework.beans.factory.annotation.Autowired;\r\n   import org.springframework.http.ResponseEntity;\r\n   import org.springframework.web.bind.annotation.PostMapping;\r\n   import org.springframework.web.bind.annotation.RequestBody;\r\n   import org.springframework.web.bind.annotation.RequestMapping;\r\n   import org.springframework.web.bind.annotation.RestController;\r\n   import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n   \r\n   import java.net.URI;\r\n   \r\n   @RestController\r\n   @RequestMapping(&quot;/consumers&quot;)\r\n   public class ConsumerController {\r\n   \r\n       @Autowired\r\n       ConsumerService consumerService;\r\n   \r\n       @PostMapping\r\n       public ResponseEntity&lt;Consumer&gt; saveConsumer(@RequestBody Consumer consumer) {\r\n           Consumer savedConsumer = consumerService.saveConsumer(consumer);\r\n           URI consumerLocation = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{consumerId}&quot;).buildAndExpand(savedConsumer.getConsumerId()).toUri();\r\n           return ResponseEntity.created(consumerLocation).build();\r\n       }\r\n   \r\n   }\r\n   ```\r\n\r\n5. Test Cases\r\n\r\n   1. Service\r\n\r\n      ```\r\n      package com.learning.microservices.userservice.Service;\r\n      \r\n      import com.learning.microservices.userservice.model.Consumer;\r\n      import com.learning.microservices.userservice.repository.ConsumerRepository;\r\n      import org.junit.jupiter.api.AfterEach;\r\n      import org.junit.jupiter.api.BeforeEach;\r\n      import org.junit.jupiter.api.Test;\r\n      import org.junit.jupiter.api.extension.ExtendWith;\r\n      import org.mockito.InjectMocks;\r\n      import org.mockito.Mock;\r\n      import org.mockito.junit.jupiter.MockitoExtension;\r\n      \r\n      import java.util.Optional;\r\n      \r\n      import static org.assertj.core.api.Assertions.assertThat;\r\n      import static org.mockito.BDDMockito.given;\r\n      \r\n      @ExtendWith(MockitoExtension.class)\r\n      class ConsumerServiceImplTest {\r\n      \r\n          @Mock\r\n          private ConsumerRepository consumerRepository;\r\n      \r\n          @InjectMocks\r\n          private ConsumerServiceImpl consumerService;\r\n      \r\n          private Consumer consumer;\r\n      \r\n          @BeforeEach\r\n          public void setUp() {\r\n              consumer = Consumer.builder()\r\n                      .consumerId(1L)\r\n                      .consumerName(&quot;Test Consumer&quot;)\r\n                      .emailAddress(&quot;test.consumer@test.com&quot;)\r\n                      .build();\r\n          }\r\n      \r\n          @AfterEach\r\n          public void tearDown() {\r\n              consumer = null;\r\n          }\r\n          @Test\r\n          void saveConsumer() {\r\n              given(consumerRepository.findById(consumer.getConsumerId())).willReturn(Optional.empty());\r\n              given(consumerService.saveConsumer(consumer)).willReturn(consumer);\r\n              Consumer savedConsumer = consumerService.saveConsumer(consumer);\r\n              assertThat(savedConsumer).isNotNull();\r\n          }\r\n      \r\n      }\r\n      ```\r\n\r\n   2. Controller\r\n\r\n      ```\r\n      package com.learning.microservices.userservice.controller;\r\n      \r\n      import com.fasterxml.jackson.databind.ObjectMapper;\r\n      import com.learning.microservices.userservice.Service.ConsumerServiceImpl;\r\n      import com.learning.microservices.userservice.model.Consumer;\r\n      import org.junit.jupiter.api.AfterEach;\r\n      import org.junit.jupiter.api.BeforeEach;\r\n      import org.junit.jupiter.api.Test;\r\n      import org.mockito.InjectMocks;\r\n      import org.mockito.Mock;\r\n      import org.springframework.beans.factory.annotation.Autowired;\r\n      import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n      import org.springframework.http.MediaType;\r\n      import org.springframework.test.web.servlet.MockMvc;\r\n      import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n      import org.springframework.test.web.servlet.result.MockMvcResultMatchers;\r\n      \r\n      import java.nio.charset.StandardCharsets;\r\n      \r\n      import static org.mockito.BDDMockito.given;\r\n      \r\n      @WebMvcTest\r\n      class ConsumerControllerTest {\r\n      \r\n          private ObjectMapper objectMapper;\r\n          private Consumer consumer;\r\n      \r\n          @Autowired\r\n          private MockMvc mockMvc;\r\n      \r\n          @Mock\r\n          private ConsumerServiceImpl consumerService;\r\n      \r\n          @InjectMocks\r\n          private ConsumerController consumerController;\r\n      \r\n      \r\n          @BeforeEach\r\n          public void setUp() {\r\n              consumer = Consumer.builder()\r\n                      .consumerId(1L)\r\n                      .consumerName(&quot;Test Consumer&quot;)\r\n                      .emailAddress(&quot;test.consumer@test.com&quot;)\r\n                      .build();\r\n              objectMapper = new ObjectMapper();\r\n          }\r\n      \r\n          @AfterEach\r\n          public void tearDown() {\r\n              consumer = null;\r\n              objectMapper = null;\r\n          }\r\n      \r\n          @Test\r\n          void saveConsumer() throws Exception {\r\n              given(consumerService.saveConsumer(consumer)).willReturn(consumer);\r\n              mockMvc.perform(MockMvcRequestBuilders.post(&quot;/consumers&quot;)\r\n                      .contentType(MediaType.APPLICATION_JSON)\r\n                      .content(objectMapper.writeValueAsString(consumer))\r\n                      .characterEncoding(StandardCharsets.UTF_8)\r\n              )\r\n              .andExpect(MockMvcResultMatchers.status().isCreated());\r\n          }\r\n      }\r\n      ```\r\n\r\n   3. Exception logs\r\n\r\n      ```\r\n      java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5f8a02cf testClass = com.learning.microservices.userservice.controller.ConsumerControllerTest, locations = [], classes = [com.learning.microservices.userservice.UserServiceApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@26d5a317 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2034b64c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7161d8d1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@d737b89, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@234914f5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e322556a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2ab4bc72, org.springframework.boot.test.context.SpringBootTestAnnotation@4ddbcfe0], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n      \r\n      \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\r\n      \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n      \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\r\n      \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\r\n      \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n      \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n      \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n      \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n      \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n      \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n      \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n      \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n      \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n      \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n      \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n      \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n      \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n      \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n      \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n      \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n      \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n      \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n      \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n      \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n      \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n      \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n      \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n      \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n      \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n      \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n      \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n      \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n      \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n      \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n      \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n      \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n      \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n      \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n      \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n      \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n      \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n      \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n      \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n      \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n      \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n      \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n      \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n      \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n      \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n      \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n      \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n      \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n      \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n      \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n      \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n      \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n      \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n      \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n      \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n      \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n      \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n      Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;consumerController&#39;: Unsatisfied dependency expressed through field &#39;consumerService&#39;: No qualifying bean of type &#39;com.learning.microservices.userservice.Service.ConsumerService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n      \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\r\n      \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\r\n      \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)\r\n      \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\r\n      \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\r\n      \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n      \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n      \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n      \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n      \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n      \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n      \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\r\n      \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\r\n      \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n      \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n      \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n      \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n      \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n      \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n      \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n      \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\r\n      \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\r\n      \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n      \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n      \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n      \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n      \t... 72 more\r\n      Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.learning.microservices.userservice.Service.ConsumerService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n      \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812)\r\n      \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371)\r\n      \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n      \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\r\n      \t... 97 more\r\n      ```","title":"@Mock results in exception but @MockBean works in spring boot application","body":"<p>I'm learning to write test cases for controller layer in a spring boot application. I've used @Mock to mock the repository interface in service layer test case and it worked/ compiled &amp; test case got executed. In controller layer test case @Mock is resulting in exception but @MockBean works.</p>\n<p>I tried to understand the difference between @Mock &amp; @MockBean from other resources, but expecting more clarity why @Mock works in service tests but does not work in controller tests.</p>\n<p>Please refer my code -</p>\n<ol>\n<li><p>Entity</p>\n<pre><code>package com.learning.microservices.userservice.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(collection = &quot;Consumer&quot;)\npublic class Consumer {\n    @Id\n    private Long consumerId;\n    private String consumerName;\n    private String emailAddress;\n}\n</code></pre>\n</li>\n<li><p>Repository</p>\n<pre><code>package com.learning.microservices.userservice.repository;\n\nimport com.learning.microservices.userservice.model.Consumer;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ConsumerRepository extends MongoRepository&lt;Consumer, Long&gt; {\n}\n</code></pre>\n</li>\n<li><p>Service</p>\n<ol>\n<li><p>Interface</p>\n<pre><code>package com.learning.microservices.userservice.Service;\n\nimport com.learning.microservices.userservice.model.Consumer;\n\npublic interface ConsumerService {\n    public Consumer saveConsumer(Consumer consumer);\n}\n</code></pre>\n</li>\n<li><p>Implementation</p>\n<pre><code>package com.learning.microservices.userservice.Service;\n\nimport com.learning.microservices.userservice.model.Consumer;\nimport com.learning.microservices.userservice.repository.ConsumerRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class ConsumerServiceImpl implements ConsumerService {\n    @Autowired\n    ConsumerRepository consumerRepository;\n\n    public Consumer saveConsumer(Consumer consumer){\n        if (consumerRepository.findById(consumer.getConsumerId()).isPresent())\n            throw new RuntimeException(&quot;Consumer already exists&quot;);//should return 409\n        return consumerRepository.save(consumer);\n    }\n}\n</code></pre>\n</li>\n</ol>\n</li>\n<li><p>Controller</p>\n<pre><code>package com.learning.microservices.userservice.controller;\n\nimport com.learning.microservices.userservice.Service.ConsumerService;\nimport com.learning.microservices.userservice.model.Consumer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\nimport java.net.URI;\n\n@RestController\n@RequestMapping(&quot;/consumers&quot;)\npublic class ConsumerController {\n\n    @Autowired\n    ConsumerService consumerService;\n\n    @PostMapping\n    public ResponseEntity&lt;Consumer&gt; saveConsumer(@RequestBody Consumer consumer) {\n        Consumer savedConsumer = consumerService.saveConsumer(consumer);\n        URI consumerLocation = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{consumerId}&quot;).buildAndExpand(savedConsumer.getConsumerId()).toUri();\n        return ResponseEntity.created(consumerLocation).build();\n    }\n\n}\n</code></pre>\n</li>\n<li><p>Test Cases</p>\n<ol>\n<li><p>Service</p>\n<pre><code>package com.learning.microservices.userservice.Service;\n\nimport com.learning.microservices.userservice.model.Consumer;\nimport com.learning.microservices.userservice.repository.ConsumerRepository;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.Optional;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.BDDMockito.given;\n\n@ExtendWith(MockitoExtension.class)\nclass ConsumerServiceImplTest {\n\n    @Mock\n    private ConsumerRepository consumerRepository;\n\n    @InjectMocks\n    private ConsumerServiceImpl consumerService;\n\n    private Consumer consumer;\n\n    @BeforeEach\n    public void setUp() {\n        consumer = Consumer.builder()\n                .consumerId(1L)\n                .consumerName(&quot;Test Consumer&quot;)\n                .emailAddress(&quot;test.consumer@test.com&quot;)\n                .build();\n    }\n\n    @AfterEach\n    public void tearDown() {\n        consumer = null;\n    }\n    @Test\n    void saveConsumer() {\n        given(consumerRepository.findById(consumer.getConsumerId())).willReturn(Optional.empty());\n        given(consumerService.saveConsumer(consumer)).willReturn(consumer);\n        Consumer savedConsumer = consumerService.saveConsumer(consumer);\n        assertThat(savedConsumer).isNotNull();\n    }\n\n}\n</code></pre>\n</li>\n<li><p>Controller</p>\n<pre><code>package com.learning.microservices.userservice.controller;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.learning.microservices.userservice.Service.ConsumerServiceImpl;\nimport com.learning.microservices.userservice.model.Consumer;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\n\nimport java.nio.charset.StandardCharsets;\n\nimport static org.mockito.BDDMockito.given;\n\n@WebMvcTest\nclass ConsumerControllerTest {\n\n    private ObjectMapper objectMapper;\n    private Consumer consumer;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Mock\n    private ConsumerServiceImpl consumerService;\n\n    @InjectMocks\n    private ConsumerController consumerController;\n\n\n    @BeforeEach\n    public void setUp() {\n        consumer = Consumer.builder()\n                .consumerId(1L)\n                .consumerName(&quot;Test Consumer&quot;)\n                .emailAddress(&quot;test.consumer@test.com&quot;)\n                .build();\n        objectMapper = new ObjectMapper();\n    }\n\n    @AfterEach\n    public void tearDown() {\n        consumer = null;\n        objectMapper = null;\n    }\n\n    @Test\n    void saveConsumer() throws Exception {\n        given(consumerService.saveConsumer(consumer)).willReturn(consumer);\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/consumers&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(consumer))\n                .characterEncoding(StandardCharsets.UTF_8)\n        )\n        .andExpect(MockMvcResultMatchers.status().isCreated());\n    }\n}\n</code></pre>\n</li>\n<li><p>Exception logs</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5f8a02cf testClass = com.learning.microservices.userservice.controller.ConsumerControllerTest, locations = [], classes = [com.learning.microservices.userservice.UserServiceApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@26d5a317 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2034b64c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7161d8d1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@d737b89, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@234914f5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e322556a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2ab4bc72, org.springframework.boot.test.context.SpringBootTestAnnotation@4ddbcfe0], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n  at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\n  at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n  at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\n  at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\n  at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n  at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n  at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n  at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n  at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n  at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n  at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n  at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n  at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n  at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n  at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n  at java.base/java.util.Optional.orElseGet(Optional.java:364)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n  at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n  at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n  at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n  at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n  at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n  at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n  at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n  at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n  at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n  at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n  at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n  at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n  at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n  at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n  at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n  at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n  at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n  at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n  at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n  at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n  at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n  at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n  at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n  at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n  at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n  at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n  at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n  at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'consumerController': Unsatisfied dependency expressed through field 'consumerService': No qualifying bean of type 'com.learning.microservices.userservice.Service.ConsumerService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n  at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\n  at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\n  at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)\n  at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\n  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\n  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n  at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n  at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n  at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n  at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\n  at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\n  at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n  at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n  at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n  at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n  ... 72 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.learning.microservices.userservice.Service.ConsumerService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812)\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371)\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n  at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\n  ... 97 more\n</code></pre>\n</li>\n</ol>\n</li>\n</ol>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674070185,"creation_date":1673889426,"answer_id":75137559,"question_id":75137249,"body_markdown":"`p` must be updated after each `i` loop, using the current value of `k`. The following output can be generated using this code:\r\n\r\n```\r\nint k = 0;\r\nfor (int i = 1; i &lt;= 5; i++) {\r\n    int p = k++;\r\n    for (int j = 1; j &lt;= i; j++) {\r\n        p += k;\r\n        System.out.print(p + &quot; &quot;);\r\n    }\r\n    \r\n    System.out.println();\r\n}\r\n```\r\nFor better formatting, you can use\r\n\r\n    System.out.printf(&quot;%-4d&quot;, p);","title":"how to print pattern where start and end element is not same","body":"<p><code>p</code> must be updated after each <code>i</code> loop, using the current value of <code>k</code>. The following output can be generated using this code:</p>\n<pre><code>int k = 0;\nfor (int i = 1; i &lt;= 5; i++) {\n    int p = k++;\n    for (int j = 1; j &lt;= i; j++) {\n        p += k;\n        System.out.print(p + &quot; &quot;);\n    }\n    \n    System.out.println();\n}\n</code></pre>\n<p>For better formatting, you can use</p>\n<pre><code>System.out.printf(&quot;%-4d&quot;, p);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674076113,"creation_date":1674076113,"answer_id":75165308,"question_id":75137249,"body_markdown":"I&#39;d write it this way:\r\n\r\n    int numRows = 5;\r\n    for (int row = 1; row &lt;= numRows; row++) {\r\n      for (int col = 1, p = (row*2)-1; col &lt;= row; col++, p+=row) {\r\n        System.out.print(p + &quot; &quot;);\r\n      }\r\n      System.out.println();\r\n    }\r\n\r\nThe pattern I see is as follows:\r\n\r\n - The first Row is designated as Row #1 (not zero)\r\n - The starting number in each row is (Row * 2) - 1\r\n - Each Row has the same number of Columns as the current Row number\r\n - In each Row, the numbers are incremented by the current Row number","title":"how to print pattern where start and end element is not same","body":"<p>I'd write it this way:</p>\n<pre><code>int numRows = 5;\nfor (int row = 1; row &lt;= numRows; row++) {\n  for (int col = 1, p = (row*2)-1; col &lt;= row; col++, p+=row) {\n    System.out.print(p + &quot; &quot;);\n  }\n  System.out.println();\n}\n</code></pre>\n<p>The pattern I see is as follows:</p>\n<ul>\n<li>The first Row is designated as Row #1 (not zero)</li>\n<li>The starting number in each row is (Row * 2) - 1</li>\n<li>Each Row has the same number of Columns as the current Row number</li>\n<li>In each Row, the numbers are incremented by the current Row number</li>\n</ul>\n"}],"owner":{"account_id":15559433,"reputation":57,"user_id":11224896,"display_name":"Manjeet Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674076113,"creation_date":1673887651,"question_id":75137249,"body_markdown":"How to print a pattern where `i` and `j` variable are not supposed to be printed for pattern rows? I try many times I change values without results.\r\n\r\n    int k = 1, p = 0;\r\n    for (int i = 1; i &lt;= 5; i++) {\r\n        for (int j = 1; j &lt;= i; j++) {\r\n            p += k;\r\n            System.out.print(p + &quot; &quot;);\r\n        }\r\n\r\n        k++;\r\n        System.out.println();\r\n    }\r\n\r\nThe above code is the generated output:\r\n\r\n    1 \r\n    3 5 \r\n    8 11 14 \r\n    18 22 26 30 \r\n    35 40 45 50 55 \r\n\r\nThe desired output:\r\n\r\n    1\r\n    3 5\r\n    5 8 11\r\n    7 11 15 19\r\n    9 14 19 24 29","title":"how to print pattern where start and end element is not same","body":"<p>How to print a pattern where <code>i</code> and <code>j</code> variable are not supposed to be printed for pattern rows? I try many times I change values without results.</p>\n<pre><code>int k = 1, p = 0;\nfor (int i = 1; i &lt;= 5; i++) {\n    for (int j = 1; j &lt;= i; j++) {\n        p += k;\n        System.out.print(p + &quot; &quot;);\n    }\n\n    k++;\n    System.out.println();\n}\n</code></pre>\n<p>The above code is the generated output:</p>\n<pre><code>1 \n3 5 \n8 11 14 \n18 22 26 30 \n35 40 45 50 55 \n</code></pre>\n<p>The desired output:</p>\n<pre><code>1\n3 5\n5 8 11\n7 11 15 19\n9 14 19 24 29\n</code></pre>\n"},{"tags":["java","spring","exception","return","webclient"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1674000310,"post_id":75152330,"comment_id":132620807,"body_markdown":"Does this answer your question? [Getting the response body in error case with Spring WebClient](https://stackoverflow.com/questions/71643036/getting-the-response-body-in-error-case-with-spring-webclient)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71643036/getting-the-response-body-in-error-case-with-spring-webclient\">Getting the response body in error case with Spring WebClient</a>"}],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674075832,"creation_date":1674075832,"answer_id":75165269,"question_id":75152330,"body_markdown":"You can catch your exception in a class annotated with [`@ControllerAdvice`][1] and then return your custom entity response. A `@ControllerAdvice` class can help you handle exceptions thrown by your application.\r\n\r\nSomething that might look like what you want to do:\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class ControllerAdviceResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(value = {AdobeMagentoUnauthorizedException.class})\r\n    protected ResponseEntity&lt;Object&gt; handleAdobeMagentoUnauthorizedException(\r\n            RuntimeException exception, \r\n            ServletWebRequest request\r\n    ) {\r\n        MagentoAdobeOrderResponse response = new MagentoAdobeOrderResponse();\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.UNAUTHORIZED);\r\n    }\r\n}\r\n```\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html","title":"Java - Webclient - Return custom entity response when exception occurs","body":"<p>You can catch your exception in a class annotated with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\" rel=\"nofollow noreferrer\"><code>@ControllerAdvice</code></a> and then return your custom entity response. A <code>@ControllerAdvice</code> class can help you handle exceptions thrown by your application.</p>\n<p>Something that might look like what you want to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ControllerAdviceResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(value = {AdobeMagentoUnauthorizedException.class})\n    protected ResponseEntity&lt;Object&gt; handleAdobeMagentoUnauthorizedException(\n            RuntimeException exception, \n            ServletWebRequest request\n    ) {\n        MagentoAdobeOrderResponse response = new MagentoAdobeOrderResponse();\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.UNAUTHORIZED);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7236817,"reputation":21,"user_id":5521764,"accept_rate":60,"display_name":"waridc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75165269,"answer_count":1,"score":1,"last_activity_date":1674075832,"creation_date":1673990408,"question_id":75152330,"body_markdown":"I want to return a custom entity response when a specific exception occurs (Example, Unauthorized exception).\r\nI know how to catch it but only to return a custom exception;\r\n\r\n    public Mono&lt;ResponseEntity&lt;MagentoAdobeOrderResponse&gt;&gt; getOrder(String orderId, String token){\r\n             return webClient.get()\r\n                           .uri(orderUrl+&quot;/&quot;+orderId)\r\n                           .header(HttpHeaders.CACHE_CONTROL, &quot;no-cache&quot;)\r\n                           .header(HttpHeaders.ACCEPT, &quot;*/*&quot;)\r\n                           .header(HttpHeaders.ACCEPT_ENCODING, &quot;deflate, br&quot;)\r\n                           .header(HttpHeaders.CONNECTION, &quot;keep-alive&quot;)\r\n                           .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+token)\r\n                           .retrieve()\r\n                   .toEntity(MagentoAdobeOrderResponse.class);\r\n                   .onErrorMap(Unauthorized.class, ex -&gt; new AdobeMagentoUnauthorizedException(String.valueOf(HttpStatus.UNAUTHORIZED.value()),\r\n                                        ButttonMilesConstants.BANK_PROBLEMS_ERROR_MESSAGE));\r\n       }\r\n\r\nWhat I want is something like this:\r\n\r\n\r\n    public Mono&lt;ResponseEntity&lt;MagentoAdobeOrderResponse&gt;&gt; getOrder(String orderId, String token){\r\n                 return webClient.get()\r\n                               .uri(orderUrl+&quot;/&quot;+orderId)\r\n                               .header(HttpHeaders.CACHE_CONTROL, &quot;no-cache&quot;)\r\n                               .header(HttpHeaders.ACCEPT, &quot;*/*&quot;)\r\n                               .header(HttpHeaders.ACCEPT_ENCODING, &quot;deflate, br&quot;)\r\n                               .header(HttpHeaders.CONNECTION, &quot;keep-alive&quot;)\r\n                               .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+token)\r\n                               .retrieve()\r\n                       .toEntity(MagentoAdobeOrderResponse.class);\r\n                       .onErrorMap(Unauthorized.class, return new ResponseEntity&lt;MagentoAdobeOrderResponse&gt;());\r\n       }\r\n\r\n\r\nit&#39;s possible?\r\n\r\nRegards","title":"Java - Webclient - Return custom entity response when exception occurs","body":"<p>I want to return a custom entity response when a specific exception occurs (Example, Unauthorized exception).\nI know how to catch it but only to return a custom exception;</p>\n<pre><code>public Mono&lt;ResponseEntity&lt;MagentoAdobeOrderResponse&gt;&gt; getOrder(String orderId, String token){\n         return webClient.get()\n                       .uri(orderUrl+&quot;/&quot;+orderId)\n                       .header(HttpHeaders.CACHE_CONTROL, &quot;no-cache&quot;)\n                       .header(HttpHeaders.ACCEPT, &quot;*/*&quot;)\n                       .header(HttpHeaders.ACCEPT_ENCODING, &quot;deflate, br&quot;)\n                       .header(HttpHeaders.CONNECTION, &quot;keep-alive&quot;)\n                       .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+token)\n                       .retrieve()\n               .toEntity(MagentoAdobeOrderResponse.class);\n               .onErrorMap(Unauthorized.class, ex -&gt; new AdobeMagentoUnauthorizedException(String.valueOf(HttpStatus.UNAUTHORIZED.value()),\n                                    ButttonMilesConstants.BANK_PROBLEMS_ERROR_MESSAGE));\n   }\n</code></pre>\n<p>What I want is something like this:</p>\n<pre><code>public Mono&lt;ResponseEntity&lt;MagentoAdobeOrderResponse&gt;&gt; getOrder(String orderId, String token){\n             return webClient.get()\n                           .uri(orderUrl+&quot;/&quot;+orderId)\n                           .header(HttpHeaders.CACHE_CONTROL, &quot;no-cache&quot;)\n                           .header(HttpHeaders.ACCEPT, &quot;*/*&quot;)\n                           .header(HttpHeaders.ACCEPT_ENCODING, &quot;deflate, br&quot;)\n                           .header(HttpHeaders.CONNECTION, &quot;keep-alive&quot;)\n                           .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+token)\n                           .retrieve()\n                   .toEntity(MagentoAdobeOrderResponse.class);\n                   .onErrorMap(Unauthorized.class, return new ResponseEntity&lt;MagentoAdobeOrderResponse&gt;());\n   }\n</code></pre>\n<p>it's possible?</p>\n<p>Regards</p>\n"},{"tags":["java","maven","intellij-idea","junit4","assert"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":1,"creation_date":1674073859,"post_id":75164928,"comment_id":132639958,"body_markdown":"Please add a code example, and state clearly what is going wrong in terms of expectation vs actual results.","body":"Please add a code example, and state clearly what is going wrong in terms of expectation vs actual results."},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1674074276,"post_id":75164928,"comment_id":132640063,"body_markdown":"Are the other classes from JUnit 4 (e.g., `@Test` or `@BeforeClass` that you&#39;re using) resolved properly?","body":"Are the other classes from JUnit 4 (e.g., <code>@Test</code> or <code>@BeforeClass</code> that you&#39;re using) resolved properly?"},{"owner":{"account_id":16989482,"reputation":11,"user_id":12289398,"display_name":"soniya s"},"score":0,"creation_date":1674074461,"post_id":75164928,"comment_id":132640108,"body_markdown":"@Mureinik, yes all else imported fine","body":"@Mureinik, yes all else imported fine"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674075243,"creation_date":1674075243,"answer_id":75165172,"question_id":75164928,"body_markdown":"The issue isn&#39;t the import of `Assert` (which is fine), but the fact you have the call to `Assert.assertEquals` outside of any method - and you can&#39;t have such a statement directly under a class. Move it up into `requestUsZipExtractPlaceName`, and you should be fine:\r\n\r\n```java\r\n@Test\r\npublic void requestUsZipExtractPlaceName(){\r\n\r\n    String placeName =\r\n            given().\r\n            spec(requestSpec).\r\n            when().\r\n            get(&quot;us/90210&quot;).\r\n            then().\r\n            extract().\r\n            path(&quot;places[0].&#39;place name&#39;&quot;);\r\n\r\n    Assert.assertEquals(&quot;Beverly Hills&quot;, placeName); // Move here, inside the method\r\n}\r\n\r\n// Instead of here\r\n```","title":"IntelliJ, Junit 4 Maven - Cannot resolve symbol assertEquals","body":"<p>The issue isn't the import of <code>Assert</code> (which is fine), but the fact you have the call to <code>Assert.assertEquals</code> outside of any method - and you can't have such a statement directly under a class. Move it up into <code>requestUsZipExtractPlaceName</code>, and you should be fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void requestUsZipExtractPlaceName(){\n\n    String placeName =\n            given().\n            spec(requestSpec).\n            when().\n            get(&quot;us/90210&quot;).\n            then().\n            extract().\n            path(&quot;places[0].'place name'&quot;);\n\n    Assert.assertEquals(&quot;Beverly Hills&quot;, placeName); // Move here, inside the method\n}\n\n// Instead of here\n</code></pre>\n"}],"owner":{"account_id":16989482,"reputation":11,"user_id":12289398,"display_name":"soniya s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75165172,"answer_count":1,"score":1,"last_activity_date":1674075264,"creation_date":1674073576,"question_id":75164928,"body_markdown":"Maven JUnit 4.12 dependency is there. Doesn&#39;t work with both static and without it. assertEquals is in red/not resolved. `Assert.` does not show methods.\r\n\r\nTried by adding assertJ library too as dependency. Same issue. In code, I do `Assertions.`. It doesn&#39;t show any methods.\r\n\r\n```\r\npackage examples;\r\n\r\nimport io.restassured.builder.RequestSpecBuilder;\r\nimport io.restassured.builder.ResponseSpecBuilder;\r\nimport io.restassured.http.ContentType;\r\nimport io.restassured.specification.RequestSpecification;\r\nimport io.restassured.specification.ResponseSpecification;\r\nimport org.junit.Assert;\r\nimport static org.junit.Assert.*;\r\nimport org.junit.BeforeClass;\r\nimport org.junit.Test;\r\n\r\nimport static io.restassured.RestAssured.given;\r\nimport static org.hamcrest.Matchers.equalTo;\r\n\r\npublic class Ch4Test {\r\n    private static RequestSpecification requestSpec;\r\n    @BeforeClass\r\n    public static void createRequestSpec() {\r\n\r\n        requestSpec = new RequestSpecBuilder().\r\n                setBaseUri(&quot;http://zippopotam.us&quot;).build();\r\n    }\r\n\r\n    private static ResponseSpecification responseSpec;\r\n\r\n    @BeforeClass\r\n    public static void createResponseSpec(){\r\n        responseSpec = new ResponseSpecBuilder().\r\n                expectStatusCode(200).\r\n                expectContentType(ContentType.JSON).\r\n                build();\r\n    }\r\n\r\n    @Test\r\n    public void requestUsZip(){\r\n\r\n        given().\r\n                spec(requestSpec).\r\n                when().\r\n                get(&quot;us/90210&quot;).\r\n                then().\r\n                spec(responseSpec).\r\n                and().\r\n                assertThat().\r\n                body(&quot;places[0].&#39;place name&#39;&quot;, equalTo(&quot;Beverly Hills&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void requestUsZipExtractPlaceName(){\r\n\r\n        String placeName =\r\n\r\n                given().\r\n                spec(requestSpec).\r\n                when().\r\n                get(&quot;us/90210&quot;).\r\n                then().\r\n               extract().\r\n                path(&quot;places[0].&#39;place name&#39;&quot;);\r\n    }\r\n\r\n   // Assert.assertEquals(&quot;Beverly Hills&quot;, placeName);\r\n\r\n\r\n}\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;RestAssuredLearn&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.tngtech.java/junit-dataprovider --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.tngtech.java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-dataprovider&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n```&lt;!-- https://mvnrepository.com/artifact/org.assertj/assertj-core --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n    &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.23.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"IntelliJ, Junit 4 Maven - Cannot resolve symbol assertEquals","body":"<p>Maven JUnit 4.12 dependency is there. Doesn't work with both static and without it. assertEquals is in red/not resolved. <code>Assert.</code> does not show methods.</p>\n<p>Tried by adding assertJ library too as dependency. Same issue. In code, I do <code>Assertions.</code>. It doesn't show any methods.</p>\n<pre><code>package examples;\n\nimport io.restassured.builder.RequestSpecBuilder;\nimport io.restassured.builder.ResponseSpecBuilder;\nimport io.restassured.http.ContentType;\nimport io.restassured.specification.RequestSpecification;\nimport io.restassured.specification.ResponseSpecification;\nimport org.junit.Assert;\nimport static org.junit.Assert.*;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\n\nimport static io.restassured.RestAssured.given;\nimport static org.hamcrest.Matchers.equalTo;\n\npublic class Ch4Test {\n    private static RequestSpecification requestSpec;\n    @BeforeClass\n    public static void createRequestSpec() {\n\n        requestSpec = new RequestSpecBuilder().\n                setBaseUri(&quot;http://zippopotam.us&quot;).build();\n    }\n\n    private static ResponseSpecification responseSpec;\n\n    @BeforeClass\n    public static void createResponseSpec(){\n        responseSpec = new ResponseSpecBuilder().\n                expectStatusCode(200).\n                expectContentType(ContentType.JSON).\n                build();\n    }\n\n    @Test\n    public void requestUsZip(){\n\n        given().\n                spec(requestSpec).\n                when().\n                get(&quot;us/90210&quot;).\n                then().\n                spec(responseSpec).\n                and().\n                assertThat().\n                body(&quot;places[0].'place name'&quot;, equalTo(&quot;Beverly Hills&quot;));\n    }\n\n    @Test\n    public void requestUsZipExtractPlaceName(){\n\n        String placeName =\n\n                given().\n                spec(requestSpec).\n                when().\n                get(&quot;us/90210&quot;).\n                then().\n               extract().\n                path(&quot;places[0].'place name'&quot;);\n    }\n\n   // Assert.assertEquals(&quot;Beverly Hills&quot;, placeName);\n\n\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;RestAssuredLearn&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.tngtech.java/junit-dataprovider --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.java&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-dataprovider&lt;/artifactId&gt;\n            &lt;version&gt;1.13.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n    &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n    &lt;version&gt;3.23.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hibernate","nullpointerexception","many-to-one"],"comments":[{"owner":{"account_id":3286461,"reputation":1671,"user_id":2765843,"display_name":"Paolo"},"score":0,"creation_date":1382088836,"post_id":19435959,"comment_id":28833292,"body_markdown":"Please, post the entire stacktrace of the error and highlight the line of code firing the error. Moreover what is `ClientServiceImpl`?","body":"Please, post the entire stacktrace of the error and highlight the line of code firing the error. Moreover what is <code>ClientServiceImpl</code>?"},{"owner":{"account_id":2243179,"reputation":234,"user_id":1977204,"accept_rate":21,"display_name":"user1977204"},"score":0,"creation_date":1382100578,"post_id":19435959,"comment_id":28839515,"body_markdown":"The exception is this: Oct 18, 2013 9:45:53 AM com.sun.faces.context.PartialViewContextImpl$PhaseAwareVisitCallback visit\nSEVERE: javax.el.ELException: /enterprises/persons/client.xhtml @236,141 value=&quot;#{clientController.selectedClient.address.number}&quot;: Error reading &#39;number&#39; on type com.efix.model.enterprise.Address_$$_javassist_0\n\nThe ClientServiceImpl, is the class that call to the DAO to save the data in the DB. I debug the project and i have the reference to the Address object null.","body":"The exception is this: Oct 18, 2013 9:45:53 AM com.sun.faces.context.PartialViewContextImpl$PhaseAwareVisit&zwnj;&#8203;Callback visit SEVERE: javax.el.ELException: /enterprises/persons/client.xhtml @236,141 value=&quot;#{clientController.selectedClient.address.number}&quot;: Error reading &#39;number&#39; on type com.efix.model.enterprise.Address_$$_javassist_0  The ClientServiceImpl, is the class that call to the DAO to save the data in the DB. I debug the project and i have the reference to the Address object null."},{"owner":{"account_id":3286461,"reputation":1671,"user_id":2765843,"display_name":"Paolo"},"score":0,"creation_date":1382101003,"post_id":19435959,"comment_id":28839754,"body_markdown":"Stupid question, but I need to be sure ... Does this person have a valid (not null) Address (I mean into the DB)?","body":"Stupid question, but I need to be sure ... Does this person have a valid (not null) Address (I mean into the DB)?"},{"owner":{"account_id":2243179,"reputation":234,"user_id":1977204,"accept_rate":21,"display_name":"user1977204"},"score":0,"creation_date":1382103217,"post_id":19435959,"comment_id":28841150,"body_markdown":"The field have a not null attribute in DB, you have an idea why it can be?","body":"The field have a not null attribute in DB, you have an idea why it can be?"}],"answers":[{"comments":[{"owner":{"account_id":3286461,"reputation":1671,"user_id":2765843,"display_name":"Paolo"},"score":0,"creation_date":1382104376,"post_id":19451351,"comment_id":28841905,"body_markdown":"Happy to know you fixed your problem. Ciao!","body":"Happy to know you fixed your problem. Ciao!"}],"tags":[],"owner":{"account_id":2243179,"reputation":234,"user_id":1977204,"accept_rate":21,"display_name":"user1977204"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382104142,"creation_date":1382104142,"answer_id":19451351,"question_id":19435959,"body_markdown":"Thanks for yours reply!! My error was in a expression inside a &lt;p:inputText&gt;. I was references to a non existed property!!","title":"Hibernate getting all throw Nullpointerexcepetion ina Object relationship","body":"<p>Thanks for yours reply!! My error was in a expression inside a . I was references to a non existed property!!</p>\n"}],"owner":{"account_id":2243179,"reputation":234,"user_id":1977204,"accept_rate":21,"display_name":"user1977204"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674074863,"creation_date":1382039536,"question_id":19435959,"body_markdown":"i have 2 classes, the Person class that have a ManyToOne relationship with Address class. When i trying to get the persons, the address object have null elements inside, why happens this? the lazy configuration dont works? I can save a Person Object with the Address in cascade.\r\n\r\nHere is my code:\r\n\r\nPerson class:\r\n```lang-java\r\npublic class Person  implements java.io.Serializable {\r\n\r\n    private int idPerson;\r\n    private String name;\r\n    private String surname;\r\n    private String dni;\r\n    private Date dateBirth;\r\n    private String cellPhone;\r\n    private String landPhone;\r\n    private String email;\r\n    private String discr;\r\n    private Address address ;\r\n   \r\n    public Person() {\r\n    }\r\n    // getters and setters\r\n}\r\n```\r\nMy Address class:\r\n```lang-java\r\npublic class Address  implements java.io.Serializable {\r\n\r\n    private int idAddress;\r\n    private City city;\r\n    private String street;\r\n    private String number;\r\n    private Integer apartament;\r\n    private int level;\r\n\r\n    public Address() {\r\n    }\r\n    //getters an setters\r\n}\r\n```\r\nMy two mapping files:\r\n```lang-xml\r\n&lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;com.efix.model.enterprise.Address&quot; table=&quot;address&quot; schema=&quot;public&quot;&gt;\r\n        &lt;id name=&quot;idAddress&quot; type=&quot;int&quot;&gt;\r\n            &lt;column name=&quot;id_address&quot; /&gt;\r\n            &lt;generator class=&quot;assigned&quot; /&gt;\r\n        &lt;/id&gt;\r\n        &lt;many-to-one name=&quot;city&quot; class=&quot;com.efix.model.enterprise.City&quot; cascade=&quot;all&quot; lazy=&quot;false&quot;&gt;\r\n            &lt;column name=&quot;id_city&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/many-to-one&gt;\r\n        &lt;property name=&quot;street&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;street&quot; length=&quot;60&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;number&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;number&quot; length=&quot;6&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;apartament&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n            &lt;column name=&quot;apartament&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;level&quot; type=&quot;int&quot;&gt;\r\n            &lt;column name=&quot;level&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\nAbove is the address maping and this is my peopel mapping:\r\n```lang-xml\r\n&lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;com.efix.model.enterprise.Person&quot; table=&quot;person&quot; schema=&quot;public&quot;&gt;\r\n        &lt;id name=&quot;idPerson&quot; type=&quot;int&quot;&gt;\r\n            &lt;column name=&quot;id_person&quot; /&gt;\r\n            &lt;generator class=&quot;identity&quot; /&gt;\r\n        &lt;/id&gt;\r\n        &lt;discriminator column=&quot;discr&quot; type=&quot;string&quot;/&gt;\r\n        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;name&quot; length=&quot;40&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;surname&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;surname&quot; length=&quot;40&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;dni&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;dni&quot; length=&quot;40&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;dateBirth&quot; type=&quot;date&quot;&gt;\r\n            &lt;column name=&quot;date_birth&quot; length=&quot;13&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;cellPhone&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;cell_phone&quot; length=&quot;20&quot;/&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;landPhone&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;land_phone&quot; length=&quot;20&quot;/&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;email&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;email&quot; length=&quot;25&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;many-to-one class=&quot;com.efix.model.enterprise.Address&quot; name=&quot;address&quot;&gt;\r\n            &lt;column name=&quot;id_address&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;/many-to-one&gt;\r\n        &lt;!-- Subclase Empleado --&gt;\r\n        &lt;subclass name=&quot;com.efix.model.enterprise.Employee&quot; discriminator-value=&quot;Employee&quot;&gt;\r\n            &lt;property name=&quot;admissionDate&quot; type=&quot;date&quot;&gt;\r\n                &lt;column name=&quot;admission_date&quot; length=&quot;13&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;outDate&quot; type=&quot;date&quot;&gt;\r\n                &lt;column name=&quot;out_date&quot; length=&quot;13&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;position&quot; type=&quot;string&quot;&gt;\r\n                &lt;column name=&quot;position&quot; length=&quot;40&quot; /&gt;\r\n            &lt;/property&gt;\r\n        &lt;/subclass&gt;\r\n\r\n        &lt;!-- Sublcase cliente --&gt;\r\n        &lt;subclass name=&quot;com.efix.model.enterprise.Client&quot; discriminator-value=&quot;Client&quot;&gt;\r\n            &lt;property name=&quot;notes&quot; type=&quot;string&quot;&gt;\r\n                &lt;column name=&quot;notes&quot; /&gt;\r\n            &lt;/property&gt;\r\n        &lt;/subclass&gt;\r\n\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\nMy NullPointerException throws in this block of code:\r\n```lang-java\r\nClientServiceImpl serviceImpl = new ClientServiceImpl();\r\nfor (Client cli : serviceImpl.findAll()) {\r\n    System.out.println(cli.getAddress().getNumber());\r\n```","title":"Hibernate getting all throw Nullpointerexcepetion ina Object relationship","body":"<p>i have 2 classes, the Person class that have a ManyToOne relationship with Address class. When i trying to get the persons, the address object have null elements inside, why happens this? the lazy configuration dont works? I can save a Person Object with the Address in cascade.</p>\n<p>Here is my code:</p>\n<p>Person class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person  implements java.io.Serializable {\n\n    private int idPerson;\n    private String name;\n    private String surname;\n    private String dni;\n    private Date dateBirth;\n    private String cellPhone;\n    private String landPhone;\n    private String email;\n    private String discr;\n    private Address address ;\n   \n    public Person() {\n    }\n    // getters and setters\n}\n</code></pre>\n<p>My Address class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Address  implements java.io.Serializable {\n\n    private int idAddress;\n    private City city;\n    private String street;\n    private String number;\n    private Integer apartament;\n    private int level;\n\n    public Address() {\n    }\n    //getters an setters\n}\n</code></pre>\n<p>My two mapping files:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;com.efix.model.enterprise.Address&quot; table=&quot;address&quot; schema=&quot;public&quot;&gt;\n        &lt;id name=&quot;idAddress&quot; type=&quot;int&quot;&gt;\n            &lt;column name=&quot;id_address&quot; /&gt;\n            &lt;generator class=&quot;assigned&quot; /&gt;\n        &lt;/id&gt;\n        &lt;many-to-one name=&quot;city&quot; class=&quot;com.efix.model.enterprise.City&quot; cascade=&quot;all&quot; lazy=&quot;false&quot;&gt;\n            &lt;column name=&quot;id_city&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=&quot;street&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;street&quot; length=&quot;60&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;number&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;number&quot; length=&quot;6&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;apartament&quot; type=&quot;java.lang.Integer&quot;&gt;\n            &lt;column name=&quot;apartament&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;level&quot; type=&quot;int&quot;&gt;\n            &lt;column name=&quot;level&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>Above is the address maping and this is my peopel mapping:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;com.efix.model.enterprise.Person&quot; table=&quot;person&quot; schema=&quot;public&quot;&gt;\n        &lt;id name=&quot;idPerson&quot; type=&quot;int&quot;&gt;\n            &lt;column name=&quot;id_person&quot; /&gt;\n            &lt;generator class=&quot;identity&quot; /&gt;\n        &lt;/id&gt;\n        &lt;discriminator column=&quot;discr&quot; type=&quot;string&quot;/&gt;\n        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;name&quot; length=&quot;40&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;surname&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;surname&quot; length=&quot;40&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;dni&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;dni&quot; length=&quot;40&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;dateBirth&quot; type=&quot;date&quot;&gt;\n            &lt;column name=&quot;date_birth&quot; length=&quot;13&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;cellPhone&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;cell_phone&quot; length=&quot;20&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;landPhone&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;land_phone&quot; length=&quot;20&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;email&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;email&quot; length=&quot;25&quot; /&gt;\n        &lt;/property&gt;\n        &lt;many-to-one class=&quot;com.efix.model.enterprise.Address&quot; name=&quot;address&quot;&gt;\n            &lt;column name=&quot;id_address&quot; not-null=&quot;true&quot;/&gt;\n        &lt;/many-to-one&gt;\n        &lt;!-- Subclase Empleado --&gt;\n        &lt;subclass name=&quot;com.efix.model.enterprise.Employee&quot; discriminator-value=&quot;Employee&quot;&gt;\n            &lt;property name=&quot;admissionDate&quot; type=&quot;date&quot;&gt;\n                &lt;column name=&quot;admission_date&quot; length=&quot;13&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;outDate&quot; type=&quot;date&quot;&gt;\n                &lt;column name=&quot;out_date&quot; length=&quot;13&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;position&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;position&quot; length=&quot;40&quot; /&gt;\n            &lt;/property&gt;\n        &lt;/subclass&gt;\n\n        &lt;!-- Sublcase cliente --&gt;\n        &lt;subclass name=&quot;com.efix.model.enterprise.Client&quot; discriminator-value=&quot;Client&quot;&gt;\n            &lt;property name=&quot;notes&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;notes&quot; /&gt;\n            &lt;/property&gt;\n        &lt;/subclass&gt;\n\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>My NullPointerException throws in this block of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClientServiceImpl serviceImpl = new ClientServiceImpl();\nfor (Client cli : serviceImpl.findAll()) {\n    System.out.println(cli.getAddress().getNumber());\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":3029567,"reputation":79,"user_id":2568878,"accept_rate":40,"display_name":"Jayraj Patel"},"score":0,"creation_date":1374671966,"post_id":17835150,"comment_id":26031860,"body_markdown":"Thanks Man!! Its work now!!:) It&#39;s writing that line!! how i can write all the line in one file?? Please help me!! its only writing one line in file.. I guess it replace, please help me!! Thanks!!","body":"Thanks Man!! Its work now!!:) It&#39;s writing that line!! how i can write all the line in one file?? Please help me!! its only writing one line in file.. I guess it replace, please help me!! Thanks!!"},{"owner":{"account_id":367765,"reputation":875,"user_id":714146,"display_name":"Choker"},"score":0,"creation_date":1374673303,"post_id":17835150,"comment_id":26032806,"body_markdown":"You&#39;ll want to create your BufferedWriter outside of the first &#39;for&#39; loop. Right now, you&#39;re creating a new writer each time for each line, which is why you only get one line in the file.","body":"You&#39;ll want to create your BufferedWriter outside of the first &#39;for&#39; loop. Right now, you&#39;re creating a new writer each time for each line, which is why you only get one line in the file."}],"tags":[],"owner":{"account_id":367765,"reputation":875,"user_id":714146,"display_name":"Choker"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1374671766,"creation_date":1374671766,"answer_id":17835150,"question_id":17835081,"body_markdown":"readline advances the current pointer.  Once you find the right line, it looks like you just want to print out the value of &quot;line&quot; that you already have, not read the next line. ","title":"Java code, search for number in files and read line","body":"<p>readline advances the current pointer.  Once you find the right line, it looks like you just want to print out the value of \"line\" that you already have, not read the next line. </p>\n"}],"owner":{"account_id":3029567,"reputation":79,"user_id":2568878,"accept_rate":40,"display_name":"Jayraj Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17835150,"answer_count":1,"score":2,"last_activity_date":1674074370,"creation_date":1374671577,"question_id":17835081,"body_markdown":"write the code to open Jframe, Scan barcode over there, read that and go into correct file, search for the cust_number and read that line and write into new file.. I am getting two problem please help me!! Thanks!! \r\n\r\nHere is my code: \r\n```lang-java\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextArea;\r\n\r\n\r\npublic class searchfile2 {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\t\r\n\tpublic static void delFileFromDir(String dirPath) {\r\n\t\tFile dir = new File(dirPath);\r\n\t\tif(dir.listFiles() == null)\r\n\t\t\treturn;\r\n\t\tfor(File file: dir.listFiles())\r\n\t\t{\r\n\t\t\tif(!file.isDirectory())\r\n\t\t\t\tfile.delete();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws IOException  {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tfinal JFrame frame = new JFrame(&quot;Scan Here: &quot;);\r\n\t\tJPanel panel = new JPanel();\r\n\t\t\r\n\t\tfinal JTextArea text = new JTextArea(20, 40);\r\n\t\tJButton button = new JButton(&quot;Enter&quot;);\r\n\r\n\t\tframe.add(panel);\r\n\t\tpanel.add(text);\r\n\t\tpanel.add(button);\r\n\r\n\t\tbutton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\tBufferedReader br = null;\r\n\t\t\t\tBufferedWriter bfAll = null;\r\n\t\t\t\t\r\n\t\t\t\tString scanner = (text.getText());\r\n\t\t\t\t//System.out.println(scanner);\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (String s : scanner.split(&quot;\\n&quot;)) {\r\n\t\t\t\t\t\tString[] actionID = s.split(&quot;\\\\|&quot;);\r\n\t\t\t\t\t\tString cust_num  = actionID[0];\r\n\t\t\t\t\t\tString date = actionID[1];\r\n\t\t\t\t\t\tString type = actionID[2];\r\n\t\t\t\t\t\t//System.out.println(cust_num + &quot;     Type:     &quot; + type);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tif(type.equals(&quot;BW&quot;)){\r\n\t\t\t\t\t\t\t//System.out.println(type);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tFile folderBW = new File(&quot;prod\\\\BW&quot;);\r\n\t\t\t\t\t\t\tFile[] BFFileBW = folderBW.listFiles();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tString reprintbw = (&quot;out\\\\&quot; + &quot;BWreprintrecord&quot; + &quot;.txt&quot;);\r\n\t\t\t\t\t\t\tbfAll = new BufferedWriter(new FileWriter(reprintbw));\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor (File file1 : BFFileBW) {\r\n\t\t\t\t\t\t\t\tString strbw = file1.getName();\r\n\t\t\t\t\t\t\t\t//System.out.println(strbw);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif((date.subSequence(0, 2)).equals(strbw.subSequence(0, 2)) &amp;&amp; (date.substring(2, 4)).equals(strbw.subSequence(3, 5)) &amp;&amp; (date.subSequence(4, 6)).equals(strbw.subSequence(8, 10))){\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;hdssdjsshdghjsdghjsdghjsdghjsdgjhsd               &quot; + strbw);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tFile foldertotalcountlettersdate = new File(&quot;prod\\\\BW\\\\&quot; + strbw);\r\n\t\t\t\t\t\t\t\t\tFile[] listOfFilestotalcountlettersdate = foldertotalcountlettersdate.listFiles();\r\n\r\n\t\t\t\t\t\t\t\t\tString totalcountlettersdate;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\t\t\tfor (int itotalcountdate = 0; itotalcountdate &lt; listOfFilestotalcountlettersdate.length; itotalcountdate++) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (listOfFilestotalcountlettersdate[itotalcountdate].isFile()) {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttotalcountlettersdate = listOfFilestotalcountlettersdate[itotalcountdate].getAbsolutePath();\r\n\t\t\t\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;File Name: &quot; + totalcountlettersdate);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tbr = new BufferedReader(new FileReader(totalcountlettersdate));\r\n\t\t\t\t\t\t\t\t\t\t\t\tString line;\r\n\t\t\t\t\t\t\t\t\t\t\t\tline = br.readLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tbfAll.write(line);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbfAll.newLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tline = br.readLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tbfAll.write(line);bfAll.newLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tline = br.readLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tbfAll.write(line);bfAll.newLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tline = br.readLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tbfAll.write(line);bfAll.newLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tline = br.readLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tbfAll.write(line);bfAll.newLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tline = br.readLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tbfAll.write(line);bfAll.newLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tline = br.readLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\tbfAll.write(line);bfAll.newLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tString[] actionIDprod = line.split(&quot;\\\\|&quot;);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tString typeprod  = actionIDprod[3];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tString typeprodname  = actionIDprod[4];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(typeprod.equals(cust_num)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tline = br.readLine();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSystem.out.println(cust_num + &quot;-------&quot; + typeprodname);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbr.close();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} catch(Exception e2) {\r\n\t\t\t\t\t\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbfAll.newLine();\r\n\t\t\t\t\t\t\tbfAll.flush();\r\n\t\t\t\t\t\t\tbfAll.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t} catch(Exception e1) {\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tframe.dispose();\r\n\t\t\t}\r\n\t\t\t});\r\n\t\tframe.setSize(500, 400);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nproblem is while writing that line in file..\r\n\r\n    bfAll.write(line);\r\n\r\nits only writing one line last one.. I need to write all the lines in one file, I think its replace!! Please help me!! Thanks!!\r\n\r\nAnd In Jframe!! \r\nI scan is:\r\n\r\n    027421940|072213|BW|\r\n    600295885|072113|BW|\r\n    600253827|072113|BW|\r\n    600295333885|072113|LETTERS|\r\n\r\nsearch for all 027421940 cust_number in file:: read that line write in file.. \r\nbut, its only writing one line in file.. I think its replace that&#39;s why !!","title":"Java code, search for number in files and read line","body":"<p>write the code to open Jframe, Scan barcode over there, read that and go into correct file, search for the cust_number and read that line and write into new file.. I am getting two problem please help me!! Thanks!!</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\n\n\npublic class searchfile2 {\n\n    /**\n     * @param args\n     */\n    \n    public static void delFileFromDir(String dirPath) {\n        File dir = new File(dirPath);\n        if(dir.listFiles() == null)\n            return;\n        for(File file: dir.listFiles())\n        {\n            if(!file.isDirectory())\n                file.delete();\n        }\n    }\n    \n    \n    public static void main(String[] args) throws IOException  {\n        // TODO Auto-generated method stub\n\n        final JFrame frame = new JFrame(&quot;Scan Here: &quot;);\n        JPanel panel = new JPanel();\n        \n        final JTextArea text = new JTextArea(20, 40);\n        JButton button = new JButton(&quot;Enter&quot;);\n\n        frame.add(panel);\n        panel.add(text);\n        panel.add(button);\n\n        button.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n                BufferedReader br = null;\n                BufferedWriter bfAll = null;\n                \n                String scanner = (text.getText());\n                //System.out.println(scanner);\n\n                try {\n                    for (String s : scanner.split(&quot;\\n&quot;)) {\n                        String[] actionID = s.split(&quot;\\\\|&quot;);\n                        String cust_num  = actionID[0];\n                        String date = actionID[1];\n                        String type = actionID[2];\n                        //System.out.println(cust_num + &quot;     Type:     &quot; + type);\n                    \n                        if(type.equals(&quot;BW&quot;)){\n                            //System.out.println(type);\n                            \n                            File folderBW = new File(&quot;prod\\\\BW&quot;);\n                            File[] BFFileBW = folderBW.listFiles();\n                            \n                            String reprintbw = (&quot;out\\\\&quot; + &quot;BWreprintrecord&quot; + &quot;.txt&quot;);\n                            bfAll = new BufferedWriter(new FileWriter(reprintbw));\n                            \n                            \n                            for (File file1 : BFFileBW) {\n                                String strbw = file1.getName();\n                                //System.out.println(strbw);\n                                \n                                \n                                if((date.subSequence(0, 2)).equals(strbw.subSequence(0, 2)) &amp;&amp; (date.substring(2, 4)).equals(strbw.subSequence(3, 5)) &amp;&amp; (date.subSequence(4, 6)).equals(strbw.subSequence(8, 10))){\n                                    System.out.println(&quot;hdssdjsshdghjsdghjsdghjsdghjsdgjhsd               &quot; + strbw);\n                                    \n                                    File foldertotalcountlettersdate = new File(&quot;prod\\\\BW\\\\&quot; + strbw);\n                                    File[] listOfFilestotalcountlettersdate = foldertotalcountlettersdate.listFiles();\n\n                                    String totalcountlettersdate;\n                                    \n                                    try{\n                                        for (int itotalcountdate = 0; itotalcountdate &lt; listOfFilestotalcountlettersdate.length; itotalcountdate++) {\n                                            if (listOfFilestotalcountlettersdate[itotalcountdate].isFile()) {\n                                                totalcountlettersdate = listOfFilestotalcountlettersdate[itotalcountdate].getAbsolutePath();\n                                                System.out.println(&quot;File Name: &quot; + totalcountlettersdate);\n                                                \n                                                br = new BufferedReader(new FileReader(totalcountlettersdate));\n                                                String line;\n                                                line = br.readLine();\n                                                bfAll.write(line);\n                                                bfAll.newLine();\n                                                line = br.readLine();\n                                                bfAll.write(line);bfAll.newLine();\n                                                line = br.readLine();\n                                                bfAll.write(line);bfAll.newLine();\n                                                line = br.readLine();\n                                                bfAll.write(line);bfAll.newLine();\n                                                line = br.readLine();\n                                                bfAll.write(line);bfAll.newLine();\n                                                line = br.readLine();\n                                                bfAll.write(line);bfAll.newLine();\n                                                line = br.readLine();\n                                                bfAll.write(line);bfAll.newLine();\n                                                \n                                                while ((line = br.readLine()) != null) {\n                                                \n                                                    String[] actionIDprod = line.split(&quot;\\\\|&quot;);\n                                                    String typeprod  = actionIDprod[3];\n                                                    String typeprodname  = actionIDprod[4];\n                                                    \n                                                    if(typeprod.equals(cust_num)) {\n                                                        line = br.readLine();\n                                                        System.out.println(line);\n                                                        System.out.println(cust_num + &quot;-------&quot; + typeprodname);\n                                                    }\n                                                }\n                                                br.close();\n                                                \n                                            }\n                                        }\n                                    } catch(Exception e2) {\n                                        e2.printStackTrace();\n                                    }\n                                    \n                                }\n                            }\n                            \n                            bfAll.newLine();\n                            bfAll.flush();\n                            bfAll.close();\n                        }\n                        \n                    }\n                \n                } catch(Exception e1) {\n                    e1.printStackTrace();\n                }\n                \n                frame.dispose();\n            }\n            });\n        frame.setSize(500, 400);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n}\n</code></pre>\n<p>problem is while writing that line in file..</p>\n<pre><code>bfAll.write(line);\n</code></pre>\n<p>its only writing one line last one.. I need to write all the lines in one file, I think its replace!! Please help me!! Thanks!!</p>\n<p>And In Jframe!!\nI scan is:</p>\n<pre><code>027421940|072213|BW|\n600295885|072113|BW|\n600253827|072113|BW|\n600295333885|072113|LETTERS|\n</code></pre>\n<p>search for all 027421940 cust_number in file:: read that line write in file..\nbut, its only writing one line in file.. I think its replace that's why !!</p>\n"},{"tags":["java","maven","nexus","aether","maven-metadata"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1422956910,"post_id":28293361,"comment_id":44944011,"body_markdown":"Why do you like to do that? Checked in Nexus to recreate the metadata task?","body":"Why do you like to do that? Checked in Nexus to recreate the metadata task?"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1422957416,"post_id":28293361,"comment_id":44944319,"body_markdown":"Won&#39;t nexus just overwrite the metadata the next time the task runs?","body":"Won&#39;t nexus just overwrite the metadata the next time the task runs?"},{"owner":{"account_id":1687547,"reputation":3557,"user_id":1550506,"accept_rate":38,"display_name":""},"score":1,"creation_date":1422959612,"post_id":28293361,"comment_id":44945649,"body_markdown":"When I deleted a version of an artifact from nexus repository, the metadata file is not get updated. The deleted version is the latest version in maven-metadata.xml file. I tried &quot;Rebuild metadata&quot; option. But it doesn&#39;t worked.","body":"When I deleted a version of an artifact from nexus repository, the metadata file is not get updated. The deleted version is the latest version in maven-metadata.xml file. I tried &quot;Rebuild metadata&quot; option. But it doesn&#39;t worked."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1422964359,"post_id":28293361,"comment_id":44948324,"body_markdown":"Which version of Nexus do you use? Do you get any error message in the log file of Nexus?","body":"Which version of Nexus do you use? Do you get any error message in the log file of Nexus?"}],"answers":[{"tags":[],"owner":{"account_id":46211,"reputation":29587,"user_id":136445,"accept_rate":70,"display_name":"Manfred Moser"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423249417,"creation_date":1423249417,"answer_id":28372942,"question_id":28293361,"body_markdown":"The maven metadata files are maintained by Maven. Nexus updates them on deletion and has a scheduled task that can correct the files as well.\r\n\r\nHowever depending on the way you delete the files, the metadata might not get updated. E.g. if you just delete the files in the storage and dont use the Nexus application.","title":"How Update maven-metadata file in nexus programmaticaly","body":"<p>The maven metadata files are maintained by Maven. Nexus updates them on deletion and has a scheduled task that can correct the files as well.</p>\n\n<p>However depending on the way you delete the files, the metadata might not get updated. E.g. if you just delete the files in the storage and dont use the Nexus application.</p>\n"},{"tags":[],"owner":{"account_id":17728986,"reputation":1,"user_id":12872048,"display_name":"Taylan Erden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581344018,"creation_date":1581335278,"answer_id":60149768,"question_id":28293361,"body_markdown":"Use a Nexus restAPI call to have Nexus rebuild metadata after a deploy, a `DELETE` request to `/service/local/metadata/repositories/&lt;repo-id&gt;/content`.\r\n\r\nFor example:\r\n```\r\ncurl -v -u userID:password -X DELETE http://localhost:8081/nexus/service/local/metadata/repositories/snapshots/content/com/foo/some/artifact\r\n```","title":"How Update maven-metadata file in nexus programmaticaly","body":"<p>Use a Nexus restAPI call to have Nexus rebuild metadata after a deploy, a <code>DELETE</code> request to <code>/service/local/metadata/repositories/&lt;repo-id&gt;/content</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>curl -v -u userID:password -X DELETE http://localhost:8081/nexus/service/local/metadata/repositories/snapshots/content/com/foo/some/artifact\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16212300,"reputation":17,"user_id":11705931,"display_name":"Paul Barnes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674074326,"creation_date":1674074326,"answer_id":75165045,"question_id":28293361,"body_markdown":"I know this is an old question, but I stumbled onto this with the same problem and thought I&#39;d share my solution for the next person in my shoes. We have an application where we upload artifacts to a Nexus repository using the REST API, and this does not create the proper maven-metadata.xml files. For example, for com/test/artifact version 2.0.0, it creates com/test/artifact/2.0.0/maven-metadata.xml but not com/test/artifact/maven-metadata.xml. Nexus has a &#39;Repair - Rebuild Maven repository metadata&#39; task which will do what you want. Unfortunately there is no REST API to create tasks, only to list and run. I monitored network traffic while creating this task in the web UI and came up with this solution in the form of a bash snippet:\r\n```\r\n# create the task\r\nresponse=$(curl \\\r\n  --silent \\\r\n  --fail \\\r\n  --user $NEXUS_USERNAME:$NEXUS_PASSWORD \\\r\n  --header &quot;Content-Type: application/json&quot; \\\r\n  --data &#39;{&quot;action&quot;:&quot;coreui_Task&quot;,&quot;method&quot;:&quot;create&quot;,&quot;data&quot;:[{&quot;id&quot;:&quot;NX.coreui.model.Task-1&quot;,&quot;typeId&quot;:&quot;repository.maven.rebuild-metadata&quot;,&quot;enabled&quot;:true,&quot;name&quot;:&quot;rebuild maven metadata&quot;,&quot;alertEmail&quot;:&quot;&quot;,&quot;notificationCondition&quot;:&quot;FAILURE&quot;,&quot;schedule&quot;:&quot;manual&quot;,&quot;properties&quot;:{&quot;repositoryName&quot;:&quot;maven-hosted&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;artifactId&quot;:&quot;&quot;,&quot;baseVersion&quot;:&quot;&quot;,&quot;rebuildChecksums&quot;:&quot;false&quot;},&quot;recurringDays&quot;:[],&quot;startDate&quot;:null,&quot;timeZoneOffset&quot;:&quot;+00:00&quot;}],&quot;type&quot;:&quot;rpc&quot;,&quot;tid&quot;:0}&#39; \\\r\n  http://$NEXUS_SERVER/service/extdirect)\r\n\r\nif [ $? -eq 0 ]; then\r\n  taskid=$(echo $response | jq -r .result.data.id)\r\n  if [[ &quot;$taskid&quot; != &quot;null&quot; ]]; then\r\n    # run the task\r\n    curl \\\r\n      --silent \\\r\n      --user $NEXUS_USERNAME:$NEXUS_PASSWORD \\\r\n      --header &#39;accept: application/json&#39; \\\r\n      --header &quot;Content-Type: application/json&quot; \\\r\n      --request &#39;POST&#39; \\\r\n      --data &#39;&#39; \\\r\n      http://$NEXUS_SERVER/service/rest/v1/tasks/${taskid}/run\r\n  fi\r\nfi\r\n```\r\nWe&#39;re using Nexus OSS 3.41.","title":"How Update maven-metadata file in nexus programmaticaly","body":"<p>I know this is an old question, but I stumbled onto this with the same problem and thought I'd share my solution for the next person in my shoes. We have an application where we upload artifacts to a Nexus repository using the REST API, and this does not create the proper maven-metadata.xml files. For example, for com/test/artifact version 2.0.0, it creates com/test/artifact/2.0.0/maven-metadata.xml but not com/test/artifact/maven-metadata.xml. Nexus has a 'Repair - Rebuild Maven repository metadata' task which will do what you want. Unfortunately there is no REST API to create tasks, only to list and run. I monitored network traffic while creating this task in the web UI and came up with this solution in the form of a bash snippet:</p>\n<pre><code># create the task\nresponse=$(curl \\\n  --silent \\\n  --fail \\\n  --user $NEXUS_USERNAME:$NEXUS_PASSWORD \\\n  --header &quot;Content-Type: application/json&quot; \\\n  --data '{&quot;action&quot;:&quot;coreui_Task&quot;,&quot;method&quot;:&quot;create&quot;,&quot;data&quot;:[{&quot;id&quot;:&quot;NX.coreui.model.Task-1&quot;,&quot;typeId&quot;:&quot;repository.maven.rebuild-metadata&quot;,&quot;enabled&quot;:true,&quot;name&quot;:&quot;rebuild maven metadata&quot;,&quot;alertEmail&quot;:&quot;&quot;,&quot;notificationCondition&quot;:&quot;FAILURE&quot;,&quot;schedule&quot;:&quot;manual&quot;,&quot;properties&quot;:{&quot;repositoryName&quot;:&quot;maven-hosted&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;artifactId&quot;:&quot;&quot;,&quot;baseVersion&quot;:&quot;&quot;,&quot;rebuildChecksums&quot;:&quot;false&quot;},&quot;recurringDays&quot;:[],&quot;startDate&quot;:null,&quot;timeZoneOffset&quot;:&quot;+00:00&quot;}],&quot;type&quot;:&quot;rpc&quot;,&quot;tid&quot;:0}' \\\n  http://$NEXUS_SERVER/service/extdirect)\n\nif [ $? -eq 0 ]; then\n  taskid=$(echo $response | jq -r .result.data.id)\n  if [[ &quot;$taskid&quot; != &quot;null&quot; ]]; then\n    # run the task\n    curl \\\n      --silent \\\n      --user $NEXUS_USERNAME:$NEXUS_PASSWORD \\\n      --header 'accept: application/json' \\\n      --header &quot;Content-Type: application/json&quot; \\\n      --request 'POST' \\\n      --data '' \\\n      http://$NEXUS_SERVER/service/rest/v1/tasks/${taskid}/run\n  fi\nfi\n</code></pre>\n<p>We're using Nexus OSS 3.41.</p>\n"}],"owner":{"account_id":1687547,"reputation":3557,"user_id":1550506,"accept_rate":38,"display_name":""},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1674074326,"creation_date":1422947924,"question_id":28293361,"body_markdown":"I want to update maven-metadata.xml file in my nexus server programmatically. Is there any way I can do this? Can I use eclipse aether API for this?\r\n","title":"How Update maven-metadata file in nexus programmaticaly","body":"<p>I want to update maven-metadata.xml file in my nexus server programmatically. Is there any way I can do this? Can I use eclipse aether API for this?</p>\n"},{"tags":["java","json","jsonpath","jayway"],"comments":[{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":2,"creation_date":1674094197,"post_id":75165022,"comment_id":132643717,"body_markdown":"`resultSet.rows.text` is a String representation of a JSON object.  You need to de-serialize the string first for further JSON query.  Library [Josson](https://github.com/octomix/josson) can do that in one step.","body":"<code>resultSet.rows.text</code> is a String representation of a JSON object.  You need to de-serialize the string first for further JSON query.  Library <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">Josson</a> can do that in one step."},{"owner":{"account_id":19108145,"reputation":134,"user_id":13954773,"display_name":"Ashley Xu"},"score":0,"creation_date":1674840977,"post_id":75165022,"comment_id":132806354,"body_markdown":"I ended up switching to JackSon to do this, and it was much easier.","body":"I ended up switching to JackSon to do this, and it was much easier."}],"owner":{"account_id":19108145,"reputation":134,"user_id":13954773,"display_name":"Ashley Xu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674074219,"creation_date":1674074219,"question_id":75165022,"body_markdown":"I am trying to access the values for each of the three Awards object under the 2nd &quot;text&quot; component in the below JSON using Java.  I ultimately want to create objects with the information.\r\n\r\n\r\n```\r\n{\r\n    &quot;searchApiFormatVersion&quot;: &quot;1.0&quot;,\r\n    &quot;searchName&quot;: &quot;Details for Awards&quot;,\r\n    &quot;description&quot;: &quot;&quot;,\r\n    &quot;totalRowCount&quot;: &quot;3&quot;,\r\n    &quot;returnedRowCount&quot;: &quot;3&quot;,\r\n    &quot;startingReturnedRowNumber&quot;: &quot;1&quot;,\r\n    &quot;basetype&quot;: &quot;Project&quot;,\r\n    &quot;columnCount&quot;: &quot;2&quot;,\r\n    &quot;columnHeaders&quot;: [\r\n        {\r\n            &quot;text&quot;: &quot;ID&quot;,\r\n            &quot;dataType&quot;: &quot;string&quot;,\r\n            &quot;hierarchy&quot;: 1,\r\n            &quot;parentName&quot;: &quot;&quot;,\r\n            &quot;isEntity&quot;: false,\r\n            &quot;isEset&quot;: false\r\n        },\r\n        {\r\n            &quot;text&quot;: &quot;getPersonnelEffort()&quot;,\r\n            &quot;dataType&quot;: &quot;method&quot;,\r\n            &quot;hierarchy&quot;: 2,\r\n            &quot;parentName&quot;: &quot;Custom Extension&quot;,\r\n            &quot;isEntity&quot;: true,\r\n            &quot;isEset&quot;: false\r\n        }\r\n    ],\r\n    &quot;resultSet&quot;: {\r\n        &quot;rows&quot;: [\r\n            {\r\n                &quot;values&quot;: [\r\n                    {\r\n                        &quot;text&quot;: &quot;A00000029&quot;,\r\n                        &quot;dataType&quot;: &quot;string&quot;,\r\n                        &quot;columnHeader&quot;: &quot;ID&quot;\r\n                    },\r\n                    {\r\n                        &quot;text&quot;: &quot;{\\&quot;id\\&quot;:\\&quot;A00000029\\&quot;,\\&quot;allocations\\&quot;:[{\\&quot;AwardID\\&quot;:\\&quot;A00000029\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;SDH Proposal 001 Grants Capitation2\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;SDH Proposal 001 Testing2\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;University of Pennsylvania\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;UPENN\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;UP010523\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:null,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;4011100\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Neurobiology\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2022-12-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2025-11-30T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T20:16:01Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;SDH Proposal 001 Grants Capitation2\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;4011100\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Neurobiology\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;650\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:\\&quot;60063974\\&quot;,\\&quot;BudgetAllocationPeriodNumber\\&quot;:1,\\&quot;BudgetAllocationIndirectRate\\&quot;:60,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2022-12-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2023-11-30T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[]}]}&quot;,\r\n                        &quot;dataType&quot;: &quot;method&quot;,\r\n                        &quot;columnHeader&quot;: &quot;getPersonnelEffort()&quot;,\r\n                        &quot;oidPath&quot;: &quot;com.webridge.entity.Entity[OID[A3B036D38D3B11ED8199285DAF565000]]&quot;\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                &quot;values&quot;: [\r\n                    {\r\n                        &quot;text&quot;: &quot;A00000034&quot;,\r\n                        &quot;dataType&quot;: &quot;string&quot;,\r\n                        &quot;columnHeader&quot;: &quot;ID&quot;\r\n                    },\r\n                    {\r\n                        &quot;text&quot;: &quot;{\\&quot;id\\&quot;:\\&quot;A00000034\\&quot;,\\&quot;allocations\\&quot;:[{\\&quot;AwardID\\&quot;:\\&quot;A00000034\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;LC Test 01/04/23 - Non-Fed\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;LC Test 01/04/2023 - Non-Fed\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;23andMe, Inc.\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;23ANDME\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;1234\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:null,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;5111200\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Behavioral Medicine\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2023-01-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T16:16:40Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;LC Test 01/04/23 - Non-Fed\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;5111200\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Behavioral Medicine\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;610\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:null,\\&quot;BudgetAllocationPeriodNumber\\&quot;:1,\\&quot;BudgetAllocationIndirectRate\\&quot;:70.54679870605469,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2024-01-31T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[{\\&quot;AcademicMonthsEffort\\&quot;:2,\\&quot;AcademicMonthsSalaryRequested\\&quot;:1,\\&quot;CalendarMonthsRequested\\&quot;:1,\\&quot;CalendarMonthsEffort\\&quot;:2,\\&quot;CalendarCostShareMonths\\&quot;:1,\\&quot;CalendarCostShareSalaryRequestedPercent\\&quot;:0.07999999821186065,\\&quot;CalendarEffortPercent\\&quot;:0.17000000178813934,\\&quot;SummerMonthsEffort\\&quot;:null,\\&quot;SummerMonthsSalaryRequested\\&quot;:null,\\&quot;DistributeEffort\\&quot;:false,\\&quot;PersonnelRole\\&quot;:\\&quot;PD/PI\\&quot;,\\&quot;PersonFirstName\\&quot;:\\&quot;Leah\\&quot;,\\&quot;PersonLastName\\&quot;:\\&quot;Aberman\\&quot;,\\&quot;PersonEmployeeID\\&quot;:\\&quot;3247211\\&quot;,\\&quot;PersonAppointmentType\\&quot;:12,\\&quot;PersonStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;PersonEndDate\\&quot;:\\&quot;2024-01-31T06:00:00Z\\&quot;}]},{\\&quot;AwardID\\&quot;:\\&quot;A00000034\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;LC Test 01/04/23 - Non-Fed\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;LC Test 01/04/2023 - Non-Fed\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;23andMe, Inc.\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;23ANDME\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;1234\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:null,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;5111200\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Behavioral Medicine\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2023-01-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T16:16:40Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;LC Test 01/04/23 - Non-Fed\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;5111200\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Behavioral Medicine\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;610\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:null,\\&quot;BudgetAllocationPeriodNumber\\&quot;:3,\\&quot;BudgetAllocationIndirectRate\\&quot;:72,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2025-02-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[{\\&quot;AcademicMonthsEffort\\&quot;:12,\\&quot;AcademicMonthsSalaryRequested\\&quot;:11,\\&quot;CalendarMonthsRequested\\&quot;:11,\\&quot;CalendarMonthsEffort\\&quot;:12,\\&quot;CalendarCostShareMonths\\&quot;:1,\\&quot;CalendarCostShareSalaryRequestedPercent\\&quot;:0.07999999821186065,\\&quot;CalendarEffortPercent\\&quot;:1,\\&quot;SummerMonthsEffort\\&quot;:null,\\&quot;SummerMonthsSalaryRequested\\&quot;:null,\\&quot;DistributeEffort\\&quot;:false,\\&quot;PersonnelRole\\&quot;:\\&quot;PD/PI\\&quot;,\\&quot;PersonFirstName\\&quot;:\\&quot;Leah\\&quot;,\\&quot;PersonLastName\\&quot;:\\&quot;Aberman\\&quot;,\\&quot;PersonEmployeeID\\&quot;:\\&quot;3247211\\&quot;,\\&quot;PersonAppointmentType\\&quot;:12,\\&quot;PersonStartDate\\&quot;:\\&quot;2025-02-01T06:00:00Z\\&quot;,\\&quot;PersonEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;}]}]}&quot;,\r\n                        &quot;dataType&quot;: &quot;method&quot;,\r\n                        &quot;columnHeader&quot;: &quot;getPersonnelEffort()&quot;,\r\n                        &quot;oidPath&quot;: &quot;com.webridge.entity.Entity[OID[E0E466FA8DEA11ED8199285DAF565000]]&quot;\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                &quot;values&quot;: [\r\n                    {\r\n                        &quot;text&quot;: &quot;A00000040&quot;,\r\n                        &quot;dataType&quot;: &quot;string&quot;,\r\n                        &quot;columnHeader&quot;: &quot;ID&quot;\r\n                    },\r\n                    {\r\n                        &quot;text&quot;: &quot;{\\&quot;id\\&quot;:\\&quot;A00000040\\&quot;,\\&quot;allocations\\&quot;:[{\\&quot;AwardID\\&quot;:\\&quot;A00000040\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;KSA0109 DOD CS\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;KSA0109 DOD CS long title\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;Air Force Office of Scientific Research\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;AFOSR\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;AFOSR0109ABC\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:\\&quot;12.431\\&quot;,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;40115001\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Physics &amp; Astronomy\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T21:59:43Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;KSA01091 DOD CS\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;40115001\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Physics &amp; Astronomy\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;610\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:\\&quot;60063981\\&quot;,\\&quot;BudgetAllocationPeriodNumber\\&quot;:1,\\&quot;BudgetAllocationIndirectRate\\&quot;:0,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2024-01-31T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[]},{\\&quot;AwardID\\&quot;:\\&quot;A00000040\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;KSA0109 DOD CS\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;KSA0109 DOD CS long title\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;Air Force Office of Scientific Research\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;AFOSR\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;AFOSR0109A\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:\\&quot;12.431\\&quot;,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;4011500\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Physics &amp; Astronomy\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T21:59:43Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;KSA0109 DOD CS\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;4011500\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Physics &amp; Astronomy\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;610\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:\\&quot;60063981\\&quot;,\\&quot;BudgetAllocationPeriodNumber\\&quot;:1,\\&quot;BudgetAllocationIndirectRate\\&quot;:60,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2024-01-31T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[]}]}&quot;,\r\n                        &quot;dataType&quot;: &quot;method&quot;,\r\n                        &quot;columnHeader&quot;: &quot;getPersonnelEffort()&quot;,\r\n                        &quot;oidPath&quot;: &quot;com.webridge.entity.Entity[OID[A07BF574903C11ED8199285DAF565000]]&quot;\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m using Jayway JsonPath syntax to access it and can get down to the text component using the code below.\r\n\r\n```\r\n        String jsonPath = &quot;$.&quot; + &quot;resultSet&quot; + &quot;.&quot; + &quot;rows&quot; + &quot;..&quot; + &quot;text&quot;;\r\n        String response = JsonPath.read(stringJsonResponse, jsonPath).toString();\r\n        logger.info(&quot;Response: &quot; + response);\r\n\r\n```\r\n\r\nWhen I try something like the below, I get an empty response.  Would anyone know how to dig down deeper?\r\n\r\nString jsonPath = &quot;$.&quot; + &quot;resultSet&quot; + &quot;.&quot; + &quot;rows&quot; + &quot;..&quot; + &quot;text&quot; + &quot;..&quot; + &quot;AwardID;\r\n","title":"How would I access array within JSon object using JayWay JsonPath?","body":"<p>I am trying to access the values for each of the three Awards object under the 2nd &quot;text&quot; component in the below JSON using Java.  I ultimately want to create objects with the information.</p>\n<pre><code>{\n    &quot;searchApiFormatVersion&quot;: &quot;1.0&quot;,\n    &quot;searchName&quot;: &quot;Details for Awards&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;totalRowCount&quot;: &quot;3&quot;,\n    &quot;returnedRowCount&quot;: &quot;3&quot;,\n    &quot;startingReturnedRowNumber&quot;: &quot;1&quot;,\n    &quot;basetype&quot;: &quot;Project&quot;,\n    &quot;columnCount&quot;: &quot;2&quot;,\n    &quot;columnHeaders&quot;: [\n        {\n            &quot;text&quot;: &quot;ID&quot;,\n            &quot;dataType&quot;: &quot;string&quot;,\n            &quot;hierarchy&quot;: 1,\n            &quot;parentName&quot;: &quot;&quot;,\n            &quot;isEntity&quot;: false,\n            &quot;isEset&quot;: false\n        },\n        {\n            &quot;text&quot;: &quot;getPersonnelEffort()&quot;,\n            &quot;dataType&quot;: &quot;method&quot;,\n            &quot;hierarchy&quot;: 2,\n            &quot;parentName&quot;: &quot;Custom Extension&quot;,\n            &quot;isEntity&quot;: true,\n            &quot;isEset&quot;: false\n        }\n    ],\n    &quot;resultSet&quot;: {\n        &quot;rows&quot;: [\n            {\n                &quot;values&quot;: [\n                    {\n                        &quot;text&quot;: &quot;A00000029&quot;,\n                        &quot;dataType&quot;: &quot;string&quot;,\n                        &quot;columnHeader&quot;: &quot;ID&quot;\n                    },\n                    {\n                        &quot;text&quot;: &quot;{\\&quot;id\\&quot;:\\&quot;A00000029\\&quot;,\\&quot;allocations\\&quot;:[{\\&quot;AwardID\\&quot;:\\&quot;A00000029\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;SDH Proposal 001 Grants Capitation2\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;SDH Proposal 001 Testing2\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;University of Pennsylvania\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;UPENN\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;UP010523\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:null,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;4011100\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Neurobiology\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2022-12-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2025-11-30T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T20:16:01Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;SDH Proposal 001 Grants Capitation2\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;4011100\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Neurobiology\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;650\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:\\&quot;60063974\\&quot;,\\&quot;BudgetAllocationPeriodNumber\\&quot;:1,\\&quot;BudgetAllocationIndirectRate\\&quot;:60,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2022-12-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2023-11-30T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[]}]}&quot;,\n                        &quot;dataType&quot;: &quot;method&quot;,\n                        &quot;columnHeader&quot;: &quot;getPersonnelEffort()&quot;,\n                        &quot;oidPath&quot;: &quot;com.webridge.entity.Entity[OID[A3B036D38D3B11ED8199285DAF565000]]&quot;\n                    }\n                ]\n            },\n            {\n                &quot;values&quot;: [\n                    {\n                        &quot;text&quot;: &quot;A00000034&quot;,\n                        &quot;dataType&quot;: &quot;string&quot;,\n                        &quot;columnHeader&quot;: &quot;ID&quot;\n                    },\n                    {\n                        &quot;text&quot;: &quot;{\\&quot;id\\&quot;:\\&quot;A00000034\\&quot;,\\&quot;allocations\\&quot;:[{\\&quot;AwardID\\&quot;:\\&quot;A00000034\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;LC Test 01/04/23 - Non-Fed\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;LC Test 01/04/2023 - Non-Fed\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;23andMe, Inc.\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;23ANDME\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;1234\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:null,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;5111200\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Behavioral Medicine\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2023-01-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T16:16:40Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;LC Test 01/04/23 - Non-Fed\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;5111200\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Behavioral Medicine\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;610\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:null,\\&quot;BudgetAllocationPeriodNumber\\&quot;:1,\\&quot;BudgetAllocationIndirectRate\\&quot;:70.54679870605469,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2024-01-31T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[{\\&quot;AcademicMonthsEffort\\&quot;:2,\\&quot;AcademicMonthsSalaryRequested\\&quot;:1,\\&quot;CalendarMonthsRequested\\&quot;:1,\\&quot;CalendarMonthsEffort\\&quot;:2,\\&quot;CalendarCostShareMonths\\&quot;:1,\\&quot;CalendarCostShareSalaryRequestedPercent\\&quot;:0.07999999821186065,\\&quot;CalendarEffortPercent\\&quot;:0.17000000178813934,\\&quot;SummerMonthsEffort\\&quot;:null,\\&quot;SummerMonthsSalaryRequested\\&quot;:null,\\&quot;DistributeEffort\\&quot;:false,\\&quot;PersonnelRole\\&quot;:\\&quot;PD/PI\\&quot;,\\&quot;PersonFirstName\\&quot;:\\&quot;Leah\\&quot;,\\&quot;PersonLastName\\&quot;:\\&quot;Aberman\\&quot;,\\&quot;PersonEmployeeID\\&quot;:\\&quot;3247211\\&quot;,\\&quot;PersonAppointmentType\\&quot;:12,\\&quot;PersonStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;PersonEndDate\\&quot;:\\&quot;2024-01-31T06:00:00Z\\&quot;}]},{\\&quot;AwardID\\&quot;:\\&quot;A00000034\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;LC Test 01/04/23 - Non-Fed\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;LC Test 01/04/2023 - Non-Fed\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;23andMe, Inc.\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;23ANDME\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;1234\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:null,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;5111200\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Behavioral Medicine\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2023-01-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T16:16:40Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;LC Test 01/04/23 - Non-Fed\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;5111200\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Behavioral Medicine\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;610\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:null,\\&quot;BudgetAllocationPeriodNumber\\&quot;:3,\\&quot;BudgetAllocationIndirectRate\\&quot;:72,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2025-02-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[{\\&quot;AcademicMonthsEffort\\&quot;:12,\\&quot;AcademicMonthsSalaryRequested\\&quot;:11,\\&quot;CalendarMonthsRequested\\&quot;:11,\\&quot;CalendarMonthsEffort\\&quot;:12,\\&quot;CalendarCostShareMonths\\&quot;:1,\\&quot;CalendarCostShareSalaryRequestedPercent\\&quot;:0.07999999821186065,\\&quot;CalendarEffortPercent\\&quot;:1,\\&quot;SummerMonthsEffort\\&quot;:null,\\&quot;SummerMonthsSalaryRequested\\&quot;:null,\\&quot;DistributeEffort\\&quot;:false,\\&quot;PersonnelRole\\&quot;:\\&quot;PD/PI\\&quot;,\\&quot;PersonFirstName\\&quot;:\\&quot;Leah\\&quot;,\\&quot;PersonLastName\\&quot;:\\&quot;Aberman\\&quot;,\\&quot;PersonEmployeeID\\&quot;:\\&quot;3247211\\&quot;,\\&quot;PersonAppointmentType\\&quot;:12,\\&quot;PersonStartDate\\&quot;:\\&quot;2025-02-01T06:00:00Z\\&quot;,\\&quot;PersonEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;}]}]}&quot;,\n                        &quot;dataType&quot;: &quot;method&quot;,\n                        &quot;columnHeader&quot;: &quot;getPersonnelEffort()&quot;,\n                        &quot;oidPath&quot;: &quot;com.webridge.entity.Entity[OID[E0E466FA8DEA11ED8199285DAF565000]]&quot;\n                    }\n                ]\n            },\n            {\n                &quot;values&quot;: [\n                    {\n                        &quot;text&quot;: &quot;A00000040&quot;,\n                        &quot;dataType&quot;: &quot;string&quot;,\n                        &quot;columnHeader&quot;: &quot;ID&quot;\n                    },\n                    {\n                        &quot;text&quot;: &quot;{\\&quot;id\\&quot;:\\&quot;A00000040\\&quot;,\\&quot;allocations\\&quot;:[{\\&quot;AwardID\\&quot;:\\&quot;A00000040\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;KSA0109 DOD CS\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;KSA0109 DOD CS long title\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;Air Force Office of Scientific Research\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;AFOSR\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;AFOSR0109ABC\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:\\&quot;12.431\\&quot;,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;40115001\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Physics &amp; Astronomy\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T21:59:43Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;KSA01091 DOD CS\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;40115001\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Physics &amp; Astronomy\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;610\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:\\&quot;60063981\\&quot;,\\&quot;BudgetAllocationPeriodNumber\\&quot;:1,\\&quot;BudgetAllocationIndirectRate\\&quot;:0,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2024-01-31T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[]},{\\&quot;AwardID\\&quot;:\\&quot;A00000040\\&quot;,\\&quot;AwardShortTitle\\&quot;:\\&quot;KSA0109 DOD CS\\&quot;,\\&quot;AwardLongTitle\\&quot;:\\&quot;KSA0109 DOD CS long title\\&quot;,\\&quot;DirectSponsorName\\&quot;:\\&quot;Air Force Office of Scientific Research\\&quot;,\\&quot;DirectSponsorID\\&quot;:\\&quot;AFOSR\\&quot;,\\&quot;DirectsponsorAWDID\\&quot;:\\&quot;AFOSR0109A\\&quot;,\\&quot;PrimeSponsorName\\&quot;:null,\\&quot;PrimeSponsorID\\&quot;:null,\\&quot;PrimesponsorAWDID\\&quot;:null,\\&quot;CFDA\\&quot;:\\&quot;12.431\\&quot;,\\&quot;SponsorAwardDate\\&quot;:null,\\&quot;AwardDepartmentID\\&quot;:\\&quot;4011500\\&quot;,\\&quot;AwardDepartmentName\\&quot;:\\&quot;Physics &amp; Astronomy\\&quot;,\\&quot;AwardStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;AwardEndDate\\&quot;:\\&quot;2026-01-31T06:00:00Z\\&quot;,\\&quot;AwardProjectState\\&quot;:\\&quot;Active\\&quot;,\\&quot;AwardDateModified\\&quot;:\\&quot;2023-01-10T21:59:43Z\\&quot;,\\&quot;FinancialAccountName\\&quot;:\\&quot;KSA0109 DOD CS\\&quot;,\\&quot;FinancialAccountResponsibleUnitID\\&quot;:\\&quot;4011500\\&quot;,\\&quot;FinancialAccountResponsibleUnitName\\&quot;:\\&quot;Physics &amp; Astronomy\\&quot;,\\&quot;FinancialAccountFund\\&quot;:\\&quot;610\\&quot;,\\&quot;FinancialAccountPeopleSoftProjectID\\&quot;:\\&quot;60063981\\&quot;,\\&quot;BudgetAllocationPeriodNumber\\&quot;:1,\\&quot;BudgetAllocationIndirectRate\\&quot;:60,\\&quot;BudgetAllocationStartDate\\&quot;:\\&quot;2023-02-01T06:00:00Z\\&quot;,\\&quot;BudgetAllocationEndDate\\&quot;:\\&quot;2024-01-31T06:00:00Z\\&quot;,\\&quot;Effort\\&quot;:[]}]}&quot;,\n                        &quot;dataType&quot;: &quot;method&quot;,\n                        &quot;columnHeader&quot;: &quot;getPersonnelEffort()&quot;,\n                        &quot;oidPath&quot;: &quot;com.webridge.entity.Entity[OID[A07BF574903C11ED8199285DAF565000]]&quot;\n                    }\n                ]\n            }\n        ]\n    }\n}\n</code></pre>\n<p>I'm using Jayway JsonPath syntax to access it and can get down to the text component using the code below.</p>\n<pre><code>        String jsonPath = &quot;$.&quot; + &quot;resultSet&quot; + &quot;.&quot; + &quot;rows&quot; + &quot;..&quot; + &quot;text&quot;;\n        String response = JsonPath.read(stringJsonResponse, jsonPath).toString();\n        logger.info(&quot;Response: &quot; + response);\n\n</code></pre>\n<p>When I try something like the below, I get an empty response.  Would anyone know how to dig down deeper?</p>\n<p>String jsonPath = &quot;$.&quot; + &quot;resultSet&quot; + &quot;.&quot; + &quot;rows&quot; + &quot;..&quot; + &quot;text&quot; + &quot;..&quot; + &quot;AwardID;</p>\n"},{"tags":["java","java-service-wrapper"],"comments":[{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1352943740,"post_id":13390260,"comment_id":18289816,"body_markdown":"I don&#39;t know what is Tanuki but you will need to post the entire error message for anyone to be able to help","body":"I don&#39;t know what is Tanuki but you will need to post the entire error message for anyone to be able to help"},{"owner":{"account_id":357515,"reputation":438,"user_id":1509638,"accept_rate":80,"display_name":"Umang Desai"},"score":0,"creation_date":1352945777,"post_id":13390260,"comment_id":18290248,"body_markdown":"Ok. Posted the error message. Hope someone can help. I think this is a beginners issue i am facing. Probably placing a file in a wrong directory somewhere. Tried looking around a lot.","body":"Ok. Posted the error message. Hope someone can help. I think this is a beginners issue i am facing. Probably placing a file in a wrong directory somewhere. Tried looking around a lot."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1352946034,"post_id":13390260,"comment_id":18290287,"body_markdown":"Did you try using full paths?","body":"Did you try using full paths?"},{"owner":{"account_id":357515,"reputation":438,"user_id":1509638,"accept_rate":80,"display_name":"Umang Desai"},"score":0,"creation_date":1352947092,"post_id":13390260,"comment_id":18290478,"body_markdown":"I just tried that. The problem is, i have a Space in the path. \nIt is, &quot;D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\&quot;. So here, it only reads till Eclipse. \nHow do i escape that space. I tried putting the path in [].","body":"I just tried that. The problem is, i have a Space in the path.  It is, &quot;D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\&quot;. So here, it only reads till Eclipse.  How do i escape that space. I tried putting the path in []."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1352947521,"post_id":13390260,"comment_id":18290546,"body_markdown":"Remembered that I *have* used Tanuki service wrapper. Just checked my conf file and realized we don&#39;t have spacey paths. Can you not install in a different path?","body":"Remembered that I <i>have</i> used Tanuki service wrapper. Just checked my conf file and realized we don&#39;t have spacey paths. Can you not install in a different path?"},{"owner":{"account_id":357515,"reputation":438,"user_id":1509638,"accept_rate":80,"display_name":"Umang Desai"},"score":0,"creation_date":1352947831,"post_id":13390260,"comment_id":18290602,"body_markdown":"About to do that, but also a very big mistake i made was, i did not change the calsspath numbers :s . Relative paths work\nSO now it can locate the WrapperSimpleApp class, but cannot locate my applications main class. It is in the bin folder inside the package esq/logreader. Do i need to specify bin in my path?","body":"About to do that, but also a very big mistake i made was, i did not change the calsspath numbers :s . Relative paths work SO now it can locate the WrapperSimpleApp class, but cannot locate my applications main class. It is in the bin folder inside the package esq/logreader. Do i need to specify bin in my path?"},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1352948452,"post_id":13390260,"comment_id":18290715,"body_markdown":"I have all the jars required in `wrapper.java.classpath.N` properties. You definitely need the application&#39;s entire classpath in these","body":"I have all the jars required in <code>wrapper.java.classpath.N</code> properties. You definitely need the application&#39;s entire classpath in these"},{"owner":{"account_id":357515,"reputation":438,"user_id":1509638,"accept_rate":80,"display_name":"Umang Desai"},"score":0,"creation_date":1352948560,"post_id":13390260,"comment_id":18290733,"body_markdown":"I do have that as well, am not sure why it isnt able to locate the class i am trying to load for the service. \nAm updating my error log, if you can catch a mistake that would be great. Thanks for the help. :)","body":"I do have that as well, am not sure why it isnt able to locate the class i am trying to load for the service.  Am updating my error log, if you can catch a mistake that would be great. Thanks for the help. :)"},{"owner":{"account_id":357515,"reputation":438,"user_id":1509638,"accept_rate":80,"display_name":"Umang Desai"},"score":0,"creation_date":1352948780,"post_id":13390260,"comment_id":18290783,"body_markdown":"Do i need to have a .jar of the application i am trying to run as well? I think if i am to follow that method, i will have to use the 4th integration method provided by tanuki software","body":"Do i need to have a .jar of the application i am trying to run as well? I think if i am to follow that method, i will have to use the 4th integration method provided by tanuki software"},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1352949047,"post_id":13390260,"comment_id":18290840,"body_markdown":"Yes, the classpath of the application that you are trying to run as service needs to be in the wrapper.java.classpath","body":"Yes, the classpath of the application that you are trying to run as service needs to be in the wrapper.java.classpath"},{"owner":{"account_id":357515,"reputation":438,"user_id":1509638,"accept_rate":80,"display_name":"Umang Desai"},"score":0,"creation_date":1352949321,"post_id":13390260,"comment_id":18290897,"body_markdown":"No, i meant that do i need to pack my entire application in a jar file. I already have the necessary libraries i need for the application in the wrapper.java.classpath.","body":"No, i meant that do i need to pack my entire application in a jar file. I already have the necessary libraries i need for the application in the wrapper.java.classpath."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1352949406,"post_id":13390260,"comment_id":18290913,"body_markdown":"No, the app does not *have* to be in a jar, though that&#39;s the way it is usually done. But if there are bare classfiles then the folder has to be in the wrapper classpath","body":"No, the app does not <i>have</i> to be in a jar, though that&#39;s the way it is usually done. But if there are bare classfiles then the folder has to be in the wrapper classpath"},{"owner":{"account_id":357515,"reputation":438,"user_id":1509638,"accept_rate":80,"display_name":"Umang Desai"},"score":0,"creation_date":1352949999,"post_id":13390260,"comment_id":18291022,"body_markdown":"All my dependencies(libraries needed for application) are in a jar. Will look around a little, hopefully i will figure it out.\nWill post the solution if i do find it. \n\nThanks for the help @MiserableVariable","body":"All my dependencies(libraries needed for application) are in a jar. Will look around a little, hopefully i will figure it out. Will post the solution if i do find it.   Thanks for the help @MiserableVariable"}],"answers":[{"comments":[{"owner":{"account_id":357515,"reputation":438,"user_id":1509638,"accept_rate":80,"display_name":"Umang Desai"},"score":0,"creation_date":1353035631,"post_id":13403581,"comment_id":18322645,"body_markdown":"Hey, sorry about posting a slightly different config file. \nI got the application running fine now. But i had to put my application in a jar file.\n\nWhat i am confused about is that, why did it not read the stand alone class file. I tried specifying the full path, the relative path with the bin folder(../bin/esq.logreader.DbTestDriver) and the relative path esq.logreader.DbTestDriver.","body":"Hey, sorry about posting a slightly different config file.  I got the application running fine now. But i had to put my application in a jar file.  What i am confused about is that, why did it not read the stand alone class file. I tried specifying the full path, the relative path with the bin folder(../bin/esq.logreader.DbTestDriver) and the relative path esq.logreader.DbTestDriver."},{"owner":{"account_id":193690,"reputation":2307,"user_id":435583,"display_name":"Naytzyrhc"},"score":0,"creation_date":1353294695,"post_id":13403581,"comment_id":18387195,"body_markdown":"@UmangDesai: have you been able to resolve the problem? If not, please provide an update with the latest error message and the conf file. if you want to use the class file directly, you only need to add the directory, where the class file is located to the wrapper.java.classpath.&lt;n&gt; and then as wrapper.app.parameter use the name of the mainclass, i.e. esq.logreader.DbTestDriver","body":"@UmangDesai: have you been able to resolve the problem? If not, please provide an update with the latest error message and the conf file. if you want to use the class file directly, you only need to add the directory, where the class file is located to the wrapper.java.classpath.&lt;n&gt; and then as wrapper.app.parameter use the name of the mainclass, i.e. esq.logreader.DbTestDriver"}],"tags":[],"owner":{"account_id":354211,"reputation":194,"user_id":692420,"display_name":"Leif Mortenson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353003042,"creation_date":1353003042,"answer_id":13403581,"question_id":13390260,"body_markdown":"The error about the native library is because the wrapper.dll is version 3.4.0 which the version of the Wrapper.exe and wrapper.jar are 3.5.15.  Please be sure to use the same version.\r\n\r\nThe main problem you are seeing is with the launching of the application.  The error is saying that the WrapperSimpleApp class&#39;s main method is not receiving the correct arguments.\r\n\r\nLooking at your configuration file, the first argument is:\r\nwrapper.app.parameter.1=esq.logreader.DbTestDriver\r\n\r\nThis looks correct.   But the command line looks like this:\r\n..bin\\esq.logreader.DbTestDriver\r\n\r\nAre you sure that the wrapper.conf file you posted is the same as the one used to create the wrapper.log file?  From the log output, it looks like the following setting was being used:\r\nwrapper.app.parameter.1=..bin\\esq.logreader.DbTestDriver\r\n\r\nCheers,\r\nLeif\r\n","title":"Tanuki Software Java Service Wrapper. Error: Could not find class","body":"<p>The error about the native library is because the wrapper.dll is version 3.4.0 which the version of the Wrapper.exe and wrapper.jar are 3.5.15.  Please be sure to use the same version.</p>\n\n<p>The main problem you are seeing is with the launching of the application.  The error is saying that the WrapperSimpleApp class's main method is not receiving the correct arguments.</p>\n\n<p>Looking at your configuration file, the first argument is:\nwrapper.app.parameter.1=esq.logreader.DbTestDriver</p>\n\n<p>This looks correct.   But the command line looks like this:\n..bin\\esq.logreader.DbTestDriver</p>\n\n<p>Are you sure that the wrapper.conf file you posted is the same as the one used to create the wrapper.log file?  From the log output, it looks like the following setting was being used:\nwrapper.app.parameter.1=..bin\\esq.logreader.DbTestDriver</p>\n\n<p>Cheers,\nLeif</p>\n"},{"tags":[],"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674074067,"creation_date":1674074067,"answer_id":75165001,"question_id":13390260,"body_markdown":"I encountered a similar error.  For me the solution was making sure the matching wrapper.dll version was located in the search paths defined by\r\nthe &quot;wrapper.java.library.path.&lt;n&gt;&quot; property entries [1] in the wrapper.conf file \r\n\r\n1 - https://wrapper.tanukisoftware.com/doc/english/prop-java-library-path-n.html.","title":"Tanuki Software Java Service Wrapper. Error: Could not find class","body":"<p>I encountered a similar error.  For me the solution was making sure the matching wrapper.dll version was located in the search paths defined by\nthe &quot;wrapper.java.library.path.&quot; property entries [1] in the wrapper.conf file</p>\n<p>1 - <a href=\"https://wrapper.tanukisoftware.com/doc/english/prop-java-library-path-n.html\" rel=\"nofollow noreferrer\">https://wrapper.tanukisoftware.com/doc/english/prop-java-library-path-n.html</a>.</p>\n"}],"owner":{"account_id":357515,"reputation":438,"user_id":1509638,"accept_rate":80,"display_name":"Umang Desai"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674074067,"creation_date":1352942939,"question_id":13390260,"body_markdown":"I am trying to start my application as a service using the Tanuki Java Service Wrapper.\r\n\r\nI have created the directories as mentioned for the WrapperSimpleApp.\r\nThis is my config file.\r\n\r\n    #encoding=UTF-8\r\n    # Configuration files must begin with a line specifying the encoding\r\n    #  of the the file.\r\n    \r\n    #********************************************************************\r\n    # Wrapper License Properties (Ignored by Community Edition)\r\n    #********************************************************************\r\n    # Professional and Standard Editions of the Wrapper require a valid\r\n    #  License Key to start.  Licenses can be purchased or a trial license\r\n    #  requested on the following pages:\r\n    # http://wrapper.tanukisoftware.com/purchase\r\n    # http://wrapper.tanukisoftware.com/trial\r\n    \r\n    # Include file problems can be debugged by removing the first &#39;#&#39;\r\n    #  from the following line:\r\n    ##include.debug\r\n    \r\n    # The Wrapper will look for either of the following optional files for a\r\n    #  valid License Key.  License Key properties can optionally be included\r\n    #  directly in this configuration file.\r\n    #include ../conf/wrapper-license.conf\r\n    #include ../conf/wrapper-license-%WRAPPER_HOST_NAME%.conf\r\n    \r\n    # The following property will output information about which License Key(s)\r\n    #  are being found, and can aid in resolving any licensing problems.\r\n    #wrapper.license.debug=TRUE\r\n    \r\n    #********************************************************************\r\n    # Wrapper Localization\r\n    #********************************************************************\r\n    # Specify the locale which the Wrapper should use.  By default the system\r\n    #  locale is used.\r\n    #wrapper.lang=en_US # en_US or ja_JP\r\n    \r\n    # Specify the location of the Wrapper&#39;s language resources.  If these are\r\n    #  missing, the Wrapper will default to the en_US locale.\r\n    wrapper.lang.folder=../lang\r\n    \r\n    #********************************************************************\r\n    # Wrapper Java Properties\r\n    #********************************************************************\r\n    # Java Application\r\n    #  Locate the java binary on the system PATH:\r\n    wrapper.java.command=java\r\n    #  Specify a specific java binary:\r\n    #set.JAVA_HOME=c:/Prigram Files/Java/jdk1.7.0_03\r\n    #wrapper.java.command=%JAVA_HOME%/bin/java\r\n    \r\n    # Tell the Wrapper to log the full generated Java command line.\r\n    #wrapper.java.command.loglevel=INFO\r\n    \r\n    # Java Main class.  This class must implement the WrapperListener interface\r\n    #  or guarantee that the WrapperManager class is initialized.  Helper\r\n    #  classes are provided to do this for you.  See the Integration section\r\n    #  of the documentation for details.\r\n    wrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperSimpleApp\r\n    \r\n    # Java Classpath (include wrapper.jar)  Add class path elements as\r\n    #  needed starting from 1\r\n    wrapper.java.classpath.1=../lib/wrapper.jar\r\n    wrapper.java.classpath.2=../lib/jna/jna.jar\r\n    wrapper.java.classpath.3=../lib/jna/platform.jar\r\n    wrapper.java.classpath.4=../lib/sqljdbc_4.0/enu/sqljdbc4.jar\r\n    \r\n    # Java Library Path (location of Wrapper.DLL or libwrapper.so)\r\n    wrapper.java.library.path.1=../lib/native\r\n    \r\n    # Java Bits.  On applicable platforms, tells the JVM to run in 32 or 64-bit mode.\r\n    wrapper.java.additional.auto_bits=TRUE\r\n    \r\n    # Java Additional Parameters\r\n    wrapper.java.additional.1=\r\n    \r\n    # Initial Java Heap Size (in MB)\r\n    #wrapper.java.initmemory=3\r\n    \r\n    # Maximum Java Heap Size (in MB)\r\n    #wrapper.java.maxmemory=64\r\n    \r\n    # Application parameters.  Add parameters as needed starting from 1\r\n    wrapper.app.parameter.1=esq.logreader.DbTestDriver\r\n    wrapper.app.parameter.2=Event_Logger\r\n    wrapper.app.parameter.3=Event_Table\r\n    wrapper.app.parameter.4=Scouser\r\n    wrapper.app.parameter.5=12345\r\n    \r\n    #********************************************************************\r\n    # Wrapper Logging Properties\r\n    #********************************************************************\r\n    # Enables Debug output from the Wrapper.\r\n    wrapper.debug=TRUE\r\n    \r\n    # Format of output for the console.  (See docs for formats)\r\n    wrapper.console.format=PM\r\n    \r\n    # Log Level for console output.  (See docs for log levels)\r\n    wrapper.console.loglevel=INFO\r\n    \r\n    # Log file to use for wrapper output logging.\r\n    wrapper.logfile=../logs/wrapper.log\r\n    \r\n    # Format of output for the log file.  (See docs for formats)\r\n    wrapper.logfile.format=LPTM\r\n    \r\n    # Log Level for log file output.  (See docs for log levels)\r\n    wrapper.logfile.loglevel=INFO\r\n    \r\n    # Maximum size that the log file will be allowed to grow to before\r\n    #  the log is rolled. Size is specified in bytes.  The default value\r\n    #  of 0, disables log rolling.  May abbreviate with the &#39;k&#39; (kb) or\r\n    #  &#39;m&#39; (mb) suffix.  For example: 10m = 10 megabytes.\r\n    wrapper.logfile.maxsize=0\r\n    \r\n    # Maximum number of rolled log files which will be allowed before old\r\n    #  files are deleted.  The default value of 0 implies no limit.\r\n    wrapper.logfile.maxfiles=0\r\n    \r\n    # Log Level for sys/event log output.  (See docs for log levels)\r\n    wrapper.syslog.loglevel=NONE\r\n    \r\n    #********************************************************************\r\n    # Wrapper General Properties\r\n    #********************************************************************\r\n    # Allow for the use of non-contiguous numbered properties\r\n    wrapper.ignore_sequence_gaps=TRUE\r\n    \r\n    # Do not start if the pid file already exists.\r\n    wrapper.pidfile.strict=TRUE\r\n    \r\n    # Title to use when running as a console\r\n    wrapper.console.title=@app.long.name@\r\n    \r\n    #********************************************************************\r\n    # Wrapper JVM Checks\r\n    #********************************************************************\r\n    # Detect DeadLocked Threads in the JVM. (Requires Standard Edition)\r\n    wrapper.check.deadlock=TRUE\r\n    wrapper.check.deadlock.interval=60\r\n    wrapper.check.deadlock.action=RESTART\r\n    wrapper.check.deadlock.output=FULL\r\n    \r\n    # Out Of Memory detection.\r\n    # (Simple match)\r\n    wrapper.filter.trigger.1000=java.lang.OutOfMemoryError\r\n    # (Only match text in stack traces if -XX:+PrintClassHistogram is being used.)\r\n    #wrapper.filter.trigger.1000=Exception in thread &quot;*&quot; java.lang.OutOfMemoryError\r\n    #wrapper.filter.allow_wildcards.1000=TRUE\r\n    wrapper.filter.action.1000=RESTART\r\n    wrapper.filter.message.1000=The JVM has run out of memory.\r\n\r\nP.S: i have removed the rest of the part of config file, as i have kept it as it was in the default config file provided. Din want to make things messy and long in this post.\r\n\r\nError Message(Updated):\r\n\r\n    STATUS | wrapper  | 2012/11/14 19:04:39 | --&gt; Wrapper Started as Console\r\n    STATUS | wrapper  | 2012/11/14 19:04:39 | Java Service Wrapper Community Edition 32-bit 3.5.15\r\n    STATUS | wrapper  | 2012/11/14 19:04:39 |   Copyright (C) 1999-2012 Tanuki Software, Ltd. All Rights Reserved.\r\n    STATUS | wrapper  | 2012/11/14 19:04:39 |     http://wrapper.tanukisoftware.com\r\n    STATUS | wrapper  | 2012/11/14 19:04:39 | \r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Launching Startup thread.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Startup thread started.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Attempting to verify the binary signature.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | The file &quot;D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\\wrapper.exe&quot; is signed and the signature was verified.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |   Signer Certificate:\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |     Serial Number: \r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |       00 97 06 fe b5 6e 56 cc cb 66 3a bb 55 a7 a0 e4 76 \r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |     Issuer Name: UTN-USERFirst-Object\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |     Subject Name: Tanuki Software Ltd.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |   TimeStamp Certificate:\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |     Serial Number: \r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |       47 8a 8e fb 59 e1 d8 3f 0c e1 42 d2 a2 87 07 be \r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |     Issuer Name: UTN-USERFirst-Object\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 |     Subject Name: COMODO Time Stamping Signer\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | \r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Startup thread stopped.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Release time: 2012/06/20 00:00:00\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Build time:   2012/06/20 17:50:00\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Timezone:     Pacific Standard Time (Pacific Daylight Time) Offset: 28800, hasDaylight: 1\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Using tick timer.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Current User: Scouser  Domain: Scouser-Umang\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Operating System ID: Microsoft Windows 7 Home Premium Edition Service Pack 1 (build 7601), 64-bit\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 | \r\n    INFO   | wrapper  | 2012/11/14 19:04:39 | Environment variables (Source | Name=Value) BEGIN:\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _PARAMETERS= \r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _REALPATH=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\\\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_BASE=wrapper\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_CONF=&quot;../conf/wrapper.conf&quot;\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_CONF_DEFAULT=../conf/wrapper.conf\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_EXE=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\\wrapper.exe\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_L_EXE=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\\wrapper-windows-x86-64.exe\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ALLUSERSPROFILE=C:\\ProgramData\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | APPDATA=C:\\Users\\Scouser\\AppData\\Roaming\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | asl.log=Destination=file;OnFirstLog=command,environment,parent\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | CLASSPATH=.;C:\\Program Files\\Java\\jdk1.7.0_03\\jre\\lib\\rt.jar\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | CommonProgramFiles=C:\\Program Files (x86)\\Common Files\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | CommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | CommonProgramW6432=C:\\Program Files\\Common Files\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | COMPUTERNAME=SCOUSER-UMANG\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ComSpec=C:\\windows\\system32\\cmd.exe\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | FP_NO_HOST_CHECK=NO\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | HOMEDRIVE=C:\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | HOMEPATH=\\Users\\Scouser\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | LOCALAPPDATA=C:\\Users\\Scouser\\AppData\\Local\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | LOGONSERVER=\\\\SCOUSER-UMANG\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | NUMBER_OF_PROCESSORS=4\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | OS=Windows_NT\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | Path=C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files (x86)\\PHP\\;C:\\Program Files\\Common Files\\Microsoft Shared\\Windows Live;C:\\Program Files (x86)\\Common Files\\Microsoft Shared\\Windows Live;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\WIDCOMM\\Bluetooth Software\\;C:\\Program Files\\WIDCOMM\\Bluetooth Software\\syswow64;C:\\Program Files (x86)\\QuickTime\\QTSystem\\;C:\\Program Files (x86)\\Windows Live\\Shared;C:\\Program Files (x86)\\PHP\\php.exe;C:\\Program Files\\Java\\jdk1.7.0_03\\bin;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files (x86)\\Calibre2\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn\\ManagementStudio\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files\\Samsung\\AllShare Framework DMS\\1.3.03\\;C:\\Program Files\\Samsung\\AllShare Framework DMS\\1.3.03\\64bit\\\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PHPRC=C:\\Program Files (x86)\\PHP\\\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_ARCHITECTURE=x86\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_ARCHITEW6432=AMD64\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 37 Stepping 2, GenuineIntel\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_LEVEL=6\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_REVISION=2502\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ProgramData=C:\\ProgramData\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ProgramFiles=C:\\Program Files (x86)\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ProgramFiles(x86)=C:\\Program Files (x86)\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ProgramW6432=C:\\Program Files\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROMPT=$P$G\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PSModulePath=C:\\windows\\system32\\WindowsPowerShell\\v1.0\\Modules\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\PowerShell\\Modules\\\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PUBLIC=C:\\Users\\Public\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | QTJAVA=C:\\Program Files (x86)\\Java\\jre6\\lib\\ext\\QTJava.zip\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SESSIONNAME=Console\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SSH_AGENT_PID=9128\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SSH_AUTH_SOCK=/tmp/ssh-zhvjHY8368/agent.8368\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SystemDrive=C:\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SystemRoot=C:\\windows\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | TEMP=C:\\Users\\Scouser\\AppData\\Local\\Temp\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | TMP=C:\\Users\\Scouser\\AppData\\Local\\Temp\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | USERDOMAIN=Scouser-Umang\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | USERNAME=Scouser\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | USERPROFILE=C:\\Users\\Scouser\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | VBOX_INSTALL_PATH=C:\\Program Files\\Oracle\\VirtualBox\\\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | VS100COMNTOOLS=C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\\Common7\\Tools\\\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | windir=C:\\windows\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_ARCH=x86\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_BIN_DIR=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_BITS=32\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_CONF_DIR=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\conf\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_FILE_SEPARATOR=\\\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_HOST_NAME=Scouser-Umang\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_HOSTNAME=Scouser-Umang\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   P--W- | WRAPPER_INIT_DIR=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_LANG=en\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_OS=windows\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_PATH_SEPARATOR=;\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_PID=6228\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_WORKING_DIR=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 | Environment variables END:\r\n    INFO   | wrapper  | 2012/11/14 19:04:39 | \r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Use tick timer mutex=FALSE\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | active log file changed: ..\\logs\\wrapper.log\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:39 | Preparing to restart with mode 1.\r\n    DEBUG  | wrapperp | 2012/11/14 19:04:40 | server listening on port 32002.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:40 | Magic number for file C:\\windows\\system32\\java.exe: 0x4d5a9000\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:40 | Ping settings: wrapper.ping.interval=5, wrapper.ping.interval.logged=1, wrapper.ping.timeout=30\r\n    STATUS | wrapper  | 2012/11/14 19:04:40 | Launching a JVM...\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:40 | Command: &quot;C:\\windows\\system32\\java.exe&quot; -Djava.library.path=&quot;..\\lib\\\\&quot; -classpath &quot;..\\lib\\wrapper.jar;..\\lib\\jna\\jna.jar;..\\lib\\jna\\platform.jar;..\\lib\\sqljdbc_4.0\\enu\\sqljdbc4.jar&quot; -Dwrapper.key=&quot;Adm-N04uyX1nT_K1&quot; -Dwrapper.port=32002 -Dwrapper.jvm.port.min=31000 -Dwrapper.jvm.port.max=31999 -Dwrapper.debug=&quot;TRUE&quot; -Dwrapper.pid=6228 -Dwrapper.version=&quot;3.5.15&quot; -Dwrapper.native_library=&quot;wrapper&quot; -Dwrapper.cpu.timeout=&quot;10&quot; -Dwrapper.jvmid=1 org.tanukisoftware.wrapper.WrapperSimpleApp ..bin\\esq.logreader.DbTestDriver Event_Logger Event_Table Scouser 12345\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:40 | JVM started (PID=11784)\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: WrapperManager class initialized by thread: main   Using classloader: sun.misc.Launcher$AppClassLoader@92e78c\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager: Initializing...\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: JVM #1\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Running a 32-bit JVM.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: org.tanukisoftware.wrapper.WrapperManager package information:\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Implementation Title: org.tanukisoftware.wrapper\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Implementation Vendor: Tanuki Software, Ltd.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Implementation Version: 3.5.15\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Is Sealed?: False\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: org.tanukisoftware.wrapper.WrapperManager protection domain:\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Location: file:/D:/Umang/Documents/College/Eclipse%20Work/WindowsEventLogReader/lib/wrapper.jar\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:     Size: 119,430\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:     MD5: 2c0a68dc7fc3dec48d62674afafbfeb6\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Registering shutdown hook\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Using wrapper\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Registered MBean with Platform MBean Server: org.tanukisoftware.wrapper:type=WrapperManager\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Load native library.  There are multiple possible file names and the first to be found will be used.  Errors loading non-existing files is normal and is only a problem if they all fail.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Attempt to load native library with name: wrapper-windows-x86-32.dll  Result: Success!\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Successfully loaded native library.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Loaded localized resources.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Calling native initialization method.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperJNI Debug: Initializing WrapperManager native library.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperJNI Debug: Java Executable: C:\\windows\\SysWOW64\\java.exe\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperJNI Debug: Native Library: D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\lib\\wrapper-windows-x86-32.dll\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperJNI Debug: Windows version: 6.1.7601\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager: WARNING - The version of the Wrapper which launched this JVM is \r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           &quot;3.5.15&quot; while the version of the native library \r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           is &quot;3.4.0&quot;.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           The Wrapper may appear to work correctly but some features may\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           not function correctly.  This configuration has not been tested\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           and is not supported.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager: \r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Java Version   : 1.7.0_09-b05 Java HotSpot(TM) Client VM\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Java VM Vendor : Oracle Corporation\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: OS Name        : Windows 7\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: OS Arch        : x86\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: \r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Control event monitor thread started.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Startup runner thread started.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperSimpleApp Error: Unable to locate the class ..bin\\esq.logreader.DbTestDriver : java.lang.ClassNotFoundException: //bin\\esq/logreader/DbTestDriver\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | \r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperSimpleApp Usage:\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 |   java org.tanukisoftware.wrapper.WrapperSimpleApp {app_class{/app_method}} [app_arguments]\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | \r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | Where:\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 |   app_class:      The fully qualified class name of the application to run.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 |   app_arguments:  The arguments that would normally be passed to the\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 |                   application.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: WrapperManager.stop(1) called by thread: main\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Backend not connected, not sending packet STOP : 1\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Pausing for 1,000ms to allow a clean shutdown...\r\n    INFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Stopped checking for control events.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:40 | Pause reading child process output to share cycles.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:41 | WrapperManager Debug: Thread, main, handling the shutdown process.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:41 | WrapperManager Debug: shutdownJVM(1) Thread: main\r\n    INFO   | jvm 1    | 2012/11/14 19:04:41 | WrapperManager Debug: wait for 0 shutdown locks to be released.\r\n    INFO   | jvm 1    | 2012/11/14 19:04:41 | WrapperManager Debug: Backend not connected, not sending packet STOPPED : 1\r\n    INFO   | jvm 1    | 2012/11/14 19:04:42 | WrapperManager Debug: calling System.exit(1)\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:42 | JVM process exited with a code of 1, setting the wrapper exit code to 1.\r\n    ERROR  | wrapper  | 2012/11/14 19:04:42 | JVM exited while loading the application.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:42 | Preparing to restart with mode 2.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:42 | JVM was only running for 2 seconds leading to a failed restart count of 1.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:42 | Waiting 5 seconds before launching another JVM.\r\n    STATUS | wrapper  | 2012/11/14 19:04:43 | CTRL-C trapped.  Shutting down.\r\n    DEBUG  | wrapper  | 2012/11/14 19:04:43 | wrapperStopProcess(0, TRUE) called.\r\n    DEBUG  | wrapperp | 2012/11/14 19:04:43 | closing backend server.\r\n    STATUS | wrapper  | 2012/11/14 19:04:43 | &lt;-- Wrapper Stopped\r\n\r\nMy question is what am i doing wrong. \r\nI tried applying the WrapperListener as well, the same error persists. \r\n\r\nIs it possible that my directories arent kept in a proper manner.\r\n\r\n\r\nHelp would be appreciated.\r\n\r\n","title":"Tanuki Software Java Service Wrapper. Error: Could not find class","body":"<p>I am trying to start my application as a service using the Tanuki Java Service Wrapper.</p>\n\n<p>I have created the directories as mentioned for the WrapperSimpleApp.\nThis is my config file.</p>\n\n<pre><code>#encoding=UTF-8\n# Configuration files must begin with a line specifying the encoding\n#  of the the file.\n\n#********************************************************************\n# Wrapper License Properties (Ignored by Community Edition)\n#********************************************************************\n# Professional and Standard Editions of the Wrapper require a valid\n#  License Key to start.  Licenses can be purchased or a trial license\n#  requested on the following pages:\n# http://wrapper.tanukisoftware.com/purchase\n# http://wrapper.tanukisoftware.com/trial\n\n# Include file problems can be debugged by removing the first '#'\n#  from the following line:\n##include.debug\n\n# The Wrapper will look for either of the following optional files for a\n#  valid License Key.  License Key properties can optionally be included\n#  directly in this configuration file.\n#include ../conf/wrapper-license.conf\n#include ../conf/wrapper-license-%WRAPPER_HOST_NAME%.conf\n\n# The following property will output information about which License Key(s)\n#  are being found, and can aid in resolving any licensing problems.\n#wrapper.license.debug=TRUE\n\n#********************************************************************\n# Wrapper Localization\n#********************************************************************\n# Specify the locale which the Wrapper should use.  By default the system\n#  locale is used.\n#wrapper.lang=en_US # en_US or ja_JP\n\n# Specify the location of the Wrapper's language resources.  If these are\n#  missing, the Wrapper will default to the en_US locale.\nwrapper.lang.folder=../lang\n\n#********************************************************************\n# Wrapper Java Properties\n#********************************************************************\n# Java Application\n#  Locate the java binary on the system PATH:\nwrapper.java.command=java\n#  Specify a specific java binary:\n#set.JAVA_HOME=c:/Prigram Files/Java/jdk1.7.0_03\n#wrapper.java.command=%JAVA_HOME%/bin/java\n\n# Tell the Wrapper to log the full generated Java command line.\n#wrapper.java.command.loglevel=INFO\n\n# Java Main class.  This class must implement the WrapperListener interface\n#  or guarantee that the WrapperManager class is initialized.  Helper\n#  classes are provided to do this for you.  See the Integration section\n#  of the documentation for details.\nwrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperSimpleApp\n\n# Java Classpath (include wrapper.jar)  Add class path elements as\n#  needed starting from 1\nwrapper.java.classpath.1=../lib/wrapper.jar\nwrapper.java.classpath.2=../lib/jna/jna.jar\nwrapper.java.classpath.3=../lib/jna/platform.jar\nwrapper.java.classpath.4=../lib/sqljdbc_4.0/enu/sqljdbc4.jar\n\n# Java Library Path (location of Wrapper.DLL or libwrapper.so)\nwrapper.java.library.path.1=../lib/native\n\n# Java Bits.  On applicable platforms, tells the JVM to run in 32 or 64-bit mode.\nwrapper.java.additional.auto_bits=TRUE\n\n# Java Additional Parameters\nwrapper.java.additional.1=\n\n# Initial Java Heap Size (in MB)\n#wrapper.java.initmemory=3\n\n# Maximum Java Heap Size (in MB)\n#wrapper.java.maxmemory=64\n\n# Application parameters.  Add parameters as needed starting from 1\nwrapper.app.parameter.1=esq.logreader.DbTestDriver\nwrapper.app.parameter.2=Event_Logger\nwrapper.app.parameter.3=Event_Table\nwrapper.app.parameter.4=Scouser\nwrapper.app.parameter.5=12345\n\n#********************************************************************\n# Wrapper Logging Properties\n#********************************************************************\n# Enables Debug output from the Wrapper.\nwrapper.debug=TRUE\n\n# Format of output for the console.  (See docs for formats)\nwrapper.console.format=PM\n\n# Log Level for console output.  (See docs for log levels)\nwrapper.console.loglevel=INFO\n\n# Log file to use for wrapper output logging.\nwrapper.logfile=../logs/wrapper.log\n\n# Format of output for the log file.  (See docs for formats)\nwrapper.logfile.format=LPTM\n\n# Log Level for log file output.  (See docs for log levels)\nwrapper.logfile.loglevel=INFO\n\n# Maximum size that the log file will be allowed to grow to before\n#  the log is rolled. Size is specified in bytes.  The default value\n#  of 0, disables log rolling.  May abbreviate with the 'k' (kb) or\n#  'm' (mb) suffix.  For example: 10m = 10 megabytes.\nwrapper.logfile.maxsize=0\n\n# Maximum number of rolled log files which will be allowed before old\n#  files are deleted.  The default value of 0 implies no limit.\nwrapper.logfile.maxfiles=0\n\n# Log Level for sys/event log output.  (See docs for log levels)\nwrapper.syslog.loglevel=NONE\n\n#********************************************************************\n# Wrapper General Properties\n#********************************************************************\n# Allow for the use of non-contiguous numbered properties\nwrapper.ignore_sequence_gaps=TRUE\n\n# Do not start if the pid file already exists.\nwrapper.pidfile.strict=TRUE\n\n# Title to use when running as a console\nwrapper.console.title=@app.long.name@\n\n#********************************************************************\n# Wrapper JVM Checks\n#********************************************************************\n# Detect DeadLocked Threads in the JVM. (Requires Standard Edition)\nwrapper.check.deadlock=TRUE\nwrapper.check.deadlock.interval=60\nwrapper.check.deadlock.action=RESTART\nwrapper.check.deadlock.output=FULL\n\n# Out Of Memory detection.\n# (Simple match)\nwrapper.filter.trigger.1000=java.lang.OutOfMemoryError\n# (Only match text in stack traces if -XX:+PrintClassHistogram is being used.)\n#wrapper.filter.trigger.1000=Exception in thread \"*\" java.lang.OutOfMemoryError\n#wrapper.filter.allow_wildcards.1000=TRUE\nwrapper.filter.action.1000=RESTART\nwrapper.filter.message.1000=The JVM has run out of memory.\n</code></pre>\n\n<p>P.S: i have removed the rest of the part of config file, as i have kept it as it was in the default config file provided. Din want to make things messy and long in this post.</p>\n\n<p>Error Message(Updated):</p>\n\n<pre><code>STATUS | wrapper  | 2012/11/14 19:04:39 | --&gt; Wrapper Started as Console\nSTATUS | wrapper  | 2012/11/14 19:04:39 | Java Service Wrapper Community Edition 32-bit 3.5.15\nSTATUS | wrapper  | 2012/11/14 19:04:39 |   Copyright (C) 1999-2012 Tanuki Software, Ltd. All Rights Reserved.\nSTATUS | wrapper  | 2012/11/14 19:04:39 |     http://wrapper.tanukisoftware.com\nSTATUS | wrapper  | 2012/11/14 19:04:39 | \nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Launching Startup thread.\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Startup thread started.\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Attempting to verify the binary signature.\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | The file \"D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\\wrapper.exe\" is signed and the signature was verified.\nDEBUG  | wrapper  | 2012/11/14 19:04:39 |   Signer Certificate:\nDEBUG  | wrapper  | 2012/11/14 19:04:39 |     Serial Number: \nDEBUG  | wrapper  | 2012/11/14 19:04:39 |       00 97 06 fe b5 6e 56 cc cb 66 3a bb 55 a7 a0 e4 76 \nDEBUG  | wrapper  | 2012/11/14 19:04:39 |     Issuer Name: UTN-USERFirst-Object\nDEBUG  | wrapper  | 2012/11/14 19:04:39 |     Subject Name: Tanuki Software Ltd.\nDEBUG  | wrapper  | 2012/11/14 19:04:39 |   TimeStamp Certificate:\nDEBUG  | wrapper  | 2012/11/14 19:04:39 |     Serial Number: \nDEBUG  | wrapper  | 2012/11/14 19:04:39 |       47 8a 8e fb 59 e1 d8 3f 0c e1 42 d2 a2 87 07 be \nDEBUG  | wrapper  | 2012/11/14 19:04:39 |     Issuer Name: UTN-USERFirst-Object\nDEBUG  | wrapper  | 2012/11/14 19:04:39 |     Subject Name: COMODO Time Stamping Signer\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | \nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Startup thread stopped.\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Release time: 2012/06/20 00:00:00\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Build time:   2012/06/20 17:50:00\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Timezone:     Pacific Standard Time (Pacific Daylight Time) Offset: 28800, hasDaylight: 1\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Using tick timer.\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Current User: Scouser  Domain: Scouser-Umang\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Operating System ID: Microsoft Windows 7 Home Premium Edition Service Pack 1 (build 7601), 64-bit\nINFO   | wrapper  | 2012/11/14 19:04:39 | \nINFO   | wrapper  | 2012/11/14 19:04:39 | Environment variables (Source | Name=Value) BEGIN:\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _PARAMETERS= \nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _REALPATH=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\\\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_BASE=wrapper\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_CONF=\"../conf/wrapper.conf\"\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_CONF_DEFAULT=../conf/wrapper.conf\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_EXE=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\\wrapper.exe\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | _WRAPPER_L_EXE=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\\wrapper-windows-x86-64.exe\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ALLUSERSPROFILE=C:\\ProgramData\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | APPDATA=C:\\Users\\Scouser\\AppData\\Roaming\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | asl.log=Destination=file;OnFirstLog=command,environment,parent\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | CLASSPATH=.;C:\\Program Files\\Java\\jdk1.7.0_03\\jre\\lib\\rt.jar\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | CommonProgramFiles=C:\\Program Files (x86)\\Common Files\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | CommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | CommonProgramW6432=C:\\Program Files\\Common Files\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | COMPUTERNAME=SCOUSER-UMANG\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ComSpec=C:\\windows\\system32\\cmd.exe\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | FP_NO_HOST_CHECK=NO\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | HOMEDRIVE=C:\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | HOMEPATH=\\Users\\Scouser\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | LOCALAPPDATA=C:\\Users\\Scouser\\AppData\\Local\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | LOGONSERVER=\\\\SCOUSER-UMANG\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | NUMBER_OF_PROCESSORS=4\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | OS=Windows_NT\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | Path=C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files (x86)\\PHP\\;C:\\Program Files\\Common Files\\Microsoft Shared\\Windows Live;C:\\Program Files (x86)\\Common Files\\Microsoft Shared\\Windows Live;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\WIDCOMM\\Bluetooth Software\\;C:\\Program Files\\WIDCOMM\\Bluetooth Software\\syswow64;C:\\Program Files (x86)\\QuickTime\\QTSystem\\;C:\\Program Files (x86)\\Windows Live\\Shared;C:\\Program Files (x86)\\PHP\\php.exe;C:\\Program Files\\Java\\jdk1.7.0_03\\bin;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files (x86)\\Calibre2\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\Binn\\ManagementStudio\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\DTS\\Binn\\;C:\\Program Files\\Samsung\\AllShare Framework DMS\\1.3.03\\;C:\\Program Files\\Samsung\\AllShare Framework DMS\\1.3.03\\64bit\\\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PHPRC=C:\\Program Files (x86)\\PHP\\\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_ARCHITECTURE=x86\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_ARCHITEW6432=AMD64\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 37 Stepping 2, GenuineIntel\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_LEVEL=6\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROCESSOR_REVISION=2502\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ProgramData=C:\\ProgramData\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ProgramFiles=C:\\Program Files (x86)\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ProgramFiles(x86)=C:\\Program Files (x86)\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | ProgramW6432=C:\\Program Files\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PROMPT=$P$G\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PSModulePath=C:\\windows\\system32\\WindowsPowerShell\\v1.0\\Modules\\;C:\\Program Files (x86)\\Microsoft SQL Server\\110\\Tools\\PowerShell\\Modules\\\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | PUBLIC=C:\\Users\\Public\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | QTJAVA=C:\\Program Files (x86)\\Java\\jre6\\lib\\ext\\QTJava.zip\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SESSIONNAME=Console\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SSH_AGENT_PID=9128\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SSH_AUTH_SOCK=/tmp/ssh-zhvjHY8368/agent.8368\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SystemDrive=C:\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | SystemRoot=C:\\windows\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | TEMP=C:\\Users\\Scouser\\AppData\\Local\\Temp\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | TMP=C:\\Users\\Scouser\\AppData\\Local\\Temp\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | USERDOMAIN=Scouser-Umang\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | USERNAME=Scouser\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | USERPROFILE=C:\\Users\\Scouser\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | VBOX_INSTALL_PATH=C:\\Program Files\\Oracle\\VirtualBox\\\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | VS100COMNTOOLS=C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\\Common7\\Tools\\\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P---- | windir=C:\\windows\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_ARCH=x86\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_BIN_DIR=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_BITS=32\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_CONF_DIR=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\conf\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_FILE_SEPARATOR=\\\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_HOST_NAME=Scouser-Umang\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_HOSTNAME=Scouser-Umang\nINFO   | wrapper  | 2012/11/14 19:04:39 |   P--W- | WRAPPER_INIT_DIR=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_LANG=en\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_OS=windows\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_PATH_SEPARATOR=;\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_PID=6228\nINFO   | wrapper  | 2012/11/14 19:04:39 |   ---W- | WRAPPER_WORKING_DIR=D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\bin\nINFO   | wrapper  | 2012/11/14 19:04:39 | Environment variables END:\nINFO   | wrapper  | 2012/11/14 19:04:39 | \nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Use tick timer mutex=FALSE\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | active log file changed: ..\\logs\\wrapper.log\nDEBUG  | wrapper  | 2012/11/14 19:04:39 | Preparing to restart with mode 1.\nDEBUG  | wrapperp | 2012/11/14 19:04:40 | server listening on port 32002.\nDEBUG  | wrapper  | 2012/11/14 19:04:40 | Magic number for file C:\\windows\\system32\\java.exe: 0x4d5a9000\nDEBUG  | wrapper  | 2012/11/14 19:04:40 | Ping settings: wrapper.ping.interval=5, wrapper.ping.interval.logged=1, wrapper.ping.timeout=30\nSTATUS | wrapper  | 2012/11/14 19:04:40 | Launching a JVM...\nDEBUG  | wrapper  | 2012/11/14 19:04:40 | Command: \"C:\\windows\\system32\\java.exe\" -Djava.library.path=\"..\\lib\\\\\" -classpath \"..\\lib\\wrapper.jar;..\\lib\\jna\\jna.jar;..\\lib\\jna\\platform.jar;..\\lib\\sqljdbc_4.0\\enu\\sqljdbc4.jar\" -Dwrapper.key=\"Adm-N04uyX1nT_K1\" -Dwrapper.port=32002 -Dwrapper.jvm.port.min=31000 -Dwrapper.jvm.port.max=31999 -Dwrapper.debug=\"TRUE\" -Dwrapper.pid=6228 -Dwrapper.version=\"3.5.15\" -Dwrapper.native_library=\"wrapper\" -Dwrapper.cpu.timeout=\"10\" -Dwrapper.jvmid=1 org.tanukisoftware.wrapper.WrapperSimpleApp ..bin\\esq.logreader.DbTestDriver Event_Logger Event_Table Scouser 12345\nDEBUG  | wrapper  | 2012/11/14 19:04:40 | JVM started (PID=11784)\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: WrapperManager class initialized by thread: main   Using classloader: sun.misc.Launcher$AppClassLoader@92e78c\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager: Initializing...\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: JVM #1\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Running a 32-bit JVM.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: org.tanukisoftware.wrapper.WrapperManager package information:\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Implementation Title: org.tanukisoftware.wrapper\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Implementation Vendor: Tanuki Software, Ltd.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Implementation Version: 3.5.15\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Is Sealed?: False\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: org.tanukisoftware.wrapper.WrapperManager protection domain:\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Location: file:/D:/Umang/Documents/College/Eclipse%20Work/WindowsEventLogReader/lib/wrapper.jar\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:     Size: 119,430\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:     MD5: 2c0a68dc7fc3dec48d62674afafbfeb6\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Registering shutdown hook\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Using wrapper\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Registered MBean with Platform MBean Server: org.tanukisoftware.wrapper:type=WrapperManager\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Load native library.  There are multiple possible file names and the first to be found will be used.  Errors loading non-existing files is normal and is only a problem if they all fail.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Attempt to load native library with name: wrapper-windows-x86-32.dll  Result: Success!\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug:   Successfully loaded native library.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Loaded localized resources.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Calling native initialization method.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperJNI Debug: Initializing WrapperManager native library.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperJNI Debug: Java Executable: C:\\windows\\SysWOW64\\java.exe\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperJNI Debug: Native Library: D:\\Umang\\Documents\\College\\Eclipse Work\\WindowsEventLogReader\\lib\\wrapper-windows-x86-32.dll\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperJNI Debug: Windows version: 6.1.7601\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager: WARNING - The version of the Wrapper which launched this JVM is \nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           \"3.5.15\" while the version of the native library \nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           is \"3.4.0\".\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           The Wrapper may appear to work correctly but some features may\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           not function correctly.  This configuration has not been tested\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager:           and is not supported.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager: \nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Java Version   : 1.7.0_09-b05 Java HotSpot(TM) Client VM\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Java VM Vendor : Oracle Corporation\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: OS Name        : Windows 7\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: OS Arch        : x86\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: \nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Control event monitor thread started.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Startup runner thread started.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperSimpleApp Error: Unable to locate the class ..bin\\esq.logreader.DbTestDriver : java.lang.ClassNotFoundException: //bin\\esq/logreader/DbTestDriver\nINFO   | jvm 1    | 2012/11/14 19:04:40 | \nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperSimpleApp Usage:\nINFO   | jvm 1    | 2012/11/14 19:04:40 |   java org.tanukisoftware.wrapper.WrapperSimpleApp {app_class{/app_method}} [app_arguments]\nINFO   | jvm 1    | 2012/11/14 19:04:40 | \nINFO   | jvm 1    | 2012/11/14 19:04:40 | Where:\nINFO   | jvm 1    | 2012/11/14 19:04:40 |   app_class:      The fully qualified class name of the application to run.\nINFO   | jvm 1    | 2012/11/14 19:04:40 |   app_arguments:  The arguments that would normally be passed to the\nINFO   | jvm 1    | 2012/11/14 19:04:40 |                   application.\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: WrapperManager.stop(1) called by thread: main\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Backend not connected, not sending packet STOP : 1\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Pausing for 1,000ms to allow a clean shutdown...\nINFO   | jvm 1    | 2012/11/14 19:04:40 | WrapperManager Debug: Stopped checking for control events.\nDEBUG  | wrapper  | 2012/11/14 19:04:40 | Pause reading child process output to share cycles.\nINFO   | jvm 1    | 2012/11/14 19:04:41 | WrapperManager Debug: Thread, main, handling the shutdown process.\nINFO   | jvm 1    | 2012/11/14 19:04:41 | WrapperManager Debug: shutdownJVM(1) Thread: main\nINFO   | jvm 1    | 2012/11/14 19:04:41 | WrapperManager Debug: wait for 0 shutdown locks to be released.\nINFO   | jvm 1    | 2012/11/14 19:04:41 | WrapperManager Debug: Backend not connected, not sending packet STOPPED : 1\nINFO   | jvm 1    | 2012/11/14 19:04:42 | WrapperManager Debug: calling System.exit(1)\nDEBUG  | wrapper  | 2012/11/14 19:04:42 | JVM process exited with a code of 1, setting the wrapper exit code to 1.\nERROR  | wrapper  | 2012/11/14 19:04:42 | JVM exited while loading the application.\nDEBUG  | wrapper  | 2012/11/14 19:04:42 | Preparing to restart with mode 2.\nDEBUG  | wrapper  | 2012/11/14 19:04:42 | JVM was only running for 2 seconds leading to a failed restart count of 1.\nDEBUG  | wrapper  | 2012/11/14 19:04:42 | Waiting 5 seconds before launching another JVM.\nSTATUS | wrapper  | 2012/11/14 19:04:43 | CTRL-C trapped.  Shutting down.\nDEBUG  | wrapper  | 2012/11/14 19:04:43 | wrapperStopProcess(0, TRUE) called.\nDEBUG  | wrapperp | 2012/11/14 19:04:43 | closing backend server.\nSTATUS | wrapper  | 2012/11/14 19:04:43 | &lt;-- Wrapper Stopped\n</code></pre>\n\n<p>My question is what am i doing wrong. \nI tried applying the WrapperListener as well, the same error persists. </p>\n\n<p>Is it possible that my directories arent kept in a proper manner.</p>\n\n<p>Help would be appreciated.</p>\n"},{"tags":["java","spring-webflux","project-reactor","backpressure"],"owner":{"account_id":3248847,"reputation":1579,"user_id":2739681,"accept_rate":82,"display_name":"PeMa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674073698,"creation_date":1674072549,"question_id":75164762,"body_markdown":"I am trying to guard `groupBy` from hanging indefinitely by adding the `onBackPressureBuffer` method. The following test works for `multi = 1`, i.e. 30000 groups, but hangs for every value of `multi &gt; 1`.\r\n\r\n\r\n```\r\n    @Test\r\n    void groupFluxHangsTest() {\r\n        int numberOfTriggers = 30_000;\r\n        int multi = 2;\r\n\r\n        AtomicReference&lt;UUID&gt; idReference = new AtomicReference&lt;&gt;(UUID.randomUUID());\r\n        Flux\r\n                .range(0, numberOfTriggers)\r\n                .map(i -&gt; {\r\n                    if (i % multi == 0)\r\n                        idReference.set(UUID.randomUUID());\r\n                    return idReference.get();\r\n                })\r\n                .groupBy(Function.identity())\r\n                .onBackpressureBuffer(Integer.MAX_VALUE, System.out::println, BufferOverflowStrategy.ERROR)\r\n                .flatMap(groupedFlux -&gt; groupedFlux.reduce((a, b) -&gt; b))\r\n                .blockLast();\r\n    }\r\n```\r\n\r\nI am aware of the description of `groupBy` saying it might hang if downstream is too slow, but  `onBackPressureBuffer` does `request(unbounded)`?!\r\n\r\n**UPDATE**: \r\n\r\n`int numberOfTriggers = 1024` is the upper limit where `multi&gt;1` still works.\r\n\r\n**UPDATE 2**: \r\n\r\n`.groupBy(Function.identity(), Integer.MAX_VALUE)` resolves the issue. Not really sure why though?!","title":"Flux groupBy hangs even when requested unbounded","body":"<p>I am trying to guard <code>groupBy</code> from hanging indefinitely by adding the <code>onBackPressureBuffer</code> method. The following test works for <code>multi = 1</code>, i.e. 30000 groups, but hangs for every value of <code>multi &gt; 1</code>.</p>\n<pre><code>    @Test\n    void groupFluxHangsTest() {\n        int numberOfTriggers = 30_000;\n        int multi = 2;\n\n        AtomicReference&lt;UUID&gt; idReference = new AtomicReference&lt;&gt;(UUID.randomUUID());\n        Flux\n                .range(0, numberOfTriggers)\n                .map(i -&gt; {\n                    if (i % multi == 0)\n                        idReference.set(UUID.randomUUID());\n                    return idReference.get();\n                })\n                .groupBy(Function.identity())\n                .onBackpressureBuffer(Integer.MAX_VALUE, System.out::println, BufferOverflowStrategy.ERROR)\n                .flatMap(groupedFlux -&gt; groupedFlux.reduce((a, b) -&gt; b))\n                .blockLast();\n    }\n</code></pre>\n<p>I am aware of the description of <code>groupBy</code> saying it might hang if downstream is too slow, but  <code>onBackPressureBuffer</code> does <code>request(unbounded)</code>?!</p>\n<p><strong>UPDATE</strong>:</p>\n<p><code>int numberOfTriggers = 1024</code> is the upper limit where <code>multi&gt;1</code> still works.</p>\n<p><strong>UPDATE 2</strong>:</p>\n<p><code>.groupBy(Function.identity(), Integer.MAX_VALUE)</code> resolves the issue. Not really sure why though?!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4529457,"reputation":30736,"user_id":3796113,"accept_rate":33,"display_name":"user2736738"},"score":1,"creation_date":1673637356,"post_id":75113581,"comment_id":132551879,"body_markdown":"Program is doing everything right...Go Machines!!!!","body":"Program is doing everything right...Go Machines!!!!"},{"owner":{"account_id":451393,"reputation":27810,"user_id":847269,"accept_rate":100,"display_name":"Patrick87"},"score":1,"creation_date":1673637378,"post_id":75113581,"comment_id":132551889,"body_markdown":"21 is a divisor of 42, since 42 / 21 = 2.","body":"21 is a divisor of 42, since 42 / 21 = 2."},{"owner":{"account_id":4529457,"reputation":30736,"user_id":3796113,"accept_rate":33,"display_name":"user2736738"},"score":0,"creation_date":1673637398,"post_id":75113581,"comment_id":132551895,"body_markdown":"You need to change the definition of the function accordingly. Indeed 21 is closer to 42 than 6 or 7.","body":"You need to change the definition of the function accordingly. Indeed 21 is closer to 42 than 6 or 7."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1673637399,"post_id":75113581,"comment_id":132551896,"body_markdown":"Why do you expect a function that returns a single `int` to return two? Maybe you need to define &quot;closest divisors&quot;.","body":"Why do you expect a function that returns a single <code>int</code> to return two? Maybe you need to define &quot;closest divisors&quot;."},{"owner":{"account_id":451393,"reputation":27810,"user_id":847269,"accept_rate":100,"display_name":"Patrick87"},"score":0,"creation_date":1673637599,"post_id":75113581,"comment_id":132551941,"body_markdown":"Perhaps you mean, the divisor closest to the square root? If so, you need a little bit of extra logic to remember the most recently found divisior where n / i &lt; i, and then return that when you find a divisor with n / i &gt; i (and of course just return i if n / i == i)","body":"Perhaps you mean, the divisor closest to the square root? If so, you need a little bit of extra logic to remember the most recently found divisior where n / i &lt; i, and then return that when you find a divisor with n / i &gt; i (and of course just return i if n / i == i)"},{"owner":{"account_id":24304662,"reputation":13,"user_id":18247621,"display_name":"DerEchtePilz"},"score":0,"creation_date":1673637830,"post_id":75113581,"comment_id":132552003,"body_markdown":"@JohnnyMopp Yes, maybe I need to define it a little bit more: By `closest divisors` (and I think that should be obvious by looking at my expected answers) I mean two numbers (like 6 and 7) that are closest to each other. The number 42 has these divisors: `1, 2, 3, 6, 7, 14, 21, 42`. In these divisors, the numbers `6` and `7` are closest to each other. If I got `6` as a return value, I could easily calculate the `7`.","body":"@JohnnyMopp Yes, maybe I need to define it a little bit more: By <code>closest divisors</code> (and I think that should be obvious by looking at my expected answers) I mean two numbers (like 6 and 7) that are closest to each other. The number 42 has these divisors: <code>1, 2, 3, 6, 7, 14, 21, 42</code>. In these divisors, the numbers <code>6</code> and <code>7</code> are closest to each other. If I got <code>6</code> as a return value, I could easily calculate the <code>7</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1673637886,"post_id":75113581,"comment_id":132552023,"body_markdown":"@DerEchtePilz so are 1 and 2, and 2 and 3, so why not them?","body":"@DerEchtePilz so are 1 and 2, and 2 and 3, so why not them?"},{"owner":{"account_id":451393,"reputation":27810,"user_id":847269,"accept_rate":100,"display_name":"Patrick87"},"score":0,"creation_date":1673637987,"post_id":75113581,"comment_id":132552053,"body_markdown":"I am feeling more and more sure what we want are the divisors closest to the square root. For 42, 6 and 7 are those.","body":"I am feeling more and more sure what we want are the divisors closest to the square root. For 42, 6 and 7 are those."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1674041371,"post_id":75113581,"comment_id":132628832,"body_markdown":"@FedericoklezCulloca I think what the OP meant was closest divisors to each other. 6 and 7 are closest because 6*7 = 42. On the other hand, 1 and 2 are not, because 1*2 != 42. And 2 and 21 are not because they&#39;re not as close to each other as 6 and 7.","body":"@FedericoklezCulloca I think what the OP meant was closest divisors to each other. 6 and 7 are closest because 6*7 = 42. On the other hand, 1 and 2 are not, because 1*2 != 42. And 2 and 21 are not because they&#39;re not as close to each other as 6 and 7."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674041583,"post_id":75113581,"comment_id":132628889,"body_markdown":"@k314159 yes, that was already clarified by an edit after my comment. Thanks anyway.","body":"@k314159 yes, that was already clarified by an edit after my comment. Thanks anyway."}],"answers":[{"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1673637821,"post_id":75113630,"comment_id":132552002,"body_markdown":"This throws an `ArithmeticException` with every number bigger than 1. Also, what is this supposed to solve? The code in the question already works given the (original, unclear at that time) definition of the problem.","body":"This throws an <code>ArithmeticException</code> with every number bigger than 1. Also, what is this supposed to solve? The code in the question already works given the (original, unclear at that time) definition of the problem."},{"owner":{"account_id":451393,"reputation":27810,"user_id":847269,"accept_rate":100,"display_name":"Patrick87"},"score":0,"creation_date":1673637836,"post_id":75113630,"comment_id":132552005,"body_markdown":"Seems like for any n other than 1, it sets divisor = n, then temp = n % divisor = 0, n = divisor = n, divisor = temp = 0, divisor &lt; 1, n != 1, and it tries to return n/divisor = n/0 and throws an exception...","body":"Seems like for any n other than 1, it sets divisor = n, then temp = n % divisor = 0, n = divisor = n, divisor = temp = 0, divisor &lt; 1, n != 1, and it tries to return n/divisor = n/0 and throws an exception..."}],"tags":[],"owner":{"account_id":24873773,"reputation":102,"user_id":18747955,"display_name":"Nysand"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674073506,"creation_date":1673637553,"answer_id":75113630,"question_id":75113581,"body_markdown":"    public static int closestDivisor(int n) {\r\n    int closest = Integer.MAX_VALUE;\r\n    int closestDivisor = 1;\r\n    for (int i = 2; i &lt;= Math.sqrt(n); i++) {\r\n        if (n % i == 0) {\r\n            if (Math.abs(i - n/i) &lt; closest) {\r\n                closest = Math.abs(i - n/i);\r\n                closestDivisor = i;\r\n            }\r\n        }\r\n    }\r\n    return closestDivisor;\r\n","title":"How to find divisor of a number that is closest to its square root?","body":"<pre><code>public static int closestDivisor(int n) {\nint closest = Integer.MAX_VALUE;\nint closestDivisor = 1;\nfor (int i = 2; i &lt;= Math.sqrt(n); i++) {\n    if (n % i == 0) {\n        if (Math.abs(i - n/i) &lt; closest) {\n            closest = Math.abs(i - n/i);\n            closestDivisor = i;\n        }\n    }\n}\nreturn closestDivisor;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451393,"reputation":27810,"user_id":847269,"accept_rate":100,"display_name":"Patrick87"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673639356,"creation_date":1673638363,"answer_id":75113741,"question_id":75113581,"body_markdown":"    if (i &lt; 4) return 1;\r\n\r\n    int divisor = 1;\r\n    for (int i = 2; i &lt; n; i++) {\r\n        if (i * i == n) return i;\r\n        if (i * i &lt; n &amp;&amp; n % i == 0) divisor = i;\r\n        if (i * i &gt; n) return divisor;\r\n    }\r\n\r\n    return -1; // never executed, unreachable\r\n\r\nThis code should return the largest number which evenly divides n and which is less than or equal to the square root of n.\r\n\r\nYou can then look at this number, let&#39;s call it answer, and n/answer, and one of those is guaranteed to be the factor of n closest to the square root of n. To see which is which, we can compare n - answer*answer and (n/answer * n/answer) - n, and see which is smaller; if the first difference is smaller then answer is closer to n, otherwise n/answer is closer to n.","title":"How to find divisor of a number that is closest to its square root?","body":"<pre><code>if (i &lt; 4) return 1;\n\nint divisor = 1;\nfor (int i = 2; i &lt; n; i++) {\n    if (i * i == n) return i;\n    if (i * i &lt; n &amp;&amp; n % i == 0) divisor = i;\n    if (i * i &gt; n) return divisor;\n}\n\nreturn -1; // never executed, unreachable\n</code></pre>\n<p>This code should return the largest number which evenly divides n and which is less than or equal to the square root of n.</p>\n<p>You can then look at this number, let's call it answer, and n/answer, and one of those is guaranteed to be the factor of n closest to the square root of n. To see which is which, we can compare n - answer*answer and (n/answer * n/answer) - n, and see which is smaller; if the first difference is smaller then answer is closer to n, otherwise n/answer is closer to n.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673645227,"creation_date":1673642755,"answer_id":75114314,"question_id":75113581,"body_markdown":"Here is one way. \r\n-  First, return `-1` if the candidate is `&lt; 0 or 1 if &lt; 4`\r\n-  If `n` is a perfect square, return the square root.\r\n\r\nNow inside the loop, Start from the `square root` and work outwards checking both sides of the square root for divisibility.\r\n-  The default divisor is initialized to `-1`.\r\n-  As the condition is evaluated either `i` divides `n` and `i` is returned via `divisor`\r\n-  Otherwise `k` divides `n` and `k` is returned via `divisor`.\r\n```\r\npublic static int closestDivisor(int n) {\r\n    if (n &lt; 4) {\r\n        return n &lt; 0 ? -1 : 1;\r\n    }\r\n    int v = (int)Math.sqrt(n);\r\n    int divisor = v;\r\n    \r\n    if (v * v == n) {\r\n        return v;\r\n    }\r\n    for (int i = (int) v, k = i; i &gt;= 1; i--, k++) {\r\n        if ( n % (divisor = i) == 0\r\n                || (n % (divisor = k) == 0)) {\r\n            break;\r\n        }\r\n    }\r\n    return divisor;\r\n}","title":"How to find divisor of a number that is closest to its square root?","body":"<p>Here is one way.</p>\n<ul>\n<li>First, return <code>-1</code> if the candidate is <code>&lt; 0 or 1 if &lt; 4</code></li>\n<li>If <code>n</code> is a perfect square, return the square root.</li>\n</ul>\n<p>Now inside the loop, Start from the <code>square root</code> and work outwards checking both sides of the square root for divisibility.</p>\n<ul>\n<li>The default divisor is initialized to <code>-1</code>.</li>\n<li>As the condition is evaluated either <code>i</code> divides <code>n</code> and <code>i</code> is returned via <code>divisor</code></li>\n<li>Otherwise <code>k</code> divides <code>n</code> and <code>k</code> is returned via <code>divisor</code>.</li>\n</ul>\n<pre><code>public static int closestDivisor(int n) {\n    if (n &lt; 4) {\n        return n &lt; 0 ? -1 : 1;\n    }\n    int v = (int)Math.sqrt(n);\n    int divisor = v;\n    \n    if (v * v == n) {\n        return v;\n    }\n    for (int i = (int) v, k = i; i &gt;= 1; i--, k++) {\n        if ( n % (divisor = i) == 0\n                || (n % (divisor = k) == 0)) {\n            break;\n        }\n    }\n    return divisor;\n}\n</code></pre>\n"}],"owner":{"account_id":24304662,"reputation":13,"user_id":18247621,"display_name":"DerEchtePilz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75113741,"answer_count":3,"score":0,"last_activity_date":1674073506,"creation_date":1673637231,"question_id":75113581,"body_markdown":"I&#39;ve been trying to make a program that gives me a divisor of a number `n` that is closest to its square root.\r\n\r\nI&#39;ve tried to accomplish this by using this program:\r\n```java\r\npublic static int closestDivisor(int n) {\r\n    for (int i = n/ 2; i &gt;= 2; i--) {\r\n        if (n % i == 0) {\r\n            return i;\r\n        }\r\n    }\r\n    return 1;\r\n}\r\n```\r\n\r\nHowever, when I run this:\r\n```java\r\nSystem.out.println(closestDivisor(42));\r\n```\r\nI get `21` when expecting either `6` or `7` because those are the closest divisors of 42.","title":"How to find divisor of a number that is closest to its square root?","body":"<p>I've been trying to make a program that gives me a divisor of a number <code>n</code> that is closest to its square root.</p>\n<p>I've tried to accomplish this by using this program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int closestDivisor(int n) {\n    for (int i = n/ 2; i &gt;= 2; i--) {\n        if (n % i == 0) {\n            return i;\n        }\n    }\n    return 1;\n}\n</code></pre>\n<p>However, when I run this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(closestDivisor(42));\n</code></pre>\n<p>I get <code>21</code> when expecting either <code>6</code> or <code>7</code> because those are the closest divisors of 42.</p>\n"},{"tags":["java","calculator","postfix-notation"],"answers":[{"comments":[{"owner":{"account_id":6286864,"reputation":47,"user_id":4885738,"accept_rate":62,"display_name":"Tomasz Okraszewski"},"score":0,"creation_date":1674073550,"post_id":75164696,"comment_id":132639868,"body_markdown":"I already have postfix I want to get value from Postfix: 3 23 24 / 34 * 24 / + =4,357638889","body":"I already have postfix I want to get value from Postfix: 3 23 24 / 34 * 24 / + =4,357638889"},{"owner":{"account_id":20590957,"reputation":580,"user_id":15114624,"display_name":"Pignotto"},"score":0,"creation_date":1674074518,"post_id":75164696,"comment_id":132640124,"body_markdown":"@TomaszOkraszewski Can you please be more specific on how this answer does not meet your question?","body":"@TomaszOkraszewski Can you please be more specific on how this answer does not meet your question?"},{"owner":{"account_id":6286864,"reputation":47,"user_id":4885738,"accept_rate":62,"display_name":"Tomasz Okraszewski"},"score":0,"creation_date":1674076322,"post_id":75164696,"comment_id":132640621,"body_markdown":"sorry, you are right. There is answer in front of my nose.","body":"sorry, you are right. There is answer in front of my nose."}],"tags":[],"owner":{"account_id":20590957,"reputation":580,"user_id":15114624,"display_name":"Pignotto"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674072155,"creation_date":1674072155,"answer_id":75164696,"question_id":75164327,"body_markdown":"The basic algorithm is based on a stack-like structure\r\n\r\nFor each token in the expression:\r\n- if it is a number: push it\r\n- if it is a symbol: pop 2 values; do the matched operation; push the result\r\n\r\nE.g.:\r\n\r\n    &quot;3 23 24 / 34 * 24 / +&quot;\r\n                                                 Stack\r\n    3:  push 3                                   |   3\r\n    23: push 23                                  |   3    23\r\n    24: push 24                                  |   3    23     24\r\n    /:  pop (24),   pop (23),    push 23/24      |   3     0.95\r\n    34: push 34                                  |   3     0.95  34\r\n    *:  pop (34),   pop (0.95),  push 0.95*34    |   3    32.58\r\n    24: push 24                                  |   3    32.58  24\r\n    /:  pop (24),   pop (32.58), push 32.58/24   |   3     1.35\r\n    +:  pop (1.35), pop (3),     push 3+1.35     |   4.35\r\n\r\nThe last value that remains in the stack is the result","title":"how to add together the values from the RPN algorithm","body":"<p>The basic algorithm is based on a stack-like structure</p>\n<p>For each token in the expression:</p>\n<ul>\n<li>if it is a number: push it</li>\n<li>if it is a symbol: pop 2 values; do the matched operation; push the result</li>\n</ul>\n<p>E.g.:</p>\n<pre><code>&quot;3 23 24 / 34 * 24 / +&quot;\n                                             Stack\n3:  push 3                                   |   3\n23: push 23                                  |   3    23\n24: push 24                                  |   3    23     24\n/:  pop (24),   pop (23),    push 23/24      |   3     0.95\n34: push 34                                  |   3     0.95  34\n*:  pop (34),   pop (0.95),  push 0.95*34    |   3    32.58\n24: push 24                                  |   3    32.58  24\n/:  pop (24),   pop (32.58), push 32.58/24   |   3     1.35\n+:  pop (1.35), pop (3),     push 3+1.35     |   4.35\n</code></pre>\n<p>The last value that remains in the stack is the result</p>\n"},{"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1674074320,"post_id":75164722,"comment_id":132640076,"body_markdown":"I don&#39;t understand what you are asking. Could you reword it perhaps?","body":"I don&#39;t understand what you are asking. Could you reword it perhaps?"},{"owner":{"account_id":6286864,"reputation":47,"user_id":4885738,"accept_rate":62,"display_name":"Tomasz Okraszewski"},"score":0,"creation_date":1674076444,"post_id":75164722,"comment_id":132640660,"body_markdown":"sorry, It&#39;s answer.","body":"sorry, It&#39;s answer."}],"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674072695,"creation_date":1674072291,"answer_id":75164722,"question_id":75164327,"body_markdown":"The basic idea behind RPN is that there is a stack that all the arguments get put on, then taken off for an operation.\r\n\r\nFor this set, the basic flow will be:\r\n\r\n| Element      | Stack          | a       | b      |\r\n|:------------ |:-------------- | -------:| ------:|\r\n| push 3       |             3  |         |        |\r\n| push 23      |          3,23  |         |        |\r\n| push 24      |       3,23,24  |         |        |\r\n| -divide      |                |         |        |\r\n| pop b        |          3,23  |         |     24 |\r\n| pop a        |             3  |      23 |     24 |\r\n| push a/b     |     3, 0.9583  |         |        |\r\n| end-divide   |                |         |        |\r\n| push 34      | 3, 0.9583, 34  |         |        |\r\n| -multiply    |                |         |        |\r\n| pop b        |     3, 0.9583  |         |     34 |\r\n| pop a        |             3  |  0.9583 |     34 |\r\n| push a*b     |    3, 32.5833  |         |        |\r\n| end-multiply |                |         |        |\r\n| push 24      | 3, 32.5833, 24 |         |        |\r\n| -divide      |                |         |        |\r\n| pop b        |     3, 32.5833 |         |     24 |\r\n| pop a        |             3  | 32.5833 |     24 |\r\n| push a/b     |     3, 1.3576  |         |        |\r\n| end-divide   |                |         |        |\r\n| add          |                |         |        |\r\n| pop b        |            3   |         | 1.3576 |\r\n| pop a        |                |       3 | 1.3576 |\r\n| push a+b     |         4.3576 |         |        |\r\n| end-add      |                |         |        |\r\n\r\npop solution!","title":"how to add together the values from the RPN algorithm","body":"<p>The basic idea behind RPN is that there is a stack that all the arguments get put on, then taken off for an operation.</p>\n<p>For this set, the basic flow will be:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Element</th>\n<th style=\"text-align: left;\">Stack</th>\n<th style=\"text-align: right;\">a</th>\n<th style=\"text-align: right;\">b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">push 3</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">push 23</td>\n<td style=\"text-align: left;\">3,23</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">push 24</td>\n<td style=\"text-align: left;\">3,23,24</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">-divide</td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">pop b</td>\n<td style=\"text-align: left;\">3,23</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\">24</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">pop a</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: right;\">23</td>\n<td style=\"text-align: right;\">24</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">push a/b</td>\n<td style=\"text-align: left;\">3, 0.9583</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">end-divide</td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">push 34</td>\n<td style=\"text-align: left;\">3, 0.9583, 34</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">-multiply</td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">pop b</td>\n<td style=\"text-align: left;\">3, 0.9583</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\">34</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">pop a</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: right;\">0.9583</td>\n<td style=\"text-align: right;\">34</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">push a*b</td>\n<td style=\"text-align: left;\">3, 32.5833</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">end-multiply</td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">push 24</td>\n<td style=\"text-align: left;\">3, 32.5833, 24</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">-divide</td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">pop b</td>\n<td style=\"text-align: left;\">3, 32.5833</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\">24</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">pop a</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: right;\">32.5833</td>\n<td style=\"text-align: right;\">24</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">push a/b</td>\n<td style=\"text-align: left;\">3, 1.3576</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">end-divide</td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">add</td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">pop b</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\">1.3576</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">pop a</td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: right;\">3</td>\n<td style=\"text-align: right;\">1.3576</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">push a+b</td>\n<td style=\"text-align: left;\">4.3576</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">end-add</td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>pop solution!</p>\n"}],"owner":{"account_id":6286864,"reputation":47,"user_id":4885738,"accept_rate":62,"display_name":"Tomasz Okraszewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75164696,"answer_count":2,"score":0,"last_activity_date":1674072695,"creation_date":1674069885,"question_id":75164327,"body_markdown":"Im writing calculator that calculates values from expressions:\r\n\r\n&gt; 3+(23/24)*34/24\r\n\r\nI used RPN algorithm: [https://en.wikipedia.org/wiki/Reverse_Polish_notation][1]\r\n\r\nI have now sorted expression in String:\r\n\r\n&gt; 3 23 24 / 34 * 24 / +  \r\n\r\nI don&#39;t have any idea how can I get value from this expression.\r\n\r\nThx\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Reverse_Polish_notation","title":"how to add together the values from the RPN algorithm","body":"<p>Im writing calculator that calculates values from expressions:</p>\n<blockquote>\n<p>3+(23/24)*34/24</p>\n</blockquote>\n<p>I used RPN algorithm: <a href=\"https://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Reverse_Polish_notation</a></p>\n<p>I have now sorted expression in String:</p>\n<blockquote>\n<p>3 23 24 / 34 * 24 / +</p>\n</blockquote>\n<p>I don't have any idea how can I get value from this expression.</p>\n<p>Thx</p>\n"},{"tags":["java","swing","jtextpane"],"comments":[{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":1,"creation_date":1358521171,"post_id":14400946,"comment_id":20037840,"body_markdown":"This answer regarding [**How to colour specific word in JTextPane**](http://stackoverflow.com/a/9652143/1057230), might can help you too.","body":"This answer regarding <a href=\"http://stackoverflow.com/a/9652143/1057230\"><b>How to colour specific word in JTextPane</b></a>, might can help you too."}],"answers":[{"comments":[{"owner":{"account_id":2255313,"reputation":1676,"user_id":1986618,"accept_rate":53,"display_name":"Soheil"},"score":0,"creation_date":1358543754,"post_id":14401245,"comment_id":20049060,"body_markdown":"now let me ask other small question here, is it possible to make a JTextPane with only 1 row? just like a JTextField","body":"now let me ask other small question here, is it possible to make a JTextPane with only 1 row? just like a JTextField"}],"tags":[],"owner":{"account_id":633608,"reputation":32281,"user_id":391554,"accept_rate":93,"display_name":"Dan D."},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1409207516,"creation_date":1358520109,"answer_id":14401245,"question_id":14400946,"body_markdown":"Overwriting `paintComponent` will not help you.\r\n\r\nThis is not an easy one, but not impossible either. Something like this will help you:\r\n\r\n    DefaultStyledDocument document = new DefaultStyledDocument();\r\n    JTextPane textpane = new JTextPane(document);\r\n    StyleContext context = new StyleContext();\r\n    // build a style\r\n    Style style = context.addStyle(&quot;test&quot;, null);\r\n    // set some style properties\r\n    StyleConstants.setForeground(style, Color.BLUE);\r\n    // add some data to the document\r\n    document.insertString(0, &quot;&quot;, style);\r\n\r\nYou may need to tweak this, but at least it shows you where to start.\r\n","title":"How to change the color of specific words in a JTextPane?","body":"<p>Overwriting <code>paintComponent</code> will not help you.</p>\n\n<p>This is not an easy one, but not impossible either. Something like this will help you:</p>\n\n<pre><code>DefaultStyledDocument document = new DefaultStyledDocument();\nJTextPane textpane = new JTextPane(document);\nStyleContext context = new StyleContext();\n// build a style\nStyle style = context.addStyle(\"test\", null);\n// set some style properties\nStyleConstants.setForeground(style, Color.BLUE);\n// add some data to the document\ndocument.insertString(0, \"\", style);\n</code></pre>\n\n<p>You may need to tweak this, but at least it shows you where to start.</p>\n"},{"comments":[{"owner":{"account_id":2174492,"reputation":781,"user_id":1925532,"accept_rate":73,"display_name":"Sachin Kumar"},"score":0,"creation_date":1381087589,"post_id":14403065,"comment_id":28432563,"body_markdown":"Is there any other way to do same thing without looping?","body":"Is there any other way to do same thing without looping?"},{"owner":{"account_id":1905937,"reputation":5525,"user_id":1720816,"accept_rate":100,"display_name":"shuangwhywhy"},"score":0,"creation_date":1381115444,"post_id":14403065,"comment_id":28438854,"body_markdown":"@SachinKumar, Do you mean the loops in `findLastNonWordChar` and `findFirstNonWordChar`? Yes, you can find the first non word character without looping, see the answer [here](http://stackoverflow.com/questions/11214245/java-find-index-of-first-regex), but there is no direct way to find the &#39;last index of&#39; a non-word character. You can try using `split()` method.","body":"@SachinKumar, Do you mean the loops in <code>findLastNonWordChar</code> and <code>findFirstNonWordChar</code>? Yes, you can find the first non word character without looping, see the answer <a href=\"http://stackoverflow.com/questions/11214245/java-find-index-of-first-regex\">here</a>, but there is no direct way to find the &#39;last index of&#39; a non-word character. You can try using <code>split()</code> method."},{"owner":{"account_id":2174492,"reputation":781,"user_id":1925532,"accept_rate":73,"display_name":"Sachin Kumar"},"score":0,"creation_date":1381222113,"post_id":14403065,"comment_id":28483703,"body_markdown":"I am trying same thing using DocumentListener(), but i got an exception &quot;Attempt to mutate in notification&quot;. How can i accomplish this using DocumentListener().","body":"I am trying same thing using DocumentListener(), but i got an exception &quot;Attempt to mutate in notification&quot;. How can i accomplish this using DocumentListener()."},{"owner":{"account_id":1905937,"reputation":5525,"user_id":1720816,"accept_rate":100,"display_name":"shuangwhywhy"},"score":0,"creation_date":1381227166,"post_id":14403065,"comment_id":28486633,"body_markdown":"@SachinKumar, listener is not the same thing here. All the methods in `DocumentListener` are triggered after updating is happen.","body":"@SachinKumar, listener is not the same thing here. All the methods in <code>DocumentListener</code> are triggered after updating is happen."},{"owner":{"account_id":3405073,"reputation":2770,"user_id":2856360,"accept_rate":91,"display_name":"Tomasz Waszczyk"},"score":0,"creation_date":1386067245,"post_id":14403065,"comment_id":30374554,"body_markdown":"@shuangwhywhy do you know whether there is a possibility to have colored text in JTextPane ?","body":"@shuangwhywhy do you know whether there is a possibility to have colored text in JTextPane ?"},{"owner":{"account_id":1905937,"reputation":5525,"user_id":1720816,"accept_rate":100,"display_name":"shuangwhywhy"},"score":1,"creation_date":1386080407,"post_id":14403065,"comment_id":30382656,"body_markdown":"@MrPhi, Yes, but you can only set the same color (the same style, including font size, font family, bold, italic, etc.) to all of the characters in JTextPane.","body":"@MrPhi, Yes, but you can only set the same color (the same style, including font size, font family, bold, italic, etc.) to all of the characters in JTextPane."},{"owner":{"display_name":"user3003149"},"score":0,"creation_date":1394179300,"post_id":14403065,"comment_id":33781939,"body_markdown":"very useful and interesting","body":"very useful and interesting"}],"tags":[],"owner":{"account_id":1905937,"reputation":5525,"user_id":1720816,"accept_rate":100,"display_name":"shuangwhywhy"},"comment_count":7,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1358526265,"creation_date":1358525911,"answer_id":14403065,"question_id":14400946,"body_markdown":"No. You are not supposed to override the paintComponent() method. Instead, you should use `StyledDocument`. You should also delimit the words by your self.\r\n\r\nHere is the demo, which turns &quot;public&quot;, &quot;protected&quot; and &quot;private&quot; to red when typing, just like a simple code editor:\r\n\r\n![enter image description here][1]\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import javax.swing.text.*;\r\n    \r\n    public class Test extends JFrame {\r\n    \tprivate int findLastNonWordChar (String text, int index) {\r\n    \t\twhile (--index &gt;= 0) {\r\n    \t\t\tif (String.valueOf(text.charAt(index)).matches(&quot;\\\\W&quot;)) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn index;\r\n    \t}\r\n    \r\n    \tprivate int findFirstNonWordChar (String text, int index) {\r\n    \t\twhile (index &lt; text.length()) {\r\n    \t\t\tif (String.valueOf(text.charAt(index)).matches(&quot;\\\\W&quot;)) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tindex++;\r\n    \t\t}\r\n    \t\treturn index;\r\n    \t}\r\n    \r\n    \tpublic Test () {\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tsetSize(400, 400);\r\n    \t\tsetLocationRelativeTo(null);\r\n    \r\n    \t\tfinal StyleContext cont = StyleContext.getDefaultStyleContext();\r\n    \t\tfinal AttributeSet attr = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, Color.RED);\r\n    \t\tfinal AttributeSet attrBlack = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, Color.BLACK);\r\n    \t\tDefaultStyledDocument doc = new DefaultStyledDocument() {\r\n    \t\t\tpublic void insertString (int offset, String str, AttributeSet a) throws BadLocationException {\r\n    \t\t\t\tsuper.insertString(offset, str, a);\r\n    \r\n    \t\t\t\tString text = getText(0, getLength());\r\n    \t\t\t\tint before = findLastNonWordChar(text, offset);\r\n    \t\t\t\tif (before &lt; 0) before = 0;\r\n    \t\t\t\tint after = findFirstNonWordChar(text, offset + str.length());\r\n    \t\t\t\tint wordL = before;\r\n    \t\t\t\tint wordR = before;\r\n    \r\n    \t\t\t\twhile (wordR &lt;= after) {\r\n    \t\t\t\t\tif (wordR == after || String.valueOf(text.charAt(wordR)).matches(&quot;\\\\W&quot;)) {\r\n    \t\t\t\t\t\tif (text.substring(wordL, wordR).matches(&quot;(\\\\W)*(private|public|protected)&quot;))\r\n    \t\t\t\t\t\t\tsetCharacterAttributes(wordL, wordR - wordL, attr, false);\r\n    \t\t\t\t\t\telse\r\n    \t\t\t\t\t\t\tsetCharacterAttributes(wordL, wordR - wordL, attrBlack, false);\r\n    \t\t\t\t\t\twordL = wordR;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\twordR++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tpublic void remove (int offs, int len) throws BadLocationException {\r\n    \t\t\t\tsuper.remove(offs, len);\r\n    \r\n    \t\t\t\tString text = getText(0, getLength());\r\n    \t\t\t\tint before = findLastNonWordChar(text, offs);\r\n    \t\t\t\tif (before &lt; 0) before = 0;\r\n    \t\t\t\tint after = findFirstNonWordChar(text, offs);\r\n    \r\n    \t\t\t\tif (text.substring(before, after).matches(&quot;(\\\\W)*(private|public|protected)&quot;)) {\r\n    \t\t\t\t\tsetCharacterAttributes(before, after - before, attr, false);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tsetCharacterAttributes(before, after - before, attrBlack, false);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tJTextPane txt = new JTextPane(doc);\r\n    \t\ttxt.setText(&quot;public class Hi {}&quot;);\r\n    \t\tadd(new JScrollPane(txt));\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main (String args[]) {\r\n    \t\tnew Test();\r\n    \t}\r\n    }\r\n\r\nThe code is not so beautiful since I typed it quickly but it works. And I hope it will give you some hint.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vP6aK.png","title":"How to change the color of specific words in a JTextPane?","body":"<p>No. You are not supposed to override the paintComponent() method. Instead, you should use <code>StyledDocument</code>. You should also delimit the words by your self.</p>\n\n<p>Here is the demo, which turns \"public\", \"protected\" and \"private\" to red when typing, just like a simple code editor:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vP6aK.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport javax.swing.text.*;\n\npublic class Test extends JFrame {\n    private int findLastNonWordChar (String text, int index) {\n        while (--index &gt;= 0) {\n            if (String.valueOf(text.charAt(index)).matches(\"\\\\W\")) {\n                break;\n            }\n        }\n        return index;\n    }\n\n    private int findFirstNonWordChar (String text, int index) {\n        while (index &lt; text.length()) {\n            if (String.valueOf(text.charAt(index)).matches(\"\\\\W\")) {\n                break;\n            }\n            index++;\n        }\n        return index;\n    }\n\n    public Test () {\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setSize(400, 400);\n        setLocationRelativeTo(null);\n\n        final StyleContext cont = StyleContext.getDefaultStyleContext();\n        final AttributeSet attr = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, Color.RED);\n        final AttributeSet attrBlack = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, Color.BLACK);\n        DefaultStyledDocument doc = new DefaultStyledDocument() {\n            public void insertString (int offset, String str, AttributeSet a) throws BadLocationException {\n                super.insertString(offset, str, a);\n\n                String text = getText(0, getLength());\n                int before = findLastNonWordChar(text, offset);\n                if (before &lt; 0) before = 0;\n                int after = findFirstNonWordChar(text, offset + str.length());\n                int wordL = before;\n                int wordR = before;\n\n                while (wordR &lt;= after) {\n                    if (wordR == after || String.valueOf(text.charAt(wordR)).matches(\"\\\\W\")) {\n                        if (text.substring(wordL, wordR).matches(\"(\\\\W)*(private|public|protected)\"))\n                            setCharacterAttributes(wordL, wordR - wordL, attr, false);\n                        else\n                            setCharacterAttributes(wordL, wordR - wordL, attrBlack, false);\n                        wordL = wordR;\n                    }\n                    wordR++;\n                }\n            }\n\n            public void remove (int offs, int len) throws BadLocationException {\n                super.remove(offs, len);\n\n                String text = getText(0, getLength());\n                int before = findLastNonWordChar(text, offs);\n                if (before &lt; 0) before = 0;\n                int after = findFirstNonWordChar(text, offs);\n\n                if (text.substring(before, after).matches(\"(\\\\W)*(private|public|protected)\")) {\n                    setCharacterAttributes(before, after - before, attr, false);\n                } else {\n                    setCharacterAttributes(before, after - before, attrBlack, false);\n                }\n            }\n        };\n        JTextPane txt = new JTextPane(doc);\n        txt.setText(\"public class Hi {}\");\n        add(new JScrollPane(txt));\n        setVisible(true);\n    }\n\n    public static void main (String args[]) {\n        new Test();\n    }\n}\n</code></pre>\n\n<p>The code is not so beautiful since I typed it quickly but it works. And I hope it will give you some hint.</p>\n"},{"comments":[{"owner":{"account_id":6842569,"reputation":1290,"user_id":5277935,"accept_rate":83,"display_name":"AMACB"},"score":0,"creation_date":1459047538,"post_id":28773736,"comment_id":60116967,"body_markdown":"This answer deserves more likes! It works perfectly for me, whereas the other answers are more confusing to use.","body":"This answer deserves more likes! It works perfectly for me, whereas the other answers are more confusing to use."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1506712511,"post_id":28773736,"comment_id":79945595,"body_markdown":"Since the DocumentFilter doesnt actually do any filtering, it probably makes more sense to use a [DocumentListener](https://docs.oracle.com/javase/9/docs/api/javax/swing/text/Document.html#addDocumentListener-javax.swing.event.DocumentListener-) instead.","body":"Since the DocumentFilter doesnt actually do any filtering, it probably makes more sense to use a <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/swing/text/Document.html#addDocumentListener-javax.swing.event.DocumentListener-\" rel=\"nofollow noreferrer\">DocumentListener</a> instead."}],"tags":[],"owner":{"account_id":179033,"reputation":4058,"user_id":411401,"display_name":"diadyne"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1425069057,"creation_date":1425069057,"answer_id":28773736,"question_id":14400946,"body_markdown":"Another solution is to use a `DocumentFilter`.\r\n\r\nHere is an example:\r\n\r\nCreate a class that extends DocumentFilter:\r\n\r\n\tprivate final class CustomDocumentFilter extends DocumentFilter\r\n\t{\r\n\t\t\tprivate final StyledDocument styledDocument = yourTextPane.getStyledDocument();\r\n\r\n\t\t\tprivate final StyleContext styleContext = StyleContext.getDefaultStyleContext();\r\n\t\t\tprivate final AttributeSet greenAttributeSet = styleContext.addAttribute(styleContext.getEmptySet(), StyleConstants.Foreground, Color.GREEN);\r\n\t\t\tprivate final AttributeSet blackAttributeSet = styleContext.addAttribute(styleContext.getEmptySet(), StyleConstants.Foreground, Color.BLACK);\r\n\r\n\t\t// Use a regular expression to find the words you are looking for\r\n\t\tPattern pattern = buildPattern();\r\n\r\n\t\t@Override\r\n\t\tpublic void insertString(FilterBypass fb, int offset, String text, AttributeSet attributeSet) throws BadLocationException {\r\n\t\t\tsuper.insertString(fb, offset, text, attributeSet);\r\n\t\t\t\r\n\t\t\thandleTextChanged();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void remove(FilterBypass fb, int offset, int length) throws BadLocationException {\r\n\t\t\tsuper.remove(fb, offset, length);\r\n\t\t\t\r\n\t\t\thandleTextChanged();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void replace(FilterBypass fb, int offset, int length, String text, AttributeSet attributeSet) throws BadLocationException {\r\n\t\t\tsuper.replace(fb, offset, length, text, attributeSet);\r\n\r\n\t\t\thandleTextChanged();\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Runs your updates later, not during the event notification.\r\n\t\t */\r\n\t\tprivate void handleTextChanged()\r\n\t\t{\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tupdateTextStyles();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Build the regular expression that looks for the whole word of each word that you wish to find.  The &quot;\\\\b&quot; is the beginning or end of a word boundary.  The &quot;|&quot; is a regex &quot;or&quot; operator.\r\n\t\t * @return\r\n\t\t */\r\n\t\tprivate Pattern buildPattern()\r\n\t\t{\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tfor (String token : ALL_WORDS_THAT_YOU_WANT_TO_FIND) {\r\n\t\t\t\tsb.append(&quot;\\\\b&quot;); // Start of word boundary\r\n\t\t\t\tsb.append(token);\r\n\t\t\t\tsb.append(&quot;\\\\b|&quot;); // End of word boundary and an or for the next word\r\n\t\t\t}\r\n\t\t\tif (sb.length() &gt; 0) {\r\n\t\t\t\tsb.deleteCharAt(sb.length() - 1); // Remove the trailing &quot;|&quot;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tPattern p = Pattern.compile(sb.toString());\r\n\t\t\t\r\n\t\t\treturn p;\r\n\t\t}\r\n\r\n\t\t\r\n\t\tprivate void updateTextStyles()\r\n\t\t{\r\n\t\t\t// Clear existing styles\r\n\t\t\tstyledDocument.setCharacterAttributes(0, yourTextPane.getText().length(), blackAttributeSet, true);\r\n\r\n\t\t\t// Look for tokens and highlight them\r\n\t\t\tMatcher matcher = pattern.matcher(yourTextPane.getText());\r\n\t\t\twhile (matcher.find()) {\r\n\t\t\t\t// Change the color of recognized tokens\r\n\t\t\t\tstyledDocument.setCharacterAttributes(matcher.start(), matcher.end() - matcher.start(), greenAttributeSet, false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAll you need to do then is apply the `DocumentFilter` that you created to your `JTextPane` as follows:\r\n\r\n\r\n    ((AbstractDocument) yourTextPane.getDocument()).setDocumentFilter(new CustomDocumentFilter());","title":"How to change the color of specific words in a JTextPane?","body":"<p>Another solution is to use a <code>DocumentFilter</code>.</p>\n\n<p>Here is an example:</p>\n\n<p>Create a class that extends DocumentFilter:</p>\n\n<pre><code>private final class CustomDocumentFilter extends DocumentFilter\n{\n        private final StyledDocument styledDocument = yourTextPane.getStyledDocument();\n\n        private final StyleContext styleContext = StyleContext.getDefaultStyleContext();\n        private final AttributeSet greenAttributeSet = styleContext.addAttribute(styleContext.getEmptySet(), StyleConstants.Foreground, Color.GREEN);\n        private final AttributeSet blackAttributeSet = styleContext.addAttribute(styleContext.getEmptySet(), StyleConstants.Foreground, Color.BLACK);\n\n    // Use a regular expression to find the words you are looking for\n    Pattern pattern = buildPattern();\n\n    @Override\n    public void insertString(FilterBypass fb, int offset, String text, AttributeSet attributeSet) throws BadLocationException {\n        super.insertString(fb, offset, text, attributeSet);\n\n        handleTextChanged();\n    }\n\n    @Override\n    public void remove(FilterBypass fb, int offset, int length) throws BadLocationException {\n        super.remove(fb, offset, length);\n\n        handleTextChanged();\n    }\n\n    @Override\n    public void replace(FilterBypass fb, int offset, int length, String text, AttributeSet attributeSet) throws BadLocationException {\n        super.replace(fb, offset, length, text, attributeSet);\n\n        handleTextChanged();\n    }\n\n    /**\n     * Runs your updates later, not during the event notification.\n     */\n    private void handleTextChanged()\n    {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                updateTextStyles();\n            }\n        });\n    }\n\n    /**\n     * Build the regular expression that looks for the whole word of each word that you wish to find.  The \"\\\\b\" is the beginning or end of a word boundary.  The \"|\" is a regex \"or\" operator.\n     * @return\n     */\n    private Pattern buildPattern()\n    {\n        StringBuilder sb = new StringBuilder();\n        for (String token : ALL_WORDS_THAT_YOU_WANT_TO_FIND) {\n            sb.append(\"\\\\b\"); // Start of word boundary\n            sb.append(token);\n            sb.append(\"\\\\b|\"); // End of word boundary and an or for the next word\n        }\n        if (sb.length() &gt; 0) {\n            sb.deleteCharAt(sb.length() - 1); // Remove the trailing \"|\"\n        }\n\n        Pattern p = Pattern.compile(sb.toString());\n\n        return p;\n    }\n\n\n    private void updateTextStyles()\n    {\n        // Clear existing styles\n        styledDocument.setCharacterAttributes(0, yourTextPane.getText().length(), blackAttributeSet, true);\n\n        // Look for tokens and highlight them\n        Matcher matcher = pattern.matcher(yourTextPane.getText());\n        while (matcher.find()) {\n            // Change the color of recognized tokens\n            styledDocument.setCharacterAttributes(matcher.start(), matcher.end() - matcher.start(), greenAttributeSet, false);\n        }\n    }\n}\n</code></pre>\n\n<p>All you need to do then is apply the <code>DocumentFilter</code> that you created to your <code>JTextPane</code> as follows:</p>\n\n<pre><code>((AbstractDocument) yourTextPane.getDocument()).setDocumentFilter(new CustomDocumentFilter());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2520686,"reputation":763,"user_id":2191131,"accept_rate":73,"display_name":"Markus"},"score":0,"creation_date":1463471226,"post_id":30040486,"comment_id":62066193,"body_markdown":"Where is the class `HiliteWord`?","body":"Where is the class <code>HiliteWord</code>?"},{"owner":{"account_id":7606429,"reputation":500,"user_id":5768951,"accept_rate":37,"display_name":"DevX"},"score":0,"creation_date":1474705992,"post_id":30040486,"comment_id":66649136,"body_markdown":"@Constantin...Please provide code for HiliteWord class","body":"@Constantin...Please provide code for HiliteWord class"},{"owner":{"account_id":3135078,"reputation":1516,"user_id":2754695,"accept_rate":62,"display_name":"Constantin"},"score":0,"creation_date":1474970793,"post_id":30040486,"comment_id":66741047,"body_markdown":"I tried but it was rejected by 3 of 4 reviewers, sorry","body":"I tried but it was rejected by 3 of 4 reviewers, sorry"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1617981655,"post_id":30040486,"comment_id":118471933,"body_markdown":"Given that `word.toUpperCase().trim()` is not a cheap operation, copying and converting the string contents two times in the worst case, it is not a good idea to do it up to 70 times in row. Considering that `word` should not contain white-space, `trim()` is obsolete and `equalsIgnoreCase`  can perform the desired operation directly without the creation of new strings.","body":"Given that <code>word.toUpperCase().trim()</code> is not a cheap operation, copying and converting the string contents two times in the worst case, it is not a good idea to do it up to 70 times in row. Considering that <code>word</code> should not contain white-space, <code>trim()</code> is obsolete and <code>equalsIgnoreCase</code>  can perform the desired operation directly without the creation of new strings."}],"tags":[],"owner":{"account_id":3135078,"reputation":1516,"user_id":2754695,"accept_rate":62,"display_name":"Constantin"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1474971179,"creation_date":1430775780,"answer_id":30040486,"question_id":14400946,"body_markdown":"You can extend DefaultStyledDocument like I did here for an SQL editor I am building with keyword text coloring ...\r\n\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        import javax.swing.text.AttributeSet;\r\n        import javax.swing.text.BadLocationException;\r\n        import javax.swing.text.DefaultStyledDocument;\r\n        import javax.swing.text.Style;\r\n\r\n        public class KeywordStyledDocument extends DefaultStyledDocument  {\r\n            private static final long serialVersionUID = 1L;\r\n            private Style _defaultStyle;\r\n            private Style _cwStyle;\r\n\r\n            public KeywordStyledDocument(Style defaultStyle, Style cwStyle) {\r\n                _defaultStyle =  defaultStyle;\r\n                _cwStyle = cwStyle;\r\n            }\r\n        \r\n             public void insertString (int offset, String str, AttributeSet a) throws BadLocationException {\r\n                 super.insertString(offset, str, a);\r\n                 refreshDocument();\r\n             }\r\n\r\n             public void remove (int offs, int len) throws BadLocationException {\r\n                 super.remove(offs, len);\r\n                 refreshDocument();\r\n             }\r\n\r\n             private synchronized void refreshDocument() throws BadLocationException {\r\n                 String text = getText(0, getLength());\r\n                 final List&lt;HiliteWord&gt; list = processWords(text);\r\n                \r\n                 setCharacterAttributes(0, text.length(), _defaultStyle, true);   \r\n                 for(HiliteWord word : list) {\r\n                     int p0 = word._position;\r\n                     setCharacterAttributes(p0, word._word.length(), _cwStyle, true);\r\n                 }\r\n             }       \r\n\r\n             private static  List&lt;HiliteWord&gt; processWords(String content) {\r\n                 content += &quot; &quot;;\r\n                 List&lt;HiliteWord&gt; hiliteWords = new ArrayList&lt;HiliteWord&gt;();\r\n                 int lastWhitespacePosition = 0;\r\n                 String word = &quot;&quot;;\r\n                 char[] data = content.toCharArray();\r\n\r\n                 for(int index=0; index &lt; data.length; index++) {\r\n                     char ch = data[index];\r\n                     if(!(Character.isLetter(ch) || Character.isDigit(ch) || ch == &#39;_&#39;)) {\r\n                         lastWhitespacePosition = index;\r\n                         if(word.length() &gt; 0) {\r\n                             if(isReservedWord(word)) {\r\n                                 hiliteWords.add(new HiliteWord(word,(lastWhitespacePosition - word.length())));\r\n                             }\r\n                             word=&quot;&quot;;\r\n                         }\r\n                     }\r\n                     else {\r\n                         word += ch;\r\n                     }\r\n                }\r\n                return hiliteWords;\r\n             }\r\n\r\n             private static final boolean isReservedWord(String word) {\r\n                 return(word.toUpperCase().trim().equals(&quot;CROSS&quot;) || \r\n                                word.toUpperCase().trim().equals(&quot;CURRENT_DATE&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;CURRENT_TIME&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;CURRENT_TIMESTAMP&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;DISTINCT&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;EXCEPT&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;EXISTS&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;FALSE&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;FETCH&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;FOR&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;FROM&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;FULL&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;GROUP&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;HAVING&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;INNER&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;INTERSECT&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;IS&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;JOIN&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;LIKE&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;LIMIT&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;MINUS&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;NATURAL&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;NOT&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;NULL&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;OFFSET&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;ON&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;ORDER&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;PRIMARY&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;ROWNUM&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;SELECT&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;SYSDATE&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;SYSTIME&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;SYSTIMESTAMP&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;TODAY&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;TRUE&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;UNION&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;UNIQUE&quot;) ||\r\n                                word.toUpperCase().trim().equals(&quot;WHERE&quot;));\r\n            }\r\n        }\r\n\r\nSimply add it to your class like so:\r\n\r\n        import java.awt.BorderLayout;\r\n        import java.awt.Color;\r\n        import java.awt.Font;\r\n        import javax.swing.JFrame;\r\n        import javax.swing.JScrollPane;\r\n        import javax.swing.JTextPane;\r\n        import javax.swing.text.BadLocationException;\r\n        import javax.swing.text.Style;\r\n        import javax.swing.text.StyleConstants;\r\n        import javax.swing.text.StyleContext;\r\n        \r\n        public class SQLEditor extends JFrame {\r\n            private static final long serialVersionUID = 1L;\r\n         \r\n            public SQLEditor() {\r\n                StyleContext styleContext = new StyleContext();\r\n                Style defaultStyle = styleContext.getStyle(StyleContext.DEFAULT_STYLE);\r\n                Style cwStyle = styleContext.addStyle(&quot;ConstantWidth&quot;, null);\r\n                StyleConstants.setForeground(cwStyle, Color.BLUE);\r\n                StyleConstants.setBold(cwStyle, true);\r\n        \r\n                final JTextPane pane = new JTextPane(new KeywordStyledDocument(defaultStyle, cwStyle));\r\n                pane.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\r\n\t    \r\n                JScrollPane scrollPane = new JScrollPane(pane);\r\n                getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                setSize(375, 400);\t\t\r\n            }\r\n\t\r\n            public static void main(String[] args) throws BadLocationException {\r\n                SQLEditor app = new SQLEditor();\r\n                app.setVisible(true);\r\n            }\r\n        }\r\n\r\nHere&#39;s the missing HiliteWord class ...\r\n\r\n    public class HiliteWord {\r\n\r\n        int _position;  \r\n        String _word;\r\n\r\n        public HiliteWord(String word, int position) {\r\n            _position = position;   \r\n            _word = word;\r\n        }\r\n    }","title":"How to change the color of specific words in a JTextPane?","body":"<p>You can extend DefaultStyledDocument like I did here for an SQL editor I am building with keyword text coloring ...</p>\n\n<pre><code>    import java.util.ArrayList;\n    import java.util.List;\n    import javax.swing.text.AttributeSet;\n    import javax.swing.text.BadLocationException;\n    import javax.swing.text.DefaultStyledDocument;\n    import javax.swing.text.Style;\n\n    public class KeywordStyledDocument extends DefaultStyledDocument  {\n        private static final long serialVersionUID = 1L;\n        private Style _defaultStyle;\n        private Style _cwStyle;\n\n        public KeywordStyledDocument(Style defaultStyle, Style cwStyle) {\n            _defaultStyle =  defaultStyle;\n            _cwStyle = cwStyle;\n        }\n\n         public void insertString (int offset, String str, AttributeSet a) throws BadLocationException {\n             super.insertString(offset, str, a);\n             refreshDocument();\n         }\n\n         public void remove (int offs, int len) throws BadLocationException {\n             super.remove(offs, len);\n             refreshDocument();\n         }\n\n         private synchronized void refreshDocument() throws BadLocationException {\n             String text = getText(0, getLength());\n             final List&lt;HiliteWord&gt; list = processWords(text);\n\n             setCharacterAttributes(0, text.length(), _defaultStyle, true);   \n             for(HiliteWord word : list) {\n                 int p0 = word._position;\n                 setCharacterAttributes(p0, word._word.length(), _cwStyle, true);\n             }\n         }       \n\n         private static  List&lt;HiliteWord&gt; processWords(String content) {\n             content += \" \";\n             List&lt;HiliteWord&gt; hiliteWords = new ArrayList&lt;HiliteWord&gt;();\n             int lastWhitespacePosition = 0;\n             String word = \"\";\n             char[] data = content.toCharArray();\n\n             for(int index=0; index &lt; data.length; index++) {\n                 char ch = data[index];\n                 if(!(Character.isLetter(ch) || Character.isDigit(ch) || ch == '_')) {\n                     lastWhitespacePosition = index;\n                     if(word.length() &gt; 0) {\n                         if(isReservedWord(word)) {\n                             hiliteWords.add(new HiliteWord(word,(lastWhitespacePosition - word.length())));\n                         }\n                         word=\"\";\n                     }\n                 }\n                 else {\n                     word += ch;\n                 }\n            }\n            return hiliteWords;\n         }\n\n         private static final boolean isReservedWord(String word) {\n             return(word.toUpperCase().trim().equals(\"CROSS\") || \n                            word.toUpperCase().trim().equals(\"CURRENT_DATE\") ||\n                            word.toUpperCase().trim().equals(\"CURRENT_TIME\") ||\n                            word.toUpperCase().trim().equals(\"CURRENT_TIMESTAMP\") ||\n                            word.toUpperCase().trim().equals(\"DISTINCT\") ||\n                            word.toUpperCase().trim().equals(\"EXCEPT\") ||\n                            word.toUpperCase().trim().equals(\"EXISTS\") ||\n                            word.toUpperCase().trim().equals(\"FALSE\") ||\n                            word.toUpperCase().trim().equals(\"FETCH\") ||\n                            word.toUpperCase().trim().equals(\"FOR\") ||\n                            word.toUpperCase().trim().equals(\"FROM\") ||\n                            word.toUpperCase().trim().equals(\"FULL\") ||\n                            word.toUpperCase().trim().equals(\"GROUP\") ||\n                            word.toUpperCase().trim().equals(\"HAVING\") ||\n                            word.toUpperCase().trim().equals(\"INNER\") ||\n                            word.toUpperCase().trim().equals(\"INTERSECT\") ||\n                            word.toUpperCase().trim().equals(\"IS\") ||\n                            word.toUpperCase().trim().equals(\"JOIN\") ||\n                            word.toUpperCase().trim().equals(\"LIKE\") ||\n                            word.toUpperCase().trim().equals(\"LIMIT\") ||\n                            word.toUpperCase().trim().equals(\"MINUS\") ||\n                            word.toUpperCase().trim().equals(\"NATURAL\") ||\n                            word.toUpperCase().trim().equals(\"NOT\") ||\n                            word.toUpperCase().trim().equals(\"NULL\") ||\n                            word.toUpperCase().trim().equals(\"OFFSET\") ||\n                            word.toUpperCase().trim().equals(\"ON\") ||\n                            word.toUpperCase().trim().equals(\"ORDER\") ||\n                            word.toUpperCase().trim().equals(\"PRIMARY\") ||\n                            word.toUpperCase().trim().equals(\"ROWNUM\") ||\n                            word.toUpperCase().trim().equals(\"SELECT\") ||\n                            word.toUpperCase().trim().equals(\"SYSDATE\") ||\n                            word.toUpperCase().trim().equals(\"SYSTIME\") ||\n                            word.toUpperCase().trim().equals(\"SYSTIMESTAMP\") ||\n                            word.toUpperCase().trim().equals(\"TODAY\") ||\n                            word.toUpperCase().trim().equals(\"TRUE\") ||\n                            word.toUpperCase().trim().equals(\"UNION\") ||\n                            word.toUpperCase().trim().equals(\"UNIQUE\") ||\n                            word.toUpperCase().trim().equals(\"WHERE\"));\n        }\n    }\n</code></pre>\n\n<p>Simply add it to your class like so:</p>\n\n<pre><code>    import java.awt.BorderLayout;\n    import java.awt.Color;\n    import java.awt.Font;\n    import javax.swing.JFrame;\n    import javax.swing.JScrollPane;\n    import javax.swing.JTextPane;\n    import javax.swing.text.BadLocationException;\n    import javax.swing.text.Style;\n    import javax.swing.text.StyleConstants;\n    import javax.swing.text.StyleContext;\n\n    public class SQLEditor extends JFrame {\n        private static final long serialVersionUID = 1L;\n\n        public SQLEditor() {\n            StyleContext styleContext = new StyleContext();\n            Style defaultStyle = styleContext.getStyle(StyleContext.DEFAULT_STYLE);\n            Style cwStyle = styleContext.addStyle(\"ConstantWidth\", null);\n            StyleConstants.setForeground(cwStyle, Color.BLUE);\n            StyleConstants.setBold(cwStyle, true);\n\n            final JTextPane pane = new JTextPane(new KeywordStyledDocument(defaultStyle, cwStyle));\n            pane.setFont(new Font(\"Courier New\", Font.PLAIN, 12));\n\n            JScrollPane scrollPane = new JScrollPane(pane);\n            getContentPane().add(scrollPane, BorderLayout.CENTER);\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            setSize(375, 400);      \n        }\n\n        public static void main(String[] args) throws BadLocationException {\n            SQLEditor app = new SQLEditor();\n            app.setVisible(true);\n        }\n    }\n</code></pre>\n\n<p>Here's the missing HiliteWord class ...</p>\n\n<pre><code>public class HiliteWord {\n\n    int _position;  \n    String _word;\n\n    public HiliteWord(String word, int position) {\n        _position = position;   \n        _word = word;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14543487,"reputation":33,"user_id":10504419,"display_name":"Thomas F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616332391,"creation_date":1616332391,"answer_id":66732726,"question_id":14400946,"body_markdown":"@Constantin\r\n\r\nDear Constantin,\r\nI used Your fine Solution for my little Project and after only a few Adjustments your solution worked well for me.\r\n\r\nIf you allow, my Changes were:\r\n\r\nMy Use of your Class KeywordStyledDocument in my own JFrame:\r\n\r\n    StyleContext styleContext = new StyleContext();\r\n\tStyle defaultStyle = styleContext.getStyle(StyleContext.DEFAULT_STYLE);\r\n\r\nThis line I Have changed:\r\n\tMutableAttributeSet cwStyle = Functions.style(true, false, Color.RED);\r\n\t\r\n    private JTextPane jTextPaneNumbers = new JTextPane(new KeywordStyledDocument(defaultStyle, cwStyle));\r\n\r\nI outsourced the supply of the cwStyle Instance in a static Function called style:\r\n\r\n    public static MutableAttributeSet style(boolean boldness, boolean italic, Color color) {\r\n    \t\r\n    \tMutableAttributeSet s = new SimpleAttributeSet();\r\n    \t\r\n    \tStyleConstants.setLineSpacing(s, -0.2f);\r\n    \tStyleConstants.setBold(s, boldness);\r\n    \tStyleConstants.setItalic(s, italic);\r\n    \tStyleConstants.setForeground(s, color);\r\n    \t\r\n    \treturn s;\r\n    }\r\n\r\nFurthermore as you see above the cwStyle Class is not longer an Instance of StyleConstants but an Inctance of MutableAttributeSet. Therefore naturally I had to change the Constructor of your KeywordStyledDocumentClass as well:\r\n\r\n    public KeywordStyledDocument(Style defaultStyle, MutableAttributeSet cwStyle) {\r\n        _defaultStyle =  defaultStyle;\r\n        _cwStyle = cwStyle;\r\n    }\r\n\r\nAfter this litle changes and adding my own &quot;words&quot; in your isReservedWord Function and add my Characters &#39; and * to your processWord Function:\r\n\r\n     ...word.toUpperCase().trim().equals(&quot;UNION&quot;) ||\r\n                        word.toUpperCase().trim().equals(&quot;UNIQUE&quot;) ||\r\n                        word.toUpperCase().trim().equals(&quot;WHERE&quot;) ||\r\n                        word.trim().equals(&quot;&#39;&#39;&#39;&#39;&#39;&#39;&quot;) ||\r\n                        word.trim().equals(&quot;******&quot;) \r\n                        );\r\n     if(!(Character.isLetter(ch) || Character.isDigit(ch) || ch == &#39;_&#39; || ch == &#39;\\&#39;&#39; || ch == &#39;*&#39;)) {\r\n\r\nI became my whished Result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThank you very much for showing your Code here.\r\n\r\n  [1]: https://i.stack.imgur.com/ibbgC.png","title":"How to change the color of specific words in a JTextPane?","body":"<p>@Constantin</p>\n<p>Dear Constantin,\nI used Your fine Solution for my little Project and after only a few Adjustments your solution worked well for me.</p>\n<p>If you allow, my Changes were:</p>\n<p>My Use of your Class KeywordStyledDocument in my own JFrame:</p>\n<pre><code>StyleContext styleContext = new StyleContext();\nStyle defaultStyle = styleContext.getStyle(StyleContext.DEFAULT_STYLE);\n</code></pre>\n<p>This line I Have changed:\nMutableAttributeSet cwStyle = Functions.style(true, false, Color.RED);</p>\n<pre><code>private JTextPane jTextPaneNumbers = new JTextPane(new KeywordStyledDocument(defaultStyle, cwStyle));\n</code></pre>\n<p>I outsourced the supply of the cwStyle Instance in a static Function called style:</p>\n<pre><code>public static MutableAttributeSet style(boolean boldness, boolean italic, Color color) {\n    \n    MutableAttributeSet s = new SimpleAttributeSet();\n    \n    StyleConstants.setLineSpacing(s, -0.2f);\n    StyleConstants.setBold(s, boldness);\n    StyleConstants.setItalic(s, italic);\n    StyleConstants.setForeground(s, color);\n    \n    return s;\n}\n</code></pre>\n<p>Furthermore as you see above the cwStyle Class is not longer an Instance of StyleConstants but an Inctance of MutableAttributeSet. Therefore naturally I had to change the Constructor of your KeywordStyledDocumentClass as well:</p>\n<pre><code>public KeywordStyledDocument(Style defaultStyle, MutableAttributeSet cwStyle) {\n    _defaultStyle =  defaultStyle;\n    _cwStyle = cwStyle;\n}\n</code></pre>\n<p>After this litle changes and adding my own &quot;words&quot; in your isReservedWord Function and add my Characters ' and * to your processWord Function:</p>\n<pre><code> ...word.toUpperCase().trim().equals(&quot;UNION&quot;) ||\n                    word.toUpperCase().trim().equals(&quot;UNIQUE&quot;) ||\n                    word.toUpperCase().trim().equals(&quot;WHERE&quot;) ||\n                    word.trim().equals(&quot;''''''&quot;) ||\n                    word.trim().equals(&quot;******&quot;) \n                    );\n if(!(Character.isLetter(ch) || Character.isDigit(ch) || ch == '_' || ch == '\\'' || ch == '*')) {\n</code></pre>\n<p>I became my whished Result:</p>\n<p><a href=\"https://i.stack.imgur.com/ibbgC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ibbgC.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you very much for showing your Code here.</p>\n"},{"tags":[],"owner":{"account_id":16924214,"reputation":94,"user_id":12240258,"display_name":"Corey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674072653,"creation_date":1674072653,"answer_id":75164785,"question_id":14400946,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nWith the use of the ideas from code of the user **shuangwhywhy**, I have modified his code and made some improvements that I believe will be beneficial for many people that would like to be able to dynamically highlight keywords in a JTextPane.\r\n\r\nIn my code I extended **JTextPane** and created a component called **JSyntaxTextPane**.\r\n\r\nIt allows the developer to state a list of words that need to be coloured/highlighted, and then once those words are found within the text of this component they will be coloured accordingly. \r\n\r\n**Main Methods:**\r\n\r\n**initializeSyntaxHighlighter()** - it is the default method created by me that sets the rules for coloring of the keywords.\r\n\r\n**addKeyWord(Color color, String ...words)** - this is the method that developer can use to specify the colour and words that need to be highlighted\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.text.AttributeSet;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.DefaultStyledDocument;\r\n    import javax.swing.text.SimpleAttributeSet;\r\n    import javax.swing.text.StyleConstants;\r\n    import javax.swing.text.StyleContext;\r\n    import javax.swing.text.TabSet;\r\n    import javax.swing.text.TabStop;\r\n    \r\n    /**\r\n     * This class is a prototype for a syntax highlighter for java code.\r\n     * It highlights common java keywords, boolean values and it highlights digits in the text.\r\n     * \r\n     * Limitations of the current prototype:\r\n     * -It does not highlight comments\r\n     * -It does not highlight method calls\r\n     * -It does not highlight objects that are not a part of common java keywords\r\n     * -It does not have intellisense autosuggestion\r\n     * \r\n     * Addendum:\r\n     * Even though this syntax highlighter is designed for java code, {@link #initializeSyntaxHighlighter()} can be modified to highlight any other programming language or keywords\r\n     */\r\n    public class JSyntaxTextPane extends JTextPane {\r\n    \r\n    \t// Default Styles\r\n        final StyleContext cont = StyleContext.getDefaultStyleContext();\r\n        AttributeSet defaultForeground = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, Color.white);\r\n        AttributeSet defaultNumbers = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, Color.cyan);\r\n    \t\r\n        public JSyntaxTextPane () {\r\n            // Styler\r\n            DefaultStyledDocument doc = new DefaultStyledDocument() {\r\n                public void insertString (int offset, String str, AttributeSet a) throws BadLocationException {\r\n                    super.insertString(offset, getDeveloperShortcuts(str), a);\r\n    \r\n                    String text = getText(0, getLength());\r\n                    int before = findLastNonWordChar(text, offset);\r\n                    if (before &lt; 0) before = 0;\r\n                    int after = findFirstNonWordChar(text, offset + str.length());\r\n                    int wordL = before;\r\n                    int wordR = before;\r\n    \r\n                    while (wordR &lt;= after) {\r\n                        if (wordR == after || String.valueOf(text.charAt(wordR)).matches(&quot;\\\\W&quot;)) {\r\n                        \t// Colors words in appropriate style, if nothing matches, make it default black\r\n                        \tboolean matchFound = false;\r\n                        \t\r\n                        \tfor (KeyWord keyWord : keyWords) {\r\n                        \t\tif (text.substring(wordL, wordR).matches(&quot;(\\\\W)*(&quot;+keyWord.getWords()+&quot;)&quot;)) {\r\n                                    setCharacterAttributes(wordL, wordR - wordL, keyWord.getColorAttribute(), false);\r\n                                    matchFound = true;\r\n                        \t\t}\r\n    \t\t\t\t\t\t}\r\n                        \t\r\n                        \t// Highlight numbers\r\n                    \t\tif (text.substring(wordL, wordR).matches(&quot;\\\\W\\\\d[\\\\d]*&quot;)) {\r\n                                setCharacterAttributes(wordL, wordR - wordL, defaultNumbers, false);\r\n                                matchFound = true;\r\n                    \t\t}\r\n                    \t\t\r\n                    \t\t// ================ ANY ADDITIONAL HIGHLIGHTING LOGIC MAY BE ADDED HERE\r\n                    \t\t// Ideas: highlighting a comment; highlighting method calls;\r\n                    \t\t\r\n                    \t\t// ================\r\n                    \t\t\r\n                        \t// If no match found, make text default colored\r\n                        \tif(!matchFound) {\r\n                        \t\tsetCharacterAttributes(wordL, wordR - wordL, defaultForeground, false);\r\n                        \t}\r\n                        \t\r\n                        \twordL = wordR;\r\n                        }\r\n                        \r\n                        wordR++;\r\n                    }\r\n                }\r\n    \r\n                public void remove (int offs, int len) throws BadLocationException {\r\n                    super.remove(offs, len);\r\n    \r\n                    String text = getText(0, getLength());\r\n                    int before = findLastNonWordChar(text, offs);\r\n                    if (before &lt; 0) before = 0;\r\n                    int after = findFirstNonWordChar(text, offs);\r\n    \r\n                \t// Colors words in appropriate style, if nothing matches, make it default black\r\n                    boolean matchFound = false;\r\n                    \r\n                \tfor (KeyWord keyWord : keyWords) {\r\n                \t\tif (text.substring(before, after).matches(&quot;(\\\\W)*(&quot;+keyWord.getWords()+&quot;)&quot;)) {\r\n                \t\t\tsetCharacterAttributes(before, after - before, keyWord.getColorAttribute(), false);\r\n                \t\t\tmatchFound = true;\r\n                \t\t} \r\n                \t\t\r\n                    \t// Highlight numbers\r\n                \t\tif (text.substring(before, after).matches(&quot;\\\\W\\\\d[\\\\d]*&quot;)) {\r\n                            setCharacterAttributes(before, after - before, defaultNumbers, false);\r\n                            matchFound = true;\r\n                \t\t}\r\n                \t\t\r\n                \t\t// ================ ANY ADDITIONAL HIGHLIGHTING LOGIC MAY BE ADDED HERE\r\n                \t\t// Ideas: highlighting a comment; highlighting method calls;\r\n                \t\t\r\n                \t\t// ================\r\n                \r\n                \t\tif(!matchFound) {\r\n                \t\t\tsetCharacterAttributes(before, after - before, defaultForeground, false);\r\n                \t\t}\r\n    \t\t\t\t}\r\n                }\r\n            };\r\n            \r\n            setStyledDocument(doc);\r\n            \r\n            // SET DEFAULT TAB SIZE\r\n            setTabSize(40);\r\n    \r\n            // THIS PART APPLIES DEFAULT SYNTAX HIGHLIGHTER BEHAVIOUR\r\n            initializeSyntaxHighlighter();\r\n        }\r\n        \r\n        private int findLastNonWordChar (String text, int index) {\r\n            while (--index &gt;= 0) {\r\n                if (String.valueOf(text.charAt(index)).matches(&quot;\\\\W&quot;)) {\r\n                    break;\r\n                }\r\n            }\r\n            return index;\r\n        }\r\n    \r\n        private int findFirstNonWordChar (String text, int index) {\r\n            while (index &lt; text.length()) {\r\n                if (String.valueOf(text.charAt(index)).matches(&quot;\\\\W&quot;)) {\r\n                    break;\r\n                }\r\n                index++;\r\n            }\r\n            return index;\r\n        }\r\n        \r\n        /**\r\n         * Shortcuts, when letter is typed, it will produce additional strings specified inside of this method\r\n         * \r\n         * @param str\r\n         * @return\r\n         */\r\n        private String getDeveloperShortcuts(String str) {\r\n        \t// Add ending parenthesis when it is open\r\n           \tif(str.equals(&quot;(&quot;)) {\r\n        \t\treturn &quot;()&quot;;\r\n        \t}\r\n        \t\r\n           \t// Add ending braces when it is open\r\n         \tif(str.equals(&quot;{&quot;)) {\r\n         \t\treturn &quot;{\\n\\n};&quot;;\r\n        \t}\r\n         \t\r\n         \treturn str;\r\n        }\r\n        \r\n        /**\r\n         * Sets size of space produced when user presses Tab button\r\n         * \r\n         * @param tabSize\r\n         */\r\n        public void setTabSize(int tabSize) {\r\n        \t// Once tab count exceed x times, it will make a small space only\r\n        \tint maxTabsPerRow = 10;\r\n        \t\r\n            TabStop[] tabs = new TabStop[maxTabsPerRow];\r\n            for(int i = 0; i &lt; maxTabsPerRow; i++) {\r\n            \ttabs[i] = new TabStop(tabSize*(i+1), TabStop.ALIGN_LEFT, TabStop.LEAD_NONE);\r\n            }\r\n            \r\n            TabSet tabset = new TabSet(tabs);\r\n            \r\n            StyleContext sc = StyleContext.getDefaultStyleContext();\r\n            AttributeSet aset = sc.addAttribute(SimpleAttributeSet.EMPTY,\r\n            StyleConstants.TabSet, tabset);\r\n            setParagraphAttributes(aset, false);\r\n        }\r\n        \r\n        /**\r\n         * Adds a key word or keywords that will be colored in the JTextPane\r\n         * \r\n         * @param color - color of the words\r\n         * @param words - words that need to be colored\r\n         */\r\n        public void addKeyWord(Color color, String ...words) {\r\n        \tkeyWords.add(new KeyWord(color, words));\r\n        }\r\n        \r\n        ArrayList&lt;KeyWord&gt; keyWords = new ArrayList&lt;KeyWord&gt;();\r\n        \r\n        /**\r\n         * Holds information about list of words that need to be colored in a specific color\r\n         * \r\n         */\r\n        class KeyWord {\r\n        \tColor color;\r\n        \tString[] words;\r\n        \t\r\n        \t/**\r\n    \t     * Instantiates a new key word object that holds a list of words that need to be colored.\r\n    \t     *\r\n    \t     * @param color the color\r\n    \t     * @param words the words\r\n    \t     */\r\n    \t    public KeyWord(Color color, String...words) {\r\n    \t\t\tthis.color = color;\r\n    \t\t\tthis.words = words;\r\n    \t\t}\r\n        \t\r\n        \tpublic String getWords() {\r\n        \t\tString text = &quot;&quot;;\r\n        \t\t\r\n        \t\tfor (int i = 0; i &lt; words.length; i++) {\r\n        \t\t\tif(i != words.length-1) {\r\n        \t\t\t\ttext = text + words[i] + &quot;|&quot;;\r\n        \t\t\t} else {\r\n        \t\t\t\ttext = text + words[i];\r\n        \t\t\t}\r\n    \t\t\t}\r\n        \t\t\r\n        \t\treturn text;\r\n        \t}\r\n        \t\r\n        \tpublic AttributeSet getColorAttribute() {\r\n        \t\tStyleContext cont = StyleContext.getDefaultStyleContext();\r\n        \t\treturn cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, color);\r\n        \t}\r\n    \r\n        }\r\n        \r\n        /**\r\n         * Sets color of all integers\r\n         * \r\n         * @param color\r\n         */\r\n        public void setIntegerColours(Color color) {\r\n        \tdefaultNumbers = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, color);\r\n            \r\n        }\r\n        \r\n        /**\r\n         * Sets color of non-keywords \r\n         * \r\n         * @param color\r\n         */\r\n        public void setDefaultTextColour(Color color) {\r\n        \tdefaultForeground = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, color);\r\n        }\r\n        \r\n        /**\r\n         * Initializes rules by which textpane should be coloring text\r\n         */\r\n        public void initializeSyntaxHighlighter() {\r\n        \t// Set background color\r\n    \t\tsetBackground(Color.black);\r\n    \t\t\r\n    \t\t// Java keywords\r\n    \t\taddKeyWord(Color.pink,\r\n    \t\t\t\t&quot;abstract&quot;,\r\n    \t\t\t\t&quot;continue&quot;,\r\n    \t\t\t\t&quot;for&quot;,\r\n    \t\t\t\t&quot;new&quot;,\r\n    \t\t\t\t&quot;switch&quot;,\r\n    \t\t\t\t&quot;assert&quot;,\r\n    \t\t\t\t&quot;default&quot;,\r\n    \t\t\t\t&quot;goto&quot;,\r\n    \t\t\t\t&quot;package&quot;,\r\n    \t\t\t\t&quot;synchronized&quot;,\r\n    \t\t\t\t&quot;do&quot;,\r\n    \t\t\t\t&quot;if&quot;,\r\n    \t\t\t\t&quot;private&quot;,\r\n    \t\t\t\t&quot;this&quot;,\r\n    \t\t\t\t&quot;break&quot;,\r\n    \t\t\t\t&quot;double&quot;,\r\n    \t\t\t\t&quot;implements&quot;,\r\n    \t\t\t\t&quot;protected&quot;,\r\n    \t\t\t\t&quot;throw&quot;,\r\n    \t\t\t\t&quot;else&quot;,\r\n    \t\t\t\t&quot;import&quot;,\r\n    \t\t\t\t&quot;public&quot;,\r\n    \t\t\t\t&quot;throws&quot;,\r\n    \t\t\t\t&quot;case&quot;,\r\n    \t\t\t\t&quot;enum&quot;,\r\n    \t\t\t\t&quot;instanceof&quot;,\r\n    \t\t\t\t&quot;return&quot;,\r\n    \t\t\t\t&quot;transient&quot;,\r\n    \t\t\t\t&quot;catch&quot;,\r\n    \t\t\t\t&quot;extends&quot;,\r\n    \t\t\t\t&quot;short&quot;,\r\n    \t\t\t\t&quot;try&quot;,\r\n    \t\t\t\t&quot;char&quot;,\r\n    \t\t\t\t&quot;final&quot;,\r\n    \t\t\t\t&quot;interface&quot;,\r\n    \t\t\t\t&quot;static&quot;,\r\n    \t\t\t\t&quot;void&quot;,\r\n    \t\t\t\t&quot;class&quot;,\r\n    \t\t\t\t&quot;finally&quot;,\r\n    \t\t\t\t&quot;strictfp&quot;,\r\n    \t\t\t\t&quot;volatile&quot;,\r\n    \t\t\t\t&quot;const&quot;,\r\n    \t\t\t\t&quot;native&quot;,\r\n    \t\t\t\t&quot;super&quot;,\r\n    \t\t\t\t&quot;while&quot;\r\n    \t\t\t\t);\r\n    \t\t\r\n    \t\t// Developer&#39;s preference\r\n    \t\taddKeyWord(Color.green,\r\n    \t\t\t\t&quot;true&quot;\r\n    \t\t\t\t);\r\n    \t\t\r\n    \t\taddKeyWord(Color.red,\r\n    \t\t\t\t&quot;false&quot;\r\n    \t\t\t\t);\r\n    \t\t\r\n    \t\taddKeyWord(Color.red, \r\n    \t\t\t\t&quot;!&quot;\r\n    \t\t\t\t);\r\n    \t\t\r\n    \t\t// Java Variables\r\n    \t\taddKeyWord(Color.yellow,\r\n    \t\t\t\t&quot;String&quot;,\r\n    \t\t\t\t&quot;byte&quot;, &quot;Byte&quot;,\r\n    \t\t\t\t&quot;short&quot;, &quot;Short&quot;,\r\n    \t\t\t\t&quot;int&quot;, &quot;Integer&quot;,\r\n    \t\t\t\t&quot;long&quot;, &quot;Long&quot;,\r\n    \t\t\t\t&quot;float&quot;, &quot;Float&quot;,\r\n    \t\t\t\t&quot;double&quot;, &quot;Double&quot;,\r\n    \t\t\t\t&quot;char&quot;, &quot;Character&quot;,\r\n    \t\t\t\t&quot;boolean&quot;, &quot;Boolean&quot;);\r\n    \t}\r\n        \r\n        /**\r\n         * Demo for testing purposes\r\n         */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Our Component\r\n    \t\tJSyntaxTextPane textPane = new JSyntaxTextPane();\r\n    \t\t\r\n    \t\ttextPane.setText(&quot;public class Test {\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\tint age = 18;\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\tString name = \\&quot;Gerald\\&quot;;\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\tLong life = 100.50;\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\tboolean alive = true;\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\tboolean happy = false;\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\t\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\t// Comment Example\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\tpublic static void shout(int loudness) {\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\t\tSystem.out.println(loudness);\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\t};\\r\\n&quot;\r\n    \t\t\t\t+ &quot;\\r\\n&quot;\r\n    \t\t\t\t+ &quot;};&quot;);\r\n    \t\t\r\n    \t\t// JFrame\r\n    \t\tJFrame frame = new JFrame(&quot;Test&quot;);\r\n    \t\tframe.getContentPane().add(textPane);\r\n    \t\tframe.pack();\r\n    \t\tframe.setSize(350, 350);\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y1fpi.png","title":"How to change the color of specific words in a JTextPane?","body":"<p><a href=\"https://i.stack.imgur.com/Y1fpi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y1fpi.png\" alt=\"enter image description here\" /></a></p>\n<p>With the use of the ideas from code of the user <strong>shuangwhywhy</strong>, I have modified his code and made some improvements that I believe will be beneficial for many people that would like to be able to dynamically highlight keywords in a JTextPane.</p>\n<p>In my code I extended <strong>JTextPane</strong> and created a component called <strong>JSyntaxTextPane</strong>.</p>\n<p>It allows the developer to state a list of words that need to be coloured/highlighted, and then once those words are found within the text of this component they will be coloured accordingly.</p>\n<p><strong>Main Methods:</strong></p>\n<p><strong>initializeSyntaxHighlighter()</strong> - it is the default method created by me that sets the rules for coloring of the keywords.</p>\n<p><strong>addKeyWord(Color color, String ...words)</strong> - this is the method that developer can use to specify the colour and words that need to be highlighted</p>\n<pre><code>import java.awt.Color;\nimport java.util.ArrayList;\n\nimport javax.swing.JFrame;\nimport javax.swing.JTextPane;\nimport javax.swing.text.AttributeSet;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.DefaultStyledDocument;\nimport javax.swing.text.SimpleAttributeSet;\nimport javax.swing.text.StyleConstants;\nimport javax.swing.text.StyleContext;\nimport javax.swing.text.TabSet;\nimport javax.swing.text.TabStop;\n\n/**\n * This class is a prototype for a syntax highlighter for java code.\n * It highlights common java keywords, boolean values and it highlights digits in the text.\n * \n * Limitations of the current prototype:\n * -It does not highlight comments\n * -It does not highlight method calls\n * -It does not highlight objects that are not a part of common java keywords\n * -It does not have intellisense autosuggestion\n * \n * Addendum:\n * Even though this syntax highlighter is designed for java code, {@link #initializeSyntaxHighlighter()} can be modified to highlight any other programming language or keywords\n */\npublic class JSyntaxTextPane extends JTextPane {\n\n    // Default Styles\n    final StyleContext cont = StyleContext.getDefaultStyleContext();\n    AttributeSet defaultForeground = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, Color.white);\n    AttributeSet defaultNumbers = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, Color.cyan);\n    \n    public JSyntaxTextPane () {\n        // Styler\n        DefaultStyledDocument doc = new DefaultStyledDocument() {\n            public void insertString (int offset, String str, AttributeSet a) throws BadLocationException {\n                super.insertString(offset, getDeveloperShortcuts(str), a);\n\n                String text = getText(0, getLength());\n                int before = findLastNonWordChar(text, offset);\n                if (before &lt; 0) before = 0;\n                int after = findFirstNonWordChar(text, offset + str.length());\n                int wordL = before;\n                int wordR = before;\n\n                while (wordR &lt;= after) {\n                    if (wordR == after || String.valueOf(text.charAt(wordR)).matches(&quot;\\\\W&quot;)) {\n                        // Colors words in appropriate style, if nothing matches, make it default black\n                        boolean matchFound = false;\n                        \n                        for (KeyWord keyWord : keyWords) {\n                            if (text.substring(wordL, wordR).matches(&quot;(\\\\W)*(&quot;+keyWord.getWords()+&quot;)&quot;)) {\n                                setCharacterAttributes(wordL, wordR - wordL, keyWord.getColorAttribute(), false);\n                                matchFound = true;\n                            }\n                        }\n                        \n                        // Highlight numbers\n                        if (text.substring(wordL, wordR).matches(&quot;\\\\W\\\\d[\\\\d]*&quot;)) {\n                            setCharacterAttributes(wordL, wordR - wordL, defaultNumbers, false);\n                            matchFound = true;\n                        }\n                        \n                        // ================ ANY ADDITIONAL HIGHLIGHTING LOGIC MAY BE ADDED HERE\n                        // Ideas: highlighting a comment; highlighting method calls;\n                        \n                        // ================\n                        \n                        // If no match found, make text default colored\n                        if(!matchFound) {\n                            setCharacterAttributes(wordL, wordR - wordL, defaultForeground, false);\n                        }\n                        \n                        wordL = wordR;\n                    }\n                    \n                    wordR++;\n                }\n            }\n\n            public void remove (int offs, int len) throws BadLocationException {\n                super.remove(offs, len);\n\n                String text = getText(0, getLength());\n                int before = findLastNonWordChar(text, offs);\n                if (before &lt; 0) before = 0;\n                int after = findFirstNonWordChar(text, offs);\n\n                // Colors words in appropriate style, if nothing matches, make it default black\n                boolean matchFound = false;\n                \n                for (KeyWord keyWord : keyWords) {\n                    if (text.substring(before, after).matches(&quot;(\\\\W)*(&quot;+keyWord.getWords()+&quot;)&quot;)) {\n                        setCharacterAttributes(before, after - before, keyWord.getColorAttribute(), false);\n                        matchFound = true;\n                    } \n                    \n                    // Highlight numbers\n                    if (text.substring(before, after).matches(&quot;\\\\W\\\\d[\\\\d]*&quot;)) {\n                        setCharacterAttributes(before, after - before, defaultNumbers, false);\n                        matchFound = true;\n                    }\n                    \n                    // ================ ANY ADDITIONAL HIGHLIGHTING LOGIC MAY BE ADDED HERE\n                    // Ideas: highlighting a comment; highlighting method calls;\n                    \n                    // ================\n            \n                    if(!matchFound) {\n                        setCharacterAttributes(before, after - before, defaultForeground, false);\n                    }\n                }\n            }\n        };\n        \n        setStyledDocument(doc);\n        \n        // SET DEFAULT TAB SIZE\n        setTabSize(40);\n\n        // THIS PART APPLIES DEFAULT SYNTAX HIGHLIGHTER BEHAVIOUR\n        initializeSyntaxHighlighter();\n    }\n    \n    private int findLastNonWordChar (String text, int index) {\n        while (--index &gt;= 0) {\n            if (String.valueOf(text.charAt(index)).matches(&quot;\\\\W&quot;)) {\n                break;\n            }\n        }\n        return index;\n    }\n\n    private int findFirstNonWordChar (String text, int index) {\n        while (index &lt; text.length()) {\n            if (String.valueOf(text.charAt(index)).matches(&quot;\\\\W&quot;)) {\n                break;\n            }\n            index++;\n        }\n        return index;\n    }\n    \n    /**\n     * Shortcuts, when letter is typed, it will produce additional strings specified inside of this method\n     * \n     * @param str\n     * @return\n     */\n    private String getDeveloperShortcuts(String str) {\n        // Add ending parenthesis when it is open\n        if(str.equals(&quot;(&quot;)) {\n            return &quot;()&quot;;\n        }\n        \n        // Add ending braces when it is open\n        if(str.equals(&quot;{&quot;)) {\n            return &quot;{\\n\\n};&quot;;\n        }\n        \n        return str;\n    }\n    \n    /**\n     * Sets size of space produced when user presses Tab button\n     * \n     * @param tabSize\n     */\n    public void setTabSize(int tabSize) {\n        // Once tab count exceed x times, it will make a small space only\n        int maxTabsPerRow = 10;\n        \n        TabStop[] tabs = new TabStop[maxTabsPerRow];\n        for(int i = 0; i &lt; maxTabsPerRow; i++) {\n            tabs[i] = new TabStop(tabSize*(i+1), TabStop.ALIGN_LEFT, TabStop.LEAD_NONE);\n        }\n        \n        TabSet tabset = new TabSet(tabs);\n        \n        StyleContext sc = StyleContext.getDefaultStyleContext();\n        AttributeSet aset = sc.addAttribute(SimpleAttributeSet.EMPTY,\n        StyleConstants.TabSet, tabset);\n        setParagraphAttributes(aset, false);\n    }\n    \n    /**\n     * Adds a key word or keywords that will be colored in the JTextPane\n     * \n     * @param color - color of the words\n     * @param words - words that need to be colored\n     */\n    public void addKeyWord(Color color, String ...words) {\n        keyWords.add(new KeyWord(color, words));\n    }\n    \n    ArrayList&lt;KeyWord&gt; keyWords = new ArrayList&lt;KeyWord&gt;();\n    \n    /**\n     * Holds information about list of words that need to be colored in a specific color\n     * \n     */\n    class KeyWord {\n        Color color;\n        String[] words;\n        \n        /**\n         * Instantiates a new key word object that holds a list of words that need to be colored.\n         *\n         * @param color the color\n         * @param words the words\n         */\n        public KeyWord(Color color, String...words) {\n            this.color = color;\n            this.words = words;\n        }\n        \n        public String getWords() {\n            String text = &quot;&quot;;\n            \n            for (int i = 0; i &lt; words.length; i++) {\n                if(i != words.length-1) {\n                    text = text + words[i] + &quot;|&quot;;\n                } else {\n                    text = text + words[i];\n                }\n            }\n            \n            return text;\n        }\n        \n        public AttributeSet getColorAttribute() {\n            StyleContext cont = StyleContext.getDefaultStyleContext();\n            return cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, color);\n        }\n\n    }\n    \n    /**\n     * Sets color of all integers\n     * \n     * @param color\n     */\n    public void setIntegerColours(Color color) {\n        defaultNumbers = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, color);\n        \n    }\n    \n    /**\n     * Sets color of non-keywords \n     * \n     * @param color\n     */\n    public void setDefaultTextColour(Color color) {\n        defaultForeground = cont.addAttribute(cont.getEmptySet(), StyleConstants.Foreground, color);\n    }\n    \n    /**\n     * Initializes rules by which textpane should be coloring text\n     */\n    public void initializeSyntaxHighlighter() {\n        // Set background color\n        setBackground(Color.black);\n        \n        // Java keywords\n        addKeyWord(Color.pink,\n                &quot;abstract&quot;,\n                &quot;continue&quot;,\n                &quot;for&quot;,\n                &quot;new&quot;,\n                &quot;switch&quot;,\n                &quot;assert&quot;,\n                &quot;default&quot;,\n                &quot;goto&quot;,\n                &quot;package&quot;,\n                &quot;synchronized&quot;,\n                &quot;do&quot;,\n                &quot;if&quot;,\n                &quot;private&quot;,\n                &quot;this&quot;,\n                &quot;break&quot;,\n                &quot;double&quot;,\n                &quot;implements&quot;,\n                &quot;protected&quot;,\n                &quot;throw&quot;,\n                &quot;else&quot;,\n                &quot;import&quot;,\n                &quot;public&quot;,\n                &quot;throws&quot;,\n                &quot;case&quot;,\n                &quot;enum&quot;,\n                &quot;instanceof&quot;,\n                &quot;return&quot;,\n                &quot;transient&quot;,\n                &quot;catch&quot;,\n                &quot;extends&quot;,\n                &quot;short&quot;,\n                &quot;try&quot;,\n                &quot;char&quot;,\n                &quot;final&quot;,\n                &quot;interface&quot;,\n                &quot;static&quot;,\n                &quot;void&quot;,\n                &quot;class&quot;,\n                &quot;finally&quot;,\n                &quot;strictfp&quot;,\n                &quot;volatile&quot;,\n                &quot;const&quot;,\n                &quot;native&quot;,\n                &quot;super&quot;,\n                &quot;while&quot;\n                );\n        \n        // Developer's preference\n        addKeyWord(Color.green,\n                &quot;true&quot;\n                );\n        \n        addKeyWord(Color.red,\n                &quot;false&quot;\n                );\n        \n        addKeyWord(Color.red, \n                &quot;!&quot;\n                );\n        \n        // Java Variables\n        addKeyWord(Color.yellow,\n                &quot;String&quot;,\n                &quot;byte&quot;, &quot;Byte&quot;,\n                &quot;short&quot;, &quot;Short&quot;,\n                &quot;int&quot;, &quot;Integer&quot;,\n                &quot;long&quot;, &quot;Long&quot;,\n                &quot;float&quot;, &quot;Float&quot;,\n                &quot;double&quot;, &quot;Double&quot;,\n                &quot;char&quot;, &quot;Character&quot;,\n                &quot;boolean&quot;, &quot;Boolean&quot;);\n    }\n    \n    /**\n     * Demo for testing purposes\n     */\n    public static void main(String[] args) {\n        // Our Component\n        JSyntaxTextPane textPane = new JSyntaxTextPane();\n        \n        textPane.setText(&quot;public class Test {\\r\\n&quot;\n                + &quot; int age = 18;\\r\\n&quot;\n                + &quot; String name = \\&quot;Gerald\\&quot;;\\r\\n&quot;\n                + &quot; Long life = 100.50;\\r\\n&quot;\n                + &quot; boolean alive = true;\\r\\n&quot;\n                + &quot; boolean happy = false;\\r\\n&quot;\n                + &quot; \\r\\n&quot;\n                + &quot; // Comment Example\\r\\n&quot;\n                + &quot; public static void shout(int loudness) {\\r\\n&quot;\n                + &quot;     System.out.println(loudness);\\r\\n&quot;\n                + &quot; };\\r\\n&quot;\n                + &quot;\\r\\n&quot;\n                + &quot;};&quot;);\n        \n        // JFrame\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        frame.getContentPane().add(textPane);\n        frame.pack();\n        frame.setSize(350, 350);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2255313,"reputation":1676,"user_id":1986618,"accept_rate":53,"display_name":"Soheil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39540,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":14401245,"answer_count":6,"score":28,"last_activity_date":1674072653,"creation_date":1358519084,"question_id":14400946,"body_markdown":"How do I change the color of specific words in a `JTextPane` just while the user is typing?\r\nShould I override `JTextPane` `paintComponent` method?","title":"How to change the color of specific words in a JTextPane?","body":"<p>How do I change the color of specific words in a <code>JTextPane</code> just while the user is typing?\nShould I override <code>JTextPane</code> <code>paintComponent</code> method?</p>\n"},{"tags":["java","oracle-adf"],"answers":[{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674072409,"creation_date":1674072409,"answer_id":75164743,"question_id":75156341,"body_markdown":"You forgot to create the component binding for the table to the bean where you read the data.\r\nIn the page holding the table, select the table and add the component binding in the binding property. \r\n\r\nSample [enter link description here][1]\r\n\r\n\r\n  [1]: https://fortunefusionminds.blogspot.com/2014/03/how-to-bind-ui-component-to-backing-bean.html","title":"NullPointerException when uploading a file .xlsx","body":"<p>You forgot to create the component binding for the table to the bean where you read the data.\nIn the page holding the table, select the table and add the component binding in the binding property.</p>\n<p>Sample <a href=\"https://fortunefusionminds.blogspot.com/2014/03/how-to-bind-ui-component-to-backing-bean.html\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75164743,"answer_count":1,"score":0,"last_activity_date":1674072409,"creation_date":1674030001,"question_id":75156341,"body_markdown":"Such a problem, I follow the instructions from\r\n\r\nhttp://www.awasthiashish.com/2017/01/import-data-from-xls-and-xlsx-excel-to.html\r\n\r\nOn the line throws NullPointerException\r\n\r\n    CollectionModel cModel = (CollectionModel) empTable.getValue();\r\n\r\nI don&#39;t understand what to do, please help me!\r\n\r\njsff file:\r\n\r\n    &lt;af:inputFile label=&quot;Select File&quot; id=&quot;if1&quot;                                   \r\n    valueChangeListener=&quot;#{pageFlowScope.Class1Bean.uploadFileVCE}&quot;\r\n    autoSubmit=&quot;true&quot; \r\n    labelStyle=&quot;font-weight:bold;color:navy;&quot;/&gt;\r\n\r\n\r\n","title":"NullPointerException when uploading a file .xlsx","body":"<p>Such a problem, I follow the instructions from</p>\n<p><a href=\"http://www.awasthiashish.com/2017/01/import-data-from-xls-and-xlsx-excel-to.html\" rel=\"nofollow noreferrer\">http://www.awasthiashish.com/2017/01/import-data-from-xls-and-xlsx-excel-to.html</a></p>\n<p>On the line throws NullPointerException</p>\n<pre><code>CollectionModel cModel = (CollectionModel) empTable.getValue();\n</code></pre>\n<p>I don't understand what to do, please help me!</p>\n<p>jsff file:</p>\n<pre><code>&lt;af:inputFile label=&quot;Select File&quot; id=&quot;if1&quot;                                   \nvalueChangeListener=&quot;#{pageFlowScope.Class1Bean.uploadFileVCE}&quot;\nautoSubmit=&quot;true&quot; \nlabelStyle=&quot;font-weight:bold;color:navy;&quot;/&gt;\n</code></pre>\n"},{"tags":["java","maven","maven-3","maven-dependency-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1472892586,"post_id":39292709,"comment_id":65943316,"body_markdown":"Why do you need to write to `src/META-INF` ? Why no using `src/main/resources/META-INF` and let the resources plugin do it&#39;s work ? What kind of purpose is this for?","body":"Why do you need to write to <code>src&#47;META-INF</code> ? Why no using <code>src&#47;main&#47;resources&#47;META-INF</code> and let the resources plugin do it&#39;s work ? What kind of purpose is this for?"},{"owner":{"account_id":4471278,"reputation":675,"user_id":3637541,"display_name":"user3637541"},"score":0,"creation_date":1473031212,"post_id":39292709,"comment_id":65976554,"body_markdown":"I am writing a code generator. The generator is capable of taken handwritten code (and config) into account. The `pom.xml` i have the problem with is for a maven-project which takes a model and generates code from it and then compiles the generated code (while taking into account the hand written code). The generated code is put into `gen/`, the handwritten code is expected to be in `src`. I want to use default-configuration-files if none are given. That is why i want to extract them only if not present.","body":"I am writing a code generator. The generator is capable of taken handwritten code (and config) into account. The <code>pom.xml</code> i have the problem with is for a maven-project which takes a model and generates code from it and then compiles the generated code (while taking into account the hand written code). The generated code is put into <code>gen&#47;</code>, the handwritten code is expected to be in <code>src</code>. I want to use default-configuration-files if none are given. That is why i want to extract them only if not present."}],"answers":[{"comments":[{"owner":{"account_id":4471278,"reputation":675,"user_id":3637541,"display_name":"user3637541"},"score":0,"creation_date":1472831626,"post_id":39292993,"comment_id":65926561,"body_markdown":"Thanks for your answer. It kind of solves my problem. I am working on a code-generator that adds files into the /src/ directory if they are not present (they are present if the user chooses to use hand-written files and not the generated ones). If i go with your approach i had to use one profile for each file (because one file can be present and the other one not, i don&#39;t wont to overwrite both of them, just add the missing one). Do you know a more elegant solution to this problem?","body":"Thanks for your answer. It kind of solves my problem. I am working on a code-generator that adds files into the /src/ directory if they are not present (they are present if the user chooses to use hand-written files and not the generated ones). If i go with your approach i had to use one profile for each file (because one file can be present and the other one not, i don&#39;t wont to overwrite both of them, just add the missing one). Do you know a more elegant solution to this problem?"},{"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1474062869,"post_id":39292993,"comment_id":66395175,"body_markdown":"@user3637541 did you find a better way? the question still shows up as unanswered in the global list and in general I was curious to know if you got any better solution","body":"@user3637541 did you find a better way? the question still shows up as unanswered in the global list and in general I was curious to know if you got any better solution"},{"owner":{"account_id":4471278,"reputation":675,"user_id":3637541,"display_name":"user3637541"},"score":0,"creation_date":1474723733,"post_id":39292993,"comment_id":66653966,"body_markdown":"sadly not, i went with your solution.","body":"sadly not, i went with your solution."},{"owner":{"account_id":3435492,"reputation":519,"user_id":2878706,"display_name":"Ivan Trechyokas"},"score":0,"creation_date":1674072392,"post_id":39292993,"comment_id":132639550,"body_markdown":"In a general description of the plugin this option (`overWrite`) was presented (https://maven.apache.org/plugins/maven-dependency-plugin/usage.html):\n\n\n    &lt;artifactItem&gt;\n      ...\n      &lt;overWrite&gt;[ true or false ]&lt;/overWrite&gt; # this one\n      ...\n    &lt;/artifactItem&gt;\n\n and it works fine for me.","body":"In a general description of the plugin this option (<code>overWrite</code>) was presented (<a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/usage.html</a>&zwnj;&#8203;):       &lt;artifactItem&gt;       ...       &lt;overWrite&gt;[ true or false ]&lt;/overWrite&gt; # this one       ...     &lt;/artifactItem&gt;   and it works fine for me."}],"tags":[],"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1472820947,"creation_date":1472820947,"answer_id":39292993,"question_id":39292709,"body_markdown":"The simple `overWrite` property actually [doesn&#39;t exist as a property](http://maven.apache.org/plugins/maven-dependency-plugin/unpack-mojo.html) of the plugin, hence it is simply ignored by the plugin.\r\n\r\nMoreover, you are writing to `${basedir}/src/META-INF`, your project, which is probably not the best option, but in some cases could still be reasonable.\r\n\r\nYou hence want to write it only once, during the `validate` phase of the project and most probably only during the first build: that is, if exists, don&#39;t override it again.\r\n\r\nfor these requirements the following may suit better:\r\n\r\n - Use a [Maven profile](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)\r\n - Use the `activation` option for files `missing`: that is, if the file is not there (first time ever) activate the profile which will execute your plugin configuration; when the file is already there, don&#39;t activate the profile, no action obviously won&#39;t override anything\r\n\r\n\t\t&lt;profiles&gt;\r\n\t\t  &lt;profile&gt;\r\n\t\t\t&lt;id&gt;unpack-files&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t  &lt;file&gt;\r\n\t\t\t\t&lt;missing&gt;${basedir}/src/META-INF/beans.xml&lt;/missing&gt;\r\n\t\t\t  &lt;/file&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t   &lt;plugins&gt;\r\n\t\t\t\t   &lt;!-- move here the maven-dependency-plugin unpack execution --&gt;\r\n\t\t\t   &lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t  &lt;/profile&gt;\r\n\t\t&lt;/profiles&gt;\r\n\r\nAs such you would still have full control of this logic:\r\n\r\n - It will be activated when the file is not there, first execution\r\n - It can still be activated on demand, via its `id` (`mvn clean install -Punpack-files`)","title":"Maven-dependency-plugin: overWrite = false ignored","body":"<p>The simple <code>overWrite</code> property actually <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/unpack-mojo.html\" rel=\"nofollow\">doesn't exist as a property</a> of the plugin, hence it is simply ignored by the plugin.</p>\n\n<p>Moreover, you are writing to <code>${basedir}/src/META-INF</code>, your project, which is probably not the best option, but in some cases could still be reasonable.</p>\n\n<p>You hence want to write it only once, during the <code>validate</code> phase of the project and most probably only during the first build: that is, if exists, don't override it again.</p>\n\n<p>for these requirements the following may suit better:</p>\n\n<ul>\n<li>Use a <a href=\"http://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow\">Maven profile</a></li>\n<li><p>Use the <code>activation</code> option for files <code>missing</code>: that is, if the file is not there (first time ever) activate the profile which will execute your plugin configuration; when the file is already there, don't activate the profile, no action obviously won't override anything</p>\n\n<pre><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;unpack-files&lt;/id&gt;\n    &lt;activation&gt;\n      &lt;file&gt;\n        &lt;missing&gt;${basedir}/src/META-INF/beans.xml&lt;/missing&gt;\n      &lt;/file&gt;\n    &lt;/activation&gt;\n    &lt;build&gt;\n       &lt;plugins&gt;\n           &lt;!-- move here the maven-dependency-plugin unpack execution --&gt;\n       &lt;/plugins&gt;\n    &lt;/build&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre></li>\n</ul>\n\n<p>As such you would still have full control of this logic:</p>\n\n<ul>\n<li>It will be activated when the file is not there, first execution</li>\n<li>It can still be activated on demand, via its <code>id</code> (<code>mvn clean install -Punpack-files</code>)</li>\n</ul>\n"}],"owner":{"account_id":4471278,"reputation":675,"user_id":3637541,"display_name":"user3637541"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2032,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39292993,"answer_count":1,"score":2,"last_activity_date":1674072376,"creation_date":1472820083,"question_id":39292709,"body_markdown":"My problem is that i want to extract files from a `.jar` file with maven but only if the files do not exist in the output directory. So if i have a file `/src/META-INF/beans.xml` then i only want the `persistence.xml` extracted, etc.\r\n\r\nSadly the maven-plugin irgnores all combinations with `&lt;overWrite&gt;false&lt;/overWrite&gt;` that i tried.\r\n\r\n**Question**: Any idea what i am doing wrong? Is it possible?\r\n\r\n    &lt;build&gt;\r\n      ...\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;unpack&lt;/id&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;unpack&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;artifactItems&gt;\r\n                &lt;artifactItem&gt;\r\n                  &lt;groupId&gt; ... &lt;/groupId&gt;\r\n                  &lt;artifactId&gt; ... &lt;/artifactId&gt;\r\n                  &lt;version&gt;${project.version}&lt;/version&gt;\r\n                  &lt;outputDirectory&gt;${basedir}/src/META-INF&lt;/outputDirectory&gt;\r\n                  &lt;includes&gt;beans.xml,persistence.xml&lt;/includes&gt;\r\n                  &lt;overWrite&gt;false&lt;/overWrite&gt;\r\n                &lt;/artifactItem&gt;\r\n              &lt;/artifactItems&gt;\r\n              &lt;overWriteIfNewer&gt;false&lt;/overWriteIfNewer&gt;\r\n              &lt;overWrite&gt;false&lt;/overWrite&gt;\r\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      ...\r\n    &lt;/build&gt;","title":"Maven-dependency-plugin: overWrite = false ignored","body":"<p>My problem is that i want to extract files from a <code>.jar</code> file with maven but only if the files do not exist in the output directory. So if i have a file <code>/src/META-INF/beans.xml</code> then i only want the <code>persistence.xml</code> extracted, etc.</p>\n\n<p>Sadly the maven-plugin irgnores all combinations with <code>&lt;overWrite&gt;false&lt;/overWrite&gt;</code> that i tried.</p>\n\n<p><strong>Question</strong>: Any idea what i am doing wrong? Is it possible?</p>\n\n<pre><code>&lt;build&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.10&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;unpack&lt;/id&gt;\n        &lt;phase&gt;validate&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;unpack&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;artifactItems&gt;\n            &lt;artifactItem&gt;\n              &lt;groupId&gt; ... &lt;/groupId&gt;\n              &lt;artifactId&gt; ... &lt;/artifactId&gt;\n              &lt;version&gt;${project.version}&lt;/version&gt;\n              &lt;outputDirectory&gt;${basedir}/src/META-INF&lt;/outputDirectory&gt;\n              &lt;includes&gt;beans.xml,persistence.xml&lt;/includes&gt;\n              &lt;overWrite&gt;false&lt;/overWrite&gt;\n            &lt;/artifactItem&gt;\n          &lt;/artifactItems&gt;\n          &lt;overWriteIfNewer&gt;false&lt;/overWriteIfNewer&gt;\n          &lt;overWrite&gt;false&lt;/overWrite&gt;\n          &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n          &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n  ...\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","string","character","contains"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674070107,"post_id":75164335,"comment_id":132638912,"body_markdown":"you&#39;d need to &quot;remember&quot; that you already looked for a `5`, and where you found it. Then, when you look for the 2nd `5`, it should be after the first `5`. I recommend looking at [`Map`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html), [`String.indexOf(char)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int)) and [`String.indexOf(char, int)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int,int)).","body":"you&#39;d need to &quot;remember&quot; that you already looked for a <code>5</code>, and where you found it. Then, when you look for the 2nd <code>5</code>, it should be after the first <code>5</code>. I recommend looking at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\"><code>String.indexOf(char)</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int,int)\" rel=\"nofollow noreferrer\"><code>String.indexOf(char, int)</code></a>."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1674070802,"post_id":75164335,"comment_id":132639128,"body_markdown":"Alternatively, you can check [this question](https://stackoverflow.com/q/6712587/10819573). Once you create the frequency maps of the two strings, you can easily check what you want.","body":"Alternatively, you can check <a href=\"https://stackoverflow.com/q/6712587/10819573\">this question</a>. Once you create the frequency maps of the two strings, you can easily check what you want."}],"answers":[{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674071458,"creation_date":1674070785,"answer_id":75164484,"question_id":75164335,"body_markdown":"You can solve this problem by using a List of characters for the search word. Attempt to remove each test character from the list. If it is successfully removed, you know word1 contained the character while simultaneously preventing it from being checked again.\r\n\r\n    public static boolean isItemUsable2(String word1, String word2)\r\n    {\r\n        final List&lt;Character&gt; word1Chars = new ArrayList&lt;&gt;();\r\n        for (char aChar : word1.toCharArray())\r\n            word1Chars.add(aChar);\r\n        boolean usable = !word2.isEmpty();\r\n        for (int i = 0; i &lt; word2.length() &amp;&amp; usable; i++)\r\n        {\r\n            usable = word1Chars.remove((Character) word2.charAt(i));\r\n        }\r\n        return usable;\r\n    }","title":"java - check If a String contains all characters of another String, but not in order","body":"<p>You can solve this problem by using a List of characters for the search word. Attempt to remove each test character from the list. If it is successfully removed, you know word1 contained the character while simultaneously preventing it from being checked again.</p>\n<pre><code>public static boolean isItemUsable2(String word1, String word2)\n{\n    final List&lt;Character&gt; word1Chars = new ArrayList&lt;&gt;();\n    for (char aChar : word1.toCharArray())\n        word1Chars.add(aChar);\n    boolean usable = !word2.isEmpty();\n    for (int i = 0; i &lt; word2.length() &amp;&amp; usable; i++)\n    {\n        usable = word1Chars.remove((Character) word2.charAt(i));\n    }\n    return usable;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674072143,"creation_date":1674072143,"answer_id":75164693,"question_id":75164335,"body_markdown":"I would use regex.  This isn&#39;t the most efficient way to do it, but it will work\r\n\r\n    public static boolean isItemUsable2(String a, String b) {\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (char c : b.toCharArray()) {\r\n            map.merge(c, 1, (k,v) -&gt; v + 1);\r\n        }\r\n\r\n        for (Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\r\n            Pattern pattern = Pattern.compile(Pattern.quote(entry.getKey().toString()) + &quot;{&quot; + entry.getValue() + &quot;}&quot;);\r\n            if (!pattern.matcher(a).find()) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"java - check If a String contains all characters of another String, but not in order","body":"<p>I would use regex.  This isn't the most efficient way to do it, but it will work</p>\n<pre><code>public static boolean isItemUsable2(String a, String b) {\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    for (char c : b.toCharArray()) {\n        map.merge(c, 1, (k,v) -&gt; v + 1);\n    }\n\n    for (Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\n        Pattern pattern = Pattern.compile(Pattern.quote(entry.getKey().toString()) + &quot;{&quot; + entry.getValue() + &quot;}&quot;);\n        if (!pattern.matcher(a).find()) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":23433705,"reputation":1,"user_id":17492122,"display_name":"pizzawithpineapple"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674072143,"creation_date":1674069931,"question_id":75164335,"body_markdown":"I need a Method that takes all the characters of a String and checks if those characters are in another String.\r\n\r\nThe Method I have: \r\n```\r\npublic boolean isItemUsable2(String word1, String word2) {\r\n        int count = 0;\r\n        for (int i = 0; i &lt; word2.length(); i++) {\r\n            String itemPiece = Character.toString(word2.charAt(i));\r\n            if (word1.contains(itemPiece)) {\r\n                count++;\r\n            }\r\n        }\r\n        return count == word2.length();\r\n    }\r\n```\r\n\r\n\r\nThe problem is, for example word 1 is &quot;12345++&quot; and word 2 is &quot;155&quot; it should say it&#39;s false since there is only one 5, but it shows true and I don&#39;t know how to fix it.","title":"java - check If a String contains all characters of another String, but not in order","body":"<p>I need a Method that takes all the characters of a String and checks if those characters are in another String.</p>\n<p>The Method I have:</p>\n<pre><code>public boolean isItemUsable2(String word1, String word2) {\n        int count = 0;\n        for (int i = 0; i &lt; word2.length(); i++) {\n            String itemPiece = Character.toString(word2.charAt(i));\n            if (word1.contains(itemPiece)) {\n                count++;\n            }\n        }\n        return count == word2.length();\n    }\n</code></pre>\n<p>The problem is, for example word 1 is &quot;12345++&quot; and word 2 is &quot;155&quot; it should say it's false since there is only one 5, but it shows true and I don't know how to fix it.</p>\n"},{"tags":["java","boolean","logical-operators","boolean-operations"],"answers":[{"tags":[],"owner":{"account_id":8104133,"reputation":1,"user_id":6106278,"display_name":"pfrozi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674058766,"creation_date":1674058766,"answer_id":75162220,"question_id":75161560,"body_markdown":"Remember the General form of the Equation of a Circle:\r\n\r\n    x2 + y2 + 2gx + 2fy + c = 0\r\n\r\nor \r\n\r\n    (x-a)^2+(x-b)^2 = r^2\r\n\r\n&quot;a&quot; and &quot;b&quot; represents the center, and &quot;r&quot; is the radius.\r\n\r\nIn &quot;one&quot;, we cover values within a circle with a radius of length 1 and with a center at the point (2, 2).\r\nIn &quot;two&quot; and &quot;three&quot; the center is at the point (0, 0).\r\n&quot;three&quot; has a radius of 2:\r\n\r\n    x*x + y*y &lt;= (2)^2\r\n\r\nThen, &quot;one&quot; represents the circle on the upper right.\r\n&quot;two&quot; is the little white circle at the center. &quot;three&quot; is the bigger gray circle.\r\n\r\nSo, I think that makes more sense:\r\n\r\n    if (one &amp;&amp; !two &amp;&amp; three)\r\n      &quot;gray&quot;\r\n    else\r\n      &quot;white&quot;\r\n\r\n","title":"Boolean 3 variables with if statement","body":"<p>Remember the General form of the Equation of a Circle:</p>\n<pre><code>x2 + y2 + 2gx + 2fy + c = 0\n</code></pre>\n<p>or</p>\n<pre><code>(x-a)^2+(x-b)^2 = r^2\n</code></pre>\n<p>&quot;a&quot; and &quot;b&quot; represents the center, and &quot;r&quot; is the radius.</p>\n<p>In &quot;one&quot;, we cover values within a circle with a radius of length 1 and with a center at the point (2, 2).\nIn &quot;two&quot; and &quot;three&quot; the center is at the point (0, 0).\n&quot;three&quot; has a radius of 2:</p>\n<pre><code>x*x + y*y &lt;= (2)^2\n</code></pre>\n<p>Then, &quot;one&quot; represents the circle on the upper right.\n&quot;two&quot; is the little white circle at the center. &quot;three&quot; is the bigger gray circle.</p>\n<p>So, I think that makes more sense:</p>\n<pre><code>if (one &amp;&amp; !two &amp;&amp; three)\n  &quot;gray&quot;\nelse\n  &quot;white&quot;\n</code></pre>\n"}],"owner":{"account_id":27564651,"reputation":1,"user_id":21037086,"display_name":"janis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1674071592,"creation_date":1674055672,"question_id":75161560,"body_markdown":"[The problem in question](https://i.stack.imgur.com/XuiC5.jpg)\r\nI have a problem, where I have to input a logical operator in the blanks while it still makes sense. \r\n\r\nMy first idea was to put &amp;&amp;, ! and &amp;&amp;, but that doesn&#39;t seem right","title":"Boolean 3 variables with if statement","body":"<p><a href=\"https://i.stack.imgur.com/XuiC5.jpg\" rel=\"nofollow noreferrer\">The problem in question</a>\nI have a problem, where I have to input a logical operator in the blanks while it still makes sense.</p>\n<p>My first idea was to put &amp;&amp;, ! and &amp;&amp;, but that doesn't seem right</p>\n"},{"tags":["java","android","android-studio","calendar"],"answers":[{"tags":[],"owner":{"account_id":3966537,"reputation":374,"user_id":3272295,"accept_rate":58,"display_name":"Rusty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1468042757,"creation_date":1468042757,"answer_id":38278748,"question_id":38278679,"body_markdown":"You can access dates using the Calendar class. to get the current date/time you can just do the following\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n\r\nif you wanted to get a different day you can do something like \r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.set(Calendar.DAY_OF_MONTH, 11);\r\n\r\n","title":"Setting Event in CalendarView in Android Studio","body":"<p>You can access dates using the Calendar class. to get the current date/time you can just do the following</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\n</code></pre>\n\n<p>if you wanted to get a different day you can do something like </p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.set(Calendar.DAY_OF_MONTH, 11);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8753827,"reputation":150,"user_id":6546003,"display_name":"therealanshuman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674071348,"creation_date":1468043906,"answer_id":38278875,"question_id":38278679,"body_markdown":"You can use to the Calendar to get events in the following way -\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    long today = Calendar.getTimeInMillis();      // July 9\r\n    \r\n    calendar.add(Calendar.DAY_OF_MONTH, 2);\r\n    long day_after_tomorrow = Calendar.getTimeInMillis()      // July 11\r\n\r\nBut, automatically events cannot be set like that in Calendar. It can only be used to get the time and date. If you want some sort of periodic notifications, check out -\r\n\r\n - Alarm Manager\r\n - Notification Manager\r\n\r\nThese have to be used in combination with Services and Broadcast Receivers.\r\nCheck these out for reference: https://stackoverflow.com/questions/4459058/alarm-manager-example, https://stackoverflow.com/questions/1207269/sending-a-notification-from-a-service-in-android","title":"Setting Event in CalendarView in Android Studio","body":"<p>You can use to the Calendar to get events in the following way -</p>\n<pre><code>Calendar calendar = Calendar.getInstance();\nlong today = Calendar.getTimeInMillis();      // July 9\n\ncalendar.add(Calendar.DAY_OF_MONTH, 2);\nlong day_after_tomorrow = Calendar.getTimeInMillis()      // July 11\n</code></pre>\n<p>But, automatically events cannot be set like that in Calendar. It can only be used to get the time and date. If you want some sort of periodic notifications, check out -</p>\n<ul>\n<li>Alarm Manager</li>\n<li>Notification Manager</li>\n</ul>\n<p>These have to be used in combination with Services and Broadcast Receivers.\nCheck these out for reference: <a href=\"https://stackoverflow.com/questions/4459058/alarm-manager-example\">Alarm Manager Example</a>, <a href=\"https://stackoverflow.com/questions/1207269/sending-a-notification-from-a-service-in-android\">Sending a notification from a service in Android</a></p>\n"}],"owner":{"account_id":8635847,"reputation":165,"user_id":6466068,"accept_rate":100,"display_name":"ESPA_NETwork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38278748,"answer_count":2,"score":0,"last_activity_date":1674071348,"creation_date":1468041903,"question_id":38278679,"body_markdown":"I am making an Exercise app that is designed so the user uses it once per day. Say the current date is July 9, 2016... How would I go about setting the first event on the current date(July 9) and the second event on July (11) and so forth. ","title":"Setting Event in CalendarView in Android Studio","body":"<p>I am making an Exercise app that is designed so the user uses it once per day. Say the current date is July 9, 2016... How would I go about setting the first event on the current date(July 9) and the second event on July (11) and so forth. </p>\n"},{"tags":["java","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":6258141,"reputation":2735,"user_id":5718301,"accept_rate":60,"display_name":"Chitral Verma"},"score":3,"creation_date":1501076358,"post_id":45328391,"comment_id":77618888,"body_markdown":"try something like, `Dataset&lt;Row&gt; personDS =  sqlContext.createDataFrame(personRDD, Person.class);`","body":"try something like, <code>Dataset&lt;Row&gt; personDS =  sqlContext.createDataFrame(personRDD, Person.class);</code>"},{"owner":{"account_id":4758084,"reputation":3541,"user_id":3846291,"accept_rate":95,"display_name":"vdep"},"score":0,"creation_date":1501082220,"post_id":45328391,"comment_id":77623906,"body_markdown":"its a `DataFrame`, but i need a `Dataset`","body":"its a <code>DataFrame</code>, but i need a <code>Dataset</code>"},{"owner":{"account_id":6258141,"reputation":2735,"user_id":5718301,"accept_rate":60,"display_name":"Chitral Verma"},"score":0,"creation_date":1501088146,"post_id":45328391,"comment_id":77628210,"body_markdown":"ya, it&#39;ll give you a dataset&lt;Row&gt;","body":"ya, it&#39;ll give you a dataset&lt;Row&gt;"},{"owner":{"account_id":4758084,"reputation":3541,"user_id":3846291,"accept_rate":95,"display_name":"vdep"},"score":0,"creation_date":1501088268,"post_id":45328391,"comment_id":77628285,"body_markdown":"`Dataset&lt;Row&gt;` is just an alias for `DataFrame`, `Dataset&lt;Person&gt;` is required. Not `Dataset&lt;Row&gt;`","body":"<code>Dataset&lt;Row&gt;</code> is just an alias for <code>DataFrame</code>, <code>Dataset&lt;Person&gt;</code> is required. Not <code>Dataset&lt;Row&gt;</code>"},{"owner":{"account_id":8805149,"reputation":1215,"user_id":6580080,"display_name":"bonnal-enzo"},"score":0,"creation_date":1575362888,"post_id":45328391,"comment_id":104530861,"body_markdown":"*`DataFrame` is just an alias for `Dataset&lt;Row&gt;`","body":"*<code>DataFrame</code> is just an alias for <code>Dataset&lt;Row&gt;</code>"}],"tags":[],"owner":{"account_id":6258141,"reputation":2735,"user_id":5718301,"accept_rate":60,"display_name":"Chitral Verma"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501075625,"creation_date":1501075625,"answer_id":45328391,"question_id":45326796,"body_markdown":"on your rdd use `.toDS()` you will get a dataset.\r\n\r\nLet me know if it helps. Cheers.","title":"convert RDD to Dataset in Java Spark","body":"<p>on your rdd use <code>.toDS()</code> you will get a dataset.</p>\n\n<p>Let me know if it helps. Cheers.</p>\n"},{"tags":[],"owner":{"account_id":4758084,"reputation":3541,"user_id":3846291,"accept_rate":95,"display_name":"vdep"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1560248611,"creation_date":1501134669,"answer_id":45342349,"question_id":45326796,"body_markdown":"`.createDataset()` accepts `RDD&lt;T&gt;` not `JavaRDD&lt;T&gt;`. `JavaRDD` is a wrapper around RDD inorder to make calls from java code easier. It contains RDD internally and can be accessed using `.rdd()`. The following can create a `Dataset`:\r\n\r\n    Dataset&lt;Person&gt; personDS =  sqlContext.createDataset(personRDD.rdd(), Encoders.bean(Person.class));","title":"convert RDD to Dataset in Java Spark","body":"<p><code>.createDataset()</code> accepts <code>RDD&lt;T&gt;</code> not <code>JavaRDD&lt;T&gt;</code>. <code>JavaRDD</code> is a wrapper around RDD inorder to make calls from java code easier. It contains RDD internally and can be accessed using <code>.rdd()</code>. The following can create a <code>Dataset</code>:</p>\n\n<pre><code>Dataset&lt;Person&gt; personDS =  sqlContext.createDataset(personRDD.rdd(), Encoders.bean(Person.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7146992,"reputation":3381,"user_id":5462372,"accept_rate":64,"display_name":"MSS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573477793,"creation_date":1573477793,"answer_id":58802035,"question_id":45326796,"body_markdown":"In addition to accepted answer, if you want to create a `Dataset&lt;Row&gt;` instead of `Dataset&lt;Person&gt;` in Java, please try like this:\r\n    \r\n    StructType yourStruct = ...; //Create your own structtype based on individual field types\r\n    Dataset&lt;Row&gt; personDS =  sqlContext.createDataset(personRDD.rdd(), RowEncoder.apply(yourStruct));","title":"convert RDD to Dataset in Java Spark","body":"<p>In addition to accepted answer, if you want to create a <code>Dataset&lt;Row&gt;</code> instead of <code>Dataset&lt;Person&gt;</code> in Java, please try like this:</p>\n\n<pre><code>StructType yourStruct = ...; //Create your own structtype based on individual field types\nDataset&lt;Row&gt; personDS =  sqlContext.createDataset(personRDD.rdd(), RowEncoder.apply(yourStruct));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8256277,"reputation":418,"user_id":6209355,"display_name":"Yauheni Leaniuk"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674071269,"creation_date":1674071269,"answer_id":75164556,"question_id":45326796,"body_markdown":"    StructType schema = new StructType()\r\n                    .add(&quot;Id&quot;, DataTypes.StringType)\r\n                    .add(&quot;Name&quot;, DataTypes.StringType)\r\n                    .add(&quot;Country&quot;, DataTypes.StringType);\r\n    \r\n    Dataset&lt;Row&gt; dataSet = sqlContext.createDataFrame(yourJavaRDD, schema);\r\n\r\nBe carefull with schema variable, not always easy to predict what datatype you need to use, sometimes it&#39;s better to use just StringType for all columns","title":"convert RDD to Dataset in Java Spark","body":"<pre><code>StructType schema = new StructType()\n                .add(&quot;Id&quot;, DataTypes.StringType)\n                .add(&quot;Name&quot;, DataTypes.StringType)\n                .add(&quot;Country&quot;, DataTypes.StringType);\n\nDataset&lt;Row&gt; dataSet = sqlContext.createDataFrame(yourJavaRDD, schema);\n</code></pre>\n<p>Be carefull with schema variable, not always easy to predict what datatype you need to use, sometimes it's better to use just StringType for all columns</p>\n"}],"owner":{"account_id":4758084,"reputation":3541,"user_id":3846291,"accept_rate":95,"display_name":"vdep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22210,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45342349,"answer_count":4,"score":10,"last_activity_date":1674071269,"creation_date":1501071530,"question_id":45326796,"body_markdown":"I have an RDD, i need to convert it into a Dataset, i tried:\r\n\r\n    Dataset&lt;Person&gt; personDS =  sqlContext.createDataset(personRDD, Encoders.bean(Person.class));\r\nthe above line throws the error,\r\n\r\n&gt; cannot resolve method createDataset(org.apache.spark.api.java.JavaRDD\r\n&gt; Main.Person, org.apache.spark.sql.Encoder T)\r\n\r\nhowever, i can convert to `Dataset` after converting to `Dataframe`. the below code works:\r\n\r\n    Dataset&lt;Row&gt; personDF = sqlContext.createDataFrame(personRDD, Person.class);\r\n    Dataset&lt;Person&gt; personDS = personDF.as(Encoders.bean(Person.class));","title":"convert RDD to Dataset in Java Spark","body":"<p>I have an RDD, i need to convert it into a Dataset, i tried:</p>\n\n<pre><code>Dataset&lt;Person&gt; personDS =  sqlContext.createDataset(personRDD, Encoders.bean(Person.class));\n</code></pre>\n\n<p>the above line throws the error,</p>\n\n<blockquote>\n  <p>cannot resolve method createDataset(org.apache.spark.api.java.JavaRDD\n  Main.Person, org.apache.spark.sql.Encoder T)</p>\n</blockquote>\n\n<p>however, i can convert to <code>Dataset</code> after converting to <code>Dataframe</code>. the below code works:</p>\n\n<pre><code>Dataset&lt;Row&gt; personDF = sqlContext.createDataFrame(personRDD, Person.class);\nDataset&lt;Person&gt; personDS = personDF.as(Encoders.bean(Person.class));\n</code></pre>\n"},{"tags":["java","eclipse","servlets","web.xml"],"answers":[{"comments":[{"owner":{"account_id":4426602,"reputation":21,"user_id":3604918,"display_name":"Feanor"},"score":0,"creation_date":1470229895,"post_id":38742279,"comment_id":64863055,"body_markdown":"Really thanks! But now, whenever i put something inside my servlets, i get the 404 HTTP status saying i can&#39;t find /indexAvanz ecc ecc. Is this a problem relating to servlets? I post my registrationAvanz code","body":"Really thanks! But now, whenever i put something inside my servlets, i get the 404 HTTP status saying i can&#39;t find /indexAvanz ecc ecc. Is this a problem relating to servlets? I post my registrationAvanz code"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1470229973,"post_id":38742279,"comment_id":64863121,"body_markdown":"@Feanor the servlet class and url-pattern are also very wrong now that I look at it.","body":"@Feanor the servlet class and url-pattern are also very wrong now that I look at it."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1470230355,"post_id":38742279,"comment_id":64863398,"body_markdown":"@Feanor please don&#39;t post follow-up questions as an answer, that is not how stackoverflow works. You should remove it. I edited my answer with fixed class name and url-pattern.","body":"@Feanor please don&#39;t post follow-up questions as an answer, that is not how stackoverflow works. You should remove it. I edited my answer with fixed class name and url-pattern."},{"owner":{"account_id":4426602,"reputation":21,"user_id":3604918,"display_name":"Feanor"},"score":0,"creation_date":1470230556,"post_id":38742279,"comment_id":64863550,"body_markdown":"i&#39;m sorry, i deleted the answer. But how come do i have that 404 problem?","body":"i&#39;m sorry, i deleted the answer. But how come do i have that 404 problem?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1470232085,"post_id":38742279,"comment_id":64864716,"body_markdown":"@feanor Basically because you&#39;re just guessing how to configure this stuff and blaming java when it won&#39;t work. I did some changes in the web.xml content in my answer, that should work better. If not, do consider actually studying this. I&#39;m debugging for you here without being able to run your application.","body":"@feanor Basically because you&#39;re just guessing how to configure this stuff and blaming java when it won&#39;t work. I did some changes in the web.xml content in my answer, that should work better. If not, do consider actually studying this. I&#39;m debugging for you here without being able to run your application."},{"owner":{"account_id":4426602,"reputation":21,"user_id":3604918,"display_name":"Feanor"},"score":0,"creation_date":1470232704,"post_id":38742279,"comment_id":64865203,"body_markdown":"I really appreciate this, and i&#39;m entirely thanking you. Whenever i start that, i can easily reach the html/jsp pages for login or register, but when i log in or register, i get the 404 problem. Is that related to my web.xml? Because i can&#39;t find some useful guides for this","body":"I really appreciate this, and i&#39;m entirely thanking you. Whenever i start that, i can easily reach the html/jsp pages for login or register, but when i log in or register, i get the 404 problem. Is that related to my web.xml? Because i can&#39;t find some useful guides for this"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1470234901,"post_id":38742279,"comment_id":64866909,"body_markdown":"@Feanor then you&#39;re not looking, there are useful guides all over the internet. Consider reading this free book: http://pdf.coreservlets.com . That&#39;s basically all I can say, I cannot debug your problems for you. I have no idea how you setup your server, deploy your application or where all the files are.","body":"@Feanor then you&#39;re not looking, there are useful guides all over the internet. Consider reading this free book: <a href=\"http://pdf.coreservlets.com\" rel=\"nofollow noreferrer\">pdf.coreservlets.com</a> . That&#39;s basically all I can say, I cannot debug your problems for you. I have no idea how you setup your server, deploy your application or where all the files are."}],"tags":[],"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470230216,"creation_date":1470223669,"answer_id":38742279,"question_id":38742004,"body_markdown":"You&#39;re trying to define several servlets within the same `&lt;servlet&gt;` tag and that is not going to work. Give each servlet its own `&lt;servlet&gt;` and `&lt;servlet-mapping&gt;` tag.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;login&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;Login&lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;RegisterMedico&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;RegisterMedic&lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;RegisterUser&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;RegisterUser&lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;login&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;RegisterMedic&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/RegisterMedic&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;RegisterUser&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/RegisterUser&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\nAlternatively, you can use `@WebServlet` annotations on your servlet classes so you don&#39;t need to configure them in the web.xml at all. Example here: https://stackoverflow.com/questions/6535676/webservlet-annotation-with-tomcat-7\r\n\r\nAlso the url-pattern and servlet-class are very wrong. The servlet-class should be a fully qualified classname (package + classname). The url pattern is literally the pattern in the url that must &quot;map&quot; to the servlet. Example: an url-pattern &quot;/beep&quot; would map to &quot;http://localhost:8080/beep&quot;.","title":"errors with servlet name in web.xml file","body":"<p>You're trying to define several servlets within the same <code>&lt;servlet&gt;</code> tag and that is not going to work. Give each servlet its own <code>&lt;servlet&gt;</code> and <code>&lt;servlet-mapping&gt;</code> tag.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" version=\"3.0\"&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;login&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;Login&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;RegisterMedico&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;RegisterMedic&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;RegisterUser&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;RegisterUser&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;login&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;RegisterMedic&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/RegisterMedic&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;RegisterUser&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/RegisterUser&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Alternatively, you can use <code>@WebServlet</code> annotations on your servlet classes so you don't need to configure them in the web.xml at all. Example here: <a href=\"https://stackoverflow.com/questions/6535676/webservlet-annotation-with-tomcat-7\">@WebServlet annotation with Tomcat 7</a></p>\n\n<p>Also the url-pattern and servlet-class are very wrong. The servlet-class should be a fully qualified classname (package + classname). The url pattern is literally the pattern in the url that must \"map\" to the servlet. Example: an url-pattern \"/beep\" would map to \"<a href=\"http://localhost:8080/beep\" rel=\"nofollow noreferrer\">http://localhost:8080/beep</a>\".</p>\n"}],"owner":{"account_id":4426602,"reputation":21,"user_id":3604918,"display_name":"Feanor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2461,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674070961,"creation_date":1470222895,"question_id":38742004,"body_markdown":"I&#39;m doing a project with registration/login forms with tomcat7 for two types of users, and i created everything: login, registration1, registration2, and some validating class for each one. I have some problems in my web.xml, saying &quot;invalid content was found starting with element &#39;servlet-name&#39;.I have all the files in some directories, with the exception of the 2 registration in /src, and the validating ones in /login/(all servlets + logins). Here&#39;s my code:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;login&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;Login&lt;/servlet-class&gt;\r\n        &lt;servlet-name&gt;RegisterMedico&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;/progettoTesi/src/RegisterMedic&lt;/servlet-class&gt;\r\n        &lt;servlet-name&gt;RegisterUser&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;progettoTesi/src/RegisterUser&lt;/servlet-class&gt;\r\n        \r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;login&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;progettoTesi/WebContent/login&lt;/url-pattern&gt;\r\n        &lt;servlet-name&gt;RegisterMedic&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;progettoTesi/src/RegisterMedic&lt;/url-pattern&gt;\r\n        &lt;servlet-name&gt;RegisterUser&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;progettoTesi/src/RegisterUser&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\nI can&#39;t understand what my error is: the name of my servlets are correct. Is this a java problem? How can i solve this issue?","title":"errors with servlet name in web.xml file","body":"<p>I'm doing a project with registration/login forms with tomcat7 for two types of users, and i created everything: login, registration1, registration2, and some validating class for each one. I have some problems in my web.xml, saying \"invalid content was found starting with element 'servlet-name'.I have all the files in some directories, with the exception of the 2 registration in /src, and the validating ones in /login/(all servlets + logins). Here's my code:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" version=\"3.0\"&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;login&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;Login&lt;/servlet-class&gt;\n    &lt;servlet-name&gt;RegisterMedico&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;/progettoTesi/src/RegisterMedic&lt;/servlet-class&gt;\n    &lt;servlet-name&gt;RegisterUser&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;progettoTesi/src/RegisterUser&lt;/servlet-class&gt;\n\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;login&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;progettoTesi/WebContent/login&lt;/url-pattern&gt;\n    &lt;servlet-name&gt;RegisterMedic&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;progettoTesi/src/RegisterMedic&lt;/url-pattern&gt;\n    &lt;servlet-name&gt;RegisterUser&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;progettoTesi/src/RegisterUser&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>I can't understand what my error is: the name of my servlets are correct. Is this a java problem? How can i solve this issue?</p>\n"},{"tags":["java","ssl","certificate","mail-server","starttls"],"answers":[{"comments":[{"owner":{"account_id":3766189,"reputation":11,"user_id":3129664,"display_name":"user3129664"},"score":0,"creation_date":1430987431,"post_id":29661165,"comment_id":48303489,"body_markdown":"Thanks khondhu for ur reply.  actually my clint want to send email to its customer using its companies domain name . for which that they are using zimbra server. they have provided us some php files and through we are able to send mail but as a standalne application.so main issue is that i dont know how to use them in my web app(java/j2ee). for other client i am using noreply@mycompdomain.com. if u want more information i can provide to you.","body":"Thanks khondhu for ur reply.  actually my clint want to send email to its customer using its companies domain name . for which that they are using zimbra server. they have provided us some php files and through we are able to send mail but as a standalne application.so main issue is that i dont know how to use them in my web app(java/j2ee). for other client i am using noreply@mycompdomain.com. if u want more information i can provide to you."},{"owner":{"account_id":4442552,"reputation":36,"user_id":3616759,"display_name":"khondhu"},"score":0,"creation_date":1431098679,"post_id":29661165,"comment_id":48364565,"body_markdown":"So, you are using this &quot;php mail application&quot; as your client, and the server in question is a zimbra server to which you get the above SSL exception.\n\nHave you attempted communication via SMTP port 25?\n\nYou have not provided enought information in the opening question for anyone to able to assist you here.","body":"So, you are using this &quot;php mail application&quot; as your client, and the server in question is a zimbra server to which you get the above SSL exception.  Have you attempted communication via SMTP port 25?  You have not provided enought information in the opening question for anyone to able to assist you here."},{"owner":{"account_id":3766189,"reputation":11,"user_id":3129664,"display_name":"user3129664"},"score":0,"creation_date":1431321476,"post_id":29661165,"comment_id":48427143,"body_markdown":"Actually my client install Zimbra mail server on their server and we are using mail api in our Bi tools to send mail to client&#39;s customer as noreply@mycompanyname.com as sender name. Here we are smtp provided by Gmail. But now they want to send mail using Zimbra server and with its companies name as domain name. They have install Zimbra mail server on their server and given domain name, emailid and port to configure it. As of now I don&#39;t have much idea how to configure it. So first I tried by using Java code then php but unable to do anything. Please help and let me come out from this mess.","body":"Actually my client install Zimbra mail server on their server and we are using mail api in our Bi tools to send mail to client&#39;s customer as noreply@mycompanyname.com as sender name. Here we are smtp provided by Gmail. But now they want to send mail using Zimbra server and with its companies name as domain name. They have install Zimbra mail server on their server and given domain name, emailid and port to configure it. As of now I don&#39;t have much idea how to configure it. So first I tried by using Java code then php but unable to do anything. Please help and let me come out from this mess."}],"tags":[],"owner":{"account_id":4442552,"reputation":36,"user_id":3616759,"display_name":"khondhu"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429132893,"creation_date":1429132893,"answer_id":29661165,"question_id":29404982,"body_markdown":"Single server or multi server? single domain or multi domain? self signed or commerical cert?\r\n\r\nIt is due to the fact that you are talking to an HTTP server, not an HTTPS server. Did you use the correct port number for HTTPS?","title":"Zimbra mail server - how to create authentication certificate for zimbra mail server","body":"<p>Single server or multi server? single domain or multi domain? self signed or commerical cert?</p>\n\n<p>It is due to the fact that you are talking to an HTTP server, not an HTTPS server. Did you use the correct port number for HTTPS?</p>\n"}],"owner":{"account_id":3766189,"reputation":11,"user_id":3129664,"display_name":"user3129664"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674070927,"creation_date":1427948807,"question_id":29404982,"body_markdown":"This is the first time i am posting a question on this portal.I have zimbra mail server domain name and port-587. it is giving the following exception when i am trying to create certificate.\r\n\r\n    package com.test;\r\n    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.security.KeyStore;\r\n    import java.security.MessageDigest;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n     \r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLException;\r\n    import javax.net.ssl.SSLSocket;\r\n    import javax.net.ssl.SSLSocketFactory;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import javax.net.ssl.X509TrustManager;\r\n     \r\n    public class InstallCert {\r\n     \r\n        public static void main(String args[]) throws Exception {\r\n            String host;\r\n            int port;\r\n            char[] passphrase;\r\n            if ((args.length == 1) || (args.length == 2)) {\r\n                final String[] c = args[0].split(&quot;:&quot;);\r\n                host = c[0];\r\n                port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\r\n                final String p = (args.length == 1) ? &quot;changeit&quot; : args[1];\r\n                passphrase = p.toCharArray();\r\n            } else {\r\n                host = &quot;mail.clientname.com&quot;;\r\n                port = 587;\r\n                final String p= &quot;changeit&quot;; \r\n                passphrase = p.toCharArray();\r\n                System.out.println(\r\n                        &quot;Usage: java InstallCert &lt;host&gt;[:port] [passphrase]&quot;);\r\n               // return;\r\n            }\r\n     \r\n            File file = new File(&quot;jssecacerts&quot;);\r\n            if (file.isFile() == false) {\r\n                final char SEP = File.separatorChar;\r\n                final File dir = new File(System.getProperty(&quot;java.home&quot;)\r\n                        + SEP + &quot;lib&quot; + SEP + &quot;security&quot;);\r\n                file = new File(dir, &quot;jssecacerts&quot;);\r\n                if (file.isFile() == false) {\r\n                    file = new File(dir, &quot;cacerts&quot;);\r\n                }\r\n            }\r\n     \r\n            System.out.println(&quot;Loading KeyStore &quot; + file + &quot;...&quot;);\r\n            final InputStream in = new FileInputStream(file);\r\n            final KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            ks.load(in, passphrase);\r\n            in.close();\r\n     \r\n            final SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n            final TrustManagerFactory tmf =\r\n                    TrustManagerFactory.getInstance(TrustManagerFactory\r\n                            .getDefaultAlgorithm());\r\n            tmf.init(ks);\r\n            final X509TrustManager defaultTrustManager =\r\n                    (X509TrustManager) tmf.getTrustManagers()[0];\r\n            final SavingTrustManager tm = new SavingTrustManager(\r\n                    defaultTrustManager);\r\n            context.init(null, new TrustManager[] { tm }, null);\r\n            final SSLSocketFactory factory = context.getSocketFactory();\r\n     \r\n            System.out.println(&quot;Opening connection to &quot;\r\n                    + host + &quot;:&quot; + port + &quot;...&quot;);\r\n            final SSLSocket socket = (SSLSocket) factory.createSocket(host, port);\r\n            socket.setSoTimeout(10000);\r\n            try {\r\n                System.out.println(&quot;Starting SSL handshake...&quot;);\r\n                socket.startHandshake();\r\n                socket.close();\r\n                System.out.println();\r\n                System.out.println(&quot;No errors, certificate is already trusted&quot;);\r\n            } catch (final SSLException e) {\r\n                System.out.println(&quot;palu&quot;);\r\n                e.printStackTrace(System.out);\r\n            }\r\n     \r\n            final X509Certificate[] chain = tm.chain;\r\n            if (chain == null) {\r\n                System.out.println(&quot;Could not obtain server certificate chain&quot;);\r\n                return;\r\n            }\r\n     \r\n            final BufferedReader reader =\r\n                    new BufferedReader(new InputStreamReader(System.in));\r\n     \r\n            System.out.println();\r\n            System.out.println(&quot;Server sent &quot; + chain.length + &quot; certificate(s):&quot;);\r\n            System.out.println();\r\n            final MessageDigest sha1 = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n            final MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            for (int i = 0; i &lt; chain.length; i++) {\r\n                final X509Certificate cert = chain[i];\r\n                System.out.println(&quot; &quot; + (i + 1) + &quot; Subject &quot;\r\n                        + cert.getSubjectDN());\r\n                System.out.println(&quot;   Issuer  &quot; + cert.getIssuerDN());\r\n                sha1.update(cert.getEncoded());\r\n                System.out.println(&quot;   sha1    &quot; + toHexString(sha1.digest()));\r\n                md5.update(cert.getEncoded());\r\n                System.out.println(&quot;   md5     &quot; + toHexString(md5.digest()));\r\n                System.out.println();\r\n            }\r\n     \r\n            System.out.println(&quot;Enter certificate to add to trusted keystore&quot;\r\n                    + &quot; or &#39;q&#39; to quit: [1]&quot;);\r\n            final String line = reader.readLine().trim();\r\n            int k;\r\n            try {\r\n                k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\r\n            } catch (final NumberFormatException e) {\r\n                System.out.println(&quot;KeyStore not changed&quot;);\r\n                return;\r\n            }\r\n     \r\n            final X509Certificate cert = chain[k];\r\n            final String alias = host + &quot;-&quot; + (k + 1);\r\n            ks.setCertificateEntry(alias, cert);\r\n     \r\n            final OutputStream out = new FileOutputStream(file);\r\n            ks.store(out, passphrase);\r\n            out.close();\r\n     \r\n            System.out.println();\r\n            System.out.println(cert);\r\n            System.out.println();\r\n            System.out.println(\r\n                    &quot;Added certificate to keystore &#39;cacerts&#39; using alias &#39;&quot;\r\n                            + alias + &quot;&#39;&quot;);\r\n        }\r\n     \r\n        private static final char[] HEXDIGITS = &quot;0123456789abcdef&quot;.toCharArray();\r\n     \r\n        private static String toHexString(final byte[] bytes) {\r\n            final StringBuilder sb = new StringBuilder(bytes.length * 3);\r\n            for (int b : bytes) {\r\n                b &amp;= 0xff;\r\n                sb.append(HEXDIGITS[b &gt;&gt; 4]);\r\n                sb.append(HEXDIGITS[b &amp; 15]);\r\n                sb.append(&#39; &#39;);\r\n            }\r\n            return sb.toString();\r\n        }\r\n     \r\n        private static class SavingTrustManager implements X509TrustManager {\r\n     \r\n            private final X509TrustManager tm;\r\n            private X509Certificate[] chain;\r\n     \r\n            SavingTrustManager(final X509TrustManager tm) {\r\n                this.tm = tm;\r\n            }\r\n     \r\n            @Override\r\n            public X509Certificate[] getAcceptedIssuers() {\r\n                return new X509Certificate[0];\r\n                // throw new UnsupportedOperationException();\r\n            }\r\n     \r\n            @Override\r\n            public void checkClientTrusted(final X509Certificate[] chain,\r\n                    final String authType)\r\n                    throws CertificateException {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n     \r\n            @Override\r\n            public void checkServerTrusted(final X509Certificate[] chain,\r\n                    final String authType)\r\n                    throws CertificateException {\r\n                this.chain = chain;\r\n                this.tm.checkServerTrusted(chain, authType);\r\n            }\r\n        }\r\n    }\r\n\r\nwhile executing it is giving the following exception----\r\n\r\n    javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\r\n        at sun.security.ssl.InputRecord.handleUnknownRecord(InputRecord.java:671)\r\n        at sun.security.ssl.InputRecord.read(InputRecord.java:504)\r\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:927)\r\n        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\r\n        at com.test.InstallCert.main(InstallCert.java:81)\r\n    Could not obtain server certificate chain\r\n\r\nplease see [this link][1]\r\n\r\ni have got code from the [here][2]\r\n\r\n  [1]: http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\r\n  [2]: https://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find\r\n\r\n\r\n","title":"Zimbra mail server - how to create authentication certificate for zimbra mail server","body":"<p>This is the first time i am posting a question on this portal.I have zimbra mail server domain name and port-587. it is giving the following exception when i am trying to create certificate.</p>\n<pre><code>package com.test;\n\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.security.KeyStore;\nimport java.security.MessageDigest;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n \nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLException;\nimport javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509TrustManager;\n \npublic class InstallCert {\n \n    public static void main(String args[]) throws Exception {\n        String host;\n        int port;\n        char[] passphrase;\n        if ((args.length == 1) || (args.length == 2)) {\n            final String[] c = args[0].split(&quot;:&quot;);\n            host = c[0];\n            port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\n            final String p = (args.length == 1) ? &quot;changeit&quot; : args[1];\n            passphrase = p.toCharArray();\n        } else {\n            host = &quot;mail.clientname.com&quot;;\n            port = 587;\n            final String p= &quot;changeit&quot;; \n            passphrase = p.toCharArray();\n            System.out.println(\n                    &quot;Usage: java InstallCert &lt;host&gt;[:port] [passphrase]&quot;);\n           // return;\n        }\n \n        File file = new File(&quot;jssecacerts&quot;);\n        if (file.isFile() == false) {\n            final char SEP = File.separatorChar;\n            final File dir = new File(System.getProperty(&quot;java.home&quot;)\n                    + SEP + &quot;lib&quot; + SEP + &quot;security&quot;);\n            file = new File(dir, &quot;jssecacerts&quot;);\n            if (file.isFile() == false) {\n                file = new File(dir, &quot;cacerts&quot;);\n            }\n        }\n \n        System.out.println(&quot;Loading KeyStore &quot; + file + &quot;...&quot;);\n        final InputStream in = new FileInputStream(file);\n        final KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(in, passphrase);\n        in.close();\n \n        final SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n        final TrustManagerFactory tmf =\n                TrustManagerFactory.getInstance(TrustManagerFactory\n                        .getDefaultAlgorithm());\n        tmf.init(ks);\n        final X509TrustManager defaultTrustManager =\n                (X509TrustManager) tmf.getTrustManagers()[0];\n        final SavingTrustManager tm = new SavingTrustManager(\n                defaultTrustManager);\n        context.init(null, new TrustManager[] { tm }, null);\n        final SSLSocketFactory factory = context.getSocketFactory();\n \n        System.out.println(&quot;Opening connection to &quot;\n                + host + &quot;:&quot; + port + &quot;...&quot;);\n        final SSLSocket socket = (SSLSocket) factory.createSocket(host, port);\n        socket.setSoTimeout(10000);\n        try {\n            System.out.println(&quot;Starting SSL handshake...&quot;);\n            socket.startHandshake();\n            socket.close();\n            System.out.println();\n            System.out.println(&quot;No errors, certificate is already trusted&quot;);\n        } catch (final SSLException e) {\n            System.out.println(&quot;palu&quot;);\n            e.printStackTrace(System.out);\n        }\n \n        final X509Certificate[] chain = tm.chain;\n        if (chain == null) {\n            System.out.println(&quot;Could not obtain server certificate chain&quot;);\n            return;\n        }\n \n        final BufferedReader reader =\n                new BufferedReader(new InputStreamReader(System.in));\n \n        System.out.println();\n        System.out.println(&quot;Server sent &quot; + chain.length + &quot; certificate(s):&quot;);\n        System.out.println();\n        final MessageDigest sha1 = MessageDigest.getInstance(&quot;SHA1&quot;);\n        final MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\n        for (int i = 0; i &lt; chain.length; i++) {\n            final X509Certificate cert = chain[i];\n            System.out.println(&quot; &quot; + (i + 1) + &quot; Subject &quot;\n                    + cert.getSubjectDN());\n            System.out.println(&quot;   Issuer  &quot; + cert.getIssuerDN());\n            sha1.update(cert.getEncoded());\n            System.out.println(&quot;   sha1    &quot; + toHexString(sha1.digest()));\n            md5.update(cert.getEncoded());\n            System.out.println(&quot;   md5     &quot; + toHexString(md5.digest()));\n            System.out.println();\n        }\n \n        System.out.println(&quot;Enter certificate to add to trusted keystore&quot;\n                + &quot; or 'q' to quit: [1]&quot;);\n        final String line = reader.readLine().trim();\n        int k;\n        try {\n            k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\n        } catch (final NumberFormatException e) {\n            System.out.println(&quot;KeyStore not changed&quot;);\n            return;\n        }\n \n        final X509Certificate cert = chain[k];\n        final String alias = host + &quot;-&quot; + (k + 1);\n        ks.setCertificateEntry(alias, cert);\n \n        final OutputStream out = new FileOutputStream(file);\n        ks.store(out, passphrase);\n        out.close();\n \n        System.out.println();\n        System.out.println(cert);\n        System.out.println();\n        System.out.println(\n                &quot;Added certificate to keystore 'cacerts' using alias '&quot;\n                        + alias + &quot;'&quot;);\n    }\n \n    private static final char[] HEXDIGITS = &quot;0123456789abcdef&quot;.toCharArray();\n \n    private static String toHexString(final byte[] bytes) {\n        final StringBuilder sb = new StringBuilder(bytes.length * 3);\n        for (int b : bytes) {\n            b &amp;= 0xff;\n            sb.append(HEXDIGITS[b &gt;&gt; 4]);\n            sb.append(HEXDIGITS[b &amp; 15]);\n            sb.append(' ');\n        }\n        return sb.toString();\n    }\n \n    private static class SavingTrustManager implements X509TrustManager {\n \n        private final X509TrustManager tm;\n        private X509Certificate[] chain;\n \n        SavingTrustManager(final X509TrustManager tm) {\n            this.tm = tm;\n        }\n \n        @Override\n        public X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[0];\n            // throw new UnsupportedOperationException();\n        }\n \n        @Override\n        public void checkClientTrusted(final X509Certificate[] chain,\n                final String authType)\n                throws CertificateException {\n            throw new UnsupportedOperationException();\n        }\n \n        @Override\n        public void checkServerTrusted(final X509Certificate[] chain,\n                final String authType)\n                throws CertificateException {\n            this.chain = chain;\n            this.tm.checkServerTrusted(chain, authType);\n        }\n    }\n}\n</code></pre>\n<p>while executing it is giving the following exception----</p>\n<pre><code>javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\n    at sun.security.ssl.InputRecord.handleUnknownRecord(InputRecord.java:671)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:504)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:927)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\n    at com.test.InstallCert.main(InstallCert.java:81)\nCould not obtain server certificate chain\n</code></pre>\n<p>please see <a href=\"http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\" rel=\"nofollow noreferrer\">this link</a></p>\n<p>i have got code from the <a href=\"https://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find\">here</a></p>\n"},{"tags":["java","swing","jtable","tablecelleditor"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1487904077,"post_id":42428458,"comment_id":72004977,"body_markdown":"Please include your implementation of `getColumnClass()` when you edit your question to include a [mcve] that exhibits the problem you describe.","body":"Please include your implementation of <code>getColumnClass()</code> when you edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that exhibits the problem you describe."},{"owner":{"account_id":6433737,"reputation":43,"user_id":4985949,"display_name":"Muhammad Alqama"},"score":0,"creation_date":1488215673,"post_id":42428458,"comment_id":72122841,"body_markdown":"I have updated the code above with complete example.","body":"I have updated the code above with complete example."},{"owner":{"account_id":6433737,"reputation":43,"user_id":4985949,"display_name":"Muhammad Alqama"},"score":0,"creation_date":1488216013,"post_id":42428458,"comment_id":72123067,"body_markdown":"I have updated the code above with complete example. With single ENTER key press in Integer column, editing in current cell is completed and next cell is selected directly into editing mode and selectAll. For float number format error is raised.","body":"I have updated the code above with complete example. With single ENTER key press in Integer column, editing in current cell is completed and next cell is selected directly into editing mode and selectAll. For float number format error is raised."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1488226417,"post_id":42428458,"comment_id":72129010,"body_markdown":"I&#39;ve elaborated below.","body":"I&#39;ve elaborated below."}],"answers":[{"comments":[{"owner":{"account_id":6433737,"reputation":43,"user_id":4985949,"display_name":"Muhammad Alqama"},"score":1,"creation_date":1488291516,"post_id":42494868,"comment_id":72159410,"body_markdown":"Thanks a lot. using above, i returned Integer type for column 1 and float type for column 2 and it works great.","body":"Thanks a lot. using above, i returned Integer type for column 1 and float type for column 2 and it works great."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1488226181,"creation_date":1488226181,"answer_id":42494868,"question_id":42428458,"body_markdown":"You model&#39;s implementation of `getColumnClass()` for column `1` returns `Float.class`, so your implementation of `getCellEditorValue()` should return a value of the same type:\r\n\r\n    @Override\r\n    public Object getCellEditorValue() {\r\n        return Float.valueOf(component.getText());        \r\n\r\nAs an alternative, you can specify the editor by class:\r\n\r\n    CustomTableCellEditor et = new CustomTableCellEditor(table);\r\n    table.setDefaultEditor(Float.class, et);","title":"Custom table cell editor in java with column data type Float","body":"<p>You model's implementation of <code>getColumnClass()</code> for column <code>1</code> returns <code>Float.class</code>, so your implementation of <code>getCellEditorValue()</code> should return a value of the same type:</p>\n\n<pre><code>@Override\npublic Object getCellEditorValue() {\n    return Float.valueOf(component.getText());        \n</code></pre>\n\n<p>As an alternative, you can specify the editor by class:</p>\n\n<pre><code>CustomTableCellEditor et = new CustomTableCellEditor(table);\ntable.setDefaultEditor(Float.class, et);\n</code></pre>\n"}],"owner":{"account_id":6433737,"reputation":43,"user_id":4985949,"display_name":"Muhammad Alqama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2071,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42494868,"answer_count":1,"score":1,"last_activity_date":1674070567,"creation_date":1487894400,"question_id":42428458,"body_markdown":"As we know by default, we have to press Enter key twice to change selection while editing a cell in JTable.\r\n\r\nTo override this behaviour I am trying to write a custom table cell editor where upon single Enter key press, editing in current cell is finished, selection is changed to next row and editing is started in newly selected cell and its contents are automatically selected.\r\n\r\nThe whole scenario is working fine for integers BUT NOT FOR FLOAT DATA TYPE. for columns with data type Float/Double I get error \r\n\r\n&gt; java.lang.IllegalArgumentException: Cannot format given Object as a Number\r\n\r\nwhen Enter is pressed to change selection.\r\n\r\nI am using following code, that I found while searching online.\r\n\r\n     \r\n    package javaapplication1;\r\n    \r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import javax.swing.AbstractCellEditor;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableCellEditor;\r\n    import javax.swing.table.TableColumn;\r\n    import javax.swing.text.JTextComponent;\r\n    \r\n    /**\r\n     *\r\n     * @author alqama\r\n     */\r\n    public class test extends JPanel{\r\n        \r\n        private JTable table;\r\n        \r\n        test()\r\n        {\r\n            table = new JTable(){\r\n    \r\n            @Override\r\n            public void changeSelection(    int row, int column, boolean toggle, boolean extend)\r\n            {\r\n                super.changeSelection(row, column, toggle, extend);\r\n    \r\n                if (editCellAt(row, column))\r\n                {\r\n                    Component editor = getEditorComponent();\r\n                    editor.requestFocusInWindow();\r\n                    ((JTextComponent) editor).selectAll();\r\n    \r\n                }\r\n            }};\r\n            DefaultTableModel dtm = new javax.swing.table.DefaultTableModel(\r\n                    new Object [][] {\r\n    \r\n                        },\r\n                    new String [] { &quot;Integer&quot;,&quot;Float&quot;}\r\n                ) {\r\n                    public Class getColumnClass(int col) {\r\n                    if(col==0) return java.lang.Integer.class;\r\n                    return java.lang.Float.class;\r\n                }\r\n    \r\n                public boolean isCellEditable(int rowIndex, int columnIndex) {\r\n                    return true;\r\n                }\r\n            };\r\n            table.setModel(dtm);\r\n            CustomTableCellEditor et = new CustomTableCellEditor(table);\r\n            table.getColumnModel().getColumn(1).setCellEditor(et);\r\n            table.getColumnModel().getColumn(0).setCellEditor(et);\r\n            \r\n            for (int i = 0; i &lt; 5; i++) {\r\n                dtm.addRow(new Object[]{i,1.5+i});\r\n            }    \r\n            \r\n            \r\n            table.setPreferredScrollableViewportSize(new Dimension(123, 123));\r\n            this.add(new JScrollPane(table));\r\n            \r\n        }\r\n        private void display() {\r\n            JFrame f = new JFrame(&quot;Test Table&quot;);\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.add(this);\r\n            f.pack();\r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    new test().display();\r\n                }\r\n            });\r\n        } \r\n        \r\n        \r\n        \r\n        \r\n        protected class CustomTableCellEditor  extends AbstractCellEditor implements TableCellEditor {\r\n         \r\n             private JTable table;\r\n             JTextField component = new JTextField();\r\n    \r\n            public CustomTableCellEditor(JTable table) {\r\n                this.table = table;\r\n            }\r\n    \r\n            public boolean stopCellEditing() {\r\n                \r\n                boolean ans = super.stopCellEditing();            \r\n                return ans;\r\n            }\r\n    \r\n            @Override\r\n            public void cancelCellEditing() {\r\n                super.cancelCellEditing();\r\n            }\r\n    \r\n            @Override\r\n            public Object getCellEditorValue() {\r\n                return component.getText();        \r\n            }\r\n    \r\n            @Override\r\n            public Component getTableCellEditorComponent(JTable arg0, Object value,\r\n                    boolean arg2, int arg3, int arg4) {\r\n                component.setText(value.toString());\r\n                return component;\r\n            }\r\n         }\r\n    }\r\n\r\n","title":"Custom table cell editor in java with column data type Float","body":"<p>As we know by default, we have to press Enter key twice to change selection while editing a cell in JTable.</p>\n<p>To override this behaviour I am trying to write a custom table cell editor where upon single Enter key press, editing in current cell is finished, selection is changed to next row and editing is started in newly selected cell and its contents are automatically selected.</p>\n<p>The whole scenario is working fine for integers BUT NOT FOR FLOAT DATA TYPE. for columns with data type Float/Double I get error</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Cannot format given Object as a Number</p>\n</blockquote>\n<p>when Enter is pressed to change selection.</p>\n<p>I am using following code, that I found while searching online.</p>\n<pre><code>package javaapplication1;\n\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport javax.swing.AbstractCellEditor;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextField;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableCellEditor;\nimport javax.swing.table.TableColumn;\nimport javax.swing.text.JTextComponent;\n\n/**\n *\n * @author alqama\n */\npublic class test extends JPanel{\n    \n    private JTable table;\n    \n    test()\n    {\n        table = new JTable(){\n\n        @Override\n        public void changeSelection(    int row, int column, boolean toggle, boolean extend)\n        {\n            super.changeSelection(row, column, toggle, extend);\n\n            if (editCellAt(row, column))\n            {\n                Component editor = getEditorComponent();\n                editor.requestFocusInWindow();\n                ((JTextComponent) editor).selectAll();\n\n            }\n        }};\n        DefaultTableModel dtm = new javax.swing.table.DefaultTableModel(\n                new Object [][] {\n\n                    },\n                new String [] { &quot;Integer&quot;,&quot;Float&quot;}\n            ) {\n                public Class getColumnClass(int col) {\n                if(col==0) return java.lang.Integer.class;\n                return java.lang.Float.class;\n            }\n\n            public boolean isCellEditable(int rowIndex, int columnIndex) {\n                return true;\n            }\n        };\n        table.setModel(dtm);\n        CustomTableCellEditor et = new CustomTableCellEditor(table);\n        table.getColumnModel().getColumn(1).setCellEditor(et);\n        table.getColumnModel().getColumn(0).setCellEditor(et);\n        \n        for (int i = 0; i &lt; 5; i++) {\n            dtm.addRow(new Object[]{i,1.5+i});\n        }    \n        \n        \n        table.setPreferredScrollableViewportSize(new Dimension(123, 123));\n        this.add(new JScrollPane(table));\n        \n    }\n    private void display() {\n        JFrame f = new JFrame(&quot;Test Table&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(this);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new test().display();\n            }\n        });\n    } \n    \n    \n    \n    \n    protected class CustomTableCellEditor  extends AbstractCellEditor implements TableCellEditor {\n     \n         private JTable table;\n         JTextField component = new JTextField();\n\n        public CustomTableCellEditor(JTable table) {\n            this.table = table;\n        }\n\n        public boolean stopCellEditing() {\n            \n            boolean ans = super.stopCellEditing();            \n            return ans;\n        }\n\n        @Override\n        public void cancelCellEditing() {\n            super.cancelCellEditing();\n        }\n\n        @Override\n        public Object getCellEditorValue() {\n            return component.getText();        \n        }\n\n        @Override\n        public Component getTableCellEditorComponent(JTable arg0, Object value,\n                boolean arg2, int arg3, int arg4) {\n            component.setText(value.toString());\n            return component;\n        }\n     }\n}\n</code></pre>\n"},{"tags":["java","static-analysis","spotbugs"],"owner":{"account_id":8977742,"reputation":11,"user_id":6693942,"display_name":"F. Mbea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674070169,"creation_date":1674070169,"question_id":75164378,"body_markdown":"I&#39;m working on a SpotBugs plugin (to add extra rules to catch more bugs), and I would like to provide some optional checks that consumers can decide to include or not. Ideally when people add this plugin to their SpotBugs configuration (in their pom.xml file for example), they can add a variable specifying if they want a &quot;full scan&quot;, or just a &quot;basic&quot; one.\r\n\r\nThe idea is somewhat similar to the already existing &quot;effort&quot; configuration, so if there&#39;s a way to read that already existing configuration inside my own SpotBugs plugin, that would work too, but I couldn&#39;t find one.\r\n\r\nThe fact that the plugin is not running directly, but it runs as part of SpotBugs makes it more tricky to actually try to define properties directly. And I tried to find that effort but I wasn&#39;t successful.\r\n\r\n(And most of the information out there is from the point of view of the final consumer and not as a plugin developer)","title":"Is there a way to read SpotBugs configuration (in the pom.xml file) inside my own SpotBugs plugin?","body":"<p>I'm working on a SpotBugs plugin (to add extra rules to catch more bugs), and I would like to provide some optional checks that consumers can decide to include or not. Ideally when people add this plugin to their SpotBugs configuration (in their pom.xml file for example), they can add a variable specifying if they want a &quot;full scan&quot;, or just a &quot;basic&quot; one.</p>\n<p>The idea is somewhat similar to the already existing &quot;effort&quot; configuration, so if there's a way to read that already existing configuration inside my own SpotBugs plugin, that would work too, but I couldn't find one.</p>\n<p>The fact that the plugin is not running directly, but it runs as part of SpotBugs makes it more tricky to actually try to define properties directly. And I tried to find that effort but I wasn't successful.</p>\n<p>(And most of the information out there is from the point of view of the final consumer and not as a plugin developer)</p>\n"},{"tags":["java","spring","spring-boot","reflection","collections"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":4,"creation_date":1673946562,"post_id":75144072,"comment_id":132604548,"body_markdown":"Without reading the question: don&#39;t use reflection if you don&#39;t really understand the implications. You asking the question already tells me you don&#39;t have that understanding - so don&#39;t use reflection. :)","body":"Without reading the question: don&#39;t use reflection if you don&#39;t really understand the implications. You asking the question already tells me you don&#39;t have that understanding - so don&#39;t use reflection. :)"},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1673946787,"post_id":75144072,"comment_id":132604634,"body_markdown":"@Thomas can you atleast  give one reason to help me understand why it should not be used.","body":"@Thomas can you atleast  give one reason to help me understand why it should not be used."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673946830,"post_id":75144072,"comment_id":132604643,"body_markdown":"Reflection _is_ slow and it can cause a lot of problems including security issues. Thus your senior is right. However, it&#39;s hard to suggest a better approach without knowing more details, e.g. how many fields are &quot;a lot&quot;, why do you need to set them to null in the first place - wouldn&#39;t it make sense to create another class that just contains the fields you _want_ and use a mapping library such as mapstruct to copy them over?","body":"Reflection <i>is</i> slow and it can cause a lot of problems including security issues. Thus your senior is right. However, it&#39;s hard to suggest a better approach without knowing more details, e.g. how many fields are &quot;a lot&quot;, why do you need to set them to null in the first place - wouldn&#39;t it make sense to create another class that just contains the fields you <i>want</i> and use a mapping library such as mapstruct to copy them over?"},{"owner":{"account_id":11180480,"reputation":7031,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":7,"creation_date":1673946851,"post_id":75144072,"comment_id":132604653,"body_markdown":"To me, this looks like a bad class design, breaking encapsulation. You allow your callers (could be anywhere because of `public`) to set to null whatever fields they like. To make some fields survive, the caller needs to know the internals of your class, i.e. the field names. And by swallowing the exceptions, you don&#39;t inform your caller about the failure, you just write it as INFO (not ERROR) into some log, hoping that someone will eventually read it.","body":"To me, this looks like a bad class design, breaking encapsulation. You allow your callers (could be anywhere because of <code>public</code>) to set to null whatever fields they like. To make some fields survive, the caller needs to know the internals of your class, i.e. the field names. And by swallowing the exceptions, you don&#39;t inform your caller about the failure, you just write it as INFO (not ERROR) into some log, hoping that someone will eventually read it."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673947151,"post_id":75144072,"comment_id":132604741,"body_markdown":"&quot;when i execute it on my IDE then i cant see the difference coz it runs immediately&quot; - sure, it is still quite fast when compared to human time and only running on a few elements. However, it is slow compared to proper calls and if you do comparisons with a lot of data you&#39;ll see a notable difference. Here&#39;s a question that might help you get an idea on the performance differences between mappers using reflection and those using non-reflection methods: https://stackoverflow.com/questions/22078156/orika-vs-jmapper-how-it-works-and-a-speed-difference-why","body":"&quot;when i execute it on my IDE then i cant see the difference coz it runs immediately&quot; - sure, it is still quite fast when compared to human time and only running on a few elements. However, it is slow compared to proper calls and if you do comparisons with a lot of data you&#39;ll see a notable difference. Here&#39;s a question that might help you get an idea on the performance differences between mappers using reflection and those using non-reflection methods: <a href=\"https://stackoverflow.com/questions/22078156/orika-vs-jmapper-how-it-works-and-a-speed-difference-why\" title=\"orika vs jmapper how it works and a speed difference why\">stackoverflow.com/questions/22078156/&hellip;</a>"},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1673947573,"post_id":75144072,"comment_id":132604877,"body_markdown":"@Thomas the performace totally depends on the size of data set  and that is ok but how does using reflection raises security question isn&#39;t this getting used in other frameworks as well, testing frameworks etc.","body":"@Thomas the performace totally depends on the size of data set  and that is ok but how does using reflection raises security question isn&#39;t this getting used in other frameworks as well, testing frameworks etc."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673950084,"post_id":75144072,"comment_id":132605731,"body_markdown":"Yes, reflection is used a lot but if you look at the comparisons of mapper frameworks that use reflection vs. those that don&#39;t you often see reflection being 10-100 times slower - of course that depends on how much reflection is being used.","body":"Yes, reflection is used a lot but if you look at the comparisons of mapper frameworks that use reflection vs. those that don&#39;t you often see reflection being 10-100 times slower - of course that depends on how much reflection is being used."},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1673951167,"post_id":75144072,"comment_id":132606083,"body_markdown":"@Thomas why reflection is a security concern though??","body":"@Thomas why reflection is a security concern though??"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673951370,"post_id":75144072,"comment_id":132606144,"body_markdown":"Result of a quick search - might explain it better than I can: https://stackoverflow.com/questions/3002904/what-is-the-security-risk-of-object-reflection - Also have a look here: https://owasp.org/www-community/vulnerabilities/Unsafe_use_of_Reflection#:~:text=This%20vulnerability%20is%20caused%20by,limited%20form%20of%20code%20injection.","body":"Result of a quick search - might explain it better than I can: <a href=\"https://stackoverflow.com/questions/3002904/what-is-the-security-risk-of-object-reflection\" title=\"what is the security risk of object reflection\">stackoverflow.com/questions/3002904/&hellip;</a> - Also have a look here: <a href=\"https://owasp.org/www-community/vulnerabilities/Unsafe_use_of_Reflection#:~:text=This%20vulnerability%20is%20caused%20by,limited%20form%20of%20code%20injection\" rel=\"nofollow noreferrer\">owasp.org/www-community/vulnerabilities/&hellip;</a>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673963287,"post_id":75144072,"comment_id":132609870,"body_markdown":"There are lots of things wrong here. `field.setAccessible(true)` is unnecessary as youre accessing your own fields. But the fact that you are accessing your own fields contradicts your statement *This object is coming from an external API*. Besides that, `field.getClass().isPrimitive()` does not do what you think it does. Finally, as Ralf Kleberhoff already said, this allows callers to set arbitrary fields to `null` which should already explain why this is a security vulnerability. Besides that, I cant imagine any real world use case for such an operation. It simply makes no sense at all.","body":"There are lots of things wrong here. <code>field.setAccessible(true)</code> is unnecessary as youre accessing your own fields. But the fact that you are accessing your own fields contradicts your statement <i>This object is coming from an external API</i>. Besides that, <code>field.getClass().isPrimitive()</code> does not do what you think it does. Finally, as Ralf Kleberhoff already said, this allows callers to set arbitrary fields to <code>null</code> which should already explain why this is a security vulnerability. Besides that, I cant imagine any real world use case for such an operation. It simply makes no sense at all."}],"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674069823,"creation_date":1673946288,"question_id":75144072,"body_markdown":"While getting my code reviewed by my senior I got a comment to not use Reflection because it is a security vulnerability in companies and also it makes code very slow. Now when I execute it on my IDE then I can&#39;t see the difference because it runs immediately. I searched a lot but I didn&#39;t get any clear explanation anywhere why this is so. \r\n\r\nI had a list of objects containing a lot of fields from which I have to use just a few and the rest needed to stay blank. This object is coming from an external API. We have a spring-boot project.\r\n\r\n\tpublic void setNullExceptGivenFields(List&lt;String&gt; fieldsToExcludeWhileSettingNull) {\r\n\t\ttry {\r\n\t\t\tField[] fields = this.getClass().getDeclaredFields();\r\n\t\t\tfor (Field field : fields) {\r\n\t\t\t\tfield.setAccessible(true);\r\n\t\t\t\tif (!field.getClass().isPrimitive() &amp;&amp; !fieldsToExcludeWhileSettingNull.contains(field.getName())\r\n\t\t\t\t\t\t&amp;&amp; field.get(this) != null) {\r\n\t\t\t\t\tfield.set(this, null);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IllegalArgumentException | IllegalAccessException e) {\r\n\t\t\tLOGGER.info(&quot;Exception occured while setting fields null &quot; + e.getMessage());\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.info(&quot;Unhandled exception occured&quot;);\r\n\t\t}\r\n\t}\r\n\r\nAny help will be appreciated.","title":"Whether or not Reflection should be used","body":"<p>While getting my code reviewed by my senior I got a comment to not use Reflection because it is a security vulnerability in companies and also it makes code very slow. Now when I execute it on my IDE then I can't see the difference because it runs immediately. I searched a lot but I didn't get any clear explanation anywhere why this is so.</p>\n<p>I had a list of objects containing a lot of fields from which I have to use just a few and the rest needed to stay blank. This object is coming from an external API. We have a spring-boot project.</p>\n<pre><code>public void setNullExceptGivenFields(List&lt;String&gt; fieldsToExcludeWhileSettingNull) {\n    try {\n        Field[] fields = this.getClass().getDeclaredFields();\n        for (Field field : fields) {\n            field.setAccessible(true);\n            if (!field.getClass().isPrimitive() &amp;&amp; !fieldsToExcludeWhileSettingNull.contains(field.getName())\n                    &amp;&amp; field.get(this) != null) {\n                field.set(this, null);\n            }\n        }\n    } catch (IllegalArgumentException | IllegalAccessException e) {\n        LOGGER.info(&quot;Exception occured while setting fields null &quot; + e.getMessage());\n    } catch (Exception e) {\n        LOGGER.info(&quot;Unhandled exception occured&quot;);\n    }\n}\n</code></pre>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1674068962,"post_id":75164122,"comment_id":132638568,"body_markdown":"Just remove `@Service` from `XYZ`.","body":"Just remove <code>@Service</code> from <code>XYZ</code>."},{"owner":{"account_id":10230595,"reputation":20,"user_id":7551498,"display_name":"Avinash kumar"},"score":0,"creation_date":1674193889,"post_id":75164122,"comment_id":132665823,"body_markdown":"@Unmitigated, Thanks for the response.  I can not modify XYZ class.","body":"@Unmitigated, Thanks for the response.  I can not modify XYZ class."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1674194509,"post_id":75164122,"comment_id":132665909,"body_markdown":"Why not Autowire `XYZExtended` then?","body":"Why not Autowire <code>XYZExtended</code> then?"},{"owner":{"account_id":10230595,"reputation":20,"user_id":7551498,"display_name":"Avinash kumar"},"score":0,"creation_date":1674195371,"post_id":75164122,"comment_id":132666041,"body_markdown":"@Unmitigated, glitch here is class XYZ and ABC can not be modified as these two are available in jar that is coming from product team.","body":"@Unmitigated, glitch here is class XYZ and ABC can not be modified as these two are available in jar that is coming from product team."},{"owner":{"account_id":10230595,"reputation":20,"user_id":7551498,"display_name":"Avinash kumar"},"score":0,"creation_date":1675448164,"post_id":75164122,"comment_id":132938603,"body_markdown":"Making a component as primary solve the issue... use @Primary","body":"Making a component as primary solve the issue... use @Primary"}],"owner":{"account_id":10230595,"reputation":20,"user_id":7551498,"display_name":"Avinash kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674068817,"creation_date":1674068817,"question_id":75164122,"body_markdown":"I have a service class XYZ.java that is Autowired in some other class ABC.java. I want to extend the service class XYZ and want to override some methods of this class. \r\n\r\nNow, As i can not change ABC.java impl but want that when method of Autowired class is called then \r\ni should call overriden method. How can i do that??\r\n\r\n    @Service\r\n    class XYZ {\r\n        public void m1(){\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    Class ABC{\r\n        @Autowired\r\n        XYZ xyz;\r\n    \r\n        public void m2(){\r\n           xyz.m1();\r\n        }\r\n    }\r\n    \r\n    Here i want to extend XYZ class\r\n    \r\n    @Service\r\n    class XYZExtended extends XYZ{\r\n      @Override\r\n      public void m1(){\r\n      } \r\n    }\r\n\r\nI want that when ABC.m2() is called it should call  XYZExtended.m1() method.\r\n\r\nThanks in advance!!!","title":"Prioritize Autowiring of bean when there are multiple implementations","body":"<p>I have a service class XYZ.java that is Autowired in some other class ABC.java. I want to extend the service class XYZ and want to override some methods of this class.</p>\n<p>Now, As i can not change ABC.java impl but want that when method of Autowired class is called then\ni should call overriden method. How can i do that??</p>\n<pre><code>@Service\nclass XYZ {\n    public void m1(){\n    }\n}\n\n@Service\nClass ABC{\n    @Autowired\n    XYZ xyz;\n\n    public void m2(){\n       xyz.m1();\n    }\n}\n\nHere i want to extend XYZ class\n\n@Service\nclass XYZExtended extends XYZ{\n  @Override\n  public void m1(){\n  } \n}\n</code></pre>\n<p>I want that when ABC.m2() is called it should call  XYZExtended.m1() method.</p>\n<p>Thanks in advance!!!</p>\n"},{"tags":["java","multithreading","completable-future","threadpoolexecutor"],"owner":{"account_id":8887590,"reputation":141,"user_id":6635386,"display_name":"LisekKL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1674068691,"creation_date":1674068691,"question_id":75164104,"body_markdown":"I&#39;m trying to gather specific data on how long a task waits between being submitted and actually being executed. The idea is to be able to closely monitor the existing threadpool and tasks that are submitted for execution.\r\n\r\nLet&#39;s assume I have an `ExecutorService` with a `fixedThreadPool`.\r\n\r\nI&#39;m also using a composition of completableFutures to perform a set of tasks asynchronously. \r\nI&#39;d like to be able to track within my logs the exact time a certain task had to wait in the queue before being taken for execution. \r\nThe way I see it I need two things:\r\n 1. A way to label `CompletableFuture` (or the `Supplier` functions passed to `CompletableFuture.supplyAsync()`)&lt;br&gt;\r\nThis I could potentially do by providing a wrapper method for the Supplier as mentioned here https://stackoverflow.com/a/57888886 and overwrite the `CompletableFuture.supplyAsync()` method so it will internally log which named supplier was provided\r\n 2. A way to monitor the time between the submission and execution of a specific Runnable to the threadpool executor.&lt;br&gt;\r\nThis I can achieve by extending the `ThreadPoolExecutor`and providing some custom logging in the `beforeExecute()` and `execute()` method \r\n\r\nWhat I&#39;m kind of &#39;stuck&#39; on now is linking both of them together. The `beforeExecute()` method override gives me the thread and the runnable - but the thread in itself doesn&#39;t tell me much yet, and the runnable isn&#39;t named in any way so I can&#39;t really know which exact task is taken for execution. Of course I can add additional logs in the task implementations themselves and then assume that they will be right next to the log from `beforeExecute()`. The problem still remains for `execute()` itself, since that one is called internally after using the `CompletableFuture` composition.\r\n\r\nSo how can I properly link the information from the executor service, with some labelling of the exact tasks provided as CompletableFutures as in the example below?\r\n\r\n```\r\nList&lt;Foo&gt; results = createResults();\r\nresults.forEach(r -&gt; CompletableFuture.completedFuture(r)\r\n  .thenCompose(result -&gt; addSomething(result, something)\r\n  .thenCombine(addSomethingElse(result, somethingElse), (r1, r2) -&gt; result)\r\n  .thenCompose(r -&gt; doSomething(result).thenCompose(this::setSomething))\r\n  .thenApply(v -&gt; result))));\r\n\r\n...\r\n\r\n// At some point join() is called to actually wait for execution and completion\r\nlistOfFutures.join()\r\n\r\n```\r\nAnd each of the functions called within return a `CompletableFuture&lt;Foo&gt;` created by:\r\n```\r\n    private CompletableFuture&lt;Foo&gt; setSomething(Foo foo) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            foo.description = &quot;Setting something&quot;;\r\n            return foo;\r\n        }, myExecutorService);\r\n    }\r\n```\r\n\r\nSo even by wrapping the `Supplier&lt;T&gt;` to have it labeled, how am I able to link this with the tracking within the `execute()` and `beforeExecute()` method of the `ThreadPoolExecutor` when that one operates on Runnables instead of Suppliers?","title":"How can we monitor the exact idle time between submitting a task as CompletableFuture for execution and actually running it?","body":"<p>I'm trying to gather specific data on how long a task waits between being submitted and actually being executed. The idea is to be able to closely monitor the existing threadpool and tasks that are submitted for execution.</p>\n<p>Let's assume I have an <code>ExecutorService</code> with a <code>fixedThreadPool</code>.</p>\n<p>I'm also using a composition of completableFutures to perform a set of tasks asynchronously.\nI'd like to be able to track within my logs the exact time a certain task had to wait in the queue before being taken for execution.\nThe way I see it I need two things:</p>\n<ol>\n<li>A way to label <code>CompletableFuture</code> (or the <code>Supplier</code> functions passed to <code>CompletableFuture.supplyAsync()</code>)<br>\nThis I could potentially do by providing a wrapper method for the Supplier as mentioned here <a href=\"https://stackoverflow.com/a/57888886\">https://stackoverflow.com/a/57888886</a> and overwrite the <code>CompletableFuture.supplyAsync()</code> method so it will internally log which named supplier was provided</li>\n<li>A way to monitor the time between the submission and execution of a specific Runnable to the threadpool executor.<br>\nThis I can achieve by extending the <code>ThreadPoolExecutor</code>and providing some custom logging in the <code>beforeExecute()</code> and <code>execute()</code> method</li>\n</ol>\n<p>What I'm kind of 'stuck' on now is linking both of them together. The <code>beforeExecute()</code> method override gives me the thread and the runnable - but the thread in itself doesn't tell me much yet, and the runnable isn't named in any way so I can't really know which exact task is taken for execution. Of course I can add additional logs in the task implementations themselves and then assume that they will be right next to the log from <code>beforeExecute()</code>. The problem still remains for <code>execute()</code> itself, since that one is called internally after using the <code>CompletableFuture</code> composition.</p>\n<p>So how can I properly link the information from the executor service, with some labelling of the exact tasks provided as CompletableFutures as in the example below?</p>\n<pre><code>List&lt;Foo&gt; results = createResults();\nresults.forEach(r -&gt; CompletableFuture.completedFuture(r)\n  .thenCompose(result -&gt; addSomething(result, something)\n  .thenCombine(addSomethingElse(result, somethingElse), (r1, r2) -&gt; result)\n  .thenCompose(r -&gt; doSomething(result).thenCompose(this::setSomething))\n  .thenApply(v -&gt; result))));\n\n...\n\n// At some point join() is called to actually wait for execution and completion\nlistOfFutures.join()\n\n</code></pre>\n<p>And each of the functions called within return a <code>CompletableFuture&lt;Foo&gt;</code> created by:</p>\n<pre><code>    private CompletableFuture&lt;Foo&gt; setSomething(Foo foo) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            foo.description = &quot;Setting something&quot;;\n            return foo;\n        }, myExecutorService);\n    }\n</code></pre>\n<p>So even by wrapping the <code>Supplier&lt;T&gt;</code> to have it labeled, how am I able to link this with the tracking within the <code>execute()</code> and <code>beforeExecute()</code> method of the <code>ThreadPoolExecutor</code> when that one operates on Runnables instead of Suppliers?</p>\n"},{"tags":["java","json","serialization","hashmap","gson"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646744879,"post_id":71395518,"comment_id":126195418,"body_markdown":"What is that hashmap? It is not a valid Java code.","body":"What is that hashmap? It is not a valid Java code."},{"owner":{"account_id":18247098,"reputation":601,"user_id":13282963,"display_name":"Ciro Garc&#237;a"},"score":0,"creation_date":1646745561,"post_id":71395518,"comment_id":126195697,"body_markdown":"It&#39;s what would show up if you printed it to the console. I&#39;ll add the way I store data to the question","body":"It&#39;s what would show up if you printed it to the console. I&#39;ll add the way I store data to the question"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1646757756,"post_id":71395518,"comment_id":126200702,"body_markdown":"Why are you trying to find an _easy_ way for a thing that is not supported by JSON? You have two ways to work around: 1) convert the input map to `Map&lt;String, Integer&gt;` where latter&#39;s keys are fully controlled by you (no matter how you encode/decode `GeneKey`), but this will generate as small JSON as possible; 2) make use of `enableComplexMapKeySerialization` that can work around it itself, but I don&#39;t think you&#39;ll be very happy with the way it generates the JSON (`[[{&quot;a&quot;:0,&quot;b&quot;:3},4],[{&quot;a&quot;:1,&quot;b&quot;:4},5]]` for your case).","body":"Why are you trying to find an <i>easy</i> way for a thing that is not supported by JSON? You have two ways to work around: 1) convert the input map to <code>Map&lt;String, Integer&gt;</code> where latter&#39;s keys are fully controlled by you (no matter how you encode/decode <code>GeneKey</code>), but this will generate as small JSON as possible; 2) make use of <code>enableComplexMapKeySerialization</code> that can work around it itself, but I don&#39;t think you&#39;ll be very happy with the way it generates the JSON (<code>[[{&quot;a&quot;:0,&quot;b&quot;:3},4],[{&quot;a&quot;:1,&quot;b&quot;:4},5]]</code> for your case)."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1646784767,"post_id":71395518,"comment_id":126208688,"body_markdown":"Third option: Override `toString()` in `GeneKey` to return your desired format. @user12232870, why not post your comment as answer because that seems to be the proper solution?","body":"Third option: Override <code>toString()</code> in <code>GeneKey</code> to return your desired format. @user12232870, why not post your comment as answer because that seems to be the proper solution?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1646804470,"post_id":71395518,"comment_id":126211821,"body_markdown":"@Marcono1234 Pretty much because my suggestion is just an option, as well as yours is, and it&#39;s too trivial for an extended answer (I omitted a note on proper use of generics, though). Also if the core of the problem were properly defined and then googled for say `gson maps custom objects and keys site:stackoverflow.com`, it would save both OP&#39;s and our time, because this one is another duplicate for e.g. https://stackoverflow.com/questions/21209240/ . I guess it sounds pretty reasonable.","body":"@Marcono1234 Pretty much because my suggestion is just an option, as well as yours is, and it&#39;s too trivial for an extended answer (I omitted a note on proper use of generics, though). Also if the core of the problem were properly defined and then googled for say <code>gson maps custom objects and keys site:stackoverflow.com</code>, it would save both OP&#39;s and our time, because this one is another duplicate for e.g. <a href=\"https://stackoverflow.com/questions/21209240/\">stackoverflow.com/questions/21209240</a> . I guess it sounds pretty reasonable."}],"answers":[{"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1646749750,"post_id":71396529,"comment_id":126197403,"body_markdown":"This is because you are overridden toString() method. hashCode and equals methods do not make sense there.","body":"This is because you are overridden toString() method. hashCode and equals methods do not make sense there."},{"owner":{"account_id":15781967,"reputation":158,"user_id":11388040,"display_name":"Namrata Kumari"},"score":1,"creation_date":1646766709,"post_id":71396529,"comment_id":126203917,"body_markdown":"@Eugene Hi, I agree. overriding hashCode() and equals() didn&#39;t solve the issue here, but these are necessary when we use a user defined Java object as a key to a Map. Also, I am not sure what is the purpose of serialization here. I assume it is only for representational purpose. If not, and later, the JSON String needs to be deserialized too, then we need to implement a deserialization logic as well.","body":"@Eugene Hi, I agree. overriding hashCode() and equals() didn&#39;t solve the issue here, but these are necessary when we use a user defined Java object as a key to a Map. Also, I am not sure what is the purpose of serialization here. I assume it is only for representational purpose. If not, and later, the JSON String needs to be deserialized too, then we need to implement a deserialization logic as well."}],"tags":[],"owner":{"account_id":15781967,"reputation":158,"user_id":11388040,"display_name":"Namrata Kumari"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647235131,"creation_date":1646749175,"answer_id":71396529,"question_id":71395518,"body_markdown":"It would be helpful if you could give the JSON string which you got after serializing using Gson.\r\n\r\nHowever, please check the following code if this solves your issue. \r\n\r\nDefine GenKey class with overriden hashCode and equals methods as:\r\n\r\n    public class GeneKey {\r\n    \tprivate int a;\r\n    \tprivate int b;\r\n    \t\r\n    \tpublic GeneKey(int a, int b) {\r\n    \t\tthis.a = a;\r\n    \t\tthis.b = b;\r\n    \t}\r\n    \t\r\n    \tpublic int getA() {\r\n    \t\treturn a;\r\n    \t}\r\n    \tpublic void setA(int a) {\r\n    \t\tthis.a = a;\r\n    \t}\r\n    \tpublic int getB() {\r\n    \t\treturn b;\r\n    \t}\r\n    \tpublic void setB(int b) {\r\n    \t\tthis.b = b;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + a;\r\n    \t\tresult = prime * result + b;\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tGeneKey other = (GeneKey) obj;\r\n    \t\tif (a != other.a)\r\n    \t\t\treturn false;\r\n    \t\tif (b != other.b)\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\t//return &quot;GeneKey [a=&quot; + a + &quot;, b=&quot; + b + &quot;]&quot;;\r\n            // Updated for deserialization using Gson\r\n            Gson gson = new \r\n            GsonBuilder().serializeNulls().disableHtmlEscaping().create();\r\n\t\t    return gson.toJson(this);\r\n    \t}\r\n    }\r\n\r\nNow try to convert the HashMap with GenKey as key into JSON String using Gson :\r\n\r\n    HashMap&lt;GeneKey, Integer&gt; existingNodes = new HashMap&lt;&gt;();\r\n    \r\n    existingNodes.put(new GeneKey(0, 3), 4);\r\n    existingNodes.put(new GeneKey(1, 4), 5);\r\n    \t\t\r\n    Gson gson = new \r\n    GsonBuilder().serializeNulls().disableHtmlEscaping().create();\r\n    \t\t\r\n    System.out.println(gson.toJson(existingNodes));\r\n\r\nThis is the output which I received in my console:\r\n\r\n     {&quot;{\\&quot;a\\&quot;:0,\\&quot;b\\&quot;:3}&quot;:4,&quot;{\\&quot;a\\&quot;:1,\\&quot;b\\&quot;:4}&quot;:5}\r\n\r\n**Updating the answer to add deserialization logic if required:**\r\n\r\n    //Say, we pass the serialized JSON as a payload to some REST API. We can deserialize the Key of the response as follows - \r\n    \r\n    @PostMapping(&quot;/getJson&quot;)\r\n    public Map&lt;GeneKey, Integer&gt; getJson(@RequestBody Map&lt;String, Integer&gt; response) {\r\n    \t\t\r\n      final Gson gson = new Gson();\r\n      Map&lt;GeneKey, Integer&gt; deserializedMap = new HashMap&lt;GeneKey, \r\n            Integer&gt;();\r\n    \t\t\r\n      response.keySet().forEach( k -&gt; {\r\n      GeneKey key = gson.fromJson(k, GeneKey.class);\r\n      deserializedMap.put(key, response.get(k));\r\n    \t\t});\r\n    \r\n      System.out.println(deserializedMap);\r\n      return deserializedMap;\r\n    }\r\n\r\n","title":"Serialize HashMap with object keys with Gson","body":"<p>It would be helpful if you could give the JSON string which you got after serializing using Gson.</p>\n<p>However, please check the following code if this solves your issue.</p>\n<p>Define GenKey class with overriden hashCode and equals methods as:</p>\n<pre><code>public class GeneKey {\n    private int a;\n    private int b;\n    \n    public GeneKey(int a, int b) {\n        this.a = a;\n        this.b = b;\n    }\n    \n    public int getA() {\n        return a;\n    }\n    public void setA(int a) {\n        this.a = a;\n    }\n    public int getB() {\n        return b;\n    }\n    public void setB(int b) {\n        this.b = b;\n    }\n    \n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + a;\n        result = prime * result + b;\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        GeneKey other = (GeneKey) obj;\n        if (a != other.a)\n            return false;\n        if (b != other.b)\n            return false;\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        //return &quot;GeneKey [a=&quot; + a + &quot;, b=&quot; + b + &quot;]&quot;;\n        // Updated for deserialization using Gson\n        Gson gson = new \n        GsonBuilder().serializeNulls().disableHtmlEscaping().create();\n        return gson.toJson(this);\n    }\n}\n</code></pre>\n<p>Now try to convert the HashMap with GenKey as key into JSON String using Gson :</p>\n<pre><code>HashMap&lt;GeneKey, Integer&gt; existingNodes = new HashMap&lt;&gt;();\n\nexistingNodes.put(new GeneKey(0, 3), 4);\nexistingNodes.put(new GeneKey(1, 4), 5);\n        \nGson gson = new \nGsonBuilder().serializeNulls().disableHtmlEscaping().create();\n        \nSystem.out.println(gson.toJson(existingNodes));\n</code></pre>\n<p>This is the output which I received in my console:</p>\n<pre><code> {&quot;{\\&quot;a\\&quot;:0,\\&quot;b\\&quot;:3}&quot;:4,&quot;{\\&quot;a\\&quot;:1,\\&quot;b\\&quot;:4}&quot;:5}\n</code></pre>\n<p><strong>Updating the answer to add deserialization logic if required:</strong></p>\n<pre><code>//Say, we pass the serialized JSON as a payload to some REST API. We can deserialize the Key of the response as follows - \n\n@PostMapping(&quot;/getJson&quot;)\npublic Map&lt;GeneKey, Integer&gt; getJson(@RequestBody Map&lt;String, Integer&gt; response) {\n        \n  final Gson gson = new Gson();\n  Map&lt;GeneKey, Integer&gt; deserializedMap = new HashMap&lt;GeneKey, \n        Integer&gt;();\n        \n  response.keySet().forEach( k -&gt; {\n  GeneKey key = gson.fromJson(k, GeneKey.class);\n  deserializedMap.put(key, response.get(k));\n        });\n\n  System.out.println(deserializedMap);\n  return deserializedMap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11856626,"reputation":124,"user_id":8676474,"display_name":"dQw4w9WyXcQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674068600,"creation_date":1674068600,"answer_id":75164083,"question_id":71395518,"body_markdown":"     GsonBuilder#enableComplexMapKeySerialization\r\nHowever, now the map is represented by an array of array of entries.\r\n\r\nsee https://stackoverflow.com/questions/14675374/gson-serializing-hashmapteacher-liststudent","title":"Serialize HashMap with object keys with Gson","body":"<pre><code> GsonBuilder#enableComplexMapKeySerialization\n</code></pre>\n<p>However, now the map is represented by an array of array of entries.</p>\n<p>see <a href=\"https://stackoverflow.com/questions/14675374/gson-serializing-hashmapteacher-liststudent\">Gson Serializing HashMap&lt;Teacher, List&lt;Student&gt;&gt;</a></p>\n"}],"owner":{"account_id":18247098,"reputation":601,"user_id":13282963,"display_name":"Ciro Garc&#237;a"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71396529,"answer_count":2,"score":0,"last_activity_date":1674068600,"creation_date":1646744484,"question_id":71395518,"body_markdown":"I am writing some code to serialize a neural network system I have developed. This system has a &quot;database&quot; that keeps track of the evolution of the neural networks, and it does so by storing the ID of each gene in a HashMap with a GeneKey, which is a record containing the ID of the gene before and the ID of the gene after the gene we&#39;re storing.\r\n\r\nA HashMap with some data looks like this:\r\n```java\r\nexistingNodes = {\r\n    GeneKey[a=0, b=3] = 4,\r\n    GeneKey[a=1, b=4] = 5\r\n}\r\n```\r\n\r\nEverything in the system serializes fine, except this HashMap, because Json can only have numbers and strings as its keys, and in my HashMap I&#39;m using objects for the keys. Is there an easy way to serialize this to json using Gson?\r\n\r\n\r\nEdit: This is how the HashMap is constructed:\r\n\r\n```java\r\nHashMap&lt;GeneKey, Integer&gt; existingNodes = new HashMap&lt;&gt;();\r\n\r\nexistingNodes.put(new GeneKey(0, 3), 4);\r\nexistingNodes.put(new GeneKey(1, 4), 5);\r\n\r\nSystem.out.println(&quot;existingNodes = &quot;+registry); \r\n//existingNodes = {\r\n//    GeneKey[a=0, b=3] = 4,\r\n//    GeneKey[a=1, b=4] = 5\r\n//}\r\n```\r\n\r\nThis is the GeneKey class:\r\n```java\r\npublic record GeneKey(int a, int b) {}\r\n```","title":"Serialize HashMap with object keys with Gson","body":"<p>I am writing some code to serialize a neural network system I have developed. This system has a &quot;database&quot; that keeps track of the evolution of the neural networks, and it does so by storing the ID of each gene in a HashMap with a GeneKey, which is a record containing the ID of the gene before and the ID of the gene after the gene we're storing.</p>\n<p>A HashMap with some data looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>existingNodes = {\n    GeneKey[a=0, b=3] = 4,\n    GeneKey[a=1, b=4] = 5\n}\n</code></pre>\n<p>Everything in the system serializes fine, except this HashMap, because Json can only have numbers and strings as its keys, and in my HashMap I'm using objects for the keys. Is there an easy way to serialize this to json using Gson?</p>\n<p>Edit: This is how the HashMap is constructed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;GeneKey, Integer&gt; existingNodes = new HashMap&lt;&gt;();\n\nexistingNodes.put(new GeneKey(0, 3), 4);\nexistingNodes.put(new GeneKey(1, 4), 5);\n\nSystem.out.println(&quot;existingNodes = &quot;+registry); \n//existingNodes = {\n//    GeneKey[a=0, b=3] = 4,\n//    GeneKey[a=1, b=4] = 5\n//}\n</code></pre>\n<p>This is the GeneKey class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record GeneKey(int a, int b) {}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":20856261,"reputation":11,"user_id":15319508,"display_name":"synergi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673937274,"creation_date":1673937274,"answer_id":75142716,"question_id":75141721,"body_markdown":"Since this class doesn&#39;t extends/implements to any. There is no way to override this method ```void configure(AuthenticationManagerBuilder auth)``` \r\n\r\nYou can create that configure method without any annotation but make sure \r\nclass gets this import\r\n```\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n\r\n```\r\n\r\n```\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(passwordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n\r\n\r\n public void configure( AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider( daoAuthenticationProvider());\r\n    }\r\n```\r\n","title":"Using latest Spring Security with an older tutorial not sure how to correctly override configure method","body":"<p>Since this class doesn't extends/implements to any. There is no way to override this method <code>void configure(AuthenticationManagerBuilder auth)</code></p>\n<p>You can create that configure method without any annotation but make sure\nclass gets this import</p>\n<pre><code>import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\n\n</code></pre>\n<pre><code>    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n\n\n public void configure( AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider( daoAuthenticationProvider());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"score":0,"creation_date":1674008218,"post_id":75152230,"comment_id":132621909,"body_markdown":"Yes, I can indeed confirm it works without any additional code the way I had above, I tried looking into the AuthenticationManagerBuilder class, as well as, the DaoAuthenticationProvider, but wasn&#39;t entirely sure as to why. I understand the annotation @Bean tells Spring to pick it up and configure, but I am not entirely aware of exactly what&#39;s being configured for it to work.","body":"Yes, I can indeed confirm it works without any additional code the way I had above, I tried looking into the AuthenticationManagerBuilder class, as well as, the DaoAuthenticationProvider, but wasn&#39;t entirely sure as to why. I understand the annotation @Bean tells Spring to pick it up and configure, but I am not entirely aware of exactly what&#39;s being configured for it to work."},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":1,"creation_date":1674066288,"post_id":75152230,"comment_id":132637742,"body_markdown":"Spring Security processes precedence like this: DSL is first priority, then beans. The reason for this is you might have more than one WebSecurityConfigurerAdapter or in this case SecurityFilterChain. When you set it on AuthenticationManagerBuilder it is  essentially saying &quot;only for this filter chain&quot;. When you set it as a bean you are saying &quot;for all filter chains in my app&quot;. Since you only have one filter chain, it doesn&#39;t make a difference.","body":"Spring Security processes precedence like this: DSL is first priority, then beans. The reason for this is you might have more than one WebSecurityConfigurerAdapter or in this case SecurityFilterChain. When you set it on AuthenticationManagerBuilder it is  essentially saying &quot;only for this filter chain&quot;. When you set it as a bean you are saying &quot;for all filter chains in my app&quot;. Since you only have one filter chain, it doesn&#39;t make a difference."}],"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674068355,"creation_date":1673989751,"answer_id":75152230,"question_id":75141721,"body_markdown":"Spring Security picks up `AuthenticationProvider` `@Bean`s by default, so no additional code should be necessary. If that&#39;s not working, consider posting a GitHub minimal sample to clarify.\r\n\r\nOr, you can publish your own `AuthenticationManager` like so:\r\n\r\n```java\r\n@Bean\r\nAuthenticationManager authenticationManager(...) {\r\n    DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n    provider.setPasswordEncoder(passwordEncoder);\r\n    provider.setUserDetailsService(applicationUserService);\r\n    return new ProviderManager(provider);\r\n}\r\n```\r\n\r\nThe reason that the code can be removed is because of how Spring Security deals with precedence. The `HttpSecurity` and `AuthenticationManagerBuilder` DSLs ask &quot;which `AuthenticationProvider` is closest to me?&quot; If one was specified on the DSL, it takes that; otherwise, it looks for a bean. \r\n\r\nIn this way, declaring a bean is a way to specify a default value for all `HttpSecurity` instances in your app.\r\n\r\nSince your app only has one `HttpSecurity`, there is no material difference between supplying the `AuthenticationProvider` on the DSL or publishing a `@Bean`.","title":"Using latest Spring Security with an older tutorial not sure how to correctly override configure method","body":"<p>Spring Security picks up <code>AuthenticationProvider</code> <code>@Bean</code>s by default, so no additional code should be necessary. If that's not working, consider posting a GitHub minimal sample to clarify.</p>\n<p>Or, you can publish your own <code>AuthenticationManager</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nAuthenticationManager authenticationManager(...) {\n    DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n    provider.setPasswordEncoder(passwordEncoder);\n    provider.setUserDetailsService(applicationUserService);\n    return new ProviderManager(provider);\n}\n</code></pre>\n<p>The reason that the code can be removed is because of how Spring Security deals with precedence. The <code>HttpSecurity</code> and <code>AuthenticationManagerBuilder</code> DSLs ask &quot;which <code>AuthenticationProvider</code> is closest to me?&quot; If one was specified on the DSL, it takes that; otherwise, it looks for a bean.</p>\n<p>In this way, declaring a bean is a way to specify a default value for all <code>HttpSecurity</code> instances in your app.</p>\n<p>Since your app only has one <code>HttpSecurity</code>, there is no material difference between supplying the <code>AuthenticationProvider</code> on the DSL or publishing a <code>@Bean</code>.</p>\n"}],"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75152230,"answer_count":2,"score":2,"last_activity_date":1674068355,"creation_date":1673926034,"question_id":75141721,"body_markdown":"I am following the linked tutorial on spring security and I am not sure how to proceed with the configure method.  https://youtube.com/watch?v=her_7pa0vrg&amp;feature=shares&amp;t=12491\r\n\r\nThe tutorial&#39;s repo has the code below:\r\n\r\n```\r\npackage com.example.demo.security;\r\n\r\nimport com.example.demo.auth.ApplicationUserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport static com.example.demo.security.ApplicationUserRole.*;\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final ApplicationUserService applicationUserService;\r\n\r\n    @Autowired\r\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder,\r\n                                     ApplicationUserService applicationUserService) {\r\n        this.passwordEncoder = passwordEncoder;\r\n        this.applicationUserService = applicationUserService;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n                .antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .permitAll()\r\n                    .defaultSuccessUrl(&quot;/courses&quot;, true)\r\n                    .passwordParameter(&quot;password&quot;)\r\n                    .usernameParameter(&quot;username&quot;)\r\n                .and()\r\n                .rememberMe()\r\n                    .tokenValiditySeconds((int) TimeUnit.DAYS.toSeconds(21))\r\n                    .key(&quot;somethingverysecured&quot;)\r\n                    .rememberMeParameter(&quot;remember-me&quot;)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;)) // https://docs.spring.io/spring-security/site/docs/4.2.12.RELEASE/apidocs/org/springframework/security/config/annotation/web/configurers/LogoutConfigurer.html\r\n                    .clearAuthentication(true)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(daoAuthenticationProvider());\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(passwordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n\r\n}\r\n```\r\nI am having trouble with this method: \r\n```\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(daoAuthenticationProvider());\r\n    }\r\n```\r\n\r\nAs the new way of doing things in Spring Security are per the reference page https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n\r\nMy code looks like the below following the new conventions:\r\n\r\n```\r\npackage com.quadri.springsecurity.security;\r\n\r\nimport static com.quadri.springsecurity.security.ApplicationUserRole.STUDENT;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport com.quadri.springsecurity.auth.ApplicationUserService;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(prePostEnabled = true)\r\npublic class ApplicationSecurityConfig {\r\n\r\n    private PasswordEncoder passwordEncoder;\r\n    private ApplicationUserService applicationUserService;\r\n\r\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder, ApplicationUserService applicationUserService) {\r\n        this.passwordEncoder = passwordEncoder;\r\n        this.applicationUserService = applicationUserService;\r\n    }\r\n\r\n\r\n    \r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n        .csrf().disable()\r\n        .authorizeHttpRequests()\r\n        .requestMatchers( &quot;resources/**&quot;, &quot;/&quot;, &quot;/index.html&quot;).permitAll()\r\n        .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n        .anyRequest()\r\n        .authenticated()\r\n        .and()\r\n        .formLogin()\r\n            .loginPage(&quot;/login&quot;).permitAll()\r\n            .defaultSuccessUrl(&quot;/courses&quot;, true)\r\n            .passwordParameter(&quot;password&quot;)\r\n            .usernameParameter(&quot;username&quot;)\r\n        .and()\r\n        .rememberMe()\r\n            .tokenValiditySeconds((int)TimeUnit.DAYS.toSeconds(21))\r\n            .key(&quot;somethingverysecured&quot;)\r\n            .rememberMeParameter(&quot;remember-me&quot;)\r\n        .and()\r\n        .logout()\r\n        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\r\n        .clearAuthentication(true)\r\n        .invalidateHttpSession(true)\r\n        .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;)\r\n        .logoutSuccessUrl(&quot;/login&quot;)\r\n        ;\r\n        return http.build();\r\n    }\r\n\r\n    //configure method I need to implement\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(passwordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n\r\n    \r\n  \r\n}\r\n```\r\n\r\nMy users will be coming from this FakeApplicationUserDaoService:\r\n```\r\npackage com.quadri.springsecurity.auth;\r\n\r\nimport static com.quadri.springsecurity.security.ApplicationUserRole.ADMIN;\r\nimport static com.quadri.springsecurity.security.ApplicationUserRole.ADMINTRAINEE;\r\nimport static com.quadri.springsecurity.security.ApplicationUserRole.STUDENT;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.google.common.collect.Lists;\r\n\r\n@Repository(&quot;fake&quot;)\r\npublic class FakeApplicationUserDaoService implements ApplicationUserDao {\r\n\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public FakeApplicationUserDaoService(PasswordEncoder passwordEncoder) {\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;ApplicationUser&gt; selectApplicationUserByUsername(String username) {\r\n        return getApplicationUsers()\r\n                .stream()\r\n                .filter(applicationUser -&gt; username.equals(applicationUser.getUsername()))\r\n                .findFirst();\r\n    }\r\n\r\n    private List&lt;ApplicationUser&gt; getApplicationUsers() {\r\n        return Lists.newArrayList\r\n        (\r\n            new ApplicationUser(\r\n                &quot;annasmith&quot;, \r\n                passwordEncoder.encode(&quot;password1&quot;), \r\n                STUDENT.getGrantedAuthorities(), \r\n                true, \r\n                true, \r\n                true, \r\n                true\r\n            ),\r\n            \r\n            new ApplicationUser(\r\n                &quot;linda&quot;, \r\n                passwordEncoder.encode(&quot;password123&quot;), \r\n                ADMIN.getGrantedAuthorities(), \r\n                true, \r\n                true, \r\n                true, \r\n                true\r\n            ),\r\n            \r\n            new ApplicationUser(\r\n                &quot;tom&quot;, \r\n                passwordEncoder.encode(&quot;password123&quot;), \r\n                ADMINTRAINEE.getGrantedAuthorities(), \r\n                true, \r\n                true, \r\n                true, \r\n                true\r\n            )\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nHow do I implement the older convention method in my application using the newer style?","title":"Using latest Spring Security with an older tutorial not sure how to correctly override configure method","body":"<p>I am following the linked tutorial on spring security and I am not sure how to proceed with the configure method.  <a href=\"https://youtube.com/watch?v=her_7pa0vrg&amp;feature=shares&amp;t=12491\" rel=\"nofollow noreferrer\">https://youtube.com/watch?v=her_7pa0vrg&amp;feature=shares&amp;t=12491</a></p>\n<p>The tutorial's repo has the code below:</p>\n<pre><code>package com.example.demo.security;\n\nimport com.example.demo.auth.ApplicationUserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport java.util.concurrent.TimeUnit;\n\nimport static com.example.demo.security.ApplicationUserRole.*;\n\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final PasswordEncoder passwordEncoder;\n    private final ApplicationUserService applicationUserService;\n\n    @Autowired\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder,\n                                     ApplicationUserService applicationUserService) {\n        this.passwordEncoder = passwordEncoder;\n        this.applicationUserService = applicationUserService;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n                .antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .permitAll()\n                    .defaultSuccessUrl(&quot;/courses&quot;, true)\n                    .passwordParameter(&quot;password&quot;)\n                    .usernameParameter(&quot;username&quot;)\n                .and()\n                .rememberMe()\n                    .tokenValiditySeconds((int) TimeUnit.DAYS.toSeconds(21))\n                    .key(&quot;somethingverysecured&quot;)\n                    .rememberMeParameter(&quot;remember-me&quot;)\n                .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;)) // https://docs.spring.io/spring-security/site/docs/4.2.12.RELEASE/apidocs/org/springframework/security/config/annotation/web/configurers/LogoutConfigurer.html\n                    .clearAuthentication(true)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;)\n                    .logoutSuccessUrl(&quot;/login&quot;);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n\n}\n</code></pre>\n<p>I am having trouble with this method:</p>\n<pre><code>    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n</code></pre>\n<p>As the new way of doing things in Spring Security are per the reference page <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a></p>\n<p>My code looks like the below following the new conventions:</p>\n<pre><code>package com.quadri.springsecurity.security;\n\nimport static com.quadri.springsecurity.security.ApplicationUserRole.STUDENT;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.quadri.springsecurity.auth.ApplicationUserService;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(prePostEnabled = true)\npublic class ApplicationSecurityConfig {\n\n    private PasswordEncoder passwordEncoder;\n    private ApplicationUserService applicationUserService;\n\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder, ApplicationUserService applicationUserService) {\n        this.passwordEncoder = passwordEncoder;\n        this.applicationUserService = applicationUserService;\n    }\n\n\n    \n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n        .csrf().disable()\n        .authorizeHttpRequests()\n        .requestMatchers( &quot;resources/**&quot;, &quot;/&quot;, &quot;/index.html&quot;).permitAll()\n        .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n        .anyRequest()\n        .authenticated()\n        .and()\n        .formLogin()\n            .loginPage(&quot;/login&quot;).permitAll()\n            .defaultSuccessUrl(&quot;/courses&quot;, true)\n            .passwordParameter(&quot;password&quot;)\n            .usernameParameter(&quot;username&quot;)\n        .and()\n        .rememberMe()\n            .tokenValiditySeconds((int)TimeUnit.DAYS.toSeconds(21))\n            .key(&quot;somethingverysecured&quot;)\n            .rememberMeParameter(&quot;remember-me&quot;)\n        .and()\n        .logout()\n        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\n        .clearAuthentication(true)\n        .invalidateHttpSession(true)\n        .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;)\n        .logoutSuccessUrl(&quot;/login&quot;)\n        ;\n        return http.build();\n    }\n\n    //configure method I need to implement\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n\n    \n  \n}\n</code></pre>\n<p>My users will be coming from this FakeApplicationUserDaoService:</p>\n<pre><code>package com.quadri.springsecurity.auth;\n\nimport static com.quadri.springsecurity.security.ApplicationUserRole.ADMIN;\nimport static com.quadri.springsecurity.security.ApplicationUserRole.ADMINTRAINEE;\nimport static com.quadri.springsecurity.security.ApplicationUserRole.STUDENT;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Repository;\n\nimport com.google.common.collect.Lists;\n\n@Repository(&quot;fake&quot;)\npublic class FakeApplicationUserDaoService implements ApplicationUserDao {\n\n    private final PasswordEncoder passwordEncoder;\n\n    public FakeApplicationUserDaoService(PasswordEncoder passwordEncoder) {\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    @Override\n    public Optional&lt;ApplicationUser&gt; selectApplicationUserByUsername(String username) {\n        return getApplicationUsers()\n                .stream()\n                .filter(applicationUser -&gt; username.equals(applicationUser.getUsername()))\n                .findFirst();\n    }\n\n    private List&lt;ApplicationUser&gt; getApplicationUsers() {\n        return Lists.newArrayList\n        (\n            new ApplicationUser(\n                &quot;annasmith&quot;, \n                passwordEncoder.encode(&quot;password1&quot;), \n                STUDENT.getGrantedAuthorities(), \n                true, \n                true, \n                true, \n                true\n            ),\n            \n            new ApplicationUser(\n                &quot;linda&quot;, \n                passwordEncoder.encode(&quot;password123&quot;), \n                ADMIN.getGrantedAuthorities(), \n                true, \n                true, \n                true, \n                true\n            ),\n            \n            new ApplicationUser(\n                &quot;tom&quot;, \n                passwordEncoder.encode(&quot;password123&quot;), \n                ADMINTRAINEE.getGrantedAuthorities(), \n                true, \n                true, \n                true, \n                true\n            )\n        );\n    }\n}\n</code></pre>\n<p>How do I implement the older convention method in my application using the newer style?</p>\n"},{"tags":["java","xml","xsd","jaxb","xerces"],"answers":[{"comments":[{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1674086673,"post_id":75164049,"comment_id":132642771,"body_markdown":"Thanks, Michael, for your high-profile answer, much appreciated. You&#39;re right, I am using an InputStream in this case and of course there&#39;s no way for xerces to resolve it to the correct absolute path in this case. Instead, my goal is that it stays unchanged (and therefore meaningless to Xerces) because I know how to resolve it in my EntityResolver2 to the correct absolute path. So I am searching a way that my EntityResolver2 gets the relative, original systemId from the xml (in the above example: &quot;xsd/book.xsd&quot;). I did some research in the Xerces code but have not been successful so far.","body":"Thanks, Michael, for your high-profile answer, much appreciated. You&#39;re right, I am using an InputStream in this case and of course there&#39;s no way for xerces to resolve it to the correct absolute path in this case. Instead, my goal is that it stays unchanged (and therefore meaningless to Xerces) because I know how to resolve it in my EntityResolver2 to the correct absolute path. So I am searching a way that my EntityResolver2 gets the relative, original systemId from the xml (in the above example: &quot;xsd/book.xsd&quot;). I did some research in the Xerces code but have not been successful so far."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1674122955,"post_id":75164049,"comment_id":132649103,"body_markdown":"Try setting a dummy base URI (such as `http://dummy/`) that your EntityResolver recognizes.","body":"Try setting a dummy base URI (such as <code>http:&#47;&#47;dummy&#47;</code>) that your EntityResolver recognizes."},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1674230408,"post_id":75164049,"comment_id":132676977,"body_markdown":"How to set a baseURI in Xerces?","body":"How to set a baseURI in Xerces?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1674237104,"post_id":75164049,"comment_id":132679172,"body_markdown":"Set the `systemId` property of the `InputSource` object.","body":"Set the <code>systemId</code> property of the <code>InputSource</code> object."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674068308,"creation_date":1674068308,"answer_id":75164049,"question_id":75161351,"body_markdown":"If you want the schemaLocation to be interpreted as relative to the base URI of the source document, just make sure that the base URI of the source document is known to Xerces. For example, don&#39;t supply the input as a FileInputStream with no known system Id. It will only use the current directory as a fallback if it doesn&#39;t know where the input file is located.","title":"Java XML: Avoid relative systemId expansion against user.dir","body":"<p>If you want the schemaLocation to be interpreted as relative to the base URI of the source document, just make sure that the base URI of the source document is known to Xerces. For example, don't supply the input as a FileInputStream with no known system Id. It will only use the current directory as a fallback if it doesn't know where the input file is located.</p>\n"}],"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674068308,"creation_date":1674054660,"question_id":75161351,"body_markdown":"Consider the following example XML:\r\n\r\n    &lt;book xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:noNamespaceSchemaLocation=&quot;xsd/book.xsd&quot; /&gt;\r\n\r\nWhen parsing this xml file with standard JAXP APIs (which will often use a Xerces implementation), the &quot;xsd/book.xsd&quot; systemId will get &quot;resolved&quot; against the user directory and will result in `file:///home/user/xsd/book.xsd`.\r\n\r\nFor xerces, this behavior is implemented here: https://github.com/apache/xerces2-j/blob/cf0c517a41b31b0242b96ab1af9627a3ab07fcd2/src/org/apache/xerces/impl/XMLEntityManager.java#L1894\r\n\r\nTo **workaround** this, we&#39;re currently using an `EntityResolver2` to extract the original, relative systemId out of the absolute URI `file:///home/user/xsd/book.xsd` but this is really hacky.\r\n\r\n**Question:**&lt;br&gt;\r\nIs there better way, e.g. by disabling this strange &quot;userdir&quot;-behavior and just keep the relative systemIds as they are?\r\n\r\n","title":"Java XML: Avoid relative systemId expansion against user.dir","body":"<p>Consider the following example XML:</p>\n<pre><code>&lt;book xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:noNamespaceSchemaLocation=&quot;xsd/book.xsd&quot; /&gt;\n</code></pre>\n<p>When parsing this xml file with standard JAXP APIs (which will often use a Xerces implementation), the &quot;xsd/book.xsd&quot; systemId will get &quot;resolved&quot; against the user directory and will result in <code>file:///home/user/xsd/book.xsd</code>.</p>\n<p>For xerces, this behavior is implemented here: <a href=\"https://github.com/apache/xerces2-j/blob/cf0c517a41b31b0242b96ab1af9627a3ab07fcd2/src/org/apache/xerces/impl/XMLEntityManager.java#L1894\" rel=\"nofollow noreferrer\">https://github.com/apache/xerces2-j/blob/cf0c517a41b31b0242b96ab1af9627a3ab07fcd2/src/org/apache/xerces/impl/XMLEntityManager.java#L1894</a></p>\n<p>To <strong>workaround</strong> this, we're currently using an <code>EntityResolver2</code> to extract the original, relative systemId out of the absolute URI <code>file:///home/user/xsd/book.xsd</code> but this is really hacky.</p>\n<p><strong>Question:</strong><br>\nIs there better way, e.g. by disabling this strange &quot;userdir&quot;-behavior and just keep the relative systemIds as they are?</p>\n"},{"tags":["java","datetime","apache-poi","datetime-format"],"comments":[{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1674066179,"post_id":75163626,"comment_id":132637704,"body_markdown":"What does `.getLocalDateTimeCellValue()` do? What&#39;s the return type? If you receive `LocalDateTime` from `.getLocalDateTimeCellValue()` then what you are trying to do doesn&#39;t make any sense.","body":"What does <code>.getLocalDateTimeCellValue()</code> do? What&#39;s the return type? If you receive <code>LocalDateTime</code> from <code>.getLocalDateTimeCellValue()</code> then what you are trying to do doesn&#39;t make any sense."},{"owner":{"account_id":14445628,"reputation":33,"user_id":10434854,"display_name":"Tathagata Dasgupta"},"score":0,"creation_date":1674066354,"post_id":75163626,"comment_id":132637771,"body_markdown":"getLocalDateTimeCellValue() returns LocalDateTime object from a excel cell value","body":"getLocalDateTimeCellValue() returns LocalDateTime object from a excel cell value"},{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":4,"creation_date":1674066776,"post_id":75163626,"comment_id":132637898,"body_markdown":"What you are trying to do doesn&#39;t make any sense if dto#date is of type `LocalDateTime`. LocalDateTime doesn&#39;t store any preferable format, but only stores the value (LocalDate and LocalTime). When you do `.getLocalDateTimeCellValue().toString()` you basically transform `LocalDateTime` to `String` with default ISO formatter and then again try to transform it into the `LocalDateTime`.","body":"What you are trying to do doesn&#39;t make any sense if dto#date is of type <code>LocalDateTime</code>. LocalDateTime doesn&#39;t store any preferable format, but only stores the value (LocalDate and LocalTime). When you do <code>.getLocalDateTimeCellValue().toString()</code> you basically transform <code>LocalDateTime</code> to <code>String</code> with default ISO formatter and then again try to transform it into the <code>LocalDateTime</code>."}],"answers":[{"comments":[{"owner":{"account_id":14445628,"reputation":33,"user_id":10434854,"display_name":"Tathagata Dasgupta"},"score":0,"creation_date":1674066439,"post_id":75163701,"comment_id":132637794,"body_markdown":"I want to store it in MM/dd/yyyy hh:mm:ss format in pojo class object, same as excel data","body":"I want to store it in MM/dd/yyyy hh:mm:ss format in pojo class object, same as excel data"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1674066738,"post_id":75163701,"comment_id":132637887,"body_markdown":"@TathagataDasgupta - I got confused initially thinking that you wanted to parse a string. I have updated my answer as per your requirement.","body":"@TathagataDasgupta - I got confused initially thinking that you wanted to parse a string. I have updated my answer as per your requirement."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1674066776,"post_id":75163701,"comment_id":132637897,"body_markdown":"@TathagataDasgupta No you dont. You want to use the correct data type in your POJO, that is, `LocalDateTime`. You want to format it in your user interface, not in your data model.","body":"@TathagataDasgupta No you dont. You want to use the correct data type in your POJO, that is, <code>LocalDateTime</code>. You want to format it in your user interface, not in your data model."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1674066582,"creation_date":1674066286,"answer_id":75163701,"question_id":75163626,"body_markdown":"You are using `DateTimeFormatter` for the wrong purpose. Instead of formatting a `LocalDateTime` object, you are trying to parse a string unnecessarily. You need a formatted `String` which you can do as follows:\r\n\r\n    LocalDateTime dateObj = row.getCell(2).getLocalDateTimeCellValue();\r\n    DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.ENGLISH);\r\n    String formatted = dateObj.format(format);\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Facing problem while reading date time in java from excel by converting date into String Format then parsing it","body":"<p>You are using <code>DateTimeFormatter</code> for the wrong purpose. Instead of formatting a <code>LocalDateTime</code> object, you are trying to parse a string unnecessarily. You need a formatted <code>String</code> which you can do as follows:</p>\n<pre><code>LocalDateTime dateObj = row.getCell(2).getLocalDateTimeCellValue();\nDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.ENGLISH);\nString formatted = dateObj.format(format);\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":14445628,"reputation":33,"user_id":10434854,"display_name":"Tathagata Dasgupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75163701,"answer_count":1,"score":1,"last_activity_date":1674068004,"creation_date":1674066004,"question_id":75163626,"body_markdown":"Trying to store date time from excel to setter using poi and LocalDateTime and DateTimeFormatter.\r\n\r\n        \r\n        DateTimeFormatter format=DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss&quot;);\r\n        LocalDateTime \r\n        dateObj=LocalDateTime.parse(row.getCell(2).getLocalDateTimeCellValue().toString(),format);\r\n        dto.setDate(dateObj);\r\n\r\nThe output is:\r\n \r\n        \r\n        java.time.format.DateTimeParseException: Text &#39;2023-01-22T00:00&#39; could not be parsed at index 2\r\n\r\nPlease advise me what to do? In the excel file the date is stored in 1/22/2023 12:00:00 AM\r\n\r\n\r\n","title":"Facing problem while reading date time in java from excel by converting date into String Format then parsing it","body":"<p>Trying to store date time from excel to setter using poi and LocalDateTime and DateTimeFormatter.</p>\n<pre><code>    DateTimeFormatter format=DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm:ss&quot;);\n    LocalDateTime \n    dateObj=LocalDateTime.parse(row.getCell(2).getLocalDateTimeCellValue().toString(),format);\n    dto.setDate(dateObj);\n</code></pre>\n<p>The output is:</p>\n<pre><code>    java.time.format.DateTimeParseException: Text '2023-01-22T00:00' could not be parsed at index 2\n</code></pre>\n<p>Please advise me what to do? In the excel file the date is stored in 1/22/2023 12:00:00 AM</p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":3111173,"reputation":422,"user_id":2632860,"accept_rate":71,"display_name":"Hellaren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674068004,"creation_date":1674068004,"answer_id":75164004,"question_id":73113632,"body_markdown":"Most likely your filter doesn&#39;t work because the incoming request doesn&#39;t match the path predicate from your configuration\r\n\r\nThe route is configured as\r\n\r\n        routes:\r\n        - id: second_route\r\n          uri: lb://auth-service\r\n          predicates:\r\n          - Path=/api/v1/**\r\n          filters:\r\n          - MainFilter\r\n\r\nwhere MainFilter is applied to all requests that match the path predicate `/api/v1/**`.\r\nIf we take a closer look at the predicate, the incoming request path should:\r\n1. Start with `/api/v1`\r\n2. Have anything in url after `/api/v1` segment (the `**` is similar to regex `.*` expression and will match everything)\r\n\r\nTherefore the following request urls should be matched:\r\n- http://localhost:8080/api/v1/\r\n- http://localhost:8080/api/v1?key=value\r\n- http://localhost:8080/api/v1/test\r\n- http://localhost:8080/api/v1/test/key=value\r\n- etc\r\n\r\n&gt; But when i create request for service localhost:8080/auth-service/api/v1/ Filter not working\r\n\r\nBased on the path predicate mapping information provided above, your request should not be matched the path predicate you defined.\r\nYour request has the following path`/auth-service/api/v1` while gateway is looking for path like `/api/v1/`.\r\n\r\nSince no routes are matched, gateway ignores the request and allows it to go further in the pipeline where I assume your auth-service API matches the mapping and corresponding controller returns the response directly without the gateway\r\n\r\nIn speaking about default filters, they will handle all requests no matter what URL/Header/Query they have.\r\n\r\nYou should be able to find the path matcher logs using the following configuration\r\n\r\n    logging:\r\n      level:\r\n        org.springframework.cloud.gateway: TRACE\r\n        reactor.netty.http.client: TRACE\r\n\r\nThen look for logs similar to this:\r\n- `Pattern &quot;[/api/v1/**]&quot; does not match against value &quot;/auth-service/api/v1&quot;`\r\n- `Pattern &quot;/api/v1/**&quot; matches against value &quot;/api/v1/&quot;`\r\n\r\nAdditional information about path predicates could be found here:\r\n- https://cloud.spring.io/spring-cloud-gateway/reference/html/#the-path-route-predicate-factory\r\n- https://www.baeldung.com/spring-cloud-gateway-routing-predicate-factories#2-defining-a-route-in-yaml","title":"Problem with Spring cloud gateway filters","body":"<p>Most likely your filter doesn't work because the incoming request doesn't match the path predicate from your configuration</p>\n<p>The route is configured as</p>\n<pre><code>    routes:\n    - id: second_route\n      uri: lb://auth-service\n      predicates:\n      - Path=/api/v1/**\n      filters:\n      - MainFilter\n</code></pre>\n<p>where MainFilter is applied to all requests that match the path predicate <code>/api/v1/**</code>.\nIf we take a closer look at the predicate, the incoming request path should:</p>\n<ol>\n<li>Start with <code>/api/v1</code></li>\n<li>Have anything in url after <code>/api/v1</code> segment (the <code>**</code> is similar to regex <code>.*</code> expression and will match everything)</li>\n</ol>\n<p>Therefore the following request urls should be matched:</p>\n<ul>\n<li>http://localhost:8080/api/v1/</li>\n<li>http://localhost:8080/api/v1?key=value</li>\n<li>http://localhost:8080/api/v1/test</li>\n<li>http://localhost:8080/api/v1/test/key=value</li>\n<li>etc</li>\n</ul>\n<blockquote>\n<p>But when i create request for service localhost:8080/auth-service/api/v1/ Filter not working</p>\n</blockquote>\n<p>Based on the path predicate mapping information provided above, your request should not be matched the path predicate you defined.\nYour request has the following path<code>/auth-service/api/v1</code> while gateway is looking for path like <code>/api/v1/</code>.</p>\n<p>Since no routes are matched, gateway ignores the request and allows it to go further in the pipeline where I assume your auth-service API matches the mapping and corresponding controller returns the response directly without the gateway</p>\n<p>In speaking about default filters, they will handle all requests no matter what URL/Header/Query they have.</p>\n<p>You should be able to find the path matcher logs using the following configuration</p>\n<pre><code>logging:\n  level:\n    org.springframework.cloud.gateway: TRACE\n    reactor.netty.http.client: TRACE\n</code></pre>\n<p>Then look for logs similar to this:</p>\n<ul>\n<li><code>Pattern &quot;[/api/v1/**]&quot; does not match against value &quot;/auth-service/api/v1&quot;</code></li>\n<li><code>Pattern &quot;/api/v1/**&quot; matches against value &quot;/api/v1/&quot;</code></li>\n</ul>\n<p>Additional information about path predicates could be found here:</p>\n<ul>\n<li><a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#the-path-route-predicate-factory\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-gateway/reference/html/#the-path-route-predicate-factory</a></li>\n<li><a href=\"https://www.baeldung.com/spring-cloud-gateway-routing-predicate-factories#2-defining-a-route-in-yaml\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cloud-gateway-routing-predicate-factories#2-defining-a-route-in-yaml</a></li>\n</ul>\n"}],"owner":{"account_id":25892308,"reputation":31,"user_id":19619517,"display_name":"Dmitriy L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2028,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674068004,"creation_date":1658772845,"question_id":73113632,"body_markdown":"I try use Spring Cloud Gateway Filter for my request. \r\nI tried use some variants realisation filters like below:\r\n```\r\n@Component\r\n@Slf4j\r\n@Order(-10000)\r\npublic class CustomFilter extends AbstractGatewayFilterFactory&lt;CustomFilter.Config&gt; {\r\n\r\n    public CustomFilter() {\r\n        super(Config.class);\r\n        log.info(&quot;Loaded GatewayFilterFactory [Authorize]&quot;);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; shortcutFieldOrder() {\r\n        return Arrays.asList(&quot;enabled&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public ShortcutType shortcutType() {\r\n        return ShortcutType.DEFAULT;\r\n    }\r\n\r\n    @Override\r\n    public GatewayFilter apply(CustomFilter.Config config) {\r\n        log.info(&quot;Into apply&quot;);\r\n        return (exchange, chain)-&gt;{\r\n            log.info(&quot;Into exchange!&quot;);\r\n            System.out.println(exchange.getRequest() + &quot; request&quot;);\r\n\r\n            return chain.filter(exchange);\r\n        };\r\n    }\r\n\r\n    public static class Config {\r\n        private boolean enabled;\r\n\r\n        public Config() {}\r\n\r\n        public boolean isEnabled() {\r\n            return enabled;\r\n        }\r\n\r\n        public void setEnabled(boolean enabled) {\r\n            this.enabled = enabled;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n-----\r\n```\r\nComponent\r\n@Slf4j\r\npublic class MainFilter implements GatewayFilterFactory&lt;MainFilter.Config&gt; {\r\n\r\n    @Override\r\n    public GatewayFilter apply(Config config) {\r\n        log.info(&quot;[Apply]&quot;);\r\n        return (exchange, chain) -&gt; {\r\n            log.info(&quot;[Apply: {}]&quot;, exchange);\r\n            System.out.println(&quot;gateway filter name &quot; + config.getName());\r\n            return chain.filter(exchange);\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;Config&gt; getConfigClass() {\r\n        return Config.class;\r\n    }\r\n\r\n    @Override\r\n    public Config newConfig() {\r\n        return new Config(&quot;MainFilter&quot;);\r\n    }\r\n\r\n    public static class Config {\r\n\r\n        public Config(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        private String name;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n}\r\n```\r\nMy gateway.yml file below:\r\n&lt;pre&gt;\r\nserver:\r\n  port: 8080\r\n\r\nmanagement:\r\n  endpoint:\r\n    gateway:\r\n      enabled: true\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: gateway\r\n\r\nspring:\r\n  cloud:\r\n    discovery:\r\n      enabled: true\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          enabled: true\r\n          lowerCaseServiceId: true\r\n#      default-filters:\r\n#        - name: MainFilter\r\n      routes:\r\n        - id: second_route\r\n          uri: lb://auth-service\r\n          predicates:\r\n          - Path=/api/v1/**\r\n          filters:\r\n          - MainFilter\r\n\r\n  application:\r\n    loadbalancer:\r\n      ribbon:\r\n        enabled: false\r\n\r\n&lt;/pre&gt;\r\n\r\nBut when i create request for service localhost:8080/auth-service/api/v1/\r\nFilter not working. I don&#39;t see mwssahe log.info() on my console. But when i use conditions default-filter in my gateway.yml my custom filter is working. What problem for use custom filter with my route?","title":"Problem with Spring cloud gateway filters","body":"<p>I try use Spring Cloud Gateway Filter for my request.\nI tried use some variants realisation filters like below:</p>\n<pre><code>@Component\n@Slf4j\n@Order(-10000)\npublic class CustomFilter extends AbstractGatewayFilterFactory&lt;CustomFilter.Config&gt; {\n\n    public CustomFilter() {\n        super(Config.class);\n        log.info(&quot;Loaded GatewayFilterFactory [Authorize]&quot;);\n    }\n\n    @Override\n    public List&lt;String&gt; shortcutFieldOrder() {\n        return Arrays.asList(&quot;enabled&quot;);\n    }\n\n\n    @Override\n    public ShortcutType shortcutType() {\n        return ShortcutType.DEFAULT;\n    }\n\n    @Override\n    public GatewayFilter apply(CustomFilter.Config config) {\n        log.info(&quot;Into apply&quot;);\n        return (exchange, chain)-&gt;{\n            log.info(&quot;Into exchange!&quot;);\n            System.out.println(exchange.getRequest() + &quot; request&quot;);\n\n            return chain.filter(exchange);\n        };\n    }\n\n    public static class Config {\n        private boolean enabled;\n\n        public Config() {}\n\n        public boolean isEnabled() {\n            return enabled;\n        }\n\n        public void setEnabled(boolean enabled) {\n            this.enabled = enabled;\n        }\n\n    }\n}\n</code></pre>\n<hr />\n<pre><code>Component\n@Slf4j\npublic class MainFilter implements GatewayFilterFactory&lt;MainFilter.Config&gt; {\n\n    @Override\n    public GatewayFilter apply(Config config) {\n        log.info(&quot;[Apply]&quot;);\n        return (exchange, chain) -&gt; {\n            log.info(&quot;[Apply: {}]&quot;, exchange);\n            System.out.println(&quot;gateway filter name &quot; + config.getName());\n            return chain.filter(exchange);\n        };\n    }\n\n    @Override\n    public Class&lt;Config&gt; getConfigClass() {\n        return Config.class;\n    }\n\n    @Override\n    public Config newConfig() {\n        return new Config(&quot;MainFilter&quot;);\n    }\n\n    public static class Config {\n\n        public Config(String name) {\n            this.name = name;\n        }\n\n        private String name;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n    }\n}\n</code></pre>\n<p>My gateway.yml file below:</p>\n<pre>\nserver:\n  port: 8080\n\nmanagement:\n  endpoint:\n    gateway:\n      enabled: true\n  endpoints:\n    web:\n      exposure:\n        include: gateway\n\nspring:\n  cloud:\n    discovery:\n      enabled: true\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lowerCaseServiceId: true\n#      default-filters:\n#        - name: MainFilter\n      routes:\n        - id: second_route\n          uri: lb://auth-service\n          predicates:\n          - Path=/api/v1/**\n          filters:\n          - MainFilter\n\n  application:\n    loadbalancer:\n      ribbon:\n        enabled: false\n\n</pre>\n<p>But when i create request for service localhost:8080/auth-service/api/v1/\nFilter not working. I don't see mwssahe log.info() on my console. But when i use conditions default-filter in my gateway.yml my custom filter is working. What problem for use custom filter with my route?</p>\n"},{"tags":["java","xmlhttprequest","hdfs","webhdfs"],"comments":[{"owner":{"account_id":22095059,"reputation":1,"user_id":16352501,"display_name":"zovuko"},"score":0,"creation_date":1674068372,"post_id":75163988,"comment_id":132638377,"body_markdown":"I guess something may be wrong with my http connection !? But I&#39;m not receiving any error and it works when I&#39;m sending an individual file","body":"I guess something may be wrong with my http connection !? But I&#39;m not receiving any error and it works when I&#39;m sending an individual file"}],"owner":{"account_id":22095059,"reputation":1,"user_id":16352501,"display_name":"zovuko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674067944,"creation_date":1674067916,"question_id":75163988,"body_markdown":"I&#39;m trying to transfer files (copy/move) from a Linux server to Hdfs, and so far I havent exactly achieved what I want.\r\n\r\nSo far I&#39;ve been able to:\r\n- copy the directory (but empty) to Hdfs\r\n- copy individual file only when the input path explicity contains the name of the file\r\n\r\nI want to copy the whole directory at once containing all the file (around 100), or recursively one file after another one. \r\n\r\nI&#39;m new to Java and have searched this platform for solutions have help so far, but I cant achieve what I want.\r\n\r\nThanks for your guidance.\r\n\r\n\r\nHere my code sample:\r\n\r\n```\r\n   package org.example;\r\n\r\n   import org.apache.commons.net.util.Base64;\r\n   import org.apache.http.HttpStatus;\r\n   import org.apache.commons.io.FileUtils;\r\n   import javax.net.ssl.HttpsURLConnection;\r\n   import java.io.*;\r\n   import java.net.URL;\r\n   import java.nio.file.Files;\r\n   import java.nio.file.Path;\r\n   import java.nio.file.Paths;\r\n   import java.nio.file.StandardCopyOption;\r\n   import java.util.Arrays;\r\n   import static java.lang.System.out;\r\n   import static java.nio.file.StandardCopyOption.REPLACE_EXISTING;\r\n   import static java.util.Objects.requireNonNull;\r\n\r\n   public class Main {\r\n\r\n    public static HttpsURLConnection getHttpConnector(String httpsPutURL, String userPassword,\r\n       String sslLocation, String sslPwd) throws IOException {\r\n        URL myUrl = new URL(httpsPutURL);\r\n        HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\r\n        conn.setSSLSocketFactory(requireNonNull(SSLUtils.getSSLContext(sslLocation,\r\n      sslPwd)).getSocketFactory());\r\n        String basicAuth = &quot;Basic &quot; + new String(Base64.encodeBase64(userPassword.getBytes()));\r\n        conn.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n        conn.setRequestMethod(&quot;PUT&quot;);\r\n        conn.setDoOutput(true);\r\n        conn.setDoInput(true);\r\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\r\n        conn.setUseCaches(false);\r\n        return conn;\r\n     }\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        String filePath = &quot;/input/directory&quot;;\r\n        File srcDir = new File(filePath);\r\n        String webhdfsDataDir = &quot;https://somewebhdfs.com/output/directory&quot;;\r\n        File destDir = new File(webhdfsDataDir);\r\n        String webhdfsUser= &quot;user&quot;;\r\n        String webhdfsPwd= &quot;pass_word&quot;;\r\n\r\n        //SSL PROPERTIES\r\n        String sslLocation= &quot;/sometrust/truststore&quot;;\r\n        String sslPwd= &quot;pass_word&quot;;\r\n        String userPassword = webhdfsUser + &quot;:&quot; + webhdfsPwd;\r\n\r\n        //Create Https connection\r\n        String httpsPutURL = webhdfsDataDir\r\n                +&quot;?op=CREATE&quot;;\r\n        HttpsURLConnection conn = getHttpConnector(httpsPutURL, userPassword, sslLocation, sslPwd);\r\n        out.println(&quot;connection created&quot;);\r\n\r\n        try {\r\n            conn.setRequestMethod(&quot;PUT&quot;);\r\n            conn.setDoOutput(true);\r\n            try {\r\n                FileUtils.copyDirectory(srcDir,destDir);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        } finally {\r\n            if(conn.getResponseCode() == HttpStatus.SC_CREATED) {\r\n                out.println(&quot;all is well&quot;);\r\n            } else {\r\n                throw new Exception();\r\n            }\r\n            conn.disconnect();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve been able to transfer a file with the Files.copy() method only when the name of the file is explicitly in the scrDir, with the FileUtils.copyDirectory method I have transfer the srcDir empty, it behaves as a file :/","title":"JAVA - Transfer files from a Linux server to HDFS in Java","body":"<p>I'm trying to transfer files (copy/move) from a Linux server to Hdfs, and so far I havent exactly achieved what I want.</p>\n<p>So far I've been able to:</p>\n<ul>\n<li>copy the directory (but empty) to Hdfs</li>\n<li>copy individual file only when the input path explicity contains the name of the file</li>\n</ul>\n<p>I want to copy the whole directory at once containing all the file (around 100), or recursively one file after another one.</p>\n<p>I'm new to Java and have searched this platform for solutions have help so far, but I cant achieve what I want.</p>\n<p>Thanks for your guidance.</p>\n<p>Here my code sample:</p>\n<pre><code>   package org.example;\n\n   import org.apache.commons.net.util.Base64;\n   import org.apache.http.HttpStatus;\n   import org.apache.commons.io.FileUtils;\n   import javax.net.ssl.HttpsURLConnection;\n   import java.io.*;\n   import java.net.URL;\n   import java.nio.file.Files;\n   import java.nio.file.Path;\n   import java.nio.file.Paths;\n   import java.nio.file.StandardCopyOption;\n   import java.util.Arrays;\n   import static java.lang.System.out;\n   import static java.nio.file.StandardCopyOption.REPLACE_EXISTING;\n   import static java.util.Objects.requireNonNull;\n\n   public class Main {\n\n    public static HttpsURLConnection getHttpConnector(String httpsPutURL, String userPassword,\n       String sslLocation, String sslPwd) throws IOException {\n        URL myUrl = new URL(httpsPutURL);\n        HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\n        conn.setSSLSocketFactory(requireNonNull(SSLUtils.getSSLContext(sslLocation,\n      sslPwd)).getSocketFactory());\n        String basicAuth = &quot;Basic &quot; + new String(Base64.encodeBase64(userPassword.getBytes()));\n        conn.setRequestProperty(&quot;Authorization&quot;, basicAuth);\n        conn.setRequestMethod(&quot;PUT&quot;);\n        conn.setDoOutput(true);\n        conn.setDoInput(true);\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\n        conn.setUseCaches(false);\n        return conn;\n     }\n\n      public static void main(String[] args) throws Exception {\n        String filePath = &quot;/input/directory&quot;;\n        File srcDir = new File(filePath);\n        String webhdfsDataDir = &quot;https://somewebhdfs.com/output/directory&quot;;\n        File destDir = new File(webhdfsDataDir);\n        String webhdfsUser= &quot;user&quot;;\n        String webhdfsPwd= &quot;pass_word&quot;;\n\n        //SSL PROPERTIES\n        String sslLocation= &quot;/sometrust/truststore&quot;;\n        String sslPwd= &quot;pass_word&quot;;\n        String userPassword = webhdfsUser + &quot;:&quot; + webhdfsPwd;\n\n        //Create Https connection\n        String httpsPutURL = webhdfsDataDir\n                +&quot;?op=CREATE&quot;;\n        HttpsURLConnection conn = getHttpConnector(httpsPutURL, userPassword, sslLocation, sslPwd);\n        out.println(&quot;connection created&quot;);\n\n        try {\n            conn.setRequestMethod(&quot;PUT&quot;);\n            conn.setDoOutput(true);\n            try {\n                FileUtils.copyDirectory(srcDir,destDir);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        } finally {\n            if(conn.getResponseCode() == HttpStatus.SC_CREATED) {\n                out.println(&quot;all is well&quot;);\n            } else {\n                throw new Exception();\n            }\n            conn.disconnect();\n        }\n    }\n\n}\n</code></pre>\n<p>I've been able to transfer a file with the Files.copy() method only when the name of the file is explicitly in the scrDir, with the FileUtils.copyDirectory method I have transfer the srcDir empty, it behaves as a file :/</p>\n"},{"tags":["python","java","linux","sum","odoo"],"answers":[{"tags":[],"owner":{"account_id":13580362,"reputation":11,"user_id":9796551,"display_name":"El-houcine Brahim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674067257,"creation_date":1674067257,"answer_id":75163880,"question_id":75161704,"body_markdown":"You can simply add invisible for the fields `name_child` and `date_of_birth` \r\n\r\n```attrs=&quot;{&#39;invisible&#39;:[(&#39;children&#39;, &#39;=&#39;, 0)]}&quot;```","title":"Adding a constraint for a field in Odoo","body":"<p>You can simply add invisible for the fields <code>name_child</code> and <code>date_of_birth</code></p>\n<p><code>attrs=&quot;{'invisible':[('children', '=', 0)]}&quot;</code></p>\n"}],"owner":{"account_id":27084838,"reputation":1,"user_id":20633499,"display_name":"ProgMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674067257,"creation_date":1674056344,"question_id":75161704,"body_markdown":"This is what I have to do:\r\n\r\n&quot;Add a field for registering children to the employee object. It is possible to enter several children and enter the first and last name and date of birth for each of them. Show the field on the form view, in the Private information tab, below the field for the number of children (children). Show the field only if the number of children is greater than 0.&quot;\r\n\r\nI have done this: \r\n\r\n@api.onchange(&#39;children&#39;, &#39;name_child&#39;, &#39;date_of_birth&#39;)\r\n    def onchange_usage(self):\r\n        if self.children &gt; 0:\r\n            self.name_child = True\r\n            self.date_of_birth = True\r\n        else:\r\n            self.name_child = False\r\n            self.date_of_birth = False\r\n\r\n    children = fields.Integer(string=&#39;Children&#39;)\r\n    name_child = fields.Char(string=&#39;Name of the Child&#39;)\r\n    date_of_birth = fields.Date(string=&#39;Date of Birth&#39;)\r\n\r\nDoes anybody know what is wrong with this code? Thank u.","title":"Adding a constraint for a field in Odoo","body":"<p>This is what I have to do:</p>\n<p>&quot;Add a field for registering children to the employee object. It is possible to enter several children and enter the first and last name and date of birth for each of them. Show the field on the form view, in the Private information tab, below the field for the number of children (children). Show the field only if the number of children is greater than 0.&quot;</p>\n<p>I have done this:</p>\n<p>@api.onchange('children', 'name_child', 'date_of_birth')\ndef onchange_usage(self):\nif self.children &gt; 0:\nself.name_child = True\nself.date_of_birth = True\nelse:\nself.name_child = False\nself.date_of_birth = False</p>\n<pre><code>children = fields.Integer(string='Children')\nname_child = fields.Char(string='Name of the Child')\ndate_of_birth = fields.Date(string='Date of Birth')\n</code></pre>\n<p>Does anybody know what is wrong with this code? Thank u.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"score":0,"creation_date":1672794875,"post_id":74921888,"comment_id":132352952,"body_markdown":"Out of curiosity did you try this. \n`var jwtToken = ReactiveSecurityContextHolder.getContext().map(securityContext -&gt;securityContext.getAuthentication().getPrincipal()).block()`. You can get SecurityContext in Controller by injecting it too.","body":"Out of curiosity did you try this.  <code>var jwtToken = ReactiveSecurityContextHolder.getContext().map(securityConte&zwnj;&#8203;xt -&gt;securityContext.getAuthentication().getPrincipal()).block(&zwnj;&#8203;)</code>. You can get SecurityContext in Controller by injecting it too."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672821864,"post_id":74921888,"comment_id":132357354,"body_markdown":"@nicholasnet yes, Itried it but I received the error like this:\n`block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-6 `","body":"@nicholasnet yes, Itried it but I received the error like this: <code>block()&#47;blockFirst()&#47;blockLast() are blocking, which is not supported in thread reactor-http-nio-6 </code>"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672571775,"post_id":74967795,"comment_id":132306974,"body_markdown":"Sorry for confusing naming (I&#39;ve fixed it). The idea that I want to get JWT inside controller (not as a result of endpoint call) using ReactiveSecurityContextHolder. And I want to get JWT (not Mono&lt;Jwt&gt;)","body":"Sorry for confusing naming (I&#39;ve fixed it). The idea that I want to get JWT inside controller (not as a result of endpoint call) using ReactiveSecurityContextHolder. And I want to get JWT (not Mono&lt;Jwt&gt;)"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672597793,"post_id":74967795,"comment_id":132311141,"body_markdown":"Just add `.map`and you will get a `Jwt` as an argument for a lambda function","body":"Just add <code>.map</code>and you will get a <code>Jwt</code> as an argument for a lambda function"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672615996,"post_id":74967795,"comment_id":132314030,"body_markdown":"I want to pass it to non-reactive context so it is not an option","body":"I want to pass it to non-reactive context so it is not an option"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672617750,"post_id":74967795,"comment_id":132314283,"body_markdown":"Not sure what do you mean by non-reactive context but the whole idea of the reactive API and webfliux is to create non-blocking flows. Please clarify question and provide more details","body":"Not sure what do you mean by non-reactive context but the whole idea of the reactive API and webfliux is to create non-blocking flows. Please clarify question and provide more details"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672672274,"post_id":74967795,"comment_id":132324368,"body_markdown":"details are here: https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok","body":"details are here: <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\" title=\"how to get jwt token value in spring webflux to exchange it with minio sts tok\">stackoverflow.com/questions/74875058/&hellip;</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672672432,"post_id":74967795,"comment_id":132324413,"body_markdown":"Unfortunately, not all libraries support reactive API","body":"Unfortunately, not all libraries support reactive API"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672676257,"post_id":74967795,"comment_id":132325466,"body_markdown":"There is nothing wrong with non-reactive code and there is a way to integrate it into reactive flow. The mentioned example is using map(jwt -&gt; MinioClient.builder(). but you are keep saying that its not an option. It would be useful if you update the question and explain problem more clearly","body":"There is nothing wrong with non-reactive code and there is a way to integrate it into reactive flow. The mentioned example is using map(jwt -&gt; MinioClient.builder(). but you are keep saying that its not an option. It would be useful if you update the question and explain problem more clearly"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672677751,"post_id":74967795,"comment_id":132325865,"body_markdown":"as I explained there it is not an option because new MinioClient is created on each request. I expected to have single MinioClient for the whole application instance","body":"as I explained there it is not an option because new MinioClient is created on each request. I expected to have single MinioClient for the whole application instance"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672678811,"post_id":74967795,"comment_id":132326161,"body_markdown":"Is it duplicate question? Dont see any MinioClient in your question","body":"Is it duplicate question? Dont see any MinioClient in your question"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672784601,"post_id":74967795,"comment_id":132351298,"body_markdown":"there is no duplication but here I explained the issue without redundant details because it could be not only related to Minio","body":"there is no duplication but here I explained the issue without redundant details because it could be not only related to Minio"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1672785484,"post_id":74967795,"comment_id":132351478,"body_markdown":"non-reactive APIs can be called by reactive APIs as already described in Alex&#39;s comment about using `.map`. I believe you should open a new question and ask how to invoke MinioClient from a reactive context. Given the detail you&#39;ve offered thus far, it still seems like an option, so a separate question would allow you to add the missing context we all need in order to help.","body":"non-reactive APIs can be called by reactive APIs as already described in Alex&#39;s comment about using <code>.map</code>. I believe you should open a new question and ask how to invoke MinioClient from a reactive context. Given the detail you&#39;ve offered thus far, it still seems like an option, so a separate question would allow you to add the missing context we all need in order to help."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672803349,"post_id":74967795,"comment_id":132354020,"body_markdown":"Basically you have 2 options - get token from reactive context and use in a .map or get token in your MinioClient by using .block() but it will be blocking and you would need to schedule it on boundedElastic.  an alternative idea could be to use AWS Java SDK v2 that is fully async and could be wrapped by reactive API unless you need something minio specific.","body":"Basically you have 2 options - get token from reactive context and use in a .map or get token in your MinioClient by using .block() but it will be blocking and you would need to schedule it on boundedElastic.  an alternative idea could be to use AWS Java SDK v2 that is fully async and could be wrapped by reactive API unless you need something minio specific."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672821957,"post_id":74967795,"comment_id":132357382,"body_markdown":"@Alex I would strongly appreciate if you could provide the whole answer for both options","body":"@Alex I would strongly appreciate if you could provide the whole answer for both options"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672822385,"post_id":74967795,"comment_id":132357489,"body_markdown":"@jzheaux\nAll details are here:\nhttps://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok","body":"@jzheaux All details are here: <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\" title=\"how to get jwt token value in spring webflux to exchange it with minio sts tok\">stackoverflow.com/questions/74875058/&hellip;</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673258923,"post_id":74967795,"comment_id":132449920,"body_markdown":"@Alex could you please provide details ?","body":"@Alex could you please provide details ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673264081,"post_id":74967795,"comment_id":132451583,"body_markdown":"I also found the similar question here: https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext","body":"I also found the similar question here: <a href=\"https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext\" title=\"how do i extract information from jwt which is stored in reactivesecuritycontext\">stackoverflow.com/questions/70701792/&hellip;</a>"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673456029,"post_id":74967795,"comment_id":132504852,"body_markdown":"Not really sure what else do you need here. &quot;It returns a Mono&lt;String&gt; but I need String&quot; is very common question and as many people mentioned here, the only way to get it - build reactive flow and get it as a part of the flow. Do you really need  webflux and reactive if you are blocking? Async programming is not easy but you will loose all advantages of the reactive if you start blocking.","body":"Not really sure what else do you need here. &quot;It returns a Mono&lt;String&gt; but I need String&quot; is very common question and as many people mentioned here, the only way to get it - build reactive flow and get it as a part of the flow. Do you really need  webflux and reactive if you are blocking? Async programming is not easy but you will loose all advantages of the reactive if you start blocking."}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":17,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672676721,"creation_date":1672466113,"answer_id":74967795,"question_id":74921888,"body_markdown":"Not really sure how token is related to the result of the `bucketExists` and  why do you convert it to the `CompletableFuture` but here is an example how you can get token from the context.\r\n\r\n```\r\n@GetMapping(value = &quot;/someEndpoint&quot;)\r\npublic Mono&lt;Boolean&gt; foo() {\r\n    return ReactiveSecurityContextHolder.getContext()\r\n            .map(ctx -&gt; ctx.getAuthentication().getPrincipal())\r\n            .cast(Jwt.class)\r\n            .map(jwt -&gt; useToken(jwt));  \r\n\r\n}\r\n```\r\n\r\nHere is a test using `org.springframework.security:spring-security-test`\r\n\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWebTestClient\r\nclass RouteConfigTest {\r\n    @Autowired\r\n    private WebTestClient client;\r\n\r\n    @Test\r\n    void test() {\r\n        this.client.mutateWith(mockJwt())\r\n                .get()\r\n                .uri(&quot;/someEndpoint&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk();\r\n    }\r\n}\r\n```\r\n","title":"How to get raw token from ReactiveSecurityContextHolder?","body":"<p>Not really sure how token is related to the result of the <code>bucketExists</code> and  why do you convert it to the <code>CompletableFuture</code> but here is an example how you can get token from the context.</p>\n<pre><code>@GetMapping(value = &quot;/someEndpoint&quot;)\npublic Mono&lt;Boolean&gt; foo() {\n    return ReactiveSecurityContextHolder.getContext()\n            .map(ctx -&gt; ctx.getAuthentication().getPrincipal())\n            .cast(Jwt.class)\n            .map(jwt -&gt; useToken(jwt));  \n\n}\n</code></pre>\n<p>Here is a test using <code>org.springframework.security:spring-security-test</code></p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\nclass RouteConfigTest {\n    @Autowired\n    private WebTestClient client;\n\n    @Test\n    void test() {\n        this.client.mutateWith(mockJwt())\n                .get()\n                .uri(&quot;/someEndpoint&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672822056,"post_id":74999369,"comment_id":132357409,"body_markdown":"Looks like you didn&#39;t get the issue. We have `ReactiveSecurityContextHolder` and my aim is getting the instance of `Jwt`.","body":"Looks like you didn&#39;t get the issue. We have <code>ReactiveSecurityContextHolder</code> and my aim is getting the instance of <code>Jwt</code>."},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1672846232,"post_id":74999369,"comment_id":132365523,"body_markdown":"Spring Webflux can resolve the `Jwt` as a method argument. Please see this sample and let me know what I&#39;m misunderstanding: https://github.com/spring-projects/spring-security-samples/blob/main/reactive/webflux/java/oauth2/resource-server/src/main/java/example/OAuth2ResourceServerController.java","body":"Spring Webflux can resolve the <code>Jwt</code> as a method argument. Please see this sample and let me know what I&#39;m misunderstanding: <a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/reactive/webflux/java/oauth2/resource-server/src/main/java/example/OAuth2ResourceServerController.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security-samples/blob/main&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1672846331,"post_id":74999369,"comment_id":132365568,"body_markdown":"Also, I&#39;ve edited my answer for clarity. It &quot;[gets] the instance of `Jwt`&quot; as I think you&#39;ve described.","body":"Also, I&#39;ve edited my answer for clarity. It &quot;[gets] the instance of <code>Jwt</code>&quot; as I think you&#39;ve described."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672905623,"post_id":74999369,"comment_id":132379378,"body_markdown":"I need to get `Jwt` from `ReactiveSecurityContextHolder` and and in the execution thread. You could me ask why ? As explained here I need to create MinioClient and I want to have it single for the whole application instance. And this MinoClient accepts lambda: ` return new WebIdentityProvider(() -&gt; new Jwt(token, 1000), &quot;stsEndpoint&quot;, null, null, null, null, null); ` Let me know if you have any questions.","body":"I need to get <code>Jwt</code> from <code>ReactiveSecurityContextHolder</code> and and in the execution thread. You could me ask why ? As explained here I need to create MinioClient and I want to have it single for the whole application instance. And this MinoClient accepts lambda: ` return new WebIdentityProvider(() -&gt; new Jwt(token, 1000), &quot;stsEndpoint&quot;, null, null, null, null, null); ` Let me know if you have any questions."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673031186,"post_id":74999369,"comment_id":132413717,"body_markdown":"I am not sure I clearly understand what options do you mean in your **EDIT** section. Could you please clarify ?","body":"I am not sure I clearly understand what options do you mean in your <b>EDIT</b> section. Could you please clarify ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673264075,"post_id":74999369,"comment_id":132451580,"body_markdown":"I also found the similar question here: https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext","body":"I also found the similar question here: <a href=\"https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext\" title=\"how do i extract information from jwt which is stored in reactivesecuritycontext\">stackoverflow.com/questions/70701792/&hellip;</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673336060,"post_id":74999369,"comment_id":132469782,"body_markdown":"any ideas  about it?","body":"any ideas  about it?"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1673988958,"post_id":74999369,"comment_id":132618392,"body_markdown":"@gstackoverflow, I don&#39;t think I&#39;m understanding. The answer here addresses the question asked. I think the issue here is that your real question is about using MinioClient in a reactive stack, which appears to already have been answered. I really don&#39;t have more to add. The answer I gave makes sense in the context of this question alone. I think your related post about MinioClient is a better question. If you have further questions, you can often find me or another member of the team on Spring Security&#39;s gitter. Happy to chat there.","body":"@gstackoverflow, I don&#39;t think I&#39;m understanding. The answer here addresses the question asked. I think the issue here is that your real question is about using MinioClient in a reactive stack, which appears to already have been answered. I really don&#39;t have more to add. The answer I gave makes sense in the context of this question alone. I think your related post about MinioClient is a better question. If you have further questions, you can often find me or another member of the team on Spring Security&#39;s gitter. Happy to chat there."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1674034593,"post_id":74999369,"comment_id":132626643,"body_markdown":"sorry but my topic contains ```Could you please explain why ? Is there way to fix it ?```\nI don&#39;t see answer for that questions","body":"sorry but my topic contains <code>Could you please explain why ? Is there way to fix it ?</code> I don&#39;t see answer for that questions"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1674066720,"post_id":74999369,"comment_id":132637881,"body_markdown":"&quot;Is there a way to fix it&quot; - no, nothing is broken, you cannot use `block` in this way with `ReactiveSecurityContextHolder`. &quot;Could you please explain why?&quot; - yes, it&#39;s because when you call `block` it subscribes immediately, but there is no Reactor Context yet to pull the `SecurityContext` from. There won&#39;t be a `SecurityContext` available in the Reactor Context until the request that kicked off the filter chain subscribes to the response, which hasn&#39;t happened at this point in the request.","body":"&quot;Is there a way to fix it&quot; - no, nothing is broken, you cannot use <code>block</code> in this way with <code>ReactiveSecurityContextHolder</code>. &quot;Could you please explain why?&quot; - yes, it&#39;s because when you call <code>block</code> it subscribes immediately, but there is no Reactor Context yet to pull the <code>SecurityContext</code> from. There won&#39;t be a <code>SecurityContext</code> available in the Reactor Context until the request that kicked off the filter chain subscribes to the response, which hasn&#39;t happened at this point in the request."}],"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"comment_count":10,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674067236,"creation_date":1672785845,"answer_id":74999369,"question_id":74921888,"body_markdown":"It is not necessary to use `ReactiveSecurityContextHolder` to get the `Jwt` instance. For example, if `JwtAuthenticationToken` is non-null, you can get the `Jwt` instance by doing:\r\n\r\n```java\r\npublic Mono&lt;Void&gt; foo(JwtAuthenticationToken token) throws ExecutionException, InterruptedException {\r\n    Jwt jwt = token.getToken();\r\n    // ...\r\n}\r\n```\r\n\r\nOr, you can translate it with `@AuthenticationPrincipal` like so:\r\n\r\n```java\r\npublic Mono&lt;Void&gt; foo(@AuthenticationPrincipal Jwt jwt) throws ExecutionException, InterruptedException {\r\n    // ...\r\n}\r\n```\r\n\r\nFurther, it is not possible to use `block()` with `ReactiveSecurityContextHolder` in the way the OP describes. `block()` subscribes immediately, and there is nothing immediately available in the Reactor Context at this point. \r\n\r\nThe reactive stack works somewhat in the inverse to perhaps what you are thinking. While there *is* a filter in Spring Security called `ReactorContextWebFilter` that populates the Reactor Context with the `SecurityContext`, its work is deferred until the HTTP response is subscribed to, for example by the browser. `block()` at this point states (correctly) that the Reactor Context is empty. Instead, if you participate in the existing subscription (instead of calling `block()`), then you are also deferring your work in the same way and will be able to use `ReactiveSecurityContextHolder`.\r\n\r\n**EDIT**: Having read the additional context about the OP&#39;s situation from https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok, it&#39;s clear now that the OP is aware of these ways to get the instance of a `Jwt`, and does not want to use them. I&#39;ll leave the answer here for completeness anyway.","title":"How to get raw token from ReactiveSecurityContextHolder?","body":"<p>It is not necessary to use <code>ReactiveSecurityContextHolder</code> to get the <code>Jwt</code> instance. For example, if <code>JwtAuthenticationToken</code> is non-null, you can get the <code>Jwt</code> instance by doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;Void&gt; foo(JwtAuthenticationToken token) throws ExecutionException, InterruptedException {\n    Jwt jwt = token.getToken();\n    // ...\n}\n</code></pre>\n<p>Or, you can translate it with <code>@AuthenticationPrincipal</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;Void&gt; foo(@AuthenticationPrincipal Jwt jwt) throws ExecutionException, InterruptedException {\n    // ...\n}\n</code></pre>\n<p>Further, it is not possible to use <code>block()</code> with <code>ReactiveSecurityContextHolder</code> in the way the OP describes. <code>block()</code> subscribes immediately, and there is nothing immediately available in the Reactor Context at this point.</p>\n<p>The reactive stack works somewhat in the inverse to perhaps what you are thinking. While there <em>is</em> a filter in Spring Security called <code>ReactorContextWebFilter</code> that populates the Reactor Context with the <code>SecurityContext</code>, its work is deferred until the HTTP response is subscribed to, for example by the browser. <code>block()</code> at this point states (correctly) that the Reactor Context is empty. Instead, if you participate in the existing subscription (instead of calling <code>block()</code>), then you are also deferring your work in the same way and will be able to use <code>ReactiveSecurityContextHolder</code>.</p>\n<p><strong>EDIT</strong>: Having read the additional context about the OP's situation from <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\">How to get jwt token value in spring webflux? (to exchange it with Minio STS token)</a>, it's clear now that the OP is aware of these ways to get the instance of a <code>Jwt</code>, and does not want to use them. I'll leave the answer here for completeness anyway.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1674067236,"creation_date":1672069748,"question_id":74921888,"body_markdown":"I have a method:\r\n\r\n    @GetMapping(&quot;/foo&quot;)\r\n    public void&gt; foo(JwtAuthenticationToken token) throws ExecutionException, InterruptedException {\r\n        Object object = ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\r\n                .toFuture()\r\n                .get();\r\n        System.out.println(object);\r\n\r\n`JwtAuthenticationToken` object which is method argument is succesfully autowired and not null but\r\nresult of \r\n\r\n    Object object = ReactiveSecurityContextHolder.getContext()\r\n                    .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\r\n                    .toFuture()\r\n                    .get(); \r\n\r\nis null.\r\n\r\nCould you please explain why ?  Is there way to fix it ?\r\n\r\nrelated topic: https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok","title":"How to get raw token from ReactiveSecurityContextHolder?","body":"<p>I have a method:</p>\n<pre><code>@GetMapping(&quot;/foo&quot;)\npublic void&gt; foo(JwtAuthenticationToken token) throws ExecutionException, InterruptedException {\n    Object object = ReactiveSecurityContextHolder.getContext()\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\n            .toFuture()\n            .get();\n    System.out.println(object);\n</code></pre>\n<p><code>JwtAuthenticationToken</code> object which is method argument is succesfully autowired and not null but\nresult of</p>\n<pre><code>Object object = ReactiveSecurityContextHolder.getContext()\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\n                .toFuture()\n                .get(); \n</code></pre>\n<p>is null.</p>\n<p>Could you please explain why ?  Is there way to fix it ?</p>\n<p>related topic: <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\">How to get jwt token value in spring webflux? (to exchange it with Minio STS token)</a></p>\n"},{"tags":["java","constructor-overloading"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1674067741,"post_id":75163582,"comment_id":132638186,"body_markdown":"You&#39;re looking for a &quot;builder&quot;, so when you want to know more, search for &quot;builder pattern&quot;. That those answers suggest ways to keep using var args is very disappointing. That varargs constructor isn&#39;t as useful as you may think. It is actually a code smell and can be incorrectly used very easily, for example by using `new FooClass(1, second, third)`. I works fine, the compiler won&#39;t complain that you never passed &quot;first&quot;, but your constructor assumes that you did. Therefore you could end up with an incorrectly built object.","body":"You&#39;re looking for a &quot;builder&quot;, so when you want to know more, search for &quot;builder pattern&quot;. That those answers suggest ways to keep using var args is very disappointing. That varargs constructor isn&#39;t as useful as you may think. It is actually a code smell and can be incorrectly used very easily, for example by using <code>new FooClass(1, second, third)</code>. I works fine, the compiler won&#39;t complain that you never passed &quot;first&quot;, but your constructor assumes that you did. Therefore you could end up with an incorrectly built object."}],"answers":[{"comments":[{"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"score":0,"creation_date":1674067270,"post_id":75163696,"comment_id":132638040,"body_markdown":"Thank You very much. I wish I could mark multiple answers as equally accepted. But I can only accept one.","body":"Thank You very much. I wish I could mark multiple answers as equally accepted. But I can only accept one."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674066275,"creation_date":1674066275,"answer_id":75163696,"question_id":75163582,"body_markdown":"You can&#39;t. As the error says, `this` is available, but __only__ if it is the first line (and therefore inherently you can only write one such call, total).\r\n\r\nIn theory you can do it, but whether it&#39;s clean - that&#39;s up for debate:\r\n\r\n```\r\nthis(id, myStrings[0],\r\n  myStrings.length &gt; 1 ? myString[1] : null,\r\n  myStrings.length &gt; 2 ? myString[2] : null);\r\n```\r\n\r\nThere is no general solution to it - you find a way to reduce the whole thing to a single `this()` invocation, utilizing only static methods and basic expressions, or, you can&#39;t do it. In this specific case there was a way to get there with basic expressions, but that option isn&#39;t always available.\r\n","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>You can't. As the error says, <code>this</code> is available, but <strong>only</strong> if it is the first line (and therefore inherently you can only write one such call, total).</p>\n<p>In theory you can do it, but whether it's clean - that's up for debate:</p>\n<pre><code>this(id, myStrings[0],\n  myStrings.length &gt; 1 ? myString[1] : null,\n  myStrings.length &gt; 2 ? myString[2] : null);\n</code></pre>\n<p>There is no general solution to it - you find a way to reduce the whole thing to a single <code>this()</code> invocation, utilizing only static methods and basic expressions, or, you can't do it. In this specific case there was a way to get there with basic expressions, but that option isn't always available.</p>\n"},{"comments":[{"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"score":0,"creation_date":1674067267,"post_id":75163705,"comment_id":132638039,"body_markdown":"Thank You very much. I wish I could mark multiple answers as equally accepted. But I can do only one.","body":"Thank You very much. I wish I could mark multiple answers as equally accepted. But I can do only one."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674066308,"creation_date":1674066308,"answer_id":75163705,"question_id":75163582,"body_markdown":"Obey the error message, by condensing the code into one line:\r\n\r\n    FooClass(final int id, final String... myStrings) {\r\n        this(id, myStrings[0], myStrings.length == 1 ? null : myStrings[1], myStrings.length == 2 ? null : myStrings[2]);\r\n    }\r\n\r\n---\r\n\r\nThe usual approach is a factory method, which works for arbitrarily complex code:\r\n\r\n    public static FooClass create(int id, String... myStrings) {\r\n        if (myStrings.length == 1) {\r\n            return FooClass(id, myStrings[0], null, null);\r\n        } else if (myStrings.length == 2) {\r\n            return FooClass(id, myStrings[0], myStrings[1], null);\r\n        } else {\r\n            return FooClass(id, myStrings[0], myStrings[1], myStrings[2]);\r\n        }\r\n    }\r\n","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>Obey the error message, by condensing the code into one line:</p>\n<pre><code>FooClass(final int id, final String... myStrings) {\n    this(id, myStrings[0], myStrings.length == 1 ? null : myStrings[1], myStrings.length == 2 ? null : myStrings[2]);\n}\n</code></pre>\n<hr />\n<p>The usual approach is a factory method, which works for arbitrarily complex code:</p>\n<pre><code>public static FooClass create(int id, String... myStrings) {\n    if (myStrings.length == 1) {\n        return FooClass(id, myStrings[0], null, null);\n    } else if (myStrings.length == 2) {\n        return FooClass(id, myStrings[0], myStrings[1], null);\n    } else {\n        return FooClass(id, myStrings[0], myStrings[1], myStrings[2]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674066579,"creation_date":1674066579,"answer_id":75163752,"question_id":75163582,"body_markdown":"In Java, a call to `this` or `super` MUST be the first line of the constructor.\r\n\r\n    class FooClass {\r\n        int id;\r\n        String first;\r\n        String second;\r\n        String third;\r\n    \r\n        FooClass(final int id, final String first) {\r\n            this(id, first, null);\r\n        }\r\n        \r\n        FooClass(final int id, final String first, final String second) {\r\n            this(id, first, second, null);\r\n        }\r\n        \r\n        FooClass(final int id, final String first, final String second, final String third) {\r\n            this.id = id;\r\n            this.first = first;\r\n            this.second = second;\r\n            this.third = third;\r\n        }\r\n        \r\n    }\r\n\r\n\r\nOne approach to get similar functionality to varargs is to simply write multiple constructors that chain upwards with default values passed.  \r\n\r\nThis could get cumbersome though if the number of parameters is high, but the example is only using 3 `String` values.\r\n\r\nHere is what calling them would look like:\r\n\r\n    //Example calls\r\n    public static void main(String [] args) {\r\n    \tFooClass foo1 = new FooClass(1, &quot;foo1&quot;);\r\n    \tFooClass foo2 = new FooClass(2, &quot;foo1&quot;, &quot;foo2&quot;);\r\n    \tFooClass foo3 = new FooClass(3, &quot;foo1&quot;, &quot;foo2&quot;, &quot;foo3&quot;);\r\n    }","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>In Java, a call to <code>this</code> or <code>super</code> MUST be the first line of the constructor.</p>\n<pre><code>class FooClass {\n    int id;\n    String first;\n    String second;\n    String third;\n\n    FooClass(final int id, final String first) {\n        this(id, first, null);\n    }\n    \n    FooClass(final int id, final String first, final String second) {\n        this(id, first, second, null);\n    }\n    \n    FooClass(final int id, final String first, final String second, final String third) {\n        this.id = id;\n        this.first = first;\n        this.second = second;\n        this.third = third;\n    }\n    \n}\n</code></pre>\n<p>One approach to get similar functionality to varargs is to simply write multiple constructors that chain upwards with default values passed.</p>\n<p>This could get cumbersome though if the number of parameters is high, but the example is only using 3 <code>String</code> values.</p>\n<p>Here is what calling them would look like:</p>\n<pre><code>//Example calls\npublic static void main(String [] args) {\n    FooClass foo1 = new FooClass(1, &quot;foo1&quot;);\n    FooClass foo2 = new FooClass(2, &quot;foo1&quot;, &quot;foo2&quot;);\n    FooClass foo3 = new FooClass(3, &quot;foo1&quot;, &quot;foo2&quot;, &quot;foo3&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"score":0,"creation_date":1674067297,"post_id":75163797,"comment_id":132638048,"body_markdown":"Thank You very much. I wish I could mark multiple answers as equally accepted. But I can mark only one.","body":"Thank You very much. I wish I could mark multiple answers as equally accepted. But I can mark only one."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674066834,"creation_date":1674066834,"answer_id":75163797,"question_id":75163582,"body_markdown":"You can do it by writing `static` method to take care of extracting a value from the array.\r\n```\r\nprivate static String getValue(int index, String... strings) {\r\n  if (strings == null || index &gt;= strings.length) {\r\n    return null;\r\n  }\r\n  return strings[index];\r\n}\r\n```\r\nThen use this method with the all args constructor like this:\r\n```\r\npublic class FooClass {\r\n\r\n  //fields\r\n\r\n  public FooClass(final int id, final String first, final String second, final String third) {\r\n    //assign values\r\n  }\r\n\r\n  FooClass(final int id, final String... myStrings){\r\n    this(id, getValue(0, myStrings), getValue(1, myStrings), getValue(2, myStrings));\r\n  }\r\n\r\n  private static String getValue(int index, String... strings) {\r\n    ...\r\n  }\r\n}\r\n```\r\nIt&#39;s debatable, if this is cleaner or not, i&#39;d say it depends on the style adopted in the current project.","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>You can do it by writing <code>static</code> method to take care of extracting a value from the array.</p>\n<pre><code>private static String getValue(int index, String... strings) {\n  if (strings == null || index &gt;= strings.length) {\n    return null;\n  }\n  return strings[index];\n}\n</code></pre>\n<p>Then use this method with the all args constructor like this:</p>\n<pre><code>public class FooClass {\n\n  //fields\n\n  public FooClass(final int id, final String first, final String second, final String third) {\n    //assign values\n  }\n\n  FooClass(final int id, final String... myStrings){\n    this(id, getValue(0, myStrings), getValue(1, myStrings), getValue(2, myStrings));\n  }\n\n  private static String getValue(int index, String... strings) {\n    ...\n  }\n}\n</code></pre>\n<p>It's debatable, if this is cleaner or not, i'd say it depends on the style adopted in the current project.</p>\n"}],"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75163752,"answer_count":4,"score":4,"last_activity_date":1674066834,"creation_date":1674065772,"question_id":75163582,"body_markdown":"I have a simple class with a constructor of all available fields and i want to add an overloaded constructor with varargs to allow the creating of objects even if some fields are unknown. \r\n\r\n\r\n    class FooClass {\r\n        int id;\r\n        String first;\r\n        String second;\r\n        String third;\r\n\r\n        FooClass(final int id, final String first, final String second, final String third) {\r\n            this.id = id;\r\n            this.first = first;\r\n            this.second = second;\r\n            this.third = third;\r\n        }\r\n\r\n        FooClass(final int id, final String... myStrings){\r\n            if(myStrings.length == 1) {\r\n                this.id     = id;\r\n                this.first  = myStrings[0];\r\n            } else if (myStrings.length == 2) {\r\n                this.id     = id;\r\n                this.first  = myStrings[0];\r\n                this.second = myStrings[1];\r\n            } else {\r\n                this.id     = id;\r\n                this.first  = myStrings[0];\r\n                this.second = myStrings[1];\r\n                this.third  = myStrings[2];\r\n            }\r\n        }\r\n    }\r\n\r\nI wanted to refactor the second constructor to avoid repeating `this.id, this.first ...` as follows, but I am getting a compile error\r\n\r\n    FooClass(final int id, final String... myStrings){\r\n            if(myStrings.length == 1) {\r\n                this(id, myStrings[0], null, null);\r\n            } else if (myStrings.length == 2) {\r\n                this(id, myStrings[0], myStrings[1], null);\r\n            } else {\r\n                this(id, myStrings[0], myStrings[1], myStrings[2]);\r\n            }\r\n        }\r\n\r\nThe error is:\r\n\r\n&gt; Call to &#39;this()&#39; must be first statement in constructor body\r\n\r\nWhat is the correct way to call the base constructor from the varargs constructor with `null` values? Or a better way to implement what I described above? ","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>I have a simple class with a constructor of all available fields and i want to add an overloaded constructor with varargs to allow the creating of objects even if some fields are unknown.</p>\n<pre><code>class FooClass {\n    int id;\n    String first;\n    String second;\n    String third;\n\n    FooClass(final int id, final String first, final String second, final String third) {\n        this.id = id;\n        this.first = first;\n        this.second = second;\n        this.third = third;\n    }\n\n    FooClass(final int id, final String... myStrings){\n        if(myStrings.length == 1) {\n            this.id     = id;\n            this.first  = myStrings[0];\n        } else if (myStrings.length == 2) {\n            this.id     = id;\n            this.first  = myStrings[0];\n            this.second = myStrings[1];\n        } else {\n            this.id     = id;\n            this.first  = myStrings[0];\n            this.second = myStrings[1];\n            this.third  = myStrings[2];\n        }\n    }\n}\n</code></pre>\n<p>I wanted to refactor the second constructor to avoid repeating <code>this.id, this.first ...</code> as follows, but I am getting a compile error</p>\n<pre><code>FooClass(final int id, final String... myStrings){\n        if(myStrings.length == 1) {\n            this(id, myStrings[0], null, null);\n        } else if (myStrings.length == 2) {\n            this(id, myStrings[0], myStrings[1], null);\n        } else {\n            this(id, myStrings[0], myStrings[1], myStrings[2]);\n        }\n    }\n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>Call to 'this()' must be first statement in constructor body</p>\n</blockquote>\n<p>What is the correct way to call the base constructor from the varargs constructor with <code>null</code> values? Or a better way to implement what I described above?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":2,"creation_date":1674066345,"post_id":75163661,"comment_id":132637768,"body_markdown":"`Scanner s = new Scanner(path)` Because this class doesn&#39;t take a path as string.","body":"<code>Scanner s = new Scanner(path)</code> Because this class doesn&#39;t take a path as string."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1674067250,"post_id":75163661,"comment_id":132638035,"body_markdown":"Dupe; [Exception in thread &quot;main&quot; java.util.InputMismatchException &quot;Graph&quot;](//stackoverflow.com/q/34183189)","body":"Dupe; <a href=\"//stackoverflow.com/q/34183189\">Exception in thread &quot;main&quot; java.util.InputMismatchException &quot;Graph&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674066435,"creation_date":1674066435,"answer_id":75163734,"question_id":75163661,"body_markdown":"Your while loop loops only if `s.hasNextInt()` is true (because you wrote `while (s.hasNextInt())`. You then again check: `if (s.hasNextInt()`.\r\n\r\nThis `if` is useless. Of course `s.hasNextInt()` is true. If it wasn&#39;t, the while loop wouldn&#39;t have looped!\r\n\r\nIt sounds like you want to do two things:\r\n\r\n1. make that `while (s.hasNext())` instead.\r\n2. Fix your deplorable exception handling. Ditch the catch. Add `throws IOException` to the method (and to `main` if you want, `psv main()` can, and usually should, be declared as `public static void main(String[] args) throws Exception`. Less code, and errors with way more detail. Win-win.\r\n","title":"Reading numbers from file using Scanner","body":"<p>Your while loop loops only if <code>s.hasNextInt()</code> is true (because you wrote <code>while (s.hasNextInt())</code>. You then again check: <code>if (s.hasNextInt()</code>.</p>\n<p>This <code>if</code> is useless. Of course <code>s.hasNextInt()</code> is true. If it wasn't, the while loop wouldn't have looped!</p>\n<p>It sounds like you want to do two things:</p>\n<ol>\n<li>make that <code>while (s.hasNext())</code> instead.</li>\n<li>Fix your deplorable exception handling. Ditch the catch. Add <code>throws IOException</code> to the method (and to <code>main</code> if you want, <code>psv main()</code> can, and usually should, be declared as <code>public static void main(String[] args) throws Exception</code>. Less code, and errors with way more detail. Win-win.</li>\n</ol>\n"}],"owner":{"account_id":27566231,"reputation":27,"user_id":21038368,"display_name":"wydra__"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75163734,"answer_count":1,"score":0,"last_activity_date":1674066435,"creation_date":1674066176,"question_id":75163661,"body_markdown":"\r\n\r\nThis is my simple program which counts the sum of the numbers in the file\r\n\r\n```\r\nint sum = 0;\r\n\r\n        try(Scanner s = new Scanner(new File(path)))\r\n        {\r\n            while (s.hasNextInt())\r\n            {\r\n                if (s.hasNextInt())\r\n                {\r\n                    sum += s.nextInt();\r\n                }\r\n                else\r\n                {\r\n                    s.next();\r\n                }\r\n            }\r\n        } catch (FileNotFoundException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(sum);\r\n```\r\n\r\n\r\nWhy it doesnt work if i do something like that: \r\n\r\nScanner s = new Scanner(path)\r\n\r\ninstead of\r\n\r\nScanner s = new Scanner(new File(path))\r\n\r\n","title":"Reading numbers from file using Scanner","body":"<p>This is my simple program which counts the sum of the numbers in the file</p>\n<pre><code>int sum = 0;\n\n        try(Scanner s = new Scanner(new File(path)))\n        {\n            while (s.hasNextInt())\n            {\n                if (s.hasNextInt())\n                {\n                    sum += s.nextInt();\n                }\n                else\n                {\n                    s.next();\n                }\n            }\n        } catch (FileNotFoundException e)\n        {\n            e.printStackTrace();\n        }\n\n        System.out.println(sum);\n</code></pre>\n<p>Why it doesnt work if i do something like that:</p>\n<p>Scanner s = new Scanner(path)</p>\n<p>instead of</p>\n<p>Scanner s = new Scanner(new File(path))</p>\n"},{"tags":["java","docker","gitlab-ci","gitlab-ci-runner"],"answers":[{"comments":[{"owner":{"account_id":7152403,"reputation":12017,"user_id":5465973,"accept_rate":57,"display_name":"Pierre B."},"score":1,"creation_date":1673687676,"post_id":75107755,"comment_id":132557237,"body_markdown":"This is not a bug, but a misusage of Gitlab. Job&#39;s `script` is not passed as argument to container entrypoint (_command_ in Docker terminology) but rather run within container after it&#39;s started.","body":"This is not a bug, but a misusage of Gitlab. Job&#39;s <code>script</code> is not passed as argument to container entrypoint (<i>command</i> in Docker terminology) but rather run within container after it&#39;s started."}],"tags":[],"owner":{"account_id":4598721,"reputation":2757,"user_id":3730077,"display_name":"Slava Kuravsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673606014,"creation_date":1673604897,"answer_id":75107755,"question_id":75057654,"body_markdown":"Try to wrap your script in single quotes:\r\n\r\n    script:\r\n        - &#39;download -f zip -u true test-download.zip&#39;\r\n\r\nEDIT:\r\n\r\nOh, this [open bug][1] in gitlab could be relevant to you \r\n\r\n\r\n  [1]: https://gitlab.com/gitlab-org/gitlab-runner/-/issues/27706","title":"gitlab-runner passes wrong arguments to custom image","body":"<p>Try to wrap your script in single quotes:</p>\n<pre><code>script:\n    - 'download -f zip -u true test-download.zip'\n</code></pre>\n<p>EDIT:</p>\n<p>Oh, this <a href=\"https://gitlab.com/gitlab-org/gitlab-runner/-/issues/27706\" rel=\"nofollow noreferrer\">open bug</a> in gitlab could be relevant to you</p>\n"},{"comments":[{"owner":{"account_id":2643990,"reputation":353,"user_id":2287089,"accept_rate":65,"display_name":"ruben1691"},"score":0,"creation_date":1674066462,"post_id":75108233,"comment_id":132637798,"body_markdown":"Thank you for the thorough explanation! In the end I went for another approach (check my answer), but since you spent the time explaining all of this, the bounty is yours","body":"Thank you for the thorough explanation! In the end I went for another approach (check my answer), but since you spent the time explaining all of this, the bounty is yours"}],"tags":[],"owner":{"account_id":7152403,"reputation":12017,"user_id":5465973,"accept_rate":57,"display_name":"Pierre B."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673607210,"creation_date":1673607210,"answer_id":75108233,"question_id":75057654,"body_markdown":"&gt; I would like to avoid using the entrypoint directive as it needs to be used on multiple files, so I rather fix the issue at the root.\r\n\r\nYou can change your Dockerfile instead to keep default `ENTRYPOINT` (as `openjdk:18` doesn&#39;t define any entrypoint, it will be empty):\r\n\r\n```dockerfile\r\nFROM openjdk:18\r\n\r\n# ...\r\n\r\n# ENTRYPOINT [&quot;./run.sh&quot;] # remove this\r\n\r\n# Add run.sh to path to be able to use `run.sh` from any directory\r\nENV PATH=&quot;${PATH}:/opt/app&quot;\r\n```\r\n\r\nAnd update your `run.sh` to specify full path to `jar`:\r\n\r\n```sh\r\n#!/bin/bash\r\n\r\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar $PROJECT_HOME/cli.jar &quot;$@&quot;\r\n```\r\n\r\nNow your container will start in Gitlab without having to specify `entrypoint` keyword for job. You can then setup something like this:\r\n\r\n```yaml\r\ndownload:\r\n  stage: download\r\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\r\n  variables:\r\n    URL: &lt;URL&gt;\r\n    API_KEY: &lt;API_KEY&gt;\r\n    CI_DEBUG_TRACE: &quot;true&quot;\r\n  script:\r\n  # Specify command using run.sh\r\n  # This command is run from within your container\r\n  # Note that script is not an argument passed on your image startup\r\n  # But independent commands run within your container using shell\r\n  - run.sh download -f zip -u true test-download.zip\r\n```\r\n\r\n\r\nNotes: \r\n  - Gitlab won&#39;t run your script in Dockerfile&#39;s `WORKDIR` but [in a dedicated directory where your project will be cloned.][5]. Using `./` will look for script and jar in current directory at the moment your command is run, but they wouldn&#39;t be found if not run from `/opt/app`. Specyfing full path to jar and adding your `run.sh` script to `PATH` make sure they&#39;ll be found wherever your `run.sh` from. Alternatively you could run `cd /opt/app` in your job&#39;s script but it may cause unwanted side effects. \r\n - Without `ENTRYPOINT` you won&#39;t be able to run Docker commands like this \r\n   ```\r\n   docker run &quot; &lt;url&gt;/my-image:&lt;tag&gt;&quot; download ...\r\n   ```\r\n   You&#39;ll need to specify either `COMMAND` or `--entrypoint` such as\r\n   ```\r\n   docker run &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; run.sh download ...\r\n   docker run --entrypoint run.sh &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; download ...\r\n   ```\r\n- You specified not wanting to do this, but [overriding image `entrypoint` on your job][1] seems a much simpler and straightforward solution. Using multiple files you may leverage Gitlab&#39;s [`extends`][7] and [`include`][6].\r\n\r\n---\r\n\r\nAnd now for the fun part\r\n\r\n&gt; what is happening \r\n\r\nWhen Gitlab run your container for a job it will use the `entrypoint` defined in your Dockerfile by default. [From doc][1]:\r\n\r\n\r\n&gt; 1. The runner starts a Docker container **using the defined entrypoint**. The default from Dockerfile that may be overridden in the\r\n&gt; .gitlab-ci.yml file.\r\n&gt; 2. The runner attaches itself to a running container.\r\n&gt; 3. The runner prepares a script (the combination of before_script, script, and after_script).\r\n&gt; 4. The runner sends the script to the containers shell stdin and receives the output.\r\n\r\nAnd what the doc doesn&#39;t say is that [Gitlab will try to use various form of `sh` as Docker _command_][2]. In short for step 1. it&#39;s like running this Docker command:\r\n\r\n```sh\r\n# Gitlab tries to run container for your job\r\ndocker run -it &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; sh\r\n```\r\n\r\nIt doesn&#39;t work as Gitlab will use default entrypoint and the final command run in Docker is:\r\n\r\n```sh\r\n./run.sh sh\r\n```\r\n\r\nWhere `./run.sh` is the `entrypoint` from Dockerfile and `sh` is the `command` provided by Gitlab. It causes the error you see:\r\n\r\n&gt; `tool: error:  invalid  choice:  &#39;sh&#39;  (choose  from  &#39;upload&#39;,  &#39;download&#39;, &#39;apply&#39;)`\r\n\r\nYou never reach your job&#39;s script (step 4). See [ENTRYPOINT vs. CMD for details][3].\r\n\r\nFurthermore, the script you define is a command itself. Even if your container started, it wouldn&#39;t work as the following command would be run inside your container:\r\n\r\n```sh\r\ndownload -f zip -u true test-download.zip\r\n\r\n# &#39;download&#39; command doesn&#39;t exists\r\n# You probably want to run instead something like:\r\n\r\n/opt/app/run.sh download -f zip -u true test-download.zip\r\n```\r\n\r\n\r\n[1]: https://docs.gitlab.com/ee/ci/docker/using_docker_images.html#override-the-entrypoint-of-an-image\r\n[2]: https://github.com/gitlabhq/gitlab-runner/blob/39ebe9ab9f0f9c14e9745d1a59a15018880c6962/shells/bash.go#L16\r\n[3]: https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact\r\n[5]: https://docs.gitlab.com/ee/ci/runners/configure_runners.html#custom-build-directories\r\n[6]: https://docs.gitlab.com/ee/ci/yaml/#include\r\n[7]: https://docs.gitlab.com/ee/ci/yaml/#extends","title":"gitlab-runner passes wrong arguments to custom image","body":"<blockquote>\n<p>I would like to avoid using the entrypoint directive as it needs to be used on multiple files, so I rather fix the issue at the root.</p>\n</blockquote>\n<p>You can change your Dockerfile instead to keep default <code>ENTRYPOINT</code> (as <code>openjdk:18</code> doesn't define any entrypoint, it will be empty):</p>\n<pre><code>FROM openjdk:18\n\n# ...\n\n# ENTRYPOINT [&quot;./run.sh&quot;] # remove this\n\n# Add run.sh to path to be able to use `run.sh` from any directory\nENV PATH=&quot;${PATH}:/opt/app&quot;\n</code></pre>\n<p>And update your <code>run.sh</code> to specify full path to <code>jar</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar $PROJECT_HOME/cli.jar &quot;$@&quot;\n</code></pre>\n<p>Now your container will start in Gitlab without having to specify <code>entrypoint</code> keyword for job. You can then setup something like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>download:\n  stage: download\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\n  variables:\n    URL: &lt;URL&gt;\n    API_KEY: &lt;API_KEY&gt;\n    CI_DEBUG_TRACE: &quot;true&quot;\n  script:\n  # Specify command using run.sh\n  # This command is run from within your container\n  # Note that script is not an argument passed on your image startup\n  # But independent commands run within your container using shell\n  - run.sh download -f zip -u true test-download.zip\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>Gitlab won't run your script in Dockerfile's <code>WORKDIR</code> but <a href=\"https://docs.gitlab.com/ee/ci/runners/configure_runners.html#custom-build-directories\" rel=\"nofollow noreferrer\">in a dedicated directory where your project will be cloned.</a>. Using <code>./</code> will look for script and jar in current directory at the moment your command is run, but they wouldn't be found if not run from <code>/opt/app</code>. Specyfing full path to jar and adding your <code>run.sh</code> script to <code>PATH</code> make sure they'll be found wherever your <code>run.sh</code> from. Alternatively you could run <code>cd /opt/app</code> in your job's script but it may cause unwanted side effects.</li>\n<li>Without <code>ENTRYPOINT</code> you won't be able to run Docker commands like this\n<pre><code>docker run &quot; &lt;url&gt;/my-image:&lt;tag&gt;&quot; download ...\n</code></pre>\nYou'll need to specify either <code>COMMAND</code> or <code>--entrypoint</code> such as\n<pre><code>docker run &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; run.sh download ...\ndocker run --entrypoint run.sh &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; download ...\n</code></pre>\n</li>\n<li>You specified not wanting to do this, but <a href=\"https://docs.gitlab.com/ee/ci/docker/using_docker_images.html#override-the-entrypoint-of-an-image\" rel=\"nofollow noreferrer\">overriding image <code>entrypoint</code> on your job</a> seems a much simpler and straightforward solution. Using multiple files you may leverage Gitlab's <a href=\"https://docs.gitlab.com/ee/ci/yaml/#extends\" rel=\"nofollow noreferrer\"><code>extends</code></a> and <a href=\"https://docs.gitlab.com/ee/ci/yaml/#include\" rel=\"nofollow noreferrer\"><code>include</code></a>.</li>\n</ul>\n<hr />\n<p>And now for the fun part</p>\n<blockquote>\n<p>what is happening</p>\n</blockquote>\n<p>When Gitlab run your container for a job it will use the <code>entrypoint</code> defined in your Dockerfile by default. <a href=\"https://docs.gitlab.com/ee/ci/docker/using_docker_images.html#override-the-entrypoint-of-an-image\" rel=\"nofollow noreferrer\">From doc</a>:</p>\n<blockquote>\n<ol>\n<li>The runner starts a Docker container <strong>using the defined entrypoint</strong>. The default from Dockerfile that may be overridden in the\n.gitlab-ci.yml file.</li>\n<li>The runner attaches itself to a running container.</li>\n<li>The runner prepares a script (the combination of before_script, script, and after_script).</li>\n<li>The runner sends the script to the containers shell stdin and receives the output.</li>\n</ol>\n</blockquote>\n<p>And what the doc doesn't say is that <a href=\"https://github.com/gitlabhq/gitlab-runner/blob/39ebe9ab9f0f9c14e9745d1a59a15018880c6962/shells/bash.go#L16\" rel=\"nofollow noreferrer\">Gitlab will try to use various form of <code>sh</code> as Docker <em>command</em></a>. In short for step 1. it's like running this Docker command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Gitlab tries to run container for your job\ndocker run -it &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; sh\n</code></pre>\n<p>It doesn't work as Gitlab will use default entrypoint and the final command run in Docker is:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./run.sh sh\n</code></pre>\n<p>Where <code>./run.sh</code> is the <code>entrypoint</code> from Dockerfile and <code>sh</code> is the <code>command</code> provided by Gitlab. It causes the error you see:</p>\n<blockquote>\n<p><code>tool: error:  invalid  choice:  'sh'  (choose  from  'upload',  'download', 'apply')</code></p>\n</blockquote>\n<p>You never reach your job's script (step 4). See <a href=\"https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact\" rel=\"nofollow noreferrer\">ENTRYPOINT vs. CMD for details</a>.</p>\n<p>Furthermore, the script you define is a command itself. Even if your container started, it wouldn't work as the following command would be run inside your container:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>download -f zip -u true test-download.zip\n\n# 'download' command doesn't exists\n# You probably want to run instead something like:\n\n/opt/app/run.sh download -f zip -u true test-download.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2643990,"reputation":353,"user_id":2287089,"accept_rate":65,"display_name":"ruben1691"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674066340,"creation_date":1674066340,"answer_id":75163716,"question_id":75057654,"body_markdown":"So, after a bit of research, I have been able to find a solution that works for me. \r\n\r\nFrom my research (and as Pierre B. pointed out in [his answer](https://stackoverflow.com/a/75108233/2287089)), Gitlab essentially tries to inject a shell script that performs a check for which shell is available.\r\n\r\nNow, my solution is in no way elegant, but does achieve what I wanted. I modified the Dockerfile like so:\r\n\r\n```dockerfile\r\nFROM openjdk:18-bullseye\r\n\r\nENV JAR_NAME &quot;my-jar.jar&quot;\r\n\r\nENV PROJECT_HOME /opt/app\r\nRUN mkdir -p $PROJECT_HOME\r\n\r\nWORKDIR $PROJECT_HOME\r\nCOPY run.sh $PROJECT_HOME/run.sh\r\nRUN chmod +x $PROJECT_HOME/run.sh\r\n\r\nCOPY target/$JAR_NAME $PROJECT_HOME/cli.jar\r\n\r\nRUN  echo &#39;#!/bin/bash \\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar $PROJECT_HOME/cli.jar &quot;$@&quot;&#39; &gt; /usr/bin/i18n &amp;&amp;  \\\r\n     chmod +x /usr/bin/i18n\r\n\r\nENTRYPOINT [&quot;./run.sh&quot;]\r\n```\r\n\r\nAnd also modified the `run.sh` script this way:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\nif [[ -n &quot;$CI&quot; ]]; then\r\n    echo &quot;this block will only execute in a CI environment&quot;\r\n    exec /bin/bash\r\nelse\r\n    echo &quot;Not in CI. Running the image normally&quot;\r\n    java $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar ./cli.jar &quot;$@&quot;\r\nfi\r\n```\r\nThis works because Gitlab, in its list of [predefined variables](https://docs.gitlab.com/ee/ci/variables/predefined_variables.html), provides a `CI` env var that is set when the script is running on the CI. By doing so, I skip the java invocation but leave it in the case I need to use it when not on a CI.\r\n\r\nNow when I need to use my image, all I need to specify in my `.gitlab-ci.yml` file is this:\r\n\r\n```yaml\r\ndownload:\r\n  stage: download\r\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\r\n  variables:\r\n    URL: &lt;URL&gt;\r\n    API_KEY: &lt;API_KEY&gt;\r\n    CI_DEBUG_TRACE: &quot;true&quot;\r\n  script:\r\n    - i18n download -f zip -u true test-download.zip # This calls the script that was injected in the Dockerfile\r\n```\r\n\r\nThis way I essentially mimic an actual CLI, and can use it in all my projects that require this tool.\r\n\r\nI am not sure though why I need to &quot;echo&quot; the script for the CLI, and I can&#39;t simply copy it. For some reason the env variables are not passed down and I couldn&#39;t spend any more time debugging it. So for now, it will stay like this.\r\n\r\nIf you have any recommendations on how to clean this up, please leave some comments and I will edit my answer!","title":"gitlab-runner passes wrong arguments to custom image","body":"<p>So, after a bit of research, I have been able to find a solution that works for me.</p>\n<p>From my research (and as Pierre B. pointed out in <a href=\"https://stackoverflow.com/a/75108233/2287089\">his answer</a>), Gitlab essentially tries to inject a shell script that performs a check for which shell is available.</p>\n<p>Now, my solution is in no way elegant, but does achieve what I wanted. I modified the Dockerfile like so:</p>\n<pre><code>FROM openjdk:18-bullseye\n\nENV JAR_NAME &quot;my-jar.jar&quot;\n\nENV PROJECT_HOME /opt/app\nRUN mkdir -p $PROJECT_HOME\n\nWORKDIR $PROJECT_HOME\nCOPY run.sh $PROJECT_HOME/run.sh\nRUN chmod +x $PROJECT_HOME/run.sh\n\nCOPY target/$JAR_NAME $PROJECT_HOME/cli.jar\n\nRUN  echo '#!/bin/bash \\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar $PROJECT_HOME/cli.jar &quot;$@&quot;' &gt; /usr/bin/i18n &amp;&amp;  \\\n     chmod +x /usr/bin/i18n\n\nENTRYPOINT [&quot;./run.sh&quot;]\n</code></pre>\n<p>And also modified the <code>run.sh</code> script this way:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nif [[ -n &quot;$CI&quot; ]]; then\n    echo &quot;this block will only execute in a CI environment&quot;\n    exec /bin/bash\nelse\n    echo &quot;Not in CI. Running the image normally&quot;\n    java $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar ./cli.jar &quot;$@&quot;\nfi\n</code></pre>\n<p>This works because Gitlab, in its list of <a href=\"https://docs.gitlab.com/ee/ci/variables/predefined_variables.html\" rel=\"nofollow noreferrer\">predefined variables</a>, provides a <code>CI</code> env var that is set when the script is running on the CI. By doing so, I skip the java invocation but leave it in the case I need to use it when not on a CI.</p>\n<p>Now when I need to use my image, all I need to specify in my <code>.gitlab-ci.yml</code> file is this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>download:\n  stage: download\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\n  variables:\n    URL: &lt;URL&gt;\n    API_KEY: &lt;API_KEY&gt;\n    CI_DEBUG_TRACE: &quot;true&quot;\n  script:\n    - i18n download -f zip -u true test-download.zip # This calls the script that was injected in the Dockerfile\n</code></pre>\n<p>This way I essentially mimic an actual CLI, and can use it in all my projects that require this tool.</p>\n<p>I am not sure though why I need to &quot;echo&quot; the script for the CLI, and I can't simply copy it. For some reason the env variables are not passed down and I couldn't spend any more time debugging it. So for now, it will stay like this.</p>\n<p>If you have any recommendations on how to clean this up, please leave some comments and I will edit my answer!</p>\n"}],"owner":{"account_id":2643990,"reputation":353,"user_id":2287089,"accept_rate":65,"display_name":"ruben1691"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75163716,"answer_count":3,"score":3,"last_activity_date":1674066340,"creation_date":1673269422,"question_id":75057654,"body_markdown":"I have written a small CLI using Java, [Argparse4j](https://argparse4j.github.io/usage.html), and packaged it in docker using this Dockerfile:\r\n\r\n```dockerfile\r\nFROM openjdk:18\r\n\r\nENV JAR_NAME &quot;my-jar-with-dependencies.jar&quot;\r\n\r\nENV PROJECT_HOME /opt/app\r\nRUN mkdir -p $PROJECT_HOME\r\n\r\nWORKDIR $PROJECT_HOME\r\nCOPY run.sh $PROJECT_HOME/run.sh\r\nRUN chmod +x $PROJECT_HOME/run.sh\r\n\r\nCOPY target/$JAR_NAME $PROJECT_HOME/cli.jar\r\n\r\nENTRYPOINT [&quot;./run.sh&quot;]\r\n```\r\n\r\nThe last line of the Dockerfile then invokes a simple bash script:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar ./cli.jar &quot;$@&quot;\r\n```\r\n\r\nThe CLI I wrote has three main actions: upload, download and apply. Therefore argparse4j **expects** one of these actions to be passed as the first parameter, i.e.\r\n\r\n```bash\r\njava -jar cli.jar download #... whatever other argument\r\n```\r\n\r\nThis works just fine when running the docker image locally, but completely fails when running in the CI pipeline:\r\n\r\n```yaml\r\ndownload:\r\n  stage: download\r\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\r\n  variables:\r\n    URL: &lt;URL&gt;\r\n    API_KEY: &lt;API_KEY&gt;\r\n    CI_DEBUG_TRACE: &quot;true&quot;\r\n  script:\r\n    - download -f zip -u true test-download.zip\r\n```\r\nThis is the error that is returned:\r\n\r\n```\r\nExecuting &quot;step_script&quot; stage of the job script 00:01\r\nUsing docker image sha256:&lt;sha&gt; for &lt;url&gt;/my-image:&lt;tag&gt; with digest &lt;url&gt;/my-image:&lt;tag&gt;@sha256:&lt;sha&gt; ...\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nusage: tool [-h] ACTION ...\r\ntool: error:  invalid  choice:  &#39;sh&#39;  (choose  from  &#39;upload&#39;,  &#39;download&#39;,\r\n&#39;apply&#39;)\r\n```\r\n\r\nI have tried following the suggestion in [https://stackoverflow.com/questions/70401876/gitlab-runner-doesnt-run-entrypoint-scripts-in-dockerfile](https://stackoverflow.com/questions/70401876/gitlab-runner-doesnt-run-entrypoint-scripts-in-dockerfile) but I can&#39;t seem to get the CI part to work correctly.\r\n\r\nI would like to avoid using the `entrypoint` directive as it needs to be used on multiple files, so I rather fix the issue at the root.\r\n\r\nDoes anyone have an idea of what is happening or how to fix it?\r\n\r\n","title":"gitlab-runner passes wrong arguments to custom image","body":"<p>I have written a small CLI using Java, <a href=\"https://argparse4j.github.io/usage.html\" rel=\"nofollow noreferrer\">Argparse4j</a>, and packaged it in docker using this Dockerfile:</p>\n<pre><code>FROM openjdk:18\n\nENV JAR_NAME &quot;my-jar-with-dependencies.jar&quot;\n\nENV PROJECT_HOME /opt/app\nRUN mkdir -p $PROJECT_HOME\n\nWORKDIR $PROJECT_HOME\nCOPY run.sh $PROJECT_HOME/run.sh\nRUN chmod +x $PROJECT_HOME/run.sh\n\nCOPY target/$JAR_NAME $PROJECT_HOME/cli.jar\n\nENTRYPOINT [&quot;./run.sh&quot;]\n</code></pre>\n<p>The last line of the Dockerfile then invokes a simple bash script:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar ./cli.jar &quot;$@&quot;\n</code></pre>\n<p>The CLI I wrote has three main actions: upload, download and apply. Therefore argparse4j <strong>expects</strong> one of these actions to be passed as the first parameter, i.e.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar cli.jar download #... whatever other argument\n</code></pre>\n<p>This works just fine when running the docker image locally, but completely fails when running in the CI pipeline:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>download:\n  stage: download\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\n  variables:\n    URL: &lt;URL&gt;\n    API_KEY: &lt;API_KEY&gt;\n    CI_DEBUG_TRACE: &quot;true&quot;\n  script:\n    - download -f zip -u true test-download.zip\n</code></pre>\n<p>This is the error that is returned:</p>\n<pre><code>Executing &quot;step_script&quot; stage of the job script 00:01\nUsing docker image sha256:&lt;sha&gt; for &lt;url&gt;/my-image:&lt;tag&gt; with digest &lt;url&gt;/my-image:&lt;tag&gt;@sha256:&lt;sha&gt; ...\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nusage: tool [-h] ACTION ...\ntool: error:  invalid  choice:  'sh'  (choose  from  'upload',  'download',\n'apply')\n</code></pre>\n<p>I have tried following the suggestion in <a href=\"https://stackoverflow.com/questions/70401876/gitlab-runner-doesnt-run-entrypoint-scripts-in-dockerfile\">gitlab-runner doesn&#39;t run ENTRYPOINT scripts in Dockerfile</a> but I can't seem to get the CI part to work correctly.</p>\n<p>I would like to avoid using the <code>entrypoint</code> directive as it needs to be used on multiple files, so I rather fix the issue at the root.</p>\n<p>Does anyone have an idea of what is happening or how to fix it?</p>\n"},{"tags":["java","spring-retry"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1674054060,"post_id":75153717,"comment_id":132633359,"body_markdown":"Have you set `@EnableRetry` on one of your `@Configuration` classes?","body":"Have you set <code>@EnableRetry</code> on one of your <code>@Configuration</code> classes?"},{"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"score":0,"creation_date":1674059925,"post_id":75153717,"comment_id":132635605,"body_markdown":"@GaryRussell No, nothing like it, thank you for the suggestion I&#39;ll need to look where could be a good place for that.","body":"@GaryRussell No, nothing like it, thank you for the suggestion I&#39;ll need to look where could be a good place for that."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674061227,"post_id":75153717,"comment_id":132636096,"body_markdown":"See the README: https://github.com/spring-projects/spring-retry","body":"See the README: <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-retry</a>"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674065948,"creation_date":1674065948,"answer_id":75163615,"question_id":75153717,"body_markdown":"You need to set `@EnableRetry` on one of your `@Configuration` classes.\r\n\r\nSee the README: https://github.com/spring-projects/spring-retry","title":"Java: use of org.springframework.retry.annotation.Retryable","body":"<p>You need to set <code>@EnableRetry</code> on one of your <code>@Configuration</code> classes.</p>\n<p>See the README: <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-retry</a></p>\n"}],"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674065948,"creation_date":1674003195,"question_id":75153717,"body_markdown":"I&#39;m attempting to use org.springframework.retry.annotation.Retryable with an expectation that if a connection reset or timeout happens, the execution can re-try the call again. But so far I&#39;m not getting the retry setup to work properly. The timeout error looks like this this error:\r\n\r\n```` \r\n    javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: \r\n    java.net.SocketTimeoutException: Read timed out\r\n````\r\nHere is what I have for the retry:\r\n````\r\nimport org.springframework.retry.annotation.Backoff;\r\nimport org.springframework.retry.annotation.Retryable;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.function.Supplier;\r\n\r\n@Service\r\npublic interface RetryService {\r\n\r\n    @Retryable(maxAttempts = 4,\r\n            backoff = @Backoff(delay = 1000))\r\n    &lt;T&gt; T run(Supplier&lt;T&gt; supplier);\r\n\r\n}\r\n````\r\nand retry implementing class:\r\n````\r\nimport com.service.RetryService;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.function.Supplier;\r\n\r\n@Service\r\npublic class RetryImpl implements RetryService {\r\n    @Override\r\n    public &lt;T&gt; T run(Supplier&lt;T&gt; supplier) {\r\n        return supplier.get();\r\n    }\r\n}\r\n````\r\nI use it in the following way:\r\n````\r\nretryService.run(()-&gt;\r\n        myClient.cancel(String id)\r\n);\r\n````\r\nand MyClient.java has the following implementation for the cancel call and caching:\r\n````\r\npublic Response cancel(String id) {\r\n    String externalUrl = &quot;https://other.external.service/rest/cancel?id=&quot;+id;\r\n\r\n    WebTarget target = myClient.target(externalUrl);\r\n    return target.request()\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .cacheControl(cacheControl())\r\n                .buildPut(null)\r\n                .invoke();\r\n}\r\n\r\nprivate static CacheControl cacheControl(){\r\n    CacheControl cacheControl = new CacheControl();\r\n    cacheControl.setMustRevalidate(true);\r\n    cacheControl.setNoStore(true);\r\n    cacheControl.setMaxAge(0);\r\n    cacheControl.setNoCache(true);\r\n    return cacheControl;\r\n}\r\n````\r\n\r\nThe externalUrl var above is an endpoint that&#39;s a void method - it returns nothing.\r\nMy hope is that when timeout happens, the retry implementation would fire up and call the external service another time. My setup works in Postman as long as timeout does NOT occur. But if I let it sit for about 30 min, and try again, then I get the timeout error as above. And if I issue another call via Postman right after the timeout, i do get a successful execution. So the retry setup is not working, seems like something falls asleep.\r\nI&#39;ve tried a dazzling number of variations to make it work, but no luck so far. When timeout happens, i see no logs in Kibana in the external service, while getting the the error above on my end.\r\nI&#39;m hoping there is something obvious that I&#39;m not seeing here, or maybe there is a better way to do this. Any help is very much appreciated.\r\n","title":"Java: use of org.springframework.retry.annotation.Retryable","body":"<p>I'm attempting to use org.springframework.retry.annotation.Retryable with an expectation that if a connection reset or timeout happens, the execution can re-try the call again. But so far I'm not getting the retry setup to work properly. The timeout error looks like this this error:</p>\n<pre><code>    javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: \n    java.net.SocketTimeoutException: Read timed out\n</code></pre>\n<p>Here is what I have for the retry:</p>\n<pre><code>import org.springframework.retry.annotation.Backoff;\nimport org.springframework.retry.annotation.Retryable;\nimport org.springframework.stereotype.Service;\n\nimport java.util.function.Supplier;\n\n@Service\npublic interface RetryService {\n\n    @Retryable(maxAttempts = 4,\n            backoff = @Backoff(delay = 1000))\n    &lt;T&gt; T run(Supplier&lt;T&gt; supplier);\n\n}\n</code></pre>\n<p>and retry implementing class:</p>\n<pre><code>import com.service.RetryService;\nimport org.springframework.stereotype.Service;\n\nimport java.util.function.Supplier;\n\n@Service\npublic class RetryImpl implements RetryService {\n    @Override\n    public &lt;T&gt; T run(Supplier&lt;T&gt; supplier) {\n        return supplier.get();\n    }\n}\n</code></pre>\n<p>I use it in the following way:</p>\n<pre><code>retryService.run(()-&gt;\n        myClient.cancel(String id)\n);\n</code></pre>\n<p>and MyClient.java has the following implementation for the cancel call and caching:</p>\n<pre><code>public Response cancel(String id) {\n    String externalUrl = &quot;https://other.external.service/rest/cancel?id=&quot;+id;\n\n    WebTarget target = myClient.target(externalUrl);\n    return target.request()\n                .accept(MediaType.APPLICATION_JSON)\n                .cacheControl(cacheControl())\n                .buildPut(null)\n                .invoke();\n}\n\nprivate static CacheControl cacheControl(){\n    CacheControl cacheControl = new CacheControl();\n    cacheControl.setMustRevalidate(true);\n    cacheControl.setNoStore(true);\n    cacheControl.setMaxAge(0);\n    cacheControl.setNoCache(true);\n    return cacheControl;\n}\n</code></pre>\n<p>The externalUrl var above is an endpoint that's a void method - it returns nothing.\nMy hope is that when timeout happens, the retry implementation would fire up and call the external service another time. My setup works in Postman as long as timeout does NOT occur. But if I let it sit for about 30 min, and try again, then I get the timeout error as above. And if I issue another call via Postman right after the timeout, i do get a successful execution. So the retry setup is not working, seems like something falls asleep.\nI've tried a dazzling number of variations to make it work, but no luck so far. When timeout happens, i see no logs in Kibana in the external service, while getting the the error above on my end.\nI'm hoping there is something obvious that I'm not seeing here, or maybe there is a better way to do this. Any help is very much appreciated.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1674072477,"post_id":75163576,"comment_id":132639573,"body_markdown":"did u check this https://stackoverflow.com/questions/43502332/how-to-get-the-requestbody-in-an-exceptionhandler-spring-rest","body":"did u check this <a href=\"https://stackoverflow.com/questions/43502332/how-to-get-the-requestbody-in-an-exceptionhandler-spring-rest\" title=\"how to get the requestbody in an exceptionhandler spring rest\">stackoverflow.com/questions/43502332/&hellip;</a>"},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1674114073,"post_id":75163576,"comment_id":132646543,"body_markdown":"I did see it. It has no relation with my issue. There the question is to know how to retrieve the request body when MethodArgumentNotValidException is thrown. I do get the content of my request. My issue is that i don&#39;t have the whole data of the request sent. \n1. I used ManagedBean to pass data to the whole application \n2. IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8) returns the request body but incomplete (for me)... Thanks !","body":"I did see it. It has no relation with my issue. There the question is to know how to retrieve the request body when MethodArgumentNotValidException is thrown. I do get the content of my request. My issue is that i don&#39;t have the whole data of the request sent.  1. I used ManagedBean to pass data to the whole application  2. IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8) returns the request body but incomplete (for me)... Thanks !"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674065738,"creation_date":1674065738,"question_id":75163576,"body_markdown":"I want to handle MethodArgumentNotValidException in a Springboot application. My entry point is expecting a valid JSON object. I do intercept the error message correctly:\r\n\r\n    &quot;message&quot;: &quot;JSON parse error: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 7] (through reference chain: fr.ws.ui.model.request.RequestModel[\\&quot;data\\&quot;]-&gt;java.util.ArrayList[0])&quot;,\r\n\r\nThat&#39;s great... Here is my exception handler implementation. \r\n\r\n    @ExceptionHandler(value = { MethodArgumentNotValidException.class, HttpMessageNotReadableException.class })\r\n    public ResponseEntity&lt;ErrorMessage&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException ex,\r\n                                                                              WebRequest req) throws JsonProcessingException {\r\n        // weird behavior, I got the json but not complete\r\n        String output;\r\n         try {\r\n             output = IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8);\r\n             System.out.println(output);\r\n         } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n         }\r\n        ErrorMessage errorMessage = ErrorMessage.builder()\r\n                .operationId(Utils.generateId())\r\n                .status(RequestOperationStatus.ERROR.name())\r\n                .message(ex.getMessage())\r\n                .createdAt(new Date())\r\n                .data(output)\r\n                .build();\r\n\r\n        return new ResponseEntity&lt;&gt;(errorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\nNow, I want to retrieve the body of my request and I want to parse the content to extract data for building the ErrorMessage body. For this I used `org.apache.commons.io` library: \r\n\r\n    IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8)\r\n\r\nThe request contains several properties and a file in Base64 format.\r\nIt works fine but not totally: I do not retrieve the full request body, I do not get the request body start. My String seems truncated. How can i get the whole request as String ? ","title":"Handling long string with IOUtils","body":"<p>I want to handle MethodArgumentNotValidException in a Springboot application. My entry point is expecting a valid JSON object. I do intercept the error message correctly:</p>\n<pre><code>&quot;message&quot;: &quot;JSON parse error: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 7] (through reference chain: fr.ws.ui.model.request.RequestModel[\\&quot;data\\&quot;]-&gt;java.util.ArrayList[0])&quot;,\n</code></pre>\n<p>That's great... Here is my exception handler implementation.</p>\n<pre><code>@ExceptionHandler(value = { MethodArgumentNotValidException.class, HttpMessageNotReadableException.class })\npublic ResponseEntity&lt;ErrorMessage&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException ex,\n                                                                          WebRequest req) throws JsonProcessingException {\n    // weird behavior, I got the json but not complete\n    String output;\n     try {\n         output = IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8);\n         System.out.println(output);\n     } catch (IOException e) {\n        throw new RuntimeException(e);\n     }\n    ErrorMessage errorMessage = ErrorMessage.builder()\n            .operationId(Utils.generateId())\n            .status(RequestOperationStatus.ERROR.name())\n            .message(ex.getMessage())\n            .createdAt(new Date())\n            .data(output)\n            .build();\n\n    return new ResponseEntity&lt;&gt;(errorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\n}\n</code></pre>\n<p>Now, I want to retrieve the body of my request and I want to parse the content to extract data for building the ErrorMessage body. For this I used <code>org.apache.commons.io</code> library:</p>\n<pre><code>IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8)\n</code></pre>\n<p>The request contains several properties and a file in Base64 format.\nIt works fine but not totally: I do not retrieve the full request body, I do not get the request body start. My String seems truncated. How can i get the whole request as String ?</p>\n"},{"tags":["java","ibatis","mybatis"],"answers":[{"comments":[{"owner":{"account_id":214107,"reputation":4672,"user_id":467874,"accept_rate":92,"display_name":"brabec"},"score":0,"creation_date":1305879994,"post_id":6069193,"comment_id":7028206,"body_markdown":"Thanks! I also noticed that I&#39;m using MapperFactoryBean class from mybatis-spring to &quot;load&quot; the other SQL Map files. The file with common fragments wasn&#39;t &quot;loaded&quot; anywhere, so I had to add it manually to the mybatis config file.","body":"Thanks! I also noticed that I&#39;m using MapperFactoryBean class from mybatis-spring to &quot;load&quot; the other SQL Map files. The file with common fragments wasn&#39;t &quot;loaded&quot; anywhere, so I had to add it manually to the mybatis config file."},{"owner":{"account_id":39617,"reputation":6179,"user_id":114340,"display_name":"AngerClown"},"score":1,"creation_date":1305892976,"post_id":6069193,"comment_id":7031252,"body_markdown":"If the Core mapper file is the only thing in your mybatis config file, it may make more sense to use the `mapperLocations` property in SqlSessionFactoryBean to load the common mapper file.","body":"If the Core mapper file is the only thing in your mybatis config file, it may make more sense to use the <code>mapperLocations</code> property in SqlSessionFactoryBean to load the common mapper file."},{"owner":{"account_id":243006,"reputation":11634,"user_id":514907,"accept_rate":86,"display_name":"Srikanth"},"score":4,"creation_date":1326141237,"post_id":6069193,"comment_id":10970644,"body_markdown":"If you are using MyBatis, replace &quot;sqlMap&quot; with &quot;mapper&quot;. see http://code.google.com/p/mybatis/wiki/DocUpgrade3. I bluntly followed the above solution and ran into other issues. Then I realized I&#39;m using MyBatis and have to use mapper instead of sqlMap.","body":"If you are using MyBatis, replace &quot;sqlMap&quot; with &quot;mapper&quot;. see <a href=\"http://code.google.com/p/mybatis/wiki/DocUpgrade3\" rel=\"nofollow noreferrer\">code.google.com/p/mybatis/wiki/DocUpgrade3</a>. I bluntly followed the above solution and ran into other issues. Then I realized I&#39;m using MyBatis and have to use mapper instead of sqlMap."}],"tags":[],"owner":{"display_name":"user7094"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1305879232,"creation_date":1305879232,"answer_id":6069193,"question_id":6069071,"body_markdown":"This is exactly what a project I used to work on did. Common fragments were defined in a separate file which was included in the main iBATIS config file.\r\n\r\nWe had a SQL map file at the root named `Core.ism.xml` which looked like this:\r\n\r\n    &lt;sqlMap namespace=&quot;Core&quot; &gt;\r\n    \r\n        &lt;sql id=&quot;fragmentBasicAuditFieldNames&quot;&gt;\r\n            CreateDate, CreateUser, \r\n            UpdateDate, UpdateUser, UpdateCode \r\n        &lt;/sql&gt;\r\n        \r\n        ....\r\n\r\nAnd then in our SQL map files we could reference it like this:\r\n\r\n    &lt;include refid=&quot;Core.fragmentBasicAuditFieldNames&quot; /&gt;\r\n\r\nI hope I&#39;ve understood what you were asking correctly!","title":"MyBatis/iBatis - reusable sql fragments in a separate SQL Map file?","body":"<p>This is exactly what a project I used to work on did. Common fragments were defined in a separate file which was included in the main iBATIS config file.</p>\n\n<p>We had a SQL map file at the root named <code>Core.ism.xml</code> which looked like this:</p>\n\n<pre><code>&lt;sqlMap namespace=\"Core\" &gt;\n\n    &lt;sql id=\"fragmentBasicAuditFieldNames\"&gt;\n        CreateDate, CreateUser, \n        UpdateDate, UpdateUser, UpdateCode \n    &lt;/sql&gt;\n\n    ....\n</code></pre>\n\n<p>And then in our SQL map files we could reference it like this:</p>\n\n<pre><code>&lt;include refid=\"Core.fragmentBasicAuditFieldNames\" /&gt;\n</code></pre>\n\n<p>I hope I've understood what you were asking correctly!</p>\n"},{"tags":[],"owner":{"account_id":3282441,"reputation":763,"user_id":2762716,"display_name":"Alexander Davliatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1491950919,"creation_date":1491950919,"answer_id":43357454,"question_id":6069071,"body_markdown":"Say, you have some\r\n\r\n    &lt;mapper namespace=&quot;Common&quot;&gt;\r\n       &lt;sql id=&quot;idsIn&quot;&gt;\r\n            ${column} IN\r\n            &lt;foreach item=&quot;id&quot; collection=&quot;ids&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\r\n                #{id}\r\n            &lt;/foreach&gt;\r\n        &lt;/sql&gt;\r\n    &lt;/mapper&gt;\r\n\r\nThan in another mapper you can use it like:\r\n\r\n    &lt;mapper namespace=&quot;OtherMapper&quot;&gt;\r\n        &lt;sql id=&quot;someSql&quot;&gt;\r\n            ...\r\n            &lt;include refid=&quot;Common.idsIn&quot;&gt;\r\n                &lt;property name=&quot;column&quot; value=&quot;${column}&quot;/&gt;\r\n                &lt;!-- OR hardcode: &lt;property name=&quot;column&quot; value=&quot;id&quot;/&gt; --&gt;\r\n                &lt;property name=&quot;filterPksTable&quot; value=&quot;${filterPksTable}&quot;/&gt;\r\n            &lt;/include&gt;\r\n            ...\r\n        &lt;/sql&gt;\r\n    &lt;/mapper&gt;\r\n\r\nAlso, you can have a look [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43356852/2762716","title":"MyBatis/iBatis - reusable sql fragments in a separate SQL Map file?","body":"<p>Say, you have some</p>\n\n<pre><code>&lt;mapper namespace=\"Common\"&gt;\n   &lt;sql id=\"idsIn\"&gt;\n        ${column} IN\n        &lt;foreach item=\"id\" collection=\"ids\" separator=\",\" open=\"(\" close=\")\"&gt;\n            #{id}\n        &lt;/foreach&gt;\n    &lt;/sql&gt;\n&lt;/mapper&gt;\n</code></pre>\n\n<p>Than in another mapper you can use it like:</p>\n\n<pre><code>&lt;mapper namespace=\"OtherMapper\"&gt;\n    &lt;sql id=\"someSql\"&gt;\n        ...\n        &lt;include refid=\"Common.idsIn\"&gt;\n            &lt;property name=\"column\" value=\"${column}\"/&gt;\n            &lt;!-- OR hardcode: &lt;property name=\"column\" value=\"id\"/&gt; --&gt;\n            &lt;property name=\"filterPksTable\" value=\"${filterPksTable}\"/&gt;\n        &lt;/include&gt;\n        ...\n    &lt;/sql&gt;\n&lt;/mapper&gt;\n</code></pre>\n\n<p>Also, you can have a look <a href=\"https://stackoverflow.com/a/43356852/2762716\">here</a></p>\n"},{"tags":[],"owner":{"account_id":19242426,"reputation":158,"user_id":14062144,"display_name":"Ilya Lisov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674065584,"creation_date":1674065584,"answer_id":75163548,"question_id":6069071,"body_markdown":"You can access to ResultMap tag via its repository classname, like\r\n\r\n    ... resultMap=&quot;com.example.repository.UserRepository.UserMapResult&quot; ...","title":"MyBatis/iBatis - reusable sql fragments in a separate SQL Map file?","body":"<p>You can access to ResultMap tag via its repository classname, like</p>\n<pre><code>... resultMap=&quot;com.example.repository.UserRepository.UserMapResult&quot; ...\n</code></pre>\n"}],"owner":{"account_id":214107,"reputation":4672,"user_id":467874,"accept_rate":92,"display_name":"brabec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33849,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6069193,"answer_count":3,"score":22,"last_activity_date":1674065584,"creation_date":1305878472,"question_id":6069071,"body_markdown":"I would like to put sql fragments used by several of my SQL Map XML files in a separate file. At the moment, the `&lt;sql&gt;` elements with these fragments are in one of the mappers together with other elements like `&lt;select&gt;`, which makes them hard to find.\r\n \r\nCan I have a mapper that defines just a few `&lt;sql&gt;` elements and is not used to generate an implementation to an interface? What would be the correct namespace of this mapper?\r\n\r\nThis is the SQL Map file with the framents:\r\n\r\n\t&lt;mapper namespace=&quot;com.company.project.dao.someDao&quot;&gt;\r\n\t\t\r\n\t\t&lt;sql id=&quot;whereDate&quot;&gt;\r\n\t\t\tWHERE date(`time`) BETWEEN #{startDate} AND #{endDate}\r\n\t\t&lt;/sql&gt;\t\r\n             \r\n        &lt;sql id=&quot;someOtherSqlFragment&quot;&gt;\r\n      \t\t...\r\n\t\t&lt;/sql&gt;\r\n\t\t\r\n\t    &lt;select id=&quot;getSomeData&quot; resultType=&quot;SomeClass&quot; parameterType=&quot;DateParam&quot; &gt;\r\n\t        SELECT some_column, another_column\t        \r\n\t        FROM some_table\r\n\t\t\t&lt;include refid=&quot;whereDate&quot;/&gt;\r\n\t\t\t&lt;include refid=&quot;otherSqlFragment&quot;/&gt;\r\n\t    &lt;/select&gt;\r\n\t\r\n\t&lt;/mapper&gt;\r\n\r\nI&#39;d like to separate the elements like this:  \r\nFirst Sql Map file:\r\n\r\n\t&lt;mapper namespace=&quot;com.company.project.dao.???&quot;&gt;\r\n\t\t\r\n\t\t&lt;sql id=&quot;whereDate&quot;&gt;\r\n\t\t\tWHERE date(`time`) BETWEEN #{startDate} AND #{endDate}\r\n\t\t&lt;/sql&gt;\t\r\n             \r\n        &lt;sql id=&quot;someOtherSqlFragment&quot;&gt;\r\n      \t\t...\r\n\t\t&lt;/sql&gt;\r\n\t\t\r\n\t&lt;/mapper&gt;\r\n\r\nSecond Sql Map file:\r\n\r\n\t&lt;mapper namespace=&quot;com.company.project.dao.someDao&quot;&gt;\r\n\r\n\t    &lt;select id=&quot;getSomeData&quot; resultType=&quot;SomeClass&quot; parameterType=&quot;DateParam&quot; &gt;\r\n\t        SELECT some_column, another_column\t        \r\n\t        FROM some_table\t\t\r\n\t\t\t&lt;include refid=&quot;whereDate&quot;/&gt;\r\n\t\t\t&lt;include refid=&quot;otherSqlFragment&quot;/&gt;\r\n\t    &lt;/select&gt;\r\n\t\r\n\t&lt;/mapper&gt;","title":"MyBatis/iBatis - reusable sql fragments in a separate SQL Map file?","body":"<p>I would like to put sql fragments used by several of my SQL Map XML files in a separate file. At the moment, the <code>&lt;sql&gt;</code> elements with these fragments are in one of the mappers together with other elements like <code>&lt;select&gt;</code>, which makes them hard to find.</p>\n\n<p>Can I have a mapper that defines just a few <code>&lt;sql&gt;</code> elements and is not used to generate an implementation to an interface? What would be the correct namespace of this mapper?</p>\n\n<p>This is the SQL Map file with the framents:</p>\n\n<pre><code>&lt;mapper namespace=\"com.company.project.dao.someDao\"&gt;\n\n    &lt;sql id=\"whereDate\"&gt;\n        WHERE date(`time`) BETWEEN #{startDate} AND #{endDate}\n    &lt;/sql&gt;  \n\n    &lt;sql id=\"someOtherSqlFragment\"&gt;\n        ...\n    &lt;/sql&gt;\n\n    &lt;select id=\"getSomeData\" resultType=\"SomeClass\" parameterType=\"DateParam\" &gt;\n        SELECT some_column, another_column          \n        FROM some_table\n        &lt;include refid=\"whereDate\"/&gt;\n        &lt;include refid=\"otherSqlFragment\"/&gt;\n    &lt;/select&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n\n<p>I'd like to separate the elements like this:<br>\nFirst Sql Map file:</p>\n\n<pre><code>&lt;mapper namespace=\"com.company.project.dao.???\"&gt;\n\n    &lt;sql id=\"whereDate\"&gt;\n        WHERE date(`time`) BETWEEN #{startDate} AND #{endDate}\n    &lt;/sql&gt;  \n\n    &lt;sql id=\"someOtherSqlFragment\"&gt;\n        ...\n    &lt;/sql&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n\n<p>Second Sql Map file:</p>\n\n<pre><code>&lt;mapper namespace=\"com.company.project.dao.someDao\"&gt;\n\n    &lt;select id=\"getSomeData\" resultType=\"SomeClass\" parameterType=\"DateParam\" &gt;\n        SELECT some_column, another_column          \n        FROM some_table     \n        &lt;include refid=\"whereDate\"/&gt;\n        &lt;include refid=\"otherSqlFragment\"/&gt;\n    &lt;/select&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n"},{"tags":["java","amazon-s3"],"answers":[{"comments":[{"owner":{"account_id":1919612,"reputation":1618,"user_id":1731454,"display_name":"oferei"},"score":0,"creation_date":1421183692,"post_id":13064259,"comment_id":44260695,"body_markdown":"I suggest using keyList.addAll(x) instead of assigning to keyList. This way you&#39;re not modifying a private member of ObjectListing (which was returned by getObjectSummaries) later using addAll. And, since you&#39;ve already allocated a list in the first line, you&#39;re all set.","body":"I suggest using keyList.addAll(x) instead of assigning to keyList. This way you&#39;re not modifying a private member of ObjectListing (which was returned by getObjectSummaries) later using addAll. And, since you&#39;ve already allocated a list in the first line, you&#39;re all set."}],"tags":[],"owner":{"account_id":1930834,"reputation":481,"user_id":1740237,"accept_rate":67,"display_name":"Abhishek"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1535379202,"creation_date":1351152434,"answer_id":13064259,"question_id":12853476,"body_markdown":"I have just changed above code to use **addAll** instead of using a **for** loop to add objects one by one and it worked for me:\r\n\r\n    List&lt;S3ObjectSummary&gt; keyList = new ArrayList&lt;S3ObjectSummary&gt;();\r\n    ObjectListing object = s3.listObjects(&quot;bucket.new.test&quot;);\r\n    keyList = object.getObjectSummaries();\r\n    object = s3.listNextBatchOfObjects(object);\r\n\r\n    while (object.isTruncated()){\r\n      keyList.addAll(current.getObjectSummaries());\r\n      object = s3.listNextBatchOfObjects(current);\r\n    }\r\n    keyList.addAll(object.getObjectSummaries());\r\n\r\nAfter that you can simply use any iterator over list **keyList**.\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>I have just changed above code to use <strong>addAll</strong> instead of using a <strong>for</strong> loop to add objects one by one and it worked for me:</p>\n\n<pre><code>List&lt;S3ObjectSummary&gt; keyList = new ArrayList&lt;S3ObjectSummary&gt;();\nObjectListing object = s3.listObjects(\"bucket.new.test\");\nkeyList = object.getObjectSummaries();\nobject = s3.listNextBatchOfObjects(object);\n\nwhile (object.isTruncated()){\n  keyList.addAll(current.getObjectSummaries());\n  object = s3.listNextBatchOfObjects(current);\n}\nkeyList.addAll(object.getObjectSummaries());\n</code></pre>\n\n<p>After that you can simply use any iterator over list <strong>keyList</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2457726,"reputation":64,"user_id":2142489,"display_name":"Sy Loc"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363058519,"creation_date":1363058519,"answer_id":15352712,"question_id":12853476,"body_markdown":"If you want to get all of object (more than 1000 keys) you need to send another packet with the last key to S3. Here is the code.\r\n\r\n    private static String lastKey = &quot;&quot;;\r\n    private static String preLastKey = &quot;&quot;;\r\n    ...\r\n    \r\n    do{\r\n            preLastKey = lastKey;\r\n            AmazonS3 s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\r\n    \r\n            String bucketName = &quot;bucketname&quot;;           \r\n    \r\n            ListObjectsRequest lstRQ = new ListObjectsRequest().withBucketName(bucketName).withPrefix(&quot;&quot;);  \r\n    \r\n            lstRQ.setMarker(lastKey);  \r\n    \r\n            ObjectListing objectListing = s3.listObjects(lstRQ);\r\n                    \r\n            //  loop and get file on S3\r\n            for (S3ObjectSummary objectSummary : objectListing.getObjectSummaries()) {\r\n                 //   get oject and do something.....\r\n            }\r\n    }while(lastKey != preLastKey);\r\n\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>If you want to get all of object (more than 1000 keys) you need to send another packet with the last key to S3. Here is the code.</p>\n\n<pre><code>private static String lastKey = \"\";\nprivate static String preLastKey = \"\";\n...\n\ndo{\n        preLastKey = lastKey;\n        AmazonS3 s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\n\n        String bucketName = \"bucketname\";           \n\n        ListObjectsRequest lstRQ = new ListObjectsRequest().withBucketName(bucketName).withPrefix(\"\");  \n\n        lstRQ.setMarker(lastKey);  \n\n        ObjectListing objectListing = s3.listObjects(lstRQ);\n\n        //  loop and get file on S3\n        for (S3ObjectSummary objectSummary : objectListing.getObjectSummaries()) {\n             //   get oject and do something.....\n        }\n}while(lastKey != preLastKey);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7850445,"reputation":1790,"user_id":9145106,"display_name":"GoodDok"},"score":0,"creation_date":1544022889,"post_id":24060097,"comment_id":94130380,"body_markdown":"Paolo, thank you for an answer, I really liked your approach.\nHere&#39;s a question, do we need `acc` parameter here? \nIt seems to me like the piece of code with recursion should be turned into something similar to `else mapped ::: scan(s3.listNextBatchOfObjects(listing))`.","body":"Paolo, thank you for an answer, I really liked your approach. Here&#39;s a question, do we need <code>acc</code> parameter here?  It seems to me like the piece of code with recursion should be turned into something similar to <code>else mapped ::: scan(s3.listNextBatchOfObjects(listing))</code>."},{"owner":{"account_id":261511,"reputation":725,"user_id":545729,"accept_rate":54,"display_name":"van_d39"},"score":1,"creation_date":1568860655,"post_id":24060097,"comment_id":102411286,"body_markdown":"I think there is a bug in your above code. Instead of `mapped.toList` it should be `acc ++ mapped.toList` to return not just the last set of S3 file keys but all of the keys.","body":"I think there is a bug in your above code. Instead of <code>mapped.toList</code> it should be <code>acc ++ mapped.toList</code> to return not just the last set of S3 file keys but all of the keys."}],"tags":[],"owner":{"account_id":1885080,"reputation":981,"user_id":1704462,"display_name":"pangiole"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1401970853,"creation_date":1401970853,"answer_id":24060097,"question_id":12853476,"body_markdown":"For Scala developers, here it is recursive function to execute a ***full scan and map*** of the contents of an AmazonS3 bucket using the official [AWS SDK for Java][1]\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    import com.amazonaws.services.s3.AmazonS3Client\r\n    import com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\r\n    import scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\r\n    \r\n    def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\r\n    \r\n      def scan(acc:List[T], listing:ObjectListing): List[T] = {\r\n        val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\r\n        val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\r\n    \r\n        if (!listing.isTruncated) mapped.toList\r\n        else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\r\n      }\r\n    \r\n      scan(List(), s3.listObjects(bucket, prefix))\r\n    }\r\n    \r\n\r\n\r\nTo invoke the above curried ``map()`` function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official [AWS SDK for Java API Reference][2]), the bucket name and the prefix name in the first parameter list. Also pass the function ``f()`` you want to apply to map each object summary in the second parameter list.\r\n\r\nFor example\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    val keyOwnerTuples = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner))\r\n\r\nwill return the full list of ``(key, owner)`` tuples in that bucket/prefix\r\n\r\nor\r\n\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    map(s3, &quot;bucket&quot;, &quot;prefix&quot;)(s =&gt; println(s))\r\n\r\n\r\nas you would normally approach by [Monads in Functional Programming][3]\r\n\r\n\r\n  [1]: http://aws.amazon.com/sdkforjava/\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\r\n  [3]: http://en.wikipedia.org/wiki/Monad_%28functional_programming%29","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>For Scala developers, here it is recursive function to execute a <strong><em>full scan and map</em></strong> of the contents of an AmazonS3 bucket using the official <a href=\"http://aws.amazon.com/sdkforjava/\" rel=\"noreferrer\">AWS SDK for Java</a></p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import com.amazonaws.services.s3.AmazonS3Client\nimport com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\nimport scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\n\ndef map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\n\n  def scan(acc:List[T], listing:ObjectListing): List[T] = {\n    val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\n    val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\n\n    if (!listing.isTruncated) mapped.toList\n    else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\n  }\n\n  scan(List(), s3.listObjects(bucket, prefix))\n}\n</code></pre>\n\n<p>To invoke the above curried <code>map()</code> function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"noreferrer\">AWS SDK for Java API Reference</a>), the bucket name and the prefix name in the first parameter list. Also pass the function <code>f()</code> you want to apply to map each object summary in the second parameter list.</p>\n\n<p>For example</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val keyOwnerTuples = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner))\n</code></pre>\n\n<p>will return the full list of <code>(key, owner)</code> tuples in that bucket/prefix</p>\n\n<p>or</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>map(s3, \"bucket\", \"prefix\")(s =&gt; println(s))\n</code></pre>\n\n<p>as you would normally approach by <a href=\"http://en.wikipedia.org/wiki/Monad_%28functional_programming%29\" rel=\"noreferrer\">Monads in Functional Programming</a></p>\n"},{"comments":[{"owner":{"account_id":3685242,"reputation":1290,"user_id":3069125,"accept_rate":80,"display_name":"morsik"},"score":0,"creation_date":1488203133,"post_id":27931839,"comment_id":72114231,"body_markdown":"But what is the root cause? Why the same code had worked for one case and hadn&#39;t for another?","body":"But what is the root cause? Why the same code had worked for one case and hadn&#39;t for another?"},{"owner":{"account_id":1919612,"reputation":1618,"user_id":1731454,"display_name":"oferei"},"score":0,"creation_date":1488290694,"post_id":27931839,"comment_id":72158872,"body_markdown":"That&#39;s a good question, which I don&#39;t have the answer for. I only took @ Abhishek&#39;s code and &quot;fixed&quot; it. My only guess is that it&#39;s a property of the bucket.","body":"That&#39;s a good question, which I don&#39;t have the answer for. I only took @ Abhishek&#39;s code and &quot;fixed&quot; it. My only guess is that it&#39;s a property of the bucket."},{"owner":{"account_id":3685242,"reputation":1290,"user_id":3069125,"accept_rate":80,"display_name":"morsik"},"score":2,"creation_date":1488297581,"post_id":27931839,"comment_id":72163987,"body_markdown":"I&#39;ve got the same issue with &quot;old&quot; version of s3 java API. Amazon introduced &quot;v2&quot;, which should resolve the issue: http://docs.aws.amazon.com/AmazonS3/latest/dev/ListingObjectKeysUsingJava.html\nNote, it uses `s3client.listObjectsV2` and `req.setContinuationToken(result.getNextContinuationToken())`. The last one should make separate underlying REST GET calls to s3 (as single get returns up to 1000 keys by default, http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGET.html)","body":"I&#39;ve got the same issue with &quot;old&quot; version of s3 java API. Amazon introduced &quot;v2&quot;, which should resolve the issue: <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/ListingObjectKeysUsingJava.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/dev/&hellip;</a> Note, it uses <code>s3client.listObjectsV2</code> and <code>req.setContinuationToken(result.getNextContinuationToken())</code>. The last one should make separate underlying REST GET calls to s3 (as single get returns up to 1000 keys by default, <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGET.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGET.html</a>)"}],"tags":[],"owner":{"account_id":1919612,"reputation":1618,"user_id":1731454,"display_name":"oferei"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1563564687,"creation_date":1421184512,"answer_id":27931839,"question_id":12853476,"body_markdown":"Improving on @Abhishek&#39;s answer.\r\nThis code is slightly shorter and variable names are fixed.\r\n\r\n&gt; You have to get the object listing,\r\n&gt; add its&#39; contents to the collection,\r\n&gt; then get the next batch of objects from the listing.\r\n&gt; Repeat the operation until the listing will not be truncated.\r\n\r\n\r\n    List&lt;S3ObjectSummary&gt; keyList = new ArrayList&lt;S3ObjectSummary&gt;();\r\n    ObjectListing objects = s3.listObjects(&quot;bucket.new.test&quot;);\r\n    keyList.addAll(objects.getObjectSummaries());\r\n    \r\n    while (objects.isTruncated()) {\r\n        objects = s3.listNextBatchOfObjects(objects);\r\n        keyList.addAll(objects.getObjectSummaries());\r\n    }","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>Improving on @Abhishek's answer.\nThis code is slightly shorter and variable names are fixed.</p>\n\n<blockquote>\n  <p>You have to get the object listing,\n  add its' contents to the collection,\n  then get the next batch of objects from the listing.\n  Repeat the operation until the listing will not be truncated.</p>\n</blockquote>\n\n<pre><code>List&lt;S3ObjectSummary&gt; keyList = new ArrayList&lt;S3ObjectSummary&gt;();\nObjectListing objects = s3.listObjects(\"bucket.new.test\");\nkeyList.addAll(objects.getObjectSummaries());\n\nwhile (objects.isTruncated()) {\n    objects = s3.listNextBatchOfObjects(objects);\n    keyList.addAll(objects.getObjectSummaries());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10099737,"reputation":195,"user_id":7463965,"display_name":"Christie Chen"},"score":0,"creation_date":1584069101,"post_id":53531630,"comment_id":107329702,"body_markdown":"Thanks this really helps! I tried the first solution and it&#39;s showing only the tail records, as you mentioned","body":"Thanks this really helps! I tried the first solution and it&#39;s showing only the tail records, as you mentioned"}],"tags":[],"owner":{"account_id":11776115,"reputation":663,"user_id":8617507,"display_name":"iDuanYingJie"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543463928,"creation_date":1543463928,"answer_id":53531630,"question_id":12853476,"body_markdown":"1. Paolo Angioletti&#39;s code can&#39;t get all the data, only the last batch of data.\r\n2. I think it might be better to use ListBuffer.\r\n3. This method does not support setting startAfterKey.\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n        import com.amazonaws.services.s3.AmazonS3Client\r\n        import com.amazonaws.services.s3.model.{ObjectListing, S3ObjectSummary}    \r\n        import scala.collection.JavaConverters._\r\n        import scala.collection.mutable.ListBuffer\r\n        \r\n        def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T): List[T] = {\r\n        \r\n          def scan(acc: ListBuffer[T], listing: ObjectListing): List[T] = {\r\n            val r = acc ++= listing.getObjectSummaries.asScala.map(f).toList\r\n            if (listing.isTruncated) scan(r, s3.listNextBatchOfObjects(listing))\r\n            else r.toList\r\n          }\r\n        \r\n          scan(ListBuffer.empty[T], s3.listObjects(bucket, prefix))\r\n        }\r\n\r\n\r\nThe second method is to use awssdk-v2\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n      import software.amazon.awssdk.services.s3.S3Client\r\n      import software.amazon.awssdk.services.s3.model.{ListObjectsV2Request, S3Object}\r\n    \r\n      import scala.collection.JavaConverters._\r\n\r\n      def listObjects[T](s3: S3Client, bucket: String,\r\n                         prefix: String, startAfter: String)(f: (S3Object) =&gt; T): List[T] = {\r\n        val request = ListObjectsV2Request.builder()\r\n          .bucket(bucket).prefix(prefix)\r\n          .startAfter(startAfter).build()\r\n        \r\n        s3.listObjectsV2Paginator(request)\r\n          .asScala\r\n          .flatMap(_.contents().asScala)\r\n          .map(f)\r\n          .toList\r\n      }\r\n\r\n\r\n\r\n\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<ol>\n<li>Paolo Angioletti's code can't get all the data, only the last batch of data.</li>\n<li>I think it might be better to use ListBuffer.</li>\n<li>This method does not support setting startAfterKey.</li>\n</ol>\n\n<pre class=\"lang-scala prettyprint-override\"><code>    import com.amazonaws.services.s3.AmazonS3Client\n    import com.amazonaws.services.s3.model.{ObjectListing, S3ObjectSummary}    \n    import scala.collection.JavaConverters._\n    import scala.collection.mutable.ListBuffer\n\n    def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T): List[T] = {\n\n      def scan(acc: ListBuffer[T], listing: ObjectListing): List[T] = {\n        val r = acc ++= listing.getObjectSummaries.asScala.map(f).toList\n        if (listing.isTruncated) scan(r, s3.listNextBatchOfObjects(listing))\n        else r.toList\n      }\n\n      scan(ListBuffer.empty[T], s3.listObjects(bucket, prefix))\n    }\n</code></pre>\n\n<p>The second method is to use awssdk-v2</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;s3&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<pre class=\"lang-scala prettyprint-override\"><code>  import software.amazon.awssdk.services.s3.S3Client\n  import software.amazon.awssdk.services.s3.model.{ListObjectsV2Request, S3Object}\n\n  import scala.collection.JavaConverters._\n\n  def listObjects[T](s3: S3Client, bucket: String,\n                     prefix: String, startAfter: String)(f: (S3Object) =&gt; T): List[T] = {\n    val request = ListObjectsV2Request.builder()\n      .bucket(bucket).prefix(prefix)\n      .startAfter(startAfter).build()\n\n    s3.listObjectsV2Paginator(request)\n      .asScala\n      .flatMap(_.contents().asScala)\n      .map(f)\n      .toList\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32915,"reputation":10482,"user_id":1038182,"accept_rate":78,"display_name":"Ori Popowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562748204,"creation_date":1562748204,"answer_id":56966779,"question_id":12853476,"body_markdown":"In Scala:  \r\n\r\n    val first = s3.listObjects(&quot;bucket.new.test&quot;)\r\n\r\n    val listings: Seq[ObjectListing] = Iterator.iterate(Option(first))(_.flatMap(listing =&gt;\r\n      if (listing.isTruncated) Some(s3.listNextBatchOfObjects(listing))\r\n      else None\r\n    ))\r\n      .takeWhile(_.nonEmpty)\r\n      .toList\r\n      .flatten","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>In Scala:  </p>\n\n<pre><code>val first = s3.listObjects(\"bucket.new.test\")\n\nval listings: Seq[ObjectListing] = Iterator.iterate(Option(first))(_.flatMap(listing =&gt;\n  if (listing.isTruncated) Some(s3.listNextBatchOfObjects(listing))\n  else None\n))\n  .takeWhile(_.nonEmpty)\n  .toList\n  .flatten\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11846317,"reputation":11,"user_id":8668775,"display_name":"atul jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594706893,"creation_date":1594706893,"answer_id":62889016,"question_id":12853476,"body_markdown":"By default the API returns up to 1,000 key names. The response might contain fewer keys but will never contain more. \r\nA better implementation would be use the newer ListObjectsV2 API:\r\n \r\n\r\n    List&lt;S3ObjectSummary&gt; docList=new ArrayList&lt;&gt;();\r\n        ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucketName).withPrefix(folderFullPath);\r\n        ListObjectsV2Result listing;\r\n        do{\r\n            listing=this.getAmazonS3Client().listObjectsV2(req);\r\n            docList.addAll(listing.getObjectSummaries());\r\n            String token = listing.getNextContinuationToken();\r\n            req.setContinuationToken(token);\r\n            LOG.info(&quot;Next Continuation Token for listing documents is :&quot;+token);\r\n        }while (listing.isTruncated());","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>By default the API returns up to 1,000 key names. The response might contain fewer keys but will never contain more.\nA better implementation would be use the newer ListObjectsV2 API:</p>\n<pre><code>List&lt;S3ObjectSummary&gt; docList=new ArrayList&lt;&gt;();\n    ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucketName).withPrefix(folderFullPath);\n    ListObjectsV2Result listing;\n    do{\n        listing=this.getAmazonS3Client().listObjectsV2(req);\n        docList.addAll(listing.getObjectSummaries());\n        String token = listing.getNextContinuationToken();\n        req.setContinuationToken(token);\n        LOG.info(&quot;Next Continuation Token for listing documents is :&quot;+token);\n    }while (listing.isTruncated());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829934,"reputation":59,"user_id":3898361,"display_name":"GeekyGags"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600920961,"creation_date":1600920961,"answer_id":64039461,"question_id":12853476,"body_markdown":"The code given by @oferei works good and I upvote that code. But I want to point out the root issue with the @Abhishek&#39;s code. Actually, **the problem is with your do while loop.**\r\n\r\nIf you carefully observe, you are fetching the next batch of objects in the second last statement and then you check is you have exhausted the total list of files. So, when you fetch the last batch, isTruncated() becomes false and you break out of loop and don&#39;t process the last X%1000 records. For eg: if in total you had 2123 records, you will end up fetching 1000 and then 1000 i.e 2000 records. You will miss the 123 records because your isTruncated value will break the loop as you are processing the next batch after checking the isTruncated value.\r\n\r\nApologies I cant post a comment, else I would have commented on the upvoted answer.\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>The code given by @oferei works good and I upvote that code. But I want to point out the root issue with the @Abhishek's code. Actually, <strong>the problem is with your do while loop.</strong></p>\n<p>If you carefully observe, you are fetching the next batch of objects in the second last statement and then you check is you have exhausted the total list of files. So, when you fetch the last batch, isTruncated() becomes false and you break out of loop and don't process the last X%1000 records. For eg: if in total you had 2123 records, you will end up fetching 1000 and then 1000 i.e 2000 records. You will miss the 123 records because your isTruncated value will break the loop as you are processing the next batch after checking the isTruncated value.</p>\n<p>Apologies I cant post a comment, else I would have commented on the upvoted answer.</p>\n"},{"tags":[],"owner":{"account_id":5002392,"reputation":464,"user_id":4599129,"display_name":"leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667921773,"creation_date":1667890195,"answer_id":74356650,"question_id":12853476,"body_markdown":"An alternative way by using recursive method\r\n\r\n    /**\r\n     * A recursive method to wrap {@link AmazonS3} listObjectsV2 method.\r\n     * &lt;p&gt;\r\n     * By default, ListObjectsV2 can only return some or all (UP TO 1,000) of the objects in a bucket per request.\r\n     * Ref: https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\r\n     * &lt;p&gt;\r\n     * However, this method can return unlimited {@link S3ObjectSummary} for each request.\r\n     *\r\n     * @param request\r\n     * @return\r\n     */\r\n    private List&lt;S3ObjectSummary&gt; getS3ObjectSummaries(final ListObjectsV2Request request) {\r\n        final ListObjectsV2Result result = s3Client.listObjectsV2(request);\r\n        final List&lt;S3ObjectSummary&gt; resultSummaries = result.getObjectSummaries();\r\n        if (result.isTruncated() &amp;&amp; isNotBlank(result.getNextContinuationToken())) {\r\n            final ListObjectsV2Request nextRequest = request.withContinuationToken(result.getNextContinuationToken());\r\n            final List&lt;S3ObjectSummary&gt; nextResultSummaries = this.getS3ObjectSummaries(nextRequest);\r\n            resultSummaries.addAll(nextResultSummaries);\r\n        }\r\n        return resultSummaries;\r\n    }","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>An alternative way by using recursive method</p>\n<pre><code>/**\n * A recursive method to wrap {@link AmazonS3} listObjectsV2 method.\n * &lt;p&gt;\n * By default, ListObjectsV2 can only return some or all (UP TO 1,000) of the objects in a bucket per request.\n * Ref: https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\n * &lt;p&gt;\n * However, this method can return unlimited {@link S3ObjectSummary} for each request.\n *\n * @param request\n * @return\n */\nprivate List&lt;S3ObjectSummary&gt; getS3ObjectSummaries(final ListObjectsV2Request request) {\n    final ListObjectsV2Result result = s3Client.listObjectsV2(request);\n    final List&lt;S3ObjectSummary&gt; resultSummaries = result.getObjectSummaries();\n    if (result.isTruncated() &amp;&amp; isNotBlank(result.getNextContinuationToken())) {\n        final ListObjectsV2Request nextRequest = request.withContinuationToken(result.getNextContinuationToken());\n        final List&lt;S3ObjectSummary&gt; nextResultSummaries = this.getS3ObjectSummaries(nextRequest);\n        resultSummaries.addAll(nextResultSummaries);\n    }\n    return resultSummaries;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674065339,"creation_date":1674065339,"answer_id":75163506,"question_id":12853476,"body_markdown":"The reason you are getting only first 1000 objects, because thats how `listObjects` is desgined to work.\r\n\r\nThis is from its JavaDoc\r\n\r\n\r\n    Returns some or all (up to 1,000) of the objects in a bucket with each request. \r\n    You can use the request parameters as selection criteria to return a subset of the objects in a bucket. \r\n    A 200 OK response can contain valid or invalid XML. Make sure to design your application to parse the contents of the response and handle it appropriately. \r\n    Objects are returned sorted in an ascending order of the respective key names in the list. For more information about listing objects, see Listing object keys programmatically \r\n\r\n\r\nTo get paginated results automatically, use `listObjectsV2Paginator` method\r\n\r\n    ListObjectsV2Request listReq = ListObjectsV2Request.builder()\r\n                    .bucket(bucketName)\r\n                    .maxKeys(1)\r\n                    .build();\r\n    \r\n            ListObjectsV2Iterable listRes = s3.listObjectsV2Paginator(listReq);\r\n     // Helper method to work with paginated collection of items directly\r\n            listRes.contents().stream()\r\n                    .forEach(content -&gt; System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size()));\r\n\r\n\r\nYou can opt for manual pagination as well if needed.\r\n\r\nReference: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\r\n\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>The reason you are getting only first 1000 objects, because thats how <code>listObjects</code> is desgined to work.</p>\n<p>This is from its JavaDoc</p>\n<pre><code>Returns some or all (up to 1,000) of the objects in a bucket with each request. \nYou can use the request parameters as selection criteria to return a subset of the objects in a bucket. \nA 200 OK response can contain valid or invalid XML. Make sure to design your application to parse the contents of the response and handle it appropriately. \nObjects are returned sorted in an ascending order of the respective key names in the list. For more information about listing objects, see Listing object keys programmatically \n</code></pre>\n<p>To get paginated results automatically, use <code>listObjectsV2Paginator</code> method</p>\n<pre><code>ListObjectsV2Request listReq = ListObjectsV2Request.builder()\n                .bucket(bucketName)\n                .maxKeys(1)\n                .build();\n\n        ListObjectsV2Iterable listRes = s3.listObjectsV2Paginator(listReq);\n // Helper method to work with paginated collection of items directly\n        listRes.contents().stream()\n                .forEach(content -&gt; System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size()));\n</code></pre>\n<p>You can opt for manual pagination as well if needed.</p>\n<p>Reference: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html</a></p>\n"}],"owner":{"account_id":1930834,"reputation":481,"user_id":1740237,"accept_rate":67,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34856,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":27931839,"answer_count":10,"score":29,"last_activity_date":1674065339,"creation_date":1350023454,"question_id":12853476,"body_markdown":"I am using below mentioned code to get list of all file names from s3 bucket. I have two bucket in s3. For one of the bucket below code returns all the file names (more than 1000), but the same code returns only 1000 file names for another bucket. I just don&#39;t get what is happening. \r\nWhy same code running  for one bucket and not for other ?\r\n\r\nAlso my bucket have hierarchy structure  folder/filename.jpg.\r\n\r\n\r\n    ObjectListing objects = s3.listObjects(&quot;bucket.new.test&quot;);\r\n\tdo {\r\n\t    for (S3ObjectSummary objectSummary : objects.getObjectSummaries()) {\r\n\t        String key = objectSummary.getKey();\r\n\t        System.out.println(key);\r\n\t    }\r\n\t    objects = s3.listNextBatchOfObjects(objects);\r\n\t} while (objects.isTruncated());\r\n \r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>I am using below mentioned code to get list of all file names from s3 bucket. I have two bucket in s3. For one of the bucket below code returns all the file names (more than 1000), but the same code returns only 1000 file names for another bucket. I just don't get what is happening. \nWhy same code running  for one bucket and not for other ?</p>\n\n<p>Also my bucket have hierarchy structure  folder/filename.jpg.</p>\n\n<pre><code>ObjectListing objects = s3.listObjects(\"bucket.new.test\");\ndo {\n    for (S3ObjectSummary objectSummary : objects.getObjectSummaries()) {\n        String key = objectSummary.getKey();\n        System.out.println(key);\n    }\n    objects = s3.listNextBatchOfObjects(objects);\n} while (objects.isTruncated());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","docker-container"],"answers":[{"comments":[{"owner":{"account_id":27557315,"reputation":1,"user_id":21031259,"display_name":"Daan Schar"},"score":0,"creation_date":1673998095,"post_id":75153089,"comment_id":132620492,"body_markdown":"Unfortunately this does not seem to solve the issue","body":"Unfortunately this does not seem to solve the issue"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1674004592,"post_id":75153089,"comment_id":132621391,"body_markdown":"The Compose `expose:` option does essentially nothing in modern Docker, and it&#39;s pretty much always safe to remove it if it&#39;s present.  There&#39;s no benefit to adding it.","body":"The Compose <code>expose:</code> option does essentially nothing in modern Docker, and it&#39;s pretty much always safe to remove it if it&#39;s present.  There&#39;s no benefit to adding it."}],"tags":[],"owner":{"account_id":2657670,"reputation":329,"user_id":2298011,"display_name":"Jan Nielsen"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673996411,"creation_date":1673996411,"answer_id":75153089,"question_id":75152814,"body_markdown":"You also need to &quot;expose&quot; the port 8080 from within your docker-compose file.\r\n\r\n    api:\r\n      expose:\r\n        - &quot;8080&quot;","title":"Spring application running in docker container is not reachable","body":"<p>You also need to &quot;expose&quot; the port 8080 from within your docker-compose file.</p>\n<pre><code>api:\n  expose:\n    - &quot;8080&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673999082,"creation_date":1673999082,"answer_id":75153345,"question_id":75152814,"body_markdown":"Connection Reset to a Docker container usually indicates that you&#39;ve defined a port mapping for the container that does not point to an application.\r\n\r\nDid you define `server.address=localhost` in your `application.properties`? \r\nIf so, try to remove it or replace it with `0.0.0.0`","title":"Spring application running in docker container is not reachable","body":"<p>Connection Reset to a Docker container usually indicates that you've defined a port mapping for the container that does not point to an application.</p>\n<p>Did you define <code>server.address=localhost</code> in your <code>application.properties</code>?\nIf so, try to remove it or replace it with <code>0.0.0.0</code></p>\n"},{"tags":[],"owner":{"account_id":27557315,"reputation":1,"user_id":21031259,"display_name":"Daan Schar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674065001,"creation_date":1674065001,"answer_id":75163447,"question_id":75152814,"body_markdown":"Looks like i did something wrong regarding docker networking. this is what the new compose file looks like\r\n```\r\nservices:    \r\n  db:\r\n    image: postgres\r\n    container_name: postgres\r\n    network-mode: host\r\n    restart: always\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: example\r\n    expose:\r\n      - &quot;1999&quot;\r\n    ports:\r\n      - &quot;1999:1999&quot;\r\n    command: -p 1999\r\n\r\n  api:\r\n    image: api\r\n    network-mode: host\r\n    ports:\r\n      - 8080:8080\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=docker\r\n```\r\n\r\nnotice how i added a network mode to both services.","title":"Spring application running in docker container is not reachable","body":"<p>Looks like i did something wrong regarding docker networking. this is what the new compose file looks like</p>\n<pre><code>services:    \n  db:\n    image: postgres\n    container_name: postgres\n    network-mode: host\n    restart: always\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: example\n    expose:\n      - &quot;1999&quot;\n    ports:\n      - &quot;1999:1999&quot;\n    command: -p 1999\n\n  api:\n    image: api\n    network-mode: host\n    ports:\n      - 8080:8080\n    environment:\n      - SPRING_PROFILES_ACTIVE=docker\n</code></pre>\n<p>notice how i added a network mode to both services.</p>\n"}],"owner":{"account_id":27557315,"reputation":1,"user_id":21031259,"display_name":"Daan Schar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1674065001,"creation_date":1673994048,"question_id":75152814,"body_markdown":"I&#39;ve built a spring-boot application. I create a docker image with the following docker file:\r\n\r\n### Dockerfile\r\n\r\n```\r\nFROM openjdk:17 as builder\r\nWORKDIR /app\r\nCOPY . .\r\nRUN microdnf install findutils\r\nRUN ./gradlew build\r\nCOPY build/libs/*.jar app.jar\r\n\r\nFROM openjdk:17\r\nCOPY --from=builder /app/app.jar .\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\nEXPOSE 8080\r\n```\r\n\r\nI run the application together with a Postgres database\r\n\r\n## docker-compose.yaml\r\n```\r\nversion: &quot;3.8&quot;\r\n\r\nservices:    \r\n  db:\r\n    image: postgres\r\n    container_name: postgres\r\n    restart: always\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: example\r\n    expose:\r\n      - &quot;1999&quot;\r\n    ports:\r\n      - &quot;1999:1999&quot;\r\n    command: -p 1999\r\n\r\n  api:\r\n    image: api\r\n    depends_on:\r\n      - db\r\n    ports:\r\n      - 8080:8080\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=docker\r\n\r\nnetworks:\r\n  default:\r\n```\r\n\r\nThis works perfectly on windows, but as soon as I move this to my linux (Zorin OS) machine, I&#39;m not able to reach the application on `localhost:8080`, even though the application in the container is active.\r\n\r\n\r\n\r\n\r\n### docker container logs\r\n```\r\n[main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n[main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2381 ms\r\n[main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n[main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\r\n[main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n[ main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n[main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9ec531\r\n[main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n[main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n[main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n[main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54755dd9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1f7db2, org.springframework.security.web.context.SecurityContextHolderFilter@4d3c6593, org.springframework.security.web.header.HeaderWriterFilter@590adb41, org.springframework.security.web.authentication.logout.LogoutFilter@633cc6b5, com.voidhub.api.configuration.jwt.JwtUsernameAndPasswordAuthenticationFilter@4462efe1, com.voidhub.api.configuration.jwt.JwtTokenVerifier@7c3e4b1a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@516462cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3456558, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2db4ad1, org.springframework.security.web.session.SessionManagementFilter@43bf5397, org.springframework.security.web.access.ExceptionTranslationFilter@68ed3f30, org.springframework.security.web.access.intercept.AuthorizationFilter@28ee7bee]\r\n[main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\r\n[main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n[main] com.voidhub.api.ApiApplication           : Started ApiApplication in 7.341 seconds (process running for 7.904)\r\n\r\n```\r\n\r\n\r\n### docker ps\r\n```\r\nd1e2d34d8dbd   api   &quot;java -jar /app.jar&quot;     6 seconds ago   Up 5 seconds          0.0.0.0:8080-&gt;8080/tcp, :::8080-&gt;8080/tcp                                                                 voidhub-backend-1\r\n251065ab7afa   postgres                      &quot;docker-entrypoint.s&quot;   2 hours ago     Up 5 seconds          0.0.0.0:1999-&gt;1999/tcp, :::1999-&gt;1999/tcp, 5432/tcp                                                       postgres\r\n```\r\n\r\nrunning `curl localhost:8080` results in\r\n```\r\ncurl: (56) Recv failure: Connection reset by peer\r\n```\r\n\r\nhowever, running `netstat -aon | grep 8080` results in\r\n```\r\ntcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN      off (0.00/0/0)\r\ntcp6       0      0 :::8080                 :::*                    LISTEN      off (0.00/0/0)\r\n\r\n```","title":"Spring application running in docker container is not reachable","body":"<p>I've built a spring-boot application. I create a docker image with the following docker file:</p>\n<h3>Dockerfile</h3>\n<pre><code>FROM openjdk:17 as builder\nWORKDIR /app\nCOPY . .\nRUN microdnf install findutils\nRUN ./gradlew build\nCOPY build/libs/*.jar app.jar\n\nFROM openjdk:17\nCOPY --from=builder /app/app.jar .\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\nEXPOSE 8080\n</code></pre>\n<p>I run the application together with a Postgres database</p>\n<h2>docker-compose.yaml</h2>\n<pre><code>version: &quot;3.8&quot;\n\nservices:    \n  db:\n    image: postgres\n    container_name: postgres\n    restart: always\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: example\n    expose:\n      - &quot;1999&quot;\n    ports:\n      - &quot;1999:1999&quot;\n    command: -p 1999\n\n  api:\n    image: api\n    depends_on:\n      - db\n    ports:\n      - 8080:8080\n    environment:\n      - SPRING_PROFILES_ACTIVE=docker\n\nnetworks:\n  default:\n</code></pre>\n<p>This works perfectly on windows, but as soon as I move this to my linux (Zorin OS) machine, I'm not able to reach the application on <code>localhost:8080</code>, even though the application in the container is active.</p>\n<h3>docker container logs</h3>\n<pre><code>[main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n[main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2381 ms\n[main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n[main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\n[main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n[ main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n[main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9ec531\n[main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n[main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n[main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n[main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n[main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54755dd9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1f7db2, org.springframework.security.web.context.SecurityContextHolderFilter@4d3c6593, org.springframework.security.web.header.HeaderWriterFilter@590adb41, org.springframework.security.web.authentication.logout.LogoutFilter@633cc6b5, com.voidhub.api.configuration.jwt.JwtUsernameAndPasswordAuthenticationFilter@4462efe1, com.voidhub.api.configuration.jwt.JwtTokenVerifier@7c3e4b1a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@516462cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3456558, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2db4ad1, org.springframework.security.web.session.SessionManagementFilter@43bf5397, org.springframework.security.web.access.ExceptionTranslationFilter@68ed3f30, org.springframework.security.web.access.intercept.AuthorizationFilter@28ee7bee]\n[main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\n[main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n[main] com.voidhub.api.ApiApplication           : Started ApiApplication in 7.341 seconds (process running for 7.904)\n\n</code></pre>\n<h3>docker ps</h3>\n<pre><code>d1e2d34d8dbd   api   &quot;java -jar /app.jar&quot;     6 seconds ago   Up 5 seconds          0.0.0.0:8080-&gt;8080/tcp, :::8080-&gt;8080/tcp                                                                 voidhub-backend-1\n251065ab7afa   postgres                      &quot;docker-entrypoint.s&quot;   2 hours ago     Up 5 seconds          0.0.0.0:1999-&gt;1999/tcp, :::1999-&gt;1999/tcp, 5432/tcp                                                       postgres\n</code></pre>\n<p>running <code>curl localhost:8080</code> results in</p>\n<pre><code>curl: (56) Recv failure: Connection reset by peer\n</code></pre>\n<p>however, running <code>netstat -aon | grep 8080</code> results in</p>\n<pre><code>tcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN      off (0.00/0/0)\ntcp6       0      0 :::8080                 :::*                    LISTEN      off (0.00/0/0)\n\n</code></pre>\n"},{"tags":["java","operators","operator-precedence","evaluation"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674065348,"post_id":75163408,"comment_id":132637466,"body_markdown":"BTW the precedence is given (indirectly) by the [19. Syntax](https://docs.oracle.com/javase/specs/jls/se19/html/jls-19.html) in the Java Language Specification (it&#39;s not that easy to read as a table ) The operators are also *explained* in precedence order (the sections/sub-chapters) in JLS [15. Expressions](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html)","body":"BTW the precedence is given (indirectly) by the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-19.html\" rel=\"nofollow noreferrer\">19. Syntax</a> in the Java Language Specification (it&#39;s not that easy to read as a table ) The operators are also <i>explained</i> in precedence order (the sections/sub-chapters) in JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html\" rel=\"nofollow noreferrer\">15. Expressions</a>"}],"owner":{"account_id":91222,"reputation":3244,"user_id":250610,"accept_rate":81,"display_name":"MikeTheTall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674075944,"answer_count":0,"score":0,"last_activity_date":1674064802,"creation_date":1674064802,"question_id":75163408,"body_markdown":"I&#39;m trying to figure out how operator precedence and the short-circuit feature of &amp;&amp; and || are combined.  Specifically, since &amp;&amp; and || have low precedence ([table from Oracle here][1]; I [couldn&#39;t find a operator precedence table in the language spec itself][2]) then it seems like Java programs should evaluate the left/right sides before doing the &amp;&amp;/||.  For example:\r\n\r\n    1 &lt; 3 || 2 &lt; 3\r\n\r\nthe above code should first evaluate &quot;1 &lt; 3&quot; (and get &#39;true&#39;), then the next-highest operator is the remaining &#39;&lt;&#39; so Java evaluates 2 &lt; 3 (also &#39;true&#39;), and then finally the lowest-precedence operator || is evaluated.\r\n\r\nOf course, we know that this isn&#39;t what happens.\r\n\r\nInstead, the left sub-expression is evaluated, 1 &lt; 3 evaluates to &#39;true&#39;, and the logical OR short-circuits and doesn&#39;t even evaluate the right side of the expression.  One can write code that causes side effects (such as printing messages when a function is called) to verify this - any methods on the right side aren&#39;t run at all.\r\n\r\nThis seems to contradict the operator precedence rules - the comparison operators should go before the logical AND.  \r\n\r\nHow is this contradiction resolved?  When, exactly, does &amp;&amp; get evaluated?\r\n\r\nInformally, it seems like the Java program must be set up so that it first scans the entire expression, finds any &amp;&amp;s or ||s, finds the &#39;subexpressions&#39; to the left &amp; right of the &amp;&amp;s and ||s, and then ignores the precedence table for anything in either subexpression.  Once enough of the overall expression has been evaluated and Java needs the result of the subexpressions joined by &amp;&amp; or || then it&#39;ll evaluate the left subexpression first (recursively applying the precedence rules within the left subexpression), and then use that result to figure out if it needs to evaluate the right subexpression.\r\n\r\nIs this correct?  \r\n\r\nAnd for bonus points, where does it specify this in the Java language spec?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\r\n  [2]: https://introcs.cs.princeton.edu/java/11precedence/#:~:text=There%20is%20no%20explicit%20operator%20precedence%20table%20in,Java%20language.%20Order%20of%20operand%20evaluation%20in%20Java.","title":"Short circuiting logical operators, precedence, and evaluation order?","body":"<p>I'm trying to figure out how operator precedence and the short-circuit feature of &amp;&amp; and || are combined.  Specifically, since &amp;&amp; and || have low precedence (<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">table from Oracle here</a>; I <a href=\"https://introcs.cs.princeton.edu/java/11precedence/#:%7E:text=There%20is%20no%20explicit%20operator%20precedence%20table%20in,Java%20language.%20Order%20of%20operand%20evaluation%20in%20Java.\" rel=\"nofollow noreferrer\">couldn't find a operator precedence table in the language spec itself</a>) then it seems like Java programs should evaluate the left/right sides before doing the &amp;&amp;/||.  For example:</p>\n<pre><code>1 &lt; 3 || 2 &lt; 3\n</code></pre>\n<p>the above code should first evaluate &quot;1 &lt; 3&quot; (and get 'true'), then the next-highest operator is the remaining '&lt;' so Java evaluates 2 &lt; 3 (also 'true'), and then finally the lowest-precedence operator || is evaluated.</p>\n<p>Of course, we know that this isn't what happens.</p>\n<p>Instead, the left sub-expression is evaluated, 1 &lt; 3 evaluates to 'true', and the logical OR short-circuits and doesn't even evaluate the right side of the expression.  One can write code that causes side effects (such as printing messages when a function is called) to verify this - any methods on the right side aren't run at all.</p>\n<p>This seems to contradict the operator precedence rules - the comparison operators should go before the logical AND.</p>\n<p>How is this contradiction resolved?  When, exactly, does &amp;&amp; get evaluated?</p>\n<p>Informally, it seems like the Java program must be set up so that it first scans the entire expression, finds any &amp;&amp;s or ||s, finds the 'subexpressions' to the left &amp; right of the &amp;&amp;s and ||s, and then ignores the precedence table for anything in either subexpression.  Once enough of the overall expression has been evaluated and Java needs the result of the subexpressions joined by &amp;&amp; or || then it'll evaluate the left subexpression first (recursively applying the precedence rules within the left subexpression), and then use that result to figure out if it needs to evaluate the right subexpression.</p>\n<p>Is this correct?</p>\n<p>And for bonus points, where does it specify this in the Java language spec?</p>\n"},{"tags":["java","date","java-time","duration","localdate"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1674065077,"post_id":75163249,"comment_id":132637377,"body_markdown":"This question meets the [requirements of a good question](https://stackoverflow.com/help/how-to-ask). I don&#39;t see any reason for the close vote.","body":"This question meets the <a href=\"https://stackoverflow.com/help/how-to-ask\">requirements of a good question</a>. I don&#39;t see any reason for the close vote."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674064748,"creation_date":1674064748,"answer_id":75163393,"question_id":75163249,"body_markdown":"TL;DR\r\n--\r\n\r\nUse [`Period`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Period.html) instead of [`Duration`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html).\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            LocalDate today = LocalDate.now();\r\n            LocalDate fortyDaysAgo = today.minusDays(40);\r\n            Period period = Period.between(fortyDaysAgo, today);\r\n            System.out.println(period);\r\n            System.out.printf(&quot;%d year(s) %d month(s) %d day(s)%n&quot;, period.getYears(), period.getMonths(),\r\n                    period.getDays());\r\n        }\r\n    }\r\n\r\n**Output from a sample run:**\r\n\r\n    P1M9D\r\n    0 year(s) 1 month(s) 9 day(s)\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/XIrUya)\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Define the highest time unit of date difference that has a whole number","body":"<h2>TL;DR</h2>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Period.html\" rel=\"noreferrer\"><code>Period</code></a> instead of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Period;\n\nclass Main {\n    public static void main(String[] args) {\n        LocalDate today = LocalDate.now();\n        LocalDate fortyDaysAgo = today.minusDays(40);\n        Period period = Period.between(fortyDaysAgo, today);\n        System.out.println(period);\n        System.out.printf(&quot;%d year(s) %d month(s) %d day(s)%n&quot;, period.getYears(), period.getMonths(),\n                period.getDays());\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>P1M9D\n0 year(s) 1 month(s) 9 day(s)\n</code></pre>\n<p><a href=\"https://ideone.com/XIrUya\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75163393,"answer_count":1,"score":3,"last_activity_date":1674064748,"creation_date":1674063904,"question_id":75163249,"body_markdown":"I have 2 dates:\r\n```\r\nLocalDate date1 = LocalDate.now().minusDays(40);\r\nLocalDate date2 = LocalDate.now();\r\n```\r\nI want to figure out what is the biggest time unit I can pick to define the difference between the 2 (out of days, months, years), and to get its number.\r\nThe perfect solution for me, I think, would been if `Duration` of `java.time` api had also `toMonthsPart` and `toYearsPart` as it has `toDaysPart`. This way I could do this:\r\n```\r\nDuration dif = Duration.between(date1, date2);\r\n\r\nlong daysPart = dif.toDaysPart();\r\nif (daysPart &gt; 0) {\r\n    return ChronoUnit.DAYS.between(date1, date2);\r\n}\r\n\r\nlong monthPart = dif.getMonthsPart();\r\nif (monthPart &gt; 0) {\r\n    return ChronoUnit.MONTHS.between(date1, date2);\r\n}\r\n\r\nlong yearPart = dif.getYearsPart();\r\nif (yearPart &gt; 0) {\r\n    return ChronoUnit.YEARS.between(date1, date2);\r\n}\r\n\r\nthrow new Exception(&quot;no difference&quot;);\r\n```\r\nBut there is no such methods in the API. \r\nIs there another package can provide this functionality, or do you know of different approach to achieve my goal?\r\n","title":"Define the highest time unit of date difference that has a whole number","body":"<p>I have 2 dates:</p>\n<pre><code>LocalDate date1 = LocalDate.now().minusDays(40);\nLocalDate date2 = LocalDate.now();\n</code></pre>\n<p>I want to figure out what is the biggest time unit I can pick to define the difference between the 2 (out of days, months, years), and to get its number.\nThe perfect solution for me, I think, would been if <code>Duration</code> of <code>java.time</code> api had also <code>toMonthsPart</code> and <code>toYearsPart</code> as it has <code>toDaysPart</code>. This way I could do this:</p>\n<pre><code>Duration dif = Duration.between(date1, date2);\n\nlong daysPart = dif.toDaysPart();\nif (daysPart &gt; 0) {\n    return ChronoUnit.DAYS.between(date1, date2);\n}\n\nlong monthPart = dif.getMonthsPart();\nif (monthPart &gt; 0) {\n    return ChronoUnit.MONTHS.between(date1, date2);\n}\n\nlong yearPart = dif.getYearsPart();\nif (yearPart &gt; 0) {\n    return ChronoUnit.YEARS.between(date1, date2);\n}\n\nthrow new Exception(&quot;no difference&quot;);\n</code></pre>\n<p>But there is no such methods in the API.\nIs there another package can provide this functionality, or do you know of different approach to achieve my goal?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7069285,"reputation":2980,"user_id":5411494,"accept_rate":73,"display_name":"Marcel"},"score":1,"creation_date":1477234366,"post_id":40204189,"comment_id":67673015,"body_markdown":"After define JAVA_HOME did you try to restart the IDE?","body":"After define JAVA_HOME did you try to restart the IDE?"},{"owner":{"account_id":2110607,"reputation":374,"user_id":1875965,"display_name":"Sandra"},"score":0,"creation_date":1563964646,"post_id":40204189,"comment_id":100872851,"body_markdown":"I had this issue when trying to start PHPStorm via the command line (add the phpstorm bin folder to your path, and you should be able to do eg `phpstorm.exe .` - adding the path to the jdk PHPStorm comes bundled with as  `JAVA_HOME` (`setx JAVA_HOME &quot;C:\\Program Files (x86)\\JetBrains\\PhpStorm 2019.1\\jre64&quot;`) doesn&#39;t solve the issue","body":"I had this issue when trying to start PHPStorm via the command line (add the phpstorm bin folder to your path, and you should be able to do eg <code>phpstorm.exe .</code> - adding the path to the jdk PHPStorm comes bundled with as  <code>JAVA_HOME</code> (<code>setx JAVA_HOME &quot;C:\\Program Files (x86)\\JetBrains\\PhpStorm 2019.1\\jre64&quot;</code>) doesn&#39;t solve the issue"},{"owner":{"account_id":21648583,"reputation":805,"user_id":15969538,"display_name":"Ronik Limbani"},"score":0,"creation_date":1674034981,"post_id":40204189,"comment_id":132626795,"body_markdown":"Plz follow this solution it&#39;s perfect work for me [ Follow this Steps ](https://stackoverflow.com/questions/75155444/android-studio-electric-eel-update-failure/75156452#75156452)","body":"Plz follow this solution it&#39;s perfect work for me [ Follow this Steps ](<a href=\"https://stackoverflow.com/questions/75155444/android-studio-electric-eel-update-failure/75156452#75156452\" title=\"android studio electric eel update failure\">stackoverflow.com/questions/75155444/&hellip;</a>)"}],"answers":[{"comments":[{"owner":{"account_id":2123624,"reputation":7301,"user_id":1886357,"accept_rate":79,"display_name":"eric"},"score":0,"creation_date":1548532227,"post_id":40206980,"comment_id":95577311,"body_markdown":"This worked, and I wonder why this persists as a problem until 2019...Pycharm?","body":"This worked, and I wonder why this persists as a problem until 2019...Pycharm?"},{"owner":{"account_id":28631,"reputation":13010,"user_id":76673,"accept_rate":85,"display_name":"Wadih M."},"score":0,"creation_date":1549556814,"post_id":40206980,"comment_id":95953193,"body_markdown":"If you&#39;re doing it in 2019 try my answer below instead, no need to fiddle with the Path.","body":"If you&#39;re doing it in 2019 try my answer below instead, no need to fiddle with the Path."}],"tags":[],"owner":{"account_id":4325247,"reputation":12424,"user_id":4390212,"accept_rate":74,"display_name":"DimaSan"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1477251031,"creation_date":1477251031,"answer_id":40206980,"question_id":40204189,"body_markdown":"Change the following value from your `Path` system variable:\r\n\r\n    C:\\Program Files (x86)\\java\\jdk1.8.0_112\\jre\\bin\\server\\jvm.dll\r\n\r\nto:\r\n\r\n    %JAVA_HOME%\\bin\r\n\r\nAlso make sure there are no any other references to Java folders in the `Path` variable.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Change the following value from your <code>Path</code> system variable:</p>\n\n<pre><code>C:\\Program Files (x86)\\java\\jdk1.8.0_112\\jre\\bin\\server\\jvm.dll\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>%JAVA_HOME%\\bin\n</code></pre>\n\n<p>Also make sure there are no any other references to Java folders in the <code>Path</code> variable.</p>\n"},{"comments":[{"owner":{"account_id":9585668,"reputation":3895,"user_id":7123519,"accept_rate":95,"display_name":"Sebastian Nielsen"},"score":0,"creation_date":1520375666,"post_id":44013715,"comment_id":85287654,"body_markdown":"Installing/re-installing the latest version of what? The jetbrain program?","body":"Installing/re-installing the latest version of what? The jetbrain program?"},{"owner":{"account_id":28631,"reputation":13010,"user_id":76673,"accept_rate":85,"display_name":"Wadih M."},"score":0,"creation_date":1520378488,"post_id":44013715,"comment_id":85288710,"body_markdown":"Yes reinstalling phpstorm altogether","body":"Yes reinstalling phpstorm altogether"}],"tags":[],"owner":{"account_id":28631,"reputation":13010,"user_id":76673,"accept_rate":85,"display_name":"Wadih M."},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1563965987,"creation_date":1494981582,"answer_id":44013715,"question_id":40204189,"body_markdown":"To fix I didn&#39;t need to touch my environment variables. \r\n\r\nI fixed that issue by installing/re-installing the latest PHPStorm version choosing the option to keep old settings, logging out from Windows and logging back in. ","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>To fix I didn't need to touch my environment variables. </p>\n\n<p>I fixed that issue by installing/re-installing the latest PHPStorm version choosing the option to keep old settings, logging out from Windows and logging back in. </p>\n"},{"tags":[],"owner":{"account_id":8275463,"reputation":134,"user_id":6221831,"display_name":"Miles Winther"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527120370,"creation_date":1527120370,"answer_id":50499103,"question_id":40204189,"body_markdown":"I fixed this issue by:\r\n\r\n 1. Setting the `JAVA_HOME` environment variable to the location of the JDK I wanted to use e.g. `C:\\Program Files\\Java\\jdk1.8.0_171`\r\n 2. Replacing any paths referring to Java e.g. `C:\\Program Files (x86)\\java\\jdk1.8.0_112\\jre\\bin\\server\\jvm.dll` in `Path` with `%JAVA_HOME%\\bin` as suggested by [DimaSan][1]\r\n 3. Removing the following from the **System variables** path `C:\\ProgramData\\Oracle\\Java\\javapath`\r\n\r\nThe last step was crucial for me, this was overriding `JAVA_HOME`.\r\n\r\n  [1]: https://stackoverflow.com/a/40206980/6221831","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I fixed this issue by:</p>\n\n<ol>\n<li>Setting the <code>JAVA_HOME</code> environment variable to the location of the JDK I wanted to use e.g. <code>C:\\Program Files\\Java\\jdk1.8.0_171</code></li>\n<li>Replacing any paths referring to Java e.g. <code>C:\\Program Files (x86)\\java\\jdk1.8.0_112\\jre\\bin\\server\\jvm.dll</code> in <code>Path</code> with <code>%JAVA_HOME%\\bin</code> as suggested by <a href=\"https://stackoverflow.com/a/40206980/6221831\">DimaSan</a></li>\n<li>Removing the following from the <strong>System variables</strong> path <code>C:\\ProgramData\\Oracle\\Java\\javapath</code></li>\n</ol>\n\n<p>The last step was crucial for me, this was overriding <code>JAVA_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":12920306,"reputation":81,"user_id":9343040,"display_name":"James121"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536301708,"creation_date":1536301708,"answer_id":52216535,"question_id":40204189,"body_markdown":"In my case, this error appeared after signing in to Microsoft account (I use Windows 10). When I logged out, the error dissapeared.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>In my case, this error appeared after signing in to Microsoft account (I use Windows 10). When I logged out, the error dissapeared.</p>\n"},{"tags":[],"owner":{"account_id":10680738,"reputation":2840,"user_id":7862909,"display_name":"Arun Joseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541745282,"creation_date":1541745282,"answer_id":53220906,"question_id":40204189,"body_markdown":"If you are installing Intellij Idea on a 32 bit System - the JDK will not come within the bundle.\r\n\r\nTo fix this issue follow the steps below :\r\n\r\n1.Uninstall the installed Intellij IDEA\r\n\r\n2.Download and install JDK SE 8 from this link :\r\nhttps://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html\r\n\r\n3.Install Intellij IDEA\r\n\r\nViola !   ","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>If you are installing Intellij Idea on a 32 bit System - the JDK will not come within the bundle.</p>\n\n<p>To fix this issue follow the steps below :</p>\n\n<p>1.Uninstall the installed Intellij IDEA</p>\n\n<p>2.Download and install JDK SE 8 from this link :\n<a href=\"https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html</a></p>\n\n<p>3.Install Intellij IDEA</p>\n\n<p>Viola !   </p>\n"},{"comments":[{"owner":{"account_id":1412216,"reputation":962,"user_id":1338587,"accept_rate":100,"display_name":"Byebye"},"score":0,"creation_date":1553334888,"post_id":54530691,"comment_id":97352133,"body_markdown":"This fixed my issue. If you&#39;re launching using the &quot;start menu&quot; search for &quot;goland&quot; in windows it tries to locate the x86 version of the JDK even if you have the x64 version installed.","body":"This fixed my issue. If you&#39;re launching using the &quot;start menu&quot; search for &quot;goland&quot; in windows it tries to locate the x86 version of the JDK even if you have the x64 version installed."},{"owner":{"account_id":1392924,"reputation":597,"user_id":1323283,"accept_rate":20,"display_name":"tedyyu"},"score":0,"creation_date":1572244444,"post_id":54530691,"comment_id":103486654,"body_markdown":"It seems recent versions like 2019.2 only have 64 bit version to be downloaded now.","body":"It seems recent versions like 2019.2 only have 64 bit version to be downloaded now."},{"owner":{"account_id":55236,"reputation":483,"user_id":165347,"display_name":"Doug Cuthbertson"},"score":2,"creation_date":1574197448,"post_id":54530691,"comment_id":104143972,"body_markdown":"Similarly for &quot;goland&quot; run &quot;**goland64 .**&quot; from the command line.","body":"Similarly for &quot;goland&quot; run &quot;<b>goland64 .</b>&quot; from the command line."},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1589713858,"post_id":54530691,"comment_id":109396839,"body_markdown":"I&#39;ve got this error trying to open Maven project using command: `idea pom.xml` . But since I have no x86 JDK installed in my system this doesn&#39;t work. So one should use `idea64 pom.xml` with x64 JDK.","body":"I&#39;ve got this error trying to open Maven project using command: <code>idea pom.xml</code> . But since I have no x86 JDK installed in my system this doesn&#39;t work. So one should use <code>idea64 pom.xml</code> with x64 JDK."}],"tags":[],"owner":{"account_id":14528362,"reputation":500,"user_id":10493934,"display_name":"Alexander Gorbenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1549356914,"creation_date":1549356914,"answer_id":54530691,"question_id":40204189,"body_markdown":"It could be problem with 32 and 64 version. Maybe you trying to launch 32-bit shortcut on your Desktop. Try to launch 64 version (idea64.exe) inside IDEA folder. This worked for me.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>It could be problem with 32 and 64 version. Maybe you trying to launch 32-bit shortcut on your Desktop. Try to launch 64 version (idea64.exe) inside IDEA folder. This worked for me.</p>\n"},{"comments":[{"owner":{"account_id":1333279,"reputation":6465,"user_id":1276636,"accept_rate":62,"display_name":"Sufian"},"score":0,"creation_date":1555404092,"post_id":54643339,"comment_id":98088911,"body_markdown":"I had to run Android Studio as administrator on Windows10. Strange because I was able to run without doing this yesterday and upto an hour ago.","body":"I had to run Android Studio as administrator on Windows10. Strange because I was able to run without doing this yesterday and upto an hour ago."}],"tags":[],"owner":{"account_id":14291547,"reputation":926,"user_id":10323334,"display_name":"Ali Tamoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549949137,"creation_date":1549949137,"answer_id":54643339,"question_id":40204189,"body_markdown":"Actually i had installed the Android Studio canary version, and created a short cut of 32-bit on 64-bit windows operating system,\r\n```\r\nresolved by starting 64-bit version of Android Studio\r\n```","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Actually i had installed the Android Studio canary version, and created a short cut of 32-bit on 64-bit windows operating system,</p>\n\n<pre><code>resolved by starting 64-bit version of Android Studio\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68035,"reputation":3491,"user_id":198762,"accept_rate":93,"display_name":"Dai Bok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562582251,"creation_date":1562582251,"answer_id":56933141,"question_id":40204189,"body_markdown":"I had the same problem - My solution was slightly different. \r\n\r\n[I needed to install Microsoft Visual C++ 2010 Redistributable Package (x64)][1] \r\n\r\nHope this helps someone else!\r\n\r\n  [1]: https://www.microsoft.com/en-gb/download/confirmation.aspx?id=14632","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I had the same problem - My solution was slightly different. </p>\n\n<p><a href=\"https://www.microsoft.com/en-gb/download/confirmation.aspx?id=14632\" rel=\"nofollow noreferrer\">I needed to install Microsoft Visual C++ 2010 Redistributable Package (x64)</a> </p>\n\n<p>Hope this helps someone else!</p>\n"},{"tags":[],"owner":{"account_id":2110607,"reputation":374,"user_id":1875965,"display_name":"Sandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563965603,"creation_date":1563965603,"answer_id":57181231,"question_id":40204189,"body_markdown":"I had this issue when trying to start PHPStorm via the command line (add the phpstorm bin folder to your path, and you should be able to do eg `phpstorm.exe .`) - my local installed worked fine.\r\n\r\nsee also https://www.jetbrains.com/help/phpstorm/working-with-the-ide-features-from-command-line.html:\r\n&gt; Add the path to the PhpStorm  `bin` folder to the **Path** environment variable (for example, `C:\\Program Files\\JetBrains\\PhpStorm\\bin`). After you configured the **Path** environment variable, you can run the PhpStorm commands.\r\n\r\nadding the path to the jdk PHPStorm comes bundled with as  `JAVA_HOME` (`setx JAVA_HOME &quot;C:\\Program Files (x86)\\JetBrains\\PhpStorm 2019.1\\jre64&quot;`) doesn&#39;t solve the issue as the default `phpstorm.exe` tries to find a 32-bit jdk\r\n\r\nI needed to specifically use the 64-bit phpstorm application  \r\n**`phpstorm64.exe .`**\r\n","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I had this issue when trying to start PHPStorm via the command line (add the phpstorm bin folder to your path, and you should be able to do eg <code>phpstorm.exe .</code>) - my local installed worked fine.</p>\n\n<p>see also <a href=\"https://www.jetbrains.com/help/phpstorm/working-with-the-ide-features-from-command-line.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/phpstorm/working-with-the-ide-features-from-command-line.html</a>:</p>\n\n<blockquote>\n  <p>Add the path to the PhpStorm  <code>bin</code> folder to the <strong>Path</strong> environment variable (for example, <code>C:\\Program Files\\JetBrains\\PhpStorm\\bin</code>). After you configured the <strong>Path</strong> environment variable, you can run the PhpStorm commands.</p>\n</blockquote>\n\n<p>adding the path to the jdk PHPStorm comes bundled with as  <code>JAVA_HOME</code> (<code>setx JAVA_HOME \"C:\\Program Files (x86)\\JetBrains\\PhpStorm 2019.1\\jre64\"</code>) doesn't solve the issue as the default <code>phpstorm.exe</code> tries to find a 32-bit jdk</p>\n\n<p>I needed to specifically use the 64-bit phpstorm application<br>\n<strong><code>phpstorm64.exe .</code></strong></p>\n"},{"tags":[],"owner":{"account_id":8846713,"reputation":39,"user_id":6607256,"display_name":"Kuldeep Makwana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565058355,"creation_date":1565058355,"answer_id":57368129,"question_id":40204189,"body_markdown":"You have to do nothing buddy.\r\nJust use 32 bit version of application or install 64 bit JDK. You installed 32 bit JDK and you are trying to access 64 bit version of that application. ","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>You have to do nothing buddy.\nJust use 32 bit version of application or install 64 bit JDK. You installed 32 bit JDK and you are trying to access 64 bit version of that application. </p>\n"},{"comments":[{"owner":{"account_id":1392924,"reputation":597,"user_id":1323283,"accept_rate":20,"display_name":"tedyyu"},"score":0,"creation_date":1572251202,"post_id":58587613,"comment_id":103488714,"body_markdown":"Plus, why should I switch back to use JDK 1.8 is because one of my addin/plugin to extend project templates relies on JDK 1.8 and breaks for JDK 11.","body":"Plus, why should I switch back to use JDK 1.8 is because one of my addin/plugin to extend project templates relies on JDK 1.8 and breaks for JDK 11."}],"tags":[],"owner":{"account_id":1392924,"reputation":597,"user_id":1323283,"accept_rate":20,"display_name":"tedyyu"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572251061,"creation_date":1572251061,"answer_id":58587613,"question_id":40204189,"body_markdown":"Nothing of the other solutions work for me on IntelliJ 2019.2 which starts to use JDK 11 on boot, so I have to resolve it on my own.\r\n\r\nOpen C:\\Users\\&lt;user&gt;\\.IdeaIC2019.2\\config\\idea64.exe.jdk and edit it to be:\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_131\r\n\r\nRestart IDE.\r\n\r\nAs documented on https://www.jetbrains.com/help/idea/switching-boot-jdk.html\r\n\r\nNote: the path on your machine may be different.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Nothing of the other solutions work for me on IntelliJ 2019.2 which starts to use JDK 11 on boot, so I have to resolve it on my own.</p>\n\n<p>Open C:\\Users\\.IdeaIC2019.2\\config\\idea64.exe.jdk and edit it to be:</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_131\n</code></pre>\n\n<p>Restart IDE.</p>\n\n<p>As documented on <a href=\"https://www.jetbrains.com/help/idea/switching-boot-jdk.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/switching-boot-jdk.html</a></p>\n\n<p>Note: the path on your machine may be different.</p>\n"},{"tags":[],"owner":{"account_id":943365,"reputation":4244,"user_id":971070,"accept_rate":44,"display_name":"Hong Duan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576132160,"creation_date":1576132160,"answer_id":59298872,"question_id":40204189,"body_markdown":"I have faced the same problem and in my case, just right click and &quot;Run as administrator&quot;, everything works fine.\r\n\r\nP.S. I am using Windows 10 in our company&#39;s domain.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I have faced the same problem and in my case, just right click and \"Run as administrator\", everything works fine.</p>\n\n<p>P.S. I am using Windows 10 in our company's domain.</p>\n"},{"tags":[],"owner":{"account_id":3801583,"reputation":523,"user_id":3155082,"display_name":"Jawad Zeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580194225,"creation_date":1580194225,"answer_id":59943465,"question_id":40204189,"body_markdown":"Solved it by running Android studio as admin.\r\n\r\nJust Check on that path if the `jvm.dll` is present just run Android studio as administrator.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Solved it by running Android studio as admin.</p>\n\n<p>Just Check on that path if the <code>jvm.dll</code> is present just run Android studio as administrator.</p>\n"},{"tags":[],"owner":{"account_id":769635,"reputation":126,"user_id":807129,"display_name":"Eric Clarke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582907750,"creation_date":1582907750,"answer_id":60455860,"question_id":40204189,"body_markdown":"Can be several reasons:\r\n\r\n1). Check that your jdk-byte architecture is the same as your os-byte. So, 32-nit architecture needs 32-bit jdk, 64 bit architecture needs 64 bit jdk.\r\n\r\n2). If you&#39;re running a 64-bit architecture, use (idea64.exe, phpstorm64.exe, etc.). On the 32-bit architecture use (idea.exe, phpstorm.exe, etc), to launch intelli-j products from the command line or terminal.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Can be several reasons:</p>\n\n<p>1). Check that your jdk-byte architecture is the same as your os-byte. So, 32-nit architecture needs 32-bit jdk, 64 bit architecture needs 64 bit jdk.</p>\n\n<p>2). If you're running a 64-bit architecture, use (idea64.exe, phpstorm64.exe, etc.). On the 32-bit architecture use (idea.exe, phpstorm.exe, etc), to launch intelli-j products from the command line or terminal.</p>\n"},{"tags":[],"owner":{"account_id":5203950,"reputation":484,"user_id":4162520,"display_name":"Imre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640607667,"creation_date":1640607667,"answer_id":70495438,"question_id":40204189,"body_markdown":"I had the same issue (JDK 1.8.0_212), but none of the suggested solution worked. I then installed a newer JDK (1.8.0_261) and the problem was solved (obviously, I had to update the JAVA_HOME too).","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I had the same issue (JDK 1.8.0_212), but none of the suggested solution worked. I then installed a newer JDK (1.8.0_261) and the problem was solved (obviously, I had to update the JAVA_HOME too).</p>\n"},{"tags":[],"owner":{"account_id":21648583,"reputation":805,"user_id":15969538,"display_name":"Ronik Limbani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674064452,"creation_date":1674064452,"answer_id":75163344,"question_id":40204189,"body_markdown":"I have faced same issue after updating android studio version **electric eel**. it&#39;s show error like this.\r\n[![enter image description here][1]][1] \r\n\r\n\r\nAfter many try I found this solution. you can follow this steps.\r\n\r\nStep 1 : You can visit this site [Official Oracle Java SE Development Kit Site][2] and download particular JDK kit for your pc configuration. I am suggest to download this JDK version [Java SE Development Kit 18.0.2.1][3] and after download you can install in your computer.\r\n\r\nStep 2 : After Successfully installed you can go \r\n\r\n  **Stat**--&gt; **Search**--&gt; **Edit Environment Variable** --&gt; \r\n  You can follow this image\r\n\r\n1.[![enter image description here][4]][4]\r\n\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\nStep 3:\r\nNow You can Add **JAVA_HOME:** *C:\\Program Files\\Java\\jdk-18.0.2.1* (install version in your pc) Like this\r\n[![enter image description here][6]][6] \r\n\r\n and also add **PATH** : *C:\\Program Files\\Java\\jdk-18.0.2.1\\bin* (install version in your pc) Like this\r\n[![enter image description here][7]][7]\r\n\r\n**Note** : You can only add user variable not system variable.\r\n\r\n**Step 4 : Last step but main after follow these steps you can restart your pc.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m8Cww.png\r\n  [2]: https://www.oracle.com/in/java/technologies/downloads/\r\n  [3]: https://www.oracle.com/java/technologies/javase/jdk18-archive-downloads.html\r\n  [4]: https://i.stack.imgur.com/usZfa.png\r\n  [5]: https://i.stack.imgur.com/b775W.png\r\n  [6]: https://i.stack.imgur.com/0SIIT.png\r\n  [7]: https://i.stack.imgur.com/4Xf77.png","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I have faced same issue after updating android studio version <strong>electric eel</strong>. it's show error like this.\n<a href=\"https://i.stack.imgur.com/m8Cww.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8Cww.png\" alt=\"enter image description here\" /></a></p>\n<p>After many try I found this solution. you can follow this steps.</p>\n<p>Step 1 : You can visit this site <a href=\"https://www.oracle.com/in/java/technologies/downloads/\" rel=\"nofollow noreferrer\">Official Oracle Java SE Development Kit Site</a> and download particular JDK kit for your pc configuration. I am suggest to download this JDK version <a href=\"https://www.oracle.com/java/technologies/javase/jdk18-archive-downloads.html\" rel=\"nofollow noreferrer\">Java SE Development Kit 18.0.2.1</a> and after download you can install in your computer.</p>\n<p>Step 2 : After Successfully installed you can go</p>\n<p><strong>Stat</strong>--&gt; <strong>Search</strong>--&gt; <strong>Edit Environment Variable</strong> --&gt;\nYou can follow this image</p>\n<p>1.<a href=\"https://i.stack.imgur.com/usZfa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usZfa.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/b775W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b775W.png\" alt=\"enter image description here\" /></a></p>\n<p>Step 3:\nNow You can Add <strong>JAVA_HOME:</strong> <em>C:\\Program Files\\Java\\jdk-18.0.2.1</em> (install version in your pc) Like this\n<a href=\"https://i.stack.imgur.com/0SIIT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0SIIT.png\" alt=\"enter image description here\" /></a></p>\n<p>and also add <strong>PATH</strong> : <em>C:\\Program Files\\Java\\jdk-18.0.2.1\\bin</em> (install version in your pc) Like this\n<a href=\"https://i.stack.imgur.com/4Xf77.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Xf77.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note</strong> : You can only add user variable not system variable.</p>\n<p><strong>Step 4 : Last step but main after follow these steps you can restart your pc.</strong></p>\n"}],"owner":{"account_id":8335477,"reputation":371,"user_id":6262561,"display_name":"thompsonturkey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98918,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":16,"score":37,"last_activity_date":1674064452,"creation_date":1477233869,"question_id":40204189,"body_markdown":"Whenever I open IntelliJ IDEA i get this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut I have that defined and I don&#39;t know why it wont work:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAny help accepted.\r\n\r\n  [1]: https://i.stack.imgur.com/OQR7n.png\r\n  [2]: https://i.stack.imgur.com/viPpf.png","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Whenever I open IntelliJ IDEA i get this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OQR7n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OQR7n.png\" alt=\"enter image description here\"></a></p>\n\n<p>but I have that defined and I don't know why it wont work:</p>\n\n<p><a href=\"https://i.stack.imgur.com/viPpf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/viPpf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any help accepted.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1674061323,"post_id":75162319,"comment_id":132636141,"body_markdown":"Are you guaranteed to always have at most 3 codes for 1 value? If not, what happens if you get more than 3, `1=[1, 2, 3, 4]` for example?","body":"Are you guaranteed to always have at most 3 codes for 1 value? If not, what happens if you get more than 3, <code>1=[1, 2, 3, 4]</code> for example?"},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1674061631,"post_id":75162319,"comment_id":132636234,"body_markdown":"It is guaranteed that there will always be a maximum of 3 codes.","body":"It is guaranteed that there will always be a maximum of 3 codes."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1674062224,"post_id":75162319,"comment_id":132636421,"body_markdown":"If you had to do it without streams, what would you do? Have you looked at the methods available in [Collector](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html)?","body":"If you had to do it without streams, what would you do? Have you looked at the methods available in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\">Collector</a>?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674064180,"creation_date":1674064180,"answer_id":75163292,"question_id":75162319,"body_markdown":"Here is one way.\r\n```\r\nclass ResultSet {\r\n\r\n    long value;\r\n    String code_1;\r\n    String code_2;\r\n    String code_3;\r\n\r\n    public ResultSet(long value, String code_1,String code_2, String code_3) {\r\n        this.value = value;\r\n        this.code_1 = code_1;\r\n        this.code_2 = code_2;\r\n        this.code_3 = code_3;\r\n    }\r\n    \r\n    public String toString() {\r\n        return &quot;{%d, %s, %s, %s}&quot;.formatted(value, code_1, code_2, code_3);\r\n    }\r\n}\r\n```\r\nUse your existing map to build the list.  Stream the entrySet of the map and use `map` to instantiate a `ResultSet` instance.  The forloop will fill the list with nulls if it isn&#39;t fully populated.\r\n```\r\n\r\nList&lt;ResultSet&gt; resultSet = map.entrySet().stream()\r\n        .&lt;ResultSet&gt;map(ent-&gt; {\r\n            List&lt;String&gt; lst = ent.getValue();\r\n            for( int i = lst.size(); i &lt; 3; i++) {\r\n                lst.add(null);\r\n            }\r\n            return new ResultSet(ent.getKey(), lst.get(0),\r\n                    lst.get(1), lst.get(2));\r\n        }).toList();\r\n\r\n\r\nresultSet.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n{1, 1, 2, 3}\r\n{2, 5, null, null}\r\n```\r\nNote that you could simply stream the existing `entrySet` from the original map to combine the process, returning the desired `List&lt;ResultSet&gt;`","title":"Java streams: return results to custom object","body":"<p>Here is one way.</p>\n<pre><code>class ResultSet {\n\n    long value;\n    String code_1;\n    String code_2;\n    String code_3;\n\n    public ResultSet(long value, String code_1,String code_2, String code_3) {\n        this.value = value;\n        this.code_1 = code_1;\n        this.code_2 = code_2;\n        this.code_3 = code_3;\n    }\n    \n    public String toString() {\n        return &quot;{%d, %s, %s, %s}&quot;.formatted(value, code_1, code_2, code_3);\n    }\n}\n</code></pre>\n<p>Use your existing map to build the list.  Stream the entrySet of the map and use <code>map</code> to instantiate a <code>ResultSet</code> instance.  The forloop will fill the list with nulls if it isn't fully populated.</p>\n<pre><code>\nList&lt;ResultSet&gt; resultSet = map.entrySet().stream()\n        .&lt;ResultSet&gt;map(ent-&gt; {\n            List&lt;String&gt; lst = ent.getValue();\n            for( int i = lst.size(); i &lt; 3; i++) {\n                lst.add(null);\n            }\n            return new ResultSet(ent.getKey(), lst.get(0),\n                    lst.get(1), lst.get(2));\n        }).toList();\n\n\nresultSet.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>{1, 1, 2, 3}\n{2, 5, null, null}\n</code></pre>\n<p>Note that you could simply stream the existing <code>entrySet</code> from the original map to combine the process, returning the desired <code>List&lt;ResultSet&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674064367,"creation_date":1674064367,"answer_id":75163329,"question_id":75162319,"body_markdown":"You have already mapped value to its codes. You can just continue by streaming the entry set of the resulting map and [map][1] entries to `ResultSet`.\r\n```\r\nList&lt;ResultSet&gt; result = pivotMapList.stream()\r\n            .collect(Collectors.groupingBy(PivotMapEgModel::getValue, Collectors.mapping(PivotMapEgModel::getCode, Collectors.toList())))\r\n            .entrySet()\r\n            .stream()\r\n            .map(entry -&gt; new ResultSet(entry.getKey(), getCode(entry.getValue(), 0), getCode(entry.getValue(), 1), getCode(entry.getValue(), 2)))\r\n            .collect(Collectors.toList());\r\n```\r\n`getCode()` is simple method taking care not to get exception when retrieving values from the list.\r\n```\r\nprivate static String getCode(List&lt;String&gt; codes, int index) {\r\n  if (index &gt;= codes.size()) {\r\n    return null;\r\n  }\r\n  return codes.get(index);\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-","title":"Java streams: return results to custom object","body":"<p>You have already mapped value to its codes. You can just continue by streaming the entry set of the resulting map and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">map</a> entries to <code>ResultSet</code>.</p>\n<pre><code>List&lt;ResultSet&gt; result = pivotMapList.stream()\n            .collect(Collectors.groupingBy(PivotMapEgModel::getValue, Collectors.mapping(PivotMapEgModel::getCode, Collectors.toList())))\n            .entrySet()\n            .stream()\n            .map(entry -&gt; new ResultSet(entry.getKey(), getCode(entry.getValue(), 0), getCode(entry.getValue(), 1), getCode(entry.getValue(), 2)))\n            .collect(Collectors.toList());\n</code></pre>\n<p><code>getCode()</code> is simple method taking care not to get exception when retrieving values from the list.</p>\n<pre><code>private static String getCode(List&lt;String&gt; codes, int index) {\n  if (index &gt;= codes.size()) {\n    return null;\n  }\n  return codes.get(index);\n}\n</code></pre>\n"}],"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75163329,"answer_count":2,"score":-1,"last_activity_date":1674064367,"creation_date":1674059230,"question_id":75162319,"body_markdown":"I have a piece of code that has list of objects as follows.\r\n\r\n    List&lt;PivotMapEgModel&gt; pivotMapList = List.of(new PivotMapEgModel(1L, &quot;1&quot;), new PivotMapEgModel(1L, &quot;2&quot;), new PivotMapEgModel(1L, &quot;3&quot;), new PivotMapEgModel(2L, &quot;5&quot;));\r\n\r\nIt is guaranteed that there will always be a maximum of 3 codes per value.\r\n\r\nI have a class that looks like this:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    class ResultSet {\r\n    \tlong value;\r\n    \tString code_1;\r\n    \tString code_2;\r\n    \tString code_3;\r\n    }\r\n\r\nI am currently doing the stream operation in this way: \r\n\r\n    pivotMapList.stream().collect(Collectors.groupingBy(PivotMapEgModel::getValue, Collectors.mapping(PivotMapEgModel::getCode, Collectors.toList())))\r\n\r\nThis is producing the output in the following way: `{1=[1, 2, 3], 2=[5]}`\r\n\r\nI need to perform stream operations on the pivotMapList to get the output to show in `List&lt;ResultSet&gt;` as follows:\r\n\r\n    [{value=1, code_1=1, code_2=2, code_3=3},\r\n     {value=2, code_1=1, code_2=null, code_3=null}]\r\n\r\nI am not sure how I can get `List&lt;ResultSet&gt;` from stream operations\r\n\r\nAny help to achieve the desired output would be greatly appreciated! Thank you","title":"Java streams: return results to custom object","body":"<p>I have a piece of code that has list of objects as follows.</p>\n<pre><code>List&lt;PivotMapEgModel&gt; pivotMapList = List.of(new PivotMapEgModel(1L, &quot;1&quot;), new PivotMapEgModel(1L, &quot;2&quot;), new PivotMapEgModel(1L, &quot;3&quot;), new PivotMapEgModel(2L, &quot;5&quot;));\n</code></pre>\n<p>It is guaranteed that there will always be a maximum of 3 codes per value.</p>\n<p>I have a class that looks like this:</p>\n<pre><code>@Data\n@AllArgsConstructor\nclass ResultSet {\n    long value;\n    String code_1;\n    String code_2;\n    String code_3;\n}\n</code></pre>\n<p>I am currently doing the stream operation in this way:</p>\n<pre><code>pivotMapList.stream().collect(Collectors.groupingBy(PivotMapEgModel::getValue, Collectors.mapping(PivotMapEgModel::getCode, Collectors.toList())))\n</code></pre>\n<p>This is producing the output in the following way: <code>{1=[1, 2, 3], 2=[5]}</code></p>\n<p>I need to perform stream operations on the pivotMapList to get the output to show in <code>List&lt;ResultSet&gt;</code> as follows:</p>\n<pre><code>[{value=1, code_1=1, code_2=2, code_3=3},\n {value=2, code_1=1, code_2=null, code_3=null}]\n</code></pre>\n<p>I am not sure how I can get <code>List&lt;ResultSet&gt;</code> from stream operations</p>\n<p>Any help to achieve the desired output would be greatly appreciated! Thank you</p>\n"},{"tags":["java","android","kotlin","build.gradle","androidx"],"comments":[{"owner":{"account_id":9155156,"reputation":4503,"user_id":6808319,"accept_rate":50,"display_name":"ElegyD"},"score":0,"creation_date":1674818322,"post_id":75163205,"comment_id":132798907,"body_markdown":"Use the same version for both (2.5.1). See also [this question](https://stackoverflow.com/q/69817925/6808319).","body":"Use the same version for both (2.5.1). See also <a href=\"https://stackoverflow.com/q/69817925/6808319\">this question</a>."}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674064312,"creation_date":1674063678,"question_id":75163205,"body_markdown":"I have a project that need 2 libraries. one of the library have a dependency to `androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1` and the other have a dependency to `androidx.lifecycle:lifecycle-viewmodel:2.5.1`. How this must be resolved ? When I try to compile the project I receive \r\n\r\n&gt; Error: E7688 Type androidx.lifecycle.ViewModelLazy is defined multiple\r\n&gt; times:\r\n&gt; androidx.lifecycle-lifecycle-viewmodel-2.5.1-dexed.jar:classes.dex,\r\n&gt; androidx.lifecycle-lifecycle-viewmodel-ktx-2.3.1-dexed.jar:classes.dex","title":"Android KTX conflict with java version","body":"<p>I have a project that need 2 libraries. one of the library have a dependency to <code>androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1</code> and the other have a dependency to <code>androidx.lifecycle:lifecycle-viewmodel:2.5.1</code>. How this must be resolved ? When I try to compile the project I receive</p>\n<blockquote>\n<p>Error: E7688 Type androidx.lifecycle.ViewModelLazy is defined multiple\ntimes:\nandroidx.lifecycle-lifecycle-viewmodel-2.5.1-dexed.jar:classes.dex,\nandroidx.lifecycle-lifecycle-viewmodel-ktx-2.3.1-dexed.jar:classes.dex</p>\n</blockquote>\n"},{"tags":["java","arrays","list","object","retrofit2"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1520732251,"post_id":49215773,"comment_id":85435692,"body_markdown":"Where is `roomClassList` defined?  Your second approach should be working AFAIK.","body":"Where is <code>roomClassList</code> defined?  Your second approach should be working AFAIK."},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1520732277,"post_id":49215773,"comment_id":85435701,"body_markdown":"`String[] roomClassList = roomClassRes.stream().map(RoomClassRes::getName).toArray(String[]::new);`","body":"<code>String[] roomClassList = roomClassRes.stream().map(RoomClassRes::getName).toArray(Str&zwnj;&#8203;ing[]::new);</code>"},{"owner":{"account_id":11258964,"reputation":1128,"user_id":8257835,"accept_rate":100,"display_name":"Roy Ryando"},"score":0,"creation_date":1520732448,"post_id":49215773,"comment_id":85435722,"body_markdown":"In the same class, under `public class blablabla { String[] roomClassList = {} ... }`","body":"In the same class, under <code>public class blablabla { String[] roomClassList = {} ... }</code>"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1520732624,"post_id":49215773,"comment_id":85435753,"body_markdown":"@RoyHabeahan then define _&quot;This doesn&#39;t work for me&quot;_.","body":"@RoyHabeahan then define <i>&quot;This doesn&#39;t work for me&quot;</i>."},{"owner":{"account_id":11258964,"reputation":1128,"user_id":8257835,"accept_rate":100,"display_name":"Roy Ryando"},"score":0,"creation_date":1520732828,"post_id":49215773,"comment_id":85435775,"body_markdown":"@Aomin&#232; doesn&#39;t work **not supported in source 1.7**","body":"@Aomin&#232; doesn&#39;t work <b>not supported in source 1.7</b>"}],"answers":[{"tags":[],"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674063450,"creation_date":1520735916,"answer_id":49216112,"question_id":49215773,"body_markdown":"With Java 8. Here you can use the stream API, first get the stream of `RoomClassRes` then map each room to its name and tranform to array.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tpublic String[] toStringArray(List&lt;RoomClassRes&gt; rooms) {\r\n\t\treturn rooms.stream()\r\n\t\t\t\t.map(RoomClassRes::getName)\r\n\t\t\t\t.toArray(String[]::new);\r\n\t}\r\n\r\nWith Java 7. First create the array with the list size, then fill the array and return.\r\n\r\n\tpublic String[] toStringArray(List&lt;RoomClassRes&gt; rooms) {\r\n\t\tString[] result = new String[rooms.size()];\r\n\t\tfor (int index = 0; index &lt; rooms.size(); index++)\r\n\t\t\tresult[index] = rooms.get(index).getName();\r\n\t\treturn result;\r\n\t}\r\n\r\nNote that you cannot declare the array like `String[] result = {}` because that would create an empty array, you need to provide the size of the array like in the above function.\r\n","title":"Java Convert List of Object Class to String[]","body":"<p>With Java 8. Here you can use the stream API, first get the stream of <code>RoomClassRes</code> then map each room to its name and tranform to array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String[] toStringArray(List&lt;RoomClassRes&gt; rooms) {\n    return rooms.stream()\n            .map(RoomClassRes::getName)\n            .toArray(String[]::new);\n}\n</code></pre>\n<p>With Java 7. First create the array with the list size, then fill the array and return.</p>\n<pre><code>public String[] toStringArray(List&lt;RoomClassRes&gt; rooms) {\n    String[] result = new String[rooms.size()];\n    for (int index = 0; index &lt; rooms.size(); index++)\n        result[index] = rooms.get(index).getName();\n    return result;\n}\n</code></pre>\n<p>Note that you cannot declare the array like <code>String[] result = {}</code> because that would create an empty array, you need to provide the size of the array like in the above function.</p>\n"}],"owner":{"account_id":11258964,"reputation":1128,"user_id":8257835,"accept_rate":100,"display_name":"Roy Ryando"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49216112,"answer_count":1,"score":0,"last_activity_date":1674063450,"creation_date":1520731952,"question_id":49215773,"body_markdown":"I have class named RoomClassRes that have getter&amp;setter id, name, etc and in my main class I declare String[] = {}.\r\n\r\nWith this code I use two variable\r\n\r\n`List&lt;RoomClassRes&gt; roomClassRes` and `String[] roomClassList`\r\n\r\nI want to fill `String[]` with all of `name` at `List&lt;RoomClassRes&gt;`\r\n\r\nThis doesn&#39;t work for me\r\n\r\n    @Override\r\n            public void onResponse(Call&lt;List&lt;RoomClassRes&gt;&gt; call, Response&lt;List&lt;RoomClassRes&gt;&gt; response) {\r\n                List&lt;RoomClassRes&gt; roomClassRes = response.body();\r\n                \r\n                // 1\r\n                Object[] roomClassObj = roomClassRes.toArray();\r\n                for (int i = 0; i &lt; roomClassObj.length; i++){\r\n                    RoomClassRes roomClass = (RoomClassRes)roomClassObj[i];\r\n                    roomClassList[i] = roomClass.getName();\r\n                }\r\n\r\n                // 2\r\n                int i = 0;\r\n                for(RoomClassRes rc : roomClassRes){\r\n                    roomClassList[i] = rc.getName();\r\n                    i++;\r\n                }\r\n\r\n            }\r\n\r\nNothing works.","title":"Java Convert List of Object Class to String[]","body":"<p>I have class named RoomClassRes that have getter&amp;setter id, name, etc and in my main class I declare String[] = {}.</p>\n\n<p>With this code I use two variable</p>\n\n<p><code>List&lt;RoomClassRes&gt; roomClassRes</code> and <code>String[] roomClassList</code></p>\n\n<p>I want to fill <code>String[]</code> with all of <code>name</code> at <code>List&lt;RoomClassRes&gt;</code></p>\n\n<p>This doesn't work for me</p>\n\n<pre><code>@Override\n        public void onResponse(Call&lt;List&lt;RoomClassRes&gt;&gt; call, Response&lt;List&lt;RoomClassRes&gt;&gt; response) {\n            List&lt;RoomClassRes&gt; roomClassRes = response.body();\n\n            // 1\n            Object[] roomClassObj = roomClassRes.toArray();\n            for (int i = 0; i &lt; roomClassObj.length; i++){\n                RoomClassRes roomClass = (RoomClassRes)roomClassObj[i];\n                roomClassList[i] = roomClass.getName();\n            }\n\n            // 2\n            int i = 0;\n            for(RoomClassRes rc : roomClassRes){\n                roomClassList[i] = rc.getName();\n                i++;\n            }\n\n        }\n</code></pre>\n\n<p>Nothing works.</p>\n"},{"tags":["java","android","kotlin","android-activity","push-notification"],"comments":[{"owner":{"account_id":2607825,"reputation":5379,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1673993759,"post_id":75132301,"comment_id":132619687,"body_markdown":"Option 1: The recording should be moved to a service when the activity is not visible. The recording will continue in the background with a push notification indicating that it is still running. Option 2: Push notification and recording activity should be the same activity with different fragments. When the push starts the activity, the recording activity is reopened and it can check if it should open a fragment for the push message or ask the user to save their session.","body":"Option 1: The recording should be moved to a service when the activity is not visible. The recording will continue in the background with a push notification indicating that it is still running. Option 2: Push notification and recording activity should be the same activity with different fragments. When the push starts the activity, the recording activity is reopened and it can check if it should open a fragment for the push message or ask the user to save their session."},{"owner":{"account_id":24074315,"reputation":86,"user_id":18049868,"display_name":"Xena Warrior Princess"},"score":0,"creation_date":1674062811,"post_id":75132301,"comment_id":132636625,"body_markdown":"@AlexanderHoffmann \nOption 1.\nRegistration is already taking place in the service. But as soon as the user clicks push in the notification shade, the app restarts, as only one app process is allowed at a time.\nThanks a lot for your answer!","body":"@AlexanderHoffmann  Option 1. Registration is already taking place in the service. But as soon as the user clicks push in the notification shade, the app restarts, as only one app process is allowed at a time. Thanks a lot for your answer!"}],"answers":[{"tags":[],"owner":{"account_id":24074315,"reputation":86,"user_id":18049868,"display_name":"Xena Warrior Princess"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674063436,"creation_date":1674063436,"answer_id":75163164,"question_id":75132301,"body_markdown":"The best solution I have found is to clear all old push notifications in the notification shade when going to the recording screen.\r\n\r\n```\r\nval notificationsManager = getSystemService&lt;Any&gt;(Context.NOTIFICATION_SERVICE) as NotificationManager?\r\nnotificationsManager!!.cancelAll()\r\n```\r\nFurther during the recording, if a push notification arrives, I receive this in my service inherited from FirebaseMessagingService in onMessageReceived().\r\n\r\nIf the recording screen is currently open, I do not show a notification in the notification shade. But I show a widget on the recording screen with the push text and if the user presses it I ask if the user wants to go to another screen because the recording will end.\r\n\r\nI hope my experience helps someone. Similarly implemented in Intercom","title":"How not to interrupt the current process in the application when the user clicks on push?","body":"<p>The best solution I have found is to clear all old push notifications in the notification shade when going to the recording screen.</p>\n<pre><code>val notificationsManager = getSystemService&lt;Any&gt;(Context.NOTIFICATION_SERVICE) as NotificationManager?\nnotificationsManager!!.cancelAll()\n</code></pre>\n<p>Further during the recording, if a push notification arrives, I receive this in my service inherited from FirebaseMessagingService in onMessageReceived().</p>\n<p>If the recording screen is currently open, I do not show a notification in the notification shade. But I show a widget on the recording screen with the push text and if the user presses it I ask if the user wants to go to another screen because the recording will end.</p>\n<p>I hope my experience helps someone. Similarly implemented in Intercom</p>\n"}],"owner":{"account_id":24074315,"reputation":86,"user_id":18049868,"display_name":"Xena Warrior Princess"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75163164,"answer_count":1,"score":0,"last_activity_date":1674063436,"creation_date":1673861365,"question_id":75132301,"body_markdown":"on one screen in my application, I am recording audio.\r\n\r\n**Scenario:** User records audio on this screen. A push comes from our application. The user clicks on this push and another push processing activity is launched.\r\n\r\n**Result:** The user loses his session.\r\n\r\n**Question:** what are the options for handling this case so that the user does not lose his session? Ideally, before switching to a new activity, the application would ask the user if he is sure that he wants to go to another screen, because the session will be lost. But how to track it?\r\n\r\nThanks a lot for your advice","title":"How not to interrupt the current process in the application when the user clicks on push?","body":"<p>on one screen in my application, I am recording audio.</p>\n<p><strong>Scenario:</strong> User records audio on this screen. A push comes from our application. The user clicks on this push and another push processing activity is launched.</p>\n<p><strong>Result:</strong> The user loses his session.</p>\n<p><strong>Question:</strong> what are the options for handling this case so that the user does not lose his session? Ideally, before switching to a new activity, the application would ask the user if he is sure that he wants to go to another screen, because the session will be lost. But how to track it?</p>\n<p>Thanks a lot for your advice</p>\n"},{"tags":["java","java-stream","lazy-evaluation"],"answers":[{"comments":[{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1673920907,"post_id":75141306,"comment_id":132599977,"body_markdown":"Ah nice! Thanks for the test as well. But why is this the case? Why it will not evaluate the expensive call in this way?","body":"Ah nice! Thanks for the test as well. But why is this the case? Why it will not evaluate the expensive call in this way?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1673921134,"post_id":75141306,"comment_id":132600002,"body_markdown":"@user1589188 Streams, as implemented in the JDK, are lazy and process elements one-by-one. First, the `flatMap` is called with the `() -&gt; myList` supplier. The elements of the stream returned by that flat-map operation are processed until there are no more. Only if the stream does not terminate with a successful `findFirst()` will the _second_ supplier be given to `flatMap` (the `() -&gt; expensive()` supplier). And the use of `Supplier` delays the call to `expensive()` until it is needed.","body":"@user1589188 Streams, as implemented in the JDK, are lazy and process elements one-by-one. First, the <code>flatMap</code> is called with the <code>() -&gt; myList</code> supplier. The elements of the stream returned by that flat-map operation are processed until there are no more. Only if the stream does not terminate with a successful <code>findFirst()</code> will the <i>second</i> supplier be given to <code>flatMap</code> (the <code>() -&gt; expensive()</code> supplier). And the use of <code>Supplier</code> delays the call to <code>expensive()</code> until it is needed."},{"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":""},"score":0,"creation_date":1673921190,"post_id":75141306,"comment_id":132600016,"body_markdown":"@user1589188 If `myList` contains the desired result, `() -&gt; expensive()` will not be executed because the stream will immediately terminate.","body":"@user1589188 If <code>myList</code> contains the desired result, <code>() -&gt; expensive()</code> will not be executed because the stream will immediately terminate."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1673921306,"post_id":75141306,"comment_id":132600034,"body_markdown":"Note that there was a [bug](https://stackoverflow.com/questions/46288915/is-flatmap-guaranteed-to-be-lazy) in earlier versions of Java where `flatMap()` was only partially lazy. but I think it would still avoid the expensive supplier in this case.","body":"Note that there was a <a href=\"https://stackoverflow.com/questions/46288915/is-flatmap-guaranteed-to-be-lazy\">bug</a> in earlier versions of Java where <code>flatMap()</code> was only partially lazy. but I think it would still avoid the expensive supplier in this case."},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1674020754,"post_id":75141306,"comment_id":132623329,"body_markdown":"@Instead of `List.of` then `stream()`, I was able to just use `Stream.of`.","body":"@Instead of <code>List.of</code> then <code>stream()</code>, I was able to just use <code>Stream.of</code>."}],"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":""},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1674022487,"creation_date":1673920302,"answer_id":75141306,"question_id":75141218,"body_markdown":"You can lazily evaluate by concatenating `Supplier&lt;List&lt;MyObject&gt;&gt;` instead of `List&lt;MyObject&gt;`.\r\n\r\n    public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\r\n        List&lt;Supplier&lt;List&lt;MyObject&gt;&gt;&gt; concat = List.of(() -&gt; myList, () -&gt; expensive());\r\n        return concat.stream()\r\n            .flatMap(supplier -&gt; supplier.get().stream())\r\n            .filter(o -&gt; o.hasName(input))\r\n            .findFirst();\r\n    }\r\n\r\nTest:\r\n\r\n    record MyObject(String s) {\r\n        public boolean hasName(String in) {\r\n            return s.equals(in);\r\n        }\r\n    }\r\n\r\n    static List&lt;MyObject&gt; expensive() {\r\n        System.out.println(&quot;expensive() called&quot;);\r\n        return List.of(new MyObject(&quot;z&quot;));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;MyObject&gt; myList = List.of(new MyObject(&quot;a&quot;));\r\n        System.out.println(&quot;case 1: &quot; + findTarget(&quot;a&quot;, myList));\r\n        System.out.println(&quot;case 2: &quot; + findTarget(&quot;x&quot;, myList));\r\n    }\r\n\r\nOutput:\r\n\r\n    case 1: Optional[MyObject[s=a]]\r\n    expensive() called\r\n    case 2: Optional.empty\r\n\r\nAlternatively you can do this:\r\n\r\n    public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\r\n        return Stream.of(\r\n                (Supplier&lt;List&lt;MyObject&gt;&gt;) () -&gt; myList,\r\n                (Supplier&lt;List&lt;MyObject&gt;&gt;) () -&gt; expensive())\r\n            .flatMap(supplier -&gt; supplier.get().stream())\r\n            .filter(o -&gt; o.hasName(input))\r\n            .findFirst();\r\n    }","title":"Lazily calls a method in a java Stream","body":"<p>You can lazily evaluate by concatenating <code>Supplier&lt;List&lt;MyObject&gt;&gt;</code> instead of <code>List&lt;MyObject&gt;</code>.</p>\n<pre><code>public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\n    List&lt;Supplier&lt;List&lt;MyObject&gt;&gt;&gt; concat = List.of(() -&gt; myList, () -&gt; expensive());\n    return concat.stream()\n        .flatMap(supplier -&gt; supplier.get().stream())\n        .filter(o -&gt; o.hasName(input))\n        .findFirst();\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>record MyObject(String s) {\n    public boolean hasName(String in) {\n        return s.equals(in);\n    }\n}\n\nstatic List&lt;MyObject&gt; expensive() {\n    System.out.println(&quot;expensive() called&quot;);\n    return List.of(new MyObject(&quot;z&quot;));\n}\n\npublic static void main(String[] args) {\n    List&lt;MyObject&gt; myList = List.of(new MyObject(&quot;a&quot;));\n    System.out.println(&quot;case 1: &quot; + findTarget(&quot;a&quot;, myList));\n    System.out.println(&quot;case 2: &quot; + findTarget(&quot;x&quot;, myList));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>case 1: Optional[MyObject[s=a]]\nexpensive() called\ncase 2: Optional.empty\n</code></pre>\n<p>Alternatively you can do this:</p>\n<pre><code>public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\n    return Stream.of(\n            (Supplier&lt;List&lt;MyObject&gt;&gt;) () -&gt; myList,\n            (Supplier&lt;List&lt;MyObject&gt;&gt;) () -&gt; expensive())\n        .flatMap(supplier -&gt; supplier.get().stream())\n        .filter(o -&gt; o.hasName(input))\n        .findFirst();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674063408,"creation_date":1674063408,"answer_id":75163153,"question_id":75141218,"body_markdown":"Another alternative, which might be simpler to understand, is to extract the stream logic in a separate method:\r\n\r\n    private static Optional&lt;MyObject&gt; findInternal(String input, List&lt;MyObject&gt; myList) {\r\n        return myList.stream().filter(o -&gt; o.hasName(input)).findFirst();\r\n    }\r\n\r\nand then simply call it twice:\r\n\r\n    public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\r\n        return findInternal(input, myList).or(() -&gt; findInternal(input, expensive()));\r\n    }","title":"Lazily calls a method in a java Stream","body":"<p>Another alternative, which might be simpler to understand, is to extract the stream logic in a separate method:</p>\n<pre><code>private static Optional&lt;MyObject&gt; findInternal(String input, List&lt;MyObject&gt; myList) {\n    return myList.stream().filter(o -&gt; o.hasName(input)).findFirst();\n}\n</code></pre>\n<p>and then simply call it twice:</p>\n<pre><code>public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\n    return findInternal(input, myList).or(() -&gt; findInternal(input, expensive()));\n}\n</code></pre>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75141306,"answer_count":2,"score":3,"last_activity_date":1674063408,"creation_date":1673919155,"question_id":75141218,"body_markdown":"I have an expensive method that I only want to call it when necessary in a stream. Here is an example:\r\n\r\n    public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\r\n        return Stream.concat(myList.stream(), expensive().stream()).filter(o -&gt; o.hasName(input)).findFirst();\r\n    }\r\n\r\nThe goal is to find the target `MyObject` from `myList` based on the `input` value, but if its not in `myList` ONLY then it will call `expensive()` to return a bigger list and look from there.\r\n\r\nThe above example does not do that, as it seems `Stream.concat` will call `expensive()` already before consuming all of `myList`.\r\n\r\nAn ugly solution I can think of is to do it in two steps, e.g.:\r\n\r\n    return myList.stream().filter(o -&gt; o.hasName(input)).findFirst().or(\r\n        () -&gt; expensive().stream().filter(o -&gt; o.hasName(input)).findFirst());\r\n\r\nBut then I will have to repeat the filter and the rest twice.\r\n\r\nIs there any better solution or even a single liner of Stream that does that?","title":"Lazily calls a method in a java Stream","body":"<p>I have an expensive method that I only want to call it when necessary in a stream. Here is an example:</p>\n<pre><code>public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\n    return Stream.concat(myList.stream(), expensive().stream()).filter(o -&gt; o.hasName(input)).findFirst();\n}\n</code></pre>\n<p>The goal is to find the target <code>MyObject</code> from <code>myList</code> based on the <code>input</code> value, but if its not in <code>myList</code> ONLY then it will call <code>expensive()</code> to return a bigger list and look from there.</p>\n<p>The above example does not do that, as it seems <code>Stream.concat</code> will call <code>expensive()</code> already before consuming all of <code>myList</code>.</p>\n<p>An ugly solution I can think of is to do it in two steps, e.g.:</p>\n<pre><code>return myList.stream().filter(o -&gt; o.hasName(input)).findFirst().or(\n    () -&gt; expensive().stream().filter(o -&gt; o.hasName(input)).findFirst());\n</code></pre>\n<p>But then I will have to repeat the filter and the rest twice.</p>\n<p>Is there any better solution or even a single liner of Stream that does that?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674062962,"creation_date":1674062962,"answer_id":75163078,"question_id":75162991,"body_markdown":"`Collections.sort` is not __required__ to throw this exception. It may or may not. Essentially, if you attempt to do sorting operations (such as invoking `Collections.sort`, or passing a broken comparator to the constructor of `TreeSet`, then adding some elements) with a broken comparator, undefined behaviour is &#39;allowed&#39; by the JVM.\r\n\r\nThe exception is simply a kindness, and not one you can reliably get. The spec doesn&#39;t explain in which specific circumstances you would.\r\n\r\nThis should be somewhat obvious: If you have a list with 2 elements in it, and you ask to sort it, it&#39;s only going to call your comparator just the one time, and that is by definition insufficient to figure out that your comparator is broken. Java certainly isn&#39;t going to do some sort of code analysis prior to accepting the comparator (halting problem and such kinda make that impossible in any case).\r\n\r\n## But I really wanna see it!\r\n\r\nNo problem. Just toss a few more in there! Wrap\r\n\r\n```\r\nfor (int i = 0; i &lt; 100; i++) {\r\n // your 3 add statements here\r\n}\r\n```\r\n\r\naround your add statements and, voila, a funny exception. Funny, in that it is itself broken - the message ends in an exclamation point which violates the exception messaging style guide. If you feel endeavourous, you should file a bug report over at OpenJDK about it:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n\tat java.base/java.util.TimSort.mergeLo(TimSort.java:781)\r\n\tat java.base/java.util.TimSort.mergeAt(TimSort.java:518)\r\n\tat java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:245)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1307)\r\n\tat java.base/java.util.ArrayList.sort(ArrayList.java:1721)\r\n\tat java.base/java.util.Collections.sort(Collections.java:179)\r\n\tat Main.main(Main.java:13)\r\n```\r\n\r\n","title":"IllegalArgumentException: Comparison method violates its general contract","body":"<p><code>Collections.sort</code> is not <strong>required</strong> to throw this exception. It may or may not. Essentially, if you attempt to do sorting operations (such as invoking <code>Collections.sort</code>, or passing a broken comparator to the constructor of <code>TreeSet</code>, then adding some elements) with a broken comparator, undefined behaviour is 'allowed' by the JVM.</p>\n<p>The exception is simply a kindness, and not one you can reliably get. The spec doesn't explain in which specific circumstances you would.</p>\n<p>This should be somewhat obvious: If you have a list with 2 elements in it, and you ask to sort it, it's only going to call your comparator just the one time, and that is by definition insufficient to figure out that your comparator is broken. Java certainly isn't going to do some sort of code analysis prior to accepting the comparator (halting problem and such kinda make that impossible in any case).</p>\n<h2>But I really wanna see it!</h2>\n<p>No problem. Just toss a few more in there! Wrap</p>\n<pre><code>for (int i = 0; i &lt; 100; i++) {\n // your 3 add statements here\n}\n</code></pre>\n<p>around your add statements and, voila, a funny exception. Funny, in that it is itself broken - the message ends in an exclamation point which violates the exception messaging style guide. If you feel endeavourous, you should file a bug report over at OpenJDK about it:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\n    at java.base/java.util.TimSort.mergeLo(TimSort.java:781)\n    at java.base/java.util.TimSort.mergeAt(TimSort.java:518)\n    at java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\n    at java.base/java.util.TimSort.sort(TimSort.java:245)\n    at java.base/java.util.Arrays.sort(Arrays.java:1307)\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1721)\n    at java.base/java.util.Collections.sort(Collections.java:179)\n    at Main.main(Main.java:13)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674063089,"creation_date":1674063089,"answer_id":75163104,"question_id":75162991,"body_markdown":"Java cannot possibly detect every possible violation of the `Comparator` contract. Doing so would run afoul of the [halting problem](https://en.wikipedia.org/wiki/Halting_problem), and even if you *had* a guarantee that your comparator terminated, you still would have to test every possible input value of type `T`.\r\n\r\nSpecifically, [`Arrays.sort`](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-) says this about `IllegalArgumentException`.\r\n\r\n&gt; **Throws:**\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; `IllegalArgumentException` - (optional) if the comparator is found to violate the Comparator contract\r\n\r\nIf the comparator is *found* to violate the contract, it throws the exception. But if your list happens to be sorted without Java noticing a problem, it silently succeeds but may produce incorrect results. So if Java, for instance, compares two values twice and gets a different result each time, that&#39;s a clear violation. But if there&#39;s some complex mathematical proof that your comparator fails in some corner case, it won&#39;t necessarily come up during this particular input to `Arrays.sort`. That doesn&#39;t mean the sorted result is correct, however. In fact, there *is* no correct sorted result if your ordering isn&#39;t actually an ordering. (What does it mean to sort a list of numbers in &quot;potato&quot; order?)","title":"IllegalArgumentException: Comparison method violates its general contract","body":"<p>Java cannot possibly detect every possible violation of the <code>Comparator</code> contract. Doing so would run afoul of the <a href=\"https://en.wikipedia.org/wiki/Halting_problem\" rel=\"nofollow noreferrer\">halting problem</a>, and even if you <em>had</em> a guarantee that your comparator terminated, you still would have to test every possible input value of type <code>T</code>.</p>\n<p>Specifically, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Arrays.sort</code></a> says this about <code>IllegalArgumentException</code>.</p>\n<blockquote>\n<p><strong>Throws:</strong></p>\n<p>...</p>\n<p><code>IllegalArgumentException</code> - (optional) if the comparator is found to violate the Comparator contract</p>\n</blockquote>\n<p>If the comparator is <em>found</em> to violate the contract, it throws the exception. But if your list happens to be sorted without Java noticing a problem, it silently succeeds but may produce incorrect results. So if Java, for instance, compares two values twice and gets a different result each time, that's a clear violation. But if there's some complex mathematical proof that your comparator fails in some corner case, it won't necessarily come up during this particular input to <code>Arrays.sort</code>. That doesn't mean the sorted result is correct, however. In fact, there <em>is</em> no correct sorted result if your ordering isn't actually an ordering. (What does it mean to sort a list of numbers in &quot;potato&quot; order?)</p>\n"}],"owner":{"account_id":27565608,"reputation":43,"user_id":21037846,"display_name":"SevenEli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75163078,"answer_count":2,"score":3,"last_activity_date":1674063089,"creation_date":1674062525,"question_id":75162991,"body_markdown":"I haven&#39;t faced this issue ever. I just wanted to understand the cause of this error.\r\nAs per [this answer on SO](https://stackoverflow.com/a/59313659), the following scenario is a violation:\r\n```\r\n    A &gt; B\r\n    A == C\r\n    B == C\r\n```\r\n\r\nSo I tried writing a simple code to create this scenario and see if it throws this error.\r\nHere&#39;s what I wrote.\r\n```\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n          List&lt;A&gt; a = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t    a.add(new A(0,1)); // this is A\r\n\t\t    a.add(new A(0,0)); // this is B\r\n            a.add(new A(0,null)); // And this is C\r\n\t\t\r\n\t\t\r\n\t\t    Collections.sort(a, new Comparator&lt;A&gt;(){\r\n\t\t\t    public int compare(A a, A b){\r\n\t\t\t\t    if(a.i.equals(b.i) &amp;&amp; a.j != null &amp;&amp; b.j != null){\r\n\t\t\t\t\t    return a.j.compareTo(b.j);\r\n\t\t\t\t    }else{\r\n\t\t\t\t\t    return a.i.compareTo(b.i);\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    });\r\n\t\t\r\n\t\t    System.out.println(a);\r\n      }\r\n    }\r\n\r\n    class A{\r\n\t    Integer i;\r\n\t    Integer j;\r\n\t    A(Integer i, Integer j){\r\n\t\t    this.i = i;\r\n\t\t    this.j = j;\r\n\t    }\r\n\t\r\n\t    public String toString(){\r\n\t\t    return &quot;[&quot;+i+&quot;,&quot;+j+&quot;]&quot;;\r\n\t    }\r\n    }\r\n```\r\n\r\n\r\nBut this doesn&#39;t throw any violation error and runs successfully.\r\nAny idea why?","title":"IllegalArgumentException: Comparison method violates its general contract","body":"<p>I haven't faced this issue ever. I just wanted to understand the cause of this error.\nAs per <a href=\"https://stackoverflow.com/a/59313659\">this answer on SO</a>, the following scenario is a violation:</p>\n<pre><code>    A &gt; B\n    A == C\n    B == C\n</code></pre>\n<p>So I tried writing a simple code to create this scenario and see if it throws this error.\nHere's what I wrote.</p>\n<pre><code>    import java.util.*;\n\n    public class Main {\n        public static void main(String[] args) {\n          List&lt;A&gt; a = new ArrayList&lt;&gt;();\n        \n            a.add(new A(0,1)); // this is A\n            a.add(new A(0,0)); // this is B\n            a.add(new A(0,null)); // And this is C\n        \n        \n            Collections.sort(a, new Comparator&lt;A&gt;(){\n                public int compare(A a, A b){\n                    if(a.i.equals(b.i) &amp;&amp; a.j != null &amp;&amp; b.j != null){\n                        return a.j.compareTo(b.j);\n                    }else{\n                        return a.i.compareTo(b.i);\n                    }\n                }\n            });\n        \n            System.out.println(a);\n      }\n    }\n\n    class A{\n        Integer i;\n        Integer j;\n        A(Integer i, Integer j){\n            this.i = i;\n            this.j = j;\n        }\n    \n        public String toString(){\n            return &quot;[&quot;+i+&quot;,&quot;+j+&quot;]&quot;;\n        }\n    }\n</code></pre>\n<p>But this doesn't throw any violation error and runs successfully.\nAny idea why?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1583105241,"post_id":60480722,"comment_id":106994277,"body_markdown":"Please post the real DDL of the table score!","body":"Please post the real DDL of the table score!"},{"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"score":1,"creation_date":1583139645,"post_id":60480722,"comment_id":107002129,"body_markdown":"```score | CREATE TABLE `score` (\n  `user` int NOT NULL,\n  `game` enum(&#39;HANGMAN&#39;,&#39;TRIS&#39;) NOT NULL,\n  `points` int unsigned NOT NULL,\n  PRIMARY KEY (`user`,`game`),\n  CONSTRAINT `score_ibfk_1` FOREIGN KEY (`user`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci```","body":"<code>score | CREATE TABLE `score` (   `user` int NOT NULL,   `game` enum(&#39;HANGMAN&#39;,&#39;TRIS&#39;) NOT NULL,   `points` int unsigned NOT NULL,   PRIMARY KEY (`user`,`game`),   CONSTRAINT `score_ibfk_1` FOREIGN KEY (`user`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci</code>"}],"answers":[{"comments":[{"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"score":0,"creation_date":1583146909,"post_id":60486995,"comment_id":107005673,"body_markdown":"It is active. I used InnoDB in other projects and It worked (I could do transactions without problems). It is strange that I can retrieve info about User scores but I cannot delete a score from the scores collection (and consequently cannot delete a User)","body":"It is active. I used InnoDB in other projects and It worked (I could do transactions without problems). It is strange that I can retrieve info about User scores but I cannot delete a score from the scores collection (and consequently cannot delete a User)"},{"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"score":0,"creation_date":1583147352,"post_id":60486995,"comment_id":107005888,"body_markdown":"I can also add a Score to scores collection without problems","body":"I can also add a Score to scores collection without problems"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1583148210,"post_id":60486995,"comment_id":107006320,"body_markdown":"I do not know any regular usecase to remove a Score. Do you think manual removing a score is a requirement in order to manual remove a user???","body":"I do not know any regular usecase to remove a Score. Do you think manual removing a score is a requirement in order to manual remove a user???"},{"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"score":0,"creation_date":1583149405,"post_id":60486995,"comment_id":107006892,"body_markdown":"I tried to modify the db schema, adding an id (AUTO_INCREMENT) to score, and consequently I added a Integer id (with @GeneratedValue) and a User user (with @ManyToOne) in Score and It worked! But I cannot understand why the implementation before did not work. How can I implement Score if (user,game) is the primary key?","body":"I tried to modify the db schema, adding an id (AUTO_INCREMENT) to score, and consequently I added a Integer id (with @GeneratedValue) and a User user (with @ManyToOne) in Score and It worked! But I cannot understand why the implementation before did not work. How can I implement Score if (user,game) is the primary key?"}],"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583145166,"creation_date":1583145166,"answer_id":60486995,"question_id":60480722,"body_markdown":"The implementation I see is absolutly correct, allthou it always can be improoved. The db-design is good. The exception you post can simply not exist but it does. The Database must have a problem. Thats why I asked to post the DDL of the table. I trust in your DDL you posted what makes me think: You did everything right.\r\n\r\nWhat I do is I could only guess. \r\n\r\n1. The table&#39;s engine is InnoDB but what is the status of the InnoDB-engine? Is it working? Is it active? Use `SHOW ENGINE INNODB STATUS` to see the status of InnoDB.\r\n","title":"Hibernate - Column cannot be null","body":"<p>The implementation I see is absolutly correct, allthou it always can be improoved. The db-design is good. The exception you post can simply not exist but it does. The Database must have a problem. Thats why I asked to post the DDL of the table. I trust in your DDL you posted what makes me think: You did everything right.</p>\n\n<p>What I do is I could only guess. </p>\n\n<ol>\n<li>The table's engine is InnoDB but what is the status of the InnoDB-engine? Is it working? Is it active? Use <code>SHOW ENGINE INNODB STATUS</code> to see the status of InnoDB.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1583151983,"creation_date":1583151983,"answer_id":60488839,"question_id":60480722,"body_markdown":"I solved by replacing `Integer user` of **ScoreId** with `User user` with a `@ManyToOne` annotation.&lt;br&gt;\r\nThese are my classes:&lt;br&gt;&lt;br&gt;\r\nUser.java\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User \r\n{\r\n    @Id\r\n    private Integer id;\r\n    \r\n    @NotNull\r\n    @Size(max = 20)\r\n    private String name;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true,mappedBy = &quot;id.user&quot;)\r\n    private Collection&lt;Score&gt; scores;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(Integer id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Collection&lt;Score&gt; getScores() {\r\n        return scores;\r\n    }\r\n\r\n    public void setScores(Collection&lt;Score&gt; scores) {\r\n        this.scores = scores;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            User other = (User) obj;\r\n            return Objects.equals(id, other.id) &amp;&amp; Objects.equals(name, other.name);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[id = &quot; + id + &quot;,name = &quot; + name + &quot;]&quot;;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id!=null ? name!=null ? id.hashCode() + name.hashCode() : 0 : 0;\r\n    }\r\n}\r\n```\r\n&lt;br&gt;&lt;br&gt;\r\nScore.java\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;score&quot;)\r\npublic class Score \r\n{\r\n    @EmbeddedId\r\n    private ScoreId id;\r\n    \r\n    @NotNull\r\n    private Integer points;\r\n    \r\n    public Score() {\r\n    }\r\n\r\n    public Score(ScoreId id, Integer points) {\r\n        this.id = id;\r\n        this.points = points;\r\n    }\r\n\r\n    \r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            Score other = (Score) obj;\r\n            return Objects.equals(id,other.id) &amp;&amp; Objects.equals(points,other.points);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id!=null ? points!=null ? id.hashCode()+points.hashCode() : 0 : 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[id =&quot; + id + &quot;,points = &quot; + points + &quot;]&quot;;\r\n    }\r\n}\r\n```\r\n&lt;br&gt;&lt;br&gt;\r\nScoreId.java\r\n```lang-java\r\n@Embeddable\r\npublic class ScoreId implements Serializable \r\n{\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;user&quot;,referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Game game;\r\n\r\n    public ScoreId() {\r\n    }\r\n\r\n    public ScoreId(User user, Game game) {\r\n        this.user = user;\r\n        this.game = game;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Game getGame() {\r\n        return game;\r\n    }\r\n\r\n    public void setGame(Game game) {\r\n        this.game = game;\r\n    }\r\n    \r\n    public enum Game\r\n    {\r\n        HANGMAN,\r\n        TRIS\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            ScoreId other = (ScoreId) obj;\r\n            return Objects.equals(user,other.user) &amp;&amp; game==other.game;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() \r\n    {\r\n        return user!=null ? game!=null ? user.hashCode()+game.hashCode() : 0 : 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[user = &quot; + user + &quot;,game = &quot; + game + &quot;]&quot;;\r\n    }\r\n}\r\n```\r\nDatabase schema is the same.","title":"Hibernate - Column cannot be null","body":"<p>I solved by replacing <code>Integer user</code> of <strong>ScoreId</strong> with <code>User user</code> with a <code>@ManyToOne</code> annotation.<br>\nThese are my classes:<br><br>\nUser.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"user\")\npublic class User \n{\n    @Id\n    private Integer id;\n\n    @NotNull\n    @Size(max = 20)\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true,mappedBy = \"id.user\")\n    private Collection&lt;Score&gt; scores;\n\n    public User() {\n    }\n\n    public User(Integer id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Collection&lt;Score&gt; getScores() {\n        return scores;\n    }\n\n    public void setScores(Collection&lt;Score&gt; scores) {\n        this.scores = scores;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            User other = (User) obj;\n            return Objects.equals(id, other.id) &amp;&amp; Objects.equals(name, other.name);\n        }\n        return false;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[id = \" + id + \",name = \" + name + \"]\";\n    }\n\n    @Override\n    public int hashCode() {\n        return id!=null ? name!=null ? id.hashCode() + name.hashCode() : 0 : 0;\n    }\n}\n</code></pre>\n\n<p><br><br>\nScore.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"score\")\npublic class Score \n{\n    @EmbeddedId\n    private ScoreId id;\n\n    @NotNull\n    private Integer points;\n\n    public Score() {\n    }\n\n    public Score(ScoreId id, Integer points) {\n        this.id = id;\n        this.points = points;\n    }\n\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            Score other = (Score) obj;\n            return Objects.equals(id,other.id) &amp;&amp; Objects.equals(points,other.points);\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return id!=null ? points!=null ? id.hashCode()+points.hashCode() : 0 : 0;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[id =\" + id + \",points = \" + points + \"]\";\n    }\n}\n</code></pre>\n\n<p><br><br>\nScoreId.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class ScoreId implements Serializable \n{\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=\"user\",referencedColumnName = \"id\")\n    private User user;\n\n    @Enumerated(EnumType.STRING)\n    private Game game;\n\n    public ScoreId() {\n    }\n\n    public ScoreId(User user, Game game) {\n        this.user = user;\n        this.game = game;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Game getGame() {\n        return game;\n    }\n\n    public void setGame(Game game) {\n        this.game = game;\n    }\n\n    public enum Game\n    {\n        HANGMAN,\n        TRIS\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            ScoreId other = (ScoreId) obj;\n            return Objects.equals(user,other.user) &amp;&amp; game==other.game;\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() \n    {\n        return user!=null ? game!=null ? user.hashCode()+game.hashCode() : 0 : 0;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[user = \" + user + \",game = \" + game + \"]\";\n    }\n}\n</code></pre>\n\n<p>Database schema is the same.</p>\n"},{"tags":[],"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674062648,"creation_date":1674062648,"answer_id":75163023,"question_id":60480722,"body_markdown":"In my case there was an **Envers** used, and on `deleteAll()` or `delete()` it tried to insert a record with type `2` (deleted) into corresponding `_aud` table.  \r\nHowever, when it does so, all the fields of the record appear to be `NULL`, but in the `_aud` table one of the columns was marked as &quot;NON-NULL&quot;.\r\n\r\nRemoving the &quot;NON-NULL&quot; from those column in `_aud` table fixed the issue.","title":"Hibernate - Column cannot be null","body":"<p>In my case there was an <strong>Envers</strong> used, and on <code>deleteAll()</code> or <code>delete()</code> it tried to insert a record with type <code>2</code> (deleted) into corresponding <code>_aud</code> table.<br />\nHowever, when it does so, all the fields of the record appear to be <code>NULL</code>, but in the <code>_aud</code> table one of the columns was marked as &quot;NON-NULL&quot;.</p>\n<p>Removing the &quot;NON-NULL&quot; from those column in <code>_aud</code> table fixed the issue.</p>\n"}],"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4527,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60488839,"answer_count":3,"score":2,"last_activity_date":1674062648,"creation_date":1583104952,"question_id":60480722,"body_markdown":"I&#39;m doing a simple exercise to learn JPA.\r\nWhen I try to delete an entity of type **User**, which has a Collection of the other entity **Score** (annotated with `@OneToMany`) I get this error:\r\n```lang-java\r\njava.sql.SQLIntegrityConstraintViolationException: Column &#39;user&#39; cannot be null\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n\t... 20 more\r\n```\r\n\r\nThese are my classes:\r\n\r\n\r\n\r\nUser.java\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User \r\n{\r\n    @Id\r\n    private Integer id;\r\n    \r\n    @NotNull\r\n    @Size(max = 20)\r\n    private String name;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true)\r\n    @JoinColumn(name = &quot;user&quot;)\r\n    private Collection&lt;Score&gt; scores;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(Integer id, String name, Collection&lt;Score&gt; scores) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.scores = scores;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Collection&lt;Score&gt; getScores() {\r\n        return scores;\r\n    }\r\n\r\n    public void setScores(Collection&lt;Score&gt; scores) {\r\n        this.scores = scores;\r\n    } \r\n}\r\n```\r\n\r\n\r\n\r\nScore.java\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;score&quot;)\r\npublic class Score \r\n{\r\n    @EmbeddedId\r\n    private ScoreId id;\r\n    \r\n    @NotNull\r\n    private Integer points;\r\n\r\n    public Score() {\r\n    }\r\n\r\n    public Score(ScoreId id, Integer points) {\r\n        this.id = id;\r\n        this.points = points;\r\n    }\r\n\r\n    public ScoreId getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(ScoreId id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Integer getPoints() {\r\n        return points;\r\n    }\r\n\r\n    public void setPoints(Integer points) {\r\n        this.points = points;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            Score other = (Score) obj;\r\n            return Objects.equals(id, other.id) &amp;&amp; Objects.equals(points,other.points);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id!=null ? points!=null ? id.hashCode()+points.hashCode() : 0 : 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[id =&quot; + id + &quot;,points = &quot; + points;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nScoreId.java\r\n```lang-java\r\n@Embeddable\r\npublic class ScoreId implements Serializable \r\n{\r\n    private Integer user;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Game game;\r\n\r\n    public ScoreId() {\r\n    }\r\n\r\n    public ScoreId(Integer user, Game game) {\r\n        this.user = user;\r\n        this.game = game;\r\n    }\r\n\r\n    public Integer getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(Integer user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Game getGame() {\r\n        return game;\r\n    }\r\n\r\n    public void setGame(Game game) {\r\n        this.game = game;\r\n    }\r\n    \r\n    public enum Game\r\n    {\r\n        HANGMAN,\r\n        TRIS\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            ScoreId other = (ScoreId) obj;\r\n            return Objects.equals(user,other.user) &amp;&amp; game==other.game;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() \r\n    {\r\n        return user!=null ? game!=null ? user.hashCode()+game.hashCode() : 0 : 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[user = &quot; + user + &quot;,game = &quot; + game + &quot;]&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nMain.java\r\n```lang-java\r\npublic class Main {\r\n    \r\n    public static void main(String[] args) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;UserJPA&quot;);\r\n        EntityManager em = factory.createEntityManager();\r\n        EntityTransaction et = em.getTransaction();\r\n        \r\n        User demetrio = em.createQuery(&quot;SELECT u FROM User u WHERE u.name = &#39;Demetrio&#39;&quot;,User.class).getSingleResult();\r\n        \r\n        et.begin();\r\n        em.remove(demetrio);\r\n        et.commit();\r\n        \r\n        em.close();\r\n        factory.close();\r\n    }\r\n}\r\n```\r\n&lt;br&gt;\r\nThis is the script to generate db:\r\n```lang-sql\r\nCREATE TABLE `user`\r\n(\r\n\tid\t\t\tINT PRIMARY KEY,\r\n    `name`\t\tVARCHAR(20) UNIQUE NOT NULL\r\n);\r\n\r\nCREATE TABLE score\r\n(\r\n\t`user`\t\tINT,\r\n    game\t\tENUM(&quot;HANGMAN&quot;,&quot;TRIS&quot;),\r\n    points\t\tINT UNSIGNED NOT NULL,\r\n    \r\n    PRIMARY KEY(`user`,game),\r\n    FOREIGN KEY (`user`) REFERENCES `user`(id)\r\n\t\t\t\t\t\t ON UPDATE CASCADE\r\n                         ON DELETE CASCADE\r\n)\r\n```\r\n\r\nI&#39;m using Hibernate as JPA implementation.\r\nI searched for a solution but I did not find anything.\r\nMaybe I&#39;m doing something wrong.\r\nCan you help me?","title":"Hibernate - Column cannot be null","body":"<p>I'm doing a simple exercise to learn JPA.\nWhen I try to delete an entity of type <strong>User</strong>, which has a Collection of the other entity <strong>Score</strong> (annotated with <code>@OneToMany</code>) I get this error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>java.sql.SQLIntegrityConstraintViolationException: Column 'user' cannot be null\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 20 more\n</code></pre>\n\n<p>These are my classes:</p>\n\n<p>User.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"user\")\npublic class User \n{\n    @Id\n    private Integer id;\n\n    @NotNull\n    @Size(max = 20)\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true)\n    @JoinColumn(name = \"user\")\n    private Collection&lt;Score&gt; scores;\n\n    public User() {\n    }\n\n    public User(Integer id, String name, Collection&lt;Score&gt; scores) {\n        this.id = id;\n        this.name = name;\n        this.scores = scores;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Collection&lt;Score&gt; getScores() {\n        return scores;\n    }\n\n    public void setScores(Collection&lt;Score&gt; scores) {\n        this.scores = scores;\n    } \n}\n</code></pre>\n\n<p>Score.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"score\")\npublic class Score \n{\n    @EmbeddedId\n    private ScoreId id;\n\n    @NotNull\n    private Integer points;\n\n    public Score() {\n    }\n\n    public Score(ScoreId id, Integer points) {\n        this.id = id;\n        this.points = points;\n    }\n\n    public ScoreId getId() {\n        return id;\n    }\n\n    public void setId(ScoreId id) {\n        this.id = id;\n    }\n\n    public Integer getPoints() {\n        return points;\n    }\n\n    public void setPoints(Integer points) {\n        this.points = points;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            Score other = (Score) obj;\n            return Objects.equals(id, other.id) &amp;&amp; Objects.equals(points,other.points);\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return id!=null ? points!=null ? id.hashCode()+points.hashCode() : 0 : 0;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[id =\" + id + \",points = \" + points;\n    }\n}\n</code></pre>\n\n<p>ScoreId.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class ScoreId implements Serializable \n{\n    private Integer user;\n\n    @Enumerated(EnumType.STRING)\n    private Game game;\n\n    public ScoreId() {\n    }\n\n    public ScoreId(Integer user, Game game) {\n        this.user = user;\n        this.game = game;\n    }\n\n    public Integer getUser() {\n        return user;\n    }\n\n    public void setUser(Integer user) {\n        this.user = user;\n    }\n\n    public Game getGame() {\n        return game;\n    }\n\n    public void setGame(Game game) {\n        this.game = game;\n    }\n\n    public enum Game\n    {\n        HANGMAN,\n        TRIS\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            ScoreId other = (ScoreId) obj;\n            return Objects.equals(user,other.user) &amp;&amp; game==other.game;\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() \n    {\n        return user!=null ? game!=null ? user.hashCode()+game.hashCode() : 0 : 0;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[user = \" + user + \",game = \" + game + \"]\";\n    }\n}\n</code></pre>\n\n<p>Main.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(\"UserJPA\");\n        EntityManager em = factory.createEntityManager();\n        EntityTransaction et = em.getTransaction();\n\n        User demetrio = em.createQuery(\"SELECT u FROM User u WHERE u.name = 'Demetrio'\",User.class).getSingleResult();\n\n        et.begin();\n        em.remove(demetrio);\n        et.commit();\n\n        em.close();\n        factory.close();\n    }\n}\n</code></pre>\n\n<p><br>\nThis is the script to generate db:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `user`\n(\n    id          INT PRIMARY KEY,\n    `name`      VARCHAR(20) UNIQUE NOT NULL\n);\n\nCREATE TABLE score\n(\n    `user`      INT,\n    game        ENUM(\"HANGMAN\",\"TRIS\"),\n    points      INT UNSIGNED NOT NULL,\n\n    PRIMARY KEY(`user`,game),\n    FOREIGN KEY (`user`) REFERENCES `user`(id)\n                         ON UPDATE CASCADE\n                         ON DELETE CASCADE\n)\n</code></pre>\n\n<p>I'm using Hibernate as JPA implementation.\nI searched for a solution but I did not find anything.\nMaybe I'm doing something wrong.\nCan you help me?</p>\n"},{"tags":["java","binary-tree","brute-force"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1674026254,"post_id":75155463,"comment_id":132624335,"body_markdown":"A very ambiguous question, what is the evaluation-number? \nnumbers, strings? \nHow to evaluate? \nNumber size? \nCharacter length?","body":"A very ambiguous question, what is the evaluation-number?  numbers, strings?  How to evaluate?  Number size?  Character length?"},{"owner":{"account_id":27560042,"reputation":1,"user_id":21033241,"display_name":"jum"},"score":0,"creation_date":1674060006,"post_id":75155463,"comment_id":132635636,"body_markdown":"(integers) on each node and an integer k and i have to find a subset of the nodes containing at most k nodes , that maximizes the sum of evaluations and no pair of nodes in the subset have parent-child relationship . I am supposed to utilize brute force to solve that","body":"(integers) on each node and an integer k and i have to find a subset of the nodes containing at most k nodes , that maximizes the sum of evaluations and no pair of nodes in the subset have parent-child relationship . I am supposed to utilize brute force to solve that"},{"owner":{"account_id":27560042,"reputation":1,"user_id":21033241,"display_name":"jum"},"score":0,"creation_date":1674060361,"post_id":75155463,"comment_id":132635781,"body_markdown":"and the employee name is a string","body":"and the employee name is a string"}],"owner":{"account_id":27560042,"reputation":1,"user_id":21033241,"display_name":"jum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674062414,"creation_date":1674023810,"question_id":75155463,"body_markdown":"I have a text file and a code that arranges the texts in arrays that resemble a binary tree, each node has an employee name and evaluation number in addition to the pointers. How do I implement a code that prints a list that maximizes the sum of the evaluation-based ratings of the employees, such that an employee does not attend with their immediate head.   \r\n\r\nI have to solve this by brute force, but all sources are showing recursion","title":"a binary tree,each node has an evaluation number,how do I program a code that prints a list that maximizes the sum of eval. number","body":"<p>I have a text file and a code that arranges the texts in arrays that resemble a binary tree, each node has an employee name and evaluation number in addition to the pointers. How do I implement a code that prints a list that maximizes the sum of the evaluation-based ratings of the employees, such that an employee does not attend with their immediate head.</p>\n<p>I have to solve this by brute force, but all sources are showing recursion</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9504,"page":719,"page_size":100}
