{"items":[{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1636236470,"post_id":69867998,"comment_id":123504174,"body_markdown":"Does it work if you use the pipeline resource hint, but leave it at 8G rather than increasing to 32G? Does the pipeline level hint work at 32G?","body":"Does it work if you use the pipeline resource hint, but leave it at 8G rather than increasing to 32G? Does the pipeline level hint work at 32G?"},{"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"score":0,"creation_date":1636373499,"post_id":69867998,"comment_id":123530862,"body_markdown":"@tgdavies, if the pipeline level resources hints and step level resources hint are both set to 8GiB, the pipeline fails with the same repetitive error.","body":"@tgdavies, if the pipeline level resources hints and step level resources hint are both set to 8GiB, the pipeline fails with the same repetitive error."},{"owner":{"account_id":20093737,"reputation":6918,"user_id":14733669,"display_name":"Ricco D"},"score":0,"creation_date":1636447401,"post_id":69867998,"comment_id":123552674,"body_markdown":"I tried running a custom template of mine which is in Python (I don&#39;t have Beam written in Java) and I added `resource_hints=min_ram=8GB ` in PTransform, Pipeline options and via `gcloud dataflow job runs` and everything works fine. Please open an issue in https://issues.apache.org/jira/projects/BEAM/issues/","body":"I tried running a custom template of mine which is in Python (I don&#39;t have Beam written in Java) and I added <code>resource_hints=min_ram=8GB </code> in PTransform, Pipeline options and via <code>gcloud dataflow job runs</code> and everything works fine. Please open an issue in <a href=\"https://issues.apache.org/jira/projects/BEAM/issues/\" rel=\"nofollow noreferrer\">issues.apache.org/jira/projects/BEAM/issues</a>"},{"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"score":0,"creation_date":1636654852,"post_id":69867998,"comment_id":123621394,"body_markdown":"@RiccoD https://issues.apache.org/jira/browse/BEAM-13225 has been created.","body":"@RiccoD <a href=\"https://issues.apache.org/jira/browse/BEAM-13225\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/BEAM-13225</a> has been created."}],"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636373533,"creation_date":1636233659,"question_id":69867998,"body_markdown":"I have a classic Dataflow template written using the Apache Beam Java SDK v2.32.0.  The template simply consumes messages from a Pub/Sub subscription and writes them to Google Cloud Storage.\r\n\r\nThe template can successfully be used to run jobs with [Dataflow Prime][1] experimental features enabled through `--additional-experiments enable_prime` and providing a pipeline level resource hint using `--parameters=resourceHints=min_ram=8GiB`:\r\n```lang-sh\r\ngcloud dataflow jobs run my-job-name \\\r\n  --additional-experiments enable_prime \\\r\n  --disable-public-ips \\\r\n  --gcs-location gs://bucket/path/to/template \\\r\n  --num-workers 1  \\\r\n  --max-workers 16 \\\r\n  --parameters=resourceHints=min_ram=8GiB,other_pipeline_options=true \\\r\n  --project my-project \\\r\n  --region us-central1 \\\r\n  --service-account-email my-service-account@my-project.iam.gserviceaccount.com \\\r\n  --staging-location gs://bucket/path/to/staging\r\n  --subnetwork https://www.googleapis.com/compute/v1/projects/my-project/regions/us-central1/subnetworks/my-subnet\r\n```\r\n\r\nIn an attempt to use Dataflow Prime&#39;s [Right Fitting][2] capability, I change the pipeline code to include a resource hint on the FileIO transform:\r\n```lang-java\r\nclass WriteGcsFileTransform\r\n    extends PTransform&lt;PCollection&lt;Input&gt;, WriteFilesResult&lt;Destination&gt;&gt; {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  @Override\r\n  public WriteFilesResult&lt;Destination&gt; expand(PCollection&lt;Input&gt; input) {\r\n\r\n    return input.apply(\r\n        FileIO.&lt;Destination, Input&gt;writeDynamic()\r\n            .by(myDynamicDestinationFunction)\r\n            .withDestinationCoder(Destination.coder())\r\n            .withNumShards(8)\r\n            .withNaming(myDestinationFileNamingFunction)\r\n            .withTempDirectory(&quot;gs://bucket/path/to/temp&quot;)\r\n            .withCompression(Compression.GZIP)\r\n            .setResourceHints(ResourceHints.create().withMinRam(&quot;32GiB&quot;))\r\n        );\r\n  }\r\n```\r\n\r\nAttempting to run jobs from a template based on the new code results in a continuous crash loop with the job never successfully running.  The lone repeated error log entry is:\r\n```lang-json\r\n{\r\n  &quot;insertId&quot;: &quot;s=97e1ecd30e0243609d555685318325b4;i=4e1;b=6c7f5d65f3994eada5f20672dab1daf1;m=912f16c;t=5d024689cb030;x=b36751718b3d80c1&quot;,\r\n  &quot;jsonPayload&quot;: {\r\n    &quot;line&quot;: &quot;pod_workers.go:191&quot;,\r\n    &quot;message&quot;: &quot;Error syncing pod 4cf7cbf98df4b5e2d054abce7da1262b (\\&quot;df-df-hvm-my-job-name-11061310-qn51-harness-jb9f_default(4cf7c6bf982df4b5eb2d054abce7da12)\\&quot;), skipping: failed to \\&quot;StartContainer\\&quot; for \\&quot;artifact\\&quot; with CrashLoopBackOff: \\&quot;back-off 40s restarting failed container=artifact pod=df-df-hvm-my-job-name-11061310-qn51-harness-jb9f_default(4cf7c6bf982df4b5eb2d054abce7da12)\\&quot;&quot;,\r\n    &quot;thread&quot;: &quot;807&quot;\r\n  },\r\n  &quot;resource&quot;: {\r\n    &quot;type&quot;: &quot;dataflow_step&quot;,\r\n    &quot;labels&quot;: {\r\n      &quot;project_id&quot;: &quot;my-project&quot;,\r\n      &quot;region&quot;: &quot;us-central1&quot;,\r\n      &quot;step_id&quot;: &quot;&quot;,\r\n      &quot;job_id&quot;: &quot;2021-11-06_12_10_27-510057810808146686&quot;,\r\n      &quot;job_name&quot;: &quot;my-job-name&quot;\r\n    }\r\n  },\r\n  &quot;timestamp&quot;: &quot;2021-11-06T20:14:36.052491Z&quot;,\r\n  &quot;severity&quot;: &quot;ERROR&quot;,\r\n  &quot;labels&quot;: {\r\n    &quot;compute.googleapis.com/resource_type&quot;: &quot;instance&quot;,\r\n    &quot;dataflow.googleapis.com/log_type&quot;: &quot;system&quot;,\r\n    &quot;compute.googleapis.com/resource_id&quot;: &quot;4695846446965678007&quot;,\r\n    &quot;dataflow.googleapis.com/job_name&quot;: &quot;my-job-name&quot;,\r\n    &quot;dataflow.googleapis.com/job_id&quot;: &quot;2021-11-06_12_10_27-510057810808146686&quot;,\r\n    &quot;dataflow.googleapis.com/region&quot;: &quot;us-central1&quot;,\r\n    &quot;dataflow.googleapis.com/service_option&quot;: &quot;prime&quot;,\r\n    &quot;compute.googleapis.com/resource_name&quot;: &quot;df-hvm-my-job-name-11061310-qn51-harness-jb9f&quot;\r\n  },\r\n  &quot;logName&quot;: &quot;projects/my-project/logs/dataflow.googleapis.com%2Fkubelet&quot;,\r\n  &quot;receiveTimestamp&quot;: &quot;2021-11-06T20:14:46.471285909Z&quot;\r\n}\r\n```\r\n\r\nAm I using resource hints on the transform incorrectly?\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/guides/enable-dataflow-prime\r\n  [2]: https://cloud.google.com/dataflow/docs/guides/right-fitting","title":"Dataflow Prime job fails when providing resource hints on a transform","body":"<p>I have a classic Dataflow template written using the Apache Beam Java SDK v2.32.0.  The template simply consumes messages from a Pub/Sub subscription and writes them to Google Cloud Storage.</p>\n<p>The template can successfully be used to run jobs with <a href=\"https://cloud.google.com/dataflow/docs/guides/enable-dataflow-prime\" rel=\"nofollow noreferrer\">Dataflow Prime</a> experimental features enabled through <code>--additional-experiments enable_prime</code> and providing a pipeline level resource hint using <code>--parameters=resourceHints=min_ram=8GiB</code>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>gcloud dataflow jobs run my-job-name \\\n  --additional-experiments enable_prime \\\n  --disable-public-ips \\\n  --gcs-location gs://bucket/path/to/template \\\n  --num-workers 1  \\\n  --max-workers 16 \\\n  --parameters=resourceHints=min_ram=8GiB,other_pipeline_options=true \\\n  --project my-project \\\n  --region us-central1 \\\n  --service-account-email my-service-account@my-project.iam.gserviceaccount.com \\\n  --staging-location gs://bucket/path/to/staging\n  --subnetwork https://www.googleapis.com/compute/v1/projects/my-project/regions/us-central1/subnetworks/my-subnet\n</code></pre>\n<p>In an attempt to use Dataflow Prime's <a href=\"https://cloud.google.com/dataflow/docs/guides/right-fitting\" rel=\"nofollow noreferrer\">Right Fitting</a> capability, I change the pipeline code to include a resource hint on the FileIO transform:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class WriteGcsFileTransform\n    extends PTransform&lt;PCollection&lt;Input&gt;, WriteFilesResult&lt;Destination&gt;&gt; {\n\n  private static final long serialVersionUID = 1L;\n\n  @Override\n  public WriteFilesResult&lt;Destination&gt; expand(PCollection&lt;Input&gt; input) {\n\n    return input.apply(\n        FileIO.&lt;Destination, Input&gt;writeDynamic()\n            .by(myDynamicDestinationFunction)\n            .withDestinationCoder(Destination.coder())\n            .withNumShards(8)\n            .withNaming(myDestinationFileNamingFunction)\n            .withTempDirectory(&quot;gs://bucket/path/to/temp&quot;)\n            .withCompression(Compression.GZIP)\n            .setResourceHints(ResourceHints.create().withMinRam(&quot;32GiB&quot;))\n        );\n  }\n</code></pre>\n<p>Attempting to run jobs from a template based on the new code results in a continuous crash loop with the job never successfully running.  The lone repeated error log entry is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;insertId&quot;: &quot;s=97e1ecd30e0243609d555685318325b4;i=4e1;b=6c7f5d65f3994eada5f20672dab1daf1;m=912f16c;t=5d024689cb030;x=b36751718b3d80c1&quot;,\n  &quot;jsonPayload&quot;: {\n    &quot;line&quot;: &quot;pod_workers.go:191&quot;,\n    &quot;message&quot;: &quot;Error syncing pod 4cf7cbf98df4b5e2d054abce7da1262b (\\&quot;df-df-hvm-my-job-name-11061310-qn51-harness-jb9f_default(4cf7c6bf982df4b5eb2d054abce7da12)\\&quot;), skipping: failed to \\&quot;StartContainer\\&quot; for \\&quot;artifact\\&quot; with CrashLoopBackOff: \\&quot;back-off 40s restarting failed container=artifact pod=df-df-hvm-my-job-name-11061310-qn51-harness-jb9f_default(4cf7c6bf982df4b5eb2d054abce7da12)\\&quot;&quot;,\n    &quot;thread&quot;: &quot;807&quot;\n  },\n  &quot;resource&quot;: {\n    &quot;type&quot;: &quot;dataflow_step&quot;,\n    &quot;labels&quot;: {\n      &quot;project_id&quot;: &quot;my-project&quot;,\n      &quot;region&quot;: &quot;us-central1&quot;,\n      &quot;step_id&quot;: &quot;&quot;,\n      &quot;job_id&quot;: &quot;2021-11-06_12_10_27-510057810808146686&quot;,\n      &quot;job_name&quot;: &quot;my-job-name&quot;\n    }\n  },\n  &quot;timestamp&quot;: &quot;2021-11-06T20:14:36.052491Z&quot;,\n  &quot;severity&quot;: &quot;ERROR&quot;,\n  &quot;labels&quot;: {\n    &quot;compute.googleapis.com/resource_type&quot;: &quot;instance&quot;,\n    &quot;dataflow.googleapis.com/log_type&quot;: &quot;system&quot;,\n    &quot;compute.googleapis.com/resource_id&quot;: &quot;4695846446965678007&quot;,\n    &quot;dataflow.googleapis.com/job_name&quot;: &quot;my-job-name&quot;,\n    &quot;dataflow.googleapis.com/job_id&quot;: &quot;2021-11-06_12_10_27-510057810808146686&quot;,\n    &quot;dataflow.googleapis.com/region&quot;: &quot;us-central1&quot;,\n    &quot;dataflow.googleapis.com/service_option&quot;: &quot;prime&quot;,\n    &quot;compute.googleapis.com/resource_name&quot;: &quot;df-hvm-my-job-name-11061310-qn51-harness-jb9f&quot;\n  },\n  &quot;logName&quot;: &quot;projects/my-project/logs/dataflow.googleapis.com%2Fkubelet&quot;,\n  &quot;receiveTimestamp&quot;: &quot;2021-11-06T20:14:46.471285909Z&quot;\n}\n</code></pre>\n<p>Am I using resource hints on the transform incorrectly?</p>\n"},{"tags":["java","byte","bit"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1636373738,"post_id":69883263,"comment_id":123530949,"body_markdown":"So you basically want to iterate over all bits of an array? Is [`BitSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html) sufficient for your purpose?","body":"So you basically want to iterate over all bits of an array? Is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html\" rel=\"nofollow noreferrer\"><code>BitSet</code></a> sufficient for your purpose?"},{"owner":{"account_id":7797973,"reputation":6780,"user_id":5898421,"display_name":"Andrew Parks"},"score":1,"creation_date":1636373783,"post_id":69883263,"comment_id":123530968,"body_markdown":"https://stackoverflow.com/a/1034888/5898421 is what you&#39;re looking for","body":"<a href=\"https://stackoverflow.com/a/1034888/5898421\">stackoverflow.com/a/1034888/5898421</a> is what you&#39;re looking for"}],"owner":{"account_id":21495636,"reputation":97,"user_id":15840697,"display_name":"Kristina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636374228,"answer_count":0,"score":0,"last_activity_date":1636373531,"creation_date":1636373531,"question_id":69883263,"body_markdown":"I have a byte array and I need a stream of bits. I&#39;ve figured out that this is not completely straight forward. I&#39;ll be using a while loop and doing something to every bit.\r\n\r\n(Pseudo of what I think I need)\r\n``` \r\nbytes[] byteArray = //somecode\r\nBitStream bitstream = new BitStream(byteArray);\r\n\r\nwhile (bitstream.hasNext) { //or bitstream.read != -1\r\n//do something with bit\r\n}\r\n```\r\n\r\n**EDIT:** By the way, as far as I know, BitStream is not actually a class, but just to show what I think I need.","title":"How can I create a stream of bits from a byte array?","body":"<p>I have a byte array and I need a stream of bits. I've figured out that this is not completely straight forward. I'll be using a while loop and doing something to every bit.</p>\n<p>(Pseudo of what I think I need)</p>\n<pre><code>bytes[] byteArray = //somecode\nBitStream bitstream = new BitStream(byteArray);\n\nwhile (bitstream.hasNext) { //or bitstream.read != -1\n//do something with bit\n}\n</code></pre>\n<p><strong>EDIT:</strong> By the way, as far as I know, BitStream is not actually a class, but just to show what I think I need.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636398285,"post_id":69883193,"comment_id":123541198,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":22150217,"reputation":3,"user_id":16398885,"display_name":"ANBU RAJA"},"score":0,"creation_date":1636440050,"post_id":69883193,"comment_id":123550326,"body_markdown":"I don&#39;t have any implementation. I need the whole solution for that problem.","body":"I don&#39;t have any implementation. I need the whole solution for that problem."}],"owner":{"account_id":22150217,"reputation":3,"user_id":16398885,"display_name":"ANBU RAJA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636373448,"creation_date":1636373182,"question_id":69883193,"body_markdown":"I need to change my old solr cores into new solr core using Java Program. \r\nIf there Any possible to change the old version solr core into new version solr core?","title":"Importing Solr Cores from one old Solr to another solr(solr version 4 to solr version ) Using Java","body":"<p>I need to change my old solr cores into new solr core using Java Program.\nIf there Any possible to change the old version solr core into new version solr core?</p>\n"},{"tags":["java","android","androidx","leanback"],"owner":{"account_id":6088348,"reputation":13,"user_id":4751537,"display_name":"Enas AL Saeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636373016,"creation_date":1635931657,"question_id":69822448,"body_markdown":"This is my code in old library\r\n\r\n**android.support.v17.leanback.transition.SlideCallback;**\r\n\r\nupdated to \r\n\r\n**androidx.leanback.transition;**\r\n\r\nhow can I convert this code?\r\n\r\n```\r\n\r\nimport androidx.leanback.transition.*;\r\n\r\npublic class VGDetailsTitleTransitionHelper {\r\n\r\n    final static  SlideCallback sSlideCallback = new SlideCallback() {\r\n        @Override\r\n        public boolean getSlide(View view, boolean appear, int[] edge, float[] distance) {\r\n            edge[0] = TransitionHelper.SLIDE_TOP;\r\n            Log.v(&quot;getSlide details&quot;, &quot;&quot; + view.getHeight());\r\n            distance[0] = view.getHeight();\r\n            return true;\r\n        }\r\n    };\r\n\r\n    \r\n\r\n}\r\n```","title":"android: Upgrade My Library from android to androidx but not found this class SlideCallback","body":"<p>This is my code in old library</p>\n<p><strong>android.support.v17.leanback.transition.SlideCallback;</strong></p>\n<p>updated to</p>\n<p><strong>androidx.leanback.transition;</strong></p>\n<p>how can I convert this code?</p>\n<pre><code>\nimport androidx.leanback.transition.*;\n\npublic class VGDetailsTitleTransitionHelper {\n\n    final static  SlideCallback sSlideCallback = new SlideCallback() {\n        @Override\n        public boolean getSlide(View view, boolean appear, int[] edge, float[] distance) {\n            edge[0] = TransitionHelper.SLIDE_TOP;\n            Log.v(&quot;getSlide details&quot;, &quot;&quot; + view.getHeight());\n            distance[0] = view.getHeight();\n            return true;\n        }\n    };\n\n    \n\n}\n</code></pre>\n"},{"tags":["java","spring","mockito","option-type","autowired"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636369088,"creation_date":1636369088,"answer_id":69882383,"question_id":69882291,"body_markdown":"I&#39;d setup the mocks in the `@BeforeEach/@BeforeAll` method of the JUnit test.\r\n\r\n```\r\n@BeforeEach\r\npublic void mocking(){\r\n    var repoMock = ... mock repo ..\r\n    var executorMock = mock(BatchInputExecutor.class)\r\n    // configure executorMock here \r\n    var batchInputExecutors = Optional.of(List.of(executorMock))\r\n    var batchInputManager = new BatchInputManager()\r\n    ... set the class level fields here .. \r\n}\r\n``` ","title":"How to Mock Optional Autowired field","body":"<p>I'd setup the mocks in the <code>@BeforeEach/@BeforeAll</code> method of the JUnit test.</p>\n<pre><code>@BeforeEach\npublic void mocking(){\n    var repoMock = ... mock repo ..\n    var executorMock = mock(BatchInputExecutor.class)\n    // configure executorMock here \n    var batchInputExecutors = Optional.of(List.of(executorMock))\n    var batchInputManager = new BatchInputManager()\n    ... set the class level fields here .. \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14878826,"reputation":61,"user_id":10744129,"display_name":"Martin Mondino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636372490,"creation_date":1636372490,"answer_id":69883053,"question_id":69882291,"body_markdown":"If you really want to use Mockito&#39;s annotations in this case:\r\n\r\nChange this\r\n\r\n```\r\n@Mock\r\nList&lt;BatchInputExecutor&gt; executors;\r\n```\r\n\r\nTo this\r\n```\r\n@Mock\r\nOptional&lt;List&lt;BatchInputExecutor&gt;&gt; executors;\r\n```\r\nAnd configure mockito to supports final classes and methods. See this https://stackoverflow.com/a/40018295/10744129","title":"How to Mock Optional Autowired field","body":"<p>If you really want to use Mockito's annotations in this case:</p>\n<p>Change this</p>\n<pre><code>@Mock\nList&lt;BatchInputExecutor&gt; executors;\n</code></pre>\n<p>To this</p>\n<pre><code>@Mock\nOptional&lt;List&lt;BatchInputExecutor&gt;&gt; executors;\n</code></pre>\n<p>And configure mockito to supports final classes and methods. See this <a href=\"https://stackoverflow.com/a/40018295/10744129\">https://stackoverflow.com/a/40018295/10744129</a></p>\n"}],"owner":{"account_id":6381401,"reputation":1720,"user_id":4950717,"accept_rate":89,"display_name":"Mattew Eon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636372490,"creation_date":1636368651,"question_id":69882291,"body_markdown":"I am trying to make a unit test with Mockito and I cannot find any way to mock my constructor&#39;s optional autowired field.\r\n\r\nHere is my constructor:\r\n \r\n```java\r\n@Autowired\r\npublic BatchInputManager(\r\n    BatchInputContentRepository batchInputContentRepository,\r\n    Optional&lt;List&lt;BatchInputExecutor&gt;&gt; batchInputExecutors) {\r\n    // ...\r\n}\r\n```\r\n\r\nAnd here is how I try to mock these fields :\r\n```java\r\n@InjectMocks\r\nBatchInputManager batchInputManager;\r\n@Mock\r\nBatchInputContentRepository batchInputContentRepository;\r\n@Mock\r\nList&lt;BatchInputExecutor&gt; executors;\r\n```\r\nFor the record, the `BatchInputExecutor` class is an abstract class and I defined a class that extends it in my test.  \r\nWhen I run my code, the optional that should contains all the extended classes of `BatchInputExecutor` is not empty, it is null; and the repository is not null.  \r\nHow am I supposed to mock the value of the optional field in my constructor ?","title":"How to Mock Optional Autowired field","body":"<p>I am trying to make a unit test with Mockito and I cannot find any way to mock my constructor's optional autowired field.</p>\n<p>Here is my constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\npublic BatchInputManager(\n    BatchInputContentRepository batchInputContentRepository,\n    Optional&lt;List&lt;BatchInputExecutor&gt;&gt; batchInputExecutors) {\n    // ...\n}\n</code></pre>\n<p>And here is how I try to mock these fields :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InjectMocks\nBatchInputManager batchInputManager;\n@Mock\nBatchInputContentRepository batchInputContentRepository;\n@Mock\nList&lt;BatchInputExecutor&gt; executors;\n</code></pre>\n<p>For the record, the <code>BatchInputExecutor</code> class is an abstract class and I defined a class that extends it in my test.<br />\nWhen I run my code, the optional that should contains all the extended classes of <code>BatchInputExecutor</code> is not empty, it is null; and the repository is not null.<br />\nHow am I supposed to mock the value of the optional field in my constructor ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1636365873,"post_id":69880602,"comment_id":123527975,"body_markdown":"What did your search turn up? Please be aware that you’re supposed to search before asking a question here (every time).","body":"What did your search turn up? Please be aware that you’re supposed to search before asking a question here (every time)."}],"answers":[{"tags":[],"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636372075,"creation_date":1636360709,"answer_id":69880637,"question_id":69880602,"body_markdown":"Here&#39;s a [list of Android versions and API levels](https://en.wikipedia.org/wiki/Android_version_history#Overview).\r\n\r\nAs you can see, Android 7.0 has API level 24. So the method will not be available as it was introduced later.\r\n\r\nIf the method in question is a standard Java method, in particular a method from `java.time`, `java.nio.file` or`java.lang.invoke`, then it might be available through [API desugaring](https://developer.android.com/studio/write/java8-support-table) independent from the API level.","title":"Application API LEVEL 26 and Android 7?","body":"<p>Here's a <a href=\"https://en.wikipedia.org/wiki/Android_version_history#Overview\" rel=\"nofollow noreferrer\">list of Android versions and API levels</a>.</p>\n<p>As you can see, Android 7.0 has API level 24. So the method will not be available as it was introduced later.</p>\n<p>If the method in question is a standard Java method, in particular a method from <code>java.time</code>, <code>java.nio.file</code> or<code>java.lang.invoke</code>, then it might be available through <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">API desugaring</a> independent from the API level.</p>\n"}],"owner":{"account_id":17321993,"reputation":17,"user_id":12547188,"display_name":"gigaman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1636372075,"creation_date":1636360518,"question_id":69880602,"body_markdown":"I am new to android development . I have a simple question. If the method was introduced in API LEVEL 26 , can it be run on a device that has Android 7 OS?","title":"Application API LEVEL 26 and Android 7?","body":"<p>I am new to android development . I have a simple question. If the method was introduced in API LEVEL 26 , can it be run on a device that has Android 7 OS?</p>\n"},{"tags":["java","do-while"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":3,"creation_date":1636365737,"post_id":69881649,"comment_id":123527904,"body_markdown":"Why do you need to remove them?","body":"Why do you need to remove them?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1636365818,"post_id":69881649,"comment_id":123527947,"body_markdown":"What exactly are you struggling with? You need to change your `while()` condition to also check `hitTarget` or `hitObstacle`. You also need to think about whether a last `t += 0.1;` before the loop is left is ok and if not, move this line.","body":"What exactly are you struggling with? You need to change your <code>while()</code> condition to also check <code>hitTarget</code> or <code>hitObstacle</code>. You also need to think about whether a last <code>t += 0.1;</code> before the loop is left is ok and if not, move this line."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1636365821,"post_id":69881649,"comment_id":123527948,"body_markdown":"What difficulty are you having deleting those statements?","body":"What difficulty are you having deleting those statements?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1636365833,"post_id":69881649,"comment_id":123527956,"body_markdown":"Removing `break`s will change the code&#39;s behavior. What&#39;s the reason for removing them?","body":"Removing <code>break</code>s will change the code&#39;s behavior. What&#39;s the reason for removing them?"},{"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"score":0,"creation_date":1636367211,"post_id":69881649,"comment_id":123528519,"body_markdown":"You also don&#39;t need `else` if you have a `break`, `continue` or `return` in the `if` statement. It&#39;s redundant.","body":"You also don&#39;t need <code>else</code> if you have a <code>break</code>, <code>continue</code> or <code>return</code> in the <code>if</code> statement. It&#39;s redundant."},{"owner":{"account_id":14759129,"reputation":25,"user_id":10658996,"display_name":"dragon"},"score":0,"creation_date":1636367565,"post_id":69881649,"comment_id":123528637,"body_markdown":"I need to remove them because it is asked in my exercise. I need my code to work exactly like it is now but i&#39;m prohibited in usage of ```break```","body":"I need to remove them because it is asked in my exercise. I need my code to work exactly like it is now but i&#39;m prohibited in usage of <code>break</code>"},{"owner":{"account_id":14759129,"reputation":25,"user_id":10658996,"display_name":"dragon"},"score":0,"creation_date":1636367916,"post_id":69881649,"comment_id":123528784,"body_markdown":"In my exercise I need to use do-while without ```break```","body":"In my exercise I need to use do-while without <code>break</code>"}],"answers":[{"tags":[],"owner":{"account_id":23270904,"reputation":110,"user_id":17355758,"display_name":"Carlos CB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636372065,"creation_date":1636369320,"answer_id":69882434,"question_id":69881649,"body_markdown":"You can eliminate the breaks if you include, in the while, the statements you want to trigger the breaks. Since you are using the “if” to set a simple flag, you may want to simplify things by directly setting the flag with the value; also, if you mind about “t” you should place an “if” to be sure that is not gonna be modified when any of the “if” statements are true. The do while should look like this:\r\n\r\n    do  {\r\n           x = v0 * t * Math.cos(inRadians) + x0;\r\n           y = v0 * t * Math.sin(inRadians) - (g * t * t) / 2 + y0;\r\n           System.out.printf(&quot;%3.2f\\t%7.3f\\t%7.3f\\n&quot;, t, x, y);\r\n \r\n           hitTarget = x &gt;= 17 &amp;&amp; x &lt;= 20 &amp;&amp; y &lt;= 3 &amp;&amp; y &gt;= 0;\r\n           hitObstacle = !hitTarget &amp;&amp; x &gt;= 7 &amp;&amp; x &lt;= 10 &amp;&amp; y &lt;= 4 &amp;&amp; y &gt;= 0;\r\n \r\n           if(!hitTarget &amp;&amp; !hitObstacle) {\r\n               t += 0.1;\r\n           }\r\n \r\n       } while (y &gt;= 0 || (!hitTarget &amp;&amp; !hitObstacle));","title":"Remove break statement","body":"<p>You can eliminate the breaks if you include, in the while, the statements you want to trigger the breaks. Since you are using the “if” to set a simple flag, you may want to simplify things by directly setting the flag with the value; also, if you mind about “t” you should place an “if” to be sure that is not gonna be modified when any of the “if” statements are true. The do while should look like this:</p>\n<pre><code>do  {\n       x = v0 * t * Math.cos(inRadians) + x0;\n       y = v0 * t * Math.sin(inRadians) - (g * t * t) / 2 + y0;\n       System.out.printf(&quot;%3.2f\\t%7.3f\\t%7.3f\\n&quot;, t, x, y);\n\n       hitTarget = x &gt;= 17 &amp;&amp; x &lt;= 20 &amp;&amp; y &lt;= 3 &amp;&amp; y &gt;= 0;\n       hitObstacle = !hitTarget &amp;&amp; x &gt;= 7 &amp;&amp; x &lt;= 10 &amp;&amp; y &lt;= 4 &amp;&amp; y &gt;= 0;\n\n       if(!hitTarget &amp;&amp; !hitObstacle) {\n           t += 0.1;\n       }\n\n   } while (y &gt;= 0 || (!hitTarget &amp;&amp; !hitObstacle));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5014312,"reputation":615,"user_id":4029545,"accept_rate":50,"display_name":"Ravi Nain"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1636370686,"creation_date":1636370686,"answer_id":69882710,"question_id":69881649,"body_markdown":"    boolean run = true;\r\n    do {\r\n        x = v0 * t * Math.cos(inRadians) + x0;\r\n        y = v0 * t * Math.sin(inRadians) - (g * t * t) / 2 + y0;\r\n        System.out.printf(&quot;%3.2f\\t%7.3f\\t%7.3f\\n&quot;, t, x, y);\r\n        \r\n        hitTarget = x &gt;= 17 &amp;&amp; x &lt;= 20 &amp;&amp; y &lt;= 3 &amp;&amp; y &gt;= 0;\r\n        hitObstacle = !hitTarget &amp;&amp; x &gt;= 7 &amp;&amp; x &lt;= 10 &amp;&amp; y &lt;= 4 &amp;&amp; y &gt;= 0;\r\n\r\n        if (!hitTarget &amp;&amp; !hitObstacle) {\r\n            t += 0.1;\r\n        }\r\n        \r\n        run = y &gt;= 0 &amp;&amp; !hitTarget &amp;&amp; !hitObstacle;\r\n    } while (run);","title":"Remove break statement","body":"<pre><code>boolean run = true;\ndo {\n    x = v0 * t * Math.cos(inRadians) + x0;\n    y = v0 * t * Math.sin(inRadians) - (g * t * t) / 2 + y0;\n    System.out.printf(&quot;%3.2f\\t%7.3f\\t%7.3f\\n&quot;, t, x, y);\n    \n    hitTarget = x &gt;= 17 &amp;&amp; x &lt;= 20 &amp;&amp; y &lt;= 3 &amp;&amp; y &gt;= 0;\n    hitObstacle = !hitTarget &amp;&amp; x &gt;= 7 &amp;&amp; x &lt;= 10 &amp;&amp; y &lt;= 4 &amp;&amp; y &gt;= 0;\n\n    if (!hitTarget &amp;&amp; !hitObstacle) {\n        t += 0.1;\n    }\n    \n    run = y &gt;= 0 &amp;&amp; !hitTarget &amp;&amp; !hitObstacle;\n} while (run);\n</code></pre>\n"}],"owner":{"account_id":14759129,"reputation":25,"user_id":10658996,"display_name":"dragon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69882710,"answer_count":2,"score":-1,"last_activity_date":1636372065,"creation_date":1636365670,"question_id":69881649,"body_markdown":"I need to remove ```break;``` statements in my code and I&#39;ve run out of ideas how to do it. Can you please help me? \r\n```public static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tdouble g = 1.62, v0, deg = 45;\r\n\t\tdouble inRadians = Math.toRadians(deg);\r\n\t\tdouble t, x, y, x0 = 0, y0 = 0;\r\n\t\tboolean hitTarget = false;\r\n\t\tboolean hitObstacle = false;\r\n\t\tSystem.out.println(&quot;211RDB121 Pauls Daniels Meija 11.grupa&quot;);\r\n\t\tSystem.out.print(&quot;v0=&quot;);\r\n\t\tif (sc.hasNextDouble())\r\n\t\t\tv0 = sc.nextDouble();\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;input-output error&quot;);\r\n\t\t\t\tsc.close();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\tsc.close();\r\n\t\tSystem.out.println(&quot;result:&quot;);\r\n\t\tSystem.out.println(&quot;t \\t x \\t y&quot;);\r\n\t\tt = 0.15;\r\n\t\tdo {\r\n\t\t\tx = v0 * t * Math.cos(inRadians) + x0;\r\n\t\t\ty = v0 * t * Math.sin(inRadians) - (g * t * t) / 2 + y0;\r\n\t\t\tSystem.out.printf(&quot;%3.2f\\t%7.3f\\t%7.3f\\n&quot;, t, x, y);\r\n\t\t\tif (x &gt;= 17 &amp;&amp; x &lt;= 20 &amp;&amp; y &lt;= 3 &amp;&amp; y &gt;= 0) {\r\n\t\t\t\thitTarget = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if (x &gt;= 7 &amp;&amp; x &lt;= 10 &amp;&amp; y &lt;= 4 &amp;&amp; y &gt;= 0) {\r\n\t\t\t\thitObstacle = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tt += 0.1;\r\n\t\t\t} while (y &gt;= 0);\r\n\t\t\t\tif (hitObstacle) {\r\n\t\t\t\t\tSystem.out.println(&quot;hit the obstacle!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse if (hitTarget)\r\n\t\t\t\t\tSystem.out.println(&quot;the target was destroyed&quot;);\r\n\t\t\t\telse\r\n\t\t\t\t\tSystem.out.println(&quot;shot off the target&quot;);\r\n\t\t\t}```","title":"Remove break statement","body":"<p>I need to remove <code>break;</code> statements in my code and I've run out of ideas how to do it. Can you please help me?</p>\n<pre><code>        Scanner sc = new Scanner(System.in);\n        double g = 1.62, v0, deg = 45;\n        double inRadians = Math.toRadians(deg);\n        double t, x, y, x0 = 0, y0 = 0;\n        boolean hitTarget = false;\n        boolean hitObstacle = false;\n        System.out.println(&quot;211RDB121 Pauls Daniels Meija 11.grupa&quot;);\n        System.out.print(&quot;v0=&quot;);\n        if (sc.hasNextDouble())\n            v0 = sc.nextDouble();\n            else {\n                System.out.println(&quot;input-output error&quot;);\n                sc.close();\n                return;\n            }\n        sc.close();\n        System.out.println(&quot;result:&quot;);\n        System.out.println(&quot;t \\t x \\t y&quot;);\n        t = 0.15;\n        do {\n            x = v0 * t * Math.cos(inRadians) + x0;\n            y = v0 * t * Math.sin(inRadians) - (g * t * t) / 2 + y0;\n            System.out.printf(&quot;%3.2f\\t%7.3f\\t%7.3f\\n&quot;, t, x, y);\n            if (x &gt;= 17 &amp;&amp; x &lt;= 20 &amp;&amp; y &lt;= 3 &amp;&amp; y &gt;= 0) {\n                hitTarget = true;\n                break;\n            }\n            else if (x &gt;= 7 &amp;&amp; x &lt;= 10 &amp;&amp; y &lt;= 4 &amp;&amp; y &gt;= 0) {\n                hitObstacle = true;\n                break;\n            }\n            t += 0.1;\n            } while (y &gt;= 0);\n                if (hitObstacle) {\n                    System.out.println(&quot;hit the obstacle!&quot;);\n                }\n                else if (hitTarget)\n                    System.out.println(&quot;the target was destroyed&quot;);\n                else\n                    System.out.println(&quot;shot off the target&quot;);\n            }```\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1551898877,"post_id":55030269,"comment_id":96813228,"body_markdown":"Keeping a tree balanced requires O(log n) insertions and deletions, as opposed to a list&#39;s O(1), so it&#39;s not strictly always better. The red black tree is really only there to mitigate poorly implemented hash functions (or, I suppose, random bad luck with regards to collisions). Making every bucket a tree would make performance worse in the general case.","body":"Keeping a tree balanced requires O(log n) insertions and deletions, as opposed to a list&#39;s O(1), so it&#39;s not strictly always better. The red black tree is really only there to mitigate poorly implemented hash functions (or, I suppose, random bad luck with regards to collisions). Making every bucket a tree would make performance worse in the general case."},{"owner":{"account_id":15471711,"reputation":11,"user_id":11161558,"display_name":"crickon"},"score":0,"creation_date":1551917506,"post_id":55030269,"comment_id":96820764,"body_markdown":"I don&#39;t think I explained my assignment properly. We were forcing collisions to see how HashMap handles them. My question is more of why the whole chain is not handled with a tree. Why are the first 8 nodes linked and treeify only starts when the chain becomes longer than that.","body":"I don&#39;t think I explained my assignment properly. We were forcing collisions to see how HashMap handles them. My question is more of why the whole chain is not handled with a tree. Why are the first 8 nodes linked and treeify only starts when the chain becomes longer than that."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1551917788,"post_id":55030269,"comment_id":96820836,"body_markdown":"Yes. I already answered that. A tree is not always used because a tree is not always best.","body":"Yes. I already answered that. A tree is not always used because a tree is not always best."},{"owner":{"account_id":15471711,"reputation":11,"user_id":11161558,"display_name":"crickon"},"score":0,"creation_date":1551917871,"post_id":55030269,"comment_id":96820860,"body_markdown":"Correct me if i&#39;m wrong, wouldn&#39;t a poorly implemented tree still have the same performance as a LinkedList.","body":"Correct me if i&#39;m wrong, wouldn&#39;t a poorly implemented tree still have the same performance as a LinkedList."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1551918639,"post_id":55030269,"comment_id":96821003,"body_markdown":"No. Like I said, a tree is slower to insert and remove. And anyway, big O does not tell the whole story. Something can be constant time and still be slow (consider `Thread.sleep(10000)`).","body":"No. Like I said, a tree is slower to insert and remove. And anyway, big O does not tell the whole story. Something can be constant time and still be slow (consider <code>Thread.sleep(10000)</code>)."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1551918740,"post_id":55030269,"comment_id":96821031,"body_markdown":"Also, HashMap is not implemented with a LinkedList, it uses arrays.","body":"Also, HashMap is not implemented with a LinkedList, it uses arrays."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1551923077,"post_id":55030269,"comment_id":96821994,"body_markdown":"A tree is no improvement over a list until *log(N) &lt; N/2*, which happens at *N = 8.*","body":"A tree is no improvement over a list until <i>log(N) &lt; N/2</i>, which happens at <i>N = 8.</i>"},{"owner":{"account_id":15471711,"reputation":11,"user_id":11161558,"display_name":"crickon"},"score":0,"creation_date":1551925509,"post_id":55030269,"comment_id":96822548,"body_markdown":"@user207421 would you care to explain that a little further. where does the n/2 come from?","body":"@user207421 would you care to explain that a little further. where does the n/2 come from?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1551927348,"post_id":55030269,"comment_id":96822932,"body_markdown":"Searching a list is going to find the item in *N/2* time on average, as the average item is halfway down the list.","body":"Searching a list is going to find the item in <i>N/2</i> time on average, as the average item is halfway down the list."},{"owner":{"account_id":15471711,"reputation":11,"user_id":11161558,"display_name":"crickon"},"score":0,"creation_date":1551977176,"post_id":55030269,"comment_id":96847841,"body_markdown":"@user207421 Thank you, that&#39;s the answer I was looking for","body":"@user207421 Thank you, that&#39;s the answer I was looking for"}],"answers":[{"tags":[],"owner":{"account_id":3637123,"reputation":10786,"user_id":3032209,"display_name":"Yair Kukielka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636371729,"creation_date":1636111194,"answer_id":69852448,"question_id":55030269,"body_markdown":"Clarification before I answer your question:\r\n---------\r\n\r\nFrom your question it sounds like the first 8 nodes are always managed by a linkedlist structure and the ones after the 8th node are managed by a tree structure.\r\n\r\nBut **this is how it actually works** after it was changed in Java 8:\r\n\r\n - If the bucket contains a small number of nodes (&lt; 8), it uses a linkedlist for **all** of this bucket&#39;s nodes.\r\n - If the bucket contains a large number of nodes (=&gt; 8), it dynamically replaces it with an ad-hoc implementation of tree map, for **all** of this bucket&#39;s nodes.\r\n\r\n**Why does it work like this?**\r\n--------\r\n\r\nYou have a more thorough explanaition [here][1], but basically:\r\n\r\n&gt; Well, previously entries with conflicting keys were simply appended to linked list, which later had to be traversed. Now HashMap promotes list into binary tree, using hash code as a branching variable. If two hashes are different but ended up in the same bucket, one is considered bigger and goes to the right. If hashes are equal (as in our case), HashMap hopes that the keys are Comparable, so that it can establish some order. This is not a requirement of HashMap keys, but apparently a good practice. If keys are not comparable, don&#39;t expect any performance improvements in case of heavy hash collisions.\r\n\r\n**In the case of high hash collisions, this implementation will improve worst-case performance from O(n) to O(log n).**\r\n\r\nFor reference, this implementation change in HashMap was introdiced by [JEP 180][2]\r\n\r\nWhy aren&#39;t they always handled as tree?\r\n--------\r\nThey could have, I guess. I see 2 reasons, that combined could answer this:\r\n\r\n - There is a space penalty for using a tree, as explained in [this][3] answer.\r\n - Switching to a tree will be triggered only in rare cases where there are many collisions. A bucket shouldn&#39;t usually contain 8 or more nodes. If it does, this means that there has been a very high number of collisions (due to a bad key hashcode implementation or really bad luck). In most cases, where there are low collisions, a simply linked list will suffice since time complexity will tend to be constant 0(1).\r\n\r\n\r\n  [1]: https://dzone.com/articles/hashmap-performance\r\n  [2]: https://openjdk.java.net/jeps/180\r\n  [3]: https://stackoverflow.com/a/55154231/3032209","title":"Why doesn&#39;t java&#39;s HashMap just use trees for collision chaining","body":"<h2>Clarification before I answer your question:</h2>\n<p>From your question it sounds like the first 8 nodes are always managed by a linkedlist structure and the ones after the 8th node are managed by a tree structure.</p>\n<p>But <strong>this is how it actually works</strong> after it was changed in Java 8:</p>\n<ul>\n<li>If the bucket contains a small number of nodes (&lt; 8), it uses a linkedlist for <strong>all</strong> of this bucket's nodes.</li>\n<li>If the bucket contains a large number of nodes (=&gt; 8), it dynamically replaces it with an ad-hoc implementation of tree map, for <strong>all</strong> of this bucket's nodes.</li>\n</ul>\n<h2><strong>Why does it work like this?</strong></h2>\n<p>You have a more thorough explanaition <a href=\"https://dzone.com/articles/hashmap-performance\" rel=\"nofollow noreferrer\">here</a>, but basically:</p>\n<blockquote>\n<p>Well, previously entries with conflicting keys were simply appended to linked list, which later had to be traversed. Now HashMap promotes list into binary tree, using hash code as a branching variable. If two hashes are different but ended up in the same bucket, one is considered bigger and goes to the right. If hashes are equal (as in our case), HashMap hopes that the keys are Comparable, so that it can establish some order. This is not a requirement of HashMap keys, but apparently a good practice. If keys are not comparable, don't expect any performance improvements in case of heavy hash collisions.</p>\n</blockquote>\n<p><strong>In the case of high hash collisions, this implementation will improve worst-case performance from O(n) to O(log n).</strong></p>\n<p>For reference, this implementation change in HashMap was introdiced by <a href=\"https://openjdk.java.net/jeps/180\" rel=\"nofollow noreferrer\">JEP 180</a></p>\n<h2>Why aren't they always handled as tree?</h2>\n<p>They could have, I guess. I see 2 reasons, that combined could answer this:</p>\n<ul>\n<li>There is a space penalty for using a tree, as explained in <a href=\"https://stackoverflow.com/a/55154231/3032209\">this</a> answer.</li>\n<li>Switching to a tree will be triggered only in rare cases where there are many collisions. A bucket shouldn't usually contain 8 or more nodes. If it does, this means that there has been a very high number of collisions (due to a bad key hashcode implementation or really bad luck). In most cases, where there are low collisions, a simply linked list will suffice since time complexity will tend to be constant 0(1).</li>\n</ul>\n"}],"owner":{"account_id":15471711,"reputation":11,"user_id":11161558,"display_name":"crickon"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636371729,"creation_date":1551898385,"question_id":55030269,"body_markdown":"For my computer science data structures class we had an assignment on hashing and java&#39;s HashMaps. Through this assignment I learned that collisions are handled as linked lists for the first 8 nodes, followed by a binary tree (or red black tree) for the rest. Why... Why aren&#39;t they just handled as tree for O(log n) efficiency?\r\n\r\nThe only writes ups that I could find were that when Java 8 released, it increased the efficiency of the chains by handling them this way instead of strictly linked list, which would be O(n). \r\nIf anyone has any insight on this it would be greatly appreciated.\r\n\r\nThanks,\r\nMatt","title":"Why doesn&#39;t java&#39;s HashMap just use trees for collision chaining","body":"<p>For my computer science data structures class we had an assignment on hashing and java's HashMaps. Through this assignment I learned that collisions are handled as linked lists for the first 8 nodes, followed by a binary tree (or red black tree) for the rest. Why... Why aren't they just handled as tree for O(log n) efficiency?</p>\n\n<p>The only writes ups that I could find were that when Java 8 released, it increased the efficiency of the chains by handling them this way instead of strictly linked list, which would be O(n). \nIf anyone has any insight on this it would be greatly appreciated.</p>\n\n<p>Thanks,\nMatt</p>\n"},{"tags":["java","math","intervals"],"answers":[{"tags":[],"owner":{"account_id":31324,"reputation":34658,"user_id":85931,"accept_rate":57,"display_name":"tpdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239091785,"creation_date":1239091785,"answer_id":724589,"question_id":724575,"body_markdown":"I know of no library classes, but I recall rather trivially writing such classes.","title":"Does an open-ended interval implementation exist for Java?","body":"<p>I know of no library classes, but I recall rather trivially writing such classes.</p>\n"},{"tags":[],"owner":{"account_id":14317,"reputation":2936,"user_id":29363,"accept_rate":100,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1239094091,"creation_date":1239094091,"answer_id":724687,"question_id":724575,"body_markdown":"[Time&amp;Money][1] project seems to have Interval class that you need. \r\n\r\nSee these files in their svn: [interval package][2].\r\n\r\n\r\n  [1]: http://timeandmoney.sourceforge.net/\r\n  [2]: http://timeandmoney.svn.sourceforge.net/viewvc/timeandmoney/timeandmoney/trunk/src/main/java/com/domainlanguage/intervals/","title":"Does an open-ended interval implementation exist for Java?","body":"<p><a href=\"http://timeandmoney.sourceforge.net/\" rel=\"nofollow noreferrer\">Time&amp;Money</a> project seems to have Interval class that you need. </p>\n\n<p>See these files in their svn: <a href=\"http://timeandmoney.svn.sourceforge.net/viewvc/timeandmoney/timeandmoney/trunk/src/main/java/com/domainlanguage/intervals/\" rel=\"nofollow noreferrer\">interval package</a>.</p>\n"},{"tags":[],"owner":{"account_id":31944,"reputation":482,"user_id":88086,"display_name":"Gadi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437319219,"creation_date":1239108135,"answer_id":725509,"question_id":724575,"body_markdown":"The Apache-commons-lang project (http://commons.apache.org/lang/) contains classes dealing with ranges (like IntRange - https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/IntRange.html). I&#39;m not sure it covers all your needs, but it might be worth checking.\r\n","title":"Does an open-ended interval implementation exist for Java?","body":"<p>The Apache-commons-lang project (<a href=\"http://commons.apache.org/lang/\" rel=\"nofollow noreferrer\">http://commons.apache.org/lang/</a>) contains classes dealing with ranges (like IntRange - <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/IntRange.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/IntRange.html</a>). I'm not sure it covers all your needs, but it might be worth checking.</p>\n"},{"tags":[],"owner":{"account_id":1403382,"reputation":1305,"user_id":1331732,"accept_rate":20,"display_name":"Alain P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636371701,"creation_date":1636371701,"answer_id":69882913,"question_id":724575,"body_markdown":"For those who might end up here, you can have a look at [Google Ranges][1] which are exactly what was asked here.\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/RangesExplained","title":"Does an open-ended interval implementation exist for Java?","body":"<p>For those who might end up here, you can have a look at <a href=\"https://github.com/google/guava/wiki/RangesExplained\" rel=\"nofollow noreferrer\">Google Ranges</a> which are exactly what was asked here.</p>\n"}],"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3586,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":724687,"answer_count":4,"score":5,"last_activity_date":1636371701,"creation_date":1239091587,"question_id":724575,"body_markdown":"I&#39;ve got a classification of certain values in different intervals. Most have the form [20-30], but some are of the form [30-infinite).\r\n\r\nIs there an interval class you know of which can represent:\r\n\r\n - an interval which is not closed on both sides (e.g. (0-5) or [0-5) )\r\n - an interval which closes (or starts) on infinite","title":"Does an open-ended interval implementation exist for Java?","body":"<p>I've got a classification of certain values in different intervals. Most have the form [20-30], but some are of the form [30-infinite).</p>\n\n<p>Is there an interval class you know of which can represent:</p>\n\n<ul>\n<li>an interval which is not closed on both sides (e.g. (0-5) or [0-5) )</li>\n<li>an interval which closes (or starts) on infinite</li>\n</ul>\n"},{"tags":["java","netbeans","jcalendar"],"comments":[{"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"score":0,"creation_date":1637275462,"post_id":69871982,"comment_id":123790164,"body_markdown":"[Disable multiple date ranges jDateChooser](https://stackoverflow.com/q/25501373/261156) shows another way to update [here](https://stackoverflow.com/a/25695372/261156).","body":"<a href=\"https://stackoverflow.com/q/25501373/261156\">Disable multiple date ranges jDateChooser</a> shows another way to update <a href=\"https://stackoverflow.com/a/25695372/261156\">here</a>."},{"owner":{"account_id":15292112,"reputation":1,"user_id":11033320,"display_name":"Guilerme"},"score":0,"creation_date":1637324462,"post_id":69871982,"comment_id":123802202,"body_markdown":"it&#39;s work tank you","body":"it&#39;s work tank you"},{"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"score":0,"creation_date":1644083010,"post_id":69871982,"comment_id":125513436,"body_markdown":"Does this answer your question? [Disable multiple date ranges jDateChooser](https://stackoverflow.com/questions/25501373/disable-multiple-date-ranges-jdatechooser)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25501373/disable-multiple-date-ranges-jdatechooser\">Disable multiple date ranges jDateChooser</a>"}],"owner":{"account_id":15292112,"reputation":1,"user_id":11033320,"display_name":"Guilerme"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636371604,"creation_date":1636284121,"question_id":69871982,"body_markdown":"My problem is this. I have a JCalendar in which I disable the days I want through this method.\r\n\r\n```java\r\nprivate void jButtonActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n\r\n    List&lt;DayOfWeek&gt; invalidDays = Arrays.asList(DayOfWeek.MONDAY, DayOfWeek.FRIDAY);\r\n    JCalendar.getDayChooser().addDateEvaluator(new DayOfWeekEvaluator(invalidDays));\r\n    JCalendar.setCalendar(JCalendar.getCalendar());\r\n \r\n}                                        \r\n```\r\n\r\nUntil then ok. Getting that way\r\n\r\n[My project][1]\r\n\r\n  [1]: https://i.stack.imgur.com/PWGBk.png\r\n\r\nThrough another method I want to enable the Jcalendar buttons again, I tried to use `removeDateEvaluator()`.\r\n\r\nI tried as follows:\r\n\r\n```java\r\nprivate void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n\r\n    List&lt;DayOfWeek&gt; invalidDays = Arrays.asList(DayOfWeek.MONDAY, DayOfWeek.FRIDAY);\r\n    JCalendar.getDayChooser().removeDateEvaluator(new DayOfWeekEvaluator(invalidDays));\r\n    JCalendar.setCalendar(JCalendar.getCalendar());\r\n \r\n    }  \r\n``` \r\n                                      \r\nBut without success.\r\n\r\nThe `DayOfWeekEvaluator` class I got from the forum is below:\r\n\r\n```java\r\npublic class DayOfWeekEvaluator implements IDateEvaluator {\r\n\r\n    private final List&lt;DayOfWeek&gt; validDaysOfWeek;\r\n\r\n    public DayOfWeekEvaluator(List&lt;DayOfWeek&gt; validDaysOfWeek) {\r\n        this.validDaysOfWeek = validDaysOfWeek;\r\n    }\r\n\r\n    private DayOfWeek determineDayOfWeek(Date date) {\r\n        Calendar c = Calendar.getInstance();\r\n        c.setTime(date);\r\n        int dayOfWeek = c.get(Calendar.DAY_OF_WEEK);\r\n        return DayOfWeek.of(convertSundayFirstToMondayFirst(dayOfWeek));\r\n    }\r\n\r\n    private int convertSundayFirstToMondayFirst(int sundayFirstValue) {\r\n        // Converts from weeks that are Sunday-Saturday (1-7)\r\n        // to weeks that are Monday-Sunday (1-7)\r\n        if (sundayFirstValue == 1) {\r\n            return 7;\r\n        }\r\n        return sundayFirstValue - 1;\r\n    }\r\n\r\n}\r\n```","title":"How to enable JCalendar buttons after using the addDateEvaluator() method in NetBens?","body":"<p>My problem is this. I have a JCalendar in which I disable the days I want through this method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void jButtonActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n    List&lt;DayOfWeek&gt; invalidDays = Arrays.asList(DayOfWeek.MONDAY, DayOfWeek.FRIDAY);\n    JCalendar.getDayChooser().addDateEvaluator(new DayOfWeekEvaluator(invalidDays));\n    JCalendar.setCalendar(JCalendar.getCalendar());\n \n}                                        \n</code></pre>\n<p>Until then ok. Getting that way</p>\n<p><a href=\"https://i.stack.imgur.com/PWGBk.png\" rel=\"nofollow noreferrer\">My project</a></p>\n<p>Through another method I want to enable the Jcalendar buttons again, I tried to use <code>removeDateEvaluator()</code>.</p>\n<p>I tried as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n    List&lt;DayOfWeek&gt; invalidDays = Arrays.asList(DayOfWeek.MONDAY, DayOfWeek.FRIDAY);\n    JCalendar.getDayChooser().removeDateEvaluator(new DayOfWeekEvaluator(invalidDays));\n    JCalendar.setCalendar(JCalendar.getCalendar());\n \n    }  \n</code></pre>\n<p>But without success.</p>\n<p>The <code>DayOfWeekEvaluator</code> class I got from the forum is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DayOfWeekEvaluator implements IDateEvaluator {\n\n    private final List&lt;DayOfWeek&gt; validDaysOfWeek;\n\n    public DayOfWeekEvaluator(List&lt;DayOfWeek&gt; validDaysOfWeek) {\n        this.validDaysOfWeek = validDaysOfWeek;\n    }\n\n    private DayOfWeek determineDayOfWeek(Date date) {\n        Calendar c = Calendar.getInstance();\n        c.setTime(date);\n        int dayOfWeek = c.get(Calendar.DAY_OF_WEEK);\n        return DayOfWeek.of(convertSundayFirstToMondayFirst(dayOfWeek));\n    }\n\n    private int convertSundayFirstToMondayFirst(int sundayFirstValue) {\n        // Converts from weeks that are Sunday-Saturday (1-7)\n        // to weeks that are Monday-Sunday (1-7)\n        if (sundayFirstValue == 1) {\n            return 7;\n        }\n        return sundayFirstValue - 1;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","snowflake-cloud-data-platform"],"answers":[{"tags":[],"owner":{"account_id":9721291,"reputation":2494,"user_id":12480431,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636371423,"creation_date":1636371423,"answer_id":69882858,"question_id":69882707,"body_markdown":"You have to use the OVERWRITE-parameter and put it to true within the COPY-command.\r\n\r\nDocs: https://docs.snowflake.com/en/sql-reference/sql/copy-into-location.html#copy-options-copyoptions\r\n\r\nSo the statement is..\r\n\r\n    COPY INTO ...\r\n    file_format = CSV_TEST\r\n    OVERWRITE=TRUE;\r\n\r\n ","title":"Files already existing at the unload destination: s3://snowflake. Use overwrite option to force unloading. - Java, SpringBoot","body":"<p>You have to use the OVERWRITE-parameter and put it to true within the COPY-command.</p>\n<p>Docs: <a href=\"https://docs.snowflake.com/en/sql-reference/sql/copy-into-location.html#copy-options-copyoptions\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/sql-reference/sql/copy-into-location.html#copy-options-copyoptions</a></p>\n<p>So the statement is..</p>\n<pre><code>COPY INTO ...\nfile_format = CSV_TEST\nOVERWRITE=TRUE;\n</code></pre>\n"}],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1180,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69882858,"answer_count":1,"score":2,"last_activity_date":1636371423,"creation_date":1636370679,"question_id":69882707,"body_markdown":"I am using SpringBoot and Java to copy data from tables in `Snowflake` to `S3 bucket`.\r\n\r\nI am using this code:\r\n\r\n    &quot;COPY INTO s3://snowflake/&quot;+ userId +&quot; from \\&quot;TEST\\&quot;.\\&quot;PUBLIC\\&quot;.\\&quot;USER_TABLE_TEMP\\&quot; storage_integration = s3_int file_format = CSV_TEST;&quot;;\r\n\r\nAnd it works. I am puting userId as prefix to file.\r\n\r\nWhat it doesn&#39;t work is when I try to copy data for the same user, for a user that `.csv` file already exists on bucket.\r\n\r\nWhen I try to do it, I am getting this error:\r\n\r\n```\r\nFiles already existing at the unload destination: s3://snowflake/1. Use overwrite option to force unloading.\r\n```\r\n\r\nHow can I make this work so that the new file overwrites the old one?","title":"Files already existing at the unload destination: s3://snowflake. Use overwrite option to force unloading. - Java, SpringBoot","body":"<p>I am using SpringBoot and Java to copy data from tables in <code>Snowflake</code> to <code>S3 bucket</code>.</p>\n<p>I am using this code:</p>\n<pre><code>&quot;COPY INTO s3://snowflake/&quot;+ userId +&quot; from \\&quot;TEST\\&quot;.\\&quot;PUBLIC\\&quot;.\\&quot;USER_TABLE_TEMP\\&quot; storage_integration = s3_int file_format = CSV_TEST;&quot;;\n</code></pre>\n<p>And it works. I am puting userId as prefix to file.</p>\n<p>What it doesn't work is when I try to copy data for the same user, for a user that <code>.csv</code> file already exists on bucket.</p>\n<p>When I try to do it, I am getting this error:</p>\n<pre><code>Files already existing at the unload destination: s3://snowflake/1. Use overwrite option to force unloading.\n</code></pre>\n<p>How can I make this work so that the new file overwrites the old one?</p>\n"},{"tags":["java","android","mobile-application"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636358195,"creation_date":1636358195,"answer_id":69880194,"question_id":69879609,"body_markdown":"### Fetching Instagram followers via Jsoup is a terrible idea!\r\n\r\nJSoup is a (very) good HTML parser. But...\r\n\r\nWhat happens when Instagram decides to change its HTML Structure and they change the names/ids or whatever else you are using to fetch data?\r\n\r\nThen you have to research again, change the code, and that still wouldn&#39;t be long spanned since they may change it again!\r\n\r\nCheck [this question][1] and the proposed solutions to find another way. Unfortunately, Insta has no API (at least at the moment).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32407851/instagram-api-how-can-i-retrieve-the-list-of-people-a-user-is-following-on-ins","title":"How to fetch Instagram followers via Jsoup (Android)","body":"<h3>Fetching Instagram followers via Jsoup is a terrible idea!</h3>\n<p>JSoup is a (very) good HTML parser. But...</p>\n<p>What happens when Instagram decides to change its HTML Structure and they change the names/ids or whatever else you are using to fetch data?</p>\n<p>Then you have to research again, change the code, and that still wouldn't be long spanned since they may change it again!</p>\n<p>Check <a href=\"https://stackoverflow.com/questions/32407851/instagram-api-how-can-i-retrieve-the-list-of-people-a-user-is-following-on-ins\">this question</a> and the proposed solutions to find another way. Unfortunately, Insta has no API (at least at the moment).</p>\n"}],"owner":{"account_id":22517343,"reputation":45,"user_id":16711389,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636371140,"creation_date":1636354551,"question_id":69879609,"body_markdown":"I need to fetch Instagram followers of a particular user via Jsoup.\r\n\r\n[Image Link][1]\r\n\r\nSo far I&#39;m here, I found this code but it doesn&#39;t work\r\n\r\n        private void getInstaFollowers() {\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                final StringBuilder builder = new StringBuilder();\r\n                String web_link = &quot;https://www.instagram.com/zuck/&quot;;\r\n                try {\r\n                    Document doc = Jsoup.connect(web_link).get();\r\n                    String title = doc.getElementsByTag(&quot;parse&quot;).attr(&quot;title&quot;);\r\n                    Elements links = doc.select(&quot;-nal3&quot;);\r\n\r\n                    builder.append(title).append(&quot;\\n&quot;);\r\n                    for (Element link : links) {\r\n                        builder.append(link);\r\n                    }\r\n\r\n                } catch (IOException e) {\r\n                    builder.append(&quot;Error : &quot;).append(e.getMessage()).append(&quot;\\n&quot;);\r\n                }\r\n\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Toast.makeText(mContext, builder.toString(), Toast.LENGTH_LONG).show();\r\n                    }\r\n                });\r\n            }\r\n        }).start();\r\n    }\r\n\r\nAny help will be appreciated :)\r\n\r\n  [1]: https://i.stack.imgur.com/911nv.jpg","title":"How to fetch Instagram followers via Jsoup (Android)","body":"<p>I need to fetch Instagram followers of a particular user via Jsoup.</p>\n<p><a href=\"https://i.stack.imgur.com/911nv.jpg\" rel=\"nofollow noreferrer\">Image Link</a></p>\n<p>So far I'm here, I found this code but it doesn't work</p>\n<pre><code>    private void getInstaFollowers() {\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            final StringBuilder builder = new StringBuilder();\n            String web_link = &quot;https://www.instagram.com/zuck/&quot;;\n            try {\n                Document doc = Jsoup.connect(web_link).get();\n                String title = doc.getElementsByTag(&quot;parse&quot;).attr(&quot;title&quot;);\n                Elements links = doc.select(&quot;-nal3&quot;);\n\n                builder.append(title).append(&quot;\\n&quot;);\n                for (Element link : links) {\n                    builder.append(link);\n                }\n\n            } catch (IOException e) {\n                builder.append(&quot;Error : &quot;).append(e.getMessage()).append(&quot;\\n&quot;);\n            }\n\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    Toast.makeText(mContext, builder.toString(), Toast.LENGTH_LONG).show();\n                }\n            });\n        }\n    }).start();\n}\n</code></pre>\n<p>Any help will be appreciated :)</p>\n"},{"tags":["java","android","android-mediaplayer"],"answers":[{"tags":[],"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636370784,"creation_date":1636370784,"answer_id":69882732,"question_id":69882023,"body_markdown":"If you have multiple activities while user is running the application, use `LifecycleObserver` to observe the state change in application class.\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:2.4.0&quot;\r\n\r\nApplication Class\r\n\r\n    public class MyApplication extends Application implements LifecycleObserver {\r\n    \r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n    \r\n        ProcessLifecycleOwner.get().getLifecycle().addObserver(this);\r\n    }\r\n    \r\n    // Application level lifecycle events\r\n    \r\n    @OnLifecycleEvent(Lifecycle.Event.ON_START)\r\n    public void onEnteredForeground() {\r\n        //Log.d(TAG,&quot;Application did enter foreground&quot;);\r\n    }\r\n    \r\n    @OnLifecycleEvent(Lifecycle.Event.ON_STOP)\r\n    public void onEnteredBackground() {\r\n       // Log.d(TAG,&quot;Application did enter background&quot;);\r\n    }\r\n    \r\n    }\r\n\r\nFor more info refer to - [Handling lifecycle with Lifecycle Observers](https://developer.android.com/topic/libraries/architecture/lifecycle?authuser=1)\r\n","title":"How I should know that the app is in not running?","body":"<p>If you have multiple activities while user is running the application, use <code>LifecycleObserver</code> to observe the state change in application class.</p>\n<pre><code>implementation &quot;androidx.lifecycle:lifecycle-extensions:2.4.0&quot;\n</code></pre>\n<p>Application Class</p>\n<pre><code>public class MyApplication extends Application implements LifecycleObserver {\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n\n    ProcessLifecycleOwner.get().getLifecycle().addObserver(this);\n}\n\n// Application level lifecycle events\n\n@OnLifecycleEvent(Lifecycle.Event.ON_START)\npublic void onEnteredForeground() {\n    //Log.d(TAG,&quot;Application did enter foreground&quot;);\n}\n\n@OnLifecycleEvent(Lifecycle.Event.ON_STOP)\npublic void onEnteredBackground() {\n   // Log.d(TAG,&quot;Application did enter background&quot;);\n}\n\n}\n</code></pre>\n<p>For more info refer to - <a href=\"https://developer.android.com/topic/libraries/architecture/lifecycle?authuser=1\" rel=\"nofollow noreferrer\">Handling lifecycle with Lifecycle Observers</a></p>\n"},{"tags":[],"owner":{"account_id":23037589,"reputation":324,"user_id":17156150,"display_name":"MiniDev99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636370915,"creation_date":1636370915,"answer_id":69882760,"question_id":69882023,"body_markdown":"use onPause() then make it stop playing music, after that onResume or onStart to play the music if user is back to app\r\n","title":"How I should know that the app is in not running?","body":"<p>use onPause() then make it stop playing music, after that onResume or onStart to play the music if user is back to app</p>\n"}],"owner":{"account_id":14291547,"reputation":926,"user_id":10323334,"display_name":"Ali Tamoor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636370915,"creation_date":1636367413,"question_id":69882023,"body_markdown":"I have an android app that starts playing music right after the splash screen all the time while the user interacts with the app, using a singleton class for `MediaPlayer`, which is working perfectly, but I want to stop the music when the app exits or user switched to the other app, unfortunately which is not working properly, and I have to kill the app from the recent task to stop the music","title":"How I should know that the app is in not running?","body":"<p>I have an android app that starts playing music right after the splash screen all the time while the user interacts with the app, using a singleton class for <code>MediaPlayer</code>, which is working perfectly, but I want to stop the music when the app exits or user switched to the other app, unfortunately which is not working properly, and I have to kill the app from the recent task to stop the music</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1636370809,"post_id":69882559,"comment_id":123529836,"body_markdown":"`Sample this` is not a *real* parameter, it&#39;s a *receiver parameter* which is pointless (i.e. effectively ignored) when used like this. It exists only to allow annotations on the type, if desired and has no other effect.","body":"<code>Sample this</code> is not a <i>real</i> parameter, it&#39;s a <i>receiver parameter</i> which is pointless (i.e. effectively ignored) when used like this. It exists only to allow annotations on the type, if desired and has no other effect."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636370899,"creation_date":1636370522,"answer_id":69882669,"question_id":69882559,"body_markdown":"`s.display(s, 10);` doesn&#39;t compile because the compiler internally passes the `this` reference to `s` as well, that&#39;s why `s.display(10)` works - the compiler makes it to be similar to `Sample.display(s, 10)` while `s.display(s, 10)` would be more like `Sample.display(s, s, 10)`.\r\n\r\nThink of instance methods as being static methods which implicitly get the `this` formal parameter. Now try adding another method like `static void display(Sample that, int x)`. Which one should be called when you&#39;re calling `s.display(s, 10)`? You might assume it&#39;s the instance method that takes `this` but it&#39;s actually the static method that&#39;s called (albeit the compiler would warn about a static method being accessed in a non-static way).\r\n\r\nAdditionally, what would happen if you were allowed to call `display(Sample this, int x)` as `s.display(s, 10)`? You could as well call `s.display(new Sample(), 10)` and now you&#39;d have a conflict since `this` wouldn&#39;t refer to `s` anymore. That&#39;s why this is not allowed.","title":"Not able to pass reference variable of an object in actual argument in the case of using this as formal argument","body":"<p><code>s.display(s, 10);</code> doesn't compile because the compiler internally passes the <code>this</code> reference to <code>s</code> as well, that's why <code>s.display(10)</code> works - the compiler makes it to be similar to <code>Sample.display(s, 10)</code> while <code>s.display(s, 10)</code> would be more like <code>Sample.display(s, s, 10)</code>.</p>\n<p>Think of instance methods as being static methods which implicitly get the <code>this</code> formal parameter. Now try adding another method like <code>static void display(Sample that, int x)</code>. Which one should be called when you're calling <code>s.display(s, 10)</code>? You might assume it's the instance method that takes <code>this</code> but it's actually the static method that's called (albeit the compiler would warn about a static method being accessed in a non-static way).</p>\n<p>Additionally, what would happen if you were allowed to call <code>display(Sample this, int x)</code> as <code>s.display(s, 10)</code>? You could as well call <code>s.display(new Sample(), 10)</code> and now you'd have a conflict since <code>this</code> wouldn't refer to <code>s</code> anymore. That's why this is not allowed.</p>\n"}],"owner":{"account_id":19778685,"reputation":169,"user_id":14484121,"display_name":"Akshaya Amar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1636370676,"accepted_answer_id":69882669,"answer_count":1,"score":1,"last_activity_date":1636370899,"creation_date":1636369986,"question_id":69882559,"body_markdown":"Here is the following code:\r\n\r\n    class Sample{\r\n    \r\n      private void display(Sample this, int x){\r\n        System.out.println(x);\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        Sample s = new Sample();\r\n        s.display(10);\r\n      }\r\n    }\r\n\r\nThe above code is working fine if I do not pass reference variable of Sample class as an actual argument i.e. `s.display(10)`.\r\n\r\nI am aware of the fact that from `JDK 8` onwards we are allowed to pass this as parameter(formal arguments) and that too as the first argument and compiler internally inserts `Sample this` as first argument as parameter(or formal argument) i.e. `private void display(Sample this.....` if I do not write `Sample this` as pararemeter (formal argument) explicitly.\r\n\r\nBut if I try to pass reference variable as argument(actual argument) i.e. `s.display(s, 10)`, then the code doesn&#39;t compile even when both the actual and formal arguments are same.\r\neg: \r\n\r\n    class Sample{\r\n    \r\n      private void display(Sample this, int x){\r\n        System.out.println(x);\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        Sample s = new Sample();\r\n        s.display(s, 10);\r\n      }\r\n    }\r\n\r\n\r\nWhat&#39;s the reason behind of not compiling the above code?\r\n\r\n","title":"Not able to pass reference variable of an object in actual argument in the case of using this as formal argument","body":"<p>Here is the following code:</p>\n<pre><code>class Sample{\n\n  private void display(Sample this, int x){\n    System.out.println(x);\n  }\n\n  public static void main(String[] args) {\n    Sample s = new Sample();\n    s.display(10);\n  }\n}\n</code></pre>\n<p>The above code is working fine if I do not pass reference variable of Sample class as an actual argument i.e. <code>s.display(10)</code>.</p>\n<p>I am aware of the fact that from <code>JDK 8</code> onwards we are allowed to pass this as parameter(formal arguments) and that too as the first argument and compiler internally inserts <code>Sample this</code> as first argument as parameter(or formal argument) i.e. <code>private void display(Sample this.....</code> if I do not write <code>Sample this</code> as pararemeter (formal argument) explicitly.</p>\n<p>But if I try to pass reference variable as argument(actual argument) i.e. <code>s.display(s, 10)</code>, then the code doesn't compile even when both the actual and formal arguments are same.\neg:</p>\n<pre><code>class Sample{\n\n  private void display(Sample this, int x){\n    System.out.println(x);\n  }\n\n  public static void main(String[] args) {\n    Sample s = new Sample();\n    s.display(s, 10);\n  }\n}\n</code></pre>\n<p>What's the reason behind of not compiling the above code?</p>\n"},{"tags":["java","arrays","huffman-code"],"comments":[{"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"score":0,"creation_date":1636366985,"post_id":69881877,"comment_id":123528429,"body_markdown":"Well you need to show us your code if you are expecting any help here.","body":"Well you need to show us your code if you are expecting any help here."},{"owner":{"account_id":21495636,"reputation":97,"user_id":15840697,"display_name":"Kristina"},"score":0,"creation_date":1636367198,"post_id":69881877,"comment_id":123528514,"body_markdown":"I&#39;m sorry. Wanted to avoid it because it&#39;s school work, but I realize that I&#39;ll have to for you to be able to help. I&#39;m on it!","body":"I&#39;m sorry. Wanted to avoid it because it&#39;s school work, but I realize that I&#39;ll have to for you to be able to help. I&#39;m on it!"},{"owner":{"account_id":21495636,"reputation":97,"user_id":15840697,"display_name":"Kristina"},"score":0,"creation_date":1636367609,"post_id":69881877,"comment_id":123528654,"body_markdown":"Hey! I&#39;ve added code. Can I have it reopened?","body":"Hey! I&#39;ve added code. Can I have it reopened?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1636369567,"post_id":69881877,"comment_id":123529409,"body_markdown":"You need to use a `java.io.OutputStream` (`FileOutputStream`/`BufferedOutputStream`) since you are outputting bytes at a time, not characters at a time.","body":"You need to use a <code>java.io.OutputStream</code> (<code>FileOutputStream</code>/<code>BufferedOutputStream</code>) since you are outputting bytes at a time, not characters at a time."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636370849,"creation_date":1636369527,"answer_id":69882476,"question_id":69881877,"body_markdown":"Your read using an `InputStream` and write using a `Writer`. The first one is for reading binary data the second one is for writing text. You are doing an implicit conversion when you call `bufferedWriter.write(node.getAByte())`.\r\n\r\nIn other words, you&#39;re interpreting the binary data as ISO-8859-1, because you&#39;re basically casting a byte to a `char` (technically an `int` for ... weird reasons). Then you&#39;re writing it back with whatever the platform default encoding is.\r\n\r\nThis will mess up your text, unless it *happens to be* ISO-8859-1 encoded and the platform default encoding is the same.\r\n\r\nA better approach would be to simply treat it as binary data throughout (it&#39;s fine if it&#39;s really text, as long as you don&#39;t care about *interpreting* the text in your code, which you don&#39;t seem to do). Since Huffman coding acts on byte streams, that also more closely matches what you&#39;re doing with the data.\r\n\r\nTo do so replace the `Writer` with an `OutputStream` (i.e. a `FileOutputStream`, possibly wrapped in a `BufferedOutputStream` for performance reasons).\r\n","title":"Huffman: Can&#39;t decompress characters like &#39;&#230;&#39;, &#39;&#248;&#39;, &#39;&#229;&#39; and &#39;•&#39;","body":"<p>Your read using an <code>InputStream</code> and write using a <code>Writer</code>. The first one is for reading binary data the second one is for writing text. You are doing an implicit conversion when you call <code>bufferedWriter.write(node.getAByte())</code>.</p>\n<p>In other words, you're interpreting the binary data as ISO-8859-1, because you're basically casting a byte to a <code>char</code> (technically an <code>int</code> for ... weird reasons). Then you're writing it back with whatever the platform default encoding is.</p>\n<p>This will mess up your text, unless it <em>happens to be</em> ISO-8859-1 encoded and the platform default encoding is the same.</p>\n<p>A better approach would be to simply treat it as binary data throughout (it's fine if it's really text, as long as you don't care about <em>interpreting</em> the text in your code, which you don't seem to do). Since Huffman coding acts on byte streams, that also more closely matches what you're doing with the data.</p>\n<p>To do so replace the <code>Writer</code> with an <code>OutputStream</code> (i.e. a <code>FileOutputStream</code>, possibly wrapped in a <code>BufferedOutputStream</code> for performance reasons).</p>\n"}],"owner":{"account_id":21495636,"reputation":97,"user_id":15840697,"display_name":"Kristina"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69882476,"answer_count":1,"score":1,"last_activity_date":1636370849,"creation_date":1636366765,"question_id":69881877,"body_markdown":"I&#39;m working on my Huffman compression (or decompression rather at this point), and I can&#39;t get characters like &#39;&#230;&#39;, &#39;&#248;&#39;, &#39;&#229;&#39; and &#39;•&#39; to be decompressed correctly. The character &#39;&#230;&#39; is decompressed to two symbols &#39;ￃﾦ&#39;. Any idea of what should be doing?\r\n\r\n**EDIT:** I think it might have to do with the BufferedWriter and the InputStream (and the others). I probably need to read and write in UTF-8 or something? How do I do that?\r\n\r\n**EDIT 2:**: With the help of some helplines I&#39;ve found that &#39;ￃ&#39; and &#39;ﾦ&#39; is written as individual characters to the file. Is &#39;&#248;&#39; greater that 1 byte, and maybe I&#39;ve assumed that every character is 1 byte somewhere?\r\n\r\n    public static void decompressFile() throws IOException {\r\n\r\n        \r\n        byte[] compressedBytes = //somecode\r\n        int[] frequencyTable = //somecode\r\n\r\n        HuffmanNode root = //some code\r\n\r\n        //Generating code table\r\n        String[] codeTable = new String[256];\r\n        Huffman.getCodeTable(codeTable, root, &quot;&quot;);\r\n\r\n        DataInputStream inputStream = new DataInputStream(new BufferedInputStream(new FileInputStream(&quot;[//thecompressedfile]&quot;\r\n        BitInputStream bitInputStream = new BitInputStream(inputStream, compressedBytes.length);\r\n\r\n        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(newFileName));\r\n\r\n\r\n        HuffmanNode node = root;\r\n        int bit;\r\n\r\n\r\n        while ((bit = bitInputStream.readBit()) != -1) {\r\n            //int bit = bitInputStream.readBit();\r\n            System.out.print(bit + &quot;&quot;);\r\n\r\n            if (bit == 0) {\r\n                node = node.getLeft();\r\n                if (node.isLeaf()) {\r\n                    bufferedWriter.write(node.getAByte());\r\n                    node = root;\r\n                }\r\n            } else if (bit == 1) {\r\n                node = node.getRight();\r\n                if (node.isLeaf()) {\r\n                    bufferedWriter.write(node.getAByte());\r\n                    node = root;\r\n                }\r\n            }\r\n        }\r\n\r\n        bufferedWriter.close();\r\n    }\r\n\r\n\r\n ","title":"Huffman: Can&#39;t decompress characters like &#39;&#230;&#39;, &#39;&#248;&#39;, &#39;&#229;&#39; and &#39;•&#39;","body":"<p>I'm working on my Huffman compression (or decompression rather at this point), and I can't get characters like 'æ', 'ø', 'å' and '•' to be decompressed correctly. The character 'æ' is decompressed to two symbols 'ￃﾦ'. Any idea of what should be doing?</p>\n<p><strong>EDIT:</strong> I think it might have to do with the BufferedWriter and the InputStream (and the others). I probably need to read and write in UTF-8 or something? How do I do that?</p>\n<p><strong>EDIT 2:</strong>: With the help of some helplines I've found that 'ￃ' and 'ﾦ' is written as individual characters to the file. Is 'ø' greater that 1 byte, and maybe I've assumed that every character is 1 byte somewhere?</p>\n<pre><code>public static void decompressFile() throws IOException {\n\n    \n    byte[] compressedBytes = //somecode\n    int[] frequencyTable = //somecode\n\n    HuffmanNode root = //some code\n\n    //Generating code table\n    String[] codeTable = new String[256];\n    Huffman.getCodeTable(codeTable, root, &quot;&quot;);\n\n    DataInputStream inputStream = new DataInputStream(new BufferedInputStream(new FileInputStream(&quot;[//thecompressedfile]&quot;\n    BitInputStream bitInputStream = new BitInputStream(inputStream, compressedBytes.length);\n\n    BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(newFileName));\n\n\n    HuffmanNode node = root;\n    int bit;\n\n\n    while ((bit = bitInputStream.readBit()) != -1) {\n        //int bit = bitInputStream.readBit();\n        System.out.print(bit + &quot;&quot;);\n\n        if (bit == 0) {\n            node = node.getLeft();\n            if (node.isLeaf()) {\n                bufferedWriter.write(node.getAByte());\n                node = root;\n            }\n        } else if (bit == 1) {\n            node = node.getRight();\n            if (node.isLeaf()) {\n                bufferedWriter.write(node.getAByte());\n                node = root;\n            }\n        }\n    }\n\n    bufferedWriter.close();\n}\n</code></pre>\n"},{"tags":["java","parameters","java-8","this"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1403110594,"post_id":24291091,"comment_id":37536039,"body_markdown":"Just found it in http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1. It&#39;s unclear what the OP needs more than the JLS says though... any answer is likely to just reword that.","body":"Just found it in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4&zwnj;&#8203;.1</a>. It&#39;s unclear what the OP needs more than the JLS says though... any answer is likely to just reword that."},{"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"score":0,"creation_date":1403110670,"post_id":24291091,"comment_id":37536091,"body_markdown":"[From JLS](http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1), is it a formal parameter? Or I&#39;m misunderstanding it?","body":"<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\" rel=\"nofollow noreferrer\">From JLS</a>, is it a formal parameter? Or I&#39;m misunderstanding it?"},{"owner":{"account_id":49618,"reputation":2174,"user_id":147808,"accept_rate":100,"display_name":"olovb"},"score":3,"creation_date":1429936126,"post_id":24291091,"comment_id":47847839,"body_markdown":"I&#39;d say the question is pretty clear.","body":"I&#39;d say the question is pretty clear."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1403112446,"creation_date":1403112023,"answer_id":24291558,"question_id":24291091,"body_markdown":"The JLS gives [a hint][1]:\r\n\r\n&gt; Either way, the receiver parameter exists solely to allow the type of the represented object to be denoted in source code, so that the type may be annotated.\r\n\r\nThese two methods are equivalent:\r\n\r\n    class Test {\r\n        void m1() { }\r\n        void m2(Test this) { }\r\n    }\r\n\r\nHowever the latter allows you to add annotations:\r\n\r\n    void m2(@MyAnnotation Test this) { }\r\n    //where MyAnnotation can be defined like this for example:\r\n    @Target(ElementType.TYPE_USE) @interface MyAnnotation {}\r\n\r\n [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1-220","title":"Why can we use &#39;this&#39; as an instance method parameter?","body":"<p>The JLS gives <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1-220\">a hint</a>:</p>\n\n<blockquote>\n  <p>Either way, the receiver parameter exists solely to allow the type of the represented object to be denoted in source code, so that the type may be annotated.</p>\n</blockquote>\n\n<p>These two methods are equivalent:</p>\n\n<pre><code>class Test {\n    void m1() { }\n    void m2(Test this) { }\n}\n</code></pre>\n\n<p>However the latter allows you to add annotations:</p>\n\n<pre><code>void m2(@MyAnnotation Test this) { }\n//where MyAnnotation can be defined like this for example:\n@Target(ElementType.TYPE_USE) @interface MyAnnotation {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211731,"reputation":3690,"user_id":2711596,"display_name":"Debasis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1485034758,"creation_date":1403112156,"answer_id":24291586,"question_id":24291091,"body_markdown":"Receiver parameters allow to pass arguments and extract additional information from these arguments. The only purpose of writing the receiver explicitly is to make it possible to annotate the receiver’s type. Now, if you implement the [AnnotatedElement][1] interface, you could call the getAnnotation() method of your class to get an annotation type. \r\nFor more information, you can read [this][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html#getAnnotation-java.lang.Class-\r\n  [2]: https://checkerframework.org/jsr308/specification/java-annotation-design.html","title":"Why can we use &#39;this&#39; as an instance method parameter?","body":"<p>Receiver parameters allow to pass arguments and extract additional information from these arguments. The only purpose of writing the receiver explicitly is to make it possible to annotate the receiver’s type. Now, if you implement the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html#getAnnotation-java.lang.Class-\" rel=\"noreferrer\">AnnotatedElement</a> interface, you could call the getAnnotation() method of your class to get an annotation type. \nFor more information, you can read <a href=\"https://checkerframework.org/jsr308/specification/java-annotation-design.html\" rel=\"noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4571,"favorite_count":0,"down_vote_count":2,"up_vote_count":30,"accepted_answer_id":24291558,"answer_count":2,"score":28,"last_activity_date":1636370780,"creation_date":1403110250,"question_id":24291091,"body_markdown":"What is a *receiver parameter* in Java ? Java 8 Language Specification talks about `this`. ","title":"Why can we use &#39;this&#39; as an instance method parameter?","body":"<p>What is a <em>receiver parameter</em> in Java ? Java 8 Language Specification talks about <code>this</code>.</p>\n"},{"tags":["java","spring","spring-cloud"],"comments":[{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":0,"creation_date":1634885344,"post_id":69671902,"comment_id":123151189,"body_markdown":"looks like your spring boot app is trying to verify the hostname in the keycloak ssl certificate and failing.  You could try disabling hostname verification using something like `HttpsURLConnection.setDefaultHostnameVerifier(new rg.apache.http.conn.ssl.NoopHostnameVerifier());` in a `@Configuration` class.","body":"looks like your spring boot app is trying to verify the hostname in the keycloak ssl certificate and failing.  You could try disabling hostname verification using something like <code>HttpsURLConnection.setDefaultHostnameVerifier(new rg.apache.http.conn.ssl.NoopHostnameVerifier());</code> in a <code>@Configuration</code> class."},{"owner":{"account_id":14750306,"reputation":21,"user_id":15223465,"display_name":"Владислав Винокуров"},"score":0,"creation_date":1635169674,"post_id":69671902,"comment_id":123216779,"body_markdown":"@httPants it&#39;s doesn&#39;t work for me :( I try\nHostnameVerifier allHostsValid = new HostnameVerifier() {\n                public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            };\n\n          \n            HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\nBut anyway get error","body":"@httPants it&#39;s doesn&#39;t work for me :( I try HostnameVerifier allHostsValid = new HostnameVerifier() {                 public boolean verify(String hostname, SSLSession session) {                     return true;                 }             };                         HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid)&zwnj;&#8203;; But anyway get error"}],"answers":[{"tags":[],"owner":{"account_id":14750306,"reputation":21,"user_id":15223465,"display_name":"Владислав Винокуров"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636370665,"creation_date":1636370665,"answer_id":69882702,"question_id":69671902,"body_markdown":"Ok,i forgot about this problem but i have simple solution now. Look like a dev solution only.\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    @ConditionalOnProperty(&quot;spring.security.oauth2.resourceserver.jwt.jwk-set-uri&quot;)\r\n    public class SslResolverConfig {\r\n    \r\n      @Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\r\n      private String issuerUri;\r\n    \r\n      @Bean\r\n      public ReactiveJwtDecoder reactiveJwtDecoder() {\r\n        log.debug(&quot;ISSUE uri {}&quot;, issuerUri);\r\n        var jvmBlockingResolver = createHttpClient();\r\n        var connector = new ReactorClientHttpConnector(jvmBlockingResolver);\r\n        var webClient = WebClient\r\n            .builder()\r\n            .clientConnector(connector)\r\n            .build();\r\n        return NimbusReactiveJwtDecoder\r\n            .withJwkSetUri(issuerUri)\r\n            .webClient(webClient)\r\n            .build();\r\n      }\r\n    \r\n      @SneakyThrows\r\n      public HttpClient createHttpClient() {\r\n        TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n          public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n            return null;\r\n          }\r\n    \r\n          public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n          }\r\n    \r\n          public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n          }\r\n        }\r\n        };\r\n    \r\n        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n    \r\n        SslContext sslContext = SslContextBuilder\r\n            .forClient()\r\n            .trustManager(InsecureTrustManagerFactory.INSTANCE)\r\n            .build();\r\n        return HttpClient.create()\r\n            .secure(t -&gt; t.sslContext(sslContext))\r\n            .wiretap(&quot;LoggingFilter&quot;, LogLevel.INFO, AdvancedByteBufFormat.TEXTUAL);\r\n      }\r\n    }\r\n\r\n","title":"Spring cloud gateway resource server: No subject alternative names present","body":"<p>Ok,i forgot about this problem but i have simple solution now. Look like a dev solution only.</p>\n<pre><code>@Configuration\n@Slf4j\n@ConditionalOnProperty(&quot;spring.security.oauth2.resourceserver.jwt.jwk-set-uri&quot;)\npublic class SslResolverConfig {\n\n  @Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\n  private String issuerUri;\n\n  @Bean\n  public ReactiveJwtDecoder reactiveJwtDecoder() {\n    log.debug(&quot;ISSUE uri {}&quot;, issuerUri);\n    var jvmBlockingResolver = createHttpClient();\n    var connector = new ReactorClientHttpConnector(jvmBlockingResolver);\n    var webClient = WebClient\n        .builder()\n        .clientConnector(connector)\n        .build();\n    return NimbusReactiveJwtDecoder\n        .withJwkSetUri(issuerUri)\n        .webClient(webClient)\n        .build();\n  }\n\n  @SneakyThrows\n  public HttpClient createHttpClient() {\n    TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\n      public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n        return null;\n      }\n\n      public void checkClientTrusted(X509Certificate[] certs, String authType) {\n      }\n\n      public void checkServerTrusted(X509Certificate[] certs, String authType) {\n      }\n    }\n    };\n\n    SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n    sc.init(null, trustAllCerts, new java.security.SecureRandom());\n    HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n    SslContext sslContext = SslContextBuilder\n        .forClient()\n        .trustManager(InsecureTrustManagerFactory.INSTANCE)\n        .build();\n    return HttpClient.create()\n        .secure(t -&gt; t.sslContext(sslContext))\n        .wiretap(&quot;LoggingFilter&quot;, LogLevel.INFO, AdvancedByteBufFormat.TEXTUAL);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14750306,"reputation":21,"user_id":15223465,"display_name":"Владислав Винокуров"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636370665,"creation_date":1634881184,"question_id":69671902,"body_markdown":"Our spring cloud gateway is configured as a resource server for token validation in keycloak and access control, our keycloak instance is running on https (for ldap connection), and when I try to send request to the gateway with the token, I get the error:\r\n`Caused by: javax.net.ssl.SSLHandshakeException: No subject alternative names&#39;.\r\n\r\nWhat options do I have to disable certificate and subject alternative names checking during development for keycloak authentication? Thanks for any recommendations.","title":"Spring cloud gateway resource server: No subject alternative names present","body":"<p>Our spring cloud gateway is configured as a resource server for token validation in keycloak and access control, our keycloak instance is running on https (for ldap connection), and when I try to send request to the gateway with the token, I get the error:\n`Caused by: javax.net.ssl.SSLHandshakeException: No subject alternative names'.</p>\n<p>What options do I have to disable certificate and subject alternative names checking during development for keycloak authentication? Thanks for any recommendations.</p>\n"},{"tags":["java","service","jvm"],"owner":{"account_id":10594237,"reputation":21,"user_id":7803589,"display_name":"Reshma R Gopal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636370591,"creation_date":1636370591,"question_id":69882680,"body_markdown":"I am using Java service Wrapper Version 3.1.2 and java 1.8 OS: Windows.\r\nI cannot install service in 32 bit which shows the following error\r\n\r\n```STATUS | wrapper  | 2021/10/30 13:12:44 | --&gt; Wrapper Started as Service\r\nSTATUS | wrapper  | 2021/10/30 13:12:45 | Launching a JVM...\r\nERROR  | wrapper  | 2021/10/30 13:12:45 | JVM exited while loading the application.\r\nSTATUS | wrapper  | 2021/10/30 13:12:49 | Launching a JVM...\r\nERROR  | wrapper  | 2021/10/30 13:12:49 | JVM exited while loading the application.\r\nSTATUS | wrapper  | 2021/10/30 13:12:53 | Launching a JVM...\r\nERROR  | wrapper  | 2021/10/30 13:12:53 | JVM exited while loading the application.\r\nSTATUS | wrapper  | 2021/10/30 13:12:58 | Launching a JVM...\r\nERROR  | wrapper  | 2021/10/30 13:12:58 | JVM exited while loading the application.\r\nSTATUS | wrapper  | 2021/10/30 13:13:02 | Launching a JVM...\r\nERROR  | wrapper  | 2021/10/30 13:13:02 | JVM exited while loading the application.\r\n```\r\n\r\nThe wrapper.conf file is,\r\n```#wrapper.java.command=java\r\nwrapper.java.command=../jre1.8/bin/java\r\n\r\n# Java Main class.  This class must implement the WrapperListener interface\r\n#  or guarantee that the WrapperManager class is initialized.  Helper\r\n#  classes are provided to do this for you.  See the Integration section\r\n#  of the documentation for details.\r\nwrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperSimpleApp\r\n\r\n# Java Classpath (include wrapper.jar)  Add class path elements as\r\n#  needed starting from 1\r\nwrapper.java.classpath.1=../lib/wrapper.jar\r\nwrapper.java.classpath.2=../jre1.8/bin/DataTransfer.jar\r\n\r\n# Java Library Path (location of Wrapper.DLL or libwrapper.so)\r\n#wrapper.java.library.path.1=../lib\r\nwrapper.java.library.path.1=D:/DmsDataSender/VTunnel/lib\r\n\r\n# Java Bits.  On applicable platforms, tells the JVM to run in 32 or 64-bit mode.\r\nwrapper.java.additional.auto_bits=TRUE\r\n``` ","title":"JVM exited while loading the application for Java Service Wrapper","body":"<p>I am using Java service Wrapper Version 3.1.2 and java 1.8 OS: Windows.\nI cannot install service in 32 bit which shows the following error</p>\n<pre><code>STATUS | wrapper  | 2021/10/30 13:12:45 | Launching a JVM...\nERROR  | wrapper  | 2021/10/30 13:12:45 | JVM exited while loading the application.\nSTATUS | wrapper  | 2021/10/30 13:12:49 | Launching a JVM...\nERROR  | wrapper  | 2021/10/30 13:12:49 | JVM exited while loading the application.\nSTATUS | wrapper  | 2021/10/30 13:12:53 | Launching a JVM...\nERROR  | wrapper  | 2021/10/30 13:12:53 | JVM exited while loading the application.\nSTATUS | wrapper  | 2021/10/30 13:12:58 | Launching a JVM...\nERROR  | wrapper  | 2021/10/30 13:12:58 | JVM exited while loading the application.\nSTATUS | wrapper  | 2021/10/30 13:13:02 | Launching a JVM...\nERROR  | wrapper  | 2021/10/30 13:13:02 | JVM exited while loading the application.\n</code></pre>\n<p>The wrapper.conf file is,</p>\n<pre><code>wrapper.java.command=../jre1.8/bin/java\n\n# Java Main class.  This class must implement the WrapperListener interface\n#  or guarantee that the WrapperManager class is initialized.  Helper\n#  classes are provided to do this for you.  See the Integration section\n#  of the documentation for details.\nwrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperSimpleApp\n\n# Java Classpath (include wrapper.jar)  Add class path elements as\n#  needed starting from 1\nwrapper.java.classpath.1=../lib/wrapper.jar\nwrapper.java.classpath.2=../jre1.8/bin/DataTransfer.jar\n\n# Java Library Path (location of Wrapper.DLL or libwrapper.so)\n#wrapper.java.library.path.1=../lib\nwrapper.java.library.path.1=D:/DmsDataSender/VTunnel/lib\n\n# Java Bits.  On applicable platforms, tells the JVM to run in 32 or 64-bit mode.\nwrapper.java.additional.auto_bits=TRUE\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","entity-relationship"],"comments":[{"owner":{"account_id":17216718,"reputation":376,"user_id":12464560,"display_name":"Lookslikeitsnot"},"score":0,"creation_date":1636144605,"post_id":69858125,"comment_id":123487625,"body_markdown":"Is there a reason your entities don&#39;t implement the `Serializable` interface ?","body":"Is there a reason your entities don&#39;t implement the <code>Serializable</code> interface ?"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636157009,"post_id":69858125,"comment_id":123490274,"body_markdown":"OK, so it seems that if you make them implement the serializable inteface, then the real problem will be exposed (https://stackoverflow.com/questions/4525186/cannot-be-cast-to-java-io-serializable/11192703) and with a new error message it will be more easy to fix","body":"OK, so it seems that if you make them implement the serializable inteface, then the real problem will be exposed (<a href=\"https://stackoverflow.com/questions/4525186/cannot-be-cast-to-java-io-serializable/11192703\" title=\"cannot be cast to java io serializable\">stackoverflow.com/questions/4525186/&hellip;</a>) and with a new error message it will be more easy to fix"},{"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"score":0,"creation_date":1636192575,"post_id":69858125,"comment_id":123494415,"body_markdown":"@Lookslikeitsnot It really worked, I missed it really. Thanks buddy. Any insight you want share about reason for the particular error, I&#39;m all ears :)","body":"@Lookslikeitsnot It really worked, I missed it really. Thanks buddy. Any insight you want share about reason for the particular error, I&#39;m all ears :)"},{"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"score":0,"creation_date":1636192627,"post_id":69858125,"comment_id":123494426,"body_markdown":"@ArthurKlezovich Implementing the serializable resolved the issue. Thanks Arthur.","body":"@ArthurKlezovich Implementing the serializable resolved the issue. Thanks Arthur."},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636193269,"post_id":69858125,"comment_id":123494538,"body_markdown":"@bynu022 Coo. I&#39;ve moved my comment into an answer. Please mark as accepted and upvote, so others can easily find and reuse it.","body":"@bynu022 Coo. I&#39;ve moved my comment into an answer. Please mark as accepted and upvote, so others can easily find and reuse it."},{"owner":{"display_name":"user17355696"},"score":0,"creation_date":1636402460,"post_id":69858125,"comment_id":123542625,"body_markdown":"https://stackoverflow.com/questions/69885101/finding-entities-relationships-and-attributes-for-er-diagram","body":"<a href=\"https://stackoverflow.com/questions/69885101/finding-entities-relationships-and-attributes-for-er-diagram\" title=\"finding entities relationships and attributes for er diagram\">stackoverflow.com/questions/69885101/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636193237,"creation_date":1636193237,"answer_id":69863043,"question_id":69858125,"body_markdown":"OK, so it seems that if you make them implement the `Serializable` inteface, then one of the two things will happen, given experience ...\r\n\r\nEither ...\r\n\r\n 1. The problem will be fixed.\r\n 2. The real problem will be exposed ([example][1]) and with a new error message it will be more easy to fix. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4525186/cannot-be-cast-to-java-io-serializable/11192703","title":"JPA Multiple Relationships - One Database Column","body":"<p>OK, so it seems that if you make them implement the <code>Serializable</code> inteface, then one of the two things will happen, given experience ...</p>\n<p>Either ...</p>\n<ol>\n<li>The problem will be fixed.</li>\n<li>The real problem will be exposed (<a href=\"https://stackoverflow.com/questions/4525186/cannot-be-cast-to-java-io-serializable/11192703\">example</a>) and with a new error message it will be more easy to fix.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17216718,"reputation":376,"user_id":12464560,"display_name":"Lookslikeitsnot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636370322,"creation_date":1636204432,"answer_id":69864302,"question_id":69858125,"body_markdown":"As per [the JPA2.1 spec](https://download.oracle.com/otn-pub/jcp/persistence-2_1-fr-eval-spec/JavaPersistence.pdf) (*a very nice bedside reading*)\r\n\r\n&gt; If an entity instance is to be passed by value as a detached object (e.g., through a remote interface), the entity class must implement the Serializable interface.  \r\n\r\nSince a OneToOne relation is eagerly fetched by default it&#39;s gonna result in an attached entity and will give you no errors.  \r\nOn the other hand, the OneToMany relation is lazily fetched resulting in detached entities therefore giving you the `ClassCastException` because of the missing `Serializable` implementation.","title":"JPA Multiple Relationships - One Database Column","body":"<p>As per <a href=\"https://download.oracle.com/otn-pub/jcp/persistence-2_1-fr-eval-spec/JavaPersistence.pdf\" rel=\"nofollow noreferrer\">the JPA2.1 spec</a> (<em>a very nice bedside reading</em>)</p>\n<blockquote>\n<p>If an entity instance is to be passed by value as a detached object (e.g., through a remote interface), the entity class must implement the Serializable interface.</p>\n</blockquote>\n<p>Since a OneToOne relation is eagerly fetched by default it's gonna result in an attached entity and will give you no errors.<br />\nOn the other hand, the OneToMany relation is lazily fetched resulting in detached entities therefore giving you the <code>ClassCastException</code> because of the missing <code>Serializable</code> implementation.</p>\n"}],"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69863043,"answer_count":2,"score":1,"last_activity_date":1636370322,"creation_date":1636139247,"question_id":69858125,"body_markdown":"I have following table structure.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zDNYC.jpg\r\n\r\nI need to map request_id of Request table and request_id of Function table into User table.\r\nBasically I need Request Entity and Set of Function Entities in my User Entity.\r\nRelationship nature as follows,\r\n\r\n 1. Request Table and User Table --&gt; One to One ( Already done and Working Properly )\r\n 2. User Table and Function Table --&gt; One to Many ( Could not pull this off )\r\n\r\nI&#39;m receiving a ClassCastException, Could not undestand why.\r\n\r\n    java.lang.ClassCastException: class com.test.User cannot be cast to class java.io.Serializable (com.test.User is in unnamed module of loader &#39;app&#39;; java.io.Serializable is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat org.hibernate.type.CollectionType.getKeyOfOwner(CollectionType.java:446)\r\n\tat org.hibernate.type.CollectionType.resolve(CollectionType.java:498)\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(TwoPhaseLoad.java:277)\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:184)\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:153)\r\n\tat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1229)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:1006)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:964)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:350)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2887)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2869)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2701)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2696)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1415)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.readPage(SimpleJpaRepository.java:637)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:445)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy143.findAll(Unknown Source)\r\n\tat com.supportapp.services.AuditTrailService.filterAuthentications(AuditTrailService.java:47)\r\n\tat com.supportapp.controllers.AuditTrailController.filterAuthentications(AuditTrailController.java:42)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.supportapp.accesslogs.RequestResponseLoggingFilter.doFilter(RequestResponseLoggingFilter.java:56)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nHere are my Entities,\r\n\r\nRequest Entity\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;request&quot;, schema = &quot;A&quot;)\r\n    public class Request {\r\n        @Id\r\n        @Column(name = &quot;request_id&quot;)\r\n        private String requestId;\r\n    }\r\n\r\nUser Entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;B.user&quot;, schema = &quot;B&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private int userId;\r\n    \r\n        @OneToOne\r\n        @NotFound(action = NotFoundAction.IGNORE)\r\n        @JoinColumn(name = &quot;request_id&quot;, referencedColumnName = &quot;request_id&quot;)\r\n        public Request request;\r\n    \r\n    }\r\n\r\nFunction Entity\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;function&quot;, schema = &quot;A&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class ErrorLog {\r\n        @Id\r\n        @GeneratedValue\r\n        private int functId;\r\n    \r\n        @Column(name = &quot;request_id&quot;)\r\n        private String requestId;\r\n    }\r\n\r\nWhenever I try to map one to many relationship as below I get the exception.\r\n\r\n    @Entity\r\n    @Table(name = &quot;B.user&quot;, schema = &quot;B&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private int userId;\r\n    \r\n        @OneToOne\r\n        @NotFound(action = NotFoundAction.IGNORE)\r\n        @JoinColumn(name = &quot;request_id&quot;, referencedColumnName = &quot;request_id&quot;)\r\n        public Request request;\r\n        \r\n        @OneToMany\r\n        @JoinColumn(name=&quot;request_id&quot;, referencedColumnName=&quot;request_id&quot;)\r\n        private Set&lt;Function&gt; functions;\r\n    \r\n    }\r\nNote : Tables are in two schemas Schema A --&gt; Database A and Schema B --&gt; Database B\r\n\r\nMy question is, is it possible to map single column into multiple JPA relationships ? If so what is the correct approach ?\r\nIs there any specific reason for exception thrown ?\r\n","title":"JPA Multiple Relationships - One Database Column","body":"<p>I have following table structure.\n<a href=\"https://i.stack.imgur.com/zDNYC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zDNYC.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I need to map request_id of Request table and request_id of Function table into User table.\nBasically I need Request Entity and Set of Function Entities in my User Entity.\nRelationship nature as follows,</p>\n<ol>\n<li>Request Table and User Table --&gt; One to One ( Already done and Working Properly )</li>\n<li>User Table and Function Table --&gt; One to Many ( Could not pull this off )</li>\n</ol>\n<p>I'm receiving a ClassCastException, Could not undestand why.</p>\n<pre><code>java.lang.ClassCastException: class com.test.User cannot be cast to class java.io.Serializable (com.test.User is in unnamed module of loader 'app'; java.io.Serializable is in module java.base of loader 'bootstrap')\nat org.hibernate.type.CollectionType.getKeyOfOwner(CollectionType.java:446)\nat org.hibernate.type.CollectionType.resolve(CollectionType.java:498)\nat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(TwoPhaseLoad.java:277)\nat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:184)\nat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:153)\nat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1229)\nat org.hibernate.loader.Loader.processResultSet(Loader.java:1006)\nat org.hibernate.loader.Loader.doQuery(Loader.java:964)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:350)\nat org.hibernate.loader.Loader.doList(Loader.java:2887)\nat org.hibernate.loader.Loader.doList(Loader.java:2869)\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2701)\nat org.hibernate.loader.Loader.list(Loader.java:2696)\nat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\nat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1415)\nat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565)\nat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\nat org.hibernate.query.Query.getResultList(Query.java:165)\nat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.readPage(SimpleJpaRepository.java:637)\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:445)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72)\nat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382)\nat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205)\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\nat com.sun.proxy.$Proxy143.findAll(Unknown Source)\nat com.supportapp.services.AuditTrailService.filterAuthentications(AuditTrailService.java:47)\nat com.supportapp.controllers.AuditTrailController.filterAuthentications(AuditTrailController.java:42)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat com.supportapp.accesslogs.RequestResponseLoggingFilter.doFilter(RequestResponseLoggingFilter.java:56)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Here are my Entities,</p>\n<p>Request Entity</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;request&quot;, schema = &quot;A&quot;)\npublic class Request {\n    @Id\n    @Column(name = &quot;request_id&quot;)\n    private String requestId;\n}\n</code></pre>\n<p>User Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;B.user&quot;, schema = &quot;B&quot;)\n@Getter\n@Setter\n@AllArgsConstructor)\npublic class User {\n\n    @Id\n    @GeneratedValue\n    private int userId;\n\n    @OneToOne\n    @NotFound(action = NotFoundAction.IGNORE)\n    @JoinColumn(name = &quot;request_id&quot;, referencedColumnName = &quot;request_id&quot;)\n    public Request request;\n\n}\n</code></pre>\n<p>Function Entity</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;function&quot;, schema = &quot;A&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class ErrorLog {\n    @Id\n    @GeneratedValue\n    private int functId;\n\n    @Column(name = &quot;request_id&quot;)\n    private String requestId;\n}\n</code></pre>\n<p>Whenever I try to map one to many relationship as below I get the exception.</p>\n<pre><code>@Entity\n@Table(name = &quot;B.user&quot;, schema = &quot;B&quot;)\n@Getter\n@Setter\n@AllArgsConstructor)\npublic class User {\n\n    @Id\n    @GeneratedValue\n    private int userId;\n\n    @OneToOne\n    @NotFound(action = NotFoundAction.IGNORE)\n    @JoinColumn(name = &quot;request_id&quot;, referencedColumnName = &quot;request_id&quot;)\n    public Request request;\n    \n    @OneToMany\n    @JoinColumn(name=&quot;request_id&quot;, referencedColumnName=&quot;request_id&quot;)\n    private Set&lt;Function&gt; functions;\n\n}\n</code></pre>\n<p>Note : Tables are in two schemas Schema A --&gt; Database A and Schema B --&gt; Database B</p>\n<p>My question is, is it possible to map single column into multiple JPA relationships ? If so what is the correct approach ?\nIs there any specific reason for exception thrown ?</p>\n"},{"tags":["java","android","material-components-android"],"answers":[{"tags":[],"owner":{"account_id":23244923,"reputation":89,"user_id":17333641,"display_name":"Muhammad Riaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636370184,"creation_date":1636369416,"answer_id":69882455,"question_id":69882218,"body_markdown":"Change `#FF0000` with your desired color \r\n\r\n```\r\nImageViewCompat.setImageTintList(floatingActionButton,\r\nColorStateList.valueOf(Color.parseColor(&quot;#FF0000&quot;)));\r\n```\r\n\r\nfor resource xml color\r\n```\r\nImageViewCompat.setImageTintList(floatingActionButton,\r\nColorStateList.valueOf(ResourcesCompat.getColor(getResources(), R.color.your_color, null)));\r\n```","title":"How to use Hex Code or or predefined color in ColorStateList.valueof()","body":"<p>Change <code>#FF0000</code> with your desired color</p>\n<pre><code>ImageViewCompat.setImageTintList(floatingActionButton,\nColorStateList.valueOf(Color.parseColor(&quot;#FF0000&quot;)));\n</code></pre>\n<p>for resource xml color</p>\n<pre><code>ImageViewCompat.setImageTintList(floatingActionButton,\nColorStateList.valueOf(ResourcesCompat.getColor(getResources(), R.color.your_color, null)));\n</code></pre>\n"}],"owner":{"account_id":20047885,"reputation":55,"user_id":14697160,"display_name":"muhammedlevent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69882455,"answer_count":1,"score":0,"last_activity_date":1636370184,"creation_date":1636368321,"question_id":69882218,"body_markdown":"I&#39;m trying to change my fab&#39;s color programmaticaly.So I found this code block It&#39;s actually works but I need to use a specific color on my colors.xml file or hex code\r\n\r\n\r\n    ImageViewCompat.setImageTintList(\r\n    floatingActionButton,\r\n    ColorStateList.valueOf(Color.WHITE) );\r\n","title":"How to use Hex Code or or predefined color in ColorStateList.valueof()","body":"<p>I'm trying to change my fab's color programmaticaly.So I found this code block It's actually works but I need to use a specific color on my colors.xml file or hex code</p>\n<pre><code>ImageViewCompat.setImageTintList(\nfloatingActionButton,\nColorStateList.valueOf(Color.WHITE) );\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-test","spring-scheduled"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1636370623,"post_id":69882562,"comment_id":123529769,"body_markdown":"A and C reuse the same application context B creates a new context due to the `@TestPropertySource`. Net end result 2 times the scheduled task. With your current setup yes that is to be expected and works as designed, maybe not as expected. So it doesn&#39;t restart the application it starts a new one to be exactly (Spring Test caches 32 application contexts by default thus leaves it running).","body":"A and C reuse the same application context B creates a new context due to the <code>@TestPropertySource</code>. Net end result 2 times the scheduled task. With your current setup yes that is to be expected and works as designed, maybe not as expected. So it doesn&#39;t restart the application it starts a new one to be exactly (Spring Test caches 32 application contexts by default thus leaves it running)."},{"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"score":0,"creation_date":1642669588,"post_id":69882562,"comment_id":125134111,"body_markdown":"so, any solution to this?","body":"so, any solution to this?"}],"owner":{"account_id":3155089,"reputation":170,"user_id":2667662,"display_name":"Stijn Hooft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1636369992,"creation_date":1636369992,"question_id":69882562,"body_markdown":"**Context**\r\n\r\nI&#39;m working on a Spring Boot project that makes heavy use of a @Scheduled bean. We have written a very light event-sourcing-like framework that relies on the data in the database: every x time the database is checked for new records, which can result in firing handlers for these new records.\r\n\r\nWe write integration tests: create a new record in the database, wait for the handler to pick it up and the database gets updated and verify the new state of the database.\r\n\r\n\r\n**Problem**\r\n\r\nThis works fine until we write a test that **dirties the spring context. The context gets recreated fine, but the @Scheduled method from the old context keeps running, executing logic from the old context instead of the new one.**\r\n\r\nI&#39;ve demonstrated this problem in this little example: https://github.com/stainii/spring-boot-test-scheduled-bean-problem. When you run the tests (preferrably in alphabetical order for demonstration purposes), you&#39;ll see that each tests runs fine on its own, but when the context needs to get recreated then 2 scheduled beans are running instead of 1.\r\n\r\nDoes anyone know if this is the expected behaviour and if we could destroy the @Scheduled bean when the context is marked as dirty?","title":"Spring Boot test: @Scheduled beans continue to execute after dirty context","body":"<p><strong>Context</strong></p>\n<p>I'm working on a Spring Boot project that makes heavy use of a @Scheduled bean. We have written a very light event-sourcing-like framework that relies on the data in the database: every x time the database is checked for new records, which can result in firing handlers for these new records.</p>\n<p>We write integration tests: create a new record in the database, wait for the handler to pick it up and the database gets updated and verify the new state of the database.</p>\n<p><strong>Problem</strong></p>\n<p>This works fine until we write a test that <strong>dirties the spring context. The context gets recreated fine, but the @Scheduled method from the old context keeps running, executing logic from the old context instead of the new one.</strong></p>\n<p>I've demonstrated this problem in this little example: <a href=\"https://github.com/stainii/spring-boot-test-scheduled-bean-problem\" rel=\"noreferrer\">https://github.com/stainii/spring-boot-test-scheduled-bean-problem</a>. When you run the tests (preferrably in alphabetical order for demonstration purposes), you'll see that each tests runs fine on its own, but when the context needs to get recreated then 2 scheduled beans are running instead of 1.</p>\n<p>Does anyone know if this is the expected behaviour and if we could destroy the @Scheduled bean when the context is marked as dirty?</p>\n"},{"tags":["java","spring","spring-boot","multi-tenant"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1636364293,"post_id":69881282,"comment_id":123527313,"body_markdown":"Assuming JPA and with that Hibernate, use hibernate filters to limit the results of queries based on the user itself. You can use AOP to enable the filter to have automatic filtering applied. Then a user only sees (and thus can modify) its own data.","body":"Assuming JPA and with that Hibernate, use hibernate filters to limit the results of queries based on the user itself. You can use AOP to enable the filter to have automatic filtering applied. Then a user only sees (and thus can modify) its own data."},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636364789,"post_id":69881282,"comment_id":123527496,"body_markdown":"Hi, @M.Deinum. Sounds like a cool approach to limit the repository output based on associated user entity. Can you, maybe, send me the link to an article which shows how to do it with a code example ?","body":"Hi, @M.Deinum. Sounds like a cool approach to limit the repository output based on associated user entity. Can you, maybe, send me the link to an article which shows how to do it with a code example ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636365411,"post_id":69881282,"comment_id":123527760,"body_markdown":"https://callistaenterprise.se/blogg/teknik/2020/10/17/multi-tenancy-with-spring-boot-part5/ which shows the filter approach. Instead of the tenant used just write a query which includes your userid (and you can use the `SecurityContextHolder` to obtain the current user.","body":"<a href=\"https://callistaenterprise.se/blogg/teknik/2020/10/17/multi-tenancy-with-spring-boot-part5/\" rel=\"nofollow noreferrer\">callistaenterprise.se/blogg/teknik/2020/10/17/&hellip;</a> which shows the filter approach. Instead of the tenant used just write a query which includes your userid (and you can use the <code>SecurityContextHolder</code> to obtain the current user."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1636365933,"post_id":69881282,"comment_id":123527998,"body_markdown":"Why don&#39;t you add user id to each database query which is not related that user, can not perform operation and you can throw exception.","body":"Why don&#39;t you add user id to each database query which is not related that user, can not perform operation and you can throw exception."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1636365970,"post_id":69881282,"comment_id":123528009,"body_markdown":"Also you can get user from SecurityContextHolder which you need to put when authenticate user.","body":"Also you can get user from SecurityContextHolder which you need to put when authenticate user."}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636366612,"creation_date":1636366612,"answer_id":69881841,"question_id":69881282,"body_markdown":"Some database queries for Workspace Entity : \r\n\r\n    // DELETE\r\n    @Transactional\r\n    void deleteByIdAndUserId(String workspaceId, String userId);\r\n    \r\n    userRepository.deleteByIdAndUserId(workspaceId, userId);\r\n\r\n\r\n    // UPDATE\r\n    Optional&lt;Workspace&gt; workspace = workspace.findByIdAndUserId(String workspaceId, String userId);\r\n    \r\n    Workspace workspace = workspace.orElseThrow(() -&gt; new RuntimeException(&quot;You don&#39;t have an workspace under user &quot;))\r\n\r\n    workspace.setName(&quot;MyWorkspace2&quot;);\r\n    \r\n    //CREATE\r\n    User user = userRepository.findById(SecurityContextHolder...getPriciple().getId())\r\n                  .orElseThrow(() -&gt; new RuntimeException(&quot;User can not be found by given id&quot;));\r\n    workspaceRepository.save(WorkspaceBuilder.builder().user(user).name(&quot;firstWorkspace&quot;).build());","title":"How to handle the multitenancy problem in Spring Boot applications?","body":"<p>Some database queries for Workspace Entity :</p>\n<pre><code>// DELETE\n@Transactional\nvoid deleteByIdAndUserId(String workspaceId, String userId);\n\nuserRepository.deleteByIdAndUserId(workspaceId, userId);\n\n\n// UPDATE\nOptional&lt;Workspace&gt; workspace = workspace.findByIdAndUserId(String workspaceId, String userId);\n\nWorkspace workspace = workspace.orElseThrow(() -&gt; new RuntimeException(&quot;You don't have an workspace under user &quot;))\n\nworkspace.setName(&quot;MyWorkspace2&quot;);\n\n//CREATE\nUser user = userRepository.findById(SecurityContextHolder...getPriciple().getId())\n              .orElseThrow(() -&gt; new RuntimeException(&quot;User can not be found by given id&quot;));\nworkspaceRepository.save(WorkspaceBuilder.builder().user(user).name(&quot;firstWorkspace&quot;).build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636369505,"creation_date":1636369096,"answer_id":69882384,"question_id":69881282,"body_markdown":"The most clean and maintainable solution would be to leverage *Spring Security* AOP for the task.\r\n\r\nYou can use the `@PreAuthorize` annotation, paired with your `PermissionManager` service to allow or reject access at the `Controller` level harnessing the power of *Spring Expression Language*.\r\n\r\nHaving defined a `Service` stereotype that checks the user access to a particular resource (the workspace in your example):\r\n\r\n    @Service\r\n    public class PermissionManagerImpl implements PermissionManager {\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n       /**\r\n       * @param authentication the current authenticated user following your authentication scheme\r\n       * @param workspaceId the workspace (or other resource) identifier\r\n       */\r\n        @Override\r\n        public boolean checkUserAllowedToUseWorkspace(Authentication authentication, Long workspaceId) {\r\n            return authentication != null\r\n                    /* check that the `authentication` has access to the argument workspace: e.g. userRepository.findWorkspaceByUserNameAndWorkspaceId(authentication.getName(), workspaceId) != null */;\r\n        }\r\n    \r\n    }\r\n\r\nYou can define an expression based control policy on your `Controller` method as follows:\r\n\r\n    @RestController\r\n    public class WorkspaceController {\r\n\r\n        // the DIed `permissionManagerImpl` service will be called prior to your endpoint invocation with the current `authentication` and workspace `id` injected\r\n        @PreAuthorize(&quot;@permissionManagerImpl.checkUserAllowedToUseWorkspace(authentication, #id)&quot;)\r\n        @RequestMapping(&quot;/workspaces/{id}&quot;)\r\n        public List&lt;Workspace&gt; getWorkspaces(@PathVariable Long id) {\r\n            // retrieve the user workspaces once authorized\r\n        }\r\n    }\r\n\r\nThis will lead a readable and reusable solution acting on the top level resource, the `Controller`.\r\n\r\nYou can learn more on [*Expression-based Access Control* in the official *Spring* docs][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/servlet/authorization/expression-based.html","title":"How to handle the multitenancy problem in Spring Boot applications?","body":"<p>The most clean and maintainable solution would be to leverage <em>Spring Security</em> AOP for the task.</p>\n<p>You can use the <code>@PreAuthorize</code> annotation, paired with your <code>PermissionManager</code> service to allow or reject access at the <code>Controller</code> level harnessing the power of <em>Spring Expression Language</em>.</p>\n<p>Having defined a <code>Service</code> stereotype that checks the user access to a particular resource (the workspace in your example):</p>\n<pre><code>@Service\npublic class PermissionManagerImpl implements PermissionManager {\n\n    @Autowired\n    private UserRepository userRepository;\n\n   /**\n   * @param authentication the current authenticated user following your authentication scheme\n   * @param workspaceId the workspace (or other resource) identifier\n   */\n    @Override\n    public boolean checkUserAllowedToUseWorkspace(Authentication authentication, Long workspaceId) {\n        return authentication != null\n                /* check that the `authentication` has access to the argument workspace: e.g. userRepository.findWorkspaceByUserNameAndWorkspaceId(authentication.getName(), workspaceId) != null */;\n    }\n\n}\n</code></pre>\n<p>You can define an expression based control policy on your <code>Controller</code> method as follows:</p>\n<pre><code>@RestController\npublic class WorkspaceController {\n\n    // the DIed `permissionManagerImpl` service will be called prior to your endpoint invocation with the current `authentication` and workspace `id` injected\n    @PreAuthorize(&quot;@permissionManagerImpl.checkUserAllowedToUseWorkspace(authentication, #id)&quot;)\n    @RequestMapping(&quot;/workspaces/{id}&quot;)\n    public List&lt;Workspace&gt; getWorkspaces(@PathVariable Long id) {\n        // retrieve the user workspaces once authorized\n    }\n}\n</code></pre>\n<p>This will lead a readable and reusable solution acting on the top level resource, the <code>Controller</code>.</p>\n<p>You can learn more on <a href=\"https://docs.spring.io/spring-security/servlet/authorization/expression-based.html\" rel=\"nofollow noreferrer\"><em>Expression-based Access Control</em> in the official <em>Spring</em> docs</a>.</p>\n"}],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69882384,"answer_count":2,"score":1,"last_activity_date":1636369505,"creation_date":1636363992,"question_id":69881282,"body_markdown":"Let&#39;s imagine I have a `SpringBoot` app with the following requirements.\r\n\r\n 1. It has a `User` class (entity)\r\n 2. Each user has zero or more `Workspaces` (one-to-many entity relationship)\r\n 3. Each `Workspace` has zero or more `WorkItems` (one-to-many entity relationship)\r\n\r\nThere is a CRUD REST API controller to manage all of the entities, i.e. we have \r\n 1. `UserController` -&gt; CRUD operations for `User` entity\r\n 2. `WorkspaceController` -&gt; CRUD operations for `Workspace` entity\r\n 3. `WorkItemContoller` -&gt; CRUD operations for `WorkItem` entity\r\n\r\nNow there are requirements that ...\r\n\r\n 1. A `User` can only create/edit/delete his own `Workspace` entities\r\n 2. A `User` can only create/edit/delete `WorkItem` entities in his own `Workspaces`\r\n\r\nAlso, assume that the `User` entity is integrated with `SpringSecurity` and we know the current user in the contoller and service.\r\n\r\n**Then the question is ...** \r\n\r\nWhat is the most elegant/clean/maintainable way to implement user permission checks ? How do we write the code, which in the `Service` classes will check that the user is authorized to perform operations on a given resource.\r\n\r\nThe way I do it now is that there&#39;s a class like this, which checks the permissions in every `Service` call.\r\n\r\n```\r\nclass PermissionManager {\r\n   void checkUserAllowedToUseWorkspace(User u, Workspace w);\r\n   void checkUserAlloweToUseWorkitem(User u, WorkItem)\r\n}\r\n```\r\n\r\nAs you can see ... as the number of scoped resources will grow ... this class will get super bloated and hard to maintain.\r\n\r\nIs anyone aware of a better way to do this **scoped** resource access in a clean and maintainable way ?","title":"How to handle the multitenancy problem in Spring Boot applications?","body":"<p>Let's imagine I have a <code>SpringBoot</code> app with the following requirements.</p>\n<ol>\n<li>It has a <code>User</code> class (entity)</li>\n<li>Each user has zero or more <code>Workspaces</code> (one-to-many entity relationship)</li>\n<li>Each <code>Workspace</code> has zero or more <code>WorkItems</code> (one-to-many entity relationship)</li>\n</ol>\n<p>There is a CRUD REST API controller to manage all of the entities, i.e. we have</p>\n<ol>\n<li><code>UserController</code> -&gt; CRUD operations for <code>User</code> entity</li>\n<li><code>WorkspaceController</code> -&gt; CRUD operations for <code>Workspace</code> entity</li>\n<li><code>WorkItemContoller</code> -&gt; CRUD operations for <code>WorkItem</code> entity</li>\n</ol>\n<p>Now there are requirements that ...</p>\n<ol>\n<li>A <code>User</code> can only create/edit/delete his own <code>Workspace</code> entities</li>\n<li>A <code>User</code> can only create/edit/delete <code>WorkItem</code> entities in his own <code>Workspaces</code></li>\n</ol>\n<p>Also, assume that the <code>User</code> entity is integrated with <code>SpringSecurity</code> and we know the current user in the contoller and service.</p>\n<p><strong>Then the question is ...</strong></p>\n<p>What is the most elegant/clean/maintainable way to implement user permission checks ? How do we write the code, which in the <code>Service</code> classes will check that the user is authorized to perform operations on a given resource.</p>\n<p>The way I do it now is that there's a class like this, which checks the permissions in every <code>Service</code> call.</p>\n<pre><code>class PermissionManager {\n   void checkUserAllowedToUseWorkspace(User u, Workspace w);\n   void checkUserAlloweToUseWorkitem(User u, WorkItem)\n}\n</code></pre>\n<p>As you can see ... as the number of scoped resources will grow ... this class will get super bloated and hard to maintain.</p>\n<p>Is anyone aware of a better way to do this <strong>scoped</strong> resource access in a clean and maintainable way ?</p>\n"},{"tags":["java","binary","byte","bit","huffman-code"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1636201190,"post_id":69863898,"comment_id":123496049,"body_markdown":"What is the actual starting info you have? Because the first line is obviously not correct, do you have a string `&quot;01011110&quot;` or do you have a string `&quot;^&quot;`?","body":"What is the actual starting info you have? Because the first line is obviously not correct, do you have a string <code>&quot;01011110&quot;</code> or do you have a string <code>&quot;^&quot;</code>?"},{"owner":{"account_id":21495636,"reputation":97,"user_id":15840697,"display_name":"Kristina"},"score":0,"creation_date":1636201414,"post_id":69863898,"comment_id":123496080,"body_markdown":"It&#39;s supposed to be `String binaryString = &quot;01011110&quot;;` .Sorry about that.","body":"It&#39;s supposed to be <code>String binaryString = &quot;01011110&quot;;</code> .Sorry about that."},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1636201513,"post_id":69863898,"comment_id":123496101,"body_markdown":"`Byte.parseByte(&quot;01011110&quot;, 2)`","body":"<code>Byte.parseByte(&quot;01011110&quot;, 2)</code>"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636369358,"creation_date":1636201426,"answer_id":69863950,"question_id":69863898,"body_markdown":"You can turn that `String` into a numerical value using the overloaded `parseByte` that lets you specify the radix:\r\n\r\n    String binaryString = &quot;01011110&quot;;\r\n    byte b = Byte.parseByte(binaryString, 2); //this parses the string as a binary number\r\n    outFile.write(b);\r\n\r\nThe second argument to `parseByte()` lets you specify the Number system in which the String should be parsed. By default, a radix of 10 is used because us humans usually use the decimal system. The 2 says that the number should be treated as a binary value (which is base 2).","title":"How can I convert a binary string to a byte?","body":"<p>You can turn that <code>String</code> into a numerical value using the overloaded <code>parseByte</code> that lets you specify the radix:</p>\n<pre><code>String binaryString = &quot;01011110&quot;;\nbyte b = Byte.parseByte(binaryString, 2); //this parses the string as a binary number\noutFile.write(b);\n</code></pre>\n<p>The second argument to <code>parseByte()</code> lets you specify the Number system in which the String should be parsed. By default, a radix of 10 is used because us humans usually use the decimal system. The 2 says that the number should be treated as a binary value (which is base 2).</p>\n"},{"tags":[],"owner":{"account_id":20301281,"reputation":111,"user_id":14890609,"display_name":"naveed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636208513,"creation_date":1636201615,"answer_id":69863972,"question_id":69863898,"body_markdown":"You can use `Byte.parseByte()` with a radix of 2:\r\n\r\n    byte b = Byte.parseByte(str, 2);\r\n\r\n\r\nexample:\r\n\r\n    System.out.println(Byte.parseByte(&quot;01100110&quot;, 2));\r\n\r\n\r\n","title":"How can I convert a binary string to a byte?","body":"<p>You can use <code>Byte.parseByte()</code> with a radix of 2:</p>\n<pre><code>byte b = Byte.parseByte(str, 2);\n</code></pre>\n<p>example:</p>\n<pre><code>System.out.println(Byte.parseByte(&quot;01100110&quot;, 2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636205210,"creation_date":1636205210,"answer_id":69864388,"question_id":69863898,"body_markdown":"Could write (a String[256] with each manually written 1 and 0 set of 8 bits) it out , its only 256 of them. gives you the ability to check with String.indexOf(binnum[arrayIndex])\r\nand make a corresponding array of new byte[256] and set each in matching order with new Integer(increment).byteValue(), it should reproduce for checking printable over the byte[] array using new Byte(bytarray[incr]).intValue()+&quot;\\n&quot;","title":"How can I convert a binary string to a byte?","body":"<p>Could write (a String[256] with each manually written 1 and 0 set of 8 bits) it out , its only 256 of them. gives you the ability to check with String.indexOf(binnum[arrayIndex])\nand make a corresponding array of new byte[256] and set each in matching order with new Integer(increment).byteValue(), it should reproduce for checking printable over the byte[] array using new Byte(bytarray[incr]).intValue()+&quot;\\n&quot;</p>\n"}],"owner":{"account_id":21495636,"reputation":97,"user_id":15840697,"display_name":"Kristina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69863950,"answer_count":3,"score":0,"last_activity_date":1636369358,"creation_date":1636200988,"question_id":69863898,"body_markdown":"I&#39;m working on Huffman compression. \r\n\r\n    String binaryString = &quot;01011110&quot;;\r\n    outFile.write(byte);\r\n\r\nI have a String which I want to convert to a byte so that I can write that byte to the file. Does anyone know how I can do this?","title":"How can I convert a binary string to a byte?","body":"<p>I'm working on Huffman compression.</p>\n<pre><code>String binaryString = &quot;01011110&quot;;\noutFile.write(byte);\n</code></pre>\n<p>I have a String which I want to convert to a byte so that I can write that byte to the file. Does anyone know how I can do this?</p>\n"},{"tags":["java","spring","frontend","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":8130642,"reputation":108,"user_id":6124047,"display_name":"ntepp jean marc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636369291,"creation_date":1636369291,"answer_id":69882425,"question_id":69882091,"body_markdown":"You can use thymeleaf classappend `th:classappend` like this:\r\n\r\n`&lt;input type=&quot;text&quot; name=&quot;firstName&quot; id=&quot;inputFirstName&quot; th:classappend=&quot;${condition} ? conditionTrueClass : conditionFalseClass &quot;/&gt;`\r\n\r\nplease look at [this answer](https://stackoverflow.com/questions/25133807/thymeleaf-how-to-use-conditionals-to-dynamically-add-remove-a-css-class).","title":"Implement field validation via Thymeleaf (migrate from Freemarker to Thymeleaf)","body":"<p>You can use thymeleaf classappend <code>th:classappend</code> like this:</p>\n<p><code>&lt;input type=&quot;text&quot; name=&quot;firstName&quot; id=&quot;inputFirstName&quot; th:classappend=&quot;${condition} ? conditionTrueClass : conditionFalseClass &quot;/&gt;</code></p>\n<p>please look at <a href=\"https://stackoverflow.com/questions/25133807/thymeleaf-how-to-use-conditionals-to-dynamically-add-remove-a-css-class\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636369301,"creation_date":1636369301,"answer_id":69882429,"question_id":69882091,"body_markdown":"You will need to use a conditional statement in your class to evaluate whether it should use an &quot;error class&quot;\r\n\r\nExample:\r\n\r\n    &lt;p  th:if=&quot;${#fields.hasErrors(&#39;age&#39;)}&quot; th:class=&quot;${#fields.hasErrors(&#39;age&#39;)}? error&quot;&gt;Invalid Age&lt;/p&gt;\r\n\r\n    &lt;style&gt;\r\n        .error {\r\n            color: red;\r\n        }\r\n    &lt;/style&gt;\r\n\r\n\r\n\r\n&gt; Another Thymeleaf attribute th:errors gives us the ability to display\r\n&gt; all errors on the specified selector, say email:\r\n\r\n    &lt;div&gt;\r\n        &lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt; &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot; /&gt;\r\n        &lt;p th:if=&quot;${#fields.hasErrors(&#39;email&#39;)}&quot; th:errorclass=&quot;error&quot; th:errors=&quot;*{email}&quot; /&gt;\r\n    &lt;/div&gt;\r\n\r\nReference: https://www.baeldung.com/spring-thymeleaf-error-messages\r\n\r\n\r\n\r\n\r\n","title":"Implement field validation via Thymeleaf (migrate from Freemarker to Thymeleaf)","body":"<p>You will need to use a conditional statement in your class to evaluate whether it should use an &quot;error class&quot;</p>\n<p>Example:</p>\n<pre><code>&lt;p  th:if=&quot;${#fields.hasErrors('age')}&quot; th:class=&quot;${#fields.hasErrors('age')}? error&quot;&gt;Invalid Age&lt;/p&gt;\n\n&lt;style&gt;\n    .error {\n        color: red;\n    }\n&lt;/style&gt;\n</code></pre>\n<blockquote>\n<p>Another Thymeleaf attribute th:errors gives us the ability to display\nall errors on the specified selector, say email:</p>\n</blockquote>\n<pre><code>&lt;div&gt;\n    &lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt; &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot; /&gt;\n    &lt;p th:if=&quot;${#fields.hasErrors('email')}&quot; th:errorclass=&quot;error&quot; th:errors=&quot;*{email}&quot; /&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-thymeleaf-error-messages\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-thymeleaf-error-messages</a></p>\n"}],"owner":{"account_id":5278173,"reputation":51,"user_id":4214370,"display_name":"Allteran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69882425,"answer_count":2,"score":1,"last_activity_date":1636369301,"creation_date":1636367779,"question_id":69882091,"body_markdown":"I&#39;m developing one little Spring Boot App with user login and registration. I want to implement my own registration system with field validation. For validation I use my own implementation of ```org.springframework.validation.Validator``` in controller. Vaidator catches all errors from ```bindingResult``` in controller and send it to frontend in ```model``` field:\r\n```\r\n@PostMapping(&quot;/registration&quot;)\r\n    public String signUpUser(User userForm, BindingResult bindingResult,\r\n                             Model model) {\r\n        validator.validate(userForm, bindingResult);\r\n\r\n        if(bindingResult.hasErrors()) {\r\n            Map&lt;String, String&gt; errors = ControllerUtils.getFieldErrors(bindingResult);\r\n            model.mergeAttributes(errors);\r\n            return &quot;registration&quot;;\r\n        }\r\n        return &quot;registration&quot;;\r\n```\r\nIf there will be any validation errors, ```Map&lt;String, String&gt; errors``` will hold all that erorrs. For example, if user while registration won&#39;t fill field ```firstName``` map will hold object like: ```&quot;firstNameError&quot; -&gt; &quot;Please, fill the field&quot;```, and so on.\r\n\r\nIn my previous project I&#39;ve used Freemarker as template engine and on frontend side code of some element were looking like that:\r\n```\r\n &lt;label for=&quot;inputFirstName&quot; class=&quot;sr-only&quot;&gt;First Name&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;firstName&quot; id=&quot;inputFirstName&quot;\r\n           class=&quot;form-control ${(firstNameError??)?string(&#39;is-invalid&#39;,&#39;&#39;)}&quot;\r\n           placeholder=&quot;First Name&quot; required autofocus&gt;\r\n    &lt;div class=&quot;text-left invalid-feedback m-1 ml-1&quot;&gt;\r\n        &lt;#if (firstNameError)??&gt;\r\n            ${firstNameError}\r\n        &lt;/#if&gt;\r\n    &lt;/div&gt;\r\n```\r\nSo when I had an error with user&#39;s first name - my input changed class to ```class=&quot;form control  is-invalid&quot;``` and it highlight field with errors, after that it displays an error message in div\r\n\r\nNow I use Thymeleaf as a template engine. To display text of error I use \r\n```\r\n&lt;div th:if=&quot;${firstNameError}&quot; class=&quot;invalid-feedback&quot;&gt;\r\n        &lt;a th:text=&quot;${firstNameError}&quot;&gt;&lt;/a&gt;\r\n    &lt;/div&gt;\r\n```\r\nBut how can I change dynamicaly ```class``` of ```&lt;input...``` to highlight fiend with errors?\r\n\r\nThank you!","title":"Implement field validation via Thymeleaf (migrate from Freemarker to Thymeleaf)","body":"<p>I'm developing one little Spring Boot App with user login and registration. I want to implement my own registration system with field validation. For validation I use my own implementation of <code>org.springframework.validation.Validator</code> in controller. Vaidator catches all errors from <code>bindingResult</code> in controller and send it to frontend in <code>model</code> field:</p>\n<pre><code>@PostMapping(&quot;/registration&quot;)\n    public String signUpUser(User userForm, BindingResult bindingResult,\n                             Model model) {\n        validator.validate(userForm, bindingResult);\n\n        if(bindingResult.hasErrors()) {\n            Map&lt;String, String&gt; errors = ControllerUtils.getFieldErrors(bindingResult);\n            model.mergeAttributes(errors);\n            return &quot;registration&quot;;\n        }\n        return &quot;registration&quot;;\n</code></pre>\n<p>If there will be any validation errors, <code>Map&lt;String, String&gt; errors</code> will hold all that erorrs. For example, if user while registration won't fill field <code>firstName</code> map will hold object like: <code>&quot;firstNameError&quot; -&gt; &quot;Please, fill the field&quot;</code>, and so on.</p>\n<p>In my previous project I've used Freemarker as template engine and on frontend side code of some element were looking like that:</p>\n<pre><code> &lt;label for=&quot;inputFirstName&quot; class=&quot;sr-only&quot;&gt;First Name&lt;/label&gt;\n    &lt;input type=&quot;text&quot; name=&quot;firstName&quot; id=&quot;inputFirstName&quot;\n           class=&quot;form-control ${(firstNameError??)?string('is-invalid','')}&quot;\n           placeholder=&quot;First Name&quot; required autofocus&gt;\n    &lt;div class=&quot;text-left invalid-feedback m-1 ml-1&quot;&gt;\n        &lt;#if (firstNameError)??&gt;\n            ${firstNameError}\n        &lt;/#if&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>So when I had an error with user's first name - my input changed class to <code>class=&quot;form control  is-invalid&quot;</code> and it highlight field with errors, after that it displays an error message in div</p>\n<p>Now I use Thymeleaf as a template engine. To display text of error I use</p>\n<pre><code>&lt;div th:if=&quot;${firstNameError}&quot; class=&quot;invalid-feedback&quot;&gt;\n        &lt;a th:text=&quot;${firstNameError}&quot;&gt;&lt;/a&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>But how can I change dynamicaly <code>class</code> of <code>&lt;input...</code> to highlight fiend with errors?</p>\n<p>Thank you!</p>\n"},{"tags":["java","eclipse","conways-game-of-life"],"answers":[{"tags":[],"owner":{"account_id":7916610,"reputation":31,"user_id":5978845,"display_name":"skgchn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636369265,"creation_date":1456385558,"answer_id":35621001,"question_id":30695046,"body_markdown":"I had earlier shared only the links to README.md file of my Github repository of my implementation and there was a genuine concern expressed to me by the moderators, what if the pages behind the links are removed? I am providing an answer, which I hope is helpful in understanding the solution without having to refer to my README.md file or the code.\r\n\r\nThis question is from a year ago. You likely would have already figured out the SOLID principles. Since, I have recently solved Conway&#39;s Game of Life in PHP OOP and applied the SOLID design principles with the objective of sharing my understanding of the principles with my colleagues at work, I am sharing my approach to solving this problem here on stackoverflow as an answer to this question, which is so far unanswered. I hope this is helpful to all who arrive here wanting to wrap their heads around SOLID principles specifically by practicing it on Conway&#39;s Game of Life problem.\r\n\r\nBelow was my thought progression on what classes need to be there:\r\n\r\nStep 1: I started out with obvious classes from the problem statement, which are the *Board* and *Cell*, the board being composed of many cells.\r\n\r\nStep 2: On applying **Single Responsibility Principle**, a class should have a single responsibility and only one reason to change, to the *Board* and the *Cell* I broke these two classes down into these classes:\r\n\r\n - *Board* (for maintaining board dimensions and active cell locations, and the getNeighbourCount() method)\r\n - *BoardRenderer* (for drawing the board on the medium)\r\n - *BoardPersister* (for persisting, i.e. saving the board layout out of memory to a persistent storage like MySQL between steps)\r\n - *BoardInitializer* (for initial arrangement of live cells on the board at the start of game)\r\n - For cells I needed only *CellRenderer*, because at this point I began\r\n   realizing my Cell class had no other work to do but to be rendered\r\n   (active cell one way, inactive cell another way). It is the board\r\n   which will have the knowledge of its dimensions and the location of\r\n   active cells (and therefore also the location of inactive cells). I\r\n   do not require the *Cell* class.\r\n\r\nStep 3: Next from my understanding of what **Open/Close and Dependency Inversion principles** are, which respectively state, software entities should be open for extension but closed for modification and one should depend upon abstractions and not upon concretions (source Wikipedia), I converted *BoardInitializer*, *BoardRenderer*, *BoardPersister*, *CellRenderer* from classes to interfaces so that I can build new classes and use them by simply replacing existing classes. These new classes only need to implement their respective interfaces.\r\n\r\nAt this stage I realized and I also needed a game controller. So I added a *GameController* abstract class with newGame() and advanceGame() methods and a *GameRenderer* interface to primarily render the game controls. I also converted *Board* into an abstract class to be able to have two types of boards: *EdgesWrappedBoard* and *BoundedBoard*. *GameRenderer* would call *BoardRenderer*, which in turn would make use of *CellRenderer* for painting active and inactive cells.\r\n\r\nSo, now we have these classes,\r\n\r\n&lt;h3&gt;Abstract Classes:&lt;/h3&gt;\r\n\r\n - *Board*\r\n - *GameController*\r\n\r\n&lt;h3&gt;Classes extending abstract classes:&lt;/h3&gt;\r\n\r\n - *EdgesWrappedBoard* (extends *Board*)\r\n - *BoundedBoard* (extends *Board*)\r\n - *HTMLGameController* (extends *GameController*)\r\n - *ConsoleGameController* (extends *GameController*)\r\n\r\n&lt;h3&gt;Interfaces:&lt;/h3&gt;\r\n\r\n - *GameRenderer*\r\n - *BoardRenderer*\r\n - *CellRenderer*\r\n - *BoardInitializer*\r\n - *BoardPersister*\r\n\r\n&lt;h3&gt;Classes implementing interfaces:&lt;/h3&gt;\r\n\r\n - *HTMLGameRenderer* (implements *GameRenderer*)\r\n - *ConsoleGameRenderer* (implements *GameRenderer*)\r\n - *HTMLBoardRenderer* (implements *BoardRenderer*)\r\n - *ConsoleBoardRenderer* (implements *BoardRenderer*)\r\n - *HTMLCellRenderer* (implements *CellRenderer*)\r\n - *ConsoleCellRenderer* (implements *CellRenderer*)\r\n - *RandomBoardInitializer* (implements *BoardInitializer*)\r\n - *Test1BoardInitializer* (implements *BoardInitializer*)\r\n - *Test2BoardInitializer* (implements *BoardInitializer*)\r\n - *FileBoardPersister* (implements *BoardPersister*)\r\n - *MySQLBoardPersister* (implements *BoardPersister*)\r\n\r\nStep 4: Finally, I checked for any violation of **Liskov&#39;s Subsitution Principle** or **Interface Segregation Principle**. There were none. These principles respectively are:\r\nObjects in a program should be replaceable with instances of their subtypes without altering the correctness of that program.\r\nMany client-specific interfaces are better than one general-purpose interface.\r\n\r\n**Note:** From the very beginning, to bring out Dependency Inversion and Open/Close principles I set out to have both Web (HTML) and Console interfaces, and be able to persist to both file or database.\r\n\r\nIf you are interested in seeing my thought progression as class diagrams, you can refer to the README.md file of my [implementation of Game of Life][1] shared on GitHub. There would be other solutions as well. My objective was to best communicate my understanding of SOLID principles to my colleagues at work so that we together can implement better maintainability in our OOP PHP code.\r\n\r\n\r\n  [1]: https://github.com/skgchn/conways-game-of-life-oop-solid","title":"Game of Life:- need help in implementing SOLID principles in Game of life","body":"<p>I had earlier shared only the links to README.md file of my Github repository of my implementation and there was a genuine concern expressed to me by the moderators, what if the pages behind the links are removed? I am providing an answer, which I hope is helpful in understanding the solution without having to refer to my README.md file or the code.</p>\n<p>This question is from a year ago. You likely would have already figured out the SOLID principles. Since, I have recently solved Conway's Game of Life in PHP OOP and applied the SOLID design principles with the objective of sharing my understanding of the principles with my colleagues at work, I am sharing my approach to solving this problem here on stackoverflow as an answer to this question, which is so far unanswered. I hope this is helpful to all who arrive here wanting to wrap their heads around SOLID principles specifically by practicing it on Conway's Game of Life problem.</p>\n<p>Below was my thought progression on what classes need to be there:</p>\n<p>Step 1: I started out with obvious classes from the problem statement, which are the <em>Board</em> and <em>Cell</em>, the board being composed of many cells.</p>\n<p>Step 2: On applying <strong>Single Responsibility Principle</strong>, a class should have a single responsibility and only one reason to change, to the <em>Board</em> and the <em>Cell</em> I broke these two classes down into these classes:</p>\n<ul>\n<li><em>Board</em> (for maintaining board dimensions and active cell locations, and the getNeighbourCount() method)</li>\n<li><em>BoardRenderer</em> (for drawing the board on the medium)</li>\n<li><em>BoardPersister</em> (for persisting, i.e. saving the board layout out of memory to a persistent storage like MySQL between steps)</li>\n<li><em>BoardInitializer</em> (for initial arrangement of live cells on the board at the start of game)</li>\n<li>For cells I needed only <em>CellRenderer</em>, because at this point I began\nrealizing my Cell class had no other work to do but to be rendered\n(active cell one way, inactive cell another way). It is the board\nwhich will have the knowledge of its dimensions and the location of\nactive cells (and therefore also the location of inactive cells). I\ndo not require the <em>Cell</em> class.</li>\n</ul>\n<p>Step 3: Next from my understanding of what <strong>Open/Close and Dependency Inversion principles</strong> are, which respectively state, software entities should be open for extension but closed for modification and one should depend upon abstractions and not upon concretions (source Wikipedia), I converted <em>BoardInitializer</em>, <em>BoardRenderer</em>, <em>BoardPersister</em>, <em>CellRenderer</em> from classes to interfaces so that I can build new classes and use them by simply replacing existing classes. These new classes only need to implement their respective interfaces.</p>\n<p>At this stage I realized and I also needed a game controller. So I added a <em>GameController</em> abstract class with newGame() and advanceGame() methods and a <em>GameRenderer</em> interface to primarily render the game controls. I also converted <em>Board</em> into an abstract class to be able to have two types of boards: <em>EdgesWrappedBoard</em> and <em>BoundedBoard</em>. <em>GameRenderer</em> would call <em>BoardRenderer</em>, which in turn would make use of <em>CellRenderer</em> for painting active and inactive cells.</p>\n<p>So, now we have these classes,</p>\n<h3>Abstract Classes:</h3>\n<ul>\n<li><em>Board</em></li>\n<li><em>GameController</em></li>\n</ul>\n<h3>Classes extending abstract classes:</h3>\n<ul>\n<li><em>EdgesWrappedBoard</em> (extends <em>Board</em>)</li>\n<li><em>BoundedBoard</em> (extends <em>Board</em>)</li>\n<li><em>HTMLGameController</em> (extends <em>GameController</em>)</li>\n<li><em>ConsoleGameController</em> (extends <em>GameController</em>)</li>\n</ul>\n<h3>Interfaces:</h3>\n<ul>\n<li><em>GameRenderer</em></li>\n<li><em>BoardRenderer</em></li>\n<li><em>CellRenderer</em></li>\n<li><em>BoardInitializer</em></li>\n<li><em>BoardPersister</em></li>\n</ul>\n<h3>Classes implementing interfaces:</h3>\n<ul>\n<li><em>HTMLGameRenderer</em> (implements <em>GameRenderer</em>)</li>\n<li><em>ConsoleGameRenderer</em> (implements <em>GameRenderer</em>)</li>\n<li><em>HTMLBoardRenderer</em> (implements <em>BoardRenderer</em>)</li>\n<li><em>ConsoleBoardRenderer</em> (implements <em>BoardRenderer</em>)</li>\n<li><em>HTMLCellRenderer</em> (implements <em>CellRenderer</em>)</li>\n<li><em>ConsoleCellRenderer</em> (implements <em>CellRenderer</em>)</li>\n<li><em>RandomBoardInitializer</em> (implements <em>BoardInitializer</em>)</li>\n<li><em>Test1BoardInitializer</em> (implements <em>BoardInitializer</em>)</li>\n<li><em>Test2BoardInitializer</em> (implements <em>BoardInitializer</em>)</li>\n<li><em>FileBoardPersister</em> (implements <em>BoardPersister</em>)</li>\n<li><em>MySQLBoardPersister</em> (implements <em>BoardPersister</em>)</li>\n</ul>\n<p>Step 4: Finally, I checked for any violation of <strong>Liskov's Subsitution Principle</strong> or <strong>Interface Segregation Principle</strong>. There were none. These principles respectively are:\nObjects in a program should be replaceable with instances of their subtypes without altering the correctness of that program.\nMany client-specific interfaces are better than one general-purpose interface.</p>\n<p><strong>Note:</strong> From the very beginning, to bring out Dependency Inversion and Open/Close principles I set out to have both Web (HTML) and Console interfaces, and be able to persist to both file or database.</p>\n<p>If you are interested in seeing my thought progression as class diagrams, you can refer to the README.md file of my <a href=\"https://github.com/skgchn/conways-game-of-life-oop-solid\" rel=\"nofollow noreferrer\">implementation of Game of Life</a> shared on GitHub. There would be other solutions as well. My objective was to best communicate my understanding of SOLID principles to my colleagues at work so that we together can implement better maintainability in our OOP PHP code.</p>\n"}],"owner":{"account_id":4472208,"reputation":73,"user_id":3638236,"accept_rate":17,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636369265,"creation_date":1433689469,"question_id":30695046,"body_markdown":"Hi I am trying to execute game of life program by applying principles such open and close, single responsibility principle,liskov substitution principle,Interface segregation principle and dependency inversion principle. But I am stuck and cannot think where exactly principles should I apply. I am newbie in this if anyone know can someone please help me to understand how to proceed or how to apply it I would really appreciate it.Thank you in advance.\r\nI am uploading certain portion of code as an examples where this principles should be applied.\r\n\r\n\r\nAbstractgame stratedgy\r\n\r\n    public abstract class AbstractGameStratedgy implements GameStratedy {\r\n    \r\n    \tprivate Rule [] rules; \r\n    \t\r\n    \t@Override\r\n    \tpublic void setRules(Rule[] rules) {\r\n    \t\tthis.rules = rules;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Rule[] getRules() {\r\n    \t\treturn rules;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Set&lt;Cell&gt; findNeighbours(Cell cell,Set&lt;Cell&gt; liveCells)\r\n    \t{\r\n    \t\tHashSet&lt;Cell&gt; neighbours=new HashSet&lt;Cell&gt;(); \r\n    \t\t\r\n    \t\tint x=cell.getX();\r\n    \t\tint y=cell.getY();\r\n    \t\tCell tempCell;\r\n    \t\tfor(int i=x-1;i&lt;=x+1;i++)\r\n    \t\t{\r\n    \t\t\tif(i&lt;0) continue;\r\n    \t\t\t\r\n    \t\t\tfor(int j=y-1;j&lt;=y+1;j++)\r\n    \t\t\t{\r\n    \t\t\t\tif(j&lt;0) continue;\r\n    \t\t\t\t\r\n    \t\t\t\ttempCell=new Cell(i, j);\r\n    \t\t\t\tif(liveCells.contains(tempCell))\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttempCell.setState(State.LIVE);\r\n    \t\t\t\t}\r\n    \t\t\t\tneighbours.add(tempCell);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn neighbours;\r\n    \t}\r\n    }\r\n\r\nCell\r\n\r\n    public class Cell {\r\n    \r\n    \tprivate final int x,y;\r\n    \tprivate State state;\r\n    \r\n    \tpublic Cell(int x,int y)\r\n    \t{\r\n    \t\tthis(x,y,State.DEAD);\r\n    \t}\r\n    \t\r\n    \tpublic Cell(int x,int y,State state)\r\n    \t{\r\n    \t\tthis.x=x;\r\n    \t\tthis.y=y;\r\n    \t\tthis.state = state;\r\n    \t}\r\n    \t\r\n    \tpublic int getX() {\r\n    \t\treturn x;\r\n    \t}\r\n    \t\r\n    \tpublic int getY() {\r\n    \t\treturn y;\r\n    \t}\r\n    \t\r\n    \tpublic State getState() {\r\n    \t\treturn state;\r\n    \t}\r\n    \t\r\n    \tpublic void setState(State state) {\r\n    \t\tthis.state = state;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + x;\r\n    \t\tresult = prime * result + y;\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tCell other = (Cell) obj;\r\n    \t\tif (x != other.x)\r\n    \t\t\treturn false;\r\n    \t\tif (y != other.y)\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic Cell createCopy() {\r\n    \t\treturn new Cell(x,y,state);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nRuleRunner\r\n\r\n    public class RuleRunner {\r\n    \t\r\n    \tprivate GameStratedy gameStratedy;\r\n    \r\n    \tpublic RuleRunner(GameStratedy gameStratedy)\r\n    \t{\r\n    \t\tthis.gameStratedy = gameStratedy;\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic Set&lt;Cell&gt; applyRules(Set&lt;Cell&gt; liveCells) {\r\n    \t\tHashSet&lt;Cell&gt; nextGeneration=new HashSet&lt;Cell&gt;(); \r\n    \t\t\r\n    \t\tSet&lt;Cell&gt; neighbouringCells;\r\n    \t\tfor(Cell cellFromCurrentGeneration: liveCells)\r\n    \t\t{\r\n    \t\t\tprocessCell(cellFromCurrentGeneration,liveCells,nextGeneration);\r\n    \t\t\t\r\n    \t\t\tneighbouringCells=gameStratedy.findNeighbours(cellFromCurrentGeneration, liveCells);\r\n    \t\t\t\r\n    \t\t\tfor(Cell neighbouringCell:neighbouringCells)\r\n    \t\t\t{\r\n    \t\t\t\tprocessCell(neighbouringCell,liveCells,nextGeneration);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn filterDead(nextGeneration);\r\n    \t}\r\n    \t\r\n    \tprivate Set&lt;Cell&gt; filterDead(HashSet&lt;Cell&gt; nextGeneration) {\r\n    \t\tIterator&lt;Cell&gt; iterator = nextGeneration.iterator();\r\n    \t\t\r\n    \t\twhile(iterator.hasNext())\r\n    \t\t{\r\n    \t\t\tif(State.DEAD.equals(iterator.next().getState()))\r\n    \t\t\t{\r\n    \t\t\t\titerator.remove();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn nextGeneration;\r\n    \t}\r\n    \r\n    \r\n    \tprivate void processCell(Cell cell,Set&lt;Cell&gt; currentGeneration,Set&lt;Cell&gt; nextGeneration)\r\n    \t{\r\n    \t\tif(nextGeneration.contains(cell)) return; // already processed\r\n    \t\t\r\n    \t\tcell=cell.createCopy();\r\n    \t\t\r\n    \t\tState nextState=cell.getState();\r\n    \t\tfor(Rule rule:gameStratedy.getRules())\r\n    \t\t{\r\n    \t\t\tnextState=rule.nextState(cell.getState(), findLiveNeighbourCount(cell, currentGeneration));\r\n    \t\t\t\r\n    \t\t\tif(!cell.getState().equals(nextState))\r\n    \t\t\t{\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tcell.setState(nextState);\r\n    \t\tnextGeneration.add(cell);\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \tprivate int findLiveNeighbourCount(Cell cell,Set&lt;Cell&gt; liveCells)\r\n    \t{\r\n    \t\tint count=0;\r\n    \t\tfor(Cell c:gameStratedy.findNeighbours(cell, liveCells))\r\n    \t\t{\r\n    \t\t\tif(State.LIVE.equals(c.getState())) count++;\r\n    \t\t}\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Game of Life:- need help in implementing SOLID principles in Game of life","body":"<p>Hi I am trying to execute game of life program by applying principles such open and close, single responsibility principle,liskov substitution principle,Interface segregation principle and dependency inversion principle. But I am stuck and cannot think where exactly principles should I apply. I am newbie in this if anyone know can someone please help me to understand how to proceed or how to apply it I would really appreciate it.Thank you in advance.\nI am uploading certain portion of code as an examples where this principles should be applied.</p>\n\n<p>Abstractgame stratedgy</p>\n\n<pre><code>public abstract class AbstractGameStratedgy implements GameStratedy {\n\n    private Rule [] rules; \n\n    @Override\n    public void setRules(Rule[] rules) {\n        this.rules = rules;\n    }\n\n    @Override\n    public Rule[] getRules() {\n        return rules;\n    }\n\n    @Override\n    public Set&lt;Cell&gt; findNeighbours(Cell cell,Set&lt;Cell&gt; liveCells)\n    {\n        HashSet&lt;Cell&gt; neighbours=new HashSet&lt;Cell&gt;(); \n\n        int x=cell.getX();\n        int y=cell.getY();\n        Cell tempCell;\n        for(int i=x-1;i&lt;=x+1;i++)\n        {\n            if(i&lt;0) continue;\n\n            for(int j=y-1;j&lt;=y+1;j++)\n            {\n                if(j&lt;0) continue;\n\n                tempCell=new Cell(i, j);\n                if(liveCells.contains(tempCell))\n                {\n                    tempCell.setState(State.LIVE);\n                }\n                neighbours.add(tempCell);\n            }\n        }\n\n        return neighbours;\n    }\n}\n</code></pre>\n\n<p>Cell</p>\n\n<pre><code>public class Cell {\n\n    private final int x,y;\n    private State state;\n\n    public Cell(int x,int y)\n    {\n        this(x,y,State.DEAD);\n    }\n\n    public Cell(int x,int y,State state)\n    {\n        this.x=x;\n        this.y=y;\n        this.state = state;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public State getState() {\n        return state;\n    }\n\n    public void setState(State state) {\n        this.state = state;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + x;\n        result = prime * result + y;\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Cell other = (Cell) obj;\n        if (x != other.x)\n            return false;\n        if (y != other.y)\n            return false;\n        return true;\n    }\n\n    public Cell createCopy() {\n        return new Cell(x,y,state);\n    }\n\n}\n</code></pre>\n\n<p>RuleRunner</p>\n\n<pre><code>public class RuleRunner {\n\n    private GameStratedy gameStratedy;\n\n    public RuleRunner(GameStratedy gameStratedy)\n    {\n        this.gameStratedy = gameStratedy;\n    }\n\n\n    public Set&lt;Cell&gt; applyRules(Set&lt;Cell&gt; liveCells) {\n        HashSet&lt;Cell&gt; nextGeneration=new HashSet&lt;Cell&gt;(); \n\n        Set&lt;Cell&gt; neighbouringCells;\n        for(Cell cellFromCurrentGeneration: liveCells)\n        {\n            processCell(cellFromCurrentGeneration,liveCells,nextGeneration);\n\n            neighbouringCells=gameStratedy.findNeighbours(cellFromCurrentGeneration, liveCells);\n\n            for(Cell neighbouringCell:neighbouringCells)\n            {\n                processCell(neighbouringCell,liveCells,nextGeneration);\n            }\n        }\n\n        return filterDead(nextGeneration);\n    }\n\n    private Set&lt;Cell&gt; filterDead(HashSet&lt;Cell&gt; nextGeneration) {\n        Iterator&lt;Cell&gt; iterator = nextGeneration.iterator();\n\n        while(iterator.hasNext())\n        {\n            if(State.DEAD.equals(iterator.next().getState()))\n            {\n                iterator.remove();\n            }\n        }\n\n        return nextGeneration;\n    }\n\n\n    private void processCell(Cell cell,Set&lt;Cell&gt; currentGeneration,Set&lt;Cell&gt; nextGeneration)\n    {\n        if(nextGeneration.contains(cell)) return; // already processed\n\n        cell=cell.createCopy();\n\n        State nextState=cell.getState();\n        for(Rule rule:gameStratedy.getRules())\n        {\n            nextState=rule.nextState(cell.getState(), findLiveNeighbourCount(cell, currentGeneration));\n\n            if(!cell.getState().equals(nextState))\n            {\n                break;\n            }\n        }\n\n        cell.setState(nextState);\n        nextGeneration.add(cell);\n    }\n\n\n\n    private int findLiveNeighbourCount(Cell cell,Set&lt;Cell&gt; liveCells)\n    {\n        int count=0;\n        for(Cell c:gameStratedy.findNeighbours(cell, liveCells))\n        {\n            if(State.LIVE.equals(c.getState())) count++;\n        }\n        return count;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1518869282,"post_id":48840989,"comment_id":84686236,"body_markdown":"Seems to be a caching bug? If you swap the first 2 lines in main, the cast exception is reversed.","body":"Seems to be a caching bug? If you swap the first 2 lines in main, the cast exception is reversed."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1518869363,"post_id":48840989,"comment_id":84686258,"body_markdown":"There&#39;s another wrinkle here: if you add `ToLongFunction&lt;C&gt; cc = (ToLongFunction&lt;C&gt; &amp; Serializable) A::value; cc.applyAsLong(new C());` *before* the serialization code in `main`, you get a CCE on the `fn1.applyAsLong` line. This seems to agree with @davidxxx&#39;s suggestion of caching.","body":"There&#39;s another wrinkle here: if you add <code>ToLongFunction&lt;C&gt; cc = (ToLongFunction&lt;C&gt; &amp; Serializable) A::value; cc.applyAsLong(new C());</code> <i>before</i> the serialization code in <code>main</code>, you get a CCE on the <code>fn1.applyAsLong</code> line. This seems to agree with @davidxxx&#39;s suggestion of caching."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518869731,"creation_date":1518869401,"answer_id":48841116,"question_id":48840989,"body_markdown":"I don&#39;t know how to explain that but the behavior is particular because executing the main code with only one invocation of `serde()` works for both cases.\r\n\r\nThat is this :\r\n\r\n    ToLongFunction&lt;B&gt; fn1 = serde((ToLongFunction&lt;B&gt; &amp; Serializable) A::value);\r\n    fn1.applyAsLong(new B());\r\n\r\nor this :\r\n\r\n    ToLongFunction&lt;C&gt; fn2 = serde((ToLongFunction&lt;C&gt; &amp; Serializable) A::value);\r\n    fn2.applyAsLong(new C());\r\n    \r\n\r\nWhile as the two invocations are performed in the same program, I notice an expected thing :  the value of the parameter (`T t`) is not the same for the two cases.   \r\nBut I notice an unexpected thing : at the second invocation of `serde()` the object returned by `ois.readObject()` is the same reference as which one returned by the first `ois.readObject()` invocation.   \r\nAs if the first one was cached and reused for the second invocation.\r\n\r\nIt seems a bug.","title":"Serialization and deserialization of lambda","body":"<p>I don't know how to explain that but the behavior is particular because executing the main code with only one invocation of <code>serde()</code> works for both cases.</p>\n\n<p>That is this :</p>\n\n<pre><code>ToLongFunction&lt;B&gt; fn1 = serde((ToLongFunction&lt;B&gt; &amp; Serializable) A::value);\nfn1.applyAsLong(new B());\n</code></pre>\n\n<p>or this :</p>\n\n<pre><code>ToLongFunction&lt;C&gt; fn2 = serde((ToLongFunction&lt;C&gt; &amp; Serializable) A::value);\nfn2.applyAsLong(new C());\n</code></pre>\n\n<p>While as the two invocations are performed in the same program, I notice an expected thing :  the value of the parameter (<code>T t</code>) is not the same for the two cases.<br>\nBut I notice an unexpected thing : at the second invocation of <code>serde()</code> the object returned by <code>ois.readObject()</code> is the same reference as which one returned by the first <code>ois.readObject()</code> invocation.<br>\nAs if the first one was cached and reused for the second invocation.</p>\n\n<p>It seems a bug.</p>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1519025227,"creation_date":1518870910,"answer_id":48841337,"question_id":48840989,"body_markdown":"Have a look at this Open JDK issue raised back in 2016:\r\n\r\n[Deserialization of lambda causes ClassCastException](https://bugs.openjdk.java.net/browse/JDK-8154236)\r\n\r\nIt quite precisely matches your scenario:\r\n\r\n&gt;- Two (distinct) classes, `B` and `C`, both of which extend the same base class, `A`, which has a method, `String f()`. \r\n- Create a `Supplier` reference to method `f()` for an object of type `B`; call this `bf` [`new B()::f`]. \r\n- Create a `Supplier` reference to method `f()` for an object of type `C`; cal this `cf` [`new C()::f`]. \r\n- Serialize `cf` (`ObjectOutputStream#writeObject`) \r\n- When the serialized `cf` is deserialized (`ObjectInputStream#readObject`), a `ClassCastException` is thrown saying that class `C` cannot be cast to class `B` \r\n\r\n\r\nThere&#39;s an interesting discussion on the issue, but the very last comment by Dan Smith seems to nail it:\r\n\r\n&gt;Important observation for this particular test case: the &quot;qualifying type&quot; (i.e., the class named by the bytecode) of a method reference should be the same as the qualifying type of an invocation: the type of the receiver. javac is wrong to be using the type of the declaring class. See [JDK-8059632](https://bugs.openjdk.java.net/browse/JDK-8059632). \r\n\r\n&gt; Fix that bug, and I think the issue with different captured types goes away.","title":"Serialization and deserialization of lambda","body":"<p>Have a look at this Open JDK issue raised back in 2016:</p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8154236\" rel=\"nofollow noreferrer\">Deserialization of lambda causes ClassCastException</a></p>\n\n<p>It quite precisely matches your scenario:</p>\n\n<blockquote>\n  <ul>\n  <li>Two (distinct) classes, <code>B</code> and <code>C</code>, both of which extend the same base class, <code>A</code>, which has a method, <code>String f()</code>. </li>\n  <li>Create a <code>Supplier</code> reference to method <code>f()</code> for an object of type <code>B</code>; call this <code>bf</code> [<code>new B()::f</code>]. </li>\n  <li>Create a <code>Supplier</code> reference to method <code>f()</code> for an object of type <code>C</code>; cal this <code>cf</code> [<code>new C()::f</code>]. </li>\n  <li>Serialize <code>cf</code> (<code>ObjectOutputStream#writeObject</code>) </li>\n  <li>When the serialized <code>cf</code> is deserialized (<code>ObjectInputStream#readObject</code>), a <code>ClassCastException</code> is thrown saying that class <code>C</code> cannot be cast to class <code>B</code> </li>\n  </ul>\n</blockquote>\n\n<p>There's an interesting discussion on the issue, but the very last comment by Dan Smith seems to nail it:</p>\n\n<blockquote>\n  <p>Important observation for this particular test case: the \"qualifying type\" (i.e., the class named by the bytecode) of a method reference should be the same as the qualifying type of an invocation: the type of the receiver. javac is wrong to be using the type of the declaring class. See <a href=\"https://bugs.openjdk.java.net/browse/JDK-8059632\" rel=\"nofollow noreferrer\">JDK-8059632</a>. </p>\n  \n  <p>Fix that bug, and I think the issue with different captured types goes away.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5139297,"reputation":600,"user_id":4117161,"display_name":"Nisheeth Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636369219,"creation_date":1518872490,"answer_id":48841561,"question_id":48840989,"body_markdown":"If you want to make it work, then remove the default implementation of `value()` from `BaseClass` interface and override it in the implementing classes like this:\r\n\r\n\tinterface BaseClass {\r\n\t\tlong value();\r\n\t}\r\n\tpublic class LambdaTest {\r\n\r\n\t\tpublic static void main(String[] args) throws IOException, ClassNotFoundException {\r\n\t\t\tToLongFunction&lt;Subclass1&gt; fn1 = serDe((Serializable &amp; ToLongFunction&lt;Subclass1&gt;) Subclass1::value);\r\n\t\t\tfn1.applyAsLong(new Subclass1());\r\n\t\t\tToLongFunction&lt;Subclass2&gt; fn2 = serDe((Serializable &amp; ToLongFunction&lt;Subclass2&gt;) Subclass2::value);\r\n\t\t\tfn2.applyAsLong(new Subclass2());\r\n\t\t}\r\n\r\n\t\tprivate static &lt;T extends Serializable&gt; void printType(T t) {\r\n\t\t\tSystem.out.println(t.getClass().getSimpleName());\r\n\t\t}\r\n\r\n\t\tprivate static &lt;T extends Serializable&gt; T serDe(T t) throws IOException, ClassNotFoundException {\r\n\t\t\tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n\t\t\tnew ObjectOutputStream(bos).writeObject(t);\r\n\t\t\tObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bos.toByteArray()));\r\n\t\t\tT readT = (T) ois.readObject();\r\n\t\t\tois.close();\r\n\t\t\tbos.close();\r\n\t\t\treturn readT;\r\n\t\t}\r\n\t}\r\n\tclass Subclass1 implements BaseClass {\r\n\r\n\t\t@Override\r\n\t\tpublic long value() {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\tclass Subclass2 implements BaseClass {\r\n\r\n\t\t@Override\r\n\t\tpublic long value() {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t}","title":"Serialization and deserialization of lambda","body":"<p>If you want to make it work, then remove the default implementation of <code>value()</code> from <code>BaseClass</code> interface and override it in the implementing classes like this:</p>\n<pre><code>interface BaseClass {\n    long value();\n}\npublic class LambdaTest {\n\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        ToLongFunction&lt;Subclass1&gt; fn1 = serDe((Serializable &amp; ToLongFunction&lt;Subclass1&gt;) Subclass1::value);\n        fn1.applyAsLong(new Subclass1());\n        ToLongFunction&lt;Subclass2&gt; fn2 = serDe((Serializable &amp; ToLongFunction&lt;Subclass2&gt;) Subclass2::value);\n        fn2.applyAsLong(new Subclass2());\n    }\n\n    private static &lt;T extends Serializable&gt; void printType(T t) {\n        System.out.println(t.getClass().getSimpleName());\n    }\n\n    private static &lt;T extends Serializable&gt; T serDe(T t) throws IOException, ClassNotFoundException {\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        new ObjectOutputStream(bos).writeObject(t);\n        ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bos.toByteArray()));\n        T readT = (T) ois.readObject();\n        ois.close();\n        bos.close();\n        return readT;\n    }\n}\nclass Subclass1 implements BaseClass {\n\n    @Override\n    public long value() {\n        return 0;\n    }\n}\nclass Subclass2 implements BaseClass {\n\n    @Override\n    public long value() {\n        return 1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":252805,"reputation":8830,"user_id":531098,"accept_rate":100,"display_name":"Can Gencer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":48841337,"answer_count":3,"score":15,"last_activity_date":1636369219,"creation_date":1518868495,"question_id":48840989,"body_markdown":"This code below throws \r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: test.Subclass2 cannot be cast to test.Subclass1\r\n    at test.LambdaTest.main(LambdaTest.java:17)\r\n\r\n----\r\n\r\n    public class LambdaTest {\r\n\r\n        public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n            ToLongFunction&lt;B&gt; fn1 = serde((ToLongFunction&lt;B&gt; &amp; Serializable) B::value);\r\n            ToLongFunction&lt;C&gt; fn2 = serde((ToLongFunction&lt;C&gt; &amp; Serializable) C::value);\r\n            fn1.applyAsLong(new B());\r\n            fn2.applyAsLong(new C()); // Line 17 -- exception here!\r\n        }\r\n\r\n        private static &lt;T extends Serializable&gt; T serde(T t) throws IOException, ClassNotFoundException {\r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            new ObjectOutputStream(bos).writeObject(t);\r\n            ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bos\r\n                    .toByteArray()));\r\n            return (T) ois.readObject();\r\n        }\r\n    }\r\n\r\n    class A {\r\n        public long value() {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    class B extends A { }\r\n\r\n    class C extends A { }\r\n\r\nThe reason seems to be that after serialization and deserialization, both fn1 and fn2 end up as the same class. Is this a JDK/compiler bug or am I missing something about serialization and deserialization of lambdas?","title":"Serialization and deserialization of lambda","body":"<p>This code below throws </p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: test.Subclass2 cannot be cast to test.Subclass1\nat test.LambdaTest.main(LambdaTest.java:17)\n</code></pre>\n\n<hr>\n\n<pre><code>public class LambdaTest {\n\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        ToLongFunction&lt;B&gt; fn1 = serde((ToLongFunction&lt;B&gt; &amp; Serializable) B::value);\n        ToLongFunction&lt;C&gt; fn2 = serde((ToLongFunction&lt;C&gt; &amp; Serializable) C::value);\n        fn1.applyAsLong(new B());\n        fn2.applyAsLong(new C()); // Line 17 -- exception here!\n    }\n\n    private static &lt;T extends Serializable&gt; T serde(T t) throws IOException, ClassNotFoundException {\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        new ObjectOutputStream(bos).writeObject(t);\n        ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bos\n                .toByteArray()));\n        return (T) ois.readObject();\n    }\n}\n\nclass A {\n    public long value() {\n        return 0;\n    }\n}\n\nclass B extends A { }\n\nclass C extends A { }\n</code></pre>\n\n<p>The reason seems to be that after serialization and deserialization, both fn1 and fn2 end up as the same class. Is this a JDK/compiler bug or am I missing something about serialization and deserialization of lambdas?</p>\n"},{"tags":["java","spring-boot","junit","spring-test"],"comments":[{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1521285102,"post_id":49335226,"comment_id":85672101,"body_markdown":"If you change the type of  `count` to String then it will work","body":"If you change the type of  <code>count</code> to String then it will work"}],"answers":[{"tags":[],"owner":{"account_id":5139297,"reputation":600,"user_id":4117161,"display_name":"Nisheeth Shah"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636369160,"creation_date":1521285314,"answer_id":49335336,"question_id":49335226,"body_markdown":"While testing, you have to provide properties source. If you don&#39;t add properties, it will inject the value inside `@Value` in the variable. In your case, it tries to add the string in the integer that gives `NumberFormatException`.\r\nTry adding as below:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @TestPropertySource(properties = {&quot;app.count=1&quot;, &quot;app.countStr=sampleString&quot;})\r\n    public class SampleServiceTest{...}\r\n\r\n\r\nAs you are using `@Autowired`, before `ReflectionTestUtils` it tries to add the value inside `@Value`.","title":"Spring ReflectionTestUtils does not set primitive data type field","body":"<p>While testing, you have to provide properties source. If you don't add properties, it will inject the value inside <code>@Value</code> in the variable. In your case, it tries to add the string in the integer that gives <code>NumberFormatException</code>.\nTry adding as below:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@TestPropertySource(properties = {&quot;app.count=1&quot;, &quot;app.countStr=sampleString&quot;})\npublic class SampleServiceTest{...}\n</code></pre>\n<p>As you are using <code>@Autowired</code>, before <code>ReflectionTestUtils</code> it tries to add the value inside <code>@Value</code>.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521288785,"creation_date":1521286697,"answer_id":49335532,"question_id":49335226,"body_markdown":"Your problem is that the method annotated with `@Before` is invoked **after** that the spring context was initialized and that the service was injected by Spring in your test class.   \r\nWhich means that these two fields :\r\n\r\n    @Value(&quot;${app.count}&quot;)\r\n    private int count;\r\n\r\n    @Value(&quot;${app.countStr}&quot;)\r\n    private String countStr;\r\n\r\nwill have as value the value defined in their `@Value` values.   \r\n`String countStr` can be valued with the `&quot;${app.countStr}&quot;`  `String` (even it it makes no sense).  \r\nBut `int count` cannot be valued with  the `&quot;${app.count}&quot;`  `String` as **`&quot;${app.count}&quot;` cannot be converted into an int value**.   \r\nWhereas the thrown exception as `Integer.parseInt(&quot;${app.count}&quot;)` is invoked :\r\n\r\n&lt;pre&gt;\r\nCaused by: java.lang.NumberFormatException: For input string: &quot;${app.count}&quot;\r\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n    at java.lang.Integer.parseInt(Integer.java:569)\r\n&lt;/pre&gt;\r\n\r\nTo address this issue, use `@TestPropertySource` as suggested by Nisheeth Shah to  provide the value for the properties at the suitable time.   \r\n\r\nAs a general advise, limit the reflection use. It is checked only at runtime and that is often more opaque.   \r\n\r\n\r\n","title":"Spring ReflectionTestUtils does not set primitive data type field","body":"<p>Your problem is that the method annotated with <code>@Before</code> is invoked <strong>after</strong> that the spring context was initialized and that the service was injected by Spring in your test class.<br>\nWhich means that these two fields :</p>\n\n<pre><code>@Value(\"${app.count}\")\nprivate int count;\n\n@Value(\"${app.countStr}\")\nprivate String countStr;\n</code></pre>\n\n<p>will have as value the value defined in their <code>@Value</code> values.<br>\n<code>String countStr</code> can be valued with the <code>\"${app.countStr}\"</code>  <code>String</code> (even it it makes no sense).<br>\nBut <code>int count</code> cannot be valued with  the <code>\"${app.count}\"</code>  <code>String</code> as <strong><code>\"${app.count}\"</code> cannot be converted into an int value</strong>.<br>\nWhereas the thrown exception as <code>Integer.parseInt(\"${app.count}\")</code> is invoked :</p>\n\n<pre>\nCaused by: java.lang.NumberFormatException: For input string: \"${app.count}\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:569)\n</pre>\n\n<p>To address this issue, use <code>@TestPropertySource</code> as suggested by Nisheeth Shah to  provide the value for the properties at the suitable time.   </p>\n\n<p>As a general advise, limit the reflection use. It is checked only at runtime and that is often more opaque.   </p>\n"}],"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4163,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":49335336,"answer_count":2,"score":2,"last_activity_date":1636369160,"creation_date":1521284565,"question_id":49335226,"body_markdown":"I use ReflectionTestUtils to set int field in my service class to test the class.\r\nMy service class like:\r\n\r\n    @Service\r\n    public class SampleService {\r\n    \r\n    \t@Value(&quot;${app.count}&quot;)\r\n    \tprivate int count;\r\n    \t\r\n    \t@Value(&quot;${app.countStr}&quot;)\r\n    \tprivate String countStr;\r\n    \r\n    \tpublic int getCount() {\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tpublic void setCount(int count) {\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \r\n    \tpublic String getCountStr() {\r\n    \t\treturn countStr;\r\n    \t}\r\n    \r\n    \tpublic void setCountStr(String countStr) {\r\n    \t\tthis.countStr = countStr;\r\n    \t}\r\n    \t\r\n    \t@PostConstruct\r\n    \tpublic int demoMethod() {\r\n    \t\treturn count + Integer.parseInt(countStr);\r\n    \t}\r\n    }\r\n\r\nand test class is like:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    public class SampleServiceTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate SampleService sampleService;\r\n    \t\r\n    \t@TestConfiguration\r\n    \tstatic class SampleServiceTestConfig {\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic SampleService sampleService() {\r\n    \t\t\treturn new SampleService();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Before\r\n    \tpublic void init() {\r\n    \t\tReflectionTestUtils.setField(sampleService, &quot;count&quot;, new Integer(100));\r\n    \t\tReflectionTestUtils.setField(sampleService, &quot;countStr&quot;, 100);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testDemoMethod() {\r\n    \t\tint a  = sampleService.demoMethod();\r\n    \t\tAssert.assertTrue(a == 200);\r\n    \t}\r\n    }\r\n\r\nWhile I run this test case it gives below error:\r\n\r\n    Caused by: java.lang.NumberFormatException: For input string: &quot;${app.count}&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n    \tat java.lang.Integer.parseInt(Integer.java:569)\r\n    \tat java.lang.Integer.valueOf(Integer.java:766)\r\n    \tat org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:210)\r\n    \tat org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)\r\n    \tat org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:466)\r\n    \tat org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:439)\r\n    \tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:192)\r\n    \tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:117)\r\n    \tat org.springframework.beans.TypeConverterSupport.doConvert(TypeConverterSupport.java:70)\r\n    \t... 47 more\r\n\r\nWhy ReflectionTestUtils try set string value in the field?\r\n\r\nI put 2 fields, one is an integer and another is a string for testing purpose.\r\n\r\nYou can find source code [here][1].\r\n\r\nPlease have look and suggest a workaround for the same.\r\n\r\n\r\n  [1]: https://github.com/nitinvavdiya/junit-test-for-property","title":"Spring ReflectionTestUtils does not set primitive data type field","body":"<p>I use ReflectionTestUtils to set int field in my service class to test the class.\nMy service class like:</p>\n\n<pre><code>@Service\npublic class SampleService {\n\n    @Value(\"${app.count}\")\n    private int count;\n\n    @Value(\"${app.countStr}\")\n    private String countStr;\n\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n        this.count = count;\n    }\n\n    public String getCountStr() {\n        return countStr;\n    }\n\n    public void setCountStr(String countStr) {\n        this.countStr = countStr;\n    }\n\n    @PostConstruct\n    public int demoMethod() {\n        return count + Integer.parseInt(countStr);\n    }\n}\n</code></pre>\n\n<p>and test class is like:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\npublic class SampleServiceTest {\n\n    @Autowired\n    private SampleService sampleService;\n\n    @TestConfiguration\n    static class SampleServiceTestConfig {\n\n        @Bean\n        public SampleService sampleService() {\n            return new SampleService();\n        }\n    }\n\n    @Before\n    public void init() {\n        ReflectionTestUtils.setField(sampleService, \"count\", new Integer(100));\n        ReflectionTestUtils.setField(sampleService, \"countStr\", 100);\n    }\n\n    @Test\n    public void testDemoMethod() {\n        int a  = sampleService.demoMethod();\n        Assert.assertTrue(a == 200);\n    }\n}\n</code></pre>\n\n<p>While I run this test case it gives below error:</p>\n\n<pre><code>Caused by: java.lang.NumberFormatException: For input string: \"${app.count}\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:569)\n    at java.lang.Integer.valueOf(Integer.java:766)\n    at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:210)\n    at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)\n    at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:466)\n    at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:439)\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:192)\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:117)\n    at org.springframework.beans.TypeConverterSupport.doConvert(TypeConverterSupport.java:70)\n    ... 47 more\n</code></pre>\n\n<p>Why ReflectionTestUtils try set string value in the field?</p>\n\n<p>I put 2 fields, one is an integer and another is a string for testing purpose.</p>\n\n<p>You can find source code <a href=\"https://github.com/nitinvavdiya/junit-test-for-property\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Please have look and suggest a workaround for the same.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5139297,"reputation":600,"user_id":4117161,"display_name":"Nisheeth Shah"},"score":0,"creation_date":1548152555,"post_id":54305884,"comment_id":95431984,"body_markdown":"I hope you already know about JWT tokens. Documentation is available for it if not familiar with it. I would suggest you not to include the facebook credentials into the JWT. Instead of doing that, you should generate the a random token that will be stored in some kind of storage like persistence or maybe a cache. Each time, on the authorisation of the every request you can retrieve the facebook credential from the cache or persistence and validate the token. Let me know in comments if you need more help or I missed something.","body":"I hope you already know about JWT tokens. Documentation is available for it if not familiar with it. I would suggest you not to include the facebook credentials into the JWT. Instead of doing that, you should generate the a random token that will be stored in some kind of storage like persistence or maybe a cache. Each time, on the authorisation of the every request you can retrieve the facebook credential from the cache or persistence and validate the token. Let me know in comments if you need more help or I missed something."},{"owner":{"account_id":9532676,"reputation":1,"user_id":7083781,"display_name":"sundararajan s"},"score":0,"creation_date":1548184941,"post_id":54305884,"comment_id":95450089,"body_markdown":"Hi Nisheeth, I got your point. But my requirement is use needs to login with Facebook credentials and have to validate the use further request.","body":"Hi Nisheeth, I got your point. But my requirement is use needs to login with Facebook credentials and have to validate the use further request."},{"owner":{"account_id":9532676,"reputation":1,"user_id":7083781,"display_name":"sundararajan s"},"score":0,"creation_date":1548185378,"post_id":54305884,"comment_id":95450280,"body_markdown":"for example. If I have logged in with facebook credential on xyz App. next i&#39;m trying to access some confidential information on this time have to validate the use whether the use is authorised or not. This is what my requirement. Can you please assist me. Thanks.","body":"for example. If I have logged in with facebook credential on xyz App. next i&#39;m trying to access some confidential information on this time have to validate the use whether the use is authorised or not. This is what my requirement. Can you please assist me. Thanks."},{"owner":{"account_id":5139297,"reputation":600,"user_id":4117161,"display_name":"Nisheeth Shah"},"score":0,"creation_date":1548233652,"post_id":54305884,"comment_id":95465307,"body_markdown":"When the user logs in using facebook credentials, the user will be authenticated by the facebook and will issue the token that can be used for authorisation. My point is that once you authenticate the user on facebook, you get the credential. Instead of wrapping it into the JWT, store it somewhere with id and wrap that ID in the JWT. On each request, you will receive the JWT token and while authorising, you can get id from the JWT and get it from the persistence or store and authorise the user.","body":"When the user logs in using facebook credentials, the user will be authenticated by the facebook and will issue the token that can be used for authorisation. My point is that once you authenticate the user on facebook, you get the credential. Instead of wrapping it into the JWT, store it somewhere with id and wrap that ID in the JWT. On each request, you will receive the JWT token and while authorising, you can get id from the JWT and get it from the persistence or store and authorise the user."},{"owner":{"account_id":9532676,"reputation":1,"user_id":7083781,"display_name":"sundararajan s"},"score":0,"creation_date":1548234794,"post_id":54305884,"comment_id":95465939,"body_markdown":"OK, Can you please share me the code snip/ link for get the user credentials after authentication done by facebook.","body":"OK, Can you please share me the code snip/ link for get the user credentials after authentication done by facebook."},{"owner":{"account_id":5139297,"reputation":600,"user_id":4117161,"display_name":"Nisheeth Shah"},"score":0,"creation_date":1548407144,"post_id":54305884,"comment_id":95538173,"body_markdown":"Sure thing. I will be posting an example here shortly.","body":"Sure thing. I will be posting an example here shortly."}],"answers":[{"tags":[],"owner":{"account_id":5139297,"reputation":600,"user_id":4117161,"display_name":"Nisheeth Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636369093,"creation_date":1548408240,"answer_id":54362264,"question_id":54305884,"body_markdown":"When the user logs in using facebook credentials, the user will be authenticated by the facebook and will issue the token that can be used for authorisation. My point is that once you authenticate the user on facebook, you get the credential. Instead of wrapping it into the JWT, store it somewhere with id and wrap that ID in the JWT. On each request, you will receive the JWT token and while authorising, you can get id from the JWT and get it from the persistence or store and authorise the user.\r\n\r\nLet say you have the facebook tokens after login, then you have to store it somewhere using some id \r\n`String fbTokenId = storeFBToken(fbToken);`. Using this token you can generate JWT token like:\r\n\r\n    Algorithm algorithm = Algorithm.HMAC256(key);\r\n    String token = JWT.create().withIssuer(author)\r\n                .withClaim(&quot;fbTokenId&quot;, fbTokenId)\r\n                .withSubject(&quot;user&quot;)\r\n                .sign(algorithm);\r\n\r\nWhen you authorise the request, you will have the JWT token. Now you have to get verify the token and read the `fbTokenId` to verify it:\r\n\r\n    Algorithm algorithm = Algorithm.HMAC256(key);\r\n    JWTVerifier verifier = JWT.require(algorithm).withIssuer(author)\r\n            .build();\r\n    DecodedJWT jwt = verifier.verify(token);\r\n    String fbTokenId = jwt.getClaim(&quot;fbTokenId&quot;).as(String.class);\r\n    String fbToken = getFBTokenFromStore(fbTokenId);\r\n\r\nBefore you jump into this, make sure you understand stateless authentication and authorisation concepts especially with tokens. \r\n\r\nFind a sample authentication application [here][1]\r\n\r\n\r\n  [1]: https://github.com/szerhusenBC/jwt-spring-security-demo/tree/master/src/main/java/org/zerhusen/security","title":"How to generate JWT Token using Facebook credentials in Spring boot","body":"<p>When the user logs in using facebook credentials, the user will be authenticated by the facebook and will issue the token that can be used for authorisation. My point is that once you authenticate the user on facebook, you get the credential. Instead of wrapping it into the JWT, store it somewhere with id and wrap that ID in the JWT. On each request, you will receive the JWT token and while authorising, you can get id from the JWT and get it from the persistence or store and authorise the user.</p>\n<p>Let say you have the facebook tokens after login, then you have to store it somewhere using some id\n<code>String fbTokenId = storeFBToken(fbToken);</code>. Using this token you can generate JWT token like:</p>\n<pre><code>Algorithm algorithm = Algorithm.HMAC256(key);\nString token = JWT.create().withIssuer(author)\n            .withClaim(&quot;fbTokenId&quot;, fbTokenId)\n            .withSubject(&quot;user&quot;)\n            .sign(algorithm);\n</code></pre>\n<p>When you authorise the request, you will have the JWT token. Now you have to get verify the token and read the <code>fbTokenId</code> to verify it:</p>\n<pre><code>Algorithm algorithm = Algorithm.HMAC256(key);\nJWTVerifier verifier = JWT.require(algorithm).withIssuer(author)\n        .build();\nDecodedJWT jwt = verifier.verify(token);\nString fbTokenId = jwt.getClaim(&quot;fbTokenId&quot;).as(String.class);\nString fbToken = getFBTokenFromStore(fbTokenId);\n</code></pre>\n<p>Before you jump into this, make sure you understand stateless authentication and authorisation concepts especially with tokens.</p>\n<p>Find a sample authentication application <a href=\"https://github.com/szerhusenBC/jwt-spring-security-demo/tree/master/src/main/java/org/zerhusen/security\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":9532676,"reputation":1,"user_id":7083781,"display_name":"sundararajan s"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636369093,"creation_date":1548151932,"question_id":54305884,"body_markdown":"I have one requirement that have to develop Spring boot Rest API for login using Facebook credentials and have to generate JWT token for this credentials and validate every request.\r\n\r\nThanks. \r\n\r\n","title":"How to generate JWT Token using Facebook credentials in Spring boot","body":"<p>I have one requirement that have to develop Spring boot Rest API for login using Facebook credentials and have to generate JWT token for this credentials and validate every request.</p>\n\n<p>Thanks. </p>\n"},{"tags":["java","spring","spring-boot","aspectj"],"comments":[{"owner":{"account_id":16606113,"reputation":609,"user_id":12000556,"display_name":"Govind Kumar Thakur"},"score":0,"creation_date":1658981250,"post_id":69467500,"comment_id":129188232,"body_markdown":"Hi , I also tried same followed all steps from baeldung but didn&#39;t work. I spent my two days but still harder luck. If you get the solution using AspectJ . Please share the solutions with me. I need to implement this in my project.","body":"Hi , I also tried same followed all steps from baeldung but didn&#39;t work. I spent my two days but still harder luck. If you get the solution using AspectJ . Please share the solutions with me. I need to implement this in my project."}],"answers":[{"tags":[],"owner":{"account_id":10993747,"reputation":487,"user_id":8076698,"display_name":"semicolon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636265176,"creation_date":1633531419,"answer_id":69467876,"question_id":69467500,"body_markdown":"Problem is : \r\n\r\nYou are initializing your `LegacyCode` using `new` keyword. Now problem is that `LegacyCode` uses `autowire` which works only for beans created using Spring. Hence NPE as `@autowired` will not work with `new`. \r\n\r\nSolution : \r\n\r\nYou can mark your `LegacyCode` with `@Component` and then `autowire` it in `ApiClient`. This way `MessageSender` bean will be created and will be available.","title":"How do I inject spring beans into non-managed beans in a Spring boot console application?","body":"<p>Problem is :</p>\n<p>You are initializing your <code>LegacyCode</code> using <code>new</code> keyword. Now problem is that <code>LegacyCode</code> uses <code>autowire</code> which works only for beans created using Spring. Hence NPE as <code>@autowired</code> will not work with <code>new</code>.</p>\n<p>Solution :</p>\n<p>You can mark your <code>LegacyCode</code> with <code>@Component</code> and then <code>autowire</code> it in <code>ApiClient</code>. This way <code>MessageSender</code> bean will be created and will be available.</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633532426,"creation_date":1633532426,"answer_id":69468135,"question_id":69467500,"body_markdown":"`@SpringBootApplication` annotation must be used in your main class. Thus move it from `SpringApp` to `DummyApplication`.","title":"How do I inject spring beans into non-managed beans in a Spring boot console application?","body":"<p><code>@SpringBootApplication</code> annotation must be used in your main class. Thus move it from <code>SpringApp</code> to <code>DummyApplication</code>.</p>\n"},{"tags":[],"owner":{"account_id":315035,"reputation":1147,"user_id":630578,"accept_rate":70,"display_name":"ac_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636369065,"creation_date":1633536691,"answer_id":69469143,"question_id":69467500,"body_markdown":"One way to solve this problem is to use ApplicationContextAware, like so:\r\n\r\n```\r\n/** In a perfect world, this wouldn&#39;t exist. Maybe one day we can spring-ify everything and this won&#39;t need to. */\r\n@Component\r\npublic class SpringContext implements ApplicationContextAware {\r\n    private static ApplicationContext context;\r\n\r\n    public static &lt;T extends Object&gt; T getBean(Class&lt;T&gt; beanClass) {\r\n        return context.getBean(beanClass);\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        SpringContext.context = applicationContext;\r\n    }\r\n}\r\n\r\n```\r\n\r\nYou can then call this in the constructor of your legacy code to retrieve what you need to like so:\r\n\r\n```\r\n    public LegacyCode() {\r\n        sender = SpringContext.getBean(MessageSender.class);\r\n    }\r\n```\r\n\r\n...and it works.\r\n\r\nOk, you now have a dependency on this SpringContext class but that will go in time if you Spring-ify the entire app and it&#39;s not so bad.","title":"How do I inject spring beans into non-managed beans in a Spring boot console application?","body":"<p>One way to solve this problem is to use ApplicationContextAware, like so:</p>\n<pre><code>/** In a perfect world, this wouldn't exist. Maybe one day we can spring-ify everything and this won't need to. */\n@Component\npublic class SpringContext implements ApplicationContextAware {\n    private static ApplicationContext context;\n\n    public static &lt;T extends Object&gt; T getBean(Class&lt;T&gt; beanClass) {\n        return context.getBean(beanClass);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        SpringContext.context = applicationContext;\n    }\n}\n\n</code></pre>\n<p>You can then call this in the constructor of your legacy code to retrieve what you need to like so:</p>\n<pre><code>    public LegacyCode() {\n        sender = SpringContext.getBean(MessageSender.class);\n    }\n</code></pre>\n<p>...and it works.</p>\n<p>Ok, you now have a dependency on this SpringContext class but that will go in time if you Spring-ify the entire app and it's not so bad.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635315295,"creation_date":1634132044,"answer_id":69556546,"question_id":69467500,"body_markdown":"I did not clone your project, just started to take a quick look at your POM in the browser. What immediately jumped at me was this:\r\n\r\nYour Maven POM is wrong. You only preconfigure the AspectJ Maven Plugin in the `pluginManagement` section without ever actually declaring the plugin in the regular `plugins` section. I.e., the plugin is not going to be used during your build.\r\n\r\nIf after fixing that you are still having follow-up problems, I can take a second look.\r\n\r\n---\r\n\r\n**Update:** What I said before is true, but I also noticed some more oversights in your POM and test code:\r\n\r\n* You use a non-existent AspectJ Maven Plugin version.\r\n* For compile-time weaving, you need the AspectJ runtime `aspectjrt` on the classpath.\r\n* You need `spring-tx` on the dependency list, otherwise a class referred to by `spring-aspects` will not be found.\r\n* Your test expects a result different from the actual &quot;ok&quot;.\r\n\r\n---\r\n\r\n**Update 2:** You can simply accept [this pull request](https://github.com/AlexMakesSoftware/SpringConsoleApp3/pull/1).","title":"How do I inject spring beans into non-managed beans in a Spring boot console application?","body":"<p>I did not clone your project, just started to take a quick look at your POM in the browser. What immediately jumped at me was this:</p>\n<p>Your Maven POM is wrong. You only preconfigure the AspectJ Maven Plugin in the <code>pluginManagement</code> section without ever actually declaring the plugin in the regular <code>plugins</code> section. I.e., the plugin is not going to be used during your build.</p>\n<p>If after fixing that you are still having follow-up problems, I can take a second look.</p>\n<hr />\n<p><strong>Update:</strong> What I said before is true, but I also noticed some more oversights in your POM and test code:</p>\n<ul>\n<li>You use a non-existent AspectJ Maven Plugin version.</li>\n<li>For compile-time weaving, you need the AspectJ runtime <code>aspectjrt</code> on the classpath.</li>\n<li>You need <code>spring-tx</code> on the dependency list, otherwise a class referred to by <code>spring-aspects</code> will not be found.</li>\n<li>Your test expects a result different from the actual &quot;ok&quot;.</li>\n</ul>\n<hr />\n<p><strong>Update 2:</strong> You can simply accept <a href=\"https://github.com/AlexMakesSoftware/SpringConsoleApp3/pull/1\" rel=\"nofollow noreferrer\">this pull request</a>.</p>\n"}],"owner":{"account_id":315035,"reputation":1147,"user_id":630578,"accept_rate":70,"display_name":"ac_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69556546,"answer_count":4,"score":0,"last_activity_date":1636369065,"creation_date":1633529994,"question_id":69467500,"body_markdown":"I&#39;ve tried to follow the advice found here: https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects\r\n\r\nOnly to find that it&#39;s compiling but not actually doing what it should. The autowired bean is not being set in the non-managed object.\r\n\r\n```\r\n\r\n@SpringBootApplication\r\n@EnableSpringConfigured\r\npublic class SpringApp {\r\n\r\n...\r\n\r\n\r\npublic class ApiClient {\r\n\r\n    private static String result = &quot;not set&quot;;\r\n\r\n    //this would be called from another applicaiton written in a different language potentially.\r\n    public String apiInterface(String message) {\r\n        //This is where we&#39;re going to have to create Spring, where the languages &#39;join&#39;.\r\n        SpringApplicationBuilder builder = new SpringApplicationBuilder(SpringApp.class);\r\n        builder.run();\r\n        System.out.println(&quot;Running legacy code...&quot;);\r\n        LegacyCode oldCode = new LegacyCode();\r\n        result = oldCode.doLegacyStuff(&quot;hello world&quot;);\r\n        \r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n\r\n...\r\n\r\n@Configurable(preConstruction = true)\r\npublic class LegacyCode {\r\n    @Autowired\r\n    MessageSender sender; //let&#39;s pretend we Spring-fied this bit of code but not the Legacy code that uses it.\r\n\r\n    public String doLegacyStuff(String message) {        \r\n        sender.send(message);\r\n        sender.close();       \r\n        \r\n        try {\r\n            Thread.sleep(4000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n            return &quot;interupted&quot;;\r\n        }\r\n\r\n        return &quot;ok&quot;;\r\n    }\r\n}\r\n\r\n```\r\nThat&#39;s the gist of the code. The full code is over at github here:https://github.com/AlexMakesSoftware/SpringConsoleApp3\r\n\r\n\r\nThe output I get is:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n        at demo.LegacyCode.doLegacyStuff(LegacyCode.java:13)\r\n        at demo.ApiClient.apiInterface(ApiClient.java:17)\r\n        at demo.DummyApplication.main(DummyApplication.java:7)\r\n```\r\nWhich can only mean that the @Autowired MessageSender isn&#39;t getting injected.\r\n\r\nAny ideas what I&#39;m doing wrong?\r\n\r\nEDIT: I should point out that this is a simple example of a more complicated project to slowly integrate Spring into a legacy codebase. I cannot simply &#39;make it all Spring&#39;, nor can I shift the location of Spring&#39;s initialisation because this legacy code gets called from another application (albeit a simpler one) written in another language but running in the JVM. Yes, it&#39;s horrible, I know.\r\n","title":"How do I inject spring beans into non-managed beans in a Spring boot console application?","body":"<p>I've tried to follow the advice found here: <a href=\"https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects</a></p>\n<p>Only to find that it's compiling but not actually doing what it should. The autowired bean is not being set in the non-managed object.</p>\n<pre><code>\n@SpringBootApplication\n@EnableSpringConfigured\npublic class SpringApp {\n\n...\n\n\npublic class ApiClient {\n\n    private static String result = &quot;not set&quot;;\n\n    //this would be called from another applicaiton written in a different language potentially.\n    public String apiInterface(String message) {\n        //This is where we're going to have to create Spring, where the languages 'join'.\n        SpringApplicationBuilder builder = new SpringApplicationBuilder(SpringApp.class);\n        builder.run();\n        System.out.println(&quot;Running legacy code...&quot;);\n        LegacyCode oldCode = new LegacyCode();\n        result = oldCode.doLegacyStuff(&quot;hello world&quot;);\n        \n        return result;\n    }\n\n}\n\n\n...\n\n@Configurable(preConstruction = true)\npublic class LegacyCode {\n    @Autowired\n    MessageSender sender; //let's pretend we Spring-fied this bit of code but not the Legacy code that uses it.\n\n    public String doLegacyStuff(String message) {        \n        sender.send(message);\n        sender.close();       \n        \n        try {\n            Thread.sleep(4000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n            return &quot;interupted&quot;;\n        }\n\n        return &quot;ok&quot;;\n    }\n}\n\n</code></pre>\n<p>That's the gist of the code. The full code is over at github here:<a href=\"https://github.com/AlexMakesSoftware/SpringConsoleApp3\" rel=\"nofollow noreferrer\">https://github.com/AlexMakesSoftware/SpringConsoleApp3</a></p>\n<p>The output I get is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n        at demo.LegacyCode.doLegacyStuff(LegacyCode.java:13)\n        at demo.ApiClient.apiInterface(ApiClient.java:17)\n        at demo.DummyApplication.main(DummyApplication.java:7)\n</code></pre>\n<p>Which can only mean that the @Autowired MessageSender isn't getting injected.</p>\n<p>Any ideas what I'm doing wrong?</p>\n<p>EDIT: I should point out that this is a simple example of a more complicated project to slowly integrate Spring into a legacy codebase. I cannot simply 'make it all Spring', nor can I shift the location of Spring's initialisation because this legacy code gets called from another application (albeit a simpler one) written in another language but running in the JVM. Yes, it's horrible, I know.</p>\n"},{"tags":["java","variables","type-conversion","primitive"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1423737339,"post_id":28475119,"comment_id":45273736,"body_markdown":"&quot;but i want to know the type of x+c, whether it belongs to integer or character&quot; The type is `int`.","body":"&quot;but i want to know the type of x+c, whether it belongs to integer or character&quot; The type is <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1423737507,"creation_date":1423737507,"answer_id":28475275,"question_id":28475119,"body_markdown":"&gt; Is there any method to find the type?\r\n\r\nWell, from a research point of view you could read the [Java Language Specification][1]. In particular, [section 15.18.2][2] explains how the `+` operator works.\r\n\r\nIf you want to do this just from an execution-time point of view, there are two options:\r\n\r\n- You could autobox, and then see what the boxed type is:\r\n\r\n        Object o = x + c;\r\n        System.out.println(o.getClass()); // java.lang.Integer\r\n\r\n- You could write a method which is overloaded for *all* primitive types, and see which the compiler picks:\r\n\r\n        System.out.println(getCompileTimePrimitiveClass(x + c));\r\n        ...\r\n        private static Class getCompileTimePrimitiveClass(int x)\r\n        {\r\n            return int.class;\r\n        }\r\n\r\n        private static Class getCompileTimePrimitiveClass(char x)\r\n        {\r\n            return char.class;\r\n        }\r\n\r\n        private static Class getCompileTimePrimitiveClass(byte x)\r\n        {\r\n            return byte.class;\r\n        }\r\n\r\n        // etc\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/index.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.2","title":"How to print type of primitive variables in Java","body":"<blockquote>\n  <p>Is there any method to find the type?</p>\n</blockquote>\n\n<p>Well, from a research point of view you could read the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/index.html\" rel=\"noreferrer\">Java Language Specification</a>. In particular, <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.2\" rel=\"noreferrer\">section 15.18.2</a> explains how the <code>+</code> operator works.</p>\n\n<p>If you want to do this just from an execution-time point of view, there are two options:</p>\n\n<ul>\n<li><p>You could autobox, and then see what the boxed type is:</p>\n\n<pre><code>Object o = x + c;\nSystem.out.println(o.getClass()); // java.lang.Integer\n</code></pre></li>\n<li><p>You could write a method which is overloaded for <em>all</em> primitive types, and see which the compiler picks:</p>\n\n<pre><code>System.out.println(getCompileTimePrimitiveClass(x + c));\n...\nprivate static Class getCompileTimePrimitiveClass(int x)\n{\n    return int.class;\n}\n\nprivate static Class getCompileTimePrimitiveClass(char x)\n{\n    return char.class;\n}\n\nprivate static Class getCompileTimePrimitiveClass(byte x)\n{\n    return byte.class;\n}\n\n// etc\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17285700,"reputation":121,"user_id":12518452,"display_name":"Mami Alexandre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581162834,"creation_date":1581161918,"answer_id":60126407,"question_id":28475119,"body_markdown":"        int x= 1;\r\n        char c = 5; // &#39;\\u0005&#39;\r\n        char c1=6; // &#39;\\u0006&#39;\r\n        //char c2=e;// -&gt;Error\r\n        char c3 = &#39;a&#39;;\r\n\r\n        Object o,o1,o3;\r\n        o=c;\r\n        System.out.println(&quot;c var is &quot; + c + &quot; &quot; + o.getClass() ); // java.lang.Character\r\n        // out : c var is  class java.lang.Character\r\n\r\n        o=x+c;\r\n        o1=x+c1;\r\n       // o+=x+c3; -&gt; error operator + cannot be applied here\r\n\r\n\r\n\r\n        System.out.println(&quot;x + c = &quot; + o +\r\n                &quot; type of primitive is &quot; + o.getClass().getTypeName().substring( 10,o.getClass().getName().length() ) );  // out : -&gt; x + c = 6 type of primitive is Integer\r\n\r\n        System.out.println(&quot;x + c1 = &quot; + o1 +\r\n                &quot; type of primitive is &quot; + o1.getClass().getTypeName().substring( 10,o1.getClass().getName().length() ) ); // also Integer class`enter code here`\r\n\r\nIf someone wants to use some methods of Object class \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/32mSv.jpg","title":"How to print type of primitive variables in Java","body":"<pre><code>    int x= 1;\n    char c = 5; // '\\u0005'\n    char c1=6; // '\\u0006'\n    //char c2=e;// -&gt;Error\n    char c3 = 'a';\n\n    Object o,o1,o3;\n    o=c;\n    System.out.println(\"c var is \" + c + \" \" + o.getClass() ); // java.lang.Character\n    // out : c var is  class java.lang.Character\n\n    o=x+c;\n    o1=x+c1;\n   // o+=x+c3; -&gt; error operator + cannot be applied here\n\n\n\n    System.out.println(\"x + c = \" + o +\n            \" type of primitive is \" + o.getClass().getTypeName().substring( 10,o.getClass().getName().length() ) );  // out : -&gt; x + c = 6 type of primitive is Integer\n\n    System.out.println(\"x + c1 = \" + o1 +\n            \" type of primitive is \" + o1.getClass().getTypeName().substring( 10,o1.getClass().getName().length() ) ); // also Integer class`enter code here`\n</code></pre>\n\n<p>If someone wants to use some methods of Object class </p>\n\n<p><a href=\"https://i.stack.imgur.com/32mSv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/32mSv.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":15837322,"reputation":419,"user_id":11426829,"display_name":"Mishan Madhupa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613728637,"creation_date":1613722162,"answer_id":66273855,"question_id":28475119,"body_markdown":"You can find the type of (x+c) as below.\r\n\r\n    int x=1;  \r\n    char c=5;\r\n    String type = ((Object)(x+c)).getClass().getSimpleName();\r\n    System.out.println(type);","title":"How to print type of primitive variables in Java","body":"<p>You can find the type of (x+c) as below.</p>\n<pre><code>int x=1;  \nchar c=5;\nString type = ((Object)(x+c)).getClass().getSimpleName();\nSystem.out.println(type);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18081300,"reputation":886,"user_id":13143379,"display_name":"aykcandem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636369021,"creation_date":1636368632,"answer_id":69882284,"question_id":28475119,"body_markdown":"Normally, you could use one of the below methods to get the type of an object in Java.\r\n\r\n    String myText = &quot;example&quot;; // non-primitive data type\r\n        \r\n    System.out.println(myText.getClass().getSimpleName()); // String\r\n    System.out.println(myText.getClass().getName()); // java.lang.String\r\n\r\nNote that: String is a non-primitive type, so it is actually an object. However, primitive types are not objects. They consume less memory and can be accessed faster. So, you can not call the `getClass` method. In this case, you can first cast the variable to object and then call necessary methods. \r\n\r\n    int myVar = 10; // primitive data type\r\n\r\n    System.out.println((Object)myVar).getClass().getSimpleName()); // Integer\r\n    System.out.println((Object)myVar).getClass().getName()); // java.lang.Integer\r\n\r\n","title":"How to print type of primitive variables in Java","body":"<p>Normally, you could use one of the below methods to get the type of an object in Java.</p>\n<pre><code>String myText = &quot;example&quot;; // non-primitive data type\n    \nSystem.out.println(myText.getClass().getSimpleName()); // String\nSystem.out.println(myText.getClass().getName()); // java.lang.String\n</code></pre>\n<p>Note that: String is a non-primitive type, so it is actually an object. However, primitive types are not objects. They consume less memory and can be accessed faster. So, you can not call the <code>getClass</code> method. In this case, you can first cast the variable to object and then call necessary methods.</p>\n<pre><code>int myVar = 10; // primitive data type\n\nSystem.out.println((Object)myVar).getClass().getSimpleName()); // Integer\nSystem.out.println((Object)myVar).getClass().getName()); // java.lang.Integer\n</code></pre>\n"}],"owner":{"account_id":5776955,"reputation":31,"user_id":4558775,"display_name":"Sagar gowthu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7709,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1636369021,"creation_date":1423737131,"question_id":28475119,"body_markdown":"I want know that the type of variable in my class for example:         \r\n\r\n    int x=1;  \r\n    char c=5;\r\n    System.out.println(x+c);// out put is 6\r\n                \r\n\r\n but i want to know the type of `x+c`, whether it belongs to `integer` or `character`? and also want to print the result in console. \r\n\r\nIs there any method to find the type? please help me with best answers. \r\n","title":"How to print type of primitive variables in Java","body":"<p>I want know that the type of variable in my class for example:         </p>\n\n<pre><code>int x=1;  \nchar c=5;\nSystem.out.println(x+c);// out put is 6\n</code></pre>\n\n<p>but i want to know the type of <code>x+c</code>, whether it belongs to <code>integer</code> or <code>character</code>? and also want to print the result in console. </p>\n\n<p>Is there any method to find the type? please help me with best answers. </p>\n"},{"tags":["java","multithreading","exception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1548149380,"post_id":54305058,"comment_id":95429946,"body_markdown":"when a Thread is stopped, you can&#39;t restart it. You can start a new Thread that is similar","body":"when a Thread is stopped, you can&#39;t restart it. You can start a new Thread that is similar"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1548149393,"post_id":54305058,"comment_id":95429950,"body_markdown":"You can&#39;t restart a thread. Why don&#39;t you just reuse the already running instance? What you could do is put the data and logic into a `Runnable` or  `Callable` and replace that.","body":"You can&#39;t restart a thread. Why don&#39;t you just reuse the already running instance? What you could do is put the data and logic into a <code>Runnable</code> or  <code>Callable</code> and replace that."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1548149400,"post_id":54305058,"comment_id":95429957,"body_markdown":"You not restarting your thread. You start another one while first continue to work.","body":"You not restarting your thread. You start another one while first continue to work."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1548149428,"post_id":54305058,"comment_id":95429977,"body_markdown":"You&#39;re trying to use an exception to model your program flow, don&#39;t do that.","body":"You&#39;re trying to use an exception to model your program flow, don&#39;t do that."},{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1548149545,"post_id":54305058,"comment_id":95430041,"body_markdown":"any idea how to do that, cause I need to restart the flow if exception occurs. My program should not stop","body":"any idea how to do that, cause I need to restart the flow if exception occurs. My program should not stop"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1548149891,"post_id":54305058,"comment_id":95430228,"body_markdown":"I don&#39;t see the point of interrupting the thread, or of interrupting the thread group.  Try removing those lines.","body":"I don&#39;t see the point of interrupting the thread, or of interrupting the thread group.  Try removing those lines."},{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1548150052,"post_id":54305058,"comment_id":95430343,"body_markdown":"@markspace then how can I stop completely all the previous thread, or continue the process by avoiding program interruption.","body":"@markspace then how can I stop completely all the previous thread, or continue the process by avoiding program interruption."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1548150115,"post_id":54305058,"comment_id":95430376,"body_markdown":"Just exit the while loop, or `return`.","body":"Just exit the while loop, or <code>return</code>."},{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1548150428,"post_id":54305058,"comment_id":95430549,"body_markdown":"@markspace it works fine. thanks. But what happened to the previous Thread object on Publish? will they occupy memory after return?","body":"@markspace it works fine. thanks. But what happened to the previous Thread object on Publish? will they occupy memory after return?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1548175536,"post_id":54305058,"comment_id":95445739,"body_markdown":"No, threads are just heap objects.  Each `new` object gets new heap memory.  It isn&#39;t special for `Thread`.","body":"No, threads are just heap objects.  Each <code>new</code> object gets new heap memory.  It isn&#39;t special for <code>Thread</code>."}],"answers":[{"tags":[],"owner":{"account_id":5139297,"reputation":600,"user_id":4117161,"display_name":"Nisheeth Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636368956,"creation_date":1548152028,"answer_id":54305914,"question_id":54305058,"body_markdown":"The problem with this program is that the threads are just being created and never been destroyed as you have interrupted the running thread by itself, that&#39;s where it&#39;s being messed up. The threads aren&#39;t stopping and it keeps executing as it is inside the loop. I wouldn&#39;t comment whether it is the right way to do it. But I would suggest to look for other alternatives. I have made some modification in your program as follows:\r\n\r\n    public class ThreadTest {\r\n        static Publish publish;\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Initial active threads : &quot; + Thread.activeCount());\r\n            publish = new Publish();\r\n            publish.start();\r\n        }\r\n    \r\n        static class Publish extends Thread {\r\n            static int counter = 1;\r\n    \r\n            public void run() {\r\n                while (true) {\r\n                    System.out.println(&quot;counter is: &quot; + counter);\r\n                    counter++;\r\n                    try {\r\n                        Thread.sleep(2000);\r\n                        if (counter &gt; 5) {\r\n                            throw new InterruptedException(&quot;Exception thrown manually to restart thread&quot;);\r\n                        }\r\n                    } catch (Exception ex) {\r\n                        counter = 1;\r\n                        publish = new Publish();\r\n                        publish.start();\r\n                        System.out.println(&quot;active threads : &quot; + Thread.activeCount());\r\n                        return;\r\n                    }\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nHere is the output of the program:\r\n\r\n    Initial active threads : 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    active threads : 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    active threads : 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    active threads : 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    active threads : 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    active threads : 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    active threads : 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    active threads : 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    active threads : 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n\r\nIf you want to see the total threads being created and not stopping at all in your program, try placing print statement for the current active threads.","title":"Restarting the same thread after exception thrown in Java","body":"<p>The problem with this program is that the threads are just being created and never been destroyed as you have interrupted the running thread by itself, that's where it's being messed up. The threads aren't stopping and it keeps executing as it is inside the loop. I wouldn't comment whether it is the right way to do it. But I would suggest to look for other alternatives. I have made some modification in your program as follows:</p>\n<pre><code>public class ThreadTest {\n    static Publish publish;\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Initial active threads : &quot; + Thread.activeCount());\n        publish = new Publish();\n        publish.start();\n    }\n\n    static class Publish extends Thread {\n        static int counter = 1;\n\n        public void run() {\n            while (true) {\n                System.out.println(&quot;counter is: &quot; + counter);\n                counter++;\n                try {\n                    Thread.sleep(2000);\n                    if (counter &gt; 5) {\n                        throw new InterruptedException(&quot;Exception thrown manually to restart thread&quot;);\n                    }\n                } catch (Exception ex) {\n                    counter = 1;\n                    publish = new Publish();\n                    publish.start();\n                    System.out.println(&quot;active threads : &quot; + Thread.activeCount());\n                    return;\n                }\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>Here is the output of the program:</p>\n<pre><code>Initial active threads : 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\nactive threads : 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\nactive threads : 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\nactive threads : 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\nactive threads : 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\nactive threads : 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\nactive threads : 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\nactive threads : 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\nactive threads : 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\n</code></pre>\n<p>If you want to see the total threads being created and not stopping at all in your program, try placing print statement for the current active threads.</p>\n"}],"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1636368956,"creation_date":1548149272,"question_id":54305058,"body_markdown":"I am trying to execute some code in a thread. I have extend the Thread class and put some code there to execute. I am also throwing exception to terminate the current thread and restart it in the catch block. It is doing so but when new Thread start then abnormal result is shown.\r\n\r\nSuppose my requirement is to print counter like `1,2,3,4,5`. It is well for the first time. But when I start new Instance then the result is random something like `1,1,1,1,1,1,12,4,6,1,1,1,1`. Here is my code:\r\n\r\n    public class ThreadTest {\r\n        static Publish publish;\r\n        public static void main(String[] args) {        \r\n            publish =  new Publish();\r\n            publish.start();\r\n        }    \r\n        \r\n        static class Publish extends Thread {\r\n        static int counter = 1;\r\n          public void run(){\r\n            while (true) {\r\n                System.out.println(&quot;counter is: &quot; + counter);\r\n                counter++;\r\n                try {\r\n                    Thread.sleep(2000);\r\n                    if (counter &gt; 5) {\r\n                        throw new InterruptedException(&quot;Exception thrown manually to restart thread&quot;);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    publish.interrupt();\r\n                    publish.getThreadGroup().interrupt();\r\n                    counter = 1;\r\n                    publish = new Publish();\r\n                    publish.start();\r\n                }\r\n            }\r\n            \r\n          }\r\n      }\r\n        \r\n    }\r\n\r\n\r\nThe result are like below:\r\n\r\n        run:\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 8\r\n    counter is: 9\r\n    counter is: 11\r\n    counter is: 12\r\n    counter is: 12\r\n    counter is: 14\r\n    counter is: 15\r\n    counter is: 15\r\n    counter is: 17\r\n    counter is: 18\r\n    counter is: 19\r\n    counter is: 20\r\n    counter is: 1\r\n    counter is: 20\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 20\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 20\r\n    counter is: 20\r\n    counter is: 20\r\n    counter is: 20\r\n    counter is: 20\r\n    counter is: 2\r\n    counter is: 20\r\n    counter is: 20\r\n    counter is: 2\r\n    counter is: 20\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 2\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 5\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 7\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 7\r\n    counter is: 6\r\n    counter is: 9\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 6\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 4\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 5\r\n    counter is: 7\r\n    counter is: 7\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 6\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 5\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 9\r\n    counter is: 10\r\n    counter is: 11\r\n    counter is: 12\r\n    counter is: 13\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 3\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 6\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 9\r\n    counter is: 9\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    Exception in thread &quot;Thread-260&quot; java.lang.IllegalThreadStateException\r\n    \tat java.lang.Thread.start(Thread.java:708)\r\n    counter is: 1\r\n    counter is: 2\r\n    \tat threadtest.ThreadTest$Publish.run(ThreadTest.java:49)\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 3\r\n    counter is: 3\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 3\r\n    Exception in thread &quot;Thread-236&quot; java.lang.IllegalThreadStateException\r\n    \tat java.lang.Thread.start(Thread.java:708)\r\n    counter is: 1\r\n    \tat threadtest.ThreadTest$Publish.run(ThreadTest.java:49)\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    Exception in thread &quot;Thread-165&quot; java.lang.IllegalThreadStateException\r\n    counter is: 3\r\n    \tat java.lang.Thread.start(Thread.java:708)\r\n    \tat threadtest.ThreadTest$Publish.run(ThreadTest.java:49)\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 6\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 5\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 9\r\n    counter is: 10\r\n    counter is: 11\r\n    counter is: 12\r\n    counter is: 13\r\n    counter is: 14\r\n    counter is: 15\r\n    counter is: 16\r\n    counter is: 17\r\n    counter is: 18\r\n    counter is: 19\r\n    counter is: 20\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    Exception in thread &quot;Thread-156&quot; java.lang.IllegalThreadStateException\r\n    \tat java.lang.Thread.start(Thread.java:708)\r\n    \tat threadtest.ThreadTest$Publish.run(ThreadTest.java:49)\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 9\r\n    counter is: 10\r\n    counter is: 11\r\n    counter is: 12\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 3\r\n    counter is: 5\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 1\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 8\r\n    counter is: 10\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 4\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 9\r\n    counter is: 10\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 7\r\n    counter is: 9\r\n    counter is: 9\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 2\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 5\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 3\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 5\r\n    counter is: 6\r\n    counter is: 7\r\n    counter is: 8\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 3\r\n    counter is: 4\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 1\r\n    counter is: 2\r\n    counter is: 6\r\n\r\n","title":"Restarting the same thread after exception thrown in Java","body":"<p>I am trying to execute some code in a thread. I have extend the Thread class and put some code there to execute. I am also throwing exception to terminate the current thread and restart it in the catch block. It is doing so but when new Thread start then abnormal result is shown.</p>\n<p>Suppose my requirement is to print counter like <code>1,2,3,4,5</code>. It is well for the first time. But when I start new Instance then the result is random something like <code>1,1,1,1,1,1,12,4,6,1,1,1,1</code>. Here is my code:</p>\n<pre><code>public class ThreadTest {\n    static Publish publish;\n    public static void main(String[] args) {        \n        publish =  new Publish();\n        publish.start();\n    }    \n    \n    static class Publish extends Thread {\n    static int counter = 1;\n      public void run(){\n        while (true) {\n            System.out.println(&quot;counter is: &quot; + counter);\n            counter++;\n            try {\n                Thread.sleep(2000);\n                if (counter &gt; 5) {\n                    throw new InterruptedException(&quot;Exception thrown manually to restart thread&quot;);\n                }\n            } catch (Exception ex) {\n                publish.interrupt();\n                publish.getThreadGroup().interrupt();\n                counter = 1;\n                publish = new Publish();\n                publish.start();\n            }\n        }\n        \n      }\n  }\n    \n}\n</code></pre>\n<p>The result are like below:</p>\n<pre><code>    run:\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 8\ncounter is: 9\ncounter is: 11\ncounter is: 12\ncounter is: 12\ncounter is: 14\ncounter is: 15\ncounter is: 15\ncounter is: 17\ncounter is: 18\ncounter is: 19\ncounter is: 20\ncounter is: 1\ncounter is: 20\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 20\ncounter is: 1\ncounter is: 1\ncounter is: 20\ncounter is: 20\ncounter is: 20\ncounter is: 20\ncounter is: 20\ncounter is: 2\ncounter is: 20\ncounter is: 20\ncounter is: 2\ncounter is: 20\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 2\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 2\ncounter is: 4\ncounter is: 4\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 2\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 6\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 5\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 6\ncounter is: 7\ncounter is: 7\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 3\ncounter is: 3\ncounter is: 4\ncounter is: 6\ncounter is: 7\ncounter is: 7\ncounter is: 6\ncounter is: 9\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 3\ncounter is: 2\ncounter is: 3\ncounter is: 3\ncounter is: 4\ncounter is: 6\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 4\ncounter is: 2\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 4\ncounter is: 5\ncounter is: 5\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 6\ncounter is: 7\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 8\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 5\ncounter is: 7\ncounter is: 7\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 4\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 1\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 6\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 5\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 5\ncounter is: 7\ncounter is: 8\ncounter is: 9\ncounter is: 10\ncounter is: 11\ncounter is: 12\ncounter is: 13\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 3\ncounter is: 5\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 2\ncounter is: 2\ncounter is: 2\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 5\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 6\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 4\ncounter is: 1\ncounter is: 1\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 9\ncounter is: 9\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\nException in thread &quot;Thread-260&quot; java.lang.IllegalThreadStateException\n    at java.lang.Thread.start(Thread.java:708)\ncounter is: 1\ncounter is: 2\n    at threadtest.ThreadTest$Publish.run(ThreadTest.java:49)\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 3\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 1\ncounter is: 1\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 3\ncounter is: 3\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 1\ncounter is: 3\nException in thread &quot;Thread-236&quot; java.lang.IllegalThreadStateException\n    at java.lang.Thread.start(Thread.java:708)\ncounter is: 1\n    at threadtest.ThreadTest$Publish.run(ThreadTest.java:49)\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 4\ncounter is: 5\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 3\ncounter is: 1\ncounter is: 1\ncounter is: 1\nException in thread &quot;Thread-165&quot; java.lang.IllegalThreadStateException\ncounter is: 3\n    at java.lang.Thread.start(Thread.java:708)\n    at threadtest.ThreadTest$Publish.run(ThreadTest.java:49)\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 6\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 5\ncounter is: 7\ncounter is: 8\ncounter is: 9\ncounter is: 10\ncounter is: 11\ncounter is: 12\ncounter is: 13\ncounter is: 14\ncounter is: 15\ncounter is: 16\ncounter is: 17\ncounter is: 18\ncounter is: 19\ncounter is: 20\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 1\nException in thread &quot;Thread-156&quot; java.lang.IllegalThreadStateException\n    at java.lang.Thread.start(Thread.java:708)\n    at threadtest.ThreadTest$Publish.run(ThreadTest.java:49)\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 9\ncounter is: 10\ncounter is: 11\ncounter is: 12\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 2\ncounter is: 3\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 2\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 3\ncounter is: 5\ncounter is: 5\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 1\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 8\ncounter is: 10\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 4\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 9\ncounter is: 10\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 7\ncounter is: 9\ncounter is: 9\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 2\ncounter is: 4\ncounter is: 5\ncounter is: 5\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 3\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 5\ncounter is: 6\ncounter is: 7\ncounter is: 8\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 3\ncounter is: 4\ncounter is: 1\ncounter is: 2\ncounter is: 1\ncounter is: 2\ncounter is: 6\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1548291940,"post_id":54267954,"comment_id":95492864,"body_markdown":"To help in diagnosing the problem, please provide `SHOW CREATE TABLE` for each of the two tables.","body":"To help in diagnosing the problem, please provide <code>SHOW CREATE TABLE</code> for each of the two tables."},{"owner":{"account_id":1706096,"reputation":727,"user_id":1565107,"accept_rate":85,"display_name":"Pierre Mardon"},"score":0,"creation_date":1548352912,"post_id":54267954,"comment_id":95520861,"body_markdown":"You&#39;re right @RickJames , it&#39;s more clear, done.","body":"You&#39;re right @RickJames , it&#39;s more clear, done."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1548398036,"post_id":54267954,"comment_id":95534473,"body_markdown":"Thanks.  Now, please justify the need for 1:1 mapping between a pair of tables.  It is almost always &quot;bad schema design&quot; this early in the development.  It is usually a kludge for expediency or performance when done later in development.","body":"Thanks.  Now, please justify the need for 1:1 mapping between a pair of tables.  It is almost always &quot;bad schema design&quot; this early in the development.  It is usually a kludge for expediency or performance when done later in development."},{"owner":{"account_id":1706096,"reputation":727,"user_id":1565107,"accept_rate":85,"display_name":"Pierre Mardon"},"score":0,"creation_date":1548615358,"post_id":54267954,"comment_id":95595307,"body_markdown":"@RickJames I don&#39;t want to explain the full context of this design (not early at all in the development), anyway it&#39;s one of the hypothesis of the question. Given this, can I achieve the JPA design I target ?","body":"@RickJames I don&#39;t want to explain the full context of this design (not early at all in the development), anyway it&#39;s one of the hypothesis of the question. Given this, can I achieve the JPA design I target ?"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1548619557,"post_id":54267954,"comment_id":95596508,"body_markdown":"I prefer to do cascading deletes (etc) in my own code.  That way I don&#39;t have to wonder whether FKs will &quot;do the right thing&quot; or &quot;not be able to do this complex cascade&quot;.","body":"I prefer to do cascading deletes (etc) in my own code.  That way I don&#39;t have to wonder whether FKs will &quot;do the right thing&quot; or &quot;not be able to do this complex cascade&quot;."}],"answers":[{"tags":[],"owner":{"account_id":4289058,"reputation":2441,"user_id":3505897,"display_name":"Periklis Douvitsas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548269341,"creation_date":1548269341,"answer_id":54333815,"question_id":54267954,"body_markdown":"Can you try in class B to add the following\r\n\r\n    @OneToOne(mappedBy = &quot;b&quot;, cascade = CascadeType.REMOVE)\r\n    private A a;\r\n\r\nIn addition, if in the database you have only a foreign key &quot;a has a foreign key to b&quot; can you also make a foreign key from b to a as well. ","title":"Spring JPA OneToOne FK as PK Cascade.Remove","body":"<p>Can you try in class B to add the following</p>\n\n<pre><code>@OneToOne(mappedBy = \"b\", cascade = CascadeType.REMOVE)\nprivate A a;\n</code></pre>\n\n<p>In addition, if in the database you have only a foreign key \"a has a foreign key to b\" can you also make a foreign key from b to a as well. </p>\n"},{"tags":[],"owner":{"account_id":3052317,"reputation":474,"user_id":2586617,"accept_rate":43,"display_name":"Neil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636368906,"creation_date":1548757664,"answer_id":54418918,"question_id":54267954,"body_markdown":"\r\n    @OneToOne(mappedBy = &quot;b&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY,orphanRemoval=true )\r\n    private A a;","title":"Spring JPA OneToOne FK as PK Cascade.Remove","body":"<pre><code>@OneToOne(mappedBy = &quot;b&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY,orphanRemoval=true )\nprivate A a;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1548779005,"creation_date":1548779005,"answer_id":54425439,"question_id":54267954,"body_markdown":"If you want to delete object of `B`, whenever the associated `A` is deleted (it&#39;s the fourt point of your wishlist: \r\n\r\n&gt; I want a cascade removal that deletes the related `b` when `a` is deleted\r\n\r\nthen you need to change your mapping in `A` to:\r\n\r\n    @OneToOne(cascade = CascadeType.REMOVE, orphanRemoval = true)\r\n    @PrimaryKeyJoinColumn\r\n    private B b;","title":"Spring JPA OneToOne FK as PK Cascade.Remove","body":"<p>If you want to delete object of <code>B</code>, whenever the associated <code>A</code> is deleted (it's the fourt point of your wishlist: </p>\n\n<blockquote>\n  <p>I want a cascade removal that deletes the related <code>b</code> when <code>a</code> is deleted</p>\n</blockquote>\n\n<p>then you need to change your mapping in <code>A</code> to:</p>\n\n<pre><code>@OneToOne(cascade = CascadeType.REMOVE, orphanRemoval = true)\n@PrimaryKeyJoinColumn\nprivate B b;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5139297,"reputation":600,"user_id":4117161,"display_name":"Nisheeth Shah"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1636368820,"creation_date":1548838153,"answer_id":54436542,"question_id":54267954,"body_markdown":"In order to achieve what you have asked, I have tweaked your tables as follows:\r\n```sql\r\n    CREATE TABLE b (\r\n       dbid INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY\r\n    );\r\n\r\n    CREATE TABLE a ( \r\n       b_id int(11) NOT NULL PRIMARY KEY REFERENCES b(dbid) ON DELETE CASCADE\r\n    );\r\n```\r\n\r\n`CASCADE DELETE` wasn&#39;t added in your DDL.\r\n\r\nThis will enable cascade delete. To delete the `b` record on deletion of `a` I made following changes in class `A`:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\npublic class A {\r\n\r\n    @Id\r\n    @Column(name = &quot;b_id&quot;)\r\n    @GeneratedValue(generator = &quot;gen&quot;)\r\n    @GenericGenerator(name = &quot;gen&quot;, strategy = &quot;foreign&quot;, parameters = @Parameter(name=&quot;property&quot;, value=&quot;b&quot;))\r\n    private Integer bId;\r\n\r\n    @OneToOne(cascade = CascadeType.REMOVE, orphanRemoval = true)\r\n    @PrimaryKeyJoinColumn\r\n    private B b;\r\n}\r\n```\r\n\r\nFind link here to the working [solution][1].\r\n\r\n\r\n  [1]: https://github.com/marvellousnishith/54267954","title":"Spring JPA OneToOne FK as PK Cascade.Remove","body":"<p>In order to achieve what you have asked, I have tweaked your tables as follows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    CREATE TABLE b (\n       dbid INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY\n    );\n\n    CREATE TABLE a ( \n       b_id int(11) NOT NULL PRIMARY KEY REFERENCES b(dbid) ON DELETE CASCADE\n    );\n</code></pre>\n<p><code>CASCADE DELETE</code> wasn't added in your DDL.</p>\n<p>This will enable cascade delete. To delete the <code>b</code> record on deletion of <code>a</code> I made following changes in class <code>A</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;a&quot;)\npublic class A {\n\n    @Id\n    @Column(name = &quot;b_id&quot;)\n    @GeneratedValue(generator = &quot;gen&quot;)\n    @GenericGenerator(name = &quot;gen&quot;, strategy = &quot;foreign&quot;, parameters = @Parameter(name=&quot;property&quot;, value=&quot;b&quot;))\n    private Integer bId;\n\n    @OneToOne(cascade = CascadeType.REMOVE, orphanRemoval = true)\n    @PrimaryKeyJoinColumn\n    private B b;\n}\n</code></pre>\n<p>Find link here to the working <a href=\"https://github.com/marvellousnishith/54267954\" rel=\"nofollow noreferrer\">solution</a>.</p>\n"},{"tags":[],"owner":{"account_id":1046812,"reputation":12879,"user_id":1051628,"accept_rate":69,"display_name":"Arth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548844680,"creation_date":1548844027,"answer_id":54438365,"question_id":54267954,"body_markdown":"**In terms of just the MySQL side of your implementation**, the records in table B have no &#39;knowledge&#39; of any record in table A. In the database the relationship is unidirectional\r\n\r\nThe native cascade functionality exists to prevent foreign key errors, by telling the DB what to do when deleting a record would leave a foreign key pointing nowhere. Deleting a table A record would not cause a foreign key error in any table B records, so any native cascade functionality would not be triggered\r\n\r\nTo reiterate; *You cannot keep the schema the same, and the cascade removal from `a` to `b`, because you don&#39;t actually have the cascade removal from `a` to `b`*\r\n\r\nYou also mentioned in the comments that some table B records can exist without a table A records which isn&#39;t in the original question\r\n\r\nTo obtain the automatic deletion of table B records you describe, you have a few options with regards to the DB:\r\n\r\n 1. **Swap the relation over** - Remove the current foreign key and add a nullable foreign key column in table B that references the primary key of table A. You can then put a cascade delete on this foreign key. Keep the new column null for the table B records that do not &#39;belong&#39; to a table A record. You could also add a unique index to this column to secure a one to one relationship\r\n 2. **Add a DB trigger** - On deletion of a table A record, add a DB trigger that removes the referenced table B record\r\n 3. **Add a DB procedure** - Add a procedure that deletes a table A record and then the referenced table B record in turn, probably within a transaction. Going forwards, only delete table A records using the procedure\r\n 4. **Don&#39;t solve the problem at the DB level** - Basically the same as option 3, but move the procedure logic out of the DB layer into the application logic\r\n\r\nThere may be something in JPA that solves your dilemma out of the box, but under the hood it will be doing one of the above (not option 1 and probably option 4)\r\n\r\n","title":"Spring JPA OneToOne FK as PK Cascade.Remove","body":"<p><strong>In terms of just the MySQL side of your implementation</strong>, the records in table B have no 'knowledge' of any record in table A. In the database the relationship is unidirectional</p>\n\n<p>The native cascade functionality exists to prevent foreign key errors, by telling the DB what to do when deleting a record would leave a foreign key pointing nowhere. Deleting a table A record would not cause a foreign key error in any table B records, so any native cascade functionality would not be triggered</p>\n\n<p>To reiterate; <em>You cannot keep the schema the same, and the cascade removal from <code>a</code> to <code>b</code>, because you don't actually have the cascade removal from <code>a</code> to <code>b</code></em></p>\n\n<p>You also mentioned in the comments that some table B records can exist without a table A records which isn't in the original question</p>\n\n<p>To obtain the automatic deletion of table B records you describe, you have a few options with regards to the DB:</p>\n\n<ol>\n<li><strong>Swap the relation over</strong> - Remove the current foreign key and add a nullable foreign key column in table B that references the primary key of table A. You can then put a cascade delete on this foreign key. Keep the new column null for the table B records that do not 'belong' to a table A record. You could also add a unique index to this column to secure a one to one relationship</li>\n<li><strong>Add a DB trigger</strong> - On deletion of a table A record, add a DB trigger that removes the referenced table B record</li>\n<li><strong>Add a DB procedure</strong> - Add a procedure that deletes a table A record and then the referenced table B record in turn, probably within a transaction. Going forwards, only delete table A records using the procedure</li>\n<li><strong>Don't solve the problem at the DB level</strong> - Basically the same as option 3, but move the procedure logic out of the DB layer into the application logic</li>\n</ol>\n\n<p>There may be something in JPA that solves your dilemma out of the box, but under the hood it will be doing one of the above (not option 1 and probably option 4)</p>\n"}],"owner":{"account_id":1706096,"reputation":727,"user_id":1565107,"accept_rate":85,"display_name":"Pierre Mardon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8402,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":54425439,"answer_count":5,"score":3,"last_activity_date":1636368906,"creation_date":1547907129,"question_id":54267954,"body_markdown":"I&#39;ve got two tables, `b` and `a`:\r\n\r\n- they have a one-to-one bidirectional relationship\r\n- `a` has a foreign key to `b` that defines this relationship\r\n- this foreign key is also considered as a primary key for `a`, and a JPA `@ID`\r\n- I want a cascade removal that deletes the related `b` when `a` is deleted\r\n- in MySQL, `a`&#39;s `b_id` is `NOT NULL`\r\n\r\nThe problem is that when I delete my `A` object with JPA repository, I get a `ConstraintViolationException` on its foreign key.\r\nI would expect that both `a` and `b` rows are deleted (cleverly starting with `a`&#39;s one).\r\n\r\nHow could I work around this knowing that I want to keep:\r\n\r\n- my DB schema the same\r\n- the cascade removal from `a` to `b`\r\n- the `b` id being the JPA `@Id` for `a`\r\n\r\n\r\n```sql\r\nCREATE TABLE `b` (\r\n  `dbid` int(11) NOT NULL AUTO_INCREMENT,\r\n  PRIMARY KEY (`dbid`),\r\n);\r\n\r\nCREATE TABLE `a` (\r\n  `b_id` int(11) NOT NULL,\r\n  KEY `b_fk` (`b_id`),\r\n  CONSTRAINT `b_fk` FOREIGN KEY (`b_id`) REFERENCES `b` (`dbid`),\r\n);\r\n\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\npublic class A {\r\n\r\n    @Id\r\n    @Column(name = &quot;b_id&quot;)\r\n    @GeneratedValue(generator = &quot;gen&quot;)\r\n    @GenericGenerator(name = &quot;gen&quot;, strategy = &quot;foreign&quot;, parameters = @Parameter(name=&quot;property&quot;, value=&quot;b&quot;))\r\n    private Integer bId;\r\n\r\n    @OneToOne(cascade = CascadeType.REMOVE)\r\n    @PrimaryKeyJoinColumn\r\n    private B b;\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;b&quot;)\r\npublic class B {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    @Column(name = &quot;dbid&quot;)\r\n    private Integer id;\r\n\r\n    @OneToOne(mappedBy = &quot;b&quot;)\r\n    private A a;\r\n}\r\n```\r\n\r\n[EDIT] After all discussions in answer comments and re-reading my question, the proposals with `orphanRemoval` indeed are in scope and work.\r\n","title":"Spring JPA OneToOne FK as PK Cascade.Remove","body":"<p>I've got two tables, <code>b</code> and <code>a</code>:</p>\n\n<ul>\n<li>they have a one-to-one bidirectional relationship</li>\n<li><code>a</code> has a foreign key to <code>b</code> that defines this relationship</li>\n<li>this foreign key is also considered as a primary key for <code>a</code>, and a JPA <code>@ID</code></li>\n<li>I want a cascade removal that deletes the related <code>b</code> when <code>a</code> is deleted</li>\n<li>in MySQL, <code>a</code>'s <code>b_id</code> is <code>NOT NULL</code></li>\n</ul>\n\n<p>The problem is that when I delete my <code>A</code> object with JPA repository, I get a <code>ConstraintViolationException</code> on its foreign key.\nI would expect that both <code>a</code> and <code>b</code> rows are deleted (cleverly starting with <code>a</code>'s one).</p>\n\n<p>How could I work around this knowing that I want to keep:</p>\n\n<ul>\n<li>my DB schema the same</li>\n<li>the cascade removal from <code>a</code> to <code>b</code></li>\n<li>the <code>b</code> id being the JPA <code>@Id</code> for <code>a</code></li>\n</ul>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `b` (\n  `dbid` int(11) NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`dbid`),\n);\n\nCREATE TABLE `a` (\n  `b_id` int(11) NOT NULL,\n  KEY `b_fk` (`b_id`),\n  CONSTRAINT `b_fk` FOREIGN KEY (`b_id`) REFERENCES `b` (`dbid`),\n);\n\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"a\")\npublic class A {\n\n    @Id\n    @Column(name = \"b_id\")\n    @GeneratedValue(generator = \"gen\")\n    @GenericGenerator(name = \"gen\", strategy = \"foreign\", parameters = @Parameter(name=\"property\", value=\"b\"))\n    private Integer bId;\n\n    @OneToOne(cascade = CascadeType.REMOVE)\n    @PrimaryKeyJoinColumn\n    private B b;\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"b\")\npublic class B {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Column(name = \"dbid\")\n    private Integer id;\n\n    @OneToOne(mappedBy = \"b\")\n    private A a;\n}\n</code></pre>\n\n<p>[EDIT] After all discussions in answer comments and re-reading my question, the proposals with <code>orphanRemoval</code> indeed are in scope and work.</p>\n"},{"tags":["java","soap","httpclient"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1636368767,"post_id":69882134,"comment_id":123529104,"body_markdown":"Hi, please be more precise: [httpclient] DO NOT USE:  [apache-commons-httpclient], [apache-httpclient-4.x], [jetty-httpclient], [java-http-client]?","body":"Hi, please be more precise: [httpclient] DO NOT USE:  [apache-commons-httpclient], [apache-httpclient-4.x], [jetty-httpclient], [java-http-client]?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1636368854,"post_id":69882134,"comment_id":123529132,"body_markdown":"for [apache-httpclient-4.x], see: [`RequestConfig`](https://www.javadoc.io/doc/org.apache.httpcomponents/httpclient/4.5.5/org/apache/http/client/config/RequestConfig.html) / [example](https://www.programcreek.com/java-api-examples/?code=apache%2Fcloudstack%2Fcloudstack-master%2Fagent%2Fsrc%2Fmain%2Fjava%2Fcom%2Fcloud%2Fagent%2Fdirect%2Fdownload%2FHttpsDirectTemplateDownloader.java)","body":"for [apache-httpclient-4.x], see: <a href=\"https://www.javadoc.io/doc/org.apache.httpcomponents/httpclient/4.5.5/org/apache/http/client/config/RequestConfig.html\" rel=\"nofollow noreferrer\"><code>RequestConfig</code></a> / <a href=\"https://www.programcreek.com/java-api-examples/?code=apache%2Fcloudstack%2Fcloudstack-master%2Fagent%2Fsrc%2Fmain%2Fjava%2Fcom%2Fcloud%2Fagent%2Fdirect%2Fdownload%2FHttpsDirectTemplateDownloader.java\" rel=\"nofollow noreferrer\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636368865,"creation_date":1636368865,"answer_id":69882329,"question_id":69882134,"body_markdown":"The way to configure it is to use a RequestConfig:\r\n\r\nExample:\r\n\r\n    import org.apache.http.client.config.RequestConfig;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n\r\n\r\n     RequestConfig config = RequestConfig.custom()\r\n             .setConnectTimeout(5000)\r\n             .setConnectionRequestTimeout(5000)\r\n             .setSocketTimeout(5000).build();\r\n\r\n     HttpClients.custom()\r\n             .setDefaultRequestConfig(config)\r\n             .setSSLSocketFactory(socketFactory)\r\n             .addInterceptorFirst(new RemoHttpHeadersInterceptor())\r\n             .setMaxConnTotal(config.getDefaultMaxTotalConnections())\r\n             .setMaxConnPerRoute(config.getDefaultMaxRouteConnections())\r\n             .build();\r\n\r\n","title":"How to set the connection Timeout for SOAP?","body":"<p>The way to configure it is to use a RequestConfig:</p>\n<p>Example:</p>\n<pre><code>import org.apache.http.client.config.RequestConfig;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\n\n\n RequestConfig config = RequestConfig.custom()\n         .setConnectTimeout(5000)\n         .setConnectionRequestTimeout(5000)\n         .setSocketTimeout(5000).build();\n\n HttpClients.custom()\n         .setDefaultRequestConfig(config)\n         .setSSLSocketFactory(socketFactory)\n         .addInterceptorFirst(new RemoHttpHeadersInterceptor())\n         .setMaxConnTotal(config.getDefaultMaxTotalConnections())\n         .setMaxConnPerRoute(config.getDefaultMaxRouteConnections())\n         .build();\n</code></pre>\n"}],"owner":{"account_id":5299598,"reputation":1176,"user_id":4229716,"accept_rate":12,"display_name":"JITHIN_PATHROSE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69882329,"answer_count":1,"score":1,"last_activity_date":1636368865,"creation_date":1636367937,"question_id":69882134,"body_markdown":"I am using the following sample code `soap`\r\n\r\n    SSLConnectionSocketFactory socketFactory =\r\n\t\t\tnew SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\r\n\t\tHttpClient httpClient = HttpClients.custom()\r\n\t\t\t.setSSLSocketFactory(socketFactory)\r\n\t\t\t.addInterceptorFirst(new RemoHttpHeadersInterceptor())\r\n\t\t\t.setMaxConnTotal(config.getDefaultMaxTotalConnections())\r\n\t\t\t.setMaxConnPerRoute(config.getDefaultMaxRouteConnections())\r\n\t\t\t.build();\r\n\t\treturn httpClient;\r\n\r\nHow can I set the connection timeout value? I am not able to find the `setTimeout` api anywhere. ","title":"How to set the connection Timeout for SOAP?","body":"<p>I am using the following sample code <code>soap</code></p>\n<pre><code>SSLConnectionSocketFactory socketFactory =\n        new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\n    HttpClient httpClient = HttpClients.custom()\n        .setSSLSocketFactory(socketFactory)\n        .addInterceptorFirst(new RemoHttpHeadersInterceptor())\n        .setMaxConnTotal(config.getDefaultMaxTotalConnections())\n        .setMaxConnPerRoute(config.getDefaultMaxRouteConnections())\n        .build();\n    return httpClient;\n</code></pre>\n<p>How can I set the connection timeout value? I am not able to find the <code>setTimeout</code> api anywhere.</p>\n"},{"tags":["java","swing","user-interface","awt"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1505928109,"post_id":46328035,"comment_id":79617301,"body_markdown":"Try [*Text Prompt*](https://stackoverflow.com/a/20578858/230513) with an `Icon`.","body":"Try <a href=\"https://stackoverflow.com/a/20578858/230513\"><i>Text Prompt</i></a> with an <code>Icon</code>."},{"owner":{"account_id":8397591,"reputation":11,"user_id":6304117,"display_name":"Mario Pichardo"},"score":0,"creation_date":1505931410,"post_id":46328035,"comment_id":79619150,"body_markdown":"I am adding &quot;Text Prompt,&quot; through the link, is text prompt something that I can import? If so what is the import statement? Otherwise, I must create a constructor for Text Prompt, correct?","body":"I am adding &quot;Text Prompt,&quot; through the link, is text prompt something that I can import? If so what is the import statement? Otherwise, I must create a constructor for Text Prompt, correct?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1505936220,"post_id":46328035,"comment_id":79621690,"body_markdown":"@MarioPichardo, `is text prompt something that I can import?` - it is just a class that  needs to be found in a directory that is on your classpath. For example you can put it in the same directory as your HelloPrompt class.","body":"@MarioPichardo, <code>is text prompt something that I can import?</code> - it is just a class that  needs to be found in a directory that is on your classpath. For example you can put it in the same directory as your HelloPrompt class."}],"answers":[{"tags":[],"owner":{"account_id":6665981,"reputation":164,"user_id":8583405,"display_name":"Mr. Leeds"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505986134,"creation_date":1505986134,"answer_id":46340263,"question_id":46328035,"body_markdown":"I am not sure on what you are trying to do but you can use \r\n\r\n`userEnt.setText(&quot;Enter username: &quot;)`\r\n`passEnt.setText(&quot;Enter password: &quot;)`\r\n\r\nchange its foreground color to something lighter like `GRAY`\r\nwhen the user clicks the textfield, clear the textfield&#39;s text and reset its foregroud to black.\r\n\r\nimplement a listener for Lost Focus. If the textfield loses focus and the textfield&#39;s text is equal to nothing, reset the foreground color to `GRAY` and \r\ncall this again\r\n\r\n`userEnt.setText(&quot;Enter username: &quot;)`\r\n`passEnt.setText(&quot;Enter password: &quot;)`","title":"How to Create a JTextfield text watermark (Not actual Text)","body":"<p>I am not sure on what you are trying to do but you can use </p>\n\n<p><code>userEnt.setText(\"Enter username: \")</code>\n<code>passEnt.setText(\"Enter password: \")</code></p>\n\n<p>change its foreground color to something lighter like <code>GRAY</code>\nwhen the user clicks the textfield, clear the textfield's text and reset its foregroud to black.</p>\n\n<p>implement a listener for Lost Focus. If the textfield loses focus and the textfield's text is equal to nothing, reset the foreground color to <code>GRAY</code> and \ncall this again</p>\n\n<p><code>userEnt.setText(\"Enter username: \")</code>\n<code>passEnt.setText(\"Enter password: \")</code></p>\n"}],"owner":{"account_id":8397591,"reputation":11,"user_id":6304117,"display_name":"Mario Pichardo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636368592,"creation_date":1505927446,"question_id":46328035,"body_markdown":"How can I get a watermark placed inside of the `JTextfield` when it is empty?\r\n\r\nAll I am trying to do is get the username and password fields to display &quot;username&quot; and &quot;password&quot; in their respective `JTextField` and `JPasswordField` without being actual text. I know that I need an event listener to see if they are empty. I don&#39;t know how to display these messages, it would be just like above on Stack Overflow where it says &quot;Search...&quot; in grayed out letters and disappears whenever there is keyboard input. It should reappear if the string is empty again.\r\n\r\nPlease and thank you in advance.\r\n\r\n    public class HelloPrompt extends JFrame {\r\n    \tpublic static void main(String[] args){\r\n    \t\tnew HelloPrompt();\r\n    \t}\r\n    \t\r\n    \tpublic HelloPrompt(){\r\n    \t\tsuper(&quot;Login Page&quot;);\r\n    \t\tJFrame frame = new JFrame(&quot;Login&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tJPanel p = new JPanel();\r\n    \t\tJButton b = new JButton(&quot;Submit&quot;);\r\n    \t\tJLabel user = new JLabel(&quot;username: &quot;);\r\n    \t\tJTextField userEnt = new JTextField(&quot;username&quot;, 20);\r\n    \t\tJLabel pass = new JLabel(&quot;password: &quot;);\r\n    \t\tJTextField passEnt = new JPasswordField(&quot;password&quot;, 20);\r\n    \t\r\n    \t\tp.add(user);\r\n    \t\tp.add(userEnt);\r\n    \t\tp.add(pass);\r\n    \t\tp.add(passEnt);\r\n    \r\n    \t\tadd(p);\r\n    \t\tsetSize(299,299);\r\n    \t\tsetVisible(true);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }","title":"How to Create a JTextfield text watermark (Not actual Text)","body":"<p>How can I get a watermark placed inside of the <code>JTextfield</code> when it is empty?</p>\n<p>All I am trying to do is get the username and password fields to display &quot;username&quot; and &quot;password&quot; in their respective <code>JTextField</code> and <code>JPasswordField</code> without being actual text. I know that I need an event listener to see if they are empty. I don't know how to display these messages, it would be just like above on Stack Overflow where it says &quot;Search...&quot; in grayed out letters and disappears whenever there is keyboard input. It should reappear if the string is empty again.</p>\n<p>Please and thank you in advance.</p>\n<pre><code>public class HelloPrompt extends JFrame {\n    public static void main(String[] args){\n        new HelloPrompt();\n    }\n    \n    public HelloPrompt(){\n        super(&quot;Login Page&quot;);\n        JFrame frame = new JFrame(&quot;Login&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        JPanel p = new JPanel();\n        JButton b = new JButton(&quot;Submit&quot;);\n        JLabel user = new JLabel(&quot;username: &quot;);\n        JTextField userEnt = new JTextField(&quot;username&quot;, 20);\n        JLabel pass = new JLabel(&quot;password: &quot;);\n        JTextField passEnt = new JPasswordField(&quot;password&quot;, 20);\n    \n        p.add(user);\n        p.add(userEnt);\n        p.add(pass);\n        p.add(passEnt);\n\n        add(p);\n        setSize(299,299);\n        setVisible(true);\n        \n        \n    }\n}\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1636320654,"post_id":69876624,"comment_id":123519186,"body_markdown":"1. Don&#39;t call `updateUI`, it&#39;s not doing what you think it&#39;s doing. 2.  I&#39;d, personally, not use components this way. 3. Your &quot;main loop&quot; should be ensuring that any changes to a &quot;entity&quot; won&#39;t cause a collision, if they do, then you need to take appropriate action","body":"1. Don&#39;t call <code>updateUI</code>, it&#39;s not doing what you think it&#39;s doing. 2.  I&#39;d, personally, not use components this way. 3. Your &quot;main loop&quot; should be ensuring that any changes to a &quot;entity&quot; won&#39;t cause a collision, if they do, then you need to take appropriate action"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1636320730,"post_id":69876624,"comment_id":123519200,"body_markdown":"4. Calling `this.setLocation(new Point(x, y));` inside your `paintComponent` is going to cause you no end up issues, as the `Graphics` context is actually translated (so that 0x0 is the location of the component within it&#39;s parent) before `paintComponent` is called","body":"4. Calling <code>this.setLocation(new Point(x, y));</code> inside your <code>paintComponent</code> is going to cause you no end up issues, as the <code>Graphics</code> context is actually translated (so that 0x0 is the location of the component within it&#39;s parent) before <code>paintComponent</code> is called"},{"owner":{"account_id":23264816,"reputation":3,"user_id":17350529,"display_name":"Cojocaru Alin"},"score":0,"creation_date":1636321119,"post_id":69876624,"comment_id":123519257,"body_markdown":"What can i use instead of `updateUI()`. How can i solve problem with `setLocation()`, I,ve tried to set it in class constructor but theres not working.What you mean by &quot;main loop&quot;?","body":"What can i use instead of <code>updateUI()</code>. How can i solve problem with <code>setLocation()</code>, I,ve tried to set it in class constructor but theres not working.What you mean by &quot;main loop&quot;?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1636321430,"post_id":69876624,"comment_id":123519300,"body_markdown":"&quot;main loop&quot; is the call back method which gets triggered on a regular bases, ie the `actionPerformed` method in `Map`.  This should be responsible for updating the state, perform collision detection, performing other actions as required and scheduling the repaint.  Normally, you&#39;d probably only need `repaint`, but if you&#39;re messing with `Component`s, each component might need to be repainted individually.  In the &quot;main loop&quot;, you should be setting the location of the entity","body":"&quot;main loop&quot; is the call back method which gets triggered on a regular bases, ie the <code>actionPerformed</code> method in <code>Map</code>.  This should be responsible for updating the state, perform collision detection, performing other actions as required and scheduling the repaint.  Normally, you&#39;d probably only need <code>repaint</code>, but if you&#39;re messing with <code>Component</code>s, each component might need to be repainted individually.  In the &quot;main loop&quot;, you should be setting the location of the entity"},{"owner":{"account_id":23264816,"reputation":3,"user_id":17350529,"display_name":"Cojocaru Alin"},"score":0,"creation_date":1636322454,"post_id":69876624,"comment_id":123519485,"body_markdown":"Do you have a better solution of drawing &#39;cars&#39; on the map, and why this is a bad way of using components","body":"Do you have a better solution of drawing &#39;cars&#39; on the map, and why this is a bad way of using components"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1636323833,"post_id":69876624,"comment_id":123519735,"body_markdown":"You use a single drawing JPanel and draw the cars as image sprites rather than as components. This is a *much* lighter-weight thing to do and so is much easier on resources, and in the end is also much easier to write. You also will want to separate your logic well from your GUI by creating non-GUI model classes that control the state of the program as it runs, while the GUI or &quot;view&quot; simply displays that state and gets input from the user.","body":"You use a single drawing JPanel and draw the cars as image sprites rather than as components. This is a <i>much</i> lighter-weight thing to do and so is much easier on resources, and in the end is also much easier to write. You also will want to separate your logic well from your GUI by creating non-GUI model classes that control the state of the program as it runs, while the GUI or &quot;view&quot; simply displays that state and gets input from the user."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636368543,"creation_date":1636324455,"answer_id":69877069,"question_id":69876624,"body_markdown":"1. Don&#39;t call `updateUI`, it&#39;s not doing what you think it&#39;s doing. To schedule a new paint pass, you should be calling `repaint` on the component which has changed.\r\n2. I&#39;d, personally, not use components this way. \r\n3. Your &quot;main loop&quot; should be ensuring that any changes to a &quot;entity&quot; won&#39;t cause a collision, if they do, then you need to take appropriate action\r\n4. Calling `this.setLocation(new Point(x, y));` inside your `paintComponent` is going to cause you no end up issues, as the `Graphics` context is actually translated (so that `0x0` is the location of the component within it&#39;s parent) before `paintComponent` is called\r\n5. Swing `Timer` does not scale well.  That is, having more `Timer`s could actually have a departmental effect on performance.  Better to have a single `Timer` onto which you could attach multiple listeners, or better yet, a single `Timer` and single listener acting as the &quot;main loop&quot;\r\n\r\n&gt; What you mean by &quot;main loop&quot;?\r\n\r\n&quot;Main loop&quot; is a common term (especially in gaming, but Swing will call it the &quot;Event Dispatching Thread&quot; or &quot;main event loop&quot;).  In context to you, this would be the `Timer`&#39;s `ActionListener` in your `Map` class.\r\n\r\nThis should be called on a regular bases, it is responsible for updating the entities, based on their needs, performing collision detection, updating the state in any other meaningful way and scheduling repaints.\r\n\r\n# Example\r\n\r\nThe following example simplifies the idea.  It uses a single &quot;main loop&quot; which is responsible for updating the &quot;entities&quot; position, performing bounds and collision detection and scheduling the repaints.\r\n\r\nPlease, beware that this is an overtly simplified example.  I would, personally, make `Entity` an `interface` and then make a dedicated `Car` class which implemented, but this is just to demonstrate the core concepts\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private Timer ticker;\r\n\r\n            private List&lt;Entity&gt; entities;\r\n\r\n            public MainPane() {\r\n                entities = new ArrayList&lt;&gt;(32);\r\n                // For demonstration purposes\r\n                int y = (200 - 20) / 2;\r\n\r\n                entities.add(new Entity(0, y, 1, 0, Color.RED));\r\n                entities.add(new Entity(400 - 20, y, -1, 0, Color.BLUE));\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 200);\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                if (ticker != null) {\r\n                    ticker.stop();\r\n                    ticker = null;\r\n                }\r\n                ticker = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        tickDidOccur();\r\n                    }\r\n                });\r\n                ticker.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                if (ticker != null) {\r\n                    ticker.stop();\r\n                    ticker = null;\r\n                }\r\n            }\r\n\r\n            // It&#39;s more efficent then creating a local variable each time\r\n            private List&lt;Entity&gt; entitiesToBeRemoved = new ArrayList&lt;&gt;(32);\r\n\r\n            protected void tickDidOccur() {\r\n                entitiesToBeRemoved.clear();\r\n                // So some choices.  You can either update ALL the enties and then\r\n                // do the collision detection, or, you can do the collision detection\r\n                // after each enity is been updated.\r\n\r\n                Rectangle viewBounds = getBounds();\r\n                for (Entity entity : entities) {\r\n                    Rectangle bounds = entity.peekNextPosition();\r\n                    if (!viewBounds.intersects(bounds)) {\r\n                        entitiesToBeRemoved.add(entity);\r\n                    } else {\r\n                        boolean conflict = false;\r\n                        for (Entity other : entities) {\r\n                            if (other == entity) {\r\n                                continue;\r\n                            }\r\n                            // Please note, depending on the amount of change\r\n                            // it&#39;s possible that the enities may be positioned\r\n                            // further apart.  You will need to access this based\r\n                            // on your needs.\r\n                            // Bascially what this is going to do, is check to see\r\n                            // if the next update can be perform or not, if there\r\n                            // is a conflict, the entities are stopped and the\r\n                            // current entities update is discarded\r\n                            if (bounds.intersects(other.bounds)) {\r\n                                other.stop();\r\n                                entity.stop();\r\n                                conflict = true;\r\n                            }\r\n                        }\r\n                        if (!conflict) {\r\n                            // Commit the next position\r\n                            entity.update();\r\n                        }\r\n                    }\r\n                    // This is more of a &quot;long winded&quot; bounds check, but as you\r\n                    // can see, we can simply make use of the functionality\r\n                    // Rectangle provides to do the same thing\r\n                    //if (bounds.x + bounds.width &lt; 0 || bounds.y + bounds.height &lt; 0) {\r\n                    //    entitiesToBeRemoved.add(entity);\r\n                    //} else if (bounds.x &gt; getWidth() || bounds.y &gt; getHeight()) {\r\n                    //    entitiesToBeRemoved.add(entity);\r\n                    //}\r\n                }\r\n\r\n                entities.removeAll(entitiesToBeRemoved);\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                for (Entity entity : entities) {\r\n                    // Because I trust no one\r\n                    Graphics2D g2d = (Graphics2D) g.create();\r\n                    entity.paint(g2d);\r\n                    g2d.dispose();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        public class Entity {\r\n\r\n            private Rectangle bounds;\r\n            private Point velocity;\r\n\r\n            private Color color;\r\n\r\n            public Entity(int x, int y, int xDelta, int yDelta, Color color) {\r\n                bounds = new Rectangle(x, y, 20, 20);\r\n                velocity = new Point(xDelta, yDelta);\r\n                this.color = color;\r\n            }\r\n\r\n            public Rectangle getBounds() {\r\n                return bounds;\r\n            }\r\n\r\n            public Color getColor() {\r\n                return color;\r\n            }\r\n\r\n            public void stop() {\r\n                velocity = new Point(0, 0);\r\n            }\r\n\r\n            public void start(int xDelta, int yDelta) {\r\n                velocity = new Point(0, 0);\r\n            }\r\n\r\n            public Rectangle peekNextPosition() {\r\n                Rectangle next = new Rectangle(bounds);\r\n                int x = next.x + velocity.x;\r\n                int y = next.y + velocity.y;\r\n\r\n                next.setLocation(x, y);\r\n                return next;\r\n            }\r\n\r\n            public Rectangle update() {\r\n                int x = bounds.x + velocity.x;\r\n                int y = bounds.y + velocity.y;\r\n\r\n                bounds.setLocation(x, y);\r\n                return bounds;\r\n            }\r\n\r\n            public void paint(Graphics2D g) {\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                // Now what ever we do wont&#39; have a cascading effect on what\r\n                // ever comes next.  This is really helpful for when you need\r\n                // to apply AffineTransformation\r\n                g2d.setColor(getColor());\r\n                g2d.fill(bounds);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; Why wouldn&#39;t use &quot;component&quot; based entities?\r\n\r\nThe main reasons are, they are &quot;heavy&quot;.  They have a lot of core functionality wrapped around them which is designed to do other work, they just aren&#39;t well designed for this kind of work.\r\n\r\nComponents already have a lot of location/size operations associated with them, which is generally managed by the layout management API, so you could (all too easily) end up fighting that.\r\n\r\nComponents are, generally, not well suited to this kind of work.","title":"How to add vision to a JComponent","body":"<ol>\n<li>Don't call <code>updateUI</code>, it's not doing what you think it's doing. To schedule a new paint pass, you should be calling <code>repaint</code> on the component which has changed.</li>\n<li>I'd, personally, not use components this way.</li>\n<li>Your &quot;main loop&quot; should be ensuring that any changes to a &quot;entity&quot; won't cause a collision, if they do, then you need to take appropriate action</li>\n<li>Calling <code>this.setLocation(new Point(x, y));</code> inside your <code>paintComponent</code> is going to cause you no end up issues, as the <code>Graphics</code> context is actually translated (so that <code>0x0</code> is the location of the component within it's parent) before <code>paintComponent</code> is called</li>\n<li>Swing <code>Timer</code> does not scale well.  That is, having more <code>Timer</code>s could actually have a departmental effect on performance.  Better to have a single <code>Timer</code> onto which you could attach multiple listeners, or better yet, a single <code>Timer</code> and single listener acting as the &quot;main loop&quot;</li>\n</ol>\n<blockquote>\n<p>What you mean by &quot;main loop&quot;?</p>\n</blockquote>\n<p>&quot;Main loop&quot; is a common term (especially in gaming, but Swing will call it the &quot;Event Dispatching Thread&quot; or &quot;main event loop&quot;).  In context to you, this would be the <code>Timer</code>'s <code>ActionListener</code> in your <code>Map</code> class.</p>\n<p>This should be called on a regular bases, it is responsible for updating the entities, based on their needs, performing collision detection, updating the state in any other meaningful way and scheduling repaints.</p>\n<h1>Example</h1>\n<p>The following example simplifies the idea.  It uses a single &quot;main loop&quot; which is responsible for updating the &quot;entities&quot; position, performing bounds and collision detection and scheduling the repaints.</p>\n<p>Please, beware that this is an overtly simplified example.  I would, personally, make <code>Entity</code> an <code>interface</code> and then make a dedicated <code>Car</code> class which implemented, but this is just to demonstrate the core concepts</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n\n        private Timer ticker;\n\n        private List&lt;Entity&gt; entities;\n\n        public MainPane() {\n            entities = new ArrayList&lt;&gt;(32);\n            // For demonstration purposes\n            int y = (200 - 20) / 2;\n\n            entities.add(new Entity(0, y, 1, 0, Color.RED));\n            entities.add(new Entity(400 - 20, y, -1, 0, Color.BLUE));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 200);\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            if (ticker != null) {\n                ticker.stop();\n                ticker = null;\n            }\n            ticker = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    tickDidOccur();\n                }\n            });\n            ticker.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            if (ticker != null) {\n                ticker.stop();\n                ticker = null;\n            }\n        }\n\n        // It's more efficent then creating a local variable each time\n        private List&lt;Entity&gt; entitiesToBeRemoved = new ArrayList&lt;&gt;(32);\n\n        protected void tickDidOccur() {\n            entitiesToBeRemoved.clear();\n            // So some choices.  You can either update ALL the enties and then\n            // do the collision detection, or, you can do the collision detection\n            // after each enity is been updated.\n\n            Rectangle viewBounds = getBounds();\n            for (Entity entity : entities) {\n                Rectangle bounds = entity.peekNextPosition();\n                if (!viewBounds.intersects(bounds)) {\n                    entitiesToBeRemoved.add(entity);\n                } else {\n                    boolean conflict = false;\n                    for (Entity other : entities) {\n                        if (other == entity) {\n                            continue;\n                        }\n                        // Please note, depending on the amount of change\n                        // it's possible that the enities may be positioned\n                        // further apart.  You will need to access this based\n                        // on your needs.\n                        // Bascially what this is going to do, is check to see\n                        // if the next update can be perform or not, if there\n                        // is a conflict, the entities are stopped and the\n                        // current entities update is discarded\n                        if (bounds.intersects(other.bounds)) {\n                            other.stop();\n                            entity.stop();\n                            conflict = true;\n                        }\n                    }\n                    if (!conflict) {\n                        // Commit the next position\n                        entity.update();\n                    }\n                }\n                // This is more of a &quot;long winded&quot; bounds check, but as you\n                // can see, we can simply make use of the functionality\n                // Rectangle provides to do the same thing\n                //if (bounds.x + bounds.width &lt; 0 || bounds.y + bounds.height &lt; 0) {\n                //    entitiesToBeRemoved.add(entity);\n                //} else if (bounds.x &gt; getWidth() || bounds.y &gt; getHeight()) {\n                //    entitiesToBeRemoved.add(entity);\n                //}\n            }\n\n            entities.removeAll(entitiesToBeRemoved);\n            repaint();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            for (Entity entity : entities) {\n                // Because I trust no one\n                Graphics2D g2d = (Graphics2D) g.create();\n                entity.paint(g2d);\n                g2d.dispose();\n            }\n        }\n\n    }\n\n    public class Entity {\n\n        private Rectangle bounds;\n        private Point velocity;\n\n        private Color color;\n\n        public Entity(int x, int y, int xDelta, int yDelta, Color color) {\n            bounds = new Rectangle(x, y, 20, 20);\n            velocity = new Point(xDelta, yDelta);\n            this.color = color;\n        }\n\n        public Rectangle getBounds() {\n            return bounds;\n        }\n\n        public Color getColor() {\n            return color;\n        }\n\n        public void stop() {\n            velocity = new Point(0, 0);\n        }\n\n        public void start(int xDelta, int yDelta) {\n            velocity = new Point(0, 0);\n        }\n\n        public Rectangle peekNextPosition() {\n            Rectangle next = new Rectangle(bounds);\n            int x = next.x + velocity.x;\n            int y = next.y + velocity.y;\n\n            next.setLocation(x, y);\n            return next;\n        }\n\n        public Rectangle update() {\n            int x = bounds.x + velocity.x;\n            int y = bounds.y + velocity.y;\n\n            bounds.setLocation(x, y);\n            return bounds;\n        }\n\n        public void paint(Graphics2D g) {\n            Graphics2D g2d = (Graphics2D) g.create();\n            // Now what ever we do wont' have a cascading effect on what\n            // ever comes next.  This is really helpful for when you need\n            // to apply AffineTransformation\n            g2d.setColor(getColor());\n            g2d.fill(bounds);\n            g2d.dispose();\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>Why wouldn't use &quot;component&quot; based entities?</p>\n</blockquote>\n<p>The main reasons are, they are &quot;heavy&quot;.  They have a lot of core functionality wrapped around them which is designed to do other work, they just aren't well designed for this kind of work.</p>\n<p>Components already have a lot of location/size operations associated with them, which is generally managed by the layout management API, so you could (all too easily) end up fighting that.</p>\n<p>Components are, generally, not well suited to this kind of work.</p>\n"}],"owner":{"account_id":23264816,"reputation":3,"user_id":17350529,"display_name":"Cojocaru Alin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69877069,"answer_count":1,"score":0,"last_activity_date":1636368543,"creation_date":1636320144,"question_id":69876624,"body_markdown":"I have a dynamic number of JComponents moving in a JPanel. I want to make them stop when another Jcomponent is in it&#39;s way. I&#39;ve tried to make a search about 2d raycasting, unfortunately i don&#39;t know how to implement it in my code. Stackoferflow have some answers for this but there they&#39;re building colliders, I need something more similar to raycasting.\r\n\r\nHeres the JPanel code **Map.java:**\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Map extends JPanel implements ActionListener {\r\n    final int windowWidth = 1300;\r\n    final int windowHeight = 750;\r\n\r\n    Map() {\r\n        this.setPreferredSize(new Dimension(windowWidth, windowHeight));\r\n        Timer timer = new Timer(3000, this);\r\n        timer.start();\r\n    }\r\n\r\n    @Override\r\n    public void paint(Graphics g) {\r\n        super.paint(g);\r\n        // painting map\r\n    }\r\n\r\n    // Update method of the frame\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        Car car = new Car();\r\n        this.add(car);\r\n        // For loop responds for data cleaning\r\n        for(int i=0;i&lt;this.getComponents().length;i++) {\r\n            Car iCar = (Car) this.getComponents()[i];\r\n            if(iCar.x &gt;= 1400 || iCar.x &lt;= -300 || iCar.y &lt;= -300 || iCar.y &gt;= 950) {\r\n                this.remove(i);\r\n            }\r\n        }\r\n        System.out.println(this.getComponentCount());\r\n        this.updateUI();\r\n    }\r\n}\r\n\r\n```\r\nHeres JComponent code **Car.java:**\r\n```\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Random;\r\n\r\npublic class Car extends JComponent implements ActionListener {\r\n    private BufferedImage car;\r\n    private final GeoPoint startPoint = GeoSides.pickGeoPoint();\r\n    public int x = 0;\r\n    public int y = 0;\r\n    private int xVelocity;\r\n    private int yVelocity;\r\n    private final int imageX = 160;\r\n    private final int imageY = 120;\r\n    private double turnAngle = 0;\r\n    Timer timer;\r\n\r\n    // Initializing Car() object\r\n    Car() {\r\n        this.setPreferredSize(new Dimension(170, 130));\r\n        this.timer = new Timer(1, this); // Setting up the timer for update method\r\n        this.timer.start();\r\n        try {\r\n            Random randomize = new Random();\r\n            car = ImageIO.read(new File(&quot;src/assets/&quot; + (randomize.nextInt(10) + 1) + &quot;.png&quot;)); // Getting a random image of car\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        // Setting start position\r\n    }\r\n\r\n    // This method should be called when another car is in the way\r\n    public void stopCar() {\r\n        xVelocity = 0;\r\n        yVelocity = 0;\r\n    }\r\n\r\n    // Method scales the image and rotate it if needed\r\n    private void drawCar(Graphics2D render2D, double rotationAngle) {\r\n        //Image scaling and rotating\r\n    }\r\n\r\n    // Inherited method from JComponent\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        this.setLocation(new Point(x, y));\r\n\r\n        Graphics2D render2D  = (Graphics2D) g;\r\n        drawCar(render2D, turnAngle);\r\n    }\r\n\r\n    // Frame update of car&#39;s x, y speed and turn angle\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        switch (startPoint){\r\n            // Setting destination points\r\n        }\r\n\r\n        x += xVelocity;\r\n        y += yVelocity;\r\n        this.repaint();\r\n\r\n    }\r\n}\r\n```\r\n","title":"How to add vision to a JComponent","body":"<p>I have a dynamic number of JComponents moving in a JPanel. I want to make them stop when another Jcomponent is in it's way. I've tried to make a search about 2d raycasting, unfortunately i don't know how to implement it in my code. Stackoferflow have some answers for this but there they're building colliders, I need something more similar to raycasting.</p>\n<p>Heres the JPanel code <strong>Map.java:</strong></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Map extends JPanel implements ActionListener {\n    final int windowWidth = 1300;\n    final int windowHeight = 750;\n\n    Map() {\n        this.setPreferredSize(new Dimension(windowWidth, windowHeight));\n        Timer timer = new Timer(3000, this);\n        timer.start();\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        // painting map\n    }\n\n    // Update method of the frame\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        Car car = new Car();\n        this.add(car);\n        // For loop responds for data cleaning\n        for(int i=0;i&lt;this.getComponents().length;i++) {\n            Car iCar = (Car) this.getComponents()[i];\n            if(iCar.x &gt;= 1400 || iCar.x &lt;= -300 || iCar.y &lt;= -300 || iCar.y &gt;= 950) {\n                this.remove(i);\n            }\n        }\n        System.out.println(this.getComponentCount());\n        this.updateUI();\n    }\n}\n\n</code></pre>\n<p>Heres JComponent code <strong>Car.java:</strong></p>\n<pre><code>import javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Random;\n\npublic class Car extends JComponent implements ActionListener {\n    private BufferedImage car;\n    private final GeoPoint startPoint = GeoSides.pickGeoPoint();\n    public int x = 0;\n    public int y = 0;\n    private int xVelocity;\n    private int yVelocity;\n    private final int imageX = 160;\n    private final int imageY = 120;\n    private double turnAngle = 0;\n    Timer timer;\n\n    // Initializing Car() object\n    Car() {\n        this.setPreferredSize(new Dimension(170, 130));\n        this.timer = new Timer(1, this); // Setting up the timer for update method\n        this.timer.start();\n        try {\n            Random randomize = new Random();\n            car = ImageIO.read(new File(&quot;src/assets/&quot; + (randomize.nextInt(10) + 1) + &quot;.png&quot;)); // Getting a random image of car\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        // Setting start position\n    }\n\n    // This method should be called when another car is in the way\n    public void stopCar() {\n        xVelocity = 0;\n        yVelocity = 0;\n    }\n\n    // Method scales the image and rotate it if needed\n    private void drawCar(Graphics2D render2D, double rotationAngle) {\n        //Image scaling and rotating\n    }\n\n    // Inherited method from JComponent\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        this.setLocation(new Point(x, y));\n\n        Graphics2D render2D  = (Graphics2D) g;\n        drawCar(render2D, turnAngle);\n    }\n\n    // Frame update of car's x, y speed and turn angle\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        switch (startPoint){\n            // Setting destination points\n        }\n\n        x += xVelocity;\n        y += yVelocity;\n        this.repaint();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","bufferedreader","bufferedwriter"],"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1636366025,"post_id":69881685,"comment_id":123528036,"body_markdown":"How are you instantiating `BufferedReader` and `BufferedWriter`?","body":"How are you instantiating <code>BufferedReader</code> and <code>BufferedWriter</code>?"},{"owner":{"account_id":16635579,"reputation":53,"user_id":12985220,"display_name":"Mohamed Yehia"},"score":0,"creation_date":1636366048,"post_id":69881685,"comment_id":123528046,"body_markdown":"In a constructor","body":"In a constructor"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1636366237,"post_id":69881685,"comment_id":123528124,"body_markdown":"Dont **tell** us what your code is doing, **show** us. If all your assumption about the code you wrote were true, you wouldn&#39;t be here asking for help. So please see [mcve] and enhance your question accordingl.y","body":"Dont <b>tell</b> us what your code is doing, <b>show</b> us. If all your assumption about the code you wrote were true, you wouldn&#39;t be here asking for help. So please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingl.y"},{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1636366281,"post_id":69881685,"comment_id":123528146,"body_markdown":"most likely the issue is `if(line.split(&quot; &quot;).equals(key)) {`  what is the `key` - the array returned from split will never match key","body":"most likely the issue is <code>if(line.split(&quot; &quot;).equals(key)) {</code>  what is the <code>key</code> - the array returned from split will never match key"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1636366305,"post_id":69881685,"comment_id":123528168,"body_markdown":"But note: buffered reader/writer aren&#39;t a good fit when you really want to MODIFY the same file and read it ... in the same JVM. See https://stackoverflow.com/questions/14470557/read-and-writing-to-a-file-simultaneously-in-java for more details and other ideas.","body":"But note: buffered reader/writer aren&#39;t a good fit when you really want to MODIFY the same file and read it ... in the same JVM. See <a href=\"https://stackoverflow.com/questions/14470557/read-and-writing-to-a-file-simultaneously-in-java\" title=\"read and writing to a file simultaneously in java\">stackoverflow.com/questions/14470557/&hellip;</a> for more details and other ideas."},{"owner":{"account_id":16635579,"reputation":53,"user_id":12985220,"display_name":"Mohamed Yehia"},"score":0,"creation_date":1636366553,"post_id":69881685,"comment_id":123528241,"body_markdown":"@PrasadU, you are right. This is another mistake. However, I do not enter the while loop&#39;s body regardless ...","body":"@PrasadU, you are right. This is another mistake. However, I do not enter the while loop&#39;s body regardless ..."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636368222,"creation_date":1636368222,"answer_id":69882193,"question_id":69881685,"body_markdown":"What you should try to do is to create a new instance of `BufferedReader/Writer` each time you do a read/write operation with the file. Make sure to flush and close after each use.","title":"Java bufferedreader not reading file","body":"<p>What you should try to do is to create a new instance of <code>BufferedReader/Writer</code> each time you do a read/write operation with the file. Make sure to flush and close after each use.</p>\n"}],"owner":{"account_id":16635579,"reputation":53,"user_id":12985220,"display_name":"Mohamed Yehia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69882193,"answer_count":1,"score":0,"last_activity_date":1636368222,"creation_date":1636365839,"question_id":69881685,"body_markdown":"I have a method called &quot;add&quot; which takes a string as an argument and uses the bufferedwriter to write it to the file. Once this is done, the bufferedwriter is flushed.\r\n\r\nIn another method &quot;read&quot;, I loop through the lines in the file, but the lines are null (hence I cannot print them).\r\n\r\nWhen I call &quot;read&quot; inside &quot;add&quot;, I can print the lines nonetheless.\r\n\r\n    public String add(String data) throws IOException{\r\n\t\r\n\t  this.bufferedWriter.write(data);\r\n  \t  this.bufferedWriter.flush();\r\n\t//this.read(data);\r\n\t   logger.info(&quot;written &quot; +data);\r\n\t  return data;\r\n    }\r\n    \r\n    public String read(String key) throws IOException{\r\n      logger.info(&quot;start reading ...: &quot;);\r\n      String line = this.bufferedReader.readLine();\r\n\t\r\n\t  while (line!= null) {\r\n\t\tlogger.info(&quot;loop start reading ...: &quot;+line);\r\n\t    if(line.split(&quot; &quot;).equals(key)) {\r\n\t\t   logger.info(&quot;reading line: &quot;+line);\r\n\t\t   return line;\r\n\t    }\r\n\t    line = this.bufferedReader.readLine();\r\n\t  }\r\n\t\r\n\t  return &quot;F&quot;;  // indicates the key is not in the storage\r\n    }\r\n\r\nThis is the full code:\r\n\r\n    public class FileManager {\r\n\t\r\n\tPath dataDir;\r\n\tFile f;\r\n\tFileReader fileReader;\r\n\tBufferedReader bufferedReader;\r\n\t\r\n\tFileWriter fileWriter;\r\n\tBufferedWriter bufferedWriter;\r\n\t\r\n    public static Logger logger = Logger.getLogger(FileManager.class.getName());\r\n\r\n\r\n\t\r\n\tpublic FileManager(Path dataDir) throws IOException {\r\n\t\tlogger.info(&quot;in file manager: &quot;);\r\n\t\tthis.dataDir = dataDir;\r\n\t\t\r\n\t\tString dirName = dataDir.toString();\r\n\r\n\t\tString fileName = &quot;fifo2.txt&quot;;\r\n\t\tFile dir = new File (dirName);\r\n\t\tdir.mkdirs();\r\n\t\tf = new File (dir, fileName);\r\n\t\t logger.info(&quot;file established at &quot;+f.getAbsolutePath());\r\n\r\n\t\tif(!f.exists()){\r\n\t\t logger.info(&quot;file not there so create new one &quot;);\r\n\t\t  f.createNewFile();\r\n\t\tlogger.info(&quot;file created!!! &quot;);\r\n\t\t}else{\r\n\t\t\tlogger.info(&quot;file already exists&quot;);\r\n\t\t  System.out.println(&quot;File already exists&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tlogger.info(&quot;file stage complete&quot;);\r\n\r\n\t\t\r\n\t\tthis.fileReader = new FileReader(f);\r\n\t\tthis.bufferedReader = new BufferedReader(fileReader);\r\n\t\t\r\n\t\t\r\n\t\tthis.fileWriter = new FileWriter(f, true);\r\n\t\tthis.bufferedWriter = new BufferedWriter(fileWriter);\r\n\t}\r\n\t\r\n\tpublic String add(String data) throws IOException{\r\n\t\t\r\n\t\tthis.bufferedWriter.write(data);\r\n\t\tthis.bufferedWriter.flush();\r\n\t\t//this.read(data);\r\n\t\t logger.info(&quot;written &quot; +data);\r\n\t\treturn data;\r\n\t}\r\n\t\r\n\tpublic String read(String key) throws IOException{\r\n\t\t\r\n\t\tlogger.info(&quot;start reading ...: &quot;);\r\n\r\n\t\t\r\n\t\tString line = this.bufferedReader.readLine();\r\n\t\t\r\n\t\twhile (line!= null) {\r\n\t\t\tlogger.info(&quot;loop start reading ...: &quot;+line);\r\n\t\t   if(line.split(&quot; &quot;).equals(key)) {\r\n\t\t\t   logger.info(&quot;reading line: &quot;+line);\r\n\t\t\t   return line;\r\n\t\t   }\r\n\t\t   line = this.bufferedReader.readLine();\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;F&quot;;  // indicates the key is not in the storage\r\n\t}\r\n\t\r\n\tpublic String delete(String key) throws IOException{\r\n\t\t\r\n\t\tlogger.info(&quot;Entering deletion in file storage&quot;);\r\n\r\n\t\t\r\n\t\tString line;\r\n\r\n\t\twhile ((line = this.bufferedReader.readLine()) != null) {\r\n\t\t   if(line.split(&quot; &quot;).equals(key)) {\r\n\t\t\t   line = &quot;DELETED&quot;;\r\n\t\t\t   logger.info(&quot;del_reading line: &quot;+line);\r\n\t\t\t   bufferedWriter.write(line);\r\n\t\t   }\r\n\t\t   line = this.bufferedReader.readLine();\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;F&quot;;  // indicates the key to be deleted is not in the storage\r\n\t}\r\n\r\n}\r\n","title":"Java bufferedreader not reading file","body":"<p>I have a method called &quot;add&quot; which takes a string as an argument and uses the bufferedwriter to write it to the file. Once this is done, the bufferedwriter is flushed.</p>\n<p>In another method &quot;read&quot;, I loop through the lines in the file, but the lines are null (hence I cannot print them).</p>\n<p>When I call &quot;read&quot; inside &quot;add&quot;, I can print the lines nonetheless.</p>\n<pre><code>public String add(String data) throws IOException{\n\n  this.bufferedWriter.write(data);\n  this.bufferedWriter.flush();\n//this.read(data);\n   logger.info(&quot;written &quot; +data);\n  return data;\n}\n\npublic String read(String key) throws IOException{\n  logger.info(&quot;start reading ...: &quot;);\n  String line = this.bufferedReader.readLine();\n\n  while (line!= null) {\n    logger.info(&quot;loop start reading ...: &quot;+line);\n    if(line.split(&quot; &quot;).equals(key)) {\n       logger.info(&quot;reading line: &quot;+line);\n       return line;\n    }\n    line = this.bufferedReader.readLine();\n  }\n\n  return &quot;F&quot;;  // indicates the key is not in the storage\n}\n</code></pre>\n<p>This is the full code:</p>\n<pre><code>public class FileManager {\n\nPath dataDir;\nFile f;\nFileReader fileReader;\nBufferedReader bufferedReader;\n\nFileWriter fileWriter;\nBufferedWriter bufferedWriter;\n\npublic static Logger logger = Logger.getLogger(FileManager.class.getName());\n\n\n\npublic FileManager(Path dataDir) throws IOException {\n    logger.info(&quot;in file manager: &quot;);\n    this.dataDir = dataDir;\n    \n    String dirName = dataDir.toString();\n\n    String fileName = &quot;fifo2.txt&quot;;\n    File dir = new File (dirName);\n    dir.mkdirs();\n    f = new File (dir, fileName);\n     logger.info(&quot;file established at &quot;+f.getAbsolutePath());\n\n    if(!f.exists()){\n     logger.info(&quot;file not there so create new one &quot;);\n      f.createNewFile();\n    logger.info(&quot;file created!!! &quot;);\n    }else{\n        logger.info(&quot;file already exists&quot;);\n      System.out.println(&quot;File already exists&quot;);\n    }\n    \n    logger.info(&quot;file stage complete&quot;);\n\n    \n    this.fileReader = new FileReader(f);\n    this.bufferedReader = new BufferedReader(fileReader);\n    \n    \n    this.fileWriter = new FileWriter(f, true);\n    this.bufferedWriter = new BufferedWriter(fileWriter);\n}\n\npublic String add(String data) throws IOException{\n    \n    this.bufferedWriter.write(data);\n    this.bufferedWriter.flush();\n    //this.read(data);\n     logger.info(&quot;written &quot; +data);\n    return data;\n}\n\npublic String read(String key) throws IOException{\n    \n    logger.info(&quot;start reading ...: &quot;);\n\n    \n    String line = this.bufferedReader.readLine();\n    \n    while (line!= null) {\n        logger.info(&quot;loop start reading ...: &quot;+line);\n       if(line.split(&quot; &quot;).equals(key)) {\n           logger.info(&quot;reading line: &quot;+line);\n           return line;\n       }\n       line = this.bufferedReader.readLine();\n    }\n    \n    return &quot;F&quot;;  // indicates the key is not in the storage\n}\n\npublic String delete(String key) throws IOException{\n    \n    logger.info(&quot;Entering deletion in file storage&quot;);\n\n    \n    String line;\n\n    while ((line = this.bufferedReader.readLine()) != null) {\n       if(line.split(&quot; &quot;).equals(key)) {\n           line = &quot;DELETED&quot;;\n           logger.info(&quot;del_reading line: &quot;+line);\n           bufferedWriter.write(line);\n       }\n       line = this.bufferedReader.readLine();\n    }\n    \n    return &quot;F&quot;;  // indicates the key to be deleted is not in the storage\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636368128,"post_id":69882158,"comment_id":123528869,"body_markdown":"Please show your entity mapping","body":"Please show your entity mapping"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1636368416,"post_id":69882158,"comment_id":123528976,"body_markdown":"Spring Boot nor Spring Data JPA optimizes anything. They are just abstractions over JPA. JPA translates a JPA query into SQL, if you write SQL nothing will be optimized. For JPA it might, but don&#39;t count on it.","body":"Spring Boot nor Spring Data JPA optimizes anything. They are just abstractions over JPA. JPA translates a JPA query into SQL, if you write SQL nothing will be optimized. For JPA it might, but don&#39;t count on it."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":1,"creation_date":1636368525,"post_id":69882158,"comment_id":123529023,"body_markdown":"You might want to look at Hibernate First level cache for documentaiton on this if I understand your question right. See https://stackoverflow.com/questions/337072/what-are-the-first-and-second-level-caches-in-nhibernate . Beware though that the devil is in the detail, you probably write some queries in such a way that the cache does not kick in (e.g. directly write a query with a join for each buyer / seller). Agreed that &quot;optimizing&quot; is not the word for it - but the implementation might skip some DB fetches if they already happened in a cohesive &quot;scope&quot; / unit of work.","body":"You might want to look at Hibernate First level cache for documentaiton on this if I understand your question right. See <a href=\"https://stackoverflow.com/questions/337072/what-are-the-first-and-second-level-caches-in-nhibernate\" title=\"what are the first and second level caches in nhibernate\">stackoverflow.com/questions/337072/&hellip;</a> . Beware though that the devil is in the detail, you probably write some queries in such a way that the cache does not kick in (e.g. directly write a query with a join for each buyer / seller). Agreed that &quot;optimizing&quot; is not the word for it - but the implementation might skip some DB fetches if they already happened in a cohesive &quot;scope&quot; / unit of work."}],"owner":{"account_id":23271469,"reputation":11,"user_id":17356240,"display_name":"Saeda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636368019,"creation_date":1636368019,"question_id":69882158,"body_markdown":"I have a database relation which looks like this (in reality it looks slightly different but I removed unimportant fields):\r\n\r\n```\r\nTable Customer (\r\nID      NUMBER(13),\r\n...\r\n)\r\n\r\nTable Orders (\r\nID      NUMBER(13),\r\nBUYER_ID      NUMBER(13),\r\nSELLER_ID     NUMBER(13),\r\n...\r\n)\r\n```\r\nBoth BUYER_ID and SELLER_ID are references to CUSTOMER table. And in my situation there are cases that BUYER_ID and SELLER_ID might be the same for an order (I know it sounds funny).\r\n\r\nMy question is: if I am asking for a specific order using jpa repository, with both buyer and seller being the same customer, is this query optimized to return the same object? Or is the customer table asked twice for the same object?\r\n\r\nThe background of this question is that my team wants to add a flag in order table which would indicate weather the buyer and seller are the same (to optimize the query) but I believe that this is already optimized with springboot. Unfortunately I cannot find confirmation for this anywhere :(","title":"Does springboot and jpa optimize sql queries?","body":"<p>I have a database relation which looks like this (in reality it looks slightly different but I removed unimportant fields):</p>\n<pre><code>Table Customer (\nID      NUMBER(13),\n...\n)\n\nTable Orders (\nID      NUMBER(13),\nBUYER_ID      NUMBER(13),\nSELLER_ID     NUMBER(13),\n...\n)\n</code></pre>\n<p>Both BUYER_ID and SELLER_ID are references to CUSTOMER table. And in my situation there are cases that BUYER_ID and SELLER_ID might be the same for an order (I know it sounds funny).</p>\n<p>My question is: if I am asking for a specific order using jpa repository, with both buyer and seller being the same customer, is this query optimized to return the same object? Or is the customer table asked twice for the same object?</p>\n<p>The background of this question is that my team wants to add a flag in order table which would indicate weather the buyer and seller are the same (to optimize the query) but I believe that this is already optimized with springboot. Unfortunately I cannot find confirmation for this anywhere :(</p>\n"},{"tags":["java","http","post","get","request"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1636367834,"post_id":69882045,"comment_id":123528752,"body_markdown":"Doesn&#39;t the JavaDoc on class `HttpRequest` help already? It basically tells you to use `HttpClient` and `HttpRequest.builder()`.","body":"Doesn&#39;t the JavaDoc on class <code>HttpRequest</code> help already? It basically tells you to use <code>HttpClient</code> and <code>HttpRequest.builder()</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636383948,"post_id":69882045,"comment_id":123535373,"body_markdown":"I think you mean `HttpURLConnection`.  It wasn&#39;t replaced.  It is still available for applications to use as of Java 17.  It hasn&#39;t been marked as deprecated.  (As JEP 110 states: &quot;This API is intended to **eventually** replace the` HttpURLConnection` API **for new code**...&quot;)","body":"I think you mean <code>HttpURLConnection</code>.  It wasn&#39;t replaced.  It is still available for applications to use as of Java 17.  It hasn&#39;t been marked as deprecated.  (As JEP 110 states: &quot;This API is intended to <b>eventually</b> replace the` HttpURLConnection` API <b>for new code</b>...&quot;)"},{"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1640978076,"post_id":69882045,"comment_id":124703402,"body_markdown":"Does this answer your question? [How to send HTTP request in java?](https://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java\">How to send HTTP request in java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636367915,"creation_date":1636367915,"answer_id":69882128,"question_id":69882045,"body_markdown":"A simple GET request using JDK 11 HttpClient + HttpRequest:\r\n\r\n    HttpClient client = HttpClient.newBuilder()\r\n            .connectTimeout(Duration.ofSeconds(10))\r\n            .build();\r\n\r\n    HttpRequest req = HttpRequest.newBuilder()\r\n            .uri(URI.create(&quot;https://pathHere&quot;))\r\n            .GET().build();\r\n\r\n\r\n    client.send(req, HttpResponse.BodyHandlers.ofString()).body();\r\n    ","title":"How to send HTTP request in JAVA 16.0","body":"<p>A simple GET request using JDK 11 HttpClient + HttpRequest:</p>\n<pre><code>HttpClient client = HttpClient.newBuilder()\n        .connectTimeout(Duration.ofSeconds(10))\n        .build();\n\nHttpRequest req = HttpRequest.newBuilder()\n        .uri(URI.create(&quot;https://pathHere&quot;))\n        .GET().build();\n\n\nclient.send(req, HttpResponse.BodyHandlers.ofString()).body();\n</code></pre>\n"}],"owner":{"account_id":23270744,"reputation":11,"user_id":17355627,"display_name":"grutty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1636367915,"creation_date":1636367497,"question_id":69882045,"body_markdown":"As I can see after Java 11 HttpURLRequest was substituted by HttpRequest.\r\n\r\nHow can I send a simple HTTP request using HttpRequest?\r\n","title":"How to send HTTP request in JAVA 16.0","body":"<p>As I can see after Java 11 HttpURLRequest was substituted by HttpRequest.</p>\n<p>How can I send a simple HTTP request using HttpRequest?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636277391,"post_id":69870496,"comment_id":123509358,"body_markdown":"Can you please show the code where you are calling save?","body":"Can you please show the code where you are calling save?"},{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":0,"creation_date":1636280911,"post_id":69870496,"comment_id":123509957,"body_markdown":"Have a look at: https://stackoverflow.com/questions/5260297/how-does-the-detached-object-work-in-hibernate","body":"Have a look at: <a href=\"https://stackoverflow.com/questions/5260297/how-does-the-detached-object-work-in-hibernate\" title=\"how does the detached object work in hibernate\">stackoverflow.com/questions/5260297/&hellip;</a>"},{"owner":{"account_id":13244072,"reputation":65,"user_id":9942602,"display_name":"Hzt"},"score":0,"creation_date":1636333332,"post_id":69870496,"comment_id":123521120,"body_markdown":"@SimonMartinelli: Sorry, I&#39;ve edited the post","body":"@SimonMartinelli: Sorry, I&#39;ve edited the post"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636367576,"creation_date":1636367576,"answer_id":69882058,"question_id":69870496,"body_markdown":"The problem is that person is detached after save because you obviously don&#39;t have an outer transaction to keep the entity managed.\r\n\r\nSo you have to add an outer transaction to have this in one transaction:\r\n\r\n    @Transactional\r\n    public void yourSaveMethod() {\r\n        Person person = new Person(&quot;patient&quot;, &quot;pat&quot;, &quot;patient@email.com&quot;);\r\n        personRepository.save(person);\r\n        Patient patient1 = new Patient(person);\r\n        patientRepository.save(patient1);\r\n    }","title":"Spring JPA get error detached entity passed to persist on unidirectional OneToOne relationship when save to repository without cascade","body":"<p>The problem is that person is detached after save because you obviously don't have an outer transaction to keep the entity managed.</p>\n<p>So you have to add an outer transaction to have this in one transaction:</p>\n<pre><code>@Transactional\npublic void yourSaveMethod() {\n    Person person = new Person(&quot;patient&quot;, &quot;pat&quot;, &quot;patient@email.com&quot;);\n    personRepository.save(person);\n    Patient patient1 = new Patient(person);\n    patientRepository.save(patient1);\n}\n</code></pre>\n"}],"owner":{"account_id":13244072,"reputation":65,"user_id":9942602,"display_name":"Hzt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636367576,"creation_date":1636269906,"question_id":69870496,"body_markdown":"I have two entity: Person and Patient. The Patient is a child of Person and it maps its primary key to Person&#39;s primary key. This was meant to be a unidirectional OneToOne relation so Person doesn&#39;t know about Patient.\r\n\r\nThe Person is already persisted in the PostgreSQL, but when I tried to persist the Patient, I got this error:\r\n\r\n```\r\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.example.clinic.entities.Person; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.example.clinic.entities.Person\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297) ~[spring-orm-5.3.12.jar:5.3.12]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.12.jar:5.3.12]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.12.jar:5.3.12]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.12.jar:5.3.12]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy89.save(Unknown Source) ~[na:na]\r\n\tat com.example.clinic.ClinicApplication.lambda$demo$0(ClinicApplication.java:43) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\t... 5 common frames omitted\r\n```\r\n\r\nThis is a snippet of my Person Class\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;person&quot;)\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    private String email;\r\n\r\n    @Column(name = &quot;created_on&quot;)\r\n    private Date createdOn;\r\n}\r\n```\r\n\r\nThe Patient class:\r\n```\r\n@Entity\r\n@Table(name = &quot;patient&quot;)\r\npublic class Patient {\r\n    @Id\r\n    private Long id;\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private Person person;\r\n\r\n    @Column(name = &quot;last_visit&quot;)\r\n    private Date lastVisit;\r\n}\r\n```\r\n\r\nthe Patient repo:\r\n```\r\n@Repository\r\npublic interface PatientRepository extends JpaRepository&lt;Patient, Long&gt; {\r\n    Patient findById(long id);\r\n\r\n    @Query(&quot;SELECT p FROM Patient p WHERE p.person.email = ?1&quot;)\r\n    Patient findByEmail(String email);\r\n}\r\n```\r\n\r\nEDIT:\r\n\r\nHere is where I tried to save the Patient\r\n```\r\nPerson person = new Person(&quot;patient&quot;, &quot;pat&quot;, &quot;patient@email.com&quot;);\r\npersonRepository.save(person);\r\nPatient patient1 = new Patient(person);\r\npatientRepository.save(patient1); // &lt;---- here is the exception happen\r\n```\r\n\r\nAny idea?","title":"Spring JPA get error detached entity passed to persist on unidirectional OneToOne relationship when save to repository without cascade","body":"<p>I have two entity: Person and Patient. The Patient is a child of Person and it maps its primary key to Person's primary key. This was meant to be a unidirectional OneToOne relation so Person doesn't know about Patient.</p>\n<p>The Person is already persisted in the PostgreSQL, but when I tried to persist the Patient, I got this error:</p>\n<pre><code>Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.example.clinic.entities.Person; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.example.clinic.entities.Person\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.12.jar:5.3.12]\n    at jdk.proxy2/jdk.proxy2.$Proxy89.save(Unknown Source) ~[na:na]\n    at com.example.clinic.ClinicApplication.lambda$demo$0(ClinicApplication.java:43) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-2.5.6.jar:2.5.6]\n    ... 5 common frames omitted\n</code></pre>\n<p>This is a snippet of my Person Class</p>\n<pre><code>@Entity\n@Table(name = &quot;person&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;user_id&quot;)\n    private Long userId;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    private String email;\n\n    @Column(name = &quot;created_on&quot;)\n    private Date createdOn;\n}\n</code></pre>\n<p>The Patient class:</p>\n<pre><code>@Entity\n@Table(name = &quot;patient&quot;)\npublic class Patient {\n    @Id\n    private Long id;\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;user_id&quot;)\n    private Person person;\n\n    @Column(name = &quot;last_visit&quot;)\n    private Date lastVisit;\n}\n</code></pre>\n<p>the Patient repo:</p>\n<pre><code>@Repository\npublic interface PatientRepository extends JpaRepository&lt;Patient, Long&gt; {\n    Patient findById(long id);\n\n    @Query(&quot;SELECT p FROM Patient p WHERE p.person.email = ?1&quot;)\n    Patient findByEmail(String email);\n}\n</code></pre>\n<p>EDIT:</p>\n<p>Here is where I tried to save the Patient</p>\n<pre><code>Person person = new Person(&quot;patient&quot;, &quot;pat&quot;, &quot;patient@email.com&quot;);\npersonRepository.save(person);\nPatient patient1 = new Patient(person);\npatientRepository.save(patient1); // &lt;---- here is the exception happen\n</code></pre>\n<p>Any idea?</p>\n"},{"tags":["java","hibernate","jpa","blaze-persistence"],"answers":[{"tags":[],"owner":{"account_id":21532,"reputation":3658,"user_id":52439,"accept_rate":92,"display_name":"cg."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636367482,"creation_date":1636367127,"answer_id":69881954,"question_id":69880048,"body_markdown":"Looks like I figured this out a possible suolution by trial and error. It seems that the &quot;optional parameters&quot; from `EntityViewSetting` can be used like regular parameters in JPQL:\r\n\r\n```\r\nreturn subqueryBuilder.from(TopicLastSeen.class, &quot;lastSeen&quot;)\r\n        .select(&quot;dateSeen&quot;)\r\n        .where(&quot;lastSeen.user.id&quot;).eqExpression(&quot;:currentUserId&quot;)\r\n        .where(&quot;lastSeen.topic.id&quot;).eqExpression(&quot;EMBEDDING_VIEW(id)&quot;)\r\n        .end();\r\n```\r\n\r\nUnfortunately though, with this subquery mapping the currentUserId parameter is no longer &quot;optional&quot;. When it is not set I get another exception:\r\n\r\n```\r\norg.hibernate.QueryException: Named parameter not bound : currentUserId \r\n```\r\n","title":"Using Blaze Persistence optional parameter in subquery","body":"<p>Looks like I figured this out a possible suolution by trial and error. It seems that the &quot;optional parameters&quot; from <code>EntityViewSetting</code> can be used like regular parameters in JPQL:</p>\n<pre><code>return subqueryBuilder.from(TopicLastSeen.class, &quot;lastSeen&quot;)\n        .select(&quot;dateSeen&quot;)\n        .where(&quot;lastSeen.user.id&quot;).eqExpression(&quot;:currentUserId&quot;)\n        .where(&quot;lastSeen.topic.id&quot;).eqExpression(&quot;EMBEDDING_VIEW(id)&quot;)\n        .end();\n</code></pre>\n<p>Unfortunately though, with this subquery mapping the currentUserId parameter is no longer &quot;optional&quot;. When it is not set I get another exception:</p>\n<pre><code>org.hibernate.QueryException: Named parameter not bound : currentUserId \n</code></pre>\n"}],"owner":{"account_id":21532,"reputation":3658,"user_id":52439,"accept_rate":92,"display_name":"cg."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636367482,"creation_date":1636357398,"question_id":69880048,"body_markdown":"In Blaze Persistence, is there a way to use an optional parameter in a subquery? \r\n\r\nIn my current use case, let&#39;s say I have topics, users, and a third table called `topic_last_seen` to record the date at which each user has last read each topic. I would like to create an entity view for the `Topic` entity which also maps that date for each topic with the current user given as an &quot;optional parameter&quot;. This is roughly what I&#39;ve been trying:\r\n\r\n```\r\n@EntityView(Topic.class)\r\npublic interface TopicView\r\n{\r\n    @IdMapping\r\n    Long getId();\r\n\r\n    String getSummary();\r\n\r\n    @MappingParameter(&quot;currentUserId&quot;)\r\n    Long getCurrentUserId();\r\n\r\n    @MappingSubquery(LastSeenDateSubqueryProvider.class)\r\n    Date getLastSeenDate();\r\n\r\n    class LastSeenDateSubqueryProvider implements SubqueryProvider\r\n    {\r\n        @Override\r\n        public &lt;T&gt; T createSubquery(SubqueryInitiator&lt;T&gt; subqueryBuilder)\r\n        {\r\n            return subqueryBuilder.from(TopicLastSeen.class, &quot;lastSeen&quot;)\r\n                    .select(&quot;dateSeen&quot;)\r\n                    .where(&quot;lastSeen.user.id&quot;).eqExpression(&quot;EMBEDDING_VIEW(currentUserId)&quot;)\r\n                    .where(&quot;lastSeen.topic.id&quot;).eqExpression(&quot;EMBEDDING_VIEW(id)&quot;)\r\n                    .end();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, this results in an exception:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Attribute &#39;currentUserId&#39; not found on type &#39;Topic&#39;\r\n```\r\n\r\nIs there any way to use an optional parameter in a subquery like this at all? Or is there a different way to map this information? Changing the DB schema is not an option at this point.","title":"Using Blaze Persistence optional parameter in subquery","body":"<p>In Blaze Persistence, is there a way to use an optional parameter in a subquery?</p>\n<p>In my current use case, let's say I have topics, users, and a third table called <code>topic_last_seen</code> to record the date at which each user has last read each topic. I would like to create an entity view for the <code>Topic</code> entity which also maps that date for each topic with the current user given as an &quot;optional parameter&quot;. This is roughly what I've been trying:</p>\n<pre><code>@EntityView(Topic.class)\npublic interface TopicView\n{\n    @IdMapping\n    Long getId();\n\n    String getSummary();\n\n    @MappingParameter(&quot;currentUserId&quot;)\n    Long getCurrentUserId();\n\n    @MappingSubquery(LastSeenDateSubqueryProvider.class)\n    Date getLastSeenDate();\n\n    class LastSeenDateSubqueryProvider implements SubqueryProvider\n    {\n        @Override\n        public &lt;T&gt; T createSubquery(SubqueryInitiator&lt;T&gt; subqueryBuilder)\n        {\n            return subqueryBuilder.from(TopicLastSeen.class, &quot;lastSeen&quot;)\n                    .select(&quot;dateSeen&quot;)\n                    .where(&quot;lastSeen.user.id&quot;).eqExpression(&quot;EMBEDDING_VIEW(currentUserId)&quot;)\n                    .where(&quot;lastSeen.topic.id&quot;).eqExpression(&quot;EMBEDDING_VIEW(id)&quot;)\n                    .end();\n        }\n    }\n}\n</code></pre>\n<p>Unfortunately, this results in an exception:</p>\n<pre><code>java.lang.IllegalArgumentException: Attribute 'currentUserId' not found on type 'Topic'\n</code></pre>\n<p>Is there any way to use an optional parameter in a subquery like this at all? Or is there a different way to map this information? Changing the DB schema is not an option at this point.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1636365082,"post_id":69881425,"comment_id":123527608,"body_markdown":"some issues with `for (int i = 1; i &lt;= num; i++)`  and `i = i / 10;`","body":"some issues with <code>for (int i = 1; i &lt;= num; i++)</code>  and <code>i = i &#47; 10;</code>"},{"owner":{"account_id":21159873,"reputation":3,"user_id":15558338,"display_name":"mary"},"score":0,"creation_date":1636365306,"post_id":69881425,"comment_id":123527703,"body_markdown":"what should i do with them? @sittsering","body":"what should i do with them? @sittsering"},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":1,"creation_date":1636365360,"post_id":69881425,"comment_id":123527730,"body_markdown":"just a question, are you finding number of binaray numbers in range of 1 to n? cause for that you&#39;ll have to use 2 loops. one for range and one checking if its binary or not.","body":"just a question, are you finding number of binaray numbers in range of 1 to n? cause for that you&#39;ll have to use 2 loops. one for range and one checking if its binary or not."},{"owner":{"account_id":21159873,"reputation":3,"user_id":15558338,"display_name":"mary"},"score":0,"creation_date":1636365440,"post_id":69881425,"comment_id":123527777,"body_markdown":"yes @sittsering","body":"yes @sittsering"},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1636366782,"post_id":69881425,"comment_id":123528335,"body_markdown":"I&#39;ve changed few things, you can check","body":"I&#39;ve changed few things, you can check"}],"answers":[{"tags":[],"owner":{"account_id":17250538,"reputation":35,"user_id":12490807,"display_name":"jchenaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636365336,"creation_date":1636365336,"answer_id":69881576,"question_id":69881425,"body_markdown":"I am not a java dev so maybe my answer is not good.But you can use your number as str then check if the str is constituted only by  0 and 1 \r\n\r\nmaybe this could help: : https://stackoverflow.com/questions/4433998/how-to-check-if-only-chosen-characters-are-in-a-string\r\n\r\nhave a nice day","title":"I want to check if a number is binary or not in decimal numbers but it didnt work","body":"<p>I am not a java dev so maybe my answer is not good.But you can use your number as str then check if the str is constituted only by  0 and 1</p>\n<p>maybe this could help: : <a href=\"https://stackoverflow.com/questions/4433998/how-to-check-if-only-chosen-characters-are-in-a-string\">How to check if only chosen characters are in a string?</a></p>\n<p>have a nice day</p>\n"},{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636365450,"creation_date":1636365450,"answer_id":69881594,"question_id":69881425,"body_markdown":"Here&#39;s how you can do it in an elegant way ...\r\n\r\n```\r\n // Function to check if number\r\n    // is binary or not\r\n    public static boolean isBinaryNumber(int num)\r\n    {\r\n\r\n        if(num == 1 || num == 0) return true\r\n        if (num &lt; 0) return false;\r\n        \r\n        // Get the rightmost digit of\r\n        // the number with the help\r\n        // of remainder &#39;%&#39; operator\r\n        // by dividing it with 10\r\n        while (num != 0) {\r\n\r\n            // If the digit is greater\r\n            // than 1 return false\r\n            if (num % 10 &gt; 1) {\r\n                return false;\r\n            }\r\n            num = num / 10;\r\n        }\r\n        return true;\r\n    }\r\n```","title":"I want to check if a number is binary or not in decimal numbers but it didnt work","body":"<p>Here's how you can do it in an elegant way ...</p>\n<pre><code> // Function to check if number\n    // is binary or not\n    public static boolean isBinaryNumber(int num)\n    {\n\n        if(num == 1 || num == 0) return true\n        if (num &lt; 0) return false;\n        \n        // Get the rightmost digit of\n        // the number with the help\n        // of remainder '%' operator\n        // by dividing it with 10\n        while (num != 0) {\n\n            // If the digit is greater\n            // than 1 return false\n            if (num % 10 &gt; 1) {\n                return false;\n            }\n            num = num / 10;\n        }\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636367436,"creation_date":1636365921,"answer_id":69881701,"question_id":69881425,"body_markdown":"Here, will use 2 loops, one for range and one for checking if it&#39;s binary or not.&lt;br&gt;\r\nInstead of c and r, we will use flag and break in order to skip unnecessary iteration.\r\n````\r\nint count=0;\r\nboolean flag = true;\r\nfor(int i=1;i&lt;=num;i++)\r\n{\r\n    for(int j=i;j&gt;0;j=j/10)\r\n    {\r\n        // if remainder is not 0 and 1, then it means it&#39;s not binary\r\n        // so we set flag as false\r\n        // and using break to break out of the current(inner) loop, it&#39;s no longer needed to check remaining digits.\r\n        if (j%10 &gt; 1)\r\n        {\r\n            flag = false;\r\n            break;\r\n        }\r\n    }\r\n    // if flag is true, that means it&#39;s binary and we increment count.\r\n    // if flag is flase, that means it&#39;s not binary \r\n    if(flag)\r\n\t    count++;\r\n    // here we reset flag back to true\r\n    flag = true\r\n}\r\nSystem.out.println(count);\r\n````\r\nYou can also do as @jchenaud suggested. converting it to string and check if it only contains `0` and `1`.","title":"I want to check if a number is binary or not in decimal numbers but it didnt work","body":"<p>Here, will use 2 loops, one for range and one for checking if it's binary or not.<br>\nInstead of c and r, we will use flag and break in order to skip unnecessary iteration.</p>\n<pre><code>int count=0;\nboolean flag = true;\nfor(int i=1;i&lt;=num;i++)\n{\n    for(int j=i;j&gt;0;j=j/10)\n    {\n        // if remainder is not 0 and 1, then it means it's not binary\n        // so we set flag as false\n        // and using break to break out of the current(inner) loop, it's no longer needed to check remaining digits.\n        if (j%10 &gt; 1)\n        {\n            flag = false;\n            break;\n        }\n    }\n    // if flag is true, that means it's binary and we increment count.\n    // if flag is flase, that means it's not binary \n    if(flag)\n        count++;\n    // here we reset flag back to true\n    flag = true\n}\nSystem.out.println(count);\n</code></pre>\n<p>You can also do as @jchenaud suggested. converting it to string and check if it only contains <code>0</code> and <code>1</code>.</p>\n"}],"owner":{"account_id":21159873,"reputation":3,"user_id":15558338,"display_name":"mary"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636367436,"creation_date":1636364618,"question_id":69881425,"body_markdown":"I want to check if a number if binary or not in decimal numbers but it didnt work\r\nfrom numbera 1 to n.\r\nfor example from 1 to 10 we have 2 decimal numbers that contains 0,1.How can i change it?\r\n\r\n    import java.util.Scanner;\r\n    public class Main\r\n    {\r\n        public static void main(String args[]) {\r\n            int r = 0, c = 0, num, b;\r\n            int count=0;\r\n            Scanner sl = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number&quot;);\r\n            num = sl.nextInt();\r\n\r\n            for (int i = 1; i &lt;= num; i++) {\r\n\r\n                    if ((i % 10 == 0) || (i % 10 == 1))\r\n                        c++;\r\n                    r++;\r\n                    i = i / 10;\r\n                }\r\n                if (c == r)\r\n                    count++;\r\n                else{\r\n\r\n                }\r\n            System.out.println(count);\r\n            }\r\n\r\n        }","title":"I want to check if a number is binary or not in decimal numbers but it didnt work","body":"<p>I want to check if a number if binary or not in decimal numbers but it didnt work\nfrom numbera 1 to n.\nfor example from 1 to 10 we have 2 decimal numbers that contains 0,1.How can i change it?</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\n    public static void main(String args[]) {\n        int r = 0, c = 0, num, b;\n        int count=0;\n        Scanner sl = new Scanner(System.in);\n        System.out.println(&quot;Enter a number&quot;);\n        num = sl.nextInt();\n\n        for (int i = 1; i &lt;= num; i++) {\n\n                if ((i % 10 == 0) || (i % 10 == 1))\n                    c++;\n                r++;\n                i = i / 10;\n            }\n            if (c == r)\n                count++;\n            else{\n\n            }\n        System.out.println(count);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6801771,"reputation":33,"user_id":5234875,"display_name":"Alexandros Chondrogiannis"},"score":0,"creation_date":1553617506,"post_id":55361471,"comment_id":97447708,"body_markdown":"Oh I didn&#39;t know that. I am sorry","body":"Oh I didn&#39;t know that. I am sorry"},{"owner":{"account_id":6801771,"reputation":33,"user_id":5234875,"display_name":"Alexandros Chondrogiannis"},"score":0,"creation_date":1553620111,"post_id":55361471,"comment_id":97449292,"body_markdown":"I have a stroke around the  circle to indicate the selected one","body":"I have a stroke around the  circle to indicate the selected one"}],"answers":[{"tags":[],"owner":{"account_id":3370544,"reputation":973,"user_id":2829851,"accept_rate":0,"display_name":"Narendra Kothamire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553620202,"creation_date":1553620202,"answer_id":55362703,"question_id":55361471,"body_markdown":"In checked state make color of solid as transparent like this\r\n\r\n    .....\r\n    \r\n        &lt;item android:state_checked=&quot;true&quot;&gt;\r\n        &lt;shape android:shape=&quot;oval&quot; &gt;\r\n            &lt;corners android:radius=&quot;3dp&quot; /&gt;\r\n            &lt;stroke android:width=&quot;3dip&quot; android:color=&quot;#333333&quot; /&gt;\r\n            &lt;solid android:color=&quot;@android:color/transparent&quot;/&gt;\r\n        &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n    \r\n    .....","title":"Removing the &quot;checked&quot; circle from a RadioButton","body":"<p>In checked state make color of solid as transparent like this</p>\n\n<pre><code>.....\n\n    &lt;item android:state_checked=\"true\"&gt;\n    &lt;shape android:shape=\"oval\" &gt;\n        &lt;corners android:radius=\"3dp\" /&gt;\n        &lt;stroke android:width=\"3dip\" android:color=\"#333333\" /&gt;\n        &lt;solid android:color=\"@android:color/transparent\"/&gt;\n    &lt;/shape&gt;\n    &lt;/item&gt;\n\n.....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6592570,"reputation":1357,"user_id":5093308,"display_name":"Zhou Hongbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636367408,"creation_date":1636367408,"answer_id":69882020,"question_id":55361471,"body_markdown":"You can also try `android:button=&quot;?android:selectableItemBackground&quot;`\r\n","title":"Removing the &quot;checked&quot; circle from a RadioButton","body":"<p>You can also try <code>android:button=&quot;?android:selectableItemBackground&quot;</code></p>\n"}],"owner":{"account_id":6801771,"reputation":33,"user_id":5234875,"display_name":"Alexandros Chondrogiannis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636367408,"creation_date":1553616127,"question_id":55361471,"body_markdown":"I want to remove the inner circle from the checked radio button in Android Studio.I&#39;ve read that `android:button=&quot;@null&quot;` would solve it but it removed my whole button. This is my code:\r\n\r\n**`RadioButton`**\r\n\r\n    &lt;RadioButton\r\n      android:id=&quot;@+id/xroma11&quot;\r\n      android:layout_width=&quot;wrap_content&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:background=&quot;@drawable/radio_bg1&quot;\r\n      android:tag = &quot;00&quot; /&gt;\r\n\r\n**`radio_bg1.xml`**\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n\r\n    &lt;item android:state_pressed=&quot;true&quot; &gt;\r\n        &lt;shape android:shape=&quot;oval&quot; &gt;\r\n            &lt;corners android:radius=&quot;3dp&quot; /&gt;\r\n            &lt;stroke android:width=&quot;3dip&quot; android:color=&quot;#333333&quot; /&gt;\r\n            &lt;solid android:color=&quot;@color/xrwma2&quot;/&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n\r\n    &lt;item android:state_checked=&quot;true&quot;&gt;\r\n        &lt;shape android:shape=&quot;oval&quot; &gt;\r\n            &lt;corners android:radius=&quot;3dp&quot; /&gt;\r\n            &lt;stroke android:width=&quot;3dip&quot; android:color=&quot;#333333&quot; /&gt;\r\n            &lt;solid android:color=&quot;@color/xrwma2&quot;/&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n\r\n    &lt;item&gt;\r\n        &lt;shape android:shape=&quot;oval&quot;  &gt;\r\n            &lt;corners android:radius=&quot;3dp&quot; /&gt;\r\n            &lt;solid android:color=&quot;@color/xrwma2&quot;/&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/selector&gt;","title":"Removing the &quot;checked&quot; circle from a RadioButton","body":"<p>I want to remove the inner circle from the checked radio button in Android Studio.I've read that <code>android:button=\"@null\"</code> would solve it but it removed my whole button. This is my code:</p>\n\n<p><strong><code>RadioButton</code></strong></p>\n\n<pre><code>&lt;RadioButton\n  android:id=\"@+id/xroma11\"\n  android:layout_width=\"wrap_content\"\n  android:layout_height=\"wrap_content\"\n  android:background=\"@drawable/radio_bg1\"\n  android:tag = \"00\" /&gt;\n</code></pre>\n\n<p><strong><code>radio_bg1.xml</code></strong>\n\n</p>\n\n<pre><code>&lt;item android:state_pressed=\"true\" &gt;\n    &lt;shape android:shape=\"oval\" &gt;\n        &lt;corners android:radius=\"3dp\" /&gt;\n        &lt;stroke android:width=\"3dip\" android:color=\"#333333\" /&gt;\n        &lt;solid android:color=\"@color/xrwma2\"/&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n\n&lt;item android:state_checked=\"true\"&gt;\n    &lt;shape android:shape=\"oval\" &gt;\n        &lt;corners android:radius=\"3dp\" /&gt;\n        &lt;stroke android:width=\"3dip\" android:color=\"#333333\" /&gt;\n        &lt;solid android:color=\"@color/xrwma2\"/&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n\n&lt;item&gt;\n    &lt;shape android:shape=\"oval\"  &gt;\n        &lt;corners android:radius=\"3dp\" /&gt;\n        &lt;solid android:color=\"@color/xrwma2\"/&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","spring","multithreading","scheduled-tasks","timertask"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1636367290,"post_id":69881903,"comment_id":123528537,"body_markdown":"I&#39;m not quite sure I understand the question completely. Is it a list of tasks or a list of items that a single task could work on? If the latter then why don&#39;t you just pass the list of items to whatever is used to execute the task? Where does the &quot;at some interval&quot; come in except for the requirement of serial execution? Also &quot;This list is being used by multiple threads.&quot; - how is this related to the question? This might actually be a different story, i.e. related to access synchronization or completion.","body":"I&#39;m not quite sure I understand the question completely. Is it a list of tasks or a list of items that a single task could work on? If the latter then why don&#39;t you just pass the list of items to whatever is used to execute the task? Where does the &quot;at some interval&quot; come in except for the requirement of serial execution? Also &quot;This list is being used by multiple threads.&quot; - how is this related to the question? This might actually be a different story, i.e. related to access synchronization or completion."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636367375,"creation_date":1636367375,"answer_id":69882014,"question_id":69881903,"body_markdown":"Ideally you should do it sequentially, since there is no benefit to using concurrency here.\r\n\r\nHowever, if it needs to be multithreaded you can do something like ...\r\n\r\n```\r\nList&lt;Runnable&gt; tasks = new ArrayList&lt;&gt;();\r\ntasks.add(new ThreadOne()); /* Pick better names for tasks */\r\ntasks.add(new ThreadTwo());\r\n...\r\nExecutorService worker = Executors.newSingleThreadExecutor();\r\nworker.submit(() -&gt; {\r\n    while (!Thread.interrupted()) \r\n        tasks.forEach(Runnable::run);\r\n});\r\nworker.shutdown();\r\n```","title":"How to execute items in a list one by one at some interval in Java?","body":"<p>Ideally you should do it sequentially, since there is no benefit to using concurrency here.</p>\n<p>However, if it needs to be multithreaded you can do something like ...</p>\n<pre><code>List&lt;Runnable&gt; tasks = new ArrayList&lt;&gt;();\ntasks.add(new ThreadOne()); /* Pick better names for tasks */\ntasks.add(new ThreadTwo());\n...\nExecutorService worker = Executors.newSingleThreadExecutor();\nworker.submit(() -&gt; {\n    while (!Thread.interrupted()) \n        tasks.forEach(Runnable::run);\n});\nworker.shutdown();\n</code></pre>\n"}],"owner":{"account_id":4493224,"reputation":91,"user_id":3653791,"display_name":"Shubhashish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636367375,"creation_date":1636366898,"question_id":69881903,"body_markdown":"I have a List of Items. I want to run some operation for each item in the list one by one. The operation might take 5 minutes to complete. The ask is that for a particular item in the list the operation should start and complete then only the operation should start for the next item and so on. The operation should execute for only the number of items in the list.\r\n\r\n\r\nThis list is being used by multiple threads.\r\n\r\nI am thinking of using TimerTask for it or Schedular. \r\n\r\nCan please help on this?","title":"How to execute items in a list one by one at some interval in Java?","body":"<p>I have a List of Items. I want to run some operation for each item in the list one by one. The operation might take 5 minutes to complete. The ask is that for a particular item in the list the operation should start and complete then only the operation should start for the next item and so on. The operation should execute for only the number of items in the list.</p>\n<p>This list is being used by multiple threads.</p>\n<p>I am thinking of using TimerTask for it or Schedular.</p>\n<p>Can please help on this?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1636367612,"post_id":69881981,"comment_id":123528657,"body_markdown":"Hard to tell without more info. Assuming you&#39;re using at least Java 5 the IDE should pick up the class so maybe you&#39;ve misconfigured your project or it&#39;s a hickup in the IDE (I know this more from Eclipse than from IntelliJ though).","body":"Hard to tell without more info. Assuming you&#39;re using at least Java 5 the IDE should pick up the class so maybe you&#39;ve misconfigured your project or it&#39;s a hickup in the IDE (I know this more from Eclipse than from IntelliJ though)."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1636367907,"post_id":69881981,"comment_id":123528781,"body_markdown":"Have you configured your JDK? Because `println` is also marked red.","body":"Have you configured your JDK? Because <code>println</code> is also marked red."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1636367939,"post_id":69881981,"comment_id":123528789,"body_markdown":"Looks like a duplicate of [IntelliJ can&#39;t find Scanner class](https://stackoverflow.com/questions/26703091/intellij-cant-find-scanner-class), but it doesn&#39;t really have a good answer. You can try Anton Dozortsev&#39;s suggestion and [Invalidate IntelliJ&#39;s caches](https://stackoverflow.com/questions/26703091/intellij-cant-find-scanner-class#comment42001040_26703091).","body":"Looks like a duplicate of <a href=\"https://stackoverflow.com/questions/26703091/intellij-cant-find-scanner-class\">IntelliJ can&#39;t find Scanner class</a>, but it doesn&#39;t really have a good answer. You can try Anton Dozortsev&#39;s suggestion and <a href=\"https://stackoverflow.com/questions/26703091/intellij-cant-find-scanner-class#comment42001040_26703091\">Invalidate IntelliJ&#39;s caches</a>."}],"owner":{"account_id":23271419,"reputation":1,"user_id":17356192,"display_name":"Kaydo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636384089,"answer_count":0,"score":0,"last_activity_date":1636367364,"creation_date":1636367222,"question_id":69881981,"body_markdown":"```java\r\npackage com.company;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;hello world !&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt says that `Scanner` cannot resolve symbol\r\n\r\n[![][2]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nsOMf.png\r\n  [2]: https://i.stack.imgur.com/nsOMfl.png","title":"Cannot resolve Symbol &quot;Scanner&quot; Java","body":"<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;hello world !&quot;);\n    }\n}\n</code></pre>\n<p>It says that <code>Scanner</code> cannot resolve symbol</p>\n<p><a href=\"https://i.stack.imgur.com/nsOMf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nsOMfl.png\" alt=\"\" /></a></p>\n"},{"tags":["java","jax-rs","jax"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1593035084,"post_id":62564502,"comment_id":110642665,"body_markdown":"Have you tried anything yet? That authentication is just a header field in a HTTP request.","body":"Have you tried anything yet? That authentication is just a header field in a HTTP request."},{"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"score":0,"creation_date":1593035505,"post_id":62564502,"comment_id":110642803,"body_markdown":"I have added the code in question. I am able to consume API with no auth. But i dont know how to consume POST API accepting basic auth. I am not using spring.","body":"I have added the code in question. I am able to consume API with no auth. But i dont know how to consume POST API accepting basic auth. I am not using spring."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1593035670,"post_id":62564502,"comment_id":110642866,"body_markdown":"You are already setting a header called `Accept`. Add the `Authentication` header the same way. Take a look here: https://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection","body":"You are already setting a header called <code>Accept</code>. Add the <code>Authentication</code> header the same way. Take a look here: <a href=\"https://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection\" title=\"adding header for httpurlconnection\">stackoverflow.com/questions/12732422/&hellip;</a>"},{"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"score":0,"creation_date":1593035740,"post_id":62564502,"comment_id":110642886,"body_markdown":"Thank you @f1sh I will go through the same.","body":"Thank you @f1sh I will go through the same."}],"answers":[{"tags":[],"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636366828,"creation_date":1593039208,"answer_id":62565270,"question_id":62564502,"body_markdown":"## Basic Authentication\r\n\r\nSee the RFC #2617 section 2: [Basic Authentication Scheme](https://www.rfc-editor.org/rfc/rfc2617#section-2)\r\n\r\nAdd `Authentication` header into the request. Here&#39;s an example:\r\n\r\n```java\r\nString username = &quot;john&quot;;\r\nString password = &quot;pass&quot;;\r\n// ...\r\nURL weburl=new URL(&quot;http://dummy.restapiexample.com/api/v1/employees&quot;);\r\nHttpURLConnection conn = (HttpURLConnection) weburl.openConnection();\r\nconn.setRequestMethod(&quot;GET&quot;);\r\nconn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n// snippet begins\r\nconn.setRequestProperty(&quot;Authorization&quot;,\r\n  &quot;Basic &quot; + Base64.getEncoder().encodeToString(\r\n    (username + &quot;:&quot; + password).getBytes()\r\n  )\r\n);\r\n// snippet ends\r\nSystem.out.println(&quot;Output is: &quot;+conn.getResponseCode());\r\n```\r\n## POST Method\r\n\r\nSee [this answer](https://stackoverflow.com/a/4206094/2158271) for more information about using POST method with HttpURLConnection.","title":"Get and Post API call in java with basic authentication","body":"<h2>Basic Authentication</h2>\n<p>See the RFC #2617 section 2: <a href=\"https://www.rfc-editor.org/rfc/rfc2617#section-2\" rel=\"nofollow noreferrer\">Basic Authentication Scheme</a></p>\n<p>Add <code>Authentication</code> header into the request. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String username = &quot;john&quot;;\nString password = &quot;pass&quot;;\n// ...\nURL weburl=new URL(&quot;http://dummy.restapiexample.com/api/v1/employees&quot;);\nHttpURLConnection conn = (HttpURLConnection) weburl.openConnection();\nconn.setRequestMethod(&quot;GET&quot;);\nconn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n// snippet begins\nconn.setRequestProperty(&quot;Authorization&quot;,\n  &quot;Basic &quot; + Base64.getEncoder().encodeToString(\n    (username + &quot;:&quot; + password).getBytes()\n  )\n);\n// snippet ends\nSystem.out.println(&quot;Output is: &quot;+conn.getResponseCode());\n</code></pre>\n<h2>POST Method</h2>\n<p>See <a href=\"https://stackoverflow.com/a/4206094/2158271\">this answer</a> for more information about using POST method with HttpURLConnection.</p>\n"}],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11889,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":62565270,"answer_count":1,"score":3,"last_activity_date":1636366828,"creation_date":1593034829,"question_id":62564502,"body_markdown":"I want to call `GET` and `POST` API in `java` without using any `framework`. I need to use basic authentication. Can anybody help me with some tutorial link. In google I found code only in `spring` framework, But I am not using `Spring`. I am looking for code to call API with `basic authentication.`\r\n\r\nI have to add new `url` with `authentication` in the below `code`. What modification is required if `API` is secured with `basic auth` and it is `POST` method. I am new to `java` so not much aware.\r\n\r\n   \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.Proxy;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    public class NetClientGet {\r\n    \r\n    \tpublic static void main(String[] args)  {\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Inside the main function&quot;);\r\n    \t\t     URL weburl=new URL(&quot;http://dummy.restapiexample.com/api/v1/employees&quot;);\r\n    \t\t     HttpURLConnection conn = (HttpURLConnection) weburl.openConnection();\r\n    \t\t     conn.setRequestMethod(&quot;GET&quot;);\r\n    \t\t     conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \t\t     System.out.println(&quot;Output is: &quot;+conn.getResponseCode());\r\n    \t\t     System.out.println(&quot;Output is: &quot;);\r\n    \t\t     System.setProperty(&quot;http.proxyHost&quot;, null);\r\n    \t\t     //conn.setConnectTimeout(60000);\r\n    \t\t     if(conn.getResponseCode()!=200)\r\n    \t\t     {\r\n    \t\t    \t System.out.println(conn.getResponseCode());\r\n    \t\t    \t throw new RuntimeException(&quot;Failed : HTTP Error Code: &quot;+conn.getResponseCode());\r\n    \t\t     }\r\n    \t\t     System.out.println(&quot;After the 2 call &quot;);\r\n    \t\t     InputStreamReader in=new InputStreamReader(conn.getInputStream());\r\n    \t\t     BufferedReader br =new BufferedReader(in);\r\n    \t\t     String output;\r\n    \t\t     while((output=br.readLine())!=null)\r\n    \t\t     {\r\n    \t\t    \t System.out.println(output);\r\n    \t\t     }\r\n    \t\t     conn.disconnect();\r\n    \t\t     \r\n    \t\t}\r\n    \t\tcatch(Exception e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Get and Post API call in java with basic authentication","body":"<p>I want to call <code>GET</code> and <code>POST</code> API in <code>java</code> without using any <code>framework</code>. I need to use basic authentication. Can anybody help me with some tutorial link. In google I found code only in <code>spring</code> framework, But I am not using <code>Spring</code>. I am looking for code to call API with <code>basic authentication.</code></p>\n<p>I have to add new <code>url</code> with <code>authentication</code> in the below <code>code</code>. What modification is required if <code>API</code> is secured with <code>basic auth</code> and it is <code>POST</code> method. I am new to <code>java</code> so not much aware.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.Proxy;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class NetClientGet {\n\n    public static void main(String[] args)  {\n        \n        try\n        {\n            System.out.println(&quot;Inside the main function&quot;);\n             URL weburl=new URL(&quot;http://dummy.restapiexample.com/api/v1/employees&quot;);\n             HttpURLConnection conn = (HttpURLConnection) weburl.openConnection();\n             conn.setRequestMethod(&quot;GET&quot;);\n             conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n             System.out.println(&quot;Output is: &quot;+conn.getResponseCode());\n             System.out.println(&quot;Output is: &quot;);\n             System.setProperty(&quot;http.proxyHost&quot;, null);\n             //conn.setConnectTimeout(60000);\n             if(conn.getResponseCode()!=200)\n             {\n                 System.out.println(conn.getResponseCode());\n                 throw new RuntimeException(&quot;Failed : HTTP Error Code: &quot;+conn.getResponseCode());\n             }\n             System.out.println(&quot;After the 2 call &quot;);\n             InputStreamReader in=new InputStreamReader(conn.getInputStream());\n             BufferedReader br =new BufferedReader(in);\n             String output;\n             while((output=br.readLine())!=null)\n             {\n                 System.out.println(output);\n             }\n             conn.disconnect();\n             \n        }\n        catch(Exception e)\n        {\n            System.out.println(e.getMessage());\n        }\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":20856939,"reputation":23,"user_id":15320015,"display_name":"Pandalex"},"score":0,"creation_date":1636366791,"post_id":69768061,"comment_id":123528341,"body_markdown":"The logs show that a println is diplayed twice, so the method is somehow called twice : \nauth:null  |  \nauth:NTLM TlRMTVNTUAABAAAAB7IIogUABQAzAAAACwALACgAAAAKADk4AAAAD0RTSS1ERVZKQVZBQ0hVNDI=","body":"The logs show that a println is diplayed twice, so the method is somehow called twice :  auth:null  |   auth:NTLM TlRMTVNTUAABAAAAB7IIogUABQAzAAAACwALACgAAAAKADk4AAAAD0RTSS1E&zwnj;&#8203;RVZKQVZBQ0hVNDI="}],"owner":{"account_id":20856939,"reputation":23,"user_id":15320015,"display_name":"Pandalex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636366710,"creation_date":1635506650,"question_id":69768061,"body_markdown":"I read some information about my issue here \r\nhttps://stackoverflow.com/questions/2123514/java-lang-illegalstateexception-cannot-forward-sendredirect-create-session\r\n\r\nbut I didn&#39;t manage to solve my problem with it.\r\n\r\nI&#39;ve got a index.jsp page which should only be accessible to authorized users.\r\nTo do so, I use a java file which will feed the session with this information.\r\n\r\nWhen I access my index, if the session is empty I go to my java part to check it, else I just display the content or not.\r\n\r\nFrom my understanding, my issue is that I call this java part twice but I don&#39;t know where.\r\n\r\nCould you please help me ?\r\n\r\nJava code:\r\n```\r\npublic class GroupeUtilisateur extends HttpServlet\r\n{  \r\n\tpublic void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException,IOException\r\n\t{\r\n\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tConnection connBDUtil = null;\r\n\t\tString autorise = &quot;&quot;;\r\n\r\n\t\tautorise = CheckAuth.isAllowed(request, response, &quot;IML-Thanact-Admin;IML-Thanact-User&quot;);\r\n\r\n\t\tHttpSession session = request.getSession();\r\n\r\n\t\t/* Mise en session d&#39;une cha&#238;ne de caract&#232;res */\r\n\t\tsession.setAttribute( &quot;autorisation&quot;, autorise );\r\n\t\t\t\t\t\r\n\t\tString nextJSP = &quot;/index.jsp&quot;;\t\t\t\r\n\t\tRequestDispatcher dispatcher = getServletContext().getRequestDispatcher(nextJSP);\t\t\t\r\n\t\tdispatcher.forward(request,response);\t\t\t\t\t\t\r\n\t}\r\n} \r\n```\r\n\r\nAnd this is my index.jsp (minus non important parts)\r\n```\r\n&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot;%&gt;\r\n&lt;%@ page contentType=&quot;text/html;  charset=UTF-8&quot;  pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n&lt;%@ taglib uri = &quot;http://java.sun.com/jsp/jstl/functions&quot; prefix = &quot;fn&quot; %&gt;\r\n&lt;%@ page session=&quot;true&quot; %&gt;\r\n&lt;head&gt;\r\n// In this script I initialise a datatable and some button will only be available for admin so I need to get the autorisation to\r\n&lt;script type=&#39;text/javascript&#39; class=&#39;init&#39;&gt; \r\nvar authScript = &#39;${sessionScope.autorisation}&#39;; // R&#233;cup&#233;ration de l&#39;autorisation r&#233;cup&#233;r&#233;e par GroupeUtilisateur.\t\r\n&lt;/script&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt; \r\n\t&lt;div class =&quot;err&quot;&gt; &lt;c:out value=&quot;${sessionScope.message}&quot;/&gt; &lt;/div&gt; \t\r\n\t\r\n\t&lt;c:set var = &quot;auth&quot; scope = &quot;session&quot; value = &quot;${sessionScope.autorisation}&quot;/&gt;  &lt;!-- R&#233;cup&#233;ration de l autorisation pour la session --&gt;\r\n\t\r\n\t&lt;!--\r\n\t&lt;div class =&quot;err&quot;&gt; Log Autorisation : [&lt;c:out value = &quot;${auth}&quot;/&gt;] &lt;/div&gt;\r\n\t&lt;div class =&quot;err&quot;&gt; Log Autorisation sans var : [&lt;c:out value = &quot;${sessionScope.autorisation}&quot;/&gt;] &lt;/div&gt;\t\r\n\t--&gt;\r\n\t\r\n\t&lt;c:choose&gt;\t\r\n\t\t&lt;c:when test = &quot;${empty auth}&quot;&gt;\t\t\r\n\t\t\t&lt;div class =&quot;err&quot;&gt; Empy session we go to the java part &lt;c:out value=&quot;${sessionScope.autorisation}&quot;/&gt; &lt;/div&gt;\r\n\t\t\t&lt;script language=&quot;javascript&quot;&gt; document.location.href=&quot;./GroupeUtilisateur/&quot; &lt;/script&gt;\r\n\t\t&lt;/c:when&gt;    \r\n\t\t\r\n\t\t&lt;c:when test =  &quot;${!fn:contains(auth, &#39;Thanact-Admin&#39;) &amp;&amp; !fn:contains(auth, &#39;Thanact-User&#39;)}&quot;&gt; \r\n\t\t\t\t&lt;div class =&quot;err&quot;&gt;Vous n &#234;tes pas habilit&#233; &#224; utiliser cet &#233;cran.  -  [&lt;c:out value = &quot;${auth}&quot; /&gt;]&lt;/div&gt;\r\n\t\t\t\t&lt;br/&gt;\r\n\t\t\t\t&lt;input type=&quot;button&quot; name=&quot;back&quot; value=&quot;Retour&quot; onClick=&quot;parent.location=&#39;/Thanact/index.jsp&#39;&quot; class=&quot;buttonGrey&quot;&gt;\r\n\t\t&lt;/c:when&gt;     \r\n\t\t&lt;c:otherwise&gt;\t\r\n\t\t\t&lt;!-- my data--&gt;\r\n\t\t&lt;/c:otherwise&gt;\r\n\t&lt;/c:choose&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThanks a lot for your help !\r\n\r\nEDIT:\r\nOk so after further investigation I think I located the issue, but still don&#39;t know how to fix it.\r\nIn fact to see if the user connected belong to the correct AD group we check the session. This is a method used in different app on our ecosystem, I didn&#39;t create it.\r\n\r\nI think, it is the one who do this :\r\n```\r\n    public class CheckAuth\r\n    {\r\n    //...\r\n    \t\r\n    \tpublic static String isAllowed(\r\n    \tHttpServletRequest request,\r\n    \tHttpServletResponse response,\r\n    \tString groupMember,\r\n    \tString millPosition,\r\n    \tString forWhat) throws IOException, ServletException\r\n    \t{\r\n    \t//...\r\n    \t\tString auth = request.getHeader(&quot;Authorization&quot;);\r\n    \t\tif (auth == null)\r\n    \t\t{\r\n    \t\t\tresponse.setStatus(response.SC_UNAUTHORIZED);\r\n    \t\t\tresponse.setHeader(&quot;WWW-Authenticate&quot;, &quot;NTLM&quot;);\r\n    \t\t\tresponse.flushBuffer();\r\n    \t\t\treturn &quot;KO&quot; ;\r\n    \t\t}\r\n    //...\r\n    \t}\r\n    }\r\n\r\n```\r\nIt looks like after setting the header, the servlet is called again.\r\nI need this bit because I can&#39;t get the username without.\r\n\r\nHow may I fix this ?\r\n\r\n","title":"java.lang.IllegalStateException: Cannot (forward | sendRedirect JSP/Java","body":"<p>I read some information about my issue here\n<a href=\"https://stackoverflow.com/questions/2123514/java-lang-illegalstateexception-cannot-forward-sendredirect-create-session\">java.lang.IllegalStateException: Cannot (forward | sendRedirect | create session) after response has been committed</a></p>\n<p>but I didn't manage to solve my problem with it.</p>\n<p>I've got a index.jsp page which should only be accessible to authorized users.\nTo do so, I use a java file which will feed the session with this information.</p>\n<p>When I access my index, if the session is empty I go to my java part to check it, else I just display the content or not.</p>\n<p>From my understanding, my issue is that I call this java part twice but I don't know where.</p>\n<p>Could you please help me ?</p>\n<p>Java code:</p>\n<pre><code>public class GroupeUtilisateur extends HttpServlet\n{  \n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException,IOException\n    {\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n        Connection connBDUtil = null;\n        String autorise = &quot;&quot;;\n\n        autorise = CheckAuth.isAllowed(request, response, &quot;IML-Thanact-Admin;IML-Thanact-User&quot;);\n\n        HttpSession session = request.getSession();\n\n        /* Mise en session d'une chaîne de caractères */\n        session.setAttribute( &quot;autorisation&quot;, autorise );\n                    \n        String nextJSP = &quot;/index.jsp&quot;;          \n        RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(nextJSP);           \n        dispatcher.forward(request,response);                       \n    }\n} \n</code></pre>\n<p>And this is my index.jsp (minus non important parts)</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot;%&gt;\n&lt;%@ page contentType=&quot;text/html;  charset=UTF-8&quot;  pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;%@ taglib uri = &quot;http://java.sun.com/jsp/jstl/functions&quot; prefix = &quot;fn&quot; %&gt;\n&lt;%@ page session=&quot;true&quot; %&gt;\n&lt;head&gt;\n// In this script I initialise a datatable and some button will only be available for admin so I need to get the autorisation to\n&lt;script type='text/javascript' class='init'&gt; \nvar authScript = '${sessionScope.autorisation}'; // Récupération de l'autorisation récupérée par GroupeUtilisateur. \n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt; \n    &lt;div class =&quot;err&quot;&gt; &lt;c:out value=&quot;${sessionScope.message}&quot;/&gt; &lt;/div&gt;  \n    \n    &lt;c:set var = &quot;auth&quot; scope = &quot;session&quot; value = &quot;${sessionScope.autorisation}&quot;/&gt;  &lt;!-- Récupération de l autorisation pour la session --&gt;\n    \n    &lt;!--\n    &lt;div class =&quot;err&quot;&gt; Log Autorisation : [&lt;c:out value = &quot;${auth}&quot;/&gt;] &lt;/div&gt;\n    &lt;div class =&quot;err&quot;&gt; Log Autorisation sans var : [&lt;c:out value = &quot;${sessionScope.autorisation}&quot;/&gt;] &lt;/div&gt; \n    --&gt;\n    \n    &lt;c:choose&gt;  \n        &lt;c:when test = &quot;${empty auth}&quot;&gt;     \n            &lt;div class =&quot;err&quot;&gt; Empy session we go to the java part &lt;c:out value=&quot;${sessionScope.autorisation}&quot;/&gt; &lt;/div&gt;\n            &lt;script language=&quot;javascript&quot;&gt; document.location.href=&quot;./GroupeUtilisateur/&quot; &lt;/script&gt;\n        &lt;/c:when&gt;    \n        \n        &lt;c:when test =  &quot;${!fn:contains(auth, 'Thanact-Admin') &amp;&amp; !fn:contains(auth, 'Thanact-User')}&quot;&gt; \n                &lt;div class =&quot;err&quot;&gt;Vous n êtes pas habilité à utiliser cet écran.  -  [&lt;c:out value = &quot;${auth}&quot; /&gt;]&lt;/div&gt;\n                &lt;br/&gt;\n                &lt;input type=&quot;button&quot; name=&quot;back&quot; value=&quot;Retour&quot; onClick=&quot;parent.location='/Thanact/index.jsp'&quot; class=&quot;buttonGrey&quot;&gt;\n        &lt;/c:when&gt;     \n        &lt;c:otherwise&gt;   \n            &lt;!-- my data--&gt;\n        &lt;/c:otherwise&gt;\n    &lt;/c:choose&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Thanks a lot for your help !</p>\n<p>EDIT:\nOk so after further investigation I think I located the issue, but still don't know how to fix it.\nIn fact to see if the user connected belong to the correct AD group we check the session. This is a method used in different app on our ecosystem, I didn't create it.</p>\n<p>I think, it is the one who do this :</p>\n<pre><code>    public class CheckAuth\n    {\n    //...\n        \n        public static String isAllowed(\n        HttpServletRequest request,\n        HttpServletResponse response,\n        String groupMember,\n        String millPosition,\n        String forWhat) throws IOException, ServletException\n        {\n        //...\n            String auth = request.getHeader(&quot;Authorization&quot;);\n            if (auth == null)\n            {\n                response.setStatus(response.SC_UNAUTHORIZED);\n                response.setHeader(&quot;WWW-Authenticate&quot;, &quot;NTLM&quot;);\n                response.flushBuffer();\n                return &quot;KO&quot; ;\n            }\n    //...\n        }\n    }\n\n</code></pre>\n<p>It looks like after setting the header, the servlet is called again.\nI need this bit because I can't get the username without.</p>\n<p>How may I fix this ?</p>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636283792,"creation_date":1636283792,"answer_id":69871944,"question_id":69871584,"body_markdown":"`RecyclerView` takes some time to draw items, they aren&#39;t ready one line after setting `adapter` or calling `notifyDataSetChanged` (or similar)\r\n\r\none of the ways is to wait until `RecyclerView` draw all its children, using `post`\r\n\r\n    recyclerView.post(\r\n        new Runnable(){\r\n            // code in here will fire when recyclerView finishes all its jobs\r\n            // e.g. redrawing\r\n        }\r\n    );\r\n\r\nbut its kind of hack, should be used only at least. in your case `setInputType` should be used inside `adapter` in `onCreateViewHolder` or maybe in `onBindViewHolder`, or even straight inside list item XML","title":"How to run a method only after recycler View is loaded?","body":"<p><code>RecyclerView</code> takes some time to draw items, they aren't ready one line after setting <code>adapter</code> or calling <code>notifyDataSetChanged</code> (or similar)</p>\n<p>one of the ways is to wait until <code>RecyclerView</code> draw all its children, using <code>post</code></p>\n<pre><code>recyclerView.post(\n    new Runnable(){\n        // code in here will fire when recyclerView finishes all its jobs\n        // e.g. redrawing\n    }\n);\n</code></pre>\n<p>but its kind of hack, should be used only at least. in your case <code>setInputType</code> should be used inside <code>adapter</code> in <code>onCreateViewHolder</code> or maybe in <code>onBindViewHolder</code>, or even straight inside list item XML</p>\n"}],"owner":{"account_id":22637118,"reputation":32,"user_id":16813780,"display_name":"Matan Shalel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636366613,"creation_date":1636280825,"question_id":69871584,"body_markdown":"I have a recyclerView. I need to fill with different types of input types so I tried putting this line after the recyclerView is made:\r\n\r\n    ((EditText)recyclerView.findViewHolderForAdapterPosition(6)\r\n    .itemView.findViewById(R.id.editText))\r\n    .setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\r\n\r\n \r\n\r\nWorks fine if it&#39;s done after a button click, but if just put on the onStart() method like below: \r\n\r\n    loadrecyclerView();  //(fills the recyclerView with items)\r\n            ((EditText)recyclerView.findViewHolderForAdapterPosition(6)\r\n    .itemView.findViewById(R.id.editText))\r\n    .setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\r\n\r\n\r\nIt doesn&#39;t work and sends the error code:\r\n\r\n    Attempt to read from field &#39;android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a null object reference","title":"How to run a method only after recycler View is loaded?","body":"<p>I have a recyclerView. I need to fill with different types of input types so I tried putting this line after the recyclerView is made:</p>\n<pre><code>((EditText)recyclerView.findViewHolderForAdapterPosition(6)\n.itemView.findViewById(R.id.editText))\n.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\n</code></pre>\n<p>Works fine if it's done after a button click, but if just put on the onStart() method like below:</p>\n<pre><code>loadrecyclerView();  //(fills the recyclerView with items)\n        ((EditText)recyclerView.findViewHolderForAdapterPosition(6)\n.itemView.findViewById(R.id.editText))\n.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\n</code></pre>\n<p>It doesn't work and sends the error code:</p>\n<pre><code>Attempt to read from field 'android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView' on a null object reference\n</code></pre>\n"},{"tags":["java","google-drive-api","google-docs","google-docs-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1636366019,"post_id":69881604,"comment_id":123528033,"body_markdown":"You could pole the file once a day or something.  That&#39;s about your only option if your not happy with the number of notifications you get from Push notifications.","body":"You could pole the file once a day or something.  That&#39;s about your only option if your not happy with the number of notifications you get from Push notifications."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636366497,"creation_date":1636366497,"answer_id":69881826,"question_id":69881604,"body_markdown":"There are many ways in which you can handle this ... \r\n\r\n 1. You can poll the Google Drive server for its state every minute. Figure out what changed and download it. [This][1] can help.\r\n 2. You can also use an existing [tool][2] or [another][2] one to solve this problem.\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/v3/manage-changes\r\n  [2]: https://github.com/jasonliu19/DriveSync","title":"Google Drive - push notifications content update - download","body":"<p>There are many ways in which you can handle this ...</p>\n<ol>\n<li>You can poll the Google Drive server for its state every minute. Figure out what changed and download it. <a href=\"https://developers.google.com/drive/api/v3/manage-changes\" rel=\"nofollow noreferrer\">This</a> can help.</li>\n<li>You can also use an existing <a href=\"https://github.com/jasonliu19/DriveSync\" rel=\"nofollow noreferrer\">tool</a> or <a href=\"https://github.com/jasonliu19/DriveSync\" rel=\"nofollow noreferrer\">another</a> one to solve this problem.</li>\n</ol>\n"}],"owner":{"account_id":20848717,"reputation":73,"user_id":15313720,"display_name":"Aline137"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636366497,"creation_date":1636365483,"question_id":69881604,"body_markdown":"I have an application where user stores files (on the server) and on it&#39;s own google drive. I would like to reflect document changes from drive to server files. The only way of achieving this I could think of is using push notifications api for drive files and if type of notification is content update to download and replace file on server side. Is there a better way of achieving this, since notifications are being received often (almost for each letter typed) and downloading file every second doesn&#39;t seem like optimal solution.","title":"Google Drive - push notifications content update - download","body":"<p>I have an application where user stores files (on the server) and on it's own google drive. I would like to reflect document changes from drive to server files. The only way of achieving this I could think of is using push notifications api for drive files and if type of notification is content update to download and replace file on server side. Is there a better way of achieving this, since notifications are being received often (almost for each letter typed) and downloading file every second doesn't seem like optimal solution.</p>\n"},{"tags":["java","eclipse","maven","testng","classpath"],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636366488,"creation_date":1636354330,"answer_id":69879577,"question_id":69878213,"body_markdown":"Try without src/test/java, this is working for me. please ref screenshot,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    &lt;classes&gt;\r\n            &lt;class name=&quot;myframework.SampleTest&quot;/&gt;\r\n    &lt;/classes&gt;\r\n\r\n\r\n\r\nif not please reinstall mvn and testng plugin\r\n\r\n[reference][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4AX1i.png\r\n  [2]: https://www.lambdatest.com/blog/how-to-install-testng-in-eclipse-step-by-step-guide/","title":"Eclipse TestNG: &quot;Cannot find class in classpath&quot; even when it&#39;s mapped with testng.xml","body":"<p>Try without src/test/java, this is working for me. please ref screenshot,</p>\n<p><a href=\"https://i.stack.imgur.com/4AX1i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4AX1i.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;classes&gt;\n        &lt;class name=&quot;myframework.SampleTest&quot;/&gt;\n&lt;/classes&gt;\n</code></pre>\n<p>if not please reinstall mvn and testng plugin</p>\n<p><a href=\"https://www.lambdatest.com/blog/how-to-install-testng-in-eclipse-step-by-step-guide/\" rel=\"nofollow noreferrer\">reference</a></p>\n"}],"owner":{"account_id":2451936,"reputation":479,"user_id":2137995,"accept_rate":12,"display_name":"Wulf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636366488,"creation_date":1636340037,"question_id":69878213,"body_markdown":"Using Java and Eclipse and TestNG, I&#39;ve put together a simple Maven test automation framework project with a single test case class. But regardless of building and rebuilding and cleaning the project, every time I try running the test case from the test case class itself or from the testng.xml file, I get the dreaded &quot;Cannot find class in classpath&quot; error for my test class. \r\n\r\nI&#39;ve included two screenshots. The first has focus on my testng.xml file so you can see how my test class &quot;SampleTest.java&quot; is mapped. As you can see, it&#39;s mapped as `&lt;class name=&quot;src.test.java.myframework.SampleTest&quot;/&gt;` but I&#39;ve also tried `&lt;class name=&quot;test.java.myframework.SampleTest&quot;/&gt;` and `&lt;class name=&quot;java.myframework.SampleTest&quot;/&gt;` and `&lt;class name=&quot;myframework.SampleTest&quot;/&gt;` but I get the same &quot;Cannot find class&quot; error no matter which path I use. I&#39;ve even tried including .java to the end of the file name. I&#39;ve also tried uninstalling TestNG and then reinstalling, building and cleaning the project multiple times, as well as quitting and restarting Eclipse to no avail. \r\n\r\nIn the second screenshot, I show my project&#39;s build path. \r\n\r\nIf someone could tell me what I&#39;m doing wrong-- if anything, I would be most obliged!\r\n\r\n[![Eclipse view of my testing.xml file and error console][1]][1]\r\n\r\n\r\n[![Project Build path][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f4EUt.jpg\r\n  [2]: https://i.stack.imgur.com/JkQeC.jpg","title":"Eclipse TestNG: &quot;Cannot find class in classpath&quot; even when it&#39;s mapped with testng.xml","body":"<p>Using Java and Eclipse and TestNG, I've put together a simple Maven test automation framework project with a single test case class. But regardless of building and rebuilding and cleaning the project, every time I try running the test case from the test case class itself or from the testng.xml file, I get the dreaded &quot;Cannot find class in classpath&quot; error for my test class.</p>\n<p>I've included two screenshots. The first has focus on my testng.xml file so you can see how my test class &quot;SampleTest.java&quot; is mapped. As you can see, it's mapped as <code>&lt;class name=&quot;src.test.java.myframework.SampleTest&quot;/&gt;</code> but I've also tried <code>&lt;class name=&quot;test.java.myframework.SampleTest&quot;/&gt;</code> and <code>&lt;class name=&quot;java.myframework.SampleTest&quot;/&gt;</code> and <code>&lt;class name=&quot;myframework.SampleTest&quot;/&gt;</code> but I get the same &quot;Cannot find class&quot; error no matter which path I use. I've even tried including .java to the end of the file name. I've also tried uninstalling TestNG and then reinstalling, building and cleaning the project multiple times, as well as quitting and restarting Eclipse to no avail.</p>\n<p>In the second screenshot, I show my project's build path.</p>\n<p>If someone could tell me what I'm doing wrong-- if anything, I would be most obliged!</p>\n<p><a href=\"https://i.stack.imgur.com/f4EUt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f4EUt.jpg\" alt=\"Eclipse view of my testing.xml file and error console\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JkQeC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JkQeC.jpg\" alt=\"Project Build path\" /></a></p>\n"},{"tags":["java","html","mysql","jdbc"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636336148,"post_id":69875264,"comment_id":123521513,"body_markdown":"Always [search Stack Overflow](https://duckduckgo.com/?q=classnotfoundexception+com.mysql.jdbc.Driver+site%3Astackoverflow.com&amp;t=osx&amp;ia=web) thoroughly before posting.","body":"Always <a href=\"https://duckduckgo.com/?q=classnotfoundexception+com.mysql.jdbc.Driver+site%3Astackoverflow.com&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">search Stack Overflow</a> thoroughly before posting."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636309192,"creation_date":1636309192,"answer_id":69875308,"question_id":69875264,"body_markdown":"The error message says that you are missing a dependency. \r\nTry adding this to your `pom.xml`\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.26&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nTell me in the comments if this works for you or we need to debug further ?","title":"JSP , mysql &amp; JDBC connection","body":"<p>The error message says that you are missing a dependency.\nTry adding this to your <code>pom.xml</code></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.26&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Tell me in the comments if this works for you or we need to debug further ?</p>\n"}],"owner":{"account_id":11234628,"reputation":27,"user_id":8241274,"display_name":"Cinthiya Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1636336110,"answer_count":1,"score":-1,"last_activity_date":1636366113,"creation_date":1636308867,"question_id":69875264,"body_markdown":"I have been making registration page using the code I once used in my project that worked 100% correctly, however I am getting errors  this time. I have added all libraries and jars\r\n[![enter image description here][1]][1]\r\n\r\n\r\nStill I keep getting errors like \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JfL78.png\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/8pqBv.png\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n&lt;title&gt;CodeGyan - Learn Programming Online&lt;/title&gt;\r\n&lt;link rel=&quot;icon&quot; href=&quot;images/logo.png&quot; type=&quot;image/x-icon&quot;&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;%@ page import=&quot;java.sql.*&quot;%&gt;\r\n&lt;%@ page import=&quot;javax.sql.*&quot;%&gt;\r\n&lt;%@page import=&quot;java.sql.ResultSet&quot;%&gt;\r\n&lt;%@page import=&quot;java.sql.Statement&quot;%&gt;\r\n&lt;%@page import=&quot;java.sql.Connection&quot;%&gt;\r\n&lt;%\r\nString firstname=request.getParameter(&quot;firstname&quot;);\r\nString lastname=request.getParameter(&quot;lastname&quot;);\r\nString username=request.getParameter(&quot;username&quot;);\r\nsession.putValue(&quot;username&quot;,username);\r\nString pwd=request.getParameter(&quot;pwd&quot;);\r\nString email_id=request.getParameter(&quot;email_id&quot;);\r\n\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\nConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/codegyan&quot;, &quot;CinthiyaSingh&quot;, &quot;Cinthiya@098&quot;);\r\n//selecting username from users table\r\nPreparedStatement ps = con.prepareStatement(&quot;select *from users where username=?&quot;);\r\nps.setString(1, username);\r\nResultSet rs = ps.executeQuery();\r\n\r\nPreparedStatement ps1 = con.prepareStatement(&quot;select *from users where email_id=?&quot;);\r\nps1.setString(1, email_id);\r\nResultSet rs1 = ps1.executeQuery();\r\n//if true\r\nif (rs.next()) {\r\n //sending error message on Register page\r\n request.getSession().setAttribute(&quot;errorMessage&quot;, &quot;Already Existing Username, Please Try Again With a Unique Username! &quot;);\r\n request.getRequestDispatcher(&quot;register.jsp&quot;).forward(request, response);\r\n\r\n\r\n \r\n}\r\nelse if(rs1.next()){\r\n\t \trequest.getSession().setAttribute(&quot;errorMessage&quot;, &quot;Already Existing Email, Please Try Again With Valid Email-ID! &quot;);\r\n\t \trequest.getRequestDispatcher(&quot;register.jsp&quot;).forward(request, response);\r\n} \r\nelse {\r\n //If not exist performing insert \r\n PreparedStatement ps2 = con.prepareStatement(&quot;insert into users values(?,?,?,?,?)&quot;);\r\n //setting value for &quot;?&quot;\r\n ps2.setString(1, username);\r\n ps2.setString(2, pwd);\r\n ps2.setString(3, firstname);\r\n ps2.setString(4, lastname);\r\n ps2.setString(5, email_id);\r\n int i = ps2.executeUpdate();\r\n //if updated successfully\r\n if (i &gt; 0) {\r\n  //redirect\r\n  \trequest.getSession().setAttribute(&quot;errorMessage&quot;, &quot;Registered Successfully! Please Login to Fill The Form &quot;);\r\n\trequest.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);\r\n }\t\r\n//close connection\r\ncon.close();\r\n}\r\n%&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI have a page (jsp) page where I have the form. The name of that page is Register.jsp. I have followed the method of build path to add jars still nothing changed.","title":"JSP , mysql &amp; JDBC connection","body":"<p>I have been making registration page using the code I once used in my project that worked 100% correctly, however I am getting errors  this time. I have added all libraries and jars\n<a href=\"https://i.stack.imgur.com/JfL78.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JfL78.png\" alt=\"enter image description here\" /></a></p>\n<p>Still I keep getting errors like\n<a href=\"https://i.stack.imgur.com/8pqBv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8pqBv.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;title&gt;CodeGyan - Learn Programming Online&lt;/title&gt;\n&lt;link rel=&quot;icon&quot; href=&quot;images/logo.png&quot; type=&quot;image/x-icon&quot;&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;%@ page import=&quot;java.sql.*&quot;%&gt;\n&lt;%@ page import=&quot;javax.sql.*&quot;%&gt;\n&lt;%@page import=&quot;java.sql.ResultSet&quot;%&gt;\n&lt;%@page import=&quot;java.sql.Statement&quot;%&gt;\n&lt;%@page import=&quot;java.sql.Connection&quot;%&gt;\n&lt;%\nString firstname=request.getParameter(&quot;firstname&quot;);\nString lastname=request.getParameter(&quot;lastname&quot;);\nString username=request.getParameter(&quot;username&quot;);\nsession.putValue(&quot;username&quot;,username);\nString pwd=request.getParameter(&quot;pwd&quot;);\nString email_id=request.getParameter(&quot;email_id&quot;);\n\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\nConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/codegyan&quot;, &quot;CinthiyaSingh&quot;, &quot;Cinthiya@098&quot;);\n//selecting username from users table\nPreparedStatement ps = con.prepareStatement(&quot;select *from users where username=?&quot;);\nps.setString(1, username);\nResultSet rs = ps.executeQuery();\n\nPreparedStatement ps1 = con.prepareStatement(&quot;select *from users where email_id=?&quot;);\nps1.setString(1, email_id);\nResultSet rs1 = ps1.executeQuery();\n//if true\nif (rs.next()) {\n //sending error message on Register page\n request.getSession().setAttribute(&quot;errorMessage&quot;, &quot;Already Existing Username, Please Try Again With a Unique Username! &quot;);\n request.getRequestDispatcher(&quot;register.jsp&quot;).forward(request, response);\n\n\n \n}\nelse if(rs1.next()){\n        request.getSession().setAttribute(&quot;errorMessage&quot;, &quot;Already Existing Email, Please Try Again With Valid Email-ID! &quot;);\n        request.getRequestDispatcher(&quot;register.jsp&quot;).forward(request, response);\n} \nelse {\n //If not exist performing insert \n PreparedStatement ps2 = con.prepareStatement(&quot;insert into users values(?,?,?,?,?)&quot;);\n //setting value for &quot;?&quot;\n ps2.setString(1, username);\n ps2.setString(2, pwd);\n ps2.setString(3, firstname);\n ps2.setString(4, lastname);\n ps2.setString(5, email_id);\n int i = ps2.executeUpdate();\n //if updated successfully\n if (i &gt; 0) {\n  //redirect\n    request.getSession().setAttribute(&quot;errorMessage&quot;, &quot;Registered Successfully! Please Login to Fill The Form &quot;);\n    request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);\n }  \n//close connection\ncon.close();\n}\n%&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have a page (jsp) page where I have the form. The name of that page is Register.jsp. I have followed the method of build path to add jars still nothing changed.</p>\n"},{"tags":["java","mapping","rx-java","flatmap"],"answers":[{"tags":[],"owner":{"account_id":219666,"reputation":11435,"user_id":476690,"display_name":"dwursteisen"},"down_vote_count":1,"up_vote_count":131,"is_accepted":true,"score":130,"last_activity_date":1457362481,"creation_date":1396971914,"answer_id":22941881,"question_id":22847105,"body_markdown":"`map` transform one event to another.\r\n`flatMap` transform one event to zero or more event. (this is taken from [IntroToRx][1])\r\n\r\nAs you want to transform your json to an object, using map should be enough.\r\n\r\nDealing with the FileNotFoundException is another problem (using map or flatmap wouldn&#39;t solve this issue).\r\n\r\nTo solve your Exception problem, just throw it with a Non checked exception : RX will call the onError handler for you.\r\n\r\n    Observable.from(jsonFile).map(new Func1&lt;File, String&gt;() {\r\n        @Override public String call(File file) {\r\n            try {\r\n                return new Gson().toJson(new FileReader(file), Object.class);\r\n            } catch (FileNotFoundException e) {\r\n                // this exception is a part of rx-java\r\n                throw OnErrorThrowable.addValueAsLastCause(e, file);\r\n            }\r\n        }\r\n    });\r\n\r\nthe exact same version with flatmap : \r\n\r\n    Observable.from(jsonFile).flatMap(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\r\n        @Override public Observable&lt;String&gt; call(File file) {\r\n            try {\r\n                return Observable.just(new Gson().toJson(new FileReader(file), Object.class));\r\n            } catch (FileNotFoundException e) {\r\n                // this static method is a part of rx-java. It will return an exception which is associated to the value.\r\n                throw OnErrorThrowable.addValueAsLastCause(e, file);\r\n                // alternatively, you can return Obersable.empty(); instead of throwing exception\r\n            }\r\n        }\r\n    });\r\n\r\nYou can return too, in the flatMap version a new Observable that is just an error.\r\n\r\n    Observable.from(jsonFile).flatMap(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\r\n        @Override public Observable&lt;String&gt; call(File file) {\r\n            try {\r\n                return Observable.just(new Gson().toJson(new FileReader(file), Object.class));\r\n            } catch (FileNotFoundException e) {\r\n                return Observable.error(OnErrorThrowable.addValueAsLastCause(e, file));\r\n            }\r\n        }\r\n    });\r\n[1]: http://www.introtorx.com/Content/v1.0.10621.0/08_Transformation.html#SelectMany","title":"When do you use map vs flatMap in RxJava?","body":"<p><code>map</code> transform one event to another.\n<code>flatMap</code> transform one event to zero or more event. (this is taken from <a href=\"http://www.introtorx.com/Content/v1.0.10621.0/08_Transformation.html#SelectMany\">IntroToRx</a>)</p>\n\n<p>As you want to transform your json to an object, using map should be enough.</p>\n\n<p>Dealing with the FileNotFoundException is another problem (using map or flatmap wouldn't solve this issue).</p>\n\n<p>To solve your Exception problem, just throw it with a Non checked exception : RX will call the onError handler for you.</p>\n\n<pre><code>Observable.from(jsonFile).map(new Func1&lt;File, String&gt;() {\n    @Override public String call(File file) {\n        try {\n            return new Gson().toJson(new FileReader(file), Object.class);\n        } catch (FileNotFoundException e) {\n            // this exception is a part of rx-java\n            throw OnErrorThrowable.addValueAsLastCause(e, file);\n        }\n    }\n});\n</code></pre>\n\n<p>the exact same version with flatmap : </p>\n\n<pre><code>Observable.from(jsonFile).flatMap(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\n    @Override public Observable&lt;String&gt; call(File file) {\n        try {\n            return Observable.just(new Gson().toJson(new FileReader(file), Object.class));\n        } catch (FileNotFoundException e) {\n            // this static method is a part of rx-java. It will return an exception which is associated to the value.\n            throw OnErrorThrowable.addValueAsLastCause(e, file);\n            // alternatively, you can return Obersable.empty(); instead of throwing exception\n        }\n    }\n});\n</code></pre>\n\n<p>You can return too, in the flatMap version a new Observable that is just an error.</p>\n\n<pre><code>Observable.from(jsonFile).flatMap(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\n    @Override public Observable&lt;String&gt; call(File file) {\n        try {\n            return Observable.just(new Gson().toJson(new FileReader(file), Object.class));\n        } catch (FileNotFoundException e) {\n            return Observable.error(OnErrorThrowable.addValueAsLastCause(e, file));\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2218330,"reputation":1203,"user_id":1958416,"display_name":"1vand1ng0"},"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1520563398,"creation_date":1418105215,"answer_id":27372466,"question_id":22847105,"body_markdown":"FlatMap behaves very much like map, the difference is that **the function it applies** returns an observable itself, so it&#39;s perfectly suited to map over asynchronous operations. \r\n\r\nIn the practical sense, the function Map applies just makes a transformation over the chained response (not returning an Observable); while the function FlatMap applies returns an `Observable&lt;T&gt;`, that is why FlatMap is recommended if you plan to make an asynchronous call inside the method.\r\n\r\nSummary:\r\n\r\n - Map returns an object of type T\r\n - FlatMap returns an Observable&lt;T&gt;.\r\n\r\nA clear example can be seen here: http://blog.couchbase.com/why-couchbase-chose-rxjava-new-java-sdk .\r\n\r\nCouchbase Java 2.X Client uses Rx to provide asynchronous calls in a convenient way. Since it uses Rx, it has the methods map and FlatMap, the explanation in their documentation might be helpful to understand the general concept. \r\n\r\nTo handle errors, override onError on your susbcriber.\r\n\r\n    Subscriber&lt;String&gt; mySubscriber = new Subscriber&lt;String&gt;() {\r\n        @Override\r\n        public void onNext(String s) { System.out.println(s); }\r\n    \r\n        @Override\r\n        public void onCompleted() { }\r\n    \r\n        @Override\r\n        public void onError(Throwable e) { }\r\n    };\r\n\r\nIt might help to look at this document: http://blog.danlew.net/2014/09/15/grokking-rxjava-part-1/\r\n\r\nA good source about how to manage errors with RX can be found at: https://gist.github.com/daschl/db9fcc9d2b932115b679","title":"When do you use map vs flatMap in RxJava?","body":"<p>FlatMap behaves very much like map, the difference is that <strong>the function it applies</strong> returns an observable itself, so it's perfectly suited to map over asynchronous operations. </p>\n\n<p>In the practical sense, the function Map applies just makes a transformation over the chained response (not returning an Observable); while the function FlatMap applies returns an <code>Observable&lt;T&gt;</code>, that is why FlatMap is recommended if you plan to make an asynchronous call inside the method.</p>\n\n<p>Summary:</p>\n\n<ul>\n<li>Map returns an object of type T</li>\n<li>FlatMap returns an Observable.</li>\n</ul>\n\n<p>A clear example can be seen here: <a href=\"http://blog.couchbase.com/why-couchbase-chose-rxjava-new-java-sdk\" rel=\"noreferrer\">http://blog.couchbase.com/why-couchbase-chose-rxjava-new-java-sdk</a> .</p>\n\n<p>Couchbase Java 2.X Client uses Rx to provide asynchronous calls in a convenient way. Since it uses Rx, it has the methods map and FlatMap, the explanation in their documentation might be helpful to understand the general concept. </p>\n\n<p>To handle errors, override onError on your susbcriber.</p>\n\n<pre><code>Subscriber&lt;String&gt; mySubscriber = new Subscriber&lt;String&gt;() {\n    @Override\n    public void onNext(String s) { System.out.println(s); }\n\n    @Override\n    public void onCompleted() { }\n\n    @Override\n    public void onError(Throwable e) { }\n};\n</code></pre>\n\n<p>It might help to look at this document: <a href=\"http://blog.danlew.net/2014/09/15/grokking-rxjava-part-1/\" rel=\"noreferrer\">http://blog.danlew.net/2014/09/15/grokking-rxjava-part-1/</a></p>\n\n<p>A good source about how to manage errors with RX can be found at: <a href=\"https://gist.github.com/daschl/db9fcc9d2b932115b679\" rel=\"noreferrer\">https://gist.github.com/daschl/db9fcc9d2b932115b679</a></p>\n"},{"tags":[],"owner":{"account_id":1079497,"reputation":1042,"user_id":1076887,"display_name":"mtuulu"},"down_vote_count":2,"up_vote_count":71,"is_accepted":false,"score":69,"last_activity_date":1540693388,"creation_date":1431986396,"answer_id":30313461,"question_id":22847105,"body_markdown":"In your case you need map, since there is only 1 input and 1 output. \r\n\r\nmap - supplied function simply accepts an item and returns an item which will be emitted further (only once) down.\r\n\r\nflatMap - supplied function accepts an item then returns an &quot;Observable&quot;, meaning each item of the new &quot;Observable&quot; will be emitted separately further down. \r\n\r\nMay be code will clear things up for you:\r\n\r\n    Observable.just(&quot;item1&quot;).map( str -&gt; {\r\n        System.out.println(&quot;inside the map &quot; + str);\r\n        return str;\r\n    }).subscribe(System.out::println);\r\n\r\n    Observable.just(&quot;item2&quot;).flatMap( str -&gt; {\r\n        System.out.println(&quot;inside the flatMap &quot; + str);\r\n        return Observable.just(str + &quot;+&quot;, str + &quot;++&quot; , str + &quot;+++&quot;);\r\n    }).subscribe(System.out::println);\r\n\r\nOutput:\r\n\r\n    inside the map item1\r\n    item1\r\n    inside the flatMap item2\r\n    item2+\r\n    item2++\r\n    item2+++\r\n\r\n","title":"When do you use map vs flatMap in RxJava?","body":"<p>In your case you need map, since there is only 1 input and 1 output. </p>\n\n<p>map - supplied function simply accepts an item and returns an item which will be emitted further (only once) down.</p>\n\n<p>flatMap - supplied function accepts an item then returns an \"Observable\", meaning each item of the new \"Observable\" will be emitted separately further down. </p>\n\n<p>May be code will clear things up for you:</p>\n\n<pre><code>Observable.just(\"item1\").map( str -&gt; {\n    System.out.println(\"inside the map \" + str);\n    return str;\n}).subscribe(System.out::println);\n\nObservable.just(\"item2\").flatMap( str -&gt; {\n    System.out.println(\"inside the flatMap \" + str);\n    return Observable.just(str + \"+\", str + \"++\" , str + \"+++\");\n}).subscribe(System.out::println);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>inside the map item1\nitem1\ninside the flatMap item2\nitem2+\nitem2++\nitem2+++\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1432051715,"creation_date":1432051715,"answer_id":30330772,"question_id":22847105,"body_markdown":"I just wanted to add that with `flatMap`, you don&#39;t really need to use your own custom Observable inside the function and you can rely on standard factory methods/operators:\r\n\r\n    Observable.from(jsonFile).flatMap(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\r\n        @Override public Observable&lt;String&gt; call(final File file) {\r\n            try {\r\n                String json = new Gson().toJson(new FileReader(file), Object.class);\r\n                return Observable.just(json);\r\n            } catch (FileNotFoundException ex) {\r\n                return Observable.&lt;String&gt;error(ex);\r\n            }\r\n        }\r\n    });\r\n\r\nGenerally, you should avoid throwing (Runtime-) exceptions from onXXX methods and callbacks if possible, even though we placed as many safeguards as we could in RxJava.","title":"When do you use map vs flatMap in RxJava?","body":"<p>I just wanted to add that with <code>flatMap</code>, you don't really need to use your own custom Observable inside the function and you can rely on standard factory methods/operators:</p>\n\n<pre><code>Observable.from(jsonFile).flatMap(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\n    @Override public Observable&lt;String&gt; call(final File file) {\n        try {\n            String json = new Gson().toJson(new FileReader(file), Object.class);\n            return Observable.just(json);\n        } catch (FileNotFoundException ex) {\n            return Observable.&lt;String&gt;error(ex);\n        }\n    }\n});\n</code></pre>\n\n<p>Generally, you should avoid throwing (Runtime-) exceptions from onXXX methods and callbacks if possible, even though we placed as many safeguards as we could in RxJava.</p>\n"},{"tags":[],"owner":{"account_id":3675565,"reputation":1944,"user_id":3061748,"accept_rate":83,"display_name":"ndori"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1564649761,"creation_date":1460899182,"answer_id":36677055,"question_id":22847105,"body_markdown":"In that scenario use map, you don&#39;t need a new Observable for it.\r\n\r\nyou should use Exceptions.propagate, which is a wrapper so you can send those checked exceptions to the rx mechanism \r\n\r\n    Observable&lt;String&gt; obs = Observable.from(jsonFile).map(new Func1&lt;File, String&gt;() { \r\n        @Override public String call(File file) {\r\n            try { \r\n                return new Gson().toJson(new FileReader(file), Object.class);\r\n            } catch (FileNotFoundException e) {\r\n                throw Exceptions.propagate(t); /will propagate it as error\r\n            } \r\n        } \r\n    });\r\n\r\nYou then should handle this error in the subscriber\r\n\r\n    obs.subscribe(new Subscriber&lt;String&gt;() {\r\n        @Override \r\n        public void onNext(String s) { //valid result }\r\n     \r\n        @Override \r\n        public void onCompleted() { } \r\n     \r\n        @Override \r\n        public void onError(Throwable e) { //e might be the FileNotFoundException you got }\r\n    };); \r\n\r\nThere is an excellent post for it: http://blog.danlew.net/2015/12/08/error-handling-in-rxjava/ ","title":"When do you use map vs flatMap in RxJava?","body":"<p>In that scenario use map, you don't need a new Observable for it.</p>\n\n<p>you should use Exceptions.propagate, which is a wrapper so you can send those checked exceptions to the rx mechanism </p>\n\n<pre><code>Observable&lt;String&gt; obs = Observable.from(jsonFile).map(new Func1&lt;File, String&gt;() { \n    @Override public String call(File file) {\n        try { \n            return new Gson().toJson(new FileReader(file), Object.class);\n        } catch (FileNotFoundException e) {\n            throw Exceptions.propagate(t); /will propagate it as error\n        } \n    } \n});\n</code></pre>\n\n<p>You then should handle this error in the subscriber</p>\n\n<pre><code>obs.subscribe(new Subscriber&lt;String&gt;() {\n    @Override \n    public void onNext(String s) { //valid result }\n\n    @Override \n    public void onCompleted() { } \n\n    @Override \n    public void onError(Throwable e) { //e might be the FileNotFoundException you got }\n};); \n</code></pre>\n\n<p>There is an excellent post for it: <a href=\"http://blog.danlew.net/2015/12/08/error-handling-in-rxjava/\" rel=\"nofollow noreferrer\">http://blog.danlew.net/2015/12/08/error-handling-in-rxjava/</a> </p>\n"},{"tags":[],"owner":{"account_id":1496921,"reputation":10895,"user_id":1402641,"accept_rate":50,"display_name":"Marcin Koziński"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1463772849,"creation_date":1463772849,"answer_id":37354549,"question_id":22847105,"body_markdown":"The way I think about it is that you use `flatMap` when the function you wanted to put inside of `map()` returns an `Observable`. In which case you might still try to use `map()` but it would be unpractical. Let me try to explain why.\r\n\r\nIf in such case you decided to stick with `map`, you would get an `Observable&lt;Observable&lt;Something&gt;&gt;`. For example in your case, if we used an imaginary RxGson library, that returned an `Observable&lt;String&gt;` from it&#39;s `toJson()` method (instead of simply returning a `String`) it would look like this:\r\n\r\n    Observable.from(jsonFile).map(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\r\n        @Override public Observable&lt;String&gt;&gt; call(File file) {\r\n            return new RxGson().toJson(new FileReader(file), Object.class);\r\n        }\r\n    }); // you get Observable&lt;Observable&lt;String&gt;&gt; here\r\n\r\nAt this point it would be pretty tricky to `subscribe()` to such an observable. Inside of it you would get an `Observable&lt;String&gt;` to which you would again need to `subscribe()` to get the value. Which is not practical or nice to look at.\r\n\r\nSo to make it useful one idea is to &quot;flatten&quot; this observable of observables (you might start to see where the name _flat_Map comes from). RxJava provides a few ways to flatten observables and for sake of simplicity lets assume [merge](http://reactivex.io/documentation/operators/merge.html) is what we want. Merge basically takes a bunch of observables and emits whenever any of them emits. (Lots of people would argue [switch](http://reactivex.io/documentation/operators/switch.html) would be a better default. But if you&#39;re emitting just one value, it doesn&#39;t matter anyway.)\r\n\r\nSo amending our previous snippet we would get:\r\n\r\n    Observable.from(jsonFile).map(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\r\n        @Override public Observable&lt;String&gt;&gt; call(File file) {\r\n            return new RxGson().toJson(new FileReader(file), Object.class);\r\n        }\r\n    }).merge(); // you get Observable&lt;String&gt; here\r\n\r\nThis is a lot more useful, because subscribing to that (or mapping, or filtering, or...) you just get the `String` value. (Also, mind you, such variant of `merge()` does not exist in RxJava, but if you understand the idea of merge then I hope you also understand how that would work.)\r\n\r\nSo basically because such `merge()` should probably only ever be useful when it succeeds a `map()` returning an observable and so you don&#39;t have to type this over and over again, `flatMap()` was created as a shorthand. It applies the mapping function just as a normal `map()` would, but later instead of emitting the returned values it also &quot;flattens&quot; (or merges) them.\r\n\r\nThat&#39;s the general use case. It is most useful in a codebase that uses Rx allover the place and you&#39;ve got many methods returning observables, which you want to chain with other methods returning observables.\r\n\r\nIn your use case it happens to be useful as well, because `map()` can only transform one value emitted in `onNext()` into another value emitted in `onNext()`. But it cannot transform it into multiple values, no value at all or an error. And as [akarnokd](https://stackoverflow.com/users/61158/akarnokd) wrote in his answer (and mind you he&#39;s much smarter than me, probably in general, but at least when it comes to RxJava) you shouldn&#39;t throw exceptions from your `map()`. So instead you can use `flatMap()` and\r\n\r\n    return Observable.just(value);\r\n\r\nwhen all goes well, but \r\n\r\n    return Observable.error(exception);\r\n\r\nwhen something fails.  \r\nSee his answer for a complete snippet: https://stackoverflow.com/a/30330772/1402641","title":"When do you use map vs flatMap in RxJava?","body":"<p>The way I think about it is that you use <code>flatMap</code> when the function you wanted to put inside of <code>map()</code> returns an <code>Observable</code>. In which case you might still try to use <code>map()</code> but it would be unpractical. Let me try to explain why.</p>\n\n<p>If in such case you decided to stick with <code>map</code>, you would get an <code>Observable&lt;Observable&lt;Something&gt;&gt;</code>. For example in your case, if we used an imaginary RxGson library, that returned an <code>Observable&lt;String&gt;</code> from it's <code>toJson()</code> method (instead of simply returning a <code>String</code>) it would look like this:</p>\n\n<pre><code>Observable.from(jsonFile).map(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\n    @Override public Observable&lt;String&gt;&gt; call(File file) {\n        return new RxGson().toJson(new FileReader(file), Object.class);\n    }\n}); // you get Observable&lt;Observable&lt;String&gt;&gt; here\n</code></pre>\n\n<p>At this point it would be pretty tricky to <code>subscribe()</code> to such an observable. Inside of it you would get an <code>Observable&lt;String&gt;</code> to which you would again need to <code>subscribe()</code> to get the value. Which is not practical or nice to look at.</p>\n\n<p>So to make it useful one idea is to \"flatten\" this observable of observables (you might start to see where the name _flat_Map comes from). RxJava provides a few ways to flatten observables and for sake of simplicity lets assume <a href=\"http://reactivex.io/documentation/operators/merge.html\" rel=\"noreferrer\">merge</a> is what we want. Merge basically takes a bunch of observables and emits whenever any of them emits. (Lots of people would argue <a href=\"http://reactivex.io/documentation/operators/switch.html\" rel=\"noreferrer\">switch</a> would be a better default. But if you're emitting just one value, it doesn't matter anyway.)</p>\n\n<p>So amending our previous snippet we would get:</p>\n\n<pre><code>Observable.from(jsonFile).map(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\n    @Override public Observable&lt;String&gt;&gt; call(File file) {\n        return new RxGson().toJson(new FileReader(file), Object.class);\n    }\n}).merge(); // you get Observable&lt;String&gt; here\n</code></pre>\n\n<p>This is a lot more useful, because subscribing to that (or mapping, or filtering, or...) you just get the <code>String</code> value. (Also, mind you, such variant of <code>merge()</code> does not exist in RxJava, but if you understand the idea of merge then I hope you also understand how that would work.)</p>\n\n<p>So basically because such <code>merge()</code> should probably only ever be useful when it succeeds a <code>map()</code> returning an observable and so you don't have to type this over and over again, <code>flatMap()</code> was created as a shorthand. It applies the mapping function just as a normal <code>map()</code> would, but later instead of emitting the returned values it also \"flattens\" (or merges) them.</p>\n\n<p>That's the general use case. It is most useful in a codebase that uses Rx allover the place and you've got many methods returning observables, which you want to chain with other methods returning observables.</p>\n\n<p>In your use case it happens to be useful as well, because <code>map()</code> can only transform one value emitted in <code>onNext()</code> into another value emitted in <code>onNext()</code>. But it cannot transform it into multiple values, no value at all or an error. And as <a href=\"https://stackoverflow.com/users/61158/akarnokd\">akarnokd</a> wrote in his answer (and mind you he's much smarter than me, probably in general, but at least when it comes to RxJava) you shouldn't throw exceptions from your <code>map()</code>. So instead you can use <code>flatMap()</code> and</p>\n\n<pre><code>return Observable.just(value);\n</code></pre>\n\n<p>when all goes well, but </p>\n\n<pre><code>return Observable.error(exception);\n</code></pre>\n\n<p>when something fails.<br>\nSee his answer for a complete snippet: <a href=\"https://stackoverflow.com/a/30330772/1402641\">https://stackoverflow.com/a/30330772/1402641</a></p>\n"},{"tags":[],"owner":{"account_id":233246,"reputation":7099,"user_id":498604,"accept_rate":85,"display_name":"karthiks"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1502956117,"creation_date":1499362147,"answer_id":44955494,"question_id":22847105,"body_markdown":"Here is a simple **thumb-rule** that I use help me decide as when to use `flatMap()` over `map()` in Rx&#39;s `Observable`.\r\n\r\nOnce you come to a decision that you&#39;re going to employ a `map` transformation, you&#39;d write your transformation code to return some Object right?\r\n\r\nIf what you&#39;re returning as end result of your transformation is:\r\n\r\n* **a non-observable object then you&#39;d use just `map()`**. And `map()` wraps that object in an Observable and emits it.\r\n\r\n* **an `Observable` object, then you&#39;d use `flatMap()`**. And `flatMap()` unwraps the Observable, picks the returned object, wraps it with its own Observable and emits it.\r\n\r\nSay for example we&#39;ve a method titleCase(String inputParam) that returns Titled Cased String object of the input param. The return type of this method can be `String` or `Observable&lt;String&gt;`.\r\n\r\n* If the return type of `titleCase(..)` were to be mere `String`, then you&#39;d use `map(s -&gt; titleCase(s))`\r\n\r\n* If the return type of `titleCase(..)` were to be `Observable&lt;String&gt;`, then you&#39;d use `flatMap(s -&gt; titleCase(s))`\r\n\r\nHope that clarifies.","title":"When do you use map vs flatMap in RxJava?","body":"<p>Here is a simple <strong>thumb-rule</strong> that I use help me decide as when to use <code>flatMap()</code> over <code>map()</code> in Rx's <code>Observable</code>.</p>\n\n<p>Once you come to a decision that you're going to employ a <code>map</code> transformation, you'd write your transformation code to return some Object right?</p>\n\n<p>If what you're returning as end result of your transformation is:</p>\n\n<ul>\n<li><p><strong>a non-observable object then you'd use just <code>map()</code></strong>. And <code>map()</code> wraps that object in an Observable and emits it.</p></li>\n<li><p><strong>an <code>Observable</code> object, then you'd use <code>flatMap()</code></strong>. And <code>flatMap()</code> unwraps the Observable, picks the returned object, wraps it with its own Observable and emits it.</p></li>\n</ul>\n\n<p>Say for example we've a method titleCase(String inputParam) that returns Titled Cased String object of the input param. The return type of this method can be <code>String</code> or <code>Observable&lt;String&gt;</code>.</p>\n\n<ul>\n<li><p>If the return type of <code>titleCase(..)</code> were to be mere <code>String</code>, then you'd use <code>map(s -&gt; titleCase(s))</code></p></li>\n<li><p>If the return type of <code>titleCase(..)</code> were to be <code>Observable&lt;String&gt;</code>, then you'd use <code>flatMap(s -&gt; titleCase(s))</code></p></li>\n</ul>\n\n<p>Hope that clarifies.</p>\n"},{"tags":[],"owner":{"account_id":1000309,"reputation":932,"user_id":1015324,"accept_rate":0,"display_name":"Anoop Isaac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503160284,"creation_date":1503160284,"answer_id":45773873,"question_id":22847105,"body_markdown":"In some cases you might end up having chain of observables, wherein your observable would return another observable. &#39;flatmap&#39; kind of unwraps the second observable which is buried in the first one and let you directly access the data second observable is spitting out while subscribing.","title":"When do you use map vs flatMap in RxJava?","body":"<p>In some cases you might end up having chain of observables, wherein your observable would return another observable. 'flatmap' kind of unwraps the second observable which is buried in the first one and let you directly access the data second observable is spitting out while subscribing.</p>\n"},{"tags":[],"owner":{"account_id":9137758,"reputation":2553,"user_id":8586214,"accept_rate":100,"display_name":"CoXier"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1521594596,"creation_date":1520564598,"answer_id":49185948,"question_id":22847105,"body_markdown":"The question is **When do you use map vs flatMap in RxJava?**. And I think a simple demo is more specific.\r\n\r\n\r\nWhen you want to convert item emitted to another type , in your case converting file to String, map and flatMap can both work. But I prefer map operator because it&#39;s more clearly.\r\n\r\nHowever in some place, `flatMap` can do magic work but `map` can&#39;t. For example, I want to get a user&#39;s info but I have to first get his id when user login in. Obviously I need two requests and they are in order. \r\n\r\nLet&#39;s begin. \r\n\r\n    Observable&lt;LoginResponse&gt; login(String email, String password);\r\n    \r\n    Observable&lt;UserInfo&gt; fetchUserInfo(String userId);\r\n\r\nHere are two methods, one for login returned `Response`, and another for fetching user info.\r\n\r\n    login(email, password)\r\n            .flatMap(response -&gt;\r\n                    fetchUserInfo(response.id))\r\n            .subscribe(userInfo -&gt; {\r\n                // get user info and you update ui now\r\n            });\r\n\r\nAs you see, in function flatMap applies, at first I get user id from `Response` then fetch user info. When two requests are finished, we can do our job such as updating UI or save data into database. \r\n\r\nHowever if you use `map` you can&#39;t write such nice code. In a word, `flatMap` can help us serialize requests.\r\n\r\n\r\n","title":"When do you use map vs flatMap in RxJava?","body":"<p>The question is <strong>When do you use map vs flatMap in RxJava?</strong>. And I think a simple demo is more specific.</p>\n\n<p>When you want to convert item emitted to another type , in your case converting file to String, map and flatMap can both work. But I prefer map operator because it's more clearly.</p>\n\n<p>However in some place, <code>flatMap</code> can do magic work but <code>map</code> can't. For example, I want to get a user's info but I have to first get his id when user login in. Obviously I need two requests and they are in order. </p>\n\n<p>Let's begin. </p>\n\n<pre><code>Observable&lt;LoginResponse&gt; login(String email, String password);\n\nObservable&lt;UserInfo&gt; fetchUserInfo(String userId);\n</code></pre>\n\n<p>Here are two methods, one for login returned <code>Response</code>, and another for fetching user info.</p>\n\n<pre><code>login(email, password)\n        .flatMap(response -&gt;\n                fetchUserInfo(response.id))\n        .subscribe(userInfo -&gt; {\n            // get user info and you update ui now\n        });\n</code></pre>\n\n<p>As you see, in function flatMap applies, at first I get user id from <code>Response</code> then fetch user info. When two requests are finished, we can do our job such as updating UI or save data into database. </p>\n\n<p>However if you use <code>map</code> you can't write such nice code. In a word, <code>flatMap</code> can help us serialize requests.</p>\n"},{"tags":[],"owner":{"account_id":4482711,"reputation":109,"user_id":3646341,"display_name":"skr1p7k1dd"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1568681033,"creation_date":1568681033,"answer_id":57965962,"question_id":22847105,"body_markdown":"Flatmap maps observables to observables. \r\nMap maps items to items. \r\n\r\nFlatmap is more flexible but Map is more lightweight and direct, so it kind of depends on your usecase.\r\n\r\nIf you are doing ANYTHING async (including switching threads), you should be using Flatmap, as Map will not check if the consumer is disposed (part of the lightweight-ness)","title":"When do you use map vs flatMap in RxJava?","body":"<p>Flatmap maps observables to observables. \nMap maps items to items. </p>\n\n<p>Flatmap is more flexible but Map is more lightweight and direct, so it kind of depends on your usecase.</p>\n\n<p>If you are doing ANYTHING async (including switching threads), you should be using Flatmap, as Map will not check if the consumer is disposed (part of the lightweight-ness)</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636366021,"creation_date":1621356043,"answer_id":67590499,"question_id":22847105,"body_markdown":"**RxJava Map vs FlatMap**\r\n\r\nThey both are Transforming operators but `map` has 1-1 relation and `flatMap` has 1-0 or many relation. \r\n\r\n - `map` and `flatmap` emits **stream** with \r\n   - `map`- only 1 element\r\n   - `flatmap` - 0/many elements \r\n - `map` emits single element and `flatmap` emits a **stream** of elements\r\n\r\nMap operator\r\n```\r\nmap(new Function&lt;A, B&gt;() {\r\n    @Override\r\n    public B apply(A a) throws Exception {\r\n        B b = new B(a);\r\n        return b;\r\n    }\r\n})\r\n```\r\n\r\nFlatMap operator\r\n```\r\nflatMap(new Function&lt;A, ObservableSource&lt;B&gt;&gt;() { \r\n    @Override\r\n    public ObservableSource&lt;B&gt; apply(A a) throws Exception {\r\n        return foo(a);\r\n    }\r\n})\r\n```\r\n\r\n[\\[flatMap vs concatMap\\]][1]\r\n\r\n[\\[Swift map vs flatMap\\]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66078885/4770877\r\n  [2]: https://stackoverflow.com/a/69867208/4770877","title":"When do you use map vs flatMap in RxJava?","body":"<p><strong>RxJava Map vs FlatMap</strong></p>\n<p>They both are Transforming operators but <code>map</code> has 1-1 relation and <code>flatMap</code> has 1-0 or many relation.</p>\n<ul>\n<li><code>map</code> and <code>flatmap</code> emits <strong>stream</strong> with\n<ul>\n<li><code>map</code>- only 1 element</li>\n<li><code>flatmap</code> - 0/many elements</li>\n</ul>\n</li>\n<li><code>map</code> emits single element and <code>flatmap</code> emits a <strong>stream</strong> of elements</li>\n</ul>\n<p>Map operator</p>\n<pre><code>map(new Function&lt;A, B&gt;() {\n    @Override\n    public B apply(A a) throws Exception {\n        B b = new B(a);\n        return b;\n    }\n})\n</code></pre>\n<p>FlatMap operator</p>\n<pre><code>flatMap(new Function&lt;A, ObservableSource&lt;B&gt;&gt;() { \n    @Override\n    public ObservableSource&lt;B&gt; apply(A a) throws Exception {\n        return foo(a);\n    }\n})\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/66078885/4770877\">[flatMap vs concatMap]</a></p>\n<p><a href=\"https://stackoverflow.com/a/69867208/4770877\">[Swift map vs flatMap]</a></p>\n"}],"owner":{"account_id":180227,"reputation":38991,"user_id":413414,"accept_rate":72,"display_name":"Christopher Perry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134262,"favorite_count":0,"down_vote_count":0,"up_vote_count":196,"accepted_answer_id":22941881,"answer_count":11,"score":196,"last_activity_date":1636366021,"creation_date":1396553163,"question_id":22847105,"body_markdown":"When do you use `map` vs `flatMap` in **RxJava**?\r\n\r\nSay, for example, we want to map Files containing JSON into Strings that contain the JSON--\r\n\r\nUsing `map`, we have to deal with the `Exception` somehow. But how?:\r\n    \r\n    Observable.from(jsonFile).map(new Func1&lt;File, String&gt;() {\r\n        @Override public String call(File file) {\r\n            try {\r\n                return new Gson().toJson(new FileReader(file), Object.class);\r\n            } catch (FileNotFoundException e) {\r\n                // So Exception. What to do ?\r\n            }\r\n            return null; // Not good :(\r\n        }\r\n    });\r\n\r\nUsing `flatMap`, it&#39;s much more verbose, but we can forward the problem down the chain of `Observables` and handle the error if we choose somewhere else and even retry:\r\n    \r\n    Observable.from(jsonFile).flatMap(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\r\n        @Override public Observable&lt;String&gt; call(final File file) {\r\n            return Observable.create(new Observable.OnSubscribe&lt;String&gt;() {\r\n                @Override public void call(Subscriber&lt;? super String&gt; subscriber) {\r\n                    try {\r\n                        String json = new Gson().toJson(new FileReader(file), Object.class);\r\n    \r\n                        subscriber.onNext(json);\r\n                        subscriber.onCompleted();\r\n                    } catch (FileNotFoundException e) {\r\n                        subscriber.onError(e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\nI like the simplicity of the `map`, but the error handling of `flatmap` (not the verbosity). I haven&#39;t seen any best practices on this floating around and I&#39;m curious how this is being used in practice.","title":"When do you use map vs flatMap in RxJava?","body":"<p>When do you use <code>map</code> vs <code>flatMap</code> in <strong>RxJava</strong>?</p>\n\n<p>Say, for example, we want to map Files containing JSON into Strings that contain the JSON--</p>\n\n<p>Using <code>map</code>, we have to deal with the <code>Exception</code> somehow. But how?:</p>\n\n<pre><code>Observable.from(jsonFile).map(new Func1&lt;File, String&gt;() {\n    @Override public String call(File file) {\n        try {\n            return new Gson().toJson(new FileReader(file), Object.class);\n        } catch (FileNotFoundException e) {\n            // So Exception. What to do ?\n        }\n        return null; // Not good :(\n    }\n});\n</code></pre>\n\n<p>Using <code>flatMap</code>, it's much more verbose, but we can forward the problem down the chain of <code>Observables</code> and handle the error if we choose somewhere else and even retry:</p>\n\n<pre><code>Observable.from(jsonFile).flatMap(new Func1&lt;File, Observable&lt;String&gt;&gt;() {\n    @Override public Observable&lt;String&gt; call(final File file) {\n        return Observable.create(new Observable.OnSubscribe&lt;String&gt;() {\n            @Override public void call(Subscriber&lt;? super String&gt; subscriber) {\n                try {\n                    String json = new Gson().toJson(new FileReader(file), Object.class);\n\n                    subscriber.onNext(json);\n                    subscriber.onCompleted();\n                } catch (FileNotFoundException e) {\n                    subscriber.onError(e);\n                }\n            }\n        });\n    }\n});\n</code></pre>\n\n<p>I like the simplicity of the <code>map</code>, but the error handling of <code>flatmap</code> (not the verbosity). I haven't seen any best practices on this floating around and I'm curious how this is being used in practice.</p>\n"},{"tags":["java","azure","azure-functions","azure-eventhub","azure-java-tools"],"comments":[{"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"score":0,"creation_date":1633098196,"post_id":69405102,"comment_id":122677453,"body_markdown":"Can you clarify what &quot;header data&quot; is in this context?  It appears the linked question is referring to the `Properties` collection rather than the AMQP Message `Header` section.   Are the application properties what you&#39;re interested in?","body":"Can you clarify what &quot;header data&quot; is in this context?  It appears the linked question is referring to the <code>Properties</code> collection rather than the AMQP Message <code>Header</code> section.   Are the application properties what you&#39;re interested in?"},{"owner":{"account_id":3284272,"reputation":304,"user_id":2764119,"display_name":"lbilger"},"score":0,"creation_date":1633194358,"post_id":69405102,"comment_id":122696874,"body_markdown":"Yes exactly, I want to set values in the `Properties` collection. To be more precise, I want to create an exact copy of an incoming message including its headers/`Properties` and the key/`PartitionKey`. I&#39;m not that familiar with Event Hubs nomenclature as I have so far only used Kafka to access them.","body":"Yes exactly, I want to set values in the <code>Properties</code> collection. To be more precise, I want to create an exact copy of an incoming message including its headers/<code>Properties</code> and the key/<code>PartitionKey</code>. I&#39;m not that familiar with Event Hubs nomenclature as I have so far only used Kafka to access them."}],"answers":[{"tags":[],"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633356020,"creation_date":1633356020,"answer_id":69437315,"question_id":69405102,"body_markdown":"I don&#39;t know of a way to do this with the output bindings; to my knowledge, those only support native Java types or a POJO.  _([ref](https://learn.microsoft.com/azure/azure-functions/functions-bindings-event-hubs-output?tabs=java#attributes-and-annotations))_\r\n\r\nHowever, it is possible to use the Java SDK directly in the body of the Function which would give you direct control over forming the `EventData` instance to be published - including the `Properties` collection and other metadata.  \r\n\r\nWith respect to copying data, if you&#39;re looking to ensure that you&#39;ve got an exact replica (other than broker-owned metadata) - you&#39;ll want to publish to the exact partition that you&#39;ve read from.  _(see sample below)_\r\n\r\nEnsuring the partition key could be done a couple of different ways, depending on the configuration of the Event Hub replica.  For the simple approach, just publishing using the partition key should ensure that the event ends up in the same partition on the replica - assuming that the number of partitions match exactly.  _(see sample below)_\r\n\r\nIf your replica has a different number of partitions, you&#39;ll need to publish to the partition directly and manipulate the underlying AMQP Message to inject the partition key into the `Message Annotations` section manually by adding an item with the key `x-opt-partition-key` and value of the partition key that you&#39;d like it to reflect.  To do this, you&#39;ll need to use the [EventData.getRawAmqpMessage](https://learn.microsoft.com/java/api/com.azure.messaging.eventhubs.eventdata.getrawamqpmessage?view=azure-java-stable) method.\r\n\r\nFor more information:\r\n\r\n- [Publish Events with custom Application Properties (sample)](https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsWithCustomMetadata.java)\r\n- [Publish Events to a Specific Partition (sample)](https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsToSpecificPartition.java)\r\n- [Publish Events to with a Partition Key (sample)](https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsWithPartitionKey.java)\r\n- [Event Hubs Java Getting started guide](https://learn.microsoft.com/azure/event-hubs/event-hubs-java-get-started-send)","title":"Is there a way to output events with header data to Azure Event Hubs using Azure Functions in Java?","body":"<p>I don't know of a way to do this with the output bindings; to my knowledge, those only support native Java types or a POJO.  <em>(<a href=\"https://learn.microsoft.com/azure/azure-functions/functions-bindings-event-hubs-output?tabs=java#attributes-and-annotations\" rel=\"nofollow noreferrer\">ref</a>)</em></p>\n<p>However, it is possible to use the Java SDK directly in the body of the Function which would give you direct control over forming the <code>EventData</code> instance to be published - including the <code>Properties</code> collection and other metadata.</p>\n<p>With respect to copying data, if you're looking to ensure that you've got an exact replica (other than broker-owned metadata) - you'll want to publish to the exact partition that you've read from.  <em>(see sample below)</em></p>\n<p>Ensuring the partition key could be done a couple of different ways, depending on the configuration of the Event Hub replica.  For the simple approach, just publishing using the partition key should ensure that the event ends up in the same partition on the replica - assuming that the number of partitions match exactly.  <em>(see sample below)</em></p>\n<p>If your replica has a different number of partitions, you'll need to publish to the partition directly and manipulate the underlying AMQP Message to inject the partition key into the <code>Message Annotations</code> section manually by adding an item with the key <code>x-opt-partition-key</code> and value of the partition key that you'd like it to reflect.  To do this, you'll need to use the <a href=\"https://learn.microsoft.com/java/api/com.azure.messaging.eventhubs.eventdata.getrawamqpmessage?view=azure-java-stable\" rel=\"nofollow noreferrer\">EventData.getRawAmqpMessage</a> method.</p>\n<p>For more information:</p>\n<ul>\n<li><a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsWithCustomMetadata.java\" rel=\"nofollow noreferrer\">Publish Events with custom Application Properties (sample)</a></li>\n<li><a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsToSpecificPartition.java\" rel=\"nofollow noreferrer\">Publish Events to a Specific Partition (sample)</a></li>\n<li><a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs/PublishEventsWithPartitionKey.java\" rel=\"nofollow noreferrer\">Publish Events to with a Partition Key (sample)</a></li>\n<li><a href=\"https://learn.microsoft.com/azure/event-hubs/event-hubs-java-get-started-send\" rel=\"nofollow noreferrer\">Event Hubs Java Getting started guide</a></li>\n</ul>\n"}],"owner":{"account_id":3284272,"reputation":304,"user_id":2764119,"display_name":"lbilger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69437315,"answer_count":1,"score":1,"last_activity_date":1636365924,"creation_date":1633087541,"question_id":69405102,"body_markdown":"[This question](https://stackoverflow.com/questions/63714718/is-there-a-way-to-get-the-headers-data-of-events-eventhub-using-eventhubtrigg) asks how to get event header data into the Function and the accepted answer says that there is a way.\r\n\r\nHow about the other side - is it possible to output events with header data? In the docs I found only how to do it in C#.\r\n","title":"Is there a way to output events with header data to Azure Event Hubs using Azure Functions in Java?","body":"<p><a href=\"https://stackoverflow.com/questions/63714718/is-there-a-way-to-get-the-headers-data-of-events-eventhub-using-eventhubtrigg\">This question</a> asks how to get event header data into the Function and the accepted answer says that there is a way.</p>\n<p>How about the other side - is it possible to output events with header data? In the docs I found only how to do it in C#.</p>\n"},{"tags":["java","nattable"],"comments":[{"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"score":0,"creation_date":1636147951,"post_id":69852487,"comment_id":123488586,"body_markdown":"I don&#39;t know your whole configuration. Does your painter contain the,`LineBorderDecorator`? That one is typically responsible for painting cell borders","body":"I don&#39;t know your whole configuration. Does your painter contain the,<code>LineBorderDecorator</code>? That one is typically responsible for painting cell borders"},{"owner":{"account_id":6929977,"reputation":83,"user_id":5319739,"display_name":"floh.mueller"},"score":0,"creation_date":1636353374,"post_id":69852487,"comment_id":123524034,"body_markdown":"aaaah, you&#39;re right! I copy&amp;pasted from one of the (great!) examples and it turned out the ```DefaultNatTableStyleConfiguration.cellPainter``` was overriden by a ```new PaddingDecorator(new TextPainter(), 2)```! Now that I changed this to ```new LineBorderDecorator(new PaddingDecorator(new TextPainter(), 2))``` I get the red border! Thank you one more time!","body":"aaaah, you&#39;re right! I copy&amp;pasted from one of the (great!) examples and it turned out the <code>DefaultNatTableStyleConfiguration.cellPainter</code> was overriden by a <code>new PaddingDecorator(new TextPainter(), 2)</code>! Now that I changed this to <code>new LineBorderDecorator(new PaddingDecorator(new TextPainter(), 2))</code> I get the red border! Thank you one more time!"}],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636116184,"creation_date":1636112857,"answer_id":69852792,"question_id":69852487,"body_markdown":"IIUC you are talking about the cell that has the focus in a selected row/column. That is called the selection anchor. And the selection anchor is styled specifically via the label `SelectionStyleLabels.SELECTION_ANCHOR_STYLE` to distinguish the selected cell that has the focus from other selected cells in a multi selection scenario.\r\n\r\nThat said, you need to configure the style for the selection anchor additionally. But as it is not possible to configure styles for multi-labels, the only approach I know is to remove the background styling for the selection anchor so the background color is inherited from the general selection style. And if you want to highlight the selection anchor, use some other style bit, e.g. setting the border.\r\n\r\n\r\n    IStyle anchorStyle = new Style();\r\n    anchorStyle.setAttributeValue(\r\n            CellStyleAttributes.BORDER_STYLE,\r\n            new BorderStyle(1, GUIHelper.COLOR_RED, LineStyleEnum.SOLID));\r\n    configRegistry.registerConfigAttribute(\r\n            CellConfigAttributes.CELL_STYLE,\r\n            anchorStyle,\r\n            DisplayMode.SELECT,\r\n            SelectionStyleLabels.SELECTION_ANCHOR_STYLE);","title":"NatTable: colored row selected, what about the selected cell?","body":"<p>IIUC you are talking about the cell that has the focus in a selected row/column. That is called the selection anchor. And the selection anchor is styled specifically via the label <code>SelectionStyleLabels.SELECTION_ANCHOR_STYLE</code> to distinguish the selected cell that has the focus from other selected cells in a multi selection scenario.</p>\n<p>That said, you need to configure the style for the selection anchor additionally. But as it is not possible to configure styles for multi-labels, the only approach I know is to remove the background styling for the selection anchor so the background color is inherited from the general selection style. And if you want to highlight the selection anchor, use some other style bit, e.g. setting the border.</p>\n<pre><code>IStyle anchorStyle = new Style();\nanchorStyle.setAttributeValue(\n        CellStyleAttributes.BORDER_STYLE,\n        new BorderStyle(1, GUIHelper.COLOR_RED, LineStyleEnum.SOLID));\nconfigRegistry.registerConfigAttribute(\n        CellConfigAttributes.CELL_STYLE,\n        anchorStyle,\n        DisplayMode.SELECT,\n        SelectionStyleLabels.SELECTION_ANCHOR_STYLE);\n</code></pre>\n"}],"owner":{"account_id":6929977,"reputation":83,"user_id":5319739,"display_name":"floh.mueller"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69852792,"answer_count":1,"score":1,"last_activity_date":1636365524,"creation_date":1636111372,"question_id":69852487,"body_markdown":"I have a NatTable and some colored rows, via the label &quot;mylabel&quot;.\r\n&lt;br&gt;&quot;mylabel&quot; is assigned by a ConfigLabelAccumulator:\r\n\r\n    final AggregateConfigLabelAccumulator labelAccumulator = new AggregateConfigLabelAccumulator();\r\n    labelAccumulator.add(new ColumnLabelAccumulator());\r\n    labelAccumulator.add(new IConfigLabelAccumulator() {\r\n        @Override\r\n        public void accumulateConfigLabels(final LabelStack configLabels, final int columnPosition, final int rowPosition) {\r\n            if (&lt;my condition&gt;) configLabels.addLabelOnTop(&quot;mylabel&quot;);\r\n        }\r\n    });\r\n\r\nStyles for &quot;mylabel&quot; are assigned via ConfigRegistry, &quot;YELLOW&quot; for unselected rows, &quot;DARK_YELLOW&quot; for selected rows:\r\n\r\n    final ConfigRegistry configRegistry = new ConfigRegistry();\r\n    final Style style = new Style();\r\n    style.setAttributeValue(CellStyleAttributes.BACKGROUND_COLOR, GUIHelper.COLOR_YELLOW);\r\n    configRegistry.registerConfigAttribute(CellConfigAttributes.CELL_STYLE, style, DisplayMode.NORMAL, &quot;mylabel&quot;);\r\n    \r\n    final Style styleSelected = new Style();\r\n    styleSelected.setAttributeValue(CellStyleAttributes.BACKGROUND_COLOR, Display.getDefault().getSystemColor(SWT.COLOR_DARK_YELLOW));\r\n    configRegistry.registerConfigAttribute(CellConfigAttributes.CELL_STYLE, styleSelected, DisplayMode.SELECT, &quot;mylabel&quot;);\r\n\r\n(sidenote) After the condition (see ```&lt;my condition&gt;```) changes, I do ```natTable.doCommand(new VisualRefreshCommand());``` to instantly refresh the table.\r\n\r\nIt works like a charm, but for one thing: The selected cell!\r\n&lt;br&gt;How can I tell the selected cell to have a different color when ```&lt;my condition&gt;``` is ```true```?\r\n\r\nExample pictures:\r\n&lt;br&gt;Both rows are selected in both pictures (=&gt; dark yellow), only the selection anchor is different.\r\n\r\n[![want to color this][1]][1]\r\n&lt;br&gt;The cell containing 529... should have a different style when selected.\r\n\r\n\r\n[![want to stay like it is][2]][2]\r\n&lt;br&gt;The cell containing /E0001 should stay like it is.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AOVUb.png\r\n  [2]: https://i.stack.imgur.com/SMDXH.png\r\n\r\n\r\n**Thank you very much, Dirk !!!**\r\n\r\nI ended up with this solution, tweaking the ```SelectionLayer```&#39;s ```DefaultSelectionLayerConfiguration``` and  ```DefaultSelectionStyleConfiguration```:\r\n\r\n    this.selectionLayer = new SelectionLayer(glazedListsEventLayer, false);\r\n    this.selectionLayer.addConfiguration(new DefaultSelectionLayerConfiguration() {\r\n        @Override\r\n        protected void addSelectionStyleConfig() {\r\n            final DefaultSelectionStyleConfiguration dssc = new DefaultSelectionStyleConfiguration();\r\n            dssc.anchorBgColor = null;\r\n            dssc.anchorFgColor = null;\r\n            dssc.anchorBorderStyle = new BorderStyle(1, GUIHelper.COLOR_RED, LineStyleEnum.SOLID);\r\n            addConfiguration(dssc);\r\n        }\r\n    });","title":"NatTable: colored row selected, what about the selected cell?","body":"<p>I have a NatTable and some colored rows, via the label &quot;mylabel&quot;.\n<br>&quot;mylabel&quot; is assigned by a ConfigLabelAccumulator:</p>\n<pre><code>final AggregateConfigLabelAccumulator labelAccumulator = new AggregateConfigLabelAccumulator();\nlabelAccumulator.add(new ColumnLabelAccumulator());\nlabelAccumulator.add(new IConfigLabelAccumulator() {\n    @Override\n    public void accumulateConfigLabels(final LabelStack configLabels, final int columnPosition, final int rowPosition) {\n        if (&lt;my condition&gt;) configLabels.addLabelOnTop(&quot;mylabel&quot;);\n    }\n});\n</code></pre>\n<p>Styles for &quot;mylabel&quot; are assigned via ConfigRegistry, &quot;YELLOW&quot; for unselected rows, &quot;DARK_YELLOW&quot; for selected rows:</p>\n<pre><code>final ConfigRegistry configRegistry = new ConfigRegistry();\nfinal Style style = new Style();\nstyle.setAttributeValue(CellStyleAttributes.BACKGROUND_COLOR, GUIHelper.COLOR_YELLOW);\nconfigRegistry.registerConfigAttribute(CellConfigAttributes.CELL_STYLE, style, DisplayMode.NORMAL, &quot;mylabel&quot;);\n\nfinal Style styleSelected = new Style();\nstyleSelected.setAttributeValue(CellStyleAttributes.BACKGROUND_COLOR, Display.getDefault().getSystemColor(SWT.COLOR_DARK_YELLOW));\nconfigRegistry.registerConfigAttribute(CellConfigAttributes.CELL_STYLE, styleSelected, DisplayMode.SELECT, &quot;mylabel&quot;);\n</code></pre>\n<p>(sidenote) After the condition (see <code>&lt;my condition&gt;</code>) changes, I do <code>natTable.doCommand(new VisualRefreshCommand());</code> to instantly refresh the table.</p>\n<p>It works like a charm, but for one thing: The selected cell!\n<br>How can I tell the selected cell to have a different color when <code>&lt;my condition&gt;</code> is <code>true</code>?</p>\n<p>Example pictures:\n<br>Both rows are selected in both pictures (=&gt; dark yellow), only the selection anchor is different.</p>\n<p><a href=\"https://i.stack.imgur.com/AOVUb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AOVUb.png\" alt=\"want to color this\" /></a>\n<br>The cell containing 529... should have a different style when selected.</p>\n<p><a href=\"https://i.stack.imgur.com/SMDXH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SMDXH.png\" alt=\"want to stay like it is\" /></a>\n<br>The cell containing /E0001 should stay like it is.</p>\n<p><strong>Thank you very much, Dirk !!!</strong></p>\n<p>I ended up with this solution, tweaking the <code>SelectionLayer</code>'s <code>DefaultSelectionLayerConfiguration</code> and  <code>DefaultSelectionStyleConfiguration</code>:</p>\n<pre><code>this.selectionLayer = new SelectionLayer(glazedListsEventLayer, false);\nthis.selectionLayer.addConfiguration(new DefaultSelectionLayerConfiguration() {\n    @Override\n    protected void addSelectionStyleConfig() {\n        final DefaultSelectionStyleConfiguration dssc = new DefaultSelectionStyleConfiguration();\n        dssc.anchorBgColor = null;\n        dssc.anchorFgColor = null;\n        dssc.anchorBorderStyle = new BorderStyle(1, GUIHelper.COLOR_RED, LineStyleEnum.SOLID);\n        addConfiguration(dssc);\n    }\n});\n</code></pre>\n"},{"tags":["java","quarkus","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636275386,"creation_date":1636274452,"answer_id":69870909,"question_id":69854500,"body_markdown":"This is an issue with your model. You can not expect `AgentAvailability` to both be and not be cloned. If `AgentAvailability` is a problem fact, it will not be cloned, and therefore the value of `agent` will not be changed.\r\n\r\n(Side note: maybe we should detect if an entity is referenced from a planning fact, and fail fast? I don&#39;t see how such a situation leads to anything but trouble.)\r\n\r\nThere are several solutions to this problem. I recommend you make `Agent` a problem fact and create a new entity `AgentAssignment`, mapping 1-to-1 to `Agent`. In this model, you can freely reference `Agent` fact instances in other facts.\r\n\r\nThe constraint then becomes relatively easy to write.\r\n\r\n    from(AgentAssignment.class)\r\n        .join(AgentAvailability.class,\r\n              Joiners.equal(\r\n                  AgentAssignment::getAgent,\r\n                  AgentAvailability::getAgent))\r\n        .groupBy(\r\n             (agentAssignment, agentAvailability) -&gt; agentAssignment, \r\n             countBi())\r\n        .filter((agentAssignment, availabilities) -&gt; availabilities - agentAssignment.getShiftSet().size() &gt; 0)\r\n        ...","title":"PlanningEntity field with an InverseRelationShadowVariable in a ProblemFact is not updated - Optaplanner","body":"<p>This is an issue with your model. You can not expect <code>AgentAvailability</code> to both be and not be cloned. If <code>AgentAvailability</code> is a problem fact, it will not be cloned, and therefore the value of <code>agent</code> will not be changed.</p>\n<p>(Side note: maybe we should detect if an entity is referenced from a planning fact, and fail fast? I don't see how such a situation leads to anything but trouble.)</p>\n<p>There are several solutions to this problem. I recommend you make <code>Agent</code> a problem fact and create a new entity <code>AgentAssignment</code>, mapping 1-to-1 to <code>Agent</code>. In this model, you can freely reference <code>Agent</code> fact instances in other facts.</p>\n<p>The constraint then becomes relatively easy to write.</p>\n<pre><code>from(AgentAssignment.class)\n    .join(AgentAvailability.class,\n          Joiners.equal(\n              AgentAssignment::getAgent,\n              AgentAvailability::getAgent))\n    .groupBy(\n         (agentAssignment, agentAvailability) -&gt; agentAssignment, \n         countBi())\n    .filter((agentAssignment, availabilities) -&gt; availabilities - agentAssignment.getShiftSet().size() &gt; 0)\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636365293,"creation_date":1636357951,"answer_id":69880146,"question_id":69854500,"body_markdown":"As an alternative solution, add a `@DeepPlanningClone` annotation on `AgentAvailability`:\r\n\r\n    @DeepPlanningClone\r\n    public class AgentAvailability ... { ... }\r\n\r\nBut Lukas&#39;s answer is better.","title":"PlanningEntity field with an InverseRelationShadowVariable in a ProblemFact is not updated - Optaplanner","body":"<p>As an alternative solution, add a <code>@DeepPlanningClone</code> annotation on <code>AgentAvailability</code>:</p>\n<pre><code>@DeepPlanningClone\npublic class AgentAvailability ... { ... }\n</code></pre>\n<p>But Lukas's answer is better.</p>\n"}],"owner":{"account_id":3001234,"reputation":578,"user_id":2546702,"accept_rate":100,"display_name":"minioim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69870909,"answer_count":2,"score":2,"last_activity_date":1636365293,"creation_date":1636121095,"question_id":69854500,"body_markdown":"I have a *ProblemFact* `AgentAvailability` which reference a shadow planning entity `Agent` (`Agent` has no *PlanningVariable*, only an *InverseRelationShadowVariable* referencing the *PlanningEntity* `Shift`)\r\n\r\nHere is my class definitions:\r\n\r\n`Shift.class`\r\n\r\n    @PlanningEntity\r\n    public class Shift extends AbstractPersistable implements Comparable&lt;Shift&gt; {\r\n\r\n    @PlanningVariable(valueRangeProviderRefs = { &quot;agentRange&quot; }, nullable = true)\r\n    private Agent agent;\r\n    private Spot spot;\r\n\r\n    private LocalDateTime startDateTime;\r\n    private LocalDateTime endDateTime;\r\n\r\n    //Constructor, getters, setters and JPA annotations removed for clarity\r\n\r\n`Agent.class`\r\n\r\n    @PlanningEntity\r\n    public class Agent implements Comparable&lt;Agent&gt; {\r\n    \r\n    @PlanningId\r\n    private long registrationNumber;\r\n    private String username;\r\n    private boolean pro;\r\n\r\n    private SortedSet&lt;Skill&gt; skillSet = new TreeSet&lt;&gt;();\r\n\r\n    @InverseRelationShadowVariable(sourceVariableName = &quot;agent&quot;)\r\n    private SortedSet&lt;Shift&gt; shiftSet = new TreeSet&lt;&gt;();\r\n\r\n    //Constructor, getters, setters and JPA annotations removed for clarity\r\n\r\n`AgentAvailability.class`\r\n\r\n    public class AgentAvailability extends AbstractPersistable implements Comparable&lt;AgentAvailability&gt; {\r\n    \r\n    private Agent agent;\r\n    private LocalDateTime startDateTime;\r\n    private LocalDateTime endDateTime;\r\n\r\n    //Constructor, getters, setters and JPA annotations removed for clarity\r\n\r\nand here is my Solution definition:\r\n\r\n\r\n`Schedule.class`\r\n\r\n    @PlanningSolution\r\n    public class Schedule extends AbstractPersistable {\r\n\r\n    // ...\r\n    @ProblemFactCollectionProperty\r\n    @ValueRangeProvider(id = &quot;agentRange&quot;)\r\n    private List&lt;Agent&gt; agentList = new ArrayList&lt;&gt;();\r\n\r\n    @ProblemFactCollectionProperty\r\n    private List&lt;AgentAvailability&gt; agentAvailabilities = new ArrayList&lt;&gt;();\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;Shift&gt; shifts = new ArrayList&lt;&gt;();\r\n    \r\n    // ...\r\n    //Constructor, getters, setters and JPA annotations removed for clarity\r\n\r\nthe *inverseShadowVariable* is working as expected: when an `Agent` is assigned to a `Shift`, the `shiftSet` from the assigned `Agent` is updated with this shift.\r\n\r\nThe problem is with the field `agent` from `AgentAvailability`.\r\n\r\nFrom my understanding, when Optaplanner clones the solution, according to [documentation][1], it reuses instances for ProblemFacts, and uses cloning for planning entities.\r\n\r\n\r\nSince `AgentAvailability` is a Fact I assume it&#39;s reused (and in debugger view, this is the case, instance is the same between initial problem and bestSolution found)\r\n\r\n`Agent` from `Schedule` are correctly cloned with their `shiftSet` to the solution too.\r\n\r\nBut the problem is that `agent` field in `AgentAvailability`&#160;is still the `Agent` instance from the original problem.\r\n\r\nTherefore, the field `shiftSet` of `agent` in `AgentAvailability` instances is still empty.\r\n\r\nIt is the case at the end in the bestSolution found, but also during computing. \r\n\r\nTherefore, I cannot use a *constraint* like this: \r\n\r\n     return constraintFactory.from(AgentAvailability.class)\r\n                                .groupBy(AgentAvailability::getAgent, count())\r\n                                .filter((agent, availabilities) -&gt; availabilities - agent.getShiftSet().size() &gt; 0)\r\n    .penalizeConfigurableLong(ShiftSchedulingConstraintConfiguration.PRO_HAS_SHIFT, (agent, availabilities) -&gt; availabilities - agent.getShiftSet().size());\r\n\r\nsince `agent.getShiftSet().size()`&#160;always return 0 even when the agent has been assigned to shifts.\r\n\r\n\r\nA possible Workaround would be to use a from(Agent.class) clause, and join with AgentAvailabilities and Shift to &quot;rebuild&quot; the shiftSet from the `Agent` Entity. but is there any way to &quot;clone&quot; the shiftSet from `Agent` entities in the `Agent` of `AgentAvailability` so I can use agent field from `AgentAvailability` with updated `shiftSet`?\r\n\r\n\r\n  [1]: https://docs.optaplanner.org/8.12.0.Final/optaplanner-docs/html_single/index.html#cloningASolution","title":"PlanningEntity field with an InverseRelationShadowVariable in a ProblemFact is not updated - Optaplanner","body":"<p>I have a <em>ProblemFact</em> <code>AgentAvailability</code> which reference a shadow planning entity <code>Agent</code> (<code>Agent</code> has no <em>PlanningVariable</em>, only an <em>InverseRelationShadowVariable</em> referencing the <em>PlanningEntity</em> <code>Shift</code>)</p>\n<p>Here is my class definitions:</p>\n<p><code>Shift.class</code></p>\n<pre><code>@PlanningEntity\npublic class Shift extends AbstractPersistable implements Comparable&lt;Shift&gt; {\n\n@PlanningVariable(valueRangeProviderRefs = { &quot;agentRange&quot; }, nullable = true)\nprivate Agent agent;\nprivate Spot spot;\n\nprivate LocalDateTime startDateTime;\nprivate LocalDateTime endDateTime;\n\n//Constructor, getters, setters and JPA annotations removed for clarity\n</code></pre>\n<p><code>Agent.class</code></p>\n<pre><code>@PlanningEntity\npublic class Agent implements Comparable&lt;Agent&gt; {\n\n@PlanningId\nprivate long registrationNumber;\nprivate String username;\nprivate boolean pro;\n\nprivate SortedSet&lt;Skill&gt; skillSet = new TreeSet&lt;&gt;();\n\n@InverseRelationShadowVariable(sourceVariableName = &quot;agent&quot;)\nprivate SortedSet&lt;Shift&gt; shiftSet = new TreeSet&lt;&gt;();\n\n//Constructor, getters, setters and JPA annotations removed for clarity\n</code></pre>\n<p><code>AgentAvailability.class</code></p>\n<pre><code>public class AgentAvailability extends AbstractPersistable implements Comparable&lt;AgentAvailability&gt; {\n\nprivate Agent agent;\nprivate LocalDateTime startDateTime;\nprivate LocalDateTime endDateTime;\n\n//Constructor, getters, setters and JPA annotations removed for clarity\n</code></pre>\n<p>and here is my Solution definition:</p>\n<p><code>Schedule.class</code></p>\n<pre><code>@PlanningSolution\npublic class Schedule extends AbstractPersistable {\n\n// ...\n@ProblemFactCollectionProperty\n@ValueRangeProvider(id = &quot;agentRange&quot;)\nprivate List&lt;Agent&gt; agentList = new ArrayList&lt;&gt;();\n\n@ProblemFactCollectionProperty\nprivate List&lt;AgentAvailability&gt; agentAvailabilities = new ArrayList&lt;&gt;();\n\n@PlanningEntityCollectionProperty\nprivate List&lt;Shift&gt; shifts = new ArrayList&lt;&gt;();\n\n// ...\n//Constructor, getters, setters and JPA annotations removed for clarity\n</code></pre>\n<p>the <em>inverseShadowVariable</em> is working as expected: when an <code>Agent</code> is assigned to a <code>Shift</code>, the <code>shiftSet</code> from the assigned <code>Agent</code> is updated with this shift.</p>\n<p>The problem is with the field <code>agent</code> from <code>AgentAvailability</code>.</p>\n<p>From my understanding, when Optaplanner clones the solution, according to <a href=\"https://docs.optaplanner.org/8.12.0.Final/optaplanner-docs/html_single/index.html#cloningASolution\" rel=\"nofollow noreferrer\">documentation</a>, it reuses instances for ProblemFacts, and uses cloning for planning entities.</p>\n<p>Since <code>AgentAvailability</code> is a Fact I assume it's reused (and in debugger view, this is the case, instance is the same between initial problem and bestSolution found)</p>\n<p><code>Agent</code> from <code>Schedule</code> are correctly cloned with their <code>shiftSet</code> to the solution too.</p>\n<p>But the problem is that <code>agent</code> field in <code>AgentAvailability</code> is still the <code>Agent</code> instance from the original problem.</p>\n<p>Therefore, the field <code>shiftSet</code> of <code>agent</code> in <code>AgentAvailability</code> instances is still empty.</p>\n<p>It is the case at the end in the bestSolution found, but also during computing.</p>\n<p>Therefore, I cannot use a <em>constraint</em> like this:</p>\n<pre><code> return constraintFactory.from(AgentAvailability.class)\n                            .groupBy(AgentAvailability::getAgent, count())\n                            .filter((agent, availabilities) -&gt; availabilities - agent.getShiftSet().size() &gt; 0)\n.penalizeConfigurableLong(ShiftSchedulingConstraintConfiguration.PRO_HAS_SHIFT, (agent, availabilities) -&gt; availabilities - agent.getShiftSet().size());\n</code></pre>\n<p>since <code>agent.getShiftSet().size()</code> always return 0 even when the agent has been assigned to shifts.</p>\n<p>A possible Workaround would be to use a from(Agent.class) clause, and join with AgentAvailabilities and Shift to &quot;rebuild&quot; the shiftSet from the <code>Agent</code> Entity. but is there any way to &quot;clone&quot; the shiftSet from <code>Agent</code> entities in the <code>Agent</code> of <code>AgentAvailability</code> so I can use agent field from <code>AgentAvailability</code> with updated <code>shiftSet</code>?</p>\n"},{"tags":["java","android",".net-core","signalr"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1631525935,"post_id":69159892,"comment_id":122236515,"body_markdown":"Install a cookie manager: `CookieHandler.setDefault(new CookieManager())`. Then Java will handle it for you.","body":"Install a cookie manager: <code>CookieHandler.setDefault(new CookieManager())</code>. Then Java will handle it for you."}],"answers":[{"tags":[],"owner":{"account_id":15049913,"reputation":89,"user_id":10861892,"display_name":"Ami Bidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636365259,"creation_date":1636365259,"answer_id":69881560,"question_id":69159892,"body_markdown":"Well after alot of search I came to this :\r\n\r\n       hubConnection = HubConnectionBuilder.create(HUB_URL).withHandshakeResponseTimeout(60000).withHeaders(mapHeader).setHttpClientBuilderCallback(param1 -&gt; {\r\n                            param1.addInterceptor(new ApiClient.ReceivedCookiesInterceptor(G.context));\r\n                            param1.addInterceptor(new ApiClient.AddCookiesInterceptor(G.context));\r\n                        }).withTransport(TransportEnum.ALL).withAccessTokenProvider(Single.defer(() -&gt; Single.just(&quot;An Access Token&quot;))).build();\r\n\r\n(setHttpClientBuilderCallback) will give me a configuration builder which I can use to handle `setcookie` from response .\r\n\r\nthis is my `ReceivedCookiesInterceptor`:\r\n\r\n     public static class ReceivedCookiesInterceptor implements Interceptor {\r\n            private Context context;\r\n    \r\n            public ReceivedCookiesInterceptor(Context context) {\r\n                this.context = context;\r\n            }\r\n    \r\n            @Override\r\n            public Response intercept(Chain chain) throws IOException {\r\n                Response originalResponse = chain.proceed(chain.request());\r\n                if (!originalResponse.headers(&quot;Set-Cookie&quot;).isEmpty()) {\r\n                    Log.i(&quot;HubLogin&quot;, &quot;intercept: &quot;+originalResponse.headers(&quot;Set-Cookie&quot;));\r\n                    HashSet&lt;String&gt; cookies = (HashSet&lt;String&gt;) PreferenceManager.getDefaultSharedPreferences(context).getStringSet(&quot;PREF_COOKIES&quot;, new HashSet&lt;String&gt;());\r\n    \r\n                    for (String header : originalResponse.headers(&quot;Set-Cookie&quot;)) {\r\n                        cookies.add(header);\r\n                    }\r\n    \r\n                    SharedPreferences.Editor memes = PreferenceManager.getDefaultSharedPreferences(context).edit();\r\n                    memes.putStringSet(&quot;PREF_COOKIES&quot;, cookies).apply();\r\n                    memes.apply();\r\n                }\r\n    \r\n                return originalResponse;\r\n            }\r\n        }\r\n\r\nand this is my `AddCookiesInterceptor`:\r\n\r\n    public static class AddCookiesInterceptor implements Interceptor {\r\n        public static final String PREF_COOKIES = &quot;PREF_COOKIES&quot;;\r\n        private Context context;\r\n        public AddCookiesInterceptor(Context context ) {\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public Response intercept(Interceptor.Chain chain) throws IOException {\r\n            Request.Builder builder = chain.request().newBuilder();\r\n    \r\n            HashSet&lt;String&gt; preferences = (HashSet&lt;String&gt;) PreferenceManager.getDefaultSharedPreferences(context).getStringSet(PREF_COOKIES, new HashSet&lt;&gt;());\r\n    \r\n            for (String cookie : preferences) {\r\n                builder.addHeader(&quot;Cookie&quot;, cookie);\r\n            }\r\n            return chain.proceed(builder.build());\r\n        }\r\n    }","title":"How to handle set-cookie Header in SignalR java Client?","body":"<p>Well after alot of search I came to this :</p>\n<pre><code>   hubConnection = HubConnectionBuilder.create(HUB_URL).withHandshakeResponseTimeout(60000).withHeaders(mapHeader).setHttpClientBuilderCallback(param1 -&gt; {\n                        param1.addInterceptor(new ApiClient.ReceivedCookiesInterceptor(G.context));\n                        param1.addInterceptor(new ApiClient.AddCookiesInterceptor(G.context));\n                    }).withTransport(TransportEnum.ALL).withAccessTokenProvider(Single.defer(() -&gt; Single.just(&quot;An Access Token&quot;))).build();\n</code></pre>\n<p>(setHttpClientBuilderCallback) will give me a configuration builder which I can use to handle <code>setcookie</code> from response .</p>\n<p>this is my <code>ReceivedCookiesInterceptor</code>:</p>\n<pre><code> public static class ReceivedCookiesInterceptor implements Interceptor {\n        private Context context;\n\n        public ReceivedCookiesInterceptor(Context context) {\n            this.context = context;\n        }\n\n        @Override\n        public Response intercept(Chain chain) throws IOException {\n            Response originalResponse = chain.proceed(chain.request());\n            if (!originalResponse.headers(&quot;Set-Cookie&quot;).isEmpty()) {\n                Log.i(&quot;HubLogin&quot;, &quot;intercept: &quot;+originalResponse.headers(&quot;Set-Cookie&quot;));\n                HashSet&lt;String&gt; cookies = (HashSet&lt;String&gt;) PreferenceManager.getDefaultSharedPreferences(context).getStringSet(&quot;PREF_COOKIES&quot;, new HashSet&lt;String&gt;());\n\n                for (String header : originalResponse.headers(&quot;Set-Cookie&quot;)) {\n                    cookies.add(header);\n                }\n\n                SharedPreferences.Editor memes = PreferenceManager.getDefaultSharedPreferences(context).edit();\n                memes.putStringSet(&quot;PREF_COOKIES&quot;, cookies).apply();\n                memes.apply();\n            }\n\n            return originalResponse;\n        }\n    }\n</code></pre>\n<p>and this is my <code>AddCookiesInterceptor</code>:</p>\n<pre><code>public static class AddCookiesInterceptor implements Interceptor {\n    public static final String PREF_COOKIES = &quot;PREF_COOKIES&quot;;\n    private Context context;\n    public AddCookiesInterceptor(Context context ) {\n        this.context = context;\n    }\n\n    @Override\n    public Response intercept(Interceptor.Chain chain) throws IOException {\n        Request.Builder builder = chain.request().newBuilder();\n\n        HashSet&lt;String&gt; preferences = (HashSet&lt;String&gt;) PreferenceManager.getDefaultSharedPreferences(context).getStringSet(PREF_COOKIES, new HashSet&lt;&gt;());\n\n        for (String cookie : preferences) {\n            builder.addHeader(&quot;Cookie&quot;, cookie);\n        }\n        return chain.proceed(builder.build());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15049913,"reputation":89,"user_id":10861892,"display_name":"Ami Bidar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69881560,"answer_count":1,"score":1,"last_activity_date":1636365259,"creation_date":1631523329,"question_id":69159892,"body_markdown":"I am using `SignalR` java client in android and `.net core3` as my webservice.\r\nI configured a set-cookie header in my responses from webservice to prevent `DDOS attacks` , but now I can&#39;t connect to my Hub because there is no option in `SignalR` java client to Handle set-cookie header . \r\nHow can I fix this problem? ","title":"How to handle set-cookie Header in SignalR java Client?","body":"<p>I am using <code>SignalR</code> java client in android and <code>.net core3</code> as my webservice.\nI configured a set-cookie header in my responses from webservice to prevent <code>DDOS attacks</code> , but now I can't connect to my Hub because there is no option in <code>SignalR</code> java client to Handle set-cookie header .\nHow can I fix this problem?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1412766759,"post_id":26255464,"comment_id":41186746,"body_markdown":"Why 22? Why not 0? Do you want the index of the last occurrence?","body":"Why 22? Why not 0? Do you want the index of the last occurrence?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1412766902,"post_id":26255464,"comment_id":41186823,"body_markdown":"It&#39;s probably 22, because some tokenization is involved and &quot;rent_office&quot; should not be considered. @Ingreatway, please clarify.","body":"It&#39;s probably 22, because some tokenization is involved and &quot;rent_office&quot; should not be considered. @Ingreatway, please clarify."},{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1412766965,"post_id":26255464,"comment_id":41186853,"body_markdown":"I&#39;d make a paper aeroplane out of this spec and send it back to the relevant department.","body":"I&#39;d make a paper aeroplane out of this spec and send it back to the relevant department."},{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1412767164,"post_id":26255464,"comment_id":41186962,"body_markdown":"Spec is still ambiguous. Why would it not return 0?","body":"Spec is still ambiguous. Why would it not return 0?"},{"owner":{"account_id":2829599,"reputation":145,"user_id":2431440,"accept_rate":100,"display_name":"Ingreatway"},"score":0,"creation_date":1412767322,"post_id":26255464,"comment_id":41187051,"body_markdown":"should return 21 because compare absolute token. not part of token.","body":"should return 21 because compare absolute token. not part of token."},{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1412767381,"post_id":26255464,"comment_id":41187077,"body_markdown":"In which case &quot;rent&quot; is not a token yet you imply it is in your question.","body":"In which case &quot;rent&quot; is not a token yet you imply it is in your question."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1412767459,"post_id":26255464,"comment_id":41187117,"body_markdown":"@Ingreatway - In that case you want the *complete* word (*rent*) and not the word as part of another word (*rent_office*). right?","body":"@Ingreatway - In that case you want the <i>complete</i> word (<i>rent</i>) and not the word as part of another word (<i>rent_office</i>). right?"}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1412766771,"creation_date":1412766771,"answer_id":26255503,"question_id":26255464,"body_markdown":"Use word boundry like this : `\\\\brent\\\\b`\r\n\r\n[demo here](http://regex101.com/r/tA1vP2/1)","title":"How to find indexof token in a string expression?","body":"<p>Use word boundry like this : <code>\\\\brent\\\\b</code></p>\n\n<p><a href=\"http://regex101.com/r/tA1vP2/1\" rel=\"nofollow\">demo here</a></p>\n"},{"tags":[],"owner":{"account_id":5139297,"reputation":600,"user_id":4117161,"display_name":"Nisheeth Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636365061,"creation_date":1412768118,"answer_id":26255945,"question_id":26255464,"body_markdown":"As you have mentioned in your problem, the token consists letters, numbers and underscores. To break your given string in the token,  you can use `^[\\w\\d_]+`  regular expression. Using java code below, you can match your token and find the index of your token which will be 21 as you have expected.\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String expr = &quot;rent_office+eb+water+rent+eb_office&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;[\\\\w\\\\d_]+&quot;);\r\n        Matcher matcher = pattern.matcher(expr);\r\n        while (matcher.find()) {\r\n            if (matcher.group().equals(&quot;rent&quot;)) {\r\n                System.out.println(&quot;start index : &quot; + matcher.start());\r\n                System.out.println(&quot;end index : &quot; + matcher.end());\r\n                System.out.println(&quot;string : &quot; + matcher.group());\r\n                System.out.println(&quot;------------------------------&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here is the output:\r\n\r\n    start index : 21\r\n    end index : 25\r\n    string : rent\r\n    ------------------------------","title":"How to find indexof token in a string expression?","body":"<p>As you have mentioned in your problem, the token consists letters, numbers and underscores. To break your given string in the token,  you can use <code>^[\\w\\d_]+</code>  regular expression. Using java code below, you can match your token and find the index of your token which will be 21 as you have expected.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    String expr = &quot;rent_office+eb+water+rent+eb_office&quot;;\n    Pattern pattern = Pattern.compile(&quot;[\\\\w\\\\d_]+&quot;);\n    Matcher matcher = pattern.matcher(expr);\n    while (matcher.find()) {\n        if (matcher.group().equals(&quot;rent&quot;)) {\n            System.out.println(&quot;start index : &quot; + matcher.start());\n            System.out.println(&quot;end index : &quot; + matcher.end());\n            System.out.println(&quot;string : &quot; + matcher.group());\n            System.out.println(&quot;------------------------------&quot;);\n        }\n    }\n}\n</code></pre>\n<p>And here is the output:</p>\n<pre><code>start index : 21\nend index : 25\nstring : rent\n------------------------------\n</code></pre>\n"}],"owner":{"account_id":2829599,"reputation":145,"user_id":2431440,"accept_rate":100,"display_name":"Ingreatway"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1414177897,"accepted_answer_id":26255503,"answer_count":2,"score":-1,"last_activity_date":1636365061,"creation_date":1412766624,"question_id":26255464,"body_markdown":"How to find indexof &quot;rent&quot; token in a expression. token contains any alphabet number and underscore. token separated by any symbol.\r\n\r\n    String expr = &quot;rent_office+eb+water+rent+eb_office&quot;;\r\n\r\nrent token should return 21 index. any knows how to write regular expression for this to get index of.","title":"How to find indexof token in a string expression?","body":"<p>How to find indexof \"rent\" token in a expression. token contains any alphabet number and underscore. token separated by any symbol.</p>\n\n<pre><code>String expr = \"rent_office+eb+water+rent+eb_office\";\n</code></pre>\n\n<p>rent token should return 21 index. any knows how to write regular expression for this to get index of.</p>\n"},{"tags":["java","implements"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1636365020,"post_id":69881488,"comment_id":123527583,"body_markdown":"It makes no difference. `Volvo` already implements `Car` whether it declares it or not.","body":"It makes no difference. <code>Volvo</code> already implements <code>Car</code> whether it declares it or not."},{"owner":{"account_id":19064313,"reputation":52,"user_id":13919702,"display_name":"kartibrown"},"score":0,"creation_date":1636365111,"post_id":69881488,"comment_id":123527616,"body_markdown":"Okey, which one of them would you suggest to use?","body":"Okey, which one of them would you suggest to use?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1636365349,"post_id":69881488,"comment_id":123527724,"body_markdown":"Imagine `AbstractCar` would also implement `Driveable, Washable, Parkable, HoldsPassengers` and so on. Which version would you rather use then? ;)","body":"Imagine <code>AbstractCar</code> would also implement <code>Driveable, Washable, Parkable, HoldsPassengers</code> and so on. Which version would you rather use then? ;)"}],"owner":{"account_id":19064313,"reputation":52,"user_id":13919702,"display_name":"kartibrown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636365071,"answer_count":0,"score":0,"last_activity_date":1636364908,"creation_date":1636364908,"question_id":69881488,"body_markdown":"When you extend an **abstract class** which implements an **interface**, does the **child class** change it&#39;s behavior if you write that it also implements the same **interface** that the **abstract class** does? Or is it just a readability question if you do it or not?\r\n\r\n**Interface** example:\r\n\r\n    public interface Car\r\n    {\r\n    \tpublic String startEngine();\r\n    }\r\n\r\n**Abstract class** example:\r\n\r\n    public abstract class AbstractCar implements Car\r\n    {\r\n    \tprotected String engineStartUpSound;\r\n    }\r\n\r\n**Child class** example #1:\r\n\r\n    public class Volvo extends AbstractCar &lt;---- here\r\n    {\r\n    \tpublic Volvo()\r\n    \t{ engineStartUpSound = &quot;vroom!&quot;; }\r\n    \r\n    \t@Override\r\n    \tpublic final String startEngine()\r\n    \t{ return super.engineStartUpSound; }\r\n    }\r\n**Child class** example #2:\r\n\r\n    public class Volvo extends AbstractCar implements Car &lt;---- here\r\n    {\r\n    \tpublic Volvo()\r\n    \t{ engineStartUpSound = &quot;vroom!&quot;; }\r\n    \r\n    \t@Override\r\n    \tpublic final String startEngine()\r\n    \t{ return super.engineStartUpSound; }\r\n    }\r\n\r\n","title":"When you extend an abstract class which implements an interface, is it good to also mention this in the child class?","body":"<p>When you extend an <strong>abstract class</strong> which implements an <strong>interface</strong>, does the <strong>child class</strong> change it's behavior if you write that it also implements the same <strong>interface</strong> that the <strong>abstract class</strong> does? Or is it just a readability question if you do it or not?</p>\n<p><strong>Interface</strong> example:</p>\n<pre><code>public interface Car\n{\n    public String startEngine();\n}\n</code></pre>\n<p><strong>Abstract class</strong> example:</p>\n<pre><code>public abstract class AbstractCar implements Car\n{\n    protected String engineStartUpSound;\n}\n</code></pre>\n<p><strong>Child class</strong> example #1:</p>\n<pre><code>public class Volvo extends AbstractCar &lt;---- here\n{\n    public Volvo()\n    { engineStartUpSound = &quot;vroom!&quot;; }\n\n    @Override\n    public final String startEngine()\n    { return super.engineStartUpSound; }\n}\n</code></pre>\n<p><strong>Child class</strong> example #2:</p>\n<pre><code>public class Volvo extends AbstractCar implements Car &lt;---- here\n{\n    public Volvo()\n    { engineStartUpSound = &quot;vroom!&quot;; }\n\n    @Override\n    public final String startEngine()\n    { return super.engineStartUpSound; }\n}\n</code></pre>\n"},{"tags":["java","callback"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635124900,"post_id":69701967,"comment_id":123203859,"body_markdown":"Pass `dl` to the `ToolResultCallback` constructor, and store it in a field.","body":"Pass <code>dl</code> to the <code>ToolResultCallback</code> constructor, and store it in a field."},{"owner":{"account_id":4564012,"reputation":57,"user_id":3705497,"display_name":"user3705497"},"score":0,"creation_date":1635125158,"post_id":69701967,"comment_id":123203898,"body_markdown":"@tgdavies ToolResultCallback is an extended abstract class from a vendor API. Can I just add a custom constructor with a field to it ?","body":"@tgdavies ToolResultCallback is an extended abstract class from a vendor API. Can I just add a custom constructor with a field to it ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635127763,"post_id":69701967,"comment_id":123204247,"body_markdown":"Yes (if in doubt, try it and see)","body":"Yes (if in doubt, try it and see)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1635138059,"post_id":69701967,"comment_id":123205656,"body_markdown":"I suggest you post and accept an Answer to your own Question, so this page can be marked as resolved.","body":"I suggest you post and accept an Answer to your own Question, so this page can be marked as resolved."}],"answers":[{"tags":[],"owner":{"account_id":4564012,"reputation":57,"user_id":3705497,"display_name":"user3705497"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636364626,"creation_date":1636364626,"answer_id":69881426,"question_id":69701967,"body_markdown":"Pass dl to the ToolResultCallback constructor, and store it in a field. \r\n\r\nThanks @tgdavies","title":"Java callback (in another class) to populate private member","body":"<p>Pass dl to the ToolResultCallback constructor, and store it in a field.</p>\n<p>Thanks @tgdavies</p>\n"}],"owner":{"account_id":4564012,"reputation":57,"user_id":3705497,"display_name":"user3705497"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69881426,"answer_count":1,"score":0,"last_activity_date":1636364626,"creation_date":1635124756,"question_id":69701967,"body_markdown":"Please forgive my Java syntax as I am a Java beginner.\r\n\r\nI have 3 classes Main, Tool, ToolResultCallback.\r\n\r\n```\r\nclass Main {\r\n  private DataList dl;\r\n  public doSomething() {\r\n    Tool t = new Tool();\r\n    ToolResultCallback TRC = new ToolResultCallback();\r\n    t.startSomething(TRC);\r\n  }\r\n}\r\n\r\n// in separate file\r\nclass Tool {\r\n   public void startSomething(ToolResultCallback TRC) {\r\n   }\r\n}\r\n\r\n// in separate file\r\nclass ToolResultCallback extends AbstractTRC {\r\n   @Override\r\n   public onEvent(SomeData d) {\r\n      // how to populate DataList of Main?\r\n   }\r\n}\r\n```\r\n\r\nHow do I populate DataList dl from callback function in another class/ file? \r\n\r\n\r\n\r\n","title":"Java callback (in another class) to populate private member","body":"<p>Please forgive my Java syntax as I am a Java beginner.</p>\n<p>I have 3 classes Main, Tool, ToolResultCallback.</p>\n<pre><code>class Main {\n  private DataList dl;\n  public doSomething() {\n    Tool t = new Tool();\n    ToolResultCallback TRC = new ToolResultCallback();\n    t.startSomething(TRC);\n  }\n}\n\n// in separate file\nclass Tool {\n   public void startSomething(ToolResultCallback TRC) {\n   }\n}\n\n// in separate file\nclass ToolResultCallback extends AbstractTRC {\n   @Override\n   public onEvent(SomeData d) {\n      // how to populate DataList of Main?\n   }\n}\n</code></pre>\n<p>How do I populate DataList dl from callback function in another class/ file?</p>\n"},{"tags":["java","apache-kafka","apache-zookeeper"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1497691133,"post_id":44602797,"comment_id":76192984,"body_markdown":"Configure them as windows services: https://stackoverflow.com/questions/36309844/install-kafka-as-windows-service","body":"Configure them as windows services: <a href=\"https://stackoverflow.com/questions/36309844/install-kafka-as-windows-service\" title=\"install kafka as windows service\">stackoverflow.com/questions/36309844/&hellip;</a>"},{"owner":{"account_id":7325893,"reputation":1018,"user_id":5580309,"accept_rate":85,"display_name":"sirdan"},"score":0,"creation_date":1497691723,"post_id":44602797,"comment_id":76193158,"body_markdown":"thanks for the hint, but this just says how to install ZK and K, while I would need to launch them by Java and not the cmd.","body":"thanks for the hint, but this just says how to install ZK and K, while I would need to launch them by Java and not the cmd."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1497702650,"post_id":44602797,"comment_id":76196312,"body_markdown":"It doesn&#39;t tell you how to install them, it tells you how to configure them as windows services. So that you don&#39;t have to start and stop them every time you need to start the consumer application. That&#39;s the proper way to handle a service. You haven&#39;t given an indication in your question *why* you think you need to start it from Java - you&#39;ve only hinted that you find having to start it manually inconvenient.","body":"It doesn&#39;t tell you how to install them, it tells you how to configure them as windows services. So that you don&#39;t have to start and stop them every time you need to start the consumer application. That&#39;s the proper way to handle a service. You haven&#39;t given an indication in your question <i>why</i> you think you need to start it from Java - you&#39;ve only hinted that you find having to start it manually inconvenient."}],"answers":[{"tags":[],"owner":{"account_id":2130405,"reputation":91,"user_id":1891375,"display_name":"dennisnurbesser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1497693836,"creation_date":1497693836,"answer_id":44603253,"question_id":44602797,"body_markdown":"Please see this topic, it&#39;s about starting Zookeeper in Java:\r\n\r\nhttps://stackoverflow.com/questions/31278193/best-way-to-start-zookeeper-server-from-java-program\r\n\r\ndirecting to this:\r\n\r\nhttps://stackoverflow.com/questions/9286054/is-it-possible-to-start-a-zookeeper-server-instance-in-process-say-for-unit-tes","title":"Starting Zookeeper and Kafka servers from Java application","body":"<p>Please see this topic, it's about starting Zookeeper in Java:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31278193/best-way-to-start-zookeeper-server-from-java-program\">Best way to start zookeeper server from java program</a></p>\n\n<p>directing to this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9286054/is-it-possible-to-start-a-zookeeper-server-instance-in-process-say-for-unit-tes\">Is it possible to start a zookeeper server instance in process, say for unit tests?</a></p>\n"},{"tags":[],"owner":{"account_id":2546183,"reputation":9599,"user_id":2210944,"accept_rate":70,"display_name":"ppatierno"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497700690,"creation_date":1497700690,"answer_id":44604348,"question_id":44602797,"body_markdown":"If you need this for something like testing the I think that the better way is using the Debezium library which provides a KafkaCluster embedded implementation. \r\nYou can see how we use it in the Vert.x Kafka Client project for unit testing here : \r\n\r\nhttps://github.com/vert-x3/vertx-kafka-client/blob/master/src/test/java/io/vertx/kafka/client/tests/KafkaClusterTestBase.java\r\n\r\nTake a look around that ;)","title":"Starting Zookeeper and Kafka servers from Java application","body":"<p>If you need this for something like testing the I think that the better way is using the Debezium library which provides a KafkaCluster embedded implementation. \nYou can see how we use it in the Vert.x Kafka Client project for unit testing here : </p>\n\n<p><a href=\"https://github.com/vert-x3/vertx-kafka-client/blob/master/src/test/java/io/vertx/kafka/client/tests/KafkaClusterTestBase.java\" rel=\"nofollow noreferrer\">https://github.com/vert-x3/vertx-kafka-client/blob/master/src/test/java/io/vertx/kafka/client/tests/KafkaClusterTestBase.java</a></p>\n\n<p>Take a look around that ;)</p>\n"},{"tags":[],"owner":{"account_id":960659,"reputation":2398,"user_id":985087,"accept_rate":100,"display_name":"pintoch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636364439,"creation_date":1636364439,"answer_id":69881389,"question_id":44602797,"body_markdown":"To start up a Kafka cluster for your tests, you can use the following wrapper:\r\nhttps://www.testcontainers.org/modules/kafka/\r\n\r\nSee also this project which integrates Kafka further in the context of a Spring application:\r\nhttps://github.com/vspiliop/embedded-kafka-cluster","title":"Starting Zookeeper and Kafka servers from Java application","body":"<p>To start up a Kafka cluster for your tests, you can use the following wrapper:\n<a href=\"https://www.testcontainers.org/modules/kafka/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/modules/kafka/</a></p>\n<p>See also this project which integrates Kafka further in the context of a Spring application:\n<a href=\"https://github.com/vspiliop/embedded-kafka-cluster\" rel=\"nofollow noreferrer\">https://github.com/vspiliop/embedded-kafka-cluster</a></p>\n"}],"owner":{"account_id":7325893,"reputation":1018,"user_id":5580309,"accept_rate":85,"display_name":"sirdan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4121,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44603253,"answer_count":3,"score":3,"last_activity_date":1636364439,"creation_date":1497690860,"question_id":44602797,"body_markdown":"I am using a Java application which start a consumer reading Kafka topics.\r\nEvery time I need to start the consumer application, I have to start the Zookeeper and Kafka servers with commands in cmd.\r\nIs it possible to start/stop them with small Java programs?\r\nThank you.","title":"Starting Zookeeper and Kafka servers from Java application","body":"<p>I am using a Java application which start a consumer reading Kafka topics.\nEvery time I need to start the consumer application, I have to start the Zookeeper and Kafka servers with commands in cmd.\nIs it possible to start/stop them with small Java programs?\nThank you.</p>\n"},{"tags":["java","android","eclipse","manifest"],"answers":[{"tags":[],"owner":{"account_id":3389114,"reputation":954,"user_id":2844407,"accept_rate":89,"display_name":"Abeer Sul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1421091771,"creation_date":1421091771,"answer_id":27909538,"question_id":24870358,"body_markdown":"This problem is caused by a typo in your package name some where in the project, &quot;a different case&quot;.\r\n\r\nI suggest you compare package name in all these places:\r\n\r\n1.Manifest.xml &gt;&gt; package name should be all in small letters\r\n\r\n2.packages in src folder\r\n\r\n3.packages in gen folder\r\n\r\nthey should all be the same, if not fix it or refactor the wrong package name, this will solve it.\r\n\r\nmy problem was in different case in gen folder package, i hope this helps.\r\n\r\n *keep on cleaning, building the projects, closing/reopen them and restarting eclipse sometimes","title":"A resource exists with a different case, and class files not generating","body":"<p>This problem is caused by a typo in your package name some where in the project, \"a different case\".</p>\n\n<p>I suggest you compare package name in all these places:</p>\n\n<p>1.Manifest.xml >> package name should be all in small letters</p>\n\n<p>2.packages in src folder</p>\n\n<p>3.packages in gen folder</p>\n\n<p>they should all be the same, if not fix it or refactor the wrong package name, this will solve it.</p>\n\n<p>my problem was in different case in gen folder package, i hope this helps.</p>\n\n<p>*keep on cleaning, building the projects, closing/reopen them and restarting eclipse sometimes</p>\n"},{"tags":[],"owner":{"account_id":7790513,"reputation":61,"user_id":5893648,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1454803982,"creation_date":1454803982,"answer_id":35248166,"question_id":24870358,"body_markdown":"Faced this problem just now and found the cause. My source code was under the package com.ABCD.util and test code in com.ABCD.util.test. Then I changed the source code package name from com.ABCD.util to com.abcd.util. After that I started getting this error. Test classes which were going to the same bin folder, differed in case (ABCD and abcd). Once I changed the case of test-classes too, the problem went away. All his, even though the package ABCD was empty.","title":"A resource exists with a different case, and class files not generating","body":"<p>Faced this problem just now and found the cause. My source code was under the package com.ABCD.util and test code in com.ABCD.util.test. Then I changed the source code package name from com.ABCD.util to com.abcd.util. After that I started getting this error. Test classes which were going to the same bin folder, differed in case (ABCD and abcd). Once I changed the case of test-classes too, the problem went away. All his, even though the package ABCD was empty.</p>\n"},{"tags":[],"owner":{"account_id":4655615,"reputation":1894,"user_id":3771299,"accept_rate":56,"display_name":"Hasson"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1492440284,"creation_date":1492431438,"answer_id":43451348,"question_id":24870358,"body_markdown":"The best way I found to avoid this problem is to make an intermediate change to another package name, so if you are trying to rename a package from `com.example.MyApplication` to `com.example.myapplication` you need to do the following:\r\n\r\n 1. Rename the package `com.example.MyApplication` to `com.example.myapplication2` (this should be successful and you will not face the error: [A resource exists with a different case ..]\r\n\r\n 2. Rename the package `com.example.myapplication2` to `com.example.myapplication`\r\n\r\nThis way I could avoid this error in Eclips, I think it is related to the fact that package names has to be reflected to the folder names in the file system, so you can not have two folders with the same name but different with the case only.","title":"A resource exists with a different case, and class files not generating","body":"<p>The best way I found to avoid this problem is to make an intermediate change to another package name, so if you are trying to rename a package from <code>com.example.MyApplication</code> to <code>com.example.myapplication</code> you need to do the following:</p>\n\n<ol>\n<li><p>Rename the package <code>com.example.MyApplication</code> to <code>com.example.myapplication2</code> (this should be successful and you will not face the error: [A resource exists with a different case ..]</p></li>\n<li><p>Rename the package <code>com.example.myapplication2</code> to <code>com.example.myapplication</code></p></li>\n</ol>\n\n<p>This way I could avoid this error in Eclips, I think it is related to the fact that package names has to be reflected to the folder names in the file system, so you can not have two folders with the same name but different with the case only.</p>\n"}],"owner":{"account_id":2008185,"reputation":1133,"user_id":1797419,"display_name":"steff_bdh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48847,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1636364433,"creation_date":1405961144,"question_id":24870358,"body_markdown":"Getting a problem in eclipse which says \r\n\r\n    The project was not built due to &quot;A resource exists with a different case: \r\n    &#39;/AgriExpenseTT/bin/classes/uwi/dcit/agriexpensett&#39;.&quot;. Fix the problem, then try           refreshing this project and building it since it may be inconsistent\r\n\r\nI&#39;ve read other posts saying to check my package name/ delete my R.java/ delete bin folder/clean the project/restart eclipse and or computer, i&#39;ve tried them all but to no avail, however i&#39;ve noticed that in my **bin/classes/uwi/dcit/agriexpensett** there  were no **class files**, is that supposed to happen if i&#39;ve an error, any help is appreciated thanks","title":"A resource exists with a different case, and class files not generating","body":"<p>Getting a problem in eclipse which says </p>\n\n<pre><code>The project was not built due to \"A resource exists with a different case: \n'/AgriExpenseTT/bin/classes/uwi/dcit/agriexpensett'.\". Fix the problem, then try           refreshing this project and building it since it may be inconsistent\n</code></pre>\n\n<p>I've read other posts saying to check my package name/ delete my R.java/ delete bin folder/clean the project/restart eclipse and or computer, i've tried them all but to no avail, however i've noticed that in my <strong>bin/classes/uwi/dcit/agriexpensett</strong> there  were no <strong>class files</strong>, is that supposed to happen if i've an error, any help is appreciated thanks</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc","jar"],"comments":[{"owner":{"account_id":21773950,"reputation":368,"user_id":16076673,"display_name":"jdkramhoft"},"score":1,"creation_date":1636360520,"post_id":69880575,"comment_id":123525952,"body_markdown":"Is it a one-time occurrence for a single request? Or does it then not respond to any more requests?","body":"Is it a one-time occurrence for a single request? Or does it then not respond to any more requests?"},{"owner":{"account_id":7084288,"reputation":841,"user_id":5421542,"display_name":"Ruhul Amin"},"score":0,"creation_date":1636360732,"post_id":69880575,"comment_id":123526038,"body_markdown":"it&#39;s not one time, multiple times. but sometimes in any request","body":"it&#39;s not one time, multiple times. but sometimes in any request"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1636360909,"post_id":69880575,"comment_id":123526107,"body_markdown":"This reads like the JVM got stuck somehow, e.g. it might be desparate for some more memory but because it can&#39;t free enough the garbage collector might be running on steroids without success and you might have gotten an OOM error eventually. This is just a guess though and hard to diagnose remotely, especially without more info. What you should do is look for patterns like: Which endpoints are affected? What happens before this starts? Might there be something that&#39;s recurring every time? Are you able to grab a thread or heap dump and if so what to they tell you?","body":"This reads like the JVM got stuck somehow, e.g. it might be desparate for some more memory but because it can&#39;t free enough the garbage collector might be running on steroids without success and you might have gotten an OOM error eventually. This is just a guess though and hard to diagnose remotely, especially without more info. What you should do is look for patterns like: Which endpoints are affected? What happens before this starts? Might there be something that&#39;s recurring every time? Are you able to grab a thread or heap dump and if so what to they tell you?"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636361233,"post_id":69880575,"comment_id":123526223,"body_markdown":"Can you upload your project to GitHub and post the link in a comment here","body":"Can you upload your project to GitHub and post the link in a comment here"},{"owner":{"account_id":7084288,"reputation":841,"user_id":5421542,"display_name":"Ruhul Amin"},"score":0,"creation_date":1636382720,"post_id":69880575,"comment_id":123534862,"body_markdown":"@Thomas, Thanks for your suggestion. I have checked in several times and it&#39;s a rare case situation. When the issue occurs there is no response from any endpoint. when it occurred nothing happen before. I checked and there is no error or warning in the logs append. everything is normal in the logs, only new logs are not appended as the service is not responding or processing any request. \nEven for the checking, I have run the jar separately and there is no incoming request happened, only postman manual request is allowed. but after a few days, I observed postman request is also not responding","body":"@Thomas, Thanks for your suggestion. I have checked in several times and it&#39;s a rare case situation. When the issue occurs there is no response from any endpoint. when it occurred nothing happen before. I checked and there is no error or warning in the logs append. everything is normal in the logs, only new logs are not appended as the service is not responding or processing any request.  Even for the checking, I have run the jar separately and there is no incoming request happened, only postman manual request is allowed. but after a few days, I observed postman request is also not responding"},{"owner":{"account_id":7084288,"reputation":841,"user_id":5421542,"display_name":"Ruhul Amin"},"score":0,"creation_date":1636382782,"post_id":69880575,"comment_id":123534893,"body_markdown":"@ArthurKlezovich, Sorry man, I can not share the code as it&#39;s a client production-level project :(.","body":"@ArthurKlezovich, Sorry man, I can not share the code as it&#39;s a client production-level project :(."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1636383078,"post_id":69880575,"comment_id":123535016,"body_markdown":"So even if there&#39;s nothing happening at all the system stops accepting requests? Did you check whether it could actually be any application running in between e.g. a webserver, proxy etc.? Of if there&#39;s nothing in the app, does anything run scheduled which might open connections and not close them or eat up your memory?","body":"So even if there&#39;s nothing happening at all the system stops accepting requests? Did you check whether it could actually be any application running in between e.g. a webserver, proxy etc.? Of if there&#39;s nothing in the app, does anything run scheduled which might open connections and not close them or eat up your memory?"},{"owner":{"account_id":7084288,"reputation":841,"user_id":5421542,"display_name":"Ruhul Amin"},"score":0,"creation_date":1636478827,"post_id":69880575,"comment_id":123566028,"body_markdown":"@Thomas, There is no scheduler or proxy added in that service.","body":"@Thomas, There is no scheduler or proxy added in that service."}],"answers":[{"tags":[],"owner":{"account_id":12714208,"reputation":49,"user_id":9236852,"display_name":"hani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636364355,"creation_date":1636364355,"answer_id":69881367,"question_id":69880575,"body_markdown":"I think its occure when number of request is large or your system hang out \r\nThe way to prevent this from happening is to set timeOut for a request that If there is no response after a certain time, the message will be send\r\nand maybe its occure when The number of messages is large so is better to use io.github.resilience4j.ratelimiter to handle it.\r\ngood luck\r\n","title":"Spring boot : Sometimes not getting any Reponse from Rest Api based service","body":"<p>I think its occure when number of request is large or your system hang out\nThe way to prevent this from happening is to set timeOut for a request that If there is no response after a certain time, the message will be send\nand maybe its occure when The number of messages is large so is better to use io.github.resilience4j.ratelimiter to handle it.\ngood luck</p>\n"}],"owner":{"account_id":7084288,"reputation":841,"user_id":5421542,"display_name":"Ruhul Amin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636364355,"creation_date":1636360413,"question_id":69880575,"body_markdown":"I have a few rest API-based jar services that are deployed in the Linux CentOS server. Everything is working fine but sometimes I am observing that I am not getting API responses from the service. it&#39;s a rare case and after a long time run, it&#39;s causing the issue. I have already checked a few blogs and posts but not getting the expected solution.\r\n\r\n**I have tried in several ways:**\r\n\r\n - From front-end application \r\n - From postman \r\n - Using curl \r\n - Tried with telnet -it&#39;s connected and the port is also open \r\n - Checked jar is running or not - it&#39;s running in the defined port. \r\n - Network connectivity - is also ok.\r\n - Created some sample endpoint without using DB call to check the problem.\r\n - Put some logging in the code to highlight in and out times. \r\n- Make some static API calling from the same machine as well as different machines.\r\n\r\n*But still the same problem. No response from any endpoint.*\r\n\r\nI have checked the log files, everything is normal, and no new log append in the files.\r\n\r\n***But when I restart the jar (kill the port and run again) then it&#39;s going to normal and works fine.***\r\n\r\nI am not sure what&#39;s causing this. Anyone facing this same problem? \r\nWhat is the possible reason that can freeze the responses? \r\nNeed help to resolve the issues or any guidance is much appreciated.\r\n\r\n","title":"Spring boot : Sometimes not getting any Reponse from Rest Api based service","body":"<p>I have a few rest API-based jar services that are deployed in the Linux CentOS server. Everything is working fine but sometimes I am observing that I am not getting API responses from the service. it's a rare case and after a long time run, it's causing the issue. I have already checked a few blogs and posts but not getting the expected solution.</p>\n<p><strong>I have tried in several ways:</strong></p>\n<ul>\n<li>From front-end application</li>\n<li>From postman</li>\n<li>Using curl</li>\n<li>Tried with telnet -it's connected and the port is also open</li>\n<li>Checked jar is running or not - it's running in the defined port.</li>\n<li>Network connectivity - is also ok.</li>\n<li>Created some sample endpoint without using DB call to check the problem.</li>\n<li>Put some logging in the code to highlight in and out times.</li>\n<li>Make some static API calling from the same machine as well as different machines.</li>\n</ul>\n<p><em>But still the same problem. No response from any endpoint.</em></p>\n<p>I have checked the log files, everything is normal, and no new log append in the files.</p>\n<p><em><strong>But when I restart the jar (kill the port and run again) then it's going to normal and works fine.</strong></em></p>\n<p>I am not sure what's causing this. Anyone facing this same problem?\nWhat is the possible reason that can freeze the responses?\nNeed help to resolve the issues or any guidance is much appreciated.</p>\n"},{"tags":["java","android","android-recyclerview","fragment"],"comments":[{"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"score":0,"creation_date":1636363001,"post_id":69880957,"comment_id":123526837,"body_markdown":"first you should learn How to use Recyclerview in project","body":"first you should learn How to use Recyclerview in project"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1636363134,"post_id":69880957,"comment_id":123526869,"body_markdown":"@Yaqoob the problem isn&#39;t lying in `RecyclerView`/adapter implementation and code is in Java, also tag presnet, so your suggestion and link are urrelevant","body":"@Yaqoob the problem isn&#39;t lying in <code>RecyclerView</code>/adapter implementation and code is in Java, also tag presnet, so your suggestion and link are urrelevant"},{"owner":{"account_id":20202824,"reputation":23,"user_id":14818075,"display_name":"Abed"},"score":0,"creation_date":1636363878,"post_id":69880957,"comment_id":123527149,"body_markdown":"what is wrong with the recycler view? \nits working fine without the cliclistener , im beginner i have not worked with this before :/","body":"what is wrong with the recycler view?  its working fine without the cliclistener , im beginner i have not worked with this before :/"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636363073,"creation_date":1636363073,"answer_id":69881114,"question_id":69880957,"body_markdown":"thats not a problem with `Activity` or `Fragment`, your `RecView` takes `RecyclerViewClickListener` as second parameter, make your `Fragment` implements this interface just like `Activity` does","title":"RecyclerView OnclickListener in a fragment","body":"<p>thats not a problem with <code>Activity</code> or <code>Fragment</code>, your <code>RecView</code> takes <code>RecyclerViewClickListener</code> as second parameter, make your <code>Fragment</code> implements this interface just like <code>Activity</code> does</p>\n"}],"owner":{"account_id":20202824,"reputation":23,"user_id":14818075,"display_name":"Abed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69881114,"answer_count":1,"score":0,"last_activity_date":1636364069,"creation_date":1636362325,"question_id":69880957,"body_markdown":"I&#39;m trying to set a click listener on a recyclyerView in a fragment i dont know how to call the activity in the fragment all i know is parsing the context in constructor , but clickListener havent dont this before , i tried but its not working at all \r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class RecView extends RecyclerView.Adapter&lt;RecView .SuggestedViewHolder&gt;\r\n    {\r\n        ArrayList&lt;SuggestedModel&gt; suggestedModels;\r\n        final private RecyclerViewClickListener clickListener;\r\n    \r\n        public RecView(ArrayList&lt;SuggestedModel&gt; suggestedModels_items, RecyclerViewClickListener clickListener)\r\n        {\r\n            this.suggestedModels_items = suggestedModels_items;\r\n            this.clickListener = clickListener;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull SuggestedViewHolder holder, int position)\r\n        {\r\n            SuggestedModel suggestedModel=suggestedModels.get(position);\r\n            holder.image.setImageResource(suggestedModel.getImage());\r\n            holder.title.setText(suggestedModel.getTitle());\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public SuggestedViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n        {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.custom_recview_suggested_item,parent,false);\r\n            final SuggestedViewHolder suggestedViewHolder = new SuggestedViewHolder(view);\r\n            return suggestedViewHolder;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int getItemCount()\r\n        {\r\n            return suggestedModels.size();\r\n        }\r\n    \r\n        public class SuggestedViewHolder extends RecyclerView.ViewHolder\r\n        {\r\n    \r\n            CircleImageView image;\r\n            TextView title;\r\n    \r\n            public SuggestedViewHolder(@NonNull View itemView)\r\n            {\r\n                super(itemView);\r\n                image = itemView.findViewById(R.id.suggestedImage);\r\n                title = itemView.findViewById(R.id.suggestedTitle);\r\n            }\r\n        }\r\n    \r\n    \r\n    //////////\r\n    \r\n    this is what i called in the fragment \r\n    \r\n       \r\n    \r\n        private void getSuggestedData()\r\n        {\r\n    \r\n            rec_TopMost.setHasFixedSize(true);\r\n            rec_TopMost.setLayoutManager(new LinearLayoutManager(getActivity(),LinearLayoutManager.HORIZONTAL,false));\r\n            suggestedModels.add(new SuggestedModel(R.drawable.s1,&quot;Movie1&quot;));\r\n            suggestedModels.add(new SuggestedModel(R.drawable.s2,&quot;Movie2&quot;));\r\n            suggestedModels.add(new SuggestedModel(R.drawable.s3,&quot;Movie3&quot;));\r\n            suggestedModels.add(new SuggestedModel(R.drawable.s4,&quot;Movie4&quot;));\r\n            suggestedModels.add(new SuggestedModel(R.drawable.s5,&quot;Movie5&quot;));\r\n            suggestedModels.add(new SuggestedModel(R.drawable.s6,&quot;Movie6&quot;));\r\n            suggestedModels.add(new SuggestedModel(R.drawable.s7,&quot;Movie7&quot;));\r\n            suggestedModels.add(new SuggestedModel(R.drawable.s8,&quot;Movie8&quot;));\r\n            suggestedModels.add(new SuggestedModel(R.drawable.s9,&quot;Movie9&quot;));\r\n    \r\n            RecView= new RecView( suggestedModel,(RecyclerViewClickListener) getContext());\r\n            rec_TopMost.setAdapter(RecView);\r\n    \r\n        }\r\n\r\nhow am i supposed to do this i tried man things it doesnt work \r\n\r\n    {\r\n    \r\n        RecView= new RecView( suggestedModels,  getContext());\r\n                rec_TopMost.setAdapter(RecView);\r\n    }\r\n\r\nif i do this it shows red line. under getContext();","title":"RecyclerView OnclickListener in a fragment","body":"<p>I'm trying to set a click listener on a recyclyerView in a fragment i dont know how to call the activity in the fragment all i know is parsing the context in constructor , but clickListener havent dont this before , i tried but its not working at all</p>\n<pre><code>public class RecView extends RecyclerView.Adapter&lt;RecView .SuggestedViewHolder&gt;\n{\n    ArrayList&lt;SuggestedModel&gt; suggestedModels;\n    final private RecyclerViewClickListener clickListener;\n\n    public RecView(ArrayList&lt;SuggestedModel&gt; suggestedModels_items, RecyclerViewClickListener clickListener)\n    {\n        this.suggestedModels_items = suggestedModels_items;\n        this.clickListener = clickListener;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull SuggestedViewHolder holder, int position)\n    {\n        SuggestedModel suggestedModel=suggestedModels.get(position);\n        holder.image.setImageResource(suggestedModel.getImage());\n        holder.title.setText(suggestedModel.getTitle());\n    }\n\n    @NonNull\n    @Override\n    public SuggestedViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n    {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.custom_recview_suggested_item,parent,false);\n        final SuggestedViewHolder suggestedViewHolder = new SuggestedViewHolder(view);\n        return suggestedViewHolder;\n    }\n\n\n    @Override\n    public int getItemCount()\n    {\n        return suggestedModels.size();\n    }\n\n    public class SuggestedViewHolder extends RecyclerView.ViewHolder\n    {\n\n        CircleImageView image;\n        TextView title;\n\n        public SuggestedViewHolder(@NonNull View itemView)\n        {\n            super(itemView);\n            image = itemView.findViewById(R.id.suggestedImage);\n            title = itemView.findViewById(R.id.suggestedTitle);\n        }\n    }\n\n\n//////////\n\nthis is what i called in the fragment \n\n   \n\n    private void getSuggestedData()\n    {\n\n        rec_TopMost.setHasFixedSize(true);\n        rec_TopMost.setLayoutManager(new LinearLayoutManager(getActivity(),LinearLayoutManager.HORIZONTAL,false));\n        suggestedModels.add(new SuggestedModel(R.drawable.s1,&quot;Movie1&quot;));\n        suggestedModels.add(new SuggestedModel(R.drawable.s2,&quot;Movie2&quot;));\n        suggestedModels.add(new SuggestedModel(R.drawable.s3,&quot;Movie3&quot;));\n        suggestedModels.add(new SuggestedModel(R.drawable.s4,&quot;Movie4&quot;));\n        suggestedModels.add(new SuggestedModel(R.drawable.s5,&quot;Movie5&quot;));\n        suggestedModels.add(new SuggestedModel(R.drawable.s6,&quot;Movie6&quot;));\n        suggestedModels.add(new SuggestedModel(R.drawable.s7,&quot;Movie7&quot;));\n        suggestedModels.add(new SuggestedModel(R.drawable.s8,&quot;Movie8&quot;));\n        suggestedModels.add(new SuggestedModel(R.drawable.s9,&quot;Movie9&quot;));\n\n        RecView= new RecView( suggestedModel,(RecyclerViewClickListener) getContext());\n        rec_TopMost.setAdapter(RecView);\n\n    }\n</code></pre>\n<p>how am i supposed to do this i tried man things it doesnt work</p>\n<pre><code>{\n\n    RecView= new RecView( suggestedModels,  getContext());\n            rec_TopMost.setAdapter(RecView);\n}\n</code></pre>\n<p>if i do this it shows red line. under getContext();</p>\n"},{"tags":["java","android","performance","signalr"],"comments":[{"owner":{"account_id":3005837,"reputation":5552,"user_id":2550406,"accept_rate":88,"display_name":"lucidbrot"},"score":0,"creation_date":1636364007,"post_id":69881248,"comment_id":123527195,"body_markdown":"There seem to be alternatives that don&#39;t require a play service. I don&#39;t know SignalR at all, maybe it is one of them. But it sounds to me like you are constantly polling for notifications, which is not ideal at all. See [here](https://stackoverflow.com/questions/21336808/is-it-possible-to-use-gcm-without-google-account-and-google-play-services-on-the)","body":"There seem to be alternatives that don&#39;t require a play service. I don&#39;t know SignalR at all, maybe it is one of them. But it sounds to me like you are constantly polling for notifications, which is not ideal at all. See <a href=\"https://stackoverflow.com/questions/21336808/is-it-possible-to-use-gcm-without-google-account-and-google-play-services-on-the\">here</a>"},{"owner":{"account_id":15049913,"reputation":89,"user_id":10861892,"display_name":"Ami Bidar"},"score":0,"creation_date":1636364203,"post_id":69881248,"comment_id":123527279,"body_markdown":"Well , SignalR will choose what is the best way to communicate with clients , long-polling , Web Socket, SSE are options and I don&#39;t have control over that ,","body":"Well , SignalR will choose what is the best way to communicate with clients , long-polling , Web Socket, SSE are options and I don&#39;t have control over that ,"},{"owner":{"account_id":22372966,"reputation":2618,"user_id":16587746,"display_name":"eglease"},"score":0,"creation_date":1636378955,"post_id":69881248,"comment_id":123533232,"body_markdown":"How much and what kind of data is being sent over SignalR?  If it is just small data, check the SignalR log/trace to see if there are constant reconnects and disconnects due to bad connection.  You may need to add something on the client to retry connection more slowly with a larger delay in betweeen.","body":"How much and what kind of data is being sent over SignalR?  If it is just small data, check the SignalR log/trace to see if there are constant reconnects and disconnects due to bad connection.  You may need to add something on the client to retry connection more slowly with a larger delay in betweeen."},{"owner":{"account_id":15049913,"reputation":89,"user_id":10861892,"display_name":"Ami Bidar"},"score":0,"creation_date":1636439475,"post_id":69881248,"comment_id":123550180,"body_markdown":"size of messages are small , not more than 50 characters per message , and I also added a 10 second  delay for reconnecting to hub , so if there is a problem( which is unlikely) , there is always a delay for it","body":"size of messages are small , not more than 50 characters per message , and I also added a 10 second  delay for reconnecting to hub , so if there is a problem( which is unlikely) , there is always a delay for it"},{"owner":{"account_id":22372966,"reputation":2618,"user_id":16587746,"display_name":"eglease"},"score":0,"creation_date":1636470712,"post_id":69881248,"comment_id":123562441,"body_markdown":"Run a SignalR trace to see if SignalR is sending a lot of reconnect messages.  I don&#39;t really see how this could cause a 30 GB usage.  Can you reproduce the issue?","body":"Run a SignalR trace to see if SignalR is sending a lot of reconnect messages.  I don&#39;t really see how this could cause a 30 GB usage.  Can you reproduce the issue?"},{"owner":{"account_id":15049913,"reputation":89,"user_id":10861892,"display_name":"Ami Bidar"},"score":0,"creation_date":1636532763,"post_id":69881248,"comment_id":123579262,"body_markdown":"I&#39;m afraid I can&#39;t , only one user sent me this and I don&#39;t really know how that can happen","body":"I&#39;m afraid I can&#39;t , only one user sent me this and I don&#39;t really know how that can happen"}],"owner":{"account_id":15049913,"reputation":89,"user_id":10861892,"display_name":"Ami Bidar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1636363779,"creation_date":1636363779,"question_id":69881248,"body_markdown":"a while ago I needed to implement a feature where user could get notification , even when app is closed and user had no GooglePlay services on his phone , well after sometime , I could implement this feature using workmanager and SignalR .\r\nBut now I have another problem , one of my app users sent me a screenshot where my app used 30GB of his CelluarData and Wifi in background ,well that was alot , So I started searching and I was unable to find anything useful? is there any way I can do this?","title":"SignalR used 30Gigabyte of user CelluarData and Wifi , how to reduce it?","body":"<p>a while ago I needed to implement a feature where user could get notification , even when app is closed and user had no GooglePlay services on his phone , well after sometime , I could implement this feature using workmanager and SignalR .\nBut now I have another problem , one of my app users sent me a screenshot where my app used 30GB of his CelluarData and Wifi in background ,well that was alot , So I started searching and I was unable to find anything useful? is there any way I can do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1636362712,"post_id":69881023,"comment_id":123526731,"body_markdown":"you shouldn&#39;t. this should be a condition, not an exception","body":"you shouldn&#39;t. this should be a condition, not an exception"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1636362803,"post_id":69881023,"comment_id":123526768,"body_markdown":"@Stultuske Why not?","body":"@Stultuske Why not?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1636362867,"post_id":69881023,"comment_id":123526791,"body_markdown":"`if (notInRange()) throw new IllegalArgumentException(&quot;Argument is not in range&quot;);`","body":"<code>if (notInRange()) throw new IllegalArgumentException(&quot;Argument is not in range&quot;);</code>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1636362955,"post_id":69881023,"comment_id":123526820,"body_markdown":"What&#39;s the purpose of an exception? An exception is a way of having a method tell the caller of that method that something went wrong. This application doesn&#39;t involve a method. Exceptions are not things that should be presented to an end user.","body":"What&#39;s the purpose of an exception? An exception is a way of having a method tell the caller of that method that something went wrong. This application doesn&#39;t involve a method. Exceptions are not things that should be presented to an end user."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1636366499,"post_id":69881023,"comment_id":123528225,"body_markdown":"@m0skit0 exceptions should be thrown because of &quot;exceptional&quot; occurences. Somebody entering a number when asked to enter a number, is not an exceptional occurence. Even if you follow your logic, you still need the condition. Why not just: correct = false; while (!correct ) number = input(); correct = validateInput(correct); if (!correct) print &quot;provide valid input&quot;;","body":"@m0skit0 exceptions should be thrown because of &quot;exceptional&quot; occurences. Somebody entering a number when asked to enter a number, is not an exceptional occurence. Even if you follow your logic, you still need the condition. Why not just: correct = false; while (!correct ) number = input(); correct = validateInput(correct); if (!correct) print &quot;provide valid input&quot;;"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1636368654,"post_id":69881023,"comment_id":123529072,"body_markdown":"@Stultuske Despite their name, exceptions are not for exceptional cases. In fact `nextInt()` is throwing an exception already. Exceptions are a mechanism for [indicating conditions that a reasonable application might want to catch](https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html).","body":"@Stultuske Despite their name, exceptions are not for exceptional cases. In fact <code>nextInt()</code> is throwing an exception already. Exceptions are a mechanism for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html\" rel=\"nofollow noreferrer\">indicating conditions that a reasonable application might want to catch</a>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1636372974,"post_id":69881023,"comment_id":123530631,"body_markdown":"@m0skit0 and why would an application &quot;want to catch that&quot;? Exceptions are to indicate something unforeseen has happened that causes a problem. Something like this is not &#39;unforeseen&#39;, nor should it be treated as such.","body":"@m0skit0 and why would an application &quot;want to catch that&quot;? Exceptions are to indicate something unforeseen has happened that causes a problem. Something like this is not &#39;unforeseen&#39;, nor should it be treated as such."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1636376961,"post_id":69881023,"comment_id":123532334,"body_markdown":"@Stultuske The same way it catches InputMismatchException. Makes sense to just add that to the catch block. In any case this might be a requirement for a homework for practicing how to throw and catch your own exceptions. That said, I personally would not throw an exception, although I don&#39;t see it as a bad practice in this case.","body":"@Stultuske The same way it catches InputMismatchException. Makes sense to just add that to the catch block. In any case this might be a requirement for a homework for practicing how to throw and catch your own exceptions. That said, I personally would not throw an exception, although I don&#39;t see it as a bad practice in this case."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1636377067,"post_id":69881023,"comment_id":123532376,"body_markdown":"@m0skit0 I didn&#39;t say &quot;how&quot;, I said &quot;why&quot;, there&#39;s a difference. There&#39;s no need at all to use an exception here. Just use a simple condition, the same you&#39;ll need to use if you want to throw an Exception, and you&#39;re done","body":"@m0skit0 I didn&#39;t say &quot;how&quot;, I said &quot;why&quot;, there&#39;s a difference. There&#39;s no need at all to use an exception here. Just use a simple condition, the same you&#39;ll need to use if you want to throw an Exception, and you&#39;re done"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1636377110,"post_id":69881023,"comment_id":123532401,"body_markdown":"@Stultuske I&#39;m answering why, not how.","body":"@Stultuske I&#39;m answering why, not how."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636363126,"creation_date":1636363126,"answer_id":69881126,"question_id":69881023,"body_markdown":"So in order to throw an exception from your code, you need to do this ...\r\n```\r\n if(input &gt; answer) {\r\n  ...\r\n  throw new IllegalArgumentException(&quot;Argument is too big&quot;);\r\n  ...\r\n } else if (input &lt; answer) {\r\n   ...\r\n  throw new IllegalArgumentException(&quot;Argument is too small&quot;);\r\n\r\n  ...\r\n  } else {\r\n  ...\r\n  } \r\n```","title":"How to make a exception that inform the user that the number they input is out of range?","body":"<p>So in order to throw an exception from your code, you need to do this ...</p>\n<pre><code> if(input &gt; answer) {\n  ...\n  throw new IllegalArgumentException(&quot;Argument is too big&quot;);\n  ...\n } else if (input &lt; answer) {\n   ...\n  throw new IllegalArgumentException(&quot;Argument is too small&quot;);\n\n  ...\n  } else {\n  ...\n  } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636363164,"creation_date":1636363164,"answer_id":69881135,"question_id":69881023,"body_markdown":"I think it is very important that you know that you can create your own `Exception` classes that have their specific messages and uses.\r\n\r\nFor example: \r\n\r\n```java\r\npublic class NumberTooHighException extends Exception { \r\n    public NumberTooHighException() {\r\n        super(&quot;The number inputted is wayyyy to high...&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd then you can use your `Exception` as any other:\r\n\r\n```java\r\nif(input &gt; 50)\r\n{\r\n    throw new NumberTooHighException(); // Here you throw it...\r\n}\r\n```\r\n\r\nAnd if you wanna `catch` it, you wrap your code in a `try-catch` block. More on that [here][1].\r\n\r\nBut as the comments hint:\r\n\r\n&gt; An exception is a way of having a method tell the caller of that\r\n&gt; method that something went wrong\r\n\r\nSo try to avoid using them for specific use cases (as this one for example). Even though yours is homework/schoolwork.\r\n\r\n\r\n  [1]: https://www.javatpoint.com/try-catch-block","title":"How to make a exception that inform the user that the number they input is out of range?","body":"<p>I think it is very important that you know that you can create your own <code>Exception</code> classes that have their specific messages and uses.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NumberTooHighException extends Exception { \n    public NumberTooHighException() {\n        super(&quot;The number inputted is wayyyy to high...&quot;);\n    }\n}\n</code></pre>\n<p>And then you can use your <code>Exception</code> as any other:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(input &gt; 50)\n{\n    throw new NumberTooHighException(); // Here you throw it...\n}\n</code></pre>\n<p>And if you wanna <code>catch</code> it, you wrap your code in a <code>try-catch</code> block. More on that <a href=\"https://www.javatpoint.com/try-catch-block\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>But as the comments hint:</p>\n<blockquote>\n<p>An exception is a way of having a method tell the caller of that\nmethod that something went wrong</p>\n</blockquote>\n<p>So try to avoid using them for specific use cases (as this one for example). Even though yours is homework/schoolwork.</p>\n"},{"tags":[],"owner":{"account_id":12714208,"reputation":49,"user_id":9236852,"display_name":"hani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636363635,"creation_date":1636363635,"answer_id":69881221,"question_id":69881023,"body_markdown":"   public static void main(String[] args) {\r\n\r\n            Scanner scan = new Scanner(System.in);\r\n\r\n            int answer = 28;\r\n            int attempts = 0;\r\n            int maxNumber = 50;\r\n            boolean condition = false;\r\n\r\n            System.out.println(&quot;Guess a Number 1 - 50:&quot;);\r\n\r\n            do {\r\n                condition = true;\r\n                try {\r\n                    int input = scan.nextInt();\r\n                    scan.nextLine();\r\n\r\n                    if (input &gt; maxNumber){\r\n                        throw new InputMismatchException();\r\n                    }else if(input &gt; answer) {\r\n                        System.out.println(&quot;Too Big&quot;);\r\n                        System.out.println(); //Spacing\r\n                        System.out.println(&quot;Guess a Number 1 - 50:&quot;);\r\n                        attempts++;\r\n                    } else if (input &lt; answer) {\r\n                        System.out.println(&quot;Too Small&quot;);\r\n                        System.out.println(); //Spacing\r\n                        System.out.println(&quot;Guess a Number 1 - 50:&quot;);\r\n                        attempts++;\r\n                    } else {\r\n                        int totalA = attempts + 1;\r\n                        System.out.println(); //Spacing\r\n                        System.out.println(&quot;Congratulations! &quot;+ &quot;You attempted &quot; + totalA + &quot; times.&quot; );\r\n                    }\r\n\r\n                } catch (InputMismatchException e) {\r\n                    System.out.println(&quot;Numbers only&quot;);\r\n                    System.out.println(); //Spacing\r\n                    System.out.println(&quot;Guess a Number 1 - 50:&quot;);\r\n                    condition = true;\r\n                    scan.nextLine();\r\n                }\r\n\r\n            } while(condition);\r\n\r\n\r\n\r\n        }\r\n","title":"How to make a exception that inform the user that the number they input is out of range?","body":"<p>public static void main(String[] args) {</p>\n<pre><code>        Scanner scan = new Scanner(System.in);\n\n        int answer = 28;\n        int attempts = 0;\n        int maxNumber = 50;\n        boolean condition = false;\n\n        System.out.println(&quot;Guess a Number 1 - 50:&quot;);\n\n        do {\n            condition = true;\n            try {\n                int input = scan.nextInt();\n                scan.nextLine();\n\n                if (input &gt; maxNumber){\n                    throw new InputMismatchException();\n                }else if(input &gt; answer) {\n                    System.out.println(&quot;Too Big&quot;);\n                    System.out.println(); //Spacing\n                    System.out.println(&quot;Guess a Number 1 - 50:&quot;);\n                    attempts++;\n                } else if (input &lt; answer) {\n                    System.out.println(&quot;Too Small&quot;);\n                    System.out.println(); //Spacing\n                    System.out.println(&quot;Guess a Number 1 - 50:&quot;);\n                    attempts++;\n                } else {\n                    int totalA = attempts + 1;\n                    System.out.println(); //Spacing\n                    System.out.println(&quot;Congratulations! &quot;+ &quot;You attempted &quot; + totalA + &quot; times.&quot; );\n                }\n\n            } catch (InputMismatchException e) {\n                System.out.println(&quot;Numbers only&quot;);\n                System.out.println(); //Spacing\n                System.out.println(&quot;Guess a Number 1 - 50:&quot;);\n                condition = true;\n                scan.nextLine();\n            }\n\n        } while(condition);\n\n\n\n    }\n</code></pre>\n"}],"owner":{"account_id":23072726,"reputation":29,"user_id":17186130,"display_name":"Pablo Job"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1636363635,"creation_date":1636362659,"question_id":69881023,"body_markdown":"We were given a task by my teacher that will ask user for an input of an integer 1 to 50, I&#39;ve nearly completed my code but the only thing missing is a catch on informing the user if they input more than 50. Can you help me what is the missing in my code. I&#39;ve read my handouts there is no such thing as an Exception that limiting a certain amount of integer or whatsoever. \r\n\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n\tScanner scan = new Scanner(System.in);\r\n\r\n\tint answer = 28;\r\n\tint attempts = 0;\r\n\tboolean condition = false;\r\n\r\n\tSystem.out.println(&quot;Guess a Number 1 - 50:&quot;);\r\n\t\r\n\tdo {\r\n\t\tcondition = true;\r\n\t\ttry {\r\n\t\t\tint input = scan.nextInt();\r\n\t\t\tscan.nextLine();\r\n\t\t\t\r\n\t\t\tif(input &gt; answer) {\r\n\t\t\t\tSystem.out.println(&quot;Too Big&quot;);\r\n\t\t\t\tSystem.out.println(); //Spacing\r\n\t\t\t\tSystem.out.println(&quot;Guess a Number 1 - 50:&quot;);\r\n\t\t\t\tattempts++;\r\n\t\t\t} else if (input &lt; answer) {\r\n\t\t\t\tSystem.out.println(&quot;Too Small&quot;);\r\n\t\t\t\tSystem.out.println(); //Spacing\r\n\t\t\t\tSystem.out.println(&quot;Guess a Number 1 - 50:&quot;);\r\n\t\t\t\tattempts++;\r\n\t\t\t} else {\r\n\t\t\t\tint totalA = attempts + 1;\r\n\t\t\t\tSystem.out.println(); //Spacing\r\n\t\t\t\tSystem.out.println(&quot;Congratulations! &quot;+ &quot;You attempted &quot; + totalA + &quot; times.&quot; );\r\n\t\t\t} \r\n\t\t\t\r\n\t\t} catch (InputMismatchException e) {\r\n\t\t\tSystem.out.println(&quot;Numbers only&quot;);\r\n\t\t\tSystem.out.println(); //Spacing\r\n\t\t\tSystem.out.println(&quot;Guess a Number 1 - 50:&quot;);\r\n\t\t\tcondition = true;\r\n\t\t\tscan.nextLine();\r\n\t\t} \r\n\t\t\r\n\t} while(condition);\r\n\r\n\r\n\r\n}\r\n```","title":"How to make a exception that inform the user that the number they input is out of range?","body":"<p>We were given a task by my teacher that will ask user for an input of an integer 1 to 50, I've nearly completed my code but the only thing missing is a catch on informing the user if they input more than 50. Can you help me what is the missing in my code. I've read my handouts there is no such thing as an Exception that limiting a certain amount of integer or whatsoever.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    Scanner scan = new Scanner(System.in);\n\n    int answer = 28;\n    int attempts = 0;\n    boolean condition = false;\n\n    System.out.println(&quot;Guess a Number 1 - 50:&quot;);\n    \n    do {\n        condition = true;\n        try {\n            int input = scan.nextInt();\n            scan.nextLine();\n            \n            if(input &gt; answer) {\n                System.out.println(&quot;Too Big&quot;);\n                System.out.println(); //Spacing\n                System.out.println(&quot;Guess a Number 1 - 50:&quot;);\n                attempts++;\n            } else if (input &lt; answer) {\n                System.out.println(&quot;Too Small&quot;);\n                System.out.println(); //Spacing\n                System.out.println(&quot;Guess a Number 1 - 50:&quot;);\n                attempts++;\n            } else {\n                int totalA = attempts + 1;\n                System.out.println(); //Spacing\n                System.out.println(&quot;Congratulations! &quot;+ &quot;You attempted &quot; + totalA + &quot; times.&quot; );\n            } \n            \n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Numbers only&quot;);\n            System.out.println(); //Spacing\n            System.out.println(&quot;Guess a Number 1 - 50:&quot;);\n            condition = true;\n            scan.nextLine();\n        } \n        \n    } while(condition);\n\n\n\n}\n</code></pre>\n"},{"tags":["java","httpclient","apache-httpclient-4.x","single-threaded"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1636362257,"post_id":69880321,"comment_id":123526575,"body_markdown":"Is it expensive for you to create a new Httpclient?","body":"Is it expensive for you to create a new Httpclient?"},{"owner":{"account_id":19176916,"reputation":77,"user_id":14009466,"display_name":"beingumang"},"score":0,"creation_date":1636362413,"post_id":69880321,"comment_id":123526626,"body_markdown":"Yes , I want to use same connection . I do not want to create new Object everytime , I want to hit new API&#39;s.","body":"Yes , I want to use same connection . I do not want to create new Object everytime , I want to hit new API&#39;s."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636363544,"creation_date":1636363544,"answer_id":69881202,"question_id":69880321,"body_markdown":"Well in its simplest terms, you could create it in a static public context:\r\n\r\n    public class MainApplication{\r\n    \r\n        private static BasicHttpClientConnectionManager conMgr = new BasicHttpClientConnectionManager();\r\n        public static CloseableHttpClient closeableHttpClient =  HttpClientBuilder.create().disableAutomaticRetries().useSystemProperties()\r\n                .disableCookieManagement().disableRedirectHandling().setConnectionManager(conMgr).build();\r\n    \r\n    \r\n        public void noneStaticMethodUsingHttpClient() throws IOException {\r\n                closeableHttpClient.close();\r\n        }\r\n    \r\n    }\r\n\r\nThen it is shared across your application, and will only be initialized on your application startup.  \r\n\r\n\r\nHowever, I am not a fan of public static, therefore I will also recommend you look at the Singleton pattern which you can use to wrap your static initialization.\r\n\r\n\r\nhttps://refactoring.guru/design-patterns/singleton\r\n\r\n\r\n\r\n\r\n","title":"How can I reuse same HttpClient Connection in my Single threaded Java Client Application?","body":"<p>Well in its simplest terms, you could create it in a static public context:</p>\n<pre><code>public class MainApplication{\n\n    private static BasicHttpClientConnectionManager conMgr = new BasicHttpClientConnectionManager();\n    public static CloseableHttpClient closeableHttpClient =  HttpClientBuilder.create().disableAutomaticRetries().useSystemProperties()\n            .disableCookieManagement().disableRedirectHandling().setConnectionManager(conMgr).build();\n\n\n    public void noneStaticMethodUsingHttpClient() throws IOException {\n            closeableHttpClient.close();\n    }\n\n}\n</code></pre>\n<p>Then it is shared across your application, and will only be initialized on your application startup.</p>\n<p>However, I am not a fan of public static, therefore I will also recommend you look at the Singleton pattern which you can use to wrap your static initialization.</p>\n<p><a href=\"https://refactoring.guru/design-patterns/singleton\" rel=\"nofollow noreferrer\">https://refactoring.guru/design-patterns/singleton</a></p>\n"}],"owner":{"account_id":19176916,"reputation":77,"user_id":14009466,"display_name":"beingumang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69881202,"answer_count":1,"score":0,"last_activity_date":1636363544,"creation_date":1636359012,"question_id":69880321,"body_markdown":"I am working on one Single threaded java client . It is making One HttpClient connection to hit some API&#39;s. I want to use same connection object to hit another set of API&#39;s after sometime. It is running on single JVM and JVM is running throught the process . Is there anything that Apache provides that I can use to keep that connection object a live and use to hit another set of API&#39;s from it. JVM is running throught the process but once I create a connection object and come second time to hit another API&#39;s it make a new object. I want to use the existing object that I have created earlier. \r\n\r\nI am using the below method to make the HttpClient Connection.\r\n\r\n```\r\npublic static CloseableHttpClient getConnection() {\r\n\t\tBasicHttpClientConnectionManager conMgr = new BasicHttpClientConnectionManager();\r\n\t\tHttpClientBuilder clientBuilder = HttpClientBuilder.create().disableAutomaticRetries().useSystemProperties()\r\n\t\t\t\t.disableCookieManagement().disableRedirectHandling().setConnectionManager(conMgr);\r\n\t\treturn clientBuilder.build();\r\n\t}\r\n```\r\n\r\nIf you know anyway that I can use to reuse this connection object rather than creating new second time .Please Update.\r\n","title":"How can I reuse same HttpClient Connection in my Single threaded Java Client Application?","body":"<p>I am working on one Single threaded java client . It is making One HttpClient connection to hit some API's. I want to use same connection object to hit another set of API's after sometime. It is running on single JVM and JVM is running throught the process . Is there anything that Apache provides that I can use to keep that connection object a live and use to hit another set of API's from it. JVM is running throught the process but once I create a connection object and come second time to hit another API's it make a new object. I want to use the existing object that I have created earlier.</p>\n<p>I am using the below method to make the HttpClient Connection.</p>\n<pre><code>public static CloseableHttpClient getConnection() {\n        BasicHttpClientConnectionManager conMgr = new BasicHttpClientConnectionManager();\n        HttpClientBuilder clientBuilder = HttpClientBuilder.create().disableAutomaticRetries().useSystemProperties()\n                .disableCookieManagement().disableRedirectHandling().setConnectionManager(conMgr);\n        return clientBuilder.build();\n    }\n</code></pre>\n<p>If you know anyway that I can use to reuse this connection object rather than creating new second time .Please Update.</p>\n"},{"tags":["java","arrays","initialization"],"comments":[{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":6,"creation_date":1435649499,"post_id":3426843,"comment_id":50275364,"body_markdown":"Just read the docs ;) http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5","body":"Just read the docs ;) <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.1&zwnj;&#8203;2.5</a>"},{"owner":{"account_id":454024,"reputation":89,"user_id":851340,"accept_rate":12,"display_name":"Rahul Gupta"},"score":0,"creation_date":1621172251,"post_id":3426843,"comment_id":119409364,"body_markdown":"[How to Initialize Array in Java](https://www.tutorialcup.com/java/arrays-in-java.htm)","body":"<a href=\"https://www.tutorialcup.com/java/arrays-in-java.htm\" rel=\"nofollow noreferrer\">How to Initialize Array in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":10,"up_vote_count":333,"is_accepted":true,"score":323,"last_activity_date":1536132389,"creation_date":1281121216,"answer_id":3426854,"question_id":3426843,"body_markdown":"Everything in a Java program not explicitly set to something by the programmer, is initialized to a zero value.  \r\n\r\n* For references (anything that holds an object) that is `null`.\r\n* For int/short/byte/long that is a `0`.\r\n* For float/double that is a `0.0`\r\n* For booleans that is a `false`.\r\n* For char that is the null character `&#39;\\u0000&#39;` (whose decimal equivalent is 0).\r\n\r\nWhen you create an array of something, all entries are also zeroed.  So **your array contains five zeros right after it is created by `new`**.\r\n\r\nNote (based on comments):  The Java Virtual Machine is not required to zero out the underlying memory when allocating local variables (this allows efficient stack operations if needed) so to avoid random values the Java Language Specification requires local variables to be initialized.","title":"What is the default initialization of an array in Java?","body":"<p>Everything in a Java program not explicitly set to something by the programmer, is initialized to a zero value.  </p>\n\n<ul>\n<li>For references (anything that holds an object) that is <code>null</code>.</li>\n<li>For int/short/byte/long that is a <code>0</code>.</li>\n<li>For float/double that is a <code>0.0</code></li>\n<li>For booleans that is a <code>false</code>.</li>\n<li>For char that is the null character <code>'\\u0000'</code> (whose decimal equivalent is 0).</li>\n</ul>\n\n<p>When you create an array of something, all entries are also zeroed.  So <strong>your array contains five zeros right after it is created by <code>new</code></strong>.</p>\n\n<p>Note (based on comments):  The Java Virtual Machine is not required to zero out the underlying memory when allocating local variables (this allows efficient stack operations if needed) so to avoid random values the Java Language Specification requires local variables to be initialized.</p>\n"},{"tags":[],"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1636363487,"creation_date":1281121575,"answer_id":3426906,"question_id":3426843,"body_markdown":"From the [Java Language Specification][1]:\r\n\r\n&gt; * Each class variable, instance variable, or **array component** is initialized with a default value when it is created (&#167;15.9, &#167;15.10):\r\n\r\n&gt;      - For type byte, the default value is zero, that is, the value of `(byte)0`.\r\n     - For type short, the default value is zero, that is, the value of `(short)0`.\r\n     - For type int, the default value is zero, that is, `0`.\r\n     - For type long, the default value is zero, that is, `0L`.\r\n     - For type float, the default value is positive zero, that is, `0.0f`.\r\n     - For type double, the default value is positive zero, that is, `0.0d`.\r\n     - For type char, the default value is the null character, that is, `&#39;\\u0000&#39;`.\r\n     - For type boolean, the default value is `false`.\r\n     - For all reference types (&#167;4.3), the default value is `null`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.5","title":"What is the default initialization of an array in Java?","body":"<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">Java Language Specification</a>:</p>\n<blockquote>\n<ul>\n<li>Each class variable, instance variable, or <strong>array component</strong> is initialized with a default value when it is created (§15.9, §15.10):</li>\n</ul>\n</blockquote>\n<blockquote>\n<pre><code> - For type byte, the default value is zero, that is, the value of `(byte)0`.\n</code></pre>\n</blockquote>\n<pre><code> - For type short, the default value is zero, that is, the value of `(short)0`.\n - For type int, the default value is zero, that is, `0`.\n - For type long, the default value is zero, that is, `0L`.\n - For type float, the default value is positive zero, that is, `0.0f`.\n - For type double, the default value is positive zero, that is, `0.0d`.\n - For type char, the default value is the null character, that is, `'\\u0000'`.\n - For type boolean, the default value is `false`.\n - For all reference types (§4.3), the default value is `null`.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1390306451,"creation_date":1388914681,"answer_id":20932073,"question_id":3426843,"body_markdown":"[JLS][1] clearly says\r\n\r\n**An array initializer creates an array and provides initial values for all its components.** \r\n\r\nand this is irrespective of whether the array is an instance variable or local variable or class variable.\r\n\r\nDefault values for primitive types : [docs][2]\r\n\r\nFor objects default values is `null`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.3\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"What is the default initialization of an array in Java?","body":"<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.3\">JLS</a> clearly says</p>\n\n<p><strong>An array initializer creates an array and provides initial values for all its components.</strong> </p>\n\n<p>and this is irrespective of whether the array is an instance variable or local variable or class variable.</p>\n\n<p>Default values for primitive types : <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\">docs</a></p>\n\n<p>For objects default values is <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":2523937,"reputation":35,"user_id":2193657,"display_name":"Abhishek Singh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1390905352,"creation_date":1390285278,"answer_id":21250647,"question_id":3426843,"body_markdown":"According to java,\r\n\r\n&gt; Data Type\t         -         Default values\r\n&gt; \r\n&gt; byte\t                  -          0\r\n&gt; \r\n&gt; short           \t    -        0\r\n&gt; \r\n&gt; int\t                  -          0\r\n&gt; \r\n&gt; long\t                  -          0L\r\n&gt; \r\n&gt; float\t                 -           0.0f\r\n&gt; \r\n&gt; double\t         -                   0.0d\r\n&gt; \r\n&gt; char\t                    -        &#39;\\u0000&#39;\r\n&gt; \r\n&gt; String (or any object)  \t-    null\r\n&gt; \r\n&gt; boolean\t              -              false\r\n\r\n","title":"What is the default initialization of an array in Java?","body":"<p>According to java,</p>\n\n<blockquote>\n  <p>Data Type          -         Default values</p>\n  \n  <p>byte                    -          0</p>\n  \n  <p>short                 -        0</p>\n  \n  <p>int                     -          0</p>\n  \n  <p>long                    -          0L</p>\n  \n  <p>float                  -           0.0f</p>\n  \n  <p>double             -                   0.0d</p>\n  \n  <p>char                      -        '\\u0000'</p>\n  \n  <p>String (or any object)    -    null</p>\n  \n  <p>boolean                 -              false</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6477680,"reputation":19,"user_id":5015806,"display_name":"RAJIV GUPTA"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1434544749,"creation_date":1434539848,"answer_id":30889991,"question_id":3426843,"body_markdown":"Java says that the default length of a JAVA array at the time of initialization will be 10.\r\n\r\n    private static final int DEFAULT_CAPACITY = 10;\r\n\r\nBut the `size()` method returns the number of inserted elements in the array, and since at the time of initialization, if you have not inserted any element in the array, it will return zero.\r\n\r\n    private int size;\r\n\r\n    public boolean add(E e) {\r\n        ensureCapacityInternal(size + 1);  // Increments modCount!!\r\n        elementData[size++] = e;\r\n        return true;\r\n    }\r\n\r\n    public void add(int index, E element) {\r\n        rangeCheckForAdd(index);\r\n        ensureCapacityInternal(size + 1);  // Increments modCount!!\r\n        System.arraycopy(elementData, index, elementData, index + 1,size - index);\r\n        elementData[index] = element;\r\n        size++;\r\n    }","title":"What is the default initialization of an array in Java?","body":"<p>Java says that the default length of a JAVA array at the time of initialization will be 10.</p>\n\n<pre><code>private static final int DEFAULT_CAPACITY = 10;\n</code></pre>\n\n<p>But the <code>size()</code> method returns the number of inserted elements in the array, and since at the time of initialization, if you have not inserted any element in the array, it will return zero.</p>\n\n<pre><code>private int size;\n\npublic boolean add(E e) {\n    ensureCapacityInternal(size + 1);  // Increments modCount!!\n    elementData[size++] = e;\n    return true;\n}\n\npublic void add(int index, E element) {\n    rangeCheckForAdd(index);\n    ensureCapacityInternal(size + 1);  // Increments modCount!!\n    System.arraycopy(elementData, index, elementData, index + 1,size - index);\n    elementData[index] = element;\n    size++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4859465,"reputation":1850,"user_id":3919542,"accept_rate":46,"display_name":"kkk"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1554227489,"creation_date":1434662010,"answer_id":30925922,"question_id":3426843,"body_markdown":"Every class in Java have a constructor ( a constructor is a method which is called when a new object is created, which initializes the fields of the class variables ). So when you are creating an instance of the class, constructor method is called while creating the object and all the data values are initialized at that time.\r\n\r\nFor object of integer array type all values in the array are initialized to 0(zero) in the constructor method.\r\nSimilarly for object of boolean array, all values are initialized to false. \r\n\r\n&lt;b&gt;So Java is initializing the array by running its constructor method while creating the object&lt;/b&gt;","title":"What is the default initialization of an array in Java?","body":"<p>Every class in Java have a constructor ( a constructor is a method which is called when a new object is created, which initializes the fields of the class variables ). So when you are creating an instance of the class, constructor method is called while creating the object and all the data values are initialized at that time.</p>\n\n<p>For object of integer array type all values in the array are initialized to 0(zero) in the constructor method.\nSimilarly for object of boolean array, all values are initialized to false. </p>\n\n<p><b>So Java is initializing the array by running its constructor method while creating the object</b></p>\n"},{"tags":[],"owner":{"account_id":1049185,"reputation":3599,"user_id":1053496,"accept_rate":41,"display_name":"nantitv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463551883,"creation_date":1463551883,"answer_id":37291583,"question_id":3426843,"body_markdown":"Thorbj&#248;rn Ravn Andersen answered for most of the data types. Since there was a heated discussion about array,\r\n\r\nQuoting from the jls spec http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\r\n&quot;array component is initialized with a default value when it is created&quot;\r\n\r\nI think irrespective of whether array is local or instance or class variable it will with default values","title":"What is the default initialization of an array in Java?","body":"<p>Thorbjørn Ravn Andersen answered for most of the data types. Since there was a heated discussion about array,</p>\n\n<p>Quoting from the jls spec <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5</a>\n\"array component is initialized with a default value when it is created\"</p>\n\n<p>I think irrespective of whether array is local or instance or class variable it will with default values</p>\n"},{"tags":[],"owner":{"account_id":6744132,"reputation":4057,"user_id":5196286,"display_name":"Zgpeace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631076592,"creation_date":1631076592,"answer_id":69097170,"question_id":3426843,"body_markdown":"If you want to initialize the array to different value you can use the `Arrays.fill()` method. This method will help you to set the value for every elements of the array.\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class ArraysFillExample {\r\n        public static void main(String[] args) {\r\n            // Assign -1 to each elements of numbers array\r\n            int[] numbers = new int[5];\r\n            Arrays.fill(numbers, -1);\r\n            System.out.println(&quot;Numbers: &quot; + Arrays.toString(numbers));\r\n    \r\n            // Assign 1.0f to each elements of prices array\r\n            float[] prices = new float[5];\r\n            Arrays.fill(prices, 1.0f);\r\n            System.out.println(&quot;Prices : &quot; + Arrays.toString(prices));\r\n    \r\n            // Assign empty string to each elements of words array\r\n            String[] words = new String[5];\r\n            Arrays.fill(words, &quot;&quot;);\r\n            System.out.println(&quot;Words  : &quot; + Arrays.toString(words));\r\n    \r\n            // Assign 9 to each elements of the multi array\r\n            int[][] multi = new int[3][3];\r\n            for (int[] array : multi) {\r\n                Arrays.fill(array, 9);\r\n            }\r\n            System.out.println(&quot;Multi  : &quot; + Arrays.deepToString(multi));\r\n        }\r\n    }\r\n\r\nThe output of the code snippet above are:\r\n\r\n    Numbers: [-1, -1, -1, -1, -1]\r\n    Prices : [1.0, 1.0, 1.0, 1.0, 1.0]\r\n    Words  : [, , , , ]\r\n    Multi  : [[9, 9, 9], [9, 9, 9], [9, 9, 9]]\r\n\r\nref: https://kodejava.org/how-do-i-fill-array-with-non-default-value/\r\n","title":"What is the default initialization of an array in Java?","body":"<p>If you want to initialize the array to different value you can use the <code>Arrays.fill()</code> method. This method will help you to set the value for every elements of the array.</p>\n<pre><code>import java.util.Arrays;\n\npublic class ArraysFillExample {\n    public static void main(String[] args) {\n        // Assign -1 to each elements of numbers array\n        int[] numbers = new int[5];\n        Arrays.fill(numbers, -1);\n        System.out.println(&quot;Numbers: &quot; + Arrays.toString(numbers));\n\n        // Assign 1.0f to each elements of prices array\n        float[] prices = new float[5];\n        Arrays.fill(prices, 1.0f);\n        System.out.println(&quot;Prices : &quot; + Arrays.toString(prices));\n\n        // Assign empty string to each elements of words array\n        String[] words = new String[5];\n        Arrays.fill(words, &quot;&quot;);\n        System.out.println(&quot;Words  : &quot; + Arrays.toString(words));\n\n        // Assign 9 to each elements of the multi array\n        int[][] multi = new int[3][3];\n        for (int[] array : multi) {\n            Arrays.fill(array, 9);\n        }\n        System.out.println(&quot;Multi  : &quot; + Arrays.deepToString(multi));\n    }\n}\n</code></pre>\n<p>The output of the code snippet above are:</p>\n<pre><code>Numbers: [-1, -1, -1, -1, -1]\nPrices : [1.0, 1.0, 1.0, 1.0, 1.0]\nWords  : [, , , , ]\nMulti  : [[9, 9, 9], [9, 9, 9], [9, 9, 9]]\n</code></pre>\n<p>ref: <a href=\"https://kodejava.org/how-do-i-fill-array-with-non-default-value/\" rel=\"nofollow noreferrer\">https://kodejava.org/how-do-i-fill-array-with-non-default-value/</a></p>\n"}],"owner":{"account_id":67278,"reputation":45769,"user_id":196921,"accept_rate":97,"display_name":"Hristo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345814,"favorite_count":0,"down_vote_count":1,"up_vote_count":170,"accepted_answer_id":3426854,"answer_count":8,"score":169,"last_activity_date":1636363487,"creation_date":1281121122,"question_id":3426843,"body_markdown":"So I&#39;m declaring and initializing an int array:\r\n\r\n    static final int UN = 0;\r\n    int[] arr = new int[size];\r\n    for (int i = 0; i &lt; size; i++) {\r\n    \tarr[i] = UN;\r\n    }\r\n\r\nSay I do this instead... \r\n\r\n    int[] arr = new int[5];\r\n    System.out.println(arr[0]);\r\n\r\n... `0` will print to standard out. Also, if I do this:\r\n\r\n    static final int UN = 0;\r\n    int[] arr = new int[5];\r\n    System.out.println(arr[0]==UN);\r\n\r\n... `true` will print to standard out. So how is Java initializing my array by default? Is it safe to assume that the default initialization is setting the array indices to `0` which would mean I don&#39;t have to loop through the array and initialize it? \r\n\r\nThanks.","title":"What is the default initialization of an array in Java?","body":"<p>So I'm declaring and initializing an int array:</p>\n\n<pre><code>static final int UN = 0;\nint[] arr = new int[size];\nfor (int i = 0; i &lt; size; i++) {\n    arr[i] = UN;\n}\n</code></pre>\n\n<p>Say I do this instead... </p>\n\n<pre><code>int[] arr = new int[5];\nSystem.out.println(arr[0]);\n</code></pre>\n\n<p>... <code>0</code> will print to standard out. Also, if I do this:</p>\n\n<pre><code>static final int UN = 0;\nint[] arr = new int[5];\nSystem.out.println(arr[0]==UN);\n</code></pre>\n\n<p>... <code>true</code> will print to standard out. So how is Java initializing my array by default? Is it safe to assume that the default initialization is setting the array indices to <code>0</code> which would mean I don't have to loop through the array and initialize it? </p>\n\n<p>Thanks.</p>\n"},{"tags":["java","jcreator"],"answers":[{"tags":[],"owner":{"account_id":12579912,"reputation":264,"user_id":9150989,"display_name":"Josh H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636363312,"creation_date":1516915443,"answer_id":48452124,"question_id":48450479,"body_markdown":"Your fourth format specifier %-10d.4f is tying to convert a string to a decimal. You would need to use a %s.\r\n\r\nAlso %-10d.4f is an invalid format specifier as it will print &#39;.4f&#39;.\r\n\r\nHere an some more information to help you along: https://dzone.com/articles/java-string-format-examples","title":"about making the spaces between codes like %-10s","body":"<p>Your fourth format specifier %-10d.4f is tying to convert a string to a decimal. You would need to use a %s.</p>\n<p>Also %-10d.4f is an invalid format specifier as it will print '.4f'.</p>\n<p>Here an some more information to help you along: <a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">https://dzone.com/articles/java-string-format-examples</a></p>\n"}],"owner":{"account_id":11868386,"reputation":1,"user_id":8685303,"display_name":"Gyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636363312,"creation_date":1516908476,"question_id":48450479,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class Exercise{\r\n\tpublic static void main(String args[])\r\n    {\r\n\t\tString first,second;\r\n\t\tint share1,share2;\r\n\t\tfloat price1,price2;\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter the type of the first investment: &quot;);\r\n\t\tfirst = input.nextLine();\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter the number of shares purchased: &quot;);\r\n\t\tshare1 = input.nextInt();\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter the share price: &quot;);\r\n\t\tprice1 = input.nextFloat();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\n\\n&quot;);\r\n\t\tinput.nextLine();\r\n\t\tSystem.out.print(&quot;Please enter the type of the second investment: &quot;);\r\n\t\tsecond = input.nextLine();\r\n\t\t\r\n\t\tSystem.out.print(&quot;\\nPlease enter the number of shares purchased: &quot;);\r\n\t\tshare2 = input.nextInt();\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter the share price: &quot;);\r\n\t\tprice2 = input.nextFloat();\r\n\t\t\r\n\t\tSystem.out.println(&quot;=============================\\n\\t\\tInvestment Detail\\n=============================\\n&quot;);\r\n\t\tSystem.out.println(&quot;Investment Type          # Shares   Share Price\\n--------------           --------   ----------\\n&quot;);\r\n\t\r\n\t\t\t\r\n\t\tString formatString = String.format(&quot;%-20s%-10d.4f\\n%-20s%-10d.4f\\n&quot;,first,share1,price1,second,share2,price2);\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nI wanted to get spaces between codes to look good.When I had compiled these \r\ncodes, it did not work.\r\nPlease Let me know what codes I should correct to get the result I want.\r\n\r\nWhen I compiled,I got these errors below. \r\n\r\nThis question is a first question.So I would not follow the rules noticed from this website when I post those codes.   \r\n    \r\n    Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: \r\n        d != java.lang.String\r\n        at java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4302)\r\n        at java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2793)\r\n        at java.util.Formatter$FormatSpecifier.print(Formatter.java:2747)\r\n        at java.util.Formatter.format(Formatter.java:2520)\r\n        at java.util.Formatter.format(Formatter.java:2455)\r\n        at java.lang.String.format(String.java:2940)\r\n        at Exercise.main(Exercise.java:37)\r\n ","title":"about making the spaces between codes like %-10s","body":"<pre><code>import java.util.Scanner;\n\npublic class Exercise{\npublic static void main(String args[])\n{\n    String first,second;\n    int share1,share2;\n    float price1,price2;\n\n    Scanner input = new Scanner(System.in);\n\n    System.out.print(\"Please enter the type of the first investment: \");\n    first = input.nextLine();\n\n    System.out.print(\"Please enter the number of shares purchased: \");\n    share1 = input.nextInt();\n\n    System.out.print(\"Please enter the share price: \");\n    price1 = input.nextFloat();\n\n\n\n    System.out.println(\"\\n\\n\");\n    input.nextLine();\n    System.out.print(\"Please enter the type of the second investment: \");\n    second = input.nextLine();\n\n    System.out.print(\"\\nPlease enter the number of shares purchased: \");\n    share2 = input.nextInt();\n\n    System.out.print(\"Please enter the share price: \");\n    price2 = input.nextFloat();\n\n    System.out.println(\"=============================\\n\\t\\tInvestment Detail\\n=============================\\n\");\n    System.out.println(\"Investment Type          # Shares   Share Price\\n--------------           --------   ----------\\n\");\n\n\n    String formatString = String.format(\"%-20s%-10d.4f\\n%-20s%-10d.4f\\n\",first,share1,price1,second,share2,price2);\n\n    }\n}\n</code></pre>\n\n<p>I wanted to get spaces between codes to look good.When I had compiled these \ncodes, it did not work.\nPlease Let me know what codes I should correct to get the result I want.</p>\n\n<p>When I compiled,I got these errors below. </p>\n\n<p>This question is a first question.So I would not follow the rules noticed from this website when I post those codes.   </p>\n\n<pre><code>Exception in thread \"main\" java.util.IllegalFormatConversionException: \n    d != java.lang.String\n    at java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4302)\n    at java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2793)\n    at java.util.Formatter$FormatSpecifier.print(Formatter.java:2747)\n    at java.util.Formatter.format(Formatter.java:2520)\n    at java.util.Formatter.format(Formatter.java:2455)\n    at java.lang.String.format(String.java:2940)\n    at Exercise.main(Exercise.java:37)\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1628758637,"post_id":68754031,"comment_id":121508556,"body_markdown":"Quote from github: Save QR Code as Image\n\n// Save with location, value, bitmap returned and type of Image(JPG/PNG).\nQRGSaver qrgSaver = new QRGSaver();\nqrgSaver.save(savePath, edtValue.getText().toString().trim(), bitmap, QRGContents.ImageType.IMAGE_JPEG);","body":"Quote from github: Save QR Code as Image  // Save with location, value, bitmap returned and type of Image(JPG/PNG). QRGSaver qrgSaver = new QRGSaver(); qrgSaver.save(savePath, edtValue.getText().toString().trim(), bitmap, QRGContents.ImageType.IMAGE_JPEG);"}],"answers":[{"tags":[],"owner":{"account_id":18364374,"reputation":765,"user_id":13375782,"display_name":"Geek Tanmoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628767524,"creation_date":1628758019,"answer_id":68754259,"question_id":68754031,"body_markdown":"Use this following code for saving the generated bitmap.\r\n\r\nFor Kotlin.\r\n\r\n    private fun saveImage(bitmap:Bitmap):Boolean{\r\n        val saved:Boolean\r\n        val fos:OutputStream\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            val contentValues =  ContentValues()\r\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, System.currentTimeMillis())\r\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;)\r\n            contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;DCIM/&quot; + &quot;QR&quot;)\r\n            val imageUri = contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues)\r\n            fos = contentResolver.openOutputStream(imageUri!!)!!\r\n        } else {\r\n            val imagesDir = Environment.getExternalStoragePublicDirectory(\r\n                    Environment.DIRECTORY_DCIM).toString() + File.separator + &quot;QR&quot;\r\n\r\n            val file = File(imagesDir)\r\n\r\n            if (!file.exists()) {\r\n                file.mkdir()\r\n            }\r\n\r\n            val image = File(imagesDir, &quot;${System.currentTimeMillis()}.png&quot;)\r\n            fos = FileOutputStream(image)\r\n\r\n        }\r\n\r\n        saved = bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos)\r\n        fos.flush()\r\n        fos.close()\r\n        return saved\r\n    }\r\n\r\nFor Java\r\n\r\n    private boolean saveImage(Bitmap bitmap) throws IOException {\r\n        boolean saved;\r\n        OutputStream fos=null;\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            ContentValues contentValues =new  ContentValues();\r\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, System.currentTimeMillis());\r\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\r\n            contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;DCIM/&quot; + &quot;QR&quot;);\r\n            Uri imageUri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n            try {\r\n                fos = getContentResolver().openOutputStream(imageUri);\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            String imagesDir = Environment.getExternalStoragePublicDirectory(\r\n                    Environment.DIRECTORY_DCIM).toString() + File.separator + &quot;QR&quot;;\r\n\r\n            File file =new File(imagesDir);\r\n\r\n            if (!file.exists()) {\r\n                file.mkdir();\r\n            }\r\n\r\n            File image =new File(imagesDir, &quot;${System.currentTimeMillis()}.png&quot;);\r\n            try {\r\n                fos =new FileOutputStream(image);\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        saved = bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n        assert fos != null;\r\n        fos.flush();\r\n        fos.close();\r\n        return saved;\r\n    }","title":"How to add save image in qr code generate in Android Studio?","body":"<p>Use this following code for saving the generated bitmap.</p>\n<p>For Kotlin.</p>\n<pre><code>private fun saveImage(bitmap:Bitmap):Boolean{\n    val saved:Boolean\n    val fos:OutputStream\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        val contentValues =  ContentValues()\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, System.currentTimeMillis())\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;)\n        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;DCIM/&quot; + &quot;QR&quot;)\n        val imageUri = contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues)\n        fos = contentResolver.openOutputStream(imageUri!!)!!\n    } else {\n        val imagesDir = Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_DCIM).toString() + File.separator + &quot;QR&quot;\n\n        val file = File(imagesDir)\n\n        if (!file.exists()) {\n            file.mkdir()\n        }\n\n        val image = File(imagesDir, &quot;${System.currentTimeMillis()}.png&quot;)\n        fos = FileOutputStream(image)\n\n    }\n\n    saved = bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos)\n    fos.flush()\n    fos.close()\n    return saved\n}\n</code></pre>\n<p>For Java</p>\n<pre><code>private boolean saveImage(Bitmap bitmap) throws IOException {\n    boolean saved;\n    OutputStream fos=null;\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        ContentValues contentValues =new  ContentValues();\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, System.currentTimeMillis());\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\n        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;DCIM/&quot; + &quot;QR&quot;);\n        Uri imageUri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n        try {\n            fos = getContentResolver().openOutputStream(imageUri);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    } else {\n        String imagesDir = Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_DCIM).toString() + File.separator + &quot;QR&quot;;\n\n        File file =new File(imagesDir);\n\n        if (!file.exists()) {\n            file.mkdir();\n        }\n\n        File image =new File(imagesDir, &quot;${System.currentTimeMillis()}.png&quot;);\n        try {\n            fos =new FileOutputStream(image);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    saved = bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n    assert fos != null;\n    fos.flush();\n    fos.close();\n    return saved;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13988465,"reputation":67,"user_id":10102991,"display_name":"Proxima Centauri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628763122,"creation_date":1628763122,"answer_id":68755461,"question_id":68754031,"body_markdown":"This has already been explained on [this][1] repo.\r\n\r\n```\r\n// Initializing the QR Encoder with your value to be encoded, type you required and Dimension\r\nQRGEncoder qrgEncoder = new QRGEncoder(inputValue, null, QRGContents.Type.TEXT, smallerDimension);\r\nqrgEncoder.setColorBlack(Color.RED);\r\nqrgEncoder.setColorWhite(Color.BLUE);\r\ntry {\r\n  // Getting QR-Code as Bitmap\r\n  bitmap = qrgEncoder.getBitmap();\r\n  // Setting Bitmap to ImageView\r\n  qrImage.setImageBitmap(bitmap);\r\n} catch (WriterException e) {\r\n  Log.v(TAG, e.toString());\r\n}\r\n```\r\n\r\nSave QR code as image\r\n\r\n```\r\n// Save with location, value, bitmap returned and type of Image(JPG/PNG).\r\nQRGSaver qrgSaver = new QRGSaver();\r\nqrgSaver.save(savePath, edtValue.getText().toString().trim(), bitmap, QRGContents.ImageType.IMAGE_JPEG);\r\n\r\n```\r\n\r\nSave generated QR code to gallery:\r\n\r\n```\r\nprivate String savePath = Environment.getExternalStorageDirectory().getPath() + &quot;/QRCode/&quot;;\r\n\r\nyourButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n                    try {\r\n                        boolean save = new QRGSaver().save(savePath, edtValue.getText().toString().trim(), bitmap, QRGContents.ImageType.IMAGE_JPEG);\r\n                        String result = save ? &quot;Image Saved&quot; : &quot;Image Not Saved&quot;;\r\n                        Toast.makeText(activity, result, Toast.LENGTH_LONG).show();\r\n                        edtValue.setText(null);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                } else {\r\n                    ActivityCompat.requestPermissions(activity, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\r\n                }\r\n            }\r\n        });\r\n\r\n```\r\n\r\nfor more [details][2]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/androidmads/QRGenerator\r\n  [2]: https://github.com/androidmads/QRGenerator/blob/master/app/src/main/java/androidmads/example/MainActivity.java","title":"How to add save image in qr code generate in Android Studio?","body":"<p>This has already been explained on <a href=\"https://github.com/androidmads/QRGenerator\" rel=\"nofollow noreferrer\">this</a> repo.</p>\n<pre><code>// Initializing the QR Encoder with your value to be encoded, type you required and Dimension\nQRGEncoder qrgEncoder = new QRGEncoder(inputValue, null, QRGContents.Type.TEXT, smallerDimension);\nqrgEncoder.setColorBlack(Color.RED);\nqrgEncoder.setColorWhite(Color.BLUE);\ntry {\n  // Getting QR-Code as Bitmap\n  bitmap = qrgEncoder.getBitmap();\n  // Setting Bitmap to ImageView\n  qrImage.setImageBitmap(bitmap);\n} catch (WriterException e) {\n  Log.v(TAG, e.toString());\n}\n</code></pre>\n<p>Save QR code as image</p>\n<pre><code>// Save with location, value, bitmap returned and type of Image(JPG/PNG).\nQRGSaver qrgSaver = new QRGSaver();\nqrgSaver.save(savePath, edtValue.getText().toString().trim(), bitmap, QRGContents.ImageType.IMAGE_JPEG);\n\n</code></pre>\n<p>Save generated QR code to gallery:</p>\n<pre><code>private String savePath = Environment.getExternalStorageDirectory().getPath() + &quot;/QRCode/&quot;;\n\nyourButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n                    try {\n                        boolean save = new QRGSaver().save(savePath, edtValue.getText().toString().trim(), bitmap, QRGContents.ImageType.IMAGE_JPEG);\n                        String result = save ? &quot;Image Saved&quot; : &quot;Image Not Saved&quot;;\n                        Toast.makeText(activity, result, Toast.LENGTH_LONG).show();\n                        edtValue.setText(null);\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                } else {\n                    ActivityCompat.requestPermissions(activity, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\n                }\n            }\n        });\n\n</code></pre>\n<p>for more <a href=\"https://github.com/androidmads/QRGenerator/blob/master/app/src/main/java/androidmads/example/MainActivity.java\" rel=\"nofollow noreferrer\">details</a></p>\n"}],"owner":{"account_id":22443959,"reputation":29,"user_id":16648104,"display_name":"Mr. &#199;ınar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636363125,"creation_date":1628756953,"question_id":68754031,"body_markdown":"I am creating QR Code in Android Studio. I want to save the generated QR Code image to the gallery. However, I could not succeed. Is it possible to save it to the gallery with a save button?\r\n\r\n    \r\n    \r\n```import androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport android.Manifest;\r\nimport android.graphics.Bitmap;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport androidmads.library.qrgenearator.QRGContents;\r\nimport androidmads.library.qrgenearator.QRGEncoder;\r\n\r\n\r\n\r\npublic class GenerateActivity extends AppCompatActivity {\r\n    private Button saveBtn, createBtn;\r\n    private ImageView qrImage;\r\n    private EditText qrValue;\r\n\r\n    public void init() {\r\n        qrValue = findViewById(R.id.qrValue);\r\n        qrImage = findViewById(R.id.qrImage);\r\n        createBtn = findViewById(R.id.createBtn);\r\n        saveBtn = findViewById(R.id.saveBtn);\r\n\r\n    }\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_generate);\r\n        init();\r\n\r\n\r\n        ActivityCompat.requestPermissions(GenerateActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n        ActivityCompat.requestPermissions(GenerateActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 1);\r\n\r\n        createBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String data = qrValue.getText().toString();\r\n                QRGEncoder qrgEncoder = new QRGEncoder(data, null, QRGContents.Type.TEXT, 500);\r\n                Bitmap bitmap = qrgEncoder.getBitmap();\r\n                qrImage.setImageBitmap(bitmap);\r\n    \r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}\r\n```","title":"How to add save image in qr code generate in Android Studio?","body":"<p>I am creating QR Code in Android Studio. I want to save the generated QR Code image to the gallery. However, I could not succeed. Is it possible to save it to the gallery with a save button?</p>\n<pre><code>import androidx.core.app.ActivityCompat;\nimport android.Manifest;\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport androidmads.library.qrgenearator.QRGContents;\nimport androidmads.library.qrgenearator.QRGEncoder;\n\n\n\npublic class GenerateActivity extends AppCompatActivity {\n    private Button saveBtn, createBtn;\n    private ImageView qrImage;\n    private EditText qrValue;\n\n    public void init() {\n        qrValue = findViewById(R.id.qrValue);\n        qrImage = findViewById(R.id.qrImage);\n        createBtn = findViewById(R.id.createBtn);\n        saveBtn = findViewById(R.id.saveBtn);\n\n    }\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_generate);\n        init();\n\n\n        ActivityCompat.requestPermissions(GenerateActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n        ActivityCompat.requestPermissions(GenerateActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 1);\n\n        createBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String data = qrValue.getText().toString();\n                QRGEncoder qrgEncoder = new QRGEncoder(data, null, QRGContents.Type.TEXT, 500);\n                Bitmap bitmap = qrgEncoder.getBitmap();\n                qrImage.setImageBitmap(bitmap);\n    \n            }\n        });\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":19759736,"reputation":86,"user_id":14469197,"display_name":"SamanSepahvand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636363122,"creation_date":1636363122,"answer_id":69881124,"question_id":69879949,"body_markdown":"You must first have the latitude and longitude that you call the dialog to pass the dialog and after the dialogue you can easily use the latitude and longitude effectively and in this case you do not have a problem or you can you have. Use it wherever you want.\r\n\r\n**1 - your custom dialog**\r\n\r\n\r\n    public class ViewDialog extends Dialog {\r\n    Context _context;\r\n\r\n    TextView txtView ;\r\n\r\n    public ViewDialog(Context context) {\r\n        super(context, R.style.DialogStyle);\r\n        this._context=context;\r\n\r\n    }\r\n\r\n\r\n    public void  showDialog(String marketName, LatLng latLng) {\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE); // optional  code\r\n        setContentView(R.layout.modal_view_dialog);\r\n        this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN); // optional  code\r\n\r\n \r\n            txtView=findViewById(R.id.txt_position);  // your textView witch in  your dialog\r\n          txtView.setText(latLng!=null ?  &quot; Latitude:&quot;+latLng.latitude+&quot;  Longitude:&quot;+latLng.longitude   : &quot;latLng is failed !&quot;);\r\n     }\r\n\r\n\r\n     /// another method of dialog with you want to use\r\n\r\n\r\n     }\r\n\r\n\r\n**2-call dialog in your method**\r\n\r\n\r\n\r\n    mMap.setOnMarkerClickListener((new GoogleMap.OnMarkerClickListener() {\r\n        @Override\r\n        public boolean onMarkerClick(@NonNull Marker marker) {\r\n            LatLng latLng = marker.getPosition();\r\n            ViewDialog alert = new ViewDialog(MapsActivity.this);\r\n            alert.showDialog(&quot;New Marker Point&quot;,latLng);\r\n            alert.show();\r\n\r\n\r\n            return false;\r\n        }\r\n    }));\r\n\r\n\r\n","title":"How to display text from one activity to another activity layout?","body":"<p>You must first have the latitude and longitude that you call the dialog to pass the dialog and after the dialogue you can easily use the latitude and longitude effectively and in this case you do not have a problem or you can you have. Use it wherever you want.</p>\n<p><strong>1 - your custom dialog</strong></p>\n<pre><code>public class ViewDialog extends Dialog {\nContext _context;\n\nTextView txtView ;\n\npublic ViewDialog(Context context) {\n    super(context, R.style.DialogStyle);\n    this._context=context;\n\n}\n\n\npublic void  showDialog(String marketName, LatLng latLng) {\n    requestWindowFeature(Window.FEATURE_NO_TITLE); // optional  code\n    setContentView(R.layout.modal_view_dialog);\n    this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN); // optional  code\n\n\n        txtView=findViewById(R.id.txt_position);  // your textView witch in  your dialog\n      txtView.setText(latLng!=null ?  &quot; Latitude:&quot;+latLng.latitude+&quot;  Longitude:&quot;+latLng.longitude   : &quot;latLng is failed !&quot;);\n }\n\n\n /// another method of dialog with you want to use\n\n\n }\n</code></pre>\n<p><strong>2-call dialog in your method</strong></p>\n<pre><code>mMap.setOnMarkerClickListener((new GoogleMap.OnMarkerClickListener() {\n    @Override\n    public boolean onMarkerClick(@NonNull Marker marker) {\n        LatLng latLng = marker.getPosition();\n        ViewDialog alert = new ViewDialog(MapsActivity.this);\n        alert.showDialog(&quot;New Marker Point&quot;,latLng);\n        alert.show();\n\n\n        return false;\n    }\n}));\n</code></pre>\n"}],"owner":{"display_name":"user14568805"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69881124,"answer_count":1,"score":0,"last_activity_date":1636363122,"creation_date":1636356805,"question_id":69879949,"body_markdown":"I am working on a google maps project whereby a user can long press on a specific point on the map to place a marker.  Then when tapping on that marker in brings up a custom dialog window.  All of this works great, but what I need to do is show the Lat and Lng of that marker in the text view of the custom dialog window.\r\n\r\nSo for the custom dialog I have the following:\r\n\r\n     public class CustDialog {\r\n\r\n    public void showDialog(Activity activity, String msg){\r\n        final Dialog dialog = new Dialog(activity);\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        dialog.setCancelable(false);\r\n        dialog.setContentView(R.layout.custom_dialogbox);\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(android.graphics.Color.TRANSPARENT));\r\n\r\n        TextView text = (TextView) dialog.findViewById(R.id.txt_location);\r\n        text.setText(msg);\r\n\r\n        Button dialogBtn_cancel = (Button) dialog.findViewById(R.id.btn_cancel);\r\n        dialogBtn_cancel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n\r\n        Button dialogBtn_okay = (Button) dialog.findViewById(R.id.btn_okay);\r\n        dialogBtn_okay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {,Toast.LENGTH_SHORT).show();\r\n                dialog.cancel();\r\n            }\r\n        });\r\n\r\n        dialog.show();\r\n    }\r\n\r\nThe on the marker click event I have this line of code to display the Custom Dialog window:\r\n\r\n    ViewDialog alert = new ViewDialog();\r\n    alert.showDialog(MapsActivity.this, &quot;New Marker Point&quot;);\r\n\r\nTo get the current position of the marker I added these lines to the marker click event:\r\n\r\n    LatLng latLng = marker.getPosition();\r\n\r\nAnd when I try to add the text view to display the text:\r\n\r\n    TextView txtView = findViewById(R.id.txt_location);\r\n    txtView.setText(&quot;Latitude:&quot; + latLng.latitude);\r\n\r\nSo the full on marker click event will be:\r\n\r\n    mMap.setOnMarkerClickListener((new GoogleMap.OnMarkerClickListener() {\r\n            @Override\r\n            public boolean onMarkerClick(@NonNull Marker marker) {\r\n                LatLng latLng = marker.getPosition();\r\n                ViewDialog alert = new ViewDialog();\r\n                alert.showDialog(MapsActivity.this, &quot;New Marker Point&quot;);\r\n                TextView txtView = findViewById(R.id.txt_position);\r\n                txtView.setText(&quot;Latitude:&quot; + latLng.latitude);\r\n\r\n                return false;\r\n            }\r\n        }));\r\n\r\nI then get the following error:\r\n\r\n    Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n\r\nIs there a way to pass the text from the MapsActivity class to the CustDialog class?\r\n\r\nThanks","title":"How to display text from one activity to another activity layout?","body":"<p>I am working on a google maps project whereby a user can long press on a specific point on the map to place a marker.  Then when tapping on that marker in brings up a custom dialog window.  All of this works great, but what I need to do is show the Lat and Lng of that marker in the text view of the custom dialog window.</p>\n<p>So for the custom dialog I have the following:</p>\n<pre><code> public class CustDialog {\n\npublic void showDialog(Activity activity, String msg){\n    final Dialog dialog = new Dialog(activity);\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    dialog.setCancelable(false);\n    dialog.setContentView(R.layout.custom_dialogbox);\n    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(android.graphics.Color.TRANSPARENT));\n\n    TextView text = (TextView) dialog.findViewById(R.id.txt_location);\n    text.setText(msg);\n\n    Button dialogBtn_cancel = (Button) dialog.findViewById(R.id.btn_cancel);\n    dialogBtn_cancel.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            dialog.dismiss();\n        }\n    });\n\n    Button dialogBtn_okay = (Button) dialog.findViewById(R.id.btn_okay);\n    dialogBtn_okay.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {,Toast.LENGTH_SHORT).show();\n            dialog.cancel();\n        }\n    });\n\n    dialog.show();\n}\n</code></pre>\n<p>The on the marker click event I have this line of code to display the Custom Dialog window:</p>\n<pre><code>ViewDialog alert = new ViewDialog();\nalert.showDialog(MapsActivity.this, &quot;New Marker Point&quot;);\n</code></pre>\n<p>To get the current position of the marker I added these lines to the marker click event:</p>\n<pre><code>LatLng latLng = marker.getPosition();\n</code></pre>\n<p>And when I try to add the text view to display the text:</p>\n<pre><code>TextView txtView = findViewById(R.id.txt_location);\ntxtView.setText(&quot;Latitude:&quot; + latLng.latitude);\n</code></pre>\n<p>So the full on marker click event will be:</p>\n<pre><code>mMap.setOnMarkerClickListener((new GoogleMap.OnMarkerClickListener() {\n        @Override\n        public boolean onMarkerClick(@NonNull Marker marker) {\n            LatLng latLng = marker.getPosition();\n            ViewDialog alert = new ViewDialog();\n            alert.showDialog(MapsActivity.this, &quot;New Marker Point&quot;);\n            TextView txtView = findViewById(R.id.txt_position);\n            txtView.setText(&quot;Latitude:&quot; + latLng.latitude);\n\n            return false;\n        }\n    }));\n</code></pre>\n<p>I then get the following error:</p>\n<pre><code>Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n</code></pre>\n<p>Is there a way to pass the text from the MapsActivity class to the CustDialog class?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin","android-intent","android-orientation"],"comments":[{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":0,"creation_date":1636041690,"post_id":69841945,"comment_id":123457334,"body_markdown":"The whole Activity should be destroyed and recreated from scratch, so the delay cannot be lowered more.","body":"The whole Activity should be destroyed and recreated from scratch, so the delay cannot be lowered more."},{"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"score":0,"creation_date":1636053181,"post_id":69841945,"comment_id":123461888,"body_markdown":"It is a rare behaviour, if the MainActivity does not request orientation the second activity is directly load in landscape without delay.","body":"It is a rare behaviour, if the MainActivity does not request orientation the second activity is directly load in landscape without delay."},{"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"score":0,"creation_date":1636385772,"post_id":69841945,"comment_id":123536171,"body_markdown":"@Addev Has Activity2 always the same orientation with MainActivity? If this is the case you can use  android:screenOrientation=&quot;locked&quot; to Activity2 manifest which locks the orientation to its current rotation (which is the same with MainActivity).","body":"@Addev Has Activity2 always the same orientation with MainActivity? If this is the case you can use  android:screenOrientation=&quot;locked&quot; to Activity2 manifest which locks the orientation to its current rotation (which is the same with MainActivity)."}],"answers":[{"tags":[],"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636107982,"creation_date":1636107982,"answer_id":69851795,"question_id":69841945,"body_markdown":"Found a way to avoid the visual effect, but it is not elegant.\r\n\r\nBy declaring \r\n\r\n    public class Activity2 extends AppCompatActivity {\r\n       ...\r\n    }\r\n    public class Activity2Land extends Activity2 {\r\n       ...\r\n    }\r\n\r\nAnd in the manifest\r\n\r\n        &lt;activity\r\n            android:name=&quot;.Activity2&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Activity2Land&quot;\r\n            android:screenOrientation=&quot;landscape&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\nyou can workaround this issue. But, yes, you need to declare A LOT of activities if you want to support reverse and sensor orientations.\r\n\r\nAny ideas for solving this in a correct way?","title":"Avoid setRequestedOrientation delay","body":"<p>Found a way to avoid the visual effect, but it is not elegant.</p>\n<p>By declaring</p>\n<pre><code>public class Activity2 extends AppCompatActivity {\n   ...\n}\npublic class Activity2Land extends Activity2 {\n   ...\n}\n</code></pre>\n<p>And in the manifest</p>\n<pre><code>    &lt;activity\n        android:name=&quot;.Activity2&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.Activity2Land&quot;\n        android:screenOrientation=&quot;landscape&quot;\n        android:exported=&quot;false&quot; /&gt;\n</code></pre>\n<p>you can workaround this issue. But, yes, you need to declare A LOT of activities if you want to support reverse and sensor orientations.</p>\n<p>Any ideas for solving this in a correct way?</p>\n"}],"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636363012,"creation_date":1636040611,"question_id":69841945,"body_markdown":"I&#39;m experiencing a small undesired effect when trying to set the orientation of my activity:\r\n\r\nI hace two activities: MainActivity and Activity2.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            findViewById(R.id.button).setOnClickListener(v -&gt; startActivity(new Intent(this, Activity2.class)));\r\n        }\r\n    }\r\n\r\n    public class Activity2 extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n        }\r\n    }\r\n\r\nWhen I click the button with the device in portrait (but displaying the MainActivity in landscape) it loads the Activity2 in portrait and takes like 1 second to rotate to landscape.\r\n\r\nHow can I avoid this and load the Activity2 with the correct orientation from the start?\r\n\r\nNote: This is a simplified example. It is not possible to set up the orientation in the manifest since the orientation is not fixed and depends on the user input.\r\n","title":"Avoid setRequestedOrientation delay","body":"<p>I'm experiencing a small undesired effect when trying to set the orientation of my activity:</p>\n<p>I hace two activities: MainActivity and Activity2.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        findViewById(R.id.button).setOnClickListener(v -&gt; startActivity(new Intent(this, Activity2.class)));\n    }\n}\n\npublic class Activity2 extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    }\n}\n</code></pre>\n<p>When I click the button with the device in portrait (but displaying the MainActivity in landscape) it loads the Activity2 in portrait and takes like 1 second to rotate to landscape.</p>\n<p>How can I avoid this and load the Activity2 with the correct orientation from the start?</p>\n<p>Note: This is a simplified example. It is not possible to set up the orientation in the manifest since the orientation is not fixed and depends on the user input.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636362537,"creation_date":1636362537,"answer_id":69881000,"question_id":69880911,"body_markdown":"That&#39;s not quite usual to create a new database for each user. What you should do, is to create a node in the Firebase Realtime Database for each user. Your schema should look like this:\r\n\r\n    Firebase-root\r\n      |\r\n      --- users\r\n           |\r\n           --- $uid\r\n                |\r\n                --- name: &quot;Jin Appsdev&quot;\r\n                |\r\n                --- email: &quot;Jin.Appsdev@email.com&quot;\r\n                |\r\n                --- //Other fields.\r\n\r\nThen you can secure it using my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/54114203/what-rules-to-use-on-firebase-realtimedatabase-to-let-users-register-and-login","title":"I want my users to have there own database and store their data in realtime database android","body":"<p>That's not quite usual to create a new database for each user. What you should do, is to create a node in the Firebase Realtime Database for each user. Your schema should look like this:</p>\n<pre><code>Firebase-root\n  |\n  --- users\n       |\n       --- $uid\n            |\n            --- name: &quot;Jin Appsdev&quot;\n            |\n            --- email: &quot;Jin.Appsdev@email.com&quot;\n            |\n            --- //Other fields.\n</code></pre>\n<p>Then you can secure it using my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/54114203/what-rules-to-use-on-firebase-realtimedatabase-to-let-users-register-and-login\">What rules to use on Firebase-RealtimeDatabase to let users register and login?</a></li>\n</ul>\n"}],"owner":{"account_id":23253143,"reputation":21,"user_id":17340584,"display_name":"Jin Appsdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636362829,"creation_date":1636362106,"question_id":69880911,"body_markdown":"Is it possible for me to let users have different accounts in my Realtime Database, because they don&#39;t like my app as it only shared the same server or database? I want to create something that individual users have their own server in my Firebase. Please give me some tips that I can understand. ","title":"I want my users to have there own database and store their data in realtime database android","body":"<p>Is it possible for me to let users have different accounts in my Realtime Database, because they don't like my app as it only shared the same server or database? I want to create something that individual users have their own server in my Firebase. Please give me some tips that I can understand.</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1636090348,"post_id":69849010,"comment_id":123469306,"body_markdown":"Er, no. The jars are on the classpath ...","body":"Er, no. The jars are on the classpath ..."},{"owner":{"account_id":23228203,"reputation":3,"user_id":17319412,"display_name":"chungpro"},"score":0,"creation_date":1636092336,"post_id":69849010,"comment_id":123469632,"body_markdown":"Must I set classpath to .jar? Or vscode did it when update project? I ask this question because I got an error &quot;package javax.servlet does not exist&quot; when I complie java. Please help me.","body":"Must I set classpath to .jar? Or vscode did it when update project? I ask this question because I got an error &quot;package javax.servlet does not exist&quot; when I complie java. Please help me."},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1636094605,"post_id":69849010,"comment_id":123470020,"body_markdown":"I&#39;ve answered your another question that the another dependency solves your error. Please have a try.","body":"I&#39;ve answered your another question that the another dependency solves your error. Please have a try."}],"owner":{"account_id":23228203,"reputation":3,"user_id":17319412,"display_name":"chungpro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636362681,"creation_date":1636090299,"question_id":69849010,"body_markdown":"I don&#39;t know how importing api work. Does vscode create a system **PATH** to api after I add it to maven dependencies(or library)? Then when compile java, compiler finds `.jar` in system **PATH**. Isn&#39;t it? \r\n&lt;br&gt; Example, in pom.xml:\r\n\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen I update the project, does VSCode create a system PATH to `javax.servlet-api-3.1.0.jar` ? Then I import the servlet in java, the compiler finds it in system PATH. Isn&#39;t it?","title":"Does vscode create a system PATH to api after I add it to dependencies(or library)?","body":"<p>I don't know how importing api work. Does vscode create a system <strong>PATH</strong> to api after I add it to maven dependencies(or library)? Then when compile java, compiler finds <code>.jar</code> in system <strong>PATH</strong>. Isn't it?\n<br> Example, in pom.xml:</p>\n<pre><code> &lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I update the project, does VSCode create a system PATH to <code>javax.servlet-api-3.1.0.jar</code> ? Then I import the servlet in java, the compiler finds it in system PATH. Isn't it?</p>\n"},{"tags":["java","html","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636361433,"creation_date":1636361433,"answer_id":69880774,"question_id":69880127,"body_markdown":"There are a few options for string concatenation in Thymeleaf. See [String concatenation with Thymeleaf][1] for an overview.\r\n\r\nIn this case, you can use something like this:\r\n\r\n```\r\n&lt;td th:text=&quot;|${num} out of ${totalCount}|&quot; /&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.wimdeblauwe.com/blog/2021/01/11/string-concatenation-with-thymeleaf/","title":"how to display 2 spring models in the same html table row using thymeleaf?","body":"<p>There are a few options for string concatenation in Thymeleaf. See <a href=\"https://www.wimdeblauwe.com/blog/2021/01/11/string-concatenation-with-thymeleaf/\" rel=\"nofollow noreferrer\">String concatenation with Thymeleaf</a> for an overview.</p>\n<p>In this case, you can use something like this:</p>\n<pre><code>&lt;td th:text=&quot;|${num} out of ${totalCount}|&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":17335160,"reputation":767,"user_id":12557235,"display_name":"Dean Taler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69880774,"answer_count":1,"score":0,"last_activity_date":1636361433,"creation_date":1636357827,"question_id":69880127,"body_markdown":"I want to display the following row in an html table:\r\n\r\n```&quot;$num out of $totalCount&quot;```\r\n\r\nfor example ```num=5``` and ```totalCount=8```\r\nI want to see in the table ```5 out of 8```\r\n\r\nhere is my code:\r\n```\r\n...\r\n        &lt;tr&gt;\r\n            &lt;td th:text=&quot;${num} out of ${totalCount}&quot; /&gt;\r\n        &lt;/tr&gt;\r\n...\r\n``` \r\nI added ```num``` and ```totalCount``` as models in the controller.\r\n\r\nI am getting the following error:\r\n```\r\nCould not parse as expression: &quot;${num} out of ${totalCount}&quot; \r\n```\r\n\r\nWhat is the right syntax to do so? ","title":"how to display 2 spring models in the same html table row using thymeleaf?","body":"<p>I want to display the following row in an html table:</p>\n<p><code>&quot;$num out of $totalCount&quot;</code></p>\n<p>for example <code>num=5</code> and <code>totalCount=8</code>\nI want to see in the table <code>5 out of 8</code></p>\n<p>here is my code:</p>\n<pre><code>...\n        &lt;tr&gt;\n            &lt;td th:text=&quot;${num} out of ${totalCount}&quot; /&gt;\n        &lt;/tr&gt;\n...\n</code></pre>\n<p>I added <code>num</code> and <code>totalCount</code> as models in the controller.</p>\n<p>I am getting the following error:</p>\n<pre><code>Could not parse as expression: &quot;${num} out of ${totalCount}&quot; \n</code></pre>\n<p>What is the right syntax to do so?</p>\n"},{"tags":["java","generics","serialization","arraylist","hashmap"],"comments":[{"owner":{"account_id":5583238,"reputation":1337,"user_id":4424515,"accept_rate":77,"display_name":"Chol Nhial"},"score":0,"creation_date":1519955377,"post_id":49061565,"comment_id":85128223,"body_markdown":"Perhaps `ArrayList&lt;String&gt;` doesn&#39;t extend `Serializable`?","body":"Perhaps <code>ArrayList&lt;String&gt;</code> doesn&#39;t extend <code>Serializable</code>?"},{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1519956046,"post_id":49061565,"comment_id":85128384,"body_markdown":"Strongly related: [Java nested generic type](https://stackoverflow.com/questions/22806202/java-nested-generic-type)","body":"Strongly related: <a href=\"https://stackoverflow.com/questions/22806202/java-nested-generic-type\">Java nested generic type</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1519956731,"post_id":49061565,"comment_id":85128548,"body_markdown":"The fact that `A` extends (or implements) `B` doesn&#39;t imply that `HashMap&lt;K,A&gt;` extends `HashMap&lt;K,B&gt;`.  After all, a `HashMap&lt;K,B&gt;` is something that you can put a `B` in, but a `HashMap&lt;K,A&gt;` isn&#39;t.  Equivalent questions have been asked before.","body":"The fact that <code>A</code> extends (or implements) <code>B</code> doesn&#39;t imply that <code>HashMap&lt;K,A&gt;</code> extends <code>HashMap&lt;K,B&gt;</code>.  After all, a <code>HashMap&lt;K,B&gt;</code> is something that you can put a <code>B</code> in, but a <code>HashMap&lt;K,A&gt;</code> isn&#39;t.  Equivalent questions have been asked before."}],"answers":[{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636360791,"creation_date":1519955970,"answer_id":49061643,"question_id":49061565,"body_markdown":"Why do you think that it should? A `HashMap&lt;String, Apple&gt;` is never assignable from a `HashMap&lt;String, Orange&gt;` for any possible unequal `Apple` and `Orange`, as long as both `Apple` and `Orange` are not wildcard-types.\r\n\r\nAnd `ArrayList&lt;? extends Serializable&gt;` is not the same thing as `ArrayList&lt;ArrayList&lt;?&gt;&gt;`.\r\n\r\nWhat you probably meant:\r\n\r\n    HashMap&lt;String, ? extends ArrayList&lt;? extends Serializable&gt;&gt; map = \r\n      new HashMap&lt;String, ArrayList&lt;ArrayList&lt;?&gt;&gt;&gt;();\r\n\r\nNow it compiles, because indeed:\r\n\r\n    ? extends Serializable // can be assigned from\r\n              ArrayList&lt;?&gt;\r\n\r\nand \r\n\r\n    ? extends ArrayList&lt;? extends Serializable&gt; // can be assigned from\r\n              ArrayList&lt;          ArrayList&lt;?&gt;&gt;\r\n\r\n","title":"Why is this HashMap declaration using generics wrong?","body":"<p>Why do you think that it should? A <code>HashMap&lt;String, Apple&gt;</code> is never assignable from a <code>HashMap&lt;String, Orange&gt;</code> for any possible unequal <code>Apple</code> and <code>Orange</code>, as long as both <code>Apple</code> and <code>Orange</code> are not wildcard-types.</p>\n<p>And <code>ArrayList&lt;? extends Serializable&gt;</code> is not the same thing as <code>ArrayList&lt;ArrayList&lt;?&gt;&gt;</code>.</p>\n<p>What you probably meant:</p>\n<pre><code>HashMap&lt;String, ? extends ArrayList&lt;? extends Serializable&gt;&gt; map = \n  new HashMap&lt;String, ArrayList&lt;ArrayList&lt;?&gt;&gt;&gt;();\n</code></pre>\n<p>Now it compiles, because indeed:</p>\n<pre><code>? extends Serializable // can be assigned from\n          ArrayList&lt;?&gt;\n</code></pre>\n<p>and</p>\n<pre><code>? extends ArrayList&lt;? extends Serializable&gt; // can be assigned from\n          ArrayList&lt;          ArrayList&lt;?&gt;&gt;\n</code></pre>\n"}],"owner":{"account_id":9161975,"reputation":45,"user_id":6813016,"display_name":" Miy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1519956814,"accepted_answer_id":49061643,"answer_count":1,"score":0,"last_activity_date":1636360791,"creation_date":1519955258,"question_id":49061565,"body_markdown":"    HashMap&lt;String, ArrayList&lt;? extends Serializable&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;ArrayList&gt;&gt;();\r\n\r\n\r\nThis does not compile. To the best of my knowledge on Java Generics, it should. \r\nAnd this: \r\n\r\n    ArrayList&lt;? extends Serializable&gt; c = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n\r\nsuccessfully compiles. \r\n\r\nCan anyone say why the above wouldn&#39;t compile? ","title":"Why is this HashMap declaration using generics wrong?","body":"<pre><code>HashMap&lt;String, ArrayList&lt;? extends Serializable&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;ArrayList&gt;&gt;();\n</code></pre>\n\n<p>This does not compile. To the best of my knowledge on Java Generics, it should. \nAnd this: </p>\n\n<pre><code>ArrayList&lt;? extends Serializable&gt; c = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n</code></pre>\n\n<p>successfully compiles. </p>\n\n<p>Can anyone say why the above wouldn't compile? </p>\n"},{"tags":["java","spring","gradle","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":10902175,"reputation":1269,"user_id":8014145,"display_name":"ipave"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1605181537,"creation_date":1605181068,"answer_id":64803203,"question_id":64802216,"body_markdown":"Not sure how to do it with gradle, but in maven it&#39;ll be like this:\r\n\r\n          &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${openapi.plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;${your-id}&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;skipIfSpecIsUnchanged&gt;true&lt;/skipIfSpecIsUnchanged&gt;\r\n                            &lt;inputSpec&gt;${project.basedir}/swagger.json&lt;/inputSpec&gt;\r\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n                            &lt;library&gt;resttemplate&lt;/library&gt;\r\n                            &lt;apiPackage&gt;your.package&lt;/apiPackage&gt;\r\n                            &lt;modelPackage&gt;your.package&lt;/modelPackage&gt;\r\n                            &lt;generateApis&gt;true&lt;/generateApis&gt;\r\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                            &lt;generateModels&gt;true&lt;/generateModels&gt;\r\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n                            &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n                                &lt;java8&gt;true&lt;/java8&gt;\r\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                                &lt;useTags&gt;true&lt;/useTags&gt;\r\n                                &lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nHopefully will help you.\r\nMaybe the problem is that resttemplate is in spring-web dependency","title":"How to generate resttemplate based on yml file?","body":"<p>Not sure how to do it with gradle, but in maven it'll be like this:</p>\n<pre><code>      &lt;plugin&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${openapi.plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;${your-id}&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;skipIfSpecIsUnchanged&gt;true&lt;/skipIfSpecIsUnchanged&gt;\n                        &lt;inputSpec&gt;${project.basedir}/swagger.json&lt;/inputSpec&gt;\n                        &lt;generatorName&gt;java&lt;/generatorName&gt;\n                        &lt;library&gt;resttemplate&lt;/library&gt;\n                        &lt;apiPackage&gt;your.package&lt;/apiPackage&gt;\n                        &lt;modelPackage&gt;your.package&lt;/modelPackage&gt;\n                        &lt;generateApis&gt;true&lt;/generateApis&gt;\n                        &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                        &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                        &lt;generateModels&gt;true&lt;/generateModels&gt;\n                        &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                        &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                        &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n                        &lt;configOptions&gt;\n                            &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                            &lt;java8&gt;true&lt;/java8&gt;\n                            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                            &lt;useTags&gt;true&lt;/useTags&gt;\n                            &lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Hopefully will help you.\nMaybe the problem is that resttemplate is in spring-web dependency</p>\n"},{"tags":[],"owner":{"account_id":6820381,"reputation":132,"user_id":5247736,"display_name":"Sergiy Uvarov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626439344,"creation_date":1626439344,"answer_id":68409210,"question_id":64802216,"body_markdown":"To use **resttemplate** library, you have to set **generatorName** as &quot;java&quot;\r\n","title":"How to generate resttemplate based on yml file?","body":"<p>To use <strong>resttemplate</strong> library, you have to set <strong>generatorName</strong> as &quot;java&quot;</p>\n"},{"tags":[],"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636360508,"creation_date":1636360508,"answer_id":69880600,"question_id":64802216,"body_markdown":"One solution is to use the `spring` generator that will give you annotated interfaces and classes.\r\n\r\nI [created a library][1] (and [there are others][2]) that, given the annotated interface, will construct a type safe client at runtime.\r\n\r\n    final StoreApi storeApi = SpringRestTemplateClientBuilder\r\n      .create(StoreApi.class)\r\n      .setRestTemplate(restTemplate)\r\n      .setUrl(&quot;https://...&quot;)\r\n      .build();\r\n    \r\n    // This will become a rest-call\r\n    storeApi.deleteOrder(1234L);\r\n\r\n  [1]: https://github.com/tomasbjerre/spring-resttemplate-client\r\n  [2]: https://stackoverflow.com/questions/16512188/how-to-generate-java-client-proxy-for-restful-service-implemented-with-spring/69867494","title":"How to generate resttemplate based on yml file?","body":"<p>One solution is to use the <code>spring</code> generator that will give you annotated interfaces and classes.</p>\n<p>I <a href=\"https://github.com/tomasbjerre/spring-resttemplate-client\" rel=\"nofollow noreferrer\">created a library</a> (and <a href=\"https://stackoverflow.com/questions/16512188/how-to-generate-java-client-proxy-for-restful-service-implemented-with-spring/69867494\">there are others</a>) that, given the annotated interface, will construct a type safe client at runtime.</p>\n<pre><code>final StoreApi storeApi = SpringRestTemplateClientBuilder\n  .create(StoreApi.class)\n  .setRestTemplate(restTemplate)\n  .setUrl(&quot;https://...&quot;)\n  .build();\n\n// This will become a rest-call\nstoreApi.deleteOrder(1234L);\n</code></pre>\n"}],"owner":{"account_id":19943716,"reputation":23,"user_id":14614922,"display_name":"Hakim Zubro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6098,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64803203,"answer_count":3,"score":2,"last_activity_date":1636360508,"creation_date":1605177138,"question_id":64802216,"body_markdown":"I use open openapi-generator-gradle-plugin. This is my build.gradle:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenLocal()\r\n\r\n        jcenter {\r\n            url &quot;http://nexus.ca.sbrf.ru:8081/nexus/content/repositories/jcenter&quot;\r\n        }\r\n        maven {\r\n            url &quot;http://nexus.ca.sbrf.ru:8081/nexus/content/repositories/central&quot;\r\n        }\r\n        maven { url &#39;http://nexus.ca.sbrf.ru:8081/nexus/content/repositories/Atlassian_proxy&#39; }\r\n        maven { url &#39;http://nexus.ca.sbrf.ru:8081/nexus/content/groups/public&#39; }\r\n\r\n        dependencies {\r\n            classpath &#39;org.openapitools:openapi-generator-gradle-plugin:4.3.0&#39;\r\n            classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.1.RELEASE&quot;\r\n            classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.9.RELEASE&quot;\r\n        }\r\n    }\r\n}\r\n\r\n\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;org.openapi.generator&#39;\r\napply plugin: &quot;maven-publish&quot;\r\napply plugin: &quot;io.spring.dependency-management&quot;\r\napply plugin: &quot;org.springframework.boot&quot;\r\n\r\ndependencies {\r\n    compile &#39;org.springframework:spring-context:5.3.0&#39;\r\n    compile &#39;org.springframework:spring-web:4.1.6.RELEASE&#39;\r\n    compile &#39;javax.servlet:javax.servlet-api:4.0.1&#39;\r\n    compile &#39;org.openapitools:jackson-databind-nullable:0.2.1&#39;\r\n    compile &#39;io.swagger:swagger-core:1.5.21&#39;\r\n    compile &#39;javax.annotation:javax.annotation-api:1.3.1&#39;\r\n}\r\n\r\nopenApiGenerate {\r\n    generatorName = &quot;spring&quot;\r\n    library = &quot;resttemplate&quot;\r\n    inputSpec = &quot;$rootDir/openapi-contracts/src/main/resources/openapi/api.yml&quot;.toString()\r\n    outputDir = &quot;$project.buildDir/generated/openapi&quot;\r\n    apiPackage = &quot;ru.openapi.api.v1&quot;\r\n    modelPackage = &quot;ru.openapi.model.v1&quot;\r\n    enablePostProcessFile = true\r\n    configOptions = [\r\n            dateLibrary         : &quot;java8&quot;,\r\n            useBeanValidation   : &quot;true&quot;,\r\n            enableBuilderSupport: &quot;true&quot;,\r\n            interfaceOnly       : &quot;true&quot;,\r\n            delegatePattern     : &quot;true&quot;\r\n    ]\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs &quot;build/generated/openapi/src/main/java&quot;\r\n        }\r\n    }\r\n}\r\n```\r\nThe server code is being generated, everything is fine, but I want the resttemplate to be generated for it.\r\n\r\nFor this I have indicated:\r\n```\r\nlibrary = &quot;resttemplate&quot;\r\n```\r\nI am getting this error:\r\n\r\n&gt; Unknown library: resttemplate\r\n  Available libraries:\r\n    spring-boot\r\n    spring-mvc\r\n    spring-cloud\r\n\r\nHow can I solve this problem?\r\n","title":"How to generate resttemplate based on yml file?","body":"<p>I use open openapi-generator-gradle-plugin. This is my build.gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n\n        jcenter {\n            url &quot;http://nexus.ca.sbrf.ru:8081/nexus/content/repositories/jcenter&quot;\n        }\n        maven {\n            url &quot;http://nexus.ca.sbrf.ru:8081/nexus/content/repositories/central&quot;\n        }\n        maven { url 'http://nexus.ca.sbrf.ru:8081/nexus/content/repositories/Atlassian_proxy' }\n        maven { url 'http://nexus.ca.sbrf.ru:8081/nexus/content/groups/public' }\n\n        dependencies {\n            classpath 'org.openapitools:openapi-generator-gradle-plugin:4.3.0'\n            classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.1.RELEASE&quot;\n            classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.9.RELEASE&quot;\n        }\n    }\n}\n\n\napply plugin: 'java'\napply plugin: 'org.openapi.generator'\napply plugin: &quot;maven-publish&quot;\napply plugin: &quot;io.spring.dependency-management&quot;\napply plugin: &quot;org.springframework.boot&quot;\n\ndependencies {\n    compile 'org.springframework:spring-context:5.3.0'\n    compile 'org.springframework:spring-web:4.1.6.RELEASE'\n    compile 'javax.servlet:javax.servlet-api:4.0.1'\n    compile 'org.openapitools:jackson-databind-nullable:0.2.1'\n    compile 'io.swagger:swagger-core:1.5.21'\n    compile 'javax.annotation:javax.annotation-api:1.3.1'\n}\n\nopenApiGenerate {\n    generatorName = &quot;spring&quot;\n    library = &quot;resttemplate&quot;\n    inputSpec = &quot;$rootDir/openapi-contracts/src/main/resources/openapi/api.yml&quot;.toString()\n    outputDir = &quot;$project.buildDir/generated/openapi&quot;\n    apiPackage = &quot;ru.openapi.api.v1&quot;\n    modelPackage = &quot;ru.openapi.model.v1&quot;\n    enablePostProcessFile = true\n    configOptions = [\n            dateLibrary         : &quot;java8&quot;,\n            useBeanValidation   : &quot;true&quot;,\n            enableBuilderSupport: &quot;true&quot;,\n            interfaceOnly       : &quot;true&quot;,\n            delegatePattern     : &quot;true&quot;\n    ]\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs &quot;build/generated/openapi/src/main/java&quot;\n        }\n    }\n}\n</code></pre>\n<p>The server code is being generated, everything is fine, but I want the resttemplate to be generated for it.</p>\n<p>For this I have indicated:</p>\n<pre><code>library = &quot;resttemplate&quot;\n</code></pre>\n<p>I am getting this error:</p>\n<blockquote>\n<p>Unknown library: resttemplate\nAvailable libraries:\nspring-boot\nspring-mvc\nspring-cloud</p>\n</blockquote>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636270246,"creation_date":1636268960,"answer_id":69870431,"question_id":69870218,"body_markdown":"Spring boot 2 has a starter pom for elasticsearch: `spring-boot-starter-data-elasticsearch`, so basically you can add it, and it will automatically import all needed elastic search dependencies without explicit declaration. \r\n\r\nSince you use the Spring Gradle dependency management plugin, you don&#39;t have to specify which version (that goes - BTW -to all the dependencies you&#39;ve mentioned from above).\r\n\r\nAlthough, answering your question `&#39;spring-boot-starter-data-elasticsearch&#39;, version: &#39;2.1.8.RELEASE&#39;` is dependent on `&#39;spring-data-elasticsearch&#39;, version: &#39;3.1.10.RELEASE&#39;`. So `3.1.10.RELEASE` is the one you really need to wire, But again, let Spring boot handle that for you.\r\n\r\nThe obstacle is, that behind the scenes, that version of &#39;spring-data-elasticsearch&#39; uses the **transport client** which is now deprecated. According the reference documentation it will be removed in the future, but still can be used with 7.x installations. This also makes the **rest client** dependencies declaration redundant.\r\n","title":"Spring boot Elasticsearch getting ClassNotFoundException: org.elasticsearch.client.RequestOptions","body":"<p>Spring boot 2 has a starter pom for elasticsearch: <code>spring-boot-starter-data-elasticsearch</code>, so basically you can add it, and it will automatically import all needed elastic search dependencies without explicit declaration.</p>\n<p>Since you use the Spring Gradle dependency management plugin, you don't have to specify which version (that goes - BTW -to all the dependencies you've mentioned from above).</p>\n<p>Although, answering your question <code>'spring-boot-starter-data-elasticsearch', version: '2.1.8.RELEASE'</code> is dependent on <code>'spring-data-elasticsearch', version: '3.1.10.RELEASE'</code>. So <code>3.1.10.RELEASE</code> is the one you really need to wire, But again, let Spring boot handle that for you.</p>\n<p>The obstacle is, that behind the scenes, that version of 'spring-data-elasticsearch' uses the <strong>transport client</strong> which is now deprecated. According the reference documentation it will be removed in the future, but still can be used with 7.x installations. This also makes the <strong>rest client</strong> dependencies declaration redundant.</p>\n"},{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636360468,"creation_date":1636360468,"answer_id":69880592,"question_id":69870218,"body_markdown":"Using same version for all dependencies works\r\n```\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-elasticsearch&#39;, version: &#39;3.2.8.RELEASE&#39;\r\n    implementation group: &#39;org.elasticsearch&#39;, name: &#39;elasticsearch&#39;, version: &#39;6.8.20&#39;\r\n    compile &#39;org.elasticsearch.client:elasticsearch-rest-client:6.8.20&#39;\r\n    implementation group: &#39;org.elasticsearch.client&#39;, name: &#39;elasticsearch-rest-high-level-client&#39;, version: &#39;6.8.20&#39;\r\n\r\n```","title":"Spring boot Elasticsearch getting ClassNotFoundException: org.elasticsearch.client.RequestOptions","body":"<p>Using same version for all dependencies works</p>\n<pre><code>    implementation group: 'org.springframework.data', name: 'spring-data-elasticsearch', version: '3.2.8.RELEASE'\n    implementation group: 'org.elasticsearch', name: 'elasticsearch', version: '6.8.20'\n    compile 'org.elasticsearch.client:elasticsearch-rest-client:6.8.20'\n    implementation group: 'org.elasticsearch.client', name: 'elasticsearch-rest-high-level-client', version: '6.8.20'\n\n</code></pre>\n"}],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1636360468,"creation_date":1636265923,"question_id":69870218,"body_markdown":"I am using spring boot `2.1.8.RELEASE` and must not change the version. Now i am facing problem when i try to use elasticsearch.\r\nAs my version is less than `2.2.0` i have to manually add configure class for ES and add some dependancies.\r\nhere are plugins\r\n```\r\n    id &#39;org.springframework.boot&#39; version &#39;2.1.8.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n```\r\n\r\nand here are dependencies\r\n```\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-elasticsearch&#39;, version: &#39;3.2.8.RELEASE&#39;\r\n    implementation group: &#39;org.elasticsearch&#39;, name: &#39;elasticsearch&#39;, version: &#39;6.8.20&#39;\r\n    compile &#39;org.elasticsearch.client:elasticsearch-rest-client:6.3.2&#39;\r\n    implementation group: &#39;org.elasticsearch.client&#39;, name: &#39;elasticsearch-rest-high-level-client&#39;, version: &#39;6.3.2&#39;\r\n```\r\nBut i am getting this error\r\n```\r\n2021-11-07 12:09:32,321 ERROR [http-nio-8080-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: org/elasticsearch/client/RequestOptions] with root cause\r\njava.lang.ClassNotFoundException: org.elasticsearch.client.RequestOptions\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.index(ElasticsearchRestTemplate.java:703)\r\n\tat org.springframework.data.elasticsearch.repository.support.AbstractElasticsearchRepository.save(AbstractElasticsearchRepository.java:176)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy111.save(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy111.save(Unknown Source)\r\n\tat com.tigerit.nid.votermigrator.services.impl.VoterIgnoreMigrateServiceImpl.sendVoterIgnoreToElastic(VoterIgnoreMigrateServiceImpl.java:37)\r\n\tat com.tigerit.nid.votermigrator.services.impl.VoterIgnoreMigrateServiceImpl.test(VoterIgnoreMigrateServiceImpl.java:29)\r\n\tat com.tigerit.nid.votermigrator.services.impl.VoterIgnoreMigrateServiceImpl$$FastClassBySpringCGLIB$$b4d95ce7.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat com.tigerit.nid.votermigrator.services.impl.VoterIgnoreMigrateServiceImpl$$EnhancerBySpringCGLIB$$7cdf3d5b.test(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nAt first i was using version 7+ but got several class not found exception, so after downgrading to 6 the project runs but while transaction i get the above error.\r\n\r\nAll that i want is just to use ElasticsearchRepository and make some CRUD operations with this 2.1.8 version. What is the right combination of elastic versions?\r\n\r\n","title":"Spring boot Elasticsearch getting ClassNotFoundException: org.elasticsearch.client.RequestOptions","body":"<p>I am using spring boot <code>2.1.8.RELEASE</code> and must not change the version. Now i am facing problem when i try to use elasticsearch.\nAs my version is less than <code>2.2.0</code> i have to manually add configure class for ES and add some dependancies.\nhere are plugins</p>\n<pre><code>    id 'org.springframework.boot' version '2.1.8.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n</code></pre>\n<p>and here are dependencies</p>\n<pre><code>    implementation group: 'org.springframework.data', name: 'spring-data-elasticsearch', version: '3.2.8.RELEASE'\n    implementation group: 'org.elasticsearch', name: 'elasticsearch', version: '6.8.20'\n    compile 'org.elasticsearch.client:elasticsearch-rest-client:6.3.2'\n    implementation group: 'org.elasticsearch.client', name: 'elasticsearch-rest-high-level-client', version: '6.3.2'\n</code></pre>\n<p>But i am getting this error</p>\n<pre><code>2021-11-07 12:09:32,321 ERROR [http-nio-8080-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: org/elasticsearch/client/RequestOptions] with root cause\njava.lang.ClassNotFoundException: org.elasticsearch.client.RequestOptions\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.index(ElasticsearchRestTemplate.java:703)\n    at org.springframework.data.elasticsearch.repository.support.AbstractElasticsearchRepository.save(AbstractElasticsearchRepository.java:176)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy111.save(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy111.save(Unknown Source)\n    at com.tigerit.nid.votermigrator.services.impl.VoterIgnoreMigrateServiceImpl.sendVoterIgnoreToElastic(VoterIgnoreMigrateServiceImpl.java:37)\n    at com.tigerit.nid.votermigrator.services.impl.VoterIgnoreMigrateServiceImpl.test(VoterIgnoreMigrateServiceImpl.java:29)\n    at com.tigerit.nid.votermigrator.services.impl.VoterIgnoreMigrateServiceImpl$$FastClassBySpringCGLIB$$b4d95ce7.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at com.tigerit.nid.votermigrator.services.impl.VoterIgnoreMigrateServiceImpl$$EnhancerBySpringCGLIB$$7cdf3d5b.test(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>At first i was using version 7+ but got several class not found exception, so after downgrading to 6 the project runs but while transaction i get the above error.</p>\n<p>All that i want is just to use ElasticsearchRepository and make some CRUD operations with this 2.1.8 version. What is the right combination of elastic versions?</p>\n"},{"tags":["java","spring-boot","properties","loose-coupling"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636360030,"creation_date":1636360030,"answer_id":69880498,"question_id":69879582,"body_markdown":"You should use multiple `DataSources` in your Spring Boot App.\r\n\r\nThere are several Articles, Tutorials and SO answers that explain this topic.\r\n\r\nFor starters, you add the config of your `datasources` in the `application.properties` file:\r\n\r\n```\r\n# First Database\r\nspring.datasource.url = [url]\r\nspring.datasource.username = [username]\r\nspring.datasource.password = [password]\r\nspring.datasource.driverClassName = oracle.jdbc.OracleDriver\r\n\r\n# Second DB\r\nspring.secondDatasource.url = [url]\r\nspring.secondDatasource.username = [username]\r\nspring.secondDatasource.password = [password]\r\nspring.secondDatasource.driverClassName = [your Other Driver]\r\n\r\n# To let Hibernate autodetect the Dialect\r\nspring.jpa.database=default\r\n```\r\n\r\nThen create config classes for all your `DataSources`:\r\n\r\n```java\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n  entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\r\n  basePackages = { &quot;insert.your.repo.package.here&quot; }\r\n)\r\npublic class FirstDbConfig{\r\n  \r\n  @Primary\r\n  @Bean(name = &quot;dataSource&quot;)\r\n  @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n  public DataSource dataSource() {\r\n    return DataSourceBuilder.create().build();\r\n  }\r\n  \r\n  @Primary\r\n  @Bean(name = &quot;entityManagerFactory&quot;)\r\n  public LocalContainerEntityManagerFactoryBean \r\n  entityManagerFactory(\r\n    EntityManagerFactoryBuilder builder,\r\n    @Qualifier(&quot;dataSource&quot;) DataSource dataSource\r\n  ) {\r\n    return builder\r\n      .dataSource(dataSource)\r\n      .packages(&quot;insert.your.entity.package.here&quot;)\r\n      .persistenceUnit(&quot;firstDB&quot;)\r\n      .build();\r\n  }\r\n    \r\n  @Primary\r\n  @Bean(name = &quot;transactionManager&quot;)\r\n  public PlatformTransactionManager transactionManager(\r\n    @Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory \r\n    entityManagerFactory\r\n  ) {\r\n    return new JpaTransactionManager(entityManagerFactory);\r\n  }\r\n}\r\n```\r\n\r\n\r\nThen another Config class for your second DB:\r\n\r\n```java\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n  entityManagerFactoryRef = &quot;secondEntityManagerFactory&quot;,\r\n  transactionManagerRef = &quot;secondTransactionManager&quot;,\r\n  basePackages = { &quot;path.to.your.second.repo&quot; }\r\n)\r\npublic class SecondDbConfig {\r\n \r\n  @Bean(name = &quot;secondDataSource&quot;)\r\n  @ConfigurationProperties(prefix = &quot;spring.secondDatasource&quot;)\r\n  public DataSource dataSource() {\r\n    return DataSourceBuilder.create().build();\r\n  }\r\n  \r\n  @Bean(name = &quot;secondEntityManagerFactory&quot;)\r\n  public LocalContainerEntityManagerFactoryBean \r\n  barEntityManagerFactory(\r\n    EntityManagerFactoryBuilder builder,\r\n    @Qualifier(&quot;secondDataSource&quot;) DataSource dataSource\r\n  ) {\r\n    return\r\n      builder\r\n        .dataSource(dataSource)\r\n        .packages(&quot;path.to.your.second.entities.package&quot;)\r\n        .persistenceUnit(&quot;secondDB&quot;)\r\n        .build();\r\n  }\r\n  @Bean(name = &quot;secondTransactionManager&quot;)\r\n  public PlatformTransactionManager barTransactionManager(\r\n    @Qualifier(&quot;secondEntityManagerFactory&quot;) EntityManagerFactory\r\n    secondEntityManagerFactory\r\n  ) {\r\n    return new JpaTransactionManager(secondEntityManagerFactory);\r\n  }\r\n}\r\n```\r\n\r\nA lot of the part above is explained in [this][1], [this][2], and [this][3] article.\r\n\r\nAnd then depending on what database name is in your query params, you use the specific Repos and Models.\r\nYou can of course add more than 2 `DataSources`.\r\n\r\n\r\n  [1]: https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7\r\n  [2]: https://www.baeldung.com/spring-data-jpa-multiple-databases\r\n  [3]: https://www.javadevjournal.com/spring-boot/multiple-data-sources-with-spring-boot/","title":"How to load data from different property files based on query parameters from the rest API?","body":"<p>You should use multiple <code>DataSources</code> in your Spring Boot App.</p>\n<p>There are several Articles, Tutorials and SO answers that explain this topic.</p>\n<p>For starters, you add the config of your <code>datasources</code> in the <code>application.properties</code> file:</p>\n<pre><code># First Database\nspring.datasource.url = [url]\nspring.datasource.username = [username]\nspring.datasource.password = [password]\nspring.datasource.driverClassName = oracle.jdbc.OracleDriver\n\n# Second DB\nspring.secondDatasource.url = [url]\nspring.secondDatasource.username = [username]\nspring.secondDatasource.password = [password]\nspring.secondDatasource.driverClassName = [your Other Driver]\n\n# To let Hibernate autodetect the Dialect\nspring.jpa.database=default\n</code></pre>\n<p>Then create config classes for all your <code>DataSources</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n  entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\n  basePackages = { &quot;insert.your.repo.package.here&quot; }\n)\npublic class FirstDbConfig{\n  \n  @Primary\n  @Bean(name = &quot;dataSource&quot;)\n  @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n  public DataSource dataSource() {\n    return DataSourceBuilder.create().build();\n  }\n  \n  @Primary\n  @Bean(name = &quot;entityManagerFactory&quot;)\n  public LocalContainerEntityManagerFactoryBean \n  entityManagerFactory(\n    EntityManagerFactoryBuilder builder,\n    @Qualifier(&quot;dataSource&quot;) DataSource dataSource\n  ) {\n    return builder\n      .dataSource(dataSource)\n      .packages(&quot;insert.your.entity.package.here&quot;)\n      .persistenceUnit(&quot;firstDB&quot;)\n      .build();\n  }\n    \n  @Primary\n  @Bean(name = &quot;transactionManager&quot;)\n  public PlatformTransactionManager transactionManager(\n    @Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory \n    entityManagerFactory\n  ) {\n    return new JpaTransactionManager(entityManagerFactory);\n  }\n}\n</code></pre>\n<p>Then another Config class for your second DB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n  entityManagerFactoryRef = &quot;secondEntityManagerFactory&quot;,\n  transactionManagerRef = &quot;secondTransactionManager&quot;,\n  basePackages = { &quot;path.to.your.second.repo&quot; }\n)\npublic class SecondDbConfig {\n \n  @Bean(name = &quot;secondDataSource&quot;)\n  @ConfigurationProperties(prefix = &quot;spring.secondDatasource&quot;)\n  public DataSource dataSource() {\n    return DataSourceBuilder.create().build();\n  }\n  \n  @Bean(name = &quot;secondEntityManagerFactory&quot;)\n  public LocalContainerEntityManagerFactoryBean \n  barEntityManagerFactory(\n    EntityManagerFactoryBuilder builder,\n    @Qualifier(&quot;secondDataSource&quot;) DataSource dataSource\n  ) {\n    return\n      builder\n        .dataSource(dataSource)\n        .packages(&quot;path.to.your.second.entities.package&quot;)\n        .persistenceUnit(&quot;secondDB&quot;)\n        .build();\n  }\n  @Bean(name = &quot;secondTransactionManager&quot;)\n  public PlatformTransactionManager barTransactionManager(\n    @Qualifier(&quot;secondEntityManagerFactory&quot;) EntityManagerFactory\n    secondEntityManagerFactory\n  ) {\n    return new JpaTransactionManager(secondEntityManagerFactory);\n  }\n}\n</code></pre>\n<p>A lot of the part above is explained in <a href=\"https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">this</a>, and <a href=\"https://www.javadevjournal.com/spring-boot/multiple-data-sources-with-spring-boot/\" rel=\"nofollow noreferrer\">this</a> article.</p>\n<p>And then depending on what database name is in your query params, you use the specific Repos and Models.\nYou can of course add more than 2 <code>DataSources</code>.</p>\n"}],"owner":{"account_id":19661739,"reputation":89,"user_id":14393024,"display_name":"nee nee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636360444,"creation_date":1636354360,"question_id":69879582,"body_markdown":"I have a endpoint which exports the data from the database and I have another endpoint which imports the data . I want to export the data from the one database and import to other but that should be done at runtime , somewhat like this :\r\nTo export\r\n```\r\nhttp://localhost:8080/export?source=oracle\r\n```\r\n\r\nTo import\r\n```\r\nhttp://localhost:8080/import?source=mariadb\r\n```\r\nThis is how I am reading the property file currently:\r\n```\r\n@Component\r\npublic class ExportDBConfiguration extends DBConfiguration {\r\n    \r\n    private static final Logger LOG = LoggerFactory.getLogger(ExportDBConfiguration.class);\r\n    \r\n    @Value(&quot;${export.database.url}&quot;)\r\n    private String dbUrl;\r\n    \r\n    @Value(&quot;${export.database.user}&quot;)\r\n    private String dbUser;\r\n    \r\n    @Value(&quot;${export.database.password}&quot;)\r\n    private String dbPassword;\r\n    \r\n    public Properties getDatabaseProperties() {\r\n        LOG.info(&quot;Setting export database specific properties.&quot;);\r\n        return getDatabaseProperties(dbUser, dbPassword);\r\n    }\r\n    \r\n    public String getDBUrl() {\r\n        String absoluteUrl = getDBUrl(dbUrl);\r\n        LOG.info(&quot;Absolute db url is :: {} &quot;, absoluteUrl);\r\n        return absoluteUrl;\r\n    }\r\n\r\n}\r\n```\r\n\r\nTo achieve this I thought of creating the separate properties file and then read from them based on the parameter source of the endpoint , but this approach is not working . Any idea how can it be done or a better approach to achieve this loose coupling ??","title":"How to load data from different property files based on query parameters from the rest API?","body":"<p>I have a endpoint which exports the data from the database and I have another endpoint which imports the data . I want to export the data from the one database and import to other but that should be done at runtime , somewhat like this :\nTo export</p>\n<pre><code>http://localhost:8080/export?source=oracle\n</code></pre>\n<p>To import</p>\n<pre><code>http://localhost:8080/import?source=mariadb\n</code></pre>\n<p>This is how I am reading the property file currently:</p>\n<pre><code>@Component\npublic class ExportDBConfiguration extends DBConfiguration {\n    \n    private static final Logger LOG = LoggerFactory.getLogger(ExportDBConfiguration.class);\n    \n    @Value(&quot;${export.database.url}&quot;)\n    private String dbUrl;\n    \n    @Value(&quot;${export.database.user}&quot;)\n    private String dbUser;\n    \n    @Value(&quot;${export.database.password}&quot;)\n    private String dbPassword;\n    \n    public Properties getDatabaseProperties() {\n        LOG.info(&quot;Setting export database specific properties.&quot;);\n        return getDatabaseProperties(dbUser, dbPassword);\n    }\n    \n    public String getDBUrl() {\n        String absoluteUrl = getDBUrl(dbUrl);\n        LOG.info(&quot;Absolute db url is :: {} &quot;, absoluteUrl);\n        return absoluteUrl;\n    }\n\n}\n</code></pre>\n<p>To achieve this I thought of creating the separate properties file and then read from them based on the parameter source of the endpoint , but this approach is not working . Any idea how can it be done or a better approach to achieve this loose coupling ??</p>\n"},{"tags":["java","hibernate","annotations"],"answers":[{"tags":[],"owner":{"account_id":6845240,"reputation":1517,"user_id":5291521,"accept_rate":67,"display_name":"Ashwani Tiwari"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1469735746,"creation_date":1469735746,"answer_id":38645612,"question_id":38645492,"body_markdown":"Use annotation  @CollectionTable(name=&quot;your_table_name&quot;)","title":"How to set table name for @ElementCollection in hibernate","body":"<p>Use annotation  @CollectionTable(name=\"your_table_name\")</p>\n"},{"tags":[],"owner":{"account_id":5283554,"reputation":1495,"user_id":4218192,"display_name":"M&#237;ra"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1527241625,"creation_date":1527241245,"answer_id":50526128,"question_id":38645492,"body_markdown":"**JPA:** \r\n\r\n    @Entity\r\n    @Table(name = &quot;SERVICES&quot;)\r\n    public class Service {\r\n\r\n        @Id\r\n        @Column(name = &quot;ID&quot;) \r\n        private Long id;\r\n\r\n        @ElementCollection(fetch = FetchType.LAZY)\r\n        @CollectionTable(name = &quot;SERVICE_LINKED_CODES&quot;, joinColumns = @JoinColumn(name = &quot;SERVICE_ID&quot;))\r\n        @Column(name = &quot;CODE&quot;) \r\n        private List&lt;String&gt; linkedCodes;\r\n\r\n    }\r\n\r\n**Schema in DB:** \r\n\r\n    CREATE TABLE SERVICES { ID BIGINT };\r\n    CREATE TABLE SERVICE_LINKED_CODES { SERVICE_ID BIGINT, CODE VARCHAR(255) };\r\n\r\n","title":"How to set table name for @ElementCollection in hibernate","body":"<p><strong>JPA:</strong> </p>\n\n<pre><code>@Entity\n@Table(name = \"SERVICES\")\npublic class Service {\n\n    @Id\n    @Column(name = \"ID\") \n    private Long id;\n\n    @ElementCollection(fetch = FetchType.LAZY)\n    @CollectionTable(name = \"SERVICE_LINKED_CODES\", joinColumns = @JoinColumn(name = \"SERVICE_ID\"))\n    @Column(name = \"CODE\") \n    private List&lt;String&gt; linkedCodes;\n\n}\n</code></pre>\n\n<p><strong>Schema in DB:</strong> </p>\n\n<pre><code>CREATE TABLE SERVICES { ID BIGINT };\nCREATE TABLE SERVICE_LINKED_CODES { SERVICE_ID BIGINT, CODE VARCHAR(255) };\n</code></pre>\n"}],"owner":{"display_name":"user6651439"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16870,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":38645612,"answer_count":2,"score":35,"last_activity_date":1636360061,"creation_date":1469735336,"question_id":38645492,"body_markdown":"I am using\r\n\r\n    public class UserTask extends BaseObject implements Serializable {\r\n        \r\n        @ElementCollection(targetClass = java.lang.String.class) \r\n        private List&lt;String&gt; userTaskMessage = new ArrayList&lt;&gt;();\r\n       \r\n       .\r\n       .\r\n       .\r\n       .\r\n\r\nHibernate generate table, which name is `usertask_usertaskmessage`.\r\n\r\nHow do I set my name? For example `my_table_example`","title":"How to set table name for @ElementCollection in hibernate","body":"<p>I am using</p>\n<pre><code>public class UserTask extends BaseObject implements Serializable {\n    \n    @ElementCollection(targetClass = java.lang.String.class) \n    private List&lt;String&gt; userTaskMessage = new ArrayList&lt;&gt;();\n   \n   .\n   .\n   .\n   .\n</code></pre>\n<p>Hibernate generate table, which name is <code>usertask_usertaskmessage</code>.</p>\n<p>How do I set my name? For example <code>my_table_example</code></p>\n"},{"tags":["java","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":22741526,"reputation":50,"user_id":16902913,"display_name":"Cepheon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636359727,"creation_date":1633354709,"answer_id":69436985,"question_id":69436272,"body_markdown":"It&#39;s more like simple programming problem than java question. There are many ugly solutions used, but will try to follow convention used by you.\r\n\r\n Think about arrays and loops that you are using step by step. First loop\r\n\r\n    for (int i = 1; i &lt; seat + 1; i++) {\r\n            if (i == 1) {\r\n                System.out.print(&quot;  &quot;);\r\n            }\r\n            System.out.print(i + &quot; &quot;);\r\n    }\r\n\r\nCounting from 0 is prefered way but this loop just fills first row with numbers.\r\n\r\nIn second loop `i` is still your row counter, and `j` is just a column counter:\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n            for (int j = 0; j &lt; array[i].length; j++) {\r\n                if (j == 0) {\r\n                    System.out.print(&quot;  &quot;);\r\n                }\r\n                System.out.print(&#39;S&#39; + &quot; &quot;);\r\n            }\r\n        System.out.println();\r\n    }\r\n\r\nYour question truly is: how to write numbers in first column row by row. There is a simple answer to this using code you just provided. In your code if column  `j` is equal to 0 then you are just writing empty space now, but instead you want to write row number `i`. I hope that will give you a clue. Try to solve it by yourself. If you still won&#39;t be able then:\r\n\r\n&gt;!Change if body of second for in second loop to System.out.print(i + &quot; &quot;);","title":"How do I create a table using 2D array in Java?","body":"<p>It's more like simple programming problem than java question. There are many ugly solutions used, but will try to follow convention used by you.</p>\n<p>Think about arrays and loops that you are using step by step. First loop</p>\n<pre><code>for (int i = 1; i &lt; seat + 1; i++) {\n        if (i == 1) {\n            System.out.print(&quot;  &quot;);\n        }\n        System.out.print(i + &quot; &quot;);\n}\n</code></pre>\n<p>Counting from 0 is prefered way but this loop just fills first row with numbers.</p>\n<p>In second loop <code>i</code> is still your row counter, and <code>j</code> is just a column counter:</p>\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n        for (int j = 0; j &lt; array[i].length; j++) {\n            if (j == 0) {\n                System.out.print(&quot;  &quot;);\n            }\n            System.out.print('S' + &quot; &quot;);\n        }\n    System.out.println();\n}\n</code></pre>\n<p>Your question truly is: how to write numbers in first column row by row. There is a simple answer to this using code you just provided. In your code if column  <code>j</code> is equal to 0 then you are just writing empty space now, but instead you want to write row number <code>i</code>. I hope that will give you a clue. Try to solve it by yourself. If you still won't be able then:</p>\n<blockquote class=\"spoiler\">\n<p>Change if body of second for in second loop to System.out.print(i + &quot; &quot;);</p>\n</blockquote>\n"}],"owner":{"account_id":20738379,"reputation":13,"user_id":15228700,"display_name":"Yang89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1411,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69436985,"answer_count":1,"score":-1,"last_activity_date":1636359727,"creation_date":1633351807,"question_id":69436272,"body_markdown":"![enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uGa8M.png\r\n\r\nHi :)\r\n\r\nI need to create a table for seats and rows of a movie theatre (like the one in the picture) but I can&#39;t figure out how to print the row numbers on the left side. I&#39;ve managed to put together the seats and the numbers on the upper side of the table but I am failing at adding the column with numbers on the left side. Maybe you guys could give me some advice? Here is the code! \r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    int row = scanner.nextInt();\r\n    int seat = scanner.nextInt();\r\n\r\n    char[][] array = new char[row][seat];\r\n\r\n    System.out.print(&quot;  &quot;);\r\n    for (int i = 1; i &lt; seat + 1; i++)\r\n        System.out.print(i + &quot; &quot;);\r\n        \r\n    System.out.println();\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        System.out.print(&quot;  &quot;);\r\n        for (int j = 0; j &lt; array[i].length; j++)\r\n            System.out.print(&#39;S&#39; + &quot; &quot;);\r\n\r\n        System.out.println();\r\n    }","title":"How do I create a table using 2D array in Java?","body":"<p><img src=\"https://i.stack.imgur.com/uGa8M.png\" alt=\"enter image description here\" /></p>\n<p>Hi :)</p>\n<p>I need to create a table for seats and rows of a movie theatre (like the one in the picture) but I can't figure out how to print the row numbers on the left side. I've managed to put together the seats and the numbers on the upper side of the table but I am failing at adding the column with numbers on the left side. Maybe you guys could give me some advice? Here is the code!</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nint row = scanner.nextInt();\nint seat = scanner.nextInt();\n\nchar[][] array = new char[row][seat];\n\nSystem.out.print(&quot;  &quot;);\nfor (int i = 1; i &lt; seat + 1; i++)\n    System.out.print(i + &quot; &quot;);\n    \nSystem.out.println();\n\nfor (int i = 0; i &lt; array.length; i++) {\n    System.out.print(&quot;  &quot;);\n    for (int j = 0; j &lt; array[i].length; j++)\n        System.out.print('S' + &quot; &quot;);\n\n    System.out.println();\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting","limit"],"answers":[{"tags":[],"owner":{"account_id":3140923,"reputation":182,"user_id":2656403,"display_name":"chanrlc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636359578,"creation_date":1636358908,"answer_id":69880303,"question_id":69880252,"body_markdown":"You could use java ArrayList to do that things.\r\n\r\n    import java.util.ArrayList; // import the ArrayList class\r\n    \r\n    ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;(); // Create an ArrayList object","title":"Array set limit of elements and set limit of maximum and minimum value of array elements","body":"<p>You could use java ArrayList to do that things.</p>\n<pre><code>import java.util.ArrayList; // import the ArrayList class\n\nArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;(); // Create an ArrayList object\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636359077,"creation_date":1636359077,"answer_id":69880328,"question_id":69880252,"body_markdown":"Create a List (ArrayList Or LinkedList or any other implementation fulfil your need), apply your condition on the list with Stream API and limit the size relevant to you business, then convert it to array simple by calling \r\n\r\n`list.toArray(Integer[]::new)`  ","title":"Array set limit of elements and set limit of maximum and minimum value of array elements","body":"<p>Create a List (ArrayList Or LinkedList or any other implementation fulfil your need), apply your condition on the list with Stream API and limit the size relevant to you business, then convert it to array simple by calling</p>\n<p><code>list.toArray(Integer[]::new)</code></p>\n"}],"owner":{"account_id":19677724,"reputation":1,"user_id":14405462,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636359578,"creation_date":1636358613,"question_id":69880252,"body_markdown":"I want to ask you if there is a way to set limit of an array elements number in java other then setting it in the beginning like `int arr[] = new int[30]` ( and the size is 30 elements). Can you set the limit between 1 and 10 elements with some condition like the following?\r\n\r\n    int[] array = new int[28];\r\n\r\nCan you declare it somehow like this (it doesn&#39;t work, I tried several other options, but couldn&#39;t find the solution.\r\n\t\t\r\n\r\n    while (array.length &lt;= 1 &amp;&amp; array.length &gt;= 30) {\r\n        return 0;\r\n    }\r\n\r\n(or something like that).\r\n\r\nAnd my second question that is maybe more viable is can you set a limit of the elements themselves, like when you need to sort them after and if an element is &gt;= 100 to give an error.\r\nsomething like:\r\n\r\n    if (input &lt;= 1 &amp;&amp; input &lt;= 150)\r\n        break;","title":"Array set limit of elements and set limit of maximum and minimum value of array elements","body":"<p>I want to ask you if there is a way to set limit of an array elements number in java other then setting it in the beginning like <code>int arr[] = new int[30]</code> ( and the size is 30 elements). Can you set the limit between 1 and 10 elements with some condition like the following?</p>\n<pre><code>int[] array = new int[28];\n</code></pre>\n<p>Can you declare it somehow like this (it doesn't work, I tried several other options, but couldn't find the solution.</p>\n<pre><code>while (array.length &lt;= 1 &amp;&amp; array.length &gt;= 30) {\n    return 0;\n}\n</code></pre>\n<p>(or something like that).</p>\n<p>And my second question that is maybe more viable is can you set a limit of the elements themselves, like when you need to sort them after and if an element is &gt;= 100 to give an error.\nsomething like:</p>\n<pre><code>if (input &lt;= 1 &amp;&amp; input &lt;= 150)\n    break;\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1635950144,"post_id":69826629,"comment_id":123428904,"body_markdown":"Should `Engineering` in required output be `Engineer`?","body":"Should <code>Engineering</code> in required output be <code>Engineer</code>?"},{"owner":{"account_id":19519772,"reputation":47,"user_id":14281912,"display_name":"Vishal Ekkaldevi"},"score":0,"creation_date":1635950211,"post_id":69826629,"comment_id":123428936,"body_markdown":"Sorry Engineer is required.","body":"Sorry Engineer is required."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1635950877,"post_id":69826629,"comment_id":123429246,"body_markdown":"What attempts have you made to solve this?","body":"What attempts have you made to solve this?"},{"owner":{"account_id":19519772,"reputation":47,"user_id":14281912,"display_name":"Vishal Ekkaldevi"},"score":0,"creation_date":1635951131,"post_id":69826629,"comment_id":123429358,"body_markdown":"Getting the entryset for each map from list of maps and from the entry set i got the key and with that key i got the value from map(one). Then i added them in the new map as key value pair(key --&gt; value from map one, value --&gt; value of each map associated with the key from map one","body":"Getting the entryset for each map from list of maps and from the entry set i got the key and with that key i got the value from map(one). Then i added them in the new map as key value pair(key --&gt; value from map one, value --&gt; value of each map associated with the key from map one"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1635951436,"post_id":69826629,"comment_id":123429499,"body_markdown":"Please edit your question to add that code and explain why it didn&#39;t work.","body":"Please edit your question to add that code and explain why it didn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636359392,"creation_date":1635951345,"answer_id":69827050,"question_id":69826629,"body_markdown":"You want something like this:\r\n\r\n```\r\nList&lt;Map&lt;String, String&gt;&gt; result = four.stream()  // iterate the Map with values\r\n   .map(map -&gt; map.entrySet()                     // .. for each one\r\n           .stream()                              // .. stream and collect\r\n           .collect(Collectors.toMap(             // .. into a new Map\r\n                   e -&gt; one.get(e.getKey()),      // .. with a key from the `one` Map\r\n                   Map.Entry::getValue)))         // .. and the same value\r\n   .collect(Collectors.toList());                 // and pack as a List\r\n```\r\n\r\nThe output on calling `result.forEach(System.out::println);` is (remember that `HashMap` is unordered):\r\n```\r\n{Engineer=Software Engineer, Doctor=MBBS}\r\n{Engineer=Aerospace Engineer, Doctor=Ortho}\r\n```\r\n\r\nIf you want the keys in each map sorted, you need to use the `TreeMap` implementation and an overloaded [`Collectors.toMap(Function, Function, BinaryOperator, Supplier)`][1]. However, the default behavior of the merger `BinaryOperator` in the previous [`Collectors.toMap(Function, Function)`][2] method is that it throws an exception on duplicated keys. You have to implement this one by yourself.\r\n\r\n```\r\nBinaryOperator&lt;String&gt; throwingMerger = (u,v) -&gt; { \r\n\t\t\tthrow new IllegalStateException(String.format(&quot;Duplicate key %s&quot;, u)); \r\n};\r\n\t\t\r\nList&lt;Map&lt;String, String&gt;&gt; result = four.stream() // iterate the Map with values\r\n\t.map(map -&gt; map.entrySet()                     // .. for each one\r\n\t\t\t.stream()                              // .. stream and collect\r\n\t\t\t.collect(Collectors.toMap(             // .. into a new Map\r\n\t\t\t\t\te -&gt; one.get(e.getKey()),      // .. with a key from the `one` Map\r\n\t\t\t\t\tMap.Entry::getValue,           // .. and the same value\r\n\t\t\t\t\tthrowingMerger,                // .. failing fast on duplicated keys\r\n\t\t\t\t\tTreeMap::new)))                // .. as TreeMap\r\n\t.collect(Collectors.toList());                 // and pack as a List\r\n```\r\n```\r\n{Doctor=MBBS, Engineer=Software Engineer}\r\n{Doctor=Ortho, Engineer=Aerospace Engineer}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-","title":"Create a map with values of one map as key and values of each map as values from a list of maps","body":"<p>You want something like this:</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; result = four.stream()  // iterate the Map with values\n   .map(map -&gt; map.entrySet()                     // .. for each one\n           .stream()                              // .. stream and collect\n           .collect(Collectors.toMap(             // .. into a new Map\n                   e -&gt; one.get(e.getKey()),      // .. with a key from the `one` Map\n                   Map.Entry::getValue)))         // .. and the same value\n   .collect(Collectors.toList());                 // and pack as a List\n</code></pre>\n<p>The output on calling <code>result.forEach(System.out::println);</code> is (remember that <code>HashMap</code> is unordered):</p>\n<pre><code>{Engineer=Software Engineer, Doctor=MBBS}\n{Engineer=Aerospace Engineer, Doctor=Ortho}\n</code></pre>\n<p>If you want the keys in each map sorted, you need to use the <code>TreeMap</code> implementation and an overloaded <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>Collectors.toMap(Function, Function, BinaryOperator, Supplier)</code></a>. However, the default behavior of the merger <code>BinaryOperator</code> in the previous <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Collectors.toMap(Function, Function)</code></a> method is that it throws an exception on duplicated keys. You have to implement this one by yourself.</p>\n<pre><code>BinaryOperator&lt;String&gt; throwingMerger = (u,v) -&gt; { \n            throw new IllegalStateException(String.format(&quot;Duplicate key %s&quot;, u)); \n};\n        \nList&lt;Map&lt;String, String&gt;&gt; result = four.stream() // iterate the Map with values\n    .map(map -&gt; map.entrySet()                     // .. for each one\n            .stream()                              // .. stream and collect\n            .collect(Collectors.toMap(             // .. into a new Map\n                    e -&gt; one.get(e.getKey()),      // .. with a key from the `one` Map\n                    Map.Entry::getValue,           // .. and the same value\n                    throwingMerger,                // .. failing fast on duplicated keys\n                    TreeMap::new)))                // .. as TreeMap\n    .collect(Collectors.toList());                 // and pack as a List\n</code></pre>\n<pre><code>{Doctor=MBBS, Engineer=Software Engineer}\n{Doctor=Ortho, Engineer=Aerospace Engineer}\n</code></pre>\n"}],"owner":{"account_id":19519772,"reputation":47,"user_id":14281912,"display_name":"Vishal Ekkaldevi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1635971830,"accepted_answer_id":69827050,"answer_count":1,"score":-2,"last_activity_date":1636359392,"creation_date":1635949706,"question_id":69826629,"body_markdown":"I have a List of Maps and a Map like below\r\n\r\n```java\r\nMap&lt;String, String&gt; one = new HashMap&lt;&gt;();\r\none.put(&quot;Medicine&quot;,&quot;Doctor&quot;);\r\none.put(&quot;Engineering&quot;,&quot;Engineer&quot;);\r\n\r\nMap&lt;String, String&gt; two =new HashMap&lt;&gt;();\r\ntwo.put(&quot;Medicine&quot;,&quot;MBBS&quot;);\r\ntwo.put(&quot;Engineering&quot;,&quot;Software Engineer&quot;);\r\n\r\nMap&lt;String, String&gt; three = new HashMap&lt;&gt;();\r\nthree.put(&quot;Medicine&quot;,&quot;Ortho&quot;);\r\nthree.put(&quot;Engineering&quot;,&quot;Aerospace Engineer&quot;);\r\n\r\nList&lt;Map&lt;String, String&gt;&gt; four= new ArrayList&lt;&gt;();\r\nfour.add(two);\r\nfour.add(three); // there could be more\r\n\r\nList&lt;Map&lt;String, String&gt;&gt; result= new ArrayList&lt;&gt;();\r\nfor(Map&lt;String, String&gt; eachMap: four){\r\n     Map&lt;String, String&gt; singleMapFromList= new HashMap&lt;&gt;();\r\n     //help me here\r\n     result.add(singleMapFromList);\r\n}\r\n```\r\nNow I want values of first map(one) as key to each new map(singleMapFromList) for the values of second map(two) and third map(three) and so on\r\n\r\nRequired output for reference\r\n```\r\n{ Doctor : MBBS, Engineer : Software Engineer }\r\n{ Doctor : Ortho, Engineer : Aerospace Engineer }\r\n//more\r\n```\r\nPlease help me finding a solution.\r\n","title":"Create a map with values of one map as key and values of each map as values from a list of maps","body":"<p>I have a List of Maps and a Map like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; one = new HashMap&lt;&gt;();\none.put(&quot;Medicine&quot;,&quot;Doctor&quot;);\none.put(&quot;Engineering&quot;,&quot;Engineer&quot;);\n\nMap&lt;String, String&gt; two =new HashMap&lt;&gt;();\ntwo.put(&quot;Medicine&quot;,&quot;MBBS&quot;);\ntwo.put(&quot;Engineering&quot;,&quot;Software Engineer&quot;);\n\nMap&lt;String, String&gt; three = new HashMap&lt;&gt;();\nthree.put(&quot;Medicine&quot;,&quot;Ortho&quot;);\nthree.put(&quot;Engineering&quot;,&quot;Aerospace Engineer&quot;);\n\nList&lt;Map&lt;String, String&gt;&gt; four= new ArrayList&lt;&gt;();\nfour.add(two);\nfour.add(three); // there could be more\n\nList&lt;Map&lt;String, String&gt;&gt; result= new ArrayList&lt;&gt;();\nfor(Map&lt;String, String&gt; eachMap: four){\n     Map&lt;String, String&gt; singleMapFromList= new HashMap&lt;&gt;();\n     //help me here\n     result.add(singleMapFromList);\n}\n</code></pre>\n<p>Now I want values of first map(one) as key to each new map(singleMapFromList) for the values of second map(two) and third map(three) and so on</p>\n<p>Required output for reference</p>\n<pre><code>{ Doctor : MBBS, Engineer : Software Engineer }\n{ Doctor : Ortho, Engineer : Aerospace Engineer }\n//more\n</code></pre>\n<p>Please help me finding a solution.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1636359513,"post_id":69880355,"comment_id":123525618,"body_markdown":"See if this helps : https://stackoverflow.com/questions/32270422/jackson-renames-primitive-boolean-field-by-removing-is","body":"See if this helps : <a href=\"https://stackoverflow.com/questions/32270422/jackson-renames-primitive-boolean-field-by-removing-is\" title=\"jackson renames primitive boolean field by removing is\">stackoverflow.com/questions/32270422/&hellip;</a>"},{"owner":{"account_id":21302562,"reputation":90,"user_id":15678198,"display_name":"nardiyansah"},"score":1,"creation_date":1636361542,"post_id":69880355,"comment_id":123526337,"body_markdown":"thanks @Arnaud , it works as I expect","body":"thanks @Arnaud , it works as I expect"}],"owner":{"account_id":21302562,"reputation":90,"user_id":15678198,"display_name":"nardiyansah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636414760,"answer_count":0,"score":0,"last_activity_date":1636359281,"creation_date":1636359281,"question_id":69880355,"body_markdown":"I work on a spring boot project. And I create a class to represent the request body for another service. Before I use this class I want to check first, if the structure is correct. So I create a simple controller to return an object from this class.\r\n\r\nhere my `LocationConstraint` class:\r\n```\r\npublic class LocationConstraint {\r\n    boolean isRequired;\r\n    boolean suggestLocation;\r\n    List&lt;Location&gt; locations;\r\n}\r\n```\r\nand this is the response when I check using Postman\r\n[response on postman][1]\r\n\r\nAs you can see, attribute name change from `isRequired` to be `required`. Why did this happen?\r\n\r\n  [1]: https://i.stack.imgur.com/dtg8d.png","title":"object name attribute changes when response from controller is generated (Spring Boot)","body":"<p>I work on a spring boot project. And I create a class to represent the request body for another service. Before I use this class I want to check first, if the structure is correct. So I create a simple controller to return an object from this class.</p>\n<p>here my <code>LocationConstraint</code> class:</p>\n<pre><code>public class LocationConstraint {\n    boolean isRequired;\n    boolean suggestLocation;\n    List&lt;Location&gt; locations;\n}\n</code></pre>\n<p>and this is the response when I check using Postman\n<a href=\"https://i.stack.imgur.com/dtg8d.png\" rel=\"nofollow noreferrer\">response on postman</a></p>\n<p>As you can see, attribute name change from <code>isRequired</code> to be <code>required</code>. Why did this happen?</p>\n"},{"tags":["java","android","account","huawei-mobile-services","huawei-account"],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636359172,"creation_date":1636359172,"answer_id":69880338,"question_id":69880034,"body_markdown":"You may need to **disable** the Game Service on the [AppGallery Connect](https://developer.huawei.com/consumer/en/service/josp/agc/index.html) and this prompt will disappear.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mofq7.png","title":"After the login is successful, the game information is displayed on the top of the app","body":"<p>You may need to <strong>disable</strong> the Game Service on the <a href=\"https://developer.huawei.com/consumer/en/service/josp/agc/index.html\" rel=\"nofollow noreferrer\">AppGallery Connect</a> and this prompt will disappear.</p>\n<p><a href=\"https://i.stack.imgur.com/Mofq7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mofq7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23236976,"reputation":45,"user_id":17326867,"display_name":"syoukun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69880338,"answer_count":1,"score":1,"last_activity_date":1636359172,"creation_date":1636357336,"question_id":69880034,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nAfter the HUAWEI Account Kit is integrated, a game message is displayed at the top of the app. How can I disable this message?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fRStO.png","title":"After the login is successful, the game information is displayed on the top of the app","body":"<p><a href=\"https://i.stack.imgur.com/fRStO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fRStO.png\" alt=\"enter image description here\" /></a></p>\n<p>After the HUAWEI Account Kit is integrated, a game message is displayed at the top of the app. How can I disable this message?</p>\n"},{"tags":["java","jsf"],"comments":[{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1636359339,"post_id":69879103,"comment_id":123525559,"body_markdown":"`Can anyone tell me where I went wrong?` Is it not called? Do you get an exception? Please read [ask] and provide a [mcve].","body":"<code>Can anyone tell me where I went wrong?</code> Is it not called? Do you get an exception? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":19175404,"reputation":1,"user_id":14008233,"display_name":"berk can &#246;zen"},"score":0,"creation_date":1636360951,"post_id":69879103,"comment_id":123526122,"body_markdown":"Hi, in debugging, I am getting null pointer exception error.","body":"Hi, in debugging, I am getting null pointer exception error."},{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1636366493,"post_id":69879103,"comment_id":123528223,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}],"owner":{"account_id":19175404,"reputation":1,"user_id":14008233,"display_name":"berk can &#246;zen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636359115,"creation_date":1636350614,"question_id":69879103,"body_markdown":"```xhtml\r\n&lt;p:selectOneMenu id=&quot;tm&quot; style=&quot;width: 4.50cm&quot; value=&quot;#{baralarBean.panel.nesne.tm}&quot; converter=&quot;integerEnumerationDonusturucu&quot; \r\n\trequired=&quot;true&quot; requiredMessage=&quot;#{mesajlarBean.mesajiGoruntule(&#39;Trafo Merkezi&#39;, Mesajlar.ALANI_BOS_OLAMAZ)}&quot;\r\n\tdisabled=&quot;#{menuYetkiBean.yazmaYetkisi(60,baralarBean.panel.nesne.onay1,baralarBean.panel.nesne.onay2)\r\n\tor baralarBean.panel.islemGuncellemeMi}&quot;&gt;\r\n\t&lt;f:selectItem itemLabel=&quot;TM Se&#231;iniz&quot; itemDisabled=&quot;true&quot; noSelectionOption=&quot;true&quot; /&gt;\r\n\t&lt;f:selectItems value=&quot;#{baralarBean.trafoMerkeziSecenekleri()}&quot; var=&quot;x&quot; itemValue=&quot;#{x}&quot; itemLabel=&quot;#{x.ad}&quot; /&gt;\r\n&lt;/p:selectOneMenu&gt;\r\n```\r\n\r\n```java\r\n@FacesConverter(value = &quot;integerEnumerationDonusturucu&quot;)\r\npublic class IntegerEnumerationDonusturucu implements Converter {\r\n\r\n\t@Override\r\n\tpublic Object getAsObject(FacesContext context, UIComponent component, String value) {\r\n\t\tSystem.out.println(&quot;getAsObject:&quot; + value);\r\n\t\tif (value != null &amp;&amp; value.trim().length() &gt; 0) {\r\n\t\t\tJSONObject json = new JSONObject(value);\r\n\t\t\tif (json.has(&quot;id&quot;) &amp;&amp; json.has(&quot;ad&quot;)) {\r\n\t\t\t\treturn new IntegerEnumeration(json.getInt(&quot;id&quot;), json.getString(&quot;ad&quot;));\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getAsString(FacesContext context, UIComponent component, Object value) {\r\n\t\tif (value != null) {\r\n\t\t\treturn value.toString();\r\n\t\t} else {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n```java\r\npublic class IntegerEnumeration implements Comparable&lt;IntegerEnumeration&gt; {\r\n\r\n\tprivate int id;\r\n\tprivate String ad;\r\n```\r\n\r\nI&#39;m trying to save a value selected from the menu to an enum with JSF converter. Can anyone tell me where I went wrong? Thanks in advance.\r\n","title":"Primeface converter","body":"<pre class=\"lang-html prettyprint-override\"><code>&lt;p:selectOneMenu id=&quot;tm&quot; style=&quot;width: 4.50cm&quot; value=&quot;#{baralarBean.panel.nesne.tm}&quot; converter=&quot;integerEnumerationDonusturucu&quot; \n    required=&quot;true&quot; requiredMessage=&quot;#{mesajlarBean.mesajiGoruntule('Trafo Merkezi', Mesajlar.ALANI_BOS_OLAMAZ)}&quot;\n    disabled=&quot;#{menuYetkiBean.yazmaYetkisi(60,baralarBean.panel.nesne.onay1,baralarBean.panel.nesne.onay2)\n    or baralarBean.panel.islemGuncellemeMi}&quot;&gt;\n    &lt;f:selectItem itemLabel=&quot;TM Seçiniz&quot; itemDisabled=&quot;true&quot; noSelectionOption=&quot;true&quot; /&gt;\n    &lt;f:selectItems value=&quot;#{baralarBean.trafoMerkeziSecenekleri()}&quot; var=&quot;x&quot; itemValue=&quot;#{x}&quot; itemLabel=&quot;#{x.ad}&quot; /&gt;\n&lt;/p:selectOneMenu&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@FacesConverter(value = &quot;integerEnumerationDonusturucu&quot;)\npublic class IntegerEnumerationDonusturucu implements Converter {\n\n    @Override\n    public Object getAsObject(FacesContext context, UIComponent component, String value) {\n        System.out.println(&quot;getAsObject:&quot; + value);\n        if (value != null &amp;&amp; value.trim().length() &gt; 0) {\n            JSONObject json = new JSONObject(value);\n            if (json.has(&quot;id&quot;) &amp;&amp; json.has(&quot;ad&quot;)) {\n                return new IntegerEnumeration(json.getInt(&quot;id&quot;), json.getString(&quot;ad&quot;));\n            } else {\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    @Override\n    public String getAsString(FacesContext context, UIComponent component, Object value) {\n        if (value != null) {\n            return value.toString();\n        } else {\n            return &quot;&quot;;\n        }\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class IntegerEnumeration implements Comparable&lt;IntegerEnumeration&gt; {\n\n    private int id;\n    private String ad;\n</code></pre>\n<p>I'm trying to save a value selected from the menu to an enum with JSF converter. Can anyone tell me where I went wrong? Thanks in advance.</p>\n"},{"tags":["java","hash","sha"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1636359224,"post_id":69880322,"comment_id":123525522,"body_markdown":"during the transition you have to keep both password but as soon as the user as change or logged in you can remove the old hash.","body":"during the transition you have to keep both password but as soon as the user as change or logged in you can remove the old hash."},{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1636360000,"post_id":69880322,"comment_id":123525762,"body_markdown":"You can also before the transition hash the current hash with another hash function and combine those two in your login handler.","body":"You can also before the transition hash the current hash with another hash function and combine those two in your login handler."},{"owner":{"account_id":1349982,"reputation":773,"user_id":1289932,"display_name":"Samarth"},"score":0,"creation_date":1636362155,"post_id":69880322,"comment_id":123526542,"body_markdown":"Can you communicate user to Reset their password through some channel and provide some unique tokens by using which they can update their password on relogin like some OTP based password update?","body":"Can you communicate user to Reset their password through some channel and provide some unique tokens by using which they can update their password on relogin like some OTP based password update?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1636362162,"post_id":69880322,"comment_id":123526544,"body_markdown":"You have to stick with a rolling migration. Otherwise you would need to reverse all hashes and then rehash them. And this would take a very long time. https://stackoverflow.com/a/2235104/7082956","body":"You have to stick with a rolling migration. Otherwise you would need to reverse all hashes and then rehash them. And this would take a very long time. <a href=\"https://stackoverflow.com/a/2235104/7082956\">stackoverflow.com/a/2235104/7082956</a>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1636362648,"post_id":69880322,"comment_id":123526706,"body_markdown":"Not really no, that&#39;s why it&#39;s called a secure hash. You have to also consider that there will usually be old users who won&#39;t be logging in, so you have to have quite a long lead period for them to change their password and then decide if you want to force them to re-register altogether if you don&#39;t hear from them.","body":"Not really no, that&#39;s why it&#39;s called a secure hash. You have to also consider that there will usually be old users who won&#39;t be logging in, so you have to have quite a long lead period for them to change their password and then decide if you want to force them to re-register altogether if you don&#39;t hear from them."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1636412593,"post_id":69880322,"comment_id":123545582,"body_markdown":"If you&#39;re changing password hashes anyway then change to a purpose-designed password hash like argon2.","body":"If you&#39;re changing password hashes anyway then change to a purpose-designed password hash like argon2."}],"owner":{"account_id":15371564,"reputation":36,"user_id":11089453,"display_name":"Muhammad bux"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1636359021,"creation_date":1636359021,"question_id":69880322,"body_markdown":"Client wants to switch its password hashing from SHA-1 to SHA-256 but can anyone suggest how to migrate old users to new hashing. I have already two strategies that are mentioned below.\r\n\r\n1. Force Password change: By enabling force password change every user has to change his/her password one time.\r\n\r\n2. Change Password on Login: When user enters his/her password first check correct password with old hashing than update password in DB with new hashing.\r\n\r\nBut in both above methods I have to keep both hashing&#39;s in the code but client wants to remove SHA-1 from code. Is there any other approach to tackle this issue.","title":"Migrating From SHA-1 to SHA-256 in java","body":"<p>Client wants to switch its password hashing from SHA-1 to SHA-256 but can anyone suggest how to migrate old users to new hashing. I have already two strategies that are mentioned below.</p>\n<ol>\n<li><p>Force Password change: By enabling force password change every user has to change his/her password one time.</p>\n</li>\n<li><p>Change Password on Login: When user enters his/her password first check correct password with old hashing than update password in DB with new hashing.</p>\n</li>\n</ol>\n<p>But in both above methods I have to keep both hashing's in the code but client wants to remove SHA-1 from code. Is there any other approach to tackle this issue.</p>\n"},{"tags":["java","android","flutter","kotlin","mobile"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1636376834,"post_id":69879654,"comment_id":123532272,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636358687,"creation_date":1636358687,"answer_id":69880264,"question_id":69879654,"body_markdown":"I&#39;m pretty sure it&#39;s not possible. As a matter of fact, it&#39;s not even guaranteed that you are able to do it to your own app icon. Setting badge icons is actually not a supported Android feature. Although many device manufacturers added their own custom implementation for that. See https://stackoverflow.com/questions/47250202/android-badge-number-on-launcher-icon-for-all-mobile-manufacturer for example.\r\n\r\n[Notification badges](https://developer.android.com/training/notify-user/badges) exists, but that is only for your own app, and actually is just an indication for having one or more notifications.","title":"How to add badges to the icons of another app in android/kotlin","body":"<p>I'm pretty sure it's not possible. As a matter of fact, it's not even guaranteed that you are able to do it to your own app icon. Setting badge icons is actually not a supported Android feature. Although many device manufacturers added their own custom implementation for that. See <a href=\"https://stackoverflow.com/questions/47250202/android-badge-number-on-launcher-icon-for-all-mobile-manufacturer\">Android Badge number on launcher icon for all mobile manufacturer</a> for example.</p>\n<p><a href=\"https://developer.android.com/training/notify-user/badges\" rel=\"nofollow noreferrer\">Notification badges</a> exists, but that is only for your own app, and actually is just an indication for having one or more notifications.</p>\n"}],"owner":{"account_id":17865616,"reputation":1,"user_id":12978030,"display_name":"Amit kumar dogra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636358687,"creation_date":1636354885,"question_id":69879654,"body_markdown":"I am creating a lock app, in which I want to add badges to the app icons of the locked apps. Can you please help me out with this.\r\n\r\nIs it possible to add badges to other apps of my device via my app in kotlin","title":"How to add badges to the icons of another app in android/kotlin","body":"<p>I am creating a lock app, in which I want to add badges to the app icons of the locked apps. Can you please help me out with this.</p>\n<p>Is it possible to add badges to other apps of my device via my app in kotlin</p>\n"},{"tags":["java","excel","sorting","row","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":84539,"reputation":9538,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1351889574,"creation_date":1351889574,"answer_id":13202887,"question_id":13134490,"body_markdown":"Poi has no built in sorting mechanism, though of course you are far from the first one with that need.\r\n\r\nI think you are getting in trouble because you are moving rows that you are iterating over.  I have run the code above and it seems what is happening is rows are disappearing from the sheet by the end of the code execution.\r\n\r\nThe question attempts to do an in-place modification of a read-in sheet.  I believe that creating a second output sheet would be more appropriate.  \r\n\r\nSo the basic approach would be read the sheet, sort in java just as you would treat any other sort problem, write to output sheet.  If you did a map of the row number which is unique to the string value of the column you are interested in then you could sort the map by value.  This sort of approach would work if you only foresaw the need to sort on a single column.  In any event, it is not as simple as just choosing the sort menu option from within excel.\r\n\r\n\r\n\r\n","title":"Apache-POI sorting rows in excel","body":"<p>Poi has no built in sorting mechanism, though of course you are far from the first one with that need.</p>\n\n<p>I think you are getting in trouble because you are moving rows that you are iterating over.  I have run the code above and it seems what is happening is rows are disappearing from the sheet by the end of the code execution.</p>\n\n<p>The question attempts to do an in-place modification of a read-in sheet.  I believe that creating a second output sheet would be more appropriate.  </p>\n\n<p>So the basic approach would be read the sheet, sort in java just as you would treat any other sort problem, write to output sheet.  If you did a map of the row number which is unique to the string value of the column you are interested in then you could sort the map by value.  This sort of approach would work if you only foresaw the need to sort on a single column.  In any event, it is not as simple as just choosing the sort menu option from within excel.</p>\n"},{"tags":[],"owner":{"account_id":1366264,"reputation":1633,"user_id":1302626,"accept_rate":88,"display_name":"robson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1388434360,"creation_date":1353561134,"answer_id":13506253,"question_id":13134490,"body_markdown":"Now I now why it&#39;s not working. There is a bug in shiftRows method. When third argument (number of rows to shift) is negative, it causes troubles.\r\n\r\nThis is described here: https://issues.apache.org/bugzilla/show_bug.cgi?id=53798\r\n\r\n**UPDATE**\r\nThis bug has been fixed from version 3.9","title":"Apache-POI sorting rows in excel","body":"<p>Now I now why it's not working. There is a bug in shiftRows method. When third argument (number of rows to shift) is negative, it causes troubles.</p>\n\n<p>This is described here: <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=53798\" rel=\"nofollow\">https://issues.apache.org/bugzilla/show_bug.cgi?id=53798</a></p>\n\n<p><strong>UPDATE</strong>\nThis bug has been fixed from version 3.9</p>\n"},{"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559799965,"creation_date":1550649432,"answer_id":54781391,"question_id":13134490,"body_markdown":"To sort rows you need to:\r\n\r\n- copy all rows to temp\r\n- sort rows in the temp\r\n- remove all rows from sheet \r\n- create new rows with values of sorted rows from temp\r\n\r\nCode:\r\n\r\n        \r\n        \r\n```\r\nimport org.apache.commons.compress.utils.Lists;\r\nimport org.apache.poi.hssf.usermodel.HSSFOptimiser;\r\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.CellStyle;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.ss.usermodel.Sheet;\r\nimport org.apache.poi.ss.usermodel.Workbook;\r\nimport org.apache.poi.ss.util.CellRangeAddress;\r\n\r\nimport java.util.List;\r\n\r\npublic static void sortSheet(Workbook workbook, Sheet sheet) {\r\n        //copy all rows to temp\r\n        List&lt;Row&gt; rows = Lists.newArrayList(sheet.rowIterator());\r\n        //sort rows in the temp\r\n        rows.sort(Comparator.comparing(cells -&gt; cells.getCell(0).getStringCellValue()));\r\n        //remove all rows from sheet\r\n        removeAllRows(sheet);\r\n        //create new rows with values of sorted rows from temp\r\n        for (int i = 0; i &lt; rows.size(); i++) {\r\n            Row newRow = sheet.createRow(i);\r\n            Row sourceRow = rows.get(i);\r\n            // Loop through source columns to add to new row\r\n            for (int j = 0; j &lt; sourceRow.getLastCellNum(); j++) {\r\n                // Grab a copy of the old/new cell\r\n                Cell oldCell = sourceRow.getCell(j);\r\n                Cell newCell = newRow.createCell(j);\r\n    \r\n                // If the old cell is null jump to next cell\r\n                if (oldCell == null) {\r\n                    newCell = null;\r\n                    continue;\r\n                }\r\n    \r\n                // Copy style from old cell and apply to new cell\r\n                CellStyle newCellStyle = workbook.createCellStyle();\r\n                newCellStyle.cloneStyleFrom(oldCell.getCellStyle());\r\n                newCell.setCellStyle(newCellStyle);\r\n    \r\n                // If there is a cell comment, copy\r\n                if (oldCell.getCellComment() != null) {\r\n                    newCell.setCellComment(oldCell.getCellComment());\r\n                }\r\n    \r\n                // If there is a cell hyperlink, copy\r\n                if (oldCell.getHyperlink() != null) {\r\n                    newCell.setHyperlink(oldCell.getHyperlink());\r\n                }\r\n    \r\n                // Set the cell data type\r\n                newCell.setCellType(oldCell.getCellType());\r\n    \r\n                // Set the cell data value\r\n                switch (oldCell.getCellType()) {\r\n                    case BLANK:\r\n                        newCell.setCellValue(oldCell.getStringCellValue());\r\n                        break;\r\n                    case BOOLEAN:\r\n                        newCell.setCellValue(oldCell.getBooleanCellValue());\r\n                        break;\r\n                    case ERROR:\r\n                        newCell.setCellErrorValue(oldCell.getErrorCellValue());\r\n                        break;\r\n                    case FORMULA:\r\n                        newCell.setCellFormula(oldCell.getCellFormula());\r\n                        break;\r\n                    case NUMERIC:\r\n                        newCell.setCellValue(oldCell.getNumericCellValue());\r\n                        break;\r\n                    case STRING:\r\n                        newCell.setCellValue(oldCell.getRichStringCellValue());\r\n                        break;\r\n                }\r\n            }\r\n    \r\n            // If there are are any merged regions in the source row, copy to new row\r\n            for (int j = 0; j &lt; sheet.getNumMergedRegions(); j++) {\r\n                CellRangeAddress cellRangeAddress = sheet.getMergedRegion(j);\r\n                if (cellRangeAddress.getFirstRow() == sourceRow.getRowNum()) {\r\n                    CellRangeAddress newCellRangeAddress = new CellRangeAddress(newRow.getRowNum(),\r\n                            (newRow.getRowNum() +\r\n                                    (cellRangeAddress.getLastRow() - cellRangeAddress.getFirstRow()\r\n                                    )),\r\n                            cellRangeAddress.getFirstColumn(),\r\n                            cellRangeAddress.getLastColumn());\r\n                    sheet.addMergedRegion(newCellRangeAddress);\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n    private static void removeAllRows(Sheet sheet) {\r\n            for (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\r\n                sheet.removeRow(sheet.getRow(i));\r\n            }\r\n        }\r\n```\r\n\r\n    \r\n\r\n","title":"Apache-POI sorting rows in excel","body":"<p>To sort rows you need to:</p>\n\n<ul>\n<li>copy all rows to temp</li>\n<li>sort rows in the temp</li>\n<li>remove all rows from sheet </li>\n<li>create new rows with values of sorted rows from temp</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>import org.apache.commons.compress.utils.Lists;\nimport org.apache.poi.hssf.usermodel.HSSFOptimiser;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.CellStyle;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.util.CellRangeAddress;\n\nimport java.util.List;\n\npublic static void sortSheet(Workbook workbook, Sheet sheet) {\n        //copy all rows to temp\n        List&lt;Row&gt; rows = Lists.newArrayList(sheet.rowIterator());\n        //sort rows in the temp\n        rows.sort(Comparator.comparing(cells -&gt; cells.getCell(0).getStringCellValue()));\n        //remove all rows from sheet\n        removeAllRows(sheet);\n        //create new rows with values of sorted rows from temp\n        for (int i = 0; i &lt; rows.size(); i++) {\n            Row newRow = sheet.createRow(i);\n            Row sourceRow = rows.get(i);\n            // Loop through source columns to add to new row\n            for (int j = 0; j &lt; sourceRow.getLastCellNum(); j++) {\n                // Grab a copy of the old/new cell\n                Cell oldCell = sourceRow.getCell(j);\n                Cell newCell = newRow.createCell(j);\n\n                // If the old cell is null jump to next cell\n                if (oldCell == null) {\n                    newCell = null;\n                    continue;\n                }\n\n                // Copy style from old cell and apply to new cell\n                CellStyle newCellStyle = workbook.createCellStyle();\n                newCellStyle.cloneStyleFrom(oldCell.getCellStyle());\n                newCell.setCellStyle(newCellStyle);\n\n                // If there is a cell comment, copy\n                if (oldCell.getCellComment() != null) {\n                    newCell.setCellComment(oldCell.getCellComment());\n                }\n\n                // If there is a cell hyperlink, copy\n                if (oldCell.getHyperlink() != null) {\n                    newCell.setHyperlink(oldCell.getHyperlink());\n                }\n\n                // Set the cell data type\n                newCell.setCellType(oldCell.getCellType());\n\n                // Set the cell data value\n                switch (oldCell.getCellType()) {\n                    case BLANK:\n                        newCell.setCellValue(oldCell.getStringCellValue());\n                        break;\n                    case BOOLEAN:\n                        newCell.setCellValue(oldCell.getBooleanCellValue());\n                        break;\n                    case ERROR:\n                        newCell.setCellErrorValue(oldCell.getErrorCellValue());\n                        break;\n                    case FORMULA:\n                        newCell.setCellFormula(oldCell.getCellFormula());\n                        break;\n                    case NUMERIC:\n                        newCell.setCellValue(oldCell.getNumericCellValue());\n                        break;\n                    case STRING:\n                        newCell.setCellValue(oldCell.getRichStringCellValue());\n                        break;\n                }\n            }\n\n            // If there are are any merged regions in the source row, copy to new row\n            for (int j = 0; j &lt; sheet.getNumMergedRegions(); j++) {\n                CellRangeAddress cellRangeAddress = sheet.getMergedRegion(j);\n                if (cellRangeAddress.getFirstRow() == sourceRow.getRowNum()) {\n                    CellRangeAddress newCellRangeAddress = new CellRangeAddress(newRow.getRowNum(),\n                            (newRow.getRowNum() +\n                                    (cellRangeAddress.getLastRow() - cellRangeAddress.getFirstRow()\n                                    )),\n                            cellRangeAddress.getFirstColumn(),\n                            cellRangeAddress.getLastColumn());\n                    sheet.addMergedRegion(newCellRangeAddress);\n                }\n            }\n        }\n\n    }\n\n    private static void removeAllRows(Sheet sheet) {\n            for (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\n                sheet.removeRow(sheet.getRow(i));\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":1366264,"reputation":1633,"user_id":1302626,"accept_rate":88,"display_name":"robson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34176,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":13506253,"answer_count":3,"score":14,"last_activity_date":1636358558,"creation_date":1351582242,"question_id":13134490,"body_markdown":"I&#39;d like to sort rows in a sheet by one of string column. I tried to achive that using Sheet.shiftRows method, but I cannot manage with that. It doesn&#39;t switch positions of rows in my method. What&#39;s wrong in my code? Or maybe there is better way to sort rows by any String column in excel?\r\n\r\n\t/**\r\n\t * Sorts (A-Z) rows by String column\r\n\t * @param sheet - sheet to sort\r\n\t * @param column - String column to sort by\r\n\t * @param rowStart - sorting from this row down\r\n\t */\r\n    private void sortSheet(Sheet sheet, int column, int rowStart) {\r\n\t\tboolean sorting = true;\r\n\t\tint lastRow = sheet.getLastRowNum();\r\n\t\twhile (sorting == true) {\r\n\t\t\tsorting = false;\r\n\t\t\tfor (Row row : sheet) {\r\n\t\t\t\t// skip if this row is before first to sort\r\n\t\t\t\tif (row.getRowNum()&lt;rowStart) continue;\r\n\t\t\t\t// end if this is last row\r\n\t\t\t\tif (lastRow==row.getRowNum()) break;\r\n\t\t\t\tRow row2 = sheet.getRow(row.getRowNum()+1);\r\n\t\t\t\tif (row2 == null) continue;\r\n\t\t\t\tString firstValue = (row.getCell(column) != null) ? row.getCell(column).getStringCellValue() : &quot;&quot;;\r\n\t\t\t\tString secondValue = (row2.getCell(column) != null) ? row2.getCell(column).getStringCellValue() : &quot;&quot;;\r\n\t\t\t\t//compare cell from current row and next row - and switch if secondValue should be before first\r\n\t\t\t\tif (secondValue.compareToIgnoreCase(firstValue)&lt;0) {\t\t\t\t\t\r\n\t\t\t\t\tsheet.shiftRows(row2.getRowNum(), row2.getRowNum(), -1);\r\n\t\t\t\t\tsheet.shiftRows(row.getRowNum(), row.getRowNum(), 1);\r\n\t\t\t\t\tsorting = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAny idea how to manage row sorting in a sheet?\r\n\r\n\r\n**UPDATE** The method above works since Apache-POI 3.9 version.\r\n\r\nEDIT: Added missing bracket -helvio","title":"Apache-POI sorting rows in excel","body":"<p>I'd like to sort rows in a sheet by one of string column. I tried to achive that using Sheet.shiftRows method, but I cannot manage with that. It doesn't switch positions of rows in my method. What's wrong in my code? Or maybe there is better way to sort rows by any String column in excel?</p>\n\n<pre><code>/**\n * Sorts (A-Z) rows by String column\n * @param sheet - sheet to sort\n * @param column - String column to sort by\n * @param rowStart - sorting from this row down\n */\nprivate void sortSheet(Sheet sheet, int column, int rowStart) {\n    boolean sorting = true;\n    int lastRow = sheet.getLastRowNum();\n    while (sorting == true) {\n        sorting = false;\n        for (Row row : sheet) {\n            // skip if this row is before first to sort\n            if (row.getRowNum()&lt;rowStart) continue;\n            // end if this is last row\n            if (lastRow==row.getRowNum()) break;\n            Row row2 = sheet.getRow(row.getRowNum()+1);\n            if (row2 == null) continue;\n            String firstValue = (row.getCell(column) != null) ? row.getCell(column).getStringCellValue() : \"\";\n            String secondValue = (row2.getCell(column) != null) ? row2.getCell(column).getStringCellValue() : \"\";\n            //compare cell from current row and next row - and switch if secondValue should be before first\n            if (secondValue.compareToIgnoreCase(firstValue)&lt;0) {                    \n                sheet.shiftRows(row2.getRowNum(), row2.getRowNum(), -1);\n                sheet.shiftRows(row.getRowNum(), row.getRowNum(), 1);\n                sorting = true;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Any idea how to manage row sorting in a sheet?</p>\n\n<p><strong>UPDATE</strong> The method above works since Apache-POI 3.9 version.</p>\n\n<p>EDIT: Added missing bracket -helvio</p>\n"},{"tags":["java","oracle","jdbc","tnsnames"],"answers":[{"tags":[],"owner":{"account_id":9956609,"reputation":10666,"user_id":7367293,"display_name":"Connor McDonald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635218587,"creation_date":1635218587,"answer_id":69717126,"question_id":69709797,"body_markdown":"You should not need the full TNS text. The following should suffice\r\n\r\n    getConnection(&quot;jdbc:oracle:thin:myuser/mypass@//&quot;+host+&quot;:&quot;+port+&quot;/&quot;+service);","title":"Connect to an external Oracle DB using TNS","body":"<p>You should not need the full TNS text. The following should suffice</p>\n<pre><code>getConnection(&quot;jdbc:oracle:thin:myuser/mypass@//&quot;+host+&quot;:&quot;+port+&quot;/&quot;+service);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636358067,"creation_date":1636358067,"answer_id":69880173,"question_id":69709797,"body_markdown":"If you have a tnsnames.ora then, you can provide the TNS alias as part of your connection string. Make sure you try to login to the Oracle Database through sqlplus using the connection string present in tnsnames.ora. \r\n\r\n    // dbname_tnsalias - It is the TNS alias present in tnsnames.ora.\r\n     // TNS_ADMIN --&gt; Absolute path where tnsnames.ora is present. \r\n     final String DB_URL=&quot;jdbc:oracle:thin:@dbname_tnsalias?TNS_ADMIN=/Users/test/&quot;;","title":"Connect to an external Oracle DB using TNS","body":"<p>If you have a tnsnames.ora then, you can provide the TNS alias as part of your connection string. Make sure you try to login to the Oracle Database through sqlplus using the connection string present in tnsnames.ora.</p>\n<pre><code>// dbname_tnsalias - It is the TNS alias present in tnsnames.ora.\n // TNS_ADMIN --&gt; Absolute path where tnsnames.ora is present. \n final String DB_URL=&quot;jdbc:oracle:thin:@dbname_tnsalias?TNS_ADMIN=/Users/test/&quot;;\n</code></pre>\n"}],"owner":{"account_id":20683172,"reputation":81,"user_id":15186258,"display_name":"Natsuo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636358067,"creation_date":1635171970,"question_id":69709797,"body_markdown":"I need to connect to an external database to copy data from there to my table. I have a TNS file for this external database, and I am trying to connect using JDBC like this:\r\n```\r\ntry {\r\n            conn = DriverManager.getConnection(&quot;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=&quot; +\r\n                        host +\r\n                        &quot;)(PORT=&quot; +\r\n                        port +\r\n                        &quot;)))(CONNECT_DATA=(SERVICE_NAME=&quot; +\r\n                        service +\r\n                        &quot;)))&quot;,\r\n                    user,\r\n                    password);\r\n...\r\n\r\n\r\n```\r\n\r\nBut when trying to connect, i get the error ```java.net.UnknownHostException``` (host is not recognized). I guess the problem is that this is an internal host and I don&#39;t have access to it.\r\nHow to connect to the database using TNS?","title":"Connect to an external Oracle DB using TNS","body":"<p>I need to connect to an external database to copy data from there to my table. I have a TNS file for this external database, and I am trying to connect using JDBC like this:</p>\n<pre><code>try {\n            conn = DriverManager.getConnection(&quot;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=&quot; +\n                        host +\n                        &quot;)(PORT=&quot; +\n                        port +\n                        &quot;)))(CONNECT_DATA=(SERVICE_NAME=&quot; +\n                        service +\n                        &quot;)))&quot;,\n                    user,\n                    password);\n...\n\n\n</code></pre>\n<p>But when trying to connect, i get the error <code>java.net.UnknownHostException</code> (host is not recognized). I guess the problem is that this is an internal host and I don't have access to it.\nHow to connect to the database using TNS?</p>\n"},{"tags":["java","cannot-find-symbol"],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636357715,"creation_date":1636357715,"answer_id":69880105,"question_id":69880062,"body_markdown":"## Explanation ##\r\n\r\nIt is just `this.getTotalWeight()` or just `getTotalWeight()`. The method belongs to your `Suitcase` class (your `this` in the context), not to the `items`, which is of type `ArrayList`.\r\n\r\nSo correct it to:\r\n\r\n```java\r\npublic String toString() {\r\n  if (this.items.size() == 1) {\r\n    return this.items.size() + &quot; item (&quot; + this.getTotalWeight() + &quot; kg)&quot;;\r\n  } else {\r\n    return this.items.size() + &quot; items (&quot; + this.getTotalWeight() + &quot; kg)&quot;;\r\n  }\r\n}\r\n```\r\nAlso, please never forget to add `@Override` when you override methods (such as `toString`), this gives you additional compiler help.\r\n\r\n----------\r\n## Simplifcations ##\r\n\r\nWhile at it, you can simplify the code a bit, like so:\r\n```java\r\n@Override\r\npublic String toString() {\r\n  String itemText = items.size() == 1 ? &quot;item&quot; : &quot;items&quot;;\r\n  return &quot;%d %s (%d kg)&quot;.formatted(items.size(), itemText, getTotalWeight());\r\n}\r\n```\r\nThe key changes are:\r\n * getting rid of the code duplication, the branching should only contain the part that actually changes (i.e. `item` vs `items`)\r\n * using ternary for readability instead of if-else\r\n * using formatted-strings for readability\r\n * removing the obsolete `this.` prefixes\r\n * adding `Override`","title":"Cannot find symbol in toString","body":"<h2>Explanation</h2>\n<p>It is just <code>this.getTotalWeight()</code> or just <code>getTotalWeight()</code>. The method belongs to your <code>Suitcase</code> class (your <code>this</code> in the context), not to the <code>items</code>, which is of type <code>ArrayList</code>.</p>\n<p>So correct it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String toString() {\n  if (this.items.size() == 1) {\n    return this.items.size() + &quot; item (&quot; + this.getTotalWeight() + &quot; kg)&quot;;\n  } else {\n    return this.items.size() + &quot; items (&quot; + this.getTotalWeight() + &quot; kg)&quot;;\n  }\n}\n</code></pre>\n<p>Also, please never forget to add <code>@Override</code> when you override methods (such as <code>toString</code>), this gives you additional compiler help.</p>\n<hr />\n<h2>Simplifcations</h2>\n<p>While at it, you can simplify the code a bit, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String toString() {\n  String itemText = items.size() == 1 ? &quot;item&quot; : &quot;items&quot;;\n  return &quot;%d %s (%d kg)&quot;.formatted(items.size(), itemText, getTotalWeight());\n}\n</code></pre>\n<p>The key changes are:</p>\n<ul>\n<li>getting rid of the code duplication, the branching should only contain the part that actually changes (i.e. <code>item</code> vs <code>items</code>)</li>\n<li>using ternary for readability instead of if-else</li>\n<li>using formatted-strings for readability</li>\n<li>removing the obsolete <code>this.</code> prefixes</li>\n<li>adding <code>Override</code></li>\n</ul>\n"}],"owner":{"account_id":18006739,"reputation":15,"user_id":17149193,"display_name":"sqpl13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1636357988,"creation_date":1636357482,"question_id":69880062,"body_markdown":"## Problem ##\r\n\r\nI am trying to create a simple `Suitcase` class that wraps some `Item`s which have a `weight`.\r\n\r\nI created a `getTotalWeight()` method and now I want to call it in my `toString` method but I get:\r\n\r\n&gt; cannot find symbol\r\n\r\non my statement `this.items.getTotalWeight()` in the `toString` method. Why? What am I doing wrong?\r\n\r\n## Code ##\r\n\r\nHere is the code:\r\n\r\n**Item.java**\r\n\r\n    public class Item {\r\n        private int weight;\r\n        private String name;\r\n        \r\n        public Item(String name, int weight) {\r\n            this.name = name;\r\n            this.weight = weight;\r\n        }\r\n        \r\n        public String toString() {\r\n            return this.name + &quot; (&quot; + this.weight + &quot;)&quot;;\r\n        }\r\n        \r\n        public int getWeight() {\r\n            return this.weight;\r\n        }  \r\n    }\r\n\r\n**Suitcase.java**\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class Suitcase {\r\n        private ArrayList&lt;Item&gt; items;\r\n    \r\n        public Suitcase() {\r\n            this.items = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public void addItem(Item item) {\r\n            this.items.add(item);\r\n        }\r\n    \r\n        public int getTotalWeight() {\r\n            int totalWeight = 0;\r\n            for (Item item : items) {\r\n                totalWeight += item.getWeight();\r\n            }\r\n            return totalWeight;\r\n        }\r\n    \r\n        public String toString() {\r\n            if (this.items.size() == 1) {\r\n                return this.items.size() + &quot; item (&quot; + this.items.getTotalWeight() + &quot; kg)&quot;;\r\n            } else {\r\n                return this.items.size() + &quot; items (&quot; + this.items.getTotalWeight() + &quot; kg)&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Cannot find symbol in toString","body":"<h2>Problem</h2>\n<p>I am trying to create a simple <code>Suitcase</code> class that wraps some <code>Item</code>s which have a <code>weight</code>.</p>\n<p>I created a <code>getTotalWeight()</code> method and now I want to call it in my <code>toString</code> method but I get:</p>\n<blockquote>\n<p>cannot find symbol</p>\n</blockquote>\n<p>on my statement <code>this.items.getTotalWeight()</code> in the <code>toString</code> method. Why? What am I doing wrong?</p>\n<h2>Code</h2>\n<p>Here is the code:</p>\n<p><strong>Item.java</strong></p>\n<pre><code>public class Item {\n    private int weight;\n    private String name;\n    \n    public Item(String name, int weight) {\n        this.name = name;\n        this.weight = weight;\n    }\n    \n    public String toString() {\n        return this.name + &quot; (&quot; + this.weight + &quot;)&quot;;\n    }\n    \n    public int getWeight() {\n        return this.weight;\n    }  \n}\n</code></pre>\n<p><strong>Suitcase.java</strong></p>\n<pre><code>import java.util.ArrayList;\n\npublic class Suitcase {\n    private ArrayList&lt;Item&gt; items;\n\n    public Suitcase() {\n        this.items = new ArrayList&lt;&gt;();\n    }\n\n    public void addItem(Item item) {\n        this.items.add(item);\n    }\n\n    public int getTotalWeight() {\n        int totalWeight = 0;\n        for (Item item : items) {\n            totalWeight += item.getWeight();\n        }\n        return totalWeight;\n    }\n\n    public String toString() {\n        if (this.items.size() == 1) {\n            return this.items.size() + &quot; item (&quot; + this.items.getTotalWeight() + &quot; kg)&quot;;\n        } else {\n            return this.items.size() + &quot; items (&quot; + this.items.getTotalWeight() + &quot; kg)&quot;;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","jpa","connection-timeout"],"comments":[{"owner":{"account_id":6835553,"reputation":2555,"user_id":5257704,"accept_rate":96,"display_name":"Tony"},"score":0,"creation_date":1509354350,"post_id":2077081,"comment_id":80969117,"body_markdown":"Please help https://stackoverflow.com/questions/47011116/the-last-packet-sent-successfully-to-the-server-was-70-400-003-milliseconds-ag","body":"Please help <a href=\"https://stackoverflow.com/questions/47011116/the-last-packet-sent-successfully-to-the-server-was-70-400-003-milliseconds-ag\" title=\"the last packet sent successfully to the server was 70 400 003 milliseconds ag\">stackoverflow.com/questions/47011116/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1358871126,"creation_date":1263641793,"answer_id":2077182,"question_id":2077081,"body_markdown":"The text describes three solutions to prevent connection aborts:\r\n\r\n 1. Configure the connection string with `autoReconnect=true`. This is a property of the URL connection string, which works at the driver level. You need to change the connection string in the data source configuration.\r\n\r\n        url=&quot;jdbc:mysql://localhost:3306/confluence?autoReconnect=true&quot;\r\n\r\n 2. Increase the timeout. This is normally a property of the database. You can increase this value to see if you get less connection abort.\r\n\r\n\r\n 3. Configure the connection pool to test the connection validatiy. This is done at the pool, not a the driver level. This will depend on the data source implementation that you use. But it should be configurable in the property of the data source, if you use a pooled one, e.g. [c3p0][1].\r\n\r\n  - https://stackoverflow.com/questions/520585/connection-pooling-options-with-jdbc-dbcp-vs-c3p0\r\n  - http://snipplr.com/view/14725/c3p0-datasource-config-connectionpool/\r\n  - http://www.mchange.com/projects/c3p0/index.html#configuring_connection_testing\r\n\r\nAdditionnal comments:\r\n\r\n- The datasource/pool can also have a timeout, which corresponds to the time an idle connection remains in the pool. To not confused with the db timeout.\r\n- There are several way to test the validity of a connection. One common way is to have dummy test table. The pool will issue a select on the dummy test table to see if the connection is still OK. \r\n\r\n  [1]: http://sourceforge.net/projects/c3p0/","title":"Connection with MySql is being aborted automatically. How to configure Connector/J properly?","body":"<p>The text describes three solutions to prevent connection aborts:</p>\n\n<ol>\n<li><p>Configure the connection string with <code>autoReconnect=true</code>. This is a property of the URL connection string, which works at the driver level. You need to change the connection string in the data source configuration.</p>\n\n<pre><code>url=\"jdbc:mysql://localhost:3306/confluence?autoReconnect=true\"\n</code></pre></li>\n<li><p>Increase the timeout. This is normally a property of the database. You can increase this value to see if you get less connection abort.</p></li>\n<li><p>Configure the connection pool to test the connection validatiy. This is done at the pool, not a the driver level. This will depend on the data source implementation that you use. But it should be configurable in the property of the data source, if you use a pooled one, e.g. <a href=\"http://sourceforge.net/projects/c3p0/\" rel=\"noreferrer\">c3p0</a>.</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/520585/connection-pooling-options-with-jdbc-dbcp-vs-c3p0\">Connection pooling options with JDBC: DBCP vs C3P0</a></li>\n<li><a href=\"http://snipplr.com/view/14725/c3p0-datasource-config-connectionpool/\" rel=\"noreferrer\">http://snipplr.com/view/14725/c3p0-datasource-config-connectionpool/</a></li>\n<li><a href=\"http://www.mchange.com/projects/c3p0/index.html#configuring_connection_testing\" rel=\"noreferrer\">http://www.mchange.com/projects/c3p0/index.html#configuring_connection_testing</a></li>\n</ul></li>\n</ol>\n\n<p>Additionnal comments:</p>\n\n<ul>\n<li>The datasource/pool can also have a timeout, which corresponds to the time an idle connection remains in the pool. To not confused with the db timeout.</li>\n<li>There are several way to test the validity of a connection. One common way is to have dummy test table. The pool will issue a select on the dummy test table to see if the connection is still OK. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":894782,"reputation":18774,"user_id":932307,"accept_rate":93,"display_name":"Gaurav Agarwal"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1606296567,"creation_date":1345228442,"answer_id":12011325,"question_id":2077081,"body_markdown":"`AutoReconnect` is not recommended. From MySQL [here][1]\r\n\r\n&gt; Should the driver try to re-establish stale and/or dead connections?\r\n&gt; If enabled the driver will throw an exception for a queries issued on\r\n&gt; a stale or dead connection, which belong to the current transaction,\r\n&gt; but will attempt reconnect before the next query issued on the\r\n&gt; connection in a new transaction. The use of this feature is not\r\n&gt; recommended, because it has side effects related to session state and\r\n&gt; data consistency when applications don&#39;t handle SQLExceptions\r\n&gt; properly, and is only designed to be used when you are unable to\r\n&gt; configure your application to handle SQLExceptions resulting from dead\r\n&gt; and stale connections properly. Alternatively, as a last option,\r\n&gt; investigate setting the MySQL server variable &quot;wait_timeout&quot; to a high\r\n&gt; value, rather than the default of 8 hours.\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-troubleshooting.html#qandaitem-15-1-9","title":"Connection with MySql is being aborted automatically. How to configure Connector/J properly?","body":"<p><code>AutoReconnect</code> is not recommended. From MySQL <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-troubleshooting.html#qandaitem-15-1-9\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>Should the driver try to re-establish stale and/or dead connections?\nIf enabled the driver will throw an exception for a queries issued on\na stale or dead connection, which belong to the current transaction,\nbut will attempt reconnect before the next query issued on the\nconnection in a new transaction. The use of this feature is not\nrecommended, because it has side effects related to session state and\ndata consistency when applications don't handle SQLExceptions\nproperly, and is only designed to be used when you are unable to\nconfigure your application to handle SQLExceptions resulting from dead\nand stale connections properly. Alternatively, as a last option,\ninvestigate setting the MySQL server variable &quot;wait_timeout&quot; to a high\nvalue, rather than the default of 8 hours.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"down_vote_count":12,"up_vote_count":3,"is_accepted":false,"score":-9,"last_activity_date":1421790402,"creation_date":1421790402,"answer_id":28055723,"question_id":2077081,"body_markdown":"This is for people like me who find this old posting through the search engines.  \r\n  \r\nThe other answers are better **long term** solutions.  But if you just need the `mysql` connection running again right away, you can `shutdown` then `restart` `tomcat` and everything will work fine for a while.  This enables you to avoid system downtime while you figure out a longer term solution.  \r\n  \r\nNavigate to `$CATALINA_HOME` in the `terminal`, then type `shutdown.sh`, then type `startup.sh`.  Wait a few moments for the startup sequence to complete, then your apps will work again for a while.\r\n","title":"Connection with MySql is being aborted automatically. How to configure Connector/J properly?","body":"<p>This is for people like me who find this old posting through the search engines.  </p>\n\n<p>The other answers are better <strong>long term</strong> solutions.  But if you just need the <code>mysql</code> connection running again right away, you can <code>shutdown</code> then <code>restart</code> <code>tomcat</code> and everything will work fine for a while.  This enables you to avoid system downtime while you figure out a longer term solution.  </p>\n\n<p>Navigate to <code>$CATALINA_HOME</code> in the <code>terminal</code>, then type <code>shutdown.sh</code>, then type <code>startup.sh</code>.  Wait a few moments for the startup sequence to complete, then your apps will work again for a while.</p>\n"},{"tags":[],"owner":{"account_id":8886305,"reputation":1872,"user_id":6634462,"accept_rate":0,"display_name":"Ravindra Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514382641,"creation_date":1514382641,"answer_id":47993363,"question_id":2077081,"body_markdown":"I was go through many solutions and my problem was solved but after some time the connection is timeout or disconnected.After 2 3 days I got a solution that solve my problem.   \r\n    \r\nmany solution suggest to use **autoReconnect=true** but when I was go through the docs. I saw the following text in the source describing the autoReconnect parameter: \r\n      \r\nThe use of this feature is not recommended, because it has side effects related to session state and data consistency  \r\n    \r\nWhen I looked in the Hibernate code. The basic connection mechanism of Hibernate doesn’t support reconnecting, one has to use H3C0 connection pool (which itself didn&#39;t always support reconnecting).\r\n    \r\nBut once one’s used H3C0, the default behavior seems to be that to process a request, if the connection is dead then the user sees and error - but at least it reconnects for the next request. I suppose one error is better than infinite errors, but still not as good as zero errors. It turns out one needs the optiontestConnectionOnCheckout- which the documentation doesn’t recommend because testing the connection before a request might lead to lower performance. Surely the software firstly has to work, only secondly does it have to work fast.\r\n    \r\nSo, to summarize, to get a connection to “work” (which I define as including handling dropped connections by reconnecting without error): In “hibernate.cfg.xml”:\r\n    \r\n  \r\n\r\n      &lt;!-- hibernate.cfg.xml --&gt;\r\n        &lt;property name=&quot;c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.timeout&quot;&gt;1800&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n        &lt;!-- no &quot;connection.pool_size&quot; entry! --&gt;\r\n    \r\nThen create a file “c3p0.properties” which must be in the root of the classpath (i.e. no way to override it for particular parts of the application):\r\n    \r\n# c3p0.properties\r\nc3p0.testConnectionOnCheckout=true\r\n    \r\nIf this solution don&#39;t work than there are more possible solutions:- \r\n  \r\n\r\n    1. Add\r\n    \r\n    &lt;property name=&quot;connection.provider_class&quot;&gt;org.hibernate.connection.C3P0ConnectionProvider&lt;/property&gt;\r\n    \r\n     Also dont forget to place the c3p0-0.9.1.jar in the classpath. \r\n        \r\n    \r\n    \r\n        2. Instead of using that c3p0.properties file, couldn&#39;t you just use this property in your hibernate.cfg.xml:\r\n        \r\n    &lt;property name=&quot;hibernate.c3p0.validate&quot;&gt;true&lt;/property&gt;\r\n        \r\n        Also checkout the last post on this page:\r\n        \r\n        https://forum.hibernate.org/viewtopic.php?p=2399313\r\n        \r\n        If all these not work than go [more][1] and read in detail\r\n    \r\n    \r\n      [1]: http://hibernatedb.blogspot.in/2009/05/automatic-reconnect-from-hibernate-to.html","title":"Connection with MySql is being aborted automatically. How to configure Connector/J properly?","body":"<p>I was go through many solutions and my problem was solved but after some time the connection is timeout or disconnected.After 2 3 days I got a solution that solve my problem.   </p>\n\n<p>many solution suggest to use <strong>autoReconnect=true</strong> but when I was go through the docs. I saw the following text in the source describing the autoReconnect parameter: </p>\n\n<p>The use of this feature is not recommended, because it has side effects related to session state and data consistency  </p>\n\n<p>When I looked in the Hibernate code. The basic connection mechanism of Hibernate doesn’t support reconnecting, one has to use H3C0 connection pool (which itself didn't always support reconnecting).</p>\n\n<p>But once one’s used H3C0, the default behavior seems to be that to process a request, if the connection is dead then the user sees and error - but at least it reconnects for the next request. I suppose one error is better than infinite errors, but still not as good as zero errors. It turns out one needs the optiontestConnectionOnCheckout- which the documentation doesn’t recommend because testing the connection before a request might lead to lower performance. Surely the software firstly has to work, only secondly does it have to work fast.</p>\n\n<p>So, to summarize, to get a connection to “work” (which I define as including handling dropped connections by reconnecting without error): In “hibernate.cfg.xml”:</p>\n\n<pre><code>  &lt;!-- hibernate.cfg.xml --&gt;\n    &lt;property name=\"c3p0.min_size\"&gt;5&lt;/property&gt;\n    &lt;property name=\"c3p0.max_size\"&gt;20&lt;/property&gt;\n    &lt;property name=\"c3p0.timeout\"&gt;1800&lt;/property&gt;\n    &lt;property name=\"c3p0.max_statements\"&gt;50&lt;/property&gt;\n    &lt;!-- no \"connection.pool_size\" entry! --&gt;\n</code></pre>\n\n<p>Then create a file “c3p0.properties” which must be in the root of the classpath (i.e. no way to override it for particular parts of the application):</p>\n\n<h1>c3p0.properties</h1>\n\n<p>c3p0.testConnectionOnCheckout=true</p>\n\n<p>If this solution don't work than there are more possible solutions:- </p>\n\n<pre><code>1. Add\n\n&lt;property name=\"connection.provider_class\"&gt;org.hibernate.connection.C3P0ConnectionProvider&lt;/property&gt;\n\n Also dont forget to place the c3p0-0.9.1.jar in the classpath. \n\n\n\n    2. Instead of using that c3p0.properties file, couldn't you just use this property in your hibernate.cfg.xml:\n\n&lt;property name=\"hibernate.c3p0.validate\"&gt;true&lt;/property&gt;\n\n    Also checkout the last post on this page:\n\n    https://forum.hibernate.org/viewtopic.php?p=2399313\n\n    If all these not work than go [more][1] and read in detail\n\n\n  [1]: http://hibernatedb.blogspot.in/2009/05/automatic-reconnect-from-hibernate-to.html\n</code></pre>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77103,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":2077182,"answer_count":4,"score":54,"last_activity_date":1636357496,"creation_date":1263639664,"question_id":2077081,"body_markdown":"I read this advice from error message:\r\n\r\n&gt; You should consider either expiring\r\n&gt; and/or testing connection validity\r\n&gt; before use in your application,\r\n&gt; increasing the server configured\r\n&gt; values for client timeouts, or using\r\n&gt; the Connector/J connection property\r\n&gt; &#39;autoReconnect=true&#39; to avoid this\r\n&gt; problem.\r\n\r\nI&#39;m using Spring and JPA. Where should I configure Connector/J? (in `persistence.xml`, or in `entityManagerFactory` spring configuration, or in `dateSource` spring configuration, or somewhere else?) \r\n","title":"Connection with MySql is being aborted automatically. How to configure Connector/J properly?","body":"<p>I read this advice from error message:</p>\n\n<blockquote>\n  <p>You should consider either expiring\n  and/or testing connection validity\n  before use in your application,\n  increasing the server configured\n  values for client timeouts, or using\n  the Connector/J connection property\n  'autoReconnect=true' to avoid this\n  problem.</p>\n</blockquote>\n\n<p>I'm using Spring and JPA. Where should I configure Connector/J? (in <code>persistence.xml</code>, or in <code>entityManagerFactory</code> spring configuration, or in <code>dateSource</code> spring configuration, or somewhere else?) </p>\n"},{"tags":["java","mysql","spring","jdbc","database-connection"],"answers":[{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1268115216,"creation_date":1268115216,"answer_id":2407017,"question_id":2406517,"body_markdown":"I would suggest that you use a **connection pool** instead. They improve performance and can take care of the low-level details such as reconnect after timeout, etc. \r\n\r\nA good one is [c3p0][1], but there are others. Spring has [support for that][2], though I don&#39;t know all the details. [Here][3] is the configuration of a `DataSource` for Spring. \r\n\r\n  [1]: http://sourceforge.net/projects/c3p0/\r\n  [2]: http://www.devshed.com/c/a/Java/Data-Access-Using-Spring-Framework-JDBC/1/\r\n  [3]: http://snipplr.com/view/14725/c3p0-datasource-config-connectionpool/","title":"MySql timeouts - Should I set autoReconnect=true in Spring application?","body":"<p>I would suggest that you use a <strong>connection pool</strong> instead. They improve performance and can take care of the low-level details such as reconnect after timeout, etc. </p>\n\n<p>A good one is <a href=\"http://sourceforge.net/projects/c3p0/\" rel=\"noreferrer\">c3p0</a>, but there are others. Spring has <a href=\"http://www.devshed.com/c/a/Java/Data-Access-Using-Spring-Framework-JDBC/1/\" rel=\"noreferrer\">support for that</a>, though I don't know all the details. <a href=\"http://snipplr.com/view/14725/c3p0-datasource-config-connectionpool/\" rel=\"noreferrer\">Here</a> is the configuration of a <code>DataSource</code> for Spring. </p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1268220646,"creation_date":1268220646,"answer_id":2416455,"question_id":2406517,"body_markdown":"This exception can have 2 causes:\r\n\r\n1. You aren&#39;t closing the JDBC resources properly. All of the `Connection`, `Statement` and `ResultSet` **must** be closed in reversed order in the `finally` block of the `try` block where they&#39;re been acquired. This is regardless of the fact whether you&#39;re using a connection pool or not.\r\n\r\n2. You are closing the JDBC resources properly, but using a connection pool with poor settings. You need to make sure that the connection pool don&#39;t hold connections open longer than the DB configrured timeout. Decrease the one or increase the other in the configuration.","title":"MySql timeouts - Should I set autoReconnect=true in Spring application?","body":"<p>This exception can have 2 causes:</p>\n\n<ol>\n<li><p>You aren't closing the JDBC resources properly. All of the <code>Connection</code>, <code>Statement</code> and <code>ResultSet</code> <strong>must</strong> be closed in reversed order in the <code>finally</code> block of the <code>try</code> block where they're been acquired. This is regardless of the fact whether you're using a connection pool or not.</p></li>\n<li><p>You are closing the JDBC resources properly, but using a connection pool with poor settings. You need to make sure that the connection pool don't hold connections open longer than the DB configrured timeout. Decrease the one or increase the other in the configuration.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":103447,"reputation":6421,"user_id":277084,"accept_rate":100,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1282898227,"creation_date":1282898227,"answer_id":3582510,"question_id":2406517,"body_markdown":"We needed to set the following properties in order to avoid the timeout even with connection pooling; we use the Apache Commons DBCP.\r\n\r\n\r\n    &lt;property name=&quot;validationQuery&quot;&gt; &lt;value&gt;SELECT 1&lt;/value&gt;  &lt;/property&gt;\r\n    &lt;property name=&quot;testOnBorrow&quot;&gt;    &lt;value&gt;true&lt;/value&gt;      &lt;/property&gt;\r\n","title":"MySql timeouts - Should I set autoReconnect=true in Spring application?","body":"<p>We needed to set the following properties in order to avoid the timeout even with connection pooling; we use the Apache Commons DBCP.</p>\n\n<pre><code>&lt;property name=\"validationQuery\"&gt; &lt;value&gt;SELECT 1&lt;/value&gt;  &lt;/property&gt;\n&lt;property name=\"testOnBorrow\"&gt;    &lt;value&gt;true&lt;/value&gt;      &lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":90956,"reputation":3271,"user_id":2597868,"accept_rate":67,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13020,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2407017,"answer_count":3,"score":3,"last_activity_date":1636357421,"creation_date":1268106547,"question_id":2406517,"body_markdown":"After periods of inactivity on my website (Using Spring 2.5 and MySql), I get the following error:\r\n\r\n`org.springframework.dao.RecoverableDataAccessException: The last packet sent successfully to the server was 52,847,830 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.`\r\n\r\nAccording to [this question](https://stackoverflow.com/questions/667289/why-does-autoreconnecttrue-not-seem-to-work), and the [linked bug](http://bugs.mysql.com/bug.php?id=5020), I shouldn&#39;t just set autoReconnect=true.  Does this mean I have to catch this exception on any queries I do and then retry the transaction?  Should that logic be in the data access layer, or the model layer?  Is there an easy way to handle this instead of wrapping every single query to catch this?","title":"MySql timeouts - Should I set autoReconnect=true in Spring application?","body":"<p>After periods of inactivity on my website (Using Spring 2.5 and MySql), I get the following error:</p>\n\n<p><code>org.springframework.dao.RecoverableDataAccessException: The last packet sent successfully to the server was 52,847,830 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.</code></p>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/667289/why-does-autoreconnecttrue-not-seem-to-work\">this question</a>, and the <a href=\"http://bugs.mysql.com/bug.php?id=5020\" rel=\"nofollow noreferrer\">linked bug</a>, I shouldn't just set autoReconnect=true.  Does this mean I have to catch this exception on any queries I do and then retry the transaction?  Should that logic be in the data access layer, or the model layer?  Is there an easy way to handle this instead of wrapping every single query to catch this?</p>\n"},{"tags":["java","jpa","jdbc","connection-pooling","jdbc-odbc"],"comments":[{"owner":{"account_id":4183435,"reputation":317,"user_id":3427746,"accept_rate":74,"display_name":"Gaurav Parek"},"score":0,"creation_date":1513426253,"post_id":30521146,"comment_id":82655054,"body_markdown":"Hi PeakGen, I am facing the same issue which you mentioned about closed connection error, but that happens after a quite long time not after 8 hours. Are there any config settings which I can check for to confirm on that as to me it looks like that only is causing the issue as I have not kept check on connection if its valid or not. Any help is really appreciated. Thanks","body":"Hi PeakGen, I am facing the same issue which you mentioned about closed connection error, but that happens after a quite long time not after 8 hours. Are there any config settings which I can check for to confirm on that as to me it looks like that only is causing the issue as I have not kept check on connection if its valid or not. Any help is really appreciated. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1433325426,"creation_date":1432883260,"answer_id":30523273,"question_id":30521146,"body_markdown":"There is a good section on [configuring connection testing][1] in the C3P0 documentation. Also, see the section on [configuration override][2], in particular the precedence rules.\r\n\r\n(In particular, the advice on using JDBC4 drivers which supports `isValid()` is good.)\r\n\r\nIn your code, you could simply add\r\n\r\n    cpds.setTestConnectionOnCheckout( true );\r\n    cpds.setPreferredTestQuery( &quot;SELECT 1&quot; );\r\n\r\nto your `DataSource` constructor. Be sure that the query actually talks to the database, I seem to recall some driver implementations that didn&#39;t actually go to the DB for certain queries of this kind :-)\r\n\r\nCheers,\r\n\r\n\r\n  [1]: http://www.mchange.com/projects/c3p0/#configuring_connection_testing\r\n  [2]: http://www.mchange.com/projects/c3p0/#c3p0_properties","title":"How configure connection existence check in C3P0?","body":"<p>There is a good section on <a href=\"http://www.mchange.com/projects/c3p0/#configuring_connection_testing\" rel=\"noreferrer\">configuring connection testing</a> in the C3P0 documentation. Also, see the section on <a href=\"http://www.mchange.com/projects/c3p0/#c3p0_properties\" rel=\"noreferrer\">configuration override</a>, in particular the precedence rules.</p>\n\n<p>(In particular, the advice on using JDBC4 drivers which supports <code>isValid()</code> is good.)</p>\n\n<p>In your code, you could simply add</p>\n\n<pre><code>cpds.setTestConnectionOnCheckout( true );\ncpds.setPreferredTestQuery( \"SELECT 1\" );\n</code></pre>\n\n<p>to your <code>DataSource</code> constructor. Be sure that the query actually talks to the database, I seem to recall some driver implementations that didn't actually go to the DB for certain queries of this kind :-)</p>\n\n<p>Cheers,</p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10793,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30523273,"answer_count":1,"score":5,"last_activity_date":1636357357,"creation_date":1432873604,"question_id":30521146,"body_markdown":"I am using the below code to get `Connection`. I have used the `c3p0` library for connection pooling.\r\n\r\n    package com.dataSource.c3p0;\r\n    \r\n    import java.beans.PropertyVetoException;\r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n    \r\n    import com.mchange.v2.c3p0.ComboPooledDataSource;\r\n    \r\n    public class DataSource {\r\n    \r\n        private static DataSource     datasource;\r\n        private ComboPooledDataSource cpds;\r\n    \r\n        private DataSource() throws IOException, SQLException, PropertyVetoException {\r\n            cpds = new ComboPooledDataSource();\r\n            cpds.setDriverClass(&quot;com.mysql.jdbc.Driver&quot;); //loads the jdbc driver\r\n            cpds.setJdbcUrl(&quot;jdbc:mysql://localhost/test&quot;);\r\n            cpds.setUser(&quot;root&quot;);\r\n            cpds.setPassword(&quot;root&quot;);\r\n    \r\n            // the settings below are optional -- c3p0 can work with defaults\r\n            cpds.setMinPoolSize(5);\r\n            cpds.setAcquireIncrement(5);\r\n            cpds.setMaxPoolSize(20);\r\n            cpds.setMaxStatements(180);\r\n    \r\n        }\r\n    \r\n        public static DataSource getInstance() throws IOException, SQLException, PropertyVetoException {\r\n            if (datasource == null) {\r\n                datasource = new DataSource();\r\n                return datasource;\r\n            } else {\r\n                return datasource;\r\n            }\r\n        }\r\n    \r\n        public Connection getConnection() throws SQLException {\r\n            return this.cpds.getConnection();\r\n        }\r\n    \r\n    }\r\n\r\nNow my question is, this code is not checking whether the connection is existing or not. Most likely this will get hit by the famous connection closed error after 8 hours.\r\n\r\nWhile I was using C3P0 with hibernate, there were configurations to test the connection and re-establish it. The config I did was below\r\n\r\n    &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;3000&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;300&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.testConnectionOnCheckout&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.preferredTestQuery&quot;&gt;SELECT 1&lt;/property&gt;\r\n\r\nHow can I do the same connection test on checkout here, so I can use it in JDBC too?","title":"How configure connection existence check in C3P0?","body":"<p>I am using the below code to get <code>Connection</code>. I have used the <code>c3p0</code> library for connection pooling.</p>\n\n<pre><code>package com.dataSource.c3p0;\n\nimport java.beans.PropertyVetoException;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\nimport com.mchange.v2.c3p0.ComboPooledDataSource;\n\npublic class DataSource {\n\n    private static DataSource     datasource;\n    private ComboPooledDataSource cpds;\n\n    private DataSource() throws IOException, SQLException, PropertyVetoException {\n        cpds = new ComboPooledDataSource();\n        cpds.setDriverClass(\"com.mysql.jdbc.Driver\"); //loads the jdbc driver\n        cpds.setJdbcUrl(\"jdbc:mysql://localhost/test\");\n        cpds.setUser(\"root\");\n        cpds.setPassword(\"root\");\n\n        // the settings below are optional -- c3p0 can work with defaults\n        cpds.setMinPoolSize(5);\n        cpds.setAcquireIncrement(5);\n        cpds.setMaxPoolSize(20);\n        cpds.setMaxStatements(180);\n\n    }\n\n    public static DataSource getInstance() throws IOException, SQLException, PropertyVetoException {\n        if (datasource == null) {\n            datasource = new DataSource();\n            return datasource;\n        } else {\n            return datasource;\n        }\n    }\n\n    public Connection getConnection() throws SQLException {\n        return this.cpds.getConnection();\n    }\n\n}\n</code></pre>\n\n<p>Now my question is, this code is not checking whether the connection is existing or not. Most likely this will get hit by the famous connection closed error after 8 hours.</p>\n\n<p>While I was using C3P0 with hibernate, there were configurations to test the connection and re-establish it. The config I did was below</p>\n\n<pre><code>&lt;property name=\"hibernate.c3p0.min_size\"&gt;5&lt;/property&gt;\n    &lt;property name=\"hibernate.c3p0.max_size\"&gt;20&lt;/property&gt;\n    &lt;property name=\"hibernate.c3p0.timeout\"&gt;3000&lt;/property&gt;\n    &lt;property name=\"hibernate.c3p0.max_statements\"&gt;50&lt;/property&gt;\n    &lt;property name=\"hibernate.c3p0.idle_test_period\"&gt;300&lt;/property&gt;\n    &lt;property name=\"hibernate.c3p0.testConnectionOnCheckout\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hibernate.c3p0.preferredTestQuery\"&gt;SELECT 1&lt;/property&gt;\n</code></pre>\n\n<p>How can I do the same connection test on checkout here, so I can use it in JDBC too?</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":7579769,"reputation":1256,"user_id":5750787,"accept_rate":100,"display_name":"ArunKumar M N"},"score":0,"creation_date":1555333561,"post_id":55689810,"comment_id":98062603,"body_markdown":"what is your database url?","body":"what is your database url?"},{"owner":{"account_id":3665110,"reputation":55,"user_id":3053778,"display_name":"Subhrajit"},"score":0,"creation_date":1555334521,"post_id":55689810,"comment_id":98063242,"body_markdown":"jdbc:mysql://&lt;****&gt;.rds.amazonaws.com:&lt;port&gt;/&lt;schema&gt;","body":"jdbc:mysql://&lt;****&gt;.rds.amazonaws.com:&lt;port&gt;/&lt;schema&gt;"}],"answers":[{"tags":[],"owner":{"account_id":2520064,"reputation":31,"user_id":2190613,"display_name":"Kolomolobolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555346965,"creation_date":1555346965,"answer_id":55693884,"question_id":55689810,"body_markdown":"Recently we had kind of the same issue. Our application failed to connect to aws Aurora instance. What we ended up doing changing sql driver to mariadb one. Hope this will help.","title":"MySQL : EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost","body":"<p>Recently we had kind of the same issue. Our application failed to connect to aws Aurora instance. What we ended up doing changing sql driver to mariadb one. Hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":7579769,"reputation":1256,"user_id":5750787,"accept_rate":100,"display_name":"ArunKumar M N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555391962,"creation_date":1555391962,"answer_id":55701020,"question_id":55689810,"body_markdown":"May be it is the problem with the mysql running your db-server.\r\n\r\nchange the mysql configuration in your db-server \r\n\r\nadd the  bind-address in mysql.cnf under [mysqld] section\r\n\r\n    bind-address=your_spring_application_ip\r\n\r\nalso change the accessing host for the mysql user.\r\nrun the following query in mysql \r\n\r\n    update mysql.user set host=&#39;%&#39; where user=&#39;your_username&#39;;\r\n    flush privileges;\r\nthen restart the mysql service\r\n\r\n    sudo systemctl restart mysql\r\n\r\n","title":"MySQL : EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost","body":"<p>May be it is the problem with the mysql running your db-server.</p>\n\n<p>change the mysql configuration in your db-server </p>\n\n<p>add the  bind-address in mysql.cnf under [mysqld] section</p>\n\n<pre><code>bind-address=your_spring_application_ip\n</code></pre>\n\n<p>also change the accessing host for the mysql user.\nrun the following query in mysql </p>\n\n<pre><code>update mysql.user set host='%' where user='your_username';\nflush privileges;\n</code></pre>\n\n<p>then restart the mysql service</p>\n\n<pre><code>sudo systemctl restart mysql\n</code></pre>\n"}],"owner":{"account_id":3665110,"reputation":55,"user_id":3053778,"display_name":"Subhrajit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636357274,"creation_date":1555333406,"question_id":55689810,"body_markdown":"I have an Spring application with quartz scheduler for batch processing. It was working fine from last 4 years. There is a batch which runs on every 1 minute. But from last few days suddenly when the batch is trying to fetch some data we are getting `org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection`\r\n\r\nThis batch runs throughout the day but some times gives this exception and all other batches fails to connect to MySQL. So we are restarting the application and it is working fine. \r\n\r\nData source config\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;url&quot;&gt;\r\n    \t\t\t&lt;value&gt;${DATABASE_URL}&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot;&gt;\r\n    \t\t\t&lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;username&quot;&gt;\r\n    \t\t\t&lt;value&gt;${DATABASE_USER}&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;password&quot;&gt;\r\n    \t\t\t&lt;value&gt;${DATABASE_PASSWORD}&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nSession factory connection pooling configuration\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    &lt;props&gt;\r\n    &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n    &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n    &lt;prop key=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/prop&gt;\r\n    &lt;!-- Configurations specific to c3p0 connection pooling --&gt;\r\n    \r\n    &lt;prop key=&quot;hibernate.c3p0.acquire_increment&quot;&gt;5&lt;/prop&gt;\r\n    &lt;prop key=&quot;hibernate.c3p0.idle_test_period&quot;&gt;1800&lt;/prop&gt;\r\n    &lt;prop key=&quot;hibernate.c3p0.max_size&quot;&gt;600&lt;/prop&gt;\r\n    &lt;prop key=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/prop&gt;\r\n    &lt;prop key=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/prop&gt;\r\n    &lt;prop key=&quot;hibernate.c3p0.timeout&quot;&gt;1800&lt;/prop&gt;\r\n    &lt;/props&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;annotatedClasses&quot;&gt;\r\n    &lt;list&gt; .... &lt;/list&gt;\r\n    &lt;/property&gt;\r\n    &lt;/bean&gt;","title":"MySQL : EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost","body":"<p>I have an Spring application with quartz scheduler for batch processing. It was working fine from last 4 years. There is a batch which runs on every 1 minute. But from last few days suddenly when the batch is trying to fetch some data we are getting <code>org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection</code></p>\n\n<p>This batch runs throughout the day but some times gives this exception and all other batches fails to connect to MySQL. So we are restarting the application and it is working fine. </p>\n\n<p>Data source config</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"url\"&gt;\n            &lt;value&gt;${DATABASE_URL}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"driverClassName\"&gt;\n            &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"username\"&gt;\n            &lt;value&gt;${DATABASE_USER}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"password\"&gt;\n            &lt;value&gt;${DATABASE_PASSWORD}&lt;/value&gt;\n        &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Session factory connection pooling configuration</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n&lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n&lt;property name=\"hibernateProperties\"&gt;\n&lt;props&gt;\n&lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n&lt;prop key=\"hibernate.show_sql\"&gt;false&lt;/prop&gt;\n&lt;prop key=\"hibernate.enable_lazy_load_no_trans\"&gt;true&lt;/prop&gt;\n&lt;!-- Configurations specific to c3p0 connection pooling --&gt;\n\n&lt;prop key=\"hibernate.c3p0.acquire_increment\"&gt;5&lt;/prop&gt;\n&lt;prop key=\"hibernate.c3p0.idle_test_period\"&gt;1800&lt;/prop&gt;\n&lt;prop key=\"hibernate.c3p0.max_size\"&gt;600&lt;/prop&gt;\n&lt;prop key=\"hibernate.c3p0.max_statements\"&gt;50&lt;/prop&gt;\n&lt;prop key=\"hibernate.c3p0.min_size\"&gt;5&lt;/prop&gt;\n&lt;prop key=\"hibernate.c3p0.timeout\"&gt;1800&lt;/prop&gt;\n&lt;/props&gt;\n&lt;/property&gt;\n&lt;property name=\"annotatedClasses\"&gt;\n&lt;list&gt; .... &lt;/list&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","swing","jframe","imageicon"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1636314858,"post_id":69875280,"comment_id":123518012,"body_markdown":"1) Use `ImageIO` to read the image file. You will get an error message is the image can&#39;t be read. 2) Components must be added to the frame BEFORE the frame is made visible.","body":"1) Use <code>ImageIO</code> to read the image file. You will get an error message is the image can&#39;t be read. 2) Components must be added to the frame BEFORE the frame is made visible."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1636316639,"post_id":69875280,"comment_id":123518438,"body_markdown":"`ImageIcon(String)` will assume that the file is located relative to the &quot;work directory&quot;.  In general, a better solution is to &quot;embedded&quot; the resources so they can be bundled with your jar file and it makes it easier to load in the long run.  Also, like everyone else, use `ImageIO`","body":"<code>ImageIcon(String)</code> will assume that the file is located relative to the &quot;work directory&quot;.  In general, a better solution is to &quot;embedded&quot; the resources so they can be bundled with your jar file and it makes it easier to load in the long run.  Also, like everyone else, use <code>ImageIO</code>"}],"owner":{"account_id":23248935,"reputation":1,"user_id":17337084,"display_name":"ENDERFUN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636357246,"creation_date":1636309001,"question_id":69875280,"body_markdown":"I was testing adding ``ImageIcon`` to ``JLabel``, then ``JLabel`` to ``JFrame``, but it doesn&#39;t work. I mean, the image doesn&#39;t appear. It also doesn&#39;t throw any exception. The code: \r\n```\r\nimport javax.swing.*;\r\n\r\npublic class Tests {\r\n    public static void main(String[] args){\r\n        ImageIcon c = new ImageIcon(&quot;BlackBishop.png&quot;);\r\n\r\n        JLabel b = new JLabel();\r\n        b.setIcon(c);\r\n        b.setSize(400,400);\r\n\r\n        JFrame a = new JFrame();\r\n        a.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        a.setSize(500,500);\r\n        a.setVisible(true);\r\n        a.add(b);\r\n\r\n        System.out.println(b);\r\n    }\r\n} \r\n```\r\nHow can I make image appear?","title":"ImageIcon doesn&#39;t appear in JFrame window","body":"<p>I was testing adding <code>ImageIcon</code> to <code>JLabel</code>, then <code>JLabel</code> to <code>JFrame</code>, but it doesn't work. I mean, the image doesn't appear. It also doesn't throw any exception. The code:</p>\n<pre><code>import javax.swing.*;\n\npublic class Tests {\n    public static void main(String[] args){\n        ImageIcon c = new ImageIcon(&quot;BlackBishop.png&quot;);\n\n        JLabel b = new JLabel();\n        b.setIcon(c);\n        b.setSize(400,400);\n\n        JFrame a = new JFrame();\n        a.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        a.setSize(500,500);\n        a.setVisible(true);\n        a.add(b);\n\n        System.out.println(b);\n    }\n} \n</code></pre>\n<p>How can I make image appear?</p>\n"},{"tags":["java","mysql","spring","hibernate","tomcat"],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450332428,"creation_date":1450332428,"answer_id":34327709,"question_id":34327598,"body_markdown":"Try to add **autoReconnect=true** parameter to the jdbc string to keep it alive when not receiving packets. In your case it would be\r\n\r\n        jdbc:mysql://130.1.18.2:3306/car?autoReconnect=true","title":"Tomcat issue:The last packet successfully received from the server was 66,913,221 milliseconds ago.","body":"<p>Try to add <strong>autoReconnect=true</strong> parameter to the jdbc string to keep it alive when not receiving packets. In your case it would be</p>\n\n<pre><code>    jdbc:mysql://130.1.18.2:3306/car?autoReconnect=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7171907,"reputation":201,"user_id":5479117,"display_name":"craig_wu9"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450341082,"creation_date":1450341082,"answer_id":34329909,"question_id":34327598,"body_markdown":"or if you can, you can change to other database pool. I has the same problem before, and the autoReconnect not work for me. Now I am using HikariCP. this problem gone.","title":"Tomcat issue:The last packet successfully received from the server was 66,913,221 milliseconds ago.","body":"<p>or if you can, you can change to other database pool. I has the same problem before, and the autoReconnect not work for me. Now I am using HikariCP. this problem gone.</p>\n"},{"tags":[],"owner":{"account_id":8238759,"reputation":35,"user_id":6197015,"display_name":"ASHOK MANGHAT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476539573,"creation_date":1476515325,"answer_id":40056143,"question_id":34327598,"body_markdown":"    autoReconnect=true \r\nis not working as per my knowledge, `Mysql` having its own connection closure timeout. `ORM` will mark it as `stale connection` if `Mysql` closes the connection.","title":"Tomcat issue:The last packet successfully received from the server was 66,913,221 milliseconds ago.","body":"<pre><code>autoReconnect=true \n</code></pre>\n\n<p>is not working as per my knowledge, <code>Mysql</code> having its own connection closure timeout. <code>ORM</code> will mark it as <code>stale connection</code> if <code>Mysql</code> closes the connection.</p>\n"}],"owner":{"account_id":7149174,"reputation":369,"user_id":5463891,"accept_rate":57,"display_name":"Alina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6034,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1636357172,"creation_date":1450331920,"question_id":34327598,"body_markdown":"I have installed tomcat on centos and deployed a java web application. I&#39;m using mysql db. Everyday in the morning when I try to login as first user, it gieves me the following error:\r\n\r\n&gt; Your login attempt was not successful, try again.\r\nReason: org.hibernate.exception.JDBCConnectionException: The last packet successfully received from the server was 66,913,221 milliseconds ago. The last packet sent successfully to the server was 66,913,221 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n\r\nAfter this, When I try to relogin, it allows me to do so. \r\n\r\nI have include the following in my context.xml\r\n\r\n    &lt;Resource name=&quot;jdbc/CAR&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\r\n               maxActive=&quot;100&quot; maxIdle=&quot;30&quot; maxWait=&quot;30000&quot;\r\n               username=&quot;root&quot; password=&quot;&quot; driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n               url=&quot;jdbc:mysql://130.1.18.2:3306/car&quot; validationQuery=&quot;SELECT 1&quot; testOnBorrow = true/&gt;\r\n\r\n\r\nAny help on this, I would appreciate. Thanks","title":"Tomcat issue:The last packet successfully received from the server was 66,913,221 milliseconds ago.","body":"<p>I have installed tomcat on centos and deployed a java web application. I'm using mysql db. Everyday in the morning when I try to login as first user, it gieves me the following error:</p>\n\n<blockquote>\n  <p>Your login attempt was not successful, try again.\n  Reason: org.hibernate.exception.JDBCConnectionException: The last packet successfully received from the server was 66,913,221 milliseconds ago. The last packet sent successfully to the server was 66,913,221 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.</p>\n</blockquote>\n\n<p>After this, When I try to relogin, it allows me to do so. </p>\n\n<p>I have include the following in my context.xml</p>\n\n<pre><code>&lt;Resource name=\"jdbc/CAR\" auth=\"Container\" type=\"javax.sql.DataSource\"\n           maxActive=\"100\" maxIdle=\"30\" maxWait=\"30000\"\n           username=\"root\" password=\"\" driverClassName=\"com.mysql.jdbc.Driver\"\n           url=\"jdbc:mysql://130.1.18.2:3306/car\" validationQuery=\"SELECT 1\" testOnBorrow = true/&gt;\n</code></pre>\n\n<p>Any help on this, I would appreciate. Thanks</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1636337917,"post_id":69877981,"comment_id":123521736,"body_markdown":"Not at all, it could be overlapping","body":"Not at all, it could be overlapping"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1636337994,"post_id":69877981,"comment_id":123521747,"body_markdown":"OK, I updated the post.","body":"OK, I updated the post."},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1636338164,"post_id":69877981,"comment_id":123521773,"body_markdown":"whats is the type of events?","body":"whats is the type of events?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636338210,"post_id":69877981,"comment_id":123521780,"body_markdown":"@JawadElFou What do you mean &quot;what is the type&quot;? The `Event` class is its own type, as shown in code in Question.","body":"@JawadElFou What do you mean &quot;what is the type&quot;? The <code>Event</code> class is its own type, as shown in code in Question."},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1636338233,"post_id":69877981,"comment_id":123521785,"body_markdown":"I mean events with an s. Is it an List, a map ...?","body":"I mean events with an s. Is it an List, a map ...?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1636338242,"post_id":69877981,"comment_id":123521786,"body_markdown":"How many range elements are you dealing with?","body":"How many range elements are you dealing with?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636338358,"post_id":69877981,"comment_id":123521806,"body_markdown":"What do you mean by &quot;matching a particular range&quot;? Do you mean the start and end of the event are exactly the same as the start and end of the target range? Or do you mean to look for events  that overlap with at least part of that target range? Or do you mean events that are contained within that range (not exceeding either end of target range)? Your code `e.getStartTime() &lt;= t1 &amp;&amp; e.getEndTime() &gt;= t2` means &quot;find only events that entirely enclose the target range&quot;. Is that really what you want? So events overlapping target range would be excluded.","body":"What do you mean by &quot;matching a particular range&quot;? Do you mean the start and end of the event are exactly the same as the start and end of the target range? Or do you mean to look for events  that overlap with at least part of that target range? Or do you mean events that are contained within that range (not exceeding either end of target range)? Your code <code>e.getStartTime() &lt;= t1 &amp;&amp; e.getEndTime() &gt;= t2</code> means &quot;find only events that entirely enclose the target range&quot;. Is that really what you want? So events overlapping target range would be excluded."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1636338538,"post_id":69877981,"comment_id":123521827,"body_markdown":"Based on some experimentation, you would need to do two binary searches, the first to find the start index (start time) and the second to find the end index (end time).  From this, you could create a `subList`.  However, I&#39;d probably be tempt to just get the first index and the loop over that till I get the last matching item","body":"Based on some experimentation, you would need to do two binary searches, the first to find the start index (start time) and the second to find the end index (end time).  From this, you could create a <code>subList</code>.  However, I&#39;d probably be tempt to just get the first index and the loop over that till I get the last matching item"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1636338584,"post_id":69877981,"comment_id":123521831,"body_markdown":"@BasilBourque It can be a partial match. I updated the post. Therefore, E(100,200) will match `t1=150,t2=250`.","body":"@BasilBourque It can be a partial match. I updated the post. Therefore, E(100,200) will match <code>t1=150,t2=250</code>."},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1636338585,"post_id":69877981,"comment_id":123521832,"body_markdown":"Since they are sorted you can try to find the first occurence of the starttime that meat your condition, then you check the endtime for the subsequent elements.","body":"Since they are sorted you can try to find the first occurence of the starttime that meat your condition, then you check the endtime for the subsequent elements."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636338624,"post_id":69877981,"comment_id":123521839,"body_markdown":"@MadProgrammer The events can overlap in any way. So I don&#39;t see how one could do a binary search for the end-time. But perhaps I&#39;m not thinking straight.","body":"@MadProgrammer The events can overlap in any way. So I don&#39;t see how one could do a binary search for the end-time. But perhaps I&#39;m not thinking straight."},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1636338703,"post_id":69877981,"comment_id":123521848,"body_markdown":"@MadProgrammer it is not guaranteed that the time he is looking for exist in the events thus he can&#39;t use a binary search. ex 0 1 2  4 5 if he needs to find everything that is greater than 3 how a binary search can help?","body":"@MadProgrammer it is not guaranteed that the time he is looking for exist in the events thus he can&#39;t use a binary search. ex 0 1 2  4 5 if he needs to find everything that is greater than 3 how a binary search can help?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636338741,"post_id":69877981,"comment_id":123521853,"body_markdown":"You really need to state very clearly and very specifically your criteria. Your example code seems to contradict your last comment. The criteria determines the correct Answer.  But as written the Question is unclear. I am voting to close for that reason.","body":"You really need to state very clearly and very specifically your criteria. Your example code seems to contradict your last comment. The criteria determines the correct Answer.  But as written the Question is unclear. I am voting to close for that reason."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1636338776,"post_id":69877981,"comment_id":123521859,"body_markdown":"@BasilBourque Yes, I agree, so I&#39;m not looking for an exact match - but personally, just loop over the bloody list and stop over thinking the bloody problem :/","body":"@BasilBourque Yes, I agree, so I&#39;m not looking for an exact match - but personally, just loop over the bloody list and stop over thinking the bloody problem :/"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636338964,"post_id":69877981,"comment_id":123521889,"body_markdown":"@MadProgrammer The problem is that the matching criteria have not been stated clearly. So it might be that an event with an earlier start whose end date is far enough out might count as a match, yet would be ignored if we used a binary search based on start. As I said, I&#39;m voting to close this Question as unclear. We are working much too hard at guessing what the OP really wants.","body":"@MadProgrammer The problem is that the matching criteria have not been stated clearly. So it might be that an event with an earlier start whose end date is far enough out might count as a match, yet would be ignored if we used a binary search based on start. As I said, I&#39;m voting to close this Question as unclear. We are working much too hard at guessing what the OP really wants."},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1636339054,"post_id":69877981,"comment_id":123521901,"body_markdown":"@BasilBourque maybe you are overthinking what OP wants","body":"@BasilBourque maybe you are overthinking what OP wants"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636339139,"post_id":69877981,"comment_id":123521915,"body_markdown":"@JawadElFou We have OP&#39;s comment that contradict&#39;s the logic of the example query code. So, no, I don&#39;t think I&#39;m overthinking it. The OP is underthinking it.","body":"@JawadElFou We have OP&#39;s comment that contradict&#39;s the logic of the example query code. So, no, I don&#39;t think I&#39;m overthinking it. The OP is underthinking it."},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1636339763,"post_id":69877981,"comment_id":123521998,"body_markdown":"Oh I didn&#39;t see that my bad.","body":"Oh I didn&#39;t see that my bad."}],"answers":[{"tags":[],"owner":{"account_id":22637801,"reputation":386,"user_id":16814390,"display_name":"Zinedine Benkhider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636338100,"creation_date":1636338100,"answer_id":69878074,"question_id":69877981,"body_markdown":"You should browse the list and stop when an item is not in range. In terms of complexity, it&#39;s the best you can do.","title":"Binary search on a sorted list of E(startTime,endTime) to find all E&#39;s matched by a given time range (t1,t2)","body":"<p>You should browse the list and stop when an item is not in range. In terms of complexity, it's the best you can do.</p>\n"},{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636338668,"creation_date":1636338668,"answer_id":69878115,"question_id":69877981,"body_markdown":"You need to check for all events that meet `e.startTime &lt;= t1`.\r\n\r\n    record Event(String name, int startTime, int endTime) {}\r\n    List&lt;Event&gt; list = Arrays.asList(\r\n        new Event(&quot;a&quot;, 2, 3), new Event(&quot;b&quot;, 3, 4),\r\n        new Event(&quot;c&quot;, 0, 1), new Event(&quot;d&quot;, 4, 5));\r\n    list.sort(Comparator.comparing(Event::startTime));\r\n    System.out.println(&quot;sorted:   &quot; + list);\r\n    int t1 = 2, t2 = 3;\r\n    List&lt;Event&gt; filtered = list.stream()\r\n        .takeWhile(e -&gt; e.startTime() &lt;= t1)\r\n        .peek(e -&gt; System.out.println(&quot;checked:  &quot; + e))\r\n        .filter(e -&gt; e.endTime() &gt;= t2)\r\n        .toList();\r\n    System.out.println(&quot;filtered: &quot; + filtered);\r\n\r\noutput:\r\n\r\n    sorted:   [Event[name=c, startTime=0, endTime=1], Event[name=a, startTime=2, endTime=3], Event[name=b, startTime=3, endTime=4], Event[name=d, startTime=4, endTime=5]]\r\n    checked:  Event[name=c, startTime=0, endTime=1]\r\n    checked:  Event[name=a, startTime=2, endTime=3]\r\n    filtered: [Event[name=a, startTime=2, endTime=3]]\r\n\r\n","title":"Binary search on a sorted list of E(startTime,endTime) to find all E&#39;s matched by a given time range (t1,t2)","body":"<p>You need to check for all events that meet <code>e.startTime &lt;= t1</code>.</p>\n<pre><code>record Event(String name, int startTime, int endTime) {}\nList&lt;Event&gt; list = Arrays.asList(\n    new Event(&quot;a&quot;, 2, 3), new Event(&quot;b&quot;, 3, 4),\n    new Event(&quot;c&quot;, 0, 1), new Event(&quot;d&quot;, 4, 5));\nlist.sort(Comparator.comparing(Event::startTime));\nSystem.out.println(&quot;sorted:   &quot; + list);\nint t1 = 2, t2 = 3;\nList&lt;Event&gt; filtered = list.stream()\n    .takeWhile(e -&gt; e.startTime() &lt;= t1)\n    .peek(e -&gt; System.out.println(&quot;checked:  &quot; + e))\n    .filter(e -&gt; e.endTime() &gt;= t2)\n    .toList();\nSystem.out.println(&quot;filtered: &quot; + filtered);\n</code></pre>\n<p>output:</p>\n<pre><code>sorted:   [Event[name=c, startTime=0, endTime=1], Event[name=a, startTime=2, endTime=3], Event[name=b, startTime=3, endTime=4], Event[name=d, startTime=4, endTime=5]]\nchecked:  Event[name=c, startTime=0, endTime=1]\nchecked:  Event[name=a, startTime=2, endTime=3]\nfiltered: [Event[name=a, startTime=2, endTime=3]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636352652,"creation_date":1636341251,"answer_id":69878314,"question_id":69877981,"body_markdown":"Binary search will not help you much, because you&#39;re not searching for a single equality-based match, but rather a *range* of results that can be ordered, but not in a way that&#39;s much help to quickly finding matches.\r\n\r\nUnless you&#39;re dealing with a great many range elements (1000&#39;s), a linear (ie O(n)) process would work OK.\r\n\r\nTo speed things up, sort by start date beforehand, so your iteration over the list would be able to exit early when you encounter an element whose start date is after the target.","title":"Binary search on a sorted list of E(startTime,endTime) to find all E&#39;s matched by a given time range (t1,t2)","body":"<p>Binary search will not help you much, because you're not searching for a single equality-based match, but rather a <em>range</em> of results that can be ordered, but not in a way that's much help to quickly finding matches.</p>\n<p>Unless you're dealing with a great many range elements (1000's), a linear (ie O(n)) process would work OK.</p>\n<p>To speed things up, sort by start date beforehand, so your iteration over the list would be able to exit early when you encounter an element whose start date is after the target.</p>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69878314,"answer_count":3,"score":1,"last_activity_date":1636357072,"creation_date":1636336993,"question_id":69877981,"body_markdown":"I have `Event` objects as follows,\r\n\r\n    public class Event {\r\n       String name;\r\n       int startTime; // minutes since midnight, e.g 4:15am = 255\r\n       int endTime;   // minutes since midnight, e.g.6:30am = 390\r\n       // + getters/setters\r\n    }\r\n\r\nThey are sorted by startTime ASC,\r\n\r\n    events.sort(Comparator.comparing(Event::getStartTime));\r\n\r\nEvents can overlap in any way.\r\n\r\nI need to obtain a List of all Events matching (**incl. partially**) a particular range `t1,t2` (also ints for minutes since midnight).\r\n\r\n    List&lt;Event&gt; eventsMatching = findMatching(t1, t2); // e.g. between 200,205\r\n\r\nI don&#39;t want to go through the whole list and check `e.getStartTime() &lt;= t1 &amp;&amp; e.getEndTime() &gt;= t2`. Since the list is sorted, I should be able to use `Collections.binarySearch()` in some way. But normally, a binary search finds the exact object you&#39;re looking for: `int position = Collections.binarySearch(events, key)`. Is there some way to find matching ranges quickly using a binary search?","title":"Binary search on a sorted list of E(startTime,endTime) to find all E&#39;s matched by a given time range (t1,t2)","body":"<p>I have <code>Event</code> objects as follows,</p>\n<pre><code>public class Event {\n   String name;\n   int startTime; // minutes since midnight, e.g 4:15am = 255\n   int endTime;   // minutes since midnight, e.g.6:30am = 390\n   // + getters/setters\n}\n</code></pre>\n<p>They are sorted by startTime ASC,</p>\n<pre><code>events.sort(Comparator.comparing(Event::getStartTime));\n</code></pre>\n<p>Events can overlap in any way.</p>\n<p>I need to obtain a List of all Events matching (<strong>incl. partially</strong>) a particular range <code>t1,t2</code> (also ints for minutes since midnight).</p>\n<pre><code>List&lt;Event&gt; eventsMatching = findMatching(t1, t2); // e.g. between 200,205\n</code></pre>\n<p>I don't want to go through the whole list and check <code>e.getStartTime() &lt;= t1 &amp;&amp; e.getEndTime() &gt;= t2</code>. Since the list is sorted, I should be able to use <code>Collections.binarySearch()</code> in some way. But normally, a binary search finds the exact object you're looking for: <code>int position = Collections.binarySearch(events, key)</code>. Is there some way to find matching ranges quickly using a binary search?</p>\n"},{"tags":["java","mysql","hibernate","tomcat6","c3p0"],"comments":[{"owner":{"account_id":121574,"reputation":11440,"user_id":314763,"accept_rate":77,"display_name":"frictionlesspulley"},"score":1,"creation_date":1318628495,"post_id":7766023,"comment_id":9465988,"body_markdown":"Your problem is exactly the same as in here http://stackoverflow.com/questions/7565143/com-mysql-jdbc-exceptions-jdbc4-mysqlnontransientconnectionexception-no-operati/7621207#7621207","body":"Your problem is exactly the same as in here <a href=\"http://stackoverflow.com/questions/7565143/com-mysql-jdbc-exceptions-jdbc4-mysqlnontransientconnectionexception-no-operati/7621207#7621207\" title=\"com mysql jdbc exceptions jdbc4 mysqlnontransientconnectionexception no operati\">stackoverflow.com/questions/7565143/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1318587300,"creation_date":1318586549,"answer_id":7766049,"question_id":7766023,"body_markdown":"You need to configure hibernate to execute dummy query so that your connection stays alive . \r\n\r\n\r\n    &lt;!--connection pool--&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.maxActive&quot;&gt;10&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.whenExhaustedAction&quot;&gt;1&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.maxWait&quot;&gt;20000&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.maxIdle&quot;&gt;10&lt;/property&gt; \r\n    \r\n    &lt;!-- prepared statement cache--&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.ps.maxActive&quot;&gt;10&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.ps.whenExhaustedAction&quot;&gt;1&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.ps.maxWait&quot;&gt;20000&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.ps.maxIdle&quot;&gt;10&lt;/property&gt; \r\n    \r\n    &lt;!-- optional query to validate pooled connections:--&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.validationQuery&quot;&gt;select 1&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.testOnBorrow&quot;&gt;true&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.dbcp.testOnReturn&quot;&gt;true&lt;/property&gt; ","title":"Hibernate failed to execute query afte 1 day","body":"<p>You need to configure hibernate to execute dummy query so that your connection stays alive . </p>\n\n<pre><code>&lt;!--connection pool--&gt; \n&lt;property name=\"hibernate.dbcp.maxActive\"&gt;10&lt;/property&gt; \n&lt;property name=\"hibernate.dbcp.whenExhaustedAction\"&gt;1&lt;/property&gt; \n&lt;property name=\"hibernate.dbcp.maxWait\"&gt;20000&lt;/property&gt; \n&lt;property name=\"hibernate.dbcp.maxIdle\"&gt;10&lt;/property&gt; \n\n&lt;!-- prepared statement cache--&gt; \n&lt;property name=\"hibernate.dbcp.ps.maxActive\"&gt;10&lt;/property&gt; \n&lt;property name=\"hibernate.dbcp.ps.whenExhaustedAction\"&gt;1&lt;/property&gt; \n&lt;property name=\"hibernate.dbcp.ps.maxWait\"&gt;20000&lt;/property&gt; \n&lt;property name=\"hibernate.dbcp.ps.maxIdle\"&gt;10&lt;/property&gt; \n\n&lt;!-- optional query to validate pooled connections:--&gt; \n&lt;property name=\"hibernate.dbcp.validationQuery\"&gt;select 1&lt;/property&gt; \n&lt;property name=\"hibernate.dbcp.testOnBorrow\"&gt;true&lt;/property&gt; \n&lt;property name=\"hibernate.dbcp.testOnReturn\"&gt;true&lt;/property&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636356997,"creation_date":1636356997,"answer_id":69879974,"question_id":7766023,"body_markdown":"If You use c3p0 connection pool set `testConnectionOnCheckout=true` and `idle_test_period=30` it means that connection will be checked in background in every 30 sec.  \r\n\r\n            &lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;org.hibernate.connection.C3P0ConnectionProvider&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;30&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.acquire_increment&quot; value=&quot;5&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;60&quot;/&gt;\r\n\r\n            &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;30&quot; /&gt; &lt;!-- seconds --&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.testConnectionOnCheckout&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.preferredTestQuery&quot; value=&quot;SELECT 1&quot; /&gt;\r\n\r\n\r\n**preferredTestQuery** values : \r\n\r\n    With MySQL: SELECT 1\r\n    With Oracle: SELECT 1 FROM DUAL\r\n    With Ms SQL Server: SELECT 1\r\n\r\nTo test your configuration et Your **logger** to debug : \r\n\r\n    &lt;logger name=&quot;com.mchange.v2.c3p0.impl&quot;&gt;\r\n        &lt;level value=&quot;DEBUG&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    \r\n    &lt;logger name=&quot;com.mchange&quot;&gt;\r\n        &lt;level value=&quot;DEBUG&quot;/&gt;\r\n    &lt;/logger&gt;","title":"Hibernate failed to execute query afte 1 day","body":"<p>If You use c3p0 connection pool set <code>testConnectionOnCheckout=true</code> and <code>idle_test_period=30</code> it means that connection will be checked in background in every 30 sec.</p>\n<pre><code>        &lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;org.hibernate.connection.C3P0ConnectionProvider&quot;/&gt;\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot;/&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;30&quot;/&gt;\n        &lt;property name=&quot;hibernate.c3p0.acquire_increment&quot; value=&quot;5&quot;/&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;60&quot;/&gt;\n\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;30&quot; /&gt; &lt;!-- seconds --&gt;\n        &lt;property name=&quot;hibernate.c3p0.testConnectionOnCheckout&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;hibernate.c3p0.preferredTestQuery&quot; value=&quot;SELECT 1&quot; /&gt;\n</code></pre>\n<p><strong>preferredTestQuery</strong> values :</p>\n<pre><code>With MySQL: SELECT 1\nWith Oracle: SELECT 1 FROM DUAL\nWith Ms SQL Server: SELECT 1\n</code></pre>\n<p>To test your configuration et Your <strong>logger</strong> to debug :</p>\n<pre><code>&lt;logger name=&quot;com.mchange.v2.c3p0.impl&quot;&gt;\n    &lt;level value=&quot;DEBUG&quot;/&gt;\n&lt;/logger&gt;\n\n&lt;logger name=&quot;com.mchange&quot;&gt;\n    &lt;level value=&quot;DEBUG&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n"}],"owner":{"account_id":543402,"reputation":61,"user_id":912521,"display_name":"Pankaj Rastogi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8302,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1636356997,"creation_date":1318586426,"question_id":7766023,"body_markdown":"I am getting following error in my web application after one day. I have dont lot of search on it for couldn&#39;t fix this problem yet. Can anybody help me out?\r\n\r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was59461 milliseconds ago.The last packet sent successfully to the server was 59461 milliseconds ago, which  is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\r\n    \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1074)\r\n    \tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3270)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1932)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2101)\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2554)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1761)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1912)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:186)\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:1778)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:662)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:224)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2211)\r\n    \t... 26 more\r\n    Caused by: java.net.SocketException: Broken pipe\r\n    \tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)\r\n    \tat java.net.SocketOutputStream.write(SocketOutputStream.java:136)\r\n    \tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\r\n    \tat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\r\n    \tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3251)\r\n    \t... 36 more\r\n\r\n","title":"Hibernate failed to execute query afte 1 day","body":"<p>I am getting following error in my web application after one day. I have dont lot of search on it for couldn't fix this problem yet. Can anybody help me out?</p>\n\n<pre><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was59461 milliseconds ago.The last packet sent successfully to the server was 59461 milliseconds ago, which  is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1074)\n    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3270)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1932)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2101)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2554)\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1761)\n    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1912)\n    at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:186)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:1778)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:662)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:224)\n    at org.hibernate.loader.Loader.doList(Loader.java:2211)\n    ... 26 more\nCaused by: java.net.SocketException: Broken pipe\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:136)\n    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\n    at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\n    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3251)\n    ... 36 more\n</code></pre>\n"},{"tags":["java","ssh","apache-commons-net","ftps"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1387444204,"creation_date":1387444204,"answer_id":20677422,"question_id":20677268,"body_markdown":"SFTP (file transfer running as an SSH stream over an SSH connection) is not the same as FTPS (FTP using SSL/TLS).","title":"commons-net is compatible with ssh-2.0 protocol","body":"<p>SFTP (file transfer running as an SSH stream over an SSH connection) is not the same as FTPS (FTP using SSL/TLS).</p>\n"},{"tags":[],"owner":{"account_id":1308955,"reputation":4959,"user_id":1257372,"display_name":"Nick Wilson"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1387444437,"creation_date":1387444437,"answer_id":20677498,"question_id":20677268,"body_markdown":"The [FTPS][1] protocol does not run over SSH. What you need is [SFTP][2]. For this you could look at the [Jsch][3] library\r\n\r\n    \tJSch jsch = new JSch();\r\n        Session session = jsch.getSession( user, host, port );\r\n        session.setConfig( &quot;PreferredAuthentications&quot;, &quot;password&quot; );\r\n        session.setPassword( pass );\r\n        session.connect( FTP_TIMEOUT );\r\n        Channel channel = session.openChannel( &quot;sftp&quot; );\r\n        ChannelSftp sftp = ( ChannelSftp ) channel;\r\n        sftp.connect( FTP_TIMEOUT );\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/FTPS\r\n  [2]: http://en.wikipedia.org/wiki/SSH_File_Transfer_Protocol\r\n  [3]: http://www.jcraft.com/jsch/","title":"commons-net is compatible with ssh-2.0 protocol","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/FTPS\">FTPS</a> protocol does not run over SSH. What you need is <a href=\"http://en.wikipedia.org/wiki/SSH_File_Transfer_Protocol\">SFTP</a>. For this you could look at the <a href=\"http://www.jcraft.com/jsch/\">Jsch</a> library</p>\n\n<pre><code>    JSch jsch = new JSch();\n    Session session = jsch.getSession( user, host, port );\n    session.setConfig( \"PreferredAuthentications\", \"password\" );\n    session.setPassword( pass );\n    session.connect( FTP_TIMEOUT );\n    Channel channel = session.openChannel( \"sftp\" );\n    ChannelSftp sftp = ( ChannelSftp ) channel;\n    sftp.connect( FTP_TIMEOUT );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13447825,"reputation":23,"user_id":9703322,"display_name":"Bharat Dhal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528982273,"creation_date":1528981929,"answer_id":50858411,"question_id":20677268,"body_markdown":"    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Session;\r\n    public class FTPConnectAndLoginDemo {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        String user = &quot;username&quot;;\r\n        String host = &quot;hostadress&quot;;\r\n        int port = 22;\r\n        String pass = &quot;password&quot;;\r\n        JSch jsch = new JSch();\r\n        Session session = jsch.getSession(user, host, port);\r\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        session.setPassword(pass);\r\n        session.connect();\r\n        System.out.println(&quot;Connection established.&quot;);\r\n        System.out.println(&quot;Creating SFTP Channel.&quot;);\r\n    }\r\ntry this instead hope this can help.The Session.setConfig ommits the hashcode check and allows user to connect to host.","title":"commons-net is compatible with ssh-2.0 protocol","body":"<pre><code>import com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\npublic class FTPConnectAndLoginDemo {\n\npublic static void main(String[] args) throws Exception {\n\n    String user = \"username\";\n    String host = \"hostadress\";\n    int port = 22;\n    String pass = \"password\";\n    JSch jsch = new JSch();\n    Session session = jsch.getSession(user, host, port);\n    session.setConfig(\"StrictHostKeyChecking\", \"no\");\n    session.setPassword(pass);\n    session.connect();\n    System.out.println(\"Connection established.\");\n    System.out.println(\"Creating SFTP Channel.\");\n}\n</code></pre>\n\n<p>try this instead hope this can help.The Session.setConfig ommits the hashcode check and allows user to connect to host.</p>\n"},{"tags":[],"owner":{"account_id":5033953,"reputation":9,"user_id":4043364,"display_name":"Shabbir Cosmetic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636356673,"creation_date":1636356673,"answer_id":69879930,"question_id":20677268,"body_markdown":"Change the port to 21 to connect to FTP server instead of SFTP(port 22)","title":"commons-net is compatible with ssh-2.0 protocol","body":"<p>Change the port to 21 to connect to FTP server instead of SFTP(port 22)</p>\n"}],"owner":{"account_id":1628100,"reputation":482,"user_id":1503161,"accept_rate":85,"display_name":"Nopesound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27542,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":20677498,"answer_count":4,"score":9,"last_activity_date":1636356673,"creation_date":1387443733,"question_id":20677268,"body_markdown":"i have tried create a project with library commons.net for send via ftp some files. But i  created a connection with my server i have received this error. \r\n\r\n    org.apache.commons.net.MalformedServerReplyException: Could not parse response code.\r\n    Server Reply: SSH-2.0-OpenSSH_5.3\r\n\r\ni have followed this [article][1] for create my connection, and with [official examples][2] i&#39;ve controlled article.\r\n\r\nmy java code here:\r\n\r\n \r\n\r\n      private void connect(String host, String user, String pwd) {\r\n        \ttry{\r\n            ftp = new FTPSClient(false);\r\n            //ftp.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\r\n            int reply;\r\n           \r\n            ftp.connect(host,22);//error is here\r\n            reply = ftp.getReplyCode();\r\n            if (!FTPReply.isPositiveCompletion(reply)) {\r\n                ftp.disconnect();\r\n                throw new Exception(&quot;Exception in connecting to FTP Server&quot;);\r\n            }\r\n            ftp.login(user, pwd);\r\n            ftp.setFileType(FTP.BINARY_FILE_TYPE);\r\n            ftp.enterLocalPassiveMode();\r\n        \t}catch(Exception ex){\r\n        \t\tex.printStackTrace();\r\n        \t}\r\n        }\r\n\r\nI do not understand where I went wrong.\r\n\r\n\r\n  [1]: http://www.journaldev.com/974/java-ftp-download-example-using-apache-commons-net-api\r\n  [2]: http://commons.apache.org/proper/commons-net/examples/ftp/FTPClientExample.java","title":"commons-net is compatible with ssh-2.0 protocol","body":"<p>i have tried create a project with library commons.net for send via ftp some files. But i  created a connection with my server i have received this error. </p>\n\n<pre><code>org.apache.commons.net.MalformedServerReplyException: Could not parse response code.\nServer Reply: SSH-2.0-OpenSSH_5.3\n</code></pre>\n\n<p>i have followed this <a href=\"http://www.journaldev.com/974/java-ftp-download-example-using-apache-commons-net-api\" rel=\"noreferrer\">article</a> for create my connection, and with <a href=\"http://commons.apache.org/proper/commons-net/examples/ftp/FTPClientExample.java\" rel=\"noreferrer\">official examples</a> i've controlled article.</p>\n\n<p>my java code here:</p>\n\n<pre><code>  private void connect(String host, String user, String pwd) {\n        try{\n        ftp = new FTPSClient(false);\n        //ftp.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\n        int reply;\n\n        ftp.connect(host,22);//error is here\n        reply = ftp.getReplyCode();\n        if (!FTPReply.isPositiveCompletion(reply)) {\n            ftp.disconnect();\n            throw new Exception(\"Exception in connecting to FTP Server\");\n        }\n        ftp.login(user, pwd);\n        ftp.setFileType(FTP.BINARY_FILE_TYPE);\n        ftp.enterLocalPassiveMode();\n        }catch(Exception ex){\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>I do not understand where I went wrong.</p>\n"},{"tags":["java","sql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1635838356,"post_id":69805517,"comment_id":123392514,"body_markdown":"What have you tried [from here](https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/)? Why didn&#39;t it work?","body":"What have you tried <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/\" rel=\"nofollow noreferrer\">from here</a>? Why didn&#39;t it work?"},{"owner":{"account_id":3771755,"reputation":2251,"user_id":3133727,"display_name":"moovon"},"score":0,"creation_date":1636301920,"post_id":69805517,"comment_id":123514815,"body_markdown":"@LukasEder \n\nI have tried this \n\n\n```\n            &lt;forcedTypes&gt;\n                &lt;forcedType&gt;\n                    &lt;userType&gt;java.math.BigDecimal&lt;/userType&gt;\n                    &lt;converter&gt;xyz.myclass.BigIntToBigDecConverter&lt;/converter&gt;\n                    &lt;types&gt;BigInteger\\.*&lt;/types&gt;\n                    &lt;includeExpression&gt;*&lt;/includeExpression&gt;\n                &lt;/forcedType&gt;\n            &lt;/forcedTypes&gt;\n```\n\nlogs are not showing any concrete errors.","body":"@LukasEder   I have tried this    ```             &lt;forcedTypes&gt;                 &lt;forcedType&gt;                     &lt;userType&gt;java.math.BigDecimal&lt;/userType&gt;                     &lt;converter&gt;xyz.myclass.BigIntToBigDecConverter&lt;/converter&gt;                     &lt;types&gt;BigInteger\\.*&lt;/types&gt;                     &lt;includeExpression&gt;*&lt;/includeExpression&gt;                 &lt;/forcedType&gt;             &lt;/forcedTypes&gt; ```  logs are not showing any concrete errors."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1636356070,"post_id":69805517,"comment_id":123524696,"body_markdown":"You can edit your question, to add more details...","body":"You can edit your question, to add more details..."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636356397,"creation_date":1636356397,"answer_id":69879892,"question_id":69805517,"body_markdown":"The reason why your columns are generated as `BigInteger` is because they&#39;re of type `NUMERIC(n, 0)`, `NUMBER(n, 0)`, or `DECIMAL(n, 0)` depending on the dialect you&#39;re using, but the key here is that the scale is `0`, and `n` is large enough that it doesn&#39;t fit in a `Long` anymore.\r\n\r\nThe reason why your `&lt;forcedType/&gt;` configuration hasn&#39;t worked is because the type you&#39;ve listed in `&lt;types/&gt;` is the Java type `BigInteger`, not the `SQLDataType`, [see documentation here][1]. In order to rewrite all zero scale decimals to produce `BigDecimal`, just write this:\r\n\r\n```xml\r\n&lt;forcedType&gt;\r\n  &lt;name&gt;NUMERIC&lt;/name&gt;\r\n  &lt;inputTypes&gt;(?i:(NUMERIC|NUMBER|DECIMAL)\\(\\d+,0\\))&lt;/inputTypes&gt;\r\n&lt;/forcedType&gt;\r\n```\r\n\r\nYou won&#39;t need a custome converter for that\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/","title":"JOOQ Forced types to convert a BigInteger to BigDecimal for POSTGRES","body":"<p>The reason why your columns are generated as <code>BigInteger</code> is because they're of type <code>NUMERIC(n, 0)</code>, <code>NUMBER(n, 0)</code>, or <code>DECIMAL(n, 0)</code> depending on the dialect you're using, but the key here is that the scale is <code>0</code>, and <code>n</code> is large enough that it doesn't fit in a <code>Long</code> anymore.</p>\n<p>The reason why your <code>&lt;forcedType/&gt;</code> configuration hasn't worked is because the type you've listed in <code>&lt;types/&gt;</code> is the Java type <code>BigInteger</code>, not the <code>SQLDataType</code>, <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/\" rel=\"nofollow noreferrer\">see documentation here</a>. In order to rewrite all zero scale decimals to produce <code>BigDecimal</code>, just write this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;forcedType&gt;\n  &lt;name&gt;NUMERIC&lt;/name&gt;\n  &lt;inputTypes&gt;(?i:(NUMERIC|NUMBER|DECIMAL)\\(\\d+,0\\))&lt;/inputTypes&gt;\n&lt;/forcedType&gt;\n</code></pre>\n<p>You won't need a custome converter for that</p>\n"}],"owner":{"account_id":3771755,"reputation":2251,"user_id":3133727,"display_name":"moovon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69879892,"answer_count":1,"score":2,"last_activity_date":1636356547,"creation_date":1635828600,"question_id":69805517,"body_markdown":"for a Table , lets say myTable, I have a column myColumn..\r\n\r\nthe default JOOQ generation creates myColumn as BigInteger,\r\n\r\nI want to create it as BigDecimal.\r\n\r\nThis is the converter I am using.\r\n\r\n```\r\npublic class myConverter extends AbstractConverter&lt;BigInteger, BigDecimal&gt; {\r\n\r\n    public BigIntToBigDecConverter(Class&lt;BigInteger&gt; fromType, Class&lt;BigDecimal&gt; toType) {\r\n\r\n        super(fromType, toType);\r\n    }\r\n\r\n    @Override\r\n    public BigDecimal from(BigInteger databaseObject) {\r\n        return new BigDecimal(databaseObject);\r\n    }\r\n\r\n    @Override\r\n    public BigInteger to(BigDecimal userObject) {\r\n        return new BigInteger(String.valueOf(userObject.intValue()));\r\n    }\r\n}\r\n```\r\n\r\n\r\nHow should be the forceType configuration look like in the XML file?","title":"JOOQ Forced types to convert a BigInteger to BigDecimal for POSTGRES","body":"<p>for a Table , lets say myTable, I have a column myColumn..</p>\n<p>the default JOOQ generation creates myColumn as BigInteger,</p>\n<p>I want to create it as BigDecimal.</p>\n<p>This is the converter I am using.</p>\n<pre><code>public class myConverter extends AbstractConverter&lt;BigInteger, BigDecimal&gt; {\n\n    public BigIntToBigDecConverter(Class&lt;BigInteger&gt; fromType, Class&lt;BigDecimal&gt; toType) {\n\n        super(fromType, toType);\n    }\n\n    @Override\n    public BigDecimal from(BigInteger databaseObject) {\n        return new BigDecimal(databaseObject);\n    }\n\n    @Override\n    public BigInteger to(BigDecimal userObject) {\n        return new BigInteger(String.valueOf(userObject.intValue()));\n    }\n}\n</code></pre>\n<p>How should be the forceType configuration look like in the XML file?</p>\n"},{"tags":["java","jmeter","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635858126,"creation_date":1635858126,"answer_id":69810945,"question_id":69810392,"body_markdown":"I don&#39;t think response time peaks are connected with garbage collection, throughput might drop due to the pause while JVM is doing full GC but response times shouldn&#39;t change. \r\n\r\nTry monitoring JMeter&#39;s GC activity using [JConsole][1], [JVisualVM][2] or [JMeter PerfMon Plugin][3] and pay attention to other metrics like CPU, RAM, Swap usage, etc. and correlate the response time peaks with what&#39;s going on with JMeter load generator(s)\r\n\r\nIf you won&#39;t see anything suspicious - repeat the exercise at the system under test side. \r\n\r\nAlso make sure that you&#39;re following [JMeter Best Practices][4] and try out running JMeter in [distributed mode][5]  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html\r\n  [2]: https://visualvm.github.io/\r\n  [3]: https://www.blazemeter.com/blog/how-monitor-your-server-health-performance-during-jmeter-load-test\r\n  [4]: https://jmeter.apache.org/usermanual/best-practices.html\r\n  [5]: https://jmeter.apache.org/usermanual/remote-test.html","title":"JMeter garbage collection affecting the throughput timing","body":"<p>I don't think response time peaks are connected with garbage collection, throughput might drop due to the pause while JVM is doing full GC but response times shouldn't change.</p>\n<p>Try monitoring JMeter's GC activity using <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html\" rel=\"nofollow noreferrer\">JConsole</a>, <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">JVisualVM</a> or <a href=\"https://www.blazemeter.com/blog/how-monitor-your-server-health-performance-during-jmeter-load-test\" rel=\"nofollow noreferrer\">JMeter PerfMon Plugin</a> and pay attention to other metrics like CPU, RAM, Swap usage, etc. and correlate the response time peaks with what's going on with JMeter load generator(s)</p>\n<p>If you won't see anything suspicious - repeat the exercise at the system under test side.</p>\n<p>Also make sure that you're following <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a> and try out running JMeter in <a href=\"https://jmeter.apache.org/usermanual/remote-test.html\" rel=\"nofollow noreferrer\">distributed mode</a></p>\n"}],"owner":{"account_id":23068451,"reputation":1,"user_id":17182602,"display_name":"Rajasirpi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636355881,"creation_date":1635855822,"question_id":69810392,"body_markdown":"I am currently trying to understand how JMeter&#39;s Garbage collection affects the response time.\r\nAccording to my reference, I found that the time spent in GC will be added to the overall elapsed time. In my case, I have to either reduce or remove the time taken for GC. More preferably shorter GC pauses. while looking out for my issue. I have seen this article https://howtojboss.wordpress.com/2012/07/31/concurrent-high-throughput-performance-testing-with-jmeter/\r\nWhere they said the solution is to use Concurrent Mark Sweep (CMS) collector.\r\n```\r\nGC=&quot;-XX:+UseConcMarkSweepGC&quot;\r\n\r\n```\r\nBut that is not working for my case. I am getting the same elapsed time after using all the types of garbage collectors like serial, parallel, G1GC, ZGC, and Shenandoah GC. I have tried these modifications in the JMeter file on the line\r\n```\r\nset GC_ALGO = -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:G1 ReservePercent=20\r\n```\r\n\r\nBut whatever the type of GC I use, I am getting the peak at the same time in my graph. For example, if I am testing with 50k records, in getting the peak at 3/4 (near 33k), similarly for 5k records getting the peak exactly near 3.3k. Have attached the sample graph here: [please look at the example Graph][1]. Please let me know if there are any other ways.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3nIcd.png\r\nI am using JMeter version 5.4.1 and my system heap size is \r\n```\r\nHeap = -Xms8g -Xmx12g -XX:MaxMetaspaceSize=4g\r\n```\r\nIf the time peaks in the graph are not due to garbage collection activity. Then what may be the reasons for those time peaks at the particular interval? Please let me know if there are any other reasons for those time peaks. ","title":"JMeter garbage collection affecting the throughput timing","body":"<p>I am currently trying to understand how JMeter's Garbage collection affects the response time.\nAccording to my reference, I found that the time spent in GC will be added to the overall elapsed time. In my case, I have to either reduce or remove the time taken for GC. More preferably shorter GC pauses. while looking out for my issue. I have seen this article <a href=\"https://howtojboss.wordpress.com/2012/07/31/concurrent-high-throughput-performance-testing-with-jmeter/\" rel=\"nofollow noreferrer\">https://howtojboss.wordpress.com/2012/07/31/concurrent-high-throughput-performance-testing-with-jmeter/</a>\nWhere they said the solution is to use Concurrent Mark Sweep (CMS) collector.</p>\n<pre><code>GC=&quot;-XX:+UseConcMarkSweepGC&quot;\n\n</code></pre>\n<p>But that is not working for my case. I am getting the same elapsed time after using all the types of garbage collectors like serial, parallel, G1GC, ZGC, and Shenandoah GC. I have tried these modifications in the JMeter file on the line</p>\n<pre><code>set GC_ALGO = -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:G1 ReservePercent=20\n</code></pre>\n<p>But whatever the type of GC I use, I am getting the peak at the same time in my graph. For example, if I am testing with 50k records, in getting the peak at 3/4 (near 33k), similarly for 5k records getting the peak exactly near 3.3k. Have attached the sample graph here: <a href=\"https://i.stack.imgur.com/3nIcd.png\" rel=\"nofollow noreferrer\">please look at the example Graph</a>. Please let me know if there are any other ways.</p>\n<p>I am using JMeter version 5.4.1 and my system heap size is</p>\n<pre><code>Heap = -Xms8g -Xmx12g -XX:MaxMetaspaceSize=4g\n</code></pre>\n<p>If the time peaks in the graph are not due to garbage collection activity. Then what may be the reasons for those time peaks at the particular interval? Please let me know if there are any other reasons for those time peaks.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8120,"page":1872,"page_size":100}
